var Rie=Object.defineProperty;var Oie=(t,e,s)=>e in t?Rie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var hr=(t,e,s)=>Oie(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var u2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SC={exports:{}},dy={},CC={exports:{}},Ns={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T8;function Uie(){if(T8)return Ns;T8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function m(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function g(q,Z,F){this.props=q,this.context=Z,this.refs=A,this.updater=F||f}g.prototype.isReactComponent={},g.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},g.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function b(){}b.prototype=g.prototype;function w(q,Z,F){this.props=q,this.context=Z,this.refs=A,this.updater=F||f}var v=w.prototype=new b;v.constructor=w,x(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(q,Z,F){var z,V={},W=null,ne=null;if(Z!=null)for(z in Z.ref!==void 0&&(ne=Z.ref),Z.key!==void 0&&(W=""+Z.key),Z)N.call(Z,z)&&!T.hasOwnProperty(z)&&(V[z]=Z[z]);var ie=arguments.length-2;if(ie===1)V.children=F;else if(1<ie){for(var be=Array(ie),ue=0;ue<ie;ue++)be[ue]=arguments[ue+2];V.children=be}if(q&&q.defaultProps)for(z in ie=q.defaultProps,ie)V[z]===void 0&&(V[z]=ie[z]);return{$$typeof:t,type:q,key:W,ref:ne,props:V,_owner:S.current}}function _(q,Z){return{$$typeof:t,type:q.type,key:Z,ref:q.ref,props:q.props,_owner:q._owner}}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function C(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(F){return Z[F]})}var B=/\/+/g;function P(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?C(""+q.key):Z.toString(36)}function H(q,Z,F,z,V){var W=typeof q;(W==="undefined"||W==="boolean")&&(q=null);var ne=!1;if(q===null)ne=!0;else switch(W){case"string":case"number":ne=!0;break;case"object":switch(q.$$typeof){case t:case e:ne=!0}}if(ne)return ne=q,V=V(ne),q=z===""?"."+P(ne,0):z,j(V)?(F="",q!=null&&(F=q.replace(B,"$&/")+"/"),H(V,Z,F,"",function(ue){return ue})):V!=null&&(M(V)&&(V=_(V,F+(!V.key||ne&&ne.key===V.key?"":(""+V.key).replace(B,"$&/")+"/")+q)),Z.push(V)),1;if(ne=0,z=z===""?".":z+":",j(q))for(var ie=0;ie<q.length;ie++){W=q[ie];var be=z+P(W,ie);ne+=H(W,Z,F,be,V)}else if(be=m(q),typeof be=="function")for(q=be.call(q),ie=0;!(W=q.next()).done;)W=W.value,be=z+P(W,ie++),ne+=H(W,Z,F,be,V);else if(W==="object")throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ne}function D(q,Z,F){if(q==null)return q;var z=[],V=0;return H(q,z,"","",function(W){return Z.call(F,W,V++)}),z}function G(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(F){(q._status===0||q._status===-1)&&(q._status=1,q._result=F)},function(F){(q._status===0||q._status===-1)&&(q._status=2,q._result=F)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var O={current:null},Q={transition:null},ee={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:Q,ReactCurrentOwner:S};return Ns.Children={map:D,forEach:function(q,Z,F){D(q,function(){Z.apply(this,arguments)},F)},count:function(q){var Z=0;return D(q,function(){Z++}),Z},toArray:function(q){return D(q,function(Z){return Z})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ns.Component=g,Ns.Fragment=s,Ns.Profiler=a,Ns.PureComponent=w,Ns.StrictMode=n,Ns.Suspense=c,Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ns.cloneElement=function(q,Z,F){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var z=x({},q.props),V=q.key,W=q.ref,ne=q._owner;if(Z!=null){if(Z.ref!==void 0&&(W=Z.ref,ne=S.current),Z.key!==void 0&&(V=""+Z.key),q.type&&q.type.defaultProps)var ie=q.type.defaultProps;for(be in Z)N.call(Z,be)&&!T.hasOwnProperty(be)&&(z[be]=Z[be]===void 0&&ie!==void 0?ie[be]:Z[be])}var be=arguments.length-2;if(be===1)z.children=F;else if(1<be){ie=Array(be);for(var ue=0;ue<be;ue++)ie[ue]=arguments[ue+2];z.children=ie}return{$$typeof:t,type:q.type,key:V,ref:W,props:z,_owner:ne}},Ns.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},Ns.createElement=I,Ns.createFactory=function(q){var Z=I.bind(null,q);return Z.type=q,Z},Ns.createRef=function(){return{current:null}},Ns.forwardRef=function(q){return{$$typeof:l,render:q}},Ns.isValidElement=M,Ns.lazy=function(q){return{$$typeof:u,_payload:{_status:-1,_result:q},_init:G}},Ns.memo=function(q,Z){return{$$typeof:d,type:q,compare:Z===void 0?null:Z}},Ns.startTransition=function(q){var Z=Q.transition;Q.transition={};try{q()}finally{Q.transition=Z}},Ns.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ns.useCallback=function(q,Z){return O.current.useCallback(q,Z)},Ns.useContext=function(q){return O.current.useContext(q)},Ns.useDebugValue=function(){},Ns.useDeferredValue=function(q){return O.current.useDeferredValue(q)},Ns.useEffect=function(q,Z){return O.current.useEffect(q,Z)},Ns.useId=function(){return O.current.useId()},Ns.useImperativeHandle=function(q,Z,F){return O.current.useImperativeHandle(q,Z,F)},Ns.useInsertionEffect=function(q,Z){return O.current.useInsertionEffect(q,Z)},Ns.useLayoutEffect=function(q,Z){return O.current.useLayoutEffect(q,Z)},Ns.useMemo=function(q,Z){return O.current.useMemo(q,Z)},Ns.useReducer=function(q,Z,F){return O.current.useReducer(q,Z,F)},Ns.useRef=function(q){return O.current.useRef(q)},Ns.useState=function(q){return O.current.useState(q)},Ns.useSyncExternalStore=function(q,Z,F){return O.current.useSyncExternalStore(q,Z,F)},Ns.useTransition=function(){return O.current.useTransition()},Ns.version="18.2.0",Ns}var B8;function jP(){return B8||(B8=1,CC.exports=Uie()),CC.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M8;function Hie(){if(M8)return dy;M8=1;var t=jP(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},m=null,f=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(f=c.ref);for(u in c)n.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:m,ref:f,props:h,_owner:a.current}}return dy.Fragment=s,dy.jsx=o,dy.jsxs=o,dy}var F8;function Qie(){return F8||(F8=1,SC.exports=Hie()),SC.exports}var r=Qie(),h2={},_C={exports:{}},Nl={},EC={exports:{}},kC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P8;function $ie(){return P8||(P8=1,(function(t){function e(Q,ee){var q=Q.length;Q.push(ee);e:for(;0<q;){var Z=q-1>>>1,F=Q[Z];if(0<a(F,ee))Q[Z]=ee,Q[q]=F,q=Z;else break e}}function s(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ee=Q[0],q=Q.pop();if(q!==ee){Q[0]=q;e:for(var Z=0,F=Q.length,z=F>>>1;Z<z;){var V=2*(Z+1)-1,W=Q[V],ne=V+1,ie=Q[ne];if(0>a(W,q))ne<F&&0>a(ie,W)?(Q[Z]=ie,Q[ne]=q,Z=ne):(Q[Z]=W,Q[V]=q,Z=V);else if(ne<F&&0>a(ie,q))Q[Z]=ie,Q[ne]=q,Z=ne;else break e}}return ee}function a(Q,ee){var q=Q.sortIndex-ee.sortIndex;return q!==0?q:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,x=!1,A=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(Q){for(var ee=s(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=Q)n(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=s(d)}}function j(Q){if(A=!1,v(Q),!x)if(s(c)!==null)x=!0,G(N);else{var ee=s(d);ee!==null&&O(j,ee.startTime-Q)}}function N(Q,ee){x=!1,A&&(A=!1,b(I),I=-1),f=!0;var q=m;try{for(v(ee),h=s(c);h!==null&&(!(h.expirationTime>ee)||Q&&!C());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var F=Z(h.expirationTime<=ee);ee=t.unstable_now(),typeof F=="function"?h.callback=F:h===s(c)&&n(c),v(ee)}else n(c);h=s(c)}if(h!==null)var z=!0;else{var V=s(d);V!==null&&O(j,V.startTime-ee),z=!1}return z}finally{h=null,m=q,f=!1}}var S=!1,T=null,I=-1,_=5,M=-1;function C(){return!(t.unstable_now()-M<_)}function B(){if(T!==null){var Q=t.unstable_now();M=Q;var ee=!0;try{ee=T(!0,Q)}finally{ee?P():(S=!1,T=null)}}else S=!1}var P;if(typeof w=="function")P=function(){w(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,D=H.port2;H.port1.onmessage=B,P=function(){D.postMessage(null)}}else P=function(){g(B,0)};function G(Q){T=Q,S||(S=!0,P())}function O(Q,ee){I=g(function(){Q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||f||(x=!0,G(N))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var q=m;m=ee;try{return Q()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var q=m;m=Q;try{return ee()}finally{m=q}},t.unstable_scheduleCallback=function(Q,ee,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=q+F,Q={id:u++,callback:ee,priorityLevel:Q,startTime:q,expirationTime:F,sortIndex:-1},q>Z?(Q.sortIndex=q,e(d,Q),s(c)===null&&Q===s(d)&&(A?(b(I),I=-1):A=!0,O(j,q-Z))):(Q.sortIndex=F,e(c,Q),x||f||(x=!0,G(N))),Q},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(Q){var ee=m;return function(){var q=m;m=ee;try{return Q.apply(this,arguments)}finally{m=q}}}})(kC)),kC}var I8;function zie(){return I8||(I8=1,EC.exports=$ie()),EC.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L8;function Gie(){if(L8)return Nl;L8=1;var t=jP(),e=zie();function s(p){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+p,k=1;k<arguments.length;k++)y+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(p,y){o(p,y),o(p+"Capture",y)}function o(p,y){for(a[p]=y,p=0;p<y.length;p++)n.add(y[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function m(p){return c.call(h,p)?!0:c.call(u,p)?!1:d.test(p)?h[p]=!0:(u[p]=!0,!1)}function f(p,y,k,R){if(k!==null&&k.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return R?!1:k!==null?!k.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,y,k,R){if(y===null||typeof y>"u"||f(p,y,k,R))return!0;if(R)return!1;if(k!==null)switch(k.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function A(p,y,k,R,K,re,ve){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=R,this.attributeNamespace=K,this.mustUseProperty=k,this.propertyName=p,this.type=y,this.sanitizeURL=re,this.removeEmptyString=ve}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){g[p]=new A(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var y=p[0];g[y]=new A(y,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){g[p]=new A(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){g[p]=new A(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){g[p]=new A(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){g[p]=new A(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){g[p]=new A(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){g[p]=new A(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){g[p]=new A(p,5,!1,p.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function w(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var y=p.replace(b,w);g[y]=new A(y,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var y=p.replace(b,w);g[y]=new A(y,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var y=p.replace(b,w);g[y]=new A(y,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){g[p]=new A(p,1,!1,p.toLowerCase(),null,!1,!1)}),g.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){g[p]=new A(p,1,!1,p.toLowerCase(),null,!0,!0)});function v(p,y,k,R){var K=g.hasOwnProperty(y)?g[y]:null;(K!==null?K.type!==0:R||!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(x(y,k,K,R)&&(k=null),R||K===null?m(y)&&(k===null?p.removeAttribute(y):p.setAttribute(y,""+k)):K.mustUseProperty?p[K.propertyName]=k===null?K.type===3?!1:"":k:(y=K.attributeName,R=K.attributeNamespace,k===null?p.removeAttribute(y):(K=K.type,k=K===3||K===4&&k===!0?"":""+k,R?p.setAttributeNS(R,y,k):p.setAttribute(y,k))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),C=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ee(p){return p===null||typeof p!="object"?null:(p=Q&&p[Q]||p["@@iterator"],typeof p=="function"?p:null)}var q=Object.assign,Z;function F(p){if(Z===void 0)try{throw Error()}catch(k){var y=k.stack.trim().match(/\n( *(at )?)/);Z=y&&y[1]||""}return`
`+Z+p}var z=!1;function V(p,y){if(!p||z)return"";z=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(Bt){var R=Bt}Reflect.construct(p,[],y)}else{try{y.call()}catch(Bt){R=Bt}p.call(y.prototype)}else{try{throw Error()}catch(Bt){R=Bt}p()}}catch(Bt){if(Bt&&R&&typeof Bt.stack=="string"){for(var K=Bt.stack.split(`
`),re=R.stack.split(`
`),ve=K.length-1,We=re.length-1;1<=ve&&0<=We&&K[ve]!==re[We];)We--;for(;1<=ve&&0<=We;ve--,We--)if(K[ve]!==re[We]){if(ve!==1||We!==1)do if(ve--,We--,0>We||K[ve]!==re[We]){var at=`
`+K[ve].replace(" at new "," at ");return p.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",p.displayName)),at}while(1<=ve&&0<=We);break}}}finally{z=!1,Error.prepareStackTrace=k}return(p=p?p.displayName||p.name:"")?F(p):""}function W(p){switch(p.tag){case 5:return F(p.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return p=V(p.type,!1),p;case 11:return p=V(p.type.render,!1),p;case 1:return p=V(p.type,!0),p;default:return""}}function ne(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case T:return"Fragment";case S:return"Portal";case _:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case H:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case C:return(p.displayName||"Context")+".Consumer";case M:return(p._context.displayName||"Context")+".Provider";case B:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case D:return y=p.displayName||null,y!==null?y:ne(p.type)||"Memo";case G:y=p._payload,p=p._init;try{return ne(p(y))}catch{}}return null}function ie(p){var y=p.type;switch(p.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=y.render,p=p.displayName||p.name||"",y.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(y);case 8:return y===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function be(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function ue(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function je(p){var y=ue(p)?"checked":"value",k=Object.getOwnPropertyDescriptor(p.constructor.prototype,y),R=""+p[y];if(!p.hasOwnProperty(y)&&typeof k<"u"&&typeof k.get=="function"&&typeof k.set=="function"){var K=k.get,re=k.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return K.call(this)},set:function(ve){R=""+ve,re.call(this,ve)}}),Object.defineProperty(p,y,{enumerable:k.enumerable}),{getValue:function(){return R},setValue:function(ve){R=""+ve},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function Be(p){p._valueTracker||(p._valueTracker=je(p))}function oe(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var k=y.getValue(),R="";return p&&(R=ue(p)?p.checked?"true":"false":p.value),p=R,p!==k?(y.setValue(p),!0):!1}function lt(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function se(p,y){var k=y.checked;return q({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:k??p._wrapperState.initialChecked})}function J(p,y){var k=y.defaultValue==null?"":y.defaultValue,R=y.checked!=null?y.checked:y.defaultChecked;k=be(y.value!=null?y.value:k),p._wrapperState={initialChecked:R,initialValue:k,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function Pe(p,y){y=y.checked,y!=null&&v(p,"checked",y,!1)}function xe(p,y){Pe(p,y);var k=be(y.value),R=y.type;if(k!=null)R==="number"?(k===0&&p.value===""||p.value!=k)&&(p.value=""+k):p.value!==""+k&&(p.value=""+k);else if(R==="submit"||R==="reset"){p.removeAttribute("value");return}y.hasOwnProperty("value")?$e(p,y.type,k):y.hasOwnProperty("defaultValue")&&$e(p,y.type,be(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(p.defaultChecked=!!y.defaultChecked)}function He(p,y,k){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var R=y.type;if(!(R!=="submit"&&R!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+p._wrapperState.initialValue,k||y===p.value||(p.value=y),p.defaultValue=y}k=p.name,k!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,k!==""&&(p.name=k)}function $e(p,y,k){(y!=="number"||lt(p.ownerDocument)!==p)&&(k==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+k&&(p.defaultValue=""+k))}var Xe=Array.isArray;function he(p,y,k,R){if(p=p.options,y){y={};for(var K=0;K<k.length;K++)y["$"+k[K]]=!0;for(k=0;k<p.length;k++)K=y.hasOwnProperty("$"+p[k].value),p[k].selected!==K&&(p[k].selected=K),K&&R&&(p[k].defaultSelected=!0)}else{for(k=""+be(k),y=null,K=0;K<p.length;K++){if(p[K].value===k){p[K].selected=!0,R&&(p[K].defaultSelected=!0);return}y!==null||p[K].disabled||(y=p[K])}y!==null&&(y.selected=!0)}}function ce(p,y){if(y.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},y,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function _e(p,y){var k=y.value;if(k==null){if(k=y.children,y=y.defaultValue,k!=null){if(y!=null)throw Error(s(92));if(Xe(k)){if(1<k.length)throw Error(s(93));k=k[0]}y=k}y==null&&(y=""),k=y}p._wrapperState={initialValue:be(k)}}function Ke(p,y){var k=be(y.value),R=be(y.defaultValue);k!=null&&(k=""+k,k!==p.value&&(p.value=k),y.defaultValue==null&&p.defaultValue!==k&&(p.defaultValue=k)),R!=null&&(p.defaultValue=""+R)}function et(p){var y=p.textContent;y===p._wrapperState.initialValue&&y!==""&&y!==null&&(p.value=y)}function st(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(p,y){return p==null||p==="http://www.w3.org/1999/xhtml"?st(y):p==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var mt,At=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,k,R,K){MSApp.execUnsafeLocalFunction(function(){return p(y,k,R,K)})}:p})(function(p,y){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=y;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=mt.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;y.firstChild;)p.appendChild(y.firstChild)}});function Tt(p,y){if(y){var k=p.firstChild;if(k&&k===p.lastChild&&k.nodeType===3){k.nodeValue=y;return}}p.textContent=y}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dt=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(p){Dt.forEach(function(y){y=y+p.charAt(0).toUpperCase()+p.substring(1),rt[y]=rt[p]})});function Qt(p,y,k){return y==null||typeof y=="boolean"||y===""?"":k||typeof y!="number"||y===0||rt.hasOwnProperty(p)&&rt[p]?(""+y).trim():y+"px"}function Yt(p,y){p=p.style;for(var k in y)if(y.hasOwnProperty(k)){var R=k.indexOf("--")===0,K=Qt(k,y[k],R);k==="float"&&(k="cssFloat"),R?p.setProperty(k,K):p[k]=K}}var kt=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tt(p,y){if(y){if(kt[p]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(s(137,p));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(s(60));if(typeof y.dangerouslySetInnerHTML!="object"||!("__html"in y.dangerouslySetInnerHTML))throw Error(s(61))}if(y.style!=null&&typeof y.style!="object")throw Error(s(62))}}function Ze(p,y){if(p.indexOf("-")===-1)return typeof y.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function fe(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Me=null,Le=null,Ge=null;function ct(p){if(p=am(p)){if(typeof Me!="function")throw Error(s(280));var y=p.stateNode;y&&(y=U0(y),Me(p.stateNode,p.type,y))}}function ft(p){Le?Ge?Ge.push(p):Ge=[p]:Le=p}function Ut(){if(Le){var p=Le,y=Ge;if(Ge=Le=null,ct(p),y)for(p=0;p<y.length;p++)ct(y[p])}}function Wt(p,y){return p(y)}function ur(){}var mr=!1;function or(p,y,k){if(mr)return p(y,k);mr=!0;try{return Wt(p,y,k)}finally{mr=!1,(Le!==null||Ge!==null)&&(ur(),Ut())}}function Jr(p,y){var k=p.stateNode;if(k===null)return null;var R=U0(k);if(R===null)return null;k=R[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(p=p.type,R=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!R;break e;default:p=!1}if(p)return null;if(k&&typeof k!="function")throw Error(s(231,y,typeof k));return k}var it=!1;if(l)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){it=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{it=!1}function pr(p,y,k,R,K,re,ve,We,at){var Bt=Array.prototype.slice.call(arguments,3);try{y.apply(k,Bt)}catch(er){this.onError(er)}}var yr=!1,Jt=null,me=!1,Fe=null,Ee={onError:function(p){yr=!0,Jt=p}};function Te(p,y,k,R,K,re,ve,We,at){yr=!1,Jt=null,pr.apply(Ee,arguments)}function Ie(p,y,k,R,K,re,ve,We,at){if(Te.apply(this,arguments),yr){if(yr){var Bt=Jt;yr=!1,Jt=null}else throw Error(s(198));me||(me=!0,Fe=Bt)}}function De(p){var y=p,k=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,(y.flags&4098)!==0&&(k=y.return),p=y.return;while(p)}return y.tag===3?k:null}function pt(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function Et(p){if(De(p)!==p)throw Error(s(188))}function bt(p){var y=p.alternate;if(!y){if(y=De(p),y===null)throw Error(s(188));return y!==p?null:p}for(var k=p,R=y;;){var K=k.return;if(K===null)break;var re=K.alternate;if(re===null){if(R=K.return,R!==null){k=R;continue}break}if(K.child===re.child){for(re=K.child;re;){if(re===k)return Et(K),p;if(re===R)return Et(K),y;re=re.sibling}throw Error(s(188))}if(k.return!==R.return)k=K,R=re;else{for(var ve=!1,We=K.child;We;){if(We===k){ve=!0,k=K,R=re;break}if(We===R){ve=!0,R=K,k=re;break}We=We.sibling}if(!ve){for(We=re.child;We;){if(We===k){ve=!0,k=re,R=K;break}if(We===R){ve=!0,R=re,k=K;break}We=We.sibling}if(!ve)throw Error(s(189))}}if(k.alternate!==R)throw Error(s(190))}if(k.tag!==3)throw Error(s(188));return k.stateNode.current===k?p:y}function vt(p){return p=bt(p),p!==null?Nt(p):null}function Nt(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var y=Nt(p);if(y!==null)return y;p=p.sibling}return null}var pe=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,Ye=e.unstable_shouldYield,le=e.unstable_requestPaint,Ne=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,Ue=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,dt=e.unstable_NormalPriority,Gt=e.unstable_LowPriority,Mt=e.unstable_IdlePriority,Ot=null,qt=null;function Kt(p){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Ot,p,void 0,(p.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:cr,dr=Math.log,Kr=Math.LN2;function cr(p){return p>>>=0,p===0?32:31-(dr(p)/Kr|0)|0}var Cs=64,Ur=4194304;function en(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Aa(p,y){var k=p.pendingLanes;if(k===0)return 0;var R=0,K=p.suspendedLanes,re=p.pingedLanes,ve=k&268435455;if(ve!==0){var We=ve&~K;We!==0?R=en(We):(re&=ve,re!==0&&(R=en(re)))}else ve=k&~K,ve!==0?R=en(ve):re!==0&&(R=en(re));if(R===0)return 0;if(y!==0&&y!==R&&(y&K)===0&&(K=R&-R,re=y&-y,K>=re||K===16&&(re&4194240)!==0))return y;if((R&4)!==0&&(R|=k&16),y=p.entangledLanes,y!==0)for(p=p.entanglements,y&=R;0<y;)k=31-rr(y),K=1<<k,R|=p[k],y&=~K;return R}function Ks(p,y){switch(p){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(p,y){for(var k=p.suspendedLanes,R=p.pingedLanes,K=p.expirationTimes,re=p.pendingLanes;0<re;){var ve=31-rr(re),We=1<<ve,at=K[ve];at===-1?((We&k)===0||(We&R)!==0)&&(K[ve]=Ks(We,y)):at<=y&&(p.expiredLanes|=We),re&=~We}}function xs(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function ga(){var p=Cs;return Cs<<=1,(Cs&4194240)===0&&(Cs=64),p}function Tn(p){for(var y=[],k=0;31>k;k++)y.push(p);return y}function dn(p,y,k){p.pendingLanes|=y,y!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,y=31-rr(y),p[y]=k}function Xs(p,y){var k=p.pendingLanes&~y;p.pendingLanes=y,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=y,p.mutableReadLanes&=y,p.entangledLanes&=y,y=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<k;){var K=31-rr(k),re=1<<K;y[K]=0,R[K]=-1,p[K]=-1,k&=~re}}function ro(p,y){var k=p.entangledLanes|=y;for(p=p.entanglements;k;){var R=31-rr(k),K=1<<R;K&y|p[R]&y&&(p[R]|=y),k&=~K}}var ss=0;function Di(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var lu,N0,Qx,$x,Qf,$f=!1,so=[],jc=null,no=null,cl=null,ph=new Map,Vr=new Map,Nc=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zx(p,y){switch(p){case"focusin":case"focusout":jc=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":ph.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(y.pointerId)}}function Qo(p,y,k,R,K,re){return p===null||p.nativeEvent!==re?(p={blockedOn:y,domEventName:k,eventSystemFlags:R,nativeEvent:re,targetContainers:[K]},y!==null&&(y=am(y),y!==null&&N0(y)),p):(p.eventSystemFlags|=R,y=p.targetContainers,K!==null&&y.indexOf(K)===-1&&y.push(K),p)}function ud(p,y,k,R,K){switch(y){case"focusin":return jc=Qo(jc,p,y,k,R,K),!0;case"dragenter":return no=Qo(no,p,y,k,R,K),!0;case"mouseover":return cl=Qo(cl,p,y,k,R,K),!0;case"pointerover":var re=K.pointerId;return ph.set(re,Qo(ph.get(re)||null,p,y,k,R,K)),!0;case"gotpointercapture":return re=K.pointerId,Vr.set(re,Qo(Vr.get(re)||null,p,y,k,R,K)),!0}return!1}function Gx(p){var y=bu(p.target);if(y!==null){var k=De(y);if(k!==null){if(y=k.tag,y===13){if(y=pt(k),y!==null){p.blockedOn=y,Qf(p.priority,function(){Qx(k)});return}}else if(y===3&&k.stateNode.current.memoizedState.isDehydrated){p.blockedOn=k.tag===3?k.stateNode.containerInfo:null;return}}}p.blockedOn=null}function zf(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var k=gh(p.domEventName,p.eventSystemFlags,y[0],p.nativeEvent);if(k===null){k=p.nativeEvent;var R=new k.constructor(k.type,k);ye=R,k.target.dispatchEvent(R),ye=null}else return y=am(k),y!==null&&N0(y),p.blockedOn=k,!1;y.shift()}return!0}function xh(p,y,k){zf(p)&&k.delete(y)}function S0(){$f=!1,jc!==null&&zf(jc)&&(jc=null),no!==null&&zf(no)&&(no=null),cl!==null&&zf(cl)&&(cl=null),ph.forEach(xh),Vr.forEach(xh)}function Ql(p,y){p.blockedOn===y&&(p.blockedOn=null,$f||($f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,S0)))}function Ah(p){function y(K){return Ql(K,p)}if(0<so.length){Ql(so[0],p);for(var k=1;k<so.length;k++){var R=so[k];R.blockedOn===p&&(R.blockedOn=null)}}for(jc!==null&&Ql(jc,p),no!==null&&Ql(no,p),cl!==null&&Ql(cl,p),ph.forEach(y),Vr.forEach(y),k=0;k<Nc.length;k++)R=Nc[k],R.blockedOn===p&&(R.blockedOn=null);for(;0<Nc.length&&(k=Nc[0],k.blockedOn===null);)Gx(k),k.blockedOn===null&&Nc.shift()}var ao=j.ReactCurrentBatchConfig,Gf=!0;function C0(p,y,k,R){var K=ss,re=ao.transition;ao.transition=null;try{ss=1,Vf(p,y,k,R)}finally{ss=K,ao.transition=re}}function _0(p,y,k,R){var K=ss,re=ao.transition;ao.transition=null;try{ss=4,Vf(p,y,k,R)}finally{ss=K,ao.transition=re}}function Vf(p,y,k,R){if(Gf){var K=gh(p,y,k,R);if(K===null)D0(p,y,R,dl,k),zx(p,R);else if(ud(K,p,y,k,R))R.stopPropagation();else if(zx(p,R),y&4&&-1<Ob.indexOf(p)){for(;K!==null;){var re=am(K);if(re!==null&&lu(re),re=gh(p,y,k,R),re===null&&D0(p,y,R,dl,k),re===K)break;K=re}K!==null&&R.stopPropagation()}else D0(p,y,R,null,k)}}var dl=null;function gh(p,y,k,R){if(dl=null,p=fe(R),p=bu(p),p!==null)if(y=De(p),y===null)p=null;else if(k=y.tag,k===13){if(p=pt(y),p!==null)return p;p=null}else if(k===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null);return dl=p,null}function bh(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(de()){case Ue:return 1;case qe:return 4;case dt:case Gt:return 16;case Mt:return 536870912;default:return 16}default:return 16}}var ul=null,hd=null,cu=null;function E0(){if(cu)return cu;var p,y=hd,k=y.length,R,K="value"in ul?ul.value:ul.textContent,re=K.length;for(p=0;p<k&&y[p]===K[p];p++);var ve=k-p;for(R=1;R<=ve&&y[k-R]===K[re-R];R++);return cu=K.slice(p,1<R?1-R:void 0)}function yh(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function hl(){return!0}function Sc(){return!1}function yi(p){function y(k,R,K,re,ve){this._reactName=k,this._targetInst=K,this.type=R,this.nativeEvent=re,this.target=ve,this.currentTarget=null;for(var We in p)p.hasOwnProperty(We)&&(k=p[We],this[We]=k?k(re):re[We]);return this.isDefaultPrevented=(re.defaultPrevented!=null?re.defaultPrevented:re.returnValue===!1)?hl:Sc,this.isPropagationStopped=Sc,this}return q(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():typeof k.returnValue!="unknown"&&(k.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():typeof k.cancelBubble!="unknown"&&(k.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),y}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wf=yi(fl),Y=q({},fl,{view:0,detail:0}),ge=yi(Y),Qe,Je,xt,Ht=q({},Y,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vh,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==xt&&(xt&&p.type==="mousemove"?(Qe=p.screenX-xt.screenX,Je=p.screenY-xt.screenY):Je=Qe=0,xt=p),Qe)},movementY:function(p){return"movementY"in p?p.movementY:Je}}),Xt=yi(Ht),Er=q({},Ht,{dataTransfer:0}),Pr=yi(Er),Xr=q({},Y,{relatedTarget:0}),ts=yi(Xr),Ts=q({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),Qn=yi(Ts),ba=q({},fl,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),An=yi(ba),ka=q({},fl,{data:0}),la=yi(ka),ti={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function md(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=$l[p])?!!y[p]:!1}function vh(){return md}var qf=q({},Y,{key:function(p){if(p.key){var y=ti[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=yh(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?fd[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vh,charCode:function(p){return p.type==="keypress"?yh(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?yh(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),du=yi(qf),wh=q({},Ht,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=yi(wh),hu=q({},Y,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vh}),ri=yi(hu),jh=q({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nh=yi(jh),k0=q({},Ht,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),T0=yi(k0),Ri=[9,13,27,32],zl=l&&"CompositionEvent"in window,Cc=null;l&&"documentMode"in document&&(Cc=document.documentMode);var Vx=l&&"TextEvent"in window&&!Cc,$o=l&&(!zl||Cc&&8<Cc&&11>=Cc),fu=" ",Kf=!1;function Xf(p,y){switch(p){case"keyup":return Ri.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pd(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var ml=!1;function zo(p,y){switch(p){case"compositionend":return pd(y);case"keypress":return y.which!==32?null:(Kf=!0,fu);case"textInput":return p=y.data,p===fu&&Kf?null:p;default:return null}}function Go(p,y){if(ml)return p==="compositionend"||!zl&&Xf(p,y)?(p=E0(),cu=hd=ul=null,ml=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return $o&&y.locale!=="ko"?null:y.data;default:return null}}var mu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!mu[p.type]:y==="textarea"}function xd(p,y,k,R){ft(R),y=Yx(y,"onChange"),0<y.length&&(k=new Wf("onChange","change",null,k,R),p.push({event:k,listeners:y}))}var Ad=null,Ec=null;function ca(p){I0(p,0)}function Sh(p){var y=Ih(p);if(oe(y))return p}function kc(p,y){if(p==="change")return y}var Gl=!1;if(l){var Ch;if(l){var _h="oninput"in document;if(!_h){var Yf=document.createElement("div");Yf.setAttribute("oninput","return;"),_h=typeof Yf.oninput=="function"}Ch=_h}else Ch=!1;Gl=Ch&&(!document.documentMode||9<document.documentMode)}function Jf(){Ad&&(Ad.detachEvent("onpropertychange",gd),Ec=Ad=null)}function gd(p){if(p.propertyName==="value"&&Sh(Ec)){var y=[];xd(y,Ec,p,fe(p)),or(ca,y)}}function pu(p,y,k){p==="focusin"?(Jf(),Ad=y,Ec=k,Ad.attachEvent("onpropertychange",gd)):p==="focusout"&&Jf()}function xu(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Sh(Ec)}function Eh(p,y){if(p==="click")return Sh(y)}function Au(p,y){if(p==="input"||p==="change")return Sh(y)}function kh(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var Kn=typeof Object.is=="function"?Object.is:kh;function io(p,y){if(Kn(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var k=Object.keys(p),R=Object.keys(y);if(k.length!==R.length)return!1;for(R=0;R<k.length;R++){var K=k[R];if(!c.call(y,K)||!Kn(p[K],y[K]))return!1}return!0}function Ds(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function tn(p,y){var k=Ds(p);p=0;for(var R;k;){if(k.nodeType===3){if(R=p+k.textContent.length,p<=y&&R>=y)return{node:k,offset:y-p};p=R}e:{for(;k;){if(k.nextSibling){k=k.nextSibling;break e}k=k.parentNode}k=void 0}k=Ds(k)}}function Xn(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?Xn(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function ya(){for(var p=window,y=lt();y instanceof p.HTMLIFrameElement;){try{var k=typeof y.contentWindow.location.href=="string"}catch{k=!1}if(k)p=y.contentWindow;else break;y=lt(p.document)}return y}function Vl(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}function B0(p){var y=ya(),k=p.focusedElem,R=p.selectionRange;if(y!==k&&k&&k.ownerDocument&&Xn(k.ownerDocument.documentElement,k)){if(R!==null&&Vl(k)){if(y=R.start,p=R.end,p===void 0&&(p=y),"selectionStart"in k)k.selectionStart=y,k.selectionEnd=Math.min(p,k.value.length);else if(p=(y=k.ownerDocument||document)&&y.defaultView||window,p.getSelection){p=p.getSelection();var K=k.textContent.length,re=Math.min(R.start,K);R=R.end===void 0?re:Math.min(R.end,K),!p.extend&&re>R&&(K=R,R=re,re=K),K=tn(k,re);var ve=tn(k,R);K&&ve&&(p.rangeCount!==1||p.anchorNode!==K.node||p.anchorOffset!==K.offset||p.focusNode!==ve.node||p.focusOffset!==ve.offset)&&(y=y.createRange(),y.setStart(K.node,K.offset),p.removeAllRanges(),re>R?(p.addRange(y),p.extend(ve.node,ve.offset)):(y.setEnd(ve.node,ve.offset),p.addRange(y)))}}for(y=[],p=k;p=p.parentNode;)p.nodeType===1&&y.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<y.length;k++)p=y[k],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Zf=l&&"documentMode"in document&&11>=document.documentMode,bd=null,Wx=null,em=null,qx=!1;function Ub(p,y,k){var R=k.window===k?k.document:k.nodeType===9?k:k.ownerDocument;qx||bd==null||bd!==lt(R)||(R=bd,"selectionStart"in R&&Vl(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),em&&io(em,R)||(em=R,R=Yx(Wx,"onSelect"),0<R.length&&(y=new Wf("onSelect","select",null,y,k),p.push({event:y,listeners:R}),y.target=bd)))}function M0(p,y){var k={};return k[p.toLowerCase()]=y.toLowerCase(),k["Webkit"+p]="webkit"+y,k["Moz"+p]="moz"+y,k}var Th={animationend:M0("Animation","AnimationEnd"),animationiteration:M0("Animation","AnimationIteration"),animationstart:M0("Animation","AnimationStart"),transitionend:M0("Transition","TransitionEnd")},Bh={},Hb={};l&&(Hb=document.createElement("div").style,"AnimationEvent"in window||(delete Th.animationend.animation,delete Th.animationiteration.animation,delete Th.animationstart.animation),"TransitionEvent"in window||delete Th.transitionend.transition);function F0(p){if(Bh[p])return Bh[p];if(!Th[p])return p;var y=Th[p],k;for(k in y)if(y.hasOwnProperty(k)&&k in Hb)return Bh[p]=y[k];return p}var Qb=F0("animationend"),$b=F0("animationiteration"),zb=F0("animationstart"),Gb=F0("transitionend"),Vb=new Map,Wb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tc(p,y){Vb.set(p,y),i(y,[p])}for(var tm=0;tm<Wb.length;tm++){var Oi=Wb[tm],pl=Oi.toLowerCase(),Kx=Oi[0].toUpperCase()+Oi.slice(1);Tc(pl,"on"+Kx)}Tc(Qb,"onAnimationEnd"),Tc($b,"onAnimationIteration"),Tc(zb,"onAnimationStart"),Tc("dblclick","onDoubleClick"),Tc("focusin","onFocus"),Tc("focusout","onBlur"),Tc(Gb,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function P0(p,y,k){var R=p.type||"unknown-event";p.currentTarget=k,Ie(R,y,void 0,p),p.currentTarget=null}function I0(p,y){y=(y&4)!==0;for(var k=0;k<p.length;k++){var R=p[k],K=R.event;R=R.listeners;e:{var re=void 0;if(y)for(var ve=R.length-1;0<=ve;ve--){var We=R[ve],at=We.instance,Bt=We.currentTarget;if(We=We.listener,at!==re&&K.isPropagationStopped())break e;P0(K,We,Bt),re=at}else for(ve=0;ve<R.length;ve++){if(We=R[ve],at=We.instance,Bt=We.currentTarget,We=We.listener,at!==re&&K.isPropagationStopped())break e;P0(K,We,Bt),re=at}}}if(me)throw p=Fe,me=!1,Fe=null,p}function un(p,y){var k=y[lo];k===void 0&&(k=y[lo]=new Set);var R=p+"__bubble";k.has(R)||(L0(y,p,2,!1),k.add(R))}function Xx(p,y,k){var R=0;y&&(R|=4),L0(k,p,R,y)}var rm="_reactListening"+Math.random().toString(36).slice(2);function Mh(p){if(!p[rm]){p[rm]=!0,n.forEach(function(k){k!=="selectionchange"&&(Mw.has(k)||Xx(k,!1,p),Xx(k,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[rm]||(y[rm]=!0,Xx("selectionchange",!1,y))}}function L0(p,y,k,R){switch(bh(y)){case 1:var K=C0;break;case 4:K=_0;break;default:K=Vf}k=K.bind(null,y,k,p),K=void 0,!it||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(K=!0),R?K!==void 0?p.addEventListener(y,k,{capture:!0,passive:K}):p.addEventListener(y,k,!0):K!==void 0?p.addEventListener(y,k,{passive:K}):p.addEventListener(y,k,!1)}function D0(p,y,k,R,K){var re=R;if((y&1)===0&&(y&2)===0&&R!==null)e:for(;;){if(R===null)return;var ve=R.tag;if(ve===3||ve===4){var We=R.stateNode.containerInfo;if(We===K||We.nodeType===8&&We.parentNode===K)break;if(ve===4)for(ve=R.return;ve!==null;){var at=ve.tag;if((at===3||at===4)&&(at=ve.stateNode.containerInfo,at===K||at.nodeType===8&&at.parentNode===K))return;ve=ve.return}for(;We!==null;){if(ve=bu(We),ve===null)return;if(at=ve.tag,at===5||at===6){R=re=ve;continue e}We=We.parentNode}}R=R.return}or(function(){var Bt=re,er=fe(k),tr=[];e:{var Zt=Vb.get(p);if(Zt!==void 0){var vr=Wf,Br=p;switch(p){case"keypress":if(yh(k)===0)break e;case"keydown":case"keyup":vr=du;break;case"focusin":Br="focus",vr=ts;break;case"focusout":Br="blur",vr=ts;break;case"beforeblur":case"afterblur":vr=ts;break;case"click":if(k.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vr=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vr=Pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vr=ri;break;case Qb:case $b:case zb:vr=Qn;break;case Gb:vr=Nh;break;case"scroll":vr=ge;break;case"wheel":vr=T0;break;case"copy":case"cut":case"paste":vr=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vr=uu}var Mr=(y&4)!==0,Ta=!Mr&&p==="scroll",jt=Mr?Zt!==null?Zt+"Capture":null:Zt;Mr=[];for(var ht=Bt,_t;ht!==null;){_t=ht;var ar=_t.stateNode;if(_t.tag===5&&ar!==null&&(_t=ar,jt!==null&&(ar=Jr(ht,jt),ar!=null&&Mr.push(R0(ht,ar,_t)))),Ta)break;ht=ht.return}0<Mr.length&&(Zt=new vr(Zt,Br,null,k,er),tr.push({event:Zt,listeners:Mr}))}}if((y&7)===0){e:{if(Zt=p==="mouseover"||p==="pointerover",vr=p==="mouseout"||p==="pointerout",Zt&&k!==ye&&(Br=k.relatedTarget||k.fromElement)&&(bu(Br)||Br[vi]))break e;if((vr||Zt)&&(Zt=er.window===er?er:(Zt=er.ownerDocument)?Zt.defaultView||Zt.parentWindow:window,vr?(Br=k.relatedTarget||k.toElement,vr=Bt,Br=Br?bu(Br):null,Br!==null&&(Ta=De(Br),Br!==Ta||Br.tag!==5&&Br.tag!==6)&&(Br=null)):(vr=null,Br=Bt),vr!==Br)){if(Mr=Xt,ar="onMouseLeave",jt="onMouseEnter",ht="mouse",(p==="pointerout"||p==="pointerover")&&(Mr=uu,ar="onPointerLeave",jt="onPointerEnter",ht="pointer"),Ta=vr==null?Zt:Ih(vr),_t=Br==null?Zt:Ih(Br),Zt=new Mr(ar,ht+"leave",vr,k,er),Zt.target=Ta,Zt.relatedTarget=_t,ar=null,bu(er)===Bt&&(Mr=new Mr(jt,ht+"enter",Br,k,er),Mr.target=_t,Mr.relatedTarget=Ta,ar=Mr),Ta=ar,vr&&Br)t:{for(Mr=vr,jt=Br,ht=0,_t=Mr;_t;_t=Fh(_t))ht++;for(_t=0,ar=jt;ar;ar=Fh(ar))_t++;for(;0<ht-_t;)Mr=Fh(Mr),ht--;for(;0<_t-ht;)jt=Fh(jt),_t--;for(;ht--;){if(Mr===jt||jt!==null&&Mr===jt.alternate)break t;Mr=Fh(Mr),jt=Fh(jt)}Mr=null}else Mr=null;vr!==null&&Fw(tr,Zt,vr,Mr,!1),Br!==null&&Ta!==null&&Fw(tr,Ta,Br,Mr,!0)}}e:{if(Zt=Bt?Ih(Bt):window,vr=Zt.nodeName&&Zt.nodeName.toLowerCase(),vr==="select"||vr==="input"&&Zt.type==="file")var Lr=kc;else if(_c(Zt))if(Gl)Lr=Au;else{Lr=xu;var $r=pu}else(vr=Zt.nodeName)&&vr.toLowerCase()==="input"&&(Zt.type==="checkbox"||Zt.type==="radio")&&(Lr=Eh);if(Lr&&(Lr=Lr(p,Bt))){xd(tr,Lr,k,er);break e}$r&&$r(p,Zt,Bt),p==="focusout"&&($r=Zt._wrapperState)&&$r.controlled&&Zt.type==="number"&&$e(Zt,"number",Zt.value)}switch($r=Bt?Ih(Bt):window,p){case"focusin":(_c($r)||$r.contentEditable==="true")&&(bd=$r,Wx=Bt,em=null);break;case"focusout":em=Wx=bd=null;break;case"mousedown":qx=!0;break;case"contextmenu":case"mouseup":case"dragend":qx=!1,Ub(tr,k,er);break;case"selectionchange":if(Zf)break;case"keydown":case"keyup":Ub(tr,k,er)}var zr;if(zl)e:{switch(p){case"compositionstart":var Zr="onCompositionStart";break e;case"compositionend":Zr="onCompositionEnd";break e;case"compositionupdate":Zr="onCompositionUpdate";break e}Zr=void 0}else ml?Xf(p,k)&&(Zr="onCompositionEnd"):p==="keydown"&&k.keyCode===229&&(Zr="onCompositionStart");Zr&&($o&&k.locale!=="ko"&&(ml||Zr!=="onCompositionStart"?Zr==="onCompositionEnd"&&ml&&(zr=E0()):(ul=er,hd="value"in ul?ul.value:ul.textContent,ml=!0)),$r=Yx(Bt,Zr),0<$r.length&&(Zr=new la(Zr,p,null,k,er),tr.push({event:Zr,listeners:$r}),zr?Zr.data=zr:(zr=pd(k),zr!==null&&(Zr.data=zr)))),(zr=Vx?zo(p,k):Go(p,k))&&(Bt=Yx(Bt,"onBeforeInput"),0<Bt.length&&(er=new la("onBeforeInput","beforeinput",null,k,er),tr.push({event:er,listeners:Bt}),er.data=zr))}I0(tr,y)})}function R0(p,y,k){return{instance:p,listener:y,currentTarget:k}}function Yx(p,y){for(var k=y+"Capture",R=[];p!==null;){var K=p,re=K.stateNode;K.tag===5&&re!==null&&(K=re,re=Jr(p,k),re!=null&&R.unshift(R0(p,re,K)),re=Jr(p,y),re!=null&&R.push(R0(p,re,K))),p=p.return}return R}function Fh(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function Fw(p,y,k,R,K){for(var re=y._reactName,ve=[];k!==null&&k!==R;){var We=k,at=We.alternate,Bt=We.stateNode;if(at!==null&&at===R)break;We.tag===5&&Bt!==null&&(We=Bt,K?(at=Jr(k,re),at!=null&&ve.unshift(R0(k,at,We))):K||(at=Jr(k,re),at!=null&&ve.push(R0(k,at,We)))),k=k.return}ve.length!==0&&p.push({event:y,listeners:ve})}var H4=/\r\n?/g,Q4=/\u0000|\uFFFD/g;function Pw(p){return(typeof p=="string"?p:""+p).replace(H4,`
`).replace(Q4,"")}function Jx(p,y,k){if(y=Pw(y),Pw(p)!==y&&k)throw Error(s(425))}function sm(){}var O0=null,Ph=null;function qb(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var Kb=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,Lw=typeof Promise=="function"?Promise:void 0,$4=typeof queueMicrotask=="function"?queueMicrotask:typeof Lw<"u"?function(p){return Lw.resolve(null).then(p).catch(z4)}:Kb;function z4(p){setTimeout(function(){throw p})}function Xb(p,y){var k=y,R=0;do{var K=k.nextSibling;if(p.removeChild(k),K&&K.nodeType===8)if(k=K.data,k==="/$"){if(R===0){p.removeChild(K),Ah(y);return}R--}else k!=="$"&&k!=="$?"&&k!=="$!"||R++;k=K}while(k);Ah(y)}function Ui(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?")break;if(y==="/$")return null}}return p}function xl(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var k=p.data;if(k==="$"||k==="$!"||k==="$?"){if(y===0)return p;y--}else k==="/$"&&y++}p=p.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Bc="__reactFiber$"+oo,nm="__reactProps$"+oo,vi="__reactContainer$"+oo,lo="__reactEvents$"+oo,G4="__reactListeners$"+oo,V4="__reactHandles$"+oo;function bu(p){var y=p[Bc];if(y)return y;for(var k=p.parentNode;k;){if(y=k[vi]||k[Bc]){if(k=y.alternate,y.child!==null||k!==null&&k.child!==null)for(p=xl(p);p!==null;){if(k=p[Bc])return k;p=xl(p)}return y}p=k,k=p.parentNode}return null}function am(p){return p=p[Bc]||p[vi],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Ih(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(s(33))}function U0(p){return p[nm]||null}var Yb=[],yd=-1;function Wl(p){return{current:p}}function Ys(p){0>yd||(p.current=Yb[yd],Yb[yd]=null,yd--)}function rn(p,y){yd++,Yb[yd]=p.current,p.current=y}var yu={},si=Wl(yu),co=Wl(!1),Lh=yu;function im(p,y){var k=p.type.contextTypes;if(!k)return yu;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===y)return R.__reactInternalMemoizedMaskedChildContext;var K={},re;for(re in k)K[re]=y[re];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=y,p.__reactInternalMemoizedMaskedChildContext=K),K}function uo(p){return p=p.childContextTypes,p!=null}function Zx(){Ys(co),Ys(si)}function Dw(p,y,k){if(si.current!==yu)throw Error(s(168));rn(si,y),rn(co,k)}function Jb(p,y,k){var R=p.stateNode;if(y=y.childContextTypes,typeof R.getChildContext!="function")return k;R=R.getChildContext();for(var K in R)if(!(K in y))throw Error(s(108,ie(p)||"Unknown",K));return q({},k,R)}function Dh(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||yu,Lh=si.current,rn(si,p),rn(co,co.current),!0}function Rw(p,y,k){var R=p.stateNode;if(!R)throw Error(s(169));k?(p=Jb(p,y,Lh),R.__reactInternalMemoizedMergedChildContext=p,Ys(co),Ys(si),rn(si,p)):Ys(co),rn(co,k)}var vd=null,H0=!1,L=!1;function U(p){vd===null?vd=[p]:vd.push(p)}function te(p){H0=!0,U(p)}function ae(){if(!L&&vd!==null){L=!0;var p=0,y=ss;try{var k=vd;for(ss=1;p<k.length;p++){var R=k[p];do R=R(!0);while(R!==null)}vd=null,H0=!1}catch(K){throw vd!==null&&(vd=vd.slice(p+1)),pe(Ue,ae),K}finally{ss=y,L=!1}}return null}var Ae=[],we=0,Se=null,Ce=0,ke=[],Re=0,nt=null,wt=1,Oe="";function ut(p,y){Ae[we++]=Ce,Ae[we++]=Se,Se=p,Ce=y}function gt(p,y,k){ke[Re++]=wt,ke[Re++]=Oe,ke[Re++]=nt,nt=p;var R=wt;p=Oe;var K=32-rr(R)-1;R&=~(1<<K),k+=1;var re=32-rr(y)+K;if(30<re){var ve=K-K%5;re=(R&(1<<ve)-1).toString(32),R>>=ve,K-=ve,wt=1<<32-rr(y)+K|k<<K|R,Oe=re+p}else wt=1<<re|k<<K|R,Oe=p}function Rt(p){p.return!==null&&(ut(p,1),gt(p,1,0))}function St(p){for(;p===Se;)Se=Ae[--we],Ae[we]=null,Ce=Ae[--we],Ae[we]=null;for(;p===nt;)nt=ke[--Re],ke[Re]=null,Oe=ke[--Re],ke[Re]=null,wt=ke[--Re],ke[Re]=null}var Pt=null,It=null,zt=!1,Vt=null;function Ir(p,y){var k=Lc(5,null,null,0);k.elementType="DELETED",k.stateNode=y,k.return=p,y=p.deletions,y===null?(p.deletions=[k],p.flags|=16):y.push(k)}function jr(p,y){switch(p.tag){case 5:var k=p.type;return y=y.nodeType!==1||k.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(p.stateNode=y,Pt=p,It=Ui(y.firstChild),!0):!1;case 6:return y=p.pendingProps===""||y.nodeType!==3?null:y,y!==null?(p.stateNode=y,Pt=p,It=null,!0):!1;case 13:return y=y.nodeType!==8?null:y,y!==null?(k=nt!==null?{id:wt,overflow:Oe}:null,p.memoizedState={dehydrated:y,treeContext:k,retryLane:1073741824},k=Lc(18,null,null,0),k.stateNode=y,k.return=p,p.child=k,Pt=p,It=null,!0):!1;default:return!1}}function ns(p){return(p.mode&1)!==0&&(p.flags&128)===0}function kr(p){if(zt){var y=It;if(y){var k=y;if(!jr(p,y)){if(ns(p))throw Error(s(418));y=Ui(k.nextSibling);var R=Pt;y&&jr(p,y)?Ir(R,k):(p.flags=p.flags&-4097|2,zt=!1,Pt=p)}}else{if(ns(p))throw Error(s(418));p.flags=p.flags&-4097|2,zt=!1,Pt=p}}}function ys(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Pt=p}function Yn(p){if(p!==Pt)return!1;if(!zt)return ys(p),zt=!0,!1;var y;if((y=p.tag!==3)&&!(y=p.tag!==5)&&(y=p.type,y=y!=="head"&&y!=="body"&&!qb(p.type,p.memoizedProps)),y&&(y=It)){if(ns(p))throw is(),Error(s(418));for(;y;)Ir(p,y),y=Ui(y.nextSibling)}if(ys(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));e:{for(p=p.nextSibling,y=0;p;){if(p.nodeType===8){var k=p.data;if(k==="/$"){if(y===0){It=Ui(p.nextSibling);break e}y--}else k!=="$"&&k!=="$!"&&k!=="$?"||y++}p=p.nextSibling}It=null}}else It=Pt?Ui(p.stateNode.nextSibling):null;return!0}function is(){for(var p=It;p;)p=Ui(p.nextSibling)}function Nr(){It=Pt=null,zt=!1}function lr(p){Vt===null?Vt=[p]:Vt.push(p)}var da=j.ReactCurrentBatchConfig;function Or(p,y){if(p&&p.defaultProps){y=q({},y),p=p.defaultProps;for(var k in p)y[k]===void 0&&(y[k]=p[k]);return y}return y}var gs=Wl(null),sn=null,Jn=null,ni=null;function Bn(){ni=Jn=sn=null}function Qa(p){var y=gs.current;Ys(gs),p._currentValue=y}function ai(p,y,k){for(;p!==null;){var R=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,R!==null&&(R.childLanes|=y)):R!==null&&(R.childLanes&y)!==y&&(R.childLanes|=y),p===k)break;p=p.return}}function Mn(p,y){sn=p,ni=Jn=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&y)!==0&&(vl=!0),p.firstContext=null)}function rs(p){var y=p._currentValue;if(ni!==p)if(p={context:p,memoizedValue:y,next:null},Jn===null){if(sn===null)throw Error(s(308));Jn=p,sn.dependencies={lanes:0,firstContext:p}}else Jn=Jn.next=p;return y}var ws=null;function Fn(p){ws===null?ws=[p]:ws.push(p)}function Qs(p,y,k,R){var K=y.interleaved;return K===null?(k.next=k,Fn(y)):(k.next=K.next,K.next=k),y.interleaved=k,jn(p,R)}function jn(p,y){p.lanes|=y;var k=p.alternate;for(k!==null&&(k.lanes|=y),k=p,p=p.return;p!==null;)p.childLanes|=y,k=p.alternate,k!==null&&(k.childLanes|=y),k=p,p=p.return;return k.tag===3?k.stateNode:null}var $a=!1;function $n(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hi(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function js(p,y){return{eventTime:p,lane:y,tag:0,payload:null,callback:null,next:null}}function gn(p,y,k){var R=p.updateQueue;if(R===null)return null;if(R=R.shared,(Rs&2)!==0){var K=R.pending;return K===null?y.next=y:(y.next=K.next,K.next=y),R.pending=y,jn(p,k)}return K=R.interleaved,K===null?(y.next=y,Fn(R)):(y.next=K.next,K.next=y),R.interleaved=y,jn(p,k)}function wi(p,y,k){if(y=y.updateQueue,y!==null&&(y=y.shared,(k&4194240)!==0)){var R=y.lanes;R&=p.pendingLanes,k|=R,y.lanes=k,ro(p,k)}}function ji(p,y){var k=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,k===R)){var K=null,re=null;if(k=k.firstBaseUpdate,k!==null){do{var ve={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};re===null?K=re=ve:re=re.next=ve,k=k.next}while(k!==null);re===null?K=re=y:re=re.next=y}else K=re=y;k={baseState:R.baseState,firstBaseUpdate:K,lastBaseUpdate:re,shared:R.shared,effects:R.effects},p.updateQueue=k;return}p=k.lastBaseUpdate,p===null?k.firstBaseUpdate=y:p.next=y,k.lastBaseUpdate=y}function Ni(p,y,k,R){var K=p.updateQueue;$a=!1;var re=K.firstBaseUpdate,ve=K.lastBaseUpdate,We=K.shared.pending;if(We!==null){K.shared.pending=null;var at=We,Bt=at.next;at.next=null,ve===null?re=Bt:ve.next=Bt,ve=at;var er=p.alternate;er!==null&&(er=er.updateQueue,We=er.lastBaseUpdate,We!==ve&&(We===null?er.firstBaseUpdate=Bt:We.next=Bt,er.lastBaseUpdate=at))}if(re!==null){var tr=K.baseState;ve=0,er=Bt=at=null,We=re;do{var Zt=We.lane,vr=We.eventTime;if((R&Zt)===Zt){er!==null&&(er=er.next={eventTime:vr,lane:0,tag:We.tag,payload:We.payload,callback:We.callback,next:null});e:{var Br=p,Mr=We;switch(Zt=y,vr=k,Mr.tag){case 1:if(Br=Mr.payload,typeof Br=="function"){tr=Br.call(vr,tr,Zt);break e}tr=Br;break e;case 3:Br.flags=Br.flags&-65537|128;case 0:if(Br=Mr.payload,Zt=typeof Br=="function"?Br.call(vr,tr,Zt):Br,Zt==null)break e;tr=q({},tr,Zt);break e;case 2:$a=!0}}We.callback!==null&&We.lane!==0&&(p.flags|=64,Zt=K.effects,Zt===null?K.effects=[We]:Zt.push(We))}else vr={eventTime:vr,lane:Zt,tag:We.tag,payload:We.payload,callback:We.callback,next:null},er===null?(Bt=er=vr,at=tr):er=er.next=vr,ve|=Zt;if(We=We.next,We===null){if(We=K.shared.pending,We===null)break;Zt=We,We=Zt.next,Zt.next=null,K.lastBaseUpdate=Zt,K.shared.pending=null}}while(!0);if(er===null&&(at=tr),K.baseState=at,K.firstBaseUpdate=Bt,K.lastBaseUpdate=er,y=K.shared.interleaved,y!==null){K=y;do ve|=K.lane,K=K.next;while(K!==y)}else re===null&&(K.shared.lanes=0);J0|=ve,p.lanes=ve,p.memoizedState=tr}}function ho(p,y,k){if(p=y.effects,y.effects=null,p!==null)for(y=0;y<p.length;y++){var R=p[y],K=R.callback;if(K!==null){if(R.callback=null,R=k,typeof K!="function")throw Error(s(191,K));K.call(R)}}}var Qi=new t.Component().refs;function $i(p,y,k,R){y=p.memoizedState,k=k(R,y),k=k==null?y:q({},y,k),p.memoizedState=k,p.lanes===0&&(p.updateQueue.baseState=k)}var Js={isMounted:function(p){return(p=p._reactInternals)?De(p)===p:!1},enqueueSetState:function(p,y,k){p=p._reactInternals;var R=Wo(),K=hm(p),re=js(R,K);re.payload=y,k!=null&&(re.callback=k),y=gn(p,re,K),y!==null&&(_d(y,p,K,R),wi(y,p,K))},enqueueReplaceState:function(p,y,k){p=p._reactInternals;var R=Wo(),K=hm(p),re=js(R,K);re.tag=1,re.payload=y,k!=null&&(re.callback=k),y=gn(p,re,K),y!==null&&(_d(y,p,K,R),wi(y,p,K))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var k=Wo(),R=hm(p),K=js(k,R);K.tag=2,y!=null&&(K.callback=y),y=gn(p,K,R),y!==null&&(_d(y,p,R,k),wi(y,p,R))}};function fo(p,y,k,R,K,re,ve){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,re,ve):y.prototype&&y.prototype.isPureReactComponent?!io(k,R)||!io(K,re):!0}function Al(p,y,k){var R=!1,K=yu,re=y.contextType;return typeof re=="object"&&re!==null?re=rs(re):(K=uo(y)?Lh:si.current,R=y.contextTypes,re=(R=R!=null)?im(p,K):yu),y=new y(k,re),p.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Js,p.stateNode=y,y._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=K,p.__reactInternalMemoizedMaskedChildContext=re),y}function vu(p,y,k,R){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(k,R),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(k,R),y.state!==p&&Js.enqueueReplaceState(y,y.state,null)}function ql(p,y,k,R){var K=p.stateNode;K.props=k,K.state=p.memoizedState,K.refs=Qi,$n(p);var re=y.contextType;typeof re=="object"&&re!==null?K.context=rs(re):(re=uo(y)?Lh:si.current,K.context=im(p,re)),K.state=p.memoizedState,re=y.getDerivedStateFromProps,typeof re=="function"&&($i(p,y,re,k),K.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(y=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),y!==K.state&&Js.enqueueReplaceState(K,K.state,null),Ni(p,k,K,R),K.state=p.memoizedState),typeof K.componentDidMount=="function"&&(p.flags|=4194308)}function ua(p,y,k){if(p=k.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(s(309));var R=k.stateNode}if(!R)throw Error(s(147,p));var K=R,re=""+p;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===re?y.ref:(y=function(ve){var We=K.refs;We===Qi&&(We=K.refs={}),ve===null?delete We[re]:We[re]=ve},y._stringRef=re,y)}if(typeof p!="string")throw Error(s(284));if(!k._owner)throw Error(s(290,p))}return p}function Rh(p,y){throw p=Object.prototype.toString.call(y),Error(s(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p))}function eA(p){var y=p._init;return y(p._payload)}function Q0(p){function y(jt,ht){if(p){var _t=jt.deletions;_t===null?(jt.deletions=[ht],jt.flags|=16):_t.push(ht)}}function k(jt,ht){if(!p)return null;for(;ht!==null;)y(jt,ht),ht=ht.sibling;return null}function R(jt,ht){for(jt=new Map;ht!==null;)ht.key!==null?jt.set(ht.key,ht):jt.set(ht.index,ht),ht=ht.sibling;return jt}function K(jt,ht){return jt=mm(jt,ht),jt.index=0,jt.sibling=null,jt}function re(jt,ht,_t){return jt.index=_t,p?(_t=jt.alternate,_t!==null?(_t=_t.index,_t<ht?(jt.flags|=2,ht):_t):(jt.flags|=2,ht)):(jt.flags|=1048576,ht)}function ve(jt){return p&&jt.alternate===null&&(jt.flags|=2),jt}function We(jt,ht,_t,ar){return ht===null||ht.tag!==6?(ht=bC(_t,jt.mode,ar),ht.return=jt,ht):(ht=K(ht,_t),ht.return=jt,ht)}function at(jt,ht,_t,ar){var Lr=_t.type;return Lr===T?er(jt,ht,_t.props.children,ar,_t.key):ht!==null&&(ht.elementType===Lr||typeof Lr=="object"&&Lr!==null&&Lr.$$typeof===G&&eA(Lr)===ht.type)?(ar=K(ht,_t.props),ar.ref=ua(jt,ht,_t),ar.return=jt,ar):(ar=s2(_t.type,_t.key,_t.props,null,jt.mode,ar),ar.ref=ua(jt,ht,_t),ar.return=jt,ar)}function Bt(jt,ht,_t,ar){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==_t.containerInfo||ht.stateNode.implementation!==_t.implementation?(ht=yC(_t,jt.mode,ar),ht.return=jt,ht):(ht=K(ht,_t.children||[]),ht.return=jt,ht)}function er(jt,ht,_t,ar,Lr){return ht===null||ht.tag!==7?(ht=rp(_t,jt.mode,ar,Lr),ht.return=jt,ht):(ht=K(ht,_t),ht.return=jt,ht)}function tr(jt,ht,_t){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ht=bC(""+ht,jt.mode,_t),ht.return=jt,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case N:return _t=s2(ht.type,ht.key,ht.props,null,jt.mode,_t),_t.ref=ua(jt,null,ht),_t.return=jt,_t;case S:return ht=yC(ht,jt.mode,_t),ht.return=jt,ht;case G:var ar=ht._init;return tr(jt,ar(ht._payload),_t)}if(Xe(ht)||ee(ht))return ht=rp(ht,jt.mode,_t,null),ht.return=jt,ht;Rh(jt,ht)}return null}function Zt(jt,ht,_t,ar){var Lr=ht!==null?ht.key:null;if(typeof _t=="string"&&_t!==""||typeof _t=="number")return Lr!==null?null:We(jt,ht,""+_t,ar);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case N:return _t.key===Lr?at(jt,ht,_t,ar):null;case S:return _t.key===Lr?Bt(jt,ht,_t,ar):null;case G:return Lr=_t._init,Zt(jt,ht,Lr(_t._payload),ar)}if(Xe(_t)||ee(_t))return Lr!==null?null:er(jt,ht,_t,ar,null);Rh(jt,_t)}return null}function vr(jt,ht,_t,ar,Lr){if(typeof ar=="string"&&ar!==""||typeof ar=="number")return jt=jt.get(_t)||null,We(ht,jt,""+ar,Lr);if(typeof ar=="object"&&ar!==null){switch(ar.$$typeof){case N:return jt=jt.get(ar.key===null?_t:ar.key)||null,at(ht,jt,ar,Lr);case S:return jt=jt.get(ar.key===null?_t:ar.key)||null,Bt(ht,jt,ar,Lr);case G:var $r=ar._init;return vr(jt,ht,_t,$r(ar._payload),Lr)}if(Xe(ar)||ee(ar))return jt=jt.get(_t)||null,er(ht,jt,ar,Lr,null);Rh(ht,ar)}return null}function Br(jt,ht,_t,ar){for(var Lr=null,$r=null,zr=ht,Zr=ht=0,Ci=null;zr!==null&&Zr<_t.length;Zr++){zr.index>Zr?(Ci=zr,zr=null):Ci=zr.sibling;var $s=Zt(jt,zr,_t[Zr],ar);if($s===null){zr===null&&(zr=Ci);break}p&&zr&&$s.alternate===null&&y(jt,zr),ht=re($s,ht,Zr),$r===null?Lr=$s:$r.sibling=$s,$r=$s,zr=Ci}if(Zr===_t.length)return k(jt,zr),zt&&ut(jt,Zr),Lr;if(zr===null){for(;Zr<_t.length;Zr++)zr=tr(jt,_t[Zr],ar),zr!==null&&(ht=re(zr,ht,Zr),$r===null?Lr=zr:$r.sibling=zr,$r=zr);return zt&&ut(jt,Zr),Lr}for(zr=R(jt,zr);Zr<_t.length;Zr++)Ci=vr(zr,jt,Zr,_t[Zr],ar),Ci!==null&&(p&&Ci.alternate!==null&&zr.delete(Ci.key===null?Zr:Ci.key),ht=re(Ci,ht,Zr),$r===null?Lr=Ci:$r.sibling=Ci,$r=Ci);return p&&zr.forEach(function(pm){return y(jt,pm)}),zt&&ut(jt,Zr),Lr}function Mr(jt,ht,_t,ar){var Lr=ee(_t);if(typeof Lr!="function")throw Error(s(150));if(_t=Lr.call(_t),_t==null)throw Error(s(151));for(var $r=Lr=null,zr=ht,Zr=ht=0,Ci=null,$s=_t.next();zr!==null&&!$s.done;Zr++,$s=_t.next()){zr.index>Zr?(Ci=zr,zr=null):Ci=zr.sibling;var pm=Zt(jt,zr,$s.value,ar);if(pm===null){zr===null&&(zr=Ci);break}p&&zr&&pm.alternate===null&&y(jt,zr),ht=re(pm,ht,Zr),$r===null?Lr=pm:$r.sibling=pm,$r=pm,zr=Ci}if($s.done)return k(jt,zr),zt&&ut(jt,Zr),Lr;if(zr===null){for(;!$s.done;Zr++,$s=_t.next())$s=tr(jt,$s.value,ar),$s!==null&&(ht=re($s,ht,Zr),$r===null?Lr=$s:$r.sibling=$s,$r=$s);return zt&&ut(jt,Zr),Lr}for(zr=R(jt,zr);!$s.done;Zr++,$s=_t.next())$s=vr(zr,jt,Zr,$s.value,ar),$s!==null&&(p&&$s.alternate!==null&&zr.delete($s.key===null?Zr:$s.key),ht=re($s,ht,Zr),$r===null?Lr=$s:$r.sibling=$s,$r=$s);return p&&zr.forEach(function(Die){return y(jt,Die)}),zt&&ut(jt,Zr),Lr}function Ta(jt,ht,_t,ar){if(typeof _t=="object"&&_t!==null&&_t.type===T&&_t.key===null&&(_t=_t.props.children),typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case N:e:{for(var Lr=_t.key,$r=ht;$r!==null;){if($r.key===Lr){if(Lr=_t.type,Lr===T){if($r.tag===7){k(jt,$r.sibling),ht=K($r,_t.props.children),ht.return=jt,jt=ht;break e}}else if($r.elementType===Lr||typeof Lr=="object"&&Lr!==null&&Lr.$$typeof===G&&eA(Lr)===$r.type){k(jt,$r.sibling),ht=K($r,_t.props),ht.ref=ua(jt,$r,_t),ht.return=jt,jt=ht;break e}k(jt,$r);break}else y(jt,$r);$r=$r.sibling}_t.type===T?(ht=rp(_t.props.children,jt.mode,ar,_t.key),ht.return=jt,jt=ht):(ar=s2(_t.type,_t.key,_t.props,null,jt.mode,ar),ar.ref=ua(jt,ht,_t),ar.return=jt,jt=ar)}return ve(jt);case S:e:{for($r=_t.key;ht!==null;){if(ht.key===$r)if(ht.tag===4&&ht.stateNode.containerInfo===_t.containerInfo&&ht.stateNode.implementation===_t.implementation){k(jt,ht.sibling),ht=K(ht,_t.children||[]),ht.return=jt,jt=ht;break e}else{k(jt,ht);break}else y(jt,ht);ht=ht.sibling}ht=yC(_t,jt.mode,ar),ht.return=jt,jt=ht}return ve(jt);case G:return $r=_t._init,Ta(jt,ht,$r(_t._payload),ar)}if(Xe(_t))return Br(jt,ht,_t,ar);if(ee(_t))return Mr(jt,ht,_t,ar);Rh(jt,_t)}return typeof _t=="string"&&_t!==""||typeof _t=="number"?(_t=""+_t,ht!==null&&ht.tag===6?(k(jt,ht.sibling),ht=K(ht,_t),ht.return=jt,jt=ht):(k(jt,ht),ht=bC(_t,jt.mode,ar),ht.return=jt,jt=ht),ve(jt)):k(jt,ht)}return Ta}var Mc=Q0(!0),Ow=Q0(!1),$0={},gl=Wl($0),bl=Wl($0),z0=Wl($0);function Oh(p){if(p===$0)throw Error(s(174));return p}function Zb(p,y){switch(rn(z0,y),rn(bl,p),rn(gl,$0),p=y.nodeType,p){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:ot(null,"");break;default:p=p===8?y.parentNode:y,y=p.namespaceURI||null,p=p.tagName,y=ot(y,p)}Ys(gl),rn(gl,y)}function Uh(){Ys(gl),Ys(bl),Ys(z0)}function G0(p){Oh(z0.current);var y=Oh(gl.current),k=ot(y,p.type);y!==k&&(rn(bl,p),rn(gl,k))}function tA(p){bl.current===p&&(Ys(gl),Ys(bl))}var Pn=Wl(0);function Hh(p){for(var y=p;y!==null;){if(y.tag===13){var k=y.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||k.data==="$?"||k.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var V0=[];function Qh(){for(var p=0;p<V0.length;p++)V0[p]._workInProgressVersionPrimary=null;V0.length=0}var W0=j.ReactCurrentDispatcher,ey=j.ReactCurrentBatchConfig,Fc=0,In=null,ha=null,Nn=null,q0=!1,om=!1,K0=0,Uw=0;function fa(){throw Error(s(321))}function ty(p,y){if(y===null)return!1;for(var k=0;k<y.length&&k<p.length;k++)if(!Kn(p[k],y[k]))return!1;return!0}function rA(p,y,k,R,K,re){if(Fc=re,In=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,W0.current=p===null||p.memoizedState===null?cie:die,p=k(R,K),om){re=0;do{if(om=!1,K0=0,25<=re)throw Error(s(301));re+=1,Nn=ha=null,y.updateQueue=null,W0.current=uie,p=k(R,K)}while(om)}if(W0.current=zw,y=ha!==null&&ha.next!==null,Fc=0,Nn=ha=In=null,q0=!1,y)throw Error(s(300));return p}function ry(){var p=K0!==0;return K0=0,p}function Kl(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?In.memoizedState=Nn=p:Nn=Nn.next=p,Nn}function yl(){if(ha===null){var p=In.alternate;p=p!==null?p.memoizedState:null}else p=ha.next;var y=Nn===null?In.memoizedState:Nn.next;if(y!==null)Nn=y,ha=p;else{if(p===null)throw Error(s(310));ha=p,p={memoizedState:ha.memoizedState,baseState:ha.baseState,baseQueue:ha.baseQueue,queue:ha.queue,next:null},Nn===null?In.memoizedState=Nn=p:Nn=Nn.next=p}return Nn}function wd(p,y){return typeof y=="function"?y(p):y}function X0(p){var y=yl(),k=y.queue;if(k===null)throw Error(s(311));k.lastRenderedReducer=p;var R=ha,K=R.baseQueue,re=k.pending;if(re!==null){if(K!==null){var ve=K.next;K.next=re.next,re.next=ve}R.baseQueue=K=re,k.pending=null}if(K!==null){re=K.next,R=R.baseState;var We=ve=null,at=null,Bt=re;do{var er=Bt.lane;if((Fc&er)===er)at!==null&&(at=at.next={lane:0,action:Bt.action,hasEagerState:Bt.hasEagerState,eagerState:Bt.eagerState,next:null}),R=Bt.hasEagerState?Bt.eagerState:p(R,Bt.action);else{var tr={lane:er,action:Bt.action,hasEagerState:Bt.hasEagerState,eagerState:Bt.eagerState,next:null};at===null?(We=at=tr,ve=R):at=at.next=tr,In.lanes|=er,J0|=er}Bt=Bt.next}while(Bt!==null&&Bt!==re);at===null?ve=R:at.next=We,Kn(R,y.memoizedState)||(vl=!0),y.memoizedState=R,y.baseState=ve,y.baseQueue=at,k.lastRenderedState=R}if(p=k.interleaved,p!==null){K=p;do re=K.lane,In.lanes|=re,J0|=re,K=K.next;while(K!==p)}else K===null&&(k.lanes=0);return[y.memoizedState,k.dispatch]}function lm(p){var y=yl(),k=y.queue;if(k===null)throw Error(s(311));k.lastRenderedReducer=p;var R=k.dispatch,K=k.pending,re=y.memoizedState;if(K!==null){k.pending=null;var ve=K=K.next;do re=p(re,ve.action),ve=ve.next;while(ve!==K);Kn(re,y.memoizedState)||(vl=!0),y.memoizedState=re,y.baseQueue===null&&(y.baseState=re),k.lastRenderedState=re}return[re,R]}function Pc(){}function jd(p,y){var k=In,R=yl(),K=y(),re=!Kn(R.memoizedState,K);if(re&&(R.memoizedState=K,vl=!0),R=R.queue,W4(sA.bind(null,k,R,p),[p]),R.getSnapshot!==y||re||Nn!==null&&Nn.memoizedState.tag&1){if(k.flags|=2048,$h(9,Y0.bind(null,k,R,K,y),void 0,null),Si===null)throw Error(s(349));(Fc&30)!==0||Nd(k,y,K)}return K}function Nd(p,y,k){p.flags|=16384,p={getSnapshot:y,value:k},y=In.updateQueue,y===null?(y={lastEffect:null,stores:null},In.updateQueue=y,y.stores=[p]):(k=y.stores,k===null?y.stores=[p]:k.push(p))}function Y0(p,y,k,R){y.value=k,y.getSnapshot=R,sy(y)&&Hw(p)}function sA(p,y,k){return k(function(){sy(y)&&Hw(p)})}function sy(p){var y=p.getSnapshot;p=p.value;try{var k=y();return!Kn(p,k)}catch{return!0}}function Hw(p){var y=jn(p,1);y!==null&&_d(y,p,1,-1)}function nA(p){var y=Kl();return typeof p=="function"&&(p=p()),y.memoizedState=y.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:p},y.queue=p,p=p.dispatch=lie.bind(null,In,p),[y.memoizedState,p]}function $h(p,y,k,R){return p={tag:p,create:y,destroy:k,deps:R,next:null},y=In.updateQueue,y===null?(y={lastEffect:null,stores:null},In.updateQueue=y,y.lastEffect=p.next=p):(k=y.lastEffect,k===null?y.lastEffect=p.next=p:(R=k.next,k.next=p,p.next=R,y.lastEffect=p)),p}function CD(){return yl().memoizedState}function Qw(p,y,k,R){var K=Kl();In.flags|=p,K.memoizedState=$h(1|y,k,void 0,R===void 0?null:R)}function $w(p,y,k,R){var K=yl();R=R===void 0?null:R;var re=void 0;if(ha!==null){var ve=ha.memoizedState;if(re=ve.destroy,R!==null&&ty(R,ve.deps)){K.memoizedState=$h(y,k,re,R);return}}In.flags|=p,K.memoizedState=$h(1|y,k,re,R)}function _D(p,y){return Qw(8390656,8,p,y)}function W4(p,y){return $w(2048,8,p,y)}function ED(p,y){return $w(4,2,p,y)}function kD(p,y){return $w(4,4,p,y)}function TD(p,y){if(typeof y=="function")return p=p(),y(p),function(){y(null)};if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function BD(p,y,k){return k=k!=null?k.concat([p]):null,$w(4,4,TD.bind(null,y,p),k)}function q4(){}function MD(p,y){var k=yl();y=y===void 0?null:y;var R=k.memoizedState;return R!==null&&y!==null&&ty(y,R[1])?R[0]:(k.memoizedState=[p,y],p)}function FD(p,y){var k=yl();y=y===void 0?null:y;var R=k.memoizedState;return R!==null&&y!==null&&ty(y,R[1])?R[0]:(p=p(),k.memoizedState=[p,y],p)}function PD(p,y,k){return(Fc&21)===0?(p.baseState&&(p.baseState=!1,vl=!0),p.memoizedState=k):(Kn(k,y)||(k=ga(),In.lanes|=k,J0|=k,p.baseState=!0),y)}function iie(p,y){var k=ss;ss=k!==0&&4>k?k:4,p(!0);var R=ey.transition;ey.transition={};try{p(!1),y()}finally{ss=k,ey.transition=R}}function ID(){return yl().memoizedState}function oie(p,y,k){var R=hm(p);if(k={lane:R,action:k,hasEagerState:!1,eagerState:null,next:null},LD(p))DD(y,k);else if(k=Qs(p,y,k,R),k!==null){var K=Wo();_d(k,p,R,K),RD(k,y,R)}}function lie(p,y,k){var R=hm(p),K={lane:R,action:k,hasEagerState:!1,eagerState:null,next:null};if(LD(p))DD(y,K);else{var re=p.alternate;if(p.lanes===0&&(re===null||re.lanes===0)&&(re=y.lastRenderedReducer,re!==null))try{var ve=y.lastRenderedState,We=re(ve,k);if(K.hasEagerState=!0,K.eagerState=We,Kn(We,ve)){var at=y.interleaved;at===null?(K.next=K,Fn(y)):(K.next=at.next,at.next=K),y.interleaved=K;return}}catch{}finally{}k=Qs(p,y,K,R),k!==null&&(K=Wo(),_d(k,p,R,K),RD(k,y,R))}}function LD(p){var y=p.alternate;return p===In||y!==null&&y===In}function DD(p,y){om=q0=!0;var k=p.pending;k===null?y.next=y:(y.next=k.next,k.next=y),p.pending=y}function RD(p,y,k){if((k&4194240)!==0){var R=y.lanes;R&=p.pendingLanes,k|=R,y.lanes=k,ro(p,k)}}var zw={readContext:rs,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},cie={readContext:rs,useCallback:function(p,y){return Kl().memoizedState=[p,y===void 0?null:y],p},useContext:rs,useEffect:_D,useImperativeHandle:function(p,y,k){return k=k!=null?k.concat([p]):null,Qw(4194308,4,TD.bind(null,y,p),k)},useLayoutEffect:function(p,y){return Qw(4194308,4,p,y)},useInsertionEffect:function(p,y){return Qw(4,2,p,y)},useMemo:function(p,y){var k=Kl();return y=y===void 0?null:y,p=p(),k.memoizedState=[p,y],p},useReducer:function(p,y,k){var R=Kl();return y=k!==void 0?k(y):y,R.memoizedState=R.baseState=y,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:y},R.queue=p,p=p.dispatch=oie.bind(null,In,p),[R.memoizedState,p]},useRef:function(p){var y=Kl();return p={current:p},y.memoizedState=p},useState:nA,useDebugValue:q4,useDeferredValue:function(p){return Kl().memoizedState=p},useTransition:function(){var p=nA(!1),y=p[0];return p=iie.bind(null,p[1]),Kl().memoizedState=p,[y,p]},useMutableSource:function(){},useSyncExternalStore:function(p,y,k){var R=In,K=Kl();if(zt){if(k===void 0)throw Error(s(407));k=k()}else{if(k=y(),Si===null)throw Error(s(349));(Fc&30)!==0||Nd(R,y,k)}K.memoizedState=k;var re={value:k,getSnapshot:y};return K.queue=re,_D(sA.bind(null,R,re,p),[p]),R.flags|=2048,$h(9,Y0.bind(null,R,re,k,y),void 0,null),k},useId:function(){var p=Kl(),y=Si.identifierPrefix;if(zt){var k=Oe,R=wt;k=(R&~(1<<32-rr(R)-1)).toString(32)+k,y=":"+y+"R"+k,k=K0++,0<k&&(y+="H"+k.toString(32)),y+=":"}else k=Uw++,y=":"+y+"r"+k.toString(32)+":";return p.memoizedState=y},unstable_isNewReconciler:!1},die={readContext:rs,useCallback:MD,useContext:rs,useEffect:W4,useImperativeHandle:BD,useInsertionEffect:ED,useLayoutEffect:kD,useMemo:FD,useReducer:X0,useRef:CD,useState:function(){return X0(wd)},useDebugValue:q4,useDeferredValue:function(p){var y=yl();return PD(y,ha.memoizedState,p)},useTransition:function(){var p=X0(wd)[0],y=yl().memoizedState;return[p,y]},useMutableSource:Pc,useSyncExternalStore:jd,useId:ID,unstable_isNewReconciler:!1},uie={readContext:rs,useCallback:MD,useContext:rs,useEffect:W4,useImperativeHandle:BD,useInsertionEffect:ED,useLayoutEffect:kD,useMemo:FD,useReducer:lm,useRef:CD,useState:function(){return lm(wd)},useDebugValue:q4,useDeferredValue:function(p){var y=yl();return ha===null?y.memoizedState=p:PD(y,ha.memoizedState,p)},useTransition:function(){var p=lm(wd)[0],y=yl().memoizedState;return[p,y]},useMutableSource:Pc,useSyncExternalStore:jd,useId:ID,unstable_isNewReconciler:!1};function aA(p,y){try{var k="",R=y;do k+=W(R),R=R.return;while(R);var K=k}catch(re){K=`
Error generating stack: `+re.message+`
`+re.stack}return{value:p,source:y,stack:K,digest:null}}function K4(p,y,k){return{value:p,source:null,stack:k??null,digest:y??null}}function X4(p,y){try{console.error(y.value)}catch(k){setTimeout(function(){throw k})}}var hie=typeof WeakMap=="function"?WeakMap:Map;function OD(p,y,k){k=js(-1,k),k.tag=3,k.payload={element:null};var R=y.value;return k.callback=function(){Yw||(Yw=!0,uC=R),X4(p,y)},k}function UD(p,y,k){k=js(-1,k),k.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var K=y.value;k.payload=function(){return R(K)},k.callback=function(){X4(p,y)}}var re=p.stateNode;return re!==null&&typeof re.componentDidCatch=="function"&&(k.callback=function(){X4(p,y),typeof R!="function"&&(dm===null?dm=new Set([this]):dm.add(this));var ve=y.stack;this.componentDidCatch(y.value,{componentStack:ve!==null?ve:""})}),k}function HD(p,y,k){var R=p.pingCache;if(R===null){R=p.pingCache=new hie;var K=new Set;R.set(y,K)}else K=R.get(y),K===void 0&&(K=new Set,R.set(y,K));K.has(k)||(K.add(k),p=Cie.bind(null,p,y,k),y.then(p,p))}function QD(p){do{var y;if((y=p.tag===13)&&(y=p.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return p;p=p.return}while(p!==null);return null}function $D(p,y,k,R,K){return(p.mode&1)===0?(p===y?p.flags|=65536:(p.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(y=js(-1,1),y.tag=2,gn(k,y,1))),k.lanes|=1),p):(p.flags|=65536,p.lanes=K,p)}var fie=j.ReactCurrentOwner,vl=!1;function Vo(p,y,k,R){y.child=p===null?Ow(y,null,k,R):Mc(y,p.child,k,R)}function zD(p,y,k,R,K){k=k.render;var re=y.ref;return Mn(y,K),R=rA(p,y,k,R,re,K),k=ry(),p!==null&&!vl?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~K,zh(p,y,K)):(zt&&k&&Rt(y),y.flags|=1,Vo(p,y,R,K),y.child)}function GD(p,y,k,R,K){if(p===null){var re=k.type;return typeof re=="function"&&!gC(re)&&re.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(y.tag=15,y.type=re,VD(p,y,re,R,K)):(p=s2(k.type,null,R,y,y.mode,K),p.ref=y.ref,p.return=y,y.child=p)}if(re=p.child,(p.lanes&K)===0){var ve=re.memoizedProps;if(k=k.compare,k=k!==null?k:io,k(ve,R)&&p.ref===y.ref)return zh(p,y,K)}return y.flags|=1,p=mm(re,R),p.ref=y.ref,p.return=y,y.child=p}function VD(p,y,k,R,K){if(p!==null){var re=p.memoizedProps;if(io(re,R)&&p.ref===y.ref)if(vl=!1,y.pendingProps=R=re,(p.lanes&K)!==0)(p.flags&131072)!==0&&(vl=!0);else return y.lanes=p.lanes,zh(p,y,K)}return Y4(p,y,k,R,K)}function WD(p,y,k){var R=y.pendingProps,K=R.children,re=p!==null?p.memoizedState:null;if(R.mode==="hidden")if((y.mode&1)===0)y.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(oA,Xl),Xl|=k;else{if((k&1073741824)===0)return p=re!==null?re.baseLanes|k:k,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:p,cachePool:null,transitions:null},y.updateQueue=null,rn(oA,Xl),Xl|=p,null;y.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=re!==null?re.baseLanes:k,rn(oA,Xl),Xl|=R}else re!==null?(R=re.baseLanes|k,y.memoizedState=null):R=k,rn(oA,Xl),Xl|=R;return Vo(p,y,K,k),y.child}function qD(p,y){var k=y.ref;(p===null&&k!==null||p!==null&&p.ref!==k)&&(y.flags|=512,y.flags|=2097152)}function Y4(p,y,k,R,K){var re=uo(k)?Lh:si.current;return re=im(y,re),Mn(y,K),k=rA(p,y,k,R,re,K),R=ry(),p!==null&&!vl?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~K,zh(p,y,K)):(zt&&R&&Rt(y),y.flags|=1,Vo(p,y,k,K),y.child)}function KD(p,y,k,R,K){if(uo(k)){var re=!0;Dh(y)}else re=!1;if(Mn(y,K),y.stateNode===null)Vw(p,y),Al(y,k,R),ql(y,k,R,K),R=!0;else if(p===null){var ve=y.stateNode,We=y.memoizedProps;ve.props=We;var at=ve.context,Bt=k.contextType;typeof Bt=="object"&&Bt!==null?Bt=rs(Bt):(Bt=uo(k)?Lh:si.current,Bt=im(y,Bt));var er=k.getDerivedStateFromProps,tr=typeof er=="function"||typeof ve.getSnapshotBeforeUpdate=="function";tr||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(We!==R||at!==Bt)&&vu(y,ve,R,Bt),$a=!1;var Zt=y.memoizedState;ve.state=Zt,Ni(y,R,ve,K),at=y.memoizedState,We!==R||Zt!==at||co.current||$a?(typeof er=="function"&&($i(y,k,er,R),at=y.memoizedState),(We=$a||fo(y,k,We,R,Zt,at,Bt))?(tr||typeof ve.UNSAFE_componentWillMount!="function"&&typeof ve.componentWillMount!="function"||(typeof ve.componentWillMount=="function"&&ve.componentWillMount(),typeof ve.UNSAFE_componentWillMount=="function"&&ve.UNSAFE_componentWillMount()),typeof ve.componentDidMount=="function"&&(y.flags|=4194308)):(typeof ve.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=R,y.memoizedState=at),ve.props=R,ve.state=at,ve.context=Bt,R=We):(typeof ve.componentDidMount=="function"&&(y.flags|=4194308),R=!1)}else{ve=y.stateNode,Hi(p,y),We=y.memoizedProps,Bt=y.type===y.elementType?We:Or(y.type,We),ve.props=Bt,tr=y.pendingProps,Zt=ve.context,at=k.contextType,typeof at=="object"&&at!==null?at=rs(at):(at=uo(k)?Lh:si.current,at=im(y,at));var vr=k.getDerivedStateFromProps;(er=typeof vr=="function"||typeof ve.getSnapshotBeforeUpdate=="function")||typeof ve.UNSAFE_componentWillReceiveProps!="function"&&typeof ve.componentWillReceiveProps!="function"||(We!==tr||Zt!==at)&&vu(y,ve,R,at),$a=!1,Zt=y.memoizedState,ve.state=Zt,Ni(y,R,ve,K);var Br=y.memoizedState;We!==tr||Zt!==Br||co.current||$a?(typeof vr=="function"&&($i(y,k,vr,R),Br=y.memoizedState),(Bt=$a||fo(y,k,Bt,R,Zt,Br,at)||!1)?(er||typeof ve.UNSAFE_componentWillUpdate!="function"&&typeof ve.componentWillUpdate!="function"||(typeof ve.componentWillUpdate=="function"&&ve.componentWillUpdate(R,Br,at),typeof ve.UNSAFE_componentWillUpdate=="function"&&ve.UNSAFE_componentWillUpdate(R,Br,at)),typeof ve.componentDidUpdate=="function"&&(y.flags|=4),typeof ve.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof ve.componentDidUpdate!="function"||We===p.memoizedProps&&Zt===p.memoizedState||(y.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||We===p.memoizedProps&&Zt===p.memoizedState||(y.flags|=1024),y.memoizedProps=R,y.memoizedState=Br),ve.props=R,ve.state=Br,ve.context=at,R=Bt):(typeof ve.componentDidUpdate!="function"||We===p.memoizedProps&&Zt===p.memoizedState||(y.flags|=4),typeof ve.getSnapshotBeforeUpdate!="function"||We===p.memoizedProps&&Zt===p.memoizedState||(y.flags|=1024),R=!1)}return J4(p,y,k,R,re,K)}function J4(p,y,k,R,K,re){qD(p,y);var ve=(y.flags&128)!==0;if(!R&&!ve)return K&&Rw(y,k,!1),zh(p,y,re);R=y.stateNode,fie.current=y;var We=ve&&typeof k.getDerivedStateFromError!="function"?null:R.render();return y.flags|=1,p!==null&&ve?(y.child=Mc(y,p.child,null,re),y.child=Mc(y,null,We,re)):Vo(p,y,We,re),y.memoizedState=R.state,K&&Rw(y,k,!0),y.child}function XD(p){var y=p.stateNode;y.pendingContext?Dw(p,y.pendingContext,y.pendingContext!==y.context):y.context&&Dw(p,y.context,!1),Zb(p,y.containerInfo)}function YD(p,y,k,R,K){return Nr(),lr(K),y.flags|=256,Vo(p,y,k,R),y.child}var Z4={dehydrated:null,treeContext:null,retryLane:0};function eC(p){return{baseLanes:p,cachePool:null,transitions:null}}function JD(p,y,k){var R=y.pendingProps,K=Pn.current,re=!1,ve=(y.flags&128)!==0,We;if((We=ve)||(We=p!==null&&p.memoizedState===null?!1:(K&2)!==0),We?(re=!0,y.flags&=-129):(p===null||p.memoizedState!==null)&&(K|=1),rn(Pn,K&1),p===null)return kr(y),p=y.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((y.mode&1)===0?y.lanes=1:p.data==="$!"?y.lanes=8:y.lanes=1073741824,null):(ve=R.children,p=R.fallback,re?(R=y.mode,re=y.child,ve={mode:"hidden",children:ve},(R&1)===0&&re!==null?(re.childLanes=0,re.pendingProps=ve):re=n2(ve,R,0,null),p=rp(p,R,k,null),re.return=y,p.return=y,re.sibling=p,y.child=re,y.child.memoizedState=eC(k),y.memoizedState=Z4,p):tC(y,ve));if(K=p.memoizedState,K!==null&&(We=K.dehydrated,We!==null))return mie(p,y,ve,R,We,K,k);if(re){re=R.fallback,ve=y.mode,K=p.child,We=K.sibling;var at={mode:"hidden",children:R.children};return(ve&1)===0&&y.child!==K?(R=y.child,R.childLanes=0,R.pendingProps=at,y.deletions=null):(R=mm(K,at),R.subtreeFlags=K.subtreeFlags&14680064),We!==null?re=mm(We,re):(re=rp(re,ve,k,null),re.flags|=2),re.return=y,R.return=y,R.sibling=re,y.child=R,R=re,re=y.child,ve=p.child.memoizedState,ve=ve===null?eC(k):{baseLanes:ve.baseLanes|k,cachePool:null,transitions:ve.transitions},re.memoizedState=ve,re.childLanes=p.childLanes&~k,y.memoizedState=Z4,R}return re=p.child,p=re.sibling,R=mm(re,{mode:"visible",children:R.children}),(y.mode&1)===0&&(R.lanes=k),R.return=y,R.sibling=null,p!==null&&(k=y.deletions,k===null?(y.deletions=[p],y.flags|=16):k.push(p)),y.child=R,y.memoizedState=null,R}function tC(p,y){return y=n2({mode:"visible",children:y},p.mode,0,null),y.return=p,p.child=y}function Gw(p,y,k,R){return R!==null&&lr(R),Mc(y,p.child,null,k),p=tC(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function mie(p,y,k,R,K,re,ve){if(k)return y.flags&256?(y.flags&=-257,R=K4(Error(s(422))),Gw(p,y,ve,R)):y.memoizedState!==null?(y.child=p.child,y.flags|=128,null):(re=R.fallback,K=y.mode,R=n2({mode:"visible",children:R.children},K,0,null),re=rp(re,K,ve,null),re.flags|=2,R.return=y,re.return=y,R.sibling=re,y.child=R,(y.mode&1)!==0&&Mc(y,p.child,null,ve),y.child.memoizedState=eC(ve),y.memoizedState=Z4,re);if((y.mode&1)===0)return Gw(p,y,ve,null);if(K.data==="$!"){if(R=K.nextSibling&&K.nextSibling.dataset,R)var We=R.dgst;return R=We,re=Error(s(419)),R=K4(re,R,void 0),Gw(p,y,ve,R)}if(We=(ve&p.childLanes)!==0,vl||We){if(R=Si,R!==null){switch(ve&-ve){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(R.suspendedLanes|ve))!==0?0:K,K!==0&&K!==re.retryLane&&(re.retryLane=K,jn(p,K),_d(R,p,K,-1))}return AC(),R=K4(Error(s(421))),Gw(p,y,ve,R)}return K.data==="$?"?(y.flags|=128,y.child=p.child,y=_ie.bind(null,p),K._reactRetry=y,null):(p=re.treeContext,It=Ui(K.nextSibling),Pt=y,zt=!0,Vt=null,p!==null&&(ke[Re++]=wt,ke[Re++]=Oe,ke[Re++]=nt,wt=p.id,Oe=p.overflow,nt=y),y=tC(y,R.children),y.flags|=4096,y)}function ZD(p,y,k){p.lanes|=y;var R=p.alternate;R!==null&&(R.lanes|=y),ai(p.return,y,k)}function rC(p,y,k,R,K){var re=p.memoizedState;re===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:R,tail:k,tailMode:K}:(re.isBackwards=y,re.rendering=null,re.renderingStartTime=0,re.last=R,re.tail=k,re.tailMode=K)}function e8(p,y,k){var R=y.pendingProps,K=R.revealOrder,re=R.tail;if(Vo(p,y,R.children,k),R=Pn.current,(R&2)!==0)R=R&1|2,y.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&ZD(p,k,y);else if(p.tag===19)ZD(p,k,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(rn(Pn,R),(y.mode&1)===0)y.memoizedState=null;else switch(K){case"forwards":for(k=y.child,K=null;k!==null;)p=k.alternate,p!==null&&Hh(p)===null&&(K=k),k=k.sibling;k=K,k===null?(K=y.child,y.child=null):(K=k.sibling,k.sibling=null),rC(y,!1,K,k,re);break;case"backwards":for(k=null,K=y.child,y.child=null;K!==null;){if(p=K.alternate,p!==null&&Hh(p)===null){y.child=K;break}p=K.sibling,K.sibling=k,k=K,K=p}rC(y,!0,k,null,re);break;case"together":rC(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function Vw(p,y){(y.mode&1)===0&&p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2)}function zh(p,y,k){if(p!==null&&(y.dependencies=p.dependencies),J0|=y.lanes,(k&y.childLanes)===0)return null;if(p!==null&&y.child!==p.child)throw Error(s(153));if(y.child!==null){for(p=y.child,k=mm(p,p.pendingProps),y.child=k,k.return=y;p.sibling!==null;)p=p.sibling,k=k.sibling=mm(p,p.pendingProps),k.return=y;k.sibling=null}return y.child}function pie(p,y,k){switch(y.tag){case 3:XD(y),Nr();break;case 5:G0(y);break;case 1:uo(y.type)&&Dh(y);break;case 4:Zb(y,y.stateNode.containerInfo);break;case 10:var R=y.type._context,K=y.memoizedProps.value;rn(gs,R._currentValue),R._currentValue=K;break;case 13:if(R=y.memoizedState,R!==null)return R.dehydrated!==null?(rn(Pn,Pn.current&1),y.flags|=128,null):(k&y.child.childLanes)!==0?JD(p,y,k):(rn(Pn,Pn.current&1),p=zh(p,y,k),p!==null?p.sibling:null);rn(Pn,Pn.current&1);break;case 19:if(R=(k&y.childLanes)!==0,(p.flags&128)!==0){if(R)return e8(p,y,k);y.flags|=128}if(K=y.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),rn(Pn,Pn.current),R)break;return null;case 22:case 23:return y.lanes=0,WD(p,y,k)}return zh(p,y,k)}var t8,sC,r8,s8;t8=function(p,y){for(var k=y.child;k!==null;){if(k.tag===5||k.tag===6)p.appendChild(k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===y)break;for(;k.sibling===null;){if(k.return===null||k.return===y)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},sC=function(){},r8=function(p,y,k,R){var K=p.memoizedProps;if(K!==R){p=y.stateNode,Oh(gl.current);var re=null;switch(k){case"input":K=se(p,K),R=se(p,R),re=[];break;case"select":K=q({},K,{value:void 0}),R=q({},R,{value:void 0}),re=[];break;case"textarea":K=ce(p,K),R=ce(p,R),re=[];break;default:typeof K.onClick!="function"&&typeof R.onClick=="function"&&(p.onclick=sm)}tt(k,R);var ve;k=null;for(Bt in K)if(!R.hasOwnProperty(Bt)&&K.hasOwnProperty(Bt)&&K[Bt]!=null)if(Bt==="style"){var We=K[Bt];for(ve in We)We.hasOwnProperty(ve)&&(k||(k={}),k[ve]="")}else Bt!=="dangerouslySetInnerHTML"&&Bt!=="children"&&Bt!=="suppressContentEditableWarning"&&Bt!=="suppressHydrationWarning"&&Bt!=="autoFocus"&&(a.hasOwnProperty(Bt)?re||(re=[]):(re=re||[]).push(Bt,null));for(Bt in R){var at=R[Bt];if(We=K!=null?K[Bt]:void 0,R.hasOwnProperty(Bt)&&at!==We&&(at!=null||We!=null))if(Bt==="style")if(We){for(ve in We)!We.hasOwnProperty(ve)||at&&at.hasOwnProperty(ve)||(k||(k={}),k[ve]="");for(ve in at)at.hasOwnProperty(ve)&&We[ve]!==at[ve]&&(k||(k={}),k[ve]=at[ve])}else k||(re||(re=[]),re.push(Bt,k)),k=at;else Bt==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,We=We?We.__html:void 0,at!=null&&We!==at&&(re=re||[]).push(Bt,at)):Bt==="children"?typeof at!="string"&&typeof at!="number"||(re=re||[]).push(Bt,""+at):Bt!=="suppressContentEditableWarning"&&Bt!=="suppressHydrationWarning"&&(a.hasOwnProperty(Bt)?(at!=null&&Bt==="onScroll"&&un("scroll",p),re||We===at||(re=[])):(re=re||[]).push(Bt,at))}k&&(re=re||[]).push("style",k);var Bt=re;(y.updateQueue=Bt)&&(y.flags|=4)}},s8=function(p,y,k,R){k!==R&&(y.flags|=4)};function ny(p,y){if(!zt)switch(p.tailMode){case"hidden":y=p.tail;for(var k=null;y!==null;)y.alternate!==null&&(k=y),y=y.sibling;k===null?p.tail=null:k.sibling=null;break;case"collapsed":k=p.tail;for(var R=null;k!==null;)k.alternate!==null&&(R=k),k=k.sibling;R===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function mo(p){var y=p.alternate!==null&&p.alternate.child===p.child,k=0,R=0;if(y)for(var K=p.child;K!==null;)k|=K.lanes|K.childLanes,R|=K.subtreeFlags&14680064,R|=K.flags&14680064,K.return=p,K=K.sibling;else for(K=p.child;K!==null;)k|=K.lanes|K.childLanes,R|=K.subtreeFlags,R|=K.flags,K.return=p,K=K.sibling;return p.subtreeFlags|=R,p.childLanes=k,y}function xie(p,y,k){var R=y.pendingProps;switch(St(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mo(y),null;case 1:return uo(y.type)&&Zx(),mo(y),null;case 3:return R=y.stateNode,Uh(),Ys(co),Ys(si),Qh(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(Yn(y)?y.flags|=4:p===null||p.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,Vt!==null&&(mC(Vt),Vt=null))),sC(p,y),mo(y),null;case 5:tA(y);var K=Oh(z0.current);if(k=y.type,p!==null&&y.stateNode!=null)r8(p,y,k,R,K),p.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!R){if(y.stateNode===null)throw Error(s(166));return mo(y),null}if(p=Oh(gl.current),Yn(y)){R=y.stateNode,k=y.type;var re=y.memoizedProps;switch(R[Bc]=y,R[nm]=re,p=(y.mode&1)!==0,k){case"dialog":un("cancel",R),un("close",R);break;case"iframe":case"object":case"embed":un("load",R);break;case"video":case"audio":for(K=0;K<gu.length;K++)un(gu[K],R);break;case"source":un("error",R);break;case"img":case"image":case"link":un("error",R),un("load",R);break;case"details":un("toggle",R);break;case"input":J(R,re),un("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!re.multiple},un("invalid",R);break;case"textarea":_e(R,re),un("invalid",R)}tt(k,re),K=null;for(var ve in re)if(re.hasOwnProperty(ve)){var We=re[ve];ve==="children"?typeof We=="string"?R.textContent!==We&&(re.suppressHydrationWarning!==!0&&Jx(R.textContent,We,p),K=["children",We]):typeof We=="number"&&R.textContent!==""+We&&(re.suppressHydrationWarning!==!0&&Jx(R.textContent,We,p),K=["children",""+We]):a.hasOwnProperty(ve)&&We!=null&&ve==="onScroll"&&un("scroll",R)}switch(k){case"input":Be(R),He(R,re,!0);break;case"textarea":Be(R),et(R);break;case"select":case"option":break;default:typeof re.onClick=="function"&&(R.onclick=sm)}R=K,y.updateQueue=R,R!==null&&(y.flags|=4)}else{ve=K.nodeType===9?K:K.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=st(k)),p==="http://www.w3.org/1999/xhtml"?k==="script"?(p=ve.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof R.is=="string"?p=ve.createElement(k,{is:R.is}):(p=ve.createElement(k),k==="select"&&(ve=p,R.multiple?ve.multiple=!0:R.size&&(ve.size=R.size))):p=ve.createElementNS(p,k),p[Bc]=y,p[nm]=R,t8(p,y,!1,!1),y.stateNode=p;e:{switch(ve=Ze(k,R),k){case"dialog":un("cancel",p),un("close",p),K=R;break;case"iframe":case"object":case"embed":un("load",p),K=R;break;case"video":case"audio":for(K=0;K<gu.length;K++)un(gu[K],p);K=R;break;case"source":un("error",p),K=R;break;case"img":case"image":case"link":un("error",p),un("load",p),K=R;break;case"details":un("toggle",p),K=R;break;case"input":J(p,R),K=se(p,R),un("invalid",p);break;case"option":K=R;break;case"select":p._wrapperState={wasMultiple:!!R.multiple},K=q({},R,{value:void 0}),un("invalid",p);break;case"textarea":_e(p,R),K=ce(p,R),un("invalid",p);break;default:K=R}tt(k,K),We=K;for(re in We)if(We.hasOwnProperty(re)){var at=We[re];re==="style"?Yt(p,at):re==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&At(p,at)):re==="children"?typeof at=="string"?(k!=="textarea"||at!=="")&&Tt(p,at):typeof at=="number"&&Tt(p,""+at):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(a.hasOwnProperty(re)?at!=null&&re==="onScroll"&&un("scroll",p):at!=null&&v(p,re,at,ve))}switch(k){case"input":Be(p),He(p,R,!1);break;case"textarea":Be(p),et(p);break;case"option":R.value!=null&&p.setAttribute("value",""+be(R.value));break;case"select":p.multiple=!!R.multiple,re=R.value,re!=null?he(p,!!R.multiple,re,!1):R.defaultValue!=null&&he(p,!!R.multiple,R.defaultValue,!0);break;default:typeof K.onClick=="function"&&(p.onclick=sm)}switch(k){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(y.flags|=4)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return mo(y),null;case 6:if(p&&y.stateNode!=null)s8(p,y,p.memoizedProps,R);else{if(typeof R!="string"&&y.stateNode===null)throw Error(s(166));if(k=Oh(z0.current),Oh(gl.current),Yn(y)){if(R=y.stateNode,k=y.memoizedProps,R[Bc]=y,(re=R.nodeValue!==k)&&(p=Pt,p!==null))switch(p.tag){case 3:Jx(R.nodeValue,k,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Jx(R.nodeValue,k,(p.mode&1)!==0)}re&&(y.flags|=4)}else R=(k.nodeType===9?k:k.ownerDocument).createTextNode(R),R[Bc]=y,y.stateNode=R}return mo(y),null;case 13:if(Ys(Pn),R=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(zt&&It!==null&&(y.mode&1)!==0&&(y.flags&128)===0)is(),Nr(),y.flags|=98560,re=!1;else if(re=Yn(y),R!==null&&R.dehydrated!==null){if(p===null){if(!re)throw Error(s(318));if(re=y.memoizedState,re=re!==null?re.dehydrated:null,!re)throw Error(s(317));re[Bc]=y}else Nr(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;mo(y),re=!1}else Vt!==null&&(mC(Vt),Vt=null),re=!0;if(!re)return y.flags&65536?y:null}return(y.flags&128)!==0?(y.lanes=k,y):(R=R!==null,R!==(p!==null&&p.memoizedState!==null)&&R&&(y.child.flags|=8192,(y.mode&1)!==0&&(p===null||(Pn.current&1)!==0?ii===0&&(ii=3):AC())),y.updateQueue!==null&&(y.flags|=4),mo(y),null);case 4:return Uh(),sC(p,y),p===null&&Mh(y.stateNode.containerInfo),mo(y),null;case 10:return Qa(y.type._context),mo(y),null;case 17:return uo(y.type)&&Zx(),mo(y),null;case 19:if(Ys(Pn),re=y.memoizedState,re===null)return mo(y),null;if(R=(y.flags&128)!==0,ve=re.rendering,ve===null)if(R)ny(re,!1);else{if(ii!==0||p!==null&&(p.flags&128)!==0)for(p=y.child;p!==null;){if(ve=Hh(p),ve!==null){for(y.flags|=128,ny(re,!1),R=ve.updateQueue,R!==null&&(y.updateQueue=R,y.flags|=4),y.subtreeFlags=0,R=k,k=y.child;k!==null;)re=k,p=R,re.flags&=14680066,ve=re.alternate,ve===null?(re.childLanes=0,re.lanes=p,re.child=null,re.subtreeFlags=0,re.memoizedProps=null,re.memoizedState=null,re.updateQueue=null,re.dependencies=null,re.stateNode=null):(re.childLanes=ve.childLanes,re.lanes=ve.lanes,re.child=ve.child,re.subtreeFlags=0,re.deletions=null,re.memoizedProps=ve.memoizedProps,re.memoizedState=ve.memoizedState,re.updateQueue=ve.updateQueue,re.type=ve.type,p=ve.dependencies,re.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),k=k.sibling;return rn(Pn,Pn.current&1|2),y.child}p=p.sibling}re.tail!==null&&Ne()>lA&&(y.flags|=128,R=!0,ny(re,!1),y.lanes=4194304)}else{if(!R)if(p=Hh(ve),p!==null){if(y.flags|=128,R=!0,k=p.updateQueue,k!==null&&(y.updateQueue=k,y.flags|=4),ny(re,!0),re.tail===null&&re.tailMode==="hidden"&&!ve.alternate&&!zt)return mo(y),null}else 2*Ne()-re.renderingStartTime>lA&&k!==1073741824&&(y.flags|=128,R=!0,ny(re,!1),y.lanes=4194304);re.isBackwards?(ve.sibling=y.child,y.child=ve):(k=re.last,k!==null?k.sibling=ve:y.child=ve,re.last=ve)}return re.tail!==null?(y=re.tail,re.rendering=y,re.tail=y.sibling,re.renderingStartTime=Ne(),y.sibling=null,k=Pn.current,rn(Pn,R?k&1|2:k&1),y):(mo(y),null);case 22:case 23:return xC(),R=y.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(y.flags|=8192),R&&(y.mode&1)!==0?(Xl&1073741824)!==0&&(mo(y),y.subtreeFlags&6&&(y.flags|=8192)):mo(y),null;case 24:return null;case 25:return null}throw Error(s(156,y.tag))}function Aie(p,y){switch(St(y),y.tag){case 1:return uo(y.type)&&Zx(),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return Uh(),Ys(co),Ys(si),Qh(),p=y.flags,(p&65536)!==0&&(p&128)===0?(y.flags=p&-65537|128,y):null;case 5:return tA(y),null;case 13:if(Ys(Pn),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(s(340));Nr()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return Ys(Pn),null;case 4:return Uh(),null;case 10:return Qa(y.type._context),null;case 22:case 23:return xC(),null;case 24:return null;default:return null}}var Ww=!1,po=!1,gie=typeof WeakSet=="function"?WeakSet:Set,Cr=null;function iA(p,y){var k=p.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(R){va(p,y,R)}else k.current=null}function nC(p,y,k){try{k()}catch(R){va(p,y,R)}}var n8=!1;function bie(p,y){if(O0=Gf,p=ya(),Vl(p)){if("selectionStart"in p)var k={start:p.selectionStart,end:p.selectionEnd};else e:{k=(k=p.ownerDocument)&&k.defaultView||window;var R=k.getSelection&&k.getSelection();if(R&&R.rangeCount!==0){k=R.anchorNode;var K=R.anchorOffset,re=R.focusNode;R=R.focusOffset;try{k.nodeType,re.nodeType}catch{k=null;break e}var ve=0,We=-1,at=-1,Bt=0,er=0,tr=p,Zt=null;t:for(;;){for(var vr;tr!==k||K!==0&&tr.nodeType!==3||(We=ve+K),tr!==re||R!==0&&tr.nodeType!==3||(at=ve+R),tr.nodeType===3&&(ve+=tr.nodeValue.length),(vr=tr.firstChild)!==null;)Zt=tr,tr=vr;for(;;){if(tr===p)break t;if(Zt===k&&++Bt===K&&(We=ve),Zt===re&&++er===R&&(at=ve),(vr=tr.nextSibling)!==null)break;tr=Zt,Zt=tr.parentNode}tr=vr}k=We===-1||at===-1?null:{start:We,end:at}}else k=null}k=k||{start:0,end:0}}else k=null;for(Ph={focusedElem:p,selectionRange:k},Gf=!1,Cr=y;Cr!==null;)if(y=Cr,p=y.child,(y.subtreeFlags&1028)!==0&&p!==null)p.return=y,Cr=p;else for(;Cr!==null;){y=Cr;try{var Br=y.alternate;if((y.flags&1024)!==0)switch(y.tag){case 0:case 11:case 15:break;case 1:if(Br!==null){var Mr=Br.memoizedProps,Ta=Br.memoizedState,jt=y.stateNode,ht=jt.getSnapshotBeforeUpdate(y.elementType===y.type?Mr:Or(y.type,Mr),Ta);jt.__reactInternalSnapshotBeforeUpdate=ht}break;case 3:var _t=y.stateNode.containerInfo;_t.nodeType===1?_t.textContent="":_t.nodeType===9&&_t.documentElement&&_t.removeChild(_t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ar){va(y,y.return,ar)}if(p=y.sibling,p!==null){p.return=y.return,Cr=p;break}Cr=y.return}return Br=n8,n8=!1,Br}function ay(p,y,k){var R=y.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var K=R=R.next;do{if((K.tag&p)===p){var re=K.destroy;K.destroy=void 0,re!==void 0&&nC(y,k,re)}K=K.next}while(K!==R)}}function qw(p,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&p)===p){var R=k.create;k.destroy=R()}k=k.next}while(k!==y)}}function aC(p){var y=p.ref;if(y!==null){var k=p.stateNode;switch(p.tag){case 5:p=k;break;default:p=k}typeof y=="function"?y(p):y.current=p}}function a8(p){var y=p.alternate;y!==null&&(p.alternate=null,a8(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&(delete y[Bc],delete y[nm],delete y[lo],delete y[G4],delete y[V4])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function i8(p){return p.tag===5||p.tag===3||p.tag===4}function o8(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||i8(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function iC(p,y,k){var R=p.tag;if(R===5||R===6)p=p.stateNode,y?k.nodeType===8?k.parentNode.insertBefore(p,y):k.insertBefore(p,y):(k.nodeType===8?(y=k.parentNode,y.insertBefore(p,k)):(y=k,y.appendChild(p)),k=k._reactRootContainer,k!=null||y.onclick!==null||(y.onclick=sm));else if(R!==4&&(p=p.child,p!==null))for(iC(p,y,k),p=p.sibling;p!==null;)iC(p,y,k),p=p.sibling}function oC(p,y,k){var R=p.tag;if(R===5||R===6)p=p.stateNode,y?k.insertBefore(p,y):k.appendChild(p);else if(R!==4&&(p=p.child,p!==null))for(oC(p,y,k),p=p.sibling;p!==null;)oC(p,y,k),p=p.sibling}var zi=null,Sd=!1;function cm(p,y,k){for(k=k.child;k!==null;)l8(p,y,k),k=k.sibling}function l8(p,y,k){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Ot,k)}catch{}switch(k.tag){case 5:po||iA(k,y);case 6:var R=zi,K=Sd;zi=null,cm(p,y,k),zi=R,Sd=K,zi!==null&&(Sd?(p=zi,k=k.stateNode,p.nodeType===8?p.parentNode.removeChild(k):p.removeChild(k)):zi.removeChild(k.stateNode));break;case 18:zi!==null&&(Sd?(p=zi,k=k.stateNode,p.nodeType===8?Xb(p.parentNode,k):p.nodeType===1&&Xb(p,k),Ah(p)):Xb(zi,k.stateNode));break;case 4:R=zi,K=Sd,zi=k.stateNode.containerInfo,Sd=!0,cm(p,y,k),zi=R,Sd=K;break;case 0:case 11:case 14:case 15:if(!po&&(R=k.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){K=R=R.next;do{var re=K,ve=re.destroy;re=re.tag,ve!==void 0&&((re&2)!==0||(re&4)!==0)&&nC(k,y,ve),K=K.next}while(K!==R)}cm(p,y,k);break;case 1:if(!po&&(iA(k,y),R=k.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=k.memoizedProps,R.state=k.memoizedState,R.componentWillUnmount()}catch(We){va(k,y,We)}cm(p,y,k);break;case 21:cm(p,y,k);break;case 22:k.mode&1?(po=(R=po)||k.memoizedState!==null,cm(p,y,k),po=R):cm(p,y,k);break;default:cm(p,y,k)}}function c8(p){var y=p.updateQueue;if(y!==null){p.updateQueue=null;var k=p.stateNode;k===null&&(k=p.stateNode=new gie),y.forEach(function(R){var K=Eie.bind(null,p,R);k.has(R)||(k.add(R),R.then(K,K))})}}function Cd(p,y){var k=y.deletions;if(k!==null)for(var R=0;R<k.length;R++){var K=k[R];try{var re=p,ve=y,We=ve;e:for(;We!==null;){switch(We.tag){case 5:zi=We.stateNode,Sd=!1;break e;case 3:zi=We.stateNode.containerInfo,Sd=!0;break e;case 4:zi=We.stateNode.containerInfo,Sd=!0;break e}We=We.return}if(zi===null)throw Error(s(160));l8(re,ve,K),zi=null,Sd=!1;var at=K.alternate;at!==null&&(at.return=null),K.return=null}catch(Bt){va(K,y,Bt)}}if(y.subtreeFlags&12854)for(y=y.child;y!==null;)d8(y,p),y=y.sibling}function d8(p,y){var k=p.alternate,R=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(Cd(y,p),wu(p),R&4){try{ay(3,p,p.return),qw(3,p)}catch(Mr){va(p,p.return,Mr)}try{ay(5,p,p.return)}catch(Mr){va(p,p.return,Mr)}}break;case 1:Cd(y,p),wu(p),R&512&&k!==null&&iA(k,k.return);break;case 5:if(Cd(y,p),wu(p),R&512&&k!==null&&iA(k,k.return),p.flags&32){var K=p.stateNode;try{Tt(K,"")}catch(Mr){va(p,p.return,Mr)}}if(R&4&&(K=p.stateNode,K!=null)){var re=p.memoizedProps,ve=k!==null?k.memoizedProps:re,We=p.type,at=p.updateQueue;if(p.updateQueue=null,at!==null)try{We==="input"&&re.type==="radio"&&re.name!=null&&Pe(K,re),Ze(We,ve);var Bt=Ze(We,re);for(ve=0;ve<at.length;ve+=2){var er=at[ve],tr=at[ve+1];er==="style"?Yt(K,tr):er==="dangerouslySetInnerHTML"?At(K,tr):er==="children"?Tt(K,tr):v(K,er,tr,Bt)}switch(We){case"input":xe(K,re);break;case"textarea":Ke(K,re);break;case"select":var Zt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!re.multiple;var vr=re.value;vr!=null?he(K,!!re.multiple,vr,!1):Zt!==!!re.multiple&&(re.defaultValue!=null?he(K,!!re.multiple,re.defaultValue,!0):he(K,!!re.multiple,re.multiple?[]:"",!1))}K[nm]=re}catch(Mr){va(p,p.return,Mr)}}break;case 6:if(Cd(y,p),wu(p),R&4){if(p.stateNode===null)throw Error(s(162));K=p.stateNode,re=p.memoizedProps;try{K.nodeValue=re}catch(Mr){va(p,p.return,Mr)}}break;case 3:if(Cd(y,p),wu(p),R&4&&k!==null&&k.memoizedState.isDehydrated)try{Ah(y.containerInfo)}catch(Mr){va(p,p.return,Mr)}break;case 4:Cd(y,p),wu(p);break;case 13:Cd(y,p),wu(p),K=p.child,K.flags&8192&&(re=K.memoizedState!==null,K.stateNode.isHidden=re,!re||K.alternate!==null&&K.alternate.memoizedState!==null||(dC=Ne())),R&4&&c8(p);break;case 22:if(er=k!==null&&k.memoizedState!==null,p.mode&1?(po=(Bt=po)||er,Cd(y,p),po=Bt):Cd(y,p),wu(p),R&8192){if(Bt=p.memoizedState!==null,(p.stateNode.isHidden=Bt)&&!er&&(p.mode&1)!==0)for(Cr=p,er=p.child;er!==null;){for(tr=Cr=er;Cr!==null;){switch(Zt=Cr,vr=Zt.child,Zt.tag){case 0:case 11:case 14:case 15:ay(4,Zt,Zt.return);break;case 1:iA(Zt,Zt.return);var Br=Zt.stateNode;if(typeof Br.componentWillUnmount=="function"){R=Zt,k=Zt.return;try{y=R,Br.props=y.memoizedProps,Br.state=y.memoizedState,Br.componentWillUnmount()}catch(Mr){va(R,k,Mr)}}break;case 5:iA(Zt,Zt.return);break;case 22:if(Zt.memoizedState!==null){f8(tr);continue}}vr!==null?(vr.return=Zt,Cr=vr):f8(tr)}er=er.sibling}e:for(er=null,tr=p;;){if(tr.tag===5){if(er===null){er=tr;try{K=tr.stateNode,Bt?(re=K.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none"):(We=tr.stateNode,at=tr.memoizedProps.style,ve=at!=null&&at.hasOwnProperty("display")?at.display:null,We.style.display=Qt("display",ve))}catch(Mr){va(p,p.return,Mr)}}}else if(tr.tag===6){if(er===null)try{tr.stateNode.nodeValue=Bt?"":tr.memoizedProps}catch(Mr){va(p,p.return,Mr)}}else if((tr.tag!==22&&tr.tag!==23||tr.memoizedState===null||tr===p)&&tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===p)break e;for(;tr.sibling===null;){if(tr.return===null||tr.return===p)break e;er===tr&&(er=null),tr=tr.return}er===tr&&(er=null),tr.sibling.return=tr.return,tr=tr.sibling}}break;case 19:Cd(y,p),wu(p),R&4&&c8(p);break;case 21:break;default:Cd(y,p),wu(p)}}function wu(p){var y=p.flags;if(y&2){try{e:{for(var k=p.return;k!==null;){if(i8(k)){var R=k;break e}k=k.return}throw Error(s(160))}switch(R.tag){case 5:var K=R.stateNode;R.flags&32&&(Tt(K,""),R.flags&=-33);var re=o8(p);oC(p,re,K);break;case 3:case 4:var ve=R.stateNode.containerInfo,We=o8(p);iC(p,We,ve);break;default:throw Error(s(161))}}catch(at){va(p,p.return,at)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function yie(p,y,k){Cr=p,u8(p)}function u8(p,y,k){for(var R=(p.mode&1)!==0;Cr!==null;){var K=Cr,re=K.child;if(K.tag===22&&R){var ve=K.memoizedState!==null||Ww;if(!ve){var We=K.alternate,at=We!==null&&We.memoizedState!==null||po;We=Ww;var Bt=po;if(Ww=ve,(po=at)&&!Bt)for(Cr=K;Cr!==null;)ve=Cr,at=ve.child,ve.tag===22&&ve.memoizedState!==null?m8(K):at!==null?(at.return=ve,Cr=at):m8(K);for(;re!==null;)Cr=re,u8(re),re=re.sibling;Cr=K,Ww=We,po=Bt}h8(p)}else(K.subtreeFlags&8772)!==0&&re!==null?(re.return=K,Cr=re):h8(p)}}function h8(p){for(;Cr!==null;){var y=Cr;if((y.flags&8772)!==0){var k=y.alternate;try{if((y.flags&8772)!==0)switch(y.tag){case 0:case 11:case 15:po||qw(5,y);break;case 1:var R=y.stateNode;if(y.flags&4&&!po)if(k===null)R.componentDidMount();else{var K=y.elementType===y.type?k.memoizedProps:Or(y.type,k.memoizedProps);R.componentDidUpdate(K,k.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var re=y.updateQueue;re!==null&&ho(y,re,R);break;case 3:var ve=y.updateQueue;if(ve!==null){if(k=null,y.child!==null)switch(y.child.tag){case 5:k=y.child.stateNode;break;case 1:k=y.child.stateNode}ho(y,ve,k)}break;case 5:var We=y.stateNode;if(k===null&&y.flags&4){k=We;var at=y.memoizedProps;switch(y.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&k.focus();break;case"img":at.src&&(k.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(y.memoizedState===null){var Bt=y.alternate;if(Bt!==null){var er=Bt.memoizedState;if(er!==null){var tr=er.dehydrated;tr!==null&&Ah(tr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}po||y.flags&512&&aC(y)}catch(Zt){va(y,y.return,Zt)}}if(y===p){Cr=null;break}if(k=y.sibling,k!==null){k.return=y.return,Cr=k;break}Cr=y.return}}function f8(p){for(;Cr!==null;){var y=Cr;if(y===p){Cr=null;break}var k=y.sibling;if(k!==null){k.return=y.return,Cr=k;break}Cr=y.return}}function m8(p){for(;Cr!==null;){var y=Cr;try{switch(y.tag){case 0:case 11:case 15:var k=y.return;try{qw(4,y)}catch(at){va(y,k,at)}break;case 1:var R=y.stateNode;if(typeof R.componentDidMount=="function"){var K=y.return;try{R.componentDidMount()}catch(at){va(y,K,at)}}var re=y.return;try{aC(y)}catch(at){va(y,re,at)}break;case 5:var ve=y.return;try{aC(y)}catch(at){va(y,ve,at)}}}catch(at){va(y,y.return,at)}if(y===p){Cr=null;break}var We=y.sibling;if(We!==null){We.return=y.return,Cr=We;break}Cr=y.return}}var vie=Math.ceil,Kw=j.ReactCurrentDispatcher,lC=j.ReactCurrentOwner,Ic=j.ReactCurrentBatchConfig,Rs=0,Si=null,za=null,Gi=0,Xl=0,oA=Wl(0),ii=0,iy=null,J0=0,Xw=0,cC=0,oy=null,wl=null,dC=0,lA=1/0,Gh=null,Yw=!1,uC=null,dm=null,Jw=!1,um=null,Zw=0,ly=0,hC=null,e2=-1,t2=0;function Wo(){return(Rs&6)!==0?Ne():e2!==-1?e2:e2=Ne()}function hm(p){return(p.mode&1)===0?1:(Rs&2)!==0&&Gi!==0?Gi&-Gi:da.transition!==null?(t2===0&&(t2=ga()),t2):(p=ss,p!==0||(p=window.event,p=p===void 0?16:bh(p.type)),p)}function _d(p,y,k,R){if(50<ly)throw ly=0,hC=null,Error(s(185));dn(p,k,R),((Rs&2)===0||p!==Si)&&(p===Si&&((Rs&2)===0&&(Xw|=k),ii===4&&fm(p,Gi)),jl(p,R),k===1&&Rs===0&&(y.mode&1)===0&&(lA=Ne()+500,H0&&ae()))}function jl(p,y){var k=p.callbackNode;Ls(p,y);var R=Aa(p,p===Si?Gi:0);if(R===0)k!==null&&ze(k),p.callbackNode=null,p.callbackPriority=0;else if(y=R&-R,p.callbackPriority!==y){if(k!=null&&ze(k),y===1)p.tag===0?te(x8.bind(null,p)):U(x8.bind(null,p)),$4(function(){(Rs&6)===0&&ae()}),k=null;else{switch(Di(R)){case 1:k=Ue;break;case 4:k=qe;break;case 16:k=dt;break;case 536870912:k=Mt;break;default:k=dt}k=N8(k,p8.bind(null,p))}p.callbackPriority=y,p.callbackNode=k}}function p8(p,y){if(e2=-1,t2=0,(Rs&6)!==0)throw Error(s(327));var k=p.callbackNode;if(cA()&&p.callbackNode!==k)return null;var R=Aa(p,p===Si?Gi:0);if(R===0)return null;if((R&30)!==0||(R&p.expiredLanes)!==0||y)y=r2(p,R);else{y=R;var K=Rs;Rs|=2;var re=g8();(Si!==p||Gi!==y)&&(Gh=null,lA=Ne()+500,ep(p,y));do try{Nie();break}catch(We){A8(p,We)}while(!0);Bn(),Kw.current=re,Rs=K,za!==null?y=0:(Si=null,Gi=0,y=ii)}if(y!==0){if(y===2&&(K=xs(p),K!==0&&(R=K,y=fC(p,K))),y===1)throw k=iy,ep(p,0),fm(p,R),jl(p,Ne()),k;if(y===6)fm(p,R);else{if(K=p.current.alternate,(R&30)===0&&!wie(K)&&(y=r2(p,R),y===2&&(re=xs(p),re!==0&&(R=re,y=fC(p,re))),y===1))throw k=iy,ep(p,0),fm(p,R),jl(p,Ne()),k;switch(p.finishedWork=K,p.finishedLanes=R,y){case 0:case 1:throw Error(s(345));case 2:tp(p,wl,Gh);break;case 3:if(fm(p,R),(R&130023424)===R&&(y=dC+500-Ne(),10<y)){if(Aa(p,0)!==0)break;if(K=p.suspendedLanes,(K&R)!==R){Wo(),p.pingedLanes|=p.suspendedLanes&K;break}p.timeoutHandle=Kb(tp.bind(null,p,wl,Gh),y);break}tp(p,wl,Gh);break;case 4:if(fm(p,R),(R&4194240)===R)break;for(y=p.eventTimes,K=-1;0<R;){var ve=31-rr(R);re=1<<ve,ve=y[ve],ve>K&&(K=ve),R&=~re}if(R=K,R=Ne()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*vie(R/1960))-R,10<R){p.timeoutHandle=Kb(tp.bind(null,p,wl,Gh),R);break}tp(p,wl,Gh);break;case 5:tp(p,wl,Gh);break;default:throw Error(s(329))}}}return jl(p,Ne()),p.callbackNode===k?p8.bind(null,p):null}function fC(p,y){var k=oy;return p.current.memoizedState.isDehydrated&&(ep(p,y).flags|=256),p=r2(p,y),p!==2&&(y=wl,wl=k,y!==null&&mC(y)),p}function mC(p){wl===null?wl=p:wl.push.apply(wl,p)}function wie(p){for(var y=p;;){if(y.flags&16384){var k=y.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var R=0;R<k.length;R++){var K=k[R],re=K.getSnapshot;K=K.value;try{if(!Kn(re(),K))return!1}catch{return!1}}}if(k=y.child,y.subtreeFlags&16384&&k!==null)k.return=y,y=k;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function fm(p,y){for(y&=~cC,y&=~Xw,p.suspendedLanes|=y,p.pingedLanes&=~y,p=p.expirationTimes;0<y;){var k=31-rr(y),R=1<<k;p[k]=-1,y&=~R}}function x8(p){if((Rs&6)!==0)throw Error(s(327));cA();var y=Aa(p,0);if((y&1)===0)return jl(p,Ne()),null;var k=r2(p,y);if(p.tag!==0&&k===2){var R=xs(p);R!==0&&(y=R,k=fC(p,R))}if(k===1)throw k=iy,ep(p,0),fm(p,y),jl(p,Ne()),k;if(k===6)throw Error(s(345));return p.finishedWork=p.current.alternate,p.finishedLanes=y,tp(p,wl,Gh),jl(p,Ne()),null}function pC(p,y){var k=Rs;Rs|=1;try{return p(y)}finally{Rs=k,Rs===0&&(lA=Ne()+500,H0&&ae())}}function Z0(p){um!==null&&um.tag===0&&(Rs&6)===0&&cA();var y=Rs;Rs|=1;var k=Ic.transition,R=ss;try{if(Ic.transition=null,ss=1,p)return p()}finally{ss=R,Ic.transition=k,Rs=y,(Rs&6)===0&&ae()}}function xC(){Xl=oA.current,Ys(oA)}function ep(p,y){p.finishedWork=null,p.finishedLanes=0;var k=p.timeoutHandle;if(k!==-1&&(p.timeoutHandle=-1,Iw(k)),za!==null)for(k=za.return;k!==null;){var R=k;switch(St(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Zx();break;case 3:Uh(),Ys(co),Ys(si),Qh();break;case 5:tA(R);break;case 4:Uh();break;case 13:Ys(Pn);break;case 19:Ys(Pn);break;case 10:Qa(R.type._context);break;case 22:case 23:xC()}k=k.return}if(Si=p,za=p=mm(p.current,null),Gi=Xl=y,ii=0,iy=null,cC=Xw=J0=0,wl=oy=null,ws!==null){for(y=0;y<ws.length;y++)if(k=ws[y],R=k.interleaved,R!==null){k.interleaved=null;var K=R.next,re=k.pending;if(re!==null){var ve=re.next;re.next=K,R.next=ve}k.pending=R}ws=null}return p}function A8(p,y){do{var k=za;try{if(Bn(),W0.current=zw,q0){for(var R=In.memoizedState;R!==null;){var K=R.queue;K!==null&&(K.pending=null),R=R.next}q0=!1}if(Fc=0,Nn=ha=In=null,om=!1,K0=0,lC.current=null,k===null||k.return===null){ii=1,iy=y,za=null;break}e:{var re=p,ve=k.return,We=k,at=y;if(y=Gi,We.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var Bt=at,er=We,tr=er.tag;if((er.mode&1)===0&&(tr===0||tr===11||tr===15)){var Zt=er.alternate;Zt?(er.updateQueue=Zt.updateQueue,er.memoizedState=Zt.memoizedState,er.lanes=Zt.lanes):(er.updateQueue=null,er.memoizedState=null)}var vr=QD(ve);if(vr!==null){vr.flags&=-257,$D(vr,ve,We,re,y),vr.mode&1&&HD(re,Bt,y),y=vr,at=Bt;var Br=y.updateQueue;if(Br===null){var Mr=new Set;Mr.add(at),y.updateQueue=Mr}else Br.add(at);break e}else{if((y&1)===0){HD(re,Bt,y),AC();break e}at=Error(s(426))}}else if(zt&&We.mode&1){var Ta=QD(ve);if(Ta!==null){(Ta.flags&65536)===0&&(Ta.flags|=256),$D(Ta,ve,We,re,y),lr(aA(at,We));break e}}re=at=aA(at,We),ii!==4&&(ii=2),oy===null?oy=[re]:oy.push(re),re=ve;do{switch(re.tag){case 3:re.flags|=65536,y&=-y,re.lanes|=y;var jt=OD(re,at,y);ji(re,jt);break e;case 1:We=at;var ht=re.type,_t=re.stateNode;if((re.flags&128)===0&&(typeof ht.getDerivedStateFromError=="function"||_t!==null&&typeof _t.componentDidCatch=="function"&&(dm===null||!dm.has(_t)))){re.flags|=65536,y&=-y,re.lanes|=y;var ar=UD(re,We,y);ji(re,ar);break e}}re=re.return}while(re!==null)}y8(k)}catch(Lr){y=Lr,za===k&&k!==null&&(za=k=k.return);continue}break}while(!0)}function g8(){var p=Kw.current;return Kw.current=zw,p===null?zw:p}function AC(){(ii===0||ii===3||ii===2)&&(ii=4),Si===null||(J0&268435455)===0&&(Xw&268435455)===0||fm(Si,Gi)}function r2(p,y){var k=Rs;Rs|=2;var R=g8();(Si!==p||Gi!==y)&&(Gh=null,ep(p,y));do try{jie();break}catch(K){A8(p,K)}while(!0);if(Bn(),Rs=k,Kw.current=R,za!==null)throw Error(s(261));return Si=null,Gi=0,ii}function jie(){for(;za!==null;)b8(za)}function Nie(){for(;za!==null&&!Ye();)b8(za)}function b8(p){var y=j8(p.alternate,p,Xl);p.memoizedProps=p.pendingProps,y===null?y8(p):za=y,lC.current=null}function y8(p){var y=p;do{var k=y.alternate;if(p=y.return,(y.flags&32768)===0){if(k=xie(k,y,Xl),k!==null){za=k;return}}else{if(k=Aie(k,y),k!==null){k.flags&=32767,za=k;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{ii=6,za=null;return}}if(y=y.sibling,y!==null){za=y;return}za=y=p}while(y!==null);ii===0&&(ii=5)}function tp(p,y,k){var R=ss,K=Ic.transition;try{Ic.transition=null,ss=1,Sie(p,y,k,R)}finally{Ic.transition=K,ss=R}return null}function Sie(p,y,k,R){do cA();while(um!==null);if((Rs&6)!==0)throw Error(s(327));k=p.finishedWork;var K=p.finishedLanes;if(k===null)return null;if(p.finishedWork=null,p.finishedLanes=0,k===p.current)throw Error(s(177));p.callbackNode=null,p.callbackPriority=0;var re=k.lanes|k.childLanes;if(Xs(p,re),p===Si&&(za=Si=null,Gi=0),(k.subtreeFlags&2064)===0&&(k.flags&2064)===0||Jw||(Jw=!0,N8(dt,function(){return cA(),null})),re=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||re){re=Ic.transition,Ic.transition=null;var ve=ss;ss=1;var We=Rs;Rs|=4,lC.current=null,bie(p,k),d8(k,p),B0(Ph),Gf=!!O0,Ph=O0=null,p.current=k,yie(k),le(),Rs=We,ss=ve,Ic.transition=re}else p.current=k;if(Jw&&(Jw=!1,um=p,Zw=K),re=p.pendingLanes,re===0&&(dm=null),Kt(k.stateNode),jl(p,Ne()),y!==null)for(R=p.onRecoverableError,k=0;k<y.length;k++)K=y[k],R(K.value,{componentStack:K.stack,digest:K.digest});if(Yw)throw Yw=!1,p=uC,uC=null,p;return(Zw&1)!==0&&p.tag!==0&&cA(),re=p.pendingLanes,(re&1)!==0?p===hC?ly++:(ly=0,hC=p):ly=0,ae(),null}function cA(){if(um!==null){var p=Di(Zw),y=Ic.transition,k=ss;try{if(Ic.transition=null,ss=16>p?16:p,um===null)var R=!1;else{if(p=um,um=null,Zw=0,(Rs&6)!==0)throw Error(s(331));var K=Rs;for(Rs|=4,Cr=p.current;Cr!==null;){var re=Cr,ve=re.child;if((Cr.flags&16)!==0){var We=re.deletions;if(We!==null){for(var at=0;at<We.length;at++){var Bt=We[at];for(Cr=Bt;Cr!==null;){var er=Cr;switch(er.tag){case 0:case 11:case 15:ay(8,er,re)}var tr=er.child;if(tr!==null)tr.return=er,Cr=tr;else for(;Cr!==null;){er=Cr;var Zt=er.sibling,vr=er.return;if(a8(er),er===Bt){Cr=null;break}if(Zt!==null){Zt.return=vr,Cr=Zt;break}Cr=vr}}}var Br=re.alternate;if(Br!==null){var Mr=Br.child;if(Mr!==null){Br.child=null;do{var Ta=Mr.sibling;Mr.sibling=null,Mr=Ta}while(Mr!==null)}}Cr=re}}if((re.subtreeFlags&2064)!==0&&ve!==null)ve.return=re,Cr=ve;else e:for(;Cr!==null;){if(re=Cr,(re.flags&2048)!==0)switch(re.tag){case 0:case 11:case 15:ay(9,re,re.return)}var jt=re.sibling;if(jt!==null){jt.return=re.return,Cr=jt;break e}Cr=re.return}}var ht=p.current;for(Cr=ht;Cr!==null;){ve=Cr;var _t=ve.child;if((ve.subtreeFlags&2064)!==0&&_t!==null)_t.return=ve,Cr=_t;else e:for(ve=ht;Cr!==null;){if(We=Cr,(We.flags&2048)!==0)try{switch(We.tag){case 0:case 11:case 15:qw(9,We)}}catch(Lr){va(We,We.return,Lr)}if(We===ve){Cr=null;break e}var ar=We.sibling;if(ar!==null){ar.return=We.return,Cr=ar;break e}Cr=We.return}}if(Rs=K,ae(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Ot,p)}catch{}R=!0}return R}finally{ss=k,Ic.transition=y}}return!1}function v8(p,y,k){y=aA(k,y),y=OD(p,y,1),p=gn(p,y,1),y=Wo(),p!==null&&(dn(p,1,y),jl(p,y))}function va(p,y,k){if(p.tag===3)v8(p,p,k);else for(;y!==null;){if(y.tag===3){v8(y,p,k);break}else if(y.tag===1){var R=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(dm===null||!dm.has(R))){p=aA(k,p),p=UD(y,p,1),y=gn(y,p,1),p=Wo(),y!==null&&(dn(y,1,p),jl(y,p));break}}y=y.return}}function Cie(p,y,k){var R=p.pingCache;R!==null&&R.delete(y),y=Wo(),p.pingedLanes|=p.suspendedLanes&k,Si===p&&(Gi&k)===k&&(ii===4||ii===3&&(Gi&130023424)===Gi&&500>Ne()-dC?ep(p,0):cC|=k),jl(p,y)}function w8(p,y){y===0&&((p.mode&1)===0?y=1:(y=Ur,Ur<<=1,(Ur&130023424)===0&&(Ur=4194304)));var k=Wo();p=jn(p,y),p!==null&&(dn(p,y,k),jl(p,k))}function _ie(p){var y=p.memoizedState,k=0;y!==null&&(k=y.retryLane),w8(p,k)}function Eie(p,y){var k=0;switch(p.tag){case 13:var R=p.stateNode,K=p.memoizedState;K!==null&&(k=K.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(s(314))}R!==null&&R.delete(y),w8(p,k)}var j8;j8=function(p,y,k){if(p!==null)if(p.memoizedProps!==y.pendingProps||co.current)vl=!0;else{if((p.lanes&k)===0&&(y.flags&128)===0)return vl=!1,pie(p,y,k);vl=(p.flags&131072)!==0}else vl=!1,zt&&(y.flags&1048576)!==0&&gt(y,Ce,y.index);switch(y.lanes=0,y.tag){case 2:var R=y.type;Vw(p,y),p=y.pendingProps;var K=im(y,si.current);Mn(y,k),K=rA(null,y,R,p,K,k);var re=ry();return y.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,uo(R)?(re=!0,Dh(y)):re=!1,y.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,$n(y),K.updater=Js,y.stateNode=K,K._reactInternals=y,ql(y,R,p,k),y=J4(null,y,R,!0,re,k)):(y.tag=0,zt&&re&&Rt(y),Vo(null,y,K,k),y=y.child),y;case 16:R=y.elementType;e:{switch(Vw(p,y),p=y.pendingProps,K=R._init,R=K(R._payload),y.type=R,K=y.tag=Tie(R),p=Or(R,p),K){case 0:y=Y4(null,y,R,p,k);break e;case 1:y=KD(null,y,R,p,k);break e;case 11:y=zD(null,y,R,p,k);break e;case 14:y=GD(null,y,R,Or(R.type,p),k);break e}throw Error(s(306,R,""))}return y;case 0:return R=y.type,K=y.pendingProps,K=y.elementType===R?K:Or(R,K),Y4(p,y,R,K,k);case 1:return R=y.type,K=y.pendingProps,K=y.elementType===R?K:Or(R,K),KD(p,y,R,K,k);case 3:e:{if(XD(y),p===null)throw Error(s(387));R=y.pendingProps,re=y.memoizedState,K=re.element,Hi(p,y),Ni(y,R,null,k);var ve=y.memoizedState;if(R=ve.element,re.isDehydrated)if(re={element:R,isDehydrated:!1,cache:ve.cache,pendingSuspenseBoundaries:ve.pendingSuspenseBoundaries,transitions:ve.transitions},y.updateQueue.baseState=re,y.memoizedState=re,y.flags&256){K=aA(Error(s(423)),y),y=YD(p,y,R,k,K);break e}else if(R!==K){K=aA(Error(s(424)),y),y=YD(p,y,R,k,K);break e}else for(It=Ui(y.stateNode.containerInfo.firstChild),Pt=y,zt=!0,Vt=null,k=Ow(y,null,R,k),y.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(Nr(),R===K){y=zh(p,y,k);break e}Vo(p,y,R,k)}y=y.child}return y;case 5:return G0(y),p===null&&kr(y),R=y.type,K=y.pendingProps,re=p!==null?p.memoizedProps:null,ve=K.children,qb(R,K)?ve=null:re!==null&&qb(R,re)&&(y.flags|=32),qD(p,y),Vo(p,y,ve,k),y.child;case 6:return p===null&&kr(y),null;case 13:return JD(p,y,k);case 4:return Zb(y,y.stateNode.containerInfo),R=y.pendingProps,p===null?y.child=Mc(y,null,R,k):Vo(p,y,R,k),y.child;case 11:return R=y.type,K=y.pendingProps,K=y.elementType===R?K:Or(R,K),zD(p,y,R,K,k);case 7:return Vo(p,y,y.pendingProps,k),y.child;case 8:return Vo(p,y,y.pendingProps.children,k),y.child;case 12:return Vo(p,y,y.pendingProps.children,k),y.child;case 10:e:{if(R=y.type._context,K=y.pendingProps,re=y.memoizedProps,ve=K.value,rn(gs,R._currentValue),R._currentValue=ve,re!==null)if(Kn(re.value,ve)){if(re.children===K.children&&!co.current){y=zh(p,y,k);break e}}else for(re=y.child,re!==null&&(re.return=y);re!==null;){var We=re.dependencies;if(We!==null){ve=re.child;for(var at=We.firstContext;at!==null;){if(at.context===R){if(re.tag===1){at=js(-1,k&-k),at.tag=2;var Bt=re.updateQueue;if(Bt!==null){Bt=Bt.shared;var er=Bt.pending;er===null?at.next=at:(at.next=er.next,er.next=at),Bt.pending=at}}re.lanes|=k,at=re.alternate,at!==null&&(at.lanes|=k),ai(re.return,k,y),We.lanes|=k;break}at=at.next}}else if(re.tag===10)ve=re.type===y.type?null:re.child;else if(re.tag===18){if(ve=re.return,ve===null)throw Error(s(341));ve.lanes|=k,We=ve.alternate,We!==null&&(We.lanes|=k),ai(ve,k,y),ve=re.sibling}else ve=re.child;if(ve!==null)ve.return=re;else for(ve=re;ve!==null;){if(ve===y){ve=null;break}if(re=ve.sibling,re!==null){re.return=ve.return,ve=re;break}ve=ve.return}re=ve}Vo(p,y,K.children,k),y=y.child}return y;case 9:return K=y.type,R=y.pendingProps.children,Mn(y,k),K=rs(K),R=R(K),y.flags|=1,Vo(p,y,R,k),y.child;case 14:return R=y.type,K=Or(R,y.pendingProps),K=Or(R.type,K),GD(p,y,R,K,k);case 15:return VD(p,y,y.type,y.pendingProps,k);case 17:return R=y.type,K=y.pendingProps,K=y.elementType===R?K:Or(R,K),Vw(p,y),y.tag=1,uo(R)?(p=!0,Dh(y)):p=!1,Mn(y,k),Al(y,R,K),ql(y,R,K,k),J4(null,y,R,!0,p,k);case 19:return e8(p,y,k);case 22:return WD(p,y,k)}throw Error(s(156,y.tag))};function N8(p,y){return pe(p,y)}function kie(p,y,k,R){this.tag=p,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(p,y,k,R){return new kie(p,y,k,R)}function gC(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Tie(p){if(typeof p=="function")return gC(p)?1:0;if(p!=null){if(p=p.$$typeof,p===B)return 11;if(p===D)return 14}return 2}function mm(p,y){var k=p.alternate;return k===null?(k=Lc(p.tag,y,p.key,p.mode),k.elementType=p.elementType,k.type=p.type,k.stateNode=p.stateNode,k.alternate=p,p.alternate=k):(k.pendingProps=y,k.type=p.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=p.flags&14680064,k.childLanes=p.childLanes,k.lanes=p.lanes,k.child=p.child,k.memoizedProps=p.memoizedProps,k.memoizedState=p.memoizedState,k.updateQueue=p.updateQueue,y=p.dependencies,k.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},k.sibling=p.sibling,k.index=p.index,k.ref=p.ref,k}function s2(p,y,k,R,K,re){var ve=2;if(R=p,typeof p=="function")gC(p)&&(ve=1);else if(typeof p=="string")ve=5;else e:switch(p){case T:return rp(k.children,K,re,y);case I:ve=8,K|=8;break;case _:return p=Lc(12,k,y,K|2),p.elementType=_,p.lanes=re,p;case P:return p=Lc(13,k,y,K),p.elementType=P,p.lanes=re,p;case H:return p=Lc(19,k,y,K),p.elementType=H,p.lanes=re,p;case O:return n2(k,K,re,y);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case M:ve=10;break e;case C:ve=9;break e;case B:ve=11;break e;case D:ve=14;break e;case G:ve=16,R=null;break e}throw Error(s(130,p==null?p:typeof p,""))}return y=Lc(ve,k,y,K),y.elementType=p,y.type=R,y.lanes=re,y}function rp(p,y,k,R){return p=Lc(7,p,R,y),p.lanes=k,p}function n2(p,y,k,R){return p=Lc(22,p,R,y),p.elementType=O,p.lanes=k,p.stateNode={isHidden:!1},p}function bC(p,y,k){return p=Lc(6,p,null,y),p.lanes=k,p}function yC(p,y,k){return y=Lc(4,p.children!==null?p.children:[],p.key,y),y.lanes=k,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}function Bie(p,y,k,R,K){this.tag=y,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tn(0),this.expirationTimes=Tn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.identifierPrefix=R,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function vC(p,y,k,R,K,re,ve,We,at){return p=new Bie(p,y,k,We,at),y===1?(y=1,re===!0&&(y|=8)):y=0,re=Lc(3,null,null,y),p.current=re,re.stateNode=p,re.memoizedState={element:R,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null},$n(re),p}function Mie(p,y,k){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:R==null?null:""+R,children:p,containerInfo:y,implementation:k}}function S8(p){if(!p)return yu;p=p._reactInternals;e:{if(De(p)!==p||p.tag!==1)throw Error(s(170));var y=p;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(uo(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(s(171))}if(p.tag===1){var k=p.type;if(uo(k))return Jb(p,k,y)}return y}function C8(p,y,k,R,K,re,ve,We,at){return p=vC(k,R,!0,p,K,re,ve,We,at),p.context=S8(null),k=p.current,R=Wo(),K=hm(k),re=js(R,K),re.callback=y??null,gn(k,re,K),p.current.lanes=K,dn(p,K,R),jl(p,R),p}function a2(p,y,k,R){var K=y.current,re=Wo(),ve=hm(K);return k=S8(k),y.context===null?y.context=k:y.pendingContext=k,y=js(re,ve),y.payload={element:p},R=R===void 0?null:R,R!==null&&(y.callback=R),p=gn(K,y,ve),p!==null&&(_d(p,K,ve,re),wi(p,K,ve)),ve}function i2(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function _8(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var k=p.retryLane;p.retryLane=k!==0&&k<y?k:y}}function wC(p,y){_8(p,y),(p=p.alternate)&&_8(p,y)}function Fie(){return null}var E8=typeof reportError=="function"?reportError:function(p){console.error(p)};function jC(p){this._internalRoot=p}o2.prototype.render=jC.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(s(409));a2(p,y,null,null)},o2.prototype.unmount=jC.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;Z0(function(){a2(null,p,null,null)}),y[vi]=null}};function o2(p){this._internalRoot=p}o2.prototype.unstable_scheduleHydration=function(p){if(p){var y=$x();p={blockedOn:null,target:p,priority:y};for(var k=0;k<Nc.length&&y!==0&&y<Nc[k].priority;k++);Nc.splice(k,0,p),k===0&&Gx(p)}};function NC(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function l2(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function k8(){}function Pie(p,y,k,R,K){if(K){if(typeof R=="function"){var re=R;R=function(){var Bt=i2(ve);re.call(Bt)}}var ve=C8(y,R,p,0,null,!1,!1,"",k8);return p._reactRootContainer=ve,p[vi]=ve.current,Mh(p.nodeType===8?p.parentNode:p),Z0(),ve}for(;K=p.lastChild;)p.removeChild(K);if(typeof R=="function"){var We=R;R=function(){var Bt=i2(at);We.call(Bt)}}var at=vC(p,0,!1,null,null,!1,!1,"",k8);return p._reactRootContainer=at,p[vi]=at.current,Mh(p.nodeType===8?p.parentNode:p),Z0(function(){a2(y,at,k,R)}),at}function c2(p,y,k,R,K){var re=k._reactRootContainer;if(re){var ve=re;if(typeof K=="function"){var We=K;K=function(){var at=i2(ve);We.call(at)}}a2(y,ve,p,K)}else ve=Pie(k,y,p,K,R);return i2(ve)}lu=function(p){switch(p.tag){case 3:var y=p.stateNode;if(y.current.memoizedState.isDehydrated){var k=en(y.pendingLanes);k!==0&&(ro(y,k|1),jl(y,Ne()),(Rs&6)===0&&(lA=Ne()+500,ae()))}break;case 13:Z0(function(){var R=jn(p,1);if(R!==null){var K=Wo();_d(R,p,1,K)}}),wC(p,1)}},N0=function(p){if(p.tag===13){var y=jn(p,134217728);if(y!==null){var k=Wo();_d(y,p,134217728,k)}wC(p,134217728)}},Qx=function(p){if(p.tag===13){var y=hm(p),k=jn(p,y);if(k!==null){var R=Wo();_d(k,p,y,R)}wC(p,y)}},$x=function(){return ss},Qf=function(p,y){var k=ss;try{return ss=p,y()}finally{ss=k}},Me=function(p,y,k){switch(y){case"input":if(xe(p,k),y=k.name,k.type==="radio"&&y!=null){for(k=p;k.parentNode;)k=k.parentNode;for(k=k.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<k.length;y++){var R=k[y];if(R!==p&&R.form===p.form){var K=U0(R);if(!K)throw Error(s(90));oe(R),xe(R,K)}}}break;case"textarea":Ke(p,k);break;case"select":y=k.value,y!=null&&he(p,!!k.multiple,y,!1)}},Wt=pC,ur=Z0;var Iie={usingClientEntryPoint:!1,Events:[am,Ih,U0,ft,Ut,pC]},cy={findFiberByHostInstance:bu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Lie={bundleType:cy.bundleType,version:cy.version,rendererPackageName:cy.rendererPackageName,rendererConfig:cy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=vt(p),p===null?null:p.stateNode},findFiberByHostInstance:cy.findFiberByHostInstance||Fie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d2.isDisabled&&d2.supportsFiber)try{Ot=d2.inject(Lie),qt=d2}catch{}}return Nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iie,Nl.createPortal=function(p,y){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!NC(y))throw Error(s(200));return Mie(p,y,null,k)},Nl.createRoot=function(p,y){if(!NC(p))throw Error(s(299));var k=!1,R="",K=E8;return y!=null&&(y.unstable_strictMode===!0&&(k=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(K=y.onRecoverableError)),y=vC(p,1,!1,null,null,k,!1,R,K),p[vi]=y.current,Mh(p.nodeType===8?p.parentNode:p),new jC(y)},Nl.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(s(188)):(p=Object.keys(p).join(","),Error(s(268,p)));return p=vt(y),p=p===null?null:p.stateNode,p},Nl.flushSync=function(p){return Z0(p)},Nl.hydrate=function(p,y,k){if(!l2(y))throw Error(s(200));return c2(null,p,y,!0,k)},Nl.hydrateRoot=function(p,y,k){if(!NC(p))throw Error(s(405));var R=k!=null&&k.hydratedSources||null,K=!1,re="",ve=E8;if(k!=null&&(k.unstable_strictMode===!0&&(K=!0),k.identifierPrefix!==void 0&&(re=k.identifierPrefix),k.onRecoverableError!==void 0&&(ve=k.onRecoverableError)),y=C8(y,null,p,1,k??null,K,!1,re,ve),p[vi]=y.current,Mh(p),R)for(p=0;p<R.length;p++)k=R[p],K=k._getVersion,K=K(k._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[k,K]:y.mutableSourceEagerHydrationData.push(k,K);return new o2(y)},Nl.render=function(p,y,k){if(!l2(y))throw Error(s(200));return c2(null,p,y,!1,k)},Nl.unmountComponentAtNode=function(p){if(!l2(p))throw Error(s(40));return p._reactRootContainer?(Z0(function(){c2(null,null,p,!1,function(){p._reactRootContainer=null,p[vi]=null})}),!0):!1},Nl.unstable_batchedUpdates=pC,Nl.unstable_renderSubtreeIntoContainer=function(p,y,k,R){if(!l2(k))throw Error(s(200));if(p==null||p._reactInternals===void 0)throw Error(s(38));return c2(p,y,k,!1,R)},Nl.version="18.2.0-next-9e3b772b8-20220608",Nl}var D8;function Vie(){if(D8)return _C.exports;D8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_C.exports=Gie(),_C.exports}var R8;function Wie(){if(R8)return h2;R8=1;var t=Vie();return h2.createRoot=t.createRoot,h2.hydrateRoot=t.hydrateRoot,h2}var qie=Wie(),E=jP();const Ve=xn(E);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O8="popstate";function Kie(t={}){function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return XT("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:Ov(a)}return Yie(e,s,null,t)}function aa(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ac(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xie(){return Math.random().toString(36).substring(2,10)}function U8(t,e){return{usr:t.state,key:t.key,idx:e}}function XT(t,e,s=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hb(e):e,state:s,key:e&&e.key||n||Xie()}}function Ov({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function hb(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Yie(t,e,s,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let g=u(),b=g==null?null:g-d;d=g,c&&c({action:l,location:A.location,delta:b})}function m(g,b){l="PUSH";let w=XT(A.location,g,b);d=u()+1;let v=U8(w,d),j=A.createHref(w);try{o.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:A.location,delta:1})}function f(g,b){l="REPLACE";let w=XT(A.location,g,b);d=u();let v=U8(w,d),j=A.createHref(w);o.replaceState(v,"",j),i&&c&&c({action:l,location:A.location,delta:0})}function x(g){return Jie(g)}let A={get action(){return l},get location(){return t(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(O8,h),c=g,()=>{a.removeEventListener(O8,h),c=null}},createHref(g){return e(a,g)},createURL:x,encodeLocation(g){let b=x(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:f,go(g){return o.go(g)}};return A}function Jie(t,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),aa(s,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Ov(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function qK(t,e,s="/"){return Zie(t,e,s,!1)}function Zie(t,e,s,n){let a=typeof e=="string"?hb(e):e,i=Ef(a.pathname||"/",s);if(i==null)return null;let o=KK(t);eoe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=uoe(i);l=coe(o[c],d,n)}return l}function KK(t,e=[],s=[],n="",a=!1){let i=(o,l,c=a,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&c)return;aa(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=bf([n,u.relativePath]),m=s.concat(u);o.children&&o.children.length>0&&(aa(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),KK(o.children,e,m,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:ooe(h,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of XK(o.path))i(o,l,!0,d)}),e}function XK(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=XK(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function eoe(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:loe(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var toe=/^:[\w-]+$/,roe=3,soe=2,noe=1,aoe=10,ioe=-2,H8=t=>t==="*";function ooe(t,e){let s=t.split("/"),n=s.length;return s.some(H8)&&(n+=ioe),e&&(n+=soe),s.filter(a=>!H8(a)).reduce((a,i)=>a+(toe.test(i)?roe:i===""?noe:aoe),n)}function loe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function coe(t,e,s=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=_N({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&s&&!n[n.length-1].route.index&&(h=_N({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:bf([i,h.pathname]),pathnameBase:xoe(bf([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=bf([i,h.pathnameBase]))}return o}function _N(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=doe(t.path,t.caseSensitive,t.end),a=e.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:u,isOptional:h},m)=>{if(u==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const f=l[m];return h&&!f?d[u]=void 0:d[u]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function doe(t,e=!1,s=!0){Ac(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function uoe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ac(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ef(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}var hoe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,foe=t=>hoe.test(t);function moe(t,e="/"){let{pathname:s,search:n="",hash:a=""}=typeof t=="string"?hb(t):t,i;if(s)if(foe(s))i=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),Ac(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${s}`)}s.startsWith("/")?i=Q8(s.substring(1),"/"):i=Q8(s,e)}else i=e;return{pathname:i,search:Aoe(n),hash:goe(a)}}function Q8(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function TC(t,e,s,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function poe(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function NP(t){let e=poe(t);return e.map((s,n)=>n===e.length-1?s.pathname:s.pathnameBase)}function SP(t,e,s,n=!1){let a;typeof t=="string"?a=hb(t):(a={...t},aa(!a.pathname||!a.pathname.includes("?"),TC("?","pathname","search",a)),aa(!a.pathname||!a.pathname.includes("#"),TC("#","pathname","hash",a)),aa(!a.search||!a.search.includes("#"),TC("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let h=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=moe(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var bf=t=>t.join("/").replace(/\/\/+/g,"/"),xoe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Aoe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,goe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function boe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YK=["POST","PUT","PATCH","DELETE"];new Set(YK);var yoe=["GET",...YK];new Set(yoe);var fb=E.createContext(null);fb.displayName="DataRouter";var NS=E.createContext(null);NS.displayName="DataRouterState";E.createContext(!1);var JK=E.createContext({isTransitioning:!1});JK.displayName="ViewTransition";var voe=E.createContext(new Map);voe.displayName="Fetchers";var woe=E.createContext(null);woe.displayName="Await";var eu=E.createContext(null);eu.displayName="Navigation";var X1=E.createContext(null);X1.displayName="Location";var tu=E.createContext({outlet:null,matches:[],isDataRoute:!1});tu.displayName="Route";var CP=E.createContext(null);CP.displayName="RouteError";function joe(t,{relative:e}={}){aa(mb(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=E.useContext(eu),{hash:a,pathname:i,search:o}=Y1(t,{relative:e}),l=i;return s!=="/"&&(l=i==="/"?s:bf([s,i])),n.createHref({pathname:l,search:o,hash:a})}function mb(){return E.useContext(X1)!=null}function Ol(){return aa(mb(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(X1).location}var ZK="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eX(t){E.useContext(eu).static||E.useLayoutEffect(t)}function qn(){let{isDataRoute:t}=E.useContext(tu);return t?Loe():Noe()}function Noe(){aa(mb(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(fb),{basename:e,navigator:s}=E.useContext(eu),{matches:n}=E.useContext(tu),{pathname:a}=Ol(),i=JSON.stringify(NP(n)),o=E.useRef(!1);return eX(()=>{o.current=!0}),E.useCallback((c,d={})=>{if(Ac(o.current,ZK),!o.current)return;if(typeof c=="number"){s.go(c);return}let u=SP(c,JSON.parse(i),a,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:bf([e,u.pathname])),(d.replace?s.replace:s.push)(u,d.state,d)},[e,s,i,a,t])}E.createContext(null);function tX(){let{matches:t}=E.useContext(tu),e=t[t.length-1];return e?e.params:{}}function Y1(t,{relative:e}={}){let{matches:s}=E.useContext(tu),{pathname:n}=Ol(),a=JSON.stringify(NP(s));return E.useMemo(()=>SP(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function Soe(t,e){return rX(t,e)}function rX(t,e,s,n,a){var w;aa(mb(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(eu),{matches:o}=E.useContext(tu),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let v=h&&h.path||"";sX(d,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let m=Ol(),f;if(e){let v=typeof e=="string"?hb(e):e;aa(u==="/"||((w=v.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),f=v}else f=m;let x=f.pathname||"/",A=x;if(u!=="/"){let v=u.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=qK(t,{pathname:A});Ac(h||g!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ac(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Toe(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:bf([u,i.encodeLocation?i.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:bf([u,i.encodeLocation?i.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),o,s,n,a);return e&&b?E.createElement(X1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},b):b}function Coe(){let t=Ioe(),e=boe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),s?E.createElement("pre",{style:a},s):null,o)}var _oe=E.createElement(Coe,null),Eoe=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(tu.Provider,{value:this.props.routeContext},E.createElement(CP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function koe({routeContext:t,match:e,children:s}){let n=E.useContext(fb);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(tu.Provider,{value:t},s)}function Toe(t,e=[],s=null,n=null,a=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,o=s==null?void 0:s.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);aa(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(s)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:f}=s,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=s&&n?(u,h)=>{var m,f;n(u,{location:s.location,params:((f=(m=s.matches)==null?void 0:m[0])==null?void 0:f.params)??{},errorInfo:h})}:void 0;return i.reduceRight((u,h,m)=>{let f,x=!1,A=null,g=null;s&&(f=o&&h.route.id?o[h.route.id]:void 0,A=h.route.errorElement||_oe,l&&(c<0&&m===0?(sX("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,g=null):c===m&&(x=!0,g=h.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),w=()=>{let v;return f?v=A:x?v=g:h.route.Component?v=E.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,E.createElement(koe,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:s!=null},children:v})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?E.createElement(Eoe,{location:s.location,revalidation:s.revalidation,component:A,error:f,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:d}):w()},null)}function _P(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Boe(t){let e=E.useContext(fb);return aa(e,_P(t)),e}function Moe(t){let e=E.useContext(NS);return aa(e,_P(t)),e}function Foe(t){let e=E.useContext(tu);return aa(e,_P(t)),e}function EP(t){let e=Foe(t),s=e.matches[e.matches.length-1];return aa(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function Poe(){return EP("useRouteId")}function Ioe(){var n;let t=E.useContext(CP),e=Moe("useRouteError"),s=EP("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[s]}function Loe(){let{router:t}=Boe("useNavigate"),e=EP("useNavigate"),s=E.useRef(!1);return eX(()=>{s.current=!0}),E.useCallback(async(a,i={})=>{Ac(s.current,ZK),s.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var $8={};function sX(t,e,s){!e&&!$8[t]&&($8[t]=!0,Ac(!1,s))}E.memo(Doe);function Doe({routes:t,future:e,state:s,unstable_onError:n}){return rX(t,void 0,s,n,e)}function Uv({to:t,replace:e,state:s,relative:n}){aa(mb(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=E.useContext(eu);Ac(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=E.useContext(tu),{pathname:o}=Ol(),l=qn(),c=SP(t,NP(i),o,n==="path"),d=JSON.stringify(c);return E.useEffect(()=>{l(JSON.parse(d),{replace:e,state:s,relative:n})},[l,d,n,e,s]),null}function sr(t){aa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Roe({basename:t="/",children:e=null,location:s,navigationType:n="POP",navigator:a,static:i=!1}){aa(!mb(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof s=="string"&&(s=hb(s));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:m="default"}=s,f=E.useMemo(()=>{let x=Ef(c,o);return x==null?null:{location:{pathname:x,search:d,hash:u,state:h,key:m},navigationType:n}},[o,c,d,u,h,m,n]);return Ac(f!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:E.createElement(eu.Provider,{value:l},E.createElement(X1.Provider,{children:e,value:f}))}function J1({children:t,location:e}){return Soe(YT(t),e)}function YT(t,e=[]){let s=[];return E.Children.forEach(t,(n,a)=>{if(!E.isValidElement(n))return;let i=[...e,a];if(n.type===E.Fragment){s.push.apply(s,YT(n.props.children,i));return}aa(n.type===sr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),aa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=YT(n.props.children,i)),s.push(o)}),s}var iN="get",oN="application/x-www-form-urlencoded";function SS(t){return t!=null&&typeof t.tagName=="string"}function Ooe(t){return SS(t)&&t.tagName.toLowerCase()==="button"}function Uoe(t){return SS(t)&&t.tagName.toLowerCase()==="form"}function Hoe(t){return SS(t)&&t.tagName.toLowerCase()==="input"}function Qoe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $oe(t,e){return t.button===0&&(!e||e==="_self")&&!Qoe(t)}function JT(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,s)=>{let n=t[s];return e.concat(Array.isArray(n)?n.map(a=>[s,a]):[[s,n]])},[]))}function zoe(t,e){let s=JT(t);return e&&e.forEach((n,a)=>{s.has(a)||e.getAll(a).forEach(i=>{s.append(a,i)})}),s}var f2=null;function Goe(){if(f2===null)try{new FormData(document.createElement("form"),0),f2=!1}catch{f2=!0}return f2}var Voe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function BC(t){return t!=null&&!Voe.has(t)?(Ac(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oN}"`),null):t}function Woe(t,e){let s,n,a,i,o;if(Uoe(t)){let l=t.getAttribute("action");n=l?Ef(l,e):null,s=t.getAttribute("method")||iN,a=BC(t.getAttribute("enctype"))||oN,i=new FormData(t)}else if(Ooe(t)||Hoe(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ef(c,e):null,s=t.getAttribute("formmethod")||l.getAttribute("method")||iN,a=BC(t.getAttribute("formenctype"))||BC(l.getAttribute("enctype"))||oN,i=new FormData(l,t),!Goe()){let{name:d,type:u,value:h}=t;if(u==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,h)}}else{if(SS(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=iN,n=null,a=oN,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:s.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kP(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qoe(t,e,s){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${s}`:e&&Ef(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}async function Koe(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xoe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Yoe(t,e,s){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await Koe(i,s);return o.links?o.links():[]}return[]}));return tle(n.flat(1).filter(Xoe).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function z8(t,e,s,n,a,i){let o=(c,d)=>s[d]?c.route.id!==s[d].route.id:!0,l=(c,d)=>{var u;return s[d].pathname!==c.pathname||((u=s[d].route.path)==null?void 0:u.endsWith("*"))&&s[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var h;let u=n.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=s[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Joe(t,e,{includeHydrateFallback:s}={}){return Zoe(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Zoe(t){return[...new Set(t)]}function ele(t){let e={},s=Object.keys(t).sort();for(let n of s)e[n]=t[n];return e}function tle(t,e){let s=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(ele(a));return s.has(i)||(s.add(i),n.push({key:i,link:a})),n},[])}function nX(){let t=E.useContext(fb);return kP(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rle(){let t=E.useContext(NS);return kP(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var TP=E.createContext(void 0);TP.displayName="FrameworkContext";function aX(){let t=E.useContext(TP);return kP(t,"You must render this element inside a <HydratedRouter> element"),t}function sle(t,e){let s=E.useContext(TP),[n,a]=E.useState(!1),[i,o]=E.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,m=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let A=b=>{b.forEach(w=>{o(w.isIntersecting)})},g=new IntersectionObserver(A,{threshold:.5});return m.current&&g.observe(m.current),()=>{g.disconnect()}}},[t]),E.useEffect(()=>{if(n){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[n]);let f=()=>{a(!0)},x=()=>{a(!1),o(!1)};return s?t!=="intent"?[i,m,{}]:[i,m,{onFocus:uy(l,f),onBlur:uy(c,x),onMouseEnter:uy(d,f),onMouseLeave:uy(u,x),onTouchStart:uy(h,f)}]:[!1,m,{}]}function uy(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function nle({page:t,...e}){let{router:s}=nX(),n=E.useMemo(()=>qK(s.routes,t,s.basename),[s.routes,t,s.basename]);return n?E.createElement(ile,{page:t,matches:n,...e}):null}function ale(t){let{manifest:e,routeModules:s}=aX(),[n,a]=E.useState([]);return E.useEffect(()=>{let i=!1;return Yoe(t,e,s).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,s]),n}function ile({page:t,matches:e,...s}){let n=Ol(),{manifest:a,routeModules:i}=aX(),{basename:o}=nX(),{loaderData:l,matches:c}=rle(),d=E.useMemo(()=>z8(t,e,c,a,n,"data"),[t,e,c,a,n]),u=E.useMemo(()=>z8(t,e,c,a,n,"assets"),[t,e,c,a,n]),h=E.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let x=new Set,A=!1;if(e.forEach(b=>{var v;let w=a.routes[b.route.id];!w||!w.hasLoader||(!d.some(j=>j.route.id===b.route.id)&&b.route.id in l&&((v=i[b.route.id])!=null&&v.shouldRevalidate)||w.hasClientLoader?A=!0:x.add(b.route.id))}),x.size===0)return[];let g=qoe(t,o,"data");return A&&x.size>0&&g.searchParams.set("_routes",e.filter(b=>x.has(b.route.id)).map(b=>b.route.id).join(",")),[g.pathname+g.search]},[o,l,n,a,d,e,t,i]),m=E.useMemo(()=>Joe(u,a),[u,a]),f=ale(u);return E.createElement(E.Fragment,null,h.map(x=>E.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...s})),m.map(x=>E.createElement("link",{key:x,rel:"modulepreload",href:x,...s})),f.map(({key:x,link:A})=>E.createElement("link",{key:x,nonce:s.nonce,...A})))}function ole(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var iX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iX&&(window.__reactRouterVersion="7.9.6")}catch{}function lle({basename:t,children:e,window:s}){let n=E.useRef();n.current==null&&(n.current=Kie({window:s,v5Compat:!0}));let a=n.current,[i,o]=E.useState({action:a.action,location:a.location}),l=E.useCallback(c=>{E.startTransition(()=>o(c))},[o]);return E.useLayoutEffect(()=>a.listen(l),[a,l]),E.createElement(Roe,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var oX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sg=E.forwardRef(function({onClick:e,discover:s="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...m},f){let{basename:x}=E.useContext(eu),A=typeof d=="string"&&oX.test(d),g,b=!1;if(typeof d=="string"&&A&&(g=d,iX))try{let _=new URL(window.location.href),M=d.startsWith("//")?new URL(_.protocol+d):new URL(d),C=Ef(M.pathname,x);M.origin===_.origin&&C!=null?d=C+M.search+M.hash:b=!0}catch{Ac(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=joe(d,{relative:a}),[v,j,N]=sle(n,m),S=ule(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function T(_){e&&e(_),_.defaultPrevented||S(_)}let I=E.createElement("a",{...m,...N,href:g||w,onClick:b||i?e:T,ref:ole(f,j),target:c,"data-discover":!A&&s==="render"?"true":void 0});return v&&!A?E.createElement(E.Fragment,null,I,E.createElement(nle,{page:w})):I});sg.displayName="Link";var Hv=E.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let h=Y1(o,{relative:d.relative}),m=Ol(),f=E.useContext(NS),{navigator:x,basename:A}=E.useContext(eu),g=f!=null&&Ale(h)&&l===!0,b=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,w=m.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;s||(w=w.toLowerCase(),v=v?v.toLowerCase():null,b=b.toLowerCase()),v&&A&&(v=Ef(v,A)||v);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=w===b||!a&&w.startsWith(b)&&w.charAt(j)==="/",S=v!=null&&(v===b||!a&&v.startsWith(b)&&v.charAt(b.length)==="/"),T={isActive:N,isPending:S,isTransitioning:g},I=N?e:void 0,_;typeof n=="function"?_=n(T):_=[n,N?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(T):i;return E.createElement(sg,{...d,"aria-current":I,className:_,ref:u,style:M,to:o,viewTransition:l},typeof c=="function"?c(T):c)});Hv.displayName="NavLink";var cle=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:n,replace:a,state:i,method:o=iN,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...m},f)=>{let x=ple(),A=xle(l,{relative:d}),g=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&oX.test(l),w=v=>{if(c&&c(v),v.defaultPrevented)return;v.preventDefault();let j=v.nativeEvent.submitter,N=(j==null?void 0:j.getAttribute("formmethod"))||o;x(j||v.currentTarget,{fetcherKey:e,method:N,navigate:s,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:h})};return E.createElement("form",{ref:f,method:g,action:A,onSubmit:n?c:w,...m,"data-discover":!b&&t==="render"?"true":void 0})});cle.displayName="Form";function dle(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lX(t){let e=E.useContext(fb);return aa(e,dle(t)),e}function ule(t,{target:e,replace:s,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=qn(),c=Ol(),d=Y1(t,{relative:i});return E.useCallback(u=>{if($oe(u,e)){u.preventDefault();let h=s!==void 0?s:Ov(c)===Ov(d);l(t,{replace:h,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,s,n,e,t,a,i,o])}function hle(t){Ac(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(JT(t)),s=E.useRef(!1),n=Ol(),a=E.useMemo(()=>zoe(n.search,s.current?null:e.current),[n.search]),i=qn(),o=E.useCallback((l,c)=>{const d=JT(typeof l=="function"?l(new URLSearchParams(a)):l);s.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var fle=0,mle=()=>`__${String(++fle)}__`;function ple(){let{router:t}=lX("useSubmit"),{basename:e}=E.useContext(eu),s=Poe();return E.useCallback(async(n,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=Woe(n,e);if(a.navigate===!1){let u=a.fetcherKey||mle();await t.fetch(u,s,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,s])}function xle(t,{relative:e}={}){let{basename:s}=E.useContext(eu),n=E.useContext(tu);aa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Y1(t||".",{relative:e})},o=Ol();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:bf([s,i.pathname])),Ov(i)}function Ale(t,{relative:e}={}){let s=E.useContext(JK);aa(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=lX("useViewTransitionState"),a=Y1(t,{relative:e});if(!s.isTransitioning)return!1;let i=Ef(s.currentLocation.pathname,n)||s.currentLocation.pathname,o=Ef(s.nextLocation.pathname,n)||s.nextLocation.pathname;return _N(a.pathname,o)!=null||_N(a.pathname,i)!=null}/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ble=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,n)=>n?n.toUpperCase():s.toLowerCase()),G8=t=>{const e=ble(t);return e.charAt(0).toUpperCase()+e.slice(1)},cX=(...t)=>t.filter((e,s,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===s).join(" ").trim(),yle=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>E.createElement("svg",{ref:c,...vle,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:cX("lucide",a),...!i&&!yle(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>E.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(t,e)=>{const s=E.forwardRef(({className:n,...a},i)=>E.createElement(wle,{ref:i,iconNode:e,className:cX(`lucide-${gle(G8(t))}`,`lucide-${t}`,n),...a}));return s.displayName=G8(t),s};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ei=yt("activity",jle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],ZT=yt("archive",Nle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],eB=yt("arrow-down",Sle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],V8=yt("arrow-left-right",Cle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rl=yt("arrow-left",_le);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vg=yt("arrow-right",Ele);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],W8=yt("arrow-up-right",kle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],wg=yt("arrow-up",Tle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Mle=yt("at-sign",Ble);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],pn=yt("award",Fle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],Ile=yt("baby",Ple);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jg=yt("badge-check",Lle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Rle=yt("battery",Dle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Ule=yt("bell-ring",Ole);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],sa=yt("bell",Hle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hr=yt("book-open",Qle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],CS=yt("book",$le);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Gle=yt("bookmark-check",zle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],EN=yt("bookmark",Vle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],dX=yt("bot",Wle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Vs=yt("brain",qle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],BP=yt("briefcase",Kle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],dc=yt("building-2",Xle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Jle=yt("building",Yle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],_S=yt("calculator",Zle);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],uX=yt("calendar-check",ece);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Em=yt("calendar-days",tce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],q8=yt("calendar-range",rce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ir=yt("calendar",sce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],MP=yt("camera",nce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ice=yt("chart-column-increasing",ace);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ma=yt("chart-column",oce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],cce=yt("chart-no-axes-column",lce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],hX=yt("chart-pie",dce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],hce=yt("check-check",uce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gu=yt("check",fce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ln=yt("chevron-down",mce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ru=yt("chevron-left",pce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ra=yt("chevron-right",xce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gce=yt("chevron-up",Ace);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],yce=yt("chevrons-up-down",bce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],br=yt("circle-alert",vce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fr=yt("circle-check-big",wce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qp=yt("circle-check",jce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sce=yt("circle-help",Nce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],_ce=yt("circle-plus",Cce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],kce=yt("circle-user",Ece);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ia=yt("circle-x",Tce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],lv=yt("clipboard-check",Bce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Qv=yt("clipboard-list",Mce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],fr=yt("clock",Fce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ice=yt("cloud",Pce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],FP=yt("coins",Lce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],eh=yt("copy",Dce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ru=yt("credit-card",Rce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],kf=yt("dollar-sign",Oce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bs=yt("download",Uce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],th=yt("ellipsis-vertical",Hce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],$ce=yt("ellipsis",Qce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gce=yt("external-link",zce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sx=yt("eye-off",Vce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Es=yt("eye",Wce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],Kce=yt("file-chart-column-increasing",qce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],tB=yt("file-check",Xce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],rB=yt("file-down",Yce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],K8=yt("file-spreadsheet",Jce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dr=yt("file-text",Zce);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],tde=yt("file",ede);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],X8=yt("flag",rde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],$v=yt("frown",sde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Po=yt("funnel",nde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ide=yt("gamepad-2",ade);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Tf=yt("globe",ode);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],pa=yt("graduation-cap",lde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],PP=yt("grid-3x3",cde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ude=yt("hash",dde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Y8=yt("headphones",hde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Do=yt("heart",fde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],pb=yt("house",mde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],xde=yt("id-card",pde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],_o=yt("indian-rupee",Ade);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ES=yt("info",gde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],IP=yt("key-round",bde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=[["path",{d:"M12.4 2.7a2.5 2.5 0 0 1 3.4 0l5.5 5.5a2.5 2.5 0 0 1 0 3.4l-3.7 3.7a2.5 2.5 0 0 1-3.4 0L8.7 9.8a2.5 2.5 0 0 1 0-3.4z",key:"165ttr"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"m9.4 10.6-6.814 6.814A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814",key:"1ubxi2"}]],vde=yt("key-square",yde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],kS=yt("layers",wde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Nde=yt("layout-dashboard",jde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],J8=yt("layout-grid",Sde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],TS=yt("life-buoy",Cde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Z1=yt("lightbulb",_de);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],kde=yt("link-2",Ede);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Bde=yt("list-ordered",Tde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],zv=yt("list",Mde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vn=yt("loader-circle",Fde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Z8=yt("loader",Pde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ou=yt("lock",Ide);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],MC=yt("log-in",Lde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vd=yt("log-out",Dde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xa=yt("mail",Rde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mi=yt("map-pin",Ode);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],sB=yt("maximize-2",Ude);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],fX=yt("medal",Hde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],kN=yt("meh",Qde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Ng=yt("menu",$de);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],gc=yt("message-circle",zde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],mn=yt("message-square",Gde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],mX=yt("mic",Vde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],qde=yt("minimize-2",Wde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M5 12h14",key:"1ays0h"}]],Xde=yt("minus",Kde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Jde=yt("monitor",Yde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],eue=yt("moon",Zde);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],rue=yt("network",tue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],nue=yt("notebook-pen",sue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],LP=yt("paperclip",aue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],oue=yt("pause",iue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Zi=yt("pen-line",lue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Vu=yt("pen-tool",cue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Sg=yt("pen",due);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],eR=yt("pencil",uue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oa=yt("phone",hue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],mue=yt("piggy-bank",fue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],tR=yt("pin",pue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Pi=yt("play",xue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vs=yt("plus",Aue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],nB=yt("receipt",gue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],lN=yt("refresh-ccw",bue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oh=yt("refresh-cw",yue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],wue=yt("rocket",vue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ro=yt("rotate-ccw",jue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],pX=yt("ruler",Nue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],BS=yt("save",Sue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Wu=yt("school",Cue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fs=yt("search",_ue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hc=yt("send",Eue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nx=yt("settings",kue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],MS=yt("share-2",Tue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],Mue=yt("share",Bue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DP=yt("shield-check",Fue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xd=yt("shield",Pue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Lue=yt("shopping-cart",Iue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],xX=yt("shuffle",Due);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Uu=yt("smile",Rue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],AX=yt("sparkles",Oue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],HA=yt("square-pen",Uue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],fs=yt("star",Hue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gX=yt("sun",Que);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kn=yt("target",$ue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],FC=yt("timer",zue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vn=yt("trash-2",Gue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],rR=yt("trash",Vue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],que=yt("tree-pine",Wue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],RP=yt("trending-down",Kue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yi=yt("triangle-alert",Xue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ds=yt("trending-up",Yue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Fl=yt("trophy",Jue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ax=yt("upload",Zue);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yd=yt("user-check",ehe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rhe=yt("user-cog",the);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],OP=yt("user-plus",she);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]],ahe=yt("user-search",nhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],us=yt("user",ihe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],sR=yt("users-round",ohe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ar=yt("users",lhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ix=yt("video",che);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],uhe=yt("volume-2",dhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],fhe=yt("volume-x",hhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],aB=yt("wallet",mhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],xhe=yt("weight",phe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ghe=yt("wifi",Ahe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ks=yt("x",bhe);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rh=yt("zap",yhe),m2="http://localhost:5000".replace(/\/$/,""),vhe=()=>{const[t,e]=E.useState(!1),[s,n]=E.useState(!1),[a,i]=E.useState(""),[o,l]=E.useState({username:"",password:"",newPassword:"",confirmPassword:"",rememberMe:!1}),[c,d]=E.useState({}),[u,h]=E.useState(""),[m,f]=E.useState(""),[x,A]=E.useState(!1),g=qn(),b=N=>{const{name:S,value:T,type:I,checked:_}=N.target;l(M=>({...M,[S]:I==="checkbox"?_:T})),c[S]&&d(M=>({...M,[S]:""})),u&&h(""),m&&f("")},w=()=>{const N={};return o.username.trim()||(N.username="User ID is required"),o.password?o.password.length<6&&(N.password="Password must be at least 6 characters"):N.password="Password is required",d(N),Object.keys(N).length===0},v=()=>{const N={};return o.username.trim()||(N.username="Username is required"),o.newPassword?o.newPassword.length<8?N.newPassword="Password must be at least 8 characters":(!/[a-z]/.test(o.newPassword)||!/[A-Z]/.test(o.newPassword)||!/[0-9]/.test(o.newPassword))&&(N.newPassword="Include uppercase, lowercase, and a number"):N.newPassword="New password is required",o.confirmPassword?o.newPassword!==o.confirmPassword&&(N.confirmPassword="Passwords do not match"):N.confirmPassword="Confirm your password",d(N),Object.keys(N).length===0},j=async N=>{N.preventDefault();const S=o.username.trim();if(s){if(!v())return}else if(!w())return;A(!0),h(""),f("");try{if(s){const C={Admin:{resetEndpoint:"/api/admin/auth/reset-first-password",loginEndpoint:"/api/admin/auth/login",redirect:"/admin/dashboard"},Teacher:{resetEndpoint:"/api/teacher/auth/reset-first-password",loginEndpoint:"/api/teacher/auth/login",redirect:"/teacher/dashboard"},Student:{resetEndpoint:"/api/student/auth/reset-first-password",loginEndpoint:"/api/student/auth/login",redirect:"/dashboard"},Parent:{resetEndpoint:"/api/parent/auth/reset-first-password",loginEndpoint:"/api/parent/auth/login",redirect:"/parents"}}[a];if(!C)throw new Error("Unsupported password reset flow");const B=await fetch(`${m2}${C.resetEndpoint}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,newPassword:o.newPassword})});if(!B.ok){const D=await B.json().catch(()=>({}));throw new Error((D==null?void 0:D.error)||"Unable to reset password")}const P=await fetch(`${m2}${C.loginEndpoint}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,password:o.newPassword})});if(!P.ok)throw new Error("Login failed after reset. Please sign in again.");const H=await P.json();localStorage.setItem("token",H.token),localStorage.setItem("userType",a),g(C.redirect);return}const T=[{userType:"Student",url:"/api/student/auth/login",redirect:"/student"},{userType:"Teacher",url:"/api/teacher/auth/login",redirect:"/teacher/dashboard"},{userType:"Parent",url:"/api/parent/auth/login",redirect:"/parent"},{userType:"Principal",url:"/api/principal/auth/login",redirect:"/principal"},{userType:"Admin",url:"/api/admin/auth/login",redirect:"/admin/dashboard"}];let I=!1,_="";for(const M of T){const C=await fetch(`${m2}${M.url}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,password:o.password})});if(!C.ok){if(M.userType==="Admin"&&C.status===403){const H=await C.json().catch(()=>({}));throw new Error((H==null?void 0:H.error)||"Account inactive. Contact EEC admin.")}const P=await C.json().catch(()=>({}));(P!=null&&P.error||P!=null&&P.message)&&(_=P.error||P.message);continue}const B=await C.json();if(B!=null&&B.requiresPasswordReset){n(!0),i(M.userType),l(P=>({...P,username:B.username||P.username,password:"",newPassword:"",confirmPassword:""})),f("First login detected. Please reset your password."),I=!0;break}if(localStorage.setItem("token",B.token),M.userType==="Admin"){let P=M.userType,H=M.redirect;try{const D=await fetch(`${m2}/api/admin/auth/profile`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${B.token}`}});if(D.ok){const G=await D.json();(G==null?void 0:G.role)==="super_admin"&&(P="SuperAdmin",H="/super-admin/overview")}}catch(D){console.error("Failed to load admin profile",D)}localStorage.setItem("userType",P),g(H)}else localStorage.setItem("userType",M.userType),g(M.redirect);I=!0;break}if(!I)throw new Error(_||"Invalid credentials. Please check your User ID and password.")}catch(T){console.error("Login failed:",T),h(T.message||"Login failed. Please try again.")}finally{A(!1)}};return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-[url('/xavier.jpeg')] bg-no-repeat bg-cover bg-center px-4 py-8 sm:px-6",children:r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-6 sm:p-8 max-w-md w-full mx-auto space-y-6 border border-purple-600",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:"mx-auto w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center mb-4",children:r.jsx(Ou,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),r.jsx("h4",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-yellow-500 to-amber-600 bg-clip-text text-transparent",children:"Welcome to EEC"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:s?"Reset your password to continue":"Please sign in to your account"})]}),r.jsxs("form",{onSubmit:j,className:"space-y-4 sm:space-y-5",children:[m&&r.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:m}),u&&r.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:u}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"User ID"}),r.jsxs("div",{className:"relative",children:[r.jsx(us,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",name:"username",value:o.username,onChange:b,placeholder:"Enter your User ID",className:`w-full pl-10 pr-4 py-2.5 sm:py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${c.username?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),c.username&&r.jsx("p",{className:"text-red-500 text-sm",children:c.username})]}),!s&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Password"}),r.jsx("button",{type:"button",className:"text-sm text-yellow-600 hover:text-amber-700 transition-colors duration-200",children:"Forgot password?"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ou,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:t?"text":"password",name:"password",value:o.password,onChange:b,placeholder:"Enter your password",className:`w-full pl-10 pr-12 py-2.5 sm:py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${c.password?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>e(!t),children:t?r.jsx(sx,{size:20}):r.jsx(Es,{size:20})})})]}),c.password&&r.jsx("p",{className:"text-red-500 text-sm ",children:c.password})]}),s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"New password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ou,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:t?"text":"password",name:"newPassword",value:o.newPassword,onChange:b,placeholder:"Create a strong password",className:`w-full pl-10 pr-12 py-2.5 sm:py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${c.newPassword?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",onClick:()=>e(!t),children:t?r.jsx(sx,{size:20}):r.jsx(Es,{size:20})})})]}),c.newPassword&&r.jsx("p",{className:"text-red-500 text-sm ",children:c.newPassword})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Confirm password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ou,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:t?"text":"password",name:"confirmPassword",value:o.confirmPassword,onChange:b,placeholder:"Re-enter your password",className:`w-full pl-10 pr-4 py-2.5 sm:py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${c.confirmPassword?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),c.confirmPassword&&r.jsx("p",{className:"text-red-500 text-sm ",children:c.confirmPassword})]})]}),!s&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"remember",name:"rememberMe",checked:o.rememberMe,onChange:b,className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),r.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me for 30 days"})]}),r.jsx("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 text-white py-2.5 sm:py-3 rounded-xl hover:from-yellow-600 hover:to-amber-600 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center justify-center gap-2",children:x?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s?"Resetting...":"Signing in..."]}):s?"Reset Password & Sign In":"Sign In"})]})]})})},whe=()=>{const[t,e]=E.useState(!1),[s,n]=E.useState(!1),[a,i]=E.useState({username:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[o,l]=E.useState({}),[c,d]=E.useState(!1),u=A=>{const{name:g,value:b,type:w,checked:v}=A.target;i(j=>({...j,[g]:w==="checkbox"?v:b})),o[g]&&l(j=>({...j,[g]:""}))},h=()=>{const A={};return a.username.trim()?a.username.length<3&&(A.username="Username must be at least 3 characters"):A.username="Username is required",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(A.email="Please enter a valid email address"):A.email="Email is required",a.password?a.password.length<8?A.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(a.password)||(A.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):A.password="Password is required",a.confirmPassword?a.password!==a.confirmPassword&&(A.confirmPassword="Passwords do not match"):A.confirmPassword="Please confirm your password",a.agreeToTerms||(A.agreeToTerms="You must agree to the terms and conditions"),l(A),Object.keys(A).length===0},m=async A=>{if(A.preventDefault(),!!h()){d(!0);try{await new Promise(g=>setTimeout(g,2e3)),console.log("Registration attempt:",{username:a.username,email:a.email,password:a.password})}catch(g){console.error("Registration failed:",g)}finally{d(!1)}}},f=()=>{console.log("Redirect to Google OAuth for signup")},x=()=>{console.log("Redirect to login page")};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 px-4 py-8",children:r.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full space-y-6 border border-white/20",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-yellow-500 to-amber-600 rounded-full flex items-center justify-center mb-4",children:r.jsx(OP,{className:"w-8 h-8 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-amber-600 bg-clip-text text-transparent",children:"Join EEC"}),r.jsx("p",{className:"text-gray-600",children:"Create your account to get started"})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx(us,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",name:"username",value:a.username,onChange:u,placeholder:"Choose a username",className:`w-full pl-10 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.username?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),o.username&&r.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.username})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(xa,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:u,placeholder:"Enter your email",className:`w-full pl-10 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.email?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),o.email&&r.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.email})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ou,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:t?"text":"password",name:"password",value:a.password,onChange:u,placeholder:"Create a strong password",className:`w-full pl-10 pr-12 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.password?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),r.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>e(!t),children:t?r.jsx(sx,{size:20}):r.jsx(Es,{size:20})})]}),o.password&&r.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.password})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ou,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:s?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:u,placeholder:"Confirm your password",className:`w-full pl-10 pr-12 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.confirmPassword?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),r.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>n(!s),children:s?r.jsx(sx,{size:20}):r.jsx(Es,{size:20})})]}),o.confirmPassword&&r.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.confirmPassword})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("input",{type:"checkbox",id:"terms",name:"agreeToTerms",checked:a.agreeToTerms,onChange:u,className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500 mt-1"}),r.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-5",children:["I agree to the"," ",r.jsx("button",{type:"button",className:"text-yellow-600 hover:text-yellow-800 underline font-medium",children:"Terms of Service"})," ","and"," ",r.jsx("button",{type:"button",className:"text-yellow-600 hover:text-yellow-800 underline font-medium",children:"Privacy Policy"})]})]}),o.agreeToTerms&&r.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.agreeToTerms})]}),r.jsx("button",{type:"submit",disabled:c,onClick:m,className:"w-full bg-gradient-to-r from-yellow-600 to-amber-600 text-white py-3 rounded-xl hover:from-yellow-700 hover:to-amber-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"}),r.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Already have an account?"," ",r.jsx("button",{type:"button",onClick:x,className:"text-yellow-600 hover:text-yellow-800 font-semibold transition-colors duration-200",children:"Sign In"})]}),r.jsxs("div",{className:"relative my-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"bg-white px-4 text-gray-500 font-medium",children:"or continue with"})})]}),r.jsxs("button",{type:"button",onClick:f,className:"w-full flex items-center justify-center gap-3 border border-gray-300 py-3 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 group",children:[r.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"Sign up with Google"})]})]})]})})},bX=E.createContext({loading:!0,error:"",profile:null,stats:null,course:null,recentAttendance:[],refresh:()=>{}}),jhe=({children:t})=>{const[e,s]=E.useState(!0),[n,a]=E.useState(""),[i,o]=E.useState({profile:null,stats:null,course:null,recentAttendance:[]}),l=async()=>{try{s(!0),a("");const d=localStorage.getItem("token"),u=localStorage.getItem("userType");if(!d||u!=="Student"){o({profile:null,stats:null,course:null,recentAttendance:[]}),s(!1);return}const h=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});if(!h.ok){const f=await h.json().catch(()=>({}));throw new Error((f==null?void 0:f.error)||"Unable to load dashboard data")}const m=await h.json();o({profile:m.profile||null,stats:m.stats||null,course:m.course||null,recentAttendance:m.recentAttendance||[]})}catch(d){console.error("Student dashboard fetch error:",d),a(d.message||"Failed to load dashboard"),o({profile:null,stats:null,course:null,recentAttendance:[]})}finally{s(!1)}};E.useEffect(()=>{l()},[]);const c=E.useMemo(()=>({loading:e,error:n,profile:i.profile,stats:i.stats,course:i.course,recentAttendance:i.recentAttendance,refresh:l}),[e,n,i]);return r.jsx(bX.Provider,{value:c,children:t})},Nx=()=>E.useContext(bX),Nhe=({activeView:t,isOpen:e,setIsOpen:s})=>{const n=qn(),[a,i]=E.useState({}),o=!e,{profile:l}=Nx(),c=l||{name:"Student",grade:"",section:"",roll:"",className:"",sectionName:"",rollNumber:"",campusName:"",campusType:"",schoolName:"",schoolLogo:null},d=c.className||c.grade,u=c.sectionName||c.section,h=c.rollNumber||c.roll,m=c.campusName?c.campusType?`${c.campusName} (${c.campusType})`:c.campusName:"",f=w=>{const v=w==="dashboard"?"/student":`/student/${w}`;n(v)},x=w=>{f(w),typeof window<"u"&&window.innerWidth<768&&s(!1)},A=c.schoolLogo||"/harrow-hall-school.png",g=[{id:"dashboard",name:"Dashboard",icon:pb,gradient:"from-blue-500 to-blue-600",description:"Overview & Analytics"},{id:"ai-learning",name:"AI Learning",icon:Vs,gradient:"from-purple-500 to-purple-600",description:"Smart Learning Hub",children:[{id:"ai-learning-courses",name:"AI Courses",icon:pa},{id:"ai-learning-tutor",name:"AI Tutor",icon:Vs}]},{id:"academics",name:"Academics",icon:Hr,gradient:"from-emerald-500 to-emerald-600",description:"Learning Materials",children:[{id:"assignments",name:"Assignments",icon:Dr},{id:"assignments-journal",name:"Journal",icon:tde},{id:"assignments-academic-alcove",name:"Study Hub",icon:kn},{id:"results",name:"Results",icon:ma}]},{id:"schedule",name:"Schedule",icon:ir,gradient:"from-orange-500 to-orange-600",description:"Time Management",children:[{id:"routine",name:"Daily Routine",icon:ir},{id:"attendance",name:"Attendance",icon:Ar}]},{id:"communication",name:"Communication",icon:mn,gradient:"from-indigo-500 to-indigo-600",description:"Connect & Collaborate",children:[{id:"chat",name:"Messages",icon:gc},{id:"teacherfeedback",name:"Teacher Feedback",icon:fs},{id:"excuse-letter",name:"Excuse Letter",icon:Dr},{id:"noticeboard",name:"Notice Board",icon:sa}]},{id:"wellness",name:"Wellness",icon:Do,gradient:"from-pink-500 to-pink-600",description:"Health & Wellbeing",children:[{id:"wellbeing",name:"Mental Health",icon:Do},{id:"achievements",name:"Achievements",icon:Fl}]}],b=()=>{localStorage.removeItem("token"),n("/")};return E.useEffect(()=>{const w=v=>{window.innerWidth<768&&e&&!v.target.closest(".sidebar")&&s(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[e,s]),r.jsxs(r.Fragment,{children:[e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden transition-opacity duration-300",onClick:()=>s(!1)}),r.jsxs("div",{className:`sidebar fixed md:relative h-screen bg-white shadow-2xl transition-all duration-500 ease-in-out z-50 flex flex-col border-r border-gray-200 overflow-x-hidden ${e?"w-80":"w-20"} ${e?"translate-x-0":"-translate-x-full md:translate-x-0"} ${e?"":"overflow-hidden"}`,style:{transitionProperty:"width, transform, box-shadow",transitionDuration:"0.4s",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"aria-label":"Sidebar",children:[r.jsxs("div",{className:"relative overflow-hidden",children:[r.jsxs("div",{className:`transition-all duration-400 ease-in-out ${e?"opacity-100 transform translate-x-0":"opacity-0 transform -translate-x-4 pointer-events-none absolute inset-0"}`,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-600 via-yellow-600 to-yellow-500 opacity-90"}),r.jsx("div",{className:"relative p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center shadow-lg border border-white/30",children:r.jsx("img",{src:A,className:"w-6 h-6 rounded-lg object-cover",alt:"School Logo"})}),r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),r.jsxs("div",{className:"text-white",children:[r.jsx("div",{className:"font-bold text-lg leading-tight",children:c.schoolName||c.name}),r.jsx("div",{className:"text-white/80 text-xs",children:d?`Class ${d}${u?` | Section ${u}`:""}`:`${c.name}'s Portal`}),h&&r.jsxs("div",{className:"text-white/80 text-[11px]",children:["Roll No: ",h]}),m&&r.jsxs("div",{className:"text-white/80 text-[11px]",children:["Campus: ",m]})]})]}),r.jsx("button",{onClick:()=>s(!e),className:"md:hidden p-2 rounded-lg bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 transition-colors border border-white/30",children:r.jsx(ks,{size:20})})]})})]}),r.jsx("div",{className:`transition-all duration-400 ease-in-out ${e?"opacity-0 transform translate-x-4 pointer-events-none absolute inset-0":"opacity-100 transform translate-x-0"}`,children:r.jsx("div",{className:"p-2 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-md",children:r.jsx("img",{src:A,className:"w-6 h-6 rounded-lg object-cover",alt:"School Logo"})}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),r.jsx("div",{className:"w-8 h-px bg-gray-300"})]})})})]}),r.jsx("nav",{className:`flex-1 overflow-y-auto overflow-x-hidden modern-scrollbar ${e?"px-4 py-6":"px-1 py-2"}`,children:r.jsx("div",{className:`${e?"space-y-2":"space-y-1"}`,children:g.map(w=>{var M,C;const v=w.icon,j=!!((M=w.children)!=null&&M.length),N=t===w.id||j&&t.startsWith(`${w.id}-`)||j&&((C=w.children)==null?void 0:C.some(B=>B.id===t)),S=j&&N,T=a[w.id]===void 0?S:a[w.id],I=j&&T&&!o,_=B=>{if(B.preventDefault(),B.stopPropagation(),j){if(o){x(w.id);return}i(P=>({...P,[w.id]:!T}))}else x(w.id)};return r.jsxs("div",{className:"mb-1",children:[r.jsxs("button",{onClick:_,className:`
                      ${j?"w-full flex items-center space-x-3 px-3 py-3 rounded-lg":"w-full flex items-center space-x-3 px-4 py-3 rounded-lg"}
                      group transition-all duration-300 ease-out transform
                      ${j?"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 active:scale-95":N?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 shadow-md border-l-4 border-yellow-500":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 active:scale-95 hover:border-l-4 hover:border-blue-300"}
                    `,children:[r.jsx(v,{size:20,className:`flex-shrink-0 transition-all duration-300 ${!j&&N?"text-yellow-600":"text-gray-600 group-hover:text-blue-600 group-hover:scale-110"}`}),!o&&r.jsx("span",{className:"font-medium flex-1 text-left transition-all duration-300",children:w.name}),!o&&j&&(I?r.jsx(ln,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-all duration-300 group-hover:rotate-180"}):r.jsx(ra,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-all duration-300 group-hover:translate-x-1"}))]}),I&&r.jsx("div",{className:"ml-6 mt-1 space-y-1",children:w.children.map(B=>{const P=B.icon,H=t===B.id;return r.jsxs("button",{onClick:D=>{D.preventDefault(),D.stopPropagation(),x(B.id)},className:`
                              w-full flex items-center space-x-3 px-4 py-2 rounded-lg
                              group transition-all duration-300 ease-out transform
                              ${H?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 border-l-2 border-yellow-500 shadow-sm":"text-gray-500 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 hover:text-gray-700 hover:shadow-sm hover:scale-105 active:scale-95 hover:border-l-2 hover:border-blue-200"}
                            `,children:[r.jsx(P,{size:16,className:`flex-shrink-0 transition-all duration-300 ${H?"text-yellow-600":"group-hover:text-blue-600 group-hover:scale-110"}`}),r.jsx("span",{className:"text-sm font-medium transition-all duration-300",children:B.name})]},B.id)})})]},w.id)})})}),r.jsx("div",{className:`border-t border-gray-200 ${e?"p-4":"p-2"}`,children:r.jsxs("div",{className:`${e?"space-y-2":"space-y-1"}`,children:[e?r.jsxs("button",{onClick:()=>x("themecustomizer"),className:"group relative w-full flex items-center px-4 py-3 rounded-xl text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 transition-all duration-300 ease-out transform active:scale-95",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 text-gray-600 group-hover:bg-blue-100 group-hover:text-blue-600 group-hover:scale-110 transition-all duration-300",children:r.jsx(nx,{size:20,className:"flex-shrink-0 transition-all duration-300"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"font-medium text-sm transition-all duration-300",children:"Settings"}),r.jsx("div",{className:"text-xs text-gray-500 group-hover:text-blue-600 transition-all duration-300",children:"Preferences & Config"})]})]}):r.jsxs("button",{onClick:()=>x("themecustomizer"),className:"group relative w-full h-12 flex items-center justify-center rounded-xl text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:scale-105 hover:shadow-md hover:text-gray-900 transition-all duration-300 ease-out transform active:scale-95",children:[r.jsx("div",{className:"relative flex items-center justify-center w-6 h-6 transition-all duration-300 text-gray-600 group-hover:text-blue-600 group-hover:scale-110",children:r.jsx(nx,{size:18,strokeWidth:1.8,className:"flex-shrink-0 transition-all duration-300"})}),r.jsx("div",{className:"absolute left-full ml-3 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out transform translate-x-2 group-hover:translate-x-0 pointer-events-none z-50",children:r.jsxs("div",{className:"bg-gray-900 text-white px-4 py-3 rounded-xl shadow-2xl border border-gray-700 min-w-max",children:[r.jsx("div",{className:"font-semibold text-sm",children:"Settings"}),r.jsx("div",{className:"text-xs text-gray-300 mt-1",children:"Preferences & Config"}),r.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2",children:r.jsx("div",{className:"w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"})})]})}),r.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-transparent group-hover:ring-gray-300/30 transition-all duration-300"})]}),e?r.jsxs("button",{onClick:b,className:"group relative w-full flex items-center px-4 py-3 rounded-xl text-red-600 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:text-red-700 hover:shadow-md hover:scale-105 transition-all duration-300 ease-out transform active:scale-95",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-red-100 text-red-600 group-hover:bg-red-200 group-hover:scale-110 transition-all duration-300",children:r.jsx(Vd,{size:20,className:"flex-shrink-0 transition-all duration-300"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"font-medium text-sm transition-all duration-300",children:"Logout"}),r.jsx("div",{className:"text-xs text-red-500 group-hover:text-red-600 transition-all duration-300",children:"Sign out securely"})]})]}):r.jsxs("button",{onClick:b,className:"group relative w-full h-12 flex items-center justify-center rounded-xl text-red-500 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:scale-105 hover:shadow-md hover:text-red-600 transition-all duration-300 ease-out transform active:scale-95",children:[r.jsx("div",{className:"relative flex items-center justify-center w-6 h-6 transition-all duration-300 text-red-500 group-hover:text-red-600 group-hover:scale-110",children:r.jsx(Vd,{size:18,strokeWidth:1.8,className:"flex-shrink-0 transition-all duration-300"})}),r.jsx("div",{className:"absolute left-full ml-3 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out transform translate-x-2 group-hover:translate-x-0 pointer-events-none z-50",children:r.jsxs("div",{className:"bg-gray-900 text-white px-4 py-3 rounded-xl shadow-2xl border border-gray-700 min-w-max",children:[r.jsx("div",{className:"font-semibold text-sm",children:"Logout"}),r.jsx("div",{className:"text-xs text-gray-300 mt-1",children:"Sign out securely"}),r.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2",children:r.jsx("div",{className:"w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"})})]})}),r.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-transparent group-hover:ring-red-300/30 transition-all duration-300"})]})]})})]})]})},She=45e3,Che=()=>{const[t,e]=E.useState([]),[s,n]=E.useState(0),[a,i]=E.useState(!0),[o,l]=E.useState(null),c=E.useRef(null),d=E.useCallback(async()=>{try{const f=localStorage.getItem("token"),x=localStorage.getItem("userType");if(!f||x!=="Student"){e([]),n(0),i(!1);return}const A=await fetch("http://localhost:5000/api/notifications/user",{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(!A.ok)throw new Error("Failed to fetch notifications");const g=await A.json(),b=Array.isArray(g)?g:[];e(b),n(b.filter(w=>!w.isRead).length),l(null)}catch(f){console.error("Failed to fetch notifications:",f),l(f.message)}finally{i(!1)}},[]),u=E.useCallback(async f=>{try{const x=localStorage.getItem("token");if(!(await fetch(`http://localhost:5000/api/notifications/user/${f}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to mark as read");return e(g=>g.map(b=>b._id===f?{...b,isRead:!0}:b)),n(g=>Math.max(0,g-1)),!0}catch(x){return console.error("Failed to mark notification as read:",x),!1}},[]),h=E.useCallback(async f=>{try{const x=localStorage.getItem("token");if(!(await fetch(`http://localhost:5000/api/notifications/user/${f}/dismiss`,{method:"PATCH",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to dismiss notification");return e(g=>g.filter(b=>b._id!==f)),n(g=>{const b=t.find(w=>w._id===f);return b&&!b.isRead?Math.max(0,g-1):g}),!0}catch(x){return console.error("Failed to dismiss notification:",x),!1}},[t]),m=E.useCallback(async()=>{try{const f=localStorage.getItem("token");if(!(await fetch("http://localhost:5000/api/notifications/user/read-all",{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to mark all as read");return e(A=>A.map(g=>({...g,isRead:!0}))),n(0),!0}catch(f){return console.error("Failed to mark all as read:",f),!1}},[]);return E.useEffect(()=>(d(),c.current=setInterval(()=>{d()},She),()=>{c.current&&clearInterval(c.current)}),[d]),{notifications:t,unreadCount:s,loading:a,error:o,markAsRead:u,dismissNotification:h,markAllAsRead:m,refresh:d}},_he=({sidebarOpen:t,setSidebarOpen:e,onOpenProfile:s})=>{var C;const n=qn(),[a,i]=E.useState(!1),[o,l]=E.useState(!1),{profile:c}=Nx(),{notifications:d,unreadCount:u,loading:h,markAsRead:m,dismissNotification:f}=Che(),x=d.slice(0,5),A=c||{name:"Student",grade:"",section:"",roll:"",className:"",sectionName:"",rollNumber:"",campusName:"",campusType:"",schoolName:"",schoolLogo:null,profilePic:null},g=A.className||A.grade,b=A.sectionName||A.section,w=A.rollNumber||A.roll,v=A.campusName?A.campusType?`${A.campusName} (${A.campusType})`:A.campusName:"",{greeting:j,dateLabel:N}=E.useMemo(()=>{const B=new Date,P=B.getHours(),H=P<12?"Good morning":P<18?"Good afternoon":"Good evening",D=B.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"});return{greeting:H,dateLabel:D}},[]),S=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),n("/")},T=B=>{switch(B){case"assignment":return"bg-yellow-500";case"exam":return"bg-blue-500";case"result":return"bg-green-500";case"fee":return"bg-red-500";default:return"bg-gray-400"}},I=async B=>{B.isRead||await m(B._id)},_=async(B,P)=>{B.stopPropagation(),await f(P)},M=B=>{const P=new Date(B),D=new Date-P,G=Math.floor(D/6e4),O=Math.floor(G/60),Q=Math.floor(O/24);return G<1?"Just now":G<60?`${G} minute${G>1?"s":""} ago`:O<24?`${O} hour${O>1?"s":""} ago`:`${Q} day${Q>1?"s":""} ago`};return r.jsx("header",{className:"sticky top-0 z-40 w-full backdrop-blur supports-[backdrop-filter]:bg-white/70 bg-white/80 border-b border-gray-200",children:r.jsx("div",{className:"px-2 sm:px-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-3 py-2 sm:py-3",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors","aria-label":"Toggle sidebar",children:r.jsx(Ng,{size:22,className:"text-gray-700"})}),r.jsxs("div",{className:"hidden xs:block",children:[r.jsxs("div",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:[j,", ",((C=A.name)==null?void 0:C.split(" ")[0])||"Student"]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[r.jsx(Em,{size:14}),r.jsx("span",{children:N})]}),r.jsxs("div",{className:"text-[11px] text-gray-500 mt-0.5",children:[g?`Class ${g}${b?` | Section ${b}`:""}`:"Class not assigned",w?` | Roll ${w}`:"",v?` | Campus ${v}`:""]})]})]}),r.jsx("div",{className:"flex-1 max-w-xl",children:r.jsxs("div",{className:"relative flex items-center",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search courses, assignments, or results",className:"w-full pl-9 pr-24 py-2 rounded-lg border border-gray-300 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none shadow-sm"}),r.jsx("button",{className:"absolute right-2 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-md transition-colors","aria-label":"Search",children:"Search"})]})}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[(A.schoolName||A.schoolLogo)&&r.jsxs("div",{className:"hidden lg:flex items-center gap-2 bg-white/70 backdrop-blur px-3 py-2 rounded-xl border border-gray-200",children:[r.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center overflow-hidden",children:A.schoolLogo?r.jsx("img",{src:A.schoolLogo,alt:"School Logo",className:"w-full h-full object-cover",onError:B=>{B.target.style.display="none"}}):r.jsx("div",{className:"text-gray-500 text-xs font-semibold",children:(A.schoolName||"School").slice(0,2).toUpperCase()})}),r.jsxs("div",{className:"leading-tight",children:[r.jsx("p",{className:"text-[11px] uppercase text-gray-400 tracking-wide",children:"School"}),r.jsx("p",{className:"text-sm font-semibold text-gray-800",children:A.schoolName||"Not assigned"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",onClick:()=>i(B=>!B),"aria-label":"Show notifications",children:[r.jsx(sa,{size:20,className:"text-gray-700"}),u>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] rounded-full min-w-[18px] h-[18px] px-1 flex items-center justify-center",children:u>99?"99+":u})]}),a&&r.jsxs("div",{className:"absolute right-0 mt-2 w-96 max-w-xs bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[r.jsxs("div",{className:"p-3 border-b bg-gray-50 font-semibold text-gray-800 flex items-center justify-between",children:[r.jsx("span",{children:"Notifications"}),u>0&&r.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full",children:[u," new"]})]}),r.jsx("ul",{className:"divide-y divide-gray-100 max-h-96 overflow-y-auto",children:h?r.jsx("li",{className:"p-4 text-gray-500 text-sm text-center",children:"Loading..."}):x.length===0?r.jsx("li",{className:"p-4 text-gray-500 text-sm text-center",children:"No new notifications"}):x.map(B=>r.jsxs("li",{className:`px-4 py-3 flex items-start gap-3 hover:bg-gray-50 transition-colors cursor-pointer ${B.isRead?"":"bg-blue-50"}`,onClick:()=>I(B),children:[r.jsx("span",{className:`mt-1 w-2 h-2 rounded-full ${T(B.type)}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:`text-sm truncate ${B.isRead?"text-gray-800":"font-semibold text-gray-900"}`,children:B.title}),r.jsx("div",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:B.message}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:M(B.createdAt)})]}),r.jsx("button",{onClick:P=>_(P,B._id),className:"p-1 hover:bg-gray-200 rounded transition-colors","aria-label":"Dismiss",children:r.jsx(ks,{size:14,className:"text-gray-400"})})]},B._id))}),x.length>0&&r.jsx("div",{className:"p-2 border-t bg-gray-50",children:r.jsx("button",{onClick:()=>{i(!1),n("/student/notifications")},className:"w-full text-center text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"View all notifications"})})]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{className:"flex items-center gap-2 rounded-lg p-1 hover:bg-gray-100",onClick:()=>l(!o),"aria-label":"Open profile menu",children:[r.jsx("img",{src:A.profilePic||A.avatar,alt:"Profile",className:"w-9 h-9 rounded-full border-2 border-gray-200",onError:B=>{B.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),r.jsxs("div",{className:"hidden sm:block text-left",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900 leading-tight",children:A.name||"Student"}),r.jsx("div",{className:"text-[11px] text-gray-500 -mt-0.5",children:"Student"})]})]}),o&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[r.jsxs("div",{className:"px-4 py-3 border-b",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900",children:A.name||"Student"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]}),r.jsxs("div",{className:"py-1",children:[r.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>{s&&s(),l(!1)},children:"Profile"}),r.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Settings"})]}),r.jsx("button",{onClick:S,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50 border-t",children:"Logout"})]})]})]})]})})})},Ehe=()=>{const{profile:t,loading:e}=Nx(),s=t||{name:"Student",username:"",grade:"",section:"",roll:"",className:"",sectionName:"",rollNumber:"",campusName:"",campusType:"",schoolName:"",schoolLogo:null,profilePic:null},n=s.className||s.grade,a=s.sectionName||s.section,i=s.rollNumber||s.roll,o=s.campusName?s.campusType?`${s.campusName} (${s.campusType})`:s.campusName:"",c=(()=>{const S=new Date().getHours();return S<12?{text:"Good Morning",icon:gX}:S<18?{text:"Good Afternoon",icon:Ice}:{text:"Good Evening",icon:eue}})(),d=c.icon,u=[{text:"Success is the sum of small efforts repeated day in and day out. Keep up the great work!",emoji:"",icon:wue,color:"text-yellow-200"},{text:"The future belongs to those who believe in the beauty of their dreams. Dream big today!",emoji:"",icon:fs,color:"text-purple-200"},{text:"Learning never exhausts the mind. Every new thing you discover makes you stronger!",emoji:"",icon:Hr,color:"text-blue-200"},{text:"Your potential is endless. Go do what you were created to do!",emoji:"",icon:rh,color:"text-orange-200"},{text:"Believe in yourself and all that you are. You're capable of amazing things!",emoji:"",icon:Do,color:"text-pink-200"},{text:"Champions are made from something deep inside them - desire, dream, and vision!",emoji:"",icon:Fl,color:"text-gold-200"},{text:"Every expert was once a beginner. Every pro was once an amateur. Keep learning!",emoji:"",icon:kn,color:"text-green-200"},{text:"The only way to do great work is to love what you do. Find your passion!",emoji:"",icon:Do,color:"text-red-200"},{text:"Innovation distinguishes between a leader and a follower. Think differently!",emoji:"",icon:Z1,color:"text-yellow-200"},{text:"Don't watch the clock; do what it does. Keep going and make every moment count!",emoji:"",icon:rh,color:"text-cyan-200"},{text:"The beautiful thing about learning is nobody can take it away from you!",emoji:"",icon:Hr,color:"text-indigo-200"},{text:"Your limitationit's only your imagination. Break through and achieve more!",emoji:"",icon:fs,color:"text-violet-200"}],[h,m]=E.useState(0),[f,x]=E.useState(!1),[A,g]=E.useState(!1);E.useEffect(()=>{if(f)return;const S=setInterval(()=>{g(!0),setTimeout(()=>{m(T=>(T+1)%u.length),g(!1)},200)},1e4);return()=>clearInterval(S)},[f]);const b=()=>{g(!0),setTimeout(()=>{m(S=>(S+1)%u.length),g(!1)},200)},w=()=>{g(!0),setTimeout(()=>{m(S=>(S-1+u.length)%u.length),g(!1)},200)},v=()=>{x(!f)},j=u[h],N=j.icon;return e?r.jsxs("div",{className:"bg-gradient-to-r from-yellow-200 via-amber-200 to-orange-200 rounded-2xl p-6 text-white animate-pulse",children:[r.jsx("div",{className:"h-6 bg-white/40 rounded w-1/3 mb-4"}),r.jsx("div",{className:"h-16 bg-white/20 rounded mb-4"}),r.jsx("div",{className:"h-24 bg-white/30 rounded"})]}):r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 rounded-2xl p-6 text-white relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-4 right-4 w-32 h-32 bg-white rounded-full"}),r.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-white rounded-full"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-white rounded-full transform -translate-x-1/2 -translate-y-1/2"})]}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:s.profilePic,alt:"Profile",className:"w-16 h-16 rounded-full border-4 border-white/20 shadow-lg",onError:S=>{S.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),r.jsx("div",{className:"absolute bottom-1 right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(d,{size:20,className:"text-yellow-100"}),r.jsxs("span",{className:"text-lg font-medium opacity-90",children:[c.text,","]})]}),r.jsxs("h1",{className:"text-2xl font-bold mb-1",children:[s.name,"!"]}),r.jsxs("p",{className:"text-yellow-100 text-sm",children:[s.username&&`Student ID: ${s.username}`,n&&a&&`  ${n} - Section ${a}`,o&&`  ${o}`]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-white/80",children:[n&&r.jsxs("div",{className:"px-3 py-1 rounded-full bg-white/20 border border-white/30",children:["Class ",n,a?`  Section ${a}`:""]}),i&&r.jsxs("div",{className:"px-3 py-1 rounded-full bg-white/20 border border-white/30",children:["Roll No: ",i]}),o&&r.jsxs("div",{className:"px-3 py-1 rounded-full bg-white/20 border border-white/30",children:["Campus: ",o]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 items-start md:items-end",children:[(s.schoolLogo||s.schoolName)&&r.jsxs("div",{className:"flex items-center gap-3 bg-white/10 border border-white/20 rounded-xl px-4 py-2 shadow-sm backdrop-blur-sm",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-white/30 flex items-center justify-center overflow-hidden border border-white/30",children:s.schoolLogo?r.jsx("img",{src:s.schoolLogo,alt:"School Logo",className:"w-full h-full object-cover",onError:S=>{S.target.style.display="none"}}):r.jsx("div",{className:"text-white/80",children:r.jsx(Wu,{size:18})})}),r.jsxs("div",{className:"text-sm text-white",children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"School"}),r.jsx("p",{className:"font-semibold",children:s.schoolName||"Not assigned"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-yellow-100 text-sm mb-1",children:"Today's Date"}),r.jsx("p",{className:"text-xl font-semibold",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]})]}),r.jsxs("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20 relative overflow-hidden group hover:bg-white/15 transition-all duration-300",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -skew-x-12 transform translate-x-full animate-pulse"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(N,{size:16,className:`${j.color} transition-colors duration-300`}),r.jsx("p",{className:"text-sm text-yellow-100 font-semibold",children:"Quick Tip"}),r.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full text-white/80",children:[h+1,"/",u.length]})]}),r.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[r.jsx("button",{onClick:w,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Previous tip",children:r.jsx(ru,{size:14,className:"text-white/80"})}),r.jsx("button",{onClick:v,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:f?"Resume auto-change":"Pause auto-change",children:f?r.jsx(Pi,{size:14,className:"text-white/80"}):r.jsx(oue,{size:14,className:"text-white/80"})}),r.jsx("button",{onClick:b,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Next tip",children:r.jsx(ra,{size:14,className:"text-white/80"})})]})]}),r.jsx("div",{className:"flex items-start gap-3",children:r.jsx("div",{className:`flex-1 transition-all duration-500 ${A?"opacity-0 translate-x-2":"opacity-100 translate-x-0"}`,children:r.jsxs("p",{className:"text-white font-medium leading-relaxed",children:['"',j.text,'" ',j.emoji]})},h)}),r.jsxs("div",{className:"mt-3",children:[r.jsx("div",{className:"w-full bg-white/20 rounded-full h-1.5",children:r.jsx("div",{className:`bg-gradient-to-r from-white/60 to-white/80 h-1.5 rounded-full transition-all duration-500 ${f?"":"animate-pulse"}`,style:{width:`${(h+1)/u.length*100}%`}})}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("p",{className:"text-xs text-white/60",children:f?"Auto-change paused":"Changes every 10 seconds"}),r.jsx("div",{className:"flex gap-1",children:u.map((S,T)=>r.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${T===h?"bg-white/80 scale-125":"bg-white/30"}`},T))})]})]})]}),r.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:r.jsx("div",{className:"text-xs text-white/60 bg-black/20 px-2 py-1 rounded",children:"Hover to control"})})]})]})]})},khe=()=>{const{course:t,loading:e,error:s}=Nx();return e?r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),r.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})}):s?r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:r.jsx("p",{className:"text-sm text-red-600",children:s})}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Course"})})}),r.jsx("div",{className:"p-6",children:t?r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"group hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-yellow-500 to-amber-500 flex items-center justify-center shadow-md",children:r.jsx(pa,{size:24,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:t.name}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Hr,{size:14}),r.jsx("span",{children:t.grade})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(us,{size:14}),r.jsxs("span",{children:["Section ",t.section]})]}),t.duration&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fr,{size:14}),r.jsx("span",{children:t.duration})]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${t.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.status||"Active"}),t.batchCode&&r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Batch: ",t.batchCode]})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 pt-4 border-t border-gray-100",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.grade}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Grade"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.section}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Section"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.status==="Active"?"":""}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Status"})]})]})]})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(pa,{size:48,className:"mx-auto text-gray-300 mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"No Course Assigned"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please contact your administrator"})]})})]})},yX=[{id:"attendance-75",title:"Attendance Star",description:"Maintain attendance above 75%.",icon:"",points:120,target:75,metric:t=>t.attendancePercentage||0,unit:"%"},{id:"attendance-90",title:"Consistency Champ",description:"Keep attendance at 90% or higher.",icon:"",points:200,target:90,metric:t=>t.attendancePercentage||0,unit:"%"},{id:"streak-5",title:"Presence Streak",description:"Attend 5 classes in a row.",icon:"",points:150,target:5,metric:(t,e)=>e.attendanceStreak,unit:"days"},{id:"present-20",title:"On-Time Hero",description:"Be present for 20 classes.",icon:"",points:180,target:20,metric:t=>t.presentDays||0,unit:"classes"},{id:"course-active",title:"Course Explorer",description:"Enroll in an active course.",icon:"",points:100,target:1,metric:t=>t.activeCourses||0,unit:"course"}],The=()=>{const{stats:t,recentAttendance:e,loading:s,error:n}=Nx(),a=E.useMemo(()=>{if(!t)return{earned:[],upcoming:[]};const l=Bhe(e||[]),c=Mhe(t,l);return{earned:c.filter(d=>d.earned),upcoming:c.filter(d=>!d.earned)}},[t,e]),i=a.earned.length,o=E.useMemo(()=>yX.length,[]);return s?r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((l,c)=>r.jsx("div",{className:"h-24 bg-gray-100 rounded-lg"},c))})]})}):n?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 text-red-600",children:[r.jsx(br,{size:20}),r.jsx("p",{className:"font-medium",children:"Unable to load achievements right now."})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n})]}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pn,{className:"text-yellow-500",size:24}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Achievements"})]}),r.jsx("div",{className:"text-sm text-gray-500 flex items-center space-x-2",children:r.jsxs("span",{children:[i," of ",o," earned"]})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[r.jsx(fs,{className:"text-yellow-500",size:20}),r.jsx("span",{children:"Recent Achievements"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.earned.length===0&&r.jsx("div",{className:"col-span-full text-sm text-gray-500",children:"No milestones unlocked yet. Keep progressing!"}),a.earned.slice(0,4).map(l=>r.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center",children:r.jsx(pn,{size:14,className:"text-white"})})}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-2xl",children:l.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:l.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-1 rounded-full",children:["+",l.points," points"]}),r.jsx("span",{className:"text-xs text-gray-500",children:l.achievedOn?new Date(l.achievedOn).toLocaleDateString():"Recently"})]})]})]})]},l.id))]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[r.jsx(Ou,{className:"text-gray-400",size:20}),r.jsx("span",{children:"Upcoming Achievements"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.upcoming.length===0&&r.jsx("div",{className:"col-span-full text-sm text-gray-500",children:"You're all caught up. New goals will appear here soon."}),a.upcoming.map(l=>r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-2 right-2",children:r.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center",children:r.jsx(Ou,{size:14,className:"text-white"})})}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-2xl",children:l.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:l.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:l.description}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:r.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${l.progress}%`}})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-1 rounded-full",children:["+",l.points," points"]}),r.jsxs("span",{className:"text-xs text-gray-500",children:[l.currentValue,l.unit?` / ${l.target} ${l.unit}`:""]})]})]})]})]},l.id))]})]})]})]})};function Bhe(t=[]){var i;if(!t.length)return 0;const e=[...t].sort((o,l)=>new Date(l.date)-new Date(o.date));let s=0;const n=new Date;let a=new Date(((i=e[0])==null?void 0:i.date)||n);for(const o of e){const l=new Date(o.date);if(o.status!=="present"){if(l.toDateString()===a.toDateString())break;break}if(s===0){s=1,a=l;continue}const c=new Date(a);if(c.setDate(c.getDate()-1),l.toDateString()===c.toDateString())s+=1,a=l;else break}return s}function Mhe(t,e){return yX.map(s=>{const n=s.metric(t,{attendanceStreak:e})||0,a=n>=s.target,i=s.target?Math.min(100,Math.round(n/s.target*100)):a?100:0;return{...s,earned:a,progress:i,currentValue:n,target:s.target,achievedOn:a?new Date().toISOString():null}})}const iB={present:{label:"Present",color:"bg-green-500"},absent:{label:"Absent",color:"bg-red-500"},late:{label:"Late",color:"bg-yellow-500"},leave:{label:"Leave",color:"bg-yellow-500"}},Fhe=[{value:"quiz",label:"Quiz",color:"bg-red-500"},{value:"assignment",label:"Assignment",color:"bg-blue-500"},{value:"class",label:"Class",color:"bg-green-500"},{value:"meeting",label:"Meeting",color:"bg-purple-500"},{value:"exam",label:"Exam",color:"bg-orange-500"},{value:"project",label:"Project",color:"bg-indigo-500"}],Phe=Object.entries(iB).map(([t,e])=>({value:t,label:e.label,color:e.color})),nR=[...Fhe,...Phe],PC={title:"",date:"",time:"",type:"assignment",description:"",color:"bg-blue-500"},Ihe=()=>{const[t,e]=E.useState(new Date),[s,n]=E.useState(null),[a,i]=E.useState(!1),[o,l]=E.useState(null),[c,d]=E.useState([]),[u,h]=E.useState(PC),[m,f]=E.useState(!0),[x,A]=E.useState(null),[g,b]=E.useState(null);E.useEffect(()=>{(async()=>{try{f(!0),A(null);const G=localStorage.getItem("token"),O=localStorage.getItem("userType");if(!G||O!=="Student"){f(!1);return}const Q=await fetch("http://localhost:5000/api/student/auth/attendance",{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(!Q.ok)throw new Error("Unable to load attendance calendar.");const q=((await Q.json()).attendance||[]).map((Z,F)=>{const z=iB[Z.status]||{color:"bg-blue-500",label:"Class"};return{id:Z._id||`attendance-${F}`,title:z.label,date:new Date(Z.date).toISOString().split("T")[0],time:Z.time||"",type:Z.status||"class",color:z.color,description:Z.subject?Z.subject:"Attendance entry",notes:Z.notes,readOnly:!0}});d(q),b(new Date)}catch(G){console.error("Failed to fetch attendance calendar:",G),A(G.message)}finally{f(!1)}})()},[]);const w=E.useMemo(()=>["January","February","March","April","May","June","July","August","September","October","November","December"],[]),v=E.useMemo(()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],[]),j=D=>{const G=D.getFullYear(),O=D.getMonth(),Q=new Date(G,O,1),ee=new Date(Q);ee.setDate(ee.getDate()-Q.getDay());const q=[],Z=new Date(ee);for(let F=0;F<42;F++){const z=c.filter(V=>new Date(V.date).toDateString()===Z.toDateString());q.push({date:new Date(Z),isCurrentMonth:Z.getMonth()===O,isToday:Z.toDateString()===new Date().toDateString(),events:z}),Z.setDate(Z.getDate()+1)}return q},N=D=>{var G,O;return((G=iB[D])==null?void 0:G.color)||((O=nR.find(Q=>Q.value===D))==null?void 0:O.color)||"bg-blue-500"},S=D=>{const G=new Date(t);G.setMonth(G.getMonth()+D),e(G)},T=D=>{n(D.date);const G=D.date.toISOString().split("T")[0];h(O=>({...O,date:G}))},I=()=>{i(!0),l(null),h({...PC,date:s?s.toISOString().split("T")[0]:""})},_=D=>{D.readOnly||(l(D),h({...D}),i(!0))},M=D=>{const G=c.find(O=>O.id===D);G!=null&&G.readOnly||d(c.filter(O=>O.id!==D))},C=()=>{if(!u.title||!u.date||!u.time)return;const D={...u,color:N(u.type),id:o?o.id:Date.now(),readOnly:!1};d(o?c.map(G=>G.id===o.id?D:G):[...c,D]),i(!1),h(PC)},B=()=>{const D=new Date;return c.filter(G=>new Date(G.date)>=D).sort((G,O)=>new Date(G.date)-new Date(O.date)).slice(0,5)},P=j(t),H=B();return r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-sm border border-purple-200 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"p-6 border-b border-purple-200",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ir,{className:"text-purple-500",size:20}),r.jsx("h2",{className:"text-lg font-semibold text-purple-900",children:"Calendar"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[g&&r.jsxs("span",{className:"text-xs text-purple-800 bg-purple-100 px-2 py-1 rounded-full",children:["Synced ",g.toLocaleDateString()]}),r.jsxs("button",{onClick:I,className:"flex items-center space-x-2 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:[r.jsx(vs,{size:16}),r.jsx("span",{children:"Add Event"})]})]})]}),x&&r.jsxs("div",{className:"mt-3 flex items-center text-sm text-red-600 bg-white border border-red-100 rounded-lg px-3 py-2",children:[r.jsx(br,{size:16,className:"mr-2"}),x]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("button",{onClick:()=>S(-1),className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:r.jsx(ru,{size:20,className:"text-purple-700"})}),r.jsxs("h3",{className:"text-lg font-semibold text-purple-900",children:[w[t.getMonth()]," ",t.getFullYear()]}),r.jsx("button",{onClick:()=>S(1),className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:r.jsx(ra,{size:20,className:"text-purple-900"})})]}),r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:v.map(D=>r.jsx("div",{className:"text-center text-xs font-medium text-purple-600 py-2",children:D},D))}),r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-6",children:P.map((D,G)=>r.jsxs("button",{onClick:()=>T(D),className:`
                aspect-square flex flex-col items-center justify-center text-sm rounded-lg transition-colors relative p-1
                ${D.isCurrentMonth?D.isToday?"bg-purple-500 text-black font-semibold hover:bg-purple-600":"text-purple-900 hover:bg-purple-100":"text-purple-300 hover:bg-purple-50"}
                ${s&&D.date.toDateString()===s.toDateString()?"ring-2 ring-purple-400":""}
              `,children:[r.jsx("span",{className:"text-xs",children:D.date.getDate()}),D.events.length>0&&r.jsxs("div",{className:"flex space-x-1 mt-1",children:[D.events.slice(0,2).map((O,Q)=>r.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${O.color}`,title:O.title},`${O.id}-${Q}`)),D.events.length>2&&r.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400",title:`+${D.events.length-2} more`})]})]},`${D.date.toISOString()}-${G}`))}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-semibold text-purple-900 mb-3 flex items-center space-x-2",children:[r.jsx(fr,{size:16,className:"text-purple-600"}),r.jsx("span",{children:"Upcoming Events"})]}),r.jsxs("div",{className:"space-y-3",children:[m&&r.jsx("div",{className:"space-y-2",children:[...Array(3)].map((D,G)=>r.jsx("div",{className:"h-16 bg-white border border-purple-100 rounded-lg animate-pulse"},G))}),!m&&H.length===0&&!x&&r.jsx("p",{className:"text-sm text-purple-500 text-center py-4",children:"No upcoming classes or events recorded yet."}),!m&&H.map(D=>r.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-purple-50/50 hover:bg-purple-100/50 transition-colors rounded-lg border border-purple-100 group",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${D.color} mt-1.5 flex-shrink-0`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-purple-900 truncate",children:D.title}),r.jsxs("p",{className:"text-xs text-purple-600",children:[new Date(D.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),D.time&&` at ${D.time}`]}),D.description&&r.jsxs("p",{className:"text-xs text-purple-500 mt-1 truncate",children:[D.description,D.notes?`  ${D.notes}`:""]})]}),!D.readOnly&&r.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>_(D),className:"p-1 text-purple-600 hover:text-purple-800 hover:bg-purple-200 rounded",children:r.jsx(Zi,{size:12})}),r.jsx("button",{onClick:()=>M(D.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded",children:r.jsx(vn,{size:12})})]})]},D.id))]})]})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?"Edit Event":"Add New Event"}),r.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(ks,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title"}),r.jsx("input",{type:"text",value:u.title,onChange:D=>h({...u,title:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",placeholder:"Enter event title"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),r.jsx("input",{type:"date",value:u.date,onChange:D=>h({...u,date:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),r.jsx("input",{type:"time",value:u.time,onChange:D=>h({...u,time:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type"}),r.jsx("select",{value:u.type,onChange:D=>h({...u,type:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",children:nR.map(D=>r.jsx("option",{value:D.value,children:D.label},D.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),r.jsx("textarea",{value:u.description,onChange:D=>h({...u,description:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",rows:"3",placeholder:"Enter event description"})]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:C,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save Event"})]})]})})]})},Lhe=()=>{const{stats:t,course:e,loading:s}=Nx(),n=E.useMemo(()=>{if(!t)return[{title:"Active Courses",value:s?"...":"0",change:s?"Loading...":"No course assigned",changeType:"neutral",icon:Hr,color:"bg-blue-500"},{title:"Achievements",value:s?"...":"0",change:s?"Loading...":"Track achievements soon",changeType:"neutral",icon:Fl,color:"bg-yellow-500"},{title:"Attendance",value:s?"...":"0%",change:s?"Loading...":"0/0 days",changeType:"neutral",icon:fr,color:"bg-green-500"},{title:"Overall Progress",value:s?"...":"0%",change:s?"Loading...":"Focus on your classes",changeType:"neutral",icon:ds,color:"bg-purple-500"}];const a=t.attendancePercentage>=75?"Good attendance":t.attendancePercentage>=50?"Needs improvement":"Low attendance",i=t.attendancePercentage>=75?"positive":t.attendancePercentage>=50?"neutral":"negative";return[{title:"Active Courses",value:t.activeCourses.toString(),change:e?e.name:"No course assigned",changeType:t.activeCourses>0?"positive":"neutral",icon:Hr,color:"bg-blue-500"},{title:"Achievements",value:t.achievements.toString(),change:"Keep learning!",changeType:"neutral",icon:Fl,color:"bg-yellow-500"},{title:"Attendance",value:`${t.attendancePercentage}%`,change:`${t.presentDays}/${t.totalClasses} days`,changeType:i,icon:fr,color:"bg-green-500"},{title:"Overall Progress",value:`${t.overallProgress}%`,change:a,changeType:i,icon:ds,color:"bg-purple-500"}]},[t,e,s]);return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((a,i)=>{const o=a.icon;return r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-purple-400 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${a.color}`,children:r.jsx(o,{size:24,className:"text-white"})}),r.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${a.changeType==="positive"?"text-green-700 bg-green-100":a.changeType==="negative"?"text-red-700 bg-red-100":"text-gray-700 bg-gray-100"}`,children:a.change})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:a.value}),r.jsx("p",{className:"text-sm text-gray-600",children:a.title})]})]},i)})})},Dhe=({onAddPet:t,activePets:e=[]})=>null,Rhe=({pet:t,onRemove:e,containerBounds:s})=>{const[n,a]=E.useState({x:100,y:100}),[i,o]=E.useState({x:1,y:1}),[l,c]=E.useState(!1),[d,u]=E.useState(!1),[h,m]=E.useState({x:0,y:0}),[f,x]=E.useState(!1),[A,g]=E.useState("happy"),b=E.useRef(),w=E.useRef(),v=60,j=.5,N=()=>{const M={puppy:{happy:"",sleeping:"",playing:"",excited:""},cat:{happy:"",sleeping:"",playing:"",excited:""}};return M[t.type][A]||M[t.type].happy};E.useEffect(()=>{const M=setInterval(()=>{const C=["happy","sleeping","playing"],B=C[Math.floor(Math.random()*C.length)];g(B)},8e3);return()=>clearInterval(M)},[]),E.useEffect(()=>{if(d)return;const M=()=>{a(C=>{let B=C.x+i.x*j,P=C.y+i.y*j,H=i.x,D=i.y;return(B<=0||B>=s.width-v)&&(H=-i.x,B=Math.max(0,Math.min(B,s.width-v))),(P<=0||P>=s.height-v)&&(D=-i.y,P=Math.max(0,Math.min(P,s.height-v))),Math.random()<.02&&(H=(Math.random()-.5)*2,D=(Math.random()-.5)*2),o({x:H,y:D}),{x:B,y:P}}),b.current=requestAnimationFrame(M)};return b.current=requestAnimationFrame(M),()=>{b.current&&cancelAnimationFrame(b.current)}},[i,s,d,A]);const S=M=>{u(!0),g("excited");const C=w.current.getBoundingClientRect();m({x:M.clientX-C.left,y:M.clientY-C.top})},T=M=>{if(!d)return;const C=Math.max(0,Math.min(M.clientX-h.x,s.width-v)),B=Math.max(0,Math.min(M.clientY-h.y,s.height-v));a({x:C,y:B})},I=()=>{u(!1),setTimeout(()=>g("happy"),1e3)},_=()=>{x(!0),g("excited"),setTimeout(()=>{x(!1),g("happy")},1500)};return E.useEffect(()=>{if(d)return document.addEventListener("mousemove",T),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",I)}},[d,h,s]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{ref:w,className:`absolute cursor-pointer select-none transition-transform duration-200 ${l?"scale-110":"scale-100"} ${d?"z-50":"z-40"}`,style:{left:`${n.x}px`,top:`${n.y}px`,width:`${v}px`,height:`${v}px`},onMouseDown:S,onClick:_,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[r.jsxs("div",{className:`relative w-full h-full flex items-center justify-center text-4xl ${A==="sleeping"?"animate-pulse":A==="playing"?"animate-bounce":"animate-none"}`,children:[N(),l&&r.jsx("button",{onClick:M=>{M.stopPropagation(),e(t.id)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors shadow-lg",children:r.jsx(ks,{className:"w-3 h-3"})}),f&&r.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(3)].map((M,C)=>r.jsx(Do,{className:"absolute w-4 h-4 text-pink-500 animate-ping",style:{left:`${Math.random()*40+10}px`,top:`${Math.random()*40+10}px`,animationDelay:`${C*200}ms`,animationDuration:"1s"}},C))})]}),r.jsx("div",{className:"absolute bottom-0 w-8 h-2 bg-gray-400 rounded-full opacity-20 left-1/2 transform -translate-x-1/2",style:{filter:"blur(2px)"}}),l&&r.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:t.name})]}),!d&&A==="sleeping"&&r.jsx("div",{className:"absolute text-xl opacity-60 animate-bounce pointer-events-none z-30",style:{left:`${n.x+v+10}px`,top:`${n.y}px`},children:""})]})},IC=()=>{const[t,e]=E.useState([]),[s,n]=E.useState({width:0,height:0}),a=E.useRef();E.useEffect(()=>{const c=()=>{if(a.current){const u=a.current.getBoundingClientRect();n({width:u.width,height:u.height})}};c(),window.addEventListener("resize",c);const d=new ResizeObserver(c);return a.current&&d.observe(a.current),()=>{window.removeEventListener("resize",c),d.disconnect()}},[]);const i={puppy:["Buddy","Max","Luna","Charlie","Bailey","Rocky","Bella","Duke"],cat:["Whiskers","Shadow","Mittens","Luna","Simba","Chloe","Tiger","Princess"]},o=c=>{console.log("DashboardHome addPet called with:",c);const d=i[c],u=d[Math.floor(Math.random()*d.length)],h={id:Date.now()+Math.random(),type:c,name:u,createdAt:Date.now()};console.log("Creating new pet:",h),e(m=>{const f=[...m,h];return console.log("Updated pets array:",f),f})},l=c=>{e(d=>d.filter(u=>u.id!==c))};return r.jsxs("div",{ref:a,className:"relative space-y-4 sm:space-y-6 p-2 sm:p-0 min-h-screen",children:[r.jsx(Ehe,{}),r.jsx(Lhe,{}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[r.jsx(khe,{}),r.jsx(The,{})]}),r.jsx("div",{className:"space-y-4 sm:space-y-6",children:r.jsx(Ihe,{})})]}),t.map(c=>r.jsx(Rhe,{pet:c,onRemove:l,containerBounds:s},c.id)),r.jsx(Dhe,{onAddPet:o,activePets:t})]})},Ohe=()=>{const[t,e]=E.useState(new Date),[s,n]=E.useState(!0),[a,i]=E.useState(""),[o,l]=E.useState({totalClasses:0,attended:0,absent:0,percentage:0}),[c,d]=E.useState([]);E.useEffect(()=>{(async()=>{try{const w=localStorage.getItem("token"),v=localStorage.getItem("userType");if(!w||v!=="Student"){n(!1);return}const j=await fetch("http://localhost:5000/api/student/auth/attendance",{headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}}),N=await j.json();if(!j.ok)throw new Error((N==null?void 0:N.error)||"Failed to fetch attendance");const S=(N==null?void 0:N.summary)||{};l({totalClasses:S.totalClasses||0,attended:S.presentDays||0,absent:S.absentDays||0,percentage:S.attendancePercentage||0});const T=Array.isArray(N==null?void 0:N.attendance)?N.attendance.map(I=>({id:I._id,date:new Date(I.date).toISOString().slice(0,10),subject:I.subject||"General",status:I.status||"present"})):[];d(T)}catch(w){i(w.message||"Unable to fetch attendance")}finally{n(!1)}})()},[]);const u=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=b=>{const w=new Date(t);w.setMonth(w.getMonth()+b),e(w)},f=E.useMemo(()=>{const b=t.getFullYear(),w=t.getMonth(),v=new Date(b,w,1),j=new Date(v);j.setDate(j.getDate()-v.getDay());const N=[],S=new Date(j);for(let T=0;T<42;T+=1){const I=S.toISOString().slice(0,10),_=c.find(M=>M.date===I)||null;N.push({key:I,date:new Date(S),isCurrentMonth:S.getMonth()===w,status:(_==null?void 0:_.status)||null}),S.setDate(S.getDate()+1)}return N},[t,c]),x=E.useMemo(()=>{const b=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`;return c.filter(w=>w.date.startsWith(b))},[c,t]),A=x.filter(b=>b.status==="present").length;x.filter(b=>b.status==="absent").length;const g=x.length?Math.round(A/x.length*100):0;return r.jsxs("div",{className:"space-y-5 p-3 sm:p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Read-only attendance report for your account"}),a?r.jsx("p",{className:"text-red-600 text-sm mt-2",children:a}):null]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Classes"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalClasses})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Present"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.attended})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Absent"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:o.absent})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Overall %"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[o.percentage,"%"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[r.jsx("button",{onClick:()=>m(-1),className:"px-3 py-1 rounded-md hover:bg-gray-100",children:"<"}),r.jsxs("h2",{className:"font-semibold text-gray-900",children:[u[t.getMonth()]," ",t.getFullYear()]}),r.jsx("button",{onClick:()=>m(1),className:"px-3 py-1 rounded-md hover:bg-gray-100",children:">"})]}),r.jsx("div",{className:"p-4",children:s?r.jsxs("div",{className:"py-8 text-center text-gray-500",children:[r.jsx(Vn,{className:"w-5 h-5 inline mr-2 animate-spin"})," Loading..."]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:h.map(b=>r.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-2",children:b},b))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:f.map(b=>r.jsx("div",{className:`aspect-square p-1 rounded-lg border text-xs ${b.isCurrentMonth?"border-gray-200 text-gray-900":"border-gray-100 text-gray-300"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:b.date.getDate()}),b.status==="present"?r.jsx(Fr,{className:"w-3 h-3 text-green-600"}):null,b.status==="absent"?r.jsx(ia,{className:"w-3 h-3 text-red-600"}):null]})},b.key))})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"This Month Classes"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"This Month Present"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:A})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"This Month %"}),r.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[g,"%"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-100",children:r.jsxs("h2",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(ir,{className:"w-4 h-4 text-indigo-600"}),"Recent Attendance"]})}),r.jsxs("div",{className:"divide-y divide-gray-100",children:[c.slice(0,10).map(b=>r.jsxs("div",{className:"p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:b.subject}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(fr,{className:"w-3 h-3"}),new Date(b.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="present"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:b.status==="present"?"Present":"Absent"})]},b.id)),!c.length&&!s?r.jsx("p",{className:"p-4 text-gray-500",children:"No attendance records found."}):null]})]}),r.jsx("div",{className:"bg-white rounded-xl p-5 border border-gray-100",children:r.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[r.jsx(ds,{className:"w-4 h-4 text-blue-600"}),"Attendance is view-only for students. Contact teacher for corrections."]})})]})},Gc=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],LC={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},aR=t=>{if(!t)return null;const e=String(t).trim().toLowerCase();return Gc.includes(e)?e:null},vX=t=>t?Array.isArray(t)?t.reduce((e,s)=>{const n=aR(s.day||s.weekday||s.dayOfWeek);return n&&(e[n]=e[n]||[],e[n].push(s)),e},{}):typeof t=="object"?Object.entries(t).reduce((e,[s,n])=>{const a=aR(s);return a&&(e[a]=Array.isArray(n)?n:[]),e},{}):{}:{},iR=t=>t?typeof t=="string"?t:typeof t=="object"&&(t._id||t.id)||null:null,Uhe=t=>Gc.some(e=>((t==null?void 0:t[e])||[]).length>0),Hhe=t=>{const e=[];Array.isArray(t)?e.push(...t):Array.isArray(t==null?void 0:t.timetables)?e.push(...t.timetables):t!=null&&t.timetable?e.push(t.timetable):Array.isArray(t==null?void 0:t.entries)&&e.push({entries:t.entries});const s=e.flatMap(n=>((n==null?void 0:n.entries)||[]).map(a=>{var i,o,l,c,d,u;return{day:a.dayOfWeek||a.day||a.weekday,startTime:a.startTime,endTime:a.endTime,time:a.time||(a.startTime?`${a.startTime}${a.endTime?` - ${a.endTime}`:""}`:void 0),subject:((i=a.subjectId)==null?void 0:i.name)||((o=a.subject)==null?void 0:o.name)||a.subjectName||a.subject||"Class",instructor:((l=a.teacherId)==null?void 0:l.name)||((c=a.teacher)==null?void 0:c.name)||a.teacherName||a.instructor,room:a.room||a.location||"TBD",className:((d=n==null?void 0:n.classId)==null?void 0:d.name)||a.className||a.class,sectionName:((u=n==null?void 0:n.sectionId)==null?void 0:u.name)||a.sectionName||a.section}}));return vX(s)},oB=t=>String(t||"").trim().toLowerCase(),oR=(t,e)=>e.map(s=>t==null?void 0:t[s]).filter(Boolean).map(s=>oB(s)),lR=(t,e)=>!e.length||!t.length?!0:t.some(s=>e.some(n=>s===n||s.includes(n)||n.includes(s))),cR=()=>{const{profile:t}=Nx(),[e,s]=E.useState({}),[n,a]=E.useState(Gc[0]),[i,o]=E.useState("daily"),[l,c]=E.useState(!0),[d,u]=E.useState(null),[h,m]=E.useState(null);E.useEffect(()=>{(async()=>{try{c(!0),u(null);const N=localStorage.getItem("token"),S=localStorage.getItem("userType");if(!N||S!=="Student"){u("Only students can view this routine.");return}const T={Authorization:`Bearer ${N}`,"Content-Type":"application/json"},I=async M=>{var H;const C=await fetch(M,{headers:T});if(!C.ok)return null;const B=await C.json().catch(()=>null);if(!B)return null;const P=vX(B.schedule||B.routine||((H=B.data)==null?void 0:H.schedule));return Uhe(P)?P:null};let _=await I("http://localhost:5000/api/student/auth/schedule")||await I("http://localhost:5000/api/student/dashboard/routine")||await I("http://localhost:5000/api/student/routine");if(!_){const M=iR((t==null?void 0:t.classId)||(t==null?void 0:t.class)||(t==null?void 0:t.currentClass)),C=iR((t==null?void 0:t.sectionId)||(t==null?void 0:t.section)||(t==null?void 0:t.currentSection));if(M){const B=new URLSearchParams({classId:M});C&&B.append("sectionId",C);const P=await fetch(`http://localhost:5000/api/timetable?${B.toString()}`,{headers:T});if(P.ok){const H=await P.json().catch(()=>null);_=Hhe(H)}}}if(!_){s({}),m(new Date),u("No routine has been assigned yet for your class/section.");return}s(_),m(new Date)}catch(N){u(N.message||"Failed to load routine")}finally{c(!1)}})()},[t]);const f=E.useMemo(()=>[t==null?void 0:t.className,t==null?void 0:t.grade].filter(Boolean).map(j=>oB(j)),[t]),x=E.useMemo(()=>[t==null?void 0:t.sectionName,t==null?void 0:t.section].filter(Boolean).map(j=>oB(j)),[t]),A=E.useMemo(()=>Gc.reduce((j,N)=>{const S=e[N]||[];return j[N]=S.filter(T=>{const I=oR(T,["className","class","grade","standard"]),_=oR(T,["sectionName","section","division"]),M=lR(I,f),C=lR(_,x);return M&&C}),j},{}),[e,f,x]),g=E.useMemo(()=>{const j=new Map;return Gc.forEach(N=>{(A[N]||[]).forEach((S,T)=>{const I=S.time||(S.startTime?`${S.startTime}${S.endTime?` - ${S.endTime}`:""}`:`Period ${S.period||T+1}`),_=Number(S.period||999);if(!j.has(I))j.set(I,{timeLabel:I,periodOrder:_});else{const M=j.get(I);_<M.periodOrder&&j.set(I,{timeLabel:I,periodOrder:_})}})}),Array.from(j.values()).sort((N,S)=>N.periodOrder===S.periodOrder?N.timeLabel.localeCompare(S.timeLabel):N.periodOrder-S.periodOrder)},[A]),b=E.useMemo(()=>{const j={};return Gc.forEach(N=>{j[N]={},(A[N]||[]).forEach((S,T)=>{const I=S.time||(S.startTime?`${S.startTime}${S.endTime?` - ${S.endTime}`:""}`:`Period ${S.period||T+1}`);j[N][I]=S})}),j},[A]);E.useEffect(()=>{const j=Gc.find(N=>{var S;return(S=A[N])==null?void 0:S.length})||Gc[0];a(j)},[A]);const w=A[n]||[],v=E.useMemo(()=>Gc.reduce((j,N)=>{var S;return j+(((S=A[N])==null?void 0:S.length)||0)},0),[A]);return l?r.jsxs("div",{className:"min-h-screen bg-slate-50 p-4 sm:p-6 space-y-4",children:[r.jsx("div",{className:"h-28 bg-white rounded-2xl shadow-sm animate-pulse"}),r.jsx("div",{className:"h-52 bg-white rounded-2xl shadow-sm animate-pulse"})]}):r.jsxs("div",{className:"min-h-screen bg-slate-50 p-4 sm:p-6 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-5 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(ir,{className:"w-6 h-6 text-indigo-600"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Daily Routine"})]}),r.jsxs("p",{className:"text-slate-500 text-sm",children:["Student view only",((t==null?void 0:t.className)||(t==null?void 0:t.grade))&&` | Class ${(t==null?void 0:t.className)||(t==null?void 0:t.grade)}`,((t==null?void 0:t.sectionName)||(t==null?void 0:t.section))&&` | Section ${(t==null?void 0:t.sectionName)||(t==null?void 0:t.section)}`]})]}),r.jsxs("div",{className:"text-right text-sm text-slate-500",children:[r.jsxs("p",{children:["Total sessions this week: ",r.jsx("span",{className:"font-semibold text-slate-900",children:v})]}),h&&r.jsxs("p",{children:["Updated ",h.toLocaleDateString()]})]})]}),d&&r.jsxs("div",{className:"mt-4 flex items-center text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:[r.jsx(br,{size:16,className:"mr-2"}),d]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5",children:[r.jsxs("div",{className:"inline-flex rounded-xl border border-slate-200 p-1 bg-slate-50",children:[r.jsx("button",{onClick:()=>o("daily"),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition ${i==="daily"?"bg-indigo-600 text-white":"text-slate-600 hover:bg-slate-200"}`,children:"Daily"}),r.jsx("button",{onClick:()=>o("weekly"),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition ${i==="weekly"?"bg-indigo-600 text-white":"text-slate-600 hover:bg-slate-200"}`,children:"Weekly"})]}),r.jsx("p",{className:"text-xs text-slate-500",children:"Switch between daily and weekly routine"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:Gc.map(j=>{var N;return r.jsxs("button",{onClick:()=>a(j),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all ${n===j?"bg-indigo-600 text-white shadow":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[LC[j],(N=A[j])!=null&&N.length?r.jsx("span",{className:"ml-2 text-xs text-indigo-100 bg-indigo-500 rounded-full px-2 py-0.5",children:A[j].length}):null]},j)})}),v===0?r.jsxs("div",{className:"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-8 text-center",children:[r.jsx("p",{className:"text-lg font-semibold text-slate-800",children:"No routine assigned yet"}),r.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Please ask your school admin to assign timetable for your class and section."})]}):i==="weekly"?r.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200",children:r.jsxs("table",{className:"min-w-[900px] w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-slate-100",children:[r.jsx("th",{className:"text-left text-sm font-semibold text-slate-700 px-4 py-3 border-b border-slate-200",children:"Time"}),Gc.map(j=>r.jsx("th",{className:"text-left text-sm font-semibold text-slate-700 px-4 py-3 border-b border-slate-200",children:LC[j]},`head-${j}`))]})}),r.jsx("tbody",{children:g.map(j=>r.jsxs("tr",{className:"align-top",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-700 border-b border-slate-100 bg-slate-50",children:j.timeLabel}),Gc.map(N=>{var T;const S=(T=b[N])==null?void 0:T[j.timeLabel];return r.jsx("td",{className:"px-3 py-3 border-b border-slate-100",children:S?r.jsxs("div",{className:"rounded-lg border border-indigo-100 bg-indigo-50 px-3 py-2",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:S.course||S.subject||S.title||"Class"}),r.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[S.instructor||S.teacher||"TBA",S.room||S.location?` | ${S.room||S.location}`:""]})]}):r.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 px-3 py-2 text-xs text-slate-400 text-center",children:"--"})},`cell-${N}-${j.timeLabel}`)})]},`row-${j.timeLabel}`))})]})}):w.length>0?r.jsx("div",{className:"space-y-4",children:w.map((j,N)=>r.jsxs("div",{className:"p-4 border border-indigo-100 rounded-2xl bg-gradient-to-r from-white to-indigo-50 shadow-sm flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase font-medium text-indigo-600",children:j.type||`Period ${j.period||N+1}`}),r.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[r.jsx(Hr,{size:16,className:"text-indigo-600"}),j.course||j.subject||j.title||"Class"]}),(j.instructor||j.teacher)&&r.jsxs("p",{className:"text-sm text-slate-500",children:["By ",j.instructor||j.teacher]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fr,{size:16,className:"text-indigo-600"}),r.jsx("span",{children:j.time||`${j.startTime||"--"}${j.endTime?` - ${j.endTime}`:""}`})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Mi,{size:16,className:"text-indigo-600"}),r.jsx("span",{children:j.room||j.location||"TBD"})]})]})]},j.id||`${n}-${N}`))}):r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-6 text-center text-slate-600",children:["No classes scheduled for ",LC[n],". Please select another day."]})]})]})},wX="eec_points_total";function Cg(){try{const t=localStorage.getItem(wX),e=parseInt(t||"0",10);return Number.isNaN(e)?0:e}catch{return 0}}function Qhe(t){try{const e=Math.max(0,Math.floor(t||0));return localStorage.setItem(wX,String(e)),window.dispatchEvent(new CustomEvent("points:update",{detail:{total:e}})),e}catch{return 0}}function jX(t){const e=Math.max(0,Math.floor(t||0));if(!e)return Cg();const s=Cg()+e;return Qhe(s)}function $he(t){try{return localStorage.getItem(`eec_points_awarded_${t}`)==="1"}catch{return!1}}function zhe(t){try{localStorage.setItem(`eec_points_awarded_${t}`,"1")}catch{}}const Ghe=({className:t=""})=>{const[e,s]=E.useState(0);return E.useEffect(()=>{s(Cg());const n=a=>{var i;return s(((i=a==null?void 0:a.detail)==null?void 0:i.total)??Cg())};return window.addEventListener("points:update",n),()=>window.removeEventListener("points:update",n)},[]),r.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-100 border border-amber-300 text-amber-800 text-sm font-semibold shadow-sm ${t}`,children:[r.jsx(FP,{className:"w-4 h-4 text-amber-600"}),r.jsx("span",{children:e}),r.jsx("span",{className:"hidden sm:inline",children:"Points"})]})},Vhe="modulepreload",Whe=function(t){return"/"+t},dR={},cN=function(e,s,n){let a=Promise.resolve();if(s&&s.length>0){let o=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(s.map(d=>{if(d=Whe(d),d in dR)return;dR[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":Vhe,u||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((f,x)=>{m.addEventListener("load",f),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const UP="171",qhe=0,uR=1,Khe=2,NX=1,SX=2,nf=3,c0=0,Pl=1,uf=2,e0=0,ng=1,hR=2,fR=3,mR=4,Xhe=5,Cp=100,Yhe=101,Jhe=102,Zhe=103,efe=104,tfe=200,rfe=201,sfe=202,nfe=203,lB=204,cB=205,afe=206,ife=207,ofe=208,lfe=209,cfe=210,dfe=211,ufe=212,hfe=213,ffe=214,dB=0,uB=1,hB=2,_g=3,fB=4,mB=5,pB=6,xB=7,HP=0,mfe=1,pfe=2,t0=0,xfe=1,Afe=2,gfe=3,bfe=4,yfe=5,vfe=6,wfe=7,CX=300,Eg=301,kg=302,AB=303,gB=304,FS=306,bB=1e3,Bp=1001,yB=1002,Wd=1003,jfe=1004,p2=1005,Hu=1006,DC=1007,Mp=1008,Bf=1009,_X=1010,EX=1011,Gv=1012,QP=1013,ox=1014,hf=1015,ew=1016,$P=1017,zP=1018,Tg=1020,kX=35902,TX=1021,BX=1022,Hd=1023,MX=1024,FX=1025,ag=1026,Bg=1027,PX=1028,GP=1029,IX=1030,VP=1031,WP=1033,dN=33776,uN=33777,hN=33778,fN=33779,vB=35840,wB=35841,jB=35842,NB=35843,SB=36196,CB=37492,_B=37496,EB=37808,kB=37809,TB=37810,BB=37811,MB=37812,FB=37813,PB=37814,IB=37815,LB=37816,DB=37817,RB=37818,OB=37819,UB=37820,HB=37821,mN=36492,QB=36494,$B=36495,LX=36283,zB=36284,GB=36285,VB=36286,Nfe=3200,Sfe=3201,DX=0,Cfe=1,Lm="",Kc="srgb",Mg="srgb-linear",TN="linear",bn="srgb",dA=7680,pR=519,_fe=512,Efe=513,kfe=514,RX=515,Tfe=516,Bfe=517,Mfe=518,Ffe=519,xR=35044,AR="300 es",ff=2e3,BN=2001;class xb{addEventListener(e,s){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(s)===-1&&n[e].push(s)}hasEventListener(e,s){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(s)!==-1}removeEventListener(e,s){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const i=a.indexOf(s);i!==-1&&a.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const a=n.slice(0);for(let i=0,o=a.length;i<o;i++)a[i].call(this,e);e.target=null}}}const xo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],RC=Math.PI/180,WB=180/Math.PI;function tw(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,s=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(xo[t&255]+xo[t>>8&255]+xo[t>>16&255]+xo[t>>24&255]+"-"+xo[e&255]+xo[e>>8&255]+"-"+xo[e>>16&15|64]+xo[e>>24&255]+"-"+xo[s&63|128]+xo[s>>8&255]+"-"+xo[s>>16&255]+xo[s>>24&255]+xo[n&255]+xo[n>>8&255]+xo[n>>16&255]+xo[n>>24&255]).toLowerCase()}function Bs(t,e,s){return Math.max(e,Math.min(s,t))}function Pfe(t,e){return(t%e+e)%e}function OC(t,e,s){return(1-s)*t+s*e}function hy(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Sl(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class cn{constructor(e=0,s=0){cn.prototype.isVector2=!0,this.x=e,this.y=s}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,s){return this.x=e,this.y=s,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const s=this.x,n=this.y,a=e.elements;return this.x=a[0]*s+a[3]*n+a[6],this.y=a[1]*s+a[4]*n+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,s){return this.x=Bs(this.x,e.x,s.x),this.y=Bs(this.y,e.y,s.y),this}clampScalar(e,s){return this.x=Bs(this.x,e,s),this.y=Bs(this.y,e,s),this}clampLength(e,s){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Bs(n,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const s=Math.sqrt(this.lengthSq()*e.lengthSq());if(s===0)return Math.PI/2;const n=this.dot(e)/s;return Math.acos(Bs(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const s=this.x-e.x,n=this.y-e.y;return s*s+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this}lerpVectors(e,s,n){return this.x=e.x+(s.x-e.x)*n,this.y=e.y+(s.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this}rotateAround(e,s){const n=Math.cos(s),a=Math.sin(s),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*a+e.x,this.y=i*a+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ps{constructor(e,s,n,a,i,o,l,c,d){ps.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,s,n,a,i,o,l,c,d)}set(e,s,n,a,i,o,l,c,d){const u=this.elements;return u[0]=e,u[1]=a,u[2]=l,u[3]=s,u[4]=i,u[5]=c,u[6]=n,u[7]=o,u[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const s=this.elements,n=e.elements;return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[8]=n[8],this}extractBasis(e,s,n){return e.setFromMatrix3Column(this,0),s.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const s=e.elements;return this.set(s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,s){const n=e.elements,a=s.elements,i=this.elements,o=n[0],l=n[3],c=n[6],d=n[1],u=n[4],h=n[7],m=n[2],f=n[5],x=n[8],A=a[0],g=a[3],b=a[6],w=a[1],v=a[4],j=a[7],N=a[2],S=a[5],T=a[8];return i[0]=o*A+l*w+c*N,i[3]=o*g+l*v+c*S,i[6]=o*b+l*j+c*T,i[1]=d*A+u*w+h*N,i[4]=d*g+u*v+h*S,i[7]=d*b+u*j+h*T,i[2]=m*A+f*w+x*N,i[5]=m*g+f*v+x*S,i[8]=m*b+f*j+x*T,this}multiplyScalar(e){const s=this.elements;return s[0]*=e,s[3]*=e,s[6]*=e,s[1]*=e,s[4]*=e,s[7]*=e,s[2]*=e,s[5]*=e,s[8]*=e,this}determinant(){const e=this.elements,s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8];return s*o*u-s*l*d-n*i*u+n*l*c+a*i*d-a*o*c}invert(){const e=this.elements,s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=u*o-l*d,m=l*c-u*i,f=d*i-o*c,x=s*h+n*m+a*f;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/x;return e[0]=h*A,e[1]=(a*d-u*n)*A,e[2]=(l*n-a*o)*A,e[3]=m*A,e[4]=(u*s-a*c)*A,e[5]=(a*i-l*s)*A,e[6]=f*A,e[7]=(n*c-d*s)*A,e[8]=(o*s-n*i)*A,this}transpose(){let e;const s=this.elements;return e=s[1],s[1]=s[3],s[3]=e,e=s[2],s[2]=s[6],s[6]=e,e=s[5],s[5]=s[7],s[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const s=this.elements;return e[0]=s[0],e[1]=s[3],e[2]=s[6],e[3]=s[1],e[4]=s[4],e[5]=s[7],e[6]=s[2],e[7]=s[5],e[8]=s[8],this}setUvTransform(e,s,n,a,i,o,l){const c=Math.cos(i),d=Math.sin(i);return this.set(n*c,n*d,-n*(c*o+d*l)+o+e,-a*d,a*c,-a*(-d*o+c*l)+l+s,0,0,1),this}scale(e,s){return this.premultiply(UC.makeScale(e,s)),this}rotate(e){return this.premultiply(UC.makeRotation(-e)),this}translate(e,s){return this.premultiply(UC.makeTranslation(e,s)),this}makeTranslation(e,s){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,s,0,0,1),this}makeRotation(e){const s=Math.cos(e),n=Math.sin(e);return this.set(s,-n,0,n,s,0,0,0,1),this}makeScale(e,s){return this.set(e,0,0,0,s,0,0,0,1),this}equals(e){const s=this.elements,n=e.elements;for(let a=0;a<9;a++)if(s[a]!==n[a])return!1;return!0}fromArray(e,s=0){for(let n=0;n<9;n++)this.elements[n]=e[n+s];return this}toArray(e=[],s=0){const n=this.elements;return e[s]=n[0],e[s+1]=n[1],e[s+2]=n[2],e[s+3]=n[3],e[s+4]=n[4],e[s+5]=n[5],e[s+6]=n[6],e[s+7]=n[7],e[s+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const UC=new ps;function OX(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function MN(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Ife(){const t=MN("canvas");return t.style.display="block",t}const gR={};function QA(t){t in gR||(gR[t]=!0,console.warn(t))}function Lfe(t,e,s){return new Promise(function(n,a){function i(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:a();break;case t.TIMEOUT_EXPIRED:setTimeout(i,s);break;default:n()}}setTimeout(i,s)})}function Dfe(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Rfe(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const bR=new ps().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),yR=new ps().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Ofe(){const t={enabled:!0,workingColorSpace:Mg,spaces:{},convert:function(a,i,o){return this.enabled===!1||i===o||!i||!o||(this.spaces[i].transfer===bn&&(a.r=yf(a.r),a.g=yf(a.g),a.b=yf(a.b)),this.spaces[i].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[i].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===bn&&(a.r=ig(a.r),a.g=ig(a.g),a.b=ig(a.b))),a},fromWorkingColorSpace:function(a,i){return this.convert(a,this.workingColorSpace,i)},toWorkingColorSpace:function(a,i){return this.convert(a,i,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Lm?TN:this.spaces[a].transfer},getLuminanceCoefficients:function(a,i=this.workingColorSpace){return a.fromArray(this.spaces[i].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,i,o){return a.copy(this.spaces[i].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],s=[.2126,.7152,.0722],n=[.3127,.329];return t.define({[Mg]:{primaries:e,whitePoint:n,transfer:TN,toXYZ:bR,fromXYZ:yR,luminanceCoefficients:s,workingColorSpaceConfig:{unpackColorSpace:Kc},outputColorSpaceConfig:{drawingBufferColorSpace:Kc}},[Kc]:{primaries:e,whitePoint:n,transfer:bn,toXYZ:bR,fromXYZ:yR,luminanceCoefficients:s,outputColorSpaceConfig:{drawingBufferColorSpace:Kc}}}),t}const zs=Ofe();function yf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ig(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let uA;class Ufe{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let s;if(e instanceof HTMLCanvasElement)s=e;else{uA===void 0&&(uA=MN("canvas")),uA.width=e.width,uA.height=e.height;const n=uA.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),s=uA}return s.width>2048||s.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),s.toDataURL("image/jpeg",.6)):s.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const s=MN("canvas");s.width=e.width,s.height=e.height;const n=s.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const a=n.getImageData(0,0,e.width,e.height),i=a.data;for(let o=0;o<i.length;o++)i[o]=yf(i[o]/255)*255;return n.putImageData(a,0,0),s}else if(e.data){const s=e.data.slice(0);for(let n=0;n<s.length;n++)s instanceof Uint8Array||s instanceof Uint8ClampedArray?s[n]=Math.floor(yf(s[n]/255)*255):s[n]=yf(s[n]);return{data:s,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Hfe=0;class UX{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Hfe++}),this.uuid=tw(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const s=e===void 0||typeof e=="string";if(!s&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},a=this.data;if(a!==null){let i;if(Array.isArray(a)){i=[];for(let o=0,l=a.length;o<l;o++)a[o].isDataTexture?i.push(HC(a[o].image)):i.push(HC(a[o]))}else i=HC(a);n.url=i}return s||(e.images[this.uuid]=n),n}}function HC(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Ufe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Qfe=0;class Il extends xb{constructor(e=Il.DEFAULT_IMAGE,s=Il.DEFAULT_MAPPING,n=Bp,a=Bp,i=Hu,o=Mp,l=Hd,c=Bf,d=Il.DEFAULT_ANISOTROPY,u=Lm){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Qfe++}),this.uuid=tw(),this.name="",this.source=new UX(e),this.mipmaps=[],this.mapping=s,this.channel=0,this.wrapS=n,this.wrapT=a,this.magFilter=i,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new cn(0,0),this.repeat=new cn(1,1),this.center=new cn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ps,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const s=e===void 0||typeof e=="string";if(!s&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),s||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==CX)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case bB:e.x=e.x-Math.floor(e.x);break;case Bp:e.x=e.x<0?0:1;break;case yB:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case bB:e.y=e.y-Math.floor(e.y);break;case Bp:e.y=e.y<0?0:1;break;case yB:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Il.DEFAULT_IMAGE=null;Il.DEFAULT_MAPPING=CX;Il.DEFAULT_ANISOTROPY=1;class Ca{constructor(e=0,s=0,n=0,a=1){Ca.prototype.isVector4=!0,this.x=e,this.y=s,this.z=n,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,s,n,a){return this.x=e,this.y=s,this.z=n,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;case 3:this.w=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this.z=e.z+s.z,this.w=e.w+s.w,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this.w+=e.w*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this.z=e.z-s.z,this.w=e.w-s.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const s=this.x,n=this.y,a=this.z,i=this.w,o=e.elements;return this.x=o[0]*s+o[4]*n+o[8]*a+o[12]*i,this.y=o[1]*s+o[5]*n+o[9]*a+o[13]*i,this.z=o[2]*s+o[6]*n+o[10]*a+o[14]*i,this.w=o[3]*s+o[7]*n+o[11]*a+o[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const s=Math.sqrt(1-e.w*e.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/s,this.y=e.y/s,this.z=e.z/s),this}setAxisAngleFromRotationMatrix(e){let s,n,a,i;const c=e.elements,d=c[0],u=c[4],h=c[8],m=c[1],f=c[5],x=c[9],A=c[2],g=c[6],b=c[10];if(Math.abs(u-m)<.01&&Math.abs(h-A)<.01&&Math.abs(x-g)<.01){if(Math.abs(u+m)<.1&&Math.abs(h+A)<.1&&Math.abs(x+g)<.1&&Math.abs(d+f+b-3)<.1)return this.set(1,0,0,0),this;s=Math.PI;const v=(d+1)/2,j=(f+1)/2,N=(b+1)/2,S=(u+m)/4,T=(h+A)/4,I=(x+g)/4;return v>j&&v>N?v<.01?(n=0,a=.707106781,i=.707106781):(n=Math.sqrt(v),a=S/n,i=T/n):j>N?j<.01?(n=.707106781,a=0,i=.707106781):(a=Math.sqrt(j),n=S/a,i=I/a):N<.01?(n=.707106781,a=.707106781,i=0):(i=Math.sqrt(N),n=T/i,a=I/i),this.set(n,a,i,s),this}let w=Math.sqrt((g-x)*(g-x)+(h-A)*(h-A)+(m-u)*(m-u));return Math.abs(w)<.001&&(w=1),this.x=(g-x)/w,this.y=(h-A)/w,this.z=(m-u)/w,this.w=Math.acos((d+f+b-1)/2),this}setFromMatrixPosition(e){const s=e.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this.w=s[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,s){return this.x=Bs(this.x,e.x,s.x),this.y=Bs(this.y,e.y,s.y),this.z=Bs(this.z,e.z,s.z),this.w=Bs(this.w,e.w,s.w),this}clampScalar(e,s){return this.x=Bs(this.x,e,s),this.y=Bs(this.y,e,s),this.z=Bs(this.z,e,s),this.w=Bs(this.w,e,s),this}clampLength(e,s){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Bs(n,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this.z+=(e.z-this.z)*s,this.w+=(e.w-this.w)*s,this}lerpVectors(e,s,n){return this.x=e.x+(s.x-e.x)*n,this.y=e.y+(s.y-e.y)*n,this.z=e.z+(s.z-e.z)*n,this.w=e.w+(s.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this.z=e[s+2],this.w=e[s+3],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e[s+2]=this.z,e[s+3]=this.w,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this.z=e.getZ(s),this.w=e.getW(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $fe extends xb{constructor(e=1,s=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=s,this.depth=1,this.scissor=new Ca(0,0,e,s),this.scissorTest=!1,this.viewport=new Ca(0,0,e,s);const a={width:e,height:s,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Hu,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new Il(a,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let l=0;l<o;l++)this.textures[l]=i.clone(),this.textures[l].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,s,n=1){if(this.width!==e||this.height!==s||this.depth!==n){this.width=e,this.height=s,this.depth=n;for(let a=0,i=this.textures.length;a<i;a++)this.textures[a].image.width=e,this.textures[a].image.height=s,this.textures[a].image.depth=n;this.dispose()}this.viewport.set(0,0,e,s),this.scissor.set(0,0,e,s)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,a=e.textures.length;n<a;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const s=Object.assign({},e.texture.image);return this.texture.source=new UX(s),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class lx extends $fe{constructor(e=1,s=1,n={}){super(e,s,n),this.isWebGLRenderTarget=!0}}class HX extends Il{constructor(e=null,s=1,n=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:s,height:n,depth:a},this.magFilter=Wd,this.minFilter=Wd,this.wrapR=Bp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zfe extends Il{constructor(e=null,s=1,n=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:s,height:n,depth:a},this.magFilter=Wd,this.minFilter=Wd,this.wrapR=Bp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rw{constructor(e=0,s=0,n=0,a=1){this.isQuaternion=!0,this._x=e,this._y=s,this._z=n,this._w=a}static slerpFlat(e,s,n,a,i,o,l){let c=n[a+0],d=n[a+1],u=n[a+2],h=n[a+3];const m=i[o+0],f=i[o+1],x=i[o+2],A=i[o+3];if(l===0){e[s+0]=c,e[s+1]=d,e[s+2]=u,e[s+3]=h;return}if(l===1){e[s+0]=m,e[s+1]=f,e[s+2]=x,e[s+3]=A;return}if(h!==A||c!==m||d!==f||u!==x){let g=1-l;const b=c*m+d*f+u*x+h*A,w=b>=0?1:-1,v=1-b*b;if(v>Number.EPSILON){const N=Math.sqrt(v),S=Math.atan2(N,b*w);g=Math.sin(g*S)/N,l=Math.sin(l*S)/N}const j=l*w;if(c=c*g+m*j,d=d*g+f*j,u=u*g+x*j,h=h*g+A*j,g===1-l){const N=1/Math.sqrt(c*c+d*d+u*u+h*h);c*=N,d*=N,u*=N,h*=N}}e[s]=c,e[s+1]=d,e[s+2]=u,e[s+3]=h}static multiplyQuaternionsFlat(e,s,n,a,i,o){const l=n[a],c=n[a+1],d=n[a+2],u=n[a+3],h=i[o],m=i[o+1],f=i[o+2],x=i[o+3];return e[s]=l*x+u*h+c*f-d*m,e[s+1]=c*x+u*m+d*h-l*f,e[s+2]=d*x+u*f+l*m-c*h,e[s+3]=u*x-l*h-c*m-d*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,s,n,a){return this._x=e,this._y=s,this._z=n,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,s=!0){const n=e._x,a=e._y,i=e._z,o=e._order,l=Math.cos,c=Math.sin,d=l(n/2),u=l(a/2),h=l(i/2),m=c(n/2),f=c(a/2),x=c(i/2);switch(o){case"XYZ":this._x=m*u*h+d*f*x,this._y=d*f*h-m*u*x,this._z=d*u*x+m*f*h,this._w=d*u*h-m*f*x;break;case"YXZ":this._x=m*u*h+d*f*x,this._y=d*f*h-m*u*x,this._z=d*u*x-m*f*h,this._w=d*u*h+m*f*x;break;case"ZXY":this._x=m*u*h-d*f*x,this._y=d*f*h+m*u*x,this._z=d*u*x+m*f*h,this._w=d*u*h-m*f*x;break;case"ZYX":this._x=m*u*h-d*f*x,this._y=d*f*h+m*u*x,this._z=d*u*x-m*f*h,this._w=d*u*h+m*f*x;break;case"YZX":this._x=m*u*h+d*f*x,this._y=d*f*h+m*u*x,this._z=d*u*x-m*f*h,this._w=d*u*h-m*f*x;break;case"XZY":this._x=m*u*h-d*f*x,this._y=d*f*h-m*u*x,this._z=d*u*x+m*f*h,this._w=d*u*h+m*f*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return s===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,s){const n=s/2,a=Math.sin(n);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const s=e.elements,n=s[0],a=s[4],i=s[8],o=s[1],l=s[5],c=s[9],d=s[2],u=s[6],h=s[10],m=n+l+h;if(m>0){const f=.5/Math.sqrt(m+1);this._w=.25/f,this._x=(u-c)*f,this._y=(i-d)*f,this._z=(o-a)*f}else if(n>l&&n>h){const f=2*Math.sqrt(1+n-l-h);this._w=(u-c)/f,this._x=.25*f,this._y=(a+o)/f,this._z=(i+d)/f}else if(l>h){const f=2*Math.sqrt(1+l-n-h);this._w=(i-d)/f,this._x=(a+o)/f,this._y=.25*f,this._z=(c+u)/f}else{const f=2*Math.sqrt(1+h-n-l);this._w=(o-a)/f,this._x=(i+d)/f,this._y=(c+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,s){let n=e.dot(s)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*s.z-e.z*s.y,this._y=e.z*s.x-e.x*s.z,this._z=e.x*s.y-e.y*s.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Bs(this.dot(e),-1,1)))}rotateTowards(e,s){const n=this.angleTo(e);if(n===0)return this;const a=Math.min(1,s/n);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,s){const n=e._x,a=e._y,i=e._z,o=e._w,l=s._x,c=s._y,d=s._z,u=s._w;return this._x=n*u+o*l+a*d-i*c,this._y=a*u+o*c+i*l-n*d,this._z=i*u+o*d+n*c-a*l,this._w=o*u-n*l-a*c-i*d,this._onChangeCallback(),this}slerp(e,s){if(s===0)return this;if(s===1)return this.copy(e);const n=this._x,a=this._y,i=this._z,o=this._w;let l=o*e._w+n*e._x+a*e._y+i*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=n,this._y=a,this._z=i,this;const c=1-l*l;if(c<=Number.EPSILON){const f=1-s;return this._w=f*o+s*this._w,this._x=f*n+s*this._x,this._y=f*a+s*this._y,this._z=f*i+s*this._z,this.normalize(),this}const d=Math.sqrt(c),u=Math.atan2(d,l),h=Math.sin((1-s)*u)/d,m=Math.sin(s*u)/d;return this._w=o*h+this._w*m,this._x=n*h+this._x*m,this._y=a*h+this._y*m,this._z=i*h+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,s,n){return this.copy(e).slerp(s,n)}random(){const e=2*Math.PI*Math.random(),s=2*Math.PI*Math.random(),n=Math.random(),a=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(a*Math.sin(e),a*Math.cos(e),i*Math.sin(s),i*Math.cos(s))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,s=0){return this._x=e[s],this._y=e[s+1],this._z=e[s+2],this._w=e[s+3],this._onChangeCallback(),this}toArray(e=[],s=0){return e[s]=this._x,e[s+1]=this._y,e[s+2]=this._z,e[s+3]=this._w,e}fromBufferAttribute(e,s){return this._x=e.getX(s),this._y=e.getY(s),this._z=e.getZ(s),this._w=e.getW(s),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ft{constructor(e=0,s=0,n=0){Ft.prototype.isVector3=!0,this.x=e,this.y=s,this.z=n}set(e,s,n){return n===void 0&&(n=this.z),this.x=e,this.y=s,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,s){switch(e){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,s){return this.x=e.x+s.x,this.y=e.y+s.y,this.z=e.z+s.z,this}addScaledVector(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,s){return this.x=e.x-s.x,this.y=e.y-s.y,this.z=e.z-s.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,s){return this.x=e.x*s.x,this.y=e.y*s.y,this.z=e.z*s.z,this}applyEuler(e){return this.applyQuaternion(vR.setFromEuler(e))}applyAxisAngle(e,s){return this.applyQuaternion(vR.setFromAxisAngle(e,s))}applyMatrix3(e){const s=this.x,n=this.y,a=this.z,i=e.elements;return this.x=i[0]*s+i[3]*n+i[6]*a,this.y=i[1]*s+i[4]*n+i[7]*a,this.z=i[2]*s+i[5]*n+i[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const s=this.x,n=this.y,a=this.z,i=e.elements,o=1/(i[3]*s+i[7]*n+i[11]*a+i[15]);return this.x=(i[0]*s+i[4]*n+i[8]*a+i[12])*o,this.y=(i[1]*s+i[5]*n+i[9]*a+i[13])*o,this.z=(i[2]*s+i[6]*n+i[10]*a+i[14])*o,this}applyQuaternion(e){const s=this.x,n=this.y,a=this.z,i=e.x,o=e.y,l=e.z,c=e.w,d=2*(o*a-l*n),u=2*(l*s-i*a),h=2*(i*n-o*s);return this.x=s+c*d+o*h-l*u,this.y=n+c*u+l*d-i*h,this.z=a+c*h+i*u-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const s=this.x,n=this.y,a=this.z,i=e.elements;return this.x=i[0]*s+i[4]*n+i[8]*a,this.y=i[1]*s+i[5]*n+i[9]*a,this.z=i[2]*s+i[6]*n+i[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,s){return this.x=Bs(this.x,e.x,s.x),this.y=Bs(this.y,e.y,s.y),this.z=Bs(this.z,e.z,s.z),this}clampScalar(e,s){return this.x=Bs(this.x,e,s),this.y=Bs(this.y,e,s),this.z=Bs(this.z,e,s),this}clampLength(e,s){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Bs(n,e,s))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,s){return this.x+=(e.x-this.x)*s,this.y+=(e.y-this.y)*s,this.z+=(e.z-this.z)*s,this}lerpVectors(e,s,n){return this.x=e.x+(s.x-e.x)*n,this.y=e.y+(s.y-e.y)*n,this.z=e.z+(s.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,s){const n=e.x,a=e.y,i=e.z,o=s.x,l=s.y,c=s.z;return this.x=a*c-i*l,this.y=i*o-n*c,this.z=n*l-a*o,this}projectOnVector(e){const s=e.lengthSq();if(s===0)return this.set(0,0,0);const n=e.dot(this)/s;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return QC.copy(this).projectOnVector(e),this.sub(QC)}reflect(e){return this.sub(QC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const s=Math.sqrt(this.lengthSq()*e.lengthSq());if(s===0)return Math.PI/2;const n=this.dot(e)/s;return Math.acos(Bs(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const s=this.x-e.x,n=this.y-e.y,a=this.z-e.z;return s*s+n*n+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,s,n){const a=Math.sin(s)*e;return this.x=a*Math.sin(n),this.y=Math.cos(s)*e,this.z=a*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,s,n){return this.x=e*Math.sin(s),this.y=n,this.z=e*Math.cos(s),this}setFromMatrixPosition(e){const s=e.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this}setFromMatrixScale(e){const s=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=s,this.y=n,this.z=a,this}setFromMatrixColumn(e,s){return this.fromArray(e.elements,s*4)}setFromMatrix3Column(e,s){return this.fromArray(e.elements,s*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,s=0){return this.x=e[s],this.y=e[s+1],this.z=e[s+2],this}toArray(e=[],s=0){return e[s]=this.x,e[s+1]=this.y,e[s+2]=this.z,e}fromBufferAttribute(e,s){return this.x=e.getX(s),this.y=e.getY(s),this.z=e.getZ(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,s=Math.random()*2-1,n=Math.sqrt(1-s*s);return this.x=n*Math.cos(e),this.y=s,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const QC=new Ft,vR=new rw;class sw{constructor(e=new Ft(1/0,1/0,1/0),s=new Ft(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=s}set(e,s){return this.min.copy(e),this.max.copy(s),this}setFromArray(e){this.makeEmpty();for(let s=0,n=e.length;s<n;s+=3)this.expandByPoint(Ed.fromArray(e,s));return this}setFromBufferAttribute(e){this.makeEmpty();for(let s=0,n=e.count;s<n;s++)this.expandByPoint(Ed.fromBufferAttribute(e,s));return this}setFromPoints(e){this.makeEmpty();for(let s=0,n=e.length;s<n;s++)this.expandByPoint(e[s]);return this}setFromCenterAndSize(e,s){const n=Ed.copy(s).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,s=!1){return this.makeEmpty(),this.expandByObject(e,s)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,s=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const i=n.getAttribute("position");if(s===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=i.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Ed):Ed.fromBufferAttribute(i,o),Ed.applyMatrix4(e.matrixWorld),this.expandByPoint(Ed);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),x2.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),x2.copy(n.boundingBox)),x2.applyMatrix4(e.matrixWorld),this.union(x2)}const a=e.children;for(let i=0,o=a.length;i<o;i++)this.expandByObject(a[i],s);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,s){return s.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ed),Ed.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let s,n;return e.normal.x>0?(s=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(s=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(s+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(s+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(s+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(s+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),s<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fy),A2.subVectors(this.max,fy),hA.subVectors(e.a,fy),fA.subVectors(e.b,fy),mA.subVectors(e.c,fy),xm.subVectors(fA,hA),Am.subVectors(mA,fA),sp.subVectors(hA,mA);let s=[0,-xm.z,xm.y,0,-Am.z,Am.y,0,-sp.z,sp.y,xm.z,0,-xm.x,Am.z,0,-Am.x,sp.z,0,-sp.x,-xm.y,xm.x,0,-Am.y,Am.x,0,-sp.y,sp.x,0];return!$C(s,hA,fA,mA,A2)||(s=[1,0,0,0,1,0,0,0,1],!$C(s,hA,fA,mA,A2))?!1:(g2.crossVectors(xm,Am),s=[g2.x,g2.y,g2.z],$C(s,hA,fA,mA,A2))}clampPoint(e,s){return s.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ed).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ed).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Vh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Vh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Vh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Vh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Vh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Vh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Vh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Vh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Vh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Vh=[new Ft,new Ft,new Ft,new Ft,new Ft,new Ft,new Ft,new Ft],Ed=new Ft,x2=new sw,hA=new Ft,fA=new Ft,mA=new Ft,xm=new Ft,Am=new Ft,sp=new Ft,fy=new Ft,A2=new Ft,g2=new Ft,np=new Ft;function $C(t,e,s,n,a){for(let i=0,o=t.length-3;i<=o;i+=3){np.fromArray(t,i);const l=a.x*Math.abs(np.x)+a.y*Math.abs(np.y)+a.z*Math.abs(np.z),c=e.dot(np),d=s.dot(np),u=n.dot(np);if(Math.max(-Math.max(c,d,u),Math.min(c,d,u))>l)return!1}return!0}const Gfe=new sw,my=new Ft,zC=new Ft;class qP{constructor(e=new Ft,s=-1){this.isSphere=!0,this.center=e,this.radius=s}set(e,s){return this.center.copy(e),this.radius=s,this}setFromPoints(e,s){const n=this.center;s!==void 0?n.copy(s):Gfe.setFromPoints(e).getCenter(n);let a=0;for(let i=0,o=e.length;i<o;i++)a=Math.max(a,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const s=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=s*s}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,s){const n=this.center.distanceToSquared(e);return s.copy(e),n>this.radius*this.radius&&(s.sub(this.center).normalize(),s.multiplyScalar(this.radius).add(this.center)),s}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;my.subVectors(e,this.center);const s=my.lengthSq();if(s>this.radius*this.radius){const n=Math.sqrt(s),a=(n-this.radius)*.5;this.center.addScaledVector(my,a/n),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(zC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(my.copy(e.center).add(zC)),this.expandByPoint(my.copy(e.center).sub(zC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Wh=new Ft,GC=new Ft,b2=new Ft,gm=new Ft,VC=new Ft,y2=new Ft,WC=new Ft;class Vfe{constructor(e=new Ft,s=new Ft(0,0,-1)){this.origin=e,this.direction=s}set(e,s){return this.origin.copy(e),this.direction.copy(s),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,s){return s.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Wh)),this}closestPointToPoint(e,s){s.subVectors(e,this.origin);const n=s.dot(this.direction);return n<0?s.copy(this.origin):s.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const s=Wh.subVectors(e,this.origin).dot(this.direction);return s<0?this.origin.distanceToSquared(e):(Wh.copy(this.origin).addScaledVector(this.direction,s),Wh.distanceToSquared(e))}distanceSqToSegment(e,s,n,a){GC.copy(e).add(s).multiplyScalar(.5),b2.copy(s).sub(e).normalize(),gm.copy(this.origin).sub(GC);const i=e.distanceTo(s)*.5,o=-this.direction.dot(b2),l=gm.dot(this.direction),c=-gm.dot(b2),d=gm.lengthSq(),u=Math.abs(1-o*o);let h,m,f,x;if(u>0)if(h=o*c-l,m=o*l-c,x=i*u,h>=0)if(m>=-x)if(m<=x){const A=1/u;h*=A,m*=A,f=h*(h+o*m+2*l)+m*(o*h+m+2*c)+d}else m=i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;else m=-i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;else m<=-x?(h=Math.max(0,-(-o*i+l)),m=h>0?-i:Math.min(Math.max(-i,-c),i),f=-h*h+m*(m+2*c)+d):m<=x?(h=0,m=Math.min(Math.max(-i,-c),i),f=m*(m+2*c)+d):(h=Math.max(0,-(o*i+l)),m=h>0?i:Math.min(Math.max(-i,-c),i),f=-h*h+m*(m+2*c)+d);else m=o>0?-i:i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,h),a&&a.copy(GC).addScaledVector(b2,m),f}intersectSphere(e,s){Wh.subVectors(e.center,this.origin);const n=Wh.dot(this.direction),a=Wh.dot(Wh)-n*n,i=e.radius*e.radius;if(a>i)return null;const o=Math.sqrt(i-a),l=n-o,c=n+o;return c<0?null:l<0?this.at(c,s):this.at(l,s)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const s=e.normal.dot(this.direction);if(s===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/s;return n>=0?n:null}intersectPlane(e,s){const n=this.distanceToPlane(e);return n===null?null:this.at(n,s)}intersectsPlane(e){const s=e.distanceToPoint(this.origin);return s===0||e.normal.dot(this.direction)*s<0}intersectBox(e,s){let n,a,i,o,l,c;const d=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,m=this.origin;return d>=0?(n=(e.min.x-m.x)*d,a=(e.max.x-m.x)*d):(n=(e.max.x-m.x)*d,a=(e.min.x-m.x)*d),u>=0?(i=(e.min.y-m.y)*u,o=(e.max.y-m.y)*u):(i=(e.max.y-m.y)*u,o=(e.min.y-m.y)*u),n>o||i>a||((i>n||isNaN(n))&&(n=i),(o<a||isNaN(a))&&(a=o),h>=0?(l=(e.min.z-m.z)*h,c=(e.max.z-m.z)*h):(l=(e.max.z-m.z)*h,c=(e.min.z-m.z)*h),n>c||l>a)||((l>n||n!==n)&&(n=l),(c<a||a!==a)&&(a=c),a<0)?null:this.at(n>=0?n:a,s)}intersectsBox(e){return this.intersectBox(e,Wh)!==null}intersectTriangle(e,s,n,a,i){VC.subVectors(s,e),y2.subVectors(n,e),WC.crossVectors(VC,y2);let o=this.direction.dot(WC),l;if(o>0){if(a)return null;l=1}else if(o<0)l=-1,o=-o;else return null;gm.subVectors(this.origin,e);const c=l*this.direction.dot(y2.crossVectors(gm,y2));if(c<0)return null;const d=l*this.direction.dot(VC.cross(gm));if(d<0||c+d>o)return null;const u=-l*gm.dot(WC);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _a{constructor(e,s,n,a,i,o,l,c,d,u,h,m,f,x,A,g){_a.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,s,n,a,i,o,l,c,d,u,h,m,f,x,A,g)}set(e,s,n,a,i,o,l,c,d,u,h,m,f,x,A,g){const b=this.elements;return b[0]=e,b[4]=s,b[8]=n,b[12]=a,b[1]=i,b[5]=o,b[9]=l,b[13]=c,b[2]=d,b[6]=u,b[10]=h,b[14]=m,b[3]=f,b[7]=x,b[11]=A,b[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _a().fromArray(this.elements)}copy(e){const s=this.elements,n=e.elements;return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15],this}copyPosition(e){const s=this.elements,n=e.elements;return s[12]=n[12],s[13]=n[13],s[14]=n[14],this}setFromMatrix3(e){const s=e.elements;return this.set(s[0],s[3],s[6],0,s[1],s[4],s[7],0,s[2],s[5],s[8],0,0,0,0,1),this}extractBasis(e,s,n){return e.setFromMatrixColumn(this,0),s.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,s,n){return this.set(e.x,s.x,n.x,0,e.y,s.y,n.y,0,e.z,s.z,n.z,0,0,0,0,1),this}extractRotation(e){const s=this.elements,n=e.elements,a=1/pA.setFromMatrixColumn(e,0).length(),i=1/pA.setFromMatrixColumn(e,1).length(),o=1/pA.setFromMatrixColumn(e,2).length();return s[0]=n[0]*a,s[1]=n[1]*a,s[2]=n[2]*a,s[3]=0,s[4]=n[4]*i,s[5]=n[5]*i,s[6]=n[6]*i,s[7]=0,s[8]=n[8]*o,s[9]=n[9]*o,s[10]=n[10]*o,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromEuler(e){const s=this.elements,n=e.x,a=e.y,i=e.z,o=Math.cos(n),l=Math.sin(n),c=Math.cos(a),d=Math.sin(a),u=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){const m=o*u,f=o*h,x=l*u,A=l*h;s[0]=c*u,s[4]=-c*h,s[8]=d,s[1]=f+x*d,s[5]=m-A*d,s[9]=-l*c,s[2]=A-m*d,s[6]=x+f*d,s[10]=o*c}else if(e.order==="YXZ"){const m=c*u,f=c*h,x=d*u,A=d*h;s[0]=m+A*l,s[4]=x*l-f,s[8]=o*d,s[1]=o*h,s[5]=o*u,s[9]=-l,s[2]=f*l-x,s[6]=A+m*l,s[10]=o*c}else if(e.order==="ZXY"){const m=c*u,f=c*h,x=d*u,A=d*h;s[0]=m-A*l,s[4]=-o*h,s[8]=x+f*l,s[1]=f+x*l,s[5]=o*u,s[9]=A-m*l,s[2]=-o*d,s[6]=l,s[10]=o*c}else if(e.order==="ZYX"){const m=o*u,f=o*h,x=l*u,A=l*h;s[0]=c*u,s[4]=x*d-f,s[8]=m*d+A,s[1]=c*h,s[5]=A*d+m,s[9]=f*d-x,s[2]=-d,s[6]=l*c,s[10]=o*c}else if(e.order==="YZX"){const m=o*c,f=o*d,x=l*c,A=l*d;s[0]=c*u,s[4]=A-m*h,s[8]=x*h+f,s[1]=h,s[5]=o*u,s[9]=-l*u,s[2]=-d*u,s[6]=f*h+x,s[10]=m-A*h}else if(e.order==="XZY"){const m=o*c,f=o*d,x=l*c,A=l*d;s[0]=c*u,s[4]=-h,s[8]=d*u,s[1]=m*h+A,s[5]=o*u,s[9]=f*h-x,s[2]=x*h-f,s[6]=l*u,s[10]=A*h+m}return s[3]=0,s[7]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Wfe,e,qfe)}lookAt(e,s,n){const a=this.elements;return Yl.subVectors(e,s),Yl.lengthSq()===0&&(Yl.z=1),Yl.normalize(),bm.crossVectors(n,Yl),bm.lengthSq()===0&&(Math.abs(n.z)===1?Yl.x+=1e-4:Yl.z+=1e-4,Yl.normalize(),bm.crossVectors(n,Yl)),bm.normalize(),v2.crossVectors(Yl,bm),a[0]=bm.x,a[4]=v2.x,a[8]=Yl.x,a[1]=bm.y,a[5]=v2.y,a[9]=Yl.y,a[2]=bm.z,a[6]=v2.z,a[10]=Yl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,s){const n=e.elements,a=s.elements,i=this.elements,o=n[0],l=n[4],c=n[8],d=n[12],u=n[1],h=n[5],m=n[9],f=n[13],x=n[2],A=n[6],g=n[10],b=n[14],w=n[3],v=n[7],j=n[11],N=n[15],S=a[0],T=a[4],I=a[8],_=a[12],M=a[1],C=a[5],B=a[9],P=a[13],H=a[2],D=a[6],G=a[10],O=a[14],Q=a[3],ee=a[7],q=a[11],Z=a[15];return i[0]=o*S+l*M+c*H+d*Q,i[4]=o*T+l*C+c*D+d*ee,i[8]=o*I+l*B+c*G+d*q,i[12]=o*_+l*P+c*O+d*Z,i[1]=u*S+h*M+m*H+f*Q,i[5]=u*T+h*C+m*D+f*ee,i[9]=u*I+h*B+m*G+f*q,i[13]=u*_+h*P+m*O+f*Z,i[2]=x*S+A*M+g*H+b*Q,i[6]=x*T+A*C+g*D+b*ee,i[10]=x*I+A*B+g*G+b*q,i[14]=x*_+A*P+g*O+b*Z,i[3]=w*S+v*M+j*H+N*Q,i[7]=w*T+v*C+j*D+N*ee,i[11]=w*I+v*B+j*G+N*q,i[15]=w*_+v*P+j*O+N*Z,this}multiplyScalar(e){const s=this.elements;return s[0]*=e,s[4]*=e,s[8]*=e,s[12]*=e,s[1]*=e,s[5]*=e,s[9]*=e,s[13]*=e,s[2]*=e,s[6]*=e,s[10]*=e,s[14]*=e,s[3]*=e,s[7]*=e,s[11]*=e,s[15]*=e,this}determinant(){const e=this.elements,s=e[0],n=e[4],a=e[8],i=e[12],o=e[1],l=e[5],c=e[9],d=e[13],u=e[2],h=e[6],m=e[10],f=e[14],x=e[3],A=e[7],g=e[11],b=e[15];return x*(+i*c*h-a*d*h-i*l*m+n*d*m+a*l*f-n*c*f)+A*(+s*c*f-s*d*m+i*o*m-a*o*f+a*d*u-i*c*u)+g*(+s*d*h-s*l*f-i*o*h+n*o*f+i*l*u-n*d*u)+b*(-a*l*u-s*c*h+s*l*m+a*o*h-n*o*m+n*c*u)}transpose(){const e=this.elements;let s;return s=e[1],e[1]=e[4],e[4]=s,s=e[2],e[2]=e[8],e[8]=s,s=e[6],e[6]=e[9],e[9]=s,s=e[3],e[3]=e[12],e[12]=s,s=e[7],e[7]=e[13],e[13]=s,s=e[11],e[11]=e[14],e[14]=s,this}setPosition(e,s,n){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=s,a[14]=n),this}invert(){const e=this.elements,s=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],m=e[10],f=e[11],x=e[12],A=e[13],g=e[14],b=e[15],w=h*g*d-A*m*d+A*c*f-l*g*f-h*c*b+l*m*b,v=x*m*d-u*g*d-x*c*f+o*g*f+u*c*b-o*m*b,j=u*A*d-x*h*d+x*l*f-o*A*f-u*l*b+o*h*b,N=x*h*c-u*A*c-x*l*m+o*A*m+u*l*g-o*h*g,S=s*w+n*v+a*j+i*N;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=w*T,e[1]=(A*m*i-h*g*i-A*a*f+n*g*f+h*a*b-n*m*b)*T,e[2]=(l*g*i-A*c*i+A*a*d-n*g*d-l*a*b+n*c*b)*T,e[3]=(h*c*i-l*m*i-h*a*d+n*m*d+l*a*f-n*c*f)*T,e[4]=v*T,e[5]=(u*g*i-x*m*i+x*a*f-s*g*f-u*a*b+s*m*b)*T,e[6]=(x*c*i-o*g*i-x*a*d+s*g*d+o*a*b-s*c*b)*T,e[7]=(o*m*i-u*c*i+u*a*d-s*m*d-o*a*f+s*c*f)*T,e[8]=j*T,e[9]=(x*h*i-u*A*i-x*n*f+s*A*f+u*n*b-s*h*b)*T,e[10]=(o*A*i-x*l*i+x*n*d-s*A*d-o*n*b+s*l*b)*T,e[11]=(u*l*i-o*h*i-u*n*d+s*h*d+o*n*f-s*l*f)*T,e[12]=N*T,e[13]=(u*A*a-x*h*a+x*n*m-s*A*m-u*n*g+s*h*g)*T,e[14]=(x*l*a-o*A*a-x*n*c+s*A*c+o*n*g-s*l*g)*T,e[15]=(o*h*a-u*l*a+u*n*c-s*h*c-o*n*m+s*l*m)*T,this}scale(e){const s=this.elements,n=e.x,a=e.y,i=e.z;return s[0]*=n,s[4]*=a,s[8]*=i,s[1]*=n,s[5]*=a,s[9]*=i,s[2]*=n,s[6]*=a,s[10]*=i,s[3]*=n,s[7]*=a,s[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,s=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(s,n,a))}makeTranslation(e,s,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,s,0,0,1,n,0,0,0,1),this}makeRotationX(e){const s=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,s,-n,0,0,n,s,0,0,0,0,1),this}makeRotationY(e){const s=Math.cos(e),n=Math.sin(e);return this.set(s,0,n,0,0,1,0,0,-n,0,s,0,0,0,0,1),this}makeRotationZ(e){const s=Math.cos(e),n=Math.sin(e);return this.set(s,-n,0,0,n,s,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,s){const n=Math.cos(s),a=Math.sin(s),i=1-n,o=e.x,l=e.y,c=e.z,d=i*o,u=i*l;return this.set(d*o+n,d*l-a*c,d*c+a*l,0,d*l+a*c,u*l+n,u*c-a*o,0,d*c-a*l,u*c+a*o,i*c*c+n,0,0,0,0,1),this}makeScale(e,s,n){return this.set(e,0,0,0,0,s,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,s,n,a,i,o){return this.set(1,n,i,0,e,1,o,0,s,a,1,0,0,0,0,1),this}compose(e,s,n){const a=this.elements,i=s._x,o=s._y,l=s._z,c=s._w,d=i+i,u=o+o,h=l+l,m=i*d,f=i*u,x=i*h,A=o*u,g=o*h,b=l*h,w=c*d,v=c*u,j=c*h,N=n.x,S=n.y,T=n.z;return a[0]=(1-(A+b))*N,a[1]=(f+j)*N,a[2]=(x-v)*N,a[3]=0,a[4]=(f-j)*S,a[5]=(1-(m+b))*S,a[6]=(g+w)*S,a[7]=0,a[8]=(x+v)*T,a[9]=(g-w)*T,a[10]=(1-(m+A))*T,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,s,n){const a=this.elements;let i=pA.set(a[0],a[1],a[2]).length();const o=pA.set(a[4],a[5],a[6]).length(),l=pA.set(a[8],a[9],a[10]).length();this.determinant()<0&&(i=-i),e.x=a[12],e.y=a[13],e.z=a[14],kd.copy(this);const d=1/i,u=1/o,h=1/l;return kd.elements[0]*=d,kd.elements[1]*=d,kd.elements[2]*=d,kd.elements[4]*=u,kd.elements[5]*=u,kd.elements[6]*=u,kd.elements[8]*=h,kd.elements[9]*=h,kd.elements[10]*=h,s.setFromRotationMatrix(kd),n.x=i,n.y=o,n.z=l,this}makePerspective(e,s,n,a,i,o,l=ff){const c=this.elements,d=2*i/(s-e),u=2*i/(n-a),h=(s+e)/(s-e),m=(n+a)/(n-a);let f,x;if(l===ff)f=-(o+i)/(o-i),x=-2*o*i/(o-i);else if(l===BN)f=-o/(o-i),x=-o*i/(o-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=d,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=u,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=f,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,s,n,a,i,o,l=ff){const c=this.elements,d=1/(s-e),u=1/(n-a),h=1/(o-i),m=(s+e)*d,f=(n+a)*u;let x,A;if(l===ff)x=(o+i)*h,A=-2*h;else if(l===BN)x=i*h,A=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-f,c[2]=0,c[6]=0,c[10]=A,c[14]=-x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const s=this.elements,n=e.elements;for(let a=0;a<16;a++)if(s[a]!==n[a])return!1;return!0}fromArray(e,s=0){for(let n=0;n<16;n++)this.elements[n]=e[n+s];return this}toArray(e=[],s=0){const n=this.elements;return e[s]=n[0],e[s+1]=n[1],e[s+2]=n[2],e[s+3]=n[3],e[s+4]=n[4],e[s+5]=n[5],e[s+6]=n[6],e[s+7]=n[7],e[s+8]=n[8],e[s+9]=n[9],e[s+10]=n[10],e[s+11]=n[11],e[s+12]=n[12],e[s+13]=n[13],e[s+14]=n[14],e[s+15]=n[15],e}}const pA=new Ft,kd=new _a,Wfe=new Ft(0,0,0),qfe=new Ft(1,1,1),bm=new Ft,v2=new Ft,Yl=new Ft,wR=new _a,jR=new rw;class sh{constructor(e=0,s=0,n=0,a=sh.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=s,this._z=n,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,s,n,a=this._order){return this._x=e,this._y=s,this._z=n,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,s=this._order,n=!0){const a=e.elements,i=a[0],o=a[4],l=a[8],c=a[1],d=a[5],u=a[9],h=a[2],m=a[6],f=a[10];switch(s){case"XYZ":this._y=Math.asin(Bs(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Bs(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,f),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(Bs(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-Bs(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,f),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Bs(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(l,f));break;case"XZY":this._z=Math.asin(-Bs(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+s)}return this._order=s,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,s,n){return wR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(wR,s,n)}setFromVector3(e,s=this._order){return this.set(e.x,e.y,e.z,s)}reorder(e){return jR.setFromEuler(this),this.setFromQuaternion(jR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],s=0){return e[s]=this._x,e[s+1]=this._y,e[s+2]=this._z,e[s+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}sh.DEFAULT_ORDER="XYZ";class QX{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Kfe=0;const NR=new Ft,xA=new rw,qh=new _a,w2=new Ft,py=new Ft,Xfe=new Ft,Yfe=new rw,SR=new Ft(1,0,0),CR=new Ft(0,1,0),_R=new Ft(0,0,1),ER={type:"added"},Jfe={type:"removed"},AA={type:"childadded",child:null},qC={type:"childremoved",child:null};class Io extends xb{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Kfe++}),this.uuid=tw(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Io.DEFAULT_UP.clone();const e=new Ft,s=new sh,n=new rw,a=new Ft(1,1,1);function i(){n.setFromEuler(s,!1)}function o(){s.setFromQuaternion(n,void 0,!1)}s._onChange(i),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new _a},normalMatrix:{value:new ps}}),this.matrix=new _a,this.matrixWorld=new _a,this.matrixAutoUpdate=Io.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Io.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new QX,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,s){this.quaternion.setFromAxisAngle(e,s)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,s){return xA.setFromAxisAngle(e,s),this.quaternion.multiply(xA),this}rotateOnWorldAxis(e,s){return xA.setFromAxisAngle(e,s),this.quaternion.premultiply(xA),this}rotateX(e){return this.rotateOnAxis(SR,e)}rotateY(e){return this.rotateOnAxis(CR,e)}rotateZ(e){return this.rotateOnAxis(_R,e)}translateOnAxis(e,s){return NR.copy(e).applyQuaternion(this.quaternion),this.position.add(NR.multiplyScalar(s)),this}translateX(e){return this.translateOnAxis(SR,e)}translateY(e){return this.translateOnAxis(CR,e)}translateZ(e){return this.translateOnAxis(_R,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(qh.copy(this.matrixWorld).invert())}lookAt(e,s,n){e.isVector3?w2.copy(e):w2.set(e,s,n);const a=this.parent;this.updateWorldMatrix(!0,!1),py.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qh.lookAt(py,w2,this.up):qh.lookAt(w2,py,this.up),this.quaternion.setFromRotationMatrix(qh),a&&(qh.extractRotation(a.matrixWorld),xA.setFromRotationMatrix(qh),this.quaternion.premultiply(xA.invert()))}add(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ER),AA.child=e,this.dispatchEvent(AA),AA.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const s=this.children.indexOf(e);return s!==-1&&(e.parent=null,this.children.splice(s,1),e.dispatchEvent(Jfe),qC.child=e,this.dispatchEvent(qC),qC.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),qh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),qh.multiply(e.parent.matrixWorld)),e.applyMatrix4(qh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ER),AA.child=e,this.dispatchEvent(AA),AA.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,s){if(this[e]===s)return this;for(let n=0,a=this.children.length;n<a;n++){const o=this.children[n].getObjectByProperty(e,s);if(o!==void 0)return o}}getObjectsByProperty(e,s,n=[]){this[e]===s&&n.push(this);const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].getObjectsByProperty(e,s,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(py,e,Xfe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(py,Yfe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return e.set(s[8],s[9],s[10]).normalize()}raycast(){}traverse(e){e(this);const s=this.children;for(let n=0,a=s.length;n<a;n++)s[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const s=this.children;for(let n=0,a=s.length;n<a;n++)s[n].traverseVisible(e)}traverseAncestors(e){const s=this.parent;s!==null&&(e(s),s.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const s=this.children;for(let n=0,a=s.length;n<a;n++)s[n].updateMatrixWorld(e)}updateWorldMatrix(e,s){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),s===!0){const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].updateWorldMatrix(!1,!0)}}toJSON(e){const s=e===void 0||typeof e=="string",n={};s&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=i(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let d=0,u=c.length;d<u;d++){const h=c[d];i(e.shapes,h)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(i(e.materials,this.material[c]));a.material=l}else a.material=i(e.materials,this.material);if(this.children.length>0){a.children=[];for(let l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];a.animations.push(i(e.animations,c))}}if(s){const l=o(e.geometries),c=o(e.materials),d=o(e.textures),u=o(e.images),h=o(e.shapes),m=o(e.skeletons),f=o(e.animations),x=o(e.nodes);l.length>0&&(n.geometries=l),c.length>0&&(n.materials=c),d.length>0&&(n.textures=d),u.length>0&&(n.images=u),h.length>0&&(n.shapes=h),m.length>0&&(n.skeletons=m),f.length>0&&(n.animations=f),x.length>0&&(n.nodes=x)}return n.object=a,n;function o(l){const c=[];for(const d in l){const u=l[d];delete u.metadata,c.push(u)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,s=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),s===!0)for(let n=0;n<e.children.length;n++){const a=e.children[n];this.add(a.clone())}return this}}Io.DEFAULT_UP=new Ft(0,1,0);Io.DEFAULT_MATRIX_AUTO_UPDATE=!0;Io.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Td=new Ft,Kh=new Ft,KC=new Ft,Xh=new Ft,gA=new Ft,bA=new Ft,kR=new Ft,XC=new Ft,YC=new Ft,JC=new Ft,ZC=new Ca,e_=new Ca,t_=new Ca;class Rd{constructor(e=new Ft,s=new Ft,n=new Ft){this.a=e,this.b=s,this.c=n}static getNormal(e,s,n,a){a.subVectors(n,s),Td.subVectors(e,s),a.cross(Td);const i=a.lengthSq();return i>0?a.multiplyScalar(1/Math.sqrt(i)):a.set(0,0,0)}static getBarycoord(e,s,n,a,i){Td.subVectors(a,s),Kh.subVectors(n,s),KC.subVectors(e,s);const o=Td.dot(Td),l=Td.dot(Kh),c=Td.dot(KC),d=Kh.dot(Kh),u=Kh.dot(KC),h=o*d-l*l;if(h===0)return i.set(0,0,0),null;const m=1/h,f=(d*c-l*u)*m,x=(o*u-l*c)*m;return i.set(1-f-x,x,f)}static containsPoint(e,s,n,a){return this.getBarycoord(e,s,n,a,Xh)===null?!1:Xh.x>=0&&Xh.y>=0&&Xh.x+Xh.y<=1}static getInterpolation(e,s,n,a,i,o,l,c){return this.getBarycoord(e,s,n,a,Xh)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(i,Xh.x),c.addScaledVector(o,Xh.y),c.addScaledVector(l,Xh.z),c)}static getInterpolatedAttribute(e,s,n,a,i,o){return ZC.setScalar(0),e_.setScalar(0),t_.setScalar(0),ZC.fromBufferAttribute(e,s),e_.fromBufferAttribute(e,n),t_.fromBufferAttribute(e,a),o.setScalar(0),o.addScaledVector(ZC,i.x),o.addScaledVector(e_,i.y),o.addScaledVector(t_,i.z),o}static isFrontFacing(e,s,n,a){return Td.subVectors(n,s),Kh.subVectors(e,s),Td.cross(Kh).dot(a)<0}set(e,s,n){return this.a.copy(e),this.b.copy(s),this.c.copy(n),this}setFromPointsAndIndices(e,s,n,a){return this.a.copy(e[s]),this.b.copy(e[n]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,s,n,a){return this.a.fromBufferAttribute(e,s),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Td.subVectors(this.c,this.b),Kh.subVectors(this.a,this.b),Td.cross(Kh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Rd.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,s){return Rd.getBarycoord(e,this.a,this.b,this.c,s)}getInterpolation(e,s,n,a,i){return Rd.getInterpolation(e,this.a,this.b,this.c,s,n,a,i)}containsPoint(e){return Rd.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Rd.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,s){const n=this.a,a=this.b,i=this.c;let o,l;gA.subVectors(a,n),bA.subVectors(i,n),XC.subVectors(e,n);const c=gA.dot(XC),d=bA.dot(XC);if(c<=0&&d<=0)return s.copy(n);YC.subVectors(e,a);const u=gA.dot(YC),h=bA.dot(YC);if(u>=0&&h<=u)return s.copy(a);const m=c*h-u*d;if(m<=0&&c>=0&&u<=0)return o=c/(c-u),s.copy(n).addScaledVector(gA,o);JC.subVectors(e,i);const f=gA.dot(JC),x=bA.dot(JC);if(x>=0&&f<=x)return s.copy(i);const A=f*d-c*x;if(A<=0&&d>=0&&x<=0)return l=d/(d-x),s.copy(n).addScaledVector(bA,l);const g=u*x-f*h;if(g<=0&&h-u>=0&&f-x>=0)return kR.subVectors(i,a),l=(h-u)/(h-u+(f-x)),s.copy(a).addScaledVector(kR,l);const b=1/(g+A+m);return o=A*b,l=m*b,s.copy(n).addScaledVector(gA,o).addScaledVector(bA,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const $X={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ym={h:0,s:0,l:0},j2={h:0,s:0,l:0};function r_(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*6*(2/3-s):t}let Gs=class{constructor(e,s,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,s,n)}set(e,s,n){if(s===void 0&&n===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,s,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,s=Kc){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,zs.toWorkingColorSpace(this,s),this}setRGB(e,s,n,a=zs.workingColorSpace){return this.r=e,this.g=s,this.b=n,zs.toWorkingColorSpace(this,a),this}setHSL(e,s,n,a=zs.workingColorSpace){if(e=Pfe(e,1),s=Bs(s,0,1),n=Bs(n,0,1),s===0)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+s):n+s-n*s,o=2*n-i;this.r=r_(o,i,e+1/3),this.g=r_(o,i,e),this.b=r_(o,i,e-1/3)}return zs.toWorkingColorSpace(this,a),this}setStyle(e,s=Kc){function n(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=a[1],l=a[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,s);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,s);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,s);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=a[1],o=i.length;if(o===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,s);if(o===6)return this.setHex(parseInt(i,16),s);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,s);return this}setColorName(e,s=Kc){const n=$X[e.toLowerCase()];return n!==void 0?this.setHex(n,s):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=yf(e.r),this.g=yf(e.g),this.b=yf(e.b),this}copyLinearToSRGB(e){return this.r=ig(e.r),this.g=ig(e.g),this.b=ig(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Kc){return zs.fromWorkingColorSpace(Ao.copy(this),e),Math.round(Bs(Ao.r*255,0,255))*65536+Math.round(Bs(Ao.g*255,0,255))*256+Math.round(Bs(Ao.b*255,0,255))}getHexString(e=Kc){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,s=zs.workingColorSpace){zs.fromWorkingColorSpace(Ao.copy(this),s);const n=Ao.r,a=Ao.g,i=Ao.b,o=Math.max(n,a,i),l=Math.min(n,a,i);let c,d;const u=(l+o)/2;if(l===o)c=0,d=0;else{const h=o-l;switch(d=u<=.5?h/(o+l):h/(2-o-l),o){case n:c=(a-i)/h+(a<i?6:0);break;case a:c=(i-n)/h+2;break;case i:c=(n-a)/h+4;break}c/=6}return e.h=c,e.s=d,e.l=u,e}getRGB(e,s=zs.workingColorSpace){return zs.fromWorkingColorSpace(Ao.copy(this),s),e.r=Ao.r,e.g=Ao.g,e.b=Ao.b,e}getStyle(e=Kc){zs.fromWorkingColorSpace(Ao.copy(this),e);const s=Ao.r,n=Ao.g,a=Ao.b;return e!==Kc?`color(${e} ${s.toFixed(3)} ${n.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(s*255)},${Math.round(n*255)},${Math.round(a*255)})`}offsetHSL(e,s,n){return this.getHSL(ym),this.setHSL(ym.h+e,ym.s+s,ym.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,s){return this.r=e.r+s.r,this.g=e.g+s.g,this.b=e.b+s.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,s){return this.r+=(e.r-this.r)*s,this.g+=(e.g-this.g)*s,this.b+=(e.b-this.b)*s,this}lerpColors(e,s,n){return this.r=e.r+(s.r-e.r)*n,this.g=e.g+(s.g-e.g)*n,this.b=e.b+(s.b-e.b)*n,this}lerpHSL(e,s){this.getHSL(ym),e.getHSL(j2);const n=OC(ym.h,j2.h,s),a=OC(ym.s,j2.s,s),i=OC(ym.l,j2.l,s);return this.setHSL(n,a,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const s=this.r,n=this.g,a=this.b,i=e.elements;return this.r=i[0]*s+i[3]*n+i[6]*a,this.g=i[1]*s+i[4]*n+i[7]*a,this.b=i[2]*s+i[5]*n+i[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,s=0){return this.r=e[s],this.g=e[s+1],this.b=e[s+2],this}toArray(e=[],s=0){return e[s]=this.r,e[s+1]=this.g,e[s+2]=this.b,e}fromBufferAttribute(e,s){return this.r=e.getX(s),this.g=e.getY(s),this.b=e.getZ(s),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ao=new Gs;Gs.NAMES=$X;let Zfe=0;class nw extends xb{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Zfe++}),this.uuid=tw(),this.name="",this.type="Material",this.blending=ng,this.side=c0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=lB,this.blendDst=cB,this.blendEquation=Cp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Gs(0,0,0),this.blendAlpha=0,this.depthFunc=_g,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=pR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dA,this.stencilZFail=dA,this.stencilZPass=dA,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const s in e){const n=e[s];if(n===void 0){console.warn(`THREE.Material: parameter '${s}' has value of undefined.`);continue}const a=this[s];if(a===void 0){console.warn(`THREE.Material: '${s}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(n):a&&a.isVector3&&n&&n.isVector3?a.copy(n):this[s]=n}}toJSON(e){const s=e===void 0||typeof e=="string";s&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==ng&&(n.blending=this.blending),this.side!==c0&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==lB&&(n.blendSrc=this.blendSrc),this.blendDst!==cB&&(n.blendDst=this.blendDst),this.blendEquation!==Cp&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==_g&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==pR&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dA&&(n.stencilFail=this.stencilFail),this.stencilZFail!==dA&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==dA&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function a(i){const o=[];for(const l in i){const c=i[l];delete c.metadata,o.push(c)}return o}if(s){const i=a(e.textures),o=a(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const s=e.clippingPlanes;let n=null;if(s!==null){const a=s.length;n=new Array(a);for(let i=0;i!==a;++i)n[i]=s[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class zX extends nw{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Gs(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sh,this.combine=HP,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ga=new Ft,N2=new cn;class qu{constructor(e,s,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=s,this.count=e!==void 0?e.length/s:0,this.normalized=n,this.usage=xR,this.updateRanges=[],this.gpuType=hf,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,s){this.updateRanges.push({start:e,count:s})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,s,n){e*=this.itemSize,n*=s.itemSize;for(let a=0,i=this.itemSize;a<i;a++)this.array[e+a]=s.array[n+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let s=0,n=this.count;s<n;s++)N2.fromBufferAttribute(this,s),N2.applyMatrix3(e),this.setXY(s,N2.x,N2.y);else if(this.itemSize===3)for(let s=0,n=this.count;s<n;s++)Ga.fromBufferAttribute(this,s),Ga.applyMatrix3(e),this.setXYZ(s,Ga.x,Ga.y,Ga.z);return this}applyMatrix4(e){for(let s=0,n=this.count;s<n;s++)Ga.fromBufferAttribute(this,s),Ga.applyMatrix4(e),this.setXYZ(s,Ga.x,Ga.y,Ga.z);return this}applyNormalMatrix(e){for(let s=0,n=this.count;s<n;s++)Ga.fromBufferAttribute(this,s),Ga.applyNormalMatrix(e),this.setXYZ(s,Ga.x,Ga.y,Ga.z);return this}transformDirection(e){for(let s=0,n=this.count;s<n;s++)Ga.fromBufferAttribute(this,s),Ga.transformDirection(e),this.setXYZ(s,Ga.x,Ga.y,Ga.z);return this}set(e,s=0){return this.array.set(e,s),this}getComponent(e,s){let n=this.array[e*this.itemSize+s];return this.normalized&&(n=hy(n,this.array)),n}setComponent(e,s,n){return this.normalized&&(n=Sl(n,this.array)),this.array[e*this.itemSize+s]=n,this}getX(e){let s=this.array[e*this.itemSize];return this.normalized&&(s=hy(s,this.array)),s}setX(e,s){return this.normalized&&(s=Sl(s,this.array)),this.array[e*this.itemSize]=s,this}getY(e){let s=this.array[e*this.itemSize+1];return this.normalized&&(s=hy(s,this.array)),s}setY(e,s){return this.normalized&&(s=Sl(s,this.array)),this.array[e*this.itemSize+1]=s,this}getZ(e){let s=this.array[e*this.itemSize+2];return this.normalized&&(s=hy(s,this.array)),s}setZ(e,s){return this.normalized&&(s=Sl(s,this.array)),this.array[e*this.itemSize+2]=s,this}getW(e){let s=this.array[e*this.itemSize+3];return this.normalized&&(s=hy(s,this.array)),s}setW(e,s){return this.normalized&&(s=Sl(s,this.array)),this.array[e*this.itemSize+3]=s,this}setXY(e,s,n){return e*=this.itemSize,this.normalized&&(s=Sl(s,this.array),n=Sl(n,this.array)),this.array[e+0]=s,this.array[e+1]=n,this}setXYZ(e,s,n,a){return e*=this.itemSize,this.normalized&&(s=Sl(s,this.array),n=Sl(n,this.array),a=Sl(a,this.array)),this.array[e+0]=s,this.array[e+1]=n,this.array[e+2]=a,this}setXYZW(e,s,n,a,i){return e*=this.itemSize,this.normalized&&(s=Sl(s,this.array),n=Sl(n,this.array),a=Sl(a,this.array),i=Sl(i,this.array)),this.array[e+0]=s,this.array[e+1]=n,this.array[e+2]=a,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xR&&(e.usage=this.usage),e}}class GX extends qu{constructor(e,s,n){super(new Uint16Array(e),s,n)}}class VX extends qu{constructor(e,s,n){super(new Uint32Array(e),s,n)}}class $p extends qu{constructor(e,s,n){super(new Float32Array(e),s,n)}}let eme=0;const Dc=new _a,s_=new Io,yA=new Ft,Jl=new sw,xy=new sw,_i=new Ft;class Sx extends xb{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:eme++}),this.uuid=tw(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(OX(e)?VX:GX)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,s){return this.attributes[e]=s,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,s,n=0){this.groups.push({start:e,count:s,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,s){this.drawRange.start=e,this.drawRange.count=s}applyMatrix4(e){const s=this.attributes.position;s!==void 0&&(s.applyMatrix4(e),s.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const i=new ps().getNormalMatrix(e);n.applyNormalMatrix(i),n.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Dc.makeRotationFromQuaternion(e),this.applyMatrix4(Dc),this}rotateX(e){return Dc.makeRotationX(e),this.applyMatrix4(Dc),this}rotateY(e){return Dc.makeRotationY(e),this.applyMatrix4(Dc),this}rotateZ(e){return Dc.makeRotationZ(e),this.applyMatrix4(Dc),this}translate(e,s,n){return Dc.makeTranslation(e,s,n),this.applyMatrix4(Dc),this}scale(e,s,n){return Dc.makeScale(e,s,n),this.applyMatrix4(Dc),this}lookAt(e){return s_.lookAt(e),s_.updateMatrix(),this.applyMatrix4(s_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yA).negate(),this.translate(yA.x,yA.y,yA.z),this}setFromPoints(e){const s=this.getAttribute("position");if(s===void 0){const n=[];for(let a=0,i=e.length;a<i;a++){const o=e[a];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new $p(n,3))}else{const n=Math.min(e.length,s.count);for(let a=0;a<n;a++){const i=e[a];s.setXYZ(a,i.x,i.y,i.z||0)}e.length>s.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),s.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new sw);const e=this.attributes.position,s=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Ft(-1/0,-1/0,-1/0),new Ft(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),s)for(let n=0,a=s.length;n<a;n++){const i=s[n];Jl.setFromBufferAttribute(i),this.morphTargetsRelative?(_i.addVectors(this.boundingBox.min,Jl.min),this.boundingBox.expandByPoint(_i),_i.addVectors(this.boundingBox.max,Jl.max),this.boundingBox.expandByPoint(_i)):(this.boundingBox.expandByPoint(Jl.min),this.boundingBox.expandByPoint(Jl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qP);const e=this.attributes.position,s=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Ft,1/0);return}if(e){const n=this.boundingSphere.center;if(Jl.setFromBufferAttribute(e),s)for(let i=0,o=s.length;i<o;i++){const l=s[i];xy.setFromBufferAttribute(l),this.morphTargetsRelative?(_i.addVectors(Jl.min,xy.min),Jl.expandByPoint(_i),_i.addVectors(Jl.max,xy.max),Jl.expandByPoint(_i)):(Jl.expandByPoint(xy.min),Jl.expandByPoint(xy.max))}Jl.getCenter(n);let a=0;for(let i=0,o=e.count;i<o;i++)_i.fromBufferAttribute(e,i),a=Math.max(a,n.distanceToSquared(_i));if(s)for(let i=0,o=s.length;i<o;i++){const l=s[i],c=this.morphTargetsRelative;for(let d=0,u=l.count;d<u;d++)_i.fromBufferAttribute(l,d),c&&(yA.fromBufferAttribute(e,d),_i.add(yA)),a=Math.max(a,n.distanceToSquared(_i))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,s=this.attributes;if(e===null||s.position===void 0||s.normal===void 0||s.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=s.position,a=s.normal,i=s.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qu(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),l=[],c=[];for(let I=0;I<n.count;I++)l[I]=new Ft,c[I]=new Ft;const d=new Ft,u=new Ft,h=new Ft,m=new cn,f=new cn,x=new cn,A=new Ft,g=new Ft;function b(I,_,M){d.fromBufferAttribute(n,I),u.fromBufferAttribute(n,_),h.fromBufferAttribute(n,M),m.fromBufferAttribute(i,I),f.fromBufferAttribute(i,_),x.fromBufferAttribute(i,M),u.sub(d),h.sub(d),f.sub(m),x.sub(m);const C=1/(f.x*x.y-x.x*f.y);isFinite(C)&&(A.copy(u).multiplyScalar(x.y).addScaledVector(h,-f.y).multiplyScalar(C),g.copy(h).multiplyScalar(f.x).addScaledVector(u,-x.x).multiplyScalar(C),l[I].add(A),l[_].add(A),l[M].add(A),c[I].add(g),c[_].add(g),c[M].add(g))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let I=0,_=w.length;I<_;++I){const M=w[I],C=M.start,B=M.count;for(let P=C,H=C+B;P<H;P+=3)b(e.getX(P+0),e.getX(P+1),e.getX(P+2))}const v=new Ft,j=new Ft,N=new Ft,S=new Ft;function T(I){N.fromBufferAttribute(a,I),S.copy(N);const _=l[I];v.copy(_),v.sub(N.multiplyScalar(N.dot(_))).normalize(),j.crossVectors(S,_);const C=j.dot(c[I])<0?-1:1;o.setXYZW(I,v.x,v.y,v.z,C)}for(let I=0,_=w.length;I<_;++I){const M=w[I],C=M.start,B=M.count;for(let P=C,H=C+B;P<H;P+=3)T(e.getX(P+0)),T(e.getX(P+1)),T(e.getX(P+2))}}computeVertexNormals(){const e=this.index,s=this.getAttribute("position");if(s!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new qu(new Float32Array(s.count*3),3),this.setAttribute("normal",n);else for(let m=0,f=n.count;m<f;m++)n.setXYZ(m,0,0,0);const a=new Ft,i=new Ft,o=new Ft,l=new Ft,c=new Ft,d=new Ft,u=new Ft,h=new Ft;if(e)for(let m=0,f=e.count;m<f;m+=3){const x=e.getX(m+0),A=e.getX(m+1),g=e.getX(m+2);a.fromBufferAttribute(s,x),i.fromBufferAttribute(s,A),o.fromBufferAttribute(s,g),u.subVectors(o,i),h.subVectors(a,i),u.cross(h),l.fromBufferAttribute(n,x),c.fromBufferAttribute(n,A),d.fromBufferAttribute(n,g),l.add(u),c.add(u),d.add(u),n.setXYZ(x,l.x,l.y,l.z),n.setXYZ(A,c.x,c.y,c.z),n.setXYZ(g,d.x,d.y,d.z)}else for(let m=0,f=s.count;m<f;m+=3)a.fromBufferAttribute(s,m+0),i.fromBufferAttribute(s,m+1),o.fromBufferAttribute(s,m+2),u.subVectors(o,i),h.subVectors(a,i),u.cross(h),n.setXYZ(m+0,u.x,u.y,u.z),n.setXYZ(m+1,u.x,u.y,u.z),n.setXYZ(m+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let s=0,n=e.count;s<n;s++)_i.fromBufferAttribute(e,s),_i.normalize(),e.setXYZ(s,_i.x,_i.y,_i.z)}toNonIndexed(){function e(l,c){const d=l.array,u=l.itemSize,h=l.normalized,m=new d.constructor(c.length*u);let f=0,x=0;for(let A=0,g=c.length;A<g;A++){l.isInterleavedBufferAttribute?f=c[A]*l.data.stride+l.offset:f=c[A]*u;for(let b=0;b<u;b++)m[x++]=d[f++]}return new qu(m,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const s=new Sx,n=this.index.array,a=this.attributes;for(const l in a){const c=a[l],d=e(c,n);s.setAttribute(l,d)}const i=this.morphAttributes;for(const l in i){const c=[],d=i[l];for(let u=0,h=d.length;u<h;u++){const m=d[u],f=e(m,n);c.push(f)}s.morphAttributes[l]=c}s.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const d=o[l];s.addGroup(d.start,d.count,d.materialIndex)}return s}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const s=this.index;s!==null&&(e.data.index={type:s.array.constructor.name,array:Array.prototype.slice.call(s.array)});const n=this.attributes;for(const c in n){const d=n[c];e.data.attributes[c]=d.toJSON(e.data)}const a={};let i=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],u=[];for(let h=0,m=d.length;h<m;h++){const f=d[h];u.push(f.toJSON(e.data))}u.length>0&&(a[c]=u,i=!0)}i&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const s={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(s));const a=e.attributes;for(const d in a){const u=a[d];this.setAttribute(d,u.clone(s))}const i=e.morphAttributes;for(const d in i){const u=[],h=i[d];for(let m=0,f=h.length;m<f;m++)u.push(h[m].clone(s));this.morphAttributes[d]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,u=o.length;d<u;d++){const h=o[d];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const TR=new _a,ap=new Vfe,S2=new qP,BR=new Ft,C2=new Ft,_2=new Ft,E2=new Ft,n_=new Ft,k2=new Ft,MR=new Ft,T2=new Ft;class Qd extends Io{constructor(e=new Sx,s=new zX){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=s,this.updateMorphTargets()}copy(e,s){return super.copy(e,s),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const s=this.geometry.morphAttributes,n=Object.keys(s);if(n.length>0){const a=s[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){const l=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,s){const n=this.geometry,a=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;s.fromBufferAttribute(a,e);const l=this.morphTargetInfluences;if(i&&l){k2.set(0,0,0);for(let c=0,d=i.length;c<d;c++){const u=l[c],h=i[c];u!==0&&(n_.fromBufferAttribute(h,e),o?k2.addScaledVector(n_,u):k2.addScaledVector(n_.sub(s),u))}s.add(k2)}return s}raycast(e,s){const n=this.geometry,a=this.material,i=this.matrixWorld;a!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),S2.copy(n.boundingSphere),S2.applyMatrix4(i),ap.copy(e.ray).recast(e.near),!(S2.containsPoint(ap.origin)===!1&&(ap.intersectSphere(S2,BR)===null||ap.origin.distanceToSquared(BR)>(e.far-e.near)**2))&&(TR.copy(i).invert(),ap.copy(e.ray).applyMatrix4(TR),!(n.boundingBox!==null&&ap.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,s,ap)))}_computeIntersections(e,s,n){let a;const i=this.geometry,o=this.material,l=i.index,c=i.attributes.position,d=i.attributes.uv,u=i.attributes.uv1,h=i.attributes.normal,m=i.groups,f=i.drawRange;if(l!==null)if(Array.isArray(o))for(let x=0,A=m.length;x<A;x++){const g=m[x],b=o[g.materialIndex],w=Math.max(g.start,f.start),v=Math.min(l.count,Math.min(g.start+g.count,f.start+f.count));for(let j=w,N=v;j<N;j+=3){const S=l.getX(j),T=l.getX(j+1),I=l.getX(j+2);a=B2(this,b,e,n,d,u,h,S,T,I),a&&(a.faceIndex=Math.floor(j/3),a.face.materialIndex=g.materialIndex,s.push(a))}}else{const x=Math.max(0,f.start),A=Math.min(l.count,f.start+f.count);for(let g=x,b=A;g<b;g+=3){const w=l.getX(g),v=l.getX(g+1),j=l.getX(g+2);a=B2(this,o,e,n,d,u,h,w,v,j),a&&(a.faceIndex=Math.floor(g/3),s.push(a))}}else if(c!==void 0)if(Array.isArray(o))for(let x=0,A=m.length;x<A;x++){const g=m[x],b=o[g.materialIndex],w=Math.max(g.start,f.start),v=Math.min(c.count,Math.min(g.start+g.count,f.start+f.count));for(let j=w,N=v;j<N;j+=3){const S=j,T=j+1,I=j+2;a=B2(this,b,e,n,d,u,h,S,T,I),a&&(a.faceIndex=Math.floor(j/3),a.face.materialIndex=g.materialIndex,s.push(a))}}else{const x=Math.max(0,f.start),A=Math.min(c.count,f.start+f.count);for(let g=x,b=A;g<b;g+=3){const w=g,v=g+1,j=g+2;a=B2(this,o,e,n,d,u,h,w,v,j),a&&(a.faceIndex=Math.floor(g/3),s.push(a))}}}}function tme(t,e,s,n,a,i,o,l){let c;if(e.side===Pl?c=n.intersectTriangle(o,i,a,!0,l):c=n.intersectTriangle(a,i,o,e.side===c0,l),c===null)return null;T2.copy(l),T2.applyMatrix4(t.matrixWorld);const d=s.ray.origin.distanceTo(T2);return d<s.near||d>s.far?null:{distance:d,point:T2.clone(),object:t}}function B2(t,e,s,n,a,i,o,l,c,d){t.getVertexPosition(l,C2),t.getVertexPosition(c,_2),t.getVertexPosition(d,E2);const u=tme(t,e,s,n,C2,_2,E2,MR);if(u){const h=new Ft;Rd.getBarycoord(MR,C2,_2,E2,h),a&&(u.uv=Rd.getInterpolatedAttribute(a,l,c,d,h,new cn)),i&&(u.uv1=Rd.getInterpolatedAttribute(i,l,c,d,h,new cn)),o&&(u.normal=Rd.getInterpolatedAttribute(o,l,c,d,h,new Ft),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const m={a:l,b:c,c:d,normal:new Ft,materialIndex:0};Rd.getNormal(C2,_2,E2,m.normal),u.face=m,u.barycoord=h}return u}class Ab extends Sx{constructor(e=1,s=1,n=1,a=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:s,depth:n,widthSegments:a,heightSegments:i,depthSegments:o};const l=this;a=Math.floor(a),i=Math.floor(i),o=Math.floor(o);const c=[],d=[],u=[],h=[];let m=0,f=0;x("z","y","x",-1,-1,n,s,e,o,i,0),x("z","y","x",1,-1,n,s,-e,o,i,1),x("x","z","y",1,1,e,n,s,a,o,2),x("x","z","y",1,-1,e,n,-s,a,o,3),x("x","y","z",1,-1,e,s,n,a,i,4),x("x","y","z",-1,-1,e,s,-n,a,i,5),this.setIndex(c),this.setAttribute("position",new $p(d,3)),this.setAttribute("normal",new $p(u,3)),this.setAttribute("uv",new $p(h,2));function x(A,g,b,w,v,j,N,S,T,I,_){const M=j/T,C=N/I,B=j/2,P=N/2,H=S/2,D=T+1,G=I+1;let O=0,Q=0;const ee=new Ft;for(let q=0;q<G;q++){const Z=q*C-P;for(let F=0;F<D;F++){const z=F*M-B;ee[A]=z*w,ee[g]=Z*v,ee[b]=H,d.push(ee.x,ee.y,ee.z),ee[A]=0,ee[g]=0,ee[b]=S>0?1:-1,u.push(ee.x,ee.y,ee.z),h.push(F/T),h.push(1-q/I),O+=1}}for(let q=0;q<I;q++)for(let Z=0;Z<T;Z++){const F=m+Z+D*q,z=m+Z+D*(q+1),V=m+(Z+1)+D*(q+1),W=m+(Z+1)+D*q;c.push(F,z,W),c.push(z,V,W),Q+=6}l.addGroup(f,Q,_),f+=Q,m+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ab(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Fg(t){const e={};for(const s in t){e[s]={};for(const n in t[s]){const a=t[s][n];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[s][n]=null):e[s][n]=a.clone():Array.isArray(a)?e[s][n]=a.slice():e[s][n]=a}}return e}function Yo(t){const e={};for(let s=0;s<t.length;s++){const n=Fg(t[s]);for(const a in n)e[a]=n[a]}return e}function rme(t){const e=[];for(let s=0;s<t.length;s++)e.push(t[s].clone());return e}function WX(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:zs.workingColorSpace}const sme={clone:Fg,merge:Yo};var nme=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ame=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class d0 extends nw{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=nme,this.fragmentShader=ame,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fg(e.uniforms),this.uniformsGroups=rme(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const s=super.toJSON(e);s.glslVersion=this.glslVersion,s.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?s.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?s.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?s.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?s.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?s.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?s.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?s.uniforms[a]={type:"m4",value:o.toArray()}:s.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(s.defines=this.defines),s.vertexShader=this.vertexShader,s.fragmentShader=this.fragmentShader,s.lights=this.lights,s.clipping=this.clipping;const n={};for(const a in this.extensions)this.extensions[a]===!0&&(n[a]=!0);return Object.keys(n).length>0&&(s.extensions=n),s}}class qX extends Io{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _a,this.projectionMatrix=new _a,this.projectionMatrixInverse=new _a,this.coordinateSystem=ff}copy(e,s){return super.copy(e,s),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,s){super.updateWorldMatrix(e,s),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const vm=new Ft,FR=new cn,PR=new cn;class Xc extends qX{constructor(e=50,s=1,n=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=a,this.focus=10,this.aspect=s,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,s){return super.copy(e,s),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const s=.5*this.getFilmHeight()/e;this.fov=WB*2*Math.atan(s),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(RC*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return WB*2*Math.atan(Math.tan(RC*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,s,n){vm.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(vm.x,vm.y).multiplyScalar(-e/vm.z),vm.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(vm.x,vm.y).multiplyScalar(-e/vm.z)}getViewSize(e,s){return this.getViewBounds(e,FR,PR),s.subVectors(PR,FR)}setViewOffset(e,s,n,a,i,o){this.aspect=e/s,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=s,this.view.offsetX=n,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let s=e*Math.tan(RC*.5*this.fov)/this.zoom,n=2*s,a=this.aspect*n,i=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,d=o.fullHeight;i+=o.offsetX*a/c,s-=o.offsetY*n/d,a*=o.width/c,n*=o.height/d}const l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+a,s,s-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const s=super.toJSON(e);return s.object.fov=this.fov,s.object.zoom=this.zoom,s.object.near=this.near,s.object.far=this.far,s.object.focus=this.focus,s.object.aspect=this.aspect,this.view!==null&&(s.object.view=Object.assign({},this.view)),s.object.filmGauge=this.filmGauge,s.object.filmOffset=this.filmOffset,s}}const vA=-90,wA=1;class ime extends Io{constructor(e,s,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Xc(vA,wA,e,s);a.layers=this.layers,this.add(a);const i=new Xc(vA,wA,e,s);i.layers=this.layers,this.add(i);const o=new Xc(vA,wA,e,s);o.layers=this.layers,this.add(o);const l=new Xc(vA,wA,e,s);l.layers=this.layers,this.add(l);const c=new Xc(vA,wA,e,s);c.layers=this.layers,this.add(c);const d=new Xc(vA,wA,e,s);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,s=this.children.concat(),[n,a,i,o,l,c]=s;for(const d of s)this.remove(d);if(e===ff)n.up.set(0,1,0),n.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===BN)n.up.set(0,-1,0),n.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of s)this.add(d),d.updateMatrixWorld()}update(e,s){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,l,c,d,u]=this.children,h=e.getRenderTarget(),m=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const A=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,a),e.render(s,i),e.setRenderTarget(n,1,a),e.render(s,o),e.setRenderTarget(n,2,a),e.render(s,l),e.setRenderTarget(n,3,a),e.render(s,c),e.setRenderTarget(n,4,a),e.render(s,d),n.texture.generateMipmaps=A,e.setRenderTarget(n,5,a),e.render(s,u),e.setRenderTarget(h,m,f),e.xr.enabled=x,n.texture.needsPMREMUpdate=!0}}class KX extends Il{constructor(e,s,n,a,i,o,l,c,d,u){e=e!==void 0?e:[],s=s!==void 0?s:Eg,super(e,s,n,a,i,o,l,c,d,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ome extends lx{constructor(e=1,s={}){super(e,e,s),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},a=[n,n,n,n,n,n];this.texture=new KX(a,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:Hu}fromEquirectangularTexture(e,s){this.texture.type=s.type,this.texture.colorSpace=s.colorSpace,this.texture.generateMipmaps=s.generateMipmaps,this.texture.minFilter=s.minFilter,this.texture.magFilter=s.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Ab(5,5,5),i=new d0({name:"CubemapFromEquirect",uniforms:Fg(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Pl,blending:e0});i.uniforms.tEquirect.value=s;const o=new Qd(a,i),l=s.minFilter;return s.minFilter===Mp&&(s.minFilter=Hu),new ime(1,10,this).update(e,o),s.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,s,n,a){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(s,n,a);e.setRenderTarget(i)}}class lme extends Io{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new sh,this.environmentIntensity=1,this.environmentRotation=new sh,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,s){return super.copy(e,s),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const s=super.toJSON(e);return this.fog!==null&&(s.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(s.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(s.object.backgroundIntensity=this.backgroundIntensity),s.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(s.object.environmentIntensity=this.environmentIntensity),s.object.environmentRotation=this.environmentRotation.toArray(),s}}const a_=new Ft,cme=new Ft,dme=new ps;class yp{constructor(e=new Ft(1,0,0),s=0){this.isPlane=!0,this.normal=e,this.constant=s}set(e,s){return this.normal.copy(e),this.constant=s,this}setComponents(e,s,n,a){return this.normal.set(e,s,n),this.constant=a,this}setFromNormalAndCoplanarPoint(e,s){return this.normal.copy(e),this.constant=-s.dot(this.normal),this}setFromCoplanarPoints(e,s,n){const a=a_.subVectors(n,s).cross(cme.subVectors(e,s)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,s){return s.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,s){const n=e.delta(a_),a=this.normal.dot(n);if(a===0)return this.distanceToPoint(e.start)===0?s.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/a;return i<0||i>1?null:s.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const s=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return s<0&&n>0||n<0&&s>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,s){const n=s||dme.getNormalMatrix(e),a=this.coplanarPoint(a_).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ip=new qP,M2=new Ft;class KP{constructor(e=new yp,s=new yp,n=new yp,a=new yp,i=new yp,o=new yp){this.planes=[e,s,n,a,i,o]}set(e,s,n,a,i,o){const l=this.planes;return l[0].copy(e),l[1].copy(s),l[2].copy(n),l[3].copy(a),l[4].copy(i),l[5].copy(o),this}copy(e){const s=this.planes;for(let n=0;n<6;n++)s[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,s=ff){const n=this.planes,a=e.elements,i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],h=a[6],m=a[7],f=a[8],x=a[9],A=a[10],g=a[11],b=a[12],w=a[13],v=a[14],j=a[15];if(n[0].setComponents(c-i,m-d,g-f,j-b).normalize(),n[1].setComponents(c+i,m+d,g+f,j+b).normalize(),n[2].setComponents(c+o,m+u,g+x,j+w).normalize(),n[3].setComponents(c-o,m-u,g-x,j-w).normalize(),n[4].setComponents(c-l,m-h,g-A,j-v).normalize(),s===ff)n[5].setComponents(c+l,m+h,g+A,j+v).normalize();else if(s===BN)n[5].setComponents(l,h,A,v).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+s);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ip.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const s=e.geometry;s.boundingSphere===null&&s.computeBoundingSphere(),ip.copy(s.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ip)}intersectsSprite(e){return ip.center.set(0,0,0),ip.radius=.7071067811865476,ip.applyMatrix4(e.matrixWorld),this.intersectsSphere(ip)}intersectsSphere(e){const s=this.planes,n=e.center,a=-e.radius;for(let i=0;i<6;i++)if(s[i].distanceToPoint(n)<a)return!1;return!0}intersectsBox(e){const s=this.planes;for(let n=0;n<6;n++){const a=s[n];if(M2.x=a.normal.x>0?e.max.x:e.min.x,M2.y=a.normal.y>0?e.max.y:e.min.y,M2.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(M2)<0)return!1}return!0}containsPoint(e){const s=this.planes;for(let n=0;n<6;n++)if(s[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class F2 extends Io{constructor(){super(),this.isGroup=!0,this.type="Group"}}class XX extends Il{constructor(e,s,n,a,i,o,l,c,d,u=ag){if(u!==ag&&u!==Bg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===ag&&(n=ox),n===void 0&&u===Bg&&(n=Tg),super(null,a,i,o,l,c,u,n,d),this.isDepthTexture=!0,this.image={width:e,height:s},this.magFilter=l!==void 0?l:Wd,this.minFilter=c!==void 0?c:Wd,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const s=super.toJSON(e);return this.compareFunction!==null&&(s.compareFunction=this.compareFunction),s}}class aw extends Sx{constructor(e=1,s=1,n=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:s,widthSegments:n,heightSegments:a};const i=e/2,o=s/2,l=Math.floor(n),c=Math.floor(a),d=l+1,u=c+1,h=e/l,m=s/c,f=[],x=[],A=[],g=[];for(let b=0;b<u;b++){const w=b*m-o;for(let v=0;v<d;v++){const j=v*h-i;x.push(j,-w,0),A.push(0,0,1),g.push(v/l),g.push(1-b/c)}}for(let b=0;b<c;b++)for(let w=0;w<l;w++){const v=w+d*b,j=w+d*(b+1),N=w+1+d*(b+1),S=w+1+d*b;f.push(v,j,S),f.push(j,N,S)}this.setIndex(f),this.setAttribute("position",new $p(x,3)),this.setAttribute("normal",new $p(A,3)),this.setAttribute("uv",new $p(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aw(e.width,e.height,e.widthSegments,e.heightSegments)}}class IR extends nw{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Gs(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=DX,this.normalScale=new cn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sh,this.combine=HP,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ume extends nw{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nfe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class hme extends nw{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class YX extends Io{constructor(e,s=1){super(),this.isLight=!0,this.type="Light",this.color=new Gs(e),this.intensity=s}dispose(){}copy(e,s){return super.copy(e,s),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const s=super.toJSON(e);return s.object.color=this.color.getHex(),s.object.intensity=this.intensity,this.groundColor!==void 0&&(s.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(s.object.distance=this.distance),this.angle!==void 0&&(s.object.angle=this.angle),this.decay!==void 0&&(s.object.decay=this.decay),this.penumbra!==void 0&&(s.object.penumbra=this.penumbra),this.shadow!==void 0&&(s.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(s.object.target=this.target.uuid),s}}const i_=new _a,LR=new Ft,DR=new Ft;class fme{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new cn(512,512),this.map=null,this.mapPass=null,this.matrix=new _a,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new KP,this._frameExtents=new cn(1,1),this._viewportCount=1,this._viewports=[new Ca(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const s=this.camera,n=this.matrix;LR.setFromMatrixPosition(e.matrixWorld),s.position.copy(LR),DR.setFromMatrixPosition(e.target.matrixWorld),s.lookAt(DR),s.updateMatrixWorld(),i_.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i_),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(i_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class JX extends qX{constructor(e=-1,s=1,n=1,a=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=s,this.top=n,this.bottom=a,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,s){return super.copy(e,s),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,s,n,a,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=s,this.view.offsetX=n,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let i=n-e,o=n+e,l=a+s,c=a-s;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=d*this.view.offsetX,o=i+d*this.view.width,l-=u*this.view.offsetY,c=l-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const s=super.toJSON(e);return s.object.zoom=this.zoom,s.object.left=this.left,s.object.right=this.right,s.object.top=this.top,s.object.bottom=this.bottom,s.object.near=this.near,s.object.far=this.far,this.view!==null&&(s.object.view=Object.assign({},this.view)),s}}class mme extends fme{constructor(){super(new JX(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class pme extends YX{constructor(e,s){super(e,s),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Io.DEFAULT_UP),this.updateMatrix(),this.target=new Io,this.shadow=new mme}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class xme extends YX{constructor(e,s){super(e,s),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ame extends Xc{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}function RR(t,e,s,n){const a=gme(n);switch(s){case TX:return t*e;case MX:return t*e;case FX:return t*e*2;case PX:return t*e/a.components*a.byteLength;case GP:return t*e/a.components*a.byteLength;case IX:return t*e*2/a.components*a.byteLength;case VP:return t*e*2/a.components*a.byteLength;case BX:return t*e*3/a.components*a.byteLength;case Hd:return t*e*4/a.components*a.byteLength;case WP:return t*e*4/a.components*a.byteLength;case dN:case uN:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case hN:case fN:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case wB:case NB:return Math.max(t,16)*Math.max(e,8)/4;case vB:case jB:return Math.max(t,8)*Math.max(e,8)/2;case SB:case CB:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case _B:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case EB:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case kB:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case TB:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case BB:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case MB:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case FB:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case PB:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case IB:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case LB:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case DB:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case RB:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case OB:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case UB:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case HB:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case mN:case QB:case $B:return Math.ceil(t/4)*Math.ceil(e/4)*16;case LX:case zB:return Math.ceil(t/4)*Math.ceil(e/4)*8;case GB:case VB:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${s} format.`)}function gme(t){switch(t){case Bf:case _X:return{byteLength:1,components:1};case Gv:case EX:case ew:return{byteLength:2,components:1};case $P:case zP:return{byteLength:2,components:4};case ox:case QP:case hf:return{byteLength:4,components:1};case kX:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:UP}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=UP);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function ZX(){let t=null,e=!1,s=null,n=null;function a(i,o){s(i,o),n=t.requestAnimationFrame(a)}return{start:function(){e!==!0&&s!==null&&(n=t.requestAnimationFrame(a),e=!0)},stop:function(){t.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(i){s=i},setContext:function(i){t=i}}}function bme(t){const e=new WeakMap;function s(l,c){const d=l.array,u=l.usage,h=d.byteLength,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,d,u),l.onUploadCallback();let f;if(d instanceof Float32Array)f=t.FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?f=t.HALF_FLOAT:f=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)f=t.SHORT;else if(d instanceof Uint32Array)f=t.UNSIGNED_INT;else if(d instanceof Int32Array)f=t.INT;else if(d instanceof Int8Array)f=t.BYTE;else if(d instanceof Uint8Array)f=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)f=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:f,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:h}}function n(l,c,d){const u=c.array,h=c.updateRanges;if(t.bindBuffer(d,l),h.length===0)t.bufferSubData(d,0,u);else{h.sort((f,x)=>f.start-x.start);let m=0;for(let f=1;f<h.length;f++){const x=h[m],A=h[f];A.start<=x.start+x.count+1?x.count=Math.max(x.count,A.start+A.count-x.start):(++m,h[m]=A)}h.length=m+1;for(let f=0,x=h.length;f<x;f++){const A=h[f];t.bufferSubData(d,A.start*u.BYTES_PER_ELEMENT,u,A.start,A.count)}c.clearUpdateRanges()}c.onUploadCallback()}function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function i(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function o(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const u=e.get(l);(!u||u.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=e.get(l);if(d===void 0)e.set(l,s(l,c));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(d.buffer,l,c),d.version=l.version}}return{get:a,remove:i,update:o}}var yme=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,vme=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,wme=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,jme=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Nme=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Sme=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Cme=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,_me=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Eme=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,kme=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Tme=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Bme=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Mme=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Fme=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Pme=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Ime=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Lme=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Dme=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Rme=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Ome=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Ume=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Hme=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Qme=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,$me=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,zme=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Gme=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Vme=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Wme=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,qme=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Kme=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Xme="gl_FragColor = linearToOutputTexel( gl_FragColor );",Yme=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Jme=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Zme=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,e0e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,t0e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,r0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,s0e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,n0e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,a0e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,i0e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,o0e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,l0e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,c0e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,d0e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,u0e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,h0e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,f0e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,m0e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,p0e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,x0e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,A0e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,g0e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,b0e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,y0e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,v0e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,w0e=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,j0e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,N0e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,S0e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,C0e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,_0e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,E0e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,k0e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,T0e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,B0e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,M0e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,F0e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,P0e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,I0e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,L0e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,D0e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,R0e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,O0e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,U0e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,H0e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Q0e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$0e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,z0e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,G0e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,V0e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,W0e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,q0e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,K0e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,X0e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Y0e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,J0e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Z0e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,epe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,tpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,rpe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,spe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,npe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ape=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ipe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,ope=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lpe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cpe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,dpe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,upe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,hpe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fpe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,mpe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ppe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xpe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ape=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,gpe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bpe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ype=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wpe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Npe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Spe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Cpe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,_pe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Epe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,kpe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Tpe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bpe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Mpe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fpe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Ppe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ipe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lpe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dpe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Rpe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ope=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Upe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Hpe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qpe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$pe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,zpe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gpe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vpe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wpe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kpe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xpe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ype=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jpe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,As={alphahash_fragment:yme,alphahash_pars_fragment:vme,alphamap_fragment:wme,alphamap_pars_fragment:jme,alphatest_fragment:Nme,alphatest_pars_fragment:Sme,aomap_fragment:Cme,aomap_pars_fragment:_me,batching_pars_vertex:Eme,batching_vertex:kme,begin_vertex:Tme,beginnormal_vertex:Bme,bsdfs:Mme,iridescence_fragment:Fme,bumpmap_pars_fragment:Pme,clipping_planes_fragment:Ime,clipping_planes_pars_fragment:Lme,clipping_planes_pars_vertex:Dme,clipping_planes_vertex:Rme,color_fragment:Ome,color_pars_fragment:Ume,color_pars_vertex:Hme,color_vertex:Qme,common:$me,cube_uv_reflection_fragment:zme,defaultnormal_vertex:Gme,displacementmap_pars_vertex:Vme,displacementmap_vertex:Wme,emissivemap_fragment:qme,emissivemap_pars_fragment:Kme,colorspace_fragment:Xme,colorspace_pars_fragment:Yme,envmap_fragment:Jme,envmap_common_pars_fragment:Zme,envmap_pars_fragment:e0e,envmap_pars_vertex:t0e,envmap_physical_pars_fragment:h0e,envmap_vertex:r0e,fog_vertex:s0e,fog_pars_vertex:n0e,fog_fragment:a0e,fog_pars_fragment:i0e,gradientmap_pars_fragment:o0e,lightmap_pars_fragment:l0e,lights_lambert_fragment:c0e,lights_lambert_pars_fragment:d0e,lights_pars_begin:u0e,lights_toon_fragment:f0e,lights_toon_pars_fragment:m0e,lights_phong_fragment:p0e,lights_phong_pars_fragment:x0e,lights_physical_fragment:A0e,lights_physical_pars_fragment:g0e,lights_fragment_begin:b0e,lights_fragment_maps:y0e,lights_fragment_end:v0e,logdepthbuf_fragment:w0e,logdepthbuf_pars_fragment:j0e,logdepthbuf_pars_vertex:N0e,logdepthbuf_vertex:S0e,map_fragment:C0e,map_pars_fragment:_0e,map_particle_fragment:E0e,map_particle_pars_fragment:k0e,metalnessmap_fragment:T0e,metalnessmap_pars_fragment:B0e,morphinstance_vertex:M0e,morphcolor_vertex:F0e,morphnormal_vertex:P0e,morphtarget_pars_vertex:I0e,morphtarget_vertex:L0e,normal_fragment_begin:D0e,normal_fragment_maps:R0e,normal_pars_fragment:O0e,normal_pars_vertex:U0e,normal_vertex:H0e,normalmap_pars_fragment:Q0e,clearcoat_normal_fragment_begin:$0e,clearcoat_normal_fragment_maps:z0e,clearcoat_pars_fragment:G0e,iridescence_pars_fragment:V0e,opaque_fragment:W0e,packing:q0e,premultiplied_alpha_fragment:K0e,project_vertex:X0e,dithering_fragment:Y0e,dithering_pars_fragment:J0e,roughnessmap_fragment:Z0e,roughnessmap_pars_fragment:epe,shadowmap_pars_fragment:tpe,shadowmap_pars_vertex:rpe,shadowmap_vertex:spe,shadowmask_pars_fragment:npe,skinbase_vertex:ape,skinning_pars_vertex:ipe,skinning_vertex:ope,skinnormal_vertex:lpe,specularmap_fragment:cpe,specularmap_pars_fragment:dpe,tonemapping_fragment:upe,tonemapping_pars_fragment:hpe,transmission_fragment:fpe,transmission_pars_fragment:mpe,uv_pars_fragment:ppe,uv_pars_vertex:xpe,uv_vertex:Ape,worldpos_vertex:gpe,background_vert:bpe,background_frag:ype,backgroundCube_vert:vpe,backgroundCube_frag:wpe,cube_vert:jpe,cube_frag:Npe,depth_vert:Spe,depth_frag:Cpe,distanceRGBA_vert:_pe,distanceRGBA_frag:Epe,equirect_vert:kpe,equirect_frag:Tpe,linedashed_vert:Bpe,linedashed_frag:Mpe,meshbasic_vert:Fpe,meshbasic_frag:Ppe,meshlambert_vert:Ipe,meshlambert_frag:Lpe,meshmatcap_vert:Dpe,meshmatcap_frag:Rpe,meshnormal_vert:Ope,meshnormal_frag:Upe,meshphong_vert:Hpe,meshphong_frag:Qpe,meshphysical_vert:$pe,meshphysical_frag:zpe,meshtoon_vert:Gpe,meshtoon_frag:Vpe,points_vert:Wpe,points_frag:qpe,shadow_vert:Kpe,shadow_frag:Xpe,sprite_vert:Ype,sprite_frag:Jpe},xr={common:{diffuse:{value:new Gs(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ps},alphaMap:{value:null},alphaMapTransform:{value:new ps},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ps}},envmap:{envMap:{value:null},envMapRotation:{value:new ps},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ps}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ps}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ps},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ps},normalScale:{value:new cn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ps},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ps}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ps}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ps}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Gs(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Gs(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ps},alphaTest:{value:0},uvTransform:{value:new ps}},sprite:{diffuse:{value:new Gs(16777215)},opacity:{value:1},center:{value:new cn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ps},alphaMap:{value:null},alphaMapTransform:{value:new ps},alphaTest:{value:0}}},Lu={basic:{uniforms:Yo([xr.common,xr.specularmap,xr.envmap,xr.aomap,xr.lightmap,xr.fog]),vertexShader:As.meshbasic_vert,fragmentShader:As.meshbasic_frag},lambert:{uniforms:Yo([xr.common,xr.specularmap,xr.envmap,xr.aomap,xr.lightmap,xr.emissivemap,xr.bumpmap,xr.normalmap,xr.displacementmap,xr.fog,xr.lights,{emissive:{value:new Gs(0)}}]),vertexShader:As.meshlambert_vert,fragmentShader:As.meshlambert_frag},phong:{uniforms:Yo([xr.common,xr.specularmap,xr.envmap,xr.aomap,xr.lightmap,xr.emissivemap,xr.bumpmap,xr.normalmap,xr.displacementmap,xr.fog,xr.lights,{emissive:{value:new Gs(0)},specular:{value:new Gs(1118481)},shininess:{value:30}}]),vertexShader:As.meshphong_vert,fragmentShader:As.meshphong_frag},standard:{uniforms:Yo([xr.common,xr.envmap,xr.aomap,xr.lightmap,xr.emissivemap,xr.bumpmap,xr.normalmap,xr.displacementmap,xr.roughnessmap,xr.metalnessmap,xr.fog,xr.lights,{emissive:{value:new Gs(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:As.meshphysical_vert,fragmentShader:As.meshphysical_frag},toon:{uniforms:Yo([xr.common,xr.aomap,xr.lightmap,xr.emissivemap,xr.bumpmap,xr.normalmap,xr.displacementmap,xr.gradientmap,xr.fog,xr.lights,{emissive:{value:new Gs(0)}}]),vertexShader:As.meshtoon_vert,fragmentShader:As.meshtoon_frag},matcap:{uniforms:Yo([xr.common,xr.bumpmap,xr.normalmap,xr.displacementmap,xr.fog,{matcap:{value:null}}]),vertexShader:As.meshmatcap_vert,fragmentShader:As.meshmatcap_frag},points:{uniforms:Yo([xr.points,xr.fog]),vertexShader:As.points_vert,fragmentShader:As.points_frag},dashed:{uniforms:Yo([xr.common,xr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:As.linedashed_vert,fragmentShader:As.linedashed_frag},depth:{uniforms:Yo([xr.common,xr.displacementmap]),vertexShader:As.depth_vert,fragmentShader:As.depth_frag},normal:{uniforms:Yo([xr.common,xr.bumpmap,xr.normalmap,xr.displacementmap,{opacity:{value:1}}]),vertexShader:As.meshnormal_vert,fragmentShader:As.meshnormal_frag},sprite:{uniforms:Yo([xr.sprite,xr.fog]),vertexShader:As.sprite_vert,fragmentShader:As.sprite_frag},background:{uniforms:{uvTransform:{value:new ps},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:As.background_vert,fragmentShader:As.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ps}},vertexShader:As.backgroundCube_vert,fragmentShader:As.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:As.cube_vert,fragmentShader:As.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:As.equirect_vert,fragmentShader:As.equirect_frag},distanceRGBA:{uniforms:Yo([xr.common,xr.displacementmap,{referencePosition:{value:new Ft},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:As.distanceRGBA_vert,fragmentShader:As.distanceRGBA_frag},shadow:{uniforms:Yo([xr.lights,xr.fog,{color:{value:new Gs(0)},opacity:{value:1}}]),vertexShader:As.shadow_vert,fragmentShader:As.shadow_frag}};Lu.physical={uniforms:Yo([Lu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ps},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ps},clearcoatNormalScale:{value:new cn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ps},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ps},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ps},sheen:{value:0},sheenColor:{value:new Gs(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ps},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ps},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ps},transmissionSamplerSize:{value:new cn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ps},attenuationDistance:{value:0},attenuationColor:{value:new Gs(0)},specularColor:{value:new Gs(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ps},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ps},anisotropyVector:{value:new cn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ps}}]),vertexShader:As.meshphysical_vert,fragmentShader:As.meshphysical_frag};const P2={r:0,b:0,g:0},op=new sh,Zpe=new _a;function exe(t,e,s,n,a,i,o){const l=new Gs(0);let c=i===!0?0:1,d,u,h=null,m=0,f=null;function x(v){let j=v.isScene===!0?v.background:null;return j&&j.isTexture&&(j=(v.backgroundBlurriness>0?s:e).get(j)),j}function A(v){let j=!1;const N=x(v);N===null?b(l,c):N&&N.isColor&&(b(N,1),j=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?n.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(t.autoClear||j)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function g(v,j){const N=x(j);N&&(N.isCubeTexture||N.mapping===FS)?(u===void 0&&(u=new Qd(new Ab(1,1,1),new d0({name:"BackgroundCubeMaterial",uniforms:Fg(Lu.backgroundCube.uniforms),vertexShader:Lu.backgroundCube.vertexShader,fragmentShader:Lu.backgroundCube.fragmentShader,side:Pl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(S,T,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(u)),op.copy(j.backgroundRotation),op.x*=-1,op.y*=-1,op.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(op.y*=-1,op.z*=-1),u.material.uniforms.envMap.value=N,u.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=j.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=j.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Zpe.makeRotationFromEuler(op)),u.material.toneMapped=zs.getTransfer(N.colorSpace)!==bn,(h!==N||m!==N.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,h=N,m=N.version,f=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):N&&N.isTexture&&(d===void 0&&(d=new Qd(new aw(2,2),new d0({name:"BackgroundMaterial",uniforms:Fg(Lu.background.uniforms),vertexShader:Lu.background.vertexShader,fragmentShader:Lu.background.fragmentShader,side:c0,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(d)),d.material.uniforms.t2D.value=N,d.material.uniforms.backgroundIntensity.value=j.backgroundIntensity,d.material.toneMapped=zs.getTransfer(N.colorSpace)!==bn,N.matrixAutoUpdate===!0&&N.updateMatrix(),d.material.uniforms.uvTransform.value.copy(N.matrix),(h!==N||m!==N.version||f!==t.toneMapping)&&(d.material.needsUpdate=!0,h=N,m=N.version,f=t.toneMapping),d.layers.enableAll(),v.unshift(d,d.geometry,d.material,0,0,null))}function b(v,j){v.getRGB(P2,WX(t)),n.buffers.color.setClear(P2.r,P2.g,P2.b,j,o)}function w(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),d!==void 0&&(d.geometry.dispose(),d.material.dispose())}return{getClearColor:function(){return l},setClearColor:function(v,j=1){l.set(v),c=j,b(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(v){c=v,b(l,c)},render:A,addToRenderList:g,dispose:w}}function txe(t,e){const s=t.getParameter(t.MAX_VERTEX_ATTRIBS),n={},a=m(null);let i=a,o=!1;function l(M,C,B,P,H){let D=!1;const G=h(P,B,C);i!==G&&(i=G,d(i.object)),D=f(M,P,B,H),D&&x(M,P,B,H),H!==null&&e.update(H,t.ELEMENT_ARRAY_BUFFER),(D||o)&&(o=!1,j(M,C,B,P),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(H).buffer))}function c(){return t.createVertexArray()}function d(M){return t.bindVertexArray(M)}function u(M){return t.deleteVertexArray(M)}function h(M,C,B){const P=B.wireframe===!0;let H=n[M.id];H===void 0&&(H={},n[M.id]=H);let D=H[C.id];D===void 0&&(D={},H[C.id]=D);let G=D[P];return G===void 0&&(G=m(c()),D[P]=G),G}function m(M){const C=[],B=[],P=[];for(let H=0;H<s;H++)C[H]=0,B[H]=0,P[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:C,enabledAttributes:B,attributeDivisors:P,object:M,attributes:{},index:null}}function f(M,C,B,P){const H=i.attributes,D=C.attributes;let G=0;const O=B.getAttributes();for(const Q in O)if(O[Q].location>=0){const q=H[Q];let Z=D[Q];if(Z===void 0&&(Q==="instanceMatrix"&&M.instanceMatrix&&(Z=M.instanceMatrix),Q==="instanceColor"&&M.instanceColor&&(Z=M.instanceColor)),q===void 0||q.attribute!==Z||Z&&q.data!==Z.data)return!0;G++}return i.attributesNum!==G||i.index!==P}function x(M,C,B,P){const H={},D=C.attributes;let G=0;const O=B.getAttributes();for(const Q in O)if(O[Q].location>=0){let q=D[Q];q===void 0&&(Q==="instanceMatrix"&&M.instanceMatrix&&(q=M.instanceMatrix),Q==="instanceColor"&&M.instanceColor&&(q=M.instanceColor));const Z={};Z.attribute=q,q&&q.data&&(Z.data=q.data),H[Q]=Z,G++}i.attributes=H,i.attributesNum=G,i.index=P}function A(){const M=i.newAttributes;for(let C=0,B=M.length;C<B;C++)M[C]=0}function g(M){b(M,0)}function b(M,C){const B=i.newAttributes,P=i.enabledAttributes,H=i.attributeDivisors;B[M]=1,P[M]===0&&(t.enableVertexAttribArray(M),P[M]=1),H[M]!==C&&(t.vertexAttribDivisor(M,C),H[M]=C)}function w(){const M=i.newAttributes,C=i.enabledAttributes;for(let B=0,P=C.length;B<P;B++)C[B]!==M[B]&&(t.disableVertexAttribArray(B),C[B]=0)}function v(M,C,B,P,H,D,G){G===!0?t.vertexAttribIPointer(M,C,B,H,D):t.vertexAttribPointer(M,C,B,P,H,D)}function j(M,C,B,P){A();const H=P.attributes,D=B.getAttributes(),G=C.defaultAttributeValues;for(const O in D){const Q=D[O];if(Q.location>=0){let ee=H[O];if(ee===void 0&&(O==="instanceMatrix"&&M.instanceMatrix&&(ee=M.instanceMatrix),O==="instanceColor"&&M.instanceColor&&(ee=M.instanceColor)),ee!==void 0){const q=ee.normalized,Z=ee.itemSize,F=e.get(ee);if(F===void 0)continue;const z=F.buffer,V=F.type,W=F.bytesPerElement,ne=V===t.INT||V===t.UNSIGNED_INT||ee.gpuType===QP;if(ee.isInterleavedBufferAttribute){const ie=ee.data,be=ie.stride,ue=ee.offset;if(ie.isInstancedInterleavedBuffer){for(let je=0;je<Q.locationSize;je++)b(Q.location+je,ie.meshPerAttribute);M.isInstancedMesh!==!0&&P._maxInstanceCount===void 0&&(P._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let je=0;je<Q.locationSize;je++)g(Q.location+je);t.bindBuffer(t.ARRAY_BUFFER,z);for(let je=0;je<Q.locationSize;je++)v(Q.location+je,Z/Q.locationSize,V,q,be*W,(ue+Z/Q.locationSize*je)*W,ne)}else{if(ee.isInstancedBufferAttribute){for(let ie=0;ie<Q.locationSize;ie++)b(Q.location+ie,ee.meshPerAttribute);M.isInstancedMesh!==!0&&P._maxInstanceCount===void 0&&(P._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let ie=0;ie<Q.locationSize;ie++)g(Q.location+ie);t.bindBuffer(t.ARRAY_BUFFER,z);for(let ie=0;ie<Q.locationSize;ie++)v(Q.location+ie,Z/Q.locationSize,V,q,Z*W,Z/Q.locationSize*ie*W,ne)}}else if(G!==void 0){const q=G[O];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(Q.location,q);break;case 3:t.vertexAttrib3fv(Q.location,q);break;case 4:t.vertexAttrib4fv(Q.location,q);break;default:t.vertexAttrib1fv(Q.location,q)}}}}w()}function N(){I();for(const M in n){const C=n[M];for(const B in C){const P=C[B];for(const H in P)u(P[H].object),delete P[H];delete C[B]}delete n[M]}}function S(M){if(n[M.id]===void 0)return;const C=n[M.id];for(const B in C){const P=C[B];for(const H in P)u(P[H].object),delete P[H];delete C[B]}delete n[M.id]}function T(M){for(const C in n){const B=n[C];if(B[M.id]===void 0)continue;const P=B[M.id];for(const H in P)u(P[H].object),delete P[H];delete B[M.id]}}function I(){_(),o=!0,i!==a&&(i=a,d(i.object))}function _(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:l,reset:I,resetDefaultState:_,dispose:N,releaseStatesOfGeometry:S,releaseStatesOfProgram:T,initAttributes:A,enableAttribute:g,disableUnusedAttributes:w}}function rxe(t,e,s){let n;function a(d){n=d}function i(d,u){t.drawArrays(n,d,u),s.update(u,n,1)}function o(d,u,h){h!==0&&(t.drawArraysInstanced(n,d,u,h),s.update(u,n,h))}function l(d,u,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,d,0,u,0,h);let f=0;for(let x=0;x<h;x++)f+=u[x];s.update(f,n,1)}function c(d,u,h,m){if(h===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let x=0;x<d.length;x++)o(d[x],u[x],m[x]);else{f.multiDrawArraysInstancedWEBGL(n,d,0,u,0,m,0,h);let x=0;for(let A=0;A<h;A++)x+=u[A]*m[A];s.update(x,n,1)}}this.setMode=a,this.render=i,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function sxe(t,e,s,n){let a;function i(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");a=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(T){return!(T!==Hd&&n.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(T){const I=T===ew&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==Bf&&n.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==hf&&!I)}function c(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=s.precision!==void 0?s.precision:"highp";const u=c(d);u!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",u,"instead."),d=u);const h=s.logarithmicDepthBuffer===!0,m=s.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),j=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),N=x>0,S=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:h,reverseDepthBuffer:m,maxTextures:f,maxVertexTextures:x,maxTextureSize:A,maxCubemapSize:g,maxAttributes:b,maxVertexUniforms:w,maxVaryings:v,maxFragmentUniforms:j,vertexTextures:N,maxSamples:S}}function nxe(t){const e=this;let s=null,n=0,a=!1,i=!1;const o=new yp,l=new ps,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,m){const f=h.length!==0||m||n!==0||a;return a=m,n=h.length,f},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(h,m){s=u(h,m,0)},this.setState=function(h,m,f){const x=h.clippingPlanes,A=h.clipIntersection,g=h.clipShadows,b=t.get(h);if(!a||x===null||x.length===0||i&&!g)i?u(null):d();else{const w=i?0:n,v=w*4;let j=b.clippingState||null;c.value=j,j=u(x,m,v,f);for(let N=0;N!==v;++N)j[N]=s[N];b.clippingState=j,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=w}};function d(){c.value!==s&&(c.value=s,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(h,m,f,x){const A=h!==null?h.length:0;let g=null;if(A!==0){if(g=c.value,x!==!0||g===null){const b=f+A*4,w=m.matrixWorldInverse;l.getNormalMatrix(w),(g===null||g.length<b)&&(g=new Float32Array(b));for(let v=0,j=f;v!==A;++v,j+=4)o.copy(h[v]).applyMatrix4(w,l),o.normal.toArray(g,j),g[j+3]=o.constant}c.value=g,c.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,g}}function axe(t){let e=new WeakMap;function s(o,l){return l===AB?o.mapping=Eg:l===gB&&(o.mapping=kg),o}function n(o){if(o&&o.isTexture){const l=o.mapping;if(l===AB||l===gB)if(e.has(o)){const c=e.get(o).texture;return s(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const d=new ome(c.height);return d.fromEquirectangularTexture(t,o),e.set(o,d),o.addEventListener("dispose",a),s(d.texture,o.mapping)}else return null}}return o}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function i(){e=new WeakMap}return{get:n,dispose:i}}const qA=4,OR=[.125,.215,.35,.446,.526,.582],_p=20,o_=new JX,UR=new Gs;let l_=null,c_=0,d_=0,u_=!1;const vp=(1+Math.sqrt(5))/2,jA=1/vp,HR=[new Ft(-vp,jA,0),new Ft(vp,jA,0),new Ft(-jA,0,vp),new Ft(jA,0,vp),new Ft(0,vp,-jA),new Ft(0,vp,jA),new Ft(-1,1,-1),new Ft(1,1,-1),new Ft(-1,1,1),new Ft(1,1,1)];class QR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,s=0,n=.1,a=100){l_=this._renderer.getRenderTarget(),c_=this._renderer.getActiveCubeFace(),d_=this._renderer.getActiveMipmapLevel(),u_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,a,i),s>0&&this._blur(i,0,0,s),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,s=null){return this._fromTexture(e,s)}fromCubemap(e,s=null){return this._fromTexture(e,s)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=GR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=zR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(l_,c_,d_),this._renderer.xr.enabled=u_,e.scissorTest=!1,I2(e,0,0,e.width,e.height)}_fromTexture(e,s){e.mapping===Eg||e.mapping===kg?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),l_=this._renderer.getRenderTarget(),c_=this._renderer.getActiveCubeFace(),d_=this._renderer.getActiveMipmapLevel(),u_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=s||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),s=4*this._cubeSize,n={magFilter:Hu,minFilter:Hu,generateMipmaps:!1,type:ew,format:Hd,colorSpace:Mg,depthBuffer:!1},a=$R(e,s,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==s){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$R(e,s,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ixe(i)),this._blurMaterial=oxe(i,e,s)}return a}_compileMaterial(e){const s=new Qd(this._lodPlanes[0],e);this._renderer.compile(s,o_)}_sceneToCubeUV(e,s,n,a){const l=new Xc(90,1,s,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,m=u.toneMapping;u.getClearColor(UR),u.toneMapping=t0,u.autoClear=!1;const f=new zX({name:"PMREM.Background",side:Pl,depthWrite:!1,depthTest:!1}),x=new Qd(new Ab,f);let A=!1;const g=e.background;g?g.isColor&&(f.color.copy(g),e.background=null,A=!0):(f.color.copy(UR),A=!0);for(let b=0;b<6;b++){const w=b%3;w===0?(l.up.set(0,c[b],0),l.lookAt(d[b],0,0)):w===1?(l.up.set(0,0,c[b]),l.lookAt(0,d[b],0)):(l.up.set(0,c[b],0),l.lookAt(0,0,d[b]));const v=this._cubeSize;I2(a,w*v,b>2?v:0,v,v),u.setRenderTarget(a),A&&u.render(x,l),u.render(e,l)}x.geometry.dispose(),x.material.dispose(),u.toneMapping=m,u.autoClear=h,e.background=g}_textureToCubeUV(e,s){const n=this._renderer,a=e.mapping===Eg||e.mapping===kg;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=GR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=zR());const i=a?this._cubemapMaterial:this._equirectMaterial,o=new Qd(this._lodPlanes[0],i),l=i.uniforms;l.envMap.value=e;const c=this._cubeSize;I2(s,0,0,3*c,2*c),n.setRenderTarget(s),n.render(o,o_)}_applyPMREM(e){const s=this._renderer,n=s.autoClear;s.autoClear=!1;const a=this._lodPlanes.length;for(let i=1;i<a;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),l=HR[(a-i-1)%HR.length];this._blur(e,i-1,i,o,l)}s.autoClear=n}_blur(e,s,n,a,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,s,n,a,"latitudinal",i),this._halfBlur(o,e,n,n,a,"longitudinal",i)}_halfBlur(e,s,n,a,i,o,l){const c=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new Qd(this._lodPlanes[a],d),m=d.uniforms,f=this._sizeLods[n]-1,x=isFinite(i)?Math.PI/(2*f):2*Math.PI/(2*_p-1),A=i/x,g=isFinite(i)?1+Math.floor(u*A):_p;g>_p&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${_p}`);const b=[];let w=0;for(let T=0;T<_p;++T){const I=T/A,_=Math.exp(-I*I/2);b.push(_),T===0?w+=_:T<g&&(w+=2*_)}for(let T=0;T<b.length;T++)b[T]=b[T]/w;m.envMap.value=e.texture,m.samples.value=g,m.weights.value=b,m.latitudinal.value=o==="latitudinal",l&&(m.poleAxis.value=l);const{_lodMax:v}=this;m.dTheta.value=x,m.mipInt.value=v-n;const j=this._sizeLods[a],N=3*j*(a>v-qA?a-v+qA:0),S=4*(this._cubeSize-j);I2(s,N,S,3*j,2*j),c.setRenderTarget(s),c.render(h,o_)}}function ixe(t){const e=[],s=[],n=[];let a=t;const i=t-qA+1+OR.length;for(let o=0;o<i;o++){const l=Math.pow(2,a);s.push(l);let c=1/l;o>t-qA?c=OR[o-t+qA-1]:o===0&&(c=0),n.push(c);const d=1/(l-2),u=-d,h=1+d,m=[u,u,h,u,h,h,u,u,h,h,u,h],f=6,x=6,A=3,g=2,b=1,w=new Float32Array(A*x*f),v=new Float32Array(g*x*f),j=new Float32Array(b*x*f);for(let S=0;S<f;S++){const T=S%3*2/3-1,I=S>2?0:-1,_=[T,I,0,T+2/3,I,0,T+2/3,I+1,0,T,I,0,T+2/3,I+1,0,T,I+1,0];w.set(_,A*x*S),v.set(m,g*x*S);const M=[S,S,S,S,S,S];j.set(M,b*x*S)}const N=new Sx;N.setAttribute("position",new qu(w,A)),N.setAttribute("uv",new qu(v,g)),N.setAttribute("faceIndex",new qu(j,b)),e.push(N),a>qA&&a--}return{lodPlanes:e,sizeLods:s,sigmas:n}}function $R(t,e,s){const n=new lx(t,e,s);return n.texture.mapping=FS,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function I2(t,e,s,n,a){t.viewport.set(e,s,n,a),t.scissor.set(e,s,n,a)}function oxe(t,e,s){const n=new Float32Array(_p),a=new Ft(0,1,0);return new d0({name:"SphericalGaussianBlur",defines:{n:_p,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/s,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:XP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:e0,depthTest:!1,depthWrite:!1})}function zR(){return new d0({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:XP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:e0,depthTest:!1,depthWrite:!1})}function GR(){return new d0({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:XP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:e0,depthTest:!1,depthWrite:!1})}function XP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lxe(t){let e=new WeakMap,s=null;function n(l){if(l&&l.isTexture){const c=l.mapping,d=c===AB||c===gB,u=c===Eg||c===kg;if(d||u){let h=e.get(l);const m=h!==void 0?h.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==m)return s===null&&(s=new QR(t)),h=d?s.fromEquirectangular(l,h):s.fromCubemap(l,h),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),h.texture;if(h!==void 0)return h.texture;{const f=l.image;return d&&f&&f.height>0||u&&f&&a(f)?(s===null&&(s=new QR(t)),h=d?s.fromEquirectangular(l):s.fromCubemap(l),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),l.addEventListener("dispose",i),h.texture):null}}}return l}function a(l){let c=0;const d=6;for(let u=0;u<d;u++)l[u]!==void 0&&c++;return c===d}function i(l){const c=l.target;c.removeEventListener("dispose",i);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function o(){e=new WeakMap,s!==null&&(s.dispose(),s=null)}return{get:n,dispose:o}}function cxe(t){const e={};function s(n){if(e[n]!==void 0)return e[n];let a;switch(n){case"WEBGL_depth_texture":a=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=t.getExtension(n)}return e[n]=a,a}return{has:function(n){return s(n)!==null},init:function(){s("EXT_color_buffer_float"),s("WEBGL_clip_cull_distance"),s("OES_texture_float_linear"),s("EXT_color_buffer_half_float"),s("WEBGL_multisampled_render_to_texture"),s("WEBGL_render_shared_exponent")},get:function(n){const a=s(n);return a===null&&QA("THREE.WebGLRenderer: "+n+" extension not supported."),a}}}function dxe(t,e,s,n){const a={},i=new WeakMap;function o(h){const m=h.target;m.index!==null&&e.remove(m.index);for(const x in m.attributes)e.remove(m.attributes[x]);m.removeEventListener("dispose",o),delete a[m.id];const f=i.get(m);f&&(e.remove(f),i.delete(m)),n.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,s.memory.geometries--}function l(h,m){return a[m.id]===!0||(m.addEventListener("dispose",o),a[m.id]=!0,s.memory.geometries++),m}function c(h){const m=h.attributes;for(const f in m)e.update(m[f],t.ARRAY_BUFFER)}function d(h){const m=[],f=h.index,x=h.attributes.position;let A=0;if(f!==null){const w=f.array;A=f.version;for(let v=0,j=w.length;v<j;v+=3){const N=w[v+0],S=w[v+1],T=w[v+2];m.push(N,S,S,T,T,N)}}else if(x!==void 0){const w=x.array;A=x.version;for(let v=0,j=w.length/3-1;v<j;v+=3){const N=v+0,S=v+1,T=v+2;m.push(N,S,S,T,T,N)}}else return;const g=new(OX(m)?VX:GX)(m,1);g.version=A;const b=i.get(h);b&&e.remove(b),i.set(h,g)}function u(h){const m=i.get(h);if(m){const f=h.index;f!==null&&m.version<f.version&&d(h)}else d(h);return i.get(h)}return{get:l,update:c,getWireframeAttribute:u}}function uxe(t,e,s){let n;function a(m){n=m}let i,o;function l(m){i=m.type,o=m.bytesPerElement}function c(m,f){t.drawElements(n,f,i,m*o),s.update(f,n,1)}function d(m,f,x){x!==0&&(t.drawElementsInstanced(n,f,i,m*o,x),s.update(f,n,x))}function u(m,f,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,f,0,i,m,0,x);let g=0;for(let b=0;b<x;b++)g+=f[b];s.update(g,n,1)}function h(m,f,x,A){if(x===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let b=0;b<m.length;b++)d(m[b]/o,f[b],A[b]);else{g.multiDrawElementsInstancedWEBGL(n,f,0,i,m,0,A,0,x);let b=0;for(let w=0;w<x;w++)b+=f[w]*A[w];s.update(b,n,1)}}this.setMode=a,this.setIndex=l,this.render=c,this.renderInstances=d,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function hxe(t){const e={geometries:0,textures:0},s={frame:0,calls:0,triangles:0,points:0,lines:0};function n(i,o,l){switch(s.calls++,o){case t.TRIANGLES:s.triangles+=l*(i/3);break;case t.LINES:s.lines+=l*(i/2);break;case t.LINE_STRIP:s.lines+=l*(i-1);break;case t.LINE_LOOP:s.lines+=l*i;break;case t.POINTS:s.points+=l*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function a(){s.calls=0,s.triangles=0,s.points=0,s.lines=0}return{memory:e,render:s,programs:null,autoReset:!0,reset:a,update:n}}function fxe(t,e,s){const n=new WeakMap,a=new Ca;function i(o,l,c){const d=o.morphTargetInfluences,u=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=u!==void 0?u.length:0;let m=n.get(l);if(m===void 0||m.count!==h){let _=function(){T.dispose(),n.delete(l),l.removeEventListener("dispose",_)};m!==void 0&&m.texture.dispose();const f=l.morphAttributes.position!==void 0,x=l.morphAttributes.normal!==void 0,A=l.morphAttributes.color!==void 0,g=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],w=l.morphAttributes.color||[];let v=0;f===!0&&(v=1),x===!0&&(v=2),A===!0&&(v=3);let j=l.attributes.position.count*v,N=1;j>e.maxTextureSize&&(N=Math.ceil(j/e.maxTextureSize),j=e.maxTextureSize);const S=new Float32Array(j*N*4*h),T=new HX(S,j,N,h);T.type=hf,T.needsUpdate=!0;const I=v*4;for(let M=0;M<h;M++){const C=g[M],B=b[M],P=w[M],H=j*N*4*M;for(let D=0;D<C.count;D++){const G=D*I;f===!0&&(a.fromBufferAttribute(C,D),S[H+G+0]=a.x,S[H+G+1]=a.y,S[H+G+2]=a.z,S[H+G+3]=0),x===!0&&(a.fromBufferAttribute(B,D),S[H+G+4]=a.x,S[H+G+5]=a.y,S[H+G+6]=a.z,S[H+G+7]=0),A===!0&&(a.fromBufferAttribute(P,D),S[H+G+8]=a.x,S[H+G+9]=a.y,S[H+G+10]=a.z,S[H+G+11]=P.itemSize===4?a.w:1)}}m={count:h,texture:T,size:new cn(j,N)},n.set(l,m),l.addEventListener("dispose",_)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",o.morphTexture,s);else{let f=0;for(let A=0;A<d.length;A++)f+=d[A];const x=l.morphTargetsRelative?1:1-f;c.getUniforms().setValue(t,"morphTargetBaseInfluence",x),c.getUniforms().setValue(t,"morphTargetInfluences",d)}c.getUniforms().setValue(t,"morphTargetsTexture",m.texture,s),c.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}return{update:i}}function mxe(t,e,s,n){let a=new WeakMap;function i(c){const d=n.render.frame,u=c.geometry,h=e.get(c,u);if(a.get(h)!==d&&(e.update(h),a.set(h,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),a.get(c)!==d&&(s.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&s.update(c.instanceColor,t.ARRAY_BUFFER),a.set(c,d))),c.isSkinnedMesh){const m=c.skeleton;a.get(m)!==d&&(m.update(),a.set(m,d))}return h}function o(){a=new WeakMap}function l(c){const d=c.target;d.removeEventListener("dispose",l),s.remove(d.instanceMatrix),d.instanceColor!==null&&s.remove(d.instanceColor)}return{update:i,dispose:o}}const eY=new Il,VR=new XX(1,1),tY=new HX,rY=new zfe,sY=new KX,WR=[],qR=[],KR=new Float32Array(16),XR=new Float32Array(9),YR=new Float32Array(4);function gb(t,e,s){const n=t[0];if(n<=0||n>0)return t;const a=e*s;let i=WR[a];if(i===void 0&&(i=new Float32Array(a),WR[a]=i),e!==0){n.toArray(i,0);for(let o=1,l=0;o!==e;++o)l+=s,t[o].toArray(i,l)}return i}function Ai(t,e){if(t.length!==e.length)return!1;for(let s=0,n=t.length;s<n;s++)if(t[s]!==e[s])return!1;return!0}function gi(t,e){for(let s=0,n=e.length;s<n;s++)t[s]=e[s]}function PS(t,e){let s=qR[e];s===void 0&&(s=new Int32Array(e),qR[e]=s);for(let n=0;n!==e;++n)s[n]=t.allocateTextureUnit();return s}function pxe(t,e){const s=this.cache;s[0]!==e&&(t.uniform1f(this.addr,e),s[0]=e)}function xxe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(Ai(s,e))return;t.uniform2fv(this.addr,e),gi(s,e)}}function Axe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else if(e.r!==void 0)(s[0]!==e.r||s[1]!==e.g||s[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),s[0]=e.r,s[1]=e.g,s[2]=e.b);else{if(Ai(s,e))return;t.uniform3fv(this.addr,e),gi(s,e)}}function gxe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(Ai(s,e))return;t.uniform4fv(this.addr,e),gi(s,e)}}function bxe(t,e){const s=this.cache,n=e.elements;if(n===void 0){if(Ai(s,e))return;t.uniformMatrix2fv(this.addr,!1,e),gi(s,e)}else{if(Ai(s,n))return;YR.set(n),t.uniformMatrix2fv(this.addr,!1,YR),gi(s,n)}}function yxe(t,e){const s=this.cache,n=e.elements;if(n===void 0){if(Ai(s,e))return;t.uniformMatrix3fv(this.addr,!1,e),gi(s,e)}else{if(Ai(s,n))return;XR.set(n),t.uniformMatrix3fv(this.addr,!1,XR),gi(s,n)}}function vxe(t,e){const s=this.cache,n=e.elements;if(n===void 0){if(Ai(s,e))return;t.uniformMatrix4fv(this.addr,!1,e),gi(s,e)}else{if(Ai(s,n))return;KR.set(n),t.uniformMatrix4fv(this.addr,!1,KR),gi(s,n)}}function wxe(t,e){const s=this.cache;s[0]!==e&&(t.uniform1i(this.addr,e),s[0]=e)}function jxe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(Ai(s,e))return;t.uniform2iv(this.addr,e),gi(s,e)}}function Nxe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else{if(Ai(s,e))return;t.uniform3iv(this.addr,e),gi(s,e)}}function Sxe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(Ai(s,e))return;t.uniform4iv(this.addr,e),gi(s,e)}}function Cxe(t,e){const s=this.cache;s[0]!==e&&(t.uniform1ui(this.addr,e),s[0]=e)}function _xe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),s[0]=e.x,s[1]=e.y);else{if(Ai(s,e))return;t.uniform2uiv(this.addr,e),gi(s,e)}}function Exe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),s[0]=e.x,s[1]=e.y,s[2]=e.z);else{if(Ai(s,e))return;t.uniform3uiv(this.addr,e),gi(s,e)}}function kxe(t,e){const s=this.cache;if(e.x!==void 0)(s[0]!==e.x||s[1]!==e.y||s[2]!==e.z||s[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=e.w);else{if(Ai(s,e))return;t.uniform4uiv(this.addr,e),gi(s,e)}}function Txe(t,e,s){const n=this.cache,a=s.allocateTextureUnit();n[0]!==a&&(t.uniform1i(this.addr,a),n[0]=a);let i;this.type===t.SAMPLER_2D_SHADOW?(VR.compareFunction=RX,i=VR):i=eY,s.setTexture2D(e||i,a)}function Bxe(t,e,s){const n=this.cache,a=s.allocateTextureUnit();n[0]!==a&&(t.uniform1i(this.addr,a),n[0]=a),s.setTexture3D(e||rY,a)}function Mxe(t,e,s){const n=this.cache,a=s.allocateTextureUnit();n[0]!==a&&(t.uniform1i(this.addr,a),n[0]=a),s.setTextureCube(e||sY,a)}function Fxe(t,e,s){const n=this.cache,a=s.allocateTextureUnit();n[0]!==a&&(t.uniform1i(this.addr,a),n[0]=a),s.setTexture2DArray(e||tY,a)}function Pxe(t){switch(t){case 5126:return pxe;case 35664:return xxe;case 35665:return Axe;case 35666:return gxe;case 35674:return bxe;case 35675:return yxe;case 35676:return vxe;case 5124:case 35670:return wxe;case 35667:case 35671:return jxe;case 35668:case 35672:return Nxe;case 35669:case 35673:return Sxe;case 5125:return Cxe;case 36294:return _xe;case 36295:return Exe;case 36296:return kxe;case 35678:case 36198:case 36298:case 36306:case 35682:return Txe;case 35679:case 36299:case 36307:return Bxe;case 35680:case 36300:case 36308:case 36293:return Mxe;case 36289:case 36303:case 36311:case 36292:return Fxe}}function Ixe(t,e){t.uniform1fv(this.addr,e)}function Lxe(t,e){const s=gb(e,this.size,2);t.uniform2fv(this.addr,s)}function Dxe(t,e){const s=gb(e,this.size,3);t.uniform3fv(this.addr,s)}function Rxe(t,e){const s=gb(e,this.size,4);t.uniform4fv(this.addr,s)}function Oxe(t,e){const s=gb(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,s)}function Uxe(t,e){const s=gb(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,s)}function Hxe(t,e){const s=gb(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,s)}function Qxe(t,e){t.uniform1iv(this.addr,e)}function $xe(t,e){t.uniform2iv(this.addr,e)}function zxe(t,e){t.uniform3iv(this.addr,e)}function Gxe(t,e){t.uniform4iv(this.addr,e)}function Vxe(t,e){t.uniform1uiv(this.addr,e)}function Wxe(t,e){t.uniform2uiv(this.addr,e)}function qxe(t,e){t.uniform3uiv(this.addr,e)}function Kxe(t,e){t.uniform4uiv(this.addr,e)}function Xxe(t,e,s){const n=this.cache,a=e.length,i=PS(s,a);Ai(n,i)||(t.uniform1iv(this.addr,i),gi(n,i));for(let o=0;o!==a;++o)s.setTexture2D(e[o]||eY,i[o])}function Yxe(t,e,s){const n=this.cache,a=e.length,i=PS(s,a);Ai(n,i)||(t.uniform1iv(this.addr,i),gi(n,i));for(let o=0;o!==a;++o)s.setTexture3D(e[o]||rY,i[o])}function Jxe(t,e,s){const n=this.cache,a=e.length,i=PS(s,a);Ai(n,i)||(t.uniform1iv(this.addr,i),gi(n,i));for(let o=0;o!==a;++o)s.setTextureCube(e[o]||sY,i[o])}function Zxe(t,e,s){const n=this.cache,a=e.length,i=PS(s,a);Ai(n,i)||(t.uniform1iv(this.addr,i),gi(n,i));for(let o=0;o!==a;++o)s.setTexture2DArray(e[o]||tY,i[o])}function eAe(t){switch(t){case 5126:return Ixe;case 35664:return Lxe;case 35665:return Dxe;case 35666:return Rxe;case 35674:return Oxe;case 35675:return Uxe;case 35676:return Hxe;case 5124:case 35670:return Qxe;case 35667:case 35671:return $xe;case 35668:case 35672:return zxe;case 35669:case 35673:return Gxe;case 5125:return Vxe;case 36294:return Wxe;case 36295:return qxe;case 36296:return Kxe;case 35678:case 36198:case 36298:case 36306:case 35682:return Xxe;case 35679:case 36299:case 36307:return Yxe;case 35680:case 36300:case 36308:case 36293:return Jxe;case 36289:case 36303:case 36311:case 36292:return Zxe}}class tAe{constructor(e,s,n){this.id=e,this.addr=n,this.cache=[],this.type=s.type,this.setValue=Pxe(s.type)}}class rAe{constructor(e,s,n){this.id=e,this.addr=n,this.cache=[],this.type=s.type,this.size=s.size,this.setValue=eAe(s.type)}}class sAe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,s,n){const a=this.seq;for(let i=0,o=a.length;i!==o;++i){const l=a[i];l.setValue(e,s[l.id],n)}}}const h_=/(\w+)(\])?(\[|\.)?/g;function JR(t,e){t.seq.push(e),t.map[e.id]=e}function nAe(t,e,s){const n=t.name,a=n.length;for(h_.lastIndex=0;;){const i=h_.exec(n),o=h_.lastIndex;let l=i[1];const c=i[2]==="]",d=i[3];if(c&&(l=l|0),d===void 0||d==="["&&o+2===a){JR(s,d===void 0?new tAe(l,t,e):new rAe(l,t,e));break}else{let h=s.map[l];h===void 0&&(h=new sAe(l),JR(s,h)),s=h}}}class pN{constructor(e,s){this.seq=[],this.map={};const n=e.getProgramParameter(s,e.ACTIVE_UNIFORMS);for(let a=0;a<n;++a){const i=e.getActiveUniform(s,a),o=e.getUniformLocation(s,i.name);nAe(i,o,this)}}setValue(e,s,n,a){const i=this.map[s];i!==void 0&&i.setValue(e,n,a)}setOptional(e,s,n){const a=s[n];a!==void 0&&this.setValue(e,n,a)}static upload(e,s,n,a){for(let i=0,o=s.length;i!==o;++i){const l=s[i],c=n[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,a)}}static seqWithValue(e,s){const n=[];for(let a=0,i=e.length;a!==i;++a){const o=e[a];o.id in s&&n.push(o)}return n}}function ZR(t,e,s){const n=t.createShader(e);return t.shaderSource(n,s),t.compileShader(n),n}const aAe=37297;let iAe=0;function oAe(t,e){const s=t.split(`
`),n=[],a=Math.max(e-6,0),i=Math.min(e+6,s.length);for(let o=a;o<i;o++){const l=o+1;n.push(`${l===e?">":" "} ${l}: ${s[o]}`)}return n.join(`
`)}const eO=new ps;function lAe(t){zs._getMatrix(eO,zs.workingColorSpace,t);const e=`mat3( ${eO.elements.map(s=>s.toFixed(4))} )`;switch(zs.getTransfer(t)){case TN:return[e,"LinearTransferOETF"];case bn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function tO(t,e,s){const n=t.getShaderParameter(e,t.COMPILE_STATUS),a=t.getShaderInfoLog(e).trim();if(n&&a==="")return"";const i=/ERROR: 0:(\d+)/.exec(a);if(i){const o=parseInt(i[1]);return s.toUpperCase()+`

`+a+`

`+oAe(t.getShaderSource(e),o)}else return a}function cAe(t,e){const s=lAe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${s[1]}( vec4( value.rgb * ${s[0]}, value.a ) );`,"}"].join(`
`)}function dAe(t,e){let s;switch(e){case xfe:s="Linear";break;case Afe:s="Reinhard";break;case gfe:s="Cineon";break;case bfe:s="ACESFilmic";break;case vfe:s="AgX";break;case wfe:s="Neutral";break;case yfe:s="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),s="Linear"}return"vec3 "+t+"( vec3 color ) { return "+s+"ToneMapping( color ); }"}const L2=new Ft;function uAe(){zs.getLuminanceCoefficients(L2);const t=L2.x.toFixed(4),e=L2.y.toFixed(4),s=L2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${s} );`,"	return dot( weights, rgb );","}"].join(`
`)}function hAe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Hy).join(`
`)}function fAe(t){const e=[];for(const s in t){const n=t[s];n!==!1&&e.push("#define "+s+" "+n)}return e.join(`
`)}function mAe(t,e){const s={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let a=0;a<n;a++){const i=t.getActiveAttrib(e,a),o=i.name;let l=1;i.type===t.FLOAT_MAT2&&(l=2),i.type===t.FLOAT_MAT3&&(l=3),i.type===t.FLOAT_MAT4&&(l=4),s[o]={type:i.type,location:t.getAttribLocation(e,o),locationSize:l}}return s}function Hy(t){return t!==""}function rO(t,e){const s=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,s).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sO(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const pAe=/^[ \t]*#include +<([\w\d./]+)>/gm;function qB(t){return t.replace(pAe,AAe)}const xAe=new Map;function AAe(t,e){let s=As[e];if(s===void 0){const n=xAe.get(e);if(n!==void 0)s=As[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return qB(s)}const gAe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nO(t){return t.replace(gAe,bAe)}function bAe(t,e,s,n){let a="";for(let i=parseInt(e);i<parseInt(s);i++)a+=n.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function aO(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function yAe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===NX?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===SX?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===nf&&(e="SHADOWMAP_TYPE_VSM"),e}function vAe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Eg:case kg:e="ENVMAP_TYPE_CUBE";break;case FS:e="ENVMAP_TYPE_CUBE_UV";break}return e}function wAe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case kg:e="ENVMAP_MODE_REFRACTION";break}return e}function jAe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case HP:e="ENVMAP_BLENDING_MULTIPLY";break;case mfe:e="ENVMAP_BLENDING_MIX";break;case pfe:e="ENVMAP_BLENDING_ADD";break}return e}function NAe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const s=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,s),112)),texelHeight:n,maxMip:s}}function SAe(t,e,s,n){const a=t.getContext(),i=s.defines;let o=s.vertexShader,l=s.fragmentShader;const c=yAe(s),d=vAe(s),u=wAe(s),h=jAe(s),m=NAe(s),f=hAe(s),x=fAe(i),A=a.createProgram();let g,b,w=s.glslVersion?"#version "+s.glslVersion+`
`:"";s.isRawShaderMaterial?(g=["#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,x].filter(Hy).join(`
`),g.length>0&&(g+=`
`),b=["#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,x].filter(Hy).join(`
`),b.length>0&&(b+=`
`)):(g=[aO(s),"#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,x,s.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",s.batching?"#define USE_BATCHING":"",s.batchingColor?"#define USE_BATCHING_COLOR":"",s.instancing?"#define USE_INSTANCING":"",s.instancingColor?"#define USE_INSTANCING_COLOR":"",s.instancingMorph?"#define USE_INSTANCING_MORPH":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+u:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",s.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",s.displacementMap?"#define USE_DISPLACEMENTMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.anisotropy?"#define USE_ANISOTROPY":"",s.anisotropyMap?"#define USE_ANISOTROPYMAP":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",s.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",s.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaHash?"#define USE_ALPHAHASH":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",s.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",s.mapUv?"#define MAP_UV "+s.mapUv:"",s.alphaMapUv?"#define ALPHAMAP_UV "+s.alphaMapUv:"",s.lightMapUv?"#define LIGHTMAP_UV "+s.lightMapUv:"",s.aoMapUv?"#define AOMAP_UV "+s.aoMapUv:"",s.emissiveMapUv?"#define EMISSIVEMAP_UV "+s.emissiveMapUv:"",s.bumpMapUv?"#define BUMPMAP_UV "+s.bumpMapUv:"",s.normalMapUv?"#define NORMALMAP_UV "+s.normalMapUv:"",s.displacementMapUv?"#define DISPLACEMENTMAP_UV "+s.displacementMapUv:"",s.metalnessMapUv?"#define METALNESSMAP_UV "+s.metalnessMapUv:"",s.roughnessMapUv?"#define ROUGHNESSMAP_UV "+s.roughnessMapUv:"",s.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+s.anisotropyMapUv:"",s.clearcoatMapUv?"#define CLEARCOATMAP_UV "+s.clearcoatMapUv:"",s.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+s.clearcoatNormalMapUv:"",s.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+s.clearcoatRoughnessMapUv:"",s.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+s.iridescenceMapUv:"",s.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+s.iridescenceThicknessMapUv:"",s.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+s.sheenColorMapUv:"",s.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+s.sheenRoughnessMapUv:"",s.specularMapUv?"#define SPECULARMAP_UV "+s.specularMapUv:"",s.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+s.specularColorMapUv:"",s.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+s.specularIntensityMapUv:"",s.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+s.transmissionMapUv:"",s.thicknessMapUv?"#define THICKNESSMAP_UV "+s.thicknessMapUv:"",s.vertexTangents&&s.flatShading===!1?"#define USE_TANGENT":"",s.vertexColors?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUv1s?"#define USE_UV1":"",s.vertexUv2s?"#define USE_UV2":"",s.vertexUv3s?"#define USE_UV3":"",s.pointsUvs?"#define USE_POINTS_UV":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&s.flatShading===!1?"#define USE_MORPHNORMALS":"",s.morphColors?"#define USE_MORPHCOLORS":"",s.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+s.morphTextureStride:"",s.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+s.morphTargetsCount:"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+c:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.numLightProbes>0?"#define USE_LIGHT_PROBES":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hy).join(`
`),b=[aO(s),"#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,x,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",s.map?"#define USE_MAP":"",s.matcap?"#define USE_MATCAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+d:"",s.envMap?"#define "+u:"",s.envMap?"#define "+h:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",s.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.anisotropy?"#define USE_ANISOTROPY":"",s.anisotropyMap?"#define USE_ANISOTROPYMAP":"",s.clearcoat?"#define USE_CLEARCOAT":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.dispersion?"#define USE_DISPERSION":"",s.iridescence?"#define USE_IRIDESCENCE":"",s.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",s.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",s.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaTest?"#define USE_ALPHATEST":"",s.alphaHash?"#define USE_ALPHAHASH":"",s.sheen?"#define USE_SHEEN":"",s.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",s.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.vertexTangents&&s.flatShading===!1?"#define USE_TANGENT":"",s.vertexColors||s.instancingColor||s.batchingColor?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUv1s?"#define USE_UV1":"",s.vertexUv2s?"#define USE_UV2":"",s.vertexUv3s?"#define USE_UV3":"",s.pointsUvs?"#define USE_POINTS_UV":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+c:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.numLightProbes>0?"#define USE_LIGHT_PROBES":"",s.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",s.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",s.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",s.toneMapping!==t0?"#define TONE_MAPPING":"",s.toneMapping!==t0?As.tonemapping_pars_fragment:"",s.toneMapping!==t0?dAe("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.opaque?"#define OPAQUE":"",As.colorspace_pars_fragment,cAe("linearToOutputTexel",s.outputColorSpace),uAe(),s.useDepthPacking?"#define DEPTH_PACKING "+s.depthPacking:"",`
`].filter(Hy).join(`
`)),o=qB(o),o=rO(o,s),o=sO(o,s),l=qB(l),l=rO(l,s),l=sO(l,s),o=nO(o),l=nO(l),s.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,b=["#define varying in",s.glslVersion===AR?"":"layout(location = 0) out highp vec4 pc_fragColor;",s.glslVersion===AR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const v=w+g+o,j=w+b+l,N=ZR(a,a.VERTEX_SHADER,v),S=ZR(a,a.FRAGMENT_SHADER,j);a.attachShader(A,N),a.attachShader(A,S),s.index0AttributeName!==void 0?a.bindAttribLocation(A,0,s.index0AttributeName):s.morphTargets===!0&&a.bindAttribLocation(A,0,"position"),a.linkProgram(A);function T(C){if(t.debug.checkShaderErrors){const B=a.getProgramInfoLog(A).trim(),P=a.getShaderInfoLog(N).trim(),H=a.getShaderInfoLog(S).trim();let D=!0,G=!0;if(a.getProgramParameter(A,a.LINK_STATUS)===!1)if(D=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(a,A,N,S);else{const O=tO(a,N,"vertex"),Q=tO(a,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(A,a.VALIDATE_STATUS)+`

Material Name: `+C.name+`
Material Type: `+C.type+`

Program Info Log: `+B+`
`+O+`
`+Q)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(P===""||H==="")&&(G=!1);G&&(C.diagnostics={runnable:D,programLog:B,vertexShader:{log:P,prefix:g},fragmentShader:{log:H,prefix:b}})}a.deleteShader(N),a.deleteShader(S),I=new pN(a,A),_=mAe(a,A)}let I;this.getUniforms=function(){return I===void 0&&T(this),I};let _;this.getAttributes=function(){return _===void 0&&T(this),_};let M=s.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=a.getProgramParameter(A,aAe)),M},this.destroy=function(){n.releaseStatesOfProgram(this),a.deleteProgram(A),this.program=void 0},this.type=s.shaderType,this.name=s.shaderName,this.id=iAe++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=N,this.fragmentShader=S,this}let CAe=0;class _Ae{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const s=e.vertexShader,n=e.fragmentShader,a=this._getShaderStage(s),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(e){const s=this.materialCache.get(e);for(const n of s)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const s=this.materialCache;let n=s.get(e);return n===void 0&&(n=new Set,s.set(e,n)),n}_getShaderStage(e){const s=this.shaderCache;let n=s.get(e);return n===void 0&&(n=new EAe(e),s.set(e,n)),n}}class EAe{constructor(e){this.id=CAe++,this.code=e,this.usedTimes=0}}function kAe(t,e,s,n,a,i,o){const l=new QX,c=new _Ae,d=new Set,u=[],h=a.logarithmicDepthBuffer,m=a.vertexTextures;let f=a.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(_){return d.add(_),_===0?"uv":`uv${_}`}function g(_,M,C,B,P){const H=B.fog,D=P.geometry,G=_.isMeshStandardMaterial?B.environment:null,O=(_.isMeshStandardMaterial?s:e).get(_.envMap||G),Q=O&&O.mapping===FS?O.image.height:null,ee=x[_.type];_.precision!==null&&(f=a.getMaxPrecision(_.precision),f!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",f,"instead."));const q=D.morphAttributes.position||D.morphAttributes.normal||D.morphAttributes.color,Z=q!==void 0?q.length:0;let F=0;D.morphAttributes.position!==void 0&&(F=1),D.morphAttributes.normal!==void 0&&(F=2),D.morphAttributes.color!==void 0&&(F=3);let z,V,W,ne;if(ee){const mr=Lu[ee];z=mr.vertexShader,V=mr.fragmentShader}else z=_.vertexShader,V=_.fragmentShader,c.update(_),W=c.getVertexShaderID(_),ne=c.getFragmentShaderID(_);const ie=t.getRenderTarget(),be=t.state.buffers.depth.getReversed(),ue=P.isInstancedMesh===!0,je=P.isBatchedMesh===!0,Be=!!_.map,oe=!!_.matcap,lt=!!O,se=!!_.aoMap,J=!!_.lightMap,Pe=!!_.bumpMap,xe=!!_.normalMap,He=!!_.displacementMap,$e=!!_.emissiveMap,Xe=!!_.metalnessMap,he=!!_.roughnessMap,ce=_.anisotropy>0,_e=_.clearcoat>0,Ke=_.dispersion>0,et=_.iridescence>0,st=_.sheen>0,ot=_.transmission>0,mt=ce&&!!_.anisotropyMap,At=_e&&!!_.clearcoatMap,Tt=_e&&!!_.clearcoatNormalMap,rt=_e&&!!_.clearcoatRoughnessMap,Dt=et&&!!_.iridescenceMap,Qt=et&&!!_.iridescenceThicknessMap,Yt=st&&!!_.sheenColorMap,kt=st&&!!_.sheenRoughnessMap,tt=!!_.specularMap,Ze=!!_.specularColorMap,ye=!!_.specularIntensityMap,fe=ot&&!!_.transmissionMap,Me=ot&&!!_.thicknessMap,Le=!!_.gradientMap,Ge=!!_.alphaMap,ct=_.alphaTest>0,ft=!!_.alphaHash,Ut=!!_.extensions;let Wt=t0;_.toneMapped&&(ie===null||ie.isXRRenderTarget===!0)&&(Wt=t.toneMapping);const ur={shaderID:ee,shaderType:_.type,shaderName:_.name,vertexShader:z,fragmentShader:V,defines:_.defines,customVertexShaderID:W,customFragmentShaderID:ne,isRawShaderMaterial:_.isRawShaderMaterial===!0,glslVersion:_.glslVersion,precision:f,batching:je,batchingColor:je&&P._colorsTexture!==null,instancing:ue,instancingColor:ue&&P.instanceColor!==null,instancingMorph:ue&&P.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:ie===null?t.outputColorSpace:ie.isXRRenderTarget===!0?ie.texture.colorSpace:Mg,alphaToCoverage:!!_.alphaToCoverage,map:Be,matcap:oe,envMap:lt,envMapMode:lt&&O.mapping,envMapCubeUVHeight:Q,aoMap:se,lightMap:J,bumpMap:Pe,normalMap:xe,displacementMap:m&&He,emissiveMap:$e,normalMapObjectSpace:xe&&_.normalMapType===Cfe,normalMapTangentSpace:xe&&_.normalMapType===DX,metalnessMap:Xe,roughnessMap:he,anisotropy:ce,anisotropyMap:mt,clearcoat:_e,clearcoatMap:At,clearcoatNormalMap:Tt,clearcoatRoughnessMap:rt,dispersion:Ke,iridescence:et,iridescenceMap:Dt,iridescenceThicknessMap:Qt,sheen:st,sheenColorMap:Yt,sheenRoughnessMap:kt,specularMap:tt,specularColorMap:Ze,specularIntensityMap:ye,transmission:ot,transmissionMap:fe,thicknessMap:Me,gradientMap:Le,opaque:_.transparent===!1&&_.blending===ng&&_.alphaToCoverage===!1,alphaMap:Ge,alphaTest:ct,alphaHash:ft,combine:_.combine,mapUv:Be&&A(_.map.channel),aoMapUv:se&&A(_.aoMap.channel),lightMapUv:J&&A(_.lightMap.channel),bumpMapUv:Pe&&A(_.bumpMap.channel),normalMapUv:xe&&A(_.normalMap.channel),displacementMapUv:He&&A(_.displacementMap.channel),emissiveMapUv:$e&&A(_.emissiveMap.channel),metalnessMapUv:Xe&&A(_.metalnessMap.channel),roughnessMapUv:he&&A(_.roughnessMap.channel),anisotropyMapUv:mt&&A(_.anisotropyMap.channel),clearcoatMapUv:At&&A(_.clearcoatMap.channel),clearcoatNormalMapUv:Tt&&A(_.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:rt&&A(_.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&A(_.iridescenceMap.channel),iridescenceThicknessMapUv:Qt&&A(_.iridescenceThicknessMap.channel),sheenColorMapUv:Yt&&A(_.sheenColorMap.channel),sheenRoughnessMapUv:kt&&A(_.sheenRoughnessMap.channel),specularMapUv:tt&&A(_.specularMap.channel),specularColorMapUv:Ze&&A(_.specularColorMap.channel),specularIntensityMapUv:ye&&A(_.specularIntensityMap.channel),transmissionMapUv:fe&&A(_.transmissionMap.channel),thicknessMapUv:Me&&A(_.thicknessMap.channel),alphaMapUv:Ge&&A(_.alphaMap.channel),vertexTangents:!!D.attributes.tangent&&(xe||ce),vertexColors:_.vertexColors,vertexAlphas:_.vertexColors===!0&&!!D.attributes.color&&D.attributes.color.itemSize===4,pointsUvs:P.isPoints===!0&&!!D.attributes.uv&&(Be||Ge),fog:!!H,useFog:_.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:_.flatShading===!0,sizeAttenuation:_.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:be,skinning:P.isSkinnedMesh===!0,morphTargets:D.morphAttributes.position!==void 0,morphNormals:D.morphAttributes.normal!==void 0,morphColors:D.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:F,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:_.dithering,shadowMapEnabled:t.shadowMap.enabled&&C.length>0,shadowMapType:t.shadowMap.type,toneMapping:Wt,decodeVideoTexture:Be&&_.map.isVideoTexture===!0&&zs.getTransfer(_.map.colorSpace)===bn,decodeVideoTextureEmissive:$e&&_.emissiveMap.isVideoTexture===!0&&zs.getTransfer(_.emissiveMap.colorSpace)===bn,premultipliedAlpha:_.premultipliedAlpha,doubleSided:_.side===uf,flipSided:_.side===Pl,useDepthPacking:_.depthPacking>=0,depthPacking:_.depthPacking||0,index0AttributeName:_.index0AttributeName,extensionClipCullDistance:Ut&&_.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ut&&_.extensions.multiDraw===!0||je)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:_.customProgramCacheKey()};return ur.vertexUv1s=d.has(1),ur.vertexUv2s=d.has(2),ur.vertexUv3s=d.has(3),d.clear(),ur}function b(_){const M=[];if(_.shaderID?M.push(_.shaderID):(M.push(_.customVertexShaderID),M.push(_.customFragmentShaderID)),_.defines!==void 0)for(const C in _.defines)M.push(C),M.push(_.defines[C]);return _.isRawShaderMaterial===!1&&(w(M,_),v(M,_),M.push(t.outputColorSpace)),M.push(_.customProgramCacheKey),M.join()}function w(_,M){_.push(M.precision),_.push(M.outputColorSpace),_.push(M.envMapMode),_.push(M.envMapCubeUVHeight),_.push(M.mapUv),_.push(M.alphaMapUv),_.push(M.lightMapUv),_.push(M.aoMapUv),_.push(M.bumpMapUv),_.push(M.normalMapUv),_.push(M.displacementMapUv),_.push(M.emissiveMapUv),_.push(M.metalnessMapUv),_.push(M.roughnessMapUv),_.push(M.anisotropyMapUv),_.push(M.clearcoatMapUv),_.push(M.clearcoatNormalMapUv),_.push(M.clearcoatRoughnessMapUv),_.push(M.iridescenceMapUv),_.push(M.iridescenceThicknessMapUv),_.push(M.sheenColorMapUv),_.push(M.sheenRoughnessMapUv),_.push(M.specularMapUv),_.push(M.specularColorMapUv),_.push(M.specularIntensityMapUv),_.push(M.transmissionMapUv),_.push(M.thicknessMapUv),_.push(M.combine),_.push(M.fogExp2),_.push(M.sizeAttenuation),_.push(M.morphTargetsCount),_.push(M.morphAttributeCount),_.push(M.numDirLights),_.push(M.numPointLights),_.push(M.numSpotLights),_.push(M.numSpotLightMaps),_.push(M.numHemiLights),_.push(M.numRectAreaLights),_.push(M.numDirLightShadows),_.push(M.numPointLightShadows),_.push(M.numSpotLightShadows),_.push(M.numSpotLightShadowsWithMaps),_.push(M.numLightProbes),_.push(M.shadowMapType),_.push(M.toneMapping),_.push(M.numClippingPlanes),_.push(M.numClipIntersection),_.push(M.depthPacking)}function v(_,M){l.disableAll(),M.supportsVertexTextures&&l.enable(0),M.instancing&&l.enable(1),M.instancingColor&&l.enable(2),M.instancingMorph&&l.enable(3),M.matcap&&l.enable(4),M.envMap&&l.enable(5),M.normalMapObjectSpace&&l.enable(6),M.normalMapTangentSpace&&l.enable(7),M.clearcoat&&l.enable(8),M.iridescence&&l.enable(9),M.alphaTest&&l.enable(10),M.vertexColors&&l.enable(11),M.vertexAlphas&&l.enable(12),M.vertexUv1s&&l.enable(13),M.vertexUv2s&&l.enable(14),M.vertexUv3s&&l.enable(15),M.vertexTangents&&l.enable(16),M.anisotropy&&l.enable(17),M.alphaHash&&l.enable(18),M.batching&&l.enable(19),M.dispersion&&l.enable(20),M.batchingColor&&l.enable(21),_.push(l.mask),l.disableAll(),M.fog&&l.enable(0),M.useFog&&l.enable(1),M.flatShading&&l.enable(2),M.logarithmicDepthBuffer&&l.enable(3),M.reverseDepthBuffer&&l.enable(4),M.skinning&&l.enable(5),M.morphTargets&&l.enable(6),M.morphNormals&&l.enable(7),M.morphColors&&l.enable(8),M.premultipliedAlpha&&l.enable(9),M.shadowMapEnabled&&l.enable(10),M.doubleSided&&l.enable(11),M.flipSided&&l.enable(12),M.useDepthPacking&&l.enable(13),M.dithering&&l.enable(14),M.transmission&&l.enable(15),M.sheen&&l.enable(16),M.opaque&&l.enable(17),M.pointsUvs&&l.enable(18),M.decodeVideoTexture&&l.enable(19),M.decodeVideoTextureEmissive&&l.enable(20),M.alphaToCoverage&&l.enable(21),_.push(l.mask)}function j(_){const M=x[_.type];let C;if(M){const B=Lu[M];C=sme.clone(B.uniforms)}else C=_.uniforms;return C}function N(_,M){let C;for(let B=0,P=u.length;B<P;B++){const H=u[B];if(H.cacheKey===M){C=H,++C.usedTimes;break}}return C===void 0&&(C=new SAe(t,M,_,i),u.push(C)),C}function S(_){if(--_.usedTimes===0){const M=u.indexOf(_);u[M]=u[u.length-1],u.pop(),_.destroy()}}function T(_){c.remove(_)}function I(){c.dispose()}return{getParameters:g,getProgramCacheKey:b,getUniforms:j,acquireProgram:N,releaseProgram:S,releaseShaderCache:T,programs:u,dispose:I}}function TAe(){let t=new WeakMap;function e(o){return t.has(o)}function s(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function n(o){t.delete(o)}function a(o,l,c){t.get(o)[l]=c}function i(){t=new WeakMap}return{has:e,get:s,remove:n,update:a,dispose:i}}function BAe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function iO(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function oO(){const t=[];let e=0;const s=[],n=[],a=[];function i(){e=0,s.length=0,n.length=0,a.length=0}function o(h,m,f,x,A,g){let b=t[e];return b===void 0?(b={id:h.id,object:h,geometry:m,material:f,groupOrder:x,renderOrder:h.renderOrder,z:A,group:g},t[e]=b):(b.id=h.id,b.object=h,b.geometry=m,b.material=f,b.groupOrder=x,b.renderOrder=h.renderOrder,b.z=A,b.group=g),e++,b}function l(h,m,f,x,A,g){const b=o(h,m,f,x,A,g);f.transmission>0?n.push(b):f.transparent===!0?a.push(b):s.push(b)}function c(h,m,f,x,A,g){const b=o(h,m,f,x,A,g);f.transmission>0?n.unshift(b):f.transparent===!0?a.unshift(b):s.unshift(b)}function d(h,m){s.length>1&&s.sort(h||BAe),n.length>1&&n.sort(m||iO),a.length>1&&a.sort(m||iO)}function u(){for(let h=e,m=t.length;h<m;h++){const f=t[h];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:s,transmissive:n,transparent:a,init:i,push:l,unshift:c,finish:u,sort:d}}function MAe(){let t=new WeakMap;function e(n,a){const i=t.get(n);let o;return i===void 0?(o=new oO,t.set(n,[o])):a>=i.length?(o=new oO,i.push(o)):o=i[a],o}function s(){t=new WeakMap}return{get:e,dispose:s}}function FAe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let s;switch(e.type){case"DirectionalLight":s={direction:new Ft,color:new Gs};break;case"SpotLight":s={position:new Ft,direction:new Ft,color:new Gs,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":s={position:new Ft,color:new Gs,distance:0,decay:0};break;case"HemisphereLight":s={direction:new Ft,skyColor:new Gs,groundColor:new Gs};break;case"RectAreaLight":s={color:new Gs,position:new Ft,halfWidth:new Ft,halfHeight:new Ft};break}return t[e.id]=s,s}}}function PAe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let s;switch(e.type){case"DirectionalLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new cn};break;case"SpotLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new cn};break;case"PointLight":s={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new cn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=s,s}}}let IAe=0;function LAe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function DAe(t){const e=new FAe,s=PAe(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)n.probe.push(new Ft);const a=new Ft,i=new _a,o=new _a;function l(d){let u=0,h=0,m=0;for(let _=0;_<9;_++)n.probe[_].set(0,0,0);let f=0,x=0,A=0,g=0,b=0,w=0,v=0,j=0,N=0,S=0,T=0;d.sort(LAe);for(let _=0,M=d.length;_<M;_++){const C=d[_],B=C.color,P=C.intensity,H=C.distance,D=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)u+=B.r*P,h+=B.g*P,m+=B.b*P;else if(C.isLightProbe){for(let G=0;G<9;G++)n.probe[G].addScaledVector(C.sh.coefficients[G],P);T++}else if(C.isDirectionalLight){const G=e.get(C);if(G.color.copy(C.color).multiplyScalar(C.intensity),C.castShadow){const O=C.shadow,Q=s.get(C);Q.shadowIntensity=O.intensity,Q.shadowBias=O.bias,Q.shadowNormalBias=O.normalBias,Q.shadowRadius=O.radius,Q.shadowMapSize=O.mapSize,n.directionalShadow[f]=Q,n.directionalShadowMap[f]=D,n.directionalShadowMatrix[f]=C.shadow.matrix,w++}n.directional[f]=G,f++}else if(C.isSpotLight){const G=e.get(C);G.position.setFromMatrixPosition(C.matrixWorld),G.color.copy(B).multiplyScalar(P),G.distance=H,G.coneCos=Math.cos(C.angle),G.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),G.decay=C.decay,n.spot[A]=G;const O=C.shadow;if(C.map&&(n.spotLightMap[N]=C.map,N++,O.updateMatrices(C),C.castShadow&&S++),n.spotLightMatrix[A]=O.matrix,C.castShadow){const Q=s.get(C);Q.shadowIntensity=O.intensity,Q.shadowBias=O.bias,Q.shadowNormalBias=O.normalBias,Q.shadowRadius=O.radius,Q.shadowMapSize=O.mapSize,n.spotShadow[A]=Q,n.spotShadowMap[A]=D,j++}A++}else if(C.isRectAreaLight){const G=e.get(C);G.color.copy(B).multiplyScalar(P),G.halfWidth.set(C.width*.5,0,0),G.halfHeight.set(0,C.height*.5,0),n.rectArea[g]=G,g++}else if(C.isPointLight){const G=e.get(C);if(G.color.copy(C.color).multiplyScalar(C.intensity),G.distance=C.distance,G.decay=C.decay,C.castShadow){const O=C.shadow,Q=s.get(C);Q.shadowIntensity=O.intensity,Q.shadowBias=O.bias,Q.shadowNormalBias=O.normalBias,Q.shadowRadius=O.radius,Q.shadowMapSize=O.mapSize,Q.shadowCameraNear=O.camera.near,Q.shadowCameraFar=O.camera.far,n.pointShadow[x]=Q,n.pointShadowMap[x]=D,n.pointShadowMatrix[x]=C.shadow.matrix,v++}n.point[x]=G,x++}else if(C.isHemisphereLight){const G=e.get(C);G.skyColor.copy(C.color).multiplyScalar(P),G.groundColor.copy(C.groundColor).multiplyScalar(P),n.hemi[b]=G,b++}}g>0&&(t.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=xr.LTC_FLOAT_1,n.rectAreaLTC2=xr.LTC_FLOAT_2):(n.rectAreaLTC1=xr.LTC_HALF_1,n.rectAreaLTC2=xr.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=h,n.ambient[2]=m;const I=n.hash;(I.directionalLength!==f||I.pointLength!==x||I.spotLength!==A||I.rectAreaLength!==g||I.hemiLength!==b||I.numDirectionalShadows!==w||I.numPointShadows!==v||I.numSpotShadows!==j||I.numSpotMaps!==N||I.numLightProbes!==T)&&(n.directional.length=f,n.spot.length=A,n.rectArea.length=g,n.point.length=x,n.hemi.length=b,n.directionalShadow.length=w,n.directionalShadowMap.length=w,n.pointShadow.length=v,n.pointShadowMap.length=v,n.spotShadow.length=j,n.spotShadowMap.length=j,n.directionalShadowMatrix.length=w,n.pointShadowMatrix.length=v,n.spotLightMatrix.length=j+N-S,n.spotLightMap.length=N,n.numSpotLightShadowsWithMaps=S,n.numLightProbes=T,I.directionalLength=f,I.pointLength=x,I.spotLength=A,I.rectAreaLength=g,I.hemiLength=b,I.numDirectionalShadows=w,I.numPointShadows=v,I.numSpotShadows=j,I.numSpotMaps=N,I.numLightProbes=T,n.version=IAe++)}function c(d,u){let h=0,m=0,f=0,x=0,A=0;const g=u.matrixWorldInverse;for(let b=0,w=d.length;b<w;b++){const v=d[b];if(v.isDirectionalLight){const j=n.directional[h];j.direction.setFromMatrixPosition(v.matrixWorld),a.setFromMatrixPosition(v.target.matrixWorld),j.direction.sub(a),j.direction.transformDirection(g),h++}else if(v.isSpotLight){const j=n.spot[f];j.position.setFromMatrixPosition(v.matrixWorld),j.position.applyMatrix4(g),j.direction.setFromMatrixPosition(v.matrixWorld),a.setFromMatrixPosition(v.target.matrixWorld),j.direction.sub(a),j.direction.transformDirection(g),f++}else if(v.isRectAreaLight){const j=n.rectArea[x];j.position.setFromMatrixPosition(v.matrixWorld),j.position.applyMatrix4(g),o.identity(),i.copy(v.matrixWorld),i.premultiply(g),o.extractRotation(i),j.halfWidth.set(v.width*.5,0,0),j.halfHeight.set(0,v.height*.5,0),j.halfWidth.applyMatrix4(o),j.halfHeight.applyMatrix4(o),x++}else if(v.isPointLight){const j=n.point[m];j.position.setFromMatrixPosition(v.matrixWorld),j.position.applyMatrix4(g),m++}else if(v.isHemisphereLight){const j=n.hemi[A];j.direction.setFromMatrixPosition(v.matrixWorld),j.direction.transformDirection(g),A++}}}return{setup:l,setupView:c,state:n}}function lO(t){const e=new DAe(t),s=[],n=[];function a(u){d.camera=u,s.length=0,n.length=0}function i(u){s.push(u)}function o(u){n.push(u)}function l(){e.setup(s)}function c(u){e.setupView(s,u)}const d={lightsArray:s,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:d,setupLights:l,setupLightsView:c,pushLight:i,pushShadow:o}}function RAe(t){let e=new WeakMap;function s(a,i=0){const o=e.get(a);let l;return o===void 0?(l=new lO(t),e.set(a,[l])):i>=o.length?(l=new lO(t),o.push(l)):l=o[i],l}function n(){e=new WeakMap}return{get:s,dispose:n}}const OAe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,UAe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function HAe(t,e,s){let n=new KP;const a=new cn,i=new cn,o=new Ca,l=new ume({depthPacking:Sfe}),c=new hme,d={},u=s.maxTextureSize,h={[c0]:Pl,[Pl]:c0,[uf]:uf},m=new d0({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new cn},radius:{value:4}},vertexShader:OAe,fragmentShader:UAe}),f=m.clone();f.defines.HORIZONTAL_PASS=1;const x=new Sx;x.setAttribute("position",new qu(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Qd(x,m),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=NX;let b=this.type;this.render=function(S,T,I){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||S.length===0)return;const _=t.getRenderTarget(),M=t.getActiveCubeFace(),C=t.getActiveMipmapLevel(),B=t.state;B.setBlending(e0),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const P=b!==nf&&this.type===nf,H=b===nf&&this.type!==nf;for(let D=0,G=S.length;D<G;D++){const O=S[D],Q=O.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;a.copy(Q.mapSize);const ee=Q.getFrameExtents();if(a.multiply(ee),i.copy(Q.mapSize),(a.x>u||a.y>u)&&(a.x>u&&(i.x=Math.floor(u/ee.x),a.x=i.x*ee.x,Q.mapSize.x=i.x),a.y>u&&(i.y=Math.floor(u/ee.y),a.y=i.y*ee.y,Q.mapSize.y=i.y)),Q.map===null||P===!0||H===!0){const Z=this.type!==nf?{minFilter:Wd,magFilter:Wd}:{};Q.map!==null&&Q.map.dispose(),Q.map=new lx(a.x,a.y,Z),Q.map.texture.name=O.name+".shadowMap",Q.camera.updateProjectionMatrix()}t.setRenderTarget(Q.map),t.clear();const q=Q.getViewportCount();for(let Z=0;Z<q;Z++){const F=Q.getViewport(Z);o.set(i.x*F.x,i.y*F.y,i.x*F.z,i.y*F.w),B.viewport(o),Q.updateMatrices(O,Z),n=Q.getFrustum(),j(T,I,Q.camera,O,this.type)}Q.isPointLightShadow!==!0&&this.type===nf&&w(Q,I),Q.needsUpdate=!1}b=this.type,g.needsUpdate=!1,t.setRenderTarget(_,M,C)};function w(S,T){const I=e.update(A);m.defines.VSM_SAMPLES!==S.blurSamples&&(m.defines.VSM_SAMPLES=S.blurSamples,f.defines.VSM_SAMPLES=S.blurSamples,m.needsUpdate=!0,f.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new lx(a.x,a.y)),m.uniforms.shadow_pass.value=S.map.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,t.setRenderTarget(S.mapPass),t.clear(),t.renderBufferDirect(T,null,I,m,A,null),f.uniforms.shadow_pass.value=S.mapPass.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,t.setRenderTarget(S.map),t.clear(),t.renderBufferDirect(T,null,I,f,A,null)}function v(S,T,I,_){let M=null;const C=I.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(C!==void 0)M=C;else if(M=I.isPointLight===!0?c:l,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const B=M.uuid,P=T.uuid;let H=d[B];H===void 0&&(H={},d[B]=H);let D=H[P];D===void 0&&(D=M.clone(),H[P]=D,T.addEventListener("dispose",N)),M=D}if(M.visible=T.visible,M.wireframe=T.wireframe,_===nf?M.side=T.shadowSide!==null?T.shadowSide:T.side:M.side=T.shadowSide!==null?T.shadowSide:h[T.side],M.alphaMap=T.alphaMap,M.alphaTest=T.alphaTest,M.map=T.map,M.clipShadows=T.clipShadows,M.clippingPlanes=T.clippingPlanes,M.clipIntersection=T.clipIntersection,M.displacementMap=T.displacementMap,M.displacementScale=T.displacementScale,M.displacementBias=T.displacementBias,M.wireframeLinewidth=T.wireframeLinewidth,M.linewidth=T.linewidth,I.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const B=t.properties.get(M);B.light=I}return M}function j(S,T,I,_,M){if(S.visible===!1)return;if(S.layers.test(T.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&M===nf)&&(!S.frustumCulled||n.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,S.matrixWorld);const P=e.update(S),H=S.material;if(Array.isArray(H)){const D=P.groups;for(let G=0,O=D.length;G<O;G++){const Q=D[G],ee=H[Q.materialIndex];if(ee&&ee.visible){const q=v(S,ee,_,M);S.onBeforeShadow(t,S,T,I,P,q,Q),t.renderBufferDirect(I,null,P,q,S,Q),S.onAfterShadow(t,S,T,I,P,q,Q)}}}else if(H.visible){const D=v(S,H,_,M);S.onBeforeShadow(t,S,T,I,P,D,null),t.renderBufferDirect(I,null,P,D,S,null),S.onAfterShadow(t,S,T,I,P,D,null)}}const B=S.children;for(let P=0,H=B.length;P<H;P++)j(B[P],T,I,_,M)}function N(S){S.target.removeEventListener("dispose",N);for(const I in d){const _=d[I],M=S.target.uuid;M in _&&(_[M].dispose(),delete _[M])}}}const QAe={[dB]:uB,[hB]:pB,[fB]:xB,[_g]:mB,[uB]:dB,[pB]:hB,[xB]:fB,[mB]:_g};function $Ae(t,e){function s(){let fe=!1;const Me=new Ca;let Le=null;const Ge=new Ca(0,0,0,0);return{setMask:function(ct){Le!==ct&&!fe&&(t.colorMask(ct,ct,ct,ct),Le=ct)},setLocked:function(ct){fe=ct},setClear:function(ct,ft,Ut,Wt,ur){ur===!0&&(ct*=Wt,ft*=Wt,Ut*=Wt),Me.set(ct,ft,Ut,Wt),Ge.equals(Me)===!1&&(t.clearColor(ct,ft,Ut,Wt),Ge.copy(Me))},reset:function(){fe=!1,Le=null,Ge.set(-1,0,0,0)}}}function n(){let fe=!1,Me=!1,Le=null,Ge=null,ct=null;return{setReversed:function(ft){if(Me!==ft){const Ut=e.get("EXT_clip_control");Me?Ut.clipControlEXT(Ut.LOWER_LEFT_EXT,Ut.ZERO_TO_ONE_EXT):Ut.clipControlEXT(Ut.LOWER_LEFT_EXT,Ut.NEGATIVE_ONE_TO_ONE_EXT);const Wt=ct;ct=null,this.setClear(Wt)}Me=ft},getReversed:function(){return Me},setTest:function(ft){ft?ie(t.DEPTH_TEST):be(t.DEPTH_TEST)},setMask:function(ft){Le!==ft&&!fe&&(t.depthMask(ft),Le=ft)},setFunc:function(ft){if(Me&&(ft=QAe[ft]),Ge!==ft){switch(ft){case dB:t.depthFunc(t.NEVER);break;case uB:t.depthFunc(t.ALWAYS);break;case hB:t.depthFunc(t.LESS);break;case _g:t.depthFunc(t.LEQUAL);break;case fB:t.depthFunc(t.EQUAL);break;case mB:t.depthFunc(t.GEQUAL);break;case pB:t.depthFunc(t.GREATER);break;case xB:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ge=ft}},setLocked:function(ft){fe=ft},setClear:function(ft){ct!==ft&&(Me&&(ft=1-ft),t.clearDepth(ft),ct=ft)},reset:function(){fe=!1,Le=null,Ge=null,ct=null,Me=!1}}}function a(){let fe=!1,Me=null,Le=null,Ge=null,ct=null,ft=null,Ut=null,Wt=null,ur=null;return{setTest:function(mr){fe||(mr?ie(t.STENCIL_TEST):be(t.STENCIL_TEST))},setMask:function(mr){Me!==mr&&!fe&&(t.stencilMask(mr),Me=mr)},setFunc:function(mr,or,Jr){(Le!==mr||Ge!==or||ct!==Jr)&&(t.stencilFunc(mr,or,Jr),Le=mr,Ge=or,ct=Jr)},setOp:function(mr,or,Jr){(ft!==mr||Ut!==or||Wt!==Jr)&&(t.stencilOp(mr,or,Jr),ft=mr,Ut=or,Wt=Jr)},setLocked:function(mr){fe=mr},setClear:function(mr){ur!==mr&&(t.clearStencil(mr),ur=mr)},reset:function(){fe=!1,Me=null,Le=null,Ge=null,ct=null,ft=null,Ut=null,Wt=null,ur=null}}}const i=new s,o=new n,l=new a,c=new WeakMap,d=new WeakMap;let u={},h={},m=new WeakMap,f=[],x=null,A=!1,g=null,b=null,w=null,v=null,j=null,N=null,S=null,T=new Gs(0,0,0),I=0,_=!1,M=null,C=null,B=null,P=null,H=null;const D=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,O=0;const Q=t.getParameter(t.VERSION);Q.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(Q)[1]),G=O>=1):Q.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),G=O>=2);let ee=null,q={};const Z=t.getParameter(t.SCISSOR_BOX),F=t.getParameter(t.VIEWPORT),z=new Ca().fromArray(Z),V=new Ca().fromArray(F);function W(fe,Me,Le,Ge){const ct=new Uint8Array(4),ft=t.createTexture();t.bindTexture(fe,ft),t.texParameteri(fe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(fe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ut=0;Ut<Le;Ut++)fe===t.TEXTURE_3D||fe===t.TEXTURE_2D_ARRAY?t.texImage3D(Me,0,t.RGBA,1,1,Ge,0,t.RGBA,t.UNSIGNED_BYTE,ct):t.texImage2D(Me+Ut,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ct);return ft}const ne={};ne[t.TEXTURE_2D]=W(t.TEXTURE_2D,t.TEXTURE_2D,1),ne[t.TEXTURE_CUBE_MAP]=W(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ne[t.TEXTURE_2D_ARRAY]=W(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ne[t.TEXTURE_3D]=W(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),l.setClear(0),ie(t.DEPTH_TEST),o.setFunc(_g),Pe(!1),xe(uR),ie(t.CULL_FACE),se(e0);function ie(fe){u[fe]!==!0&&(t.enable(fe),u[fe]=!0)}function be(fe){u[fe]!==!1&&(t.disable(fe),u[fe]=!1)}function ue(fe,Me){return h[fe]!==Me?(t.bindFramebuffer(fe,Me),h[fe]=Me,fe===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Me),fe===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Me),!0):!1}function je(fe,Me){let Le=f,Ge=!1;if(fe){Le=m.get(Me),Le===void 0&&(Le=[],m.set(Me,Le));const ct=fe.textures;if(Le.length!==ct.length||Le[0]!==t.COLOR_ATTACHMENT0){for(let ft=0,Ut=ct.length;ft<Ut;ft++)Le[ft]=t.COLOR_ATTACHMENT0+ft;Le.length=ct.length,Ge=!0}}else Le[0]!==t.BACK&&(Le[0]=t.BACK,Ge=!0);Ge&&t.drawBuffers(Le)}function Be(fe){return x!==fe?(t.useProgram(fe),x=fe,!0):!1}const oe={[Cp]:t.FUNC_ADD,[Yhe]:t.FUNC_SUBTRACT,[Jhe]:t.FUNC_REVERSE_SUBTRACT};oe[Zhe]=t.MIN,oe[efe]=t.MAX;const lt={[tfe]:t.ZERO,[rfe]:t.ONE,[sfe]:t.SRC_COLOR,[lB]:t.SRC_ALPHA,[cfe]:t.SRC_ALPHA_SATURATE,[ofe]:t.DST_COLOR,[afe]:t.DST_ALPHA,[nfe]:t.ONE_MINUS_SRC_COLOR,[cB]:t.ONE_MINUS_SRC_ALPHA,[lfe]:t.ONE_MINUS_DST_COLOR,[ife]:t.ONE_MINUS_DST_ALPHA,[dfe]:t.CONSTANT_COLOR,[ufe]:t.ONE_MINUS_CONSTANT_COLOR,[hfe]:t.CONSTANT_ALPHA,[ffe]:t.ONE_MINUS_CONSTANT_ALPHA};function se(fe,Me,Le,Ge,ct,ft,Ut,Wt,ur,mr){if(fe===e0){A===!0&&(be(t.BLEND),A=!1);return}if(A===!1&&(ie(t.BLEND),A=!0),fe!==Xhe){if(fe!==g||mr!==_){if((b!==Cp||j!==Cp)&&(t.blendEquation(t.FUNC_ADD),b=Cp,j=Cp),mr)switch(fe){case ng:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case hR:t.blendFunc(t.ONE,t.ONE);break;case fR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case mR:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case ng:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case hR:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case fR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case mR:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}w=null,v=null,N=null,S=null,T.set(0,0,0),I=0,g=fe,_=mr}return}ct=ct||Me,ft=ft||Le,Ut=Ut||Ge,(Me!==b||ct!==j)&&(t.blendEquationSeparate(oe[Me],oe[ct]),b=Me,j=ct),(Le!==w||Ge!==v||ft!==N||Ut!==S)&&(t.blendFuncSeparate(lt[Le],lt[Ge],lt[ft],lt[Ut]),w=Le,v=Ge,N=ft,S=Ut),(Wt.equals(T)===!1||ur!==I)&&(t.blendColor(Wt.r,Wt.g,Wt.b,ur),T.copy(Wt),I=ur),g=fe,_=!1}function J(fe,Me){fe.side===uf?be(t.CULL_FACE):ie(t.CULL_FACE);let Le=fe.side===Pl;Me&&(Le=!Le),Pe(Le),fe.blending===ng&&fe.transparent===!1?se(e0):se(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),o.setFunc(fe.depthFunc),o.setTest(fe.depthTest),o.setMask(fe.depthWrite),i.setMask(fe.colorWrite);const Ge=fe.stencilWrite;l.setTest(Ge),Ge&&(l.setMask(fe.stencilWriteMask),l.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),l.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),$e(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?ie(t.SAMPLE_ALPHA_TO_COVERAGE):be(t.SAMPLE_ALPHA_TO_COVERAGE)}function Pe(fe){M!==fe&&(fe?t.frontFace(t.CW):t.frontFace(t.CCW),M=fe)}function xe(fe){fe!==qhe?(ie(t.CULL_FACE),fe!==C&&(fe===uR?t.cullFace(t.BACK):fe===Khe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):be(t.CULL_FACE),C=fe}function He(fe){fe!==B&&(G&&t.lineWidth(fe),B=fe)}function $e(fe,Me,Le){fe?(ie(t.POLYGON_OFFSET_FILL),(P!==Me||H!==Le)&&(t.polygonOffset(Me,Le),P=Me,H=Le)):be(t.POLYGON_OFFSET_FILL)}function Xe(fe){fe?ie(t.SCISSOR_TEST):be(t.SCISSOR_TEST)}function he(fe){fe===void 0&&(fe=t.TEXTURE0+D-1),ee!==fe&&(t.activeTexture(fe),ee=fe)}function ce(fe,Me,Le){Le===void 0&&(ee===null?Le=t.TEXTURE0+D-1:Le=ee);let Ge=q[Le];Ge===void 0&&(Ge={type:void 0,texture:void 0},q[Le]=Ge),(Ge.type!==fe||Ge.texture!==Me)&&(ee!==Le&&(t.activeTexture(Le),ee=Le),t.bindTexture(fe,Me||ne[fe]),Ge.type=fe,Ge.texture=Me)}function _e(){const fe=q[ee];fe!==void 0&&fe.type!==void 0&&(t.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function Ke(){try{t.compressedTexImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function et(){try{t.compressedTexImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function st(){try{t.texSubImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ot(){try{t.texSubImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function mt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function At(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Tt(){try{t.texStorage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function rt(){try{t.texStorage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Dt(){try{t.texImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Qt(){try{t.texImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Yt(fe){z.equals(fe)===!1&&(t.scissor(fe.x,fe.y,fe.z,fe.w),z.copy(fe))}function kt(fe){V.equals(fe)===!1&&(t.viewport(fe.x,fe.y,fe.z,fe.w),V.copy(fe))}function tt(fe,Me){let Le=d.get(Me);Le===void 0&&(Le=new WeakMap,d.set(Me,Le));let Ge=Le.get(fe);Ge===void 0&&(Ge=t.getUniformBlockIndex(Me,fe.name),Le.set(fe,Ge))}function Ze(fe,Me){const Ge=d.get(Me).get(fe);c.get(Me)!==Ge&&(t.uniformBlockBinding(Me,Ge,fe.__bindingPointIndex),c.set(Me,Ge))}function ye(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},ee=null,q={},h={},m=new WeakMap,f=[],x=null,A=!1,g=null,b=null,w=null,v=null,j=null,N=null,S=null,T=new Gs(0,0,0),I=0,_=!1,M=null,C=null,B=null,P=null,H=null,z.set(0,0,t.canvas.width,t.canvas.height),V.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),l.reset()}return{buffers:{color:i,depth:o,stencil:l},enable:ie,disable:be,bindFramebuffer:ue,drawBuffers:je,useProgram:Be,setBlending:se,setMaterial:J,setFlipSided:Pe,setCullFace:xe,setLineWidth:He,setPolygonOffset:$e,setScissorTest:Xe,activeTexture:he,bindTexture:ce,unbindTexture:_e,compressedTexImage2D:Ke,compressedTexImage3D:et,texImage2D:Dt,texImage3D:Qt,updateUBOMapping:tt,uniformBlockBinding:Ze,texStorage2D:Tt,texStorage3D:rt,texSubImage2D:st,texSubImage3D:ot,compressedTexSubImage2D:mt,compressedTexSubImage3D:At,scissor:Yt,viewport:kt,reset:ye}}function zAe(t,e,s,n,a,i,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new cn,u=new WeakMap;let h;const m=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(he,ce){return f?new OffscreenCanvas(he,ce):MN("canvas")}function A(he,ce,_e){let Ke=1;const et=Xe(he);if((et.width>_e||et.height>_e)&&(Ke=_e/Math.max(et.width,et.height)),Ke<1)if(typeof HTMLImageElement<"u"&&he instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&he instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&he instanceof ImageBitmap||typeof VideoFrame<"u"&&he instanceof VideoFrame){const st=Math.floor(Ke*et.width),ot=Math.floor(Ke*et.height);h===void 0&&(h=x(st,ot));const mt=ce?x(st,ot):h;return mt.width=st,mt.height=ot,mt.getContext("2d").drawImage(he,0,0,st,ot),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+et.width+"x"+et.height+") to ("+st+"x"+ot+")."),mt}else return"data"in he&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+et.width+"x"+et.height+")."),he;return he}function g(he){return he.generateMipmaps}function b(he){t.generateMipmap(he)}function w(he){return he.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:he.isWebGL3DRenderTarget?t.TEXTURE_3D:he.isWebGLArrayRenderTarget||he.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function v(he,ce,_e,Ke,et=!1){if(he!==null){if(t[he]!==void 0)return t[he];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+he+"'")}let st=ce;if(ce===t.RED&&(_e===t.FLOAT&&(st=t.R32F),_e===t.HALF_FLOAT&&(st=t.R16F),_e===t.UNSIGNED_BYTE&&(st=t.R8)),ce===t.RED_INTEGER&&(_e===t.UNSIGNED_BYTE&&(st=t.R8UI),_e===t.UNSIGNED_SHORT&&(st=t.R16UI),_e===t.UNSIGNED_INT&&(st=t.R32UI),_e===t.BYTE&&(st=t.R8I),_e===t.SHORT&&(st=t.R16I),_e===t.INT&&(st=t.R32I)),ce===t.RG&&(_e===t.FLOAT&&(st=t.RG32F),_e===t.HALF_FLOAT&&(st=t.RG16F),_e===t.UNSIGNED_BYTE&&(st=t.RG8)),ce===t.RG_INTEGER&&(_e===t.UNSIGNED_BYTE&&(st=t.RG8UI),_e===t.UNSIGNED_SHORT&&(st=t.RG16UI),_e===t.UNSIGNED_INT&&(st=t.RG32UI),_e===t.BYTE&&(st=t.RG8I),_e===t.SHORT&&(st=t.RG16I),_e===t.INT&&(st=t.RG32I)),ce===t.RGB_INTEGER&&(_e===t.UNSIGNED_BYTE&&(st=t.RGB8UI),_e===t.UNSIGNED_SHORT&&(st=t.RGB16UI),_e===t.UNSIGNED_INT&&(st=t.RGB32UI),_e===t.BYTE&&(st=t.RGB8I),_e===t.SHORT&&(st=t.RGB16I),_e===t.INT&&(st=t.RGB32I)),ce===t.RGBA_INTEGER&&(_e===t.UNSIGNED_BYTE&&(st=t.RGBA8UI),_e===t.UNSIGNED_SHORT&&(st=t.RGBA16UI),_e===t.UNSIGNED_INT&&(st=t.RGBA32UI),_e===t.BYTE&&(st=t.RGBA8I),_e===t.SHORT&&(st=t.RGBA16I),_e===t.INT&&(st=t.RGBA32I)),ce===t.RGB&&_e===t.UNSIGNED_INT_5_9_9_9_REV&&(st=t.RGB9_E5),ce===t.RGBA){const ot=et?TN:zs.getTransfer(Ke);_e===t.FLOAT&&(st=t.RGBA32F),_e===t.HALF_FLOAT&&(st=t.RGBA16F),_e===t.UNSIGNED_BYTE&&(st=ot===bn?t.SRGB8_ALPHA8:t.RGBA8),_e===t.UNSIGNED_SHORT_4_4_4_4&&(st=t.RGBA4),_e===t.UNSIGNED_SHORT_5_5_5_1&&(st=t.RGB5_A1)}return(st===t.R16F||st===t.R32F||st===t.RG16F||st===t.RG32F||st===t.RGBA16F||st===t.RGBA32F)&&e.get("EXT_color_buffer_float"),st}function j(he,ce){let _e;return he?ce===null||ce===ox||ce===Tg?_e=t.DEPTH24_STENCIL8:ce===hf?_e=t.DEPTH32F_STENCIL8:ce===Gv&&(_e=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ce===null||ce===ox||ce===Tg?_e=t.DEPTH_COMPONENT24:ce===hf?_e=t.DEPTH_COMPONENT32F:ce===Gv&&(_e=t.DEPTH_COMPONENT16),_e}function N(he,ce){return g(he)===!0||he.isFramebufferTexture&&he.minFilter!==Wd&&he.minFilter!==Hu?Math.log2(Math.max(ce.width,ce.height))+1:he.mipmaps!==void 0&&he.mipmaps.length>0?he.mipmaps.length:he.isCompressedTexture&&Array.isArray(he.image)?ce.mipmaps.length:1}function S(he){const ce=he.target;ce.removeEventListener("dispose",S),I(ce),ce.isVideoTexture&&u.delete(ce)}function T(he){const ce=he.target;ce.removeEventListener("dispose",T),M(ce)}function I(he){const ce=n.get(he);if(ce.__webglInit===void 0)return;const _e=he.source,Ke=m.get(_e);if(Ke){const et=Ke[ce.__cacheKey];et.usedTimes--,et.usedTimes===0&&_(he),Object.keys(Ke).length===0&&m.delete(_e)}n.remove(he)}function _(he){const ce=n.get(he);t.deleteTexture(ce.__webglTexture);const _e=he.source,Ke=m.get(_e);delete Ke[ce.__cacheKey],o.memory.textures--}function M(he){const ce=n.get(he);if(he.depthTexture&&(he.depthTexture.dispose(),n.remove(he.depthTexture)),he.isWebGLCubeRenderTarget)for(let Ke=0;Ke<6;Ke++){if(Array.isArray(ce.__webglFramebuffer[Ke]))for(let et=0;et<ce.__webglFramebuffer[Ke].length;et++)t.deleteFramebuffer(ce.__webglFramebuffer[Ke][et]);else t.deleteFramebuffer(ce.__webglFramebuffer[Ke]);ce.__webglDepthbuffer&&t.deleteRenderbuffer(ce.__webglDepthbuffer[Ke])}else{if(Array.isArray(ce.__webglFramebuffer))for(let Ke=0;Ke<ce.__webglFramebuffer.length;Ke++)t.deleteFramebuffer(ce.__webglFramebuffer[Ke]);else t.deleteFramebuffer(ce.__webglFramebuffer);if(ce.__webglDepthbuffer&&t.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let Ke=0;Ke<ce.__webglColorRenderbuffer.length;Ke++)ce.__webglColorRenderbuffer[Ke]&&t.deleteRenderbuffer(ce.__webglColorRenderbuffer[Ke]);ce.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}const _e=he.textures;for(let Ke=0,et=_e.length;Ke<et;Ke++){const st=n.get(_e[Ke]);st.__webglTexture&&(t.deleteTexture(st.__webglTexture),o.memory.textures--),n.remove(_e[Ke])}n.remove(he)}let C=0;function B(){C=0}function P(){const he=C;return he>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+he+" texture units while this GPU supports only "+a.maxTextures),C+=1,he}function H(he){const ce=[];return ce.push(he.wrapS),ce.push(he.wrapT),ce.push(he.wrapR||0),ce.push(he.magFilter),ce.push(he.minFilter),ce.push(he.anisotropy),ce.push(he.internalFormat),ce.push(he.format),ce.push(he.type),ce.push(he.generateMipmaps),ce.push(he.premultiplyAlpha),ce.push(he.flipY),ce.push(he.unpackAlignment),ce.push(he.colorSpace),ce.join()}function D(he,ce){const _e=n.get(he);if(he.isVideoTexture&&He(he),he.isRenderTargetTexture===!1&&he.version>0&&_e.__version!==he.version){const Ke=he.image;if(Ke===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ke.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{V(_e,he,ce);return}}s.bindTexture(t.TEXTURE_2D,_e.__webglTexture,t.TEXTURE0+ce)}function G(he,ce){const _e=n.get(he);if(he.version>0&&_e.__version!==he.version){V(_e,he,ce);return}s.bindTexture(t.TEXTURE_2D_ARRAY,_e.__webglTexture,t.TEXTURE0+ce)}function O(he,ce){const _e=n.get(he);if(he.version>0&&_e.__version!==he.version){V(_e,he,ce);return}s.bindTexture(t.TEXTURE_3D,_e.__webglTexture,t.TEXTURE0+ce)}function Q(he,ce){const _e=n.get(he);if(he.version>0&&_e.__version!==he.version){W(_e,he,ce);return}s.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture,t.TEXTURE0+ce)}const ee={[bB]:t.REPEAT,[Bp]:t.CLAMP_TO_EDGE,[yB]:t.MIRRORED_REPEAT},q={[Wd]:t.NEAREST,[jfe]:t.NEAREST_MIPMAP_NEAREST,[p2]:t.NEAREST_MIPMAP_LINEAR,[Hu]:t.LINEAR,[DC]:t.LINEAR_MIPMAP_NEAREST,[Mp]:t.LINEAR_MIPMAP_LINEAR},Z={[_fe]:t.NEVER,[Ffe]:t.ALWAYS,[Efe]:t.LESS,[RX]:t.LEQUAL,[kfe]:t.EQUAL,[Mfe]:t.GEQUAL,[Tfe]:t.GREATER,[Bfe]:t.NOTEQUAL};function F(he,ce){if(ce.type===hf&&e.has("OES_texture_float_linear")===!1&&(ce.magFilter===Hu||ce.magFilter===DC||ce.magFilter===p2||ce.magFilter===Mp||ce.minFilter===Hu||ce.minFilter===DC||ce.minFilter===p2||ce.minFilter===Mp)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(he,t.TEXTURE_WRAP_S,ee[ce.wrapS]),t.texParameteri(he,t.TEXTURE_WRAP_T,ee[ce.wrapT]),(he===t.TEXTURE_3D||he===t.TEXTURE_2D_ARRAY)&&t.texParameteri(he,t.TEXTURE_WRAP_R,ee[ce.wrapR]),t.texParameteri(he,t.TEXTURE_MAG_FILTER,q[ce.magFilter]),t.texParameteri(he,t.TEXTURE_MIN_FILTER,q[ce.minFilter]),ce.compareFunction&&(t.texParameteri(he,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(he,t.TEXTURE_COMPARE_FUNC,Z[ce.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ce.magFilter===Wd||ce.minFilter!==p2&&ce.minFilter!==Mp||ce.type===hf&&e.has("OES_texture_float_linear")===!1)return;if(ce.anisotropy>1||n.get(ce).__currentAnisotropy){const _e=e.get("EXT_texture_filter_anisotropic");t.texParameterf(he,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ce.anisotropy,a.getMaxAnisotropy())),n.get(ce).__currentAnisotropy=ce.anisotropy}}}function z(he,ce){let _e=!1;he.__webglInit===void 0&&(he.__webglInit=!0,ce.addEventListener("dispose",S));const Ke=ce.source;let et=m.get(Ke);et===void 0&&(et={},m.set(Ke,et));const st=H(ce);if(st!==he.__cacheKey){et[st]===void 0&&(et[st]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,_e=!0),et[st].usedTimes++;const ot=et[he.__cacheKey];ot!==void 0&&(et[he.__cacheKey].usedTimes--,ot.usedTimes===0&&_(ce)),he.__cacheKey=st,he.__webglTexture=et[st].texture}return _e}function V(he,ce,_e){let Ke=t.TEXTURE_2D;(ce.isDataArrayTexture||ce.isCompressedArrayTexture)&&(Ke=t.TEXTURE_2D_ARRAY),ce.isData3DTexture&&(Ke=t.TEXTURE_3D);const et=z(he,ce),st=ce.source;s.bindTexture(Ke,he.__webglTexture,t.TEXTURE0+_e);const ot=n.get(st);if(st.version!==ot.__version||et===!0){s.activeTexture(t.TEXTURE0+_e);const mt=zs.getPrimaries(zs.workingColorSpace),At=ce.colorSpace===Lm?null:zs.getPrimaries(ce.colorSpace),Tt=ce.colorSpace===Lm||mt===At?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ce.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ce.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);let rt=A(ce.image,!1,a.maxTextureSize);rt=$e(ce,rt);const Dt=i.convert(ce.format,ce.colorSpace),Qt=i.convert(ce.type);let Yt=v(ce.internalFormat,Dt,Qt,ce.colorSpace,ce.isVideoTexture);F(Ke,ce);let kt;const tt=ce.mipmaps,Ze=ce.isVideoTexture!==!0,ye=ot.__version===void 0||et===!0,fe=st.dataReady,Me=N(ce,rt);if(ce.isDepthTexture)Yt=j(ce.format===Bg,ce.type),ye&&(Ze?s.texStorage2D(t.TEXTURE_2D,1,Yt,rt.width,rt.height):s.texImage2D(t.TEXTURE_2D,0,Yt,rt.width,rt.height,0,Dt,Qt,null));else if(ce.isDataTexture)if(tt.length>0){Ze&&ye&&s.texStorage2D(t.TEXTURE_2D,Me,Yt,tt[0].width,tt[0].height);for(let Le=0,Ge=tt.length;Le<Ge;Le++)kt=tt[Le],Ze?fe&&s.texSubImage2D(t.TEXTURE_2D,Le,0,0,kt.width,kt.height,Dt,Qt,kt.data):s.texImage2D(t.TEXTURE_2D,Le,Yt,kt.width,kt.height,0,Dt,Qt,kt.data);ce.generateMipmaps=!1}else Ze?(ye&&s.texStorage2D(t.TEXTURE_2D,Me,Yt,rt.width,rt.height),fe&&s.texSubImage2D(t.TEXTURE_2D,0,0,0,rt.width,rt.height,Dt,Qt,rt.data)):s.texImage2D(t.TEXTURE_2D,0,Yt,rt.width,rt.height,0,Dt,Qt,rt.data);else if(ce.isCompressedTexture)if(ce.isCompressedArrayTexture){Ze&&ye&&s.texStorage3D(t.TEXTURE_2D_ARRAY,Me,Yt,tt[0].width,tt[0].height,rt.depth);for(let Le=0,Ge=tt.length;Le<Ge;Le++)if(kt=tt[Le],ce.format!==Hd)if(Dt!==null)if(Ze){if(fe)if(ce.layerUpdates.size>0){const ct=RR(kt.width,kt.height,ce.format,ce.type);for(const ft of ce.layerUpdates){const Ut=kt.data.subarray(ft*ct/kt.data.BYTES_PER_ELEMENT,(ft+1)*ct/kt.data.BYTES_PER_ELEMENT);s.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,ft,kt.width,kt.height,1,Dt,Ut)}ce.clearLayerUpdates()}else s.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,0,kt.width,kt.height,rt.depth,Dt,kt.data)}else s.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Le,Yt,kt.width,kt.height,rt.depth,0,kt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ze?fe&&s.texSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,0,kt.width,kt.height,rt.depth,Dt,Qt,kt.data):s.texImage3D(t.TEXTURE_2D_ARRAY,Le,Yt,kt.width,kt.height,rt.depth,0,Dt,Qt,kt.data)}else{Ze&&ye&&s.texStorage2D(t.TEXTURE_2D,Me,Yt,tt[0].width,tt[0].height);for(let Le=0,Ge=tt.length;Le<Ge;Le++)kt=tt[Le],ce.format!==Hd?Dt!==null?Ze?fe&&s.compressedTexSubImage2D(t.TEXTURE_2D,Le,0,0,kt.width,kt.height,Dt,kt.data):s.compressedTexImage2D(t.TEXTURE_2D,Le,Yt,kt.width,kt.height,0,kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ze?fe&&s.texSubImage2D(t.TEXTURE_2D,Le,0,0,kt.width,kt.height,Dt,Qt,kt.data):s.texImage2D(t.TEXTURE_2D,Le,Yt,kt.width,kt.height,0,Dt,Qt,kt.data)}else if(ce.isDataArrayTexture)if(Ze){if(ye&&s.texStorage3D(t.TEXTURE_2D_ARRAY,Me,Yt,rt.width,rt.height,rt.depth),fe)if(ce.layerUpdates.size>0){const Le=RR(rt.width,rt.height,ce.format,ce.type);for(const Ge of ce.layerUpdates){const ct=rt.data.subarray(Ge*Le/rt.data.BYTES_PER_ELEMENT,(Ge+1)*Le/rt.data.BYTES_PER_ELEMENT);s.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ge,rt.width,rt.height,1,Dt,Qt,ct)}ce.clearLayerUpdates()}else s.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,rt.width,rt.height,rt.depth,Dt,Qt,rt.data)}else s.texImage3D(t.TEXTURE_2D_ARRAY,0,Yt,rt.width,rt.height,rt.depth,0,Dt,Qt,rt.data);else if(ce.isData3DTexture)Ze?(ye&&s.texStorage3D(t.TEXTURE_3D,Me,Yt,rt.width,rt.height,rt.depth),fe&&s.texSubImage3D(t.TEXTURE_3D,0,0,0,0,rt.width,rt.height,rt.depth,Dt,Qt,rt.data)):s.texImage3D(t.TEXTURE_3D,0,Yt,rt.width,rt.height,rt.depth,0,Dt,Qt,rt.data);else if(ce.isFramebufferTexture){if(ye)if(Ze)s.texStorage2D(t.TEXTURE_2D,Me,Yt,rt.width,rt.height);else{let Le=rt.width,Ge=rt.height;for(let ct=0;ct<Me;ct++)s.texImage2D(t.TEXTURE_2D,ct,Yt,Le,Ge,0,Dt,Qt,null),Le>>=1,Ge>>=1}}else if(tt.length>0){if(Ze&&ye){const Le=Xe(tt[0]);s.texStorage2D(t.TEXTURE_2D,Me,Yt,Le.width,Le.height)}for(let Le=0,Ge=tt.length;Le<Ge;Le++)kt=tt[Le],Ze?fe&&s.texSubImage2D(t.TEXTURE_2D,Le,0,0,Dt,Qt,kt):s.texImage2D(t.TEXTURE_2D,Le,Yt,Dt,Qt,kt);ce.generateMipmaps=!1}else if(Ze){if(ye){const Le=Xe(rt);s.texStorage2D(t.TEXTURE_2D,Me,Yt,Le.width,Le.height)}fe&&s.texSubImage2D(t.TEXTURE_2D,0,0,0,Dt,Qt,rt)}else s.texImage2D(t.TEXTURE_2D,0,Yt,Dt,Qt,rt);g(ce)&&b(Ke),ot.__version=st.version,ce.onUpdate&&ce.onUpdate(ce)}he.__version=ce.version}function W(he,ce,_e){if(ce.image.length!==6)return;const Ke=z(he,ce),et=ce.source;s.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture,t.TEXTURE0+_e);const st=n.get(et);if(et.version!==st.__version||Ke===!0){s.activeTexture(t.TEXTURE0+_e);const ot=zs.getPrimaries(zs.workingColorSpace),mt=ce.colorSpace===Lm?null:zs.getPrimaries(ce.colorSpace),At=ce.colorSpace===Lm||ot===mt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ce.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ce.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,At);const Tt=ce.isCompressedTexture||ce.image[0].isCompressedTexture,rt=ce.image[0]&&ce.image[0].isDataTexture,Dt=[];for(let Ge=0;Ge<6;Ge++)!Tt&&!rt?Dt[Ge]=A(ce.image[Ge],!0,a.maxCubemapSize):Dt[Ge]=rt?ce.image[Ge].image:ce.image[Ge],Dt[Ge]=$e(ce,Dt[Ge]);const Qt=Dt[0],Yt=i.convert(ce.format,ce.colorSpace),kt=i.convert(ce.type),tt=v(ce.internalFormat,Yt,kt,ce.colorSpace),Ze=ce.isVideoTexture!==!0,ye=st.__version===void 0||Ke===!0,fe=et.dataReady;let Me=N(ce,Qt);F(t.TEXTURE_CUBE_MAP,ce);let Le;if(Tt){Ze&&ye&&s.texStorage2D(t.TEXTURE_CUBE_MAP,Me,tt,Qt.width,Qt.height);for(let Ge=0;Ge<6;Ge++){Le=Dt[Ge].mipmaps;for(let ct=0;ct<Le.length;ct++){const ft=Le[ct];ce.format!==Hd?Yt!==null?Ze?fe&&s.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct,0,0,ft.width,ft.height,Yt,ft.data):s.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct,tt,ft.width,ft.height,0,ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ze?fe&&s.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct,0,0,ft.width,ft.height,Yt,kt,ft.data):s.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct,tt,ft.width,ft.height,0,Yt,kt,ft.data)}}}else{if(Le=ce.mipmaps,Ze&&ye){Le.length>0&&Me++;const Ge=Xe(Dt[0]);s.texStorage2D(t.TEXTURE_CUBE_MAP,Me,tt,Ge.width,Ge.height)}for(let Ge=0;Ge<6;Ge++)if(rt){Ze?fe&&s.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,Dt[Ge].width,Dt[Ge].height,Yt,kt,Dt[Ge].data):s.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,tt,Dt[Ge].width,Dt[Ge].height,0,Yt,kt,Dt[Ge].data);for(let ct=0;ct<Le.length;ct++){const Ut=Le[ct].image[Ge].image;Ze?fe&&s.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct+1,0,0,Ut.width,Ut.height,Yt,kt,Ut.data):s.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct+1,tt,Ut.width,Ut.height,0,Yt,kt,Ut.data)}}else{Ze?fe&&s.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,0,0,Yt,kt,Dt[Ge]):s.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0,tt,Yt,kt,Dt[Ge]);for(let ct=0;ct<Le.length;ct++){const ft=Le[ct];Ze?fe&&s.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct+1,0,0,Yt,kt,ft.image[Ge]):s.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,ct+1,tt,Yt,kt,ft.image[Ge])}}}g(ce)&&b(t.TEXTURE_CUBE_MAP),st.__version=et.version,ce.onUpdate&&ce.onUpdate(ce)}he.__version=ce.version}function ne(he,ce,_e,Ke,et,st){const ot=i.convert(_e.format,_e.colorSpace),mt=i.convert(_e.type),At=v(_e.internalFormat,ot,mt,_e.colorSpace),Tt=n.get(ce),rt=n.get(_e);if(rt.__renderTarget=ce,!Tt.__hasExternalTextures){const Dt=Math.max(1,ce.width>>st),Qt=Math.max(1,ce.height>>st);et===t.TEXTURE_3D||et===t.TEXTURE_2D_ARRAY?s.texImage3D(et,st,At,Dt,Qt,ce.depth,0,ot,mt,null):s.texImage2D(et,st,At,Dt,Qt,0,ot,mt,null)}s.bindFramebuffer(t.FRAMEBUFFER,he),xe(ce)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ke,et,rt.__webglTexture,0,Pe(ce)):(et===t.TEXTURE_2D||et>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&et<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ke,et,rt.__webglTexture,st),s.bindFramebuffer(t.FRAMEBUFFER,null)}function ie(he,ce,_e){if(t.bindRenderbuffer(t.RENDERBUFFER,he),ce.depthBuffer){const Ke=ce.depthTexture,et=Ke&&Ke.isDepthTexture?Ke.type:null,st=j(ce.stencilBuffer,et),ot=ce.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,mt=Pe(ce);xe(ce)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,mt,st,ce.width,ce.height):_e?t.renderbufferStorageMultisample(t.RENDERBUFFER,mt,st,ce.width,ce.height):t.renderbufferStorage(t.RENDERBUFFER,st,ce.width,ce.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ot,t.RENDERBUFFER,he)}else{const Ke=ce.textures;for(let et=0;et<Ke.length;et++){const st=Ke[et],ot=i.convert(st.format,st.colorSpace),mt=i.convert(st.type),At=v(st.internalFormat,ot,mt,st.colorSpace),Tt=Pe(ce);_e&&xe(ce)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Tt,At,ce.width,ce.height):xe(ce)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Tt,At,ce.width,ce.height):t.renderbufferStorage(t.RENDERBUFFER,At,ce.width,ce.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function be(he,ce){if(ce&&ce.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(s.bindFramebuffer(t.FRAMEBUFFER,he),!(ce.depthTexture&&ce.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ke=n.get(ce.depthTexture);Ke.__renderTarget=ce,(!Ke.__webglTexture||ce.depthTexture.image.width!==ce.width||ce.depthTexture.image.height!==ce.height)&&(ce.depthTexture.image.width=ce.width,ce.depthTexture.image.height=ce.height,ce.depthTexture.needsUpdate=!0),D(ce.depthTexture,0);const et=Ke.__webglTexture,st=Pe(ce);if(ce.depthTexture.format===ag)xe(ce)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,et,0,st):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,et,0);else if(ce.depthTexture.format===Bg)xe(ce)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,et,0,st):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,et,0);else throw new Error("Unknown depthTexture format")}function ue(he){const ce=n.get(he),_e=he.isWebGLCubeRenderTarget===!0;if(ce.__boundDepthTexture!==he.depthTexture){const Ke=he.depthTexture;if(ce.__depthDisposeCallback&&ce.__depthDisposeCallback(),Ke){const et=()=>{delete ce.__boundDepthTexture,delete ce.__depthDisposeCallback,Ke.removeEventListener("dispose",et)};Ke.addEventListener("dispose",et),ce.__depthDisposeCallback=et}ce.__boundDepthTexture=Ke}if(he.depthTexture&&!ce.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");be(ce.__webglFramebuffer,he)}else if(_e){ce.__webglDepthbuffer=[];for(let Ke=0;Ke<6;Ke++)if(s.bindFramebuffer(t.FRAMEBUFFER,ce.__webglFramebuffer[Ke]),ce.__webglDepthbuffer[Ke]===void 0)ce.__webglDepthbuffer[Ke]=t.createRenderbuffer(),ie(ce.__webglDepthbuffer[Ke],he,!1);else{const et=he.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,st=ce.__webglDepthbuffer[Ke];t.bindRenderbuffer(t.RENDERBUFFER,st),t.framebufferRenderbuffer(t.FRAMEBUFFER,et,t.RENDERBUFFER,st)}}else if(s.bindFramebuffer(t.FRAMEBUFFER,ce.__webglFramebuffer),ce.__webglDepthbuffer===void 0)ce.__webglDepthbuffer=t.createRenderbuffer(),ie(ce.__webglDepthbuffer,he,!1);else{const Ke=he.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,et=ce.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,et),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ke,t.RENDERBUFFER,et)}s.bindFramebuffer(t.FRAMEBUFFER,null)}function je(he,ce,_e){const Ke=n.get(he);ce!==void 0&&ne(Ke.__webglFramebuffer,he,he.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),_e!==void 0&&ue(he)}function Be(he){const ce=he.texture,_e=n.get(he),Ke=n.get(ce);he.addEventListener("dispose",T);const et=he.textures,st=he.isWebGLCubeRenderTarget===!0,ot=et.length>1;if(ot||(Ke.__webglTexture===void 0&&(Ke.__webglTexture=t.createTexture()),Ke.__version=ce.version,o.memory.textures++),st){_e.__webglFramebuffer=[];for(let mt=0;mt<6;mt++)if(ce.mipmaps&&ce.mipmaps.length>0){_e.__webglFramebuffer[mt]=[];for(let At=0;At<ce.mipmaps.length;At++)_e.__webglFramebuffer[mt][At]=t.createFramebuffer()}else _e.__webglFramebuffer[mt]=t.createFramebuffer()}else{if(ce.mipmaps&&ce.mipmaps.length>0){_e.__webglFramebuffer=[];for(let mt=0;mt<ce.mipmaps.length;mt++)_e.__webglFramebuffer[mt]=t.createFramebuffer()}else _e.__webglFramebuffer=t.createFramebuffer();if(ot)for(let mt=0,At=et.length;mt<At;mt++){const Tt=n.get(et[mt]);Tt.__webglTexture===void 0&&(Tt.__webglTexture=t.createTexture(),o.memory.textures++)}if(he.samples>0&&xe(he)===!1){_e.__webglMultisampledFramebuffer=t.createFramebuffer(),_e.__webglColorRenderbuffer=[],s.bindFramebuffer(t.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let mt=0;mt<et.length;mt++){const At=et[mt];_e.__webglColorRenderbuffer[mt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,_e.__webglColorRenderbuffer[mt]);const Tt=i.convert(At.format,At.colorSpace),rt=i.convert(At.type),Dt=v(At.internalFormat,Tt,rt,At.colorSpace,he.isXRRenderTarget===!0),Qt=Pe(he);t.renderbufferStorageMultisample(t.RENDERBUFFER,Qt,Dt,he.width,he.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+mt,t.RENDERBUFFER,_e.__webglColorRenderbuffer[mt])}t.bindRenderbuffer(t.RENDERBUFFER,null),he.depthBuffer&&(_e.__webglDepthRenderbuffer=t.createRenderbuffer(),ie(_e.__webglDepthRenderbuffer,he,!0)),s.bindFramebuffer(t.FRAMEBUFFER,null)}}if(st){s.bindTexture(t.TEXTURE_CUBE_MAP,Ke.__webglTexture),F(t.TEXTURE_CUBE_MAP,ce);for(let mt=0;mt<6;mt++)if(ce.mipmaps&&ce.mipmaps.length>0)for(let At=0;At<ce.mipmaps.length;At++)ne(_e.__webglFramebuffer[mt][At],he,ce,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,At);else ne(_e.__webglFramebuffer[mt],he,ce,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0);g(ce)&&b(t.TEXTURE_CUBE_MAP),s.unbindTexture()}else if(ot){for(let mt=0,At=et.length;mt<At;mt++){const Tt=et[mt],rt=n.get(Tt);s.bindTexture(t.TEXTURE_2D,rt.__webglTexture),F(t.TEXTURE_2D,Tt),ne(_e.__webglFramebuffer,he,Tt,t.COLOR_ATTACHMENT0+mt,t.TEXTURE_2D,0),g(Tt)&&b(t.TEXTURE_2D)}s.unbindTexture()}else{let mt=t.TEXTURE_2D;if((he.isWebGL3DRenderTarget||he.isWebGLArrayRenderTarget)&&(mt=he.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),s.bindTexture(mt,Ke.__webglTexture),F(mt,ce),ce.mipmaps&&ce.mipmaps.length>0)for(let At=0;At<ce.mipmaps.length;At++)ne(_e.__webglFramebuffer[At],he,ce,t.COLOR_ATTACHMENT0,mt,At);else ne(_e.__webglFramebuffer,he,ce,t.COLOR_ATTACHMENT0,mt,0);g(ce)&&b(mt),s.unbindTexture()}he.depthBuffer&&ue(he)}function oe(he){const ce=he.textures;for(let _e=0,Ke=ce.length;_e<Ke;_e++){const et=ce[_e];if(g(et)){const st=w(he),ot=n.get(et).__webglTexture;s.bindTexture(st,ot),b(st),s.unbindTexture()}}}const lt=[],se=[];function J(he){if(he.samples>0){if(xe(he)===!1){const ce=he.textures,_e=he.width,Ke=he.height;let et=t.COLOR_BUFFER_BIT;const st=he.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ot=n.get(he),mt=ce.length>1;if(mt)for(let At=0;At<ce.length;At++)s.bindFramebuffer(t.FRAMEBUFFER,ot.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.RENDERBUFFER,null),s.bindFramebuffer(t.FRAMEBUFFER,ot.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.TEXTURE_2D,null,0);s.bindFramebuffer(t.READ_FRAMEBUFFER,ot.__webglMultisampledFramebuffer),s.bindFramebuffer(t.DRAW_FRAMEBUFFER,ot.__webglFramebuffer);for(let At=0;At<ce.length;At++){if(he.resolveDepthBuffer&&(he.depthBuffer&&(et|=t.DEPTH_BUFFER_BIT),he.stencilBuffer&&he.resolveStencilBuffer&&(et|=t.STENCIL_BUFFER_BIT)),mt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ot.__webglColorRenderbuffer[At]);const Tt=n.get(ce[At]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Tt,0)}t.blitFramebuffer(0,0,_e,Ke,0,0,_e,Ke,et,t.NEAREST),c===!0&&(lt.length=0,se.length=0,lt.push(t.COLOR_ATTACHMENT0+At),he.depthBuffer&&he.resolveDepthBuffer===!1&&(lt.push(st),se.push(st),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,se)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,lt))}if(s.bindFramebuffer(t.READ_FRAMEBUFFER,null),s.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),mt)for(let At=0;At<ce.length;At++){s.bindFramebuffer(t.FRAMEBUFFER,ot.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.RENDERBUFFER,ot.__webglColorRenderbuffer[At]);const Tt=n.get(ce[At]).__webglTexture;s.bindFramebuffer(t.FRAMEBUFFER,ot.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+At,t.TEXTURE_2D,Tt,0)}s.bindFramebuffer(t.DRAW_FRAMEBUFFER,ot.__webglMultisampledFramebuffer)}else if(he.depthBuffer&&he.resolveDepthBuffer===!1&&c){const ce=he.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ce])}}}function Pe(he){return Math.min(a.maxSamples,he.samples)}function xe(he){const ce=n.get(he);return he.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ce.__useRenderToTexture!==!1}function He(he){const ce=o.render.frame;u.get(he)!==ce&&(u.set(he,ce),he.update())}function $e(he,ce){const _e=he.colorSpace,Ke=he.format,et=he.type;return he.isCompressedTexture===!0||he.isVideoTexture===!0||_e!==Mg&&_e!==Lm&&(zs.getTransfer(_e)===bn?(Ke!==Hd||et!==Bf)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",_e)),ce}function Xe(he){return typeof HTMLImageElement<"u"&&he instanceof HTMLImageElement?(d.width=he.naturalWidth||he.width,d.height=he.naturalHeight||he.height):typeof VideoFrame<"u"&&he instanceof VideoFrame?(d.width=he.displayWidth,d.height=he.displayHeight):(d.width=he.width,d.height=he.height),d}this.allocateTextureUnit=P,this.resetTextureUnits=B,this.setTexture2D=D,this.setTexture2DArray=G,this.setTexture3D=O,this.setTextureCube=Q,this.rebindTextures=je,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=oe,this.updateMultisampleRenderTarget=J,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=ne,this.useMultisampledRTT=xe}function GAe(t,e){function s(n,a=Lm){let i;const o=zs.getTransfer(a);if(n===Bf)return t.UNSIGNED_BYTE;if(n===$P)return t.UNSIGNED_SHORT_4_4_4_4;if(n===zP)return t.UNSIGNED_SHORT_5_5_5_1;if(n===kX)return t.UNSIGNED_INT_5_9_9_9_REV;if(n===_X)return t.BYTE;if(n===EX)return t.SHORT;if(n===Gv)return t.UNSIGNED_SHORT;if(n===QP)return t.INT;if(n===ox)return t.UNSIGNED_INT;if(n===hf)return t.FLOAT;if(n===ew)return t.HALF_FLOAT;if(n===TX)return t.ALPHA;if(n===BX)return t.RGB;if(n===Hd)return t.RGBA;if(n===MX)return t.LUMINANCE;if(n===FX)return t.LUMINANCE_ALPHA;if(n===ag)return t.DEPTH_COMPONENT;if(n===Bg)return t.DEPTH_STENCIL;if(n===PX)return t.RED;if(n===GP)return t.RED_INTEGER;if(n===IX)return t.RG;if(n===VP)return t.RG_INTEGER;if(n===WP)return t.RGBA_INTEGER;if(n===dN||n===uN||n===hN||n===fN)if(o===bn)if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(n===dN)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===uN)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===hN)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===fN)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=e.get("WEBGL_compressed_texture_s3tc"),i!==null){if(n===dN)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===uN)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===hN)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===fN)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===vB||n===wB||n===jB||n===NB)if(i=e.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(n===vB)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===wB)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===jB)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===NB)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===SB||n===CB||n===_B)if(i=e.get("WEBGL_compressed_texture_etc"),i!==null){if(n===SB||n===CB)return o===bn?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===_B)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===EB||n===kB||n===TB||n===BB||n===MB||n===FB||n===PB||n===IB||n===LB||n===DB||n===RB||n===OB||n===UB||n===HB)if(i=e.get("WEBGL_compressed_texture_astc"),i!==null){if(n===EB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===kB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===TB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===BB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===MB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===FB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===PB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===IB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===LB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===DB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===RB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===OB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===UB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===HB)return o===bn?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===mN||n===QB||n===$B)if(i=e.get("EXT_texture_compression_bptc"),i!==null){if(n===mN)return o===bn?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===QB)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===$B)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===LX||n===zB||n===GB||n===VB)if(i=e.get("EXT_texture_compression_rgtc"),i!==null){if(n===mN)return i.COMPRESSED_RED_RGTC1_EXT;if(n===zB)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===GB)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===VB)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Tg?t.UNSIGNED_INT_24_8:t[n]!==void 0?t[n]:null}return{convert:s}}const VAe={type:"move"};class f_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new F2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new F2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ft,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ft),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new F2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ft,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ft),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const s=this._hand;if(s)for(const n of e.hand.values())this._getHandJoint(s,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,s,n){let a=null,i=null,o=null;const l=this._targetRay,c=this._grip,d=this._hand;if(e&&s.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const A of e.hand.values()){const g=s.getJointPose(A,n),b=this._getHandJoint(d,A);g!==null&&(b.matrix.fromArray(g.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=g.radius),b.visible=g!==null}const u=d.joints["index-finger-tip"],h=d.joints["thumb-tip"],m=u.position.distanceTo(h.position),f=.02,x=.005;d.inputState.pinching&&m>f+x?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&m<=f-x&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=s.getPose(e.gripSpace,n),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(a=s.getPose(e.targetRaySpace,n),a===null&&i!==null&&(a=i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(VAe)))}return l!==null&&(l.visible=a!==null),c!==null&&(c.visible=i!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,s){if(e.joints[s.jointName]===void 0){const n=new F2;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[s.jointName]=n,e.add(n)}return e.joints[s.jointName]}}const WAe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,qAe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class KAe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,s,n){if(this.texture===null){const a=new Il,i=e.properties.get(a);i.__webglTexture=s.texture,(s.depthNear!=n.depthNear||s.depthFar!=n.depthFar)&&(this.depthNear=s.depthNear,this.depthFar=s.depthFar),this.texture=a}}getMesh(e){if(this.texture!==null&&this.mesh===null){const s=e.cameras[0].viewport,n=new d0({vertexShader:WAe,fragmentShader:qAe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:s.z},depthHeight:{value:s.w}}});this.mesh=new Qd(new aw(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class XAe extends xb{constructor(e,s){super();const n=this;let a=null,i=1,o=null,l="local-floor",c=1,d=null,u=null,h=null,m=null,f=null,x=null;const A=new KAe,g=s.getContextAttributes();let b=null,w=null;const v=[],j=[],N=new cn;let S=null;const T=new Xc;T.viewport=new Ca;const I=new Xc;I.viewport=new Ca;const _=[T,I],M=new Ame;let C=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let W=v[V];return W===void 0&&(W=new f_,v[V]=W),W.getTargetRaySpace()},this.getControllerGrip=function(V){let W=v[V];return W===void 0&&(W=new f_,v[V]=W),W.getGripSpace()},this.getHand=function(V){let W=v[V];return W===void 0&&(W=new f_,v[V]=W),W.getHandSpace()};function P(V){const W=j.indexOf(V.inputSource);if(W===-1)return;const ne=v[W];ne!==void 0&&(ne.update(V.inputSource,V.frame,d||o),ne.dispatchEvent({type:V.type,data:V.inputSource}))}function H(){a.removeEventListener("select",P),a.removeEventListener("selectstart",P),a.removeEventListener("selectend",P),a.removeEventListener("squeeze",P),a.removeEventListener("squeezestart",P),a.removeEventListener("squeezeend",P),a.removeEventListener("end",H),a.removeEventListener("inputsourceschange",D);for(let V=0;V<v.length;V++){const W=j[V];W!==null&&(j[V]=null,v[V].disconnect(W))}C=null,B=null,A.reset(),e.setRenderTarget(b),f=null,m=null,h=null,a=null,w=null,z.stop(),n.isPresenting=!1,e.setPixelRatio(S),e.setSize(N.width,N.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){i=V,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){l=V,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(V){d=V},this.getBaseLayer=function(){return m!==null?m:f},this.getBinding=function(){return h},this.getFrame=function(){return x},this.getSession=function(){return a},this.setSession=async function(V){if(a=V,a!==null){if(b=e.getRenderTarget(),a.addEventListener("select",P),a.addEventListener("selectstart",P),a.addEventListener("selectend",P),a.addEventListener("squeeze",P),a.addEventListener("squeezestart",P),a.addEventListener("squeezeend",P),a.addEventListener("end",H),a.addEventListener("inputsourceschange",D),g.xrCompatible!==!0&&await s.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(N),a.renderState.layers===void 0){const W={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(a,s,W),a.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),w=new lx(f.framebufferWidth,f.framebufferHeight,{format:Hd,type:Bf,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let W=null,ne=null,ie=null;g.depth&&(ie=g.stencil?s.DEPTH24_STENCIL8:s.DEPTH_COMPONENT24,W=g.stencil?Bg:ag,ne=g.stencil?Tg:ox);const be={colorFormat:s.RGBA8,depthFormat:ie,scaleFactor:i};h=new XRWebGLBinding(a,s),m=h.createProjectionLayer(be),a.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),w=new lx(m.textureWidth,m.textureHeight,{format:Hd,type:Bf,depthTexture:new XX(m.textureWidth,m.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),d=null,o=await a.requestReferenceSpace(l),z.setContext(a),z.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function D(V){for(let W=0;W<V.removed.length;W++){const ne=V.removed[W],ie=j.indexOf(ne);ie>=0&&(j[ie]=null,v[ie].disconnect(ne))}for(let W=0;W<V.added.length;W++){const ne=V.added[W];let ie=j.indexOf(ne);if(ie===-1){for(let ue=0;ue<v.length;ue++)if(ue>=j.length){j.push(ne),ie=ue;break}else if(j[ue]===null){j[ue]=ne,ie=ue;break}if(ie===-1)break}const be=v[ie];be&&be.connect(ne)}}const G=new Ft,O=new Ft;function Q(V,W,ne){G.setFromMatrixPosition(W.matrixWorld),O.setFromMatrixPosition(ne.matrixWorld);const ie=G.distanceTo(O),be=W.projectionMatrix.elements,ue=ne.projectionMatrix.elements,je=be[14]/(be[10]-1),Be=be[14]/(be[10]+1),oe=(be[9]+1)/be[5],lt=(be[9]-1)/be[5],se=(be[8]-1)/be[0],J=(ue[8]+1)/ue[0],Pe=je*se,xe=je*J,He=ie/(-se+J),$e=He*-se;if(W.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX($e),V.translateZ(He),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert(),be[10]===-1)V.projectionMatrix.copy(W.projectionMatrix),V.projectionMatrixInverse.copy(W.projectionMatrixInverse);else{const Xe=je+He,he=Be+He,ce=Pe-$e,_e=xe+(ie-$e),Ke=oe*Be/he*Xe,et=lt*Be/he*Xe;V.projectionMatrix.makePerspective(ce,_e,Ke,et,Xe,he),V.projectionMatrixInverse.copy(V.projectionMatrix).invert()}}function ee(V,W){W===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(W.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(a===null)return;let W=V.near,ne=V.far;A.texture!==null&&(A.depthNear>0&&(W=A.depthNear),A.depthFar>0&&(ne=A.depthFar)),M.near=I.near=T.near=W,M.far=I.far=T.far=ne,(C!==M.near||B!==M.far)&&(a.updateRenderState({depthNear:M.near,depthFar:M.far}),C=M.near,B=M.far),T.layers.mask=V.layers.mask|2,I.layers.mask=V.layers.mask|4,M.layers.mask=T.layers.mask|I.layers.mask;const ie=V.parent,be=M.cameras;ee(M,ie);for(let ue=0;ue<be.length;ue++)ee(be[ue],ie);be.length===2?Q(M,T,I):M.projectionMatrix.copy(T.projectionMatrix),q(V,M,ie)};function q(V,W,ne){ne===null?V.matrix.copy(W.matrixWorld):(V.matrix.copy(ne.matrixWorld),V.matrix.invert(),V.matrix.multiply(W.matrixWorld)),V.matrix.decompose(V.position,V.quaternion,V.scale),V.updateMatrixWorld(!0),V.projectionMatrix.copy(W.projectionMatrix),V.projectionMatrixInverse.copy(W.projectionMatrixInverse),V.isPerspectiveCamera&&(V.fov=WB*2*Math.atan(1/V.projectionMatrix.elements[5]),V.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(m===null&&f===null))return c},this.setFoveation=function(V){c=V,m!==null&&(m.fixedFoveation=V),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=V)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(M)};let Z=null;function F(V,W){if(u=W.getViewerPose(d||o),x=W,u!==null){const ne=u.views;f!==null&&(e.setRenderTargetFramebuffer(w,f.framebuffer),e.setRenderTarget(w));let ie=!1;ne.length!==M.cameras.length&&(M.cameras.length=0,ie=!0);for(let ue=0;ue<ne.length;ue++){const je=ne[ue];let Be=null;if(f!==null)Be=f.getViewport(je);else{const lt=h.getViewSubImage(m,je);Be=lt.viewport,ue===0&&(e.setRenderTargetTextures(w,lt.colorTexture,m.ignoreDepthValues?void 0:lt.depthStencilTexture),e.setRenderTarget(w))}let oe=_[ue];oe===void 0&&(oe=new Xc,oe.layers.enable(ue),oe.viewport=new Ca,_[ue]=oe),oe.matrix.fromArray(je.transform.matrix),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.projectionMatrix.fromArray(je.projectionMatrix),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert(),oe.viewport.set(Be.x,Be.y,Be.width,Be.height),ue===0&&(M.matrix.copy(oe.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),ie===!0&&M.cameras.push(oe)}const be=a.enabledFeatures;if(be&&be.includes("depth-sensing")){const ue=h.getDepthInformation(ne[0]);ue&&ue.isValid&&ue.texture&&A.init(e,ue,a.renderState)}}for(let ne=0;ne<v.length;ne++){const ie=j[ne],be=v[ne];ie!==null&&be!==void 0&&be.update(ie,W,d||o)}Z&&Z(V,W),W.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:W}),x=null}const z=new ZX;z.setAnimationLoop(F),this.setAnimationLoop=function(V){Z=V},this.dispose=function(){}}}const lp=new sh,YAe=new _a;function JAe(t,e){function s(g,b){g.matrixAutoUpdate===!0&&g.updateMatrix(),b.value.copy(g.matrix)}function n(g,b){b.color.getRGB(g.fogColor.value,WX(t)),b.isFog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b.isFogExp2&&(g.fogDensity.value=b.density)}function a(g,b,w,v,j){b.isMeshBasicMaterial||b.isMeshLambertMaterial?i(g,b):b.isMeshToonMaterial?(i(g,b),h(g,b)):b.isMeshPhongMaterial?(i(g,b),u(g,b)):b.isMeshStandardMaterial?(i(g,b),m(g,b),b.isMeshPhysicalMaterial&&f(g,b,j)):b.isMeshMatcapMaterial?(i(g,b),x(g,b)):b.isMeshDepthMaterial?i(g,b):b.isMeshDistanceMaterial?(i(g,b),A(g,b)):b.isMeshNormalMaterial?i(g,b):b.isLineBasicMaterial?(o(g,b),b.isLineDashedMaterial&&l(g,b)):b.isPointsMaterial?c(g,b,w,v):b.isSpriteMaterial?d(g,b):b.isShadowMaterial?(g.color.value.copy(b.color),g.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function i(g,b){g.opacity.value=b.opacity,b.color&&g.diffuse.value.copy(b.color),b.emissive&&g.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(g.map.value=b.map,s(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,s(b.alphaMap,g.alphaMapTransform)),b.bumpMap&&(g.bumpMap.value=b.bumpMap,s(b.bumpMap,g.bumpMapTransform),g.bumpScale.value=b.bumpScale,b.side===Pl&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,s(b.normalMap,g.normalMapTransform),g.normalScale.value.copy(b.normalScale),b.side===Pl&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,s(b.displacementMap,g.displacementMapTransform),g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap,s(b.emissiveMap,g.emissiveMapTransform)),b.specularMap&&(g.specularMap.value=b.specularMap,s(b.specularMap,g.specularMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest);const w=e.get(b),v=w.envMap,j=w.envMapRotation;v&&(g.envMap.value=v,lp.copy(j),lp.x*=-1,lp.y*=-1,lp.z*=-1,v.isCubeTexture&&v.isRenderTargetTexture===!1&&(lp.y*=-1,lp.z*=-1),g.envMapRotation.value.setFromMatrix4(YAe.makeRotationFromEuler(lp)),g.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=b.reflectivity,g.ior.value=b.ior,g.refractionRatio.value=b.refractionRatio),b.lightMap&&(g.lightMap.value=b.lightMap,g.lightMapIntensity.value=b.lightMapIntensity,s(b.lightMap,g.lightMapTransform)),b.aoMap&&(g.aoMap.value=b.aoMap,g.aoMapIntensity.value=b.aoMapIntensity,s(b.aoMap,g.aoMapTransform))}function o(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,b.map&&(g.map.value=b.map,s(b.map,g.mapTransform))}function l(g,b){g.dashSize.value=b.dashSize,g.totalSize.value=b.dashSize+b.gapSize,g.scale.value=b.scale}function c(g,b,w,v){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.size.value=b.size*w,g.scale.value=v*.5,b.map&&(g.map.value=b.map,s(b.map,g.uvTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,s(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}function d(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.rotation.value=b.rotation,b.map&&(g.map.value=b.map,s(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,s(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}function u(g,b){g.specular.value.copy(b.specular),g.shininess.value=Math.max(b.shininess,1e-4)}function h(g,b){b.gradientMap&&(g.gradientMap.value=b.gradientMap)}function m(g,b){g.metalness.value=b.metalness,b.metalnessMap&&(g.metalnessMap.value=b.metalnessMap,s(b.metalnessMap,g.metalnessMapTransform)),g.roughness.value=b.roughness,b.roughnessMap&&(g.roughnessMap.value=b.roughnessMap,s(b.roughnessMap,g.roughnessMapTransform)),b.envMap&&(g.envMapIntensity.value=b.envMapIntensity)}function f(g,b,w){g.ior.value=b.ior,b.sheen>0&&(g.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),g.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(g.sheenColorMap.value=b.sheenColorMap,s(b.sheenColorMap,g.sheenColorMapTransform)),b.sheenRoughnessMap&&(g.sheenRoughnessMap.value=b.sheenRoughnessMap,s(b.sheenRoughnessMap,g.sheenRoughnessMapTransform))),b.clearcoat>0&&(g.clearcoat.value=b.clearcoat,g.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(g.clearcoatMap.value=b.clearcoatMap,s(b.clearcoatMap,g.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,s(b.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(g.clearcoatNormalMap.value=b.clearcoatNormalMap,s(b.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Pl&&g.clearcoatNormalScale.value.negate())),b.dispersion>0&&(g.dispersion.value=b.dispersion),b.iridescence>0&&(g.iridescence.value=b.iridescence,g.iridescenceIOR.value=b.iridescenceIOR,g.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(g.iridescenceMap.value=b.iridescenceMap,s(b.iridescenceMap,g.iridescenceMapTransform)),b.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=b.iridescenceThicknessMap,s(b.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),b.transmission>0&&(g.transmission.value=b.transmission,g.transmissionSamplerMap.value=w.texture,g.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(g.transmissionMap.value=b.transmissionMap,s(b.transmissionMap,g.transmissionMapTransform)),g.thickness.value=b.thickness,b.thicknessMap&&(g.thicknessMap.value=b.thicknessMap,s(b.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=b.attenuationDistance,g.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(g.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(g.anisotropyMap.value=b.anisotropyMap,s(b.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=b.specularIntensity,g.specularColor.value.copy(b.specularColor),b.specularColorMap&&(g.specularColorMap.value=b.specularColorMap,s(b.specularColorMap,g.specularColorMapTransform)),b.specularIntensityMap&&(g.specularIntensityMap.value=b.specularIntensityMap,s(b.specularIntensityMap,g.specularIntensityMapTransform))}function x(g,b){b.matcap&&(g.matcap.value=b.matcap)}function A(g,b){const w=e.get(b).light;g.referencePosition.value.setFromMatrixPosition(w.matrixWorld),g.nearDistance.value=w.shadow.camera.near,g.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:a}}function ZAe(t,e,s,n){let a={},i={},o=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(w,v){const j=v.program;n.uniformBlockBinding(w,j)}function d(w,v){let j=a[w.id];j===void 0&&(x(w),j=u(w),a[w.id]=j,w.addEventListener("dispose",g));const N=v.program;n.updateUBOMapping(w,N);const S=e.render.frame;i[w.id]!==S&&(m(w),i[w.id]=S)}function u(w){const v=h();w.__bindingPointIndex=v;const j=t.createBuffer(),N=w.__size,S=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,j),t.bufferData(t.UNIFORM_BUFFER,N,S),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,v,j),j}function h(){for(let w=0;w<l;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(w){const v=a[w.id],j=w.uniforms,N=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,v);for(let S=0,T=j.length;S<T;S++){const I=Array.isArray(j[S])?j[S]:[j[S]];for(let _=0,M=I.length;_<M;_++){const C=I[_];if(f(C,S,_,N)===!0){const B=C.__offset,P=Array.isArray(C.value)?C.value:[C.value];let H=0;for(let D=0;D<P.length;D++){const G=P[D],O=A(G);typeof G=="number"||typeof G=="boolean"?(C.__data[0]=G,t.bufferSubData(t.UNIFORM_BUFFER,B+H,C.__data)):G.isMatrix3?(C.__data[0]=G.elements[0],C.__data[1]=G.elements[1],C.__data[2]=G.elements[2],C.__data[3]=0,C.__data[4]=G.elements[3],C.__data[5]=G.elements[4],C.__data[6]=G.elements[5],C.__data[7]=0,C.__data[8]=G.elements[6],C.__data[9]=G.elements[7],C.__data[10]=G.elements[8],C.__data[11]=0):(G.toArray(C.__data,H),H+=O.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,B,C.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(w,v,j,N){const S=w.value,T=v+"_"+j;if(N[T]===void 0)return typeof S=="number"||typeof S=="boolean"?N[T]=S:N[T]=S.clone(),!0;{const I=N[T];if(typeof S=="number"||typeof S=="boolean"){if(I!==S)return N[T]=S,!0}else if(I.equals(S)===!1)return I.copy(S),!0}return!1}function x(w){const v=w.uniforms;let j=0;const N=16;for(let T=0,I=v.length;T<I;T++){const _=Array.isArray(v[T])?v[T]:[v[T]];for(let M=0,C=_.length;M<C;M++){const B=_[M],P=Array.isArray(B.value)?B.value:[B.value];for(let H=0,D=P.length;H<D;H++){const G=P[H],O=A(G),Q=j%N,ee=Q%O.boundary,q=Q+ee;j+=ee,q!==0&&N-q<O.storage&&(j+=N-q),B.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=j,j+=O.storage}}}const S=j%N;return S>0&&(j+=N-S),w.__size=j,w.__cache={},this}function A(w){const v={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(v.boundary=4,v.storage=4):w.isVector2?(v.boundary=8,v.storage=8):w.isVector3||w.isColor?(v.boundary=16,v.storage=12):w.isVector4?(v.boundary=16,v.storage=16):w.isMatrix3?(v.boundary=48,v.storage=48):w.isMatrix4?(v.boundary=64,v.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),v}function g(w){const v=w.target;v.removeEventListener("dispose",g);const j=o.indexOf(v.__bindingPointIndex);o.splice(j,1),t.deleteBuffer(a[v.id]),delete a[v.id],delete i[v.id]}function b(){for(const w in a)t.deleteBuffer(a[w]);o=[],a={},i={}}return{bind:c,update:d,dispose:b}}class ege{constructor(e={}){const{canvas:s=Ife(),context:n=null,depth:a=!0,stencil:i=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:m=!1}=e;this.isWebGLRenderer=!0;let f;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=o;const x=new Uint32Array(4),A=new Int32Array(4);let g=null,b=null;const w=[],v=[];this.domElement=s,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Kc,this.toneMapping=t0,this.toneMappingExposure=1;const j=this;let N=!1,S=0,T=0,I=null,_=-1,M=null;const C=new Ca,B=new Ca;let P=null;const H=new Gs(0);let D=0,G=s.width,O=s.height,Q=1,ee=null,q=null;const Z=new Ca(0,0,G,O),F=new Ca(0,0,G,O);let z=!1;const V=new KP;let W=!1,ne=!1;const ie=new _a,be=new _a,ue=new Ft,je=new Ca,Be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let oe=!1;function lt(){return I===null?Q:1}let se=n;function J(pe,ze){return s.getContext(pe,ze)}try{const pe={alpha:!0,depth:a,stencil:i,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in s&&s.setAttribute("data-engine",`three.js r${UP}`),s.addEventListener("webglcontextlost",Ge,!1),s.addEventListener("webglcontextrestored",ct,!1),s.addEventListener("webglcontextcreationerror",ft,!1),se===null){const ze="webgl2";if(se=J(ze,pe),se===null)throw J(ze)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(pe){throw console.error("THREE.WebGLRenderer: "+pe.message),pe}let Pe,xe,He,$e,Xe,he,ce,_e,Ke,et,st,ot,mt,At,Tt,rt,Dt,Qt,Yt,kt,tt,Ze,ye,fe;function Me(){Pe=new cxe(se),Pe.init(),Ze=new GAe(se,Pe),xe=new sxe(se,Pe,e,Ze),He=new $Ae(se,Pe),xe.reverseDepthBuffer&&m&&He.buffers.depth.setReversed(!0),$e=new hxe(se),Xe=new TAe,he=new zAe(se,Pe,He,Xe,xe,Ze,$e),ce=new axe(j),_e=new lxe(j),Ke=new bme(se),ye=new txe(se,Ke),et=new dxe(se,Ke,$e,ye),st=new mxe(se,et,Ke,$e),Yt=new fxe(se,xe,he),rt=new nxe(Xe),ot=new kAe(j,ce,_e,Pe,xe,ye,rt),mt=new JAe(j,Xe),At=new MAe,Tt=new RAe(Pe),Qt=new exe(j,ce,_e,He,st,f,c),Dt=new HAe(j,st,xe),fe=new ZAe(se,$e,xe,He),kt=new rxe(se,Pe,$e),tt=new uxe(se,Pe,$e),$e.programs=ot.programs,j.capabilities=xe,j.extensions=Pe,j.properties=Xe,j.renderLists=At,j.shadowMap=Dt,j.state=He,j.info=$e}Me();const Le=new XAe(j,se);this.xr=Le,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const pe=Pe.get("WEBGL_lose_context");pe&&pe.loseContext()},this.forceContextRestore=function(){const pe=Pe.get("WEBGL_lose_context");pe&&pe.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(pe){pe!==void 0&&(Q=pe,this.setSize(G,O,!1))},this.getSize=function(pe){return pe.set(G,O)},this.setSize=function(pe,ze,Ye=!0){if(Le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=pe,O=ze,s.width=Math.floor(pe*Q),s.height=Math.floor(ze*Q),Ye===!0&&(s.style.width=pe+"px",s.style.height=ze+"px"),this.setViewport(0,0,pe,ze)},this.getDrawingBufferSize=function(pe){return pe.set(G*Q,O*Q).floor()},this.setDrawingBufferSize=function(pe,ze,Ye){G=pe,O=ze,Q=Ye,s.width=Math.floor(pe*Ye),s.height=Math.floor(ze*Ye),this.setViewport(0,0,pe,ze)},this.getCurrentViewport=function(pe){return pe.copy(C)},this.getViewport=function(pe){return pe.copy(Z)},this.setViewport=function(pe,ze,Ye,le){pe.isVector4?Z.set(pe.x,pe.y,pe.z,pe.w):Z.set(pe,ze,Ye,le),He.viewport(C.copy(Z).multiplyScalar(Q).round())},this.getScissor=function(pe){return pe.copy(F)},this.setScissor=function(pe,ze,Ye,le){pe.isVector4?F.set(pe.x,pe.y,pe.z,pe.w):F.set(pe,ze,Ye,le),He.scissor(B.copy(F).multiplyScalar(Q).round())},this.getScissorTest=function(){return z},this.setScissorTest=function(pe){He.setScissorTest(z=pe)},this.setOpaqueSort=function(pe){ee=pe},this.setTransparentSort=function(pe){q=pe},this.getClearColor=function(pe){return pe.copy(Qt.getClearColor())},this.setClearColor=function(){Qt.setClearColor.apply(Qt,arguments)},this.getClearAlpha=function(){return Qt.getClearAlpha()},this.setClearAlpha=function(){Qt.setClearAlpha.apply(Qt,arguments)},this.clear=function(pe=!0,ze=!0,Ye=!0){let le=0;if(pe){let Ne=!1;if(I!==null){const de=I.texture.format;Ne=de===WP||de===VP||de===GP}if(Ne){const de=I.texture.type,Ue=de===Bf||de===ox||de===Gv||de===Tg||de===$P||de===zP,qe=Qt.getClearColor(),dt=Qt.getClearAlpha(),Gt=qe.r,Mt=qe.g,Ot=qe.b;Ue?(x[0]=Gt,x[1]=Mt,x[2]=Ot,x[3]=dt,se.clearBufferuiv(se.COLOR,0,x)):(A[0]=Gt,A[1]=Mt,A[2]=Ot,A[3]=dt,se.clearBufferiv(se.COLOR,0,A))}else le|=se.COLOR_BUFFER_BIT}ze&&(le|=se.DEPTH_BUFFER_BIT),Ye&&(le|=se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){s.removeEventListener("webglcontextlost",Ge,!1),s.removeEventListener("webglcontextrestored",ct,!1),s.removeEventListener("webglcontextcreationerror",ft,!1),Qt.dispose(),At.dispose(),Tt.dispose(),Xe.dispose(),ce.dispose(),_e.dispose(),st.dispose(),ye.dispose(),fe.dispose(),ot.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",it),Le.removeEventListener("sessionend",Ct),pr.stop()};function Ge(pe){pe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;const pe=$e.autoReset,ze=Dt.enabled,Ye=Dt.autoUpdate,le=Dt.needsUpdate,Ne=Dt.type;Me(),$e.autoReset=pe,Dt.enabled=ze,Dt.autoUpdate=Ye,Dt.needsUpdate=le,Dt.type=Ne}function ft(pe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",pe.statusMessage)}function Ut(pe){const ze=pe.target;ze.removeEventListener("dispose",Ut),Wt(ze)}function Wt(pe){ur(pe),Xe.remove(pe)}function ur(pe){const ze=Xe.get(pe).programs;ze!==void 0&&(ze.forEach(function(Ye){ot.releaseProgram(Ye)}),pe.isShaderMaterial&&ot.releaseShaderCache(pe))}this.renderBufferDirect=function(pe,ze,Ye,le,Ne,de){ze===null&&(ze=Be);const Ue=Ne.isMesh&&Ne.matrixWorld.determinant()<0,qe=pt(pe,ze,Ye,le,Ne);He.setMaterial(le,Ue);let dt=Ye.index,Gt=1;if(le.wireframe===!0){if(dt=et.getWireframeAttribute(Ye),dt===void 0)return;Gt=2}const Mt=Ye.drawRange,Ot=Ye.attributes.position;let qt=Mt.start*Gt,Kt=(Mt.start+Mt.count)*Gt;de!==null&&(qt=Math.max(qt,de.start*Gt),Kt=Math.min(Kt,(de.start+de.count)*Gt)),dt!==null?(qt=Math.max(qt,0),Kt=Math.min(Kt,dt.count)):Ot!=null&&(qt=Math.max(qt,0),Kt=Math.min(Kt,Ot.count));const rr=Kt-qt;if(rr<0||rr===1/0)return;ye.setup(Ne,le,qe,Ye,dt);let dr,Kr=kt;if(dt!==null&&(dr=Ke.get(dt),Kr=tt,Kr.setIndex(dr)),Ne.isMesh)le.wireframe===!0?(He.setLineWidth(le.wireframeLinewidth*lt()),Kr.setMode(se.LINES)):Kr.setMode(se.TRIANGLES);else if(Ne.isLine){let cr=le.linewidth;cr===void 0&&(cr=1),He.setLineWidth(cr*lt()),Ne.isLineSegments?Kr.setMode(se.LINES):Ne.isLineLoop?Kr.setMode(se.LINE_LOOP):Kr.setMode(se.LINE_STRIP)}else Ne.isPoints?Kr.setMode(se.POINTS):Ne.isSprite&&Kr.setMode(se.TRIANGLES);if(Ne.isBatchedMesh)if(Ne._multiDrawInstances!==null)Kr.renderMultiDrawInstances(Ne._multiDrawStarts,Ne._multiDrawCounts,Ne._multiDrawCount,Ne._multiDrawInstances);else if(Pe.get("WEBGL_multi_draw"))Kr.renderMultiDraw(Ne._multiDrawStarts,Ne._multiDrawCounts,Ne._multiDrawCount);else{const cr=Ne._multiDrawStarts,Cs=Ne._multiDrawCounts,Ur=Ne._multiDrawCount,en=dt?Ke.get(dt).bytesPerElement:1,Aa=Xe.get(le).currentProgram.getUniforms();for(let Ks=0;Ks<Ur;Ks++)Aa.setValue(se,"_gl_DrawID",Ks),Kr.render(cr[Ks]/en,Cs[Ks])}else if(Ne.isInstancedMesh)Kr.renderInstances(qt,rr,Ne.count);else if(Ye.isInstancedBufferGeometry){const cr=Ye._maxInstanceCount!==void 0?Ye._maxInstanceCount:1/0,Cs=Math.min(Ye.instanceCount,cr);Kr.renderInstances(qt,rr,Cs)}else Kr.render(qt,rr)};function mr(pe,ze,Ye){pe.transparent===!0&&pe.side===uf&&pe.forceSinglePass===!1?(pe.side=Pl,pe.needsUpdate=!0,Te(pe,ze,Ye),pe.side=c0,pe.needsUpdate=!0,Te(pe,ze,Ye),pe.side=uf):Te(pe,ze,Ye)}this.compile=function(pe,ze,Ye=null){Ye===null&&(Ye=pe),b=Tt.get(Ye),b.init(ze),v.push(b),Ye.traverseVisible(function(Ne){Ne.isLight&&Ne.layers.test(ze.layers)&&(b.pushLight(Ne),Ne.castShadow&&b.pushShadow(Ne))}),pe!==Ye&&pe.traverseVisible(function(Ne){Ne.isLight&&Ne.layers.test(ze.layers)&&(b.pushLight(Ne),Ne.castShadow&&b.pushShadow(Ne))}),b.setupLights();const le=new Set;return pe.traverse(function(Ne){if(!(Ne.isMesh||Ne.isPoints||Ne.isLine||Ne.isSprite))return;const de=Ne.material;if(de)if(Array.isArray(de))for(let Ue=0;Ue<de.length;Ue++){const qe=de[Ue];mr(qe,Ye,Ne),le.add(qe)}else mr(de,Ye,Ne),le.add(de)}),v.pop(),b=null,le},this.compileAsync=function(pe,ze,Ye=null){const le=this.compile(pe,ze,Ye);return new Promise(Ne=>{function de(){if(le.forEach(function(Ue){Xe.get(Ue).currentProgram.isReady()&&le.delete(Ue)}),le.size===0){Ne(pe);return}setTimeout(de,10)}Pe.get("KHR_parallel_shader_compile")!==null?de():setTimeout(de,10)})};let or=null;function Jr(pe){or&&or(pe)}function it(){pr.stop()}function Ct(){pr.start()}const pr=new ZX;pr.setAnimationLoop(Jr),typeof self<"u"&&pr.setContext(self),this.setAnimationLoop=function(pe){or=pe,Le.setAnimationLoop(pe),pe===null?pr.stop():pr.start()},Le.addEventListener("sessionstart",it),Le.addEventListener("sessionend",Ct),this.render=function(pe,ze){if(ze!==void 0&&ze.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),ze.parent===null&&ze.matrixWorldAutoUpdate===!0&&ze.updateMatrixWorld(),Le.enabled===!0&&Le.isPresenting===!0&&(Le.cameraAutoUpdate===!0&&Le.updateCamera(ze),ze=Le.getCamera()),pe.isScene===!0&&pe.onBeforeRender(j,pe,ze,I),b=Tt.get(pe,v.length),b.init(ze),v.push(b),be.multiplyMatrices(ze.projectionMatrix,ze.matrixWorldInverse),V.setFromProjectionMatrix(be),ne=this.localClippingEnabled,W=rt.init(this.clippingPlanes,ne),g=At.get(pe,w.length),g.init(),w.push(g),Le.enabled===!0&&Le.isPresenting===!0){const de=j.xr.getDepthSensingMesh();de!==null&&yr(de,ze,-1/0,j.sortObjects)}yr(pe,ze,0,j.sortObjects),g.finish(),j.sortObjects===!0&&g.sort(ee,q),oe=Le.enabled===!1||Le.isPresenting===!1||Le.hasDepthSensing()===!1,oe&&Qt.addToRenderList(g,pe),this.info.render.frame++,W===!0&&rt.beginShadows();const Ye=b.state.shadowsArray;Dt.render(Ye,pe,ze),W===!0&&rt.endShadows(),this.info.autoReset===!0&&this.info.reset();const le=g.opaque,Ne=g.transmissive;if(b.setupLights(),ze.isArrayCamera){const de=ze.cameras;if(Ne.length>0)for(let Ue=0,qe=de.length;Ue<qe;Ue++){const dt=de[Ue];me(le,Ne,pe,dt)}oe&&Qt.render(pe);for(let Ue=0,qe=de.length;Ue<qe;Ue++){const dt=de[Ue];Jt(g,pe,dt,dt.viewport)}}else Ne.length>0&&me(le,Ne,pe,ze),oe&&Qt.render(pe),Jt(g,pe,ze);I!==null&&(he.updateMultisampleRenderTarget(I),he.updateRenderTargetMipmap(I)),pe.isScene===!0&&pe.onAfterRender(j,pe,ze),ye.resetDefaultState(),_=-1,M=null,v.pop(),v.length>0?(b=v[v.length-1],W===!0&&rt.setGlobalState(j.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?g=w[w.length-1]:g=null};function yr(pe,ze,Ye,le){if(pe.visible===!1)return;if(pe.layers.test(ze.layers)){if(pe.isGroup)Ye=pe.renderOrder;else if(pe.isLOD)pe.autoUpdate===!0&&pe.update(ze);else if(pe.isLight)b.pushLight(pe),pe.castShadow&&b.pushShadow(pe);else if(pe.isSprite){if(!pe.frustumCulled||V.intersectsSprite(pe)){le&&je.setFromMatrixPosition(pe.matrixWorld).applyMatrix4(be);const Ue=st.update(pe),qe=pe.material;qe.visible&&g.push(pe,Ue,qe,Ye,je.z,null)}}else if((pe.isMesh||pe.isLine||pe.isPoints)&&(!pe.frustumCulled||V.intersectsObject(pe))){const Ue=st.update(pe),qe=pe.material;if(le&&(pe.boundingSphere!==void 0?(pe.boundingSphere===null&&pe.computeBoundingSphere(),je.copy(pe.boundingSphere.center)):(Ue.boundingSphere===null&&Ue.computeBoundingSphere(),je.copy(Ue.boundingSphere.center)),je.applyMatrix4(pe.matrixWorld).applyMatrix4(be)),Array.isArray(qe)){const dt=Ue.groups;for(let Gt=0,Mt=dt.length;Gt<Mt;Gt++){const Ot=dt[Gt],qt=qe[Ot.materialIndex];qt&&qt.visible&&g.push(pe,Ue,qt,Ye,je.z,Ot)}}else qe.visible&&g.push(pe,Ue,qe,Ye,je.z,null)}}const de=pe.children;for(let Ue=0,qe=de.length;Ue<qe;Ue++)yr(de[Ue],ze,Ye,le)}function Jt(pe,ze,Ye,le){const Ne=pe.opaque,de=pe.transmissive,Ue=pe.transparent;b.setupLightsView(Ye),W===!0&&rt.setGlobalState(j.clippingPlanes,Ye),le&&He.viewport(C.copy(le)),Ne.length>0&&Fe(Ne,ze,Ye),de.length>0&&Fe(de,ze,Ye),Ue.length>0&&Fe(Ue,ze,Ye),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function me(pe,ze,Ye,le){if((Ye.isScene===!0?Ye.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[le.id]===void 0&&(b.state.transmissionRenderTarget[le.id]=new lx(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")||Pe.has("EXT_color_buffer_float")?ew:Bf,minFilter:Mp,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:zs.workingColorSpace}));const de=b.state.transmissionRenderTarget[le.id],Ue=le.viewport||C;de.setSize(Ue.z,Ue.w);const qe=j.getRenderTarget();j.setRenderTarget(de),j.getClearColor(H),D=j.getClearAlpha(),D<1&&j.setClearColor(16777215,.5),j.clear(),oe&&Qt.render(Ye);const dt=j.toneMapping;j.toneMapping=t0;const Gt=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),b.setupLightsView(le),W===!0&&rt.setGlobalState(j.clippingPlanes,le),Fe(pe,Ye,le),he.updateMultisampleRenderTarget(de),he.updateRenderTargetMipmap(de),Pe.has("WEBGL_multisampled_render_to_texture")===!1){let Mt=!1;for(let Ot=0,qt=ze.length;Ot<qt;Ot++){const Kt=ze[Ot],rr=Kt.object,dr=Kt.geometry,Kr=Kt.material,cr=Kt.group;if(Kr.side===uf&&rr.layers.test(le.layers)){const Cs=Kr.side;Kr.side=Pl,Kr.needsUpdate=!0,Ee(rr,Ye,le,dr,Kr,cr),Kr.side=Cs,Kr.needsUpdate=!0,Mt=!0}}Mt===!0&&(he.updateMultisampleRenderTarget(de),he.updateRenderTargetMipmap(de))}j.setRenderTarget(qe),j.setClearColor(H,D),Gt!==void 0&&(le.viewport=Gt),j.toneMapping=dt}function Fe(pe,ze,Ye){const le=ze.isScene===!0?ze.overrideMaterial:null;for(let Ne=0,de=pe.length;Ne<de;Ne++){const Ue=pe[Ne],qe=Ue.object,dt=Ue.geometry,Gt=le===null?Ue.material:le,Mt=Ue.group;qe.layers.test(Ye.layers)&&Ee(qe,ze,Ye,dt,Gt,Mt)}}function Ee(pe,ze,Ye,le,Ne,de){pe.onBeforeRender(j,ze,Ye,le,Ne,de),pe.modelViewMatrix.multiplyMatrices(Ye.matrixWorldInverse,pe.matrixWorld),pe.normalMatrix.getNormalMatrix(pe.modelViewMatrix),Ne.onBeforeRender(j,ze,Ye,le,pe,de),Ne.transparent===!0&&Ne.side===uf&&Ne.forceSinglePass===!1?(Ne.side=Pl,Ne.needsUpdate=!0,j.renderBufferDirect(Ye,ze,le,Ne,pe,de),Ne.side=c0,Ne.needsUpdate=!0,j.renderBufferDirect(Ye,ze,le,Ne,pe,de),Ne.side=uf):j.renderBufferDirect(Ye,ze,le,Ne,pe,de),pe.onAfterRender(j,ze,Ye,le,Ne,de)}function Te(pe,ze,Ye){ze.isScene!==!0&&(ze=Be);const le=Xe.get(pe),Ne=b.state.lights,de=b.state.shadowsArray,Ue=Ne.state.version,qe=ot.getParameters(pe,Ne.state,de,ze,Ye),dt=ot.getProgramCacheKey(qe);let Gt=le.programs;le.environment=pe.isMeshStandardMaterial?ze.environment:null,le.fog=ze.fog,le.envMap=(pe.isMeshStandardMaterial?_e:ce).get(pe.envMap||le.environment),le.envMapRotation=le.environment!==null&&pe.envMap===null?ze.environmentRotation:pe.envMapRotation,Gt===void 0&&(pe.addEventListener("dispose",Ut),Gt=new Map,le.programs=Gt);let Mt=Gt.get(dt);if(Mt!==void 0){if(le.currentProgram===Mt&&le.lightsStateVersion===Ue)return De(pe,qe),Mt}else qe.uniforms=ot.getUniforms(pe),pe.onBeforeCompile(qe,j),Mt=ot.acquireProgram(qe,dt),Gt.set(dt,Mt),le.uniforms=qe.uniforms;const Ot=le.uniforms;return(!pe.isShaderMaterial&&!pe.isRawShaderMaterial||pe.clipping===!0)&&(Ot.clippingPlanes=rt.uniform),De(pe,qe),le.needsLights=bt(pe),le.lightsStateVersion=Ue,le.needsLights&&(Ot.ambientLightColor.value=Ne.state.ambient,Ot.lightProbe.value=Ne.state.probe,Ot.directionalLights.value=Ne.state.directional,Ot.directionalLightShadows.value=Ne.state.directionalShadow,Ot.spotLights.value=Ne.state.spot,Ot.spotLightShadows.value=Ne.state.spotShadow,Ot.rectAreaLights.value=Ne.state.rectArea,Ot.ltc_1.value=Ne.state.rectAreaLTC1,Ot.ltc_2.value=Ne.state.rectAreaLTC2,Ot.pointLights.value=Ne.state.point,Ot.pointLightShadows.value=Ne.state.pointShadow,Ot.hemisphereLights.value=Ne.state.hemi,Ot.directionalShadowMap.value=Ne.state.directionalShadowMap,Ot.directionalShadowMatrix.value=Ne.state.directionalShadowMatrix,Ot.spotShadowMap.value=Ne.state.spotShadowMap,Ot.spotLightMatrix.value=Ne.state.spotLightMatrix,Ot.spotLightMap.value=Ne.state.spotLightMap,Ot.pointShadowMap.value=Ne.state.pointShadowMap,Ot.pointShadowMatrix.value=Ne.state.pointShadowMatrix),le.currentProgram=Mt,le.uniformsList=null,Mt}function Ie(pe){if(pe.uniformsList===null){const ze=pe.currentProgram.getUniforms();pe.uniformsList=pN.seqWithValue(ze.seq,pe.uniforms)}return pe.uniformsList}function De(pe,ze){const Ye=Xe.get(pe);Ye.outputColorSpace=ze.outputColorSpace,Ye.batching=ze.batching,Ye.batchingColor=ze.batchingColor,Ye.instancing=ze.instancing,Ye.instancingColor=ze.instancingColor,Ye.instancingMorph=ze.instancingMorph,Ye.skinning=ze.skinning,Ye.morphTargets=ze.morphTargets,Ye.morphNormals=ze.morphNormals,Ye.morphColors=ze.morphColors,Ye.morphTargetsCount=ze.morphTargetsCount,Ye.numClippingPlanes=ze.numClippingPlanes,Ye.numIntersection=ze.numClipIntersection,Ye.vertexAlphas=ze.vertexAlphas,Ye.vertexTangents=ze.vertexTangents,Ye.toneMapping=ze.toneMapping}function pt(pe,ze,Ye,le,Ne){ze.isScene!==!0&&(ze=Be),he.resetTextureUnits();const de=ze.fog,Ue=le.isMeshStandardMaterial?ze.environment:null,qe=I===null?j.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Mg,dt=(le.isMeshStandardMaterial?_e:ce).get(le.envMap||Ue),Gt=le.vertexColors===!0&&!!Ye.attributes.color&&Ye.attributes.color.itemSize===4,Mt=!!Ye.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),Ot=!!Ye.morphAttributes.position,qt=!!Ye.morphAttributes.normal,Kt=!!Ye.morphAttributes.color;let rr=t0;le.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(rr=j.toneMapping);const dr=Ye.morphAttributes.position||Ye.morphAttributes.normal||Ye.morphAttributes.color,Kr=dr!==void 0?dr.length:0,cr=Xe.get(le),Cs=b.state.lights;if(W===!0&&(ne===!0||pe!==M)){const dn=pe===M&&le.id===_;rt.setState(le,pe,dn)}let Ur=!1;le.version===cr.__version?(cr.needsLights&&cr.lightsStateVersion!==Cs.state.version||cr.outputColorSpace!==qe||Ne.isBatchedMesh&&cr.batching===!1||!Ne.isBatchedMesh&&cr.batching===!0||Ne.isBatchedMesh&&cr.batchingColor===!0&&Ne.colorTexture===null||Ne.isBatchedMesh&&cr.batchingColor===!1&&Ne.colorTexture!==null||Ne.isInstancedMesh&&cr.instancing===!1||!Ne.isInstancedMesh&&cr.instancing===!0||Ne.isSkinnedMesh&&cr.skinning===!1||!Ne.isSkinnedMesh&&cr.skinning===!0||Ne.isInstancedMesh&&cr.instancingColor===!0&&Ne.instanceColor===null||Ne.isInstancedMesh&&cr.instancingColor===!1&&Ne.instanceColor!==null||Ne.isInstancedMesh&&cr.instancingMorph===!0&&Ne.morphTexture===null||Ne.isInstancedMesh&&cr.instancingMorph===!1&&Ne.morphTexture!==null||cr.envMap!==dt||le.fog===!0&&cr.fog!==de||cr.numClippingPlanes!==void 0&&(cr.numClippingPlanes!==rt.numPlanes||cr.numIntersection!==rt.numIntersection)||cr.vertexAlphas!==Gt||cr.vertexTangents!==Mt||cr.morphTargets!==Ot||cr.morphNormals!==qt||cr.morphColors!==Kt||cr.toneMapping!==rr||cr.morphTargetsCount!==Kr)&&(Ur=!0):(Ur=!0,cr.__version=le.version);let en=cr.currentProgram;Ur===!0&&(en=Te(le,ze,Ne));let Aa=!1,Ks=!1,Ls=!1;const xs=en.getUniforms(),ga=cr.uniforms;if(He.useProgram(en.program)&&(Aa=!0,Ks=!0,Ls=!0),le.id!==_&&(_=le.id,Ks=!0),Aa||M!==pe){He.buffers.depth.getReversed()?(ie.copy(pe.projectionMatrix),Dfe(ie),Rfe(ie),xs.setValue(se,"projectionMatrix",ie)):xs.setValue(se,"projectionMatrix",pe.projectionMatrix),xs.setValue(se,"viewMatrix",pe.matrixWorldInverse);const Xs=xs.map.cameraPosition;Xs!==void 0&&Xs.setValue(se,ue.setFromMatrixPosition(pe.matrixWorld)),xe.logarithmicDepthBuffer&&xs.setValue(se,"logDepthBufFC",2/(Math.log(pe.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&xs.setValue(se,"isOrthographic",pe.isOrthographicCamera===!0),M!==pe&&(M=pe,Ks=!0,Ls=!0)}if(Ne.isSkinnedMesh){xs.setOptional(se,Ne,"bindMatrix"),xs.setOptional(se,Ne,"bindMatrixInverse");const dn=Ne.skeleton;dn&&(dn.boneTexture===null&&dn.computeBoneTexture(),xs.setValue(se,"boneTexture",dn.boneTexture,he))}Ne.isBatchedMesh&&(xs.setOptional(se,Ne,"batchingTexture"),xs.setValue(se,"batchingTexture",Ne._matricesTexture,he),xs.setOptional(se,Ne,"batchingIdTexture"),xs.setValue(se,"batchingIdTexture",Ne._indirectTexture,he),xs.setOptional(se,Ne,"batchingColorTexture"),Ne._colorsTexture!==null&&xs.setValue(se,"batchingColorTexture",Ne._colorsTexture,he));const Tn=Ye.morphAttributes;if((Tn.position!==void 0||Tn.normal!==void 0||Tn.color!==void 0)&&Yt.update(Ne,Ye,en),(Ks||cr.receiveShadow!==Ne.receiveShadow)&&(cr.receiveShadow=Ne.receiveShadow,xs.setValue(se,"receiveShadow",Ne.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(ga.envMap.value=dt,ga.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&ze.environment!==null&&(ga.envMapIntensity.value=ze.environmentIntensity),Ks&&(xs.setValue(se,"toneMappingExposure",j.toneMappingExposure),cr.needsLights&&Et(ga,Ls),de&&le.fog===!0&&mt.refreshFogUniforms(ga,de),mt.refreshMaterialUniforms(ga,le,Q,O,b.state.transmissionRenderTarget[pe.id]),pN.upload(se,Ie(cr),ga,he)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(pN.upload(se,Ie(cr),ga,he),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&xs.setValue(se,"center",Ne.center),xs.setValue(se,"modelViewMatrix",Ne.modelViewMatrix),xs.setValue(se,"normalMatrix",Ne.normalMatrix),xs.setValue(se,"modelMatrix",Ne.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const dn=le.uniformsGroups;for(let Xs=0,ro=dn.length;Xs<ro;Xs++){const ss=dn[Xs];fe.update(ss,en),fe.bind(ss,en)}}return en}function Et(pe,ze){pe.ambientLightColor.needsUpdate=ze,pe.lightProbe.needsUpdate=ze,pe.directionalLights.needsUpdate=ze,pe.directionalLightShadows.needsUpdate=ze,pe.pointLights.needsUpdate=ze,pe.pointLightShadows.needsUpdate=ze,pe.spotLights.needsUpdate=ze,pe.spotLightShadows.needsUpdate=ze,pe.rectAreaLights.needsUpdate=ze,pe.hemisphereLights.needsUpdate=ze}function bt(pe){return pe.isMeshLambertMaterial||pe.isMeshToonMaterial||pe.isMeshPhongMaterial||pe.isMeshStandardMaterial||pe.isShadowMaterial||pe.isShaderMaterial&&pe.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(pe,ze,Ye){Xe.get(pe.texture).__webglTexture=ze,Xe.get(pe.depthTexture).__webglTexture=Ye;const le=Xe.get(pe);le.__hasExternalTextures=!0,le.__autoAllocateDepthBuffer=Ye===void 0,le.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(pe,ze){const Ye=Xe.get(pe);Ye.__webglFramebuffer=ze,Ye.__useDefaultFramebuffer=ze===void 0},this.setRenderTarget=function(pe,ze=0,Ye=0){I=pe,S=ze,T=Ye;let le=!0,Ne=null,de=!1,Ue=!1;if(pe){const dt=Xe.get(pe);if(dt.__useDefaultFramebuffer!==void 0)He.bindFramebuffer(se.FRAMEBUFFER,null),le=!1;else if(dt.__webglFramebuffer===void 0)he.setupRenderTarget(pe);else if(dt.__hasExternalTextures)he.rebindTextures(pe,Xe.get(pe.texture).__webglTexture,Xe.get(pe.depthTexture).__webglTexture);else if(pe.depthBuffer){const Ot=pe.depthTexture;if(dt.__boundDepthTexture!==Ot){if(Ot!==null&&Xe.has(Ot)&&(pe.width!==Ot.image.width||pe.height!==Ot.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");he.setupDepthRenderbuffer(pe)}}const Gt=pe.texture;(Gt.isData3DTexture||Gt.isDataArrayTexture||Gt.isCompressedArrayTexture)&&(Ue=!0);const Mt=Xe.get(pe).__webglFramebuffer;pe.isWebGLCubeRenderTarget?(Array.isArray(Mt[ze])?Ne=Mt[ze][Ye]:Ne=Mt[ze],de=!0):pe.samples>0&&he.useMultisampledRTT(pe)===!1?Ne=Xe.get(pe).__webglMultisampledFramebuffer:Array.isArray(Mt)?Ne=Mt[Ye]:Ne=Mt,C.copy(pe.viewport),B.copy(pe.scissor),P=pe.scissorTest}else C.copy(Z).multiplyScalar(Q).floor(),B.copy(F).multiplyScalar(Q).floor(),P=z;if(He.bindFramebuffer(se.FRAMEBUFFER,Ne)&&le&&He.drawBuffers(pe,Ne),He.viewport(C),He.scissor(B),He.setScissorTest(P),de){const dt=Xe.get(pe.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+ze,dt.__webglTexture,Ye)}else if(Ue){const dt=Xe.get(pe.texture),Gt=ze||0;se.framebufferTextureLayer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,dt.__webglTexture,Ye||0,Gt)}_=-1},this.readRenderTargetPixels=function(pe,ze,Ye,le,Ne,de,Ue){if(!(pe&&pe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qe=Xe.get(pe).__webglFramebuffer;if(pe.isWebGLCubeRenderTarget&&Ue!==void 0&&(qe=qe[Ue]),qe){He.bindFramebuffer(se.FRAMEBUFFER,qe);try{const dt=pe.texture,Gt=dt.format,Mt=dt.type;if(!xe.textureFormatReadable(Gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!xe.textureTypeReadable(Mt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ze>=0&&ze<=pe.width-le&&Ye>=0&&Ye<=pe.height-Ne&&se.readPixels(ze,Ye,le,Ne,Ze.convert(Gt),Ze.convert(Mt),de)}finally{const dt=I!==null?Xe.get(I).__webglFramebuffer:null;He.bindFramebuffer(se.FRAMEBUFFER,dt)}}},this.readRenderTargetPixelsAsync=async function(pe,ze,Ye,le,Ne,de,Ue){if(!(pe&&pe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let qe=Xe.get(pe).__webglFramebuffer;if(pe.isWebGLCubeRenderTarget&&Ue!==void 0&&(qe=qe[Ue]),qe){const dt=pe.texture,Gt=dt.format,Mt=dt.type;if(!xe.textureFormatReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!xe.textureTypeReadable(Mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ze>=0&&ze<=pe.width-le&&Ye>=0&&Ye<=pe.height-Ne){He.bindFramebuffer(se.FRAMEBUFFER,qe);const Ot=se.createBuffer();se.bindBuffer(se.PIXEL_PACK_BUFFER,Ot),se.bufferData(se.PIXEL_PACK_BUFFER,de.byteLength,se.STREAM_READ),se.readPixels(ze,Ye,le,Ne,Ze.convert(Gt),Ze.convert(Mt),0);const qt=I!==null?Xe.get(I).__webglFramebuffer:null;He.bindFramebuffer(se.FRAMEBUFFER,qt);const Kt=se.fenceSync(se.SYNC_GPU_COMMANDS_COMPLETE,0);return se.flush(),await Lfe(se,Kt,4),se.bindBuffer(se.PIXEL_PACK_BUFFER,Ot),se.getBufferSubData(se.PIXEL_PACK_BUFFER,0,de),se.deleteBuffer(Ot),se.deleteSync(Kt),de}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(pe,ze=null,Ye=0){pe.isTexture!==!0&&(QA("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ze=arguments[0]||null,pe=arguments[1]);const le=Math.pow(2,-Ye),Ne=Math.floor(pe.image.width*le),de=Math.floor(pe.image.height*le),Ue=ze!==null?ze.x:0,qe=ze!==null?ze.y:0;he.setTexture2D(pe,0),se.copyTexSubImage2D(se.TEXTURE_2D,Ye,0,0,Ue,qe,Ne,de),He.unbindTexture()};const vt=se.createFramebuffer(),Nt=se.createFramebuffer();this.copyTextureToTexture=function(pe,ze,Ye=null,le=null,Ne=0,de=null){pe.isTexture!==!0&&(QA("WebGLRenderer: copyTextureToTexture function signature has changed."),le=arguments[0]||null,pe=arguments[1],ze=arguments[2],de=arguments[3]||0,Ye=null),de===null&&(Ne!==0?(QA("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),de=Ne,Ne=0):de=0);let Ue,qe,dt,Gt,Mt,Ot,qt,Kt,rr;const dr=pe.isCompressedTexture?pe.mipmaps[de]:pe.image;if(Ye!==null)Ue=Ye.max.x-Ye.min.x,qe=Ye.max.y-Ye.min.y,dt=Ye.isBox3?Ye.max.z-Ye.min.z:1,Gt=Ye.min.x,Mt=Ye.min.y,Ot=Ye.isBox3?Ye.min.z:0;else{const Tn=Math.pow(2,-Ne);Ue=Math.floor(dr.width*Tn),qe=Math.floor(dr.height*Tn),pe.isDataArrayTexture?dt=dr.depth:pe.isData3DTexture?dt=Math.floor(dr.depth*Tn):dt=1,Gt=0,Mt=0,Ot=0}le!==null?(qt=le.x,Kt=le.y,rr=le.z):(qt=0,Kt=0,rr=0);const Kr=Ze.convert(ze.format),cr=Ze.convert(ze.type);let Cs;ze.isData3DTexture?(he.setTexture3D(ze,0),Cs=se.TEXTURE_3D):ze.isDataArrayTexture||ze.isCompressedArrayTexture?(he.setTexture2DArray(ze,0),Cs=se.TEXTURE_2D_ARRAY):(he.setTexture2D(ze,0),Cs=se.TEXTURE_2D),se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,ze.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ze.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,ze.unpackAlignment);const Ur=se.getParameter(se.UNPACK_ROW_LENGTH),en=se.getParameter(se.UNPACK_IMAGE_HEIGHT),Aa=se.getParameter(se.UNPACK_SKIP_PIXELS),Ks=se.getParameter(se.UNPACK_SKIP_ROWS),Ls=se.getParameter(se.UNPACK_SKIP_IMAGES);se.pixelStorei(se.UNPACK_ROW_LENGTH,dr.width),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,dr.height),se.pixelStorei(se.UNPACK_SKIP_PIXELS,Gt),se.pixelStorei(se.UNPACK_SKIP_ROWS,Mt),se.pixelStorei(se.UNPACK_SKIP_IMAGES,Ot);const xs=pe.isDataArrayTexture||pe.isData3DTexture,ga=ze.isDataArrayTexture||ze.isData3DTexture;if(pe.isDepthTexture){const Tn=Xe.get(pe),dn=Xe.get(ze),Xs=Xe.get(Tn.__renderTarget),ro=Xe.get(dn.__renderTarget);He.bindFramebuffer(se.READ_FRAMEBUFFER,Xs.__webglFramebuffer),He.bindFramebuffer(se.DRAW_FRAMEBUFFER,ro.__webglFramebuffer);for(let ss=0;ss<dt;ss++)xs&&(se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,Xe.get(pe).__webglTexture,Ne,Ot+ss),se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,Xe.get(ze).__webglTexture,de,rr+ss)),se.blitFramebuffer(Gt,Mt,Ue,qe,qt,Kt,Ue,qe,se.DEPTH_BUFFER_BIT,se.NEAREST);He.bindFramebuffer(se.READ_FRAMEBUFFER,null),He.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else if(Ne!==0||pe.isRenderTargetTexture||Xe.has(pe)){const Tn=Xe.get(pe),dn=Xe.get(ze);He.bindFramebuffer(se.READ_FRAMEBUFFER,vt),He.bindFramebuffer(se.DRAW_FRAMEBUFFER,Nt);for(let Xs=0;Xs<dt;Xs++)xs?se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,Tn.__webglTexture,Ne,Ot+Xs):se.framebufferTexture2D(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,Tn.__webglTexture,Ne),ga?se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,dn.__webglTexture,de,rr+Xs):se.framebufferTexture2D(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,dn.__webglTexture,de),Ne!==0?se.blitFramebuffer(Gt,Mt,Ue,qe,qt,Kt,Ue,qe,se.COLOR_BUFFER_BIT,se.NEAREST):ga?se.copyTexSubImage3D(Cs,de,qt,Kt,rr+Xs,Gt,Mt,Ue,qe):se.copyTexSubImage2D(Cs,de,qt,Kt,Gt,Mt,Ue,qe);He.bindFramebuffer(se.READ_FRAMEBUFFER,null),He.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else ga?pe.isDataTexture||pe.isData3DTexture?se.texSubImage3D(Cs,de,qt,Kt,rr,Ue,qe,dt,Kr,cr,dr.data):ze.isCompressedArrayTexture?se.compressedTexSubImage3D(Cs,de,qt,Kt,rr,Ue,qe,dt,Kr,dr.data):se.texSubImage3D(Cs,de,qt,Kt,rr,Ue,qe,dt,Kr,cr,dr):pe.isDataTexture?se.texSubImage2D(se.TEXTURE_2D,de,qt,Kt,Ue,qe,Kr,cr,dr.data):pe.isCompressedTexture?se.compressedTexSubImage2D(se.TEXTURE_2D,de,qt,Kt,dr.width,dr.height,Kr,dr.data):se.texSubImage2D(se.TEXTURE_2D,de,qt,Kt,Ue,qe,Kr,cr,dr);se.pixelStorei(se.UNPACK_ROW_LENGTH,Ur),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,en),se.pixelStorei(se.UNPACK_SKIP_PIXELS,Aa),se.pixelStorei(se.UNPACK_SKIP_ROWS,Ks),se.pixelStorei(se.UNPACK_SKIP_IMAGES,Ls),de===0&&ze.generateMipmaps&&se.generateMipmap(Cs),He.unbindTexture()},this.copyTextureToTexture3D=function(pe,ze,Ye=null,le=null,Ne=0){return pe.isTexture!==!0&&(QA("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ye=arguments[0]||null,le=arguments[1]||null,pe=arguments[2],ze=arguments[3],Ne=arguments[4]||0),QA('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(pe,ze,Ye,le,Ne)},this.initRenderTarget=function(pe){Xe.get(pe).__webglFramebuffer===void 0&&he.setupRenderTarget(pe)},this.initTexture=function(pe){pe.isCubeTexture?he.setTextureCube(pe,0):pe.isData3DTexture?he.setTexture3D(pe,0):pe.isDataArrayTexture||pe.isCompressedArrayTexture?he.setTexture2DArray(pe,0):he.setTexture2D(pe,0),He.unbindTexture()},this.resetState=function(){S=0,T=0,I=null,He.reset(),ye.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ff}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const s=this.getContext();s.drawingBufferColorspace=zs._getDrawingBufferColorSpace(e),s.unpackColorSpace=zs._getUnpackColorSpace()}}const tge=({assignmentType:t,filter:e,setFilter:s})=>{var oe,lt;const[n,a]=E.useState(""),[i,o]=E.useState("due_asc"),[l,c]=E.useState([]),[d,u]=E.useState(0),[h,m]=E.useState(!1),[f,x]=E.useState({}),[A,g]=E.useState(!1),[b,w]=E.useState("6"),[v,j]=E.useState("math"),[N,S]=E.useState("mcq"),[T,I]=E.useState({}),[_,M]=E.useState(null),[C,B]=E.useState(!1),P=E.useRef(null),H=E.useRef(null),D=E.useRef(null),G=E.useRef(null),O=E.useRef(null),[Q,ee]=E.useState({rotation:0,zoom:1,lightIntensity:1}),q=[{id:1,title:"Geometry Project",course:"Mathematics",dueDate:"2025-06-20",status:"pending",priority:"high",description:"Design and explain properties of different types of triangles",submissionType:"file",maxMarks:100},{id:2,title:"Essay Writing Assignment",course:"English",dueDate:"2025-06-18",status:"completed",priority:"medium",description:"Write an essay on the importance of environmental conservation",submissionType:"text",maxMarks:80},{id:3,title:"Science Lab Report",course:"Chemistry",dueDate:"2025-06-15",status:"overdue",priority:"high",description:"Analyze the results of the acid-base titration experiment",submissionType:"file",maxMarks:90}],Z={6:{math:{mcq:[{q:"What is 7+5?",o:["10","11","12","13"],a:"12",e:"Simple addition"},{q:"What is 8*6?",o:["42","48","54","56"],a:"48",e:"Multiplication"}],blank:[{q:"Fill in the blank: 9 - 4 = ___",a:"5",e:"Simple subtraction"}]},science:{mcq:[{q:"What planet is closest to the Sun?",o:["Venus","Mercury","Earth","Mars"],a:"Mercury",e:"Mercury is the closest planet to the Sun"}],blank:[{q:"The process by which plants make food is called ___",a:"photosynthesis",e:"Plants use sunlight to make food"}]}},7:{math:{mcq:[{q:"What is 12*7?",o:["82","84","86","88"],a:"84",e:"Multiplication"},{q:"What is 15/3?",o:["3","4","5","6"],a:"5",e:"Division"}],blank:[{q:"Fill in the blank: 16 + 9 = ___",a:"25",e:"Simple addition"}]},science:{mcq:[{q:"What is the chemical symbol for gold?",o:["Go","Gd","Au","Ag"],a:"Au",e:"Gold has the chemical symbol Au"}],blank:[{q:"The largest organ in the human body is the ___",a:"skin",e:"Skin is the largest organ"}]}}},F=se=>{switch(se){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"overdue":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},z=se=>{switch(se){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-green-500";default:return"border-l-gray-500"}},V=se=>{switch(se){case"completed":return r.jsx(Fr,{className:"w-5 h-5 text-green-600"});case"overdue":return r.jsx(br,{className:"w-5 h-5 text-red-600"});default:return r.jsx(fr,{className:"w-5 h-5 text-yellow-600"})}},W=se=>new Date(se).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ne=se=>{const J=new Date,xe=new Date(se)-J;return Math.ceil(xe/(1e3*60*60*24))},ie=q.filter(se=>se.title.toLowerCase().includes(n.toLowerCase())||se.course.toLowerCase().includes(n.toLowerCase())||se.description.toLowerCase().includes(n.toLowerCase())?e==="all"?!0:e==="pending"?se.status==="pending":e==="completed"?se.status==="completed":e==="overdue"?se.status==="overdue":!0:!1).sort((se,J)=>{const Pe={high:3,medium:2,low:1},xe={overdue:3,pending:2,completed:1};return i==="due_asc"?new Date(se.dueDate)-new Date(J.dueDate):i==="due_desc"?new Date(J.dueDate)-new Date(se.dueDate):i==="priority"?(Pe[J.priority]||0)-(Pe[se.priority]||0):i==="status"?(xe[J.status]||0)-(xe[se.status]||0):0});E.useEffect(()=>{if(t!=="lab"){O.current&&cancelAnimationFrame(O.current),H.current&&(H.current.dispose(),H.current=null);return}if(!P.current)return;const se=new lme;se.background=new Gs(16119285),D.current=se;const J=new Xc(75,P.current.clientWidth/P.current.clientHeight,.1,1e3);J.position.set(0,5,10),G.current=J;const Pe=new ege({antialias:!0});Pe.setSize(P.current.clientWidth,P.current.clientHeight),Pe.shadowMap.enabled=!0,Pe.shadowMap.type=SX,H.current=Pe,P.current.appendChild(Pe.domElement);const xe=new xme(4210752,.6);se.add(xe);const He=new pme(16777215,Q.lightIntensity);He.position.set(5,10,5),He.castShadow=!0,se.add(He);const $e=new Ab(2,2,2),Xe=new IR({color:65280}),he=new Qd($e,Xe);he.castShadow=!0,se.add(he);const ce=new aw(20,20),_e=new IR({color:13421772}),Ke=new Qd(ce,_e);Ke.rotation.x=-Math.PI/2,Ke.position.y=-2,Ke.receiveShadow=!0,se.add(Ke);const et=()=>{O.current=requestAnimationFrame(et),he.rotation.x+=.01,he.rotation.y+=.01,he.rotation.z=Q.rotation*Math.PI/180,J.position.z=10/Q.zoom,He.intensity=Q.lightIntensity,Pe.render(se,J)};et();const st=()=>{if(!P.current)return;const ot=P.current.clientWidth,mt=P.current.clientHeight;J.aspect=ot/mt,J.updateProjectionMatrix(),Pe.setSize(ot,mt)};return window.addEventListener("resize",st),()=>{var ot;window.removeEventListener("resize",st),O.current&&cancelAnimationFrame(O.current),H.current&&((ot=P.current)==null||ot.removeChild(Pe.domElement),H.current.dispose())}},[t,Q]);const be=(se,J)=>{I(Pe=>({...Pe,[se]:J}))},ue=()=>{var He,$e;const se=(($e=(He=Z[b])==null?void 0:He[v])==null?void 0:$e[N])||[];let J=0;const Pe={};if(se.forEach((Xe,he)=>{const _e=(T[he]||"").toLowerCase().trim()===Xe.a.toLowerCase().trim();Pe[he]=_e,_e&&J++}),M(Pe),Math.round(J/se.length*100)>=70){jX(10);const Xe=document.createElement("div");Xe.className="fixed top-20 right-6 bg-emerald-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce z-50",Xe.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 10.05a7 7 0 0 1 9.9 0l10 10"></path><path d="M13 13h8"></path></svg><span>+10 Points</span>',document.body.appendChild(Xe),setTimeout(()=>document.body.removeChild(Xe),1800)}};E.useEffect(()=>{if(t!=="flashcard")return;const se=J=>{J.key===" "&&(J.preventDefault(),m(!h))};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[h,t]);const je=({array:se=[],insight:J,setInsight:Pe})=>{const[xe,He]=E.useState({}),[$e,Xe]=E.useState(!1);return r.jsxs("div",{className:"space-y-6",children:[se.map((he,ce)=>r.jsx("div",{className:"mb-5",children:r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"shrink-0 w-7 h-7 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-sm font-semibold",children:ce+1}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-medium",children:he.q}),r.jsx("div",{className:"mt-4 space-y-2",children:he.o.map((_e,Ke)=>r.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[r.jsx("input",{type:"radio",name:`q${ce}`,value:_e,checked:xe[ce]===_e,onChange:et=>He(st=>({...st,[ce]:et.target.value})),className:"text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"text-gray-700",children:_e})]},Ke))}),$e&&xe[ce]&&r.jsxs("div",{className:`mt-3 rounded-lg border p-3 text-sm ${xe[ce]===he.a?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[r.jsxs("div",{className:xe[ce]===he.a?"text-green-800":"text-red-800",children:[r.jsx("span",{className:"font-semibold",children:"Your answer:"})," ",xe[ce]," ",xe[ce]===he.a?"":""]}),xe[ce]!==he.a&&r.jsxs("div",{className:"text-green-800 mt-1",children:[r.jsx("span",{className:"font-semibold",children:"Correct answer:"})," ",he.a]}),he.e&&r.jsxs("div",{className:"text-gray-700 mt-1",children:[r.jsx("span",{className:"font-semibold",children:"Explanation:"})," ",he.e]})]})]})]})})})},ce)),r.jsx("div",{className:"flex gap-3",children:r.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:()=>Xe(!$e),children:$e?"Hide Results":"Check Answers"})})]})},Be=({array:se=[],insight:J,setInsight:Pe})=>r.jsx("div",{className:"space-y-6",children:se.map((xe,He)=>r.jsx("div",{className:"mb-5",children:r.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"shrink-0 w-7 h-7 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-sm font-semibold",children:He+1}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-gray-900 font-medium",children:xe.q}),r.jsx("div",{className:"mt-3",children:r.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type your answer here...",value:T[He]||"",onChange:$e=>be(He,$e.target.value)})}),C&&r.jsxs("div",{className:"mt-3 rounded-lg bg-green-50 border border-green-200 p-3 text-sm",children:[r.jsxs("div",{className:"text-green-800",children:[r.jsx("span",{className:"font-semibold",children:"Answer:"})," ",xe.a]}),xe.e&&r.jsxs("div",{className:"text-green-700 mt-1",children:[r.jsx("span",{className:"font-semibold",children:"Explanation:"})," ",xe.e]})]})]})]})})})},He))});return t==="school"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3",children:[r.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[r.jsx(Fs,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),r.jsx("input",{value:n,onChange:se=>a(se.target.value),placeholder:"Search title, course, or description...",className:"w-full pl-9 pr-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),r.jsxs("select",{value:i,onChange:se=>o(se.target.value),className:"w-full md:w-auto px-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[r.jsx("option",{value:"due_asc",children:"Sort by Due (Earliest)"}),r.jsx("option",{value:"due_desc",children:"Sort by Due (Latest)"}),r.jsx("option",{value:"priority",children:"Sort by Priority"}),r.jsx("option",{value:"status",children:"Sort by Status"})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","completed","overdue"].map(se=>r.jsx("button",{onClick:()=>s(se),className:`px-3 py-1.5 rounded-full text-sm font-medium capitalize border transition ${e===se?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:se},se))})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q.length})]}),r.jsx(Dr,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:q.filter(se=>se.status==="pending").length})]}),r.jsx(fr,{className:"w-8 h-8 text-yellow-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:q.filter(se=>se.status==="completed").length})]}),r.jsx(Fr,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:q.filter(se=>se.status==="overdue").length})]}),r.jsx(br,{className:"w-8 h-8 text-red-600"})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:ie.map(se=>{const J=ne(se.dueDate),Pe=J<0?`${Math.abs(J)} days overdue`:`${J} days remaining`,xe=J<0?"text-red-600 bg-red-50 border-red-200":J<=3?"text-amber-700 bg-amber-50 border-amber-200":"text-green-700 bg-green-50 border-green-200";return r.jsxs("div",{className:`bg-white rounded-xl border shadow-sm hover:shadow-md transition overflow-hidden ${z(se.priority)}`,children:[r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[V(se.status),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:se.title})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize border ${F(se.status)}`,children:se.status})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-sm text-gray-700",children:[r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(CS,{className:"w-4 h-4"}),se.course]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(ir,{className:"w-4 h-4"}),"Due: ",W(se.dueDate)]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:["Max Marks: ",se.maxMarks]})]}),r.jsx("p",{className:"mt-3 text-gray-700 line-clamp-3",children:se.description})]}),r.jsx("div",{className:"px-5 pb-5",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded border text-xs font-medium ${xe}`,children:Pe}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Submission: ",se.submissionType]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[se.status==="pending"&&r.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Submit"}),r.jsxs("button",{className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm inline-flex items-center gap-1",children:[r.jsx(bs,{className:"w-4 h-4"}),"Download"]})]})]})})]},se.id)})}),ie.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No assignments found."})})]}):t==="flashcard"?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-3",children:[r.jsx("label",{htmlFor:"fcClass",className:"font-medium text-gray-700",children:"Class:"}),r.jsxs("select",{id:"fcClass",value:b,onChange:se=>w(se.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"6",children:"Class 6"}),r.jsx("option",{value:"7",children:"Class 7"}),r.jsx("option",{value:"8",children:"Class 8"}),r.jsx("option",{value:"9",children:"Class 9"}),r.jsx("option",{value:"10",children:"Class 10"})]})]}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600",children:"Flashcard functionality coming soon!"})})]}):t==="eec"?r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative",children:[r.jsx("div",{className:"p-6 sm:p-7 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"EEC Practice Paper"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Challenge yourself with curated questions"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("select",{value:b,onChange:se=>w(se.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[r.jsx("option",{value:"6",children:"Class 6"}),r.jsx("option",{value:"7",children:"Class 7"})]}),r.jsx("select",{value:v,onChange:se=>j(se.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:r.jsx("option",{value:"math",children:"Math"})}),r.jsxs("select",{value:N,onChange:se=>S(se.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[r.jsx("option",{value:"mcq",children:"Multiple Choice"}),r.jsx("option",{value:"blank",children:"Fill in the Blank"})]})]})]})}),r.jsx("div",{className:"p-6 sm:p-7",children:N==="mcq"?r.jsx(je,{array:(oe=Z[b][v])==null?void 0:oe.mcq}):r.jsx(Be,{array:(lt=Z[b][v])==null?void 0:lt.blank})}),r.jsxs("div",{className:"p-6 sm:p-7 bg-gray-50 border-t border-gray-200 flex flex-wrap gap-3",children:[r.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:ue,children:"Submit Answers"}),r.jsx("button",{className:`px-4 py-2 rounded-lg border ${C?"border-green-600 text-green-700 hover:bg-green-50":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:()=>{M(null),B(!C)},children:C?"Hide Explanations":"Show Explanations"})]})]}):t==="lab"?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Virtual Lab"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Explore interactive 3D models and simulations for enhanced learning"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"3D Model Viewer"}),r.jsx("div",{ref:P,className:"w-full h-96 bg-gray-50 rounded-lg border border-gray-200 overflow-hidden"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lab Controls"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model Rotation (",Math.round(Q.rotation),")"]}),r.jsx("input",{type:"range",min:"0",max:"360",value:Q.rotation,onChange:se=>ee(J=>({...J,rotation:parseInt(se.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Zoom Level (",Q.zoom.toFixed(1),"x)"]}),r.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:Q.zoom,onChange:se=>ee(J=>({...J,zoom:parseFloat(se.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Light Intensity (",Q.lightIntensity.toFixed(1),")"]}),r.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:Q.lightIntensity,onChange:se=>ee(J=>({...J,lightIntensity:parseFloat(se.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Lab Instructions"}),r.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:" Use the controls to manipulate the 3D model"}),r.jsx("li",{children:" Adjust rotation to view from different angles"}),r.jsx("li",{children:" Change zoom to examine details closely"}),r.jsx("li",{children:" Modify lighting for better visibility"})]})]})]})]})]}):null},cO=["The sky is blue.","Cats can fly.","Water boils at 100C.","The earth is flat.","West Bengal is a country.","The sun rises in the east.","Fish can breathe underwater.","Mount Everest is the tallest mountain."];function rge(){const[t,e]=E.useState(Array(cO.length).fill(null)),s=(n,a)=>{e(i=>{const o=[...i];return o[n]=a,o})};return r.jsxs("div",{className:"max-w-2xl mx-auto mt-10 bg-white-100 rounded-xl shadow-lg p-8 border border-purple-500",children:[r.jsx("h2",{className:"text-2xl font-bold text-black mb-6 text-center",children:"Choice Matrix"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2 px-4 text-black text-lg",children:"Statement"}),r.jsx("th",{className:"py-2 px-4 text-black text-lg text-center",children:"True"}),r.jsx("th",{className:"py-2 px-4 text-black text-lg text-center",children:"False"})]})}),r.jsx("tbody",{children:cO.map((n,a)=>r.jsxs("tr",{className:"border-b border-purple-100",children:[r.jsx("td",{className:"py-3 px-4 text-black",children:n}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("input",{type:"radio",id:`true-${a}`,name:`choice-${a}`,checked:t[a]===!0,onChange:()=>s(a,!0),className:"accent-purple-500 w-5 h-5"})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("input",{type:"radio",id:`false-${a}`,name:`choice-${a}`,checked:t[a]===!1,onChange:()=>s(a,!1),className:"accent-purple-500 w-5 h-5"})})]},a))})]})})]})}function sge(){const[t,e]=E.useState([{question:"There are several different types of drums. The ${{blank}} drum is a long bodied drum typically held between the knees and played with the fingers. A drum with small metal disc around the edge played by being shaken is a ${{blank}}. Many years ago, a ${{blank}} drum was used to announce an army's arrival onto a battlefield. Finally, the biggest drum in a marching band is called a ${{blank}} drum.",options:["snare","bass","tom-tom","cymbal"],hint:["hint1","hint2","hint3","hint4"]}]),[s,n]=E.useState("down");return r.jsxs("section",{className:`${s=="left"||s=="right"?"w-[80vw]":"w-[60vw]"} m-auto flex flex-col items-center gap-3 pt-10`,children:[r.jsxs("div",{className:" top-2 right-2 flex gap-2 items-center",children:[r.jsx("label",{className:"text-purple-500",children:"Option Position:"}),r.jsxs("select",{name:"",id:"",className:"border-2 border-purple-500 p-2 rounded-xl",onChange:a=>n(a.target.value),children:[r.jsx("option",{value:"",hidden:!0,children:"Select Option Position"}),r.jsx("option",{value:"up",children:"Up"}),r.jsx("option",{value:"down",children:"Down"}),r.jsx("option",{value:"left",children:"Left"}),r.jsx("option",{value:"right",children:"Right"})]})]}),t.map((a,i)=>r.jsx(nge,{question:a,optionPos:s},i))]})}function nge({question:t,optionPos:e}){const s=t.question.split("${{blank}}"),[n,a]=E.useState(t.options),i=E.useRef([]),[o,l]=E.useState(n.map(()=>({show:!1,value:"",showHint:!1})));return r.jsxs("div",{className:`w-3/4 border flex ${e=="down"?"flex-col":e=="left"?"flex-row-reverse":e=="right"?"flex-row":"flex-col-reverse"} items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-l`,children:[r.jsx("div",{children:s.map((m,f)=>r.jsxs(Ve.Fragment,{children:[r.jsx("span",{className:"select-none text-black",children:m}),f<s.length-1?r.jsx("span",{ref:x=>i.current[f]=x,onDragOver:x=>x.preventDefault(),onDrop:x=>{const A=x.dataTransfer.getData("text"),g=[...o];g[f].show||(g[f].show=!0,g[f].value=A,l([...g]),a(n.filter(b=>b!==A)))},className:`inline-block px-4 py-1 min-w-15 min-h-7 border-dashed border-3 border-black ${o[f].show?"border-purple-400":""}`,children:o[f].show?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"text-black",children:o[f].value}),r.jsx("button",{onClick:()=>{const x=[...o];x[f].show=!1,l([...x]),a([...n,o[f].value])},className:"bg-gray-200 px-2 rounded-md cursor-pointer",children:"x"})]}):r.jsxs("div",{className:"relative",children:[r.jsx(ES,{className:"w-4 m-auto cursor-pointer",onClick:()=>{const x=[...o];x[f].showHint=!x[f].showHint,l([...x])}}),o[f].showHint&&r.jsxs("div",{className:"bg-yellow-100 p-2 absolute left-1/2 -translate-x-1/2 top-full z-10 border-1 border-black min-w-50 rounded-lg",children:[r.jsx("div",{className:"w-0 h-0 border-b-[15px] border-l-[7px] border-r-[7px] border-b-yellow-100 border-l-transparent border-r-transparent absolute left-1/2 -translate-x-1/2 bottom-full"}),r.jsx("p",{className:"text-xs",children:t.hint[f]})]})]})}):""]},f))}),r.jsxs("div",{className:"w-full relative",children:[r.jsx("div",{className:`absolute ${e=="up"?"-bottom-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-t-[30px] border-t-yellow-100 border-b-0":e=="left"?"-right-4 top-1/2 -translate-y-1/2 border-t-[15px] border-t-transparent border-b-[15px] border-b-transparent border-l-[30px] border-l-yellow-100 border-r-0":e=="right"?"-left-4 top-1/2 -translate-y-1/2 border-t-[15px] border-t-transparent border-b-[15px] border-b-transparent border-r-[30px] border-r-yellow-100 border-l-0":"-top-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-b-[30px] border-b-yellow-100 border-t-0"} w-5 h-5`}),r.jsx("div",{className:`bg-yellow-100 w-full flex ${e!="up"&&e!="down"?"flex-col":""} items-center justify-center gap-2 p-5 rounded-xl`,children:n.map((m,f)=>r.jsx("div",{draggable:!0,onDragStart:x=>x.dataTransfer.setData("text",x.currentTarget.innerText),className:"bg-gray-200 px-5 py-2 rounded-lg cursor-grab border border-purple-300 hover:border-purple-500 text-black",children:m},f))})]})]})}function age(){const[t,e]=E.useState([{question:"Yesterday, we ${{input}} to the store. Tomorrow we ${{input}} to school.",options:[["go","went","gone"],["go","will go","going"]]}]);return r.jsx("section",{className:"m-auto flex flex-col items-center gap-3 pt-10",children:t.map((s,n)=>r.jsx(ige,{question:s.question,options:s.options},n))})}function ige({question:t,options:e}){const s=t.split("${{input}}");return r.jsxs("div",{className:"w-3/4 border flex flex-col items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-black self-start",children:"Fill in the blanks from the drop down:"}),r.jsx("div",{children:s.map((n,a)=>r.jsxs(Ve.Fragment,{children:[r.jsx("span",{className:"select-none text-black",children:n}),a<s.length-1&&r.jsxs("select",{className:"border-2 p-2 border-purple-500 focus:outline-none w-24 text-black",children:[r.jsx("option",{value:"",hidden:!0}),e[a].map((i,o)=>r.jsx("option",{value:i,className:"text-black",children:i},o))]})]},a))})]})}function oge(){const[t,e]=E.useState(["We the ${{input}} of the United States, in order to form a more ${{input}}, establish justice, insure domestic tranquility, provide for the common defense, promote the ${{input}}, and secure the blessings of liberty to ourselves and our posterity, do ordain and establish ${{input}} for the United States of America."]);return r.jsx("section",{className:"m-auto flex flex-col items-center gap-3 pt-10",children:t.map((s,n)=>r.jsx(lge,{question:s},n))})}function lge({question:t}){const e=t.split("${{input}}");return r.jsxs("div",{className:"w-3/4 border flex flex-col items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold text-black self-start",children:"Fill in the blanks to complete the passage:"}),r.jsx("div",{children:e.map((s,n)=>r.jsxs(Ve.Fragment,{children:[r.jsx("span",{className:"select-none text-black",children:s}),n<e.length-1&&r.jsx("input",{type:"text",className:"border-2 pl-2 border-purple-500 focus:outline-none w-24 text-black"})]},n))})]})}function cge(){const[t,e]=E.useState(null),[s,n]=E.useState(null),a=o=>{const l=o.target.files[0];if(e(l),l&&l.type.startsWith("image")){const c=new FileReader;c.onloadend=()=>{n(c.result)},c.readAsDataURL(l)}else n(null)},i=o=>{if(o.preventDefault(),!t){alert("Please select a file first!");return}alert(`Selected file: ${t.name}`)};return r.jsxs("div",{className:"max-w-lg mx-auto mt-12 bg-white p-8 rounded-xl shadow-md border border-purple-300",children:[r.jsx("h2",{className:"text-2xl font-bold text-center text-black mb-6",children:"Upload a File"}),r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsxs("div",{className:"border-2 border-dashed border-purple-400 rounded-lg p-6 text-center hover:bg-purple-50 transition cursor-pointer",children:[r.jsxs("label",{htmlFor:"fileInput",className:"block cursor-pointer",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-purple-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4a2 2 0 012-2h6a2 2 0 012 2v12m-5 4h.01M12 20v-4"})}),r.jsx("span",{className:"text-sm text-black",children:"Click to browse or drag & drop a file"})]}),r.jsx("input",{id:"fileInput",type:"file",onChange:a,className:"hidden"})]}),t&&r.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-3 rounded-md text-sm text-black",children:[r.jsx("span",{className:"font-medium",children:t.name}),r.jsxs("span",{className:"text-black text-xs",children:[(t.size/1024).toFixed(2)," KB"]})]}),s&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-sm text-black mb-1",children:"Preview:"}),r.jsx("img",{src:s,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border"})]}),r.jsx("div",{children:r.jsx("h3",{className:"text-sm text-black text-center mt-2",children:"JPG, GIF, PNG, and PDF files are supported."})}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"submit",className:"px-6 py-2 bg-purple-600 text-white font-semibold rounded-md hover:bg-purple-700 transition",children:"Upload File"})})]})]})}function dge(){const[t,e]=E.useState(null),[s,n]=E.useState("#22c55e"),[a,i]=E.useState([]),[o,l]=E.useState([]),[c,d]=E.useState([]),u=E.useRef(null),h=E.useRef(null),m=E.useRef(!1),f=E.useRef([]),x=()=>{const _=h.current;console.log(_);const M=u.current;_&&M&&(M.width=_.width,M.height=_.height)};E.useEffect(()=>{t&&h.current&&(h.current.onload=()=>{x()})},[t]);const A=_=>{const M=_.target.files[0];if(!M||!M.type.startsWith("image"))return;const C=new FileReader;C.onloadend=()=>e(C.result),C.readAsDataURL(M)},g=_=>{const M=u.current.getBoundingClientRect();return{x:_.clientX-M.left,y:_.clientY-M.top}},b=_=>{m.current=!0,f.current=[];const{x:M,y:C}=g(_);f.current.push({x:M,y:C,color:s})},w=_=>{if(!m.current)return;const{x:M,y:C}=g(_);f.current.push({x:M,y:C,color:s}),j([...c,f.current])},v=()=>{m.current&&(m.current=!1,d(_=>{const M=[..._,f.current];return i(M),l([]),M}))},j=_=>{const M=u.current,C=M.getContext("2d");C.clearRect(0,0,M.width,M.height),_.forEach(B=>{if(!(B.length<2)){C.beginPath(),C.moveTo(B[0].x,B[0].y);for(let P=1;P<B.length;P++)C.lineTo(B[P].x,B[P].y);C.strokeStyle=B[0].color,C.lineWidth=4,C.lineCap="round",C.lineJoin="round",C.shadowColor="rgba(0,0,0,0.1)",C.shadowBlur=1,C.stroke()}})},N=()=>{if(c.length===0)return;const _=[...c],M=_.pop();d(_),l(C=>[...C,M]),i(_),j(_)},S=()=>{if(o.length===0)return;const _=[...o],M=_.pop(),C=[...c,M];d(C),l(_),i(C),j(C)},T=()=>{d([]),i([]),l([]),u.current.getContext("2d").clearRect(0,0,u.current.width,u.current.height)},I=()=>{const _=document.createElement("canvas"),M=u.current.width,C=u.current.height;_.width=M,_.height=C;const B=_.getContext("2d"),P=new Image;P.src=t,P.onload=()=>{B.drawImage(P,0,0,M,C),B.drawImage(u.current,0,0);const H=document.createElement("a");H.download="highlighted-image.png",H.href=_.toDataURL(),H.click()}};return r.jsxs("div",{className:"max-w-lg mx-auto mt-5 bg-white p-8 rounded-xl shadow-md border border-purple-300",children:[r.jsx("h2",{className:"text-3xl font-bold text-black text-center mb-6",children:"Student Image Highlighter"}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"block w-full max-w-sm text-sm border rounded-md file:bg-purple-600 file:text-white file:px-4 file:py-2 file:border-0 file:rounded-lg file:cursor-pointer hover:file:bg-purple-700"}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-black text-lg font-semibold",children:"Draw on the image:"}),r.jsxs("p",{children:[r.jsx("span",{className:"text-black font-medium",children:"Green"})," = Healthy,",r.jsx("span",{className:"text-black font-medium ml-2",children:"Red"})," = Unhealthy"]})]}),t&&r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>n("#22c55e"),className:`px-4 py-2 rounded ${s==="#22c55e"?"bg-green-600 text-white":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:" Green"}),r.jsx("button",{onClick:()=>n("#ef4444"),className:`px-4 py-2 rounded ${s==="#ef4444"?"bg-red-600 text-white":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:" Red"})]}),t&&r.jsxs("div",{className:"relative border-2 border-purple-400 rounded-xl shadow-xl overflow-hidden",children:[r.jsx("img",{ref:h,src:t,alt:"To annotate",width:300,height:400,className:"block h-auto",onLoad:x}),r.jsx("canvas",{ref:u,className:"absolute top-0 left-0",onMouseDown:b,onMouseMove:w,onMouseUp:v,onMouseLeave:v})]}),t&&r.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[r.jsx("button",{onClick:N,className:"px-4 py-2 bg-yellow-300 hover:bg-yellow-400 rounded shadow",children:" Undo"}),r.jsx("button",{onClick:S,className:"px-4 py-2 bg-yellow-300 hover:bg-yellow-400 rounded shadow",children:" Redo"}),r.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded shadow",children:" Clear"}),r.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded shadow",children:" Save"})]})]})]})}function uge(){const[t,e]=Ve.useState([{items:["Car","Plane","Lake"],pairs:["Drive","Fly","Swim"]}]);return r.jsx("section",{className:"w-[60vw] flex flex-col m-auto mt-10",children:t.map((s,n)=>r.jsx(hge,{items:s.items,pairs:s.pairs},n))})}function hge({items:t,pairs:e}){const[s,n]=E.useState(e),[a,i]=E.useState(t.map(()=>({show:!1,value:""})));return r.jsxs("div",{className:"w-full flex flex-col items-center gap-5",children:[r.jsx("h2",{className:"font-bold text-2xl text-black",children:"Match Items"}),r.jsx("div",{className:`w-3/4 grid grid-cols-3 grid-rows-${t.length} gap-y-3`,children:t.map((o,l)=>r.jsxs("div",{className:"contents",children:[r.jsx("p",{className:"min-h-10 p-2 min-w-10 rounded-lg border box-border border-purple-500 text-black",children:o}),r.jsx("hr",{className:"self-center"},`line-${l}`),r.jsx("p",{className:`min-h-10 p-2 min-w-10 rounded-lg border border-gray-300 box-border ${a[l].show?"bg-yellow-100 flex justify-between border-purple-500":""} text-black`,onDragOver:c=>c.preventDefault(),onDrop:c=>{const d=c.dataTransfer.getData("text"),u=[...a];u[l].show=!0,u[l].value=d,i([...u]),n(s.filter(h=>h!==d))},children:a[l].show?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-black",children:a[l].value}),r.jsx("button",{onClick:()=>{const c=[...a];c[l].show=!1,n([...s,c[l].value]),i([...c])},className:"bg-gray-200 px-2 rounded-md cursor-pointer",children:"x"})]}):""})]},l))}),r.jsxs("div",{className:"w-full relative",children:[r.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-b-[30px] border-b-yellow-100 border-t-0 w-5 h-5"}),r.jsx("div",{className:"bg-yellow-100 w-full flex items-center justify-center gap-2 p-5 rounded-xl",children:s.map((o,l)=>r.jsx("div",{draggable:!0,onDragStart:c=>c.dataTransfer.setData("text",c.currentTarget.innerText),className:"bg-gray-200 px-5 py-2 rounded-lg cursor-grab border border-purple-300 hover:border-purple-500 text-black",children:o},l))})]})]})}const dO=[{question:"What is the capital of France?",options:["Berlin","Madrid","Paris","Rome"],answer:2},{question:"Which planet is known as the Red Planet?",options:["Earth","Mars","Jupiter","Saturn"],answer:1},{question:"Who wrote 'To Kill a Mockingbird'?",options:["Harper Lee","Mark Twain","J.K. Rowling","Jane Austen"],answer:0}],fge=["A","B","C","D"];function mge(){const[t,e]=E.useState(0),[s,n]=E.useState(null),[a,i]=E.useState("standard"),o=u=>{n(u)},l=()=>{e(u=>u+1),n(null)},c=u=>{i(u.target.value),n(null)},d=dO[t];return r.jsxs("div",{className:"max-w-xl mx-auto mt-10 bg-white-100 rounded-xl shadow-lg p-8 border border-purple-500",children:[r.jsxs("div",{className:"flex justify-end mb-4",children:[r.jsx("label",{className:"mr-2 text-purple-700 font-medium",children:"Theme:"}),r.jsxs("select",{value:a,onChange:c,className:"border border-purple-300 rounded px-2 py-1 focus:outline-none",children:[r.jsx("option",{value:"standard",children:"Standard"}),r.jsx("option",{value:"block",children:"Block"}),r.jsx("option",{value:"radio",children:"Radio Button"})]})]}),r.jsx("h2",{className:"text-2xl font-bold text-black mb-6 text-center",children:"MCQ"}),r.jsxs("div",{className:`mb-4 w-full flex ${a==="radio"?"justify-center":"justify-start"} items-center`,children:[r.jsxs("span",{className:"text-lg font-medium text-black",children:["Q",t+1,":"]}),r.jsx("span",{className:"ml-2 text-lg text-black",children:d.question})]}),a==="standard"?r.jsx("ul",{className:"space-y-3 mb-6 list-disc list-inside",children:d.options.map((u,h)=>{const m=s===h;return r.jsxs("li",{className:`flex items-center ${m?"bg-yellow-100":""} p-3 rounded-lg`,children:[r.jsx("input",{type:"radio",id:`option-${h}`,name:"mcq-option",checked:m,onChange:()=>o(h),className:"accent-purple-500 mr-3 w-5 h-5"}),r.jsx("label",{htmlFor:`option-${h}`,className:`cursor-pointer text-lg ${m?"font-semibold":""} text-black`,children:u})]},h)})}):a==="block"?r.jsx("div",{className:"space-y-3 mb-6",children:d.options.map((u,h)=>{const m=s===h;return r.jsxs("button",{onClick:()=>o(h),className:`w-full flex items-center text-left px-5 py-3 rounded-lg border transition-all duration-200 focus:outline-none
                  bg-gray-50 border-gray-200
                  ${m?"bg-yellow-100 border-yellow-300 font-semibold":"hover:bg-purple-50 hover:border-purple-300"}
                `,children:[r.jsxs("span",{className:"mr-4 font-bold text-black",children:[fge[h],"."]}),u]},h)})}):r.jsx("ul",{className:"space-y-3 mb-6 list-disc list-inside ou",children:d.options.map((u,h)=>{const m=s===h;return r.jsxs("li",{className:`flex flex-col-reverse items-center ${m?"bg-yellow-100":""} p-3 rounded-lg`,children:[r.jsx("input",{type:"radio",id:`option-${h}`,name:"mcq-option",checked:m,onChange:()=>o(h),className:"accent-purple-500 mr-3 w-5 h-5"}),r.jsx("label",{htmlFor:`option-${h}`,className:`cursor-pointer text-lg ${m?"font-semibold":""} text-black`,children:u})]},h)})}),r.jsx("div",{className:"flex justify-end",children:t<dO.length-1?r.jsx("button",{onClick:l,className:"px-6 py-2 bg-purple-500 text-white rounded-lg shadow hover:bg-purple-600 transition-all disabled:opacity-50",children:"Next"}):s!==null&&r.jsx("span",{className:"text-xl font-semibold text-purple-700"})})]})}const m_=1e4,pge=()=>{const[t,e]=E.useState(""),[s,n]=E.useState(!1),a=E.useRef(null),i=u=>u.trim().length===0?0:u.trim().split(/\s+/).length,o=u=>{const h=u.target.value;i(h)<=m_&&e(h)},l=()=>{a.current&&(a.current.select(),navigator.clipboard.writeText(a.current.value),n(!0),setTimeout(()=>n(!1),2e3))},c=()=>{a.current&&(a.current.select(),navigator.clipboard.writeText(a.current.value),e(""))},d=async()=>{const u=await navigator.clipboard.readText(),h=t+" "+u;i(h)<=m_?e(h):alert("Pasting this text will exceed the 10,000 word limit.")};return r.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Text Editor"}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:l,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Copy"}),r.jsx("button",{onClick:c,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Cut"}),r.jsx("button",{onClick:d,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Paste"})]}),r.jsx("textarea",{ref:a,value:t,onChange:o,rows:12,className:"w-full border rounded p-3 text-sm resize-none focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",placeholder:"Type something..."}),r.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:[r.jsxs("div",{children:["Word Count: ",i(t)," / ",m_]}),r.jsxs("div",{children:["Character Count: ",t.length]})]}),s&&r.jsx("div",{className:"mt-2 text-green-600 text-sm",children:"Copied to clipboard!"})]})};function xge(){const[t,e]=E.useState([{question:"Sort the countries in ascending order based on their population:",list:["USA","India","China","Brazil","Russia"]}]);return r.jsxs("section",{className:"w-[60vw] flex flex-col items-center m-auto mt-10",children:[r.jsx("h2",{className:"font-bold text-2xl text-black",children:"Sort List"}),t.map((s,n)=>r.jsx(Age,{questionIndex:n,setQuestionSet:e,questionSet:t},n))]})}function Age({questionIndex:t,questionSet:e,setQuestionSet:s}){const n=E.useRef(null),a=E.useRef(null),{question:i,list:o}=e[t],[l,c]=E.useState(o.map(()=>!1));function d(u,h){const m=o[n.current];o[n.current]=o[a.current],o[a.current]=m;const f=[...e];f[t]={question:i,list:o},s([...f]),c(x=>{const A=[...x];return A[h]=!1,A})}return r.jsxs("div",{className:"w-3/4 flex flex-col gap-5 items-center border border-purple-500 rounded-lg shadow-lg p-5",children:[r.jsx("h2",{className:"text-black",children:i}),r.jsx("div",{className:"w-1/2 flex flex-col items-center justify-center",children:o.map((u,h)=>r.jsx("p",{className:`w-full p-3 text-center border border-gray-300 rounded-md cursor-pointer ${l[h]?"bg-yellow-100":"bg-purple-500"} text-black`,draggable:!0,onDragStart:m=>n.current=h,onDragEnter:m=>{a.current=h,c(f=>{const x=[...f];return x[h]=!0,x})},onDragLeave:m=>{c(f=>{const x=[...f];return x[h]=!1,x})},onDragOver:m=>m.preventDefault(),onDrop:m=>d(m,h),children:u},h))})]})}const gge=()=>{const[t,e]=E.useState("names"),[s,n]=E.useState("basic"),a=[{value:"basic",label:"Basic",className:"bg-emerald-500/15 text-emerald-700 border-emerald-200 hover:bg-emerald-500/25 hover:text-emerald-800",activeClass:"ring-emerald-400 bg-emerald-500/25 text-emerald-900"},{value:"intermediate",label:"Intermediate",className:"bg-amber-500/15 text-amber-700 border-amber-200 hover:bg-amber-500/25 hover:text-amber-800",activeClass:"ring-amber-400 bg-amber-500/25 text-amber-900"},{value:"advanced",label:"Advanced",className:"bg-rose-500/15 text-rose-700 border-rose-200 hover:bg-rose-500/25 hover:text-rose-800",activeClass:"ring-rose-400 bg-rose-500/25 text-rose-900"}],i="px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-150 shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-1 border ring-1 ring-transparent",o=()=>{const l=`tryout_${t}`;if(!$he(l)){jX(5),zhe(l);const c=document.createElement("div");c.className="fixed top-20 right-6 bg-emerald-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce z-50",c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 10.05a7 7 0 0 1 9.9 0l10 10"></path><path d="M13 13h8"></path></svg><span>+5 Points</span>',document.body.appendChild(c),setTimeout(()=>document.body.removeChild(c),1800)}};return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 relative",children:[r.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-3 justify-left",children:[r.jsx("label",{htmlFor:"tryoutType",className:"font-medium text-gray-700",children:"Tryout Type:"}),r.jsxs("select",{id:"tryoutType",value:t,onChange:l=>e(l.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"choice_matrix",children:"Choice Matrix"}),r.jsx("option",{value:"cloze_drag_drop",children:"Cloze Drag Drop"}),r.jsx("option",{value:"cloze_drop_down",children:"Cloze Drop Down"}),r.jsx("option",{value:"cloze_text",children:"Cloze Text"}),r.jsx("option",{value:"file_upload",children:"File Upload"}),r.jsx("option",{value:"image_highlighter",children:"Image Highlighter"}),r.jsx("option",{value:"match_list",children:"Match List"}),r.jsx("option",{value:"mcq",children:"MCQ"}),r.jsx("option",{value:"plain_txt",children:"Plain Text"}),r.jsx("option",{value:"sort_list",children:"Sort List"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Difficulty:"}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-3",children:a.map(l=>{const c=s===l.value;return r.jsx("button",{type:"button",onClick:()=>n(l.value),className:`${i} ${l.className} ${c?l.activeClass+" ring-2":""}`,"aria-pressed":c,children:l.label},l.value)})})]}),r.jsxs("div",{children:[t==="choice_matrix"&&r.jsx(rge,{}),t==="cloze_drag_drop"&&r.jsx(sge,{}),t==="cloze_drop_down"&&r.jsx(age,{}),t==="cloze_text"&&r.jsx(oge,{}),t==="file_upload"&&r.jsx(cge,{}),t==="image_highlighter"&&r.jsx(dge,{}),t==="match_list"&&r.jsx(uge,{}),t==="mcq"&&r.jsx(mge,{}),t==="plain_txt"&&r.jsx(pge,{}),t==="sort_list"&&r.jsx(xge,{}),t==="names"&&r.jsx("div",{className:"text-gray-500 text-center py-8",children:"Select The Tryout From The Drop Down Menu."}),t==="rich_text"&&r.jsx("div",{className:"text-gray-500 text-center py-8",children:"Rich Text tryout is not available. Please check the file name or implementation."}),!["choice_matrix","cloze_drag_drop","cloze_drop_down","cloze_text","file_upload","image_highlighter","match_list","mcq","plain_txt","rich_text","sort_list","names"].includes(t)&&r.jsx("div",{className:"text-gray-500 text-center py-8",children:"Select a tryout type to begin."})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500 hover:bg-amber-600 text-white shadow",children:[r.jsx(FP,{className:"w-4 h-4"}),"Mark Tryout Completed & Collect +5"]})})]})},Ay={9:{math:{mcq:[{q:"What is 2+2?",o:["3","4","5","6"],a:"4",e:"Simple addition"},{q:"What is 5*3?",o:["10","15","20","25"],a:"15",e:"Multiplication"}],blank:[{q:"Fill in the blank: 2 + 2 = ___",a:"4",e:"Simple addition"}]},science:{mcq:[{q:"What is H2O?",o:["Water","Hydrogen","Oxygen","Salt"],a:"Water",e:"Chemical formula for water"}],blank:[{q:"H2O is the chemical formula for ___",a:"water",e:"Chemical formula"}]}}},p_=({defaultType:t="school"})=>{const[e,s]=E.useState("all"),[n,a]=E.useState(t),[i,o]=E.useState(""),[l,c]=E.useState(""),[d,u]=E.useState(""),[h,m]=E.useState("Neutral"),[f,x]=E.useState([]),[A,g]=E.useState(null),[b,w]=E.useState(""),[v,j]=E.useState("Saved"),[N,S]=E.useState("9"),[T,I]=E.useState("math"),[_,M]=E.useState("mcq"),[C,B]=E.useState({}),[P,H]=E.useState([]),[D,G]=E.useState(0),[O,Q]=E.useState({}),[ee,q]=E.useState(!1),[Z,F]=E.useState(!1),[z,V]=E.useState(""),[W,ne]=E.useState("due_asc"),[ie,be]=E.useState([]),[ue,je]=E.useState("names"),[Be,oe]=E.useState("easy"),[lt,se]=E.useState({rotation:0,zoom:1,animationSpeed:1,isAnimating:!1});E.useRef(null),E.useRef(null),E.useRef(null),E.useRef(null),E.useEffect(()=>{a(t)},[t]),E.useEffect(()=>{try{const he=JSON.parse(localStorage.getItem("journalEntries")||"[]");Array.isArray(he)&&x(he)}catch{}},[]);const J=he=>{x(he);try{localStorage.setItem("journalEntries",JSON.stringify(he))}catch{}},Pe=()=>{g(null),o(""),c(""),u(""),m("Neutral")},xe=()=>{const he=new Date;if(!(!i.trim()&&!l.trim())){if(A){const ce=f.map(_e=>_e.id===A?{..._e,title:i.trim()||"Untitled",content:l,tags:(d||"").split(",").map(Ke=>Ke.trim()).filter(Boolean),mood:h,updatedAt:he.toISOString()}:_e);J(ce)}else{const ce={id:Date.now(),title:i.trim()||"Untitled",content:l,tags:(d||"").split(",").map(_e=>_e.trim()).filter(Boolean),mood:h,createdAt:he.toISOString(),updatedAt:he.toISOString()};J([ce,...f]),g(ce.id)}j("Saved")}},He=()=>{Pe()},$e=he=>{const ce=f.filter(_e=>_e.id!==he);J(ce),A===he&&Pe()},Xe=he=>{g(he.id),o(he.title||""),c(he.content||""),u((he.tags||[]).join(", ")),m(he.mood||"Neutral")};return E.useEffect(()=>{if(n!=="journal")return;j("Saving");const he=setTimeout(()=>{xe()},1200);return()=>clearTimeout(he)},[i,l,d,h,n]),E.useEffect(()=>{!N||!Ay[N]||I(Object.keys(Ay[N])[0])},[N]),E.useEffect(()=>{B({studentClass:N,subject:T,questionType:_,startTime:new Date,endTime:null,correct:0,incorrect:0})},[N,T,_]),E.useEffect(()=>{var _e;if(!Ay[N]||!Ay[N][T]){H([]),G(0),Q({}),q(!1);return}let ce=(((_e=Ay[N][T])==null?void 0:_e.mcq)||[]).map(Ke=>({front:Ke.q,back:`${Ke.a?`Answer: ${Ke.a}`:""}${Ke.e?`
${Ke.e}`:""}`.trim()}));if(Z)for(let Ke=ce.length-1;Ke>0;Ke--){const et=Math.floor(Math.random()*(Ke+1));[ce[Ke],ce[et]]=[ce[et],ce[Ke]]}H(ce),G(0),Q({}),q(!1)},[N,T,Z]),E.useEffect(()=>{if(n!=="flashcard")return;const he=ce=>{ce.key===" "?(ce.preventDefault(),q(_e=>!_e)):ce.key==="ArrowRight"?(q(!1),G(_e=>P.length?Math.min(_e+1,P.length-1):0)):ce.key==="ArrowLeft"&&(q(!1),G(_e=>_e>0?_e-1:0))};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[n,P.length]),ie.filter(he=>{const ce=z.toLowerCase(),_e=he.title.toLowerCase().includes(ce)||he.course.toLowerCase().includes(ce)||he.description.toLowerCase().includes(ce);return e==="all"?_e:_e&&he.status===e}).sort((he,ce)=>{switch(W){case"due_asc":return new Date(he.dueDate)-new Date(ce.dueDate);case"due_desc":return new Date(ce.dueDate)-new Date(he.dueDate);case"priority":{const _e={high:3,medium:2,low:1};return _e[ce.priority]-_e[he.priority]}case"status":return he.status.localeCompare(ce.status);default:return 0}}),r.jsxs("div",{className:"w-full min-h-screen bg-white px-1 sm:px-4 md:px-8 py-4 sm:py-6 space-y-4 sm:space-y-6 overflow-x-hidden",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2 sm:gap-4",children:[n!=="journal"&&r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Assignments"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Manage your assignments and submissions"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[n!=="journal"&&r.jsx(Ghe,{}),n!=="journal"&&r.jsxs(r.Fragment,{children:[r.jsx("label",{htmlFor:"assignmentType",className:"font-medium text-gray-700",children:"Type:"}),r.jsxs("select",{id:"assignmentType",value:n,onChange:he=>a(he.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"school",children:"School Assignment"}),r.jsx("option",{value:"eec",children:"Practice Paper"}),r.jsx("option",{value:"tryout",children:"Tryout"}),r.jsx("option",{value:"lab",children:"Lab"}),r.jsx("option",{value:"flashcard",children:"FlashCard"})]})]})]})]}),n==="journal"&&r.jsxs("div",{className:"relative bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 p-2 sm:p-4 lg:p-6 rounded-2xl shadow-2xl max-w-7xl mx-auto",style:{background:"linear-gradient(135deg, #f3e8d7 0%, #e8dcc6 50%, #ddd0bb 100%)"},children:[r.jsxs("div",{className:"text-center mb-3 sm:mb-4 lg:mb-6",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-brown-800",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"My Learning Journal"}),r.jsx("div",{className:"w-20 sm:w-24 lg:w-32 h-0.5 sm:h-1 bg-brown-400 mx-auto mt-1 sm:mt-2 rounded",style:{backgroundColor:"#D2691E"}})]}),r.jsxs("div",{className:"relative bg-white border-2 sm:border-3 lg:border-4 border-gray-300 rounded-lg shadow-inner overflow-hidden",style:{backgroundColor:"#fefcf8",borderColor:"#8B7355",height:"calc(100vh - 200px)",minHeight:"500px",maxHeight:"800px"},children:[r.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 w-4 sm:w-6 lg:w-8 z-10",style:{background:"linear-gradient(to right, #666 0%, #999 50%, #666 100%)"},children:[...Array(Math.min(20,Math.floor(window.innerHeight/40)))].map((he,ce)=>r.jsx("div",{className:"absolute w-3 h-2 sm:w-4 sm:h-2 lg:w-6 lg:h-3 border border-gray-500 rounded-full left-1/2 transform -translate-x-1/2",style:{top:`${ce*5+2}%`,borderColor:"#555"}},ce))}),r.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 h-full relative",children:[r.jsxs("div",{className:"border-b lg:border-b-0 lg:border-r-2 border-gray-300 p-3 sm:p-4 lg:p-6 relative overflow-hidden flex-1 lg:flex-none",style:{borderColor:"#8B7355"},children:[r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-center mb-3 sm:mb-4 lg:mb-6 underline",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Timeline"}),r.jsx("div",{className:"mb-3 sm:mb-4",children:r.jsxs("button",{onClick:He,className:"w-full px-3 py-2 sm:px-4 sm:py-2 border-2 border-dashed border-gray-400 rounded-lg hover:bg-yellow-50 transition-colors text-sm sm:text-base",style:{borderColor:"#B8860B",color:"#8B4513"},children:[r.jsx(vs,{className:"w-3 h-3 sm:w-4 sm:h-4 inline mr-2"})," Add New Day"]})}),r.jsxs("div",{className:"space-y-2 sm:space-y-3 overflow-y-auto pr-1 sm:pr-2 lg:max-h-none lg:h-auto lg:flex-1",style:{height:"calc(100% - 100px)",maxHeight:"300px"},children:[f.map((he,ce)=>r.jsx("div",{onClick:()=>Xe(he),className:`p-2 sm:p-3 rounded-lg cursor-pointer transition-all border ${A===he.id?"bg-yellow-100 border-yellow-400":"bg-yellow-50 border-yellow-200 hover:bg-yellow-100"}`,style:{backgroundColor:A===he.id?"#fef3c7":"#fffbeb",borderColor:A===he.id?"#f59e0b":"#fbbf24"},children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-semibold text-sm sm:text-base text-brown-800",style:{color:"#8B4513"},children:["Day ",f.length-ce]}),r.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:new Date(he.updatedAt||he.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),r.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:he.title||"Untitled"})]}),r.jsx("button",{title:"Delete",onClick:_e=>{_e.stopPropagation(),$e(he.id)},className:"p-1 rounded hover:bg-red-100 text-red-500",children:r.jsx(vn,{className:"w-3 h-3"})})]})},he.id)),f.length===0&&r.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",style:{color:"#8B7355"},children:[r.jsx("p",{className:"text-sm sm:text-base",children:"No entries yet."}),r.jsx("p",{className:"text-xs sm:text-sm mt-2",children:"Start by adding your first day!"})]})]})]}),r.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 relative overflow-hidden flex flex-col flex-1",children:[r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-center mb-3 sm:mb-4 lg:mb-6 underline",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Notes"}),r.jsx("div",{className:"text-center text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",style:{color:"#8B7355"},children:new Date().toLocaleDateString("en-US",{weekday:window.innerWidth>640?"long":"short",year:"numeric",month:window.innerWidth>640?"long":"short",day:"numeric"})}),r.jsxs("div",{className:"flex-1 flex flex-col space-y-2 sm:space-y-3 lg:space-y-4 overflow-hidden min-h-0",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("input",{type:"text",value:i,onChange:he=>o(he.target.value),placeholder:"Today I learned...",className:"w-full bg-transparent border-0 border-b border-gray-300 px-0 py-1 sm:py-2 text-base sm:text-lg placeholder-gray-400 focus:ring-0 focus:border-brown-500",style:{borderBottomColor:"#B8860B",color:"#8B4513",fontFamily:"Georgia, serif"}})}),r.jsx("div",{className:"flex-1 min-h-0",children:r.jsx("textarea",{value:l.replace(/<[^>]*>/g,""),onChange:he=>c(he.target.value),placeholder:`Today Susan hit me with her car but she claimed I hit her car with my body.\r
\r
Before the lights went out, I saw a deer near the headlight. Seems like it wasn't her first time.\r
\r
Should she still have a license?\r
\r
My head hurts, too.`,className:"w-full h-full bg-transparent border-0 resize-none p-0 text-gray-700 placeholder-gray-400 focus:ring-0 text-sm sm:text-base leading-5 sm:leading-6",style:{color:"#4B5563",fontFamily:"Georgia, serif",backgroundImage:"repeating-linear-gradient(transparent, transparent 19px, #e5e7eb 19px, #e5e7eb 20px)",lineHeight:"20px"}})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 flex-shrink-0",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-600 mb-1",style:{color:"#8B7355"},children:"Tags"}),r.jsx("input",{type:"text",value:d,onChange:he=>u(he.target.value),placeholder:"learning, reflection",className:"w-full border border-gray-300 rounded px-2 py-1 text-xs sm:text-sm focus:ring-1 focus:ring-yellow-400 focus:border-yellow-400",style:{backgroundColor:"#fffbeb"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-600 mb-1",style:{color:"#8B7355"},children:"Mood"}),r.jsxs("select",{value:h,onChange:he=>m(he.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-xs sm:text-sm focus:ring-1 focus:ring-yellow-400 focus:border-yellow-400",style:{backgroundColor:"#fffbeb"},children:[r.jsx("option",{children:"Happy"}),r.jsx("option",{children:"Neutral"}),r.jsx("option",{children:"Curious"}),r.jsx("option",{children:"Challenged"}),r.jsx("option",{children:"Excited"})]})]})]}),r.jsxs("div",{className:"text-right pt-2 sm:pt-4 flex-shrink-0",children:[r.jsx("button",{onClick:xe,className:"px-4 py-1.5 sm:px-6 sm:py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 shadow-lg text-sm sm:text-base font-medium transition-colors",style:{backgroundColor:"#D97706"},children:"Save Entry"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1 sm:mt-2",children:v})]})]})]})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 sm:h-3 lg:h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200",style:{backgroundColor:"#E5E5E5"},children:r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 sm:h-2",style:{background:"repeating-linear-gradient(90deg, transparent 0px, transparent 8px, rgba(0,0,0,0.1) 8px, rgba(0,0,0,0.1) 12px)"}})})]}),r.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-2xl opacity-30 sm:opacity-50",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.02'%3E%3Cpath d='m20 20v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),["school","eec","lab","flashcard"].includes(n)&&r.jsx(tge,{assignmentType:n,filter:e,setFilter:s}),n==="tryout"&&r.jsx(gge,{})]})},uO=()=>{const[t,e]=E.useState(null),[s,n]=E.useState(null),[a,i]=E.useState([]),[o,l]=E.useState(!0),[c,d]=E.useState(null),[u,h]=E.useState(null);E.useEffect(()=>{(async()=>{try{l(!0),d(null);const A=localStorage.getItem("token"),g=localStorage.getItem("userType");if(!A||g!=="Student"){l(!1);return}const b=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(!b.ok)throw new Error("Unable to load course overview.");const w=await b.json();e(w.course||null),n(w.stats||null),i((w.recentAttendance||[]).slice(0,5)),h(new Date)}catch(A){console.error("Failed to fetch course data:",A),d(A.message)}finally{l(!1)}})()},[]);const m=[{title:"Active Courses",value:(s==null?void 0:s.activeCourses)??0,icon:CS,description:(t==null?void 0:t.name)||"No active course",color:"text-blue-600",bg:"bg-blue-50"},{title:"Attendance",value:`${(s==null?void 0:s.attendancePercentage)??0}%`,icon:fr,description:`${(s==null?void 0:s.presentDays)??0}/${(s==null?void 0:s.totalClasses)??0} classes`,color:"text-green-600",bg:"bg-green-50"},{title:"Classes Attended",value:(s==null?void 0:s.presentDays)??0,icon:ir,description:`Absent ${(s==null?void 0:s.absentDays)??0} days`,color:"text-purple-600",bg:"bg-purple-50"},{title:"Overall Progress",value:`${(s==null?void 0:s.overallProgress)??0}%`,icon:ds,description:"Based on attendance",color:"text-amber-600",bg:"bg-amber-50"}],f=(t==null?void 0:t.status)==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700";return o?r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-0",children:[r.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 animate-pulse"}),r.jsx("div",{className:"h-4 bg-gray-100 rounded w-64 animate-pulse"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((x,A)=>r.jsx("div",{className:"h-32 bg-white rounded-xl border border-gray-100 shadow-sm animate-pulse"},A))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"}),r.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"})]})]}):r.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-0",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Courses"}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Current academic overview synced from your dashboard"})]}),u&&r.jsxs("span",{className:"text-sm text-gray-500",children:["Updated ",u.toLocaleDateString()]})]}),c&&r.jsx("div",{className:"bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-lg text-sm",children:c}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:m.map(x=>{const A=x.icon;return r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:x.title}),r.jsx("p",{className:`text-2xl font-bold ${x.color}`,children:x.value})]}),r.jsx("div",{className:`p-3 rounded-full ${x.bg}`,children:r.jsx(A,{className:x.color})})]}),r.jsx("p",{className:"text-sm text-gray-500",children:x.description})]},x.title)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 lg:col-span-2",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Course"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Details pulled from the NIF student record"})]}),t&&r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f}`,children:t.status||"Active"})]}),t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Course Name"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.name}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Batch Code: ",t.batchCode||"N/A"]})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"Grade",value:t.grade||"-"},{label:"Section",value:t.section||"-"},{label:"Duration",value:t.duration||"TBD"},{label:"Status",value:t.status||"Active"}].map(x=>r.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-gray-500",children:x.label}),r.jsx("p",{className:"text-lg font-semibold text-purple-800",children:x.value})]},x.label))})]}):r.jsxs("div",{className:"text-center py-10",children:[r.jsx(pa,{size:48,className:"mx-auto text-gray-300 mb-3"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"No course assigned"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please contact your administrator for enrollment details"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(kS,{size:18,className:"text-purple-500"}),"Recent Attendance"]}),r.jsx("span",{className:"text-xs text-gray-500",children:"Last 5 records"})]}),a.length>0?r.jsx("div",{className:"space-y-3",children:a.map((x,A)=>{var g,b;return r.jsxs("div",{className:"flex items-center justify-between border border-purple-100 rounded-lg px-3 py-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.subject||"Class"}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.date).toLocaleDateString()})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x.status==="present"?"bg-green-100 text-green-700":x.status==="absent"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:((g=x.status)==null?void 0:g.charAt(0).toUpperCase())+((b=x.status)==null?void 0:b.slice(1))})]},x._id||A)})}):r.jsx("p",{className:"text-sm text-gray-500",children:"No attendance records available."})]})]})]})},bge=()=>{var x,A;const[t,e]=E.useState([]),[s,n]=E.useState(!0),[a,i]=E.useState(null),[o,l]=E.useState("all"),[c,d]=E.useState({averagePercentage:0,examsTaken:0,topScore:null,recentExam:null}),[u,h]=E.useState(null);E.useEffect(()=>{(async()=>{try{n(!0),i(null);const b=localStorage.getItem("token"),w=localStorage.getItem("userType");if(!b||w!=="Student"){n(!1);return}const v=await fetch("http://localhost:5000/api/student/auth/results",{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error("Unable to load results.");const j=await v.json(),N=Array.isArray(j.results)?j.results:[];e(N),d(wge(N)),h(new Date)}catch(b){console.error("Failed to fetch results:",b),i(b.message)}finally{n(!1)}})()},[]);const m=E.useMemo(()=>{const g=new Set(t.map(b=>b.type||"general"));return["all",...Array.from(g)]},[t]),f=E.useMemo(()=>o==="all"?t:t.filter(g=>(g.type||"general")===o),[t,o]);return s?r.jsxs("div",{className:"space-y-6 p-4",children:[r.jsx("div",{className:"h-36 bg-gradient-to-r from-yellow-200 to-orange-200 rounded-2xl animate-pulse"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((g,b)=>r.jsx("div",{className:"h-32 bg-white rounded-xl shadow-sm border border-gray-100 animate-pulse"},b))}),r.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"})]}):r.jsxs("div",{className:"space-y-6 p-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 rounded-2xl p-6 text-white relative overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-4 right-4 w-32 h-32 bg-white rounded-full"}),r.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-white rounded-full"})]}),r.jsx("div",{className:"relative z-10",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Fl,{className:"w-8 h-8 text-yellow-200"}),r.jsx("h1",{className:"text-3xl font-bold",children:"My Results"})]}),r.jsx("p",{className:"text-yellow-100",children:"Live academic performance pulled from your student profile"})]}),r.jsx("div",{className:"text-right",children:u&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-yellow-100 text-sm mb-1",children:"Last Synced"}),r.jsx("p",{className:"text-xl font-semibold",children:u.toLocaleDateString()})]})})]})})]}),a&&r.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[r.jsx(br,{size:16}),a]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(D2,{icon:kn,title:"Average Score",value:`${c.averagePercentage.toFixed(1)}%`,accent:"bg-yellow-100 text-yellow-600"}),r.jsx(D2,{icon:pn,title:"Exams Taken",value:c.examsTaken,accent:"bg-blue-100 text-blue-600"}),r.jsx(D2,{icon:ds,title:"Best Exam",value:((x=c.topScore)==null?void 0:x.examName)||"N/A",subtitle:c.topScore?`${c.topScore.percentage.toFixed(1)}%`:"Awaiting data",accent:"bg-green-100 text-green-600"}),r.jsx(D2,{icon:ir,title:"Recent Exam",value:((A=c.recentExam)==null?void 0:A.examName)||"N/A",subtitle:c.recentExam?new Date(c.recentExam.date).toLocaleDateString():"No records",accent:"bg-purple-100 text-purple-600"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Filter by exam type:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>r.jsx("button",{onClick:()=>l(g),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===g?"bg-indigo-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:g==="all"?"All Exams":g.replace(/^\w/,b=>b.toUpperCase())},g))})]}),r.jsx("div",{className:"space-y-4",children:f.length===0?r.jsx("div",{className:"bg-white border border-dashed border-gray-200 rounded-xl p-8 text-center text-gray-500",children:"No exam records available. Once your school publishes results they will appear here automatically."}):f.map((g,b)=>r.jsx(yge,{exam:g},g._id||b))})]})},D2=({icon:t,title:e,value:s,subtitle:n,accent:a})=>r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${a}`,children:r.jsx(t,{className:"w-6 h-6"})}),r.jsx("span",{className:"text-2xl",children:""})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s}),n&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]})]}),yge=({exam:t})=>{const e=t.percentage??(t.obtainedMarks&&t.totalMarks?t.obtainedMarks/t.totalMarks*100:null);return r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.examName||"Exam"}),t.subject&&r.jsxs("p",{className:"text-sm font-medium text-indigo-600 mt-1",children:[" ",t.subject]}),r.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[r.jsx(ir,{size:14}),t.date?new Date(t.date).toLocaleDateString():"Date not available",t.type&&r.jsxs(r.Fragment,{children:[" ",t.type.replace(/^\w/,s=>s.toUpperCase())]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[e!==null&&r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Score"}),r.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[e.toFixed(1),"%"]})]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[r.jsx(bs,{size:16}),"Download"]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[t.subject&&r.jsx(gy,{label:"Subject",value:t.subject}),r.jsx(gy,{label:"Total Marks",value:t.totalMarks??"-"}),r.jsx(gy,{label:"Obtained",value:t.obtainedMarks??"-"}),r.jsx(gy,{label:"Status",value:t.status||"Not available"}),r.jsx(gy,{label:"Result",value:t.grade||(e?`${e.toFixed(1)}%`:"-")})]}),t.remarks&&r.jsx("div",{className:"mb-4 p-4 bg-amber-50 border-l-4 border-amber-500 rounded-r-lg",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Teacher's Remarks"}),r.jsx("p",{className:"text-sm text-amber-800",children:t.remarks})]})]})}),Array.isArray(t.subjects)&&t.subjects.length>0&&r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marks"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:t.subjects.map((s,n)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:s.name||"Subject"}),r.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[s.marks??"-",s.maxMarks?` / ${s.maxMarks}`:""]}),r.jsx("td",{className:"px-4 py-2 text-sm",children:r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${vge(s.grade)}`,children:s.grade||"N/A"})}),r.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:s.remarks||"-"})]},`${s.name}-${n}`))})]})})]})]})},gy=({label:t,value:e})=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs text-gray-500",children:t}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e})]}),vge=(t="")=>t.startsWith("A")?"bg-green-100 text-green-700":t.startsWith("B")?"bg-blue-100 text-blue-700":t.startsWith("C")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700",wge=(t=[])=>{if(!t.length)return{averagePercentage:0,examsTaken:0,topScore:null,recentExam:null};const e=t.map(i=>{const o=i.percentage??(i.obtainedMarks&&i.totalMarks?i.obtainedMarks/i.totalMarks*100:0);return{...i,percentage:o||0}}),s=e.reduce((i,o)=>i+o.percentage,0),n=e.reduce((i,o)=>o.percentage>((i==null?void 0:i.percentage)||0)?o:i,null),a=e.reduce((i,o)=>o.date?i?new Date(o.date)>new Date(i.date)?o:i:o:i,null);return{averagePercentage:s/e.length,examsTaken:e.length,topScore:n,recentExam:a}},jge=()=>{const[t,e]=E.useState("earned"),s=[{id:1,title:"First Assignment Submitted",description:"Submit your first assignment successfully",category:"academic",type:"milestone",icon:Fr,earned:!0,earnedDate:"2025-03-15",points:50,rarity:"common",progress:100,requirement:"Submit 1 assignment"},{id:2,title:"Perfect Attendance",description:"Attend all classes for a full month",category:"attendance",type:"streak",icon:ir,earned:!0,earnedDate:"2025-04-01",points:100,rarity:"uncommon",progress:100,requirement:"100% attendance for 30 days"},{id:3,title:"High Achiever",description:"Score 90% or above in 5 assignments",category:"academic",type:"performance",icon:Fl,earned:!1,points:200,rarity:"rare",progress:60,requirement:"Score 90%+ in 5 assignments",currentProgress:"3/5 assignments"},{id:4,title:"Course Completion Master",description:"Complete 3 courses with distinction",category:"academic",type:"milestone",icon:pn,earned:!1,points:300,rarity:"epic",progress:33,requirement:"Complete 3 courses with distinction",currentProgress:"1/3 courses"},{id:5,title:"Early Bird",description:"Join 10 classes 5 minutes early",category:"attendance",type:"habit",icon:fr,earned:!0,earnedDate:"2025-05-10",points:75,rarity:"common",progress:100,requirement:"Join 10 classes early"},{id:6,title:"Study Streak",description:"Study for 7 consecutive days",category:"study",type:"streak",icon:ds,earned:!1,points:150,rarity:"uncommon",progress:71,requirement:"Study 7 days in a row",currentProgress:"5/7 days"},{id:7,title:"Collaboration Champion",description:"Participate in 5 group projects",category:"social",type:"collaboration",icon:Ar,earned:!1,points:120,rarity:"uncommon",progress:40,requirement:"Complete 5 group projects",currentProgress:"2/5 projects"},{id:8,title:"Knowledge Seeker",description:"Read 50 course materials",category:"study",type:"exploration",icon:CS,earned:!1,points:100,rarity:"common",progress:86,requirement:"Read 50 course materials",currentProgress:"43/50 materials"}],n=h=>{switch(h){case"common":return"text-gray-600 bg-gray-100 border-gray-300";case"uncommon":return"text-green-600 bg-green-100 border-green-300";case"rare":return"text-blue-600 bg-blue-100 border-blue-300";case"epic":return"text-purple-600 bg-purple-100 border-purple-300";case"legendary":return"text-yellow-600 bg-yellow-100 border-yellow-300";default:return"text-gray-600 bg-gray-100 border-gray-300"}},a=h=>{switch(h){case"academic":return"text-blue-600 bg-blue-100";case"attendance":return"text-green-600 bg-green-100";case"study":return"text-purple-600 bg-purple-100";case"social":return"text-pink-600 bg-pink-100";default:return"text-gray-600 bg-gray-100"}},i=s.filter(h=>h.earned),o=s.filter(h=>!h.earned),l=s.filter(h=>!h.earned&&h.progress>0),c=()=>{switch(t){case"earned":return i;case"available":return o;case"progress":return l;default:return s}},d=i.reduce((h,m)=>h+m.points,0),u=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Achievements"}),r.jsx("p",{className:"text-gray-600",children:"Track your progress and unlock new achievements"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Achievements"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),r.jsx(Fl,{className:"w-8 h-8 text-yellow-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Earned"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length})]}),r.jsx(pn,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.length})]}),r.jsx(kn,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.length})]}),r.jsx(fX,{className:"w-8 h-8 text-purple-600"})]})})]}),r.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{id:"earned",label:"Earned",count:i.length},{id:"progress",label:"In Progress",count:l.length},{id:"available",label:"Available",count:o.length}].map(h=>r.jsxs("button",{onClick:()=>e(h.id),className:`flex-1 px-4 py-2 rounded-md font-medium transition-colors ${t===h.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[h.label," (",h.count,")"]},h.id))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c().map(h=>{const m=h.icon;return r.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 relative overflow-hidden ${h.earned?"":"opacity-90"}`,children:[r.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 ${h.rarity==="common"?"bg-gray-400":h.rarity==="uncommon"?"bg-green-400":h.rarity==="rare"?"bg-blue-400":h.rarity==="epic"?"bg-purple-400":"bg-yellow-400"}`}),r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${h.earned?"bg-blue-100":"bg-gray-100"}`,children:h.earned?r.jsx(m,{className:"w-6 h-6 text-blue-600"}):r.jsx(Ou,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${n(h.rarity)}`,children:h.rarity}),r.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[h.points," pts"]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:h.description}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(h.category)}`,children:h.category}),r.jsx("span",{className:"text-xs text-gray-500",children:h.type})]})]}),!h.earned&&h.progress>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-gray-600",children:"Progress"}),r.jsxs("span",{className:"font-medium",children:[h.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h.progress}%`}})}),h.currentProgress&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.currentProgress})]}),h.earned&&h.earnedDate&&r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 border-t border-gray-100 pt-3",children:[r.jsx("span",{children:"Earned on"}),r.jsx("span",{className:"font-medium",children:u(h.earnedDate)})]}),!h.earned&&r.jsxs("div",{className:"text-sm text-gray-600 border-t border-gray-100 pt-3",children:[r.jsx("p",{className:"font-medium",children:"Requirement:"}),r.jsx("p",{children:h.requirement})]})]},h.id)})}),c().length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Fl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No achievements found"}),r.jsx("p",{className:"text-gray-600",children:"No achievements match your current filter."})]})]})},Nge=({onThemeChange:t})=>{const[e,s]=E.useState(!1),[n,a]=E.useState("light"),[i,o]=E.useState("full"),[l,c]=E.useState("vertical"),[d,u]=E.useState(!1),[h,m]=E.useState(!1),[f,x]=E.useState(!1),[A,g]=E.useState("#6366f1"),b=["#6366f1","#6b7280","#10b981","#ef4444","#06b6d4","#f59e0b","#374151"];E.useEffect(()=>{t&&t({skin:n,contentWidth:i,menuLayout:l,menuCollapsed:d,menuHidden:h,rtlEnabled:f,navbarColor:A})},[n,i,l,d,h,f,A,t]);const w=_=>{a(_)},v=_=>{o(_)},j=_=>{c(_)},N=()=>{u(_=>!_)},S=()=>{m(_=>!_)},T=()=>{x(_=>!_)},I=_=>{g(_)};return r.jsxs(r.Fragment,{children:[e&&r.jsxs("div",{className:"fixed right-0 top-0 w-80 h-full bg-white shadow-2xl border-l border-yellow-100 flex flex-col z-50",children:[r.jsx("div",{className:"p-4 border-b border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Theme Customizer"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Customize & Preview in Real Time"})]}),r.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-yellow-100 rounded-lg transition-colors","aria-label":"Close Theme Customizer",children:r.jsx(ks,{size:20,className:"text-gray-500"})})]})}),r.jsxs("div",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Skin"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:["light","bordered","dark","semi-dark"].map(_=>r.jsx("button",{onClick:()=>w(_),className:`px-3 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${n===_?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":n===_,children:_.replace("-"," ")},_))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Content Width"}),r.jsx("div",{className:"flex space-x-3",children:["full","boxed"].map(_=>r.jsxs("button",{onClick:()=>v(_),className:`flex-1 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${i===_?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":i===_,children:[_," Width"]},_))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"RTL"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:T,className:`w-12 h-6 rounded-full relative transition-colors ${f?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle RTL ${f?"off":"on"}`,"aria-checked":f,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${f?"translate-x-6":"translate-x-0.5"}`})}),r.jsx("span",{className:"ml-3 text-sm text-gray-600",children:f?"Enabled":"Disabled"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Layout"}),r.jsx("div",{className:"flex space-x-3",children:["vertical","horizontal"].map(_=>r.jsx("button",{onClick:()=>j(_),className:`flex-1 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${l===_?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":l===_,children:_},_))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Collapsed"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:N,className:`w-12 h-6 rounded-full relative transition-colors ${d?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle Menu Collapsed ${d?"off":"on"}`,"aria-checked":d,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${d?"translate-x-6":"translate-x-0.5"}`})}),r.jsx("span",{className:"ml-3 text-sm text-gray-600",children:d?"Collapsed":"Expanded"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Hidden"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:S,className:`w-12 h-6 rounded-full relative transition-colors ${h?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle Menu Hidden ${h?"off":"on"}`,"aria-checked":h,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${h?"translate-x-6":"translate-x-0.5"}`})}),r.jsx("span",{className:"ml-3 text-sm text-gray-600",children:h?"Hidden":"Visible"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Navbar Color"}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:b.map((_,M)=>r.jsx("button",{onClick:()=>I(_),className:`w-8 h-8 rounded-lg transition-all hover:scale-110 relative ${A===_?"ring-2 ring-yellow-500 ring-offset-2":""}`,style:{backgroundColor:_},title:`Color ${M+1}`,"aria-label":`Select Navbar Color ${M+1}`,children:A===_&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(Gu,{size:16,className:"text-white"})})},M))})]})]})]}),!e&&r.jsx("button",{onClick:()=>s(!0),className:"fixed right-4 top-1/2 transform -translate-y-1/2 bg-yellow-500 text-black p-3 rounded-l-lg shadow-lg hover:bg-yellow-600 transition-colors z-40",title:"Open Theme Customizer","aria-label":"Open Theme Customizer",children:r.jsx(nx,{size:20})}),e&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:()=>s(!1),"aria-hidden":"true"})]})},Sge={name:"Student",email:"",username:"",password:"",phone:"",address:"",dob:"",education:"",studentId:"",semester:"",profilePic:"",grade:"",section:"",roll:"",mobile:""},nY=()=>{const[t,e]=E.useState(Sge),[s,n]=E.useState(""),[a,i]=E.useState(!1),[o,l]=E.useState(!1),[c,d]=E.useState(!0),[u,h]=E.useState({}),[m,f]=E.useState("personal"),x=E.useRef(null),[A,g]=E.useState(0);E.useEffect(()=>{(async()=>{try{const T=localStorage.getItem("token"),I=localStorage.getItem("userType");if(!T||I!=="Student"){d(!1);return}const _=await fetch("http://localhost:5000/api/student/auth/profile",{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(_.ok){const M=await _.json();console.log("Profile data loaded:",M);const C=B=>B?new Date(B).toISOString().split("T")[0]:"";e({name:M.name||"",email:M.email||"",username:M.username||"",password:"",phone:M.mobile||"",address:M.address||"",dob:C(M.dob),education:M.grade||"",studentId:M.username||"",semester:M.nifStudent?`${M.nifStudent.grade} - Section ${M.nifStudent.section}`:"",profilePic:M.profilePic||"",grade:M.grade||"",section:M.section||"",roll:M.roll||"",mobile:M.mobile||""}),M.profilePic&&n(M.profilePic)}else console.error("Failed to fetch profile:",_.status)}catch(T){console.error("Error fetching profile:",T)}finally{d(!1)}})()},[]),E.useEffect(()=>{g(Cg());const S=T=>{var I;return g(((I=T==null?void 0:T.detail)==null?void 0:I.total)??Cg())};return window.addEventListener("points:update",S),()=>window.removeEventListener("points:update",S)},[]);const b=(S,T)=>{const I={...u};switch(S){case"name":T.length<2?I[S]="Name must be at least 2 characters":delete I[S];break;case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T)?delete I[S]:I[S]="Please enter a valid email address";break;case"username":T.length<3?I[S]="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(T)?delete I[S]:I[S]="Username can only contain letters, numbers, and underscores";break;case"password":T&&T.length<6?I[S]="Password must be at least 6 characters":delete I[S];break;case"phone":/^\+?[\d\s()-]+$/.test(T)?delete I[S]:I[S]="Please enter a valid phone number";break}h(I)},w=S=>{const{name:T,value:I}=S.target;e(_=>({..._,[T]:I})),b(T,I)},v=S=>{const T=S.target.files[0];if(T){if(T.size>5*1024*1024){h(_=>({..._,profilePic:"Image size must be less than 5MB"}));return}e(_=>({..._,profilePic:T}));const I=new FileReader;I.onloadend=()=>n(I.result),I.readAsDataURL(T),u.profilePic&&h(_=>{const M={..._};return delete M.profilePic,M})}},j=async S=>{S.preventDefault(),Object.keys(t).forEach(T=>{T!=="profilePic"&&b(T,t[T])}),!(Object.keys(u).length>0)&&(l(!0),i(!1),setTimeout(()=>{i(!0),l(!1),setTimeout(()=>i(!1),3e3)},1500))},N=S=>`w-full pl-12 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 outline-none ${u[S]?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 hover:border-yellow-400 focus:border-yellow-500 focus:ring-yellow-100"} focus:ring-4 bg-white`;return c?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your profile..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-yellow-500 flex items-center justify-center",children:r.jsx(us,{className:"h-6 w-6 text-white"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Portal"})]}),r.jsxs("nav",{className:"flex space-x-6",children:[r.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Dashboard"}),r.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Messages"}),r.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Settings"})]})]})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-yellow-100 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-400 px-8 py-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white",children:"Profile Settings"}),r.jsx("p",{className:"text-yellow-100",children:"Manage your personal and account information"})]}),r.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-200/80 text-amber-900 font-semibold shadow-sm",children:[r.jsx(FP,{className:"w-5 h-5 text-amber-700"}),r.jsxs("span",{children:[A," Points"]})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row w-full overflow-x-hidden",children:[r.jsxs("div",{className:"w-full md:w-64 bg-gray-50 border-r border-gray-200 p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-yellow-300 shadow-lg bg-gray-100",children:s?r.jsx("img",{src:s,alt:"Profile Preview",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-yellow-100 to-amber-100",children:r.jsx(us,{className:"w-16 h-16 text-yellow-600"})})}),r.jsx("button",{type:"button",onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},className:"absolute -bottom-2 -right-2 bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded-full shadow-lg transition-all duration-200 hover:shadow-xl hover:scale-105",title:"Change profile picture",children:r.jsx(MP,{className:"w-5 h-5"})}),r.jsx("input",{type:"file",accept:"image/*",ref:x,onChange:v,className:"hidden"})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.name}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Student Account"})]}),r.jsxs("nav",{className:"space-y-2",children:[r.jsx("button",{onClick:()=>f("personal"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="personal"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Personal Information"}),r.jsx("button",{onClick:()=>f("account"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="account"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Account Settings"}),r.jsx("button",{onClick:()=>f("security"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="security"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Security"})]})]}),r.jsxs("div",{className:"flex-1 w-full p-4 md:p-8",children:[m==="personal"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Personal Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",name:"name",value:t.name,onChange:w,className:N("name"),placeholder:"Enter your full name",required:!0})]}),u.name&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(br,{className:"w-4 h-4"}),u.name]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Student ID"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ru,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",name:"studentId",value:t.studentId,onChange:w,className:N("studentId"),placeholder:"Enter your student ID"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(xa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"email",name:"email",value:t.email,onChange:w,className:N("email"),placeholder:"Enter your email address",required:!0})]}),u.email&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(br,{className:"w-4 h-4"}),u.email]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Grade & Section"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",name:"semester",value:t.semester,onChange:w,className:N("semester"),placeholder:"Not assigned",readOnly:!0})]})]}),t.roll&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Roll Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ru,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",value:t.roll,className:N("roll"),readOnly:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(oa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:w,className:N("phone"),placeholder:"Enter your phone number"})]}),u.phone&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(br,{className:"w-4 h-4"}),u.phone]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",name:"address",value:t.address,onChange:w,className:N("address"),placeholder:"Enter your address"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth"}),r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"date",name:"dob",value:t.dob,onChange:w,className:N("dob")})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Grade"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",name:"education",value:t.education||"Not assigned",className:N("education"),readOnly:!0})]})]})]})]}),m==="account"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Account Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mle,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",name:"username",value:t.username,onChange:w,className:N("username"),placeholder:"Choose a unique username",required:!0})]}),u.username&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(br,{className:"w-4 h-4"}),u.username]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Language Preference"}),r.jsx("div",{className:"relative",children:r.jsxs("select",{className:N("language"),children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"es",children:"Bengali"}),r.jsx("option",{value:"fr",children:"Hindi"}),r.jsx("option",{value:"de",children:"Tamil"})]})})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"email-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded",defaultChecked:!0}),r.jsx("label",{htmlFor:"email-notifications",className:"ml-2 block text-sm text-gray-700",children:"Email Notifications"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"sms-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"sms-notifications",className:"ml-2 block text-sm text-gray-700",children:"SMS Notifications"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"push-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded",defaultChecked:!0}),r.jsx("label",{htmlFor:"push-notifications",className:"ml-2 block text-sm text-gray-700",children:"Push Notifications"})]})]})]})]})]}),m==="security"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Security Settings"}),r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Change Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ou,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"password",name:"password",value:t.password,onChange:w,className:N("password"),placeholder:"Enter new password",autoComplete:"new-password"})]}),u.password&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[r.jsx(br,{className:"w-4 h-4"}),u.password]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(Xd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"password",className:N("confirmPassword"),placeholder:"Confirm your new password",autoComplete:"new-password"})]})]}),r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Two-Factor Authentication"}),r.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:"SMS Authentication"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),r.jsx("button",{className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors",children:"Enable"})]})]})]})]}),m!=="children"&&r.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-200",children:[r.jsx("button",{type:"submit",onClick:j,disabled:o||Object.keys(u).length>0,className:"w-full md:w-auto px-8 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-300 disabled:to-gray-400 text-white py-3 rounded-xl transition-all duration-200 font-semibold shadow-lg hover:shadow-xl disabled:cursor-not-allowed disabled:hover:shadow-lg transform hover:scale-[1.02] active:scale-[0.98]",children:o?r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving Changes..."]}):"Save Changes"}),a&&r.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[r.jsx("div",{className:"bg-green-500 rounded-full p-1",children:r.jsx(Gu,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-green-800 font-semibold",children:"Profile Updated Successfully!"}),r.jsx("p",{className:"text-green-700 text-sm",children:"Your changes have been saved."})]})]})]})]})]})]})}),r.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-yellow-500 flex items-center justify-center",children:r.jsx(us,{className:"h-5 w-5 text-white"})}),r.jsx("p",{className:"text-gray-600",children:" 2025 Student Portal. All rights reserved to EEC."})]}),r.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[r.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Terms"}),r.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Privacy"}),r.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Help Center"}),r.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Contact"})]})]})})})]})},Cge=()=>{const[t,e]=E.useState(""),[s,n]=E.useState("all"),[a,i]=E.useState("all"),[o,l]=E.useState([]),[c,d]=E.useState([]),[u,h]=E.useState(!0),[m,f]=E.useState(null),[x,A]=E.useState(null);E.useEffect(()=>{(async()=>{try{h(!0),f(null);const P=localStorage.getItem("token"),H=localStorage.getItem("userType");if(!P||H!=="Student"){h(!1);return}const D=await fetch("http://localhost:5000/api/notifications/user",{headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(!D.ok)throw new Error("Unable to load notices at the moment.");const G=await D.json();d(Array.isArray(G)?G:[]),A(new Date)}catch(P){console.error("Failed to fetch notices:",P),f(P.message)}finally{h(!1)}})()},[]);const b=[...c.filter(B=>{const P=(B.title||"").toLowerCase(),H=(B.message||"").toLowerCase(),D=(B.author||"School Administration").toLowerCase(),G=P.includes(t.toLowerCase())||H.includes(t.toLowerCase())||D.includes(t.toLowerCase()),O=T(B),Q=I(B);return G&&(s==="all"||O===s)&&(a==="all"||Q===a)})].sort((B,P)=>{const H=!!B.pinned,D=!!P.pinned;return H&&!D?-1:!H&&D?1:new Date(_(P)||0)-new Date(_(B)||0)}),w=B=>{l(P=>P.includes(B)?P.filter(H=>H!==B):[...P,B])},v=B=>{console.log(`Marked notice ${B} as read`)},j=B=>{switch(B){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-amber-100 text-amber-700 border-amber-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},N=B=>{switch(B){case"high":return br;case"medium":return ES;case"low":return Fr;default:return sa}},S=B=>{switch(B){case"academic":return"bg-blue-100 text-blue-700 border-blue-200";case"events":return"bg-purple-100 text-purple-700 border-purple-200";case"transport":return"bg-orange-100 text-orange-700 border-orange-200";case"general":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},T=B=>((B==null?void 0:B.priority)||"general").toLowerCase(),I=B=>((B==null?void 0:B.category)||(B==null?void 0:B.audience)||"general").toLowerCase(),_=B=>(B==null?void 0:B.date)||(B==null?void 0:B.createdAt)||(B==null?void 0:B.updatedAt)||null,M=B=>(B==null?void 0:B.author)||(B==null?void 0:B.createdByName)||"School Administration",C=B=>(B==null?void 0:B._id)||(B==null?void 0:B.id);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[r.jsx(sa,{className:"w-8 h-8"}),"Notice Board"]}),r.jsx("p",{className:"text-yellow-100 text-lg",children:"Stay updated with latest school announcements and important notices"})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[r.jsx("div",{className:"text-3xl font-bold",children:u?"...":c.length}),r.jsx("div",{className:"text-sm text-yellow-100",children:"Total Notices"})]}),x&&!u&&r.jsxs("p",{className:"text-xs text-yellow-100 mt-2",children:["Updated ",x.toLocaleDateString()]})]})]}),m&&r.jsxs("div",{className:"mt-4 bg-white/10 border border-red-200/30 text-white px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[r.jsx(br,{size:16}),m]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 border border-yellow-100",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-amber-400"}),r.jsx("input",{type:"text",placeholder:"Search notices by title, content, or author...",value:t,onChange:B=>e(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Po,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-amber-500"}),r.jsxs("select",{value:s,onChange:B=>n(B.target.value),className:"pl-10 pr-8 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"all",children:"All Priorities"}),r.jsx("option",{value:"high",children:"High Priority"}),r.jsx("option",{value:"medium",children:"Medium Priority"}),r.jsx("option",{value:"low",children:"Low Priority"})]})]}),r.jsxs("select",{value:a,onChange:B=>i(B.target.value),className:"px-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"all",children:"All Categories"}),r.jsx("option",{value:"academic",children:"Academic"}),r.jsx("option",{value:"events",children:"Events"}),r.jsx("option",{value:"transport",children:"Transport"}),r.jsx("option",{value:"general",children:"General"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.filter(B=>T(B)==="high").length}),r.jsx("div",{className:"text-sm text-amber-600",children:"High Priority"})]}),r.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:r.jsx(br,{className:"w-6 h-6 text-red-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.filter(B=>!!B.pinned).length}),r.jsx("div",{className:"text-sm text-amber-600",children:"Pinned Notices"})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(tR,{className:"w-6 h-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:o.length}),r.jsx("div",{className:"text-sm text-amber-600",children:"Bookmarked"})]}),r.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:r.jsx(EN,{className:"w-6 h-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.reduce((B,P)=>B+(Number(P.views)||0),0)}),r.jsx("div",{className:"text-sm text-amber-600",children:"Total Views"})]}),r.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:r.jsx(Es,{className:"w-6 h-6 text-yellow-600"})})]})})]}),r.jsx("div",{className:"space-y-6",children:u?r.jsx("div",{className:"space-y-4",children:[...Array(3)].map((B,P)=>r.jsx("div",{className:"h-40 bg-white rounded-xl shadow-lg border border-yellow-100 animate-pulse"},P))}):b.length===0?r.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-lg border border-yellow-100",children:[r.jsx(sa,{className:"w-16 h-16 mx-auto text-amber-300 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-amber-900 mb-2",children:"No notices found"}),r.jsx("p",{className:"text-amber-600",children:"Try adjusting your search or filter criteria"})]}):b.map(B=>{const P=C(B),H=T(B),D=I(B),G=_(B),O=M(B),Q=Number(B.views)||0,ee=Array.isArray(B.attachments)?B.attachments:[],q=N(H),Z=o.includes(P),F=!!B.pinned;return r.jsx("div",{className:`bg-white rounded-xl shadow-lg border transition-all duration-200 hover:shadow-xl ${F?"border-purple-200 ring-2 ring-purple-100":"border-yellow-100"} hover:border-amber-200`,children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[F&&r.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[r.jsx(tR,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"Pinned"})]}),r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full border text-xs font-medium ${j(H)}`,children:[r.jsx(q,{className:"w-3 h-3"}),H.toUpperCase()]}),r.jsx("div",{className:`px-2 py-1 rounded-full border text-xs font-medium ${S(D)}`,children:D.toUpperCase()})]}),r.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2 leading-tight",children:B.title}),r.jsx("p",{className:"text-amber-700 leading-relaxed mb-4",children:B.message}),ee.length>0&&r.jsx("div",{className:"mb-4",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map((z,V)=>r.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 border border-yellow-200 rounded-lg px-3 py-2 text-sm cursor-pointer hover:bg-yellow-100 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4 text-amber-600"}),r.jsx("span",{className:"text-amber-800",children:z})]},V))})})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsx("button",{onClick:()=>w(P),className:`p-2 rounded-lg transition-colors ${Z?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:Z?"Remove bookmark":"Add bookmark",children:Z?r.jsx(Gle,{className:"w-5 h-5"}):r.jsx(EN,{className:"w-5 h-5"})}),r.jsx("button",{className:"p-2 rounded-lg bg-purple-100 text-purple-600 hover:bg-purple-200 transition-colors",title:"Share notice",children:r.jsx(MS,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-yellow-100",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm text-amber-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(us,{className:"w-4 h-4"}),r.jsx("span",{children:O})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ir,{className:"w-4 h-4"}),r.jsx("span",{children:G?new Date(G).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Date TBA"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Es,{className:"w-4 h-4"}),r.jsxs("span",{children:[Q," views"]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("button",{onClick:()=>v(P),className:"px-4 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors text-sm font-medium",children:"Mark as Read"})})]})]})},P)})})]})},_ge=()=>{var P;const[t,e]=E.useState(""),[s,n]=E.useState(""),[a,i]=E.useState({}),[o,l]=E.useState({}),[c,d]=E.useState(""),[u,h]=E.useState(!1),[m,f]=E.useState(""),[x,A]=E.useState("all"),[g,b]=E.useState(!1),w=[{id:"mathematics",name:"Mathematics",teacher:"Dr. Sarah Johnson",teacherImage:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",code:"MATH-101",schedule:"Mon, Wed, Fri - 9:00 AM"},{id:"physics",name:"Physics",teacher:"Prof. Michael Chen",teacherImage:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",code:"PHY-201",schedule:"Tue, Thu - 11:00 AM"},{id:"chemistry",name:"Chemistry",teacher:"Dr. Emily Rodriguez",teacherImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",code:"CHEM-201",schedule:"Mon, Wed, Fri - 2:00 PM"},{id:"english",name:"English Literature",teacher:"Ms. Jennifer Davis",teacherImage:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face",code:"ENG-301",schedule:"Tue, Thu - 10:00 AM"},{id:"history",name:"World History",teacher:"Mr. David Thompson",teacherImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",code:"HIST-201",schedule:"Mon, Wed - 1:00 PM"},{id:"biology",name:"Biology",teacher:"Dr. Lisa Anderson",teacherImage:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=150&h=150&fit=crop&crop=face",code:"BIO-201",schedule:"Tue, Fri - 9:00 AM"}],v=[{id:"teaching_quality",label:"Teaching Quality",description:"How well does the teacher explain concepts?",icon:pn},{id:"communication",label:"Communication",description:"How clear and effective is the teacher's communication?",icon:gc},{id:"engagement",label:"Student Engagement",description:"How well does the teacher engage students in learning?",icon:Ar},{id:"preparation",label:"Class Preparation",description:"How well-prepared is the teacher for each class?",icon:Hr},{id:"availability",label:"Availability & Support",description:"How accessible is the teacher for questions and help?",icon:Do},{id:"fairness",label:"Fair Assessment",description:"How fair and consistent is the teacher's grading?",icon:kn}],j=[{id:1,subject:"Mathematics",teacher:"Dr. Sarah Johnson",date:"2024-07-15",rating:4.5,feedback:"Excellent teacher! Very clear explanations and always willing to help.",categories:{teaching_quality:5,communication:4,engagement:5,preparation:4,availability:5,fairness:4}},{id:2,subject:"Physics",teacher:"Prof. Michael Chen",date:"2024-07-10",rating:4,feedback:"Great practical demonstrations. Could improve on explaining complex theories.",categories:{teaching_quality:4,communication:3,engagement:5,preparation:4,availability:4,fairness:4}}],N=(H,D)=>{i(G=>({...G,[H]:D}))},S=(H,D)=>{l(G=>({...G,[H]:D}))},T=H=>{l(D=>({...D,[H]:0}))},I=()=>{const H=Object.values(a);return H.length===0?0:(H.reduce((D,G)=>D+G,0)/H.length).toFixed(1)},_=()=>{if(!t||Object.keys(a).length===0){alert("Please select a subject and provide ratings before submitting.");return}console.log("Feedback submitted:",{subject:t,ratings:a,feedback:c,averageRating:I()}),h(!0),setTimeout(()=>{h(!1),i({}),d(""),e(""),n("")},3e3)},M=()=>{i({}),d(""),e(""),n("")},C=w.filter(H=>H.name.toLowerCase().includes(m.toLowerCase())||H.teacher.toLowerCase().includes(m.toLowerCase())),B=j.filter(H=>x==="all"||H.subject.toLowerCase().includes(x.toLowerCase()));return u?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 flex items-center justify-center p-6",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center border border-yellow-200 max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Fr,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-2",children:"Feedback Submitted!"}),r.jsx("p",{className:"text-amber-600 mb-4",children:"Thank you for your valuable feedback. Your input helps us improve the learning experience."}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-amber-700",children:[r.jsx("strong",{children:"Subject:"})," ",(P=w.find(H=>H.id===t))==null?void 0:P.name,r.jsx("br",{}),r.jsx("strong",{children:"Average Rating:"})," ",I(),"/5 stars"]})})]})}):r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[r.jsx(gc,{className:"w-8 h-8"}),"Teacher Feedback"]}),r.jsx("p",{className:"text-yellow-100 text-lg",children:"Share your thoughts about your teachers and help improve the learning experience"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[r.jsx("div",{className:"text-3xl font-bold",children:w.length}),r.jsx("div",{className:"text-sm text-yellow-100",children:"Subjects Available"})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Hr,{className:"w-6 h-6 text-purple-600"}),r.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Select Subject & Teacher"})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-amber-400"}),r.jsx("input",{type:"text",placeholder:"Search subjects or teachers...",value:m,onChange:H=>f(H.target.value),className:"w-full pl-10 pr-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(H=>r.jsxs("div",{onClick:()=>{e(H.id),n(H.teacher)},className:`p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ${t===H.id?"border-purple-400 bg-purple-50 ring-2 ring-purple-100":"border-yellow-200 bg-white hover:border-amber-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("img",{src:H.teacherImage,alt:H.teacher,className:"w-10 h-10 rounded-full object-cover border-2 border-white shadow-sm",onError:D=>{D.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-amber-900",children:H.name}),r.jsx("p",{className:"text-sm text-amber-600",children:H.code})]})]}),r.jsxs("div",{className:"text-sm text-amber-700",children:[r.jsx("p",{className:"font-medium",children:H.teacher}),r.jsx("p",{className:"text-xs text-amber-600",children:H.schedule})]})]},H.id))})]}),t&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(fs,{className:"w-6 h-6 text-amber-500"}),r.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Rate Your Teacher"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:I()}),r.jsx("div",{className:"text-sm text-amber-600",children:"Average Rating"})]})]}),r.jsx("div",{className:"space-y-6",children:v.map(H=>{const D=H.icon;return r.jsx("div",{className:"border-b border-yellow-100 pb-4 last:border-b-0",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:r.jsx(D,{className:"w-5 h-5 text-amber-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:H.label}),r.jsx("p",{className:"text-sm text-amber-600 mb-3",children:H.description}),r.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(G=>r.jsx("button",{type:"button",className:"focus:outline-none transition-transform hover:scale-110",onMouseEnter:()=>S(H.id,G),onMouseLeave:()=>T(H.id),onClick:()=>N(H.id,G),children:r.jsx(fs,{className:`w-6 h-6 transition-colors ${G<=(o[H.id]||a[H.id]||0)?"fill-yellow-400 text-yellow-500":"text-gray-300 hover:text-gray-400"}`})},G)),a[H.id]&&r.jsxs("span",{className:"ml-2 text-sm font-medium text-amber-700",children:[a[H.id],"/5"]})]})]})]})},H.id)})})]}),t&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Zi,{className:"w-6 h-6 text-green-600"}),r.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Additional Comments"})]}),r.jsx("textarea",{rows:"5",placeholder:"Share specific feedback, suggestions, or what you appreciate about this teacher's teaching style...",value:c,onChange:H=>d(H.target.value),className:"w-full px-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent resize-none"}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-amber-600",children:[c.length,"/500 characters"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Reset"]}),r.jsxs("button",{onClick:_,disabled:!t||Object.keys(a).length===0,className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(hc,{className:"w-4 h-4"}),"Submit Feedback"]})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[r.jsxs("h3",{className:"text-lg font-bold text-amber-900 mb-4 flex items-center gap-2",children:[r.jsx(ds,{className:"w-5 h-5 text-purple-600"}),"Your Feedback Stats"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[r.jsx("span",{className:"text-amber-700",children:"Total Feedback Given"}),r.jsx("span",{className:"font-bold text-amber-900",children:"12"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[r.jsx("span",{className:"text-purple-700",children:"Average Rating Given"}),r.jsx("span",{className:"font-bold text-purple-900",children:"4.2/5"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"text-green-700",children:"Response Rate"}),r.jsx("span",{className:"font-bold text-green-900",children:"89%"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-yellow-100",children:[r.jsxs("div",{className:"p-6 border-b border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-bold text-amber-900 flex items-center gap-2",children:[r.jsx(Es,{className:"w-5 h-5 text-blue-600"}),"Previous Feedback"]}),r.jsxs("button",{onClick:()=>b(!g),className:"flex items-center gap-1 text-purple-600 hover:text-purple-700",children:[g?r.jsx(ln,{className:"w-4 h-4"}):r.jsx(ra,{className:"w-4 h-4"}),g?"Hide":"Show"]})]}),g&&r.jsx("div",{className:"mt-4",children:r.jsxs("select",{value:x,onChange:H=>A(H.target.value),className:"w-full px-3 py-2 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Subjects"}),w.map(H=>r.jsx("option",{value:H.name,children:H.name},H.id))]})})]}),g&&r.jsx("div",{className:"max-h-96 overflow-y-auto",children:B.map(H=>r.jsxs("div",{className:"p-4 border-b border-yellow-100 last:border-b-0 hover:bg-yellow-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-amber-900",children:H.subject}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fs,{className:"w-4 h-4 fill-yellow-400 text-yellow-500"}),r.jsx("span",{className:"text-sm font-medium text-amber-700",children:H.rating})]})]}),r.jsx("p",{className:"text-sm text-amber-600 mb-2",children:H.teacher}),r.jsxs("p",{className:"text-sm text-amber-700 mb-2",children:['"',H.feedback,'"']}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-amber-600",children:[r.jsx("span",{children:new Date(H.date).toLocaleDateString()}),r.jsx("span",{children:"6 categories rated"})]})]},H.id))})]})]})]})]})},aY="eec_student_chat_v2",x_=[{id:"class-group",name:"Class 10-A Group",type:"class",unread:1,lastMessage:"Anyone finished Q5 of the assignment?",lastTime:Date.now()-34e5,members:32,avatarColor:"bg-amber-500"},{id:"math-teacher",name:"Ms. Johnson - Math",type:"teacher",unread:0,lastMessage:"Reminder: submit by 6 PM today.",lastTime:Date.now()-72e5,members:2,avatarColor:"bg-blue-500",isOnline:!0},{id:"office",name:"School Office",type:"admin",unread:0,lastMessage:"PTM next Monday at 10 AM.",lastTime:Date.now()-54e5,members:4,avatarColor:"bg-purple-500"},{id:"study-group",name:"Science Study Group",type:"group",unread:3,lastMessage:"Let's meet at the library tomorrow",lastTime:Date.now()-18e5,members:5,avatarColor:"bg-green-500"}],A_={"class-group":[{id:"m1",sender:"student-other",senderName:"Alex Kim",text:"Anyone finished Q5 of the assignment?",ts:Date.now()-36e5},{id:"m2",sender:"student-other",senderName:"Maria Lopez",text:"Still working on it. It's tricky!",ts:Date.now()-34e5},{id:"m3",sender:"student-other",senderName:"James Wilson",text:"I think I got it. The answer should be 42.",ts:Date.now()-32e5},{id:"m4",sender:"student",senderName:"You",text:"Thanks James! That helps a lot.",ts:Date.now()-3e6}],"math-teacher":[{id:"m5",sender:"teacher",senderName:"Ms. Johnson",text:"Reminder: Assignment due by 6 PM today.",ts:Date.now()-72e5},{id:"m6",sender:"student",senderName:"You",text:"Understood, I'll submit it soon.",ts:Date.now()-7e6}],office:[{id:"m7",sender:"admin",senderName:"School Office",text:"Parent-Teacher Meeting next Monday at 10 AM.",ts:Date.now()-54e5},{id:"m8",sender:"student",senderName:"You",text:"Noted, I'll inform my parents.",ts:Date.now()-52e5}],"study-group":[{id:"m9",sender:"student-other",senderName:"Tom Chen",text:"Does anyone understand Newton's Third Law?",ts:Date.now()-108e5},{id:"m10",sender:"student-other",senderName:"Lisa Park",text:"I can explain it during our study session.",ts:Date.now()-106e5},{id:"m11",sender:"student",senderName:"You",text:"When are we meeting next?",ts:Date.now()-104e5},{id:"m12",sender:"student-other",senderName:"Tom Chen",text:"Let's meet at the library tomorrow after school",ts:Date.now()-102e5},{id:"m13",sender:"student-other",senderName:"Maria Lopez",text:"Works for me! I'll bring snacks.",ts:Date.now()-1e7}]};function Ege(){var t;try{const e=localStorage.getItem(aY);if(!e)return{conversations:x_,messages:A_};const s=JSON.parse(e);return{conversations:(t=s.conversations)!=null&&t.length?s.conversations:x_,messages:s.messages||A_}}catch{return{conversations:x_,messages:A_}}}function kge(t){try{localStorage.setItem(aY,JSON.stringify(t))}catch{}}const Tge=({message:t,isMine:e,showSender:s})=>{const n=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return r.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:r.jsxs("div",{className:`max-w-[80%] flex flex-col ${e?"items-end":"items-start"}`,children:[!e&&s&&r.jsx("span",{className:"text-xs text-gray-500 mb-1 ml-1",children:t.senderName}),r.jsxs("div",{className:`rounded-2xl px-4 py-2 text-sm ${e?"bg-amber-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[t.type==="file"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(LP,{className:`h-4 w-4 ${e?"text-amber-100":"text-gray-600"}`}),r.jsx("span",{className:"underline break-all",children:t.fileName||"Attachment"})]}):t.type==="voice"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mX,{className:`h-4 w-4 ${e?"text-amber-100":"text-gray-600"}`}),r.jsx("span",{children:"Voice message"})]}):r.jsx("div",{className:"whitespace-pre-wrap",children:t.text}),r.jsx("div",{className:`text-xs mt-1 ${e?"text-amber-100":"text-gray-500"} text-right`,children:n(t.ts)})]})]})})},Bge=({conversation:t,isActive:e,onClick:s})=>{const n=a=>{const o=Date.now()-a,l=Math.floor(o/(1e3*60*60*24));return l===0?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):l===1?"Yesterday":new Date(a).toLocaleDateString([],{month:"short",day:"numeric"})};return r.jsxs("button",{onClick:s,className:`w-full text-left p-3 flex items-center gap-3 transition-colors ${e?"bg-amber-50":"hover:bg-gray-50"} border-b`,children:[r.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center text-white ${t.avatarColor}`,children:t.type==="class"||t.type==="group"?r.jsx(Ar,{className:"h-5 w-5"}):r.jsx(mn,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-800 truncate",children:t.name}),t.unread>0&&r.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-amber-500 text-white text-xs",children:t.unread})]}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:t.lastMessage}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("span",{className:"text-xs text-gray-400",children:n(t.lastTime)}),t.type==="teacher"&&t.isOnline&&r.jsxs("span",{className:"text-xs text-green-500 flex items-center",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-1"}),"Online"]})]})]})]})},hO=()=>{var S;const[{conversations:t,messages:e},s]=E.useState(Ege),[n,a]=E.useState(((S=t[0])==null?void 0:S.id)||null),[i,o]=E.useState(""),[l,c]=E.useState(""),[d,u]=E.useState("text"),[h,m]=E.useState(null),[f,x]=E.useState(!1),[A,g]=E.useState(!1);E.useRef(null);const b=E.useRef(null),w=E.useMemo(()=>e[n]||[],[e,n]),v=E.useMemo(()=>t.find(T=>T.id===n),[t,n]);E.useEffect(()=>{kge({conversations:t,messages:e})},[t,e]),E.useEffect(()=>{n&&s(T=>({...T,conversations:T.conversations.map(I=>I.id===n?{...I,unread:0}:I)}))},[n]),E.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[w]);const j=E.useMemo(()=>{const T=i.trim().toLowerCase();return T?t.filter(I=>I.name.toLowerCase().includes(T)||I.lastMessage.toLowerCase().includes(T)):t},[t,i]),N=()=>{if(!n)return;let T;if(d==="text"){const _=l.trim();if(!_)return;T={id:crypto.randomUUID(),sender:"student",senderName:"You",text:_,ts:Date.now(),type:"text"}}else if(d==="file"){if(!h)return;T={id:crypto.randomUUID(),sender:"student",senderName:"You",ts:Date.now(),type:"file",fileName:h.name}}else d==="voice"&&(T={id:crypto.randomUUID(),sender:"student",senderName:"You",ts:Date.now(),type:"voice"});const I=T.type==="text"?T.text||"":T.type==="file"?`[File] ${T.fileName}`:"[Voice message]";s(_=>({conversations:_.conversations.map(M=>M.id===n?{...M,lastMessage:I,lastTime:Date.now()}:M),messages:{..._.messages,[n]:[..._.messages[n]||[],T]}})),c(""),m(null),x(!1)};return E.useEffect(()=>{const T=()=>g(window.innerWidth<768);return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),r.jsxs("div",{className:"h-full min-h-0 bg-gray-50 flex w-full",children:[r.jsxs("div",{className:`w-full md:w-80 bg-white border-r flex flex-col h-full min-h-0 ${A&&n?"hidden":"flex"}`,children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:r.jsx(mn,{className:"h-5 w-5 text-amber-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-800",children:"Student Chat"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Connect with classmates and teachers"})]})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[r.jsx(Fs,{className:"h-4 w-4 text-gray-500"}),r.jsx("input",{value:i,onChange:T=>o(T.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-500"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:r.jsxs("div",{className:"px-3 py-2",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider px-2 mb-1",children:"Conversations"}),j.map(T=>r.jsx(Bge,{conversation:T,isActive:n===T.id,onClick:()=>{a(T.id)}},T.id)),j.length===0&&r.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No conversations found"})]})}),r.jsx("div",{className:"p-4 border-t bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-amber-200 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-amber-800",children:"You"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Student"})]}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Online"})]})})]}),r.jsx("div",{className:`flex-1 flex flex-col h-full min-h-0 ${A&&!n?"hidden":"flex"}`,children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"px-6 py-4 border-b bg-white flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[A&&r.jsx("button",{onClick:()=>a(null),className:"md:hidden h-10 w-10 rounded-full flex items-center justify-center hover:bg-gray-100",children:r.jsx(ru,{className:"h-5 w-5 text-gray-600"})}),r.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:v.type==="class"||v.type==="group"?r.jsx(Ar,{className:"h-5 w-5 text-amber-600"}):r.jsx(mn,{className:"h-5 w-5 text-amber-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800",children:v.name}),r.jsx("div",{className:"text-xs text-gray-500 capitalize",children:v.type==="teacher"&&v.isOnline?r.jsxs("span",{className:"text-green-500 flex items-center",children:[r.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-1"}),"Online"]}):`${v.members} members`})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[v.type==="teacher"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:r.jsx(oa,{className:"h-5 w-5 text-gray-600"})}),r.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:r.jsx(ix,{className:"h-5 w-5 text-gray-600"})})]}),r.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:r.jsx(ES,{className:"h-5 w-5 text-gray-600"})})]})]}),r.jsx("div",{ref:b,className:"flex-1 overflow-y-auto p-6 bg-gray-50 flex flex-col-reverse custom-scrollbar",style:{display:"flex",flexDirection:"column-reverse"},children:w.length?r.jsx("div",{children:w.map((T,I)=>{const _=T.sender==="student",M=!_&&(I===0||w[I-1].sender!==T.sender||T.ts-w[I-1].ts>6e5);return r.jsx(Tge,{message:T,isMine:_,showSender:M},T.id)})}):r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(mn,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),r.jsx("p",{className:"font-medium",children:"No messages yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Send a message to start the conversation"})]})})}),r.jsx("div",{className:"border-t bg-white p-4",children:r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1 bg-gray-100 rounded-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between px-3 pt-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Type:"}),r.jsx("div",{className:"inline-flex rounded-md overflow-hidden border border-gray-300",children:["text","voice","file"].map(T=>r.jsx("button",{onClick:()=>u(T),className:`px-2 py-1 ${d===T?"bg-white text-gray-800":"text-gray-600 hover:bg-white/60"}`,children:T.charAt(0).toUpperCase()+T.slice(1)},T))})]}),r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d==="voice"&&r.jsx("button",{onClick:()=>x(T=>!T),className:`px-2 py-1 rounded-md ${f?"bg-red-500 text-white":"bg-white text-gray-700"}`,children:f?"Stop Recording":"Record"}),d==="file"&&r.jsxs("label",{className:"px-2 py-1 rounded-md bg-white text-gray-700 cursor-pointer",children:[r.jsx("input",{type:"file",className:"hidden",onChange:T=>{var I;return m(((I=T.target.files)==null?void 0:I[0])||null)}}),"Choose File"]})]})]}),r.jsxs("div",{className:"flex items-end",children:[d==="text"&&r.jsx("textarea",{rows:1,value:l,onChange:T=>c(T.target.value),onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),N())},placeholder:"Type your message...",className:"flex-1 resize-none bg-transparent px-3 py-3 text-sm focus:outline-none min-h-[44px] max-h-32"}),d==="file"&&r.jsx("div",{className:"flex-1 px-3 py-3 text-sm text-gray-700",children:h?`Selected: ${h.name}`:"No file selected"}),d==="voice"&&r.jsx("div",{className:"flex-1 px-3 py-3 text-sm text-gray-700",children:f?"Recording...":"Press Record to capture voice message"})]})]}),r.jsx("button",{onClick:N,disabled:d==="text"&&!l.trim()||d==="file"&&!h,className:"h-12 w-12 rounded-full bg-amber-600 text-white flex items-center justify-center hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(hc,{className:"h-5 w-5"})})]})})]}):r.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 p-6",children:r.jsxs("div",{className:"text-center max-w-md",children:[r.jsx(mn,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Welcome to Student Chat"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Select a conversation from the sidebar to start messaging with your classmates, teachers, or school administration."})]})})})]})},Mge=()=>{const[t,e]=E.useState({studentName:"",rollNumber:"",class:"",section:"",parentName:"",parentEmail:"",parentPhone:"",dateFrom:"",dateTo:"",reason:"",reasonType:"illness",additionalNotes:"",emergencyContact:""}),[s,n]=E.useState([{id:1,studentName:"John Doe",class:"10-A",reason:"Medical appointment",dateFrom:"2025-01-15",dateTo:"2025-01-15",status:"approved",submittedOn:"2025-01-12",approvedBy:"Ms. Johnson"},{id:2,studentName:"John Doe",class:"10-A",reason:"Family emergency",dateFrom:"2025-01-08",dateTo:"2025-01-10",status:"pending",submittedOn:"2025-01-07",approvedBy:null}]),[a,i]=E.useState("new"),[o,l]=E.useState(null),c=[{value:"illness",label:"Illness/Medical",icon:""},{value:"family",label:"Family Emergency",icon:""},{value:"personal",label:"Personal Reasons",icon:""},{value:"travel",label:"Travel/Vacation",icon:""},{value:"appointment",label:"Medical Appointment",icon:""},{value:"other",label:"Other",icon:""}],d=f=>{const{name:x,value:A}=f.target;e(g=>({...g,[x]:A}))},u=f=>{f.preventDefault();const x={id:s.length+1,studentName:t.studentName,class:`${t.class}-${t.section}`,reason:t.reason,dateFrom:t.dateFrom,dateTo:t.dateTo,status:"pending",submittedOn:new Date().toISOString().split("T")[0],approvedBy:null,formData:{...t}};n(A=>[x,...A]),e({studentName:"",rollNumber:"",class:"",section:"",parentName:"",parentEmail:"",parentPhone:"",dateFrom:"",dateTo:"",reason:"",reasonType:"illness",additionalNotes:"",emergencyContact:""}),alert("Excuse letter submitted successfully!"),i("history")},h=f=>{var A;const x=f.formData||t;return{date:new Date().toLocaleDateString(),content:`
Date: ${new Date().toLocaleDateString()}

To,
The Principal/Class Teacher
Electronic Educare

Subject: Request for Leave of Absence

Dear Sir/Madam,

I am writing to inform you that my ward, ${x.studentName}, studying in Class ${x.class}-${x.section}, Roll Number: ${x.rollNumber}, will not be able to attend school from ${new Date(x.dateFrom).toLocaleDateString()} to ${new Date(x.dateTo).toLocaleDateString()}.

Reason for absence: ${x.reason}
Type: ${((A=c.find(g=>g.value===x.reasonType))==null?void 0:A.label)||x.reasonType}

${x.additionalNotes?`Additional Information: ${x.additionalNotes}`:""}

I kindly request you to grant permission for the leave and excuse the absence.

Thank you for your consideration.

Yours sincerely,
${x.parentName}
(Parent/Guardian)

Contact Details:
Email: ${x.parentEmail}
Phone: ${x.parentPhone}
Emergency Contact: ${x.emergencyContact}
      `}},m=f=>{const x=h(f),A=document.createElement("a"),g=new Blob([x.content],{type:"text/plain"});A.href=URL.createObjectURL(g),A.download=`excuse_letter_${f.studentName}_${f.dateFrom}.txt`,document.body.appendChild(A),A.click(),document.body.removeChild(A)};return r.jsxs("div",{className:"h-full bg-gray-50 flex flex-col",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(Dr,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Excuse Letters"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Submit and manage leave applications"})]})]})})}),r.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:r.jsxs("div",{className:"flex space-x-8",children:[r.jsx("button",{onClick:()=>i("new"),className:`py-3 px-1 border-b-2 font-medium text-sm ${a==="new"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"New Letter"}),r.jsxs("button",{onClick:()=>i("history"),className:`py-3 px-1 border-b-2 font-medium text-sm ${a==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["History (",s.length,")"]})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a==="new"?r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(us,{className:"h-5 w-5 mr-2 text-blue-600"}),"Student Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name *"}),r.jsx("input",{type:"text",name:"studentName",value:t.studentName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number *"}),r.jsx("input",{type:"text",name:"rollNumber",value:t.rollNumber,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),r.jsxs("select",{name:"class",value:t.class,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select Class"}),Array.from({length:12},(f,x)=>x+1).map(f=>r.jsxs("option",{value:f,children:["Class ",f]},f))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),r.jsxs("select",{name:"section",value:t.section,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select Section"}),["A","B","C","D"].map(f=>r.jsxs("option",{value:f,children:["Section ",f]},f))]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(xa,{className:"h-5 w-5 mr-2 text-green-600"}),"Parent/Guardian Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent/Guardian Name *"}),r.jsx("input",{type:"text",name:"parentName",value:t.parentName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),r.jsx("input",{type:"email",name:"parentEmail",value:t.parentEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),r.jsx("input",{type:"tel",name:"parentPhone",value:t.parentPhone,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),r.jsx("input",{type:"tel",name:"emergencyContact",value:t.emergencyContact,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(ir,{className:"h-5 w-5 mr-2 text-purple-600"}),"Leave Details"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date *"}),r.jsx("input",{type:"date",name:"dateFrom",value:t.dateFrom,onChange:d,min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date *"}),r.jsx("input",{type:"date",name:"dateTo",value:t.dateTo,onChange:d,min:t.dateFrom||new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason Type *"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.map(f=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"reasonType",value:f.value,checked:t.reasonType===f.value,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),r.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[f.icon," ",f.label]})]},f.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detailed Reason *"}),r.jsx("textarea",{name:"reason",value:t.reason,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide specific details about the reason for absence...",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),r.jsx("textarea",{name:"additionalNotes",value:t.additionalNotes,onChange:d,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional information you'd like to share..."})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsxs("button",{type:"button",onClick:()=>l(h({formData:t})),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center",children:[r.jsx(Es,{className:"h-4 w-4 mr-2"}),"Preview Letter"]}),r.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[r.jsx(hc,{className:"h-4 w-4 mr-2"}),"Submit Excuse Letter"]})]})]})}):r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Submitted Excuse Letters"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Period"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(f=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.studentName}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Class ",f.class]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[new Date(f.dateFrom).toLocaleDateString()," - ",new Date(f.dateTo).toLocaleDateString()]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:f.reason})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[f.status==="approved"&&r.jsx(Fr,{className:"h-3 w-3 mr-1"}),f.status==="pending"&&r.jsx(fr,{className:"h-3 w-3 mr-1"}),f.status==="rejected"&&r.jsx(br,{className:"h-3 w-3 mr-1"}),f.status.charAt(0).toUpperCase()+f.status.slice(1)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.submittedOn).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>l(h(f)),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[r.jsx(Es,{className:"h-4 w-4 mr-1"}),"View"]}),r.jsxs("button",{onClick:()=>m(f),className:"text-green-600 hover:text-green-900 flex items-center",children:[r.jsx(bs,{className:"h-4 w-4 mr-1"}),"Download"]})]})})]},f.id))})]})})]})})}),o&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Letter Preview"}),r.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),r.jsx("div",{className:"p-6",children:r.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 bg-gray-50 p-4 rounded-lg border",children:o.content})}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"}),r.jsxs("button",{onClick:()=>{const f=document.createElement("a"),x=new Blob([o.content],{type:"text/plain"});f.href=URL.createObjectURL(x),f.download=`excuse_letter_${o.date}.txt`,document.body.appendChild(f),f.click(),document.body.removeChild(f)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[r.jsx(bs,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})},Fge=({subject:t})=>{const[e,s]=E.useState(""),[n,a]=E.useState("medium"),[i,o]=E.useState(""),[l,c]=E.useState(!1),[d,u]=E.useState(!1),[h,m]=E.useState(!1),f=[{id:"basic",name:"Basic",description:"Simple explanations for beginners",color:"green"},{id:"medium",name:"Intermediate",description:"Balanced depth and clarity",color:"blue"},{id:"advanced",name:"Advanced",description:"Comprehensive and detailed",color:"red"}],x=async()=>{if(e){c(!0);try{const j=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"summary",difficulty:n})});if(j.ok){const N=await j.json();o(N.content),A("summary")}else o(fO[e]||`AI-generated summary for ${e} in ${t.name} at ${n} level.`)}catch(j){console.error("Error generating summary:",j),o(fO[e]||`AI-generated summary for ${e} in ${t.name} at ${n} level.`)}finally{c(!1)}}},A=async j=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:j,timeSpent:Math.floor(Math.random()*20)+5,completed:!0})})}catch(N){console.error("Error logging activity:",N)}},g=async()=>{try{await navigator.clipboard.writeText(i),u(!0),setTimeout(()=>u(!1),2e3)}catch(j){console.error("Error copying to clipboard:",j)}},b=()=>{const j=document.createElement("a"),N=new Blob([i],{type:"text/plain"});j.href=URL.createObjectURL(N),j.download=`${e}_summary.txt`,document.body.appendChild(j),j.click(),document.body.removeChild(j)},w=()=>{if(h)speechSynthesis.cancel(),m(!1);else{const j=new SpeechSynthesisUtterance(i);j.rate=.8,j.pitch=1,j.onend=()=>m(!1),speechSynthesis.speak(j),m(!0)}},v=j=>{const N={basic:"text-green-600 bg-green-100 border-green-200",medium:"text-blue-600 bg-blue-100 border-blue-200",advanced:"text-red-600 bg-red-100 border-red-200"};return N[j]||N.medium};return r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[r.jsx(Vu,{className:"w-7 h-7 mr-3"}),"AI Summary Generator"]}),r.jsx("p",{className:"text-green-100 mt-1",children:"Get intelligent summaries tailored to your learning level"})]}),r.jsx("div",{className:"bg-green-400 p-3 rounded-xl",children:r.jsx(Vs,{className:"w-8 h-8"})})]})}),r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic"}),r.jsxs("select",{value:e,onChange:j=>s(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((j,N)=>r.jsx("option",{value:j,children:j},N))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map(j=>r.jsx("button",{onClick:()=>a(j.id),className:`p-3 rounded-lg border text-sm font-medium transition-all ${n===j.id?v(j.id):"text-gray-600 bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-semibold",children:j.name}),r.jsx("div",{className:"text-xs mt-1 opacity-75",children:j.description})]})},j.id))})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:x,disabled:!e||l,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:l?r.jsxs(r.Fragment,{children:[r.jsx(Vn,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:"Generating AI Summary..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(rh,{className:"w-5 h-5"}),r.jsx("span",{children:"Generate Summary"})]})})})]}),i&&r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(Dr,{className:"w-5 h-5 mr-2 text-green-600"}),"Summary: ",e,r.jsx("span",{className:`ml-3 px-2 py-1 rounded-full text-xs font-medium ${v(n)}`,children:n})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:w,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:h?"Stop reading":"Read aloud",children:h?r.jsx(fhe,{className:"w-5 h-5"}):r.jsx(uhe,{className:"w-5 h-5"})}),r.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Copy to clipboard",children:d?r.jsx(Fr,{className:"w-5 h-5 text-green-600"}):r.jsx(eh,{className:"w-5 h-5"})}),r.jsx("button",{onClick:b,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download as text file",children:r.jsx(bs,{className:"w-5 h-5"})}),r.jsx("button",{onClick:x,className:"p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Regenerate summary",children:r.jsx(oh,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:r.jsx("div",{className:"prose prose-green max-w-none",children:r.jsx("div",{className:"text-gray-800 leading-relaxed whitespace-pre-line",children:i})})}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Word Count"}),r.jsx("p",{className:"text-2xl font-bold text-blue-800",children:i.split(" ").length})]}),r.jsx(Hr,{className:"w-8 h-8 text-blue-500"})]})}),r.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Reading Time"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:[Math.ceil(i.split(" ").length/200)," min"]})]}),r.jsx(fr,{className:"w-8 h-8 text-purple-500"})]})}),r.jsx("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Difficulty"}),r.jsx("p",{className:"text-2xl font-bold text-orange-800 capitalize",children:n})]}),r.jsx(fs,{className:"w-8 h-8 text-orange-500"})]})})]}),r.jsx("div",{className:"mt-6 bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(br,{className:"w-5 h-5 text-yellow-600 mt-1 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Learning Tips"}),r.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[r.jsx("li",{children:" Read the summary multiple times for better retention"}),r.jsx("li",{children:" Try explaining the concepts in your own words"}),r.jsx("li",{children:" Use the mind map feature to visualize connections"}),r.jsx("li",{children:" Test your understanding with the AI quiz"})]})]})]})})]}),!i&&!l&&r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Vu,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Generate"}),r.jsx("p",{className:"text-gray-600 mb-4",children:'Select a topic and difficulty level, then click "Generate Summary" to get started.'}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"AI Summary Features:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 text-left",children:[r.jsx("li",{children:" Personalized difficulty levels"}),r.jsx("li",{children:" Topic-specific content"}),r.jsx("li",{children:" Text-to-speech support"}),r.jsx("li",{children:" Download and share options"}),r.jsx("li",{children:" Learning progress tracking"})]})]})]})]})})},fO={Algebra:`Algebra is a branch of mathematics that uses symbols and letters to represent numbers and quantities in formulas and equations. It's like arithmetic with unknown values that we need to find.

Key Concepts:
- Variables: Letters (like x, y, z) that represent unknown numbers
- Equations: Mathematical statements showing that two expressions are equal
- Operations: Addition, subtraction, multiplication, and division with variables

Basic Rules:
1. Whatever you do to one side of an equation, you must do to the other side
2. Combine like terms (terms with the same variable)
3. Use inverse operations to isolate variables

Applications:
Algebra is used in everyday life for calculating costs, determining distances, solving word problems, and forms the foundation for advanced mathematics like calculus and statistics.`,"Quadratic Equations":`Quadratic equations are mathematical expressions of the form ax + bx + c = 0, where a, b, and c are constants and a  0. They represent parabolic curves when graphed.

Key Components:
- The term ax makes it quadratic (second-degree)
- These equations can have 0, 1, or 2 real solutions
- The graph is always a parabola

Solving Methods:
1. Factoring: Breaking down the equation into simpler parts
2. Quadratic Formula: x = (-b  (b - 4ac)) / 2a
3. Completing the Square: Converting to perfect square form
4. Graphing: Finding x-intercepts visually

The Discriminant (b - 4ac):
- Positive: Two different real solutions
- Zero: One repeated real solution  
- Negative: Two complex solutions

Real-world applications include projectile motion, optimization problems, and modeling parabolic shapes in architecture and engineering.`},Pge=({subject:t})=>{const[e,s]=E.useState(""),[n,a]=E.useState(null),[i,o]=E.useState(!1),[l,c]=E.useState(new Set),[d,u]=E.useState(!1),h=E.useRef(null),m=async()=>{if(e){o(!0);try{const j=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"mindmap",difficulty:"medium"})});if(j.ok){const N=await j.json();a(N.content),c(new Set([N.content.center]))}else a(mO[e]||v(e)),c(new Set([e]));f("mindmap")}catch(j){console.error("Error generating mind map:",j),a(mO[e]||v(e)),c(new Set([e]))}finally{o(!1)}}},f=async j=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:j,timeSpent:Math.floor(Math.random()*15)+5,completed:!0})})}catch(N){console.error("Error logging activity:",N)}},x=j=>{const N=new Set(l);N.has(j)?N.delete(j):N.add(j),c(N)},A=()=>{const j=h.current;if(j){const N=document.createElement("a");N.download=`${e}_mindmap.png`,N.href=j.toDataURL(),N.click()}},g=j=>{const N=["bg-blue-500 text-white","bg-green-500 text-white","bg-purple-500 text-white","bg-orange-500 text-white","bg-red-500 text-white","bg-indigo-500 text-white","bg-pink-500 text-white","bg-yellow-500 text-white"];return N[j%N.length]},b=(j,N=0,S=0)=>{const T=N===0,I=`${j}-${N}-${S}`,_=l.has(I);return r.jsx("div",{className:`
          ${T?"mind-map-center":"mind-map-branch"}
          ${T?"text-xl font-bold":"text-sm"}
        `,style:{marginLeft:N>0?`${N*30}px`:"0",marginTop:N>0?"8px":"0"},children:r.jsxs("div",{className:`
            ${T?"px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white":`px-4 py-2 ${g(S)}`}
            rounded-xl shadow-lg cursor-pointer transform transition-all hover:scale-105
            flex items-center space-x-2
          `,onClick:()=>x(I),children:[!T&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),r.jsx("span",{children:typeof j=="string"?j:j.name}),!T&&r.jsx("div",{className:`ml-2 ${_?"rotate-90":""} transition-transform`,children:r.jsx(que,{className:"w-3 h-3"})})]})},I)},w=()=>n?r.jsx("div",{className:"mind-map-container p-8",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"mb-8",children:b(n.center,0)}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl",children:n.branches.map((j,N)=>r.jsxs("div",{className:"mind-map-branch-container",children:[r.jsx("div",{className:"mb-4",children:b(j.name,1,N)}),l.has(`${j.name}-1-${N}`)&&r.jsx("div",{className:"ml-6 space-y-2 animate-fadeIn",children:j.children.map((S,T)=>r.jsx("div",{className:`
                          px-3 py-2 rounded-lg text-xs
                          ${g(N).replace("500","100").replace("text-white","text-gray-800")}
                          border-l-2 border-current transform transition-all hover:translate-x-1
                        `,children:S},T))})]},N))})]})}):null,v=j=>({center:j,branches:[{name:"Key Concepts",children:["Concept 1","Concept 2","Concept 3"]},{name:"Applications",children:["Application 1","Application 2"]},{name:"Examples",children:["Example 1","Example 2"]}]});return r.jsxs("div",{className:`${d?"fixed inset-0 z-50 bg-white":"max-w-6xl mx-auto"}`,children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden h-full",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[r.jsx(Tf,{className:"w-7 h-7 mr-3"}),"AI Mind Map Generator"]}),r.jsx("p",{className:"text-purple-100 mt-1",children:"Visualize concepts and their connections"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>u(!d),className:"p-2 bg-purple-400 hover:bg-purple-300 rounded-lg transition-colors",title:d?"Exit fullscreen":"Enter fullscreen",children:d?r.jsx(qde,{className:"w-5 h-5"}):r.jsx(sB,{className:"w-5 h-5"})}),r.jsx("div",{className:"bg-purple-400 p-3 rounded-xl",children:r.jsx(Vs,{className:"w-8 h-8"})})]})]})}),r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 max-w-md",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic for Mind Map"}),r.jsxs("select",{value:e,onChange:j=>s(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((j,N)=>r.jsx("option",{value:j,children:j},N))]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:m,disabled:!e||i,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg font-medium hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:i?r.jsxs(r.Fragment,{children:[r.jsx(Vn,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(rh,{className:"w-5 h-5"}),r.jsx("span",{children:"Generate"})]})}),n&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:A,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download mind map",children:r.jsx(bs,{className:"w-5 h-5"})}),r.jsx("button",{onClick:m,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Regenerate mind map",children:r.jsx(oh,{className:"w-5 h-5"})})]})]})]})}),r.jsx("div",{className:`${d?"h-full overflow-auto":"min-h-96"}`,children:n?r.jsxs("div",{className:"relative",children:[w(),r.jsxs("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[r.jsxs("h4",{className:"font-medium text-gray-800 mb-2 flex items-center",children:[r.jsx(rue,{className:"w-4 h-4 mr-2"}),"Mind Map Guide"]}),r.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[r.jsx("p",{children:" Click branches to expand/collapse"}),r.jsx("p",{children:" Central topic connects to main concepts"}),r.jsx("p",{children:" Colors represent different categories"}),r.jsx("p",{children:" Use fullscreen for better viewing"})]})]}),r.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Map Statistics"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("p",{children:["Branches: ",n.branches.length]}),r.jsxs("p",{children:["Total Nodes: ",n.branches.reduce((j,N)=>j+N.children.length,n.branches.length+1)]}),r.jsxs("p",{children:["Expanded: ",l.size]})]})]})]}):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Tf,{className:"w-8 h-8 text-purple-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Create Your Mind Map"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Select a topic and generate an interactive mind map to visualize concepts and connections."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 max-w-md mx-auto",children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Mind Map Features:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsx("span",{children:"Interactive nodes"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{children:"Color-coded branches"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"Expandable sections"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),r.jsx("span",{children:"Download support"})]})]})]})]})})]}),r.jsx("canvas",{ref:h,style:{display:"none"},width:1200,height:800}),r.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        
        .mind-map-center {
          position: relative;
        }
        
        .mind-map-center::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 120%;
          height: 120%;
          border: 2px dashed rgba(59, 130, 246, 0.3);
          border-radius: 50%;
          z-index: -1;
        }
        
        .mind-map-branch-container {
          position: relative;
        }
        
        .mind-map-branch-container::before {
          content: '';
          position: absolute;
          top: 20px;
          left: -20px;
          width: 20px;
          height: 2px;
          background: linear-gradient(to right, rgba(147, 51, 234, 0.3), rgba(147, 51, 234, 0.1));
        }
      `})]})},mO={Algebra:{center:"Algebra",branches:[{name:"Basic Operations",children:["Addition (+)","Subtraction (-)","Multiplication ()","Division ()","Order of Operations (PEMDAS)","Distributive Property"]},{name:"Variables & Expressions",children:["Variables (x, y, z)","Constants","Coefficients","Terms","Like Terms","Combining Terms","Algebraic Expressions"]},{name:"Equations & Inequalities",children:["Linear Equations","Quadratic Equations","System of Equations","Inequalities","Absolute Value","Rational Equations"]},{name:"Functions",children:["Function Notation f(x)","Domain & Range","Linear Functions","Quadratic Functions","Exponential Functions","Graphing"]},{name:"Factoring",children:["Common Factors","Difference of Squares","Perfect Square Trinomials","Factoring Trinomials","Grouping Method"]},{name:"Applications",children:["Word Problems","Rate Problems","Mixture Problems","Geometry Applications","Physics Applications","Economics"]}]},Geometry:{center:"Geometry",branches:[{name:"Basic Elements",children:["Points","Lines","Rays","Segments","Planes","Angles","Parallel Lines","Perpendicular Lines"]},{name:"Triangles",children:["Types (Scalene, Isosceles, Equilateral)","Right Triangles","Pythagorean Theorem","Similar Triangles","Congruent Triangles","Area Formulas"]},{name:"Quadrilaterals",children:["Squares","Rectangles","Parallelograms","Rhombus","Trapezoids","Properties","Area & Perimeter"]},{name:"Circles",children:["Radius & Diameter","Circumference","Area","Chords","Tangents","Arcs","Central Angles","Inscribed Angles"]},{name:"Solid Geometry",children:["Cubes","Rectangular Prisms","Cylinders","Spheres","Cones","Pyramids","Surface Area","Volume"]},{name:"Coordinate Geometry",children:["Cartesian Plane","Distance Formula","Midpoint Formula","Slope","Equation of a Line","Graphing"]}]},Trigonometry:{center:"Trigonometry",branches:[{name:"Basic Functions",children:["Sine (sin)","Cosine (cos)","Tangent (tan)","Cosecant (csc)","Secant (sec)","Cotangent (cot)"]},{name:"Unit Circle",children:["Angles in Radians","Angles in Degrees","Special Angles","Reference Angles","Quadrants","Signs of Functions"]},{name:"Identities",children:["Pythagorean Identity","Reciprocal Identities","Quotient Identities","Co-function Identities","Double Angle","Half Angle"]},{name:"Graphs",children:["Sine Wave","Cosine Wave","Tangent Graph","Amplitude","Period","Phase Shift","Vertical Shift"]},{name:"Applications",children:["Right Triangle Problems","Law of Sines","Law of Cosines","Navigation","Physics Applications","Engineering"]}]},Mechanics:{center:"Mechanics",branches:[{name:"Kinematics",children:["Position","Velocity","Acceleration","Motion Graphs","Equations of Motion","Projectile Motion","Circular Motion"]},{name:"Forces",children:["Newton's Laws","Gravity","Normal Force","Friction","Tension","Applied Force","Net Force","Free Body Diagrams"]},{name:"Energy",children:["Kinetic Energy","Potential Energy","Work","Power","Conservation of Energy","Energy Transformations"]},{name:"Momentum",children:["Linear Momentum","Impulse","Conservation of Momentum","Collisions","Elastic Collisions","Inelastic Collisions"]},{name:"Rotational Motion",children:["Angular Velocity","Angular Acceleration","Torque","Moment of Inertia","Angular Momentum","Rolling Motion"]}]},Thermodynamics:{center:"Thermodynamics",branches:[{name:"Heat & Temperature",children:["Temperature Scales","Heat Transfer","Conduction","Convection","Radiation","Thermal Expansion","Specific Heat"]},{name:"Laws of Thermodynamics",children:["Zeroth Law","First Law (Energy Conservation)","Second Law (Entropy)","Third Law","Thermal Equilibrium"]},{name:"Ideal Gas",children:["Ideal Gas Law","Boyle's Law","Charles's Law","Gay-Lussac's Law","Avogadro's Law","Kinetic Theory"]},{name:"Processes",children:["Isothermal","Adiabatic","Isobaric","Isochoric","Cyclic Processes","Reversible vs Irreversible"]},{name:"Applications",children:["Heat Engines","Refrigerators","Heat Pumps","Carnot Cycle","Efficiency","Entropy Changes"]}]},"Atomic Structure":{center:"Atomic Structure",branches:[{name:"Subatomic Particles",children:["Protons","Neutrons","Electrons","Mass & Charge","Quarks","Atomic Number","Mass Number"]},{name:"Atomic Models",children:["Dalton Model","Thomson Model","Rutherford Model","Bohr Model","Quantum Mechanical Model","Electron Cloud"]},{name:"Electron Configuration",children:["Orbitals (s, p, d, f)","Aufbau Principle","Pauli Exclusion","Hund's Rule","Electron Shells","Valence Electrons"]},{name:"Periodic Trends",children:["Atomic Radius","Ionization Energy","Electronegativity","Metallic Character","Electron Affinity"]},{name:"Isotopes",children:["Same Element","Different Mass","Radioactivity","Half-life","Nuclear Reactions","Carbon Dating"]}]},"Chemical Bonding":{center:"Chemical Bonding",branches:[{name:"Ionic Bonding",children:["Metal + Non-metal","Electron Transfer","Cations & Anions","Lattice Energy","Crystal Structures","Properties"]},{name:"Covalent Bonding",children:["Non-metal + Non-metal","Electron Sharing","Single Bonds","Double Bonds","Triple Bonds","Polar vs Non-polar"]},{name:"Molecular Geometry",children:["VSEPR Theory","Linear","Trigonal Planar","Tetrahedral","Trigonal Bipyramidal","Octahedral"]},{name:"Intermolecular Forces",children:["Van der Waals","Dipole-Dipole","Hydrogen Bonding","London Dispersion","Ion-Dipole"]},{name:"Properties",children:["Melting Point","Boiling Point","Solubility","Conductivity","Hardness","Brittleness"]}]},"Cell Biology":{center:"Cell Biology",branches:[{name:"Cell Types",children:["Prokaryotic","Eukaryotic","Plant Cells","Animal Cells","Bacteria","Archaea","Protists"]},{name:"Cell Organelles",children:["Nucleus","Mitochondria","Ribosomes","ER","Golgi Apparatus","Lysosomes","Chloroplasts","Vacuoles"]},{name:"Cell Membrane",children:["Phospholipid Bilayer","Membrane Proteins","Selective Permeability","Transport","Osmosis","Diffusion"]},{name:"Cell Division",children:["Mitosis","Meiosis","Cell Cycle","Interphase","Prophase","Metaphase","Anaphase","Telophase"]},{name:"Cellular Processes",children:["Photosynthesis","Cellular Respiration","Protein Synthesis","DNA Replication","Enzyme Function"]}]},Photosynthesis:{center:"Photosynthesis",branches:[{name:"Light Reactions",children:["Photosystem I","Photosystem II","Electron Transport Chain","ATP Synthesis","NADPH Formation","Water Splitting","Oxygen Release"]},{name:"Calvin Cycle (Dark Reactions)",children:["Carbon Fixation","RuBisCO Enzyme","CO + RuBP","Reduction Phase","Regeneration","3-Carbon Compounds","Glucose Formation"]},{name:"Requirements",children:["Sunlight (Energy)","Carbon Dioxide (CO)","Water (HO)","Chlorophyll","Chloroplasts","Optimal Temperature","Proper pH"]},{name:"Products",children:["Glucose (CHO)","Oxygen Gas (O)","ATP (Energy)","NADPH","Starch (Storage)","Cellulose"]},{name:"Factors Affecting Rate",children:["Light Intensity","CO Concentration","Temperature","Water Availability","Chlorophyll Content","Enzyme Activity"]},{name:"Types",children:["C3 Plants","C4 Plants","CAM Plants","Adaptations","Efficiency Differences","Environmental Conditions"]}]},Genetics:{center:"Genetics",branches:[{name:"DNA Structure",children:["Double Helix","Nucleotides","Base Pairs (A-T, G-C)","Sugar-Phosphate Backbone","Antiparallel Strands","Major/Minor Grooves"]},{name:"Gene Expression",children:["Transcription","Translation","mRNA","tRNA","rRNA","Ribosomes","Genetic Code","Protein Synthesis"]},{name:"Inheritance Patterns",children:["Mendel's Laws","Dominant/Recessive","Codominance","Multiple Alleles","Sex-linked","Polygenic Traits"]},{name:"Mutations",children:["Point Mutations","Chromosomal Changes","Silent Mutations","Missense","Nonsense","Frameshift","Causes & Effects"]},{name:"Applications",children:["Genetic Engineering","CRISPR","Gene Therapy","Cloning","GMOs","Forensics","Medicine"]}]},"Poetry Analysis":{center:"Poetry Analysis",branches:[{name:"Literary Devices",children:["Metaphor","Simile","Alliteration","Personification","Symbolism","Imagery","Rhyme Scheme","Meter"]},{name:"Poetic Forms",children:["Sonnet","Haiku","Free Verse","Blank Verse","Ballad","Epic","Lyric","Narrative"]},{name:"Themes & Meaning",children:["Love","Nature","Death","Time","Identity","Society","Spirituality","Human Experience"]},{name:"Analysis Techniques",children:["Close Reading","Context Analysis","Biographical Criticism","Historical Context","Comparative Analysis","Thematic Study"]}]},"World War I":{center:"World War I",branches:[{name:"Causes",children:["Imperialism","Alliance System","Nationalism","Militarism","Assassination of Archduke Franz Ferdinand","Arms Race"]},{name:"Major Battles",children:["Battle of Verdun","Somme Offensive","Battle of Jutland","Gallipoli Campaign","Battle of Tannenberg","Passchendaele"]},{name:"New Technologies",children:["Machine Guns","Poison Gas","Tanks","Aircraft","Submarines","Artillery","Trench Warfare"]},{name:"Consequences",children:["Treaty of Versailles","Russian Revolution","Ottoman Empire Collapse","League of Nations","Economic Impact","Social Changes"]}]},"Physical Geography":{center:"Physical Geography",branches:[{name:"Landforms",children:["Mountains","Plains","Plateaus","Valleys","Deserts","Coasts","Rivers","Lakes"]},{name:"Climate Systems",children:["Temperature Patterns","Precipitation","Wind Systems","Climate Zones","Weather Patterns","Seasonal Variations"]},{name:"Geological Processes",children:["Plate Tectonics","Erosion","Weathering","Volcanism","Earthquakes","Rock Cycle","Glaciation"]},{name:"Natural Resources",children:["Minerals","Fossil Fuels","Water Resources","Forests","Agricultural Land","Renewable Energy","Conservation"]}]},"Supply and Demand":{center:"Supply and Demand",branches:[{name:"Demand Factors",children:["Consumer Income","Price of Substitutes","Consumer Preferences","Population Size","Future Expectations","Seasonal Factors"]},{name:"Supply Factors",children:["Production Costs","Technology","Number of Sellers","Government Regulations","Resource Availability","Weather Conditions"]},{name:"Market Equilibrium",children:["Equilibrium Price","Equilibrium Quantity","Market Clearing","Shortage","Surplus","Price Adjustments"]},{name:"Elasticity",children:["Price Elasticity of Demand","Income Elasticity","Cross-Price Elasticity","Price Elasticity of Supply","Factors Affecting Elasticity"]}]},"Programming Basics":{center:"Programming Basics",branches:[{name:"Data Types",children:["Integers","Floats","Strings","Booleans","Arrays","Objects","Null/Undefined","Constants"]},{name:"Control Structures",children:["If/Else Statements","Switch Statements","For Loops","While Loops","Do-While Loops","Break/Continue","Nested Loops"]},{name:"Functions",children:["Function Declaration","Parameters","Return Values","Scope","Recursion","Higher-Order Functions","Anonymous Functions"]},{name:"Best Practices",children:["Code Comments","Variable Naming","Error Handling","Code Organization","Testing","Documentation","Version Control"]}]},"Cognitive Psychology":{center:"Cognitive Psychology",branches:[{name:"Memory Systems",children:["Sensory Memory","Short-term Memory","Long-term Memory","Working Memory","Encoding","Storage","Retrieval","Forgetting"]},{name:"Attention & Perception",children:["Selective Attention","Divided Attention","Visual Perception","Auditory Perception","Pattern Recognition","Perceptual Organization"]},{name:"Learning & Thinking",children:["Problem Solving","Decision Making","Language Processing","Concept Formation","Reasoning","Creativity","Metacognition"]},{name:"Research Methods",children:["Experiments","Neuroimaging","Eye Tracking","Reaction Time","Case Studies","Observational Studies","Statistical Analysis"]}]}},Ige=({subject:t})=>{var I,_;const[e,s]=E.useState(""),[n,a]=E.useState([]),[i,o]=E.useState(0),[l,c]=E.useState(!1),[d,u]=E.useState(!1),[h,m]=E.useState(new Set),[f,x]=E.useState("medium"),A=async()=>{if(e){u(!0);try{const M=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"flashcards",difficulty:f})});if(M.ok){const C=await M.json();a(C.content)}else a(pO[e]||S(e));o(0),c(!1),m(new Set),g("flashcards")}catch(M){console.error("Error generating flashcards:",M),a(pO[e]||S(e))}finally{u(!1)}}},g=async M=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:M,timeSpent:Math.floor(Math.random()*20)+10,completed:h.size===n.length})})}catch(C){console.error("Error logging activity:",C)}},b=()=>{i<n.length-1&&(o(i+1),c(!1))},w=()=>{i>0&&(o(i-1),c(!1))},v=()=>{m(M=>new Set([...M,i])),i<n.length-1&&setTimeout(b,300)},j=()=>{const M=[...n].sort(()=>Math.random()-.5);a(M),o(0),c(!1)},N=()=>{o(0),c(!1),m(new Set)},S=M=>[{id:1,front:`What is the main concept of ${M}?`,back:`${M} is a fundamental concept in ${t.name} that involves key principles and applications.`},{id:2,front:`How is ${M} applied in real life?`,back:`${M} has practical applications in various fields and everyday situations.`}],T=()=>n.length>0?Math.round(h.size/n.length*100):0;return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[r.jsx(fs,{className:"w-7 h-7 mr-3"}),"AI Flashcards"]}),r.jsx("p",{className:"text-yellow-100 mt-1",children:"Interactive flashcards for effective memorization"})]}),r.jsx("div",{className:"bg-yellow-400 p-3 rounded-xl",children:r.jsx(Vs,{className:"w-8 h-8"})})]})}),r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[r.jsxs("div",{className:"flex-1 max-w-md",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic for Flashcards"}),r.jsxs("select",{value:e,onChange:M=>s(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((M,C)=>r.jsx("option",{value:M,children:M},C))]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:A,disabled:!e||d,className:"px-6 py-2 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-lg font-medium hover:from-yellow-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:d?r.jsxs(r.Fragment,{children:[r.jsx(Vn,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:"Generating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(rh,{className:"w-5 h-5"}),r.jsx("span",{children:"Generate"})]})}),n.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:j,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Shuffle cards",children:r.jsx(xX,{className:"w-5 h-5"})}),r.jsx("button",{onClick:N,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Reset session",children:r.jsx(Ro,{className:"w-5 h-5"})})]})]})]}),n.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[h.size," of ",n.length," cards studied"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${T()}%`}})})]})]}),n.length>0?r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx("div",{className:"text-center mb-6",children:r.jsxs("span",{className:"inline-block px-4 py-2 bg-gray-100 rounded-full text-sm font-medium text-gray-700",children:["Card ",i+1," of ",n.length]})}),r.jsx("div",{className:"relative w-full h-80 cursor-pointer",onClick:()=>c(!l),children:r.jsxs("div",{className:`
                  absolute inset-0 w-full h-full rounded-xl shadow-lg transform transition-all duration-500 preserve-3d
                  ${l?"rotate-y-180":""}
                `,children:[r.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 flex items-center justify-center p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Es,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Question"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:(I=n[i])==null?void 0:I.front}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click to reveal answer"})]})}),r.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 rounded-xl bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-200 flex items-center justify-center p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(sx,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Answer"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:(_=n[i])==null?void 0:_.back}),h.has(i)&&r.jsx("div",{className:"mt-3",children:r.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[r.jsx(Fr,{className:"w-3 h-3 mr-1"}),"Studied"]})})]})})]})}),l&&r.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[r.jsxs("button",{onClick:v,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:[r.jsx(Fr,{className:"w-4 h-4"}),r.jsx("span",{children:"Got it!"})]}),r.jsxs("button",{onClick:b,disabled:i===n.length-1,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[r.jsx("span",{children:"Next"}),r.jsx(vg,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-8",children:[r.jsxs("button",{onClick:w,disabled:i===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(Rl,{className:"w-4 h-4"}),r.jsx("span",{children:"Previous"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:h.size===n.length&&r.jsx("span",{className:"text-green-600 font-medium",children:" All cards completed!"})}),r.jsxs("button",{onClick:b,disabled:i===n.length-1,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx("span",{children:"Next"}),r.jsx(vg,{className:"w-4 h-4"})]})]})]})}):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(fs,{className:"w-8 h-8 text-yellow-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Study"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Select a topic and generate AI-powered flashcards for effective learning."}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Flashcard Features:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 text-left",children:[r.jsx("li",{children:" AI-generated questions"}),r.jsx("li",{children:" Interactive flip cards"}),r.jsx("li",{children:" Progress tracking"}),r.jsx("li",{children:" Shuffle & repeat options"}),r.jsx("li",{children:" Study completion tracking"})]})]})]})]}),r.jsx("style",{jsx:!0,children:`
        .preserve-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
      `})]})},pO={Algebra:[{id:1,front:"What is a variable in algebra?",back:"A variable is a letter or symbol (like x, y, z) that represents an unknown number or value that can change. Variables allow us to write general mathematical relationships."},{id:2,front:"What is the difference between an equation and an expression?",back:"An equation has an equals sign (=) and states that two things are equal (e.g., 2x + 3 = 7), while an expression is a mathematical phrase without an equals sign (e.g., 2x + 3)."},{id:3,front:"How do you solve for x in the equation 2x + 5 = 15?",back:`Step 1: Subtract 5 from both sides: 2x = 10
Step 2: Divide both sides by 2: x = 5
Always check: 2(5) + 5 = 15 `},{id:4,front:"What is the distributive property?",back:"The distributive property states that a(b + c) = ab + ac. For example: 3(x + 4) = 3x + 12. You multiply the number outside the parentheses by each term inside."},{id:5,front:"What are like terms?",back:"Like terms have the same variables raised to the same powers. Examples: 3x and 5x are like terms, but 3x and 5x are not. You can only combine like terms."},{id:6,front:"How do you solve a system of equations by substitution?",back:`1. Solve one equation for one variable
2. Substitute that expression into the other equation
3. Solve for the remaining variable
4. Substitute back to find the other variable`}],Geometry:[{id:1,front:"What is the Pythagorean Theorem?",back:"In a right triangle, a + b = c, where c is the hypotenuse (longest side) and a and b are the other two sides. This only works for right triangles!"},{id:2,front:"What is the sum of interior angles in any triangle?",back:"The sum of interior angles in any triangle is always 180. This is true for all triangles: equilateral, isosceles, scalene, right, acute, or obtuse."},{id:3,front:"How do you find the area of a circle?",back:"Area = r, where r is the radius. Remember: radius is half the diameter. If diameter = 6, then radius = 3, so Area = (3) = 9"},{id:4,front:"What makes two triangles congruent?",back:"Triangles are congruent if: SSS (all sides equal), SAS (two sides and included angle), ASA (two angles and included side), AAS (two angles and non-included side), or HL (hypotenuse-leg for right triangles)."},{id:5,front:"What is the difference between area and perimeter?",back:"Perimeter is the distance around the outside of a shape (measured in units like cm, m). Area is the space inside a shape (measured in square units like cm, m)."}],Trigonometry:[{id:1,front:"What are the three basic trigonometric ratios?",back:`SOH-CAH-TOA:
Sin = Opposite/Hypotenuse
Cos = Adjacent/Hypotenuse
Tan = Opposite/Adjacent
(In a right triangle)`},{id:2,front:"What is the unit circle?",back:"The unit circle is a circle with radius 1 centered at the origin. It's used to define trig functions for all angles. Key angles: 0, 30, 45, 60, 90."},{id:3,front:"What is the Pythagorean identity in trigonometry?",back:`sin + cos = 1
This is true for any angle  and comes from the Pythagorean theorem applied to the unit circle.`},{id:4,front:"What are the values of sin, cos, and tan at 30?",back:`At 30:
sin(30) = 1/2
cos(30) = 3/2
tan(30) = 1/3 = 3/3`}],Mechanics:[{id:1,front:"What is Newton's First Law of Motion?",back:"An object at rest stays at rest, and an object in motion stays in motion at constant velocity, unless acted upon by a net external force. Also called the Law of Inertia."},{id:2,front:"What is the equation for kinetic energy?",back:"KE = mv, where m is mass (kg) and v is velocity (m/s). Kinetic energy is the energy of motion and is always positive."},{id:3,front:"What is acceleration?",back:"Acceleration is the rate of change of velocity. a = (v_final - v_initial)/time = v/t. Units are m/s. Can be positive (speeding up) or negative (slowing down)."},{id:4,front:"What is the difference between mass and weight?",back:"Mass is the amount of matter in an object (kg) - constant everywhere. Weight is the gravitational force on an object (N) - changes with gravity. Weight = mg."}],Thermodynamics:[{id:1,front:"What is the First Law of Thermodynamics?",back:"Energy cannot be created or destroyed, only converted from one form to another. U = Q - W (change in internal energy = heat added - work done by system)."},{id:2,front:"What is the ideal gas law?",back:"PV = nRT, where P = pressure, V = volume, n = moles of gas, R = gas constant, T = temperature (in Kelvin). Describes behavior of ideal gases."},{id:3,front:"What is specific heat capacity?",back:"The amount of heat energy needed to raise the temperature of 1 kg of a substance by 1C. Q = mcT, where c is specific heat capacity."}],"Atomic Structure":[{id:1,front:"What are the three main subatomic particles?",back:"Protons (positive charge, in nucleus), Neutrons (no charge, in nucleus), Electrons (negative charge, in electron shells around nucleus)."},{id:2,front:"What is atomic number?",back:"The number of protons in an atom's nucleus. This defines what element it is. For example, all carbon atoms have 6 protons, so carbon's atomic number is 6."},{id:3,front:"What is an isotope?",back:"Atoms of the same element with different numbers of neutrons. They have the same atomic number but different mass numbers. Example: Carbon-12 and Carbon-14."},{id:4,front:"What is electron configuration?",back:"The arrangement of electrons in an atom's shells and subshells. Follows the Aufbau principle (fill lowest energy first), Pauli exclusion, and Hund's rule."}],"Chemical Bonding":[{id:1,front:"What is an ionic bond?",back:"A bond formed when electrons are transferred from a metal to a non-metal, creating oppositely charged ions that attract each other. Example: NaCl in table salt."},{id:2,front:"What is a covalent bond?",back:"A bond formed when two non-metal atoms share electrons. Can be single (2e), double (4e), or triple (6e) bonds. Example: H-H in hydrogen gas."},{id:3,front:"What is electronegativity?",back:"The ability of an atom to attract electrons in a bond. Fluorine is most electronegative (4.0). Difference in electronegativity determines bond type: <0.5 = nonpolar covalent, 0.5-1.7 = polar covalent, >1.7 = ionic."},{id:4,front:"What is VSEPR theory?",back:"Valence Shell Electron Pair Repulsion theory. Electron pairs around a central atom repel each other and arrange to minimize repulsion, determining molecular geometry."}],"Cell Biology":[{id:1,front:"What is the difference between prokaryotic and eukaryotic cells?",back:"Prokaryotic: No nucleus, DNA free in cytoplasm (bacteria, archaea). Eukaryotic: Has nucleus, DNA in nucleus, membrane-bound organelles (plants, animals, fungi, protists)."},{id:2,front:"What is the function of mitochondria?",back:"The 'powerhouse' of the cell - produces ATP through cellular respiration. Has double membrane, contains its own DNA, found in eukaryotic cells."},{id:3,front:"What is the cell membrane made of?",back:"Phospholipid bilayer with embedded proteins. Selectively permeable - controls what enters and leaves the cell. Has hydrophilic heads and hydrophobic tails."},{id:4,front:"What is the difference between mitosis and meiosis?",back:"Mitosis: Produces 2 identical diploid cells for growth/repair. Meiosis: Produces 4 genetically different haploid gametes for reproduction."}],Photosynthesis:[{id:1,front:"What is the overall equation for photosynthesis?",back:`6CO + 6HO + light energy  CHO + 6O + ATP
(Carbon dioxide + water + light  glucose + oxygen + energy)`},{id:2,front:"Where do the light reactions occur?",back:"In the thylakoid membranes of chloroplasts. Here, light energy is captured by chlorophyll and converted to chemical energy (ATP and NADPH)."},{id:3,front:"What happens in the Calvin cycle?",back:"Takes place in the stroma. Uses ATP and NADPH from light reactions to convert CO into glucose through carbon fixation. Also called the dark reactions."},{id:4,front:"Why is photosynthesis important?",back:"Produces oxygen for breathing, glucose for food, removes CO from atmosphere, forms the base of most food chains, and converts light energy to chemical energy."}],Genetics:[{id:1,front:"What is DNA?",back:"Deoxyribonucleic acid - the hereditary material in living organisms. Double helix structure with four bases: A, T, G, C. A pairs with T, G pairs with C."},{id:2,front:"What is the central dogma of molecular biology?",back:"DNA  RNA  Protein. Information flows from DNA (genes) to RNA (transcription) to proteins (translation). This is how genes control traits."},{id:3,front:"What is the difference between genotype and phenotype?",back:"Genotype: The genetic makeup (actual genes/alleles). Phenotype: The observable characteristics (what you see). Example: Bb is genotype, brown eyes is phenotype."},{id:4,front:"What is a mutation?",back:"A change in the DNA sequence. Can be beneficial, harmful, or neutral. Types include point mutations, insertions, deletions, and chromosomal changes."}],"Poetry Analysis":[{id:1,front:"What is a metaphor?",back:"A direct comparison between two unlike things without using 'like' or 'as'. Example: 'Life is a journey' - comparing life to a journey to show life's progression and challenges."},{id:2,front:"What is the difference between a simile and a metaphor?",back:"A simile uses 'like' or 'as' to compare (e.g., 'brave as a lion'), while a metaphor makes a direct comparison without these words (e.g., 'he is a lion in battle')."},{id:3,front:"What is iambic pentameter?",back:"A rhythmic pattern with 5 iambs per line (10 syllables total), where each iamb has an unstressed syllable followed by a stressed one. Common in Shakespeare's sonnets."},{id:4,front:"What makes a sonnet?",back:"A 14-line poem with a specific rhyme scheme. Shakespearean sonnets follow ABAB CDCD EFEF GG pattern, while Petrarchan sonnets use ABBAABBA CDECDE or similar."}],"World War I":[{id:1,front:"What were the main causes of World War I?",back:"MAIN causes: Militarism (arms race), Alliances (entangling agreements), Imperialism (competition for colonies), Nationalism (ethnic tensions). The immediate trigger was Archduke Franz Ferdinand's assassination."},{id:2,front:"What was trench warfare?",back:"A type of combat where opposing armies fought from networks of trenches. Characterized by stalemate, terrible conditions, high casualties for little territorial gain. Dominated the Western Front."},{id:3,front:"What was the Treaty of Versailles?",back:"The 1919 peace treaty ending WWI. Imposed harsh terms on Germany: war guilt clause, massive reparations, military restrictions, territorial losses. Created resentment that contributed to WWII."},{id:4,front:"How did WWI end?",back:"Germany signed an armistice on November 11, 1918, at 11 AM. This ended fighting, followed by peace negotiations. The war officially ended with various treaties, primarily the Treaty of Versailles in 1919."}],"Physical Geography":[{id:1,front:"What is plate tectonics?",back:"The theory that Earth's outer shell consists of large moving plates. These plates interact at boundaries, causing earthquakes, volcanoes, and mountain formation. Explains continental drift and seafloor spreading."},{id:2,front:"What are the three main types of rocks?",back:"1) Igneous (formed from cooled magma/lava), 2) Sedimentary (formed from compressed sediments), 3) Metamorphic (existing rocks changed by heat/pressure). They cycle through the rock cycle."},{id:3,front:"What causes different climate zones?",back:"Mainly latitude (distance from equator), which affects sun angle and solar energy received. Also influenced by altitude, ocean currents, distance from water bodies, and topography."},{id:4,front:"What is erosion vs. weathering?",back:"Weathering is the breakdown of rocks in place (chemical or physical). Erosion is the transport of weathered material by wind, water, ice, or gravity. Both shape Earth's surface over time."}],"Supply and Demand":[{id:1,front:"What is the law of demand?",back:"As price increases, quantity demanded decreases (and vice versa), all else being equal. This creates a downward-sloping demand curve, reflecting consumer behavior and purchasing power."},{id:2,front:"What is the law of supply?",back:"As price increases, quantity supplied increases (and vice versa), all else being equal. This creates an upward-sloping supply curve, as higher prices incentivize more production."},{id:3,front:"What is market equilibrium?",back:"The point where quantity demanded equals quantity supplied, determining market price and quantity. At equilibrium, there's no shortage or surplus - the market clears."},{id:4,front:"What is price elasticity of demand?",back:"Measures how responsive quantity demanded is to price changes. Elastic demand (>1) means large quantity changes from small price changes. Inelastic demand (<1) means small quantity changes."}],"Programming Basics":[{id:1,front:"What is a variable?",back:"A named storage location that holds data. Variables can store different types of data (numbers, text, etc.) and their values can change during program execution. Example: age = 25"},{id:2,front:"What is the difference between = and == in programming?",back:"= is assignment (assigns a value to a variable). == is comparison (checks if two values are equal). Example: x = 5 assigns 5 to x, while x == 5 checks if x equals 5."},{id:3,front:"What is a loop?",back:"A programming construct that repeats a block of code. Common types: for loops (known number of iterations), while loops (condition-based), do-while loops (executes at least once)."},{id:4,front:"What is debugging?",back:"The process of finding and fixing errors in code. Involves identifying bugs (logic errors, syntax errors, runtime errors), understanding their causes, and implementing corrections."}],"Cognitive Psychology":[{id:1,front:"What is working memory?",back:"A limited-capacity system for temporarily holding and processing information. Includes the central executive (control), phonological loop (verbal), and visuospatial sketchpad (visual). Capacity ~72 items."},{id:2,front:"What is selective attention?",back:"The ability to focus on relevant information while filtering out irrelevant stimuli. Example: cocktail party effect - hearing your name in a crowded room despite focusing on a conversation."},{id:3,front:"What are schemas in psychology?",back:"Mental frameworks that organize knowledge and guide information processing. Help interpret new experiences based on existing knowledge, but can also lead to biases and stereotypes."},{id:4,front:"What is the difference between recognition and recall?",back:"Recognition: identifying previously learned information when presented (multiple choice). Recall: retrieving information from memory without cues (essay questions). Recognition is typically easier."}]},Lge=({subject:t})=>{const[e,s]=E.useState(""),[n,a]=E.useState(null),[i,o]=E.useState(0),[l,c]=E.useState({}),[d,u]=E.useState(!1),[h,m]=E.useState(!1),[f,x]=E.useState(!1),[A,g]=E.useState(0),[b,w]=E.useState("medium");E.useEffect(()=>{let O;return f&&A>0&&!d&&(O=setInterval(()=>{g(Q=>Q<=1?(_(),0):Q-1)},1e3)),()=>clearInterval(O)},[f,A,d]);const v=async()=>{if(e){m(!0);try{const O=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"quiz",difficulty:b,questionCount:10})});if(O.ok){const Q=await O.json();a(Q.content)}else a(xO[e]||P(e));o(0),c({}),u(!1),x(!1),g(0),j("quiz")}catch(O){console.error("Error generating quiz:",O),a(xO[e]||P(e))}finally{m(!1)}}},j=async O=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:O,timeSpent:Math.floor(Math.random()*30)+15,completed:d})})}catch(Q){console.error("Error logging activity:",Q)}},N=()=>{x(!0),g(n.timeLimit*60),o(0),c({}),u(!1)},S=(O,Q)=>{d||c(ee=>({...ee,[O]:Q}))},T=()=>{i<n.questions.length-1&&o(i+1)},I=()=>{i>0&&o(i-1)},_=()=>{u(!0),x(!1),g(0)},M=()=>{let O=0;return n.questions.forEach((Q,ee)=>{l[ee]===Q.correctAnswer&&O++}),{correct:O,total:n.questions.length,percentage:Math.round(O/n.questions.length*100)}},C=()=>{o(0),c({}),u(!1),x(!1),g(0)},B=O=>{const Q=Math.floor(O/60),ee=O%60;return`${Q}:${ee.toString().padStart(2,"0")}`},P=O=>({title:`${O} Quiz`,description:`Test your knowledge on ${O}`,timeLimit:15,questions:[{id:1,question:`What is the main concept behind ${O}?`,options:["Option A - Basic understanding","Option B - Advanced application","Option C - Fundamental principles","Option D - Complex theories"],correctAnswer:2,explanation:`${O} is based on fundamental principles that form the foundation of the subject.`}]}),H=O=>O>=90?"text-green-600 bg-green-50":O>=75?"text-blue-600 bg-blue-50":O>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50";if(!n)return r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[r.jsx(Fr,{className:"w-7 h-7 mr-3"}),"AI Quiz Generator"]}),r.jsx("p",{className:"text-red-100 mt-1",children:"Test your knowledge with AI-generated questions"})]}),r.jsx("div",{className:"bg-red-400 p-3 rounded-xl",children:r.jsx(Vs,{className:"w-8 h-8"})})]})}),r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Your Quiz"}),r.jsx("p",{className:"text-gray-600",children:"Select a topic and difficulty level to generate a personalized quiz"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic"}),r.jsxs("select",{value:e,onChange:O=>s(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((O,Q)=>r.jsx("option",{value:O,children:O},Q))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),r.jsx("div",{className:"grid grid-cols-3 gap-3",children:["easy","medium","hard"].map(O=>r.jsx("button",{onClick:()=>w(O),className:`p-3 rounded-lg border-2 font-medium capitalize transition-colors ${b===O?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:O},O))})]}),r.jsx("button",{onClick:v,disabled:!e||h,className:"px-8 py-4 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 mx-auto",children:h?r.jsxs(r.Fragment,{children:[r.jsx(Vn,{className:"w-5 h-5 animate-spin"}),r.jsx("span",{children:"Generating Quiz..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(rh,{className:"w-5 h-5"}),r.jsx("span",{children:"Generate Quiz"})]})})]}),r.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(kn,{className:"w-6 h-6 text-red-600"})}),r.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Adaptive Questions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Questions tailored to your learning level"})]}),r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(fr,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Timed Challenges"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Improve your speed and accuracy"})]}),r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(pn,{className:"w-6 h-6 text-green-600"})}),r.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Instant Feedback"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Detailed explanations for each answer"})]})]})]})})]})});if(d){const O=M();return r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:`p-6 text-white ${O.percentage>=75?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-red-500 to-pink-600"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx(Fl,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Quiz Complete!"}),r.jsx("p",{className:"text-lg opacity-90",children:O.percentage>=90?"Excellent work!":O.percentage>=75?"Great job!":O.percentage>=60?"Good effort!":"Keep practicing!"})]})}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:`text-center p-6 rounded-xl ${H(O.percentage)}`,children:[r.jsxs("div",{className:"text-3xl font-bold mb-2",children:[O.percentage,"%"]}),r.jsx("p",{className:"font-medium",children:"Final Score"})]}),r.jsxs("div",{className:"text-center p-6 rounded-xl bg-blue-50",children:[r.jsx("div",{className:"text-3xl font-bold mb-2 text-blue-600",children:O.correct}),r.jsx("p",{className:"font-medium text-blue-800",children:"Correct Answers"})]}),r.jsxs("div",{className:"text-center p-6 rounded-xl bg-gray-50",children:[r.jsx("div",{className:"text-3xl font-bold mb-2 text-gray-600",children:O.total-O.correct}),r.jsx("p",{className:"font-medium text-gray-800",children:"Incorrect Answers"})]})]}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Review Your Answers"}),n.questions.map((Q,ee)=>{const q=l[ee],Z=q===Q.correctAnswer;return r.jsx("div",{className:`p-4 rounded-lg border-2 ${Z?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[Z?r.jsx(Fr,{className:"w-5 h-5 text-green-600 mt-1"}):r.jsx(ks,{className:"w-5 h-5 text-red-600 mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-medium text-gray-800 mb-2",children:[ee+1,". ",Q.question]}),r.jsx("div",{className:"space-y-1 mb-3",children:Q.options.map((F,z)=>r.jsxs("div",{className:`text-sm p-2 rounded ${z===Q.correctAnswer?"bg-green-100 text-green-800 font-medium":z===q&&!Z?"bg-red-100 text-red-800":"text-gray-600"}`,children:[F,z===Q.correctAnswer&&" ",z===q&&z!==Q.correctAnswer&&" "]},z))}),Q.explanation&&r.jsxs("div",{className:"text-sm text-gray-600 bg-white p-3 rounded border",children:[r.jsx("strong",{children:"Explanation:"})," ",Q.explanation]})]})]})},ee)})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs("button",{onClick:C,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(Ro,{className:"w-4 h-4"}),r.jsx("span",{children:"Retake Quiz"})]}),r.jsxs("button",{onClick:()=>a(null),className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(Hr,{className:"w-4 h-4"}),r.jsx("span",{children:"New Topic"})]})]})]})]})})}if(!f)return r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-6 text-white",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.title}),r.jsx("p",{className:"text-red-100",children:n.description})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx(Hr,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("div",{className:"font-bold text-lg text-blue-800",children:n.questions.length}),r.jsx("p",{className:"text-blue-600 text-sm",children:"Questions"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx(fr,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("div",{className:"font-bold text-lg text-green-800",children:n.timeLimit}),r.jsx("p",{className:"text-green-600 text-sm",children:"Minutes"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx(kn,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),r.jsx("div",{className:"font-bold text-lg text-purple-800 capitalize",children:b}),r.jsx("p",{className:"text-purple-600 text-sm",children:"Difficulty"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Ready to Start?"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["You'll have ",n.timeLimit," minutes to complete ",n.questions.length," questions. Make sure you're in a quiet environment and ready to focus."]}),r.jsxs("button",{onClick:N,className:"px-8 py-4 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-pink-700 transition-colors flex items-center justify-center space-x-2 mx-auto",children:[r.jsx(fs,{className:"w-5 h-5"}),r.jsx("span",{children:"Start Quiz"})]})]})]})]})});const D=n.questions[i],G=(i+1)/n.questions.length*100;return r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-4 text-white",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold",children:n.title}),r.jsxs("p",{className:"text-red-100 text-sm",children:["Question ",i+1," of ",n.questions.length]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold",children:B(A)}),r.jsx("p",{className:"text-red-100 text-sm",children:"Time Remaining"})]})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"w-full bg-red-400 rounded-full h-2",children:r.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${G}%`}})})})]}),r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-6",children:D.question}),r.jsx("div",{className:"space-y-3",children:D.options.map((O,Q)=>r.jsx("button",{onClick:()=>S(i,Q),className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${l[i]===Q?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l[i]===Q?"border-red-500 bg-red-500":"border-gray-300"}`,children:l[i]===Q&&r.jsx(Fr,{className:"w-3 h-3 text-white"})}),r.jsxs("span",{className:"font-medium",children:[String.fromCharCode(65+Q),"."]}),r.jsx("span",{children:O})]})},Q))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{onClick:I,disabled:i===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(ru,{className:"w-4 h-4"}),r.jsx("span",{children:"Previous"})]}),r.jsx("div",{className:"flex space-x-4",children:i===n.questions.length-1?r.jsx("button",{onClick:_,className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:"Submit Quiz"}):r.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium",children:[r.jsx("span",{children:"Next"}),r.jsx(ra,{className:"w-4 h-4"})]})})]}),r.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:n.questions.map((O,Q)=>r.jsx("button",{onClick:()=>o(Q),className:`w-3 h-3 rounded-full transition-colors ${Q===i?"bg-red-500":l[Q]!==void 0?"bg-green-500":"bg-gray-300 hover:bg-gray-400"}`},Q))})]})]})})},xO={Algebra:{title:"Algebra Mastery Quiz",description:"Test your understanding of algebraic concepts",timeLimit:15,questions:[{id:1,question:"What is the value of x in the equation 2x + 5 = 15?",options:["x = 5","x = 10","x = 7.5","x = 20"],correctAnswer:0,explanation:"Subtract 5 from both sides: 2x = 10, then divide by 2: x = 5"},{id:2,question:"Which property is demonstrated by a(b + c) = ab + ac?",options:["Commutative Property","Associative Property","Distributive Property","Identity Property"],correctAnswer:2,explanation:"The distributive property allows you to multiply a term by each term inside parentheses"},{id:3,question:"What are like terms?",options:["Terms with the same coefficient","Terms with the same variables and exponents","Terms that are equal","Terms in the same equation"],correctAnswer:1,explanation:"Like terms have identical variables raised to the same powers, allowing them to be combined"},{id:4,question:"Solve for y: 3y - 7 = 2y + 5",options:["y = 12","y = -2","y = 2","y = -12"],correctAnswer:0,explanation:"Subtract 2y from both sides: y - 7 = 5, then add 7: y = 12"},{id:5,question:"What is the slope of the line y = -3x + 4?",options:["3","-3","4","-4"],correctAnswer:1,explanation:"In slope-intercept form y = mx + b, the coefficient of x (m) is the slope"}]},Geometry:{title:"Geometry Knowledge Quiz",description:"Test your spatial reasoning and geometric principles",timeLimit:20,questions:[{id:1,question:"In a right triangle with legs of 3 and 4, what is the length of the hypotenuse?",options:["5","7","25","12"],correctAnswer:0,explanation:"Using Pythagorean theorem: 3 + 4 = 9 + 16 = 25, so c = 25 = 5"},{id:2,question:"What is the sum of interior angles in any triangle?",options:["90","180","360","270"],correctAnswer:1,explanation:"The sum of interior angles in any triangle is always 180"},{id:3,question:"What is the area of a circle with radius 6?",options:["36","12","6","18"],correctAnswer:0,explanation:"Area = r = (6) = 36"},{id:4,question:"How many sides does a hexagon have?",options:["5","6","7","8"],correctAnswer:1,explanation:"A hexagon is a polygon with 6 sides"},{id:5,question:"What makes two triangles congruent?",options:["Same area","Same perimeter","Same corresponding sides and angles","Same shape"],correctAnswer:2,explanation:"Congruent triangles have all corresponding sides and angles equal"}]},Trigonometry:{title:"Trigonometry Challenge",description:"Master the relationships between angles and sides",timeLimit:25,questions:[{id:1,question:"What does SOH in SOH-CAH-TOA stand for?",options:["Sine = Opposite/Hypotenuse","Sine = Opposite/Height","Side = Opposite/Hypotenuse","Sum = Opposite/Hypotenuse"],correctAnswer:0,explanation:"SOH means Sine = Opposite/Hypotenuse in a right triangle"},{id:2,question:"What is sin(30)?",options:["1/2","3/2","2/2","1"],correctAnswer:0,explanation:"sin(30) = 1/2, one of the common angle values"},{id:3,question:"What is the Pythagorean identity?",options:["sin + cos = 1","sin - cos = 1","sin + cos = 1","sin  cos = 1"],correctAnswer:0,explanation:"The fundamental trigonometric identity: sin + cos = 1"},{id:4,question:"What is the period of the sine function?",options:["","2","/2","4"],correctAnswer:1,explanation:"The sine function repeats every 2 radians (360)"},{id:5,question:"In which quadrant are both sine and cosine positive?",options:["Quadrant I","Quadrant II","Quadrant III","Quadrant IV"],correctAnswer:0,explanation:"In Quadrant I (0 to 90), both sine and cosine values are positive"}]},Mechanics:{title:"Physics Mechanics Quiz",description:"Test your knowledge of motion and forces",timeLimit:18,questions:[{id:1,question:"What is Newton's First Law of Motion?",options:["F = ma","Objects at rest stay at rest unless acted upon by force","For every action, there is an equal and opposite reaction","Energy cannot be created or destroyed"],correctAnswer:1,explanation:"Newton's First Law states that objects at rest stay at rest, and objects in motion stay in motion, unless acted upon by a net external force"},{id:2,question:"What is the formula for kinetic energy?",options:["KE = mgh","KE = mv","KE = mv","KE = mv"],correctAnswer:1,explanation:"Kinetic energy is the energy of motion: KE = mv"},{id:3,question:"What is acceleration?",options:["Rate of change of position","Rate of change of velocity","Rate of change of force","Rate of change of energy"],correctAnswer:1,explanation:"Acceleration is the rate of change of velocity with respect to time"},{id:4,question:"What is the difference between mass and weight?",options:["No difference","Mass is heavier than weight","Mass is constant, weight depends on gravity","Weight is constant, mass depends on gravity"],correctAnswer:2,explanation:"Mass is the amount of matter (constant), while weight is the gravitational force acting on that mass"},{id:5,question:"What is the acceleration due to gravity on Earth?",options:["9.8 m/s","10 m/s","8.9 m/s","9.8 m/s"],correctAnswer:0,explanation:"The acceleration due to gravity on Earth is approximately 9.8 m/s"}]},Photosynthesis:{title:"Photosynthesis Quiz",description:"Understand how plants convert light into energy",timeLimit:15,questions:[{id:1,question:"What is the overall equation for photosynthesis?",options:["6CO + 6HO + light  CHO + 6O","CHO + 6O  6CO + 6HO + ATP","CO + HO  glucose","Light + water  oxygen"],correctAnswer:0,explanation:"The complete photosynthesis equation shows reactants (CO + HO + light energy) producing glucose and oxygen"},{id:2,question:"Where do the light reactions occur?",options:["Stroma","Thylakoid membranes","Cell wall","Nucleus"],correctAnswer:1,explanation:"Light reactions occur in the thylakoid membranes of chloroplasts"},{id:3,question:"What is produced in the Calvin cycle?",options:["Oxygen","Water","Glucose","Light energy"],correctAnswer:2,explanation:"The Calvin cycle (dark reactions) produces glucose using CO and energy from light reactions"},{id:4,question:"What pigment is primarily responsible for photosynthesis?",options:["Chlorophyll a","Chlorophyll b","Carotenoids","Anthocyanins"],correctAnswer:0,explanation:"Chlorophyll a is the primary pigment that captures light energy for photosynthesis"},{id:5,question:"Which factor does NOT directly affect photosynthesis rate?",options:["Light intensity","CO concentration","Temperature","Soil pH"],correctAnswer:3,explanation:"While soil pH affects plant health, it doesn't directly impact the rate of photosynthesis like light, CO, and temperature do"}]},"Poetry Analysis":{title:"Literature & Poetry Quiz",description:"Test your understanding of literary analysis and poetry",timeLimit:20,questions:[{id:1,question:"What is the difference between a metaphor and a simile?",options:["No difference",`Metaphors use "like" or "as", similes don't`,`Similes use "like" or "as", metaphors don't`,"Metaphors are longer than similes"],correctAnswer:2,explanation:'Similes make comparisons using "like" or "as" (e.g., "brave as a lion"), while metaphors make direct comparisons without these words (e.g., "he is a lion")'},{id:2,question:"How many lines does a traditional sonnet have?",options:["12","14","16","18"],correctAnswer:1,explanation:"A sonnet is a 14-line poem with specific rhyme schemes, popularized by Shakespeare and Petrarch"},{id:3,question:"What is iambic pentameter?",options:["5 stressed syllables per line","10 syllables with unstressed-stressed pattern","5 rhyming words per line","10 lines per stanza"],correctAnswer:1,explanation:"Iambic pentameter has 10 syllables per line in an unstressed-stressed pattern, creating 5 iambic feet"},{id:4,question:"What literary device gives human characteristics to non-human things?",options:["Metaphor","Alliteration","Personification","Symbolism"],correctAnswer:2,explanation:'Personification attributes human qualities to non-human entities, like "the wind whispered"'}]},"World War I":{title:"World War I History Quiz",description:"Test your knowledge of the Great War",timeLimit:18,questions:[{id:1,question:"What event is considered the immediate trigger of World War I?",options:["Sinking of Lusitania","German invasion of Belgium","Assassination of Archduke Franz Ferdinand","Russian Revolution"],correctAnswer:2,explanation:"The assassination of Archduke Franz Ferdinand of Austria-Hungary in Sarajevo on June 28, 1914, triggered the war"},{id:2,question:"What were the MAIN causes of WWI?",options:["Militarism, Alliances, Imperialism, Nationalism","Money, Arms, Industry, Nations","Monarchy, Artillery, Infantry, Navy","Markets, Agriculture, Immigration, Navy"],correctAnswer:0,explanation:"MAIN stands for Militarism, Alliances, Imperialism, and Nationalism - the four main underlying causes of WWI"},{id:3,question:"What characterized trench warfare?",options:["Quick decisive battles","Stalemate and high casualties","Naval supremacy","Aerial combat"],correctAnswer:1,explanation:"Trench warfare led to stalemate on the Western Front, with high casualties for minimal territorial gains"},{id:4,question:"When did World War I end?",options:["November 11, 1917","November 11, 1918","December 25, 1918","January 1, 1919"],correctAnswer:1,explanation:"The armistice was signed on November 11, 1918, at 11 AM, ending the fighting in WWI"}]},"Physical Geography":{title:"Physical Geography Quiz",description:"Test your knowledge of Earth's physical features and processes",timeLimit:16,questions:[{id:1,question:"What theory explains continental drift?",options:["Plate tectonics","Rock cycle","Water cycle","Climate theory"],correctAnswer:0,explanation:"Plate tectonics theory explains how Earth's lithosphere moves, causing continental drift, earthquakes, and volcanism"},{id:2,question:"What are the three main types of rocks?",options:["Hard, soft, medium","Igneous, sedimentary, metamorphic","Old, new, recycled","Surface, underground, underwater"],correctAnswer:1,explanation:"The three rock types are igneous (from magma), sedimentary (from layers), and metamorphic (changed by heat/pressure)"},{id:3,question:"What primarily determines climate zones?",options:["Ocean currents","Mountain ranges","Latitude","Vegetation"],correctAnswer:2,explanation:"Latitude (distance from equator) primarily determines climate by affecting the angle and intensity of solar radiation"},{id:4,question:"What is the difference between weathering and erosion?",options:["No difference","Weathering breaks down rock, erosion moves it","Erosion breaks down rock, weathering moves it","Weathering is faster than erosion"],correctAnswer:1,explanation:"Weathering breaks down rocks in place, while erosion transports the weathered material to new locations"}]},"Supply and Demand":{title:"Economics: Supply & Demand Quiz",description:"Test your understanding of market forces",timeLimit:15,questions:[{id:1,question:"According to the law of demand, what happens when price increases?",options:["Quantity demanded increases","Quantity demanded decreases","Demand increases","Supply decreases"],correctAnswer:1,explanation:"The law of demand states that as price increases, quantity demanded decreases, all else being equal"},{id:2,question:"What is market equilibrium?",options:["When supply equals zero","When demand equals zero","When quantity supplied equals quantity demanded","When prices are fixed"],correctAnswer:2,explanation:"Market equilibrium occurs where quantity supplied equals quantity demanded, determining the market price"},{id:3,question:"What does elastic demand mean?",options:["Demand changes little with price changes","Demand changes significantly with price changes","Demand never changes","Demand is unpredictable"],correctAnswer:1,explanation:"Elastic demand means consumers are very responsive to price changes, causing large changes in quantity demanded"},{id:4,question:"What shifts the demand curve to the right?",options:["Decrease in consumer income","Increase in price","Increase in consumer income","Decrease in population"],correctAnswer:2,explanation:"An increase in consumer income typically shifts the demand curve right, increasing demand at all price levels"}]},"Programming Basics":{title:"Computer Science Fundamentals Quiz",description:"Test your basic programming knowledge",timeLimit:17,questions:[{id:1,question:"What is the difference between = and == in programming?",options:["No difference","= assigns, == compares","= compares, == assigns","Both assign values"],correctAnswer:1,explanation:"= is the assignment operator (assigns values), while == is the comparison operator (checks equality)"},{id:2,question:"What is a loop in programming?",options:["A bug in code","A repeated block of code","A type of variable","A programming language"],correctAnswer:1,explanation:"A loop is a programming construct that repeats a block of code multiple times based on conditions"},{id:3,question:"What are the main data types in most programming languages?",options:["Big, small, medium","Integer, string, boolean, float","Fast, slow, normal","Input, output, process"],correctAnswer:1,explanation:"Common data types include integer (whole numbers), string (text), boolean (true/false), and float (decimals)"},{id:4,question:"What is debugging?",options:["Writing new code","Deleting code","Finding and fixing errors","Running code"],correctAnswer:2,explanation:"Debugging is the process of finding, analyzing, and fixing bugs (errors) in computer programs"}]},"Cognitive Psychology":{title:"Psychology: Cognitive Processes Quiz",description:"Test your knowledge of how the mind works",timeLimit:19,questions:[{id:1,question:"What is working memory?",options:["Long-term storage of memories","Temporary storage and processing system","Muscle memory","Subconscious memory"],correctAnswer:1,explanation:"Working memory temporarily holds and manipulates information for cognitive tasks, with limited capacity (~72 items)"},{id:2,question:"What is selective attention?",options:["Paying attention to everything","Focusing on specific information while filtering distractions","Short attention span","Inability to focus"],correctAnswer:1,explanation:"Selective attention is the ability to focus on relevant information while ignoring irrelevant stimuli"},{id:3,question:"What is the difference between recognition and recall?",options:["No difference","Recognition identifies, recall retrieves from memory","Recall identifies, recognition retrieves","Both are the same process"],correctAnswer:1,explanation:"Recognition involves identifying previously learned information when presented; recall involves retrieving information from memory without cues"},{id:4,question:"What are schemas in psychology?",options:["Memory disorders","Mental frameworks for organizing knowledge","Types of therapy","Brain structures"],correctAnswer:1,explanation:"Schemas are cognitive frameworks that help organize and interpret information based on prior knowledge and experience"}]}},AO=()=>{var m;const[t,e]=E.useState(null),[s,n]=E.useState(null),[a,i]=E.useState([]),[o,l]=E.useState([]),[c,d]=E.useState(!0);E.useEffect(()=>{u()},[]);const u=async()=>{try{d(!0);const f="mock-student-id",[x,A,g]=await Promise.all([fetch(`/api/student-ai-learning/courses/${f}`),fetch(`/api/student-ai-learning/progress/${f}`),fetch(`/api/student-ai-learning/recommendations/${f}`)]);if(x.ok){const b=await x.json();i(b)}else i(gO);if(A.ok){const b=await A.json();n(b)}else n(bO);if(g.ok){const b=await g.json();l(b)}else l(yO)}catch(f){console.error("Error fetching learning data:",f),i(gO),n(bO),l(yO)}finally{d(!1)}},h=f=>{const x={blue:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",green:"from-green-500 to-green-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"};return x[f]||x.blue};return c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vs,{className:"w-16 h-16 text-blue-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading your AI Learning Dashboard..."})]})}):t?r.jsx(Dge,{subject:t,onBack:()=>e(null)}):r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 mb-6 text-white shadow-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[r.jsx(Vs,{className:"w-8 h-8 mr-3"}),"AI Learning Center"]}),r.jsx("p",{className:"text-blue-100 text-lg",children:"Personalized learning powered by artificial intelligence"})]}),r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"bg-blue-500 px-6 py-3 rounded-xl",children:[r.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.currentStreak)||0}),r.jsx("p",{className:"text-sm text-blue-100",children:"Day Streak"})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Topics Studied"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.totalTopicsStudied)||0})]}),r.jsx(Hr,{className:"w-8 h-8 text-blue-500"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Completed Courses"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:(s==null?void 0:s.completedCourses)||0})]}),r.jsx(pn,{className:"w-8 h-8 text-green-500"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Weekly Progress"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(s==null?void 0:s.weeklyProgress)||0,"/",(s==null?void 0:s.weeklyGoal)||5]})]}),r.jsx(kn,{className:"w-8 h-8 text-purple-500"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Learning Streak"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(s==null?void 0:s.currentStreak)||0," days"]})]}),r.jsx(ds,{className:"w-8 h-8 text-orange-500"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[r.jsx(rh,{className:"w-6 h-6 mr-2 text-yellow-500"}),"AI-Powered Learning"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(f=>{var x,A,g,b;return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:`h-2 bg-gradient-to-r ${h(f.color)}`}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f.name}),r.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${h(f.color)} bg-opacity-10`,children:r.jsx(Hr,{className:`w-5 h-5 text-${f.color}-600`})})]}),r.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:f.description}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[((A=(x=s==null?void 0:s.subjectProgress)==null?void 0:x[f.name])==null?void 0:A.percentage)||0,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${h(f.color)}`,style:{width:`${((b=(g=s==null?void 0:s.subjectProgress)==null?void 0:g[f.name])==null?void 0:b.percentage)||0}%`}})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.topics.slice(0,3).map((w,v)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:w},v)),f.topics.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",f.topics.length-3," more"]})]}),r.jsxs("button",{onClick:()=>e(f),className:`w-full py-3 px-4 bg-gradient-to-r ${h(f.color)} text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center space-x-2 font-medium`,children:[r.jsx(Pi,{className:"w-4 h-4"}),r.jsx("span",{children:"Start Learning"})]})]})]},f.id)})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(Z1,{className:"w-5 h-5 mr-2 text-yellow-500"}),"AI Recommendations"]})}),r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"space-y-4",children:o.map(f=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:f.title}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.type==="review"?"bg-red-100 text-red-700":f.type==="preview"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:f.type})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:f.reason}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[r.jsx(fr,{className:"w-3 h-3"}),r.jsxs("span",{children:[f.estimatedTime," min"]}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:f.difficulty})]}),r.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-xs font-medium",children:"Start "})]})]},f.id))})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(ma,{className:"w-5 h-5 mr-2 text-green-500"}),"Recent Activity"]})}),r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"space-y-3",children:(m=s==null?void 0:s.recentActivity)==null?void 0:m.map((f,x)=>r.jsxs("div",{className:"flex items-center space-x-3 p-2",children:[r.jsxs("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:[f.type==="summary"&&r.jsx(Vu,{className:"w-4 h-4 text-blue-600"}),f.type==="mindmap"&&r.jsx(Tf,{className:"w-4 h-4 text-blue-600"}),f.type==="quiz"&&r.jsx(Fr,{className:"w-4 h-4 text-blue-600"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800",children:f.topic}),r.jsx("p",{className:"text-xs text-gray-500",children:f.subject})]}),r.jsx("div",{className:"text-xs text-gray-400",children:new Date(f.date).toLocaleDateString()})]},x))})})]})]})]})]})},Dge=({subject:t,onBack:e})=>{const[s,n]=E.useState("dashboard"),[a,i]=E.useState(null),o=[{id:"dashboard",name:"Dashboard",icon:ma,color:"blue"},{id:"summary",name:"AI Summary",icon:Vu,color:"green"},{id:"mindmap",name:"Mind Map",icon:Tf,color:"purple"},{id:"flashcards",name:"Flashcards",icon:fs,color:"yellow"},{id:"quiz",name:"AI Quiz",icon:Fr,color:"red"}],l=()=>{switch(s){case"summary":return r.jsx(Fge,{subject:t,topic:a});case"mindmap":return r.jsx(Pge,{subject:t,topic:a});case"flashcards":return r.jsx(Ige,{subject:t,topic:a});case"quiz":return r.jsx(Lge,{subject:t,topic:a});default:return r.jsx(Rge,{subject:t,onSelectTopic:c=>{i(c),n("summary")}})}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:`bg-gradient-to-r ${Oge(t.color)} p-6 text-white shadow-lg`,children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors",children:r.jsx(vg,{className:"w-5 h-5 rotate-180"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold",children:[t.name," Learning"]}),r.jsx("p",{className:"text-blue-100",children:"AI-powered interactive learning experience"})]})]})})}),r.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:r.jsx("div",{className:"flex space-x-8",children:o.map(c=>{const d=c.icon;return r.jsxs("button",{onClick:()=>n(c.id),className:`flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors ${s===c.id?`border-${c.color}-500 text-${c.color}-600`:"border-transparent text-gray-500 hover:text-gray-700"}`,children:[r.jsx(d,{className:"w-4 h-4"}),r.jsx("span",{children:c.name})]},c.id)})})}),r.jsx("div",{className:"p-6",children:l()})]})},Rge=({subject:t,onSelectTopic:e})=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Available Topics"}),r.jsx("div",{className:"space-y-2",children:t.topics.map((s,n)=>r.jsxs("button",{onClick:()=>e&&e(s),className:"w-full flex items-center justify-between p-2 hover:bg-blue-50 rounded-lg border border-transparent hover:border-blue-200 transition",children:[r.jsx("span",{className:"text-gray-700 text-left",children:s}),r.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600 text-sm",children:[r.jsx(Pi,{className:"w-3.5 h-3.5"}),"Start"]})]},n))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Learning Progress"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[r.jsx("span",{children:"Overall Progress"}),r.jsx("span",{children:"75%"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:"75%"}})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{className:"w-full text-left p-2 hover:bg-gray-50 rounded-lg flex items-center space-x-2",children:[r.jsx(Pi,{className:"w-4 h-4 text-blue-500"}),r.jsx("span",{children:"Continue Learning"})]}),r.jsxs("button",{className:"w-full text-left p-2 hover:bg-gray-50 rounded-lg flex items-center space-x-2",children:[r.jsx(Ro,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{children:"Review Previous"})]})]})]})]}),Oge=t=>{const e={blue:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",green:"from-green-500 to-green-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"};return e[t]||e.blue},gO=[{id:"math",name:"Mathematics",description:"Advanced mathematical concepts including algebra, geometry, and calculus",topics:["Algebra","Geometry","Trigonometry","Statistics","Probability","Calculus Basics"],color:"blue"},{id:"physics",name:"Physics",description:"Fundamental principles of physics including mechanics, electricity, and optics",topics:["Mechanics","Heat and Thermodynamics","Light","Sound","Electricity","Magnetism"],color:"purple"},{id:"chemistry",name:"Chemistry",description:"Explore the composition, structure, and properties of matter and chemical reactions",topics:["Atomic Structure","Chemical Bonding","Periodic Table","Stoichiometry","Organic Chemistry","Acids and Bases"],color:"green"},{id:"biology",name:"Biology",description:"Study of living organisms, their structure, function, and interactions",topics:["Cell Biology","Genetics","Photosynthesis","Evolution","Ecology","Human Anatomy"],color:"orange"},{id:"english",name:"English Literature",description:"Analyze literary works, improve writing skills, and master language arts",topics:["Poetry Analysis","Novel Studies","Grammar & Syntax","Creative Writing","Literary Devices","Essay Writing"],color:"red"},{id:"history",name:"History",description:"Explore historical events, civilizations, and their impact on the modern world",topics:["World War I","World War II","Ancient Civilizations","Industrial Revolution","Cold War","Renaissance"],color:"blue"},{id:"geography",name:"Geography",description:"Study the Earth's landscapes, environments, and spatial relationships",topics:["Physical Geography","Climate Change","Population Studies","Natural Resources","Cartography","Urban Planning"],color:"green"},{id:"economics",name:"Economics",description:"Understand economic principles, markets, and financial systems",topics:["Supply and Demand","Market Structures","Macroeconomics","International Trade","Banking Systems","Economic Policy"],color:"purple"},{id:"computer-science",name:"Computer Science",description:"Learn programming, algorithms, and computational thinking",topics:["Programming Basics","Data Structures","Algorithms","Web Development","Database Systems","Artificial Intelligence"],color:"orange"},{id:"psychology",name:"Psychology",description:"Explore human behavior, mental processes, and psychological theories",topics:["Cognitive Psychology","Behavioral Psychology","Developmental Psychology","Social Psychology","Research Methods","Mental Health"],color:"red"}],bO={totalTopicsStudied:45,completedCourses:6,currentStreak:7,weeklyGoal:5,weeklyProgress:4,subjectProgress:{Mathematics:{completed:15,total:20,percentage:75},Physics:{completed:8,total:15,percentage:53},Chemistry:{completed:12,total:18,percentage:67},Biology:{completed:10,total:16,percentage:63},"English Literature":{completed:14,total:20,percentage:70},History:{completed:9,total:15,percentage:60},Geography:{completed:7,total:12,percentage:58},Economics:{completed:6,total:14,percentage:43},"Computer Science":{completed:8,total:18,percentage:44},Psychology:{completed:5,total:12,percentage:42}},recentActivity:[{topic:"Quadratic Equations",subject:"Mathematics",date:new Date,type:"summary"},{topic:"Laws of Motion",subject:"Physics",date:new Date(Date.now()-864e5),type:"mindmap"},{topic:"Chemical Bonding",subject:"Chemistry",date:new Date(Date.now()-1728e5),type:"flashcards"},{topic:"Cell Division",subject:"Biology",date:new Date(Date.now()-2592e5),type:"quiz"},{topic:"Shakespeare Analysis",subject:"English Literature",date:new Date(Date.now()-3456e5),type:"summary"}]},yO=[{id:1,title:"Review Quadratic Functions",subject:"Mathematics",reason:"You struggled with this topic in recent assignments",difficulty:"medium",estimatedTime:30,type:"review"}],g_="http://localhost:5000";function Uge(){const[t,e]=E.useState([]),[s,n]=E.useState(0),[a,i]=E.useState(1),[o]=E.useState(12),[l,c]=E.useState(!1),[d,u]=E.useState(null),[h,m]=E.useState(""),[f,x]=E.useState(""),[A,g]=E.useState(""),[b,w]=E.useState(""),[v,j]=E.useState(null),[N,S]=E.useState([]),[T,I]=E.useState(""),[_,M]=E.useState(!1),[C,B]=E.useState("problems"),[P,H]=E.useState([]),[D,G]=E.useState(""),[O,Q]=E.useState(""),[ee,q]=E.useState("medium"),[Z,F]=E.useState(!1),[z,V]=E.useState(!1),W=async()=>{c(!0),u(null);try{const se=new URLSearchParams;h&&se.append("subject",h),f&&se.append("chapter",f),A&&se.append("difficulty",A),b&&se.append("q",b),se.append("page",String(a)),se.append("limit",String(o));const J=await fetch(`${g_}/api/alcove/posts?${se.toString()}`);if(!J.ok)throw new Error("Failed to load posts");const Pe=await J.json();e(Pe.items||[]),n(Pe.total||0)}catch(se){u(se.message||"Error")}finally{c(!1)}};E.useEffect(()=>{W()},[h,f,A,b,a,o]);const ne=E.useMemo(()=>Array.from(new Set(t.map(se=>se.subject))).filter(Boolean),[t]),ie=E.useMemo(()=>Array.from(new Set(t.map(se=>se.chapter))).filter(Boolean),[t]),be=async se=>{j(se),S([]);try{const J=await fetch(`${g_}/api/alcove/posts/${se._id}/comments`);if(J.ok){const Pe=await J.json();S(Pe)}}catch{}},ue=async()=>{if(!(!v||!T.trim())){M(!0);try{const se=await fetch(`${g_}/api/alcove/posts/${v._id}/comments`,{method:"POST",headers:{"Content-Type":"application/json",...localStorage.getItem("token")?{Authorization:`Bearer ${localStorage.getItem("token")}`}:{}},body:JSON.stringify({text:T,authorName:localStorage.getItem("username")||void 0})});if(!se.ok)throw new Error("Failed to post comment");const J=await se.json();S(Pe=>[...Pe,J]),I("")}catch(se){alert(se.message||"Could not post comment")}finally{M(!1)}}},je=Math.max(1,Math.ceil(s/o));E.useEffect(()=>{C==="wall"&&H([{id:1,teacherName:"Prof. Sarah Johnson",teacherAvatar:"SJ",subject:"Mathematics",difficulty:"hard",content:"Looking for creative ways to explain quadratic equations to my Grade 10 students. Anyone have interactive methods that worked well? The traditional approach isn't clicking with this batch.",timestamp:new Date(Date.now()-7200*1e3),likes:12,comments:5,isLiked:!1},{id:2,teacherName:"Dr. Michael Chen",teacherAvatar:"MC",subject:"Physics",difficulty:"medium",content:"Just solved an interesting projectile motion problem involving a basketball shot. The trajectory calculation shows some beautiful parabolic curves. Would love to share this with the community!",timestamp:new Date(Date.now()-14400*1e3),likes:18,comments:8,isLiked:!0},{id:3,teacherName:"Ms. Emily Rodriguez",teacherAvatar:"ER",subject:"Chemistry",difficulty:"easy",content:"Created a simple experiment to demonstrate chemical reactions using household items. Students were amazed by the color changes! Perfect for remote learning setups.",timestamp:new Date(Date.now()-360*60*1e3),likes:25,comments:12,isLiked:!1},{id:4,teacherName:"Prof. David Kumar",teacherAvatar:"DK",subject:"Biology",difficulty:"medium",content:"Working on a challenging genetics problem involving multiple alleles and inheritance patterns. The Punnett squares are getting complex, but the results are fascinating!",timestamp:new Date(Date.now()-480*60*1e3),likes:15,comments:6,isLiked:!0},{id:5,teacherName:"Ms. Lisa Thompson",teacherAvatar:"LT",subject:"English",difficulty:"hard",content:"Exploring Shakespeare's use of metaphors in Hamlet. Found some incredible linguistic patterns that connect to modern literature. Anyone interested in collaborating on a cross-curricular approach?",timestamp:new Date(Date.now()-720*60*1e3),likes:20,comments:15,isLiked:!1}])},[C]);const Be=se=>{H(J=>J.map(Pe=>Pe.id===se?{...Pe,isLiked:!Pe.isLiked,likes:Pe.isLiked?Pe.likes-1:Pe.likes+1}:Pe))},oe=()=>{var J;if(!D.trim())return;V(!0);const se={id:Date.now(),teacherName:localStorage.getItem("username")||"Anonymous Teacher",teacherAvatar:(localStorage.getItem("username")||"AT")[0].toUpperCase()+((J=(localStorage.getItem("username")||"AT")[1])==null?void 0:J.toUpperCase())||"",subject:O||"General",difficulty:ee,content:D,timestamp:new Date,likes:0,comments:0,isLiked:!1};setTimeout(()=>{H(Pe=>[se,...Pe]),G(""),Q(""),q("medium"),F(!1),V(!1)},1e3)},lt=se=>{const Pe=Math.floor((new Date-se)/(1e3*60));return Pe<60?`${Pe}m ago`:Pe<1440?`${Math.floor(Pe/60)}h ago`:`${Math.floor(Pe/1440)}d ago`};return r.jsxs("div",{className:"w-full min-h-screen px-2 sm:px-4 md:px-8 py-4 sm:py-6",style:{background:"linear-gradient(135deg, #f3e8d7 0%, #e8dcc6 50%, #ddd0bb 100%)"},children:[r.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl p-6 sm:p-8 mb-6 overflow-hidden",style:{backgroundColor:"#fefcf8",border:"3px solid #8B7355"},children:[r.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-3",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Academic Alcove"}),r.jsx("div",{className:"w-32 h-1 bg-amber-600 mx-auto mb-4 rounded"}),r.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto leading-relaxed",style:{color:"#8B7355"},children:C==="problems"?"Discover challenging problems and detailed solutions curated by expert educators.":"Connect with fellow educators, share insights, and collaborate on academic challenges."}),r.jsx("div",{className:"flex justify-center mt-6",children:r.jsxs("div",{className:"bg-white rounded-full p-2 shadow-lg border-2",style:{borderColor:"#D97706"},children:[r.jsxs("button",{onClick:()=>B("problems"),className:`px-6 py-2 rounded-full font-semibold transition-all ${C==="problems"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-amber-700 hover:bg-amber-50"}`,children:[r.jsx(Hr,{className:"w-4 h-4 inline mr-2"}),"Problem Library"]}),r.jsxs("button",{onClick:()=>B("wall"),className:`px-6 py-2 rounded-full font-semibold transition-all ${C==="wall"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-amber-700 hover:bg-amber-50"}`,children:[r.jsx(mn,{className:"w-4 h-4 inline mr-2"}),"Teacher's Wall"]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4 border-2",style:{borderColor:"#F59E0B"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Total Problems"}),r.jsx("p",{className:"text-2xl font-bold text-amber-900",children:s||"---"})]}),r.jsx(Hr,{className:"w-8 h-8 text-amber-600"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl p-4 border-2",style:{borderColor:"#EAB308"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Expert Solutions"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:t.length||"---"})]}),r.jsx(pn,{className:"w-8 h-8 text-yellow-600"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-4 border-2",style:{borderColor:"#F97316"},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Active Discussions"}),r.jsx("p",{className:"text-2xl font-bold text-orange-900",children:Math.floor(s*.3)||"---"})]}),r.jsx(Ar,{className:"w-8 h-8 text-orange-600"})]})})]})]})]}),C==="problems"&&r.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-2",style:{backgroundColor:"#fefcf8",borderColor:"#B8860B"},children:r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"w-5 h-5 text-amber-600 absolute left-4 top-1/2 -translate-y-1/2"}),r.jsx("input",{value:b,onChange:se=>{i(1),w(se.target.value)},placeholder:"Search for problems, solutions, or topics...",className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 text-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all",style:{borderColor:"#D97706",backgroundColor:"#fffbeb",color:"#8B4513"}})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-amber-50 to-yellow-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#F59E0B"},children:[r.jsx(Hr,{className:"w-4 h-4 text-amber-700"}),r.jsxs("select",{value:h,onChange:se=>{i(1),m(se.target.value)},className:"bg-transparent border-0 text-amber-800 font-medium focus:ring-0 cursor-pointer",children:[r.jsx("option",{value:"",children:"All Subjects"}),ne.map(se=>r.jsx("option",{value:se,children:se},se))]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-orange-50 to-amber-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#F97316"},children:[r.jsx(kS,{className:"w-4 h-4 text-orange-700"}),r.jsxs("select",{value:f,onChange:se=>{i(1),x(se.target.value)},className:"bg-transparent border-0 text-orange-800 font-medium focus:ring-0 cursor-pointer",children:[r.jsx("option",{value:"",children:"All Chapters"}),ie.map(se=>r.jsx("option",{value:se,children:se},se))]})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-50 to-orange-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#EAB308"},children:[r.jsx(ds,{className:"w-4 h-4 text-yellow-700"}),r.jsxs("select",{value:A,onChange:se=>{i(1),g(se.target.value)},className:"bg-transparent border-0 text-yellow-800 font-medium focus:ring-0 cursor-pointer",children:[r.jsx("option",{value:"",children:"All Levels"}),r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]})]})]})}),C==="wall"&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-2",style:{backgroundColor:"#fefcf8",borderColor:"#B8860B"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-amber-800",style:{fontFamily:"Georgia, serif"},children:"Teacher's Discussion Wall"}),r.jsxs("button",{onClick:()=>F(!Z),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full hover:from-amber-600 hover:to-orange-600 transition-all font-medium shadow-lg hover:scale-105",children:[r.jsx(_ce,{className:"w-4 h-4"}),"Share Problem"]})]}),Z&&r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border-2 mb-4",style:{borderColor:"#F59E0B"},children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Subject"}),r.jsx("input",{value:O,onChange:se=>Q(se.target.value),placeholder:"e.g., Mathematics, Physics...",className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Difficulty"}),r.jsxs("select",{value:ee,onChange:se=>q(se.target.value),className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"},children:[r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Problem or Discussion"}),r.jsx("textarea",{value:D,onChange:se=>G(se.target.value),placeholder:"Share an interesting problem, ask for help, or start a discussion...",rows:4,className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 resize-none",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 rounded-lg border-2 border-amber-300 text-amber-800 hover:bg-amber-50 font-medium transition-all",children:"Cancel"}),r.jsx("button",{onClick:oe,disabled:z||!D.trim(),className:`px-6 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${z||!D.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg hover:scale-105"}`,children:z?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Posting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(hc,{className:"w-4 h-4"}),"Post to Wall"]})})]})]})})]}),d&&r.jsx("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border-2 border-red-200 text-red-800 font-medium",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),d]})}),C==="problems"&&r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[l&&Array.from({length:6}).map((se,J)=>r.jsx("div",{className:"h-64 rounded-2xl border-2 animate-pulse",style:{backgroundColor:"#f3e8d7",borderColor:"#D97706"}},J)),!l&&t.map(se=>r.jsxs("div",{className:"group bg-white rounded-2xl border-2 shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",style:{backgroundColor:"#fefcf8",borderColor:"#D97706"},children:[r.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-4 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/5"}),r.jsxs("div",{className:"relative flex items-start justify-between gap-2",children:[r.jsx("h3",{className:"font-bold text-white text-lg line-clamp-2 leading-tight",style:{fontFamily:"Georgia, serif"},children:se.title}),se.highlighted&&r.jsx("div",{className:"flex-shrink-0 bg-yellow-300 rounded-full p-1",children:r.jsx(fs,{className:"w-4 h-4 text-yellow-800",title:"Highlighted"})})]})]}),r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-300",children:se.subject}),r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-800 border border-orange-300",children:se.chapter}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize border ${se.difficulty==="easy"?"bg-green-100 text-green-800 border-green-300":se.difficulty==="medium"?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300"}`,children:se.difficulty})]}),r.jsx("p",{className:"text-gray-700 line-clamp-4 leading-relaxed mb-4 text-sm",children:se.problemText}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-amber-200",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-700",children:[r.jsx(ir,{className:"w-3 h-3"}),new Date(se.createdAt).toLocaleDateString()]}),r.jsx("button",{onClick:()=>be(se),className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full hover:from-amber-600 hover:to-orange-600 transition-all font-medium text-sm group-hover:scale-105",children:"Explore Solution"})]})]})]},se._id))]}),C==="wall"&&r.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[P.map(se=>r.jsxs("div",{className:"bg-white rounded-2xl border-2 shadow-lg hover:shadow-xl transition-all duration-300",style:{backgroundColor:"#fefcf8",borderColor:"#D97706"},children:[r.jsx("div",{className:"p-6 border-b border-amber-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:se.teacherAvatar}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"flex items-start justify-between gap-4",children:r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-amber-800 text-lg",style:{fontFamily:"Georgia, serif"},children:se.teacherName}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-300",children:se.subject}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize border ${se.difficulty==="easy"?"bg-green-100 text-green-800 border-green-300":se.difficulty==="medium"?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300"}`,children:se.difficulty}),r.jsx("span",{className:"text-xs text-gray-500",children:lt(se.timestamp)})]})]})})})]})}),r.jsx("div",{className:"p-6",children:r.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap text-base",children:se.content})}),r.jsxs("div",{className:"px-6 pb-6 flex items-center justify-between border-t border-amber-200 pt-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:()=>Be(se.id),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all font-medium ${se.isLiked?"bg-red-100 text-red-600 border-2 border-red-300":"bg-gray-100 text-gray-600 border-2 border-gray-300 hover:bg-red-50 hover:text-red-500"}`,children:[r.jsx(Do,{className:`w-4 h-4 ${se.isLiked?"fill-current":""}`}),se.likes]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-blue-100 text-blue-600 border-2 border-blue-300 hover:bg-blue-50 transition-all font-medium",children:[r.jsx(mn,{className:"w-4 h-4"}),se.comments]})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsx(ir,{className:"w-3 h-3 inline mr-1"}),se.timestamp.toLocaleDateString()]})]})]},se.id)),P.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(mn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No posts yet"}),r.jsx("p",{className:"text-gray-600",children:"Be the first to share a problem or start a discussion!"})]})]}),C==="problems"&&je>1&&r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3",children:[r.jsx("button",{disabled:a<=1,onClick:()=>i(se=>Math.max(1,se-1)),className:`px-6 py-3 rounded-full font-medium transition-all ${a<=1?"text-gray-400 border-2 border-gray-200 bg-gray-50":"text-amber-800 border-2 border-amber-300 bg-amber-50 hover:bg-amber-100 hover:scale-105"}`,children:"Previous"}),r.jsxs("div",{className:"px-6 py-3 rounded-full bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold shadow-lg",children:["Page ",a," of ",je]}),r.jsx("button",{disabled:a>=je,onClick:()=>i(se=>Math.min(je,se+1)),className:`px-6 py-3 rounded-full font-medium transition-all ${a>=je?"text-gray-400 border-2 border-gray-200 bg-gray-50":"text-amber-800 border-2 border-amber-300 bg-amber-50 hover:bg-amber-100 hover:scale-105"}`,children:"Next"})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>j(null),children:r.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-2xl shadow-2xl overflow-hidden border-4",style:{backgroundColor:"#fefcf8",borderColor:"#8B7355"},onClick:se=>se.stopPropagation(),children:[r.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-6 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black/10"}),r.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight",style:{fontFamily:"Georgia, serif"},children:v.title}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-amber-200 text-amber-800 border border-amber-400",children:v.subject}),r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-orange-200 text-orange-800 border border-orange-400",children:v.chapter}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold capitalize border ${v.difficulty==="easy"?"bg-green-200 text-green-800 border-green-400":v.difficulty==="medium"?"bg-yellow-200 text-yellow-800 border-yellow-400":"bg-red-200 text-red-800 border-red-400"}`,children:v.difficulty})]})]}),v.highlighted&&r.jsx("div",{className:"flex-shrink-0 bg-yellow-300 rounded-full p-2 shadow-lg",children:r.jsx(fs,{className:"w-6 h-6 text-yellow-800"})})]})]}),r.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border-2",style:{borderColor:"#F59E0B"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),r.jsx("h4",{className:"text-lg font-bold text-amber-800",style:{fontFamily:"Georgia, serif"},children:"Problem Statement"})]}),r.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 leading-relaxed whitespace-pre-wrap bg-white rounded-lg p-4 border border-amber-200 shadow-sm",children:v.problemText})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-5 border-2",style:{borderColor:"#10B981"},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("h4",{className:"text-lg font-bold text-green-800",style:{fontFamily:"Georgia, serif"},children:"Expert Solution"})]}),r.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 leading-relaxed whitespace-pre-wrap bg-white rounded-lg p-4 border border-green-200 shadow-sm",children:v.solutionText})]})]}),r.jsxs("div",{className:"border-t-4 border-amber-200 bg-gradient-to-br from-orange-50 to-amber-50 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(mn,{className:"w-6 h-6 text-orange-600"}),r.jsx("h4",{className:"text-xl font-bold text-orange-800",style:{fontFamily:"Georgia, serif"},children:"Discussion Forum"})]}),r.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-3 mb-4 bg-white rounded-xl p-4 border-2 border-orange-200",children:[N.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(mn,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),r.jsx("p",{children:"No comments yet. Be the first to ask or share insight!"})]}),N.map(se=>r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-xl p-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-400 to-orange-400 rounded-full flex items-center justify-center text-white font-bold text-sm",children:(se.authorName||"A")[0].toUpperCase()}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-amber-800",children:se.authorName||"Anonymous"}),r.jsx("div",{className:"text-xs text-amber-600",children:new Date(se.createdAt).toLocaleString()})]})]}),r.jsx("div",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:se.text})]},se._id))]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{value:T,onChange:se=>I(se.target.value),placeholder:"Share your thoughts or ask a question...",className:"flex-1 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all text-lg",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}}),r.jsx("button",{disabled:_||!T.trim(),onClick:ue,className:`px-6 py-3 rounded-xl font-semibold transition-all ${_||!T.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg hover:scale-105"}`,children:_?"Posting...":"Post Comment"}),r.jsx("button",{onClick:()=>j(null),className:"px-6 py-3 rounded-xl border-2 border-amber-300 text-amber-800 hover:bg-amber-50 font-semibold transition-all hover:scale-105",children:"Close"})]})]})]})})]})}const vO=()=>{const[t,e]=E.useState(""),[s,n]=E.useState(5),[a,i]=E.useState(5),[o,l]=E.useState(!1),[c,d]=E.useState(""),[u,h]=E.useState([]),[m,f]=E.useState(!1);E.useEffect(()=>{h([{date:"2024-01-15",mood:"good",stressLevel:4,socialEngagement:7,notes:"Feeling positive about upcoming exams"},{date:"2024-01-10",mood:"neutral",stressLevel:6,socialEngagement:6,notes:"Normal day, focused on assignments"},{date:"2024-01-05",mood:"excellent",stressLevel:3,socialEngagement:8,notes:"Great day! Enjoyed group project work"}])},[]);const x=b=>{const w={excellent:{icon:Uu,color:"text-green-600",bg:"bg-green-100"},good:{icon:Uu,color:"text-blue-600",bg:"bg-blue-100"},neutral:{icon:kN,color:"text-yellow-600",bg:"bg-yellow-100"},concerning:{icon:$v,color:"text-orange-600",bg:"bg-orange-100"},critical:{icon:br,color:"text-red-600",bg:"bg-red-100"}};return w[b]||w.neutral},A=b=>{b.preventDefault();const w={date:new Date().toISOString().split("T")[0],mood:t,stressLevel:s,socialEngagement:a,behaviorChanges:o,notes:c};h([w,...u]),e(""),n(5),i(5),l(!1),d(""),f(!1),console.log("Wellbeing entry saved:",w)},g=u[0];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 p-4 sm:p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsxs("div",{className:"flex justify-center items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:r.jsx(Vs,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"My Wellbeing"})]}),r.jsx("p",{className:"text-gray-600",children:"Track your emotional wellbeing and mental health journey"})]}),g&&r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Do,{className:"w-5 h-5 text-purple-600"}),"Current Wellbeing Status"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"text-center",children:(()=>{const b=x(g.mood),w=b.icon;return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${b.bg} mb-3`,children:r.jsx(w,{className:`w-8 h-8 ${b.color}`})}),r.jsx("h3",{className:"font-medium text-gray-900",children:"Current Mood"}),r.jsx("p",{className:`text-sm font-medium ${b.color}`,children:g.mood.charAt(0).toUpperCase()+g.mood.slice(1)})]})})()}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 mb-3",children:r.jsx(ds,{className:"w-8 h-8 text-orange-600"})}),r.jsx("h3",{className:"font-medium text-gray-900",children:"Stress Level"}),r.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[g.stressLevel,"/10"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-3",children:r.jsx(Ar,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h3",{className:"font-medium text-gray-900",children:"Social Engagement"}),r.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[g.socialEngagement,"/10"]})]})]}),g.notes&&r.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"font-medium",children:"Latest note:"})," ",g.notes]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(vs,{className:"w-5 h-5 text-purple-600"}),"Daily Check-in"]}),!m&&r.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(Zi,{size:16}),"New Entry"]})]}),m&&r.jsxs("form",{onSubmit:A,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"How are you feeling today?"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:["excellent","good","neutral","concerning","critical"].map(b=>{const w=x(b),v=w.icon;return r.jsxs("button",{type:"button",onClick:()=>e(b),className:`p-4 rounded-xl border-2 transition-all ${t===b?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[r.jsx("div",{className:`w-8 h-8 mx-auto mb-2 rounded-full ${w.bg} flex items-center justify-center`,children:r.jsx(v,{className:`w-5 h-5 ${w.color}`})}),r.jsx("span",{className:"text-xs font-medium text-gray-700",children:b.charAt(0).toUpperCase()+b.slice(1)})]},b)})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Stress Level: ",s,"/10"]}),r.jsx("input",{type:"range",min:"1",max:"10",value:s,onChange:b=>n(parseInt(b.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"Low Stress"}),r.jsx("span",{children:"High Stress"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Social Engagement: ",a,"/10"]}),r.jsx("input",{type:"range",min:"1",max:"10",value:a,onChange:b=>i(parseInt(b.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"Low Engagement"}),r.jsx("span",{children:"High Engagement"})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"behaviorChanges",checked:o,onChange:b=>l(b.target.checked),className:"h-4 w-4 text-purple-600 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"behaviorChanges",className:"ml-2 text-sm text-gray-700",children:"I've noticed changes in my behavior or mood patterns"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),r.jsx("textarea",{value:c,onChange:b=>d(b.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"How was your day? Any thoughts or feelings you'd like to note..."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{type:"submit",disabled:!t,className:"flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[r.jsx(BS,{size:16}),"Save Check-in"]}),r.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[r.jsx(ir,{className:"w-5 h-5 text-purple-600"}),"Wellbeing History"]}),u.length>0?r.jsx("div",{className:"space-y-4",children:u.map((b,w)=>{const v=x(b.mood),j=v.icon;return r.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:`w-10 h-10 rounded-full ${v.bg} flex items-center justify-center flex-shrink-0`,children:r.jsx(j,{className:`w-5 h-5 ${v.color}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("div",{children:r.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${v.bg} ${v.color}`,children:b.mood.charAt(0).toUpperCase()+b.mood.slice(1)})}),r.jsx("span",{className:"text-sm text-gray-500",children:b.date})]}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mb-2",children:[r.jsxs("span",{children:["Stress: ",b.stressLevel,"/10"]}),r.jsxs("span",{children:["Social: ",b.socialEngagement,"/10"]})]}),b.notes&&r.jsx("p",{className:"text-sm text-gray-700",children:b.notes})]})]},w)})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Vs,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No wellbeing entries yet. Start your first check-in!"})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-6 border border-purple-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(fs,{className:"w-5 h-5 text-purple-600"}),"Support & Resources"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[r.jsx(gc,{className:"w-8 h-8 text-blue-600 mb-3"}),r.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Counseling Services"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Talk to our professional counselors"}),r.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"Schedule Session "})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[r.jsx(Ar,{className:"w-8 h-8 text-green-600 mb-3"}),r.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Peer Support"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Connect with other students"}),r.jsx("button",{className:"text-green-600 text-sm font-medium hover:text-green-700",children:"Join Groups "})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[r.jsx(Do,{className:"w-8 h-8 text-purple-600 mb-3"}),r.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Mental Health Tips"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Learn coping strategies"}),r.jsx("button",{className:"text-purple-600 text-sm font-medium hover:text-purple-700",children:"View Resources "})]})]})]})]})})},Hge=t=>{if(t==="/student"||t==="/student/"||t==="/dashboard"||t==="/dashboard/")return"dashboard";const e=t.match(/^\/(student|dashboard)\/([^/]+).*$/);return e!=null&&e[2]?e[2]:"dashboard"},Qge=()=>{const t=Ol(),e=qn(),[s,n]=E.useState(!1);E.useEffect(()=>{if(!t.pathname.startsWith("/dashboard"))return;const c=t.pathname.replace("/dashboard","/student");e(c,{replace:!0})},[t.pathname,e]);const a=Hge(t.pathname),i=c=>{const d=c==="dashboard"?"/student":`/student/${c}`;e(d)},o={dashboard:c=>r.jsx(IC,{...c,setActiveView:i}),home:c=>r.jsx(IC,{...c,setActiveView:i}),"ai-learning":AO,"ai-learning-courses":uO,"ai-learning-tutor":AO,academics:c=>r.jsx(p_,{...c,defaultType:"school"}),attendance:Ohe,routine:cR,schedule:cR,assignments:c=>r.jsx(p_,{...c,defaultType:"school"}),"assignments-journal":c=>r.jsx(p_,{...c,defaultType:"journal"}),"assignments-academic-alcove":c=>r.jsx(Uge,{...c}),courses:uO,results:bge,communication:hO,noticeboard:Cge,teacherfeedback:_ge,chat:hO,"excuse-letter":Mge,wellness:vO,wellbeing:vO,achievements:jge,profile:nY,themecustomizer:Nge};E.useEffect(()=>{o[a]||e("/student",{replace:!0})},[a,e]);const l=()=>{const c=o[a];return c?typeof c=="function"?r.jsx(c,{}):r.jsx(c,{setActiveView:i}):r.jsx(IC,{setActiveView:i})};return r.jsx(jhe,{children:r.jsxs("div",{className:"min-h-screen w-full bg-gray-50 flex relative overflow-hidden",children:[r.jsx(Nhe,{activeView:a,isOpen:s,setIsOpen:n}),r.jsxs("div",{className:`flex-1 flex flex-col h-screen transition-all duration-300  ${a==="chat"||a==="excuse-letter"?"overflow-hidden":"overflow-y-auto custom-scrollbar"}`,children:[r.jsx(_he,{sidebarOpen:s,setSidebarOpen:n,onOpenProfile:()=>e("/student/profile")}),r.jsx("main",{className:`flex-1 min-h-0 ${a==="chat"||a==="excuse-letter"?"p-0":"p-2 sm:p-4 md:p-6"} w-full flex flex-col`,children:l()})]})]})})},$ge={Student:"/student",Teacher:"/teacher",Parent:"/parent",Principal:"/principal",Admin:"/admin/dashboard",SuperAdmin:"/super-admin/overview"},zge=({allowedRoles:t,children:e})=>{const s=localStorage.getItem("token"),n=localStorage.getItem("userType");return!s||!n?r.jsx(Uv,{to:"/",replace:!0}):Array.isArray(t)&&!t.includes(n)?r.jsx(Uv,{to:$ge[n]||"/",replace:!0}):e},iY=()=>{const[t,e]=E.useState({role:"student",id:1,name:"Koushik Bala",email:"koushik@example.com"}),[s,n]=E.useState("dashboard"),[a,i]=E.useState([{id:1,title:"Login Issues",description:"Unable to access my course materials after password reset",category:"Technical",priority:"High",status:"Open",submittedBy:"Swapnanil Dutta",submittedDate:"2024-06-10",assignedTo:"IT Support",lastUpdated:"2024-06-11"},{id:2,title:"Grade Discrepancy",description:"My final grade for Mathematics course seems incorrect",category:"Academic",priority:"Medium",status:"In Progress",submittedBy:"Souvik Chakraborty",submittedDate:"2024-06-08",assignedTo:"Academic Office",lastUpdated:"2024-06-12"},{id:3,title:"Course Material Missing",description:"Week 5 lecture materials are not available in the system",category:"Content",priority:"Medium",status:"Resolved",submittedBy:"Koushik Bala",submittedDate:"2024-06-05",assignedTo:"Course Coordinator",lastUpdated:"2024-06-13"}]),[o,l]=E.useState({title:"",description:"",category:"Technical",priority:"Medium"}),[c,d]=E.useState(""),[u,h]=E.useState("All"),[m,f]=E.useState("All"),[x,A]=E.useState(!1),g=["Technical","Academic","Content","Administrative","Other"],b=["Low","Medium","High","Critical"],w=["Open","In Progress","Resolved","Closed"],v=P=>{P.preventDefault();const H={id:a.length+1,...o,status:"Open",submittedBy:t.name,submittedDate:new Date().toISOString().split("T")[0],assignedTo:"Pending Assignment",lastUpdated:new Date().toISOString().split("T")[0]};i([...a,H]),l({title:"",description:"",category:"Technical",priority:"Medium"}),n("my-complaints")},j=(P,H)=>{i(a.map(D=>D.id===P?{...D,status:H,lastUpdated:new Date().toISOString().split("T")[0]}:D))},N=P=>{switch(P){case"Open":return r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"});case"In Progress":return r.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"});case"Resolved":return r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"});case"Closed":return r.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"});default:return r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})}},S=P=>{switch(P){case"Low":return"bg-green-100 text-green-800 border border-green-200";case"Medium":return"bg-yellow-100 text-yellow-800 border border-yellow-200";case"High":return"bg-orange-100 text-orange-800 border border-orange-200";case"Critical":return"bg-red-100 text-red-800 border border-red-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},T=a.filter(P=>{const H=P.title.toLowerCase().includes(c.toLowerCase())||P.description.toLowerCase().includes(c.toLowerCase()),D=u==="All"||P.status===u,G=m==="All"||P.category===m;return H&&D&&G}),_=(()=>{const P=a.length,H=a.filter(O=>O.status==="Open").length,D=a.filter(O=>O.status==="In Progress").length,G=a.filter(O=>O.status==="Resolved"||O.status==="Closed").length;return{total:P,open:H,inProgress:D,resolved:G}})(),M=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[r.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Complaints"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:_.total})]}),r.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:r.jsx(Dr,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Open"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:_.open})]}),r.jsx("div",{className:"bg-red-50 p-3 rounded-lg",children:r.jsx(br,{className:"w-6 h-6 text-red-600"})})]})}),r.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Progress"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:_.inProgress})]}),r.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:r.jsx(fr,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Resolved"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:_.resolved})]}),r.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:r.jsx(Fr,{className:"w-6 h-6 text-green-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Complaints"}),r.jsx("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-800",children:"View all"})]}),r.jsx("div",{className:"space-y-4",children:a.slice(0,3).map(P=>r.jsxs("div",{className:"flex items-start p-4 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"flex-shrink-0 mt-1 mr-4",children:N(P.status)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:P.title}),r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${S(P.priority)}`,children:P.priority})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:P.description}),r.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[r.jsxs("span",{className:"mr-3",children:["By ",P.submittedBy]}),r.jsxs("span",{children:["On ",P.submittedDate]})]})]})]},P.id))})]})]}),C=()=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Submit New Complaint"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Report an issue you're experiencing"}),r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complaint Title"}),r.jsx("input",{type:"text",required:!0,value:o.title,onChange:P=>l({...o,title:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your issue"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{required:!0,rows:5,value:o.description,onChange:P=>l({...o,description:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide detailed information about your complaint"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsx("select",{value:o.category,onChange:P=>l({...o,category:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:g.map(P=>r.jsx("option",{value:P,children:P},P))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),r.jsx("select",{value:o.priority,onChange:P=>l({...o,priority:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:b.map(P=>r.jsx("option",{value:P,children:P},P))})]})]}),r.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 font-medium",children:[r.jsx(vs,{className:"w-5 h-5"}),r.jsx("span",{children:"Submit Complaint"})]})]})]}),B=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"All Complaints"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage and track your complaints"})]}),r.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search complaints...",value:c,onChange:P=>d(P.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),r.jsxs("select",{value:u,onChange:P=>h(P.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"All",children:"All Status"}),w.map(P=>r.jsx("option",{value:P,children:P},P))]}),r.jsxs("select",{value:m,onChange:P=>f(P.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"All",children:"All Categories"}),g.map(P=>r.jsx("option",{value:P,children:P},P))]})]})]})}),r.jsx("div",{className:"space-y-4",children:T.map(P=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",P.id]}),r.jsxs("div",{className:"flex items-center",children:[N(P.status),r.jsx("span",{className:"text-sm font-medium text-gray-700 ml-2",children:P.status})]}),r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${S(P.priority)}`,children:P.priority})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:P.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:P.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"font-medium mr-2",children:"Category:"}),r.jsx("span",{className:"bg-gray-100 px-2.5 py-1 rounded-md",children:P.category})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Submitted by:"})," ",P.submittedBy]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Date:"})," ",P.submittedDate]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",P.assignedTo]})]})]}),t.role==="admin"&&r.jsx("div",{className:"ml-4",children:r.jsx("select",{value:P.status,onChange:H=>j(P.id,H.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:w.map(H=>r.jsx("option",{value:H,children:H},H))})})]})},P.id))})]});return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-xs border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:r.jsx(Dr,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Complaint Portal"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(sa,{className:"w-5 h-5 text-gray-500"})}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>A(!x),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(us,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{className:"text-left hidden md:block",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800",children:t.name}),r.jsx("p",{className:"text-xs text-gray-500",children:t.role})]}),r.jsx(ln,{className:"w-4 h-4 text-gray-500"})]}),x&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[r.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800",children:t.name}),r.jsx("p",{className:"text-xs text-gray-500",children:t.email})]}),r.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx(nx,{className:"w-4 h-4 mr-2"}),"Settings"]}),r.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>e({...t,role:t.role==="student"?"admin":"student"}),children:[r.jsx(us,{className:"w-4 h-4 mr-2"}),"Switch to ",t.role==="student"?"Admin":"Student"," View"]}),r.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-50",children:[r.jsx(Vd,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("nav",{className:"mb-8",children:r.jsx("div",{className:"flex space-x-1 bg-white rounded-xl p-1.5 shadow-sm border border-gray-200",children:[{id:"dashboard",label:"Dashboard",icon:Dr},{id:"submit",label:"Submit Complaint",icon:vs},{id:"my-complaints",label:"My Complaints",icon:us},...t.role==="admin"?[{id:"all-complaints",label:"All Complaints",icon:Dr}]:[]].map(P=>{const H=P.icon;return r.jsxs("button",{onClick:()=>n(P.id),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-colors ${s===P.id?"bg-blue-50 text-blue-700 border border-blue-100":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[r.jsx(H,{className:"w-4 h-4"}),r.jsx("span",{children:P.label})]},P.id)})})}),r.jsxs("main",{children:[s==="dashboard"&&M(),s==="submit"&&C(),s==="my-complaints"&&B(),s==="all-complaints"&&t.role==="admin"&&B()]})]})]})},Gge=({adminUser:t})=>{var d;const[e,s]=E.useState(!1),[n,a]=E.useState(!1),i=qn(),[o,l]=E.useState(new Date);E.useEffect(()=>{const u=setInterval(()=>l(new Date),1e3);return()=>clearInterval(u)},[]);const c=()=>{localStorage.removeItem("token"),i("/")};return r.jsx("div",{className:"border-b  border-gray-200 shadow-sm bg-white",children:r.jsx("header",{className:" w-full box-border p-[13px]",children:r.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[r.jsx("div",{className:"flex items-center gap-4 flex-1",children:r.jsx("div",{className:"hidden md:flex items-center flex-1",children:r.jsxs("div",{className:"relative w-full max-w-md flex items-center",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-24 py-2 border border-gray-200 rounded-2xl w-full focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent bg-gray-50"}),r.jsx("button",{className:"absolute right-2 px-4 py-1.5 bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-medium rounded-xl transition-colors","aria-label":"Search",children:"Search"})]})})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-xl bg-gray-50",children:[r.jsx(fr,{size:18,className:"text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:o.toLocaleDateString(void 0,{weekday:"long"})}),r.jsx("span",{className:"text-sm text-gray-500",children:o.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),r.jsx("span",{className:"text-sm text-gray-500",children:o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{className:"p-3 hover:bg-gray-100 rounded-xl text-gray-600 relative border border-gray-100",onClick:()=>a(!n),children:[r.jsx(sa,{size:20}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),n&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[r.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:r.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),r.jsxs("div",{className:"max-h-[300px] overflow-y-auto",children:[r.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer",children:[r.jsx("p",{className:"text-sm text-gray-800",children:"New student registration request"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 minutes ago"})]}),r.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer",children:[r.jsx("p",{className:"text-sm text-gray-800",children:"Teacher leave application"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1 hour ago"})]})]})]})]}),r.jsxs("button",{className:"p- hover:bg-gray-100 rounded-xl text-gray-600 relative border border-gray-100",children:[r.jsx(mn,{size:20}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-500 rounded-full"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-50 rounded-2xl py-2 px-3 border border-gray-100",onClick:()=>s(!e),children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center",children:r.jsx("span",{className:"text-yellow-700 font-semibold text-sm",children:((d=t==null?void 0:t.name)==null?void 0:d.charAt(0))||"A"})}),r.jsxs("div",{className:"hidden md:block text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:(t==null?void 0:t.name)||"Admin User"}),r.jsx("p",{className:"text-xs text-gray-500",children:(t==null?void 0:t.role)||"Administrator"})]}),r.jsx(ln,{size:16,className:"text-gray-400"})]}),e&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[r.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(nx,{size:16,className:"text-gray-400"}),"Settings"]}),r.jsx("div",{className:"border-t border-gray-200 my-1"}),r.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:c,children:[r.jsx(Vd,{size:16}),"Logout"]})]})]})]})]})})})},KB=[{icon:pb,label:"Dashboard",path:"/admin/dashboard",active:!0},{icon:ma,label:"Analytics",path:"/admin/analytics"},{icon:dc,label:"Schools",path:"/admin/schools",scope:"super"},{icon:Xd,label:"School Admins",path:"/admin/school-admins",scope:"super"},{icon:Ar,label:"Teachers",path:"/admin/teachers"},{icon:OP,label:"Staff",path:"/admin/staff"},{icon:pa,label:"Students",path:"/admin/students"},{icon:Vs,label:"Student Wellbeing",path:"/admin/wellbeing"},{icon:Yd,label:"Parents",path:"/admin/parents"},{icon:kS,label:"Academic Setup",path:"/admin/academics"},{icon:Hr,label:"Course Management",path:"/admin/courses"},{icon:ir,label:"Subjects",path:"/admin/subjects"},{icon:Qv,label:"Student Attendance",path:"/admin/attendance"},{icon:ir,label:"Examination Management",path:"/admin/examination"},{icon:ir,label:"Routines",path:"/admin/routine"},{icon:ir,label:"Teacher Timetable",path:"/admin/timetable"},{icon:Qv,label:"Lesson Plan",path:"/admin/lesson-plans"},{icon:Dr,label:"Result",path:"/admin/result"},{icon:_o,label:"Fees Collection",path:"/admin/fees",hasSubmenu:!0,submenu:[{icon:ice,label:"Fees Dashboard",path:"/admin/fees/dashboard"},{icon:nB,label:"Fee Collection",path:"/admin/fees"},{icon:ahe,label:"Student Fee Details",path:"/admin/fees/student-details"}]},{icon:BP,label:"HR",path:"/admin/hr"},{icon:TS,label:"Support",path:"/admin/support"}],Vge=({onMenuItemClick:t,collapsed:e=!1,onToggleSidebar:s,menuItems:n=KB,adminUser:a})=>{var c;const[i,o]=E.useState({}),l=d=>{e||o(u=>({...u,[d]:!u[d]}))};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:`
        ${e?"w-20":"w-72"}
        bg-white border-r border-gray-200
        flex flex-col h-full shadow-lg flex-shrink-0
        transition-all duration-300 ease-in-out
      `,style:{willChange:"width"},children:[r.jsx("div",{className:"p-4 border-b border-gray-200 relative",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`${e?"w-8 h-8":"w-12 h-12"} bg-gradient-to-br from-blue-900 to-yellow-500 rounded-lg flex items-center justify-center shadow-md transition-all duration-300 overflow-hidden`,children:a!=null&&a.avatar?r.jsx("img",{src:a.avatar,alt:(a==null?void 0:a.name)||"School logo",className:"w-full h-full object-cover"}):r.jsx("span",{className:"text-white text-xl font-bold",children:"EEC"})}),!e&&r.jsxs("div",{className:"flex flex-col opacity-100 transition-opacity duration-300",children:[r.jsx("span",{className:"text-xl font-bold text-gray-800",children:(a==null?void 0:a.name)||"Electronic Educare"}),r.jsx("span",{className:"text-xs text-gray-500",children:a!=null&&a.campusName?`${a.campusName}${a.campusType?` - ${a.campusType}`:""}`:(a==null?void 0:a.campusType)||""})]})]}),r.jsxs("button",{onClick:s,className:`absolute ${e?"top-2 right-[-7px]":"top-4 right-[-5px]"} p-4 bg-transparent rounded-lg text-gray-500 hover:text-gray-700 transition-colors duration-200`,"aria-label":e?"Open sidebar":"Collapse sidebar",title:e?"Open sidebar":"Collapse sidebar",children:[e&&r.jsx(ra,{size:16,className:"transition-transform duration-200"}),!e&&r.jsx(ru,{size:16,className:"transition-transform duration-200"})]})]})}),r.jsx("nav",{className:"flex-1 px-4 py-4 overflow-y-auto sidebar-scroll",children:n.map((d,u)=>{const h=d.icon,m=i[d.label];return r.jsxs("div",{className:"mb-1",children:[d.hasSubmenu?r.jsxs("button",{onClick:()=>l(d.label),className:`
                      w-full flex items-center space-x-3 px-3 py-3 rounded-lg
                      group transition-all duration-200 ease-out
                      text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50
                      hover:text-gray-900 hover:shadow-sm
                    `,children:[r.jsx(h,{size:20,className:"flex-shrink-0 transition-colors duration-200 group-hover:text-blue-600"}),!e&&r.jsx("span",{className:"font-medium flex-1 text-left opacity-100 transition-opacity duration-200",children:d.label}),!e&&(m?r.jsx(ln,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-colors duration-200"}):r.jsx(ra,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-colors duration-200"}))]}):r.jsx(Hv,{to:d.path,onClick:()=>t(d.label),children:({isActive:f})=>r.jsxs("div",{className:`
                        flex items-center space-x-3 px-4 py-3 rounded-lg
                        group transition-all duration-200 ease-out
                        ${f?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 shadow-sm border-l-4 border-yellow-500":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-sm hover:border-l-4 hover:border-blue-300"}
                      `,children:[r.jsx(h,{size:20,className:`flex-shrink-0 transition-colors duration-200 ${f?"text-yellow-600":"group-hover:text-blue-600"}`}),!e&&r.jsx("span",{className:"font-medium flex-1 opacity-100 transition-opacity duration-200",children:d.label})]})}),d.hasSubmenu&&m&&!e&&r.jsx("div",{className:"ml-6 mt-1 space-y-1",children:d.submenu.map((f,x)=>{const A=f.icon;return r.jsx(Hv,{to:f.path,onClick:()=>t(f.label),children:({isActive:g})=>r.jsxs("div",{className:`
                              flex items-center space-x-3 px-4 py-2 rounded-lg
                              group transition-all duration-200 ease-out
                              ${g?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 border-l-2 border-yellow-500 shadow-sm":"text-gray-500 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 hover:text-gray-700 hover:shadow-sm hover:border-l-2 hover:border-blue-200"}
                            `,children:[r.jsx(A,{size:16,className:`flex-shrink-0 transition-colors duration-200 ${g?"text-yellow-600":"group-hover:text-blue-600"}`}),r.jsx("span",{className:"text-sm font-medium opacity-100 transition-opacity duration-200",children:f.label})]})},x)})})]},u)})}),r.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 transition-all duration-200 cursor-pointer group",children:r.jsxs("div",{className:`flex items-center ${e?"justify-center space-x-0":"space-x-3"}`,children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 group-hover:bg-blue-100 flex items-center justify-center transition-all duration-200 group-hover:shadow-sm",children:r.jsx("span",{className:"text-yellow-600 group-hover:text-blue-600 font-semibold transition-colors duration-200",children:((c=a==null?void 0:a.name)==null?void 0:c.charAt(0))||"A"})}),!e&&r.jsxs("div",{className:"opacity-100 transition-opacity duration-200",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900 transition-colors duration-200",children:(a==null?void 0:a.name)||"Admin User"}),r.jsx("p",{className:"text-xs text-gray-500 group-hover:text-blue-600 transition-colors duration-200",children:(a==null?void 0:a.role)||"Administrator"})]})]})})]})})},Wge=({children:t,activeMenuItem:e,onMenuItemClick:s,sidebarCollapsed:n,onToggleSidebar:a,adminUser:i,menuItems:o,breadcrumbs:l=[],showAdminHeader:c,showBreadcrumb:d=!0})=>{const u=[{label:"Admin",path:"/admin"},{label:"Dashboard",path:"/admin/dashboard"},{label:e,current:!0}];return l.length>0,r.jsxs("div",{className:"flex w-full h-screen bg-gray-50 overflow-hidden",children:[r.jsx(Vge,{activeMenuItem:e,onMenuItemClick:s,collapsed:n,onToggleSidebar:a,menuItems:o,adminUser:i}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[c&&r.jsx(Gge,{adminUser:i}),d&&r.jsx("div",{className:"px-4 lg:px-8 bg-white border-b"}),r.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})};function oY(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(s=oY(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function ms(){for(var t,e,s=0,n="",a=arguments.length;s<a;s++)(t=arguments[s])&&(e=oY(t))&&(n&&(n+=" "),n+=e);return n}var b_,wO;function Ul(){if(wO)return b_;wO=1;var t=Array.isArray;return b_=t,b_}var y_,jO;function lY(){if(jO)return y_;jO=1;var t=typeof u2=="object"&&u2&&u2.Object===Object&&u2;return y_=t,y_}var v_,NO;function lh(){if(NO)return v_;NO=1;var t=lY(),e=typeof self=="object"&&self&&self.Object===Object&&self,s=t||e||Function("return this")();return v_=s,v_}var w_,SO;function iw(){if(SO)return w_;SO=1;var t=lh(),e=t.Symbol;return w_=e,w_}var j_,CO;function qge(){if(CO)return j_;CO=1;var t=iw(),e=Object.prototype,s=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=s.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var u=n.call(o);return d&&(l?o[a]=c:delete o[a]),u}return j_=i,j_}var N_,_O;function Kge(){if(_O)return N_;_O=1;var t=Object.prototype,e=t.toString;function s(n){return e.call(n)}return N_=s,N_}var S_,EO;function Rf(){if(EO)return S_;EO=1;var t=iw(),e=qge(),s=Kge(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):s(l)}return S_=o,S_}var C_,kO;function Of(){if(kO)return C_;kO=1;function t(e){return e!=null&&typeof e=="object"}return C_=t,C_}var __,TO;function bb(){if(TO)return __;TO=1;var t=Rf(),e=Of(),s="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==s}return __=n,__}var E_,BO;function YP(){if(BO)return E_;BO=1;var t=Ul(),e=bb(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!s.test(i)||o!=null&&i in Object(o)}return E_=a,E_}var k_,MO;function A0(){if(MO)return k_;MO=1;function t(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}return k_=t,k_}var T_,FO;function JP(){if(FO)return T_;FO=1;var t=Rf(),e=A0(),s="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==s||c==i}return T_=o,T_}var B_,PO;function Xge(){if(PO)return B_;PO=1;var t=lh(),e=t["__core-js_shared__"];return B_=e,B_}var M_,IO;function Yge(){if(IO)return M_;IO=1;var t=Xge(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function s(n){return!!e&&e in n}return M_=s,M_}var F_,LO;function cY(){if(LO)return F_;LO=1;var t=Function.prototype,e=t.toString;function s(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return F_=s,F_}var P_,DO;function Jge(){if(DO)return P_;DO=1;var t=JP(),e=Yge(),s=A0(),n=cY(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!s(m)||e(m))return!1;var f=t(m)?u:i;return f.test(n(m))}return P_=h,P_}var I_,RO;function Zge(){if(RO)return I_;RO=1;function t(e,s){return e==null?void 0:e[s]}return I_=t,I_}var L_,OO;function Cx(){if(OO)return L_;OO=1;var t=Jge(),e=Zge();function s(n,a){var i=e(n,a);return t(i)?i:void 0}return L_=s,L_}var D_,UO;function IS(){if(UO)return D_;UO=1;var t=Cx(),e=t(Object,"create");return D_=e,D_}var R_,HO;function ebe(){if(HO)return R_;HO=1;var t=IS();function e(){this.__data__=t?t(null):{},this.size=0}return R_=e,R_}var O_,QO;function tbe(){if(QO)return O_;QO=1;function t(e){var s=this.has(e)&&delete this.__data__[e];return this.size-=s?1:0,s}return O_=t,O_}var U_,$O;function rbe(){if($O)return U_;$O=1;var t=IS(),e="__lodash_hash_undefined__",s=Object.prototype,n=s.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return U_=a,U_}var H_,zO;function sbe(){if(zO)return H_;zO=1;var t=IS(),e=Object.prototype,s=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:s.call(i,a)}return H_=n,H_}var Q_,GO;function nbe(){if(GO)return Q_;GO=1;var t=IS(),e="__lodash_hash_undefined__";function s(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Q_=s,Q_}var $_,VO;function abe(){if(VO)return $_;VO=1;var t=ebe(),e=tbe(),s=rbe(),n=sbe(),a=nbe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=s,i.prototype.has=n,i.prototype.set=a,$_=i,$_}var z_,WO;function ibe(){if(WO)return z_;WO=1;function t(){this.__data__=[],this.size=0}return z_=t,z_}var G_,qO;function ZP(){if(qO)return G_;qO=1;function t(e,s){return e===s||e!==e&&s!==s}return G_=t,G_}var V_,KO;function LS(){if(KO)return V_;KO=1;var t=ZP();function e(s,n){for(var a=s.length;a--;)if(t(s[a][0],n))return a;return-1}return V_=e,V_}var W_,XO;function obe(){if(XO)return W_;XO=1;var t=LS(),e=Array.prototype,s=e.splice;function n(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():s.call(i,o,1),--this.size,!0}return W_=n,W_}var q_,YO;function lbe(){if(YO)return q_;YO=1;var t=LS();function e(s){var n=this.__data__,a=t(n,s);return a<0?void 0:n[a][1]}return q_=e,q_}var K_,JO;function cbe(){if(JO)return K_;JO=1;var t=LS();function e(s){return t(this.__data__,s)>-1}return K_=e,K_}var X_,ZO;function dbe(){if(ZO)return X_;ZO=1;var t=LS();function e(s,n){var a=this.__data__,i=t(a,s);return i<0?(++this.size,a.push([s,n])):a[i][1]=n,this}return X_=e,X_}var Y_,eU;function DS(){if(eU)return Y_;eU=1;var t=ibe(),e=obe(),s=lbe(),n=cbe(),a=dbe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=s,i.prototype.has=n,i.prototype.set=a,Y_=i,Y_}var J_,tU;function eI(){if(tU)return J_;tU=1;var t=Cx(),e=lh(),s=t(e,"Map");return J_=s,J_}var Z_,rU;function ube(){if(rU)return Z_;rU=1;var t=abe(),e=DS(),s=eI();function n(){this.size=0,this.__data__={hash:new t,map:new(s||e),string:new t}}return Z_=n,Z_}var e3,sU;function hbe(){if(sU)return e3;sU=1;function t(e){var s=typeof e;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?e!=="__proto__":e===null}return e3=t,e3}var t3,nU;function RS(){if(nU)return t3;nU=1;var t=hbe();function e(s,n){var a=s.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return t3=e,t3}var r3,aU;function fbe(){if(aU)return r3;aU=1;var t=RS();function e(s){var n=t(this,s).delete(s);return this.size-=n?1:0,n}return r3=e,r3}var s3,iU;function mbe(){if(iU)return s3;iU=1;var t=RS();function e(s){return t(this,s).get(s)}return s3=e,s3}var n3,oU;function pbe(){if(oU)return n3;oU=1;var t=RS();function e(s){return t(this,s).has(s)}return n3=e,n3}var a3,lU;function xbe(){if(lU)return a3;lU=1;var t=RS();function e(s,n){var a=t(this,s),i=a.size;return a.set(s,n),this.size+=a.size==i?0:1,this}return a3=e,a3}var i3,cU;function tI(){if(cU)return i3;cU=1;var t=ube(),e=fbe(),s=mbe(),n=pbe(),a=xbe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=s,i.prototype.has=n,i.prototype.set=a,i3=i,i3}var o3,dU;function dY(){if(dU)return o3;dU=1;var t=tI(),e="Expected a function";function s(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(s.Cache||t),i}return s.Cache=t,o3=s,o3}var l3,uU;function Abe(){if(uU)return l3;uU=1;var t=dY(),e=500;function s(n){var a=t(n,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return l3=s,l3}var c3,hU;function gbe(){if(hU)return c3;hU=1;var t=Abe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,d){i.push(c?d.replace(s,"$1"):l||o)}),i});return c3=n,c3}var d3,fU;function rI(){if(fU)return d3;fU=1;function t(e,s){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=s(e[n],n,e);return i}return d3=t,d3}var u3,mU;function bbe(){if(mU)return u3;mU=1;var t=iw(),e=rI(),s=Ul(),n=bb(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(s(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return u3=o,u3}var h3,pU;function uY(){if(pU)return h3;pU=1;var t=bbe();function e(s){return s==null?"":t(s)}return h3=e,h3}var f3,xU;function hY(){if(xU)return f3;xU=1;var t=Ul(),e=YP(),s=gbe(),n=uY();function a(i,o){return t(i)?i:e(i,o)?[i]:s(n(i))}return f3=a,f3}var m3,AU;function OS(){if(AU)return m3;AU=1;var t=bb();function e(s){if(typeof s=="string"||t(s))return s;var n=s+"";return n=="0"&&1/s==-1/0?"-0":n}return m3=e,m3}var p3,gU;function sI(){if(gU)return p3;gU=1;var t=hY(),e=OS();function s(n,a){a=t(a,n);for(var i=0,o=a.length;n!=null&&i<o;)n=n[e(a[i++])];return i&&i==o?n:void 0}return p3=s,p3}var x3,bU;function fY(){if(bU)return x3;bU=1;var t=sI();function e(s,n,a){var i=s==null?void 0:t(s,n);return i===void 0?a:i}return x3=e,x3}var ybe=fY();const fc=xn(ybe);var A3,yU;function vbe(){if(yU)return A3;yU=1;function t(e){return e==null}return A3=t,A3}var wbe=vbe();const as=xn(wbe);var g3,vU;function jbe(){if(vU)return g3;vU=1;var t=Rf(),e=Ul(),s=Of(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&s(i)&&t(i)==n}return g3=a,g3}var Nbe=jbe();const ow=xn(Nbe);var Sbe=JP();const qr=xn(Sbe);var Cbe=A0();const yb=xn(Cbe);var b3={exports:{}},nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wU;function _be(){if(wU)return nn;wU=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function A(g){if(typeof g=="object"&&g!==null){var b=g.$$typeof;switch(b){case t:switch(g=g.type,g){case s:case a:case n:case d:case u:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case m:case h:case i:return g;default:return b}}case e:return b}}}return nn.ContextConsumer=o,nn.ContextProvider=i,nn.Element=t,nn.ForwardRef=c,nn.Fragment=s,nn.Lazy=m,nn.Memo=h,nn.Portal=e,nn.Profiler=a,nn.StrictMode=n,nn.Suspense=d,nn.SuspenseList=u,nn.isAsyncMode=function(){return!1},nn.isConcurrentMode=function(){return!1},nn.isContextConsumer=function(g){return A(g)===o},nn.isContextProvider=function(g){return A(g)===i},nn.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},nn.isForwardRef=function(g){return A(g)===c},nn.isFragment=function(g){return A(g)===s},nn.isLazy=function(g){return A(g)===m},nn.isMemo=function(g){return A(g)===h},nn.isPortal=function(g){return A(g)===e},nn.isProfiler=function(g){return A(g)===a},nn.isStrictMode=function(g){return A(g)===n},nn.isSuspense=function(g){return A(g)===d},nn.isSuspenseList=function(g){return A(g)===u},nn.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===s||g===a||g===n||g===d||g===u||g===f||typeof g=="object"&&g!==null&&(g.$$typeof===m||g.$$typeof===h||g.$$typeof===i||g.$$typeof===o||g.$$typeof===c||g.$$typeof===x||g.getModuleId!==void 0)},nn.typeOf=A,nn}var jU;function Ebe(){return jU||(jU=1,b3.exports=_be()),b3.exports}var kbe=Ebe(),y3,NU;function mY(){if(NU)return y3;NU=1;var t=Rf(),e=Of(),s="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==s}return y3=n,y3}var v3,SU;function Tbe(){if(SU)return v3;SU=1;var t=mY();function e(s){return t(s)&&s!=+s}return v3=e,v3}var Bbe=Tbe();const vb=xn(Bbe);var Mbe=mY();const Fbe=xn(Mbe);var tl=function(e){return e===0?0:e>0?1:-1},Fp=function(e){return ow(e)&&e.indexOf("%")===e.length-1},nr=function(e){return Fbe(e)&&!vb(e)},fi=function(e){return nr(e)||ow(e)},Pbe=0,_x=function(e){var s=++Pbe;return"".concat(e||"").concat(s)},rl=function(e,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nr(e)&&!ow(e))return n;var i;if(Fp(e)){var o=e.indexOf("%");i=s*parseFloat(e.slice(0,o))/100}else i=+e;return vb(i)&&(i=n),a&&i>s&&(i=s),i},Dm=function(e){if(!e)return null;var s=Object.keys(e);return s&&s.length?e[s[0]]:null},Ibe=function(e){if(!Array.isArray(e))return!1;for(var s=e.length,n={},a=0;a<s;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},di=function(e,s){return nr(e)&&nr(s)?function(n){return e+n*(s-e)}:function(){return s}};function FN(t,e,s){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):fc(n,e))===s})}function og(t,e){for(var s in t)if({}.hasOwnProperty.call(t,s)&&(!{}.hasOwnProperty.call(e,s)||t[s]!==e[s]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function XB(t){"@babel/helpers - typeof";return XB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XB(t)}var Lbe=["viewBox","children"],Dbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CU=["points","pathLength"],w3={svg:Lbe,polygon:CU,polyline:CU},nI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],PN=function(e,s){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),!yb(n))return null;var a={};return Object.keys(n).forEach(function(i){nI.includes(i)&&(a[i]=s||function(o){return n[i](n,o)})}),a},Rbe=function(e,s,n){return function(a){return e(s,n,a),null}},cx=function(e,s,n){if(!yb(e)||XB(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];nI.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Rbe(o,s,n))}),a},Obe=["children"],Ube=["children"];function _U(t,e){if(t==null)return{};var s=Hbe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Hbe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function YB(t){"@babel/helpers - typeof";return YB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YB(t)}var EU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},kU=null,j3=null,aI=function t(e){if(e===kU&&Array.isArray(j3))return j3;var s=[];return E.Children.forEach(e,function(n){as(n)||(kbe.isFragment(n)?s=s.concat(t(n.props.children)):s.push(n))}),j3=s,kU=e,s};function mc(t,e){var s=[],n=[];return Array.isArray(e)?n=e.map(function(a){return vf(a)}):n=[vf(e)],aI(t).forEach(function(a){var i=fc(a,"type.displayName")||fc(a,"type.name");n.indexOf(i)!==-1&&s.push(a)}),s}function ic(t,e){var s=mc(t,e);return s&&s[0]}var TU=function(e){if(!e||!e.props)return!1;var s=e.props,n=s.width,a=s.height;return!(!nr(n)||n<=0||!nr(a)||a<=0)},Qbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$be=function(e){return e&&e.type&&ow(e.type)&&Qbe.indexOf(e.type)>=0},pY=function(e){return e&&YB(e)==="object"&&"clipDot"in e},zbe=function(e,s,n,a){var i,o=(i=w3==null?void 0:w3[a])!==null&&i!==void 0?i:[];return!qr(e)&&(a&&o.includes(s)||Dbe.includes(s))||n&&nI.includes(s)},Rr=function(e,s,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(E.isValidElement(e)&&(a=e.props),!yb(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;zbe((l=a)===null||l===void 0?void 0:l[o],o,s,n)&&(i[o]=a[o])}),i},JB=function t(e,s){if(e===s)return!0;var n=E.Children.count(e);if(n!==E.Children.count(s))return!1;if(n===0)return!0;if(n===1)return BU(Array.isArray(e)?e[0]:e,Array.isArray(s)?s[0]:s);for(var a=0;a<n;a++){var i=e[a],o=s[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!BU(i,o))return!1}return!0},BU=function(e,s){if(as(e)&&as(s))return!0;if(!as(e)&&!as(s)){var n=e.props||{},a=n.children,i=_U(n,Obe),o=s.props||{},l=o.children,c=_U(o,Ube);return a&&l?og(i,c)&&JB(a,l):!a&&!l?og(i,c):!1}return!1},MU=function(e,s){var n=[],a={};return aI(e).forEach(function(i,o){if($be(i))n.push(i);else if(i){var l=vf(i.type),c=s[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);n.push(h),a[l]=!0}}}),n},Gbe=function(e){var s=e&&e.type;return s&&EU[s]?EU[s]:null},Vbe=function(e,s){return aI(s).indexOf(e)},Wbe=["children","width","height","viewBox","className","style","title","desc"];function ZB(){return ZB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ZB.apply(this,arguments)}function qbe(t,e){if(t==null)return{};var s=Kbe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Kbe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function eM(t){var e=t.children,s=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=qbe(t,Wbe),u=a||{width:s,height:n,x:0,y:0},h=ms("recharts-surface",i);return Ve.createElement("svg",ZB({},Rr(d,!0,"svg"),{className:h,width:s,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ve.createElement("title",null,l),Ve.createElement("desc",null,c),e)}var Xbe=["children","className"];function tM(){return tM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},tM.apply(this,arguments)}function Ybe(t,e){if(t==null)return{};var s=Jbe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Jbe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}var Ss=Ve.forwardRef(function(t,e){var s=t.children,n=t.className,a=Ybe(t,Xbe),i=ms("recharts-layer",n);return Ve.createElement("g",tM({className:i},Rr(a,!0),{ref:e}),s)}),qd=function(e,s){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},N3,FU;function Zbe(){if(FU)return N3;FU=1;function t(e,s,n){var a=-1,i=e.length;s<0&&(s=-s>i?0:i+s),n=n>i?i:n,n<0&&(n+=i),i=s>n?0:n-s>>>0,s>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+s];return o}return N3=t,N3}var S3,PU;function eye(){if(PU)return S3;PU=1;var t=Zbe();function e(s,n,a){var i=s.length;return a=a===void 0?i:a,!n&&a>=i?s:t(s,n,a)}return S3=e,S3}var C3,IU;function xY(){if(IU)return C3;IU=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+s+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(d){return l.test(d)}return C3=c,C3}var _3,LU;function tye(){if(LU)return _3;LU=1;function t(e){return e.split("")}return _3=t,_3}var E3,DU;function rye(){if(DU)return E3;DU=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+s+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",x=d+"?",A="["+i+"]?",g="(?:"+f+"(?:"+[u,h,m].join("|")+")"+A+x+")*",b=A+x+g,w="(?:"+[u+l+"?",l,h,m,o].join("|")+")",v=RegExp(c+"(?="+c+")|"+w+b,"g");function j(N){return N.match(v)||[]}return E3=j,E3}var k3,RU;function sye(){if(RU)return k3;RU=1;var t=tye(),e=xY(),s=rye();function n(a){return e(a)?s(a):t(a)}return k3=n,k3}var T3,OU;function nye(){if(OU)return T3;OU=1;var t=eye(),e=xY(),s=sye(),n=uY();function a(i){return function(o){o=n(o);var l=e(o)?s(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return T3=a,T3}var B3,UU;function aye(){if(UU)return B3;UU=1;var t=nye(),e=t("toUpperCase");return B3=e,B3}var iye=aye();const US=xn(iye);function Dn(t){return function(){return t}}const AY=Math.cos,IN=Math.sin,su=Math.sqrt,LN=Math.PI,HS=2*LN,rM=Math.PI,sM=2*rM,wp=1e-6,oye=sM-wp;function gY(t){this._+=t[0];for(let e=1,s=t.length;e<s;++e)this._+=arguments[e]+t[e]}function lye(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gY;const s=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*s)/s+n[a]}}class cye{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gY:lye(e)}moveTo(e,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,s){this._append`L${this._x1=+e},${this._y1=+s}`}quadraticCurveTo(e,s,n,a){this._append`Q${+e},${+s},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,s,n,a,i,o){this._append`C${+e},${+s},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,s,n,a,i){if(e=+e,s=+s,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=a-s,u=o-e,h=l-s,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=s}`;else if(m>wp)if(!(Math.abs(h*c-d*u)>wp)||!i)this._append`L${this._x1=e},${this._y1=s}`;else{let f=n-o,x=a-l,A=c*c+d*d,g=f*f+x*x,b=Math.sqrt(A),w=Math.sqrt(m),v=i*Math.tan((rM-Math.acos((A+m-g)/(2*b*w)))/2),j=v/w,N=v/b;Math.abs(j-1)>wp&&this._append`L${e+j*u},${s+j*h}`,this._append`A${i},${i},0,0,${+(h*f>u*x)},${this._x1=e+N*c},${this._y1=s+N*d}`}}arc(e,s,n,a,i,o){if(e=+e,s=+s,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=e+l,u=s+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>wp||Math.abs(this._y1-u)>wp)&&this._append`L${d},${u}`,n&&(m<0&&(m=m%sM+sM),m>oye?this._append`A${n},${n},0,1,${h},${e-l},${s-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:m>wp&&this._append`A${n},${n},0,${+(m>=rM)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=s+n*Math.sin(i)}`)}rect(e,s,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+s}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function iI(t){let e=3;return t.digits=function(s){if(!arguments.length)return e;if(s==null)e=null;else{const n=Math.floor(s);if(!(n>=0))throw new RangeError(`invalid digits: ${s}`);e=n}return t},()=>new cye(e)}function oI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bY(t){this._context=t}bY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function QS(t){return new bY(t)}function yY(t){return t[0]}function vY(t){return t[1]}function wY(t,e){var s=Dn(!0),n=null,a=QS,i=null,o=iI(l);t=typeof t=="function"?t:t===void 0?yY:Dn(t),e=typeof e=="function"?e:e===void 0?vY:Dn(e);function l(c){var d,u=(c=oI(c)).length,h,m=!1,f;for(n==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&s(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(h,d,c),+e(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Dn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Dn(+c),l):e},l.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Dn(!!c),l):s},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function R2(t,e,s){var n=null,a=Dn(!0),i=null,o=QS,l=null,c=iI(d);t=typeof t=="function"?t:t===void 0?yY:Dn(+t),e=typeof e=="function"?e:Dn(e===void 0?0:+e),s=typeof s=="function"?s:s===void 0?vY:Dn(+s);function d(h){var m,f,x,A=(h=oI(h)).length,g,b=!1,w,v=new Array(A),j=new Array(A);for(i==null&&(l=o(w=c())),m=0;m<=A;++m){if(!(m<A&&a(g=h[m],m,h))===b)if(b=!b)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=f;--x)l.point(v[x],j[x]);l.lineEnd(),l.areaEnd()}b&&(v[m]=+t(g,m,h),j[m]=+e(g,m,h),l.point(n?+n(g,m,h):v[m],s?+s(g,m,h):j[m]))}if(w)return l=null,w+""||null}function u(){return wY().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Dn(+h),n=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Dn(+h),d):t},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Dn(+h),d):n},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Dn(+h),s=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Dn(+h),d):e},d.y1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:Dn(+h),d):s},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(s)},d.lineX1=function(){return u().x(n).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Dn(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class jY{constructor(e,s){this._context=e,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,s){switch(e=+e,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,s,e,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,e,this._y0,e,s);break}}this._x0=e,this._y0=s}}function dye(t){return new jY(t,!0)}function uye(t){return new jY(t,!1)}const lI={draw(t,e){const s=su(e/LN);t.moveTo(s,0),t.arc(0,0,s,0,HS)}},hye={draw(t,e){const s=su(e/5)/2;t.moveTo(-3*s,-s),t.lineTo(-s,-s),t.lineTo(-s,-3*s),t.lineTo(s,-3*s),t.lineTo(s,-s),t.lineTo(3*s,-s),t.lineTo(3*s,s),t.lineTo(s,s),t.lineTo(s,3*s),t.lineTo(-s,3*s),t.lineTo(-s,s),t.lineTo(-3*s,s),t.closePath()}},NY=su(1/3),fye=NY*2,mye={draw(t,e){const s=su(e/fye),n=s*NY;t.moveTo(0,-s),t.lineTo(n,0),t.lineTo(0,s),t.lineTo(-n,0),t.closePath()}},pye={draw(t,e){const s=su(e),n=-s/2;t.rect(n,n,s,s)}},xye=.8908130915292852,SY=IN(LN/10)/IN(7*LN/10),Aye=IN(HS/10)*SY,gye=-AY(HS/10)*SY,bye={draw(t,e){const s=su(e*xye),n=Aye*s,a=gye*s;t.moveTo(0,-s),t.lineTo(n,a);for(let i=1;i<5;++i){const o=HS*i/5,l=AY(o),c=IN(o);t.lineTo(c*s,-l*s),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},M3=su(3),yye={draw(t,e){const s=-su(e/(M3*3));t.moveTo(0,s*2),t.lineTo(-M3*s,-s),t.lineTo(M3*s,-s),t.closePath()}},Rc=-.5,Oc=su(3)/2,nM=1/su(12),vye=(nM/2+1)*3,wye={draw(t,e){const s=su(e/vye),n=s/2,a=s*nM,i=n,o=s*nM+s,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(Rc*n-Oc*a,Oc*n+Rc*a),t.lineTo(Rc*i-Oc*o,Oc*i+Rc*o),t.lineTo(Rc*l-Oc*c,Oc*l+Rc*c),t.lineTo(Rc*n+Oc*a,Rc*a-Oc*n),t.lineTo(Rc*i+Oc*o,Rc*o-Oc*i),t.lineTo(Rc*l+Oc*c,Rc*c-Oc*l),t.closePath()}};function jye(t,e){let s=null,n=iI(a);t=typeof t=="function"?t:Dn(t||lI),e=typeof e=="function"?e:Dn(e===void 0?64:+e);function a(){let i;if(s||(s=i=n()),t.apply(this,arguments).draw(s,+e.apply(this,arguments)),i)return s=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Dn(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Dn(+i),a):e},a.context=function(i){return arguments.length?(s=i??null,a):s},a}function DN(){}function RN(t,e,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+s)/6)}function CY(t){this._context=t}CY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:RN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:RN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nye(t){return new CY(t)}function _Y(t){this._context=t}_Y.prototype={areaStart:DN,areaEnd:DN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:RN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sye(t){return new _Y(t)}function EY(t){this._context=t}EY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(s,n):this._context.moveTo(s,n);break;case 3:this._point=4;default:RN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cye(t){return new EY(t)}function kY(t){this._context=t}kY.prototype={areaStart:DN,areaEnd:DN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _ye(t){return new kY(t)}function HU(t){return t<0?-1:1}function QU(t,e,s){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(s-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(HU(i)+HU(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function $U(t,e){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-e)/2:e}function F3(t,e,s){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*s,i,o)}function ON(t){this._context=t}ON.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F3(this,this._t0,$U(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var s=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,F3(this,$U(this,s=QU(this,t,e)),s);break;default:F3(this,this._t0,s=QU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=s}}};function TY(t){this._context=new BY(t)}(TY.prototype=Object.create(ON.prototype)).point=function(t,e){ON.prototype.point.call(this,e,t)};function BY(t){this._context=t}BY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,s,n,a,i){this._context.bezierCurveTo(e,t,n,s,i,a)}};function Eye(t){return new ON(t)}function kye(t){return new TY(t)}function MY(t){this._context=t}MY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),s===2)this._context.lineTo(t[1],e[1]);else for(var n=zU(t),a=zU(e),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zU(t){var e,s=t.length-1,n,a=new Array(s),i=new Array(s),o=new Array(s);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<s-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[s-1]=2,i[s-1]=7,o[s-1]=8*t[s-1]+t[s],e=1;e<s;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[s-1]=o[s-1]/i[s-1],e=s-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[s-1]=(t[s]+a[s-1])/2,e=0;e<s-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function Tye(t){return new MY(t)}function $S(t,e){this._context=t,this._t=e}$S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,e)}break}}this._x=t,this._y=e}};function Bye(t){return new $S(t,.5)}function Mye(t){return new $S(t,0)}function Fye(t){return new $S(t,1)}function Pg(t,e){if((o=t.length)>1)for(var s=1,n,a,i=t[e[0]],o,l=i.length;s<o;++s)for(a=i,i=t[e[s]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function aM(t){for(var e=t.length,s=new Array(e);--e>=0;)s[e]=e;return s}function Pye(t,e){return t[e]}function Iye(t){const e=[];return e.key=t,e}function Lye(){var t=Dn([]),e=aM,s=Pg,n=Pye;function a(i){var o=Array.from(t.apply(this,arguments),Iye),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=oI(e(o));l<c;++l)o[u[l]].index=l;return s(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Dn(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Dn(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?aM:typeof i=="function"?i:Dn(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(s=i??Pg,a):s},a}function Dye(t,e){if((n=t.length)>0){for(var s,n,a=0,i=t[0].length,o;a<i;++a){for(o=s=0;s<n;++s)o+=t[s][a][1]||0;if(o)for(s=0;s<n;++s)t[s][a][1]/=o}Pg(t,e)}}function Rye(t,e){if((a=t.length)>0){for(var s=0,n=t[e[0]],a,i=n.length;s<i;++s){for(var o=0,l=0;o<a;++o)l+=t[o][s][1]||0;n[s][1]+=n[s][0]=-l/2}Pg(t,e)}}function Oye(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var s=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[n][1]||0,m=u[n-1][1]||0,f=(h-m)/2,x=0;x<l;++x){var A=t[e[x]],g=A[n][1]||0,b=A[n-1][1]||0;f+=g-b}c+=h,d+=f*h}a[n-1][1]+=a[n-1][0]=s,c&&(s-=d/c)}a[n-1][1]+=a[n-1][0]=s,Pg(t,e)}}function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}var Uye=["type","size","sizeType"];function iM(){return iM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},iM.apply(this,arguments)}function GU(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function VU(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?GU(Object(s),!0).forEach(function(n){Hye(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):GU(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Hye(t,e,s){return e=Qye(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Qye(t){var e=$ye(t,"string");return Vv(e)=="symbol"?e:e+""}function $ye(t,e){if(Vv(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zye(t,e){if(t==null)return{};var s=Gye(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Gye(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}var FY={symbolCircle:lI,symbolCross:hye,symbolDiamond:mye,symbolSquare:pye,symbolStar:bye,symbolTriangle:yye,symbolWye:wye},Vye=Math.PI/180,Wye=function(e){var s="symbol".concat(US(e));return FY[s]||lI},qye=function(e,s,n){if(s==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Vye;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Kye=function(e,s){FY["symbol".concat(US(e))]=s},cI=function(e){var s=e.type,n=s===void 0?"circle":s,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=zye(e,Uye),d=VU(VU({},c),{},{type:n,size:i,sizeType:l}),u=function(){var g=Wye(n),b=jye().type(g).size(qye(i,l,n));return b()},h=d.className,m=d.cx,f=d.cy,x=Rr(d,!0);return m===+m&&f===+f&&i===+i?Ve.createElement("path",iM({},x,{className:ms("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(f,")"),d:u()})):null};cI.registerSymbol=Kye;function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function oM(){return oM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},oM.apply(this,arguments)}function WU(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Xye(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(s),!0).forEach(function(n){Wv(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):WU(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Yye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jye(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IY(n.key),n)}}function Zye(t,e,s){return e&&Jye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eve(t,e,s){return e=UN(e),tve(t,PY()?Reflect.construct(e,s||[],UN(t).constructor):e.apply(t,s))}function tve(t,e){if(e&&(Ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rve(t)}function rve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PY=function(){return!!t})()}function UN(t){return UN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},UN(t)}function sve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lM(t,e)}function lM(t,e){return lM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lM(t,e)}function Wv(t,e,s){return e=IY(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function IY(t){var e=nve(t,"string");return Ig(e)=="symbol"?e:e+""}function nve(t,e){if(Ig(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uc=32,dI=(function(t){function e(){return Yye(this,e),eve(this,e,arguments)}return sve(e,t),Zye(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Uc/2,o=Uc/6,l=Uc/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Ve.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Uc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ve.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Uc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ve.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Uc/8,"h").concat(Uc,"v").concat(Uc*3/4,"h").concat(-Uc,"z"),className:"recharts-legend-icon"});if(Ve.isValidElement(n.legendIcon)){var d=Xye({},n);return delete d.legendIcon,Ve.cloneElement(n.legendIcon,d)}return Ve.createElement(cI,{fill:c,cx:i,cy:i,size:Uc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Uc,height:Uc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,x){var A=f.formatter||c,g=ms(Wv(Wv({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=qr(f.value)?null:f.value;qd(!qr(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=f.inactive?d:f.color;return Ve.createElement("li",oM({className:g,style:h,key:"legend-item-".concat(x)},cx(n.props,f,x)),Ve.createElement(eM,{width:o,height:o,viewBox:u,style:m},n.renderIcon(f)),Ve.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},A?A(b,f,x):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ve.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(E.PureComponent);Wv(dI,"displayName","Legend");Wv(dI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var P3,qU;function ave(){if(qU)return P3;qU=1;var t=DS();function e(){this.__data__=new t,this.size=0}return P3=e,P3}var I3,KU;function ive(){if(KU)return I3;KU=1;function t(e){var s=this.__data__,n=s.delete(e);return this.size=s.size,n}return I3=t,I3}var L3,XU;function ove(){if(XU)return L3;XU=1;function t(e){return this.__data__.get(e)}return L3=t,L3}var D3,YU;function lve(){if(YU)return D3;YU=1;function t(e){return this.__data__.has(e)}return D3=t,D3}var R3,JU;function cve(){if(JU)return R3;JU=1;var t=DS(),e=eI(),s=tI(),n=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new s(c)}return l.set(i,o),this.size=l.size,this}return R3=a,R3}var O3,ZU;function LY(){if(ZU)return O3;ZU=1;var t=DS(),e=ave(),s=ive(),n=ove(),a=lve(),i=cve();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=s,o.prototype.get=n,o.prototype.has=a,o.prototype.set=i,O3=o,O3}var U3,e7;function dve(){if(e7)return U3;e7=1;var t="__lodash_hash_undefined__";function e(s){return this.__data__.set(s,t),this}return U3=e,U3}var H3,t7;function uve(){if(t7)return H3;t7=1;function t(e){return this.__data__.has(e)}return H3=t,H3}var Q3,r7;function DY(){if(r7)return Q3;r7=1;var t=tI(),e=dve(),s=uve();function n(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=s,Q3=n,Q3}var $3,s7;function RY(){if(s7)return $3;s7=1;function t(e,s){for(var n=-1,a=e==null?0:e.length;++n<a;)if(s(e[n],n,e))return!0;return!1}return $3=t,$3}var z3,n7;function OY(){if(n7)return z3;n7=1;function t(e,s){return e.has(s)}return z3=t,z3}var G3,a7;function UY(){if(a7)return G3;a7=1;var t=DY(),e=RY(),s=OY(),n=1,a=2;function i(o,l,c,d,u,h){var m=c&n,f=o.length,x=l.length;if(f!=x&&!(m&&x>f))return!1;var A=h.get(o),g=h.get(l);if(A&&g)return A==l&&g==o;var b=-1,w=!0,v=c&a?new t:void 0;for(h.set(o,l),h.set(l,o);++b<f;){var j=o[b],N=l[b];if(d)var S=m?d(N,j,b,l,o,h):d(j,N,b,o,l,h);if(S!==void 0){if(S)continue;w=!1;break}if(v){if(!e(l,function(T,I){if(!s(v,I)&&(j===T||u(j,T,c,d,h)))return v.push(I)})){w=!1;break}}else if(!(j===N||u(j,N,c,d,h))){w=!1;break}}return h.delete(o),h.delete(l),w}return G3=i,G3}var V3,i7;function hve(){if(i7)return V3;i7=1;var t=lh(),e=t.Uint8Array;return V3=e,V3}var W3,o7;function fve(){if(o7)return W3;o7=1;function t(e){var s=-1,n=Array(e.size);return e.forEach(function(a,i){n[++s]=[i,a]}),n}return W3=t,W3}var q3,l7;function uI(){if(l7)return q3;l7=1;function t(e){var s=-1,n=Array(e.size);return e.forEach(function(a){n[++s]=a}),n}return q3=t,q3}var K3,c7;function mve(){if(c7)return K3;c7=1;var t=iw(),e=hve(),s=ZP(),n=UY(),a=fve(),i=uI(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Map]",m="[object Number]",f="[object RegExp]",x="[object Set]",A="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",v=t?t.prototype:void 0,j=v?v.valueOf:void 0;function N(S,T,I,_,M,C,B){switch(I){case w:if(S.byteLength!=T.byteLength||S.byteOffset!=T.byteOffset)return!1;S=S.buffer,T=T.buffer;case b:return!(S.byteLength!=T.byteLength||!C(new e(S),new e(T)));case c:case d:case m:return s(+S,+T);case u:return S.name==T.name&&S.message==T.message;case f:case A:return S==T+"";case h:var P=a;case x:var H=_&o;if(P||(P=i),S.size!=T.size&&!H)return!1;var D=B.get(S);if(D)return D==T;_|=l,B.set(S,T);var G=n(P(S),P(T),_,M,C,B);return B.delete(S),G;case g:if(j)return j.call(S)==j.call(T)}return!1}return K3=N,K3}var X3,d7;function HY(){if(d7)return X3;d7=1;function t(e,s){for(var n=-1,a=s.length,i=e.length;++n<a;)e[i+n]=s[n];return e}return X3=t,X3}var Y3,u7;function pve(){if(u7)return Y3;u7=1;var t=HY(),e=Ul();function s(n,a,i){var o=a(n);return e(n)?o:t(o,i(n))}return Y3=s,Y3}var J3,h7;function xve(){if(h7)return J3;h7=1;function t(e,s){for(var n=-1,a=e==null?0:e.length,i=0,o=[];++n<a;){var l=e[n];s(l,n,e)&&(o[i++]=l)}return o}return J3=t,J3}var Z3,f7;function Ave(){if(f7)return Z3;f7=1;function t(){return[]}return Z3=t,Z3}var eE,m7;function gve(){if(m7)return eE;m7=1;var t=xve(),e=Ave(),s=Object.prototype,n=s.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return eE=i,eE}var tE,p7;function bve(){if(p7)return tE;p7=1;function t(e,s){for(var n=-1,a=Array(e);++n<e;)a[n]=s(n);return a}return tE=t,tE}var rE,x7;function yve(){if(x7)return rE;x7=1;var t=Rf(),e=Of(),s="[object Arguments]";function n(a){return e(a)&&t(a)==s}return rE=n,rE}var sE,A7;function hI(){if(A7)return sE;A7=1;var t=yve(),e=Of(),s=Object.prototype,n=s.hasOwnProperty,a=s.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return sE=i,sE}var Qy={exports:{}},nE,g7;function vve(){if(g7)return nE;g7=1;function t(){return!1}return nE=t,nE}Qy.exports;var b7;function QY(){return b7||(b7=1,(function(t,e){var s=lh(),n=vve(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?s.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(Qy,Qy.exports)),Qy.exports}var aE,y7;function fI(){if(y7)return aE;y7=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function s(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return aE=s,aE}var iE,v7;function mI(){if(v7)return iE;v7=1;var t=9007199254740991;function e(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=t}return iE=e,iE}var oE,w7;function wve(){if(w7)return oE;w7=1;var t=Rf(),e=mI(),s=Of(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",m="[object RegExp]",f="[object Set]",x="[object String]",A="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",v="[object Float64Array]",j="[object Int8Array]",N="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",_="[object Uint16Array]",M="[object Uint32Array]",C={};C[w]=C[v]=C[j]=C[N]=C[S]=C[T]=C[I]=C[_]=C[M]=!0,C[n]=C[a]=C[g]=C[i]=C[b]=C[o]=C[l]=C[c]=C[d]=C[u]=C[h]=C[m]=C[f]=C[x]=C[A]=!1;function B(P){return s(P)&&e(P.length)&&!!C[t(P)]}return oE=B,oE}var lE,j7;function $Y(){if(j7)return lE;j7=1;function t(e){return function(s){return e(s)}}return lE=t,lE}var $y={exports:{}};$y.exports;var N7;function jve(){return N7||(N7=1,(function(t,e){var s=lY(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&s.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})($y,$y.exports)),$y.exports}var cE,S7;function zY(){if(S7)return cE;S7=1;var t=wve(),e=$Y(),s=jve(),n=s&&s.isTypedArray,a=n?e(n):t;return cE=a,cE}var dE,C7;function Nve(){if(C7)return dE;C7=1;var t=bve(),e=hI(),s=Ul(),n=QY(),a=fI(),i=zY(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var h=s(d),m=!h&&e(d),f=!h&&!m&&n(d),x=!h&&!m&&!f&&i(d),A=h||m||f||x,g=A?t(d.length,String):[],b=g.length;for(var w in d)(u||l.call(d,w))&&!(A&&(w=="length"||f&&(w=="offset"||w=="parent")||x&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,b)))&&g.push(w);return g}return dE=c,dE}var uE,_7;function Sve(){if(_7)return uE;_7=1;var t=Object.prototype;function e(s){var n=s&&s.constructor,a=typeof n=="function"&&n.prototype||t;return s===a}return uE=e,uE}var hE,E7;function GY(){if(E7)return hE;E7=1;function t(e,s){return function(n){return e(s(n))}}return hE=t,hE}var fE,k7;function Cve(){if(k7)return fE;k7=1;var t=GY(),e=t(Object.keys,Object);return fE=e,fE}var mE,T7;function _ve(){if(T7)return mE;T7=1;var t=Sve(),e=Cve(),s=Object.prototype,n=s.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return mE=a,mE}var pE,B7;function lw(){if(B7)return pE;B7=1;var t=JP(),e=mI();function s(n){return n!=null&&e(n.length)&&!t(n)}return pE=s,pE}var xE,M7;function zS(){if(M7)return xE;M7=1;var t=Nve(),e=_ve(),s=lw();function n(a){return s(a)?t(a):e(a)}return xE=n,xE}var AE,F7;function Eve(){if(F7)return AE;F7=1;var t=pve(),e=gve(),s=zS();function n(a){return t(a,s,e)}return AE=n,AE}var gE,P7;function kve(){if(P7)return gE;P7=1;var t=Eve(),e=1,s=Object.prototype,n=s.hasOwnProperty;function a(i,o,l,c,d,u){var h=l&e,m=t(i),f=m.length,x=t(o),A=x.length;if(f!=A&&!h)return!1;for(var g=f;g--;){var b=m[g];if(!(h?b in o:n.call(o,b)))return!1}var w=u.get(i),v=u.get(o);if(w&&v)return w==o&&v==i;var j=!0;u.set(i,o),u.set(o,i);for(var N=h;++g<f;){b=m[g];var S=i[b],T=o[b];if(c)var I=h?c(T,S,b,o,i,u):c(S,T,b,i,o,u);if(!(I===void 0?S===T||d(S,T,l,c,u):I)){j=!1;break}N||(N=b=="constructor")}if(j&&!N){var _=i.constructor,M=o.constructor;_!=M&&"constructor"in i&&"constructor"in o&&!(typeof _=="function"&&_ instanceof _&&typeof M=="function"&&M instanceof M)&&(j=!1)}return u.delete(i),u.delete(o),j}return gE=a,gE}var bE,I7;function Tve(){if(I7)return bE;I7=1;var t=Cx(),e=lh(),s=t(e,"DataView");return bE=s,bE}var yE,L7;function Bve(){if(L7)return yE;L7=1;var t=Cx(),e=lh(),s=t(e,"Promise");return yE=s,yE}var vE,D7;function VY(){if(D7)return vE;D7=1;var t=Cx(),e=lh(),s=t(e,"Set");return vE=s,vE}var wE,R7;function Mve(){if(R7)return wE;R7=1;var t=Cx(),e=lh(),s=t(e,"WeakMap");return wE=s,wE}var jE,O7;function Fve(){if(O7)return jE;O7=1;var t=Tve(),e=eI(),s=Bve(),n=VY(),a=Mve(),i=Rf(),o=cY(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",m="[object DataView]",f=o(t),x=o(e),A=o(s),g=o(n),b=o(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=m||e&&w(new e)!=l||s&&w(s.resolve())!=d||n&&w(new n)!=u||a&&w(new a)!=h)&&(w=function(v){var j=i(v),N=j==c?v.constructor:void 0,S=N?o(N):"";if(S)switch(S){case f:return m;case x:return l;case A:return d;case g:return u;case b:return h}return j}),jE=w,jE}var NE,U7;function Pve(){if(U7)return NE;U7=1;var t=LY(),e=UY(),s=mve(),n=kve(),a=Fve(),i=Ul(),o=QY(),l=zY(),c=1,d="[object Arguments]",u="[object Array]",h="[object Object]",m=Object.prototype,f=m.hasOwnProperty;function x(A,g,b,w,v,j){var N=i(A),S=i(g),T=N?u:a(A),I=S?u:a(g);T=T==d?h:T,I=I==d?h:I;var _=T==h,M=I==h,C=T==I;if(C&&o(A)){if(!o(g))return!1;N=!0,_=!1}if(C&&!_)return j||(j=new t),N||l(A)?e(A,g,b,w,v,j):s(A,g,T,b,w,v,j);if(!(b&c)){var B=_&&f.call(A,"__wrapped__"),P=M&&f.call(g,"__wrapped__");if(B||P){var H=B?A.value():A,D=P?g.value():g;return j||(j=new t),v(H,D,b,w,j)}}return C?(j||(j=new t),n(A,g,b,w,v,j)):!1}return NE=x,NE}var SE,H7;function pI(){if(H7)return SE;H7=1;var t=Pve(),e=Of();function s(n,a,i,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,o,s,l)}return SE=s,SE}var CE,Q7;function Ive(){if(Q7)return CE;Q7=1;var t=LY(),e=pI(),s=1,n=2;function a(i,o,l,c){var d=l.length,u=d,h=!c;if(i==null)return!u;for(i=Object(i);d--;){var m=l[d];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++d<u;){m=l[d];var f=m[0],x=i[f],A=m[1];if(h&&m[2]){if(x===void 0&&!(f in i))return!1}else{var g=new t;if(c)var b=c(x,A,f,i,o,g);if(!(b===void 0?e(A,x,s|n,c,g):b))return!1}}return!0}return CE=a,CE}var _E,$7;function WY(){if($7)return _E;$7=1;var t=A0();function e(s){return s===s&&!t(s)}return _E=e,_E}var EE,z7;function Lve(){if(z7)return EE;z7=1;var t=WY(),e=zS();function s(n){for(var a=e(n),i=a.length;i--;){var o=a[i],l=n[o];a[i]=[o,l,t(l)]}return a}return EE=s,EE}var kE,G7;function qY(){if(G7)return kE;G7=1;function t(e,s){return function(n){return n==null?!1:n[e]===s&&(s!==void 0||e in Object(n))}}return kE=t,kE}var TE,V7;function Dve(){if(V7)return TE;V7=1;var t=Ive(),e=Lve(),s=qY();function n(a){var i=e(a);return i.length==1&&i[0][2]?s(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return TE=n,TE}var BE,W7;function Rve(){if(W7)return BE;W7=1;function t(e,s){return e!=null&&s in Object(e)}return BE=t,BE}var ME,q7;function Ove(){if(q7)return ME;q7=1;var t=hY(),e=hI(),s=Ul(),n=fI(),a=mI(),i=OS();function o(l,c,d){c=t(c,l);for(var u=-1,h=c.length,m=!1;++u<h;){var f=i(c[u]);if(!(m=l!=null&&d(l,f)))break;l=l[f]}return m||++u!=h?m:(h=l==null?0:l.length,!!h&&a(h)&&n(f,h)&&(s(l)||e(l)))}return ME=o,ME}var FE,K7;function Uve(){if(K7)return FE;K7=1;var t=Rve(),e=Ove();function s(n,a){return n!=null&&e(n,a,t)}return FE=s,FE}var PE,X7;function Hve(){if(X7)return PE;X7=1;var t=pI(),e=fY(),s=Uve(),n=YP(),a=WY(),i=qY(),o=OS(),l=1,c=2;function d(u,h){return n(u)&&a(h)?i(o(u),h):function(m){var f=e(m,u);return f===void 0&&f===h?s(m,u):t(h,f,l|c)}}return PE=d,PE}var IE,Y7;function wb(){if(Y7)return IE;Y7=1;function t(e){return e}return IE=t,IE}var LE,J7;function Qve(){if(J7)return LE;J7=1;function t(e){return function(s){return s==null?void 0:s[e]}}return LE=t,LE}var DE,Z7;function $ve(){if(Z7)return DE;Z7=1;var t=sI();function e(s){return function(n){return t(n,s)}}return DE=e,DE}var RE,e9;function zve(){if(e9)return RE;e9=1;var t=Qve(),e=$ve(),s=YP(),n=OS();function a(i){return s(i)?t(n(i)):e(i)}return RE=a,RE}var OE,t9;function ch(){if(t9)return OE;t9=1;var t=Dve(),e=Hve(),s=wb(),n=Ul(),a=zve();function i(o){return typeof o=="function"?o:o==null?s:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return OE=i,OE}var UE,r9;function KY(){if(r9)return UE;r9=1;function t(e,s,n,a){for(var i=e.length,o=n+(a?1:-1);a?o--:++o<i;)if(s(e[o],o,e))return o;return-1}return UE=t,UE}var HE,s9;function Gve(){if(s9)return HE;s9=1;function t(e){return e!==e}return HE=t,HE}var QE,n9;function Vve(){if(n9)return QE;n9=1;function t(e,s,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===s)return a;return-1}return QE=t,QE}var $E,a9;function Wve(){if(a9)return $E;a9=1;var t=KY(),e=Gve(),s=Vve();function n(a,i,o){return i===i?s(a,i,o):t(a,e,o)}return $E=n,$E}var zE,i9;function qve(){if(i9)return zE;i9=1;var t=Wve();function e(s,n){var a=s==null?0:s.length;return!!a&&t(s,n,0)>-1}return zE=e,zE}var GE,o9;function Kve(){if(o9)return GE;o9=1;function t(e,s,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(s,e[a]))return!0;return!1}return GE=t,GE}var VE,l9;function Xve(){if(l9)return VE;l9=1;function t(){}return VE=t,VE}var WE,c9;function Yve(){if(c9)return WE;c9=1;var t=VY(),e=Xve(),s=uI(),n=1/0,a=t&&1/s(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return WE=a,WE}var qE,d9;function Jve(){if(d9)return qE;d9=1;var t=DY(),e=qve(),s=Kve(),n=OY(),a=Yve(),i=uI(),o=200;function l(c,d,u){var h=-1,m=e,f=c.length,x=!0,A=[],g=A;if(u)x=!1,m=s;else if(f>=o){var b=d?null:a(c);if(b)return i(b);x=!1,m=n,g=new t}else g=d?[]:A;e:for(;++h<f;){var w=c[h],v=d?d(w):w;if(w=u||w!==0?w:0,x&&v===v){for(var j=g.length;j--;)if(g[j]===v)continue e;d&&g.push(v),A.push(w)}else m(g,v,u)||(g!==A&&g.push(v),A.push(w))}return A}return qE=l,qE}var KE,u9;function Zve(){if(u9)return KE;u9=1;var t=ch(),e=Jve();function s(n,a){return n&&n.length?e(n,t(a,2)):[]}return KE=s,KE}var e1e=Zve();const h9=xn(e1e);function XY(t,e,s){return e===!0?h9(t,s):qr(e)?h9(t,e):t}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}var t1e=["ref"];function f9(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Yh(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?f9(Object(s),!0).forEach(function(n){GS(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f9(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function r1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m9(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JY(n.key),n)}}function s1e(t,e,s){return e&&m9(t.prototype,e),s&&m9(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function n1e(t,e,s){return e=HN(e),a1e(t,YY()?Reflect.construct(e,s||[],HN(t).constructor):e.apply(t,s))}function a1e(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1e(t)}function i1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YY=function(){return!!t})()}function HN(t){return HN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},HN(t)}function o1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cM(t,e)}function cM(t,e){return cM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cM(t,e)}function GS(t,e,s){return e=JY(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function JY(t){var e=l1e(t,"string");return Lg(e)=="symbol"?e:e+""}function l1e(t,e){if(Lg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function c1e(t,e){if(t==null)return{};var s=d1e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function d1e(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function u1e(t){return t.value}function h1e(t,e){if(Ve.isValidElement(t))return Ve.cloneElement(t,e);if(typeof t=="function")return Ve.createElement(t,e);e.ref;var s=c1e(e,t1e);return Ve.createElement(dI,s)}var p9=1,Ku=(function(t){function e(){var s;r1e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=n1e(this,e,[].concat(a)),GS(s,"lastBoundingBox",{width:-1,height:-1}),s}return o1e(e,t),s1e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>p9||Math.abs(a.height-this.lastBoundingBox.height)>p9)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();h={left:((d||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((u||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Yh(Yh({},h),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=Yh(Yh({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ve.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){n.wrapperNode=f}},h1e(i,Yh(Yh({},this.props),{},{payload:XY(u,d,u1e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Yh(Yh({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&nr(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(E.PureComponent);GS(Ku,"displayName","Legend");GS(Ku,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var XE,x9;function f1e(){if(x9)return XE;x9=1;var t=iw(),e=hI(),s=Ul(),n=t?t.isConcatSpreadable:void 0;function a(i){return s(i)||e(i)||!!(n&&i&&i[n])}return XE=a,XE}var YE,A9;function ZY(){if(A9)return YE;A9=1;var t=HY(),e=f1e();function s(n,a,i,o,l){var c=-1,d=n.length;for(i||(i=e),l||(l=[]);++c<d;){var u=n[c];a>0&&i(u)?a>1?s(u,a-1,i,o,l):t(l,u):o||(l[l.length]=u)}return l}return YE=s,YE}var JE,g9;function m1e(){if(g9)return JE;g9=1;function t(e){return function(s,n,a){for(var i=-1,o=Object(s),l=a(s),c=l.length;c--;){var d=l[e?c:++i];if(n(o[d],d,o)===!1)break}return s}}return JE=t,JE}var ZE,b9;function p1e(){if(b9)return ZE;b9=1;var t=m1e(),e=t();return ZE=e,ZE}var ek,y9;function eJ(){if(y9)return ek;y9=1;var t=p1e(),e=zS();function s(n,a){return n&&t(n,a,e)}return ek=s,ek}var tk,v9;function x1e(){if(v9)return tk;v9=1;var t=lw();function e(s,n){return function(a,i){if(a==null)return a;if(!t(a))return s(a,i);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return tk=e,tk}var rk,w9;function xI(){if(w9)return rk;w9=1;var t=eJ(),e=x1e(),s=e(t);return rk=s,rk}var sk,j9;function tJ(){if(j9)return sk;j9=1;var t=xI(),e=lw();function s(n,a){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++i]=a(l,c,d)}),o}return sk=s,sk}var nk,N9;function A1e(){if(N9)return nk;N9=1;function t(e,s){var n=e.length;for(e.sort(s);n--;)e[n]=e[n].value;return e}return nk=t,nk}var ak,S9;function g1e(){if(S9)return ak;S9=1;var t=bb();function e(s,n){if(s!==n){var a=s!==void 0,i=s===null,o=s===s,l=t(s),c=n!==void 0,d=n===null,u=n===n,h=t(n);if(!d&&!h&&!l&&s>n||l&&c&&u&&!d&&!h||i&&c&&u||!a&&u||!o)return 1;if(!i&&!l&&!h&&s<n||h&&a&&o&&!i&&!l||d&&a&&o||!c&&o||!u)return-1}return 0}return ak=e,ak}var ik,C9;function b1e(){if(C9)return ik;C9=1;var t=g1e();function e(s,n,a){for(var i=-1,o=s.criteria,l=n.criteria,c=o.length,d=a.length;++i<c;){var u=t(o[i],l[i]);if(u){if(i>=d)return u;var h=a[i];return u*(h=="desc"?-1:1)}}return s.index-n.index}return ik=e,ik}var ok,_9;function y1e(){if(_9)return ok;_9=1;var t=rI(),e=sI(),s=ch(),n=tJ(),a=A1e(),i=$Y(),o=b1e(),l=wb(),c=Ul();function d(u,h,m){h.length?h=t(h,function(A){return c(A)?function(g){return e(g,A.length===1?A[0]:A)}:A}):h=[l];var f=-1;h=t(h,i(s));var x=n(u,function(A,g,b){var w=t(h,function(v){return v(A)});return{criteria:w,index:++f,value:A}});return a(x,function(A,g){return o(A,g,m)})}return ok=d,ok}var lk,E9;function v1e(){if(E9)return lk;E9=1;function t(e,s,n){switch(n.length){case 0:return e.call(s);case 1:return e.call(s,n[0]);case 2:return e.call(s,n[0],n[1]);case 3:return e.call(s,n[0],n[1],n[2])}return e.apply(s,n)}return lk=t,lk}var ck,k9;function w1e(){if(k9)return ck;k9=1;var t=v1e(),e=Math.max;function s(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),d=Array(c);++l<c;)d[l]=o[a+l];l=-1;for(var u=Array(a+1);++l<a;)u[l]=o[l];return u[a]=i(d),t(n,this,u)}}return ck=s,ck}var dk,T9;function j1e(){if(T9)return dk;T9=1;function t(e){return function(){return e}}return dk=t,dk}var uk,B9;function rJ(){if(B9)return uk;B9=1;var t=Cx(),e=(function(){try{var s=t(Object,"defineProperty");return s({},"",{}),s}catch{}})();return uk=e,uk}var hk,M9;function N1e(){if(M9)return hk;M9=1;var t=j1e(),e=rJ(),s=wb(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:s;return hk=n,hk}var fk,F9;function S1e(){if(F9)return fk;F9=1;var t=800,e=16,s=Date.now;function n(a){var i=0,o=0;return function(){var l=s(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return fk=n,fk}var mk,P9;function C1e(){if(P9)return mk;P9=1;var t=N1e(),e=S1e(),s=e(t);return mk=s,mk}var pk,I9;function _1e(){if(I9)return pk;I9=1;var t=wb(),e=w1e(),s=C1e();function n(a,i){return s(e(a,i,t),a+"")}return pk=n,pk}var xk,L9;function VS(){if(L9)return xk;L9=1;var t=ZP(),e=lw(),s=fI(),n=A0();function a(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&s(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return xk=a,xk}var Ak,D9;function E1e(){if(D9)return Ak;D9=1;var t=ZY(),e=y1e(),s=_1e(),n=VS(),a=s(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Ak=a,Ak}var k1e=E1e();const AI=xn(k1e);function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function dM(){return dM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},dM.apply(this,arguments)}function T1e(t,e){return P1e(t)||F1e(t,e)||M1e(t,e)||B1e()}function B1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M1e(t,e){if(t){if(typeof t=="string")return R9(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return R9(t,e)}}function R9(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function F1e(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function P1e(t){if(Array.isArray(t))return t}function O9(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function gk(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(s),!0).forEach(function(n){I1e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O9(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function I1e(t,e,s){return e=L1e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function L1e(t){var e=D1e(t,"string");return qv(e)=="symbol"?e:e+""}function D1e(t,e){if(qv(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R1e(t){return Array.isArray(t)&&fi(t[0])&&fi(t[1])?t.join(" ~ "):t}var O1e=function(e){var s=e.separator,n=s===void 0?" : ":s,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,m=e.itemSorter,f=e.wrapperClassName,x=e.labelClassName,A=e.label,g=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,v=function(){if(u&&u.length){var B={padding:0,margin:0},P=(m?AI(u,m):u).map(function(H,D){if(H.type==="none")return null;var G=gk({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),O=H.formatter||h||R1e,Q=H.value,ee=H.name,q=Q,Z=ee;if(O&&q!=null&&Z!=null){var F=O(Q,ee,H,D,u);if(Array.isArray(F)){var z=T1e(F,2);q=z[0],Z=z[1]}else q=F}return Ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:G},fi(Z)?Ve.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,fi(Z)?Ve.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ve.createElement("span",{className:"recharts-tooltip-item-value"},q),Ve.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Ve.createElement("ul",{className:"recharts-tooltip-item-list",style:B},P)}return null},j=gk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=gk({margin:0},d),S=!as(A),T=S?A:"",I=ms("recharts-default-tooltip",f),_=ms("recharts-tooltip-label",x);S&&g&&u!==void 0&&u!==null&&(T=g(A,u));var M=w?{role:"status","aria-live":"assertive"}:{};return Ve.createElement("div",dM({className:I,style:j},M),Ve.createElement("p",{className:_,style:N},Ve.isValidElement(T)?T:"".concat(T)),v())};function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function O2(t,e,s){return e=U1e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function U1e(t){var e=H1e(t,"string");return Kv(e)=="symbol"?e:e+""}function H1e(t,e){if(Kv(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var by="recharts-tooltip-wrapper",Q1e={visibility:"hidden"};function $1e(t){var e=t.coordinate,s=t.translateX,n=t.translateY;return ms(by,O2(O2(O2(O2({},"".concat(by,"-right"),nr(s)&&e&&nr(e.x)&&s>=e.x),"".concat(by,"-left"),nr(s)&&e&&nr(e.x)&&s<e.x),"".concat(by,"-bottom"),nr(n)&&e&&nr(e.y)&&n>=e.y),"".concat(by,"-top"),nr(n)&&e&&nr(e.y)&&n<e.y))}function U9(t){var e=t.allowEscapeViewBox,s=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&nr(i[n]))return i[n];var u=s[n]-l-a,h=s[n]+a;if(e[n])return o[n]?u:h;if(o[n]){var m=u,f=c[n];return m<f?Math.max(h,c[n]):Math.max(u,c[n])}var x=h+l,A=c[n]+d;return x>A?Math.max(u,c[n]):Math.max(h,c[n])}function z1e(t){var e=t.translateX,s=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(s,"px, 0)"):"translate(".concat(e,"px, ").concat(s,"px)")}}function G1e(t){var e=t.allowEscapeViewBox,s=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&s?(u=U9({allowEscapeViewBox:e,coordinate:s,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=U9({allowEscapeViewBox:e,coordinate:s,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=z1e({translateX:u,translateY:h,useTranslate3d:l})):d=Q1e,{cssProperties:d,cssClasses:$1e({translateX:u,translateY:h,coordinate:s})}}function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function H9(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Q9(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(s),!0).forEach(function(n){hM(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):H9(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function V1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W1e(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nJ(n.key),n)}}function q1e(t,e,s){return e&&W1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K1e(t,e,s){return e=QN(e),X1e(t,sJ()?Reflect.construct(e,s||[],QN(t).constructor):e.apply(t,s))}function X1e(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1e(t)}function Y1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sJ=function(){return!!t})()}function QN(t){return QN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},QN(t)}function J1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uM(t,e)}function uM(t,e){return uM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uM(t,e)}function hM(t,e,s){return e=nJ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function nJ(t){var e=Z1e(t,"string");return Dg(e)=="symbol"?e:e+""}function Z1e(t,e){if(Dg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $9=1,ewe=(function(t){function e(){var s;V1e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=K1e(this,e,[].concat(a)),hM(s,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hM(s,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;s.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=s.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=s.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),s}return J1e(e,t),q1e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>$9||Math.abs(n.height-this.state.lastBoundingBox.height)>$9)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,m=a.isAnimationActive,f=a.offset,x=a.position,A=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,v=G1e({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:x,reverseDirection:A,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),j=v.cssClasses,N=v.cssProperties,S=Q9(Q9({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return Ve.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(I){n.wrapperNode=I}},d)}}])})(E.PureComponent),twe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},g0={isSsr:twe()};function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function z9(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function G9(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?z9(Object(s),!0).forEach(function(n){gI(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):z9(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function swe(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iJ(n.key),n)}}function nwe(t,e,s){return e&&swe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function awe(t,e,s){return e=$N(e),iwe(t,aJ()?Reflect.construct(e,s||[],$N(t).constructor):e.apply(t,s))}function iwe(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return owe(t)}function owe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aJ=function(){return!!t})()}function $N(t){return $N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$N(t)}function lwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fM(t,e)}function fM(t,e){return fM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fM(t,e)}function gI(t,e,s){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function iJ(t){var e=cwe(t,"string");return Rg(e)=="symbol"?e:e+""}function cwe(t,e){if(Rg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dwe(t){return t.dataKey}function uwe(t,e){return Ve.isValidElement(t)?Ve.cloneElement(t,e):typeof t=="function"?Ve.createElement(t,e):Ve.createElement(O1e,e)}var Xa=(function(t){function e(){return rwe(this,e),awe(this,e,arguments)}return lwe(e,t),nwe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,m=a.isAnimationActive,f=a.offset,x=a.payload,A=a.payloadUniqBy,g=a.position,b=a.reverseDirection,w=a.useTranslate3d,v=a.viewBox,j=a.wrapperStyle,N=x??[];h&&N.length&&(N=XY(x.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),A,dwe));var S=N.length>0;return Ve.createElement(ewe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:S,offset:f,position:g,reverseDirection:b,useTranslate3d:w,viewBox:v,wrapperStyle:j},uwe(d,G9(G9({},this.props),{},{payload:N})))}}])})(E.PureComponent);gI(Xa,"displayName","Tooltip");gI(Xa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!g0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bk,V9;function hwe(){if(V9)return bk;V9=1;var t=lh(),e=function(){return t.Date.now()};return bk=e,bk}var yk,W9;function fwe(){if(W9)return yk;W9=1;var t=/\s/;function e(s){for(var n=s.length;n--&&t.test(s.charAt(n)););return n}return yk=e,yk}var vk,q9;function mwe(){if(q9)return vk;q9=1;var t=fwe(),e=/^\s+/;function s(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return vk=s,vk}var wk,K9;function oJ(){if(K9)return wk;K9=1;var t=mwe(),e=A0(),s=bb(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(s(d))return n;if(e(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=e(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):a.test(d)?n:+d}return wk=c,wk}var jk,X9;function pwe(){if(X9)return jk;X9=1;var t=A0(),e=hwe(),s=oJ(),n="Expected a function",a=Math.max,i=Math.min;function o(l,c,d){var u,h,m,f,x,A,g=0,b=!1,w=!1,v=!0;if(typeof l!="function")throw new TypeError(n);c=s(c)||0,t(d)&&(b=!!d.leading,w="maxWait"in d,m=w?a(s(d.maxWait)||0,c):m,v="trailing"in d?!!d.trailing:v);function j(P){var H=u,D=h;return u=h=void 0,g=P,f=l.apply(D,H),f}function N(P){return g=P,x=setTimeout(I,c),b?j(P):f}function S(P){var H=P-A,D=P-g,G=c-H;return w?i(G,m-D):G}function T(P){var H=P-A,D=P-g;return A===void 0||H>=c||H<0||w&&D>=m}function I(){var P=e();if(T(P))return _(P);x=setTimeout(I,S(P))}function _(P){return x=void 0,v&&u?j(P):(u=h=void 0,f)}function M(){x!==void 0&&clearTimeout(x),g=0,u=A=h=x=void 0}function C(){return x===void 0?f:_(e())}function B(){var P=e(),H=T(P);if(u=arguments,h=this,A=P,H){if(x===void 0)return N(A);if(w)return clearTimeout(x),x=setTimeout(I,c),j(A)}return x===void 0&&(x=setTimeout(I,c)),f}return B.cancel=M,B.flush=C,B}return jk=o,jk}var Nk,Y9;function xwe(){if(Y9)return Nk;Y9=1;var t=pwe(),e=A0(),s="Expected a function";function n(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(s);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return Nk=n,Nk}var Awe=xwe();const lJ=xn(Awe);function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function J9(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function U2(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(s),!0).forEach(function(n){gwe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):J9(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function gwe(t,e,s){return e=bwe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function bwe(t){var e=ywe(t,"string");return Xv(e)=="symbol"?e:e+""}function ywe(t,e){if(Xv(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vwe(t,e){return Swe(t)||Nwe(t,e)||jwe(t,e)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jwe(t,e){if(t){if(typeof t=="string")return Z9(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Z9(t,e)}}function Z9(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function Nwe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Swe(t){if(Array.isArray(t))return t}var $d=E.forwardRef(function(t,e){var s=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,m=t.maxHeight,f=t.children,x=t.debounce,A=x===void 0?0:x,g=t.id,b=t.className,w=t.onResize,v=t.style,j=v===void 0?{}:v,N=E.useRef(null),S=E.useRef();S.current=w,E.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=E.useState({containerWidth:a.width,containerHeight:a.height}),I=vwe(T,2),_=I[0],M=I[1],C=E.useCallback(function(P,H){M(function(D){var G=Math.round(P),O=Math.round(H);return D.containerWidth===G&&D.containerHeight===O?D:{containerWidth:G,containerHeight:O}})},[]);E.useEffect(function(){var P=function(ee){var q,Z=ee[0].contentRect,F=Z.width,z=Z.height;C(F,z),(q=S.current)===null||q===void 0||q.call(S,F,z)};A>0&&(P=lJ(P,A,{trailing:!0,leading:!1}));var H=new ResizeObserver(P),D=N.current.getBoundingClientRect(),G=D.width,O=D.height;return C(G,O),H.observe(N.current),function(){H.disconnect()}},[C,A]);var B=E.useMemo(function(){var P=_.containerWidth,H=_.containerHeight;if(P<0||H<0)return null;qd(Fp(o)||Fp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qd(!s||s>0,"The aspect(%s) must be greater than zero.",s);var D=Fp(o)?P:o,G=Fp(c)?H:c;s&&s>0&&(D?G=D/s:G&&(D=G*s),m&&G>m&&(G=m)),qd(D>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,G,o,c,u,h,s);var O=!Array.isArray(f)&&vf(f.type).endsWith("Chart");return Ve.Children.map(f,function(Q){return Ve.isValidElement(Q)?E.cloneElement(Q,U2({width:D,height:G},O?{style:U2({height:"100%",width:"100%",maxHeight:G,maxWidth:D},Q.props.style)}:{})):Q})},[s,f,c,m,h,u,_,o]);return Ve.createElement("div",{id:g?"".concat(g):void 0,className:ms("recharts-responsive-container",b),style:U2(U2({},j),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:N},B)}),u0=function(e){return null};u0.displayName="Cell";function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function eH(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function mM(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?eH(Object(s),!0).forEach(function(n){Cwe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):eH(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Cwe(t,e,s){return e=_we(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function _we(t){var e=Ewe(t,"string");return Yv(e)=="symbol"?e:e+""}function Ewe(t,e){if(Yv(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NA={widthCache:{},cacheCount:0},kwe=2e3,Twe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tH="recharts_measurement_span";function Bwe(t){var e=mM({},t);return Object.keys(e).forEach(function(s){e[s]||delete e[s]}),e}var cv=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||g0.isSsr)return{width:0,height:0};var n=Bwe(s),a=JSON.stringify({text:e,copyStyle:n});if(NA.widthCache[a])return NA.widthCache[a];try{var i=document.getElementById(tH);i||(i=document.createElement("span"),i.setAttribute("id",tH),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=mM(mM({},Twe),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return NA.widthCache[a]=c,++NA.cacheCount>kwe&&(NA.cacheCount=0,NA.widthCache={}),c}catch{return{width:0,height:0}}},Mwe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function zN(t,e){return Lwe(t)||Iwe(t,e)||Pwe(t,e)||Fwe()}function Fwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pwe(t,e){if(t){if(typeof t=="string")return rH(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return rH(t,e)}}function rH(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function Iwe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Lwe(t){if(Array.isArray(t))return t}function Dwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sH(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Owe(n.key),n)}}function Rwe(t,e,s){return e&&sH(t.prototype,e),s&&sH(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Owe(t){var e=Uwe(t,"string");return Jv(e)=="symbol"?e:e+""}function Uwe(t,e){if(Jv(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$we=Object.keys(cJ),KA="NaN";function zwe(t,e){return t*cJ[e]}var H2=(function(){function t(e,s){Dwe(this,t),this.num=e,this.unit=s,this.num=e,this.unit=s,Number.isNaN(e)&&(this.unit=""),s!==""&&!Hwe.test(s)&&(this.num=NaN,this.unit=""),$we.includes(s)&&(this.num=zwe(e,s),this.unit="px")}return Rwe(t,[{key:"add",value:function(s){return this.unit!==s.unit?new t(NaN,""):new t(this.num+s.num,this.unit)}},{key:"subtract",value:function(s){return this.unit!==s.unit?new t(NaN,""):new t(this.num-s.num,this.unit)}},{key:"multiply",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new t(NaN,""):new t(this.num*s.num,this.unit||s.unit)}},{key:"divide",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new t(NaN,""):new t(this.num/s.num,this.unit||s.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(s){var n,a=(n=Qwe.exec(s))!==null&&n!==void 0?n:[],i=zN(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function dJ(t){if(t.includes(KA))return KA;for(var e=t;e.includes("*")||e.includes("/");){var s,n=(s=nH.exec(e))!==null&&s!==void 0?s:[],a=zN(n,4),i=a[1],o=a[2],l=a[3],c=H2.parse(i??""),d=H2.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return KA;e=e.replace(nH,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=aH.exec(e))!==null&&h!==void 0?h:[],f=zN(m,4),x=f[1],A=f[2],g=f[3],b=H2.parse(x??""),w=H2.parse(g??""),v=A==="+"?b.add(w):b.subtract(w);if(v.isNaN())return KA;e=e.replace(aH,v.toString())}return e}var iH=/\(([^()]*)\)/;function Gwe(t){for(var e=t;e.includes("(");){var s=iH.exec(e),n=zN(s,2),a=n[1];e=e.replace(iH,dJ(a))}return e}function Vwe(t){var e=t.replace(/\s+/g,"");return e=Gwe(e),e=dJ(e),e}function Wwe(t){try{return Vwe(t)}catch{return KA}}function Sk(t){var e=Wwe(t.slice(5,-1));return e===KA?"":e}var qwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kwe=["dx","dy","angle","className","breakAll"];function pM(){return pM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},pM.apply(this,arguments)}function oH(t,e){if(t==null)return{};var s=Xwe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Xwe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function lH(t,e){return e2e(t)||Zwe(t,e)||Jwe(t,e)||Ywe()}function Ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jwe(t,e){if(t){if(typeof t=="string")return cH(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return cH(t,e)}}function cH(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function Zwe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function e2e(t){if(Array.isArray(t))return t}var uJ=/[ \f\n\r\t\v\u2028\u2029]+/,hJ=function(e){var s=e.children,n=e.breakAll,a=e.style;try{var i=[];as(s)||(n?i=s.toString().split(""):i=s.toString().split(uJ));var o=i.map(function(c){return{word:c,width:cv(c,a).width}}),l=n?0:cv("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},t2e=function(e,s,n,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=nr(o),h=l,m=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(G,O){var Q=O.word,ee=O.width,q=G[G.length-1];if(q&&(a==null||i||q.width+ee+n<Number(a)))q.words.push(Q),q.width+=ee+n;else{var Z={words:[Q],width:ee};G.push(Z)}return G},[])},f=m(s),x=function(D){return D.reduce(function(G,O){return G.width>O.width?G:O})};if(!u)return f;for(var A="",g=function(D){var G=h.slice(0,D),O=hJ({breakAll:d,style:c,children:G+A}).wordsWithComputedWidth,Q=m(O),ee=Q.length>o||x(Q).width>Number(a);return[ee,Q]},b=0,w=h.length-1,v=0,j;b<=w&&v<=h.length-1;){var N=Math.floor((b+w)/2),S=N-1,T=g(S),I=lH(T,2),_=I[0],M=I[1],C=g(N),B=lH(C,1),P=B[0];if(!_&&!P&&(b=N+1),_&&P&&(w=N-1),!_&&P){j=M;break}v++}return j||f},dH=function(e){var s=as(e)?[]:e.toString().split(uJ);return[{words:s}]},r2e=function(e){var s=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((s||n)&&!g0.isSsr){var c,d,u=hJ({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return dH(a);return t2e({breakAll:o,children:a,maxLines:l,style:i},c,d,s,n)}return dH(a)},uH="#808080",dx=function(e){var s=e.x,n=s===void 0?0:s,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,m=e.textAnchor,f=m===void 0?"start":m,x=e.verticalAnchor,A=x===void 0?"end":x,g=e.fill,b=g===void 0?uH:g,w=oH(e,qwe),v=E.useMemo(function(){return r2e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),j=w.dx,N=w.dy,S=w.angle,T=w.className,I=w.breakAll,_=oH(w,Kwe);if(!fi(n)||!fi(i))return null;var M=n+(nr(j)?j:0),C=i+(nr(N)?N:0),B;switch(A){case"start":B=Sk("calc(".concat(d,")"));break;case"middle":B=Sk("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:B=Sk("calc(".concat(v.length-1," * -").concat(l,")"));break}var P=[];if(h){var H=v[0].width,D=w.width;P.push("scale(".concat((nr(D)?D/H:1)/H,")"))}return S&&P.push("rotate(".concat(S,", ").concat(M,", ").concat(C,")")),P.length&&(_.transform=P.join(" ")),Ve.createElement("text",pM({},Rr(_,!0),{x:M,y:C,className:ms("recharts-text",T),textAnchor:f,fill:b.includes("url")?uH:b}),v.map(function(G,O){var Q=G.words.join(I?"":" ");return Ve.createElement("tspan",{x:M,dy:O===0?B:l,key:"".concat(Q,"-").concat(O)},Q)}))};function r0(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bI(t){let e,s,n;t.length!==2?(e=r0,s=(l,c)=>r0(t(l),c),n=(l,c)=>t(l)-c):(e=t===r0||t===s2e?t:n2e,s=t,n=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;s(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;s(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function n2e(){return 0}function fJ(t){return t===null?NaN:+t}function*a2e(t,e){for(let s of t)s!=null&&(s=+s)>=s&&(yield s)}const i2e=bI(r0),cw=i2e.right;bI(fJ).center;class hH extends Map{constructor(e,s=c2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(fH(this,e))}has(e){return super.has(fH(this,e))}set(e,s){return super.set(o2e(this,e),s)}delete(e){return super.delete(l2e(this,e))}}function fH({_intern:t,_key:e},s){const n=e(s);return t.has(n)?t.get(n):s}function o2e({_intern:t,_key:e},s){const n=e(s);return t.has(n)?t.get(n):(t.set(n,s),s)}function l2e({_intern:t,_key:e},s){const n=e(s);return t.has(n)&&(s=t.get(n),t.delete(n)),s}function c2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function d2e(t=r0){if(t===r0)return mJ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,s)=>{const n=t(e,s);return n||n===0?n:(t(s,s)===0)-(t(e,e)===0)}}function mJ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const u2e=Math.sqrt(50),h2e=Math.sqrt(10),f2e=Math.sqrt(2);function GN(t,e,s){const n=(e-t)/Math.max(0,s),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=u2e?10:i>=h2e?5:i>=f2e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=s&&s<2?GN(t,e,s*2):[l,c,d]}function xM(t,e,s){if(e=+e,t=+t,s=+s,!(s>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?GN(e,t,s):GN(t,e,s);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function AM(t,e,s){return e=+e,t=+t,s=+s,GN(t,e,s)[2]}function gM(t,e,s){e=+e,t=+t,s=+s;const n=e<t,a=n?AM(e,t,s):AM(t,e,s);return(n?-1:1)*(a<0?1/-a:a)}function mH(t,e){let s;for(const n of t)n!=null&&(s<n||s===void 0&&n>=n)&&(s=n);return s}function pH(t,e){let s;for(const n of t)n!=null&&(s>n||s===void 0&&n>=n)&&(s=n);return s}function pJ(t,e,s=0,n=1/0,a){if(e=Math.floor(e),s=Math.floor(Math.max(0,s)),n=Math.floor(Math.min(t.length-1,n)),!(s<=e&&e<=n))return t;for(a=a===void 0?mJ:d2e(a);n>s;){if(n-s>600){const c=n-s+1,d=e-s+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(s,Math.floor(e-d*h/c+m)),x=Math.min(n,Math.floor(e+(c-d)*h/c+m));pJ(t,e,f,x,a)}const i=t[e];let o=s,l=n;for(yy(t,s,e),a(t[n],i)>0&&yy(t,s,n);o<l;){for(yy(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[s],i)===0?yy(t,s,l):(++l,yy(t,l,n)),l<=e&&(s=l+1),e<=l&&(n=l-1)}return t}function yy(t,e,s){const n=t[e];t[e]=t[s],t[s]=n}function m2e(t,e,s){if(t=Float64Array.from(a2e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return pH(t);if(e>=1)return mH(t);var n,a=(n-1)*e,i=Math.floor(a),o=mH(pJ(t,i).subarray(0,i+1)),l=pH(t.subarray(i+1));return o+(l-o)*(a-i)}}function p2e(t,e,s=fJ){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+s(t[0],0,t);if(e>=1)return+s(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+s(t[i],i,t),l=+s(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function x2e(t,e,s){t=+t,e=+e,s=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+s;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/s))|0,i=new Array(a);++n<a;)i[n]=t+n*s;return i}function cd(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Uf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bM=Symbol("implicit");function yI(){var t=new hH,e=[],s=[],n=bM;function a(i){let o=t.get(i);if(o===void 0){if(n!==bM)return n;t.set(i,o=e.push(i)-1)}return s[o%s.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new hH;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(s=Array.from(i),a):s.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yI(e,s).unknown(n)},cd.apply(a,arguments),a}function Zv(){var t=yI().unknown(void 0),e=t.domain,s=t.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var m=e().length,f=a<n,x=f?a:n,A=f?n:a;i=(A-x)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),x+=(A-x-i*(m-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=x2e(m).map(function(b){return x+i*b});return s(f?g.reverse():g)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(m){return arguments.length?(l=!!m,h()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},t.copy=function(){return Zv(e(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},cd.apply(h(),arguments)}function xJ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xJ(e())},t}function dv(){return xJ(Zv.apply(null,arguments).paddingInner(1))}function vI(t,e,s){t.prototype=e.prototype=s,s.constructor=t}function AJ(t,e){var s=Object.create(t.prototype);for(var n in e)s[n]=e[n];return s}function dw(){}var e1=.7,VN=1/e1,lg="\\s*([+-]?\\d+)\\s*",t1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A2e=/^#([0-9a-f]{3,8})$/,g2e=new RegExp(`^rgb\\(${lg},${lg},${lg}\\)$`),b2e=new RegExp(`^rgb\\(${Xu},${Xu},${Xu}\\)$`),y2e=new RegExp(`^rgba\\(${lg},${lg},${lg},${t1}\\)$`),v2e=new RegExp(`^rgba\\(${Xu},${Xu},${Xu},${t1}\\)$`),w2e=new RegExp(`^hsl\\(${t1},${Xu},${Xu}\\)$`),j2e=new RegExp(`^hsla\\(${t1},${Xu},${Xu},${t1}\\)$`),xH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vI(dw,r1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:AH,formatHex:AH,formatHex8:N2e,formatHsl:S2e,formatRgb:gH,toString:gH});function AH(){return this.rgb().formatHex()}function N2e(){return this.rgb().formatHex8()}function S2e(){return gJ(this).formatHsl()}function gH(){return this.rgb().formatRgb()}function r1(t){var e,s;return t=(t+"").trim().toLowerCase(),(e=A2e.exec(t))?(s=e[1].length,e=parseInt(e[1],16),s===6?bH(e):s===3?new Bl(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):s===8?Q2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):s===4?Q2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=g2e.exec(t))?new Bl(e[1],e[2],e[3],1):(e=b2e.exec(t))?new Bl(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=y2e.exec(t))?Q2(e[1],e[2],e[3],e[4]):(e=v2e.exec(t))?Q2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=w2e.exec(t))?wH(e[1],e[2]/100,e[3]/100,1):(e=j2e.exec(t))?wH(e[1],e[2]/100,e[3]/100,e[4]):xH.hasOwnProperty(t)?bH(xH[t]):t==="transparent"?new Bl(NaN,NaN,NaN,0):null}function bH(t){return new Bl(t>>16&255,t>>8&255,t&255,1)}function Q2(t,e,s,n){return n<=0&&(t=e=s=NaN),new Bl(t,e,s,n)}function C2e(t){return t instanceof dw||(t=r1(t)),t?(t=t.rgb(),new Bl(t.r,t.g,t.b,t.opacity)):new Bl}function yM(t,e,s,n){return arguments.length===1?C2e(t):new Bl(t,e,s,n??1)}function Bl(t,e,s,n){this.r=+t,this.g=+e,this.b=+s,this.opacity=+n}vI(Bl,yM,AJ(dw,{brighter(t){return t=t==null?VN:Math.pow(VN,t),new Bl(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?e1:Math.pow(e1,t),new Bl(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bl(zp(this.r),zp(this.g),zp(this.b),WN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yH,formatHex:yH,formatHex8:_2e,formatRgb:vH,toString:vH}));function yH(){return`#${Pp(this.r)}${Pp(this.g)}${Pp(this.b)}`}function _2e(){return`#${Pp(this.r)}${Pp(this.g)}${Pp(this.b)}${Pp((isNaN(this.opacity)?1:this.opacity)*255)}`}function vH(){const t=WN(this.opacity);return`${t===1?"rgb(":"rgba("}${zp(this.r)}, ${zp(this.g)}, ${zp(this.b)}${t===1?")":`, ${t})`}`}function WN(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pp(t){return t=zp(t),(t<16?"0":"")+t.toString(16)}function wH(t,e,s,n){return n<=0?t=e=s=NaN:s<=0||s>=1?t=e=NaN:e<=0&&(t=NaN),new Od(t,e,s,n)}function gJ(t){if(t instanceof Od)return new Od(t.h,t.s,t.l,t.opacity);if(t instanceof dw||(t=r1(t)),!t)return new Od;if(t instanceof Od)return t;t=t.rgb();var e=t.r/255,s=t.g/255,n=t.b/255,a=Math.min(e,s,n),i=Math.max(e,s,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(s-n)/l+(s<n)*6:s===i?o=(n-e)/l+2:o=(e-s)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Od(o,l,c,t.opacity)}function E2e(t,e,s,n){return arguments.length===1?gJ(t):new Od(t,e,s,n??1)}function Od(t,e,s,n){this.h=+t,this.s=+e,this.l=+s,this.opacity=+n}vI(Od,E2e,AJ(dw,{brighter(t){return t=t==null?VN:Math.pow(VN,t),new Od(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?e1:Math.pow(e1,t),new Od(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,n=s+(s<.5?s:1-s)*e,a=2*s-n;return new Bl(Ck(t>=240?t-240:t+120,a,n),Ck(t,a,n),Ck(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Od(jH(this.h),$2(this.s),$2(this.l),WN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=WN(this.opacity);return`${t===1?"hsl(":"hsla("}${jH(this.h)}, ${$2(this.s)*100}%, ${$2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jH(t){return t=(t||0)%360,t<0?t+360:t}function $2(t){return Math.max(0,Math.min(1,t||0))}function Ck(t,e,s){return(t<60?e+(s-e)*t/60:t<180?s:t<240?e+(s-e)*(240-t)/60:e)*255}const wI=t=>()=>t;function k2e(t,e){return function(s){return t+s*e}}function T2e(t,e,s){return t=Math.pow(t,s),e=Math.pow(e,s)-t,s=1/s,function(n){return Math.pow(t+n*e,s)}}function B2e(t){return(t=+t)==1?bJ:function(e,s){return s-e?T2e(e,s,t):wI(isNaN(e)?s:e)}}function bJ(t,e){var s=e-t;return s?k2e(t,s):wI(isNaN(t)?e:t)}const NH=(function t(e){var s=B2e(e);function n(a,i){var o=s((a=yM(a)).r,(i=yM(i)).r),l=s(a.g,i.g),c=s(a.b,i.b),d=bJ(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=t,n})(1);function M2e(t,e){e||(e=[]);var s=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<s;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function F2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function P2e(t,e){var s=e?e.length:0,n=t?Math.min(s,t.length):0,a=new Array(n),i=new Array(s),o;for(o=0;o<n;++o)a[o]=jb(t[o],e[o]);for(;o<s;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function I2e(t,e){var s=new Date;return t=+t,e=+e,function(n){return s.setTime(t*(1-n)+e*n),s}}function qN(t,e){return t=+t,e=+e,function(s){return t*(1-s)+e*s}}function L2e(t,e){var s={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?s[a]=jb(t[a],e[a]):n[a]=e[a];return function(i){for(a in s)n[a]=s[a](i);return n}}var vM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_k=new RegExp(vM.source,"g");function D2e(t){return function(){return t}}function R2e(t){return function(e){return t(e)+""}}function O2e(t,e){var s=vM.lastIndex=_k.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=vM.exec(t))&&(a=_k.exec(e));)(i=a.index)>s&&(i=e.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:qN(n,a)})),s=_k.lastIndex;return s<e.length&&(i=e.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?R2e(c[0].x):D2e(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function jb(t,e){var s=typeof e,n;return e==null||s==="boolean"?wI(e):(s==="number"?qN:s==="string"?(n=r1(e))?(e=n,NH):O2e:e instanceof r1?NH:e instanceof Date?I2e:F2e(e)?M2e:Array.isArray(e)?P2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?L2e:qN)(t,e)}function jI(t,e){return t=+t,e=+e,function(s){return Math.round(t*(1-s)+e*s)}}function U2e(t,e){e===void 0&&(e=t,t=jb);for(var s=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);s<n;)i[s]=t(a,a=e[++s]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function H2e(t){return function(){return t}}function KN(t){return+t}var SH=[0,1];function sl(t){return t}function wM(t,e){return(e-=t=+t)?function(s){return(s-t)/e}:H2e(isNaN(e)?NaN:.5)}function Q2e(t,e){var s;return t>e&&(s=t,t=e,e=s),function(n){return Math.max(t,Math.min(e,n))}}function $2e(t,e,s){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=wM(a,n),i=s(o,i)):(n=wM(n,a),i=s(i,o)),function(l){return i(n(l))}}function z2e(t,e,s){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=wM(t[o],t[o+1]),i[o]=s(e[o],e[o+1]);return function(l){var c=cw(t,l,1,n)-1;return i[c](a[c](l))}}function uw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function WS(){var t=SH,e=SH,s=jb,n,a,i,o=sl,l,c,d;function u(){var m=Math.min(t.length,e.length);return o!==sl&&(o=Q2e(t[0],t[m-1])),l=m>2?z2e:$2e,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(t.map(n),e,s)))(n(o(m)))}return h.invert=function(m){return o(a((d||(d=l(e,t.map(n),qN)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,KN),u()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),s=jI,u()},h.clamp=function(m){return arguments.length?(o=m?!0:sl,u()):o!==sl},h.interpolate=function(m){return arguments.length?(s=m,u()):s},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,f){return n=m,a=f,u()}}function NI(){return WS()(sl,sl)}function G2e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function XN(t,e){if((s=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var s,n=t.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+t.slice(s+1)]}function Og(t){return t=XN(Math.abs(t)),t?t[1]:NaN}function V2e(t,e){return function(s,n){for(var a=s.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(s.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function W2e(t){return function(e){return e.replace(/[0-9]/g,function(s){return t[+s]})}}var q2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s1(t){if(!(e=q2e.exec(t)))throw new Error("invalid format: "+t);var e;return new SI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}s1.prototype=SI.prototype;function SI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K2e(t){e:for(var e=t.length,s=1,n=-1,a;s<e;++s)switch(t[s]){case".":n=a=s;break;case"0":n===0&&(n=s),a=s;break;default:if(!+t[s])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var yJ;function X2e(t,e){var s=XN(t,e);if(!s)return t+"";var n=s[0],a=s[1],i=a-(yJ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+XN(t,Math.max(0,e+i-1))[0]}function CH(t,e){var s=XN(t,e);if(!s)return t+"";var n=s[0],a=s[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const _H={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:G2e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CH(t*100,e),r:CH,s:X2e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function EH(t){return t}var kH=Array.prototype.map,TH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Y2e(t){var e=t.grouping===void 0||t.thousands===void 0?EH:V2e(kH.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?EH:W2e(kH.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=s1(h);var m=h.fill,f=h.align,x=h.sign,A=h.symbol,g=h.zero,b=h.width,w=h.comma,v=h.precision,j=h.trim,N=h.type;N==="n"?(w=!0,N="g"):_H[N]||(v===void 0&&(v=12),j=!0,N="g"),(g||m==="0"&&f==="=")&&(g=!0,m="0",f="=");var S=A==="$"?s:A==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=A==="$"?n:/[%p]/.test(N)?o:"",I=_H[N],_=/[defgprs%]/.test(N);v=v===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function M(C){var B=S,P=T,H,D,G;if(N==="c")P=I(C)+P,C="";else{C=+C;var O=C<0||1/C<0;if(C=isNaN(C)?c:I(Math.abs(C),v),j&&(C=K2e(C)),O&&+C==0&&x!=="+"&&(O=!1),B=(O?x==="("?x:l:x==="-"||x==="("?"":x)+B,P=(N==="s"?TH[8+yJ/3]:"")+P+(O&&x==="("?")":""),_){for(H=-1,D=C.length;++H<D;)if(G=C.charCodeAt(H),48>G||G>57){P=(G===46?a+C.slice(H+1):C.slice(H))+P,C=C.slice(0,H);break}}}w&&!g&&(C=e(C,1/0));var Q=B.length+C.length+P.length,ee=Q<b?new Array(b-Q+1).join(m):"";switch(w&&g&&(C=e(ee+C,ee.length?b-P.length:1/0),ee=""),f){case"<":C=B+C+P+ee;break;case"=":C=B+ee+C+P;break;case"^":C=ee.slice(0,Q=ee.length>>1)+B+C+P+ee.slice(Q);break;default:C=ee+B+C+P;break}return i(C)}return M.toString=function(){return h+""},M}function u(h,m){var f=d((h=s1(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(Og(m)/3)))*3,A=Math.pow(10,-x),g=TH[8+x/3];return function(b){return f(A*b)+g}}return{format:d,formatPrefix:u}}var z2,CI,vJ;J2e({thousands:",",grouping:[3],currency:["$",""]});function J2e(t){return z2=Y2e(t),CI=z2.format,vJ=z2.formatPrefix,z2}function Z2e(t){return Math.max(0,-Og(Math.abs(t)))}function eje(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Og(e)/3)))*3-Og(Math.abs(t)))}function tje(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Og(e)-Og(t))+1}function wJ(t,e,s,n){var a=gM(t,e,s),i;switch(n=s1(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=eje(a,o))&&(n.precision=i),vJ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=tje(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Z2e(a))&&(n.precision=i-(n.type==="%")*2);break}}return CI(n)}function b0(t){var e=t.domain;return t.ticks=function(s){var n=e();return xM(n[0],n[n.length-1],s??10)},t.tickFormat=function(s,n){var a=e();return wJ(a[0],a[a.length-1],s??10,n)},t.nice=function(s){s==null&&(s=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=AM(o,l,s),d===c)return n[a]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function YN(){var t=NI();return t.copy=function(){return uw(t,YN())},cd.apply(t,arguments),b0(t)}function jJ(t){var e;function s(n){return n==null||isNaN(n=+n)?e:n}return s.invert=s,s.domain=s.range=function(n){return arguments.length?(t=Array.from(n,KN),s):t.slice()},s.unknown=function(n){return arguments.length?(e=n,s):e},s.copy=function(){return jJ(t).unknown(e)},t=arguments.length?Array.from(t,KN):[0,1],b0(s)}function NJ(t,e){t=t.slice();var s=0,n=t.length-1,a=t[s],i=t[n],o;return i<a&&(o=s,s=n,n=o,o=a,a=i,i=o),t[s]=e.floor(a),t[n]=e.ceil(i),t}function BH(t){return Math.log(t)}function MH(t){return Math.exp(t)}function rje(t){return-Math.log(-t)}function sje(t){return-Math.exp(-t)}function nje(t){return isFinite(t)?+("1e"+t):t<0?0:t}function aje(t){return t===10?nje:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ije(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function FH(t){return(e,s)=>-t(-e,s)}function _I(t){const e=t(BH,MH),s=e.domain;let n=10,a,i;function o(){return a=ije(n),i=aje(n),s()[0]<0?(a=FH(a),i=FH(i),t(rje,sje)):t(BH,MH),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(s(l),o()):s()},e.ticks=l=>{const c=s();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=a(d),f=a(u),x,A;const g=l==null?10:+l;let b=[];if(!(n%1)&&f-m<g){if(m=Math.floor(m),f=Math.ceil(f),d>0){for(;m<=f;++m)for(x=1;x<n;++x)if(A=m<0?x/i(-m):x*i(m),!(A<d)){if(A>u)break;b.push(A)}}else for(;m<=f;++m)for(x=n-1;x>=1;--x)if(A=m>0?x/i(-m):x*i(m),!(A<d)){if(A>u)break;b.push(A)}b.length*2<g&&(b=xM(d,u,g))}else b=xM(m,f,Math.min(f-m,g)).map(i);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=s1(c)).precision==null&&(c.trim=!0),c=CI(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},e.nice=()=>s(NJ(s(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function SJ(){const t=_I(WS()).domain([1,10]);return t.copy=()=>uw(t,SJ()).base(t.base()),cd.apply(t,arguments),t}function PH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function IH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function EI(t){var e=1,s=t(PH(e),IH(e));return s.constant=function(n){return arguments.length?t(PH(e=+n),IH(e)):e},b0(s)}function CJ(){var t=EI(WS());return t.copy=function(){return uw(t,CJ()).constant(t.constant())},cd.apply(t,arguments)}function LH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oje(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lje(t){return t<0?-t*t:t*t}function kI(t){var e=t(sl,sl),s=1;function n(){return s===1?t(sl,sl):s===.5?t(oje,lje):t(LH(s),LH(1/s))}return e.exponent=function(a){return arguments.length?(s=+a,n()):s},b0(e)}function TI(){var t=kI(WS());return t.copy=function(){return uw(t,TI()).exponent(t.exponent())},cd.apply(t,arguments),t}function cje(){return TI.apply(null,arguments).exponent(.5)}function DH(t){return Math.sign(t)*t*t}function dje(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _J(){var t=NI(),e=[0,1],s=!1,n;function a(i){var o=dje(t(i));return isNaN(o)?n:s?Math.round(o):o}return a.invert=function(i){return t.invert(DH(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,KN)).map(DH)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(s=!!i,a):s},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _J(t.domain(),e).round(s).clamp(t.clamp()).unknown(n)},cd.apply(a,arguments),b0(a)}function EJ(){var t=[],e=[],s=[],n;function a(){var o=0,l=Math.max(1,e.length);for(s=new Array(l-1);++o<l;)s[o-1]=p2e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[cw(s,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:t[0],l<s.length?s[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(r0),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return s.slice()},i.copy=function(){return EJ().domain(t).range(e).unknown(n)},cd.apply(i,arguments)}function kJ(){var t=0,e=1,s=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[cw(n,c,0,s)]:i}function l(){var c=-1;for(n=new Array(s);++c<s;)n[c]=((c+1)*e-(c-s)*t)/(s+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(s=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=s?[n[s-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return kJ().domain([t,e]).range(a).unknown(i)},cd.apply(b0(o),arguments)}function TJ(){var t=[.5],e=[0,1],s,n=1;function a(i){return i!=null&&i<=i?e[cw(t,i,0,n)]:s}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return TJ().domain(t).range(e).unknown(s)},cd.apply(a,arguments)}const Ek=new Date,kk=new Date;function bi(t,e,s,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>bi(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),s&&(a.count=(i,o)=>(Ek.setTime(+i),kk.setTime(+o),t(Ek),t(kk),Math.floor(s(Ek,kk))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const JN=bi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);JN.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bi(e=>{e.setTime(Math.floor(e/t)*t)},(e,s)=>{e.setTime(+e+s*t)},(e,s)=>(s-e)/t):JN);JN.range;const mf=1e3,Zc=mf*60,pf=Zc*60,Mf=pf*24,BI=Mf*7,RH=Mf*30,Tk=Mf*365,Ip=bi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mf)},(t,e)=>(e-t)/mf,t=>t.getUTCSeconds());Ip.range;const MI=bi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mf)},(t,e)=>{t.setTime(+t+e*Zc)},(t,e)=>(e-t)/Zc,t=>t.getMinutes());MI.range;const FI=bi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zc)},(t,e)=>(e-t)/Zc,t=>t.getUTCMinutes());FI.range;const PI=bi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mf-t.getMinutes()*Zc)},(t,e)=>{t.setTime(+t+e*pf)},(t,e)=>(e-t)/pf,t=>t.getHours());PI.range;const II=bi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pf)},(t,e)=>(e-t)/pf,t=>t.getUTCHours());II.range;const hw=bi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zc)/Mf,t=>t.getDate()-1);hw.range;const qS=bi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mf,t=>t.getUTCDate()-1);qS.range;const BJ=bi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mf,t=>Math.floor(t/Mf));BJ.range;function Ex(t){return bi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,s)=>{e.setDate(e.getDate()+s*7)},(e,s)=>(s-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*Zc)/BI)}const KS=Ex(0),ZN=Ex(1),uje=Ex(2),hje=Ex(3),Ug=Ex(4),fje=Ex(5),mje=Ex(6);KS.range;ZN.range;uje.range;hje.range;Ug.range;fje.range;mje.range;function kx(t){return bi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+s*7)},(e,s)=>(s-e)/BI)}const XS=kx(0),e5=kx(1),pje=kx(2),xje=kx(3),Hg=kx(4),Aje=kx(5),gje=kx(6);XS.range;e5.range;pje.range;xje.range;Hg.range;Aje.range;gje.range;const LI=bi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LI.range;const DI=bi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DI.range;const Ff=bi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ff.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,s)=>{e.setFullYear(e.getFullYear()+s*t)});Ff.range;const Pf=bi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCFullYear(e.getUTCFullYear()+s*t)});Pf.range;function MJ(t,e,s,n,a,i){const o=[[Ip,1,mf],[Ip,5,5*mf],[Ip,15,15*mf],[Ip,30,30*mf],[i,1,Zc],[i,5,5*Zc],[i,15,15*Zc],[i,30,30*Zc],[a,1,pf],[a,3,3*pf],[a,6,6*pf],[a,12,12*pf],[n,1,Mf],[n,2,2*Mf],[s,1,BI],[e,1,RH],[e,3,3*RH],[t,1,Tk]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),x=f?f.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,h){const m=Math.abs(u-d)/h,f=bI(([,,g])=>g).right(o,m);if(f===o.length)return t.every(gM(d/Tk,u/Tk,h));if(f===0)return JN.every(Math.max(gM(d,u,h),1));const[x,A]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return x.every(A)}return[l,c]}const[bje,yje]=MJ(Pf,DI,XS,BJ,II,FI),[vje,wje]=MJ(Ff,LI,KS,hw,PI,MI);function Bk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Mk(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vy(t,e,s){return{y:t,m:e,d:s,H:0,M:0,S:0,L:0}}function jje(t){var e=t.dateTime,s=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=wy(a),u=jy(a),h=wy(i),m=jy(i),f=wy(o),x=jy(o),A=wy(l),g=jy(l),b=wy(c),w=jy(c),v={a:O,A:Q,b:ee,B:q,c:null,d:zH,e:zH,f:Vje,g:rNe,G:nNe,H:$je,I:zje,j:Gje,L:FJ,m:Wje,M:qje,p:Z,q:F,Q:WH,s:qH,S:Kje,u:Xje,U:Yje,V:Jje,w:Zje,W:eNe,x:null,X:null,y:tNe,Y:sNe,Z:aNe,"%":VH},j={a:z,A:V,b:W,B:ne,c:null,d:GH,e:GH,f:cNe,g:bNe,G:vNe,H:iNe,I:oNe,j:lNe,L:IJ,m:dNe,M:uNe,p:ie,q:be,Q:WH,s:qH,S:hNe,u:fNe,U:mNe,V:pNe,w:xNe,W:ANe,x:null,X:null,y:gNe,Y:yNe,Z:wNe,"%":VH},N={a:M,A:C,b:B,B:P,c:H,d:QH,e:QH,f:Oje,g:HH,G:UH,H:$H,I:$H,j:Ije,L:Rje,m:Pje,M:Lje,p:_,q:Fje,Q:Hje,s:Qje,S:Dje,u:Eje,U:kje,V:Tje,w:_je,W:Bje,x:D,X:G,y:HH,Y:UH,Z:Mje,"%":Uje};v.x=S(s,v),v.X=S(n,v),v.c=S(e,v),j.x=S(s,j),j.X=S(n,j),j.c=S(e,j);function S(ue,je){return function(Be){var oe=[],lt=-1,se=0,J=ue.length,Pe,xe,He;for(Be instanceof Date||(Be=new Date(+Be));++lt<J;)ue.charCodeAt(lt)===37&&(oe.push(ue.slice(se,lt)),(xe=OH[Pe=ue.charAt(++lt)])!=null?Pe=ue.charAt(++lt):xe=Pe==="e"?" ":"0",(He=je[Pe])&&(Pe=He(Be,xe)),oe.push(Pe),se=lt+1);return oe.push(ue.slice(se,lt)),oe.join("")}}function T(ue,je){return function(Be){var oe=vy(1900,void 0,1),lt=I(oe,ue,Be+="",0),se,J;if(lt!=Be.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(je&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(se=Mk(vy(oe.y,0,1)),J=se.getUTCDay(),se=J>4||J===0?e5.ceil(se):e5(se),se=qS.offset(se,(oe.V-1)*7),oe.y=se.getUTCFullYear(),oe.m=se.getUTCMonth(),oe.d=se.getUTCDate()+(oe.w+6)%7):(se=Bk(vy(oe.y,0,1)),J=se.getDay(),se=J>4||J===0?ZN.ceil(se):ZN(se),se=hw.offset(se,(oe.V-1)*7),oe.y=se.getFullYear(),oe.m=se.getMonth(),oe.d=se.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),J="Z"in oe?Mk(vy(oe.y,0,1)).getUTCDay():Bk(vy(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(J+5)%7:oe.w+oe.U*7-(J+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Mk(oe)):Bk(oe)}}function I(ue,je,Be,oe){for(var lt=0,se=je.length,J=Be.length,Pe,xe;lt<se;){if(oe>=J)return-1;if(Pe=je.charCodeAt(lt++),Pe===37){if(Pe=je.charAt(lt++),xe=N[Pe in OH?je.charAt(lt++):Pe],!xe||(oe=xe(ue,Be,oe))<0)return-1}else if(Pe!=Be.charCodeAt(oe++))return-1}return oe}function _(ue,je,Be){var oe=d.exec(je.slice(Be));return oe?(ue.p=u.get(oe[0].toLowerCase()),Be+oe[0].length):-1}function M(ue,je,Be){var oe=f.exec(je.slice(Be));return oe?(ue.w=x.get(oe[0].toLowerCase()),Be+oe[0].length):-1}function C(ue,je,Be){var oe=h.exec(je.slice(Be));return oe?(ue.w=m.get(oe[0].toLowerCase()),Be+oe[0].length):-1}function B(ue,je,Be){var oe=b.exec(je.slice(Be));return oe?(ue.m=w.get(oe[0].toLowerCase()),Be+oe[0].length):-1}function P(ue,je,Be){var oe=A.exec(je.slice(Be));return oe?(ue.m=g.get(oe[0].toLowerCase()),Be+oe[0].length):-1}function H(ue,je,Be){return I(ue,e,je,Be)}function D(ue,je,Be){return I(ue,s,je,Be)}function G(ue,je,Be){return I(ue,n,je,Be)}function O(ue){return o[ue.getDay()]}function Q(ue){return i[ue.getDay()]}function ee(ue){return c[ue.getMonth()]}function q(ue){return l[ue.getMonth()]}function Z(ue){return a[+(ue.getHours()>=12)]}function F(ue){return 1+~~(ue.getMonth()/3)}function z(ue){return o[ue.getUTCDay()]}function V(ue){return i[ue.getUTCDay()]}function W(ue){return c[ue.getUTCMonth()]}function ne(ue){return l[ue.getUTCMonth()]}function ie(ue){return a[+(ue.getUTCHours()>=12)]}function be(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var je=S(ue+="",v);return je.toString=function(){return ue},je},parse:function(ue){var je=T(ue+="",!1);return je.toString=function(){return ue},je},utcFormat:function(ue){var je=S(ue+="",j);return je.toString=function(){return ue},je},utcParse:function(ue){var je=T(ue+="",!0);return je.toString=function(){return ue},je}}}var OH={"-":"",_:" ",0:"0"},Li=/^\s*\d+/,Nje=/^%/,Sje=/[\\^$*+?|[\]().{}]/g;function qs(t,e,s){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<s?new Array(s-i+1).join(e)+a:a)}function Cje(t){return t.replace(Sje,"\\$&")}function wy(t){return new RegExp("^(?:"+t.map(Cje).join("|")+")","i")}function jy(t){return new Map(t.map((e,s)=>[e.toLowerCase(),s]))}function _je(t,e,s){var n=Li.exec(e.slice(s,s+1));return n?(t.w=+n[0],s+n[0].length):-1}function Eje(t,e,s){var n=Li.exec(e.slice(s,s+1));return n?(t.u=+n[0],s+n[0].length):-1}function kje(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.U=+n[0],s+n[0].length):-1}function Tje(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.V=+n[0],s+n[0].length):-1}function Bje(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.W=+n[0],s+n[0].length):-1}function UH(t,e,s){var n=Li.exec(e.slice(s,s+4));return n?(t.y=+n[0],s+n[0].length):-1}function HH(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),s+n[0].length):-1}function Mje(t,e,s){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(s,s+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),s+n[0].length):-1}function Fje(t,e,s){var n=Li.exec(e.slice(s,s+1));return n?(t.q=n[0]*3-3,s+n[0].length):-1}function Pje(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.m=n[0]-1,s+n[0].length):-1}function QH(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.d=+n[0],s+n[0].length):-1}function Ije(t,e,s){var n=Li.exec(e.slice(s,s+3));return n?(t.m=0,t.d=+n[0],s+n[0].length):-1}function $H(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.H=+n[0],s+n[0].length):-1}function Lje(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.M=+n[0],s+n[0].length):-1}function Dje(t,e,s){var n=Li.exec(e.slice(s,s+2));return n?(t.S=+n[0],s+n[0].length):-1}function Rje(t,e,s){var n=Li.exec(e.slice(s,s+3));return n?(t.L=+n[0],s+n[0].length):-1}function Oje(t,e,s){var n=Li.exec(e.slice(s,s+6));return n?(t.L=Math.floor(n[0]/1e3),s+n[0].length):-1}function Uje(t,e,s){var n=Nje.exec(e.slice(s,s+1));return n?s+n[0].length:-1}function Hje(t,e,s){var n=Li.exec(e.slice(s));return n?(t.Q=+n[0],s+n[0].length):-1}function Qje(t,e,s){var n=Li.exec(e.slice(s));return n?(t.s=+n[0],s+n[0].length):-1}function zH(t,e){return qs(t.getDate(),e,2)}function $je(t,e){return qs(t.getHours(),e,2)}function zje(t,e){return qs(t.getHours()%12||12,e,2)}function Gje(t,e){return qs(1+hw.count(Ff(t),t),e,3)}function FJ(t,e){return qs(t.getMilliseconds(),e,3)}function Vje(t,e){return FJ(t,e)+"000"}function Wje(t,e){return qs(t.getMonth()+1,e,2)}function qje(t,e){return qs(t.getMinutes(),e,2)}function Kje(t,e){return qs(t.getSeconds(),e,2)}function Xje(t){var e=t.getDay();return e===0?7:e}function Yje(t,e){return qs(KS.count(Ff(t)-1,t),e,2)}function PJ(t){var e=t.getDay();return e>=4||e===0?Ug(t):Ug.ceil(t)}function Jje(t,e){return t=PJ(t),qs(Ug.count(Ff(t),t)+(Ff(t).getDay()===4),e,2)}function Zje(t){return t.getDay()}function eNe(t,e){return qs(ZN.count(Ff(t)-1,t),e,2)}function tNe(t,e){return qs(t.getFullYear()%100,e,2)}function rNe(t,e){return t=PJ(t),qs(t.getFullYear()%100,e,2)}function sNe(t,e){return qs(t.getFullYear()%1e4,e,4)}function nNe(t,e){var s=t.getDay();return t=s>=4||s===0?Ug(t):Ug.ceil(t),qs(t.getFullYear()%1e4,e,4)}function aNe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qs(e/60|0,"0",2)+qs(e%60,"0",2)}function GH(t,e){return qs(t.getUTCDate(),e,2)}function iNe(t,e){return qs(t.getUTCHours(),e,2)}function oNe(t,e){return qs(t.getUTCHours()%12||12,e,2)}function lNe(t,e){return qs(1+qS.count(Pf(t),t),e,3)}function IJ(t,e){return qs(t.getUTCMilliseconds(),e,3)}function cNe(t,e){return IJ(t,e)+"000"}function dNe(t,e){return qs(t.getUTCMonth()+1,e,2)}function uNe(t,e){return qs(t.getUTCMinutes(),e,2)}function hNe(t,e){return qs(t.getUTCSeconds(),e,2)}function fNe(t){var e=t.getUTCDay();return e===0?7:e}function mNe(t,e){return qs(XS.count(Pf(t)-1,t),e,2)}function LJ(t){var e=t.getUTCDay();return e>=4||e===0?Hg(t):Hg.ceil(t)}function pNe(t,e){return t=LJ(t),qs(Hg.count(Pf(t),t)+(Pf(t).getUTCDay()===4),e,2)}function xNe(t){return t.getUTCDay()}function ANe(t,e){return qs(e5.count(Pf(t)-1,t),e,2)}function gNe(t,e){return qs(t.getUTCFullYear()%100,e,2)}function bNe(t,e){return t=LJ(t),qs(t.getUTCFullYear()%100,e,2)}function yNe(t,e){return qs(t.getUTCFullYear()%1e4,e,4)}function vNe(t,e){var s=t.getUTCDay();return t=s>=4||s===0?Hg(t):Hg.ceil(t),qs(t.getUTCFullYear()%1e4,e,4)}function wNe(){return"+0000"}function VH(){return"%"}function WH(t){return+t}function qH(t){return Math.floor(+t/1e3)}var SA,DJ,RJ;jNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jNe(t){return SA=jje(t),DJ=SA.format,SA.parse,RJ=SA.utcFormat,SA.utcParse,SA}function NNe(t){return new Date(t)}function SNe(t){return t instanceof Date?+t:+new Date(+t)}function RI(t,e,s,n,a,i,o,l,c,d){var u=NI(),h=u.invert,m=u.domain,f=d(".%L"),x=d(":%S"),A=d("%I:%M"),g=d("%I %p"),b=d("%a %d"),w=d("%b %d"),v=d("%B"),j=d("%Y");function N(S){return(c(S)<S?f:l(S)<S?x:o(S)<S?A:i(S)<S?g:n(S)<S?a(S)<S?b:w:s(S)<S?v:j)(S)}return u.invert=function(S){return new Date(h(S))},u.domain=function(S){return arguments.length?m(Array.from(S,SNe)):m().map(NNe)},u.ticks=function(S){var T=m();return t(T[0],T[T.length-1],S??10)},u.tickFormat=function(S,T){return T==null?N:d(T)},u.nice=function(S){var T=m();return(!S||typeof S.range!="function")&&(S=e(T[0],T[T.length-1],S??10)),S?m(NJ(T,S)):u},u.copy=function(){return uw(u,RI(t,e,s,n,a,i,o,l,c,d))},u}function CNe(){return cd.apply(RI(vje,wje,Ff,LI,KS,hw,PI,MI,Ip,DJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _Ne(){return cd.apply(RI(bje,yje,Pf,DI,XS,qS,II,FI,Ip,RJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function YS(){var t=0,e=1,s,n,a,i,o=sl,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-s)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,s=i(t=+t),n=i(e=+e),a=s===n?0:1/(n-s),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var f,x;return arguments.length?([f,x]=m,o=h(f,x),d):[o(0),o(1)]}}return d.range=u(jb),d.rangeRound=u(jI),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,s=h(t),n=h(e),a=s===n?0:1/(n-s),d}}function y0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function OJ(){var t=b0(YS()(sl));return t.copy=function(){return y0(t,OJ())},Uf.apply(t,arguments)}function UJ(){var t=_I(YS()).domain([1,10]);return t.copy=function(){return y0(t,UJ()).base(t.base())},Uf.apply(t,arguments)}function HJ(){var t=EI(YS());return t.copy=function(){return y0(t,HJ()).constant(t.constant())},Uf.apply(t,arguments)}function OI(){var t=kI(YS());return t.copy=function(){return y0(t,OI()).exponent(t.exponent())},Uf.apply(t,arguments)}function ENe(){return OI.apply(null,arguments).exponent(.5)}function QJ(){var t=[],e=sl;function s(n){if(n!=null&&!isNaN(n=+n))return e((cw(t,n,1)-1)/(t.length-1))}return s.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(r0),s},s.interpolator=function(n){return arguments.length?(e=n,s):e},s.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},s.quantiles=function(n){return Array.from({length:n+1},(a,i)=>m2e(t,i/n))},s.copy=function(){return QJ(e).domain(t)},Uf.apply(s,arguments)}function JS(){var t=0,e=.5,s=1,n=1,a,i,o,l,c,d=sl,u,h=!1,m;function f(A){return isNaN(A=+A)?m:(A=.5+((A=+u(A))-i)*(n*A<n*i?l:c),d(h?Math.max(0,Math.min(1,A)):A))}f.domain=function(A){return arguments.length?([t,e,s]=A,a=u(t=+t),i=u(e=+e),o=u(s=+s),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f):[t,e,s]},f.clamp=function(A){return arguments.length?(h=!!A,f):h},f.interpolator=function(A){return arguments.length?(d=A,f):d};function x(A){return function(g){var b,w,v;return arguments.length?([b,w,v]=g,d=U2e(A,[b,w,v]),f):[d(0),d(.5),d(1)]}}return f.range=x(jb),f.rangeRound=x(jI),f.unknown=function(A){return arguments.length?(m=A,f):m},function(A){return u=A,a=A(t),i=A(e),o=A(s),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f}}function $J(){var t=b0(JS()(sl));return t.copy=function(){return y0(t,$J())},Uf.apply(t,arguments)}function zJ(){var t=_I(JS()).domain([.1,1,10]);return t.copy=function(){return y0(t,zJ()).base(t.base())},Uf.apply(t,arguments)}function GJ(){var t=EI(JS());return t.copy=function(){return y0(t,GJ()).constant(t.constant())},Uf.apply(t,arguments)}function UI(){var t=kI(JS());return t.copy=function(){return y0(t,UI()).exponent(t.exponent())},Uf.apply(t,arguments)}function kNe(){return UI.apply(null,arguments).exponent(.5)}const KH=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zv,scaleDiverging:$J,scaleDivergingLog:zJ,scaleDivergingPow:UI,scaleDivergingSqrt:kNe,scaleDivergingSymlog:GJ,scaleIdentity:jJ,scaleImplicit:bM,scaleLinear:YN,scaleLog:SJ,scaleOrdinal:yI,scalePoint:dv,scalePow:TI,scaleQuantile:EJ,scaleQuantize:kJ,scaleRadial:_J,scaleSequential:OJ,scaleSequentialLog:UJ,scaleSequentialPow:OI,scaleSequentialQuantile:QJ,scaleSequentialSqrt:ENe,scaleSequentialSymlog:HJ,scaleSqrt:cje,scaleSymlog:CJ,scaleThreshold:TJ,scaleTime:CNe,scaleUtc:_Ne,tickFormat:wJ},Symbol.toStringTag,{value:"Module"}));var Fk,XH;function ZS(){if(XH)return Fk;XH=1;var t=bb();function e(s,n,a){for(var i=-1,o=s.length;++i<o;){var l=s[i],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):a(c,d)))var d=c,u=l}return u}return Fk=e,Fk}var Pk,YH;function VJ(){if(YH)return Pk;YH=1;function t(e,s){return e>s}return Pk=t,Pk}var Ik,JH;function TNe(){if(JH)return Ik;JH=1;var t=ZS(),e=VJ(),s=wb();function n(a){return a&&a.length?t(a,s,e):void 0}return Ik=n,Ik}var BNe=TNe();const Hm=xn(BNe);var Lk,ZH;function WJ(){if(ZH)return Lk;ZH=1;function t(e,s){return e<s}return Lk=t,Lk}var Dk,eQ;function MNe(){if(eQ)return Dk;eQ=1;var t=ZS(),e=WJ(),s=wb();function n(a){return a&&a.length?t(a,s,e):void 0}return Dk=n,Dk}var FNe=MNe();const e4=xn(FNe);var Rk,tQ;function PNe(){if(tQ)return Rk;tQ=1;var t=rI(),e=ch(),s=tJ(),n=Ul();function a(i,o){var l=n(i)?t:s;return l(i,e(o,3))}return Rk=a,Rk}var Ok,rQ;function INe(){if(rQ)return Ok;rQ=1;var t=ZY(),e=PNe();function s(n,a){return t(e(n,a),1)}return Ok=s,Ok}var LNe=INe();const DNe=xn(LNe);var Uk,sQ;function RNe(){if(sQ)return Uk;sQ=1;var t=pI();function e(s,n){return t(s,n)}return Uk=e,Uk}var ONe=RNe();const ux=xn(ONe);var Nb=1e9,UNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QI,na=!0,sd="[DecimalError] ",Gp=sd+"Invalid argument: ",HI=sd+"Exponent out of range: ",Sb=Math.floor,jp=Math.pow,HNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lc,ki=1e7,Gn=7,qJ=9007199254740991,t5=Sb(qJ/Gn),_r={};_r.absoluteValue=_r.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_r.comparedTo=_r.cmp=function(t){var e,s,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,s=n<a?n:a;e<s;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};_r.decimalPlaces=_r.dp=function(){var t=this,e=t.d.length-1,s=(e-t.e)*Gn;if(e=t.d[e],e)for(;e%10==0;e/=10)s--;return s<0?0:s};_r.dividedBy=_r.div=function(t){return wf(this,new this.constructor(t))};_r.dividedToIntegerBy=_r.idiv=function(t){var e=this,s=e.constructor;return En(wf(e,new s(t),0,1),s.precision)};_r.equals=_r.eq=function(t){return!this.cmp(t)};_r.exponent=function(){return Za(this)};_r.greaterThan=_r.gt=function(t){return this.cmp(t)>0};_r.greaterThanOrEqualTo=_r.gte=function(t){return this.cmp(t)>=0};_r.isInteger=_r.isint=function(){return this.e>this.d.length-2};_r.isNegative=_r.isneg=function(){return this.s<0};_r.isPositive=_r.ispos=function(){return this.s>0};_r.isZero=function(){return this.s===0};_r.lessThan=_r.lt=function(t){return this.cmp(t)<0};_r.lessThanOrEqualTo=_r.lte=function(t){return this.cmp(t)<1};_r.logarithm=_r.log=function(t){var e,s=this,n=s.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(lc))throw Error(sd+"NaN");if(s.s<1)throw Error(sd+(s.s?"NaN":"-Infinity"));return s.eq(lc)?new n(0):(na=!1,e=wf(n1(s,i),n1(t,i),i),na=!0,En(e,a))};_r.minus=_r.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YJ(e,t):KJ(e,(t.s=-t.s,t))};_r.modulo=_r.mod=function(t){var e,s=this,n=s.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(sd+"NaN");return s.s?(na=!1,e=wf(s,t,0,1).times(t),na=!0,s.minus(e)):En(new n(s),a)};_r.naturalExponential=_r.exp=function(){return XJ(this)};_r.naturalLogarithm=_r.ln=function(){return n1(this)};_r.negated=_r.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_r.plus=_r.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KJ(e,t):YJ(e,(t.s=-t.s,t))};_r.precision=_r.sd=function(t){var e,s,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gp+t);if(e=Za(a)+1,n=a.d.length-1,s=n*Gn+1,n=a.d[n],n){for(;n%10==0;n/=10)s--;for(n=a.d[0];n>=10;n/=10)s++}return t&&e>s?e:s};_r.squareRoot=_r.sqrt=function(){var t,e,s,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(sd+"NaN")}for(t=Za(l),na=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Qu(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Sb((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),s=c.precision,a=o=s+3;;)if(i=n,n=i.plus(wf(l,i,o+2)).times(.5),Qu(i.d).slice(0,o)===(e=Qu(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(En(i,s+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return na=!0,En(n,s)};_r.times=_r.mul=function(t){var e,s,n,a,i,o,l,c,d,u=this,h=u.constructor,m=u.d,f=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,s=u.e+t.e,c=m.length,d=f.length,c<d&&(i=m,m=f,f=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+f[n]*m[a-n-1]+e,i[a--]=l%ki|0,e=l/ki|0;i[a]=(i[a]+e)%ki|0}for(;!i[--o];)i.pop();return e?++s:i.shift(),t.d=i,t.e=s,na?En(t,h.precision):t};_r.toDecimalPlaces=_r.todp=function(t,e){var s=this,n=s.constructor;return s=new n(s),t===void 0?s:(nh(t,0,Nb),e===void 0?e=n.rounding:nh(e,0,8),En(s,t+Za(s)+1,e))};_r.toExponential=function(t,e){var s,n=this,a=n.constructor;return t===void 0?s=hx(n,!0):(nh(t,0,Nb),e===void 0?e=a.rounding:nh(e,0,8),n=En(new a(n),t+1,e),s=hx(n,!0,t+1)),s};_r.toFixed=function(t,e){var s,n,a=this,i=a.constructor;return t===void 0?hx(a):(nh(t,0,Nb),e===void 0?e=i.rounding:nh(e,0,8),n=En(new i(a),t+Za(a)+1,e),s=hx(n.abs(),!1,t+Za(n)+1),a.isneg()&&!a.isZero()?"-"+s:s)};_r.toInteger=_r.toint=function(){var t=this,e=t.constructor;return En(new e(t),Za(t)+1,e.rounding)};_r.toNumber=function(){return+this};_r.toPower=_r.pow=function(t){var e,s,n,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(lc);if(l=new c(l),!l.s){if(t.s<1)throw Error(sd+"Infinity");return l}if(l.eq(lc))return l;if(n=c.precision,t.eq(lc))return En(l,n);if(e=t.e,s=t.d.length-1,o=e>=s,i=l.s,o){if((s=u<0?-u:u)<=qJ){for(a=new c(lc),e=Math.ceil(n/Gn+4),na=!1;s%2&&(a=a.times(l),aQ(a.d,e)),s=Sb(s/2),s!==0;)l=l.times(l),aQ(l.d,e);return na=!0,t.s<0?new c(lc).div(a):En(a,n)}}else if(i<0)throw Error(sd+"NaN");return i=i<0&&t.d[Math.max(e,s)]&1?-1:1,l.s=1,na=!1,a=t.times(n1(l,n+d)),na=!0,a=XJ(a),a.s=i,a};_r.toPrecision=function(t,e){var s,n,a=this,i=a.constructor;return t===void 0?(s=Za(a),n=hx(a,s<=i.toExpNeg||s>=i.toExpPos)):(nh(t,1,Nb),e===void 0?e=i.rounding:nh(e,0,8),a=En(new i(a),t,e),s=Za(a),n=hx(a,t<=s||s<=i.toExpNeg,t)),n};_r.toSignificantDigits=_r.tosd=function(t,e){var s=this,n=s.constructor;return t===void 0?(t=n.precision,e=n.rounding):(nh(t,1,Nb),e===void 0?e=n.rounding:nh(e,0,8)),En(new n(s),t,e)};_r.toString=_r.valueOf=_r.val=_r.toJSON=_r[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Za(t),s=t.constructor;return hx(t,e<=s.toExpNeg||e>=s.toExpPos)};function KJ(t,e){var s,n,a,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),na?En(e,h):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(h/Gn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),s=0;i;)s=(c[--i]=c[i]+d[i]+s)/ki|0,c[i]%=ki;for(s&&(c.unshift(s),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,na?En(e,h):e}function nh(t,e,s){if(t!==~~t||t<e||t>s)throw Error(Gp+t)}function Qu(t){var e,s,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",s=Gn-n.length,s&&(i+=Fm(s)),i+=n;o=t[e],n=o+"",s=Gn-n.length,s&&(i+=Fm(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var wf=(function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ki|0,o=i/ki|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function s(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ki+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,h,m,f,x,A,g,b,w,v,j,N,S,T,I,_=n.constructor,M=n.s==a.s?1:-1,C=n.d,B=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(sd+"Division by zero");for(c=n.e-a.e,T=B.length,N=C.length,f=new _(M),x=f.d=[],d=0;B[d]==(C[d]||0);)++d;if(B[d]>(C[d]||0)&&--c,i==null?w=i=_.precision:o?w=i+(Za(n)-Za(a))+1:w=i,w<0)return new _(0);if(w=w/Gn+2|0,d=0,T==1)for(u=0,B=B[0],w++;(d<N||u)&&w--;d++)v=u*ki+(C[d]||0),x[d]=v/B|0,u=v%B|0;else{for(u=ki/(B[0]+1)|0,u>1&&(B=t(B,u),C=t(C,u),T=B.length,N=C.length),j=T,A=C.slice(0,T),g=A.length;g<T;)A[g++]=0;I=B.slice(),I.unshift(0),S=B[0],B[1]>=ki/2&&++S;do u=0,l=e(B,A,T,g),l<0?(b=A[0],T!=g&&(b=b*ki+(A[1]||0)),u=b/S|0,u>1?(u>=ki&&(u=ki-1),h=t(B,u),m=h.length,g=A.length,l=e(h,A,m,g),l==1&&(u--,s(h,T<m?I:B,m))):(u==0&&(l=u=1),h=B.slice()),m=h.length,m<g&&h.unshift(0),s(A,h,g),l==-1&&(g=A.length,l=e(B,A,T,g),l<1&&(u++,s(A,T<g?I:B,g))),g=A.length):l===0&&(u++,A=[0]),x[d++]=u,l&&A[0]?A[g++]=C[j]||0:(A=[C[j]],g=1);while((j++<N||A[0]!==void 0)&&w--)}return x[0]||x.shift(),f.e=c,En(f,o?i+Za(f)+1:i)}})();function XJ(t,e){var s,n,a,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(Za(t)>16)throw Error(HI+Za(t));if(!t.s)return new u(lc);for(na=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(jp(2,d))/Math.LN10*2+5|0,l+=n,s=a=i=new u(lc),u.precision=l;;){if(a=En(a.times(t),l),s=s.times(++c),o=i.plus(wf(a,s,l)),Qu(o.d).slice(0,l)===Qu(i.d).slice(0,l)){for(;d--;)i=En(i.times(i),l);return u.precision=h,e==null?(na=!0,En(i,h)):i}i=o}}function Za(t){for(var e=t.e*Gn,s=t.d[0];s>=10;s/=10)e++;return e}function Hk(t,e,s){if(e>t.LN10.sd())throw na=!0,s&&(t.precision=s),Error(sd+"LN10 precision limit exceeded");return En(new t(t.LN10),e)}function Fm(t){for(var e="";t--;)e+="0";return e}function n1(t,e){var s,n,a,i,o,l,c,d,u,h=1,m=10,f=t,x=f.d,A=f.constructor,g=A.precision;if(f.s<1)throw Error(sd+(f.s?"NaN":"-Infinity"));if(f.eq(lc))return new A(0);if(e==null?(na=!1,d=g):d=e,f.eq(10))return e==null&&(na=!0),Hk(A,d);if(d+=m,A.precision=d,s=Qu(x),n=s.charAt(0),i=Za(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&s.charAt(1)>3;)f=f.times(t),s=Qu(f.d),n=s.charAt(0),h++;i=Za(f),n>1?(f=new A("0."+s),i++):f=new A(n+"."+s.slice(1))}else return c=Hk(A,d+2,g).times(i+""),f=n1(new A(n+"."+s.slice(1)),d-m).plus(c),A.precision=g,e==null?(na=!0,En(f,g)):f;for(l=o=f=wf(f.minus(lc),f.plus(lc),d),u=En(f.times(f),d),a=3;;){if(o=En(o.times(u),d),c=l.plus(wf(o,new A(a),d)),Qu(c.d).slice(0,d)===Qu(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(Hk(A,d+2,g).times(i+""))),l=wf(l,new A(h),d),A.precision=g,e==null?(na=!0,En(l,g)):l;l=c,a+=2}}function nQ(t,e){var s,n,a;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(s<0&&(s=n),s+=+e.slice(n+1),e=e.substring(0,n)):s<0&&(s=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,s=s-n-1,t.e=Sb(s/Gn),t.d=[],n=(s+1)%Gn,s<0&&(n+=Gn),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Gn;n<a;)t.d.push(+e.slice(n,n+=Gn));e=e.slice(n),n=Gn-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),na&&(t.e>t5||t.e<-t5))throw Error(HI+s)}else t.s=0,t.e=0,t.d=[0];return t}function En(t,e,s){var n,a,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Gn,a=e,d=h[u=0];else{if(u=Math.ceil((n+1)/Gn),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=Gn,a=n-Gn+o}if(s!==void 0&&(i=jp(10,o-a-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=s<4?(l||c)&&(s==0||s==(t.s<0?3:2)):l>5||l==5&&(s==4||c||s==6&&(n>0?a>0?d/jp(10,o-a):0:h[u-1])%10&1||s==(t.s<0?8:7))),e<1||!h[0])return c?(i=Za(t),h.length=1,e=e-i-1,h[0]=jp(10,(Gn-e%Gn)%Gn),t.e=Sb(-e/Gn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=jp(10,Gn-n),h[u]=a>0?(d/jp(10,o-a)%jp(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==ki&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=ki)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(na&&(t.e>t5||t.e<-t5))throw Error(HI+Za(t));return t}function YJ(t,e){var s,n,a,i,o,l,c,d,u,h,m=t.constructor,f=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),na?En(e,f):e;if(c=t.d,h=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(s=c,o=-o,l=h.length):(s=h,n=d,l=c.length),a=Math.max(Math.ceil(f/Gn),l)+2,o>a&&(o=a,s.length=1),s.reverse(),a=o;a--;)s.push(0);s.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(s=c,c=h,h=s,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=ki-1;--c[i],c[a]+=ki}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,na?En(e,f):e):new m(0)}function hx(t,e,s){var n,a=Za(t),i=Qu(t.d),o=i.length;return e?(s&&(n=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+Fm(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Fm(-a-1)+i,s&&(n=s-o)>0&&(i+=Fm(n))):a>=o?(i+=Fm(a+1-o),s&&(n=s-a-1)>0&&(i=i+"."+Fm(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),s&&(n=s-o)>0&&(a+1===o&&(i+="."),i+=Fm(n))),t.s<0?"-"+i:i}function aQ(t,e){if(t.length>e)return t.length=e,!0}function JJ(t){var e,s,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Gp+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return nQ(o,i.toString())}else if(typeof i!="string")throw Error(Gp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,HNe.test(i))nQ(o,i);else throw Error(Gp+i)}if(a.prototype=_r,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=JJ,a.config=a.set=QNe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(s=n[e++])||(t[s]=this[s]);return a.config(t),a}function QNe(t){if(!t||typeof t!="object")throw Error(sd+"Object expected");var e,s,n,a=["precision",1,Nb,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[s=a[e]])!==void 0)if(Sb(n)===n&&n>=a[e+1]&&n<=a[e+2])this[s]=n;else throw Error(Gp+s+": "+n);if((n=t[s="LN10"])!==void 0)if(n==Math.LN10)this[s]=new this(n);else throw Error(Gp+s+": "+n);return this}var QI=JJ(UNe);lc=new QI(1);const yn=QI;function $Ne(t){return WNe(t)||VNe(t)||GNe(t)||zNe()}function zNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GNe(t,e){if(t){if(typeof t=="string")return jM(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return jM(t,e)}}function VNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function WNe(t){if(Array.isArray(t))return jM(t)}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}var qNe=function(e){return e},ZJ={},eZ=function(e){return e===ZJ},iQ=function(e){return function s(){return arguments.length===0||arguments.length===1&&eZ(arguments.length<=0?void 0:arguments[0])?s:e.apply(void 0,arguments)}},KNe=function t(e,s){return e===1?s:iQ(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==ZJ}).length;return o>=e?s.apply(void 0,a):t(e-o,iQ(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return eZ(h)?c.shift():h});return s.apply(void 0,$Ne(u).concat(c))}))})},t4=function(e){return KNe(e.length,e)},NM=function(e,s){for(var n=[],a=e;a<s;++a)n[a-e]=a;return n},XNe=t4(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(s){return e[s]}).map(t)}),YNe=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];if(!s.length)return qNe;var a=s.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},SM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tZ=function(e){var s=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return s&&i.every(function(l,c){return l===s[c]})||(s=i,n=e.apply(void 0,i)),n}};function JNe(t){var e;return t===0?e=1:e=Math.floor(new yn(t).abs().log(10).toNumber())+1,e}function ZNe(t,e,s){for(var n=new yn(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(s),a++;return i}var e5e=t4(function(t,e,s){var n=+t,a=+e;return n+s*(a-n)}),t5e=t4(function(t,e,s){var n=e-+t;return n=n||1/0,(s-t)/n}),r5e=t4(function(t,e,s){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(s-t)/n))});const r4={rangeStep:ZNe,getDigitCount:JNe,interpolateNumber:e5e,uninterpolateNumber:t5e,uninterpolateTruncation:r5e};function CM(t){return a5e(t)||n5e(t)||rZ(t)||s5e()}function s5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function a5e(t){if(Array.isArray(t))return _M(t)}function a1(t,e){return l5e(t)||o5e(t,e)||rZ(t,e)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rZ(t,e){if(t){if(typeof t=="string")return _M(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _M(t,e)}}function _M(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function o5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var s=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(s.push(l.value),!(e&&s.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return s}}function l5e(t){if(Array.isArray(t))return t}function sZ(t){var e=a1(t,2),s=e[0],n=e[1],a=s,i=n;return s>n&&(a=n,i=s),[a,i]}function nZ(t,e,s){if(t.lte(0))return new yn(0);var n=r4.getDigitCount(t.toNumber()),a=new yn(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new yn(Math.ceil(i.div(o).toNumber())).add(s).mul(o),c=l.mul(a);return e?c:new yn(Math.ceil(c))}function c5e(t,e,s){var n=1,a=new yn(t);if(!a.isint()&&s){var i=Math.abs(t);i<1?(n=new yn(10).pow(r4.getDigitCount(t)-1),a=new yn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new yn(Math.floor(t)))}else t===0?a=new yn(Math.floor((e-1)/2)):s||(a=new yn(Math.floor(t)));var o=Math.floor((e-1)/2),l=YNe(XNe(function(c){return a.add(new yn(c-o).mul(n)).toNumber()}),NM);return l(0,e)}function aZ(t,e,s,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(s-1)))return{step:new yn(0),tickMin:new yn(0),tickMax:new yn(0)};var i=nZ(new yn(e).sub(t).div(s-1),n,a),o;t<=0&&e>=0?o=new yn(0):(o=new yn(t).add(e).div(2),o=o.sub(new yn(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new yn(e).sub(o).div(i).toNumber()),d=l+c+1;return d>s?aZ(t,e,s,n,a+1):(d<s&&(c=e>0?c+(s-d):c,l=e>0?l:l+(s-d)),{step:i,tickMin:o.sub(new yn(l).mul(i)),tickMax:o.add(new yn(c).mul(i))})}function d5e(t){var e=a1(t,2),s=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=sZ([s,n]),c=a1(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(CM(NM(0,a-1).map(function(){return 1/0}))):[].concat(CM(NM(0,a-1).map(function(){return-1/0})),[u]);return s>n?SM(h):h}if(d===u)return c5e(d,a,i);var m=aZ(d,u,o,i),f=m.step,x=m.tickMin,A=m.tickMax,g=r4.rangeStep(x,A.add(new yn(.1).mul(f)),f);return s>n?SM(g):g}function u5e(t,e){var s=a1(t,2),n=s[0],a=s[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=sZ([n,a]),l=a1(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(e,2),h=nZ(new yn(d).sub(c).div(u-1),i,0),m=[].concat(CM(r4.rangeStep(new yn(c),new yn(d).sub(new yn(.99).mul(h)),h)),[d]);return n>a?SM(m):m}var h5e=tZ(d5e),f5e=tZ(u5e),m5e="Invariant failed";function fx(t,e){throw new Error(m5e)}var p5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function r5(){return r5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},r5.apply(this,arguments)}function x5e(t,e){return y5e(t)||b5e(t,e)||g5e(t,e)||A5e()}function A5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5e(t,e){if(t){if(typeof t=="string")return oQ(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return oQ(t,e)}}function oQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function b5e(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function y5e(t){if(Array.isArray(t))return t}function v5e(t,e){if(t==null)return{};var s=w5e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function w5e(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function j5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N5e(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lZ(n.key),n)}}function S5e(t,e,s){return e&&N5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C5e(t,e,s){return e=s5(e),_5e(t,iZ()?Reflect.construct(e,s||[],s5(t).constructor):e.apply(t,s))}function _5e(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E5e(t)}function E5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iZ=function(){return!!t})()}function s5(t){return s5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},s5(t)}function k5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EM(t,e)}function EM(t,e){return EM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EM(t,e)}function oZ(t,e,s){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function lZ(t){var e=T5e(t,"string");return Qg(e)=="symbol"?e:e+""}function T5e(t,e){if(Qg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fw=(function(t){function e(){return j5e(this,e),C5e(this,e,arguments)}return k5e(e,t),S5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,h=n.yAxis,m=v5e(n,p5e),f=Rr(m,!1);this.props.direction==="x"&&u.type!=="number"&&fx();var x=c.map(function(A){var g=d(A,l),b=g.x,w=g.y,v=g.value,j=g.errorVal;if(!j)return null;var N=[],S,T;if(Array.isArray(j)){var I=x5e(j,2);S=I[0],T=I[1]}else S=T=j;if(i==="vertical"){var _=u.scale,M=w+a,C=M+o,B=M-o,P=_(v-S),H=_(v+T);N.push({x1:H,y1:C,x2:H,y2:B}),N.push({x1:P,y1:M,x2:H,y2:M}),N.push({x1:P,y1:C,x2:P,y2:B})}else if(i==="horizontal"){var D=h.scale,G=b+a,O=G-o,Q=G+o,ee=D(v-S),q=D(v+T);N.push({x1:O,y1:q,x2:Q,y2:q}),N.push({x1:G,y1:ee,x2:G,y2:q}),N.push({x1:O,y1:ee,x2:Q,y2:ee})}return Ve.createElement(Ss,r5({className:"recharts-errorBar",key:"bar-".concat(N.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},f),N.map(function(Z){return Ve.createElement("line",r5({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Ve.createElement(Ss,{className:"recharts-errorBars"},x)}}])})(Ve.Component);oZ(fw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oZ(fw,"displayName","ErrorBar");function i1(t){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i1(t)}function lQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function cp(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?lQ(Object(s),!0).forEach(function(n){B5e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):lQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function B5e(t,e,s){return e=M5e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function M5e(t){var e=F5e(t,"string");return i1(e)=="symbol"?e:e+""}function F5e(t,e){if(i1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cZ=function(e){var s=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=ic(s,Ku);if(!o)return null;var l=Ku.defaultProps,c=l!==void 0?cp(cp({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,h){var m=h.item,f=h.props,x=f.sectors||f.data||[];return u.concat(x.map(function(A){return{type:o.props.iconType||m.props.legendType,value:A.name,color:A.fill,payload:A}}))},[]):d=(n||[]).map(function(u){var h=u.item,m=h.type.defaultProps,f=m!==void 0?cp(cp({},m),h.props):{},x=f.dataKey,A=f.name,g=f.legendType,b=f.hide;return{inactive:b,dataKey:x,type:c.iconType||g||"square",color:$I(h),value:A||x,payload:f}}),cp(cp(cp({},c),Ku.getWithHeight(o,a)),{},{payload:d,item:o})};function o1(t){"@babel/helpers - typeof";return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o1(t)}function cQ(t){return D5e(t)||L5e(t)||I5e(t)||P5e()}function P5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I5e(t,e){if(t){if(typeof t=="string")return kM(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return kM(t,e)}}function L5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D5e(t){if(Array.isArray(t))return kM(t)}function kM(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function dQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Na(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?dQ(Object(s),!0).forEach(function(n){cg(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):dQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function cg(t,e,s){return e=R5e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function R5e(t){var e=O5e(t,"string");return o1(e)=="symbol"?e:e+""}function O5e(t,e){if(o1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(o1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oa(t,e,s){return as(t)||as(e)?s:fi(e)?fc(t,e,s):qr(e)?e(t):s}function uv(t,e,s,n){var a=DNe(t,function(l){return Oa(l,e)});if(s==="number"){var i=a.filter(function(l){return nr(l)||parseFloat(l)});return i.length?[e4(i),Hm(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!as(l)}):a;return o.map(function(l){return fi(l)||l instanceof Date?l:""})}var U5e=function(e){var s,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(s=n==null?void 0:n.length)!==null&&s!==void 0?s:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(tl(h-u)!==tl(m-h)){var x=[];if(tl(m-h)===tl(c[1]-c[0])){f=m;var A=h+c[1]-c[0];x[0]=Math.min(A,(A+u)/2),x[1]=Math.max(A,(A+u)/2)}else{f=u;var g=m+c[1]-c[0];x[0]=Math.min(h,(g+h)/2),x[1]=Math.max(h,(g+h)/2)}var b=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){o=a[d].index;break}}else{var w=Math.min(u,m),v=Math.max(u,m);if(e>(w+h)/2&&e<=(v+h)/2){o=a[d].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},$I=function(e){var s,n=e,a=n.type.displayName,i=(s=e.type)!==null&&s!==void 0&&s.defaultProps?Na(Na({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},H5e=function(e){var s=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),m=0,f=h.length;m<f;m++){var x=u[h[m]],A=x.items,g=x.cateAxisId,b=A.filter(function(T){return vf(T.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,v=w!==void 0?Na(Na({},w),b[0].props):b[0].props,j=v.barSize,N=v[g];o[N]||(o[N]=[]);var S=as(j)?s:j;o[N].push({item:b[0],stackList:b.slice(1),barSize:as(S)?void 0:rl(S,n,0)})}}return o},Q5e=function(e){var s=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=rl(s,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,f=a/c,x=o.reduce(function(j,N){return j+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&f>0&&(m=!0,f*=.9,x=c*f);var A=(a-x)/2>>0,g={offset:A-d,size:0};u=o.reduce(function(j,N){var S={item:N.item,position:{offset:g.offset+g.size+d,size:m?f:N.barSize}},T=[].concat(cQ(j),[S]);return g=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(I){T.push({item:I,position:g})}),T},h)}else{var b=rl(n,a,0,!0);a-2*b-(c-1)*d<=0&&(d=0);var w=(a-2*b-(c-1)*d)/c;w>1&&(w>>=0);var v=l===+l?Math.min(w,l):w;u=o.reduce(function(j,N,S){var T=[].concat(cQ(j),[{item:N.item,position:{offset:b+(w+d)*S+(w-v)/2,size:v}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(I){T.push({item:I,position:T[T.length-1].position})}),T},h)}return u},$5e=function(e,s,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=cZ({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,m=u.height,f=d.align,x=d.verticalAlign,A=d.layout;if((A==="vertical"||A==="horizontal"&&x==="middle")&&f!=="center"&&nr(e[f]))return Na(Na({},e),{},cg({},f,e[f]+(h||0)));if((A==="horizontal"||A==="vertical"&&f==="center")&&x!=="middle"&&nr(e[x]))return Na(Na({},e),{},cg({},x,e[x]+(m||0)))}return e},z5e=function(e,s,n){return as(s)?!0:e==="horizontal"?s==="yAxis":e==="vertical"||n==="x"?s==="xAxis":n==="y"?s==="yAxis":!0},dZ=function(e,s,n,a,i){var o=s.props.children,l=mc(o,fw).filter(function(d){return z5e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=Oa(u,n);if(as(h))return d;var m=Array.isArray(h)?[e4(h),Hm(h)]:[h,h],f=c.reduce(function(x,A){var g=Oa(u,A,0),b=m[0]-Math.abs(Array.isArray(g)?g[0]:g),w=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,x[0]),Math.max(w,x[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},G5e=function(e,s,n,a,i){var o=s.map(function(l){return dZ(e,l,n,i,a)}).filter(function(l){return!as(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},uZ=function(e,s,n,a,i){var o=s.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&dZ(e,c,d,a)||uv(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},hZ=function(e,s){return e==="horizontal"&&s==="xAxis"||e==="vertical"&&s==="yAxis"||e==="centric"&&s==="angleAxis"||e==="radial"&&s==="radiusAxis"},fZ=function(e,s,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===s&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(s),o||l.push(n),l},xf=function(e,s,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(s||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?tl(l[0]-l[1])*2*d:d,s&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:a(m)+d,value:h,offset:d}});return u.filter(function(h){return!vb(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:a(h)+d,value:h,index:m,offset:d}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,m){return{coordinate:a(h)+d,value:i?i[h]:h,index:m,offset:d}})},Qk=new WeakMap,G2=function(e,s){if(typeof s!="function")return e;Qk.has(e)||Qk.set(e,new WeakMap);var n=Qk.get(e);if(n.has(s))return n.get(s);var a=function(){e.apply(void 0,arguments),s.apply(void 0,arguments)};return n.set(s,a),a},mZ=function(e,s,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Zv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:YN(),realScaleType:"linear"}:i==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!n)?{scale:dv(),realScaleType:"point"}:i==="category"?{scale:Zv(),realScaleType:"band"}:{scale:YN(),realScaleType:"linear"};if(ow(a)){var c="scale".concat(US(a));return{scale:(KH[c]||dv)(),realScaleType:KH[c]?c:"point"}}return qr(a)?{scale:a}:{scale:dv(),realScaleType:"point"}},uQ=1e-4,pZ=function(e){var s=e.domain();if(!(!s||s.length<=2)){var n=s.length,a=e.range(),i=Math.min(a[0],a[1])-uQ,o=Math.max(a[0],a[1])+uQ,l=e(s[0]),c=e(s[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([s[0],s[n-1]])}},V5e=function(e,s){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===s)return e[n].position;return null},W5e=function(e,s){if(!s||s.length!==2||!nr(s[0])||!nr(s[1]))return e;var n=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]),i=[e[0],e[1]];return(!nr(e[0])||e[0]<n)&&(i[0]=n),(!nr(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},q5e=function(e){var s=e.length;if(!(s<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<s;++l){var c=vb(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},K5e=function(e){var s=e.length;if(!(s<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<s;++o){var l=vb(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},X5e={sign:q5e,expand:Dye,none:Pg,silhouette:Rye,wiggle:Oye,positive:K5e},Y5e=function(e,s,n){var a=s.map(function(l){return l.props.dataKey}),i=X5e[n],o=Lye().keys(a).value(function(l,c){return+Oa(l,c,0)}).order(aM).offset(i);return o(e)},J5e=function(e,s,n,a,i,o){if(!e)return null;var l=o?s.reverse():s,c={},d=l.reduce(function(h,m){var f,x=(f=m.type)!==null&&f!==void 0&&f.defaultProps?Na(Na({},m.type.defaultProps),m.props):m.props,A=x.stackId,g=x.hide;if(g)return h;var b=x[n],w=h[b]||{hasStack:!1,stackGroups:{}};if(fi(A)){var v=w.stackGroups[A]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(m),w.hasStack=!0,w.stackGroups[A]=v}else w.stackGroups[_x("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Na(Na({},h),{},cg({},b,w))},c),u={};return Object.keys(d).reduce(function(h,m){var f=d[m];if(f.hasStack){var x={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(A,g){var b=f.stackGroups[g];return Na(Na({},A),{},cg({},g,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:Y5e(e,b.items,i)}))},x)}return Na(Na({},h),{},cg({},m,f))},u)},xZ=function(e,s){var n=s.realScaleType,a=s.type,i=s.tickCount,o=s.originalDomain,l=s.allowDecimals,c=n||s.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=h5e(d,i,l);return e.domain([e4(u),Hm(u)]),{niceTicks:u}}if(i&&a==="number"){var h=e.domain(),m=f5e(h,i,l);return{niceTicks:m}}return null};function n5(t){var e=t.axis,s=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!as(a[e.dataKey])){var l=FN(s,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return s[i]?s[i].coordinate+n/2:null}var c=Oa(a,as(o)?e.dataKey:o);return as(c)?null:e.scale(c)}var hQ=function(e){var s=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(s.type==="category")return n[l]?n[l].coordinate+a:null;var c=Oa(o,s.dataKey,s.domain[l]);return as(c)?null:s.scale(c)-i/2+a},Z5e=function(e){var s=e.numericAxis,n=s.scale.domain();if(s.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},eSe=function(e,s){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Na(Na({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(fi(i)){var o=s[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},tSe=function(e){return e.reduce(function(s,n){return[e4(n.concat([s[0]]).filter(nr)),Hm(n.concat([s[1]]).filter(nr))]},[1/0,-1/0])},AZ=function(e,s,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=tSe(u.slice(s,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},fQ=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mQ=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TM=function(e,s,n){if(qr(e))return e(s,n);if(!Array.isArray(e))return s;var a=[];if(nr(e[0]))a[0]=n?e[0]:Math.min(e[0],s[0]);else if(fQ.test(e[0])){var i=+fQ.exec(e[0])[1];a[0]=s[0]-i}else qr(e[0])?a[0]=e[0](s[0]):a[0]=s[0];if(nr(e[1]))a[1]=n?e[1]:Math.max(e[1],s[1]);else if(mQ.test(e[1])){var o=+mQ.exec(e[1])[1];a[1]=s[1]+o}else qr(e[1])?a[1]=e[1](s[1]):a[1]=s[1];return a},a5=function(e,s,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&s&&s.length>=2){for(var i=AI(s,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},pQ=function(e,s,n){return!e||!e.length||ux(e,fc(n,"type.defaultProps.domain"))?s:e},gZ=function(e,s){var n=e.type.defaultProps?Na(Na({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return Na(Na({},Rr(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:$I(e),value:Oa(s,a),type:c,payload:s,chartType:d,hide:u})};function l1(t){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l1(t)}function xQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function lf(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?xQ(Object(s),!0).forEach(function(n){bZ(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):xQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function bZ(t,e,s){return e=rSe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function rSe(t){var e=sSe(t,"string");return l1(e)=="symbol"?e:e+""}function sSe(t,e){if(l1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(l1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nSe(t,e){return lSe(t)||oSe(t,e)||iSe(t,e)||aSe()}function aSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iSe(t,e){if(t){if(typeof t=="string")return AQ(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return AQ(t,e)}}function AQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function oSe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function lSe(t){if(Array.isArray(t))return t}var i5=Math.PI/180,cSe=function(e){return e*180/Math.PI},On=function(e,s,n,a){return{x:e+Math.cos(-i5*a)*n,y:s+Math.sin(-i5*a)*n}},yZ=function(e,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(s-(n.top||0)-(n.bottom||0)))/2},dSe=function(e,s,n,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=rl(e.cx,o,o/2),h=rl(e.cy,l,l/2),m=yZ(o,l,n),f=rl(e.innerRadius,m,0),x=rl(e.outerRadius,m,m*.8),A=Object.keys(s);return A.reduce(function(g,b){var w=s[b],v=w.domain,j=w.reversed,N;if(as(w.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[f,x]),j&&(N=[N[1],N[0]]);else{N=w.range;var S=N,T=nSe(S,2);c=T[0],d=T[1]}var I=mZ(w,i),_=I.realScaleType,M=I.scale;M.domain(v).range(N),pZ(M);var C=xZ(M,lf(lf({},w),{},{realScaleType:_})),B=lf(lf(lf({},w),C),{},{range:N,radius:x,realScaleType:_,scale:M,cx:u,cy:h,innerRadius:f,outerRadius:x,startAngle:c,endAngle:d});return lf(lf({},g),{},bZ({},b,B))},{})},uSe=function(e,s){var n=e.x,a=e.y,i=s.x,o=s.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},hSe=function(e,s){var n=e.x,a=e.y,i=s.cx,o=s.cy,l=uSe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:cSe(d),angleInRadian:d}},fSe=function(e){var s=e.startAngle,n=e.endAngle,a=Math.floor(s/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:s-o*360,endAngle:n-o*360}},mSe=function(e,s){var n=s.startAngle,a=s.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},gQ=function(e,s){var n=e.x,a=e.y,i=hSe({x:n,y:a},s),o=i.radius,l=i.angle,c=s.innerRadius,d=s.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=fSe(s),h=u.startAngle,m=u.endAngle,f=l,x;if(h<=m){for(;f>m;)f-=360;for(;f<h;)f+=360;x=f>=h&&f<=m}else{for(;f>h;)f-=360;for(;f<m;)f+=360;x=f>=m&&f<=h}return x?lf(lf({},s),{},{radius:o,angle:mSe(f,s)}):null},vZ=function(e){return!E.isValidElement(e)&&!qr(e)&&typeof e!="boolean"?e.className:""};function c1(t){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c1(t)}var pSe=["offset"];function xSe(t){return ySe(t)||bSe(t)||gSe(t)||ASe()}function ASe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gSe(t,e){if(t){if(typeof t=="string")return BM(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return BM(t,e)}}function bSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ySe(t){if(Array.isArray(t))return BM(t)}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function vSe(t,e){if(t==null)return{};var s=wSe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function wSe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function bQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function oi(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?bQ(Object(s),!0).forEach(function(n){jSe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):bQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function jSe(t,e,s){return e=NSe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function NSe(t){var e=SSe(t,"string");return c1(e)=="symbol"?e:e+""}function SSe(t,e){if(c1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},d1.apply(this,arguments)}var CSe=function(e){var s=e.value,n=e.formatter,a=as(e.children)?s:e.children;return qr(n)?n(a):a},_Se=function(e,s){var n=tl(s-e),a=Math.min(Math.abs(s-e),360);return n*a},ESe=function(e,s,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,f=c.startAngle,x=c.endAngle,A=c.clockWise,g=(h+m)/2,b=_Se(f,x),w=b>=0?1:-1,v,j;a==="insideStart"?(v=f+w*o,j=A):a==="insideEnd"?(v=x-w*o,j=!A):a==="end"&&(v=x+w*o,j=A),j=b<=0?j:!j;var N=On(d,u,g,v),S=On(d,u,g,v+(j?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),I=as(e.id)?_x("recharts-radial-line-"):e.id;return Ve.createElement("text",d1({},n,{dominantBaseline:"central",className:ms("recharts-radial-bar-label",l)}),Ve.createElement("defs",null,Ve.createElement("path",{id:I,d:T})),Ve.createElement("textPath",{xlinkHref:"#".concat(I)},s))},kSe=function(e){var s=e.viewBox,n=e.offset,a=e.position,i=s,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,m=(u+h)/2;if(a==="outside"){var f=On(o,l,d+n,m),x=f.x,A=f.y;return{x,y:A,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,b=On(o,l,g,m),w=b.x,v=b.y;return{x:w,y:v,textAnchor:"middle",verticalAnchor:"middle"}},TSe=function(e){var s=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=s,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*a,f=h>0?"end":"start",x=h>0?"start":"end",A=d>=0?1:-1,g=A*a,b=A>0?"end":"start",w=A>0?"start":"end";if(i==="top"){var v={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:f};return oi(oi({},v),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var j={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:x};return oi(oi({},j),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return oi(oi({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+g,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return oi(oi({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var T=n?{width:d,height:u}:{};return i==="insideLeft"?oi({x:l+g,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},T):i==="insideRight"?oi({x:l+d-g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideTop"?oi({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:x},T):i==="insideBottom"?oi({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:f},T):i==="insideTopLeft"?oi({x:l+g,y:c+m,textAnchor:w,verticalAnchor:x},T):i==="insideTopRight"?oi({x:l+d-g,y:c+m,textAnchor:b,verticalAnchor:x},T):i==="insideBottomLeft"?oi({x:l+g,y:c+u-m,textAnchor:w,verticalAnchor:f},T):i==="insideBottomRight"?oi({x:l+d-g,y:c+u-m,textAnchor:b,verticalAnchor:f},T):yb(i)&&(nr(i.x)||Fp(i.x))&&(nr(i.y)||Fp(i.y))?oi({x:l+rl(i.x,d),y:c+rl(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):oi({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},BSe=function(e){return"cx"in e&&nr(e.cx)};function Bi(t){var e=t.offset,s=e===void 0?5:e,n=vSe(t,pSe),a=oi({offset:s},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,m=a.textBreakAll;if(!i||as(l)&&as(c)&&!E.isValidElement(d)&&!qr(d))return null;if(E.isValidElement(d))return E.cloneElement(d,a);var f;if(qr(d)){if(f=E.createElement(d,a),E.isValidElement(f))return f}else f=CSe(a);var x=BSe(i),A=Rr(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ESe(a,f,A);var g=x?kSe(a):TSe(a);return Ve.createElement(dx,d1({className:ms("recharts-label",h)},A,g,{breakAll:m}),f)}Bi.displayName="Label";var wZ=function(e){var s=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,m=e.y,f=e.top,x=e.left,A=e.width,g=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(nr(A)&&nr(g)){if(nr(h)&&nr(m))return{x:h,y:m,width:A,height:g};if(nr(f)&&nr(x))return{x:f,y:x,width:A,height:g}}return nr(h)&&nr(m)?{x:h,y:m,width:0,height:0}:nr(s)&&nr(n)?{cx:s,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},MSe=function(e,s){return e?e===!0?Ve.createElement(Bi,{key:"label-implicit",viewBox:s}):fi(e)?Ve.createElement(Bi,{key:"label-implicit",viewBox:s,value:e}):E.isValidElement(e)?e.type===Bi?E.cloneElement(e,{key:"label-implicit",viewBox:s}):Ve.createElement(Bi,{key:"label-implicit",content:e,viewBox:s}):qr(e)?Ve.createElement(Bi,{key:"label-implicit",content:e,viewBox:s}):yb(e)?Ve.createElement(Bi,d1({viewBox:s},e,{key:"label-implicit"})):null:null},FSe=function(e,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=wZ(e),o=mc(a,Bi).map(function(c,d){return E.cloneElement(c,{viewBox:s||i,key:"label-".concat(d)})});if(!n)return o;var l=MSe(e.label,s||i);return[l].concat(xSe(o))};Bi.parseViewBox=wZ;Bi.renderCallByParent=FSe;var $k,yQ;function PSe(){if(yQ)return $k;yQ=1;function t(e){var s=e==null?0:e.length;return s?e[s-1]:void 0}return $k=t,$k}var ISe=PSe();const LSe=xn(ISe);function u1(t){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u1(t)}var DSe=["valueAccessor"],RSe=["data","dataKey","clockWise","id","textBreakAll"];function OSe(t){return $Se(t)||QSe(t)||HSe(t)||USe()}function USe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HSe(t,e){if(t){if(typeof t=="string")return MM(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return MM(t,e)}}function QSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Se(t){if(Array.isArray(t))return MM(t)}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function o5(){return o5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},o5.apply(this,arguments)}function vQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function wQ(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?vQ(Object(s),!0).forEach(function(n){zSe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):vQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function zSe(t,e,s){return e=GSe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function GSe(t){var e=VSe(t,"string");return u1(e)=="symbol"?e:e+""}function VSe(t,e){if(u1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jQ(t,e){if(t==null)return{};var s=WSe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function WSe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}var qSe=function(e){return Array.isArray(e.value)?LSe(e.value):e.value};function Yu(t){var e=t.valueAccessor,s=e===void 0?qSe:e,n=jQ(t,DSe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=jQ(n,RSe);return!a||!a.length?null:Ve.createElement(Ss,{className:"recharts-label-list"},a.map(function(u,h){var m=as(i)?s(u,h):Oa(u&&u.payload,i),f=as(l)?{}:{id:"".concat(l,"-").concat(h)};return Ve.createElement(Bi,o5({},Rr(u,!0),d,f,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:Bi.parseViewBox(as(o)?u:wQ(wQ({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Yu.displayName="LabelList";function KSe(t,e){return t?t===!0?Ve.createElement(Yu,{key:"labelList-implicit",data:e}):Ve.isValidElement(t)||qr(t)?Ve.createElement(Yu,{key:"labelList-implicit",data:e,content:t}):yb(t)?Ve.createElement(Yu,o5({data:e},t,{key:"labelList-implicit"})):null:null}function XSe(t,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var n=t.children,a=mc(n,Yu).map(function(o,l){return E.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!s)return a;var i=KSe(t.label,e);return[i].concat(OSe(a))}Yu.renderCallByParent=XSe;function h1(t){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h1(t)}function FM(){return FM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},FM.apply(this,arguments)}function NQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function SQ(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?NQ(Object(s),!0).forEach(function(n){YSe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):NQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function YSe(t,e,s){return e=JSe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function JSe(t){var e=ZSe(t,"string");return h1(e)=="symbol"?e:e+""}function ZSe(t,e){if(h1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(h1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e4e=function(e,s){var n=tl(s-e),a=Math.min(Math.abs(s-e),359.999);return n*a},V2=function(e){var s=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/i5,m=d?i:i+o*h,f=On(s,n,u,m),x=On(s,n,a,m),A=d?i-o*h:i,g=On(s,n,u*Math.cos(h*i5),A);return{center:f,circleTangency:x,lineTangency:g,theta:h}},jZ=function(e){var s=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=e4e(o,l),d=o+c,u=On(s,n,i,o),h=On(s,n,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var f=On(s,n,a,o),x=On(s,n,a,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(s,",").concat(n," Z");return m},t4e=function(e){var s=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=tl(u-d),m=V2({cx:s,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),f=m.circleTangency,x=m.lineTangency,A=m.theta,g=V2({cx:s,cy:n,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,w=g.lineTangency,v=g.theta,j=c?Math.abs(d-u):Math.abs(d-u)-A-v;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jZ({cx:s,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var S=V2({cx:s,cy:n,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=S.circleTangency,I=S.lineTangency,_=S.theta,M=V2({cx:s,cy:n,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=M.circleTangency,B=M.lineTangency,P=M.theta,H=c?Math.abs(d-u):Math.abs(d-u)-_-P;if(H<0&&o===0)return"".concat(N,"L").concat(s,",").concat(n,"Z");N+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,"Z")}else N+="L".concat(s,",").concat(n,"Z");return N},r4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NZ=function(e){var s=SQ(SQ({},r4e),e),n=s.cx,a=s.cy,i=s.innerRadius,o=s.outerRadius,l=s.cornerRadius,c=s.forceCornerRadius,d=s.cornerIsExternal,u=s.startAngle,h=s.endAngle,m=s.className;if(o<i||u===h)return null;var f=ms("recharts-sector",m),x=o-i,A=rl(l,x,0,!0),g;return A>0&&Math.abs(u-h)<360?g=t4e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(A,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):g=jZ({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),Ve.createElement("path",FM({},Rr(s,!0),{className:f,d:g,role:"img"}))};function f1(t){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f1(t)}function PM(){return PM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},PM.apply(this,arguments)}function CQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function _Q(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?CQ(Object(s),!0).forEach(function(n){s4e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):CQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function s4e(t,e,s){return e=n4e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function n4e(t){var e=a4e(t,"string");return f1(e)=="symbol"?e:e+""}function a4e(t,e){if(f1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EQ={curveBasisClosed:Sye,curveBasisOpen:Cye,curveBasis:Nye,curveBumpX:dye,curveBumpY:uye,curveLinearClosed:_ye,curveLinear:QS,curveMonotoneX:Eye,curveMonotoneY:kye,curveNatural:Tye,curveStep:Bye,curveStepAfter:Fye,curveStepBefore:Mye},W2=function(e){return e.x===+e.x&&e.y===+e.y},Ny=function(e){return e.x},Sy=function(e){return e.y},i4e=function(e,s){if(qr(e))return e;var n="curve".concat(US(e));return(n==="curveMonotone"||n==="curveBump")&&s?EQ["".concat(n).concat(s==="vertical"?"Y":"X")]:EQ[n]||QS},o4e=function(e){var s=e.type,n=s===void 0?"linear":s,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=i4e(n,l),h=d?i.filter(function(A){return W2(A)}):i,m;if(Array.isArray(o)){var f=d?o.filter(function(A){return W2(A)}):o,x=h.map(function(A,g){return _Q(_Q({},A),{},{base:f[g]})});return l==="vertical"?m=R2().y(Sy).x1(Ny).x0(function(A){return A.base.x}):m=R2().x(Ny).y1(Sy).y0(function(A){return A.base.y}),m.defined(W2).curve(u),m(x)}return l==="vertical"&&nr(o)?m=R2().y(Sy).x1(Ny).x0(o):nr(o)?m=R2().x(Ny).y1(Sy).y0(o):m=wY().x(Ny).y(Sy),m.defined(W2).curve(u),m(h)},Vp=function(e){var s=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?o4e(e):a;return Ve.createElement("path",PM({},Rr(e,!1),PN(e),{className:ms("recharts-curve",s),d:o,ref:i}))},zk={exports:{}},Gk,kQ;function l4e(){if(kQ)return Gk;kQ=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gk=t,Gk}var Vk,TQ;function c4e(){if(TQ)return Vk;TQ=1;var t=l4e();function e(){}function s(){}return s.resetWarningCache=e,Vk=function(){function n(o,l,c,d,u,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:s,resetWarningCache:e};return i.PropTypes=i,i},Vk}var BQ;function d4e(){return BQ||(BQ=1,zk.exports=c4e()()),zk.exports}var u4e=d4e();const an=xn(u4e),{getOwnPropertyNames:h4e,getOwnPropertySymbols:f4e}=Object,{hasOwnProperty:m4e}=Object.prototype;function Wk(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function q2(t){return function(s,n,a){if(!s||!n||typeof s!="object"||typeof n!="object")return t(s,n,a);const{cache:i}=a,o=i.get(s),l=i.get(n);if(o&&l)return o===n&&l===s;i.set(s,n),i.set(n,s);const c=t(s,n,a);return i.delete(s),i.delete(n),c}}function p4e(t){return t!=null?t[Symbol.toStringTag]:void 0}function MQ(t){return h4e(t).concat(f4e(t))}const x4e=Object.hasOwn||((t,e)=>m4e.call(t,e));function Tx(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const A4e="__v",g4e="__o",b4e="_owner",{getOwnPropertyDescriptor:FQ,keys:PQ}=Object;function y4e(t,e){return t.byteLength===e.byteLength&&l5(new Uint8Array(t),new Uint8Array(e))}function v4e(t,e,s){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!s.equals(t[n],e[n],n,n,t,e,s))return!1;return!0}function w4e(t,e){return t.byteLength===e.byteLength&&l5(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function j4e(t,e){return Tx(t.getTime(),e.getTime())}function N4e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function S4e(t,e){return t===e}function IQ(t,e,s){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const d=e.entries();let u=!1,h=0;for(;(l=d.next())&&!l.done;){if(a[h]){h++;continue}const m=o.value,f=l.value;if(s.equals(m[0],f[0],c,h,t,e,s)&&s.equals(m[1],f[1],m[0],f[0],t,e,s)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}const C4e=Tx;function _4e(t,e,s){const n=PQ(t);let a=n.length;if(PQ(e).length!==a)return!1;for(;a-- >0;)if(!SZ(t,e,s,n[a]))return!1;return!0}function Cy(t,e,s){const n=MQ(t);let a=n.length;if(MQ(e).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!SZ(t,e,s,i)||(o=FQ(t,i),l=FQ(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function E4e(t,e){return Tx(t.valueOf(),e.valueOf())}function k4e(t,e){return t.source===e.source&&t.flags===e.flags}function LQ(t,e,s){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const c=e.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!a[u]&&s.equals(o.value,l.value,o.value,l.value,t,e,s)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function l5(t,e){let s=t.byteLength;if(e.byteLength!==s||t.byteOffset!==e.byteOffset)return!1;for(;s-- >0;)if(t[s]!==e[s])return!1;return!0}function T4e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function SZ(t,e,s,n){return(n===b4e||n===g4e||n===A4e)&&(t.$$typeof||e.$$typeof)?!0:x4e(e,n)&&s.equals(t[n],e[n],n,n,t,e,s)}const B4e="[object ArrayBuffer]",M4e="[object Arguments]",F4e="[object Boolean]",P4e="[object DataView]",I4e="[object Date]",L4e="[object Error]",D4e="[object Map]",R4e="[object Number]",O4e="[object Object]",U4e="[object RegExp]",H4e="[object Set]",Q4e="[object String]",$4e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},z4e="[object URL]",G4e=Object.prototype.toString;function V4e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:s,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:f,unknownTagComparators:x}){return function(g,b,w){if(g===b)return!0;if(g==null||b==null)return!1;const v=typeof g;if(v!==typeof b)return!1;if(v!=="object")return v==="number"?l(g,b,w):v==="function"?i(g,b,w):!1;const j=g.constructor;if(j!==b.constructor)return!1;if(j===Object)return c(g,b,w);if(Array.isArray(g))return e(g,b,w);if(j===Date)return n(g,b,w);if(j===RegExp)return u(g,b,w);if(j===Map)return o(g,b,w);if(j===Set)return h(g,b,w);const N=G4e.call(g);if(N===I4e)return n(g,b,w);if(N===U4e)return u(g,b,w);if(N===D4e)return o(g,b,w);if(N===H4e)return h(g,b,w);if(N===O4e)return typeof g.then!="function"&&typeof b.then!="function"&&c(g,b,w);if(N===z4e)return f(g,b,w);if(N===L4e)return a(g,b,w);if(N===M4e)return c(g,b,w);if($4e[N])return m(g,b,w);if(N===B4e)return t(g,b,w);if(N===P4e)return s(g,b,w);if(N===F4e||N===R4e||N===Q4e)return d(g,b,w);if(x){let S=x[N];if(!S){const T=p4e(g);T&&(S=x[T])}if(S)return S(g,b,w)}return!1}}function W4e({circular:t,createCustomConfig:e,strict:s}){let n={areArrayBuffersEqual:y4e,areArraysEqual:s?Cy:v4e,areDataViewsEqual:w4e,areDatesEqual:j4e,areErrorsEqual:N4e,areFunctionsEqual:S4e,areMapsEqual:s?Wk(IQ,Cy):IQ,areNumbersEqual:C4e,areObjectsEqual:s?Cy:_4e,arePrimitiveWrappersEqual:E4e,areRegExpsEqual:k4e,areSetsEqual:s?Wk(LQ,Cy):LQ,areTypedArraysEqual:s?Wk(l5,Cy):l5,areUrlsEqual:T4e,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const a=q2(n.areArraysEqual),i=q2(n.areMapsEqual),o=q2(n.areObjectsEqual),l=q2(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function q4e(t){return function(e,s,n,a,i,o,l){return t(e,s,l)}}function K4e({circular:t,comparator:e,createState:s,equals:n,strict:a}){if(s)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:u}=s();return e(l,c,{cache:d,equals:n,meta:u,strict:a})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return e(l,c,i)}}const X4e=v0();v0({strict:!0});v0({circular:!0});v0({circular:!0,strict:!0});v0({createInternalComparator:()=>Tx});v0({strict:!0,createInternalComparator:()=>Tx});v0({circular:!0,createInternalComparator:()=>Tx});v0({circular:!0,createInternalComparator:()=>Tx,strict:!0});function v0(t={}){const{circular:e=!1,createInternalComparator:s,createState:n,strict:a=!1}=t,i=W4e(t),o=V4e(i),l=s?s(o):q4e(o);return K4e({circular:e,comparator:o,createState:n,equals:l,strict:a})}function Y4e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=-1,n=function a(i){s<0&&(s=i),i-s>e?(t(i),s=-1):Y4e(a)};requestAnimationFrame(n)}function IM(t){"@babel/helpers - typeof";return IM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IM(t)}function J4e(t){return rCe(t)||tCe(t)||eCe(t)||Z4e()}function Z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eCe(t,e){if(t){if(typeof t=="string")return RQ(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return RQ(t,e)}}function RQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function tCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rCe(t){if(Array.isArray(t))return t}function sCe(){var t={},e=function(){return null},s=!1,n=function a(i){if(!s){if(Array.isArray(i)){if(!i.length)return;var o=i,l=J4e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){DQ(a.bind(null,d),c);return}a(c),DQ(a.bind(null,d));return}IM(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){s=!0},start:function(i){s=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function m1(t){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m1(t)}function OQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function UQ(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?OQ(Object(s),!0).forEach(function(n){CZ(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):OQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function CZ(t,e,s){return e=nCe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function nCe(t){var e=aCe(t,"string");return m1(e)==="symbol"?e:String(e)}function aCe(t,e){if(m1(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(m1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iCe=function(e,s){return[Object.keys(e),Object.keys(s)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},oCe=function(e){return e},lCe=function(e){return e.replace(/([A-Z])/g,function(s){return"-".concat(s.toLowerCase())})},hv=function(e,s){return Object.keys(s).reduce(function(n,a){return UQ(UQ({},n),{},CZ({},a,e(a,s[a])))},{})},HQ=function(e,s,n){return e.map(function(a){return"".concat(lCe(a)," ").concat(s,"ms ").concat(n)}).join(",")};function cCe(t,e){return hCe(t)||uCe(t,e)||_Z(t,e)||dCe()}function dCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uCe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function hCe(t){if(Array.isArray(t))return t}function fCe(t){return xCe(t)||pCe(t)||_Z(t)||mCe()}function mCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Z(t,e){if(t){if(typeof t=="string")return LM(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return LM(t,e)}}function pCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xCe(t){if(Array.isArray(t))return LM(t)}function LM(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}var c5=1e-4,EZ=function(e,s){return[0,3*e,3*s-6*e,3*e-3*s+1]},kZ=function(e,s){return e.map(function(n,a){return n*Math.pow(s,a)}).reduce(function(n,a){return n+a})},QQ=function(e,s){return function(n){var a=EZ(e,s);return kZ(a,n)}},ACe=function(e,s){return function(n){var a=EZ(e,s),i=[].concat(fCe(a.map(function(o,l){return o*l}).slice(1)),[0]);return kZ(i,n)}},$Q=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];var a=s[0],i=s[1],o=s[2],l=s[3];if(s.length===1)switch(s[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=s[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=cCe(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=QQ(a,o),m=QQ(i,l),f=ACe(a,o),x=function(b){return b>1?1:b<0?0:b},A=function(b){for(var w=b>1?1:b,v=w,j=0;j<8;++j){var N=h(v)-w,S=f(v);if(Math.abs(N-w)<c5||S<c5)return m(v);v=x(v-N/S)}return m(v)};return A.isStepper=!1,A},gCe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=e.stiff,n=s===void 0?100:s,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,h,m){var f=-(u-h)*n,x=m*i,A=m+(f-x)*l/1e3,g=m*l/1e3+u;return Math.abs(g-h)<c5&&Math.abs(A)<c5?[h,0]:[g,A]};return c.isStepper=!0,c.dt=l,c},bCe=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];var a=s[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $Q(a);case"spring":return gCe();default:if(a.split("(")[0]==="cubic-bezier")return $Q(a)}return typeof a=="function"?a:null};function p1(t){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p1(t)}function zQ(t){return wCe(t)||vCe(t)||TZ(t)||yCe()}function yCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wCe(t){if(Array.isArray(t))return RM(t)}function GQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Wi(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?GQ(Object(s),!0).forEach(function(n){DM(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):GQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function DM(t,e,s){return e=jCe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function jCe(t){var e=NCe(t,"string");return p1(e)==="symbol"?e:String(e)}function NCe(t,e){if(p1(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(p1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SCe(t,e){return ECe(t)||_Ce(t,e)||TZ(t,e)||CCe()}function CCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TZ(t,e){if(t){if(typeof t=="string")return RM(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return RM(t,e)}}function RM(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function _Ce(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ECe(t){if(Array.isArray(t))return t}var d5=function(e,s,n){return e+(s-e)*n},OM=function(e){var s=e.from,n=e.to;return s!==n},kCe=function t(e,s,n){var a=hv(function(i,o){if(OM(o)){var l=e(o.from,o.to,o.velocity),c=SCe(l,2),d=c[0],u=c[1];return Wi(Wi({},o),{},{from:d,velocity:u})}return o},s);return n<1?hv(function(i,o){return OM(o)?Wi(Wi({},o),{},{velocity:d5(o.velocity,a[i].velocity,n),from:d5(o.from,a[i].from,n)}):o},s):t(e,a,n-1)};const TCe=(function(t,e,s,n,a){var i=iCe(t,e),o=i.reduce(function(g,b){return Wi(Wi({},g),{},DM({},b,[t[b],e[b]]))},{}),l=i.reduce(function(g,b){return Wi(Wi({},g),{},DM({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return hv(function(b,w){return w.from},l)},f=function(){return!Object.values(l).filter(OM).length},x=function(b){d||(d=b);var w=b-d,v=w/s.dt;l=kCe(s,l,v),a(Wi(Wi(Wi({},t),e),m())),d=b,f()||(c=requestAnimationFrame(h))},A=function(b){u||(u=b);var w=(b-u)/n,v=hv(function(N,S){return d5.apply(void 0,zQ(S).concat([s(w)]))},o);if(a(Wi(Wi(Wi({},t),e),v)),w<1)c=requestAnimationFrame(h);else{var j=hv(function(N,S){return d5.apply(void 0,zQ(S).concat([s(1)]))},o);a(Wi(Wi(Wi({},t),e),j))}};return h=s.isStepper?x:A,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}var BCe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function MCe(t,e){if(t==null)return{};var s=FCe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function FCe(t,e){if(t==null)return{};var s={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(s[a]=t[a]);return s}function qk(t){return DCe(t)||LCe(t)||ICe(t)||PCe()}function PCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ICe(t,e){if(t){if(typeof t=="string")return UM(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return UM(t,e)}}function LCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DCe(t){if(Array.isArray(t))return UM(t)}function UM(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function VQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Bd(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?VQ(Object(s),!0).forEach(function(n){zy(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):VQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function zy(t,e,s){return e=BZ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function RCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OCe(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BZ(n.key),n)}}function UCe(t,e,s){return e&&OCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BZ(t){var e=HCe(t,"string");return $g(e)==="symbol"?e:String(e)}function HCe(t,e){if($g(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if($g(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HM(t,e)}function HM(t,e){return HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HM(t,e)}function $Ce(t){var e=zCe();return function(){var n=u5(t),a;if(e){var i=u5(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return QM(this,a)}}function QM(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $M(t)}function $M(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u5(t){return u5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},u5(t)}var Jd=(function(t){QCe(s,t);var e=$Ce(s);function s(n,a){var i;RCe(this,s),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind($M(i)),i.changeStyle=i.changeStyle.bind($M(i)),!l||f<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),QM(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},QM(i);i.state={style:c?zy({},c,d):d}}else i.state={style:{}};return i}return UCe(s,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,m=this.state.style;if(l){if(!o){var f={style:c?zy({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(f);return}if(!(X4e(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=x||d?h:a.to;if(this.state&&m){var g={style:c?zy({},c,A):A};(c&&m[c]!==A||!c&&m!==A)&&this.setState(g)}this.runAnimation(Bd(Bd({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,m=a.onAnimationStart,f=TCe(o,l,bCe(d),c,this.changeStyle),x=function(){i.stopJSAnimation=f()};this.manager.start([m,u,x,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,f=function(A,g,b){if(b===0)return A;var w=g.duration,v=g.easing,j=v===void 0?"ease":v,N=g.style,S=g.properties,T=g.onAnimationEnd,I=b>0?o[b-1]:g,_=S||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(qk(A),[i.runJSAnimation.bind(i,{from:I.style,to:N,duration:w,easing:j}),w]);var M=HQ(_,w,j),C=Bd(Bd(Bd({},I.style),N),{},{transition:M});return[].concat(qk(A),[C,w,T]).filter(oCe)};return this.manager.start([c].concat(qk(o.reduce(f,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=sCe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,m=a.steps,f=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var A=l?zy({},l,c):c,g=HQ(Object.keys(A),o,d);x.start([u,i,Bd(Bd({},A),{},{transition:g}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=MCe(a,BCe),d=E.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(f){var x=f.props,A=x.style,g=A===void 0?{}:A,b=x.className,w=E.cloneElement(f,Bd(Bd({},c),{},{style:Bd(Bd({},g),u),className:b}));return w};return d===1?h(E.Children.only(i)):Ve.createElement("div",null,E.Children.map(i,function(m){return h(m)}))}}]),s})(E.PureComponent);Jd.displayName="Animate";Jd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Jd.propTypes={from:an.oneOfType([an.object,an.string]),to:an.oneOfType([an.object,an.string]),attributeName:an.string,duration:an.number,begin:an.number,easing:an.oneOfType([an.string,an.func]),steps:an.arrayOf(an.shape({duration:an.number.isRequired,style:an.object.isRequired,easing:an.oneOfType([an.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),an.func]),properties:an.arrayOf("string"),onAnimationEnd:an.func})),children:an.oneOfType([an.node,an.func]),isActive:an.bool,canBegin:an.bool,onAnimationEnd:an.func,shouldReAnimate:an.bool,onAnimationStart:an.func,onAnimationReStart:an.func};function x1(t){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x1(t)}function h5(){return h5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},h5.apply(this,arguments)}function GCe(t,e){return KCe(t)||qCe(t,e)||WCe(t,e)||VCe()}function VCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WCe(t,e){if(t){if(typeof t=="string")return WQ(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return WQ(t,e)}}function WQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function qCe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function KCe(t){if(Array.isArray(t))return t}function qQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function KQ(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?qQ(Object(s),!0).forEach(function(n){XCe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):qQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function XCe(t,e,s){return e=YCe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function YCe(t){var e=JCe(t,"string");return x1(e)=="symbol"?e:e+""}function JCe(t,e){if(x1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XQ=function(e,s,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,f=4;m<f;m++)h[m]=i[m]>o?o:i[m];u="M".concat(e,",").concat(s+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(s)),u+="L ".concat(e+n-c*h[1],",").concat(s),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(s+l*h[1])),u+="L ".concat(e+n,",").concat(s+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-c*h[2],",").concat(s+a)),u+="L ".concat(e+c*h[3],",").concat(s+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(s+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(e,",").concat(s+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(s,`
            L `).concat(e+n-c*x,",").concat(s,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(s+l*x,`
            L `).concat(e+n,",").concat(s+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-c*x,",").concat(s+a,`
            L `).concat(e+c*x,",").concat(s+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(s+a-l*x," Z")}else u="M ".concat(e,",").concat(s," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},ZCe=function(e,s){if(!e||!s)return!1;var n=e.x,a=e.y,i=s.x,o=s.y,l=s.width,c=s.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return n>=d&&n<=u&&a>=h&&a<=m}return!1},e_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zI=function(e){var s=KQ(KQ({},e_e),e),n=E.useRef(),a=E.useState(-1),i=GCe(a,2),o=i[0],l=i[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=s.x,d=s.y,u=s.width,h=s.height,m=s.radius,f=s.className,x=s.animationEasing,A=s.animationDuration,g=s.animationBegin,b=s.isAnimationActive,w=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var v=ms("recharts-rectangle",f);return w?Ve.createElement(Jd,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:A,animationEasing:x,isActive:w},function(j){var N=j.width,S=j.height,T=j.x,I=j.y;return Ve.createElement(Jd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:A,isActive:b,easing:x},Ve.createElement("path",h5({},Rr(s,!0),{className:v,d:XQ(T,I,N,S,m),ref:n})))}):Ve.createElement("path",h5({},Rr(s,!0),{className:v,d:XQ(c,d,u,h,m)}))},t_e=["points","className","baseLinePoints","connectNulls"];function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},XA.apply(this,arguments)}function r_e(t,e){if(t==null)return{};var s=s_e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function s_e(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function YQ(t){return o_e(t)||i_e(t)||a_e(t)||n_e()}function n_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a_e(t,e){if(t){if(typeof t=="string")return zM(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return zM(t,e)}}function i_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o_e(t){if(Array.isArray(t))return zM(t)}function zM(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}var JQ=function(e){return e&&e.x===+e.x&&e.y===+e.y},l_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=[[]];return e.forEach(function(n){JQ(n)?s[s.length-1].push(n):s[s.length-1].length>0&&s.push([])}),JQ(e[0])&&s[s.length-1].push(e[0]),s[s.length-1].length<=0&&(s=s.slice(0,-1)),s},fv=function(e,s){var n=l_e(e);s&&(n=[n.reduce(function(i,o){return[].concat(YQ(i),YQ(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},c_e=function(e,s,n){var a=fv(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(fv(s.reverse(),n).slice(1))},d_e=function(e){var s=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=r_e(e,t_e);if(!s||!s.length)return null;var l=ms("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=c_e(s,a,i);return Ve.createElement("g",{className:l},Ve.createElement("path",XA({},Rr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Ve.createElement("path",XA({},Rr(o,!0),{fill:"none",d:fv(s,i)})):null,c?Ve.createElement("path",XA({},Rr(o,!0),{fill:"none",d:fv(a,i)})):null)}var u=fv(s,i);return Ve.createElement("path",XA({},Rr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function GM(){return GM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},GM.apply(this,arguments)}var mw=function(e){var s=e.cx,n=e.cy,a=e.r,i=e.className,o=ms("recharts-dot",i);return s===+s&&n===+n&&a===+a?Ve.createElement("circle",GM({},Rr(e,!1),PN(e),{className:o,cx:s,cy:n,r:a})):null};function A1(t){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A1(t)}var u_e=["x","y","top","left","width","height","className"];function VM(){return VM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},VM.apply(this,arguments)}function ZQ(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function h_e(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ZQ(Object(s),!0).forEach(function(n){f_e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ZQ(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function f_e(t,e,s){return e=m_e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function m_e(t){var e=p_e(t,"string");return A1(e)=="symbol"?e:e+""}function p_e(t,e){if(A1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x_e(t,e){if(t==null)return{};var s=A_e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function A_e(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}var g_e=function(e,s,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(s,"h").concat(n)},b_e=function(e){var s=e.x,n=s===void 0?0:s,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,m=e.height,f=m===void 0?0:m,x=e.className,A=x_e(e,u_e),g=h_e({x:n,y:i,top:l,left:d,width:h,height:f},A);return!nr(n)||!nr(i)||!nr(h)||!nr(f)||!nr(l)||!nr(d)?null:Ve.createElement("path",VM({},Rr(g,!0),{className:ms("recharts-cross",x),d:g_e(n,i,h,f,l,d)}))},Kk,e$;function y_e(){if(e$)return Kk;e$=1;var t=ZS(),e=VJ(),s=ch();function n(a,i){return a&&a.length?t(a,s(i,2),e):void 0}return Kk=n,Kk}var v_e=y_e();const w_e=xn(v_e);var Xk,t$;function j_e(){if(t$)return Xk;t$=1;var t=ZS(),e=ch(),s=WJ();function n(a,i){return a&&a.length?t(a,e(i,2),s):void 0}return Xk=n,Xk}var N_e=j_e();const S_e=xn(N_e);var C_e=["cx","cy","angle","ticks","axisLine"],__e=["ticks","tick","angle","tickFormatter","stroke"];function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},mv.apply(this,arguments)}function r$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function dp(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(s),!0).forEach(function(n){s4(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function s$(t,e){if(t==null)return{};var s=E_e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function E_e(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function k_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n$(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FZ(n.key),n)}}function T_e(t,e,s){return e&&n$(t.prototype,e),s&&n$(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function B_e(t,e,s){return e=f5(e),M_e(t,MZ()?Reflect.construct(e,s||[],f5(t).constructor):e.apply(t,s))}function M_e(t,e){if(e&&(zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_e(t)}function F_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MZ=function(){return!!t})()}function f5(t){return f5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},f5(t)}function P_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WM(t,e)}function WM(t,e){return WM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WM(t,e)}function s4(t,e,s){return e=FZ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function FZ(t){var e=I_e(t,"string");return zg(e)=="symbol"?e:e+""}function I_e(t,e){if(zg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n4=(function(t){function e(){return k_e(this,e),B_e(this,e,arguments)}return P_e(e,t),T_e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return On(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=w_e(l,function(u){return u.coordinate||0}),d=S_e(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=s$(n,C_e),u=l.reduce(function(x,A){return[Math.min(x[0],A.coordinate),Math.max(x[1],A.coordinate)]},[1/0,-1/0]),h=On(a,i,u[0],o),m=On(a,i,u[1],o),f=dp(dp(dp({},Rr(d,!1)),{},{fill:"none"},Rr(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return Ve.createElement("line",mv({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=s$(a,__e),h=this.getTickTextAnchor(),m=Rr(u,!1),f=Rr(o,!1),x=i.map(function(A,g){var b=n.getTickValueCoord(A),w=dp(dp(dp(dp({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:d},f),{},{index:g},b),{},{payload:A});return Ve.createElement(Ss,mv({className:ms("recharts-polar-radius-axis-tick",vZ(o)),key:"tick-".concat(A.coordinate)},cx(n.props,A,g)),e.renderTickItem(o,w,c?c(A.value,g):A.value))});return Ve.createElement(Ss,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:Ve.createElement(Ss,{className:ms("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Bi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ve.isValidElement(n)?o=Ve.cloneElement(n,a):qr(n)?o=n(a):o=Ve.createElement(dx,mv({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(E.PureComponent);s4(n4,"displayName","PolarRadiusAxis");s4(n4,"axisType","radiusAxis");s4(n4,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Ep.apply(this,arguments)}function a$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function up(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?a$(Object(s),!0).forEach(function(n){a4(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function L_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i$(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IZ(n.key),n)}}function D_e(t,e,s){return e&&i$(t.prototype,e),s&&i$(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function R_e(t,e,s){return e=m5(e),O_e(t,PZ()?Reflect.construct(e,s||[],m5(t).constructor):e.apply(t,s))}function O_e(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U_e(t)}function U_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PZ=function(){return!!t})()}function m5(t){return m5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},m5(t)}function H_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qM(t,e)}function qM(t,e){return qM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qM(t,e)}function a4(t,e,s){return e=IZ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function IZ(t){var e=Q_e(t,"string");return Gg(e)=="symbol"?e:e+""}function Q_e(t,e){if(Gg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $_e=Math.PI/180,o$=1e-5,i4=(function(t){function e(){return L_e(this,e),R_e(this,e,arguments)}return H_e(e,t),D_e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=On(i,o,l,n.coordinate),m=On(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*$_e),o;return i>o$?o=a==="outer"?"start":"end":i<-o$?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=up(up({},Rr(this.props,!1)),{},{fill:"none"},Rr(l,!1));if(c==="circle")return Ve.createElement(mw,Ep({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(m){return On(a,i,o,m.coordinate)});return Ve.createElement(d_e,Ep({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Rr(this.props,!1),h=Rr(o,!1),m=up(up({},u),{},{fill:"none"},Rr(l,!1)),f=i.map(function(x,A){var g=n.getTickLineCoord(x),b=n.getTickTextAnchor(x),w=up(up(up({textAnchor:b},u),{},{stroke:"none",fill:d},h),{},{index:A,payload:x,x:g.x2,y:g.y2});return Ve.createElement(Ss,Ep({className:ms("recharts-polar-angle-axis-tick",vZ(o)),key:"tick-".concat(x.coordinate)},cx(n.props,x,A)),l&&Ve.createElement("line",Ep({className:"recharts-polar-angle-axis-tick-line"},m,g)),o&&e.renderTickItem(o,w,c?c(x.value,A):x.value))});return Ve.createElement(Ss,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:Ve.createElement(Ss,{className:ms("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ve.isValidElement(n)?o=Ve.cloneElement(n,a):qr(n)?o=n(a):o=Ve.createElement(dx,Ep({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(E.PureComponent);a4(i4,"displayName","PolarAngleAxis");a4(i4,"axisType","angleAxis");a4(i4,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Yk,l$;function z_e(){if(l$)return Yk;l$=1;var t=GY(),e=t(Object.getPrototypeOf,Object);return Yk=e,Yk}var Jk,c$;function G_e(){if(c$)return Jk;c$=1;var t=Rf(),e=z_e(),s=Of(),n="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!s(u)||t(u)!=n)return!1;var h=e(u);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return Jk=d,Jk}var V_e=G_e();const W_e=xn(V_e);var Zk,d$;function q_e(){if(d$)return Zk;d$=1;var t=Rf(),e=Of(),s="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==s}return Zk=n,Zk}var K_e=q_e();const X_e=xn(K_e);function g1(t){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g1(t)}function p5(){return p5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},p5.apply(this,arguments)}function Y_e(t,e){return t3e(t)||e3e(t,e)||Z_e(t,e)||J_e()}function J_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(t,e){if(t){if(typeof t=="string")return u$(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return u$(t,e)}}function u$(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function e3e(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function t3e(t){if(Array.isArray(t))return t}function h$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function f$(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(s),!0).forEach(function(n){r3e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):h$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function r3e(t,e,s){return e=s3e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function s3e(t){var e=n3e(t,"string");return g1(e)=="symbol"?e:e+""}function n3e(t,e){if(g1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m$=function(e,s,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(s),l+="L ".concat(e+n,",").concat(s),l+="L ".concat(e+n-o/2,",").concat(s+i),l+="L ".concat(e+n-o/2-a,",").concat(s+i),l+="L ".concat(e,",").concat(s," Z"),l},a3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i3e=function(e){var s=f$(f$({},a3e),e),n=E.useRef(),a=E.useState(-1),i=Y_e(a,2),o=i[0],l=i[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=s.x,d=s.y,u=s.upperWidth,h=s.lowerWidth,m=s.height,f=s.className,x=s.animationEasing,A=s.animationDuration,g=s.animationBegin,b=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var w=ms("recharts-trapezoid",f);return b?Ve.createElement(Jd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:A,animationEasing:x,isActive:b},function(v){var j=v.upperWidth,N=v.lowerWidth,S=v.height,T=v.x,I=v.y;return Ve.createElement(Jd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:A,easing:x},Ve.createElement("path",p5({},Rr(s,!0),{className:w,d:m$(T,I,j,N,S),ref:n})))}):Ve.createElement("g",null,Ve.createElement("path",p5({},Rr(s,!0),{className:w,d:m$(c,d,u,h,m)})))},o3e=["option","shapeType","propTransformer","activeClassName","isActive"];function b1(t){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b1(t)}function l3e(t,e){if(t==null)return{};var s=c3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function c3e(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function p$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function x5(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?p$(Object(s),!0).forEach(function(n){d3e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function d3e(t,e,s){return e=u3e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function u3e(t){var e=h3e(t,"string");return b1(e)=="symbol"?e:e+""}function h3e(t,e){if(b1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f3e(t,e){return x5(x5({},e),t)}function m3e(t,e){return t==="symbols"}function x$(t){var e=t.shapeType,s=t.elementProps;switch(e){case"rectangle":return Ve.createElement(zI,s);case"trapezoid":return Ve.createElement(i3e,s);case"sector":return Ve.createElement(NZ,s);case"symbols":if(m3e(e))return Ve.createElement(cI,s);break;default:return null}}function p3e(t){return E.isValidElement(t)?t.props:t}function LZ(t){var e=t.option,s=t.shapeType,n=t.propTransformer,a=n===void 0?f3e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=l3e(t,o3e),d;if(E.isValidElement(e))d=E.cloneElement(e,x5(x5({},c),p3e(e)));else if(qr(e))d=e(c);else if(W_e(e)&&!X_e(e)){var u=a(e,c);d=Ve.createElement(x$,{shapeType:s,elementProps:u})}else{var h=c;d=Ve.createElement(x$,{shapeType:s,elementProps:h})}return l?Ve.createElement(Ss,{className:o},d):d}function o4(t,e){return e!=null&&"trapezoids"in t.props}function l4(t,e){return e!=null&&"sectors"in t.props}function y1(t,e){return e!=null&&"points"in t.props}function x3e(t,e){var s,n,a=t.x===(e==null||(s=e.labelViewBox)===null||s===void 0?void 0:s.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function A3e(t,e){var s=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return s&&n}function g3e(t,e){var s=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return s&&n&&a}function b3e(t,e){var s;return o4(t,e)?s=x3e:l4(t,e)?s=A3e:y1(t,e)&&(s=g3e),s}function y3e(t,e){var s;return o4(t,e)?s="trapezoids":l4(t,e)?s="sectors":y1(t,e)&&(s="points"),s}function v3e(t,e){if(o4(t,e)){var s;return(s=e.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}if(l4(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return y1(t,e)?e.payload:{}}function w3e(t){var e=t.activeTooltipItem,s=t.graphicalItem,n=t.itemData,a=y3e(s,e),i=v3e(s,e),o=n.filter(function(c,d){var u=ux(i,c),h=s.props[a].filter(function(x){var A=b3e(s,e);return A(x,e)}),m=s.props[a].indexOf(h[h.length-1]),f=d===m;return u&&f}),l=n.indexOf(o[o.length-1]);return l}var xN;function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},YA.apply(this,arguments)}function A$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Ln(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(s),!0).forEach(function(n){Jc(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):A$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function j3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g$(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RZ(n.key),n)}}function N3e(t,e,s){return e&&g$(t.prototype,e),s&&g$(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function S3e(t,e,s){return e=A5(e),C3e(t,DZ()?Reflect.construct(e,s||[],A5(t).constructor):e.apply(t,s))}function C3e(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _3e(t)}function _3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DZ=function(){return!!t})()}function A5(t){return A5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},A5(t)}function E3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KM(t,e)}function KM(t,e){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KM(t,e)}function Jc(t,e,s){return e=RZ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function RZ(t){var e=k3e(t,"string");return Vg(e)=="symbol"?e:e+""}function k3e(t,e){if(Vg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nu=(function(t){function e(s){var n;return j3e(this,e),n=S3e(this,e,[s]),Jc(n,"pieRef",null),Jc(n,"sectorRefs",[]),Jc(n,"id",_x("recharts-pie-")),Jc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),qr(a)&&a()}),Jc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),qr(a)&&a()}),n.state={isAnimationFinished:!s.isAnimationActive,prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,sectorToFocus:0},n}return E3e(e,t),N3e(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Rr(this.props,!1),h=Rr(o,!1),m=Rr(l,!1),f=o&&o.offsetRadius||20,x=n.map(function(A,g){var b=(A.startAngle+A.endAngle)/2,w=On(A.cx,A.cy,A.outerRadius+f,b),v=Ln(Ln(Ln(Ln({},u),A),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(w.x,A.cx)},w),j=Ln(Ln(Ln(Ln({},u),A),{},{fill:"none",stroke:A.fill},m),{},{index:g,points:[On(A.cx,A.cy,A.outerRadius,b),w]}),N=c;return as(c)&&as(d)?N="value":as(c)&&(N=d),Ve.createElement(Ss,{key:"label-".concat(A.startAngle,"-").concat(A.endAngle,"-").concat(A.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,j,"line"),e.renderLabelItem(o,v,Oa(A,N)))});return Ve.createElement(Ss,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var h=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,f=h?o:m,x=Ln(Ln({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Ve.createElement(Ss,YA({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},cx(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),Ve.createElement(LZ,YA({option:f,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,m=h.prevSectors,f=h.prevIsAnimationActive;return Ve.createElement(Jd,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var A=x.t,g=[],b=i&&i[0],w=b.startAngle;return i.forEach(function(v,j){var N=m&&m[j],S=j>0?fc(v,"paddingAngle",0):0;if(N){var T=di(N.endAngle-N.startAngle,v.endAngle-v.startAngle),I=Ln(Ln({},v),{},{startAngle:w+S,endAngle:w+T(A)+S});g.push(I),w=I.endAngle}else{var _=v.endAngle,M=v.startAngle,C=di(0,_-M),B=C(A),P=Ln(Ln({},v),{},{startAngle:w+S,endAngle:w+B+S});g.push(P),w=P.endAngle}}),Ve.createElement(Ss,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!ux(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,m=a.outerRadius,f=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!nr(d)||!nr(u)||!nr(h)||!nr(m))return null;var A=ms("recharts-pie",l);return Ve.createElement(Ss,{tabIndex:this.props.rootTabIndex,className:A,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Bi.renderCallByParent(this.props,null,!1),(!f||x)&&Yu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Ve.isValidElement(n))return Ve.cloneElement(n,a);if(qr(n))return n(a);var o=ms("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Ve.createElement(Vp,YA({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(Ve.isValidElement(n))return Ve.cloneElement(n,a);var o=i;if(qr(n)&&(o=n(a),Ve.isValidElement(o)))return o;var l=ms("recharts-pie-label-text",typeof n!="boolean"&&!qr(n)?n.className:"");return Ve.createElement(dx,YA({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(E.PureComponent);xN=nu;Jc(nu,"displayName","Pie");Jc(nu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!g0.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Jc(nu,"parseDeltaAngle",function(t,e){var s=tl(e-t),n=Math.min(Math.abs(e-t),360);return s*n});Jc(nu,"getRealPieData",function(t){var e=t.data,s=t.children,n=Rr(t,!1),a=mc(s,u0);return e&&e.length?e.map(function(i,o){return Ln(Ln(Ln({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ln(Ln({},n),i.props)}):[]});Jc(nu,"parseCoordinateOfPie",function(t,e){var s=e.top,n=e.left,a=e.width,i=e.height,o=yZ(a,i),l=n+rl(t.cx,a,a/2),c=s+rl(t.cy,i,i/2),d=rl(t.innerRadius,o,0),u=rl(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Jc(nu,"getComposedData",function(t){var e=t.item,s=t.offset,n=e.type.defaultProps!==void 0?Ln(Ln({},e.type.defaultProps),e.props):e.props,a=xN.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,h=n.valueKey,m=n.tooltipType,f=Math.abs(n.minAngle),x=xN.parseCoordinateOfPie(n,s),A=xN.parseDeltaAngle(o,l),g=Math.abs(A),b=d;as(d)&&as(h)?(qd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):as(d)&&(qd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var w=a.filter(function(I){return Oa(I,b,0)!==0}).length,v=(g>=360?w:w-1)*c,j=g-w*f-v,N=a.reduce(function(I,_){var M=Oa(_,b,0);return I+(nr(M)?M:0)},0),S;if(N>0){var T;S=a.map(function(I,_){var M=Oa(I,b,0),C=Oa(I,u,_),B=(nr(M)?M:0)/N,P;_?P=T.endAngle+tl(A)*c*(M!==0?1:0):P=o;var H=P+tl(A)*((M!==0?f:0)+B*j),D=(P+H)/2,G=(x.innerRadius+x.outerRadius)/2,O=[{name:C,value:M,payload:I,dataKey:b,type:m}],Q=On(x.cx,x.cy,G,D);return T=Ln(Ln(Ln({percent:B,cornerRadius:i,name:C,tooltipPayload:O,midAngle:D,middleRadius:G,tooltipPosition:Q},I),x),{},{value:Oa(I,b),startAngle:P,endAngle:H,payload:I,paddingAngle:tl(A)*c}),T})}return Ln(Ln({},x),{},{sectors:S,data:a})});var e6,b$;function T3e(){if(b$)return e6;b$=1;var t=Math.ceil,e=Math.max;function s(n,a,i,o){for(var l=-1,c=e(t((a-n)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=i;return d}return e6=s,e6}var t6,y$;function OZ(){if(y$)return t6;y$=1;var t=oJ(),e=1/0,s=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*s}return a===a?a:0}return t6=n,t6}var r6,v$;function B3e(){if(v$)return r6;v$=1;var t=T3e(),e=VS(),s=OZ();function n(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=s(i),o===void 0?(o=i,i=0):o=s(o),l=l===void 0?i<o?1:-1:s(l),t(i,o,l,a)}}return r6=n,r6}var s6,w$;function M3e(){if(w$)return s6;w$=1;var t=B3e(),e=t();return s6=e,s6}var F3e=M3e();const g5=xn(F3e);function v1(t){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v1(t)}function j$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function N$(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?j$(Object(s),!0).forEach(function(n){UZ(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):j$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function UZ(t,e,s){return e=P3e(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function P3e(t){var e=I3e(t,"string");return v1(e)=="symbol"?e:e+""}function I3e(t,e){if(v1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L3e=["Webkit","Moz","O","ms"],D3e=function(e,s){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=L3e.reduce(function(i,o){return N$(N$({},i),{},UZ({},o+n,s))},{});return a[e]=s,a};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function b5(){return b5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},b5.apply(this,arguments)}function S$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function n6(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?S$(Object(s),!0).forEach(function(n){rc(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):S$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function R3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C$(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QZ(n.key),n)}}function O3e(t,e,s){return e&&C$(t.prototype,e),s&&C$(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function U3e(t,e,s){return e=y5(e),H3e(t,HZ()?Reflect.construct(e,s||[],y5(t).constructor):e.apply(t,s))}function H3e(t,e){if(e&&(Wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q3e(t)}function Q3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HZ=function(){return!!t})()}function y5(t){return y5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},y5(t)}function $3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XM(t,e)}function XM(t,e){return XM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XM(t,e)}function rc(t,e,s){return e=QZ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function QZ(t){var e=z3e(t,"string");return Wg(e)=="symbol"?e:e+""}function z3e(t,e){if(Wg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G3e=function(e){var s=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!s||!s.length)return{};var c=s.length,d=dv().domain(g5(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},_$=function(e){return e.changedTouches&&!!e.changedTouches.length},qg=(function(t){function e(s){var n;return R3e(this,e),n=U3e(this,e,[s]),rc(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),rc(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),rc(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),rc(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),rc(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),rc(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),rc(n,"handleSlideDragStart",function(a){var i=_$(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return $3e(e,t),O3e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),m=Math.max(a,i),f=e.getIndexInRange(o,h),x=e.getIndexInRange(o,m);return{startIndex:f-f%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Oa(i[n],l,n);return qr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,f=c.endIndex,x=c.onChange,A=n.pageX-i;A>0?A=Math.min(A,d+u-h-l,d+u-h-o):A<0&&(A=Math.max(A,d-o,d-l));var g=this.getIndex({startX:o+A,endX:l+A});(g.startIndex!==m||g.endIndex!==f)&&x&&x(g),this.setState({startX:o+A,endX:l+A,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=_$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,f=u.travellerWidth,x=u.onChange,A=u.gap,g=u.data,b={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,h+m-f-d):w<0&&(w=Math.max(w,h-d)),b[o]=d+w;var v=this.getIndex(b),j=v.startIndex,N=v.endIndex,S=function(){var I=g.length-1;return o==="startX"&&(l>c?j%A===0:N%A===0)||l<c&&N===I||o==="endX"&&(l>c?N%A===0:j%A===0)||l>c&&N===I};this.setState(rc(rc({},o,d+w),"brushMoveStartX",n.pageX),function(){x&&S()&&x(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var m=h+n;if(!(m===-1||m>=l.length)){var f=l[m];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(rc({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Ve.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,h=E.Children.only(d);return h?Ve.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,f=c.ariaLabel,x=c.data,A=c.startIndex,g=c.endIndex,b=Math.max(n,this.props.x),w=n6(n6({},Rr(this.props,!1)),{},{x:b,y:d,width:u,height:h}),v=f||"Min value: ".concat((i=x[A])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return Ve.createElement(Ss,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,h=Math.max(Math.abs(a-n)-d,0);return Ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,h=u.startX,m=u.endX,f=5,x={pointerEvents:"none",fill:d};return Ve.createElement(Ss,{className:"recharts-brush-texts"},Ve.createElement(dx,b5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-f,y:o+l/2},x),this.getTextOfTick(a)),Ve.createElement(dx,b5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+f,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,h=n.alwaysShowText,m=this.state,f=m.startX,x=m.endX,A=m.isTextActive,g=m.isSlideMoving,b=m.isTravellerMoving,w=m.isTravellerFocused;if(!a||!a.length||!nr(l)||!nr(c)||!nr(d)||!nr(u)||d<=0||u<=0)return null;var v=ms("recharts-brush",i),j=Ve.Children.count(o)===1,N=D3e("userSelect","none");return Ve.createElement(Ss,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(f,x),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(x,"endX"),(A||g||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return Ve.createElement(Ve.Fragment,null,Ve.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ve.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),Ve.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ve.isValidElement(n)?i=Ve.cloneElement(n,a):qr(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,h=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return n6({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?G3e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(E.PureComponent);rc(qg,"displayName","Brush");rc(qg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var a6,E$;function V3e(){if(E$)return a6;E$=1;var t=xI();function e(s,n){var a;return t(s,function(i,o,l){return a=n(i,o,l),!a}),!!a}return a6=e,a6}var i6,k$;function W3e(){if(k$)return i6;k$=1;var t=RY(),e=ch(),s=V3e(),n=Ul(),a=VS();function i(o,l,c){var d=n(o)?t:s;return c&&a(o,l,c)&&(l=void 0),d(o,e(l,3))}return i6=i,i6}var q3e=W3e();const K3e=xn(q3e);var Ju=function(e,s){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===s},o6,T$;function X3e(){if(T$)return o6;T$=1;var t=rJ();function e(s,n,a){n=="__proto__"&&t?t(s,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):s[n]=a}return o6=e,o6}var l6,B$;function Y3e(){if(B$)return l6;B$=1;var t=X3e(),e=eJ(),s=ch();function n(a,i){var o={};return i=s(i,3),e(a,function(l,c,d){t(o,c,i(l,c,d))}),o}return l6=n,l6}var J3e=Y3e();const Z3e=xn(J3e);var c6,M$;function eEe(){if(M$)return c6;M$=1;function t(e,s){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!s(e[n],n,e))return!1;return!0}return c6=t,c6}var d6,F$;function tEe(){if(F$)return d6;F$=1;var t=xI();function e(s,n){var a=!0;return t(s,function(i,o,l){return a=!!n(i,o,l),a}),a}return d6=e,d6}var u6,P$;function rEe(){if(P$)return u6;P$=1;var t=eEe(),e=tEe(),s=ch(),n=Ul(),a=VS();function i(o,l,c){var d=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),d(o,s(l,3))}return u6=i,u6}var sEe=rEe();const $Z=xn(sEe);var nEe=["x","y"];function w1(t){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w1(t)}function YM(){return YM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},YM.apply(this,arguments)}function I$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function _y(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(s),!0).forEach(function(n){aEe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):I$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function aEe(t,e,s){return e=iEe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function iEe(t){var e=oEe(t,"string");return w1(e)=="symbol"?e:e+""}function oEe(t,e){if(w1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lEe(t,e){if(t==null)return{};var s=cEe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function cEe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function dEe(t,e){var s=t.x,n=t.y,a=lEe(t,nEe),i="".concat(s),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),h="".concat(e.width||a.width),m=parseInt(h,10);return _y(_y(_y(_y(_y({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:e.name,radius:e.radius})}function L$(t){return Ve.createElement(LZ,YM({shapeType:"rectangle",propTransformer:dEe,activeClassName:"recharts-active-bar"},t))}var uEe=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||fx(),s)}},hEe=["value","background"],zZ;function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function fEe(t,e){if(t==null)return{};var s=mEe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function mEe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function v5(){return v5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},v5.apply(this,arguments)}function D$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Wa(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(s),!0).forEach(function(n){Qm(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):D$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function pEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R$(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VZ(n.key),n)}}function xEe(t,e,s){return e&&R$(t.prototype,e),s&&R$(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function AEe(t,e,s){return e=w5(e),gEe(t,GZ()?Reflect.construct(e,s||[],w5(t).constructor):e.apply(t,s))}function gEe(t,e){if(e&&(Kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bEe(t)}function bEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GZ=function(){return!!t})()}function w5(t){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},w5(t)}function yEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JM(t,e)}function JM(t,e){return JM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JM(t,e)}function Qm(t,e,s){return e=VZ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function VZ(t){var e=vEe(t,"string");return Kg(e)=="symbol"?e:e+""}function vEe(t,e){if(Kg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ll=(function(t){function e(){var s;pEe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=AEe(this,e,[].concat(a)),Qm(s,"state",{isAnimationFinished:!1}),Qm(s,"id",_x("recharts-bar-")),Qm(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),o&&o()}),Qm(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),o&&o()}),s}return yEe(e,t),xEe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Rr(this.props,!1);return n&&n.map(function(h,m){var f=m===c,x=f?d:o,A=Wa(Wa(Wa({},u),h),{},{isActive:f,option:x,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ve.createElement(Ss,v5({className:"recharts-bar-rectangle"},cx(a.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),Ve.createElement(L$,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state.prevData;return Ve.createElement(Jd,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var x=f.t,A=i.map(function(g,b){var w=m&&m[b];if(w){var v=di(w.x,g.x),j=di(w.y,g.y),N=di(w.width,g.width),S=di(w.height,g.height);return Wa(Wa({},g),{},{x:v(x),y:j(x),width:N(x),height:S(x)})}if(o==="horizontal"){var T=di(0,g.height),I=T(x);return Wa(Wa({},g),{},{y:g.y+g.height-I,height:I})}var _=di(0,g.width),M=_(x);return Wa(Wa({},g),{},{width:M})});return Ve.createElement(Ss,null,n.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!ux(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Rr(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,m=fEe(d,hEe);if(!h)return null;var f=Wa(Wa(Wa(Wa(Wa({},m),{},{fill:"#eee"},h),c),cx(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Ve.createElement(L$,v5({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=mc(u,fw);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,f=function(g,b){var w=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:w,errorVal:Oa(g,b)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ve.createElement(Ss,x,h.map(function(A){return Ve.cloneElement(A,{key:"error-bar-".concat(a,"-").concat(A.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,h=n.width,m=n.height,f=n.isAnimationActive,x=n.background,A=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=ms("recharts-bar",o),w=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,j=w||v,N=as(A)?this.id:A;return Ve.createElement(Ss,{className:b},w||v?Ve.createElement("defs",null,Ve.createElement("clipPath",{id:"clipPath-".concat(N)},Ve.createElement("rect",{x:w?d:d-h/2,y:v?u:u-m/2,width:w?h:h*2,height:v?m:m*2}))):null,Ve.createElement(Ss,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!f||g)&&Yu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(E.PureComponent);zZ=Ll;Qm(Ll,"displayName","Bar");Qm(Ll,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!g0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qm(Ll,"getComposedData",function(t){var e=t.props,s=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,m=t.offset,f=V5e(n,s);if(!f)return null;var x=e.layout,A=s.type.defaultProps,g=A!==void 0?Wa(Wa({},A),s.props):s.props,b=g.dataKey,w=g.children,v=g.minPointSize,j=x==="horizontal"?o:i,N=d?j.scale.domain():null,S=Z5e({numericAxis:j}),T=mc(w,u0),I=h.map(function(_,M){var C,B,P,H,D,G;d?C=W5e(d[u+M],N):(C=Oa(_,b),Array.isArray(C)||(C=[S,C]));var O=uEe(v,zZ.defaultProps.minPointSize)(C[1],M);if(x==="horizontal"){var Q,ee=[o.scale(C[0]),o.scale(C[1])],q=ee[0],Z=ee[1];B=hQ({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:_,index:M}),P=(Q=Z??q)!==null&&Q!==void 0?Q:void 0,H=f.size;var F=q-Z;if(D=Number.isNaN(F)?0:F,G={x:B,y:o.y,width:H,height:o.height},Math.abs(O)>0&&Math.abs(D)<Math.abs(O)){var z=tl(D||O)*(Math.abs(O)-Math.abs(D));P-=z,D+=z}}else{var V=[i.scale(C[0]),i.scale(C[1])],W=V[0],ne=V[1];if(B=W,P=hQ({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:_,index:M}),H=ne-W,D=f.size,G={x:i.x,y:P,width:i.width,height:D},Math.abs(O)>0&&Math.abs(H)<Math.abs(O)){var ie=tl(H||O)*(Math.abs(O)-Math.abs(H));H+=ie}}return Wa(Wa(Wa({},_),{},{x:B,y:P,width:H,height:D,value:d?C:C[1],payload:_,background:G},T&&T[M]&&T[M].props),{},{tooltipPayload:[gZ(s,_)],tooltipPosition:{x:B+H/2,y:P+D/2}})});return Wa({data:I,layout:x},m)});function j1(t){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j1(t)}function wEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O$(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WZ(n.key),n)}}function jEe(t,e,s){return e&&O$(t.prototype,e),s&&O$(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function U$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Ld(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(s),!0).forEach(function(n){c4(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):U$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function c4(t,e,s){return e=WZ(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function WZ(t){var e=NEe(t,"string");return j1(e)=="symbol"?e:e+""}function NEe(t,e){if(j1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GI=function(e,s,n,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(s),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!ic(d,Ll);return u.reduce(function(f,x){var A=s[x],g=A.orientation,b=A.domain,w=A.padding,v=w===void 0?{}:w,j=A.mirror,N=A.reversed,S="".concat(g).concat(j?"Mirror":""),T,I,_,M,C;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var B=b[1]-b[0],P=1/0,H=A.categoricalDomain.sort();if(H.forEach(function(V,W){W>0&&(P=Math.min((V||0)-(H[W-1]||0),P))}),Number.isFinite(P)){var D=P/B,G=A.layout==="vertical"?n.height:n.width;if(A.padding==="gap"&&(T=D*G/2),A.padding==="no-gap"){var O=rl(e.barCategoryGap,D*G),Q=D*G/2;T=Q-O-(Q-O)/G*O}}}a==="xAxis"?I=[n.left+(v.left||0)+(T||0),n.left+n.width-(v.right||0)-(T||0)]:a==="yAxis"?I=c==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(T||0),n.top+n.height-(v.bottom||0)-(T||0)]:I=A.range,N&&(I=[I[1],I[0]]);var ee=mZ(A,i,m),q=ee.scale,Z=ee.realScaleType;q.domain(b).range(I),pZ(q);var F=xZ(q,Ld(Ld({},A),{},{realScaleType:Z}));a==="xAxis"?(C=g==="top"&&!j||g==="bottom"&&j,_=n.left,M=h[S]-C*A.height):a==="yAxis"&&(C=g==="left"&&!j||g==="right"&&j,_=h[S]-C*A.width,M=n.top);var z=Ld(Ld(Ld({},A),F),{},{realScaleType:Z,x:_,y:M,scale:q,width:a==="xAxis"?n.width:A.width,height:a==="yAxis"?n.height:A.height});return z.bandSize=a5(z,F),!A.hide&&a==="xAxis"?h[S]+=(C?-1:1)*z.height:A.hide||(h[S]+=(C?-1:1)*z.width),Ld(Ld({},f),{},c4({},x,z))},{})},qZ=function(e,s){var n=e.x,a=e.y,i=s.x,o=s.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},SEe=function(e){var s=e.x1,n=e.y1,a=e.x2,i=e.y2;return qZ({x:s,y:n},{x:a,y:i})},KZ=(function(){function t(e){wEe(this,t),this.scale=e}return jEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(s!==void 0){if(i)switch(i){case"start":return this.scale(s);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(s)+l}default:return this.scale(s)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+c}return this.scale(s)}}},{key:"isInRange",value:function(s){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?s>=a&&s<=i:s>=i&&s<=a}}],[{key:"create",value:function(s){return new t(s)}}])})();c4(KZ,"EPS",1e-4);var VI=function(e){var s=Object.keys(e).reduce(function(n,a){return Ld(Ld({},n),{},c4({},a,KZ.create(e[a])))},{});return Ld(Ld({},s),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Z3e(a,function(c,d){return s[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return $Z(a,function(i,o){return s[o].isInRange(i)})}})};function CEe(t){return(t%180+180)%180}var _Ee=function(e){var s=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=CEe(a),o=i*Math.PI/180,l=Math.atan(n/s),c=o>l&&o<Math.PI-l?n/Math.sin(o):s/Math.cos(o);return Math.abs(c)},h6,H$;function EEe(){if(H$)return h6;H$=1;var t=ch(),e=lw(),s=zS();function n(a){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=s(i),o=function(h){return d(c[h],h,c)}}var u=a(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return h6=n,h6}var f6,Q$;function kEe(){if(Q$)return f6;Q$=1;var t=OZ();function e(s){var n=t(s),a=n%1;return n===n?a?n-a:n:0}return f6=e,f6}var m6,$$;function TEe(){if($$)return m6;$$=1;var t=KY(),e=ch(),s=kEe(),n=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:s(l);return d<0&&(d=n(c+d,0)),t(i,e(o,3),d)}return m6=a,m6}var p6,z$;function BEe(){if(z$)return p6;z$=1;var t=EEe(),e=TEe(),s=t(e);return p6=s,p6}var MEe=BEe();const FEe=xn(MEe);var PEe=dY();const IEe=xn(PEe);var LEe=IEe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),WI=E.createContext(void 0),qI=E.createContext(void 0),XZ=E.createContext(void 0),YZ=E.createContext({}),JZ=E.createContext(void 0),ZZ=E.createContext(0),eee=E.createContext(0),G$=function(e){var s=e.state,n=s.xAxisMap,a=s.yAxisMap,i=s.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=LEe(i);return Ve.createElement(WI.Provider,{value:n},Ve.createElement(qI.Provider,{value:a},Ve.createElement(YZ.Provider,{value:i},Ve.createElement(XZ.Provider,{value:u},Ve.createElement(JZ.Provider,{value:o},Ve.createElement(ZZ.Provider,{value:d},Ve.createElement(eee.Provider,{value:c},l)))))))},DEe=function(){return E.useContext(JZ)},tee=function(e){var s=E.useContext(WI);s==null&&fx();var n=s[e];return n==null&&fx(),n},REe=function(){var e=E.useContext(WI);return Dm(e)},OEe=function(){var e=E.useContext(qI),s=FEe(e,function(n){return $Z(n.domain,Number.isFinite)});return s||Dm(e)},ree=function(e){var s=E.useContext(qI);s==null&&fx();var n=s[e];return n==null&&fx(),n},UEe=function(){var e=E.useContext(XZ);return e},HEe=function(){return E.useContext(YZ)},KI=function(){return E.useContext(eee)},XI=function(){return E.useContext(ZZ)};function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function QEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ee(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nee(n.key),n)}}function zEe(t,e,s){return e&&$Ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GEe(t,e,s){return e=j5(e),VEe(t,see()?Reflect.construct(e,s||[],j5(t).constructor):e.apply(t,s))}function VEe(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WEe(t)}function WEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function see(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(see=function(){return!!t})()}function j5(t){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},j5(t)}function qEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZM(t,e)}function ZM(t,e){return ZM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZM(t,e)}function V$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function W$(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(s),!0).forEach(function(n){YI(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):V$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function YI(t,e,s){return e=nee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function nee(t){var e=KEe(t,"string");return Xg(e)=="symbol"?e:e+""}function KEe(t,e){if(Xg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XEe(t,e){return eke(t)||ZEe(t,e)||JEe(t,e)||YEe()}function YEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(t,e){if(t){if(typeof t=="string")return q$(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q$(t,e)}}function q$(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function ZEe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function eke(t){if(Array.isArray(t))return t}function eF(){return eF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},eF.apply(this,arguments)}var tke=function(e,s){var n;return Ve.isValidElement(e)?n=Ve.cloneElement(e,s):qr(e)?n=e(s):n=Ve.createElement("line",eF({},s,{className:"recharts-reference-line-line"})),n},rke=function(e,s,n,a,i,o,l,c,d){var u=i.x,h=i.y,m=i.width,f=i.height;if(n){var x=d.y,A=e.y.apply(x,{position:o});if(Ju(d,"discard")&&!e.y.isInRange(A))return null;var g=[{x:u+m,y:A},{x:u,y:A}];return c==="left"?g.reverse():g}if(s){var b=d.x,w=e.x.apply(b,{position:o});if(Ju(d,"discard")&&!e.x.isInRange(w))return null;var v=[{x:w,y:h+f},{x:w,y:h}];return l==="top"?v.reverse():v}if(a){var j=d.segment,N=j.map(function(S){return e.apply(S,{position:o})});return Ju(d,"discard")&&K3e(N,function(S){return!e.isInRange(S)})?null:N}return null};function ske(t){var e=t.x,s=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=DEe(),u=tee(a),h=ree(i),m=UEe();if(!d||!m)return null;qd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=VI({x:u.scale,y:h.scale}),x=fi(e),A=fi(s),g=n&&n.length===2,b=rke(f,x,A,g,m,t.position,u.orientation,h.orientation,t);if(!b)return null;var w=XEe(b,2),v=w[0],j=v.x,N=v.y,S=w[1],T=S.x,I=S.y,_=Ju(t,"hidden")?"url(#".concat(d,")"):void 0,M=W$(W$({clipPath:_},Rr(t,!0)),{},{x1:j,y1:N,x2:T,y2:I});return Ve.createElement(Ss,{className:ms("recharts-reference-line",l)},tke(o,M),Bi.renderCallByParent(t,SEe({x1:j,y1:N,x2:T,y2:I})))}var JI=(function(t){function e(){return QEe(this,e),GEe(this,e,arguments)}return qEe(e,t),zEe(e,[{key:"render",value:function(){return Ve.createElement(ske,this.props)}}])})(Ve.Component);YI(JI,"displayName","ReferenceLine");YI(JI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tF(){return tF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},tF.apply(this,arguments)}function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function K$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function X$(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(s),!0).forEach(function(n){d4(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):K$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function nke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ake(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iee(n.key),n)}}function ike(t,e,s){return e&&ake(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oke(t,e,s){return e=N5(e),lke(t,aee()?Reflect.construct(e,s||[],N5(t).constructor):e.apply(t,s))}function lke(t,e){if(e&&(Yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cke(t)}function cke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aee=function(){return!!t})()}function N5(t){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},N5(t)}function dke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rF(t,e)}function rF(t,e){return rF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rF(t,e)}function d4(t,e,s){return e=iee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function iee(t){var e=uke(t,"string");return Yg(e)=="symbol"?e:e+""}function uke(t,e){if(Yg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hke=function(e){var s=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=VI({x:a.scale,y:i.scale}),l=o.apply({x:s,y:n},{bandAware:!0});return Ju(e,"discard")&&!o.isInRange(l)?null:l},u4=(function(t){function e(){return nke(this,e),oke(this,e,arguments)}return dke(e,t),ike(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=fi(a),u=fi(i);if(qd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=hke(this.props);if(!h)return null;var m=h.x,f=h.y,x=this.props,A=x.shape,g=x.className,b=Ju(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=X$(X$({clipPath:b},Rr(this.props,!0)),{},{cx:m,cy:f});return Ve.createElement(Ss,{className:ms("recharts-reference-dot",g)},e.renderDot(A,w),Bi.renderCallByParent(this.props,{x:m-o,y:f-o,width:2*o,height:2*o}))}}])})(Ve.Component);d4(u4,"displayName","ReferenceDot");d4(u4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});d4(u4,"renderDot",function(t,e){var s;return Ve.isValidElement(t)?s=Ve.cloneElement(t,e):qr(t)?s=t(e):s=Ve.createElement(mw,tF({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),s});function sF(){return sF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},sF.apply(this,arguments)}function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function Y$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function J$(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(s),!0).forEach(function(n){h4(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Y$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function fke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mke(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lee(n.key),n)}}function pke(t,e,s){return e&&mke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xke(t,e,s){return e=S5(e),Ake(t,oee()?Reflect.construct(e,s||[],S5(t).constructor):e.apply(t,s))}function Ake(t,e){if(e&&(Jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gke(t)}function gke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oee=function(){return!!t})()}function S5(t){return S5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},S5(t)}function bke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nF(t,e)}function nF(t,e){return nF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nF(t,e)}function h4(t,e,s){return e=lee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function lee(t){var e=yke(t,"string");return Jg(e)=="symbol"?e:e+""}function yke(t,e){if(Jg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vke=function(e,s,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var m=VI({x:u.scale,y:h.scale}),f={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:s?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Ju(i,"discard")&&(!m.isInRange(f)||!m.isInRange(x))?null:qZ(f,x)},f4=(function(t){function e(){return fke(this,e),xke(this,e,arguments)}return bke(e,t),pke(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;qd(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=fi(a),m=fi(i),f=fi(o),x=fi(l),A=this.props.shape;if(!h&&!m&&!f&&!x&&!A)return null;var g=vke(h,m,f,x,this.props);if(!g&&!A)return null;var b=Ju(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ve.createElement(Ss,{className:ms("recharts-reference-area",c)},e.renderRect(A,J$(J$({clipPath:b},Rr(this.props,!0)),g)),Bi.renderCallByParent(this.props,g))}}])})(Ve.Component);h4(f4,"displayName","ReferenceArea");h4(f4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});h4(f4,"renderRect",function(t,e){var s;return Ve.isValidElement(t)?s=Ve.cloneElement(t,e):qr(t)?s=t(e):s=Ve.createElement(zI,sF({},e,{className:"recharts-reference-area-rect"})),s});function cee(t,e,s){if(e<1)return[];if(e===1&&s===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function wke(t,e,s){var n={width:t.width+e.width,height:t.height+e.height};return _Ee(n,s)}function jke(t,e,s){var n=s==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function C5(t,e,s,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=s();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function Nke(t,e){return cee(t,e+1)}function Ske(t,e,s,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:cee(n,d)};var A=c,g,b=function(){return g===void 0&&(g=s(x,A)),g},w=x.coordinate,v=c===0||C5(t,w,b,u,l);v||(c=0,u=o,d+=1),v&&(u=w+t*(b()/2+a),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function N1(t){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N1(t)}function Z$(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Co(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Z$(Object(s),!0).forEach(function(n){Cke(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Z$(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Cke(t,e,s){return e=_ke(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function _ke(t){var e=Eke(t,"string");return N1(e)=="symbol"?e:e+""}function Eke(t,e){if(N1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kke(t,e,s,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(m){var f=i[m],x,A=function(){return x===void 0&&(x=s(f,m)),x};if(m===o-1){var g=t*(f.coordinate+t*A()/2-c);i[m]=f=Co(Co({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate})}else i[m]=f=Co(Co({},f),{},{tickCoord:f.coordinate});var b=C5(t,f.tickCoord,A,l,c);b&&(c=f.tickCoord-t*(A()/2+a),i[m]=Co(Co({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function Tke(t,e,s,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=n[l-1],h=s(u,l-1),m=t*(u.coordinate+t*h/2-d);o[l-1]=u=Co(Co({},u),{},{tickCoord:m>0?u.coordinate-m*t:u.coordinate});var f=C5(t,u.tickCoord,function(){return h},c,d);f&&(d=u.tickCoord-t*(h/2+a),o[l-1]=Co(Co({},u),{},{isShow:!0}))}for(var x=i?l-1:l,A=function(w){var v=o[w],j,N=function(){return j===void 0&&(j=s(v,w)),j};if(w===0){var S=t*(v.coordinate-t*N()/2-c);o[w]=v=Co(Co({},v),{},{tickCoord:S<0?v.coordinate-S*t:v.coordinate})}else o[w]=v=Co(Co({},v),{},{tickCoord:v.coordinate});var T=C5(t,v.tickCoord,N,c,d);T&&(c=v.tickCoord+t*(N()/2+a),o[w]=Co(Co({},v),{},{isShow:!0}))},g=0;g<x;g++)A(g);return o}function ZI(t,e,s){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!a||!a.length||!n)return[];if(nr(c)||g0.isSsr)return Nke(a,typeof c=="number"&&nr(c)?c:0);var m=[],f=l==="top"||l==="bottom"?"width":"height",x=u&&f==="width"?cv(u,{fontSize:e,letterSpacing:s}):{width:0,height:0},A=function(v,j){var N=qr(d)?d(v.value,j):v.value;return f==="width"?wke(cv(N,{fontSize:e,letterSpacing:s}),x,h):cv(N,{fontSize:e,letterSpacing:s})[f]},g=a.length>=2?tl(a[1].coordinate-a[0].coordinate):1,b=jke(i,g,f);return c==="equidistantPreserveStart"?Ske(g,b,A,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Tke(g,b,A,a,o,c==="preserveStartEnd"):m=kke(g,b,A,a,o),m.filter(function(w){return w.isShow}))}var Bke=["viewBox"],Mke=["viewBox"],Fke=["ticks"];function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},JA.apply(this,arguments)}function ez(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function qo(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(s),!0).forEach(function(n){eL(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ez(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function x6(t,e){if(t==null)return{};var s=Pke(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Pke(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function Ike(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tz(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uee(n.key),n)}}function Lke(t,e,s){return e&&tz(t.prototype,e),s&&tz(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dke(t,e,s){return e=_5(e),Rke(t,dee()?Reflect.construct(e,s||[],_5(t).constructor):e.apply(t,s))}function Rke(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oke(t)}function Oke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dee=function(){return!!t})()}function _5(t){return _5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_5(t)}function Uke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aF(t,e)}function aF(t,e){return aF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aF(t,e)}function eL(t,e,s){return e=uee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function uee(t){var e=Hke(t,"string");return Zg(e)=="symbol"?e:e+""}function Hke(t,e){if(Zg(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cb=(function(t){function e(s){var n;return Ike(this,e),n=Dke(this,e,[s]),n.state={fontSize:"",letterSpacing:""},n}return Uke(e,t),Lke(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=x6(n,Bke),l=this.props,c=l.viewBox,d=x6(l,Mke);return!og(i,c)||!og(o,d)||!og(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,m=a.tickMargin,f,x,A,g,b,w,v=h?-1:1,j=n.tickSize||u,N=nr(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":f=x=n.coordinate,g=o+ +!h*c,A=g-v*j,w=A-v*m,b=N;break;case"left":A=g=n.coordinate,x=i+ +!h*l,f=x-v*j,b=f-v*m,w=N;break;case"right":A=g=n.coordinate,x=i+ +h*l,f=x+v*j,b=f+v*m,w=N;break;default:f=x=n.coordinate,g=o+ +h*c,A=g+v*j,w=A+v*m,b=N;break}return{line:{x1:f,y1:A,x2:x,y2:g},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,h=qo(qo(qo({},Rr(this.props,!1)),Rr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=qo(qo({},h),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);h=qo(qo({},h),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return Ve.createElement("line",JA({},h,{className:ms("recharts-cartesian-axis-line",fc(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,f=ZI(qo(qo({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),g=Rr(this.props,!1),b=Rr(u,!1),w=qo(qo({},g),{},{fill:"none"},Rr(c,!1)),v=f.map(function(j,N){var S=o.getTickLineCoord(j),T=S.line,I=S.tick,_=qo(qo(qo(qo({textAnchor:x,verticalAnchor:A},g),{},{stroke:"none",fill:d},b),I),{},{index:N,payload:j,visibleTicksCount:f.length,tickFormatter:h});return Ve.createElement(Ss,JA({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},cx(o.props,j,N)),c&&Ve.createElement("line",JA({},w,T,{className:ms("recharts-cartesian-axis-tick-line",fc(c,"className"))})),u&&e.renderTickItem(u,_,"".concat(qr(h)?h(j.value,N):j.value).concat(m||"")))});return Ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,m=h.ticks,f=x6(h,Fke),x=m;return qr(c)&&(x=m&&m.length>0?c(this.props):c(f)),o<=0||l<=0||!x||!x.length?null:Ve.createElement(Ss,{className:ms("recharts-cartesian-axis",d),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Bi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ve.isValidElement(n)?o=Ve.cloneElement(n,a):qr(n)?o=n(a):o=Ve.createElement(dx,JA({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(E.Component);eL(Cb,"displayName","CartesianAxis");eL(Cb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qke=["x1","y1","x2","y2","key"],$ke=["offset"];function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function rz(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function To(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(s),!0).forEach(function(n){zke(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):rz(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function zke(t,e,s){return e=Gke(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Gke(t){var e=Vke(t,"string");return mx(e)=="symbol"?e:e+""}function Vke(t,e){if(mx(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Lp.apply(this,arguments)}function sz(t,e){if(t==null)return{};var s=Wke(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Wke(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}var qke=function(e){var s=e.fill;if(!s||s==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return Ve.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:s,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function hee(t,e){var s;if(Ve.isValidElement(t))s=Ve.cloneElement(t,e);else if(qr(t))s=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=sz(e,Qke),d=Rr(c,!1);d.offset;var u=sz(d,$ke);s=Ve.createElement("line",Lp({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return s}function Kke(t){var e=t.x,s=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=To(To({},t),{},{x1:e,y1:l,x2:e+s,y2:l,key:"line-".concat(c),index:c});return hee(a,d)});return Ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Xke(t){var e=t.y,s=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=To(To({},t),{},{x1:l,y1:e,x2:l,y2:e+s,key:"line-".concat(c),index:c});return hee(a,d)});return Ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Yke(t){var e=t.horizontalFill,s=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,f){return m-f});a!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var x=!u[f+1],A=x?a+o-m:u[f+1]-m;if(A<=0)return null;var g=f%e.length;return Ve.createElement("rect",{key:"react-".concat(f),y:m,x:n,height:A,width:i,stroke:"none",fill:e[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Jke(t){var e=t.vertical,s=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!s||!n||!n.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,f){return m-f});i!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var x=!u[f+1],A=x?i+l-m:u[f+1]-m;if(A<=0)return null;var g=f%n.length;return Ve.createElement("rect",{key:"react-".concat(f),x:m,y:o,width:A,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Zke=function(e,s){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return fZ(ZI(To(To(To({},Cb.defaultProps),n),{},{ticks:xf(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,s)},e6e=function(e,s){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return fZ(ZI(To(To(To({},Cb.defaultProps),n),{},{ticks:xf(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,s)},CA={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function jf(t){var e,s,n,a,i,o,l=KI(),c=XI(),d=HEe(),u=To(To({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:CA.stroke,fill:(s=t.fill)!==null&&s!==void 0?s:CA.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:CA.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:CA.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:CA.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:CA.verticalFill,x:nr(t.x)?t.x:d.left,y:nr(t.y)?t.y:d.top,width:nr(t.width)?t.width:d.width,height:nr(t.height)?t.height:d.height}),h=u.x,m=u.y,f=u.width,x=u.height,A=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,w=REe(),v=OEe();if(!nr(f)||f<=0||!nr(x)||x<=0||!nr(h)||h!==+h||!nr(m)||m!==+m)return null;var j=u.verticalCoordinatesGenerator||Zke,N=u.horizontalCoordinatesGenerator||e6e,S=u.horizontalPoints,T=u.verticalPoints;if((!S||!S.length)&&qr(N)){var I=g&&g.length,_=N({yAxis:v?To(To({},v),{},{ticks:I?g:v.ticks}):void 0,width:l,height:c,offset:d},I?!0:A);qd(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(mx(_),"]")),Array.isArray(_)&&(S=_)}if((!T||!T.length)&&qr(j)){var M=b&&b.length,C=j({xAxis:w?To(To({},w),{},{ticks:M?b:w.ticks}):void 0,width:l,height:c,offset:d},M?!0:A);qd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(mx(C),"]")),Array.isArray(C)&&(T=C)}return Ve.createElement("g",{className:"recharts-cartesian-grid"},Ve.createElement(qke,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ve.createElement(Kke,Lp({},u,{offset:d,horizontalPoints:S,xAxis:w,yAxis:v})),Ve.createElement(Xke,Lp({},u,{offset:d,verticalPoints:T,xAxis:w,yAxis:v})),Ve.createElement(Yke,Lp({},u,{horizontalPoints:S})),Ve.createElement(Jke,Lp({},u,{verticalPoints:T})))}jf.displayName="CartesianGrid";var t6e=["type","layout","connectNulls","ref"],r6e=["key"];function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}function nz(t,e){if(t==null)return{};var s=s6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function s6e(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},pv.apply(this,arguments)}function az(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function ec(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?az(Object(s),!0).forEach(function(n){Dd(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):az(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function _A(t){return o6e(t)||i6e(t)||a6e(t)||n6e()}function n6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6e(t,e){if(t){if(typeof t=="string")return iF(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return iF(t,e)}}function i6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o6e(t){if(Array.isArray(t))return iF(t)}function iF(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function l6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iz(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mee(n.key),n)}}function c6e(t,e,s){return e&&iz(t.prototype,e),s&&iz(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function d6e(t,e,s){return e=E5(e),u6e(t,fee()?Reflect.construct(e,s||[],E5(t).constructor):e.apply(t,s))}function u6e(t,e){if(e&&(eb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h6e(t)}function h6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fee=function(){return!!t})()}function E5(t){return E5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},E5(t)}function f6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oF(t,e)}function oF(t,e){return oF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oF(t,e)}function Dd(t,e,s){return e=mee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function mee(t){var e=m6e(t,"string");return eb(e)=="symbol"?e:e+""}function m6e(t,e){if(eb(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(eb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var px=(function(t){function e(){var s;l6e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=d6e(this,e,[].concat(a)),Dd(s,"state",{isAnimationFinished:!0,totalLength:0}),Dd(s,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Dd(s,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,w){return b+w});if(!d)return s.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,m=l-o,f=[],x=0,A=0;x<c.length;A+=c[x],++x)if(A+c[x]>h){f=[].concat(_A(c.slice(0,x)),[h-A]);break}var g=f.length%2===0?[0,m]:[m];return[].concat(_A(e.repeat(c,u)),_A(f),g).map(function(b){return"".concat(b,"px")}).join(", ")}),Dd(s,"id",_x("recharts-line-")),Dd(s,"pathRef",function(o){s.mainCurve=o}),Dd(s,"handleAnimationEnd",function(){s.setState({isAnimationFinished:!0}),s.props.onAnimationEnd&&s.props.onAnimationEnd()}),Dd(s,"handleAnimationStart",function(){s.setState({isAnimationFinished:!1}),s.props.onAnimationStart&&s.props.onAnimationStart()}),s}return f6e(e,t),c6e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=mc(u,fw);if(!h)return null;var m=function(A,g){return{x:A.x,y:A.y,value:A.value,errorVal:Oa(A.payload,g)}},f={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ve.createElement(Ss,f,h.map(function(x){return Ve.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Rr(this.props,!1),m=Rr(c,!0),f=d.map(function(A,g){var b=ec(ec(ec({key:"dot-".concat(g),r:3},h),m),{},{value:A.value,dataKey:u,cx:A.x,cy:A.y,index:g,payload:A.payload});return e.renderDotItem(c,b)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ve.createElement(Ss,pv({className:"recharts-line-dots",key:"dots"},x),f)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=nz(l,t6e),m=ec(ec(ec({},Rr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return Ve.createElement(Vp,pv({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,f=o.animationId,x=o.animateNewValues,A=o.width,g=o.height,b=this.state,w=b.prevPoints,v=b.totalLength;return Ve.createElement(Jd,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(w){var S=w.length/l.length,T=l.map(function(B,P){var H=Math.floor(P*S);if(w[H]){var D=w[H],G=di(D.x,B.x),O=di(D.y,B.y);return ec(ec({},B),{},{x:G(N),y:O(N)})}if(x){var Q=di(A*2,B.x),ee=di(g/2,B.y);return ec(ec({},B),{},{x:Q(N),y:ee(N)})}return ec(ec({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(T,n,a)}var I=di(0,v),_=I(N),M;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});M=i.getStrokeDasharray(_,v,C)}else M=i.generateSimpleStrokeDasharray(v,_);return i.renderCurveStatically(l,n,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!ux(d,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,h=a.top,m=a.left,f=a.width,x=a.height,A=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,v=ms("recharts-line",c),j=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,S=j||N,T=as(g)?this.id:g,I=(n=Rr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=I.r,M=_===void 0?3:_,C=I.strokeWidth,B=C===void 0?2:C,P=pY(o)?o:{},H=P.clipDot,D=H===void 0?!0:H,G=M*2+B;return Ve.createElement(Ss,{className:v},j||N?Ve.createElement("defs",null,Ve.createElement("clipPath",{id:"clipPath-".concat(T)},Ve.createElement("rect",{x:j?m:m-f/2,y:N?h:h-x/2,width:j?f:f*2,height:N?x:x*2})),!D&&Ve.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ve.createElement("rect",{x:m-G/2,y:h-G/2,width:f+G,height:x+G}))):null,!w&&this.renderCurve(S,T),this.renderErrorBar(S,T),(w||o)&&this.renderDots(S,D,T),(!A||b)&&Yu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(_A(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(_A(o),_A(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Ve.isValidElement(n))i=Ve.cloneElement(n,a);else if(qr(n))i=n(a);else{var o=a.key,l=nz(a,r6e),c=ms("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ve.createElement(mw,pv({key:o},l,{className:c}))}return i}}])})(E.PureComponent);Dd(px,"displayName","Line");Dd(px,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!g0.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Dd(px,"getComposedData",function(t){var e=t.props,s=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,u=e.layout,h=c.map(function(m,f){var x=Oa(m,o);return u==="horizontal"?{x:n5({axis:s,ticks:a,bandSize:l,entry:m,index:f}),y:as(x)?null:n.scale(x),value:x,payload:m}:{x:as(x)?null:s.scale(x),y:n5({axis:n,ticks:i,bandSize:l,entry:m,index:f}),value:x,payload:m}});return ec({points:h,layout:u},d)});var p6e=["layout","type","stroke","connectNulls","isRange","ref"],x6e=["key"],pee;function tb(t){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}function xee(t,e){if(t==null)return{};var s=A6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function A6e(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Dp.apply(this,arguments)}function oz(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function km(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(s),!0).forEach(function(n){$u(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):oz(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function g6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lz(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gee(n.key),n)}}function b6e(t,e,s){return e&&lz(t.prototype,e),s&&lz(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function y6e(t,e,s){return e=k5(e),v6e(t,Aee()?Reflect.construct(e,s||[],k5(t).constructor):e.apply(t,s))}function v6e(t,e){if(e&&(tb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w6e(t)}function w6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aee=function(){return!!t})()}function k5(t){return k5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},k5(t)}function j6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lF(t,e)}function lF(t,e){return lF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lF(t,e)}function $u(t,e,s){return e=gee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function gee(t){var e=N6e(t,"string");return tb(e)=="symbol"?e:e+""}function N6e(t,e){if(tb(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zu=(function(t){function e(){var s;g6e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=y6e(this,e,[].concat(a)),$u(s,"state",{isAnimationFinished:!0}),$u(s,"id",_x("recharts-area-")),$u(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),qr(o)&&o()}),$u(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),qr(o)&&o()}),s}return j6e(e,t),b6e(e,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,m=Rr(this.props,!1),f=Rr(d,!0),x=u.map(function(g,b){var w=km(km(km({key:"dot-".concat(b),r:3},m),f),{},{index:b,cx:g.x,cy:g.y,dataKey:h,value:g.value,payload:g.payload,points:u});return e.renderDotItem(d,w)}),A={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ve.createElement(Ss,Dp({className:"recharts-area-dots"},A),x)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=n*Math.abs(c-d),h=Hm(o.map(function(m){return m.y||0}));return nr(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Hm(i.map(function(m){return m.y||0})),h)),nr(h)?Ve.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=n*Math.abs(c-d),h=Hm(o.map(function(m){return m.x||0}));return nr(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Hm(i.map(function(m){return m.x||0})),h)),nr(h)?Ve.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var f=xee(l,p6e);return Ve.createElement(Ss,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Ve.createElement(Vp,Dp({},Rr(f,!0),{points:n,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Ve.createElement(Vp,Dp({},Rr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:n})),u!=="none"&&m&&Ve.createElement(Vp,Dp({},Rr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,f=o.animationId,x=this.state,A=x.prevPoints,g=x.prevBaseLine;return Ve.createElement(Jd,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(A){var v=A.length/l.length,j=l.map(function(I,_){var M=Math.floor(_*v);if(A[M]){var C=A[M],B=di(C.x,I.x),P=di(C.y,I.y);return km(km({},I),{},{x:B(w),y:P(w)})}return I}),N;if(nr(c)&&typeof c=="number"){var S=di(g,c);N=S(w)}else if(as(c)||vb(c)){var T=di(g,0);N=T(w)}else N=c.map(function(I,_){var M=Math.floor(_*v);if(g[M]){var C=g[M],B=di(C.x,I.x),P=di(C.y,I.y);return km(km({},I),{},{x:B(w),y:P(w)})}return I});return i.renderAreaStatically(j,N,n,a)}return Ve.createElement(Ss,null,Ve.createElement("defs",null,Ve.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(w))),Ve.createElement(Ss,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!ux(u,o)||!ux(h,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,m=a.yAxis,f=a.width,x=a.height,A=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,v=ms("recharts-area",c),j=h&&h.allowDataOverflow,N=m&&m.allowDataOverflow,S=j||N,T=as(g)?this.id:g,I=(n=Rr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=I.r,M=_===void 0?3:_,C=I.strokeWidth,B=C===void 0?2:C,P=pY(o)?o:{},H=P.clipDot,D=H===void 0?!0:H,G=M*2+B;return Ve.createElement(Ss,{className:v},j||N?Ve.createElement("defs",null,Ve.createElement("clipPath",{id:"clipPath-".concat(T)},Ve.createElement("rect",{x:j?u:u-f/2,y:N?d:d-x/2,width:j?f:f*2,height:N?x:x*2})),!D&&Ve.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ve.createElement("rect",{x:u-G/2,y:d-G/2,width:f+G,height:x+G}))):null,w?null:this.renderArea(S,T),(o||w)&&this.renderDots(S,D,T),(!A||b)&&Yu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(E.PureComponent);pee=Zu;$u(Zu,"displayName","Area");$u(Zu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!g0.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$u(Zu,"getBaseValue",function(t,e,s,n){var a=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(nr(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:s,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});$u(Zu,"getComposedData",function(t){var e=t.props,s=t.item,n=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,m=t.offset,f=e.layout,x=d&&d.length,A=pee.getBaseValue(e,s,n,a),g=f==="horizontal",b=!1,w=h.map(function(j,N){var S;x?S=d[u+N]:(S=Oa(j,c),Array.isArray(S)?b=!0:S=[A,S]);var T=S[1]==null||x&&Oa(j,c)==null;return g?{x:n5({axis:n,ticks:i,bandSize:l,entry:j,index:N}),y:T?null:a.scale(S[1]),value:S,payload:j}:{x:T?null:n.scale(S[1]),y:n5({axis:a,ticks:o,bandSize:l,entry:j,index:N}),value:S,payload:j}}),v;return x||b?v=w.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return g?{x:j.x,y:N!=null&&j.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:j.y}}):v=g?a.scale(A):n.scale(A),km({points:w,baseLine:v,layout:f,isRange:b},m)});$u(Zu,"renderDotItem",function(t,e){var s;if(Ve.isValidElement(t))s=Ve.cloneElement(t,e);else if(qr(t))s=t(e);else{var n=ms("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=xee(e,x6e);s=Ve.createElement(mw,Dp({},i,{key:a,className:n}))}return s});function rb(t){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}function S6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6e(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vee(n.key),n)}}function _6e(t,e,s){return e&&C6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E6e(t,e,s){return e=T5(e),k6e(t,bee()?Reflect.construct(e,s||[],T5(t).constructor):e.apply(t,s))}function k6e(t,e){if(e&&(rb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T6e(t)}function T6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bee=function(){return!!t})()}function T5(t){return T5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},T5(t)}function B6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cF(t,e)}function cF(t,e){return cF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cF(t,e)}function yee(t,e,s){return e=vee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function vee(t){var e=M6e(t,"string");return rb(e)=="symbol"?e:e+""}function M6e(t,e){if(rb(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(rb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dF(){return dF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},dF.apply(this,arguments)}function F6e(t){var e=t.xAxisId,s=KI(),n=XI(),a=tee(e);return a==null?null:Ve.createElement(Cb,dF({},a,{className:ms("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:n},ticksGenerator:function(o){return xf(o,!0)}}))}var pc=(function(t){function e(){return S6e(this,e),E6e(this,e,arguments)}return B6e(e,t),_6e(e,[{key:"render",value:function(){return Ve.createElement(F6e,this.props)}}])})(Ve.Component);yee(pc,"displayName","XAxis");yee(pc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sb(t){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(t)}function P6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I6e(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nee(n.key),n)}}function L6e(t,e,s){return e&&I6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D6e(t,e,s){return e=B5(e),R6e(t,wee()?Reflect.construct(e,s||[],B5(t).constructor):e.apply(t,s))}function R6e(t,e){if(e&&(sb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O6e(t)}function O6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wee=function(){return!!t})()}function B5(t){return B5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},B5(t)}function U6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uF(t,e)}function uF(t,e){return uF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uF(t,e)}function jee(t,e,s){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Nee(t){var e=H6e(t,"string");return sb(e)=="symbol"?e:e+""}function H6e(t,e){if(sb(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(sb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hF(){return hF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},hF.apply(this,arguments)}var Q6e=function(e){var s=e.yAxisId,n=KI(),a=XI(),i=ree(s);return i==null?null:Ve.createElement(Cb,hF({},i,{className:ms("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return xf(l,!0)}}))},xc=(function(t){function e(){return P6e(this,e),D6e(this,e,arguments)}return U6e(e,t),L6e(e,[{key:"render",value:function(){return Ve.createElement(Q6e,this.props)}}])})(Ve.Component);jee(xc,"displayName","YAxis");jee(xc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cz(t){return V6e(t)||G6e(t)||z6e(t)||$6e()}function $6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z6e(t,e){if(t){if(typeof t=="string")return fF(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return fF(t,e)}}function G6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V6e(t){if(Array.isArray(t))return fF(t)}function fF(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}var mF=function(e,s,n,a,i){var o=mc(e,JI),l=mc(e,u4),c=[].concat(cz(o),cz(l)),d=mc(e,f4),u="".concat(a,"Id"),h=a[0],m=s;if(c.length&&(m=c.reduce(function(A,g){if(g.props[u]===n&&Ju(g.props,"extendDomain")&&nr(g.props[h])){var b=g.props[h];return[Math.min(A[0],b),Math.max(A[1],b)]}return A},m)),d.length){var f="".concat(h,"1"),x="".concat(h,"2");m=d.reduce(function(A,g){if(g.props[u]===n&&Ju(g.props,"extendDomain")&&nr(g.props[f])&&nr(g.props[x])){var b=g.props[f],w=g.props[x];return[Math.min(A[0],b,w),Math.max(A[1],b,w)]}return A},m)}return i&&i.length&&(m=i.reduce(function(A,g){return nr(g)?[Math.min(A[0],g),Math.max(A[1],g)]:A},m)),m},A6={exports:{}},dz;function W6e(){return dz||(dz=1,(function(t){var e=Object.prototype.hasOwnProperty,s="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(s=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,m),x=s?s+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],f]:c._events[x].push(f):(c._events[x]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=s?s+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,x=new Array(f);m<f;m++)x[m]=h[m].fn;return x},l.prototype.listenerCount=function(d){var u=s?s+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,f,x){var A=s?s+d:d;if(!this._events[A])return!1;var g=this._events[A],b=arguments.length,w,v;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,m),!0;case 5:return g.fn.call(g.context,u,h,m,f),!0;case 6:return g.fn.call(g.context,u,h,m,f,x),!0}for(v=1,w=new Array(b-1);v<b;v++)w[v-1]=arguments[v];g.fn.apply(g.context,w)}else{var j=g.length,N;for(v=0;v<j;v++)switch(g[v].once&&this.removeListener(d,g[v].fn,void 0,!0),b){case 1:g[v].fn.call(g[v].context);break;case 2:g[v].fn.call(g[v].context,u);break;case 3:g[v].fn.call(g[v].context,u,h);break;case 4:g[v].fn.call(g[v].context,u,h,m);break;default:if(!w)for(N=1,w=new Array(b-1);N<b;N++)w[N-1]=arguments[N];g[v].fn.apply(g[v].context,w)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var f=s?s+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var x=this._events[f];if(x.fn)x.fn===u&&(!m||x.once)&&(!h||x.context===h)&&o(this,f);else{for(var A=0,g=[],b=x.length;A<b;A++)(x[A].fn!==u||m&&!x[A].once||h&&x[A].context!==h)&&g.push(x[A]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,t.exports=l})(A6)),A6.exports}var q6e=W6e();const K6e=xn(q6e);var g6=new K6e,b6="recharts.syncMouseEvents";function S1(t){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S1(t)}function X6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y6e(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,See(n.key),n)}}function J6e(t,e,s){return e&&Y6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y6(t,e,s){return e=See(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function See(t){var e=Z6e(t,"string");return S1(e)=="symbol"?e:e+""}function Z6e(t,e){if(S1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eTe=(function(){function t(){X6e(this,t),y6(this,"activeIndex",0),y6(this,"coordinateList",[]),y6(this,"layout","horizontal")}return J6e(t,[{key:"setDetails",value:function(s){var n,a=s.coordinateList,i=a===void 0?null:a,o=s.container,l=o===void 0?null:o,c=s.layout,d=c===void 0?null:c,u=s.offset,h=u===void 0?null:u,m=s.mouseHandlerCallback,f=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(s){if(this.coordinateList.length!==0)switch(s.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(s){this.activeIndex=s}},{key:"spoofMouse",value:function(){var s,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((s=window)===null||s===void 0?void 0:s.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function tTe(t,e,s){if(s==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&nr(n)&&nr(a))return!0}return!1}function rTe(t,e,s,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:s.left+.5,y:t==="horizontal"?s.top+.5:e.y-a,width:t==="horizontal"?n:s.width-1,height:t==="horizontal"?s.height-1:n}}function Cee(t){var e=t.cx,s=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=On(e,s,n,a),l=On(e,s,n,i);return{points:[o,l],cx:e,cy:s,radius:n,startAngle:a,endAngle:i}}function sTe(t,e,s){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=s.top,o=s.top+s.height;else if(t==="vertical")a=e.y,o=a,n=s.left,i=s.left+s.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,m=On(l,c,d,h),f=On(l,c,u,h);n=m.x,a=m.y,i=f.x,o=f.y}else return Cee(e);return[{x:n,y:a},{x:i,y:o}]}function C1(t){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C1(t)}function uz(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function K2(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(s),!0).forEach(function(n){nTe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):uz(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function nTe(t,e,s){return e=aTe(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function aTe(t){var e=iTe(t,"string");return C1(e)=="symbol"?e:e+""}function iTe(t,e){if(C1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oTe(t){var e,s,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(s=n.type.defaultProps)===null||s===void 0?void 0:s.cursor;if(!n||!f||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var x,A=Vp;if(m==="ScatterChart")x=o,A=b_e;else if(m==="BarChart")x=rTe(h,o,c,u),A=zI;else if(h==="radial"){var g=Cee(o),b=g.cx,w=g.cy,v=g.radius,j=g.startAngle,N=g.endAngle;x={cx:b,cy:w,startAngle:j,endAngle:N,innerRadius:v,outerRadius:v},A=NZ}else x={points:sTe(h,o,c)},A=Vp;var S=K2(K2(K2(K2({stroke:"#ccc",pointerEvents:"none"},c),x),Rr(f,!1)),{},{payload:l,payloadIndex:d,className:ms("recharts-tooltip-cursor",f.className)});return E.isValidElement(f)?E.cloneElement(f,S):E.createElement(A,S)}var lTe=["item"],cTe=["children","className","width","height","style","compact","title","desc"];function nb(t){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ZA.apply(this,arguments)}function hz(t,e){return hTe(t)||uTe(t,e)||Eee(t,e)||dTe()}function dTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uTe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function hTe(t){if(Array.isArray(t))return t}function fz(t,e){if(t==null)return{};var s=fTe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function fTe(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function mTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pTe(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kee(n.key),n)}}function xTe(t,e,s){return e&&pTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ATe(t,e,s){return e=M5(e),gTe(t,_ee()?Reflect.construct(e,s||[],M5(t).constructor):e.apply(t,s))}function gTe(t,e){if(e&&(nb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bTe(t)}function bTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ee=function(){return!!t})()}function M5(t){return M5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},M5(t)}function yTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pF(t,e)}function pF(t,e){return pF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pF(t,e)}function ab(t){return jTe(t)||wTe(t)||Eee(t)||vTe()}function vTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eee(t,e){if(t){if(typeof t=="string")return xF(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return xF(t,e)}}function wTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jTe(t){if(Array.isArray(t))return xF(t)}function xF(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function mz(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function $t(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(s),!0).forEach(function(n){Wr(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):mz(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Wr(t,e,s){return e=kee(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function kee(t){var e=NTe(t,"string");return nb(e)=="symbol"?e:e+""}function NTe(t,e){if(nb(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(nb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var STe={xAxis:["bottom","top"],yAxis:["left","right"]},CTe={width:"100%",height:"100%"},Tee={x:0,y:0};function X2(t){return t}var _Te=function(e,s){return s==="horizontal"?e.x:s==="vertical"?e.y:s==="centric"?e.angle:e.radius},ETe=function(e,s,n,a){var i=s.find(function(u){return u&&u.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return $t($t($t({},a),On(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return $t($t($t({},a),On(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return Tee},m4=function(e,s){var n=s.graphicalItems,a=s.dataStartIndex,i=s.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(ab(l),ab(d)):l},[]);return o.length>0?o:e&&e.length&&nr(a)&&nr(i)?e.slice(a,i+1):[]};function Bee(t){return t==="number"?[0,"auto"]:void 0}var AF=function(e,s,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=m4(s,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:s;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;m=FN(f,o.dataKey,a)}else m=h&&h[n]||l[n];return m?[].concat(ab(c),[gZ(d,m)]):c},[])},pz=function(e,s,n,a){var i=a||{x:e.chartX,y:e.chartY},o=_Te(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=U5e(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=AF(e,s,u,h),f=ETe(n,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:f}}return null},kTe=function(e,s){var n=s.axes,a=s.graphicalItems,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=e.layout,h=e.children,m=e.stackOffset,f=hZ(u,i);return n.reduce(function(x,A){var g,b=A.type.defaultProps!==void 0?$t($t({},A.type.defaultProps),A.props):A.props,w=b.type,v=b.dataKey,j=b.allowDataOverflow,N=b.allowDuplicatedCategory,S=b.scale,T=b.ticks,I=b.includeHidden,_=b[o];if(x[_])return x;var M=m4(e.data,{graphicalItems:a.filter(function(F){var z,V=o in F.props?F.props[o]:(z=F.type.defaultProps)===null||z===void 0?void 0:z[o];return V===_}),dataStartIndex:c,dataEndIndex:d}),C=M.length,B,P,H;tTe(b.domain,j,w)&&(B=TM(b.domain,null,j),f&&(w==="number"||S!=="auto")&&(H=uv(M,v,"category")));var D=Bee(w);if(!B||B.length===0){var G,O=(G=b.domain)!==null&&G!==void 0?G:D;if(v){if(B=uv(M,v,w),w==="category"&&f){var Q=Ibe(B);N&&Q?(P=B,B=g5(0,C)):N||(B=pQ(O,B,A).reduce(function(F,z){return F.indexOf(z)>=0?F:[].concat(ab(F),[z])},[]))}else if(w==="category")N?B=B.filter(function(F){return F!==""&&!as(F)}):B=pQ(O,B,A).reduce(function(F,z){return F.indexOf(z)>=0||z===""||as(z)?F:[].concat(ab(F),[z])},[]);else if(w==="number"){var ee=G5e(M,a.filter(function(F){var z,V,W=o in F.props?F.props[o]:(z=F.type.defaultProps)===null||z===void 0?void 0:z[o],ne="hide"in F.props?F.props.hide:(V=F.type.defaultProps)===null||V===void 0?void 0:V.hide;return W===_&&(I||!ne)}),v,i,u);ee&&(B=ee)}f&&(w==="number"||S!=="auto")&&(H=uv(M,v,"category"))}else f?B=g5(0,C):l&&l[_]&&l[_].hasStack&&w==="number"?B=m==="expand"?[0,1]:AZ(l[_].stackGroups,c,d):B=uZ(M,a.filter(function(F){var z=o in F.props?F.props[o]:F.type.defaultProps[o],V="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return z===_&&(I||!V)}),w,u,!0);if(w==="number")B=mF(h,B,_,i,T),O&&(B=TM(O,B,j));else if(w==="category"&&O){var q=O,Z=B.every(function(F){return q.indexOf(F)>=0});Z&&(B=q)}}return $t($t({},x),{},Wr({},_,$t($t({},b),{},{axisType:i,domain:B,categoricalDomain:H,duplicateDomain:P,originalDomain:(g=b.domain)!==null&&g!==void 0?g:D,isCategorical:f,layout:u})))},{})},TTe=function(e,s){var n=s.graphicalItems,a=s.Axis,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=e.layout,h=e.children,m=m4(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),f=m.length,x=hZ(u,i),A=-1;return n.reduce(function(g,b){var w=b.type.defaultProps!==void 0?$t($t({},b.type.defaultProps),b.props):b.props,v=w[o],j=Bee("number");if(!g[v]){A++;var N;return x?N=g5(0,f):l&&l[v]&&l[v].hasStack?(N=AZ(l[v].stackGroups,c,d),N=mF(h,N,v,i)):(N=TM(j,uZ(m,n.filter(function(S){var T,I,_=o in S.props?S.props[o]:(T=S.type.defaultProps)===null||T===void 0?void 0:T[o],M="hide"in S.props?S.props.hide:(I=S.type.defaultProps)===null||I===void 0?void 0:I.hide;return _===v&&!M}),"number",u),a.defaultProps.allowDataOverflow),N=mF(h,N,v,i)),$t($t({},g),{},Wr({},v,$t($t({axisType:i},a.defaultProps),{},{hide:!0,orientation:fc(STe,"".concat(i,".").concat(A%2),null),domain:N,originalDomain:j,isCategorical:x,layout:u})))}return g},{})},BTe=function(e,s){var n=s.axisType,a=n===void 0?"xAxis":n,i=s.AxisComp,o=s.graphicalItems,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=e.children,h="".concat(a,"Id"),m=mc(u,i),f={};return m&&m.length?f=kTe(e,{axes:m,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=TTe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},MTe=function(e){var s=Dm(e),n=xf(s,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:AI(n,function(a){return a.coordinate}),tooltipAxis:s,tooltipAxisBandSize:a5(s,n)}},xz=function(e){var s=e.children,n=e.defaultShowTooltip,a=ic(s,qg),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},FTe=function(e){return!e||!e.length?!1:e.some(function(s){var n=vf(s&&s.type);return n&&n.indexOf("Bar")>=0})},Az=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},PTe=function(e,s){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,h=n.children,m=n.margin||{},f=ic(h,qg),x=ic(h,Ku),A=Object.keys(c).reduce(function(N,S){var T=c[S],I=T.orientation;return!T.mirror&&!T.hide?$t($t({},N),{},Wr({},I,N[I]+T.width)):N},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(N,S){var T=o[S],I=T.orientation;return!T.mirror&&!T.hide?$t($t({},N),{},Wr({},I,fc(N,"".concat(I))+T.height)):N},{top:m.top||0,bottom:m.bottom||0}),b=$t($t({},g),A),w=b.bottom;f&&(b.bottom+=f.props.height||qg.defaultProps.height),x&&s&&(b=$5e(b,a,n,s));var v=d-b.left-b.right,j=u-b.top-b.bottom;return $t($t({brushBottom:w},b),{},{width:Math.max(v,0),height:Math.max(j,0)})},ITe=function(e,s){if(s==="xAxis")return e[s].width;if(s==="yAxis")return e[s].height},p4=function(e){var s=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,m=function(b,w){var v=w.graphicalItems,j=w.stackGroups,N=w.offset,S=w.updateId,T=w.dataStartIndex,I=w.dataEndIndex,_=b.barSize,M=b.layout,C=b.barGap,B=b.barCategoryGap,P=b.maxBarSize,H=Az(M),D=H.numericAxisName,G=H.cateAxisName,O=FTe(v),Q=[];return v.forEach(function(ee,q){var Z=m4(b.data,{graphicalItems:[ee],dataStartIndex:T,dataEndIndex:I}),F=ee.type.defaultProps!==void 0?$t($t({},ee.type.defaultProps),ee.props):ee.props,z=F.dataKey,V=F.maxBarSize,W=F["".concat(D,"Id")],ne=F["".concat(G,"Id")],ie={},be=c.reduce(function(he,ce){var _e=w["".concat(ce.axisType,"Map")],Ke=F["".concat(ce.axisType,"Id")];_e&&_e[Ke]||ce.axisType==="zAxis"||fx();var et=_e[Ke];return $t($t({},he),{},Wr(Wr({},ce.axisType,et),"".concat(ce.axisType,"Ticks"),xf(et)))},ie),ue=be[G],je=be["".concat(G,"Ticks")],Be=j&&j[W]&&j[W].hasStack&&eSe(ee,j[W].stackGroups),oe=vf(ee.type).indexOf("Bar")>=0,lt=a5(ue,je),se=[],J=O&&H5e({barSize:_,stackGroups:j,totalSize:ITe(be,G)});if(oe){var Pe,xe,He=as(V)?P:V,$e=(Pe=(xe=a5(ue,je,!0))!==null&&xe!==void 0?xe:He)!==null&&Pe!==void 0?Pe:0;se=Q5e({barGap:C,barCategoryGap:B,bandSize:$e!==lt?$e:lt,sizeList:J[ne],maxBarSize:He}),$e!==lt&&(se=se.map(function(he){return $t($t({},he),{},{position:$t($t({},he.position),{},{offset:he.position.offset-$e/2})})}))}var Xe=ee&&ee.type&&ee.type.getComposedData;Xe&&Q.push({props:$t($t({},Xe($t($t({},be),{},{displayedData:Z,props:b,dataKey:z,item:ee,bandSize:lt,barPosition:se,offset:N,stackedData:Be,layout:M,dataStartIndex:T,dataEndIndex:I}))),{},Wr(Wr(Wr({key:ee.key||"item-".concat(q)},D,be[D]),G,be[G]),"animationId",S)),childIndex:Vbe(ee,b.children),item:ee})}),Q},f=function(b,w){var v=b.props,j=b.dataStartIndex,N=b.dataEndIndex,S=b.updateId;if(!TU({props:v}))return null;var T=v.children,I=v.layout,_=v.stackOffset,M=v.data,C=v.reverseStackOrder,B=Az(I),P=B.numericAxisName,H=B.cateAxisName,D=mc(T,n),G=J5e(M,D,"".concat(P,"Id"),"".concat(H,"Id"),_,C),O=c.reduce(function(F,z){var V="".concat(z.axisType,"Map");return $t($t({},F),{},Wr({},V,BTe(v,$t($t({},z),{},{graphicalItems:D,stackGroups:z.axisType===P&&G,dataStartIndex:j,dataEndIndex:N}))))},{}),Q=PTe($t($t({},O),{},{props:v,graphicalItems:D}),w==null?void 0:w.legendBBox);Object.keys(O).forEach(function(F){O[F]=u(v,O[F],Q,F.replace("Map",""),s)});var ee=O["".concat(H,"Map")],q=MTe(ee),Z=m(v,$t($t({},O),{},{dataStartIndex:j,dataEndIndex:N,updateId:S,graphicalItems:D,stackGroups:G,offset:Q}));return $t($t({formattedGraphicalItems:Z,graphicalItems:D,offset:Q,stackGroups:G},q),O)},x=(function(g){function b(w){var v,j,N;return mTe(this,b),N=ATe(this,b,[w]),Wr(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Wr(N,"accessibilityManager",new eTe),Wr(N,"handleLegendBBoxUpdate",function(S){if(S){var T=N.state,I=T.dataStartIndex,_=T.dataEndIndex,M=T.updateId;N.setState($t({legendBBox:S},f({props:N.props,dataStartIndex:I,dataEndIndex:_,updateId:M},$t($t({},N.state),{},{legendBBox:S}))))}}),Wr(N,"handleReceiveSyncEvent",function(S,T,I){if(N.props.syncId===S){if(I===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),Wr(N,"handleBrushChange",function(S){var T=S.startIndex,I=S.endIndex;if(T!==N.state.dataStartIndex||I!==N.state.dataEndIndex){var _=N.state.updateId;N.setState(function(){return $t({dataStartIndex:T,dataEndIndex:I},f({props:N.props,dataStartIndex:T,dataEndIndex:I,updateId:_},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:I})}}),Wr(N,"handleMouseEnter",function(S){var T=N.getMouseInfo(S);if(T){var I=$t($t({},T),{},{isTooltipActive:!0});N.setState(I),N.triggerSyncEvent(I);var _=N.props.onMouseEnter;qr(_)&&_(I,S)}}),Wr(N,"triggeredAfterMouseMove",function(S){var T=N.getMouseInfo(S),I=T?$t($t({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(I),N.triggerSyncEvent(I);var _=N.props.onMouseMove;qr(_)&&_(I,S)}),Wr(N,"handleItemMouseEnter",function(S){N.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Wr(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Wr(N,"handleMouseMove",function(S){S.persist(),N.throttleTriggeredAfterMouseMove(S)}),Wr(N,"handleMouseLeave",function(S){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var I=N.props.onMouseLeave;qr(I)&&I(T,S)}),Wr(N,"handleOuterEvent",function(S){var T=Gbe(S),I=fc(N.props,"".concat(T));if(T&&qr(I)){var _,M;/.*touch.*/i.test(T)?M=N.getMouseInfo(S.changedTouches[0]):M=N.getMouseInfo(S),I((_=M)!==null&&_!==void 0?_:{},S)}}),Wr(N,"handleClick",function(S){var T=N.getMouseInfo(S);if(T){var I=$t($t({},T),{},{isTooltipActive:!0});N.setState(I),N.triggerSyncEvent(I);var _=N.props.onClick;qr(_)&&_(I,S)}}),Wr(N,"handleMouseDown",function(S){var T=N.props.onMouseDown;if(qr(T)){var I=N.getMouseInfo(S);T(I,S)}}),Wr(N,"handleMouseUp",function(S){var T=N.props.onMouseUp;if(qr(T)){var I=N.getMouseInfo(S);T(I,S)}}),Wr(N,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Wr(N,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseDown(S.changedTouches[0])}),Wr(N,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseUp(S.changedTouches[0])}),Wr(N,"handleDoubleClick",function(S){var T=N.props.onDoubleClick;if(qr(T)){var I=N.getMouseInfo(S);T(I,S)}}),Wr(N,"handleContextMenu",function(S){var T=N.props.onContextMenu;if(qr(T)){var I=N.getMouseInfo(S);T(I,S)}}),Wr(N,"triggerSyncEvent",function(S){N.props.syncId!==void 0&&g6.emit(b6,N.props.syncId,S,N.eventEmitterSymbol)}),Wr(N,"applySyncEvent",function(S){var T=N.props,I=T.layout,_=T.syncMethod,M=N.state.updateId,C=S.dataStartIndex,B=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)N.setState($t({dataStartIndex:C,dataEndIndex:B},f({props:N.props,dataStartIndex:C,dataEndIndex:B,updateId:M},N.state)));else if(S.activeTooltipIndex!==void 0){var P=S.chartX,H=S.chartY,D=S.activeTooltipIndex,G=N.state,O=G.offset,Q=G.tooltipTicks;if(!O)return;if(typeof _=="function")D=_(Q,S);else if(_==="value"){D=-1;for(var ee=0;ee<Q.length;ee++)if(Q[ee].value===S.activeLabel){D=ee;break}}var q=$t($t({},O),{},{x:O.left,y:O.top}),Z=Math.min(P,q.x+q.width),F=Math.min(H,q.y+q.height),z=Q[D]&&Q[D].value,V=AF(N.state,N.props.data,D),W=Q[D]?{x:I==="horizontal"?Q[D].coordinate:Z,y:I==="horizontal"?F:Q[D].coordinate}:Tee;N.setState($t($t({},S),{},{activeLabel:z,activeCoordinate:W,activePayload:V,activeTooltipIndex:D}))}else N.setState(S)}),Wr(N,"renderCursor",function(S){var T,I=N.state,_=I.isTooltipActive,M=I.activeCoordinate,C=I.activePayload,B=I.offset,P=I.activeTooltipIndex,H=I.tooltipAxisBandSize,D=N.getTooltipEventType(),G=(T=S.props.active)!==null&&T!==void 0?T:_,O=N.props.layout,Q=S.key||"_recharts-cursor";return Ve.createElement(oTe,{key:Q,activeCoordinate:M,activePayload:C,activeTooltipIndex:P,chartName:s,element:S,isActive:G,layout:O,offset:B,tooltipAxisBandSize:H,tooltipEventType:D})}),Wr(N,"renderPolarAxis",function(S,T,I){var _=fc(S,"type.axisType"),M=fc(N.state,"".concat(_,"Map")),C=S.type.defaultProps,B=C!==void 0?$t($t({},C),S.props):S.props,P=M&&M[B["".concat(_,"Id")]];return E.cloneElement(S,$t($t({},P),{},{className:ms(_,P.className),key:S.key||"".concat(T,"-").concat(I),ticks:xf(P,!0)}))}),Wr(N,"renderPolarGrid",function(S){var T=S.props,I=T.radialLines,_=T.polarAngles,M=T.polarRadius,C=N.state,B=C.radiusAxisMap,P=C.angleAxisMap,H=Dm(B),D=Dm(P),G=D.cx,O=D.cy,Q=D.innerRadius,ee=D.outerRadius;return E.cloneElement(S,{polarAngles:Array.isArray(_)?_:xf(D,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(M)?M:xf(H,!0).map(function(q){return q.coordinate}),cx:G,cy:O,innerRadius:Q,outerRadius:ee,key:S.key||"polar-grid",radialLines:I})}),Wr(N,"renderLegend",function(){var S=N.state.formattedGraphicalItems,T=N.props,I=T.children,_=T.width,M=T.height,C=N.props.margin||{},B=_-(C.left||0)-(C.right||0),P=cZ({children:I,formattedGraphicalItems:S,legendWidth:B,legendContent:d});if(!P)return null;var H=P.item,D=fz(P,lTe);return E.cloneElement(H,$t($t({},D),{},{chartWidth:_,chartHeight:M,margin:C,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Wr(N,"renderTooltip",function(){var S,T=N.props,I=T.children,_=T.accessibilityLayer,M=ic(I,Xa);if(!M)return null;var C=N.state,B=C.isTooltipActive,P=C.activeCoordinate,H=C.activePayload,D=C.activeLabel,G=C.offset,O=(S=M.props.active)!==null&&S!==void 0?S:B;return E.cloneElement(M,{viewBox:$t($t({},G),{},{x:G.left,y:G.top}),active:O,label:D,payload:O?H:[],coordinate:P,accessibilityLayer:_})}),Wr(N,"renderBrush",function(S){var T=N.props,I=T.margin,_=T.data,M=N.state,C=M.offset,B=M.dataStartIndex,P=M.dataEndIndex,H=M.updateId;return E.cloneElement(S,{key:S.key||"_recharts-brush",onChange:G2(N.handleBrushChange,S.props.onChange),data:_,x:nr(S.props.x)?S.props.x:C.left,y:nr(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(I.bottom||0),width:nr(S.props.width)?S.props.width:C.width,startIndex:B,endIndex:P,updateId:"brush-".concat(H)})}),Wr(N,"renderReferenceElement",function(S,T,I){if(!S)return null;var _=N,M=_.clipPathId,C=N.state,B=C.xAxisMap,P=C.yAxisMap,H=C.offset,D=S.type.defaultProps||{},G=S.props,O=G.xAxisId,Q=O===void 0?D.xAxisId:O,ee=G.yAxisId,q=ee===void 0?D.yAxisId:ee;return E.cloneElement(S,{key:S.key||"".concat(T,"-").concat(I),xAxis:B[Q],yAxis:P[q],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:M})}),Wr(N,"renderActivePoints",function(S){var T=S.item,I=S.activePoint,_=S.basePoint,M=S.childIndex,C=S.isRange,B=[],P=T.props.key,H=T.item.type.defaultProps!==void 0?$t($t({},T.item.type.defaultProps),T.item.props):T.item.props,D=H.activeDot,G=H.dataKey,O=$t($t({index:M,dataKey:G,cx:I.x,cy:I.y,r:4,fill:$I(T.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Rr(D,!1)),PN(D));return B.push(b.renderActiveDot(D,O,"".concat(P,"-activePoint-").concat(M))),_?B.push(b.renderActiveDot(D,$t($t({},O),{},{cx:_.x,cy:_.y}),"".concat(P,"-basePoint-").concat(M))):C&&B.push(null),B}),Wr(N,"renderGraphicChild",function(S,T,I){var _=N.filterFormatItem(S,T,I);if(!_)return null;var M=N.getTooltipEventType(),C=N.state,B=C.isTooltipActive,P=C.tooltipAxis,H=C.activeTooltipIndex,D=C.activeLabel,G=N.props.children,O=ic(G,Xa),Q=_.props,ee=Q.points,q=Q.isRange,Z=Q.baseLine,F=_.item.type.defaultProps!==void 0?$t($t({},_.item.type.defaultProps),_.item.props):_.item.props,z=F.activeDot,V=F.hide,W=F.activeBar,ne=F.activeShape,ie=!!(!V&&B&&O&&(z||W||ne)),be={};M!=="axis"&&O&&O.props.trigger==="click"?be={onClick:G2(N.handleItemMouseEnter,S.props.onClick)}:M!=="axis"&&(be={onMouseLeave:G2(N.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:G2(N.handleItemMouseEnter,S.props.onMouseEnter)});var ue=E.cloneElement(S,$t($t({},_.props),be));function je(ce){return typeof P.dataKey=="function"?P.dataKey(ce.payload):null}if(ie)if(H>=0){var Be,oe;if(P.dataKey&&!P.allowDuplicatedCategory){var lt=typeof P.dataKey=="function"?je:"payload.".concat(P.dataKey.toString());Be=FN(ee,lt,D),oe=q&&Z&&FN(Z,lt,D)}else Be=ee==null?void 0:ee[H],oe=q&&Z&&Z[H];if(ne||W){var se=S.props.activeIndex!==void 0?S.props.activeIndex:H;return[E.cloneElement(S,$t($t($t({},_.props),be),{},{activeIndex:se})),null,null]}if(!as(Be))return[ue].concat(ab(N.renderActivePoints({item:_,activePoint:Be,basePoint:oe,childIndex:H,isRange:q})))}else{var J,Pe=(J=N.getItemByXY(N.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:ue},xe=Pe.graphicalItem,He=xe.item,$e=He===void 0?S:He,Xe=xe.childIndex,he=$t($t($t({},_.props),be),{},{activeIndex:Xe});return[E.cloneElement($e,he),null,null]}return q?[ue,null,null]:[ue,null]}),Wr(N,"renderCustomized",function(S,T,I){return E.cloneElement(S,$t($t({key:"recharts-customized-".concat(I)},N.props),N.state))}),Wr(N,"renderMap",{CartesianGrid:{handler:X2,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:X2},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:X2},YAxis:{handler:X2},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((v=w.id)!==null&&v!==void 0?v:_x("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=lJ(N.triggeredAfterMouseMove,(j=w.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return yTe(b,g),xTe(b,[{key:"componentDidMount",value:function(){var v,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,j=v.children,N=v.data,S=v.height,T=v.layout,I=ic(j,Xa);if(I){var _=I.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,C=AF(this.state,N,_,M),B=this.state.tooltipTicks[_].coordinate,P=(this.state.offset.top+S)/2,H=T==="horizontal",D=H?{x:B,y:P}:{y:B,x:P},G=this.state.formattedGraphicalItems.find(function(Q){var ee=Q.item;return ee.type.name==="Scatter"});G&&(D=$t($t({},D),G.props.points[_].tooltipPosition),C=G.props.points[_].tooltipPayload);var O={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:M,activePayload:C,activeCoordinate:D};this.setState(O),this.renderCursor(I),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var N,S;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(v){JB([ic(v.children,Xa)],[ic(this.props.children,Xa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=ic(this.props.children,Xa);if(v&&typeof v.props.shared=="boolean"){var j=v.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),S=Mwe(N),T={chartX:Math.round(v.pageX-S.left),chartY:Math.round(v.pageY-S.top)},I=N.width/j.offsetWidth||1,_=this.inRange(T.chartX,T.chartY,I);if(!_)return null;var M=this.state,C=M.xAxisMap,B=M.yAxisMap,P=this.getTooltipEventType();if(P!=="axis"&&C&&B){var H=Dm(C).scale,D=Dm(B).scale,G=H&&H.invert?H.invert(T.chartX):null,O=D&&D.invert?D.invert(T.chartY):null;return $t($t({},T),{},{xValue:G,yValue:O})}var Q=pz(this.state,this.props.data,this.props.layout,_);return Q?$t($t({},T),Q):null}},{key:"inRange",value:function(v,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,T=v/N,I=j/N;if(S==="horizontal"||S==="vertical"){var _=this.state.offset,M=T>=_.left&&T<=_.left+_.width&&I>=_.top&&I<=_.top+_.height;return M?{x:T,y:I}:null}var C=this.state,B=C.angleAxisMap,P=C.radiusAxisMap;if(B&&P){var H=Dm(B);return gQ({x:T,y:I},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,j=this.getTooltipEventType(),N=ic(v,Xa),S={};N&&j==="axis"&&(N.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=PN(this.props,this.handleOuterEvent);return $t($t({},T),S)}},{key:"addListener",value:function(){g6.on(b6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){g6.removeListener(b6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,j,N){for(var S=this.state.formattedGraphicalItems,T=0,I=S.length;T<I;T++){var _=S[T];if(_.item===v||_.props.key===v.key||j===vf(_.item.type)&&N===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,j=this.state.offset,N=j.left,S=j.top,T=j.height,I=j.width;return Ve.createElement("defs",null,Ve.createElement("clipPath",{id:v},Ve.createElement("rect",{x:N,y:S,height:T,width:I})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(j,N){var S=hz(N,2),T=S[0],I=S[1];return $t($t({},j),{},Wr({},T,I.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(j,N){var S=hz(N,2),T=S[0],I=S[1];return $t($t({},j),{},Wr({},T,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[v])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(v){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[v])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(v){var j=this.state,N=j.formattedGraphicalItems,S=j.activeItem;if(N&&N.length)for(var T=0,I=N.length;T<I;T++){var _=N[T],M=_.props,C=_.item,B=C.type.defaultProps!==void 0?$t($t({},C.type.defaultProps),C.props):C.props,P=vf(C.type);if(P==="Bar"){var H=(M.data||[]).find(function(Q){return ZCe(v,Q)});if(H)return{graphicalItem:_,payload:H}}else if(P==="RadialBar"){var D=(M.data||[]).find(function(Q){return gQ(v,Q)});if(D)return{graphicalItem:_,payload:D}}else if(o4(_,S)||l4(_,S)||y1(_,S)){var G=w3e({graphicalItem:_,activeTooltipItem:S,itemData:B.data}),O=B.activeIndex===void 0?G:B.activeIndex;return{graphicalItem:$t($t({},_),{},{childIndex:O}),payload:y1(_,S)?B.data[G]:_.props.data[G]}}}return null}},{key:"render",value:function(){var v=this;if(!TU(this))return null;var j=this.props,N=j.children,S=j.className,T=j.width,I=j.height,_=j.style,M=j.compact,C=j.title,B=j.desc,P=fz(j,cTe),H=Rr(P,!1);if(M)return Ve.createElement(G$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ve.createElement(eM,ZA({},H,{width:T,height:I,title:C,desc:B}),this.renderClipPath(),MU(N,this.renderMap)));if(this.props.accessibilityLayer){var D,G;H.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,H.role=(G=this.props.role)!==null&&G!==void 0?G:"application",H.onKeyDown=function(Q){v.accessibilityManager.keyboardEvent(Q)},H.onFocus=function(){v.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return Ve.createElement(G$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ve.createElement("div",ZA({className:ms("recharts-wrapper",S),style:$t({position:"relative",cursor:"default",width:T,height:I},_)},O,{ref:function(ee){v.container=ee}}),Ve.createElement(eM,ZA({},H,{width:T,height:I,title:C,desc:B,style:CTe}),this.renderClipPath(),MU(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(E.Component);Wr(x,"displayName",s),Wr(x,"defaultProps",$t({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Wr(x,"getDerivedStateFromProps",function(g,b){var w=g.dataKey,v=g.data,j=g.children,N=g.width,S=g.height,T=g.layout,I=g.stackOffset,_=g.margin,M=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var B=xz(g);return $t($t($t({},B),{},{updateId:0},f($t($t({props:g},B),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:v,prevWidth:N,prevHeight:S,prevLayout:T,prevStackOffset:I,prevMargin:_,prevChildren:j})}if(w!==b.prevDataKey||v!==b.prevData||N!==b.prevWidth||S!==b.prevHeight||T!==b.prevLayout||I!==b.prevStackOffset||!og(_,b.prevMargin)){var P=xz(g),H={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},D=$t($t({},pz(b,v,T)),{},{updateId:b.updateId+1}),G=$t($t($t({},P),H),D);return $t($t($t({},G),f($t({props:g},G),b)),{},{prevDataKey:w,prevData:v,prevWidth:N,prevHeight:S,prevLayout:T,prevStackOffset:I,prevMargin:_,prevChildren:j})}if(!JB(j,b.prevChildren)){var O,Q,ee,q,Z=ic(j,qg),F=Z&&(O=(Q=Z.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&O!==void 0?O:M,z=Z&&(ee=(q=Z.props)===null||q===void 0?void 0:q.endIndex)!==null&&ee!==void 0?ee:C,V=F!==M||z!==C,W=!as(v),ne=W&&!V?b.updateId:b.updateId+1;return $t($t({updateId:ne},f($t($t({props:g},b),{},{updateId:ne,dataStartIndex:F,dataEndIndex:z}),b)),{},{prevChildren:j,dataStartIndex:F,dataEndIndex:z})}return null}),Wr(x,"renderActiveDot",function(g,b,w){var v;return E.isValidElement(g)?v=E.cloneElement(g,b):qr(g)?v=g(b):v=Ve.createElement(mw,b),Ve.createElement(Ss,{className:"recharts-active-dot",key:w},v)});var A=E.forwardRef(function(b,w){return Ve.createElement(x,ZA({},b,{ref:w}))});return A.displayName=x.displayName,A},Mee=p4({chartName:"LineChart",GraphicalChild:px,axisComponents:[{axisType:"xAxis",AxisComp:pc},{axisType:"yAxis",AxisComp:xc}],formatAxisMap:GI}),_1=p4({chartName:"BarChart",GraphicalChild:Ll,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pc},{axisType:"yAxis",AxisComp:xc}],formatAxisMap:GI}),tL=p4({chartName:"PieChart",GraphicalChild:nu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:i4},{axisType:"radiusAxis",AxisComp:n4}],formatAxisMap:dSe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),LTe=p4({chartName:"AreaChart",GraphicalChild:Zu,axisComponents:[{axisType:"xAxis",AxisComp:pc},{axisType:"yAxis",AxisComp:xc}],formatAxisMap:GI});const DTe=[{title:"Add Student",action:"student",icon:vs,color:"blue"},{title:"Create Course",action:"course",icon:Hr,color:"green"},{title:"Send Notification",action:"notification",icon:sa,color:"purple"},{title:"Generate Report",action:"report",icon:Kce,color:"orange"}],gF=(t=0)=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),F5=(t={})=>{const e=Number(t.totalAmount||0),s=Number(t.paidAmount||0),a=t.balanceAmount===0||t.balanceAmount?Number(t.balanceAmount):e-s;return Number.isFinite(a)?Math.max(0,a):0},v6=t=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,RTe=(t=[],e=[],s=6)=>{const n=[],a=new Date;for(let o=s-1;o>=0;o-=1){const l=new Date(a.getFullYear(),a.getMonth()-o,1);n.push({key:v6(l),month:l.toLocaleString("default",{month:"short"}),collected:0,due:0})}const i=n.reduce((o,l)=>o.set(l.key,l),new Map);return e.forEach(o=>{const l=o.paidOn||o.createdAt;if(!l)return;const c=v6(new Date(l));i.has(c)&&(i.get(c).collected+=Number(o.amount||0))}),t.forEach(o=>{const l=o.dueDate||o.createdAt;if(!l)return;const c=v6(new Date(l));i.has(c)&&(i.get(c).due+=F5(o))}),n},OTe=(t=[])=>{const e=new Date;return t.filter(s=>s.dueDate&&F5(s)>0&&new Date(s.dueDate)>=e).sort((s,n)=>new Date(s.dueDate)-new Date(n.dueDate)).slice(0,4).map(s=>({id:s._id||s.id,date:s.dueDate,title:s.title||"Fee Invoice",desc:`${gF(F5(s))} outstanding`}))},UTe=(t="")=>{const e=t.toLowerCase();return e.includes("delete")||e.includes("remove")||e.includes("archive")?"warning":e.includes("create")||e.includes("add")||e.includes("approve")?"success":"info"},HTe=(t=[])=>t.slice(0,6).map(e=>{var s;return{id:e._id||e.id,action:e.action||"Activity recorded",detail:e.entity?`${e.entity}${e.entityId?`  ${e.entityId}`:""}`:typeof e.meta=="string"?e.meta:((s=e.meta)==null?void 0:s.message)||"",createdAt:e.createdAt||e.timestamp||new Date().toISOString(),type:UTe(e.action||"")}}),QTe=(t=[],e=[])=>{const s=RTe(t,e),n=t.reduce((i,o)=>{const l=F5(o);return i.totalOutstanding+=l,o.dueDate&&new Date(o.dueDate)<new Date&&l>0&&(i.overdueAmount+=l),i},{totalOutstanding:0,overdueAmount:0}),a=e.reduce((i,o)=>i+Number(o.amount||0),0);return{trend:s,totals:{totalCollected:a,totalOutstanding:n.totalOutstanding,overdueAmount:n.overdueAmount},upcomingInvoices:OTe(t)}},gz=({setShowAdminHeader:t})=>{var Z,F,z,V,W,ne;const[e,s]=E.useState(null),[n,a]=E.useState(null),[i,o]=E.useState(!0),[l,c]=E.useState(""),[d,u]=E.useState({trend:[],totals:{totalCollected:0,totalOutstanding:0,overdueAmount:0},upcomingInvoices:[]}),[h,m]=E.useState(!0),[f,x]=E.useState(""),[A,g]=E.useState([]),[b,w]=E.useState(!0),[v,j]=E.useState(""),N=ie=>{s(ie),setTimeout(()=>s(null),2e3)};E.useEffect(()=>{t(!0)},[t]),E.useEffect(()=>{(async()=>{try{const be=await fetch("http://localhost:5000/api/admin/users/dashboard-stats",{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}}),ue=await be.json();if(!be.ok)throw new Error((ue==null?void 0:ue.error)||"Failed to load dashboard stats");a(ue)}catch(be){c(be.message||"Failed to load dashboard stats")}finally{o(!1)}})()},[]),E.useEffect(()=>{let ie=!1;return(async()=>{x(""),m(!0);try{const[ue,je]=await Promise.all([fetch("http://localhost:5000/api/fees/invoices"),fetch("http://localhost:5000/api/fees/payments")]),Be=await ue.json().catch(()=>[]),oe=await je.json().catch(()=>[]);if(!ue.ok)throw new Error((Be==null?void 0:Be.error)||"Failed to load invoices");if(!je.ok)throw new Error((oe==null?void 0:oe.error)||"Failed to load payments");ie||u(QTe(Array.isArray(Be)?Be:[],Array.isArray(oe)?oe:[]))}catch(ue){ie||(x(ue.message||"Failed to load fee data"),u({trend:[],totals:{totalCollected:0,totalOutstanding:0,overdueAmount:0},upcomingInvoices:[]}))}finally{ie||m(!1)}})(),()=>{ie=!0}},[]),E.useEffect(()=>{let ie=!1;return(async()=>{j(""),w(!0);try{const ue=await fetch("http://localhost:5000/api/audit-logs"),je=await ue.json().catch(()=>[]);if(!ue.ok)throw new Error((je==null?void 0:je.error)||"Failed to load activity");ie||g(Array.isArray(je)?je:[])}catch(ue){ie||(j(ue.message||"Failed to load activity"),g([]))}finally{ie||w(!1)}})(),()=>{ie=!0}},[]);const S=ie=>{const be={blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-600",icon:"text-blue-500",hover:"hover:bg-blue-100",progress:"bg-blue-500"},green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-600",icon:"text-green-500",hover:"hover:bg-green-100",progress:"bg-green-500"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-600",icon:"text-purple-500",hover:"hover:bg-purple-100",progress:"bg-purple-500"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-600",icon:"text-orange-500",hover:"hover:bg-orange-100",progress:"bg-orange-500"}};return be[ie]||be.blue},T=((Z=n==null?void 0:n.students)==null?void 0:Z.total)||0,I=((F=n==null?void 0:n.students)==null?void 0:F.recent)||0,_=((z=n==null?void 0:n.teachers)==null?void 0:z.total)||0,M=((V=n==null?void 0:n.teachers)==null?void 0:V.recent)||0,C=((W=n==null?void 0:n.parents)==null?void 0:W.total)||0,B=((ne=n==null?void 0:n.parents)==null?void 0:ne.recent)||0,P=(n==null?void 0:n.totalUsers)||0,H=(ie,be)=>be?Math.round(ie/be*100):0,D=[{label:"Students",value:T,total:T,percentage:H(I,T),icon:Ar,color:"blue",trend:`${I} new in 30 days`},{label:"Teachers",value:_,total:_,percentage:H(M,_),icon:Yd,color:"green",trend:`${M} new in 30 days`},{label:"Parents",value:C,total:C,percentage:H(B,C),icon:sR,color:"purple",trend:`${B} new in 30 days`},{label:"Total Users",value:P,total:P,percentage:H((n==null?void 0:n.recentTotal)||0,P),icon:Ar,color:"orange",trend:`${(n==null?void 0:n.recentTotal)||0} new in 30 days`}],G=[{label:"Total Teachers",value:_,icon:pa,change:`+${M}`,color:"blue"},{label:"Total Students",value:T,icon:Ar,change:`+${I}`,color:"green"},{label:"Total Parents",value:C,icon:sR,change:`+${B}`,color:"orange"},{label:"Total Users",value:P,icon:Ar,change:`+${(n==null?void 0:n.recentTotal)||0}`,color:"purple"}],O=d.trend,Q=O.reduce((ie,be)=>ie+be.collected,0),ee=d.upcomingInvoices,q=HTe(A);return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Welcome back! Here is what is happening today."})]}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-xl p-4",children:l}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:D.map(ie=>{const be=ie.icon,ue=S(ie.color);return r.jsxs("div",{className:`bg-white rounded-xl p-6 shadow-sm border ${ue.border} hover:shadow-md transition-shadow duration-200`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${ue.bg}`,children:r.jsx(be,{className:`w-6 h-6 ${ue.icon}`})}),r.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${ue.bg} ${ue.text}`,children:[ie.percentage,"%"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:ie.label}),r.jsxs("div",{className:"flex items-baseline gap-2",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:ie.value}),r.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",ie.total]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:r.jsx("div",{className:`${ue.progress} h-2 rounded-full transition-all duration-300`,style:{width:`${ie.percentage}%`}})}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:i?"Loading...":ie.trend})]})]},ie.label)})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:G.map(ie=>{const be=ie.icon,ue=S(ie.color);return r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:ie.label}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i?"...":ie.value}),r.jsxs("p",{className:`text-xs ${ue.text} font-medium mt-2 flex items-center gap-1`,children:[r.jsx(ds,{className:"w-3 h-3"}),i?"Loading...":`${ie.change} this month`]})]}),r.jsx("div",{className:`p-3 rounded-lg ${ue.bg}`,children:r.jsx(be,{className:`w-6 h-6 ${ue.icon}`})})]})},ie.label)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(cce,{className:"w-5 h-5 text-gray-700"}),"Fees Collection"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Last 6 months overview"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Total Collected"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:gF(Q)})]})]}),f&&r.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:[r.jsx(br,{className:"w-4 h-4"}),r.jsx("span",{children:f})]}),h?r.jsx("div",{className:"flex h-60 items-center justify-center text-sm text-gray-500",children:"Loading fee data..."}):O.length?r.jsx($d,{width:"100%",height:280,children:r.jsxs(_1,{data:O,children:[r.jsx(jf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(pc,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),r.jsx(xc,{stroke:"#9ca3af",style:{fontSize:"12px"},tickFormatter:ie=>`${Math.round(ie/1e3)}k`}),r.jsx(Xa,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:ie=>[gF(ie),""]}),r.jsx(Ku,{wrapperStyle:{fontSize:"12px"}}),r.jsx(Ll,{dataKey:"collected",fill:"#3b82f6",radius:[8,8,0,0],name:"Collected"}),r.jsx(Ll,{dataKey:"due",fill:"#f59e0b",radius:[8,8,0,0],name:"Due"})]})}):r.jsx("div",{className:"flex h-60 items-center justify-center text-sm text-gray-500",children:"No fee data available yet."})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),r.jsx("div",{className:"space-y-3",children:DTe.map(ie=>{const be=ie.icon,ue=S(ie.color);return r.jsxs("button",{onClick:()=>N(ie.action),className:`w-full flex items-center gap-3 p-4 rounded-lg border transition-all duration-200 ${e===ie.action?`${ue.bg} ${ue.border} scale-95`:`border-gray-200 hover:border-${ie.color}-300 ${ue.hover}`}`,children:[r.jsx("div",{className:`p-2 rounded-lg ${ue.bg}`,children:r.jsx(be,{className:`w-4 h-4 ${ue.icon}`})}),r.jsx("span",{className:"font-medium text-gray-900 text-sm",children:ie.title})]},ie.action)})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(ir,{className:"w-5 h-5 text-gray-700"}),"Upcoming Events"]}),h?r.jsx("p",{className:"text-sm text-gray-500",children:"Loading due schedules..."}):ee.length===0?r.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming fee deadlines."}):r.jsx("div",{className:"space-y-4",children:ee.map(ie=>r.jsxs("div",{className:"flex gap-4 p-4 rounded-lg bg-gray-50 border border-gray-100 hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[60px] p-3 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("span",{className:"text-lg font-bold text-blue-600",children:new Date(ie.date).getDate()}),r.jsx("span",{className:"text-xs text-blue-600 font-medium",children:new Date(ie.date).toLocaleString("default",{month:"short"})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:ie.title}),r.jsx("p",{className:"text-sm text-gray-600",children:ie.desc})]})]},ie.id||ie.date))})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(fr,{className:"w-5 h-5 text-gray-700"}),"Recent Activity"]}),v?r.jsx("p",{className:"text-sm text-red-600",children:v}):b?r.jsx("p",{className:"text-sm text-gray-500",children:"Loading audit trail..."}):q.length===0?r.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity recorded."}):r.jsx("div",{className:"space-y-4",children:q.map(ie=>r.jsxs("div",{className:"flex gap-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[r.jsx("div",{className:`mt-1 p-1.5 rounded-full ${ie.type==="success"?"bg-green-100":ie.type==="warning"?"bg-orange-100":"bg-blue-100"}`,children:r.jsx("div",{className:`w-2 h-2 rounded-full ${ie.type==="success"?"bg-green-500":ie.type==="warning"?"bg-orange-500":"bg-blue-500"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-900 mb-1",children:ie.action}),ie.detail&&r.jsx("p",{className:"text-xs text-gray-600 mb-0.5",children:ie.detail}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(ie.createdAt).toLocaleString()})]})]},ie.id||ie.createdAt))})]})]}),e&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(ds,{className:"w-5 h-5 text-green-600"})}),r.jsxs("p",{className:"text-sm font-medium text-green-900",children:["Processing ",e," action..."]})]})]})})};function fn(t){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(t)}var Zd=Uint8Array,uc=Uint16Array,rL=Int32Array,sL=new Zd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nL=new Zd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bz=new Zd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fee=function(t,e){for(var s=new uc(31),n=0;n<31;++n)s[n]=e+=1<<t[n-1];for(var a=new rL(s[30]),n=1;n<30;++n)for(var i=s[n];i<s[n+1];++i)a[i]=i-s[n]<<5|n;return{b:s,r:a}},Pee=Fee(sL,2),$Te=Pee.b,bF=Pee.r;$Te[28]=258,bF[258]=28;var zTe=Fee(nL,0),yz=zTe.r,yF=new uc(32768);for(var Wn=0;Wn<32768;++Wn){var wm=(Wn&43690)>>1|(Wn&21845)<<1;wm=(wm&52428)>>2|(wm&13107)<<2,wm=(wm&61680)>>4|(wm&3855)<<4,yF[Wn]=((wm&65280)>>8|(wm&255)<<8)>>1}var xv=(function(t,e,s){for(var n=t.length,a=0,i=new uc(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new uc(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(s){l=new uc(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=o[t[a]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[yF[h]>>c]=d}else for(l=new uc(n),a=0;a<n;++a)t[a]&&(l[a]=yF[o[t[a]-1]++]>>15-t[a]);return l}),xx=new Zd(288);for(var Wn=0;Wn<144;++Wn)xx[Wn]=8;for(var Wn=144;Wn<256;++Wn)xx[Wn]=9;for(var Wn=256;Wn<280;++Wn)xx[Wn]=7;for(var Wn=280;Wn<288;++Wn)xx[Wn]=8;var P5=new Zd(32);for(var Wn=0;Wn<32;++Wn)P5[Wn]=5;var GTe=xv(xx,9,0),VTe=xv(P5,5,0),Iee=function(t){return(t+7)/8|0},WTe=function(t,e,s){return(s==null||s>t.length)&&(s=t.length),new Zd(t.subarray(e,s))},Jh=function(t,e,s){s<<=e&7;var n=e/8|0;t[n]|=s,t[n+1]|=s>>8},Ey=function(t,e,s){s<<=e&7;var n=e/8|0;t[n]|=s,t[n+1]|=s>>8,t[n+2]|=s>>16},w6=function(t,e){for(var s=[],n=0;n<t.length;++n)t[n]&&s.push({s:n,f:t[n]});var a=s.length,i=s.slice();if(!a)return{t:Dee,l:0};if(a==1){var o=new Zd(s[0].s+1);return o[s[0].s]=1,{t:o,l:1}}s.sort(function(N,S){return N.f-S.f}),s.push({s:-1,f:25001});var l=s[0],c=s[1],d=0,u=1,h=2;for(s[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=s[s[d].f<s[h].f?d++:h++],c=s[d!=u&&s[d].f<s[h].f?d++:h++],s[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var f=new uc(m+1),x=vF(s[u-1],f,0);if(x>e){var n=0,A=0,g=x-e,b=1<<g;for(i.sort(function(S,T){return f[T.s]-f[S.s]||S.f-T.f});n<a;++n){var w=i[n].s;if(f[w]>e)A+=b-(1<<x-f[w]),f[w]=e;else break}for(A>>=g;A>0;){var v=i[n].s;f[v]<e?A-=1<<e-f[v]++-1:++n}for(;n>=0&&A;--n){var j=i[n].s;f[j]==e&&(--f[j],++A)}x=e}return{t:new Zd(f),l:x}},vF=function(t,e,s){return t.s==-1?Math.max(vF(t.l,e,s+1),vF(t.r,e,s+1)):e[t.s]=s},vz=function(t){for(var e=t.length;e&&!t[--e];);for(var s=new uc(++e),n=0,a=t[0],i=1,o=function(c){s[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:s.subarray(0,n),n:e}},ky=function(t,e){for(var s=0,n=0;n<e.length;++n)s+=t[n]*e[n];return s},Lee=function(t,e,s){var n=s.length,a=Iee(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=s[i];return(a+4+n)*8},wz=function(t,e,s,n,a,i,o,l,c,d,u){Jh(e,u++,s),++a[256];for(var h=w6(a,15),m=h.t,f=h.l,x=w6(i,15),A=x.t,g=x.l,b=vz(m),w=b.c,v=b.n,j=vz(A),N=j.c,S=j.n,T=new uc(19),I=0;I<w.length;++I)++T[w[I]&31];for(var I=0;I<N.length;++I)++T[N[I]&31];for(var _=w6(T,7),M=_.t,C=_.l,B=19;B>4&&!M[bz[B-1]];--B);var P=d+5<<3,H=ky(a,xx)+ky(i,P5)+o,D=ky(a,m)+ky(i,A)+o+14+3*B+ky(T,M)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&P<=H&&P<=D)return Lee(e,u,t.subarray(c,c+d));var G,O,Q,ee;if(Jh(e,u,1+(D<H)),u+=2,D<H){G=xv(m,f,0),O=m,Q=xv(A,g,0),ee=A;var q=xv(M,C,0);Jh(e,u,v-257),Jh(e,u+5,S-1),Jh(e,u+10,B-4),u+=14;for(var I=0;I<B;++I)Jh(e,u+3*I,M[bz[I]]);u+=3*B;for(var Z=[w,N],F=0;F<2;++F)for(var z=Z[F],I=0;I<z.length;++I){var V=z[I]&31;Jh(e,u,q[V]),u+=M[V],V>15&&(Jh(e,u,z[I]>>5&127),u+=z[I]>>12)}}else G=GTe,O=xx,Q=VTe,ee=P5;for(var I=0;I<l;++I){var W=n[I];if(W>255){var V=W>>18&31;Ey(e,u,G[V+257]),u+=O[V+257],V>7&&(Jh(e,u,W>>23&31),u+=sL[V]);var ne=W&31;Ey(e,u,Q[ne]),u+=ee[ne],ne>3&&(Ey(e,u,W>>5&8191),u+=nL[ne])}else Ey(e,u,G[W]),u+=O[W]}return Ey(e,u,G[256]),u+O[256]},qTe=new rL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Dee=new Zd(0),KTe=function(t,e,s,n,a,i){var o=i.z||t.length,l=new Zd(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var h=qTe[e-1],m=h>>13,f=h&8191,x=(1<<s)-1,A=i.p||new uc(32768),g=i.h||new uc(x+1),b=Math.ceil(s/3),w=2*b,v=function(se){return(t[se]^t[se+1]<<b^t[se+2]<<w)&x},j=new rL(25e3),N=new uc(288),S=new uc(32),T=0,I=0,_=i.i||0,M=0,C=i.w||0,B=0;_+2<o;++_){var P=v(_),H=_&32767,D=g[P];if(A[H]=D,g[P]=H,C<=_){var G=o-_;if((T>7e3||M>24576)&&(G>423||!d)){u=wz(t,c,0,j,N,S,I,M,B,_-B,u),M=T=I=0,B=_;for(var O=0;O<286;++O)N[O]=0;for(var O=0;O<30;++O)S[O]=0}var Q=2,ee=0,q=f,Z=H-D&32767;if(G>2&&P==v(_-Z))for(var F=Math.min(m,G)-1,z=Math.min(32767,_),V=Math.min(258,G);Z<=z&&--q&&H!=D;){if(t[_+Q]==t[_+Q-Z]){for(var W=0;W<V&&t[_+W]==t[_+W-Z];++W);if(W>Q){if(Q=W,ee=Z,W>F)break;for(var ne=Math.min(Z,W-2),ie=0,O=0;O<ne;++O){var be=_-Z+O&32767,ue=A[be],je=be-ue&32767;je>ie&&(ie=je,D=be)}}}H=D,D=A[H],Z+=H-D&32767}if(ee){j[M++]=268435456|bF[Q]<<18|yz[ee];var Be=bF[Q]&31,oe=yz[ee]&31;I+=sL[Be]+nL[oe],++N[257+Be],++S[oe],C=_+Q,++T}else j[M++]=t[_],++N[t[_]]}}for(_=Math.max(_,C);_<o;++_)j[M++]=t[_],++N[t[_]];u=wz(t,c,d,j,N,S,I,M,B,_-B,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=g,i.p=A,i.i=_,i.w=C)}else{for(var _=i.w||0;_<o+d;_+=65535){var lt=_+65535;lt>=o&&(c[u/8|0]=d,lt=o),u=Lee(c,u+1,t.subarray(_,lt))}i.i=o}return WTe(l,0,n+Iee(u)+a)},Ree=function(){var t=1,e=0;return{p:function(s){for(var n=t,a=e,i=s.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=s[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},XTe=function(t,e,s,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Zd(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return KTe(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,s,n,a)},Oee=function(t,e,s){for(;s;++e)t[e]=s,s>>>=8},YTe=function(t,e){var s=e.level,n=s==0?0:s<6?1:s==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=Ree();a.p(e.dictionary),Oee(t,2,a.d())}};function wF(t,e){e||(e={});var s=Ree();s.p(t);var n=XTe(t,e,e.dictionary?6:2,4);return YTe(n,e),Oee(n,n.length-4,s.d()),n}var JTe=typeof TextDecoder<"u"&&new TextDecoder,ZTe=0;try{JTe.decode(Dee,{stream:!0}),ZTe=1}catch{}function eBe(t){if(Array.isArray(t))return t}function tBe(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function jz(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=Array(e);s<e;s++)n[s]=t[s];return n}function rBe(t,e){if(t){if(typeof t=="string")return jz(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?jz(t,e):void 0}}function sBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nz(t,e){return eBe(t)||tBe(t,e)||rBe(t,e)||sBe()}function Sz(t,e="utf8"){return new TextDecoder(e).decode(t)}const nBe=new TextEncoder;function aBe(t){return nBe.encode(t)}const iBe=1024*8,oBe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),j6={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class aL{constructor(e=iBe,s={}){hr(this,"buffer");hr(this,"byteLength");hr(this,"byteOffset");hr(this,"length");hr(this,"offset");hr(this,"lastWrittenByte");hr(this,"littleEndian");hr(this,"_data");hr(this,"_mark");hr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=s.offset?s.offset>>>0:0,i=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof aL)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,s){const n=j6[s].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===oBe&&s!=="uint8"&&s!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new j6[s](l.buffer);return this.offset+=n,c.reverse(),c}const o=new j6[s](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let s="";for(let n=0;n<e;n++)s+=this.readChar();return s}readUtf8(e=1){return Sz(this.readBytes(e))}decodeText(e=1,s="utf8"){return Sz(this.readBytes(e),s)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let s=0;s<e.length;s++)this._data.setUint8(this.offset++,e[s]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let s=0;s<e.length;s++)this.writeUint8(e.charCodeAt(s));return this}writeUtf8(e){return this.writeBytes(aBe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _b(t){let e=t.length;for(;--e>=0;)t[e]=0}const lBe=3,cBe=258,Uee=29,dBe=256,uBe=dBe+1+Uee,Hee=30,hBe=512,fBe=new Array((uBe+2)*2);_b(fBe);const mBe=new Array(Hee*2);_b(mBe);const pBe=new Array(hBe);_b(pBe);const xBe=new Array(cBe-lBe+1);_b(xBe);const ABe=new Array(Uee);_b(ABe);const gBe=new Array(Hee);_b(gBe);const bBe=(t,e,s,n)=>{let a=t&65535|0,i=t>>>16&65535|0,o=0;for(;s!==0;){o=s>2e3?2e3:s,s-=o;do a=a+e[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var jF=bBe;const yBe=()=>{let t,e=[];for(var s=0;s<256;s++){t=s;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[s]=t}return e},vBe=new Uint32Array(yBe()),wBe=(t,e,s,n)=>{const a=vBe,i=n+s;t^=-1;for(let o=n;o<i;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var ju=wBe,NF={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qee={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const jBe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var NBe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const s=e.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const n in s)jBe(s,n)&&(t[n]=s[n])}}return t},SBe=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const s=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let o=t[n];s.set(o,a),a+=o.length}return s},$ee={assign:NBe,flattenChunks:SBe};let zee=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zee=!1}const E1=new Uint8Array(256);for(let t=0;t<256;t++)E1[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;E1[254]=E1[254]=1;var CBe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,s,n,a,i,o=t.length,l=0;for(a=0;a<o;a++)s=t.charCodeAt(a),(s&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(s=65536+(s-55296<<10)+(n-56320),a++)),l+=s<128?1:s<2048?2:s<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)s=t.charCodeAt(a),(s&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(s=65536+(s-55296<<10)+(n-56320),a++)),s<128?e[i++]=s:s<2048?(e[i++]=192|s>>>6,e[i++]=128|s&63):s<65536?(e[i++]=224|s>>>12,e[i++]=128|s>>>6&63,e[i++]=128|s&63):(e[i++]=240|s>>>18,e[i++]=128|s>>>12&63,e[i++]=128|s>>>6&63,e[i++]=128|s&63);return e};const _Be=(t,e)=>{if(e<65534&&t.subarray&&zee)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let s="";for(let n=0;n<e;n++)s+=String.fromCharCode(t[n]);return s};var EBe=(t,e)=>{const s=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(s*2);for(a=0,n=0;n<s;){let o=t[n++];if(o<128){i[a++]=o;continue}let l=E1[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<s;)o=o<<6|t[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return _Be(i,a)},kBe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let s=e-1;for(;s>=0&&(t[s]&192)===128;)s--;return s<0||s===0?e:s+E1[t[s]]>e?s:e},SF={string2buf:CBe,buf2string:EBe,utf8border:kBe};function TBe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var BBe=TBe;const Y2=16209,MBe=16191;var FBe=function(e,s){let n,a,i,o,l,c,d,u,h,m,f,x,A,g,b,w,v,j,N,S,T,I,_,M;const C=e.state;n=e.next_in,_=e.input,a=n+(e.avail_in-5),i=e.next_out,M=e.output,o=i-(s-e.avail_out),l=i+(e.avail_out-257),c=C.dmax,d=C.wsize,u=C.whave,h=C.wnext,m=C.window,f=C.hold,x=C.bits,A=C.lencode,g=C.distcode,b=(1<<C.lenbits)-1,w=(1<<C.distbits)-1;e:do{x<15&&(f+=_[n++]<<x,x+=8,f+=_[n++]<<x,x+=8),v=A[f&b];t:for(;;){if(j=v>>>24,f>>>=j,x-=j,j=v>>>16&255,j===0)M[i++]=v&65535;else if(j&16){N=v&65535,j&=15,j&&(x<j&&(f+=_[n++]<<x,x+=8),N+=f&(1<<j)-1,f>>>=j,x-=j),x<15&&(f+=_[n++]<<x,x+=8,f+=_[n++]<<x,x+=8),v=g[f&w];r:for(;;){if(j=v>>>24,f>>>=j,x-=j,j=v>>>16&255,j&16){if(S=v&65535,j&=15,x<j&&(f+=_[n++]<<x,x+=8,x<j&&(f+=_[n++]<<x,x+=8)),S+=f&(1<<j)-1,S>c){e.msg="invalid distance too far back",C.mode=Y2;break e}if(f>>>=j,x-=j,j=i-o,S>j){if(j=S-j,j>u&&C.sane){e.msg="invalid distance too far back",C.mode=Y2;break e}if(T=0,I=m,h===0){if(T+=d-j,j<N){N-=j;do M[i++]=m[T++];while(--j);T=i-S,I=M}}else if(h<j){if(T+=d+h-j,j-=h,j<N){N-=j;do M[i++]=m[T++];while(--j);if(T=0,h<N){j=h,N-=j;do M[i++]=m[T++];while(--j);T=i-S,I=M}}}else if(T+=h-j,j<N){N-=j;do M[i++]=m[T++];while(--j);T=i-S,I=M}for(;N>2;)M[i++]=I[T++],M[i++]=I[T++],M[i++]=I[T++],N-=3;N&&(M[i++]=I[T++],N>1&&(M[i++]=I[T++]))}else{T=i-S;do M[i++]=M[T++],M[i++]=M[T++],M[i++]=M[T++],N-=3;while(N>2);N&&(M[i++]=M[T++],N>1&&(M[i++]=M[T++]))}}else if((j&64)===0){v=g[(v&65535)+(f&(1<<j)-1)];continue r}else{e.msg="invalid distance code",C.mode=Y2;break e}break}}else if((j&64)===0){v=A[(v&65535)+(f&(1<<j)-1)];continue t}else if(j&32){C.mode=MBe;break e}else{e.msg="invalid literal/length code",C.mode=Y2;break e}break}}while(n<a&&i<l);N=x>>3,n-=N,x-=N<<3,f&=(1<<x)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<l?257+(l-i):257-(i-l),C.hold=f,C.bits=x};const EA=15,Cz=852,_z=592,Ez=0,N6=1,kz=2,PBe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),IBe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LBe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),DBe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),RBe=(t,e,s,n,a,i,o,l)=>{const c=l.bits;let d=0,u=0,h=0,m=0,f=0,x=0,A=0,g=0,b=0,w=0,v,j,N,S,T,I=null,_;const M=new Uint16Array(EA+1),C=new Uint16Array(EA+1);let B=null,P,H,D;for(d=0;d<=EA;d++)M[d]=0;for(u=0;u<n;u++)M[e[s+u]]++;for(f=c,m=EA;m>=1&&M[m]===0;m--);if(f>m&&(f=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&M[h]===0;h++);for(f<h&&(f=h),g=1,d=1;d<=EA;d++)if(g<<=1,g-=M[d],g<0)return-1;if(g>0&&(t===Ez||m!==1))return-1;for(C[1]=0,d=1;d<EA;d++)C[d+1]=C[d]+M[d];for(u=0;u<n;u++)e[s+u]!==0&&(o[C[e[s+u]]++]=u);if(t===Ez?(I=B=o,_=20):t===N6?(I=PBe,B=IBe,_=257):(I=LBe,B=DBe,_=0),w=0,u=0,d=h,T=i,x=f,A=0,N=-1,b=1<<f,S=b-1,t===N6&&b>Cz||t===kz&&b>_z)return 1;for(;;){P=d-A,o[u]+1<_?(H=0,D=o[u]):o[u]>=_?(H=B[o[u]-_],D=I[o[u]-_]):(H=96,D=0),v=1<<d-A,j=1<<x,h=j;do j-=v,a[T+(w>>A)+j]=P<<24|H<<16|D|0;while(j!==0);for(v=1<<d-1;w&v;)v>>=1;if(v!==0?(w&=v-1,w+=v):w=0,u++,--M[d]===0){if(d===m)break;d=e[s+o[u]]}if(d>f&&(w&S)!==N){for(A===0&&(A=f),T+=h,x=d-A,g=1<<x;x+A<m&&(g-=M[x+A],!(g<=0));)x++,g<<=1;if(b+=1<<x,t===N6&&b>Cz||t===kz&&b>_z)return 1;N=w&S,a[N]=f<<24|x<<16|T-i|0}}return w!==0&&(a[T+w]=d-A<<24|64<<16|0),l.bits=f,0};var Av=RBe;const OBe=0,Gee=1,Vee=2,{Z_FINISH:Tz,Z_BLOCK:UBe,Z_TREES:J2,Z_OK:Ax,Z_STREAM_END:HBe,Z_NEED_DICT:QBe,Z_STREAM_ERROR:nd,Z_DATA_ERROR:Wee,Z_MEM_ERROR:qee,Z_BUF_ERROR:$Be,Z_DEFLATED:Bz}=Qee,x4=16180,Mz=16181,Fz=16182,Pz=16183,Iz=16184,Lz=16185,Dz=16186,Rz=16187,Oz=16188,Uz=16189,I5=16190,Zh=16191,S6=16192,Hz=16193,C6=16194,Qz=16195,$z=16196,zz=16197,Gz=16198,Z2=16199,ej=16200,Vz=16201,Wz=16202,qz=16203,Kz=16204,Xz=16205,_6=16206,Yz=16207,Jz=16208,Zn=16209,Kee=16210,Xee=16211,zBe=852,GBe=592,VBe=15,WBe=VBe,Zz=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function qBe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bx=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<x4||e.mode>Xee?1:0},Yee=t=>{if(Bx(t))return nd;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=x4,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(zBe),e.distcode=e.distdyn=new Int32Array(GBe),e.sane=1,e.back=-1,Ax},Jee=t=>{if(Bx(t))return nd;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Yee(t)},Zee=(t,e)=>{let s;if(Bx(t))return nd;const n=t.state;return e<0?(s=0,e=-e):(s=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?nd:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=s,n.wbits=e,Jee(t))},ete=(t,e)=>{if(!t)return nd;const s=new qBe;t.state=s,s.strm=t,s.window=null,s.mode=x4;const n=Zee(t,e);return n!==Ax&&(t.state=null),n},KBe=t=>ete(t,WBe);let eG=!0,E6,k6;const XBe=t=>{if(eG){E6=new Int32Array(512),k6=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Av(Gee,t.lens,0,288,E6,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Av(Vee,t.lens,0,32,k6,0,t.work,{bits:5}),eG=!1}t.lencode=E6,t.lenbits=9,t.distcode=k6,t.distbits=5},tte=(t,e,s,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(s-i.wsize,s),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(s-n,s-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(s-n,s),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},YBe=(t,e)=>{let s,n,a,i,o,l,c,d,u,h,m,f,x,A,g=0,b,w,v,j,N,S,T,I;const _=new Uint8Array(4);let M,C;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bx(t)||!t.output||!t.input&&t.avail_in!==0)return nd;s=t.state,s.mode===Zh&&(s.mode=S6),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,d=s.hold,u=s.bits,h=l,m=c,I=Ax;e:for(;;)switch(s.mode){case x4:if(s.wrap===0){s.mode=S6;break}for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(s.wrap&2&&d===35615){s.wbits===0&&(s.wbits=15),s.check=0,_[0]=d&255,_[1]=d>>>8&255,s.check=ju(s.check,_,2,0),d=0,u=0,s.mode=Mz;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",s.mode=Zn;break}if((d&15)!==Bz){t.msg="unknown compression method",s.mode=Zn;break}if(d>>>=4,u-=4,T=(d&15)+8,s.wbits===0&&(s.wbits=T),T>15||T>s.wbits){t.msg="invalid window size",s.mode=Zn;break}s.dmax=1<<s.wbits,s.flags=0,t.adler=s.check=1,s.mode=d&512?Uz:Zh,d=0,u=0;break;case Mz:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(s.flags=d,(s.flags&255)!==Bz){t.msg="unknown compression method",s.mode=Zn;break}if(s.flags&57344){t.msg="unknown header flags set",s.mode=Zn;break}s.head&&(s.head.text=d>>8&1),s.flags&512&&s.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,s.check=ju(s.check,_,2,0)),d=0,u=0,s.mode=Fz;case Fz:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}s.head&&(s.head.time=d),s.flags&512&&s.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,_[2]=d>>>16&255,_[3]=d>>>24&255,s.check=ju(s.check,_,4,0)),d=0,u=0,s.mode=Pz;case Pz:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}s.head&&(s.head.xflags=d&255,s.head.os=d>>8),s.flags&512&&s.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,s.check=ju(s.check,_,2,0)),d=0,u=0,s.mode=Iz;case Iz:if(s.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}s.length=d,s.head&&(s.head.extra_len=d),s.flags&512&&s.wrap&4&&(_[0]=d&255,_[1]=d>>>8&255,s.check=ju(s.check,_,2,0)),d=0,u=0}else s.head&&(s.head.extra=null);s.mode=Lz;case Lz:if(s.flags&1024&&(f=s.length,f>l&&(f=l),f&&(s.head&&(T=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(n.subarray(i,i+f),T)),s.flags&512&&s.wrap&4&&(s.check=ju(s.check,n,f,i)),l-=f,i+=f,s.length-=f),s.length))break e;s.length=0,s.mode=Dz;case Dz:if(s.flags&2048){if(l===0)break e;f=0;do T=n[i+f++],s.head&&T&&s.length<65536&&(s.head.name+=String.fromCharCode(T));while(T&&f<l);if(s.flags&512&&s.wrap&4&&(s.check=ju(s.check,n,f,i)),l-=f,i+=f,T)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=Rz;case Rz:if(s.flags&4096){if(l===0)break e;f=0;do T=n[i+f++],s.head&&T&&s.length<65536&&(s.head.comment+=String.fromCharCode(T));while(T&&f<l);if(s.flags&512&&s.wrap&4&&(s.check=ju(s.check,n,f,i)),l-=f,i+=f,T)break e}else s.head&&(s.head.comment=null);s.mode=Oz;case Oz:if(s.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(s.wrap&4&&d!==(s.check&65535)){t.msg="header crc mismatch",s.mode=Zn;break}d=0,u=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),t.adler=s.check=0,s.mode=Zh;break;case Uz:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}t.adler=s.check=Zz(d),d=0,u=0,s.mode=I5;case I5:if(s.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,s.hold=d,s.bits=u,QBe;t.adler=s.check=1,s.mode=Zh;case Zh:if(e===UBe||e===J2)break e;case S6:if(s.last){d>>>=u&7,u-=u&7,s.mode=_6;break}for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}switch(s.last=d&1,d>>>=1,u-=1,d&3){case 0:s.mode=Hz;break;case 1:if(XBe(s),s.mode=Z2,e===J2){d>>>=2,u-=2;break e}break;case 2:s.mode=$z;break;case 3:t.msg="invalid block type",s.mode=Zn}d>>>=2,u-=2;break;case Hz:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",s.mode=Zn;break}if(s.length=d&65535,d=0,u=0,s.mode=C6,e===J2)break e;case C6:s.mode=Qz;case Qz:if(f=s.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(n.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,s.length-=f;break}s.mode=Zh;break;case $z:for(;u<14;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(s.nlen=(d&31)+257,d>>>=5,u-=5,s.ndist=(d&31)+1,d>>>=5,u-=5,s.ncode=(d&15)+4,d>>>=4,u-=4,s.nlen>286||s.ndist>30){t.msg="too many length or distance symbols",s.mode=Zn;break}s.have=0,s.mode=zz;case zz:for(;s.have<s.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}s.lens[B[s.have++]]=d&7,d>>>=3,u-=3}for(;s.have<19;)s.lens[B[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,M={bits:s.lenbits},I=Av(OBe,s.lens,0,19,s.lencode,0,s.work,M),s.lenbits=M.bits,I){t.msg="invalid code lengths set",s.mode=Zn;break}s.have=0,s.mode=Gz;case Gz:for(;s.have<s.nlen+s.ndist;){for(;g=s.lencode[d&(1<<s.lenbits)-1],b=g>>>24,w=g>>>16&255,v=g&65535,!(b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(v<16)d>>>=b,u-=b,s.lens[s.have++]=v;else{if(v===16){for(C=b+2;u<C;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(d>>>=b,u-=b,s.have===0){t.msg="invalid bit length repeat",s.mode=Zn;break}T=s.lens[s.have-1],f=3+(d&3),d>>>=2,u-=2}else if(v===17){for(C=b+3;u<C;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=b,u-=b,T=0,f=3+(d&7),d>>>=3,u-=3}else{for(C=b+7;u<C;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=b,u-=b,T=0,f=11+(d&127),d>>>=7,u-=7}if(s.have+f>s.nlen+s.ndist){t.msg="invalid bit length repeat",s.mode=Zn;break}for(;f--;)s.lens[s.have++]=T}}if(s.mode===Zn)break;if(s.lens[256]===0){t.msg="invalid code -- missing end-of-block",s.mode=Zn;break}if(s.lenbits=9,M={bits:s.lenbits},I=Av(Gee,s.lens,0,s.nlen,s.lencode,0,s.work,M),s.lenbits=M.bits,I){t.msg="invalid literal/lengths set",s.mode=Zn;break}if(s.distbits=6,s.distcode=s.distdyn,M={bits:s.distbits},I=Av(Vee,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,M),s.distbits=M.bits,I){t.msg="invalid distances set",s.mode=Zn;break}if(s.mode=Z2,e===J2)break e;case Z2:s.mode=ej;case ej:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,s.hold=d,s.bits=u,FBe(t,m),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,d=s.hold,u=s.bits,s.mode===Zh&&(s.back=-1);break}for(s.back=0;g=s.lencode[d&(1<<s.lenbits)-1],b=g>>>24,w=g>>>16&255,v=g&65535,!(b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(w&&(w&240)===0){for(j=b,N=w,S=v;g=s.lencode[S+((d&(1<<j+N)-1)>>j)],b=g>>>24,w=g>>>16&255,v=g&65535,!(j+b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=j,u-=j,s.back+=j}if(d>>>=b,u-=b,s.back+=b,s.length=v,w===0){s.mode=Xz;break}if(w&32){s.back=-1,s.mode=Zh;break}if(w&64){t.msg="invalid literal/length code",s.mode=Zn;break}s.extra=w&15,s.mode=Vz;case Vz:if(s.extra){for(C=s.extra;u<C;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}s.length+=d&(1<<s.extra)-1,d>>>=s.extra,u-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=Wz;case Wz:for(;g=s.distcode[d&(1<<s.distbits)-1],b=g>>>24,w=g>>>16&255,v=g&65535,!(b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if((w&240)===0){for(j=b,N=w,S=v;g=s.distcode[S+((d&(1<<j+N)-1)>>j)],b=g>>>24,w=g>>>16&255,v=g&65535,!(j+b<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=j,u-=j,s.back+=j}if(d>>>=b,u-=b,s.back+=b,w&64){t.msg="invalid distance code",s.mode=Zn;break}s.offset=v,s.extra=w&15,s.mode=qz;case qz:if(s.extra){for(C=s.extra;u<C;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}s.offset+=d&(1<<s.extra)-1,d>>>=s.extra,u-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){t.msg="invalid distance too far back",s.mode=Zn;break}s.mode=Kz;case Kz:if(c===0)break e;if(f=m-c,s.offset>f){if(f=s.offset-f,f>s.whave&&s.sane){t.msg="invalid distance too far back",s.mode=Zn;break}f>s.wnext?(f-=s.wnext,x=s.wsize-f):x=s.wnext-f,f>s.length&&(f=s.length),A=s.window}else A=a,x=o-s.offset,f=s.length;f>c&&(f=c),c-=f,s.length-=f;do a[o++]=A[x++];while(--f);s.length===0&&(s.mode=ej);break;case Xz:if(c===0)break e;a[o++]=s.length,c--,s.mode=ej;break;case _6:if(s.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[i++]<<u,u+=8}if(m-=c,t.total_out+=m,s.total+=m,s.wrap&4&&m&&(t.adler=s.check=s.flags?ju(s.check,a,m,o-m):jF(s.check,a,m,o-m)),m=c,s.wrap&4&&(s.flags?d:Zz(d))!==s.check){t.msg="incorrect data check",s.mode=Zn;break}d=0,u=0}s.mode=Yz;case Yz:if(s.wrap&&s.flags){for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(s.wrap&4&&d!==(s.total&4294967295)){t.msg="incorrect length check",s.mode=Zn;break}d=0,u=0}s.mode=Jz;case Jz:I=HBe;break e;case Zn:I=Wee;break e;case Kee:return qee;case Xee:default:return nd}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,s.hold=d,s.bits=u,(s.wsize||m!==t.avail_out&&s.mode<Zn&&(s.mode<_6||e!==Tz))&&tte(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,s.total+=m,s.wrap&4&&m&&(t.adler=s.check=s.flags?ju(s.check,a,m,t.next_out-m):jF(s.check,a,m,t.next_out-m)),t.data_type=s.bits+(s.last?64:0)+(s.mode===Zh?128:0)+(s.mode===Z2||s.mode===C6?256:0),(h===0&&m===0||e===Tz)&&I===Ax&&(I=$Be),I},JBe=t=>{if(Bx(t))return nd;let e=t.state;return e.window&&(e.window=null),t.state=null,Ax},ZBe=(t,e)=>{if(Bx(t))return nd;const s=t.state;return(s.wrap&2)===0?nd:(s.head=e,e.done=!1,Ax)},eMe=(t,e)=>{const s=e.length;let n,a,i;return Bx(t)||(n=t.state,n.wrap!==0&&n.mode!==I5)?nd:n.mode===I5&&(a=1,a=jF(a,e,s,0),a!==n.check)?Wee:(i=tte(t,e,s,s),i?(n.mode=Kee,qee):(n.havedict=1,Ax))};var tMe=Jee,rMe=Zee,sMe=Yee,nMe=KBe,aMe=ete,iMe=YBe,oMe=JBe,lMe=ZBe,cMe=eMe,dMe="pako inflate (from Nodeca project)",cf={inflateReset:tMe,inflateReset2:rMe,inflateResetKeep:sMe,inflateInit:nMe,inflateInit2:aMe,inflate:iMe,inflateEnd:oMe,inflateGetHeader:lMe,inflateSetDictionary:cMe,inflateInfo:dMe};function uMe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hMe=uMe;const rte=Object.prototype.toString,{Z_NO_FLUSH:fMe,Z_FINISH:mMe,Z_OK:k1,Z_STREAM_END:T6,Z_NEED_DICT:B6,Z_STREAM_ERROR:pMe,Z_DATA_ERROR:tG,Z_MEM_ERROR:xMe}=Qee;function pw(t){this.options=$ee.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new BBe,this.strm.avail_out=0;let s=cf.inflateInit2(this.strm,e.windowBits);if(s!==k1)throw new Error(NF[s]);if(this.header=new hMe,cf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=SF.string2buf(e.dictionary):rte.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(s=cf.inflateSetDictionary(this.strm,e.dictionary),s!==k1)))throw new Error(NF[s])}pw.prototype.push=function(t,e){const s=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?mMe:fMe,rte.call(t)==="[object ArrayBuffer]"?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(n),s.next_out=0,s.avail_out=n),i=cf.inflate(s,o),i===B6&&a&&(i=cf.inflateSetDictionary(s,a),i===k1?i=cf.inflate(s,o):i===tG&&(i=B6));s.avail_in>0&&i===T6&&s.state.wrap>0&&t[s.next_in]!==0;)cf.inflateReset(s),i=cf.inflate(s,o);switch(i){case pMe:case tG:case B6:case xMe:return this.onEnd(i),this.ended=!0,!1}if(l=s.avail_out,s.next_out&&(s.avail_out===0||i===T6))if(this.options.to==="string"){let c=SF.utf8border(s.output,s.next_out),d=s.next_out-c,u=SF.buf2string(s.output,c);s.next_out=d,s.avail_out=n-d,d&&s.output.set(s.output.subarray(c,c+d),0),this.onData(u)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(i===k1&&l===0)){if(i===T6)return i=cf.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};pw.prototype.onData=function(t){this.chunks.push(t)};pw.prototype.onEnd=function(t){t===k1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$ee.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function AMe(t,e){const s=new pw(e);if(s.push(t),s.err)throw s.msg||NF[s.err];return s.result}var gMe=pw,bMe=AMe,yMe={Inflate:gMe,inflate:bMe};const{Inflate:vMe,inflate:wMe}=yMe;var rG=vMe,jMe=wMe;const ste=[];for(let t=0;t<256;t++){let e=t;for(let s=0;s<8;s++)e&1?e=3988292384^e>>>1:e=e>>>1;ste[t]=e}const sG=4294967295;function NMe(t,e,s){let n=t;for(let a=0;a<s;a++)n=ste[(n^e[a])&255]^n>>>8;return n}function SMe(t,e){return(NMe(sG,t,e)^sG)>>>0}function nG(t,e,s){const n=t.readUint32(),a=SMe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${s}. Expected ${n}, found ${a}`)}function nte(t,e,s){for(let n=0;n<s;n++)e[n]=t[n]}function ate(t,e,s,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<s;a++)e[a]=t[a]+e[a-n]&255}function ite(t,e,s,n){let a=0;if(s.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+s[a]&255}function ote(t,e,s,n,a){let i=0;if(s.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(s[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+s[i]>>1)&255}}function lte(t,e,s,n,a){let i=0;if(s.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+s[i]&255;for(;i<n;i++)e[i]=t[i]+CMe(e[i-a],s[i],s[i-a])&255}}function CMe(t,e,s){const n=t+e-s,a=Math.abs(n-t),i=Math.abs(n-e),o=Math.abs(n-s);return a<=i&&a<=o?t:i<=o?e:s}function _Me(t,e,s,n,a,i){switch(t){case 0:nte(e,s,a);break;case 1:ate(e,s,a,i);break;case 2:ite(e,s,n,a);break;case 3:ote(e,s,n,a,i);break;case 4:lte(e,s,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const EMe=new Uint16Array([255]),kMe=new Uint8Array(EMe.buffer),TMe=kMe[0]===255;function BMe(t){const{data:e,width:s,height:n,channels:a,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*s*l);let d=0;for(let u=0;u<7;u++){const h=o[u],m=Math.ceil((s-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(m<=0||f<=0)continue;const x=m*l,A=new Uint8Array(x);for(let g=0;g<f;g++){const b=e[d++],w=e.subarray(d,d+x);d+=x;const v=new Uint8Array(x);_Me(b,w,v,A,x,l),A.set(v);for(let j=0;j<m;j++){const N=h.x+j*h.xStep,S=h.y+g*h.yStep;if(!(N>=s||S>=n))for(let T=0;T<l;T++)c[(S*s+N)*l+T]=v[j*l+T]}}}if(i===16){const u=new Uint16Array(c.buffer);if(TMe)for(let h=0;h<u.length;h++)u[h]=MMe(u[h]);return u}else return c}function MMe(t){return(t&255)<<8|t>>8&255}const FMe=new Uint16Array([255]),PMe=new Uint8Array(FMe.buffer),IMe=PMe[0]===255,LMe=new Uint8Array(0);function aG(t){const{data:e,width:s,height:n,channels:a,depth:i}=t,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*s),c=new Uint8Array(n*l);let d=LMe,u=0,h,m;for(let f=0;f<n;f++){switch(h=e.subarray(u+1,u+1+l),m=c.subarray(f*l,(f+1)*l),e[u]){case 0:nte(h,m,l);break;case 1:ate(h,m,l,o);break;case 2:ite(h,m,d,l);break;case 3:ote(h,m,d,l,o);break;case 4:lte(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}d=m,u+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(IMe)for(let x=0;x<f.length;x++)f[x]=DMe(f[x]);return f}else return c}function DMe(t){return(t&255)<<8|t>>8&255}const AN=Uint8Array.of(137,80,78,71,13,10,26,10);function iG(t){if(!RMe(t.readBytes(AN.length)))throw new Error("wrong PNG signature")}function RMe(t){if(t.length<AN.length)return!1;for(let e=0;e<AN.length;e++)if(t[e]!==AN[e])return!1;return!0}const OMe="tEXt",UMe=0,cte=new TextDecoder("latin1");function HMe(t){if($Me(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const QMe=/^[\u0000-\u00FF]*$/;function $Me(t){if(!QMe.test(t))throw new Error("invalid latin1 text")}function zMe(t,e,s){const n=dte(e);t[n]=GMe(e,s-n.length-1)}function dte(t){for(t.mark();t.readByte()!==UMe;);const e=t.offset;t.reset();const s=cte.decode(t.readBytes(e-t.offset-1));return t.skip(1),HMe(s),s}function GMe(t,e){return cte.decode(t.readBytes(e))}const Zl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},M6={UNKNOWN:-1,DEFLATE:0},oG={UNKNOWN:-1,ADAPTIVE:0},F6={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},tj={NONE:0,BACKGROUND:1,PREVIOUS:2},P6={SOURCE:0,OVER:1};class VMe extends aL{constructor(s,n={}){super(s);hr(this,"_checkCrc");hr(this,"_inflator");hr(this,"_png");hr(this,"_apng");hr(this,"_end");hr(this,"_hasPalette");hr(this,"_palette");hr(this,"_hasTransparency");hr(this,"_transparency");hr(this,"_compressionMethod");hr(this,"_filterMethod");hr(this,"_interlaceMethod");hr(this,"_colorType");hr(this,"_isAnimated");hr(this,"_numberOfFrames");hr(this,"_numberOfPlays");hr(this,"_frames");hr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new rG,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=M6.UNKNOWN,this._filterMethod=oG.UNKNOWN,this._interlaceMethod=F6.UNKNOWN,this._colorType=Zl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(iG(this);!this._end;){const s=this.readUint32(),n=this.readChars(4);this.decodeChunk(s,n)}return this.decodeImage(),this._png}decodeApng(){for(iG(this);!this._end;){const s=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(s,n)}return this.decodeApngImage(),this._apng}decodeChunk(s,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(s);break;case"IDAT":this.decodeIDAT(s);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(s);break;case"iCCP":this.decodeiCCP(s);break;case OMe:zMe(this._png.text,this,s);break;case"pHYs":this.decodepHYs();break;default:this.skip(s);break}if(this.offset-a!==s)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nG(this,s+4,n):this.skip(4)}decodeApngChunk(s,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(s);break;default:this.decodeChunk(s,n),this.offset=a+s;break}if(this.offset-a!==s)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nG(this,s+4,n):this.skip(4)}decodeIHDR(){const s=this._png;s.width=this.readUint32(),s.height=this.readUint32(),s.depth=WMe(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Zl.GREYSCALE:a=1;break;case Zl.TRUECOLOUR:a=3;break;case Zl.INDEXED_COLOUR:a=1;break;case Zl.GREYSCALE_ALPHA:a=2;break;case Zl.TRUECOLOUR_ALPHA:a=4;break;case Zl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==M6.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const s={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(s)}decodePLTE(s){if(s%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${s}`);const n=s/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(s){this._writingDataChunks=!0;const n=s,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodeFDAT(s){this._writingDataChunks=!0;let n=s,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodetRNS(s){switch(this._colorType){case Zl.GREYSCALE:case Zl.TRUECOLOUR:{if(s%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${s}`);if(s/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${s/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(s/2);for(let n=0;n<s/2;n++)this._transparency[n]=this.readUint16();break}case Zl.INDEXED_COLOUR:{if(s>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${s} vs ${this._palette.length})`);let n=0;for(;n<s;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Zl.UNKNOWN:case Zl.GREYSCALE_ALPHA:case Zl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(s){const n=dte(this),a=this.readUint8();if(a!==M6.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(s-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:jMe(i)}}decodepHYs(){const s=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:s,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let s=0;s<this._numberOfFrames;s++){const n={sequenceNumber:this._frames[s].sequenceNumber,delayNumber:this._frames[s].delayNumber,delayDenominator:this._frames[s].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(s);if(a){if(a.data=aG({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),s===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(s-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(s,n,a){switch(s.disposeOp){case tj.NONE:break;case tj.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*s.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case tj.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(s,n){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case P6.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++)s.data[c+u]=n.data[d+u]}break;case P6.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++){const h=n.data[d+this._png.channels-1]/a,m=u%(this._png.channels-1)===0?1:n.data[d+u],f=Math.floor(h*m+(1-h)*s.data[c+u]);s.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const s=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==oG.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===F6.NO_INTERLACE)this._png.data=aG({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===F6.ADAM7)this._png.data=BMe({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const s=this._inflator.result,n=this._frames.at(-1);n?n.data=s:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:tj.NONE,blendOp:P6.SOURCE,data:s}),this._inflator=new rG,this._writingDataChunks=!1}}function WMe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var lG;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(lG||(lG={}));function qMe(t,e){return new VMe(t,e).decode()}var es=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function I6(){es.console&&typeof es.console.log=="function"&&es.console.log.apply(es.console,arguments)}var Sn={log:I6,warn:function(t){es.console&&(typeof es.console.warn=="function"?es.console.warn.apply(es.console,arguments):I6.call(null,arguments))},error:function(t){es.console&&(typeof es.console.error=="function"?es.console.error.apply(es.console,arguments):I6(t))}};function L6(t,e,s){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Np(n.response,e,s)},n.onerror=function(){Sn.error("could not download file")},n.send()}function cG(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function rj(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Np=es.saveAs||((typeof window>"u"?"undefined":fn(window))!=="object"||window!==es?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,s){var n=es.URL||es.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?cG(a.href)?L6(t,e,s):rj(a,a.target="_blank"):rj(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){rj(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,s){if(e=e||t.name||"download",typeof t=="string")if(cG(t))L6(t,e,s);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){rj(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:fn(i)!=="object"&&(Sn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,s),e)}:function(t,e,s,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return L6(t,e,s);var a=t.type==="application/octet-stream",i=/constructor/i.test(es.HTMLElement)||es.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":fn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(t)}else{var c=es.URL||es.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ute(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<s.length;n++){var a=s[n].re,i=s[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var gN=es.atob.bind(es),dG=es.btoa.bind(es);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function D6(t,e){var s=t[0],n=t[1],a=t[2],i=t[3];s=go(s,n,a,i,e[0],7,-680876936),i=go(i,s,n,a,e[1],12,-389564586),a=go(a,i,s,n,e[2],17,606105819),n=go(n,a,i,s,e[3],22,-1044525330),s=go(s,n,a,i,e[4],7,-176418897),i=go(i,s,n,a,e[5],12,1200080426),a=go(a,i,s,n,e[6],17,-1473231341),n=go(n,a,i,s,e[7],22,-45705983),s=go(s,n,a,i,e[8],7,1770035416),i=go(i,s,n,a,e[9],12,-1958414417),a=go(a,i,s,n,e[10],17,-42063),n=go(n,a,i,s,e[11],22,-1990404162),s=go(s,n,a,i,e[12],7,1804603682),i=go(i,s,n,a,e[13],12,-40341101),a=go(a,i,s,n,e[14],17,-1502002290),s=bo(s,n=go(n,a,i,s,e[15],22,1236535329),a,i,e[1],5,-165796510),i=bo(i,s,n,a,e[6],9,-1069501632),a=bo(a,i,s,n,e[11],14,643717713),n=bo(n,a,i,s,e[0],20,-373897302),s=bo(s,n,a,i,e[5],5,-701558691),i=bo(i,s,n,a,e[10],9,38016083),a=bo(a,i,s,n,e[15],14,-660478335),n=bo(n,a,i,s,e[4],20,-405537848),s=bo(s,n,a,i,e[9],5,568446438),i=bo(i,s,n,a,e[14],9,-1019803690),a=bo(a,i,s,n,e[3],14,-187363961),n=bo(n,a,i,s,e[8],20,1163531501),s=bo(s,n,a,i,e[13],5,-1444681467),i=bo(i,s,n,a,e[2],9,-51403784),a=bo(a,i,s,n,e[7],14,1735328473),s=yo(s,n=bo(n,a,i,s,e[12],20,-1926607734),a,i,e[5],4,-378558),i=yo(i,s,n,a,e[8],11,-2022574463),a=yo(a,i,s,n,e[11],16,1839030562),n=yo(n,a,i,s,e[14],23,-35309556),s=yo(s,n,a,i,e[1],4,-1530992060),i=yo(i,s,n,a,e[4],11,1272893353),a=yo(a,i,s,n,e[7],16,-155497632),n=yo(n,a,i,s,e[10],23,-1094730640),s=yo(s,n,a,i,e[13],4,681279174),i=yo(i,s,n,a,e[0],11,-358537222),a=yo(a,i,s,n,e[3],16,-722521979),n=yo(n,a,i,s,e[6],23,76029189),s=yo(s,n,a,i,e[9],4,-640364487),i=yo(i,s,n,a,e[12],11,-421815835),a=yo(a,i,s,n,e[15],16,530742520),s=vo(s,n=yo(n,a,i,s,e[2],23,-995338651),a,i,e[0],6,-198630844),i=vo(i,s,n,a,e[7],10,1126891415),a=vo(a,i,s,n,e[14],15,-1416354905),n=vo(n,a,i,s,e[5],21,-57434055),s=vo(s,n,a,i,e[12],6,1700485571),i=vo(i,s,n,a,e[3],10,-1894986606),a=vo(a,i,s,n,e[10],15,-1051523),n=vo(n,a,i,s,e[1],21,-2054922799),s=vo(s,n,a,i,e[8],6,1873313359),i=vo(i,s,n,a,e[15],10,-30611744),a=vo(a,i,s,n,e[6],15,-1560198380),n=vo(n,a,i,s,e[13],21,1309151649),s=vo(s,n,a,i,e[4],6,-145523070),i=vo(i,s,n,a,e[11],10,-1120210379),a=vo(a,i,s,n,e[2],15,718787259),n=vo(n,a,i,s,e[9],21,-343485551),t[0]=$m(s,t[0]),t[1]=$m(n,t[1]),t[2]=$m(a,t[2]),t[3]=$m(i,t[3])}function A4(t,e,s,n,a,i){return e=$m($m(e,t),$m(n,i)),$m(e<<a|e>>>32-a,s)}function go(t,e,s,n,a,i,o){return A4(e&s|~e&n,t,e,a,i,o)}function bo(t,e,s,n,a,i,o){return A4(e&n|s&~n,t,e,a,i,o)}function yo(t,e,s,n,a,i,o){return A4(e^s^n,t,e,a,i,o)}function vo(t,e,s,n,a,i,o){return A4(s^(e|~n),t,e,a,i,o)}function hte(t){var e,s=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)D6(n,KMe(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(D6(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*s,D6(n,a),n}function KMe(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return s}var uG="0123456789abcdef".split("");function XMe(t){for(var e="",s=0;s<4;s++)e+=uG[t>>8*s+4&15]+uG[t>>8*s&15];return e}function YMe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function CF(t){return hte(t).map(YMe).join("")}var JMe=(function(t){for(var e=0;e<t.length;e++)t[e]=XMe(t[e]);return t.join("")})(hte("hello"))!="5d41402abc4b2a76b9719d911017c592";function $m(t,e){if(JMe){var s=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(s>>16)<<16|65535&s}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _F(t,e){var s,n,a,i;if(t!==s){for(var o=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}s=t,n=l}else l=n;var h=e.length,m=0,f=0,x="";for(c=0;c<h;c++)f=(f+(u=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=u,o=l[(l[m]+l[f])%256],x+=String.fromCharCode(e.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hG={print:4,modify:8,copy:16,"annot-forms":32};function $A(t,e,s,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(hG.perm!==void 0)throw new Error("Invalid permission: "+l);a+=hG[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=CF(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=_F(this.encryptionKey,this.padding)}function zA(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",s=t.length,n=0;n<s;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function fG(t){if(fn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(s,n,a){if(a=a||!1,typeof s!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(s)||(e[s]={});var i=Math.random().toString(35);return e[s][i]=[n,!!a],i},this.unsubscribe=function(s){for(var n in e)if(e[n][s])return delete e[n][s],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(s){if(e.hasOwnProperty(s)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[s]){var o=e[s][i];try{o[0].apply(t,n)}catch(l){es.console&&Sn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function T1(t){if(!(this instanceof T1))return new T1(t);var e="opacity,stroke-opacity".split(",");for(var s in t)t.hasOwnProperty(s)&&e.indexOf(s)>=0&&(this[s]=t[s]);this.id="",this.objectNumber=-1}function fte(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Rm(t,e,s,n,a){if(!(this instanceof Rm))return new Rm(t,e,s,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=s,fte.call(this,n,a)}function Rp(t,e,s,n,a){if(!(this instanceof Rp))return new Rp(t,e,s,n,a);this.boundingBox=t,this.xStep=e,this.yStep=s,this.stream="",this.cloneIndex=0,fte.call(this,n,a)}function Sr(t){var e,s=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;fn(t=t||{})==="object"&&(s=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",s=(""+(s||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=fG;var x="1.3",A=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(Y){x=Y};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var b=f.__private__.getPageFormat=function(Y){return g[Y]};a=a||"a4";var w="compat",v="advanced",j=w;function N(){this.saveGraphicsState(),J(new or(Tt,0,0,-Tt,0,fl()*Tt).toString()+" cm"),this.setFontSize(this.getFontSize()/Tt),d="n",j=v}function S(){this.restoreGraphicsState(),d="S",j=w}var T=f.__private__.combineFontStyleAndFontWeight=function(Y,ge){if(Y=="bold"&&ge=="normal"||Y=="bold"&&ge==400||Y=="normal"&&ge=="italic"||Y=="bold"&&ge=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ge&&(Y=ge==400||ge==="normal"?Y==="italic"?"italic":"normal":ge!=700&&ge!=="bold"||Y!=="normal"?(ge==700?"bold":ge)+""+Y:"bold"),Y};f.advancedAPI=function(Y){var ge=j===w;return ge&&N.call(this),typeof Y!="function"||(Y(this),ge&&S.call(this)),this},f.compatAPI=function(Y){var ge=j===v;return ge&&S.call(this),typeof Y!="function"||(Y(this),ge&&N.call(this)),this},f.isAdvancedAPI=function(){return j===v};var I,_=function(Y){if(j!==v)throw new Error(Y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=f.roundToPrecision=f.__private__.roundToPrecision=function(Y,ge){var Qe=e||ge;if(isNaN(Y)||isNaN(Qe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Y.toFixed(Qe).replace(/0+$/,"")};I=f.hpf=f.__private__.hpf=typeof c=="number"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return M(Y,c)}:c==="smart"?function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return M(Y,Y>-1&&Y<1?16:5)}:function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.hpf");return M(Y,16)};var C=f.f2=f.__private__.f2=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f2");return M(Y,2)},B=f.__private__.f3=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.f3");return M(Y,3)},P=f.scale=f.__private__.scale=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.scale");return j===w?Y*Tt:j===v?Y:void 0},H=function(Y){return P((function(ge){return j===w?fl()-ge:j===v?ge:void 0})(Y))};f.__private__.setPrecision=f.setPrecision=function(Y){typeof parseInt(Y,10)=="number"&&(e=parseInt(Y,10))};var D,G="00000000000000000000000000000000",O=f.__private__.getFileId=function(){return G},Q=f.__private__.setFileId=function(Y){return G=Y!==void 0&&/^[a-fA-F0-9]{32}$/.test(Y)?Y.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Ls=new $A(u.userPermissions,u.userPassword,u.ownerPassword,G)),G};f.setFileId=function(Y){return Q(Y),this},f.getFileId=function(){return O()};var ee=f.__private__.convertDateToPDFDate=function(Y){var ge=Y.getTimezoneOffset(),Qe=ge<0?"+":"-",Je=Math.floor(Math.abs(ge/60)),xt=Math.abs(ge%60),Ht=[Qe,V(Je),"'",V(xt),"'"].join("");return["D:",Y.getFullYear(),V(Y.getMonth()+1),V(Y.getDate()),V(Y.getHours()),V(Y.getMinutes()),V(Y.getSeconds()),Ht].join("")},q=f.__private__.convertPDFDateToDate=function(Y){var ge=parseInt(Y.substr(2,4),10),Qe=parseInt(Y.substr(6,2),10)-1,Je=parseInt(Y.substr(8,2),10),xt=parseInt(Y.substr(10,2),10),Ht=parseInt(Y.substr(12,2),10),Xt=parseInt(Y.substr(14,2),10);return new Date(ge,Qe,Je,xt,Ht,Xt,0)},Z=f.__private__.setCreationDate=function(Y){var ge;if(Y===void 0&&(Y=new Date),Y instanceof Date)ge=ee(Y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ge=Y}return D=ge},F=f.__private__.getCreationDate=function(Y){var ge=D;return Y==="jsDate"&&(ge=q(D)),ge};f.setCreationDate=function(Y){return Z(Y),this},f.getCreationDate=function(Y){return F(Y)};var z,V=f.__private__.padd2=function(Y){return("0"+parseInt(Y)).slice(-2)},W=f.__private__.padd2Hex=function(Y){return("00"+(Y=Y.toString())).substr(Y.length)},ne=0,ie=[],be=[],ue=0,je=[],Be=[],oe=!1,lt=be;f.__private__.setCustomOutputDestination=function(Y){oe=!0,lt=Y};var se=function(Y){oe||(lt=Y)};f.__private__.resetCustomOutputDestination=function(){oe=!1,lt=be};var J=f.__private__.out=function(Y){return Y=Y.toString(),ue+=Y.length+1,lt.push(Y),lt},Pe=f.__private__.write=function(Y){return J(arguments.length===1?Y.toString():Array.prototype.join.call(arguments," "))},xe=f.__private__.getArrayBuffer=function(Y){for(var ge=Y.length,Qe=new ArrayBuffer(ge),Je=new Uint8Array(Qe);ge--;)Je[ge]=Y.charCodeAt(ge);return Qe},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return He};var $e=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(Y){return $e=j===v?Y/Tt:Y,this};var Xe,he=f.__private__.getFontSize=f.getFontSize=function(){return j===w?$e:$e*Tt},ce=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(Y){return ce=Y,this},f.__private__.getR2L=f.getR2L=function(){return ce};var _e,Ke=f.__private__.setZoomMode=function(Y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Y))Xe=Y;else if(isNaN(Y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Y+'" is not recognized.');Xe=Y}else Xe=parseInt(Y,10)};f.__private__.getZoomMode=function(){return Xe};var et,st=f.__private__.setPageMode=function(Y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Y+'" is not recognized.');_e=Y};f.__private__.getPageMode=function(){return _e};var ot=f.__private__.setLayoutMode=function(Y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Y+'" is not recognized.');et=Y};f.__private__.getLayoutMode=function(){return et},f.__private__.setDisplayMode=f.setDisplayMode=function(Y,ge,Qe){return Ke(Y),ot(ge),st(Qe),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(Y){if(Object.keys(mt).indexOf(Y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[Y]},f.__private__.getDocumentProperties=function(){return mt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(Y){for(var ge in mt)mt.hasOwnProperty(ge)&&Y[ge]&&(mt[ge]=Y[ge]);return this},f.__private__.setDocumentProperty=function(Y,ge){if(Object.keys(mt).indexOf(Y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[Y]=ge};var At,Tt,rt,Dt,Qt,Yt={},kt={},tt=[],Ze={},ye={},fe={},Me={},Le=null,Ge=0,ct=[],ft=new fG(f),Ut=t.hotfixes||[],Wt={},ur={},mr=[],or=function Y(ge,Qe,Je,xt,Ht,Xt){if(!(this instanceof Y))return new Y(ge,Qe,Je,xt,Ht,Xt);isNaN(ge)&&(ge=1),isNaN(Qe)&&(Qe=0),isNaN(Je)&&(Je=0),isNaN(xt)&&(xt=1),isNaN(Ht)&&(Ht=0),isNaN(Xt)&&(Xt=0),this._matrix=[ge,Qe,Je,xt,Ht,Xt]};Object.defineProperty(or.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(or.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(or.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(or.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(or.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(or.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(or.prototype,"a",{get:function(){return this._matrix[0]},set:function(Y){this._matrix[0]=Y}}),Object.defineProperty(or.prototype,"b",{get:function(){return this._matrix[1]},set:function(Y){this._matrix[1]=Y}}),Object.defineProperty(or.prototype,"c",{get:function(){return this._matrix[2]},set:function(Y){this._matrix[2]=Y}}),Object.defineProperty(or.prototype,"d",{get:function(){return this._matrix[3]},set:function(Y){this._matrix[3]=Y}}),Object.defineProperty(or.prototype,"e",{get:function(){return this._matrix[4]},set:function(Y){this._matrix[4]=Y}}),Object.defineProperty(or.prototype,"f",{get:function(){return this._matrix[5]},set:function(Y){this._matrix[5]=Y}}),Object.defineProperty(or.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(or.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(or.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(or.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),or.prototype.join=function(Y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(Y)},or.prototype.multiply=function(Y){var ge=Y.sx*this.sx+Y.shy*this.shx,Qe=Y.sx*this.shy+Y.shy*this.sy,Je=Y.shx*this.sx+Y.sy*this.shx,xt=Y.shx*this.shy+Y.sy*this.sy,Ht=Y.tx*this.sx+Y.ty*this.shx+this.tx,Xt=Y.tx*this.shy+Y.ty*this.sy+this.ty;return new or(ge,Qe,Je,xt,Ht,Xt)},or.prototype.decompose=function(){var Y=this.sx,ge=this.shy,Qe=this.shx,Je=this.sy,xt=this.tx,Ht=this.ty,Xt=Math.sqrt(Y*Y+ge*ge),Er=(Y/=Xt)*Qe+(ge/=Xt)*Je;Qe-=Y*Er,Je-=ge*Er;var Pr=Math.sqrt(Qe*Qe+Je*Je);return Er/=Pr,Y*(Je/=Pr)<ge*(Qe/=Pr)&&(Y=-Y,ge=-ge,Er=-Er,Xt=-Xt),{scale:new or(Xt,0,0,Pr,0,0),translate:new or(1,0,0,1,xt,Ht),rotate:new or(Y,ge,-ge,Y,0,0),skew:new or(1,0,Er,1,0,0)}},or.prototype.toString=function(Y){return this.join(" ")},or.prototype.inversed=function(){var Y=this.sx,ge=this.shy,Qe=this.shx,Je=this.sy,xt=this.tx,Ht=this.ty,Xt=1/(Y*Je-ge*Qe),Er=Je*Xt,Pr=-ge*Xt,Xr=-Qe*Xt,ts=Y*Xt;return new or(Er,Pr,Xr,ts,-Er*xt-Xr*Ht,-Pr*xt-ts*Ht)},or.prototype.applyToPoint=function(Y){var ge=Y.x*this.sx+Y.y*this.shx+this.tx,Qe=Y.x*this.shy+Y.y*this.sy+this.ty;return new dl(ge,Qe)},or.prototype.applyToRectangle=function(Y){var ge=this.applyToPoint(Y),Qe=this.applyToPoint(new dl(Y.x+Y.w,Y.y+Y.h));return new gh(ge.x,ge.y,Qe.x-ge.x,Qe.y-ge.y)},or.prototype.clone=function(){var Y=this.sx,ge=this.shy,Qe=this.shx,Je=this.sy,xt=this.tx,Ht=this.ty;return new or(Y,ge,Qe,Je,xt,Ht)},f.Matrix=or;var Jr=f.matrixMult=function(Y,ge){return ge.multiply(Y)},it=new or(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=it;var Ct=function(Y,ge){if(!ye[Y]){var Qe=(ge instanceof Rm?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);ge.id=Qe,ye[Y]=Qe,Ze[Qe]=ge,ft.publish("addPattern",ge)}};f.ShadingPattern=Rm,f.TilingPattern=Rp,f.addShadingPattern=function(Y,ge){return _("addShadingPattern()"),Ct(Y,ge),this},f.beginTilingPattern=function(Y){_("beginTilingPattern()"),ul(Y.boundingBox[0],Y.boundingBox[1],Y.boundingBox[2]-Y.boundingBox[0],Y.boundingBox[3]-Y.boundingBox[1],Y.matrix)},f.endTilingPattern=function(Y,ge){_("endTilingPattern()"),ge.stream=Be[z].join(`
`),Ct(Y,ge),ft.publish("endTilingPattern",ge),mr.pop().restore()};var pr,yr=f.__private__.newObject=function(){var Y=Jt();return me(Y,!0),Y},Jt=f.__private__.newObjectDeferred=function(){return ne++,ie[ne]=function(){return ue},ne},me=function(Y,ge){return ge=typeof ge=="boolean"&&ge,ie[Y]=ue,ge&&J(Y+" 0 obj"),Y},Fe=f.__private__.newAdditionalObject=function(){var Y={objId:Jt(),content:""};return je.push(Y),Y},Ee=Jt(),Te=Jt(),Ie=f.__private__.decodeColorString=function(Y){var ge=Y.split(" ");if(ge.length!==2||ge[1]!=="g"&&ge[1]!=="G")ge.length!==5||ge[4]!=="k"&&ge[4]!=="K"||(ge=[(1-ge[0])*(1-ge[3]),(1-ge[1])*(1-ge[3]),(1-ge[2])*(1-ge[3]),"r"]);else{var Qe=parseFloat(ge[0]);ge=[Qe,Qe,Qe,"r"]}for(var Je="#",xt=0;xt<3;xt++)Je+=("0"+Math.floor(255*parseFloat(ge[xt])).toString(16)).slice(-2);return Je},De=f.__private__.encodeColorString=function(Y){var ge;typeof Y=="string"&&(Y={ch1:Y});var Qe=Y.ch1,Je=Y.ch2,xt=Y.ch3,Ht=Y.ch4,Xt=Y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Qe=="string"&&Qe.charAt(0)!=="#"){var Er=new ute(Qe);if(Er.ok)Qe=Er.toHex();else if(!/^\d*\.?\d*$/.test(Qe))throw new Error('Invalid color "'+Qe+'" passed to jsPDF.encodeColorString.')}if(typeof Qe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Qe)&&(Qe="#"+Qe[1]+Qe[1]+Qe[2]+Qe[2]+Qe[3]+Qe[3]),typeof Qe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Qe)){var Pr=parseInt(Qe.substr(1),16);Qe=Pr>>16&255,Je=Pr>>8&255,xt=255&Pr}if(Je===void 0||Ht===void 0&&Qe===Je&&Je===xt)ge=typeof Qe=="string"?Qe+" "+Xt[0]:Y.precision===2?C(Qe/255)+" "+Xt[0]:B(Qe/255)+" "+Xt[0];else if(Ht===void 0||fn(Ht)==="object"){if(Ht&&!isNaN(Ht.a)&&Ht.a===0)return["1.","1.","1.",Xt[1]].join(" ");ge=typeof Qe=="string"?[Qe,Je,xt,Xt[1]].join(" "):Y.precision===2?[C(Qe/255),C(Je/255),C(xt/255),Xt[1]].join(" "):[B(Qe/255),B(Je/255),B(xt/255),Xt[1]].join(" ")}else ge=typeof Qe=="string"?[Qe,Je,xt,Ht,Xt[2]].join(" "):Y.precision===2?[C(Qe),C(Je),C(xt),C(Ht),Xt[2]].join(" "):[B(Qe),B(Je),B(xt),B(Ht),Xt[2]].join(" ");return ge},pt=f.__private__.getFilters=function(){return o},Et=f.__private__.putStream=function(Y){var ge=(Y=Y||{}).data||"",Qe=Y.filters||pt(),Je=Y.alreadyAppliedFilters||[],xt=Y.addLength1||!1,Ht=ge.length,Xt=Y.objectId,Er=function(ka){return ka};if(u!==null&&Xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Er=Ls.encryptor(Xt,0));var Pr={};Qe===!0&&(Qe=["FlateEncode"]);var Xr=Y.additionalKeyValues||[],ts=(Pr=Sr.API.processDataByFilters!==void 0?Sr.API.processDataByFilters(ge,Qe):{data:ge,reverseChain:[]}).reverseChain+(Array.isArray(Je)?Je.join(" "):Je.toString());if(Pr.data.length!==0&&(Xr.push({key:"Length",value:Pr.data.length}),xt===!0&&Xr.push({key:"Length1",value:Ht})),ts.length!=0)if(ts.split("/").length-1==1)Xr.push({key:"Filter",value:ts});else{Xr.push({key:"Filter",value:"["+ts+"]"});for(var Ts=0;Ts<Xr.length;Ts+=1)if(Xr[Ts].key==="DecodeParms"){for(var Qn=[],ba=0;ba<Pr.reverseChain.split("/").length-1;ba+=1)Qn.push("null");Qn.push(Xr[Ts].value),Xr[Ts].value="["+Qn.join(" ")+"]"}}J("<<");for(var An=0;An<Xr.length;An++)J("/"+Xr[An].key+" "+Xr[An].value);J(">>"),Pr.data.length!==0&&(J("stream"),J(Er(Pr.data)),J("endstream"))},bt=f.__private__.putPage=function(Y){var ge=Y.number,Qe=Y.data,Je=Y.objId,xt=Y.contentsObjId;me(Je,!0),J("<</Type /Page"),J("/Parent "+Y.rootDictionaryObjId+" 0 R"),J("/Resources "+Y.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(I(Y.mediaBox.bottomLeftX))+" "+parseFloat(I(Y.mediaBox.bottomLeftY))+" "+I(Y.mediaBox.topRightX)+" "+I(Y.mediaBox.topRightY)+"]"),Y.cropBox!==null&&J("/CropBox ["+I(Y.cropBox.bottomLeftX)+" "+I(Y.cropBox.bottomLeftY)+" "+I(Y.cropBox.topRightX)+" "+I(Y.cropBox.topRightY)+"]"),Y.bleedBox!==null&&J("/BleedBox ["+I(Y.bleedBox.bottomLeftX)+" "+I(Y.bleedBox.bottomLeftY)+" "+I(Y.bleedBox.topRightX)+" "+I(Y.bleedBox.topRightY)+"]"),Y.trimBox!==null&&J("/TrimBox ["+I(Y.trimBox.bottomLeftX)+" "+I(Y.trimBox.bottomLeftY)+" "+I(Y.trimBox.topRightX)+" "+I(Y.trimBox.topRightY)+"]"),Y.artBox!==null&&J("/ArtBox ["+I(Y.artBox.bottomLeftX)+" "+I(Y.artBox.bottomLeftY)+" "+I(Y.artBox.topRightX)+" "+I(Y.artBox.topRightY)+"]"),typeof Y.userUnit=="number"&&Y.userUnit!==1&&J("/UserUnit "+Y.userUnit),ft.publish("putPage",{objId:Je,pageContext:ct[ge],pageNumber:ge,page:Qe}),J("/Contents "+xt+" 0 R"),J(">>"),J("endobj");var Ht=Qe.join(`
`);return j===v&&(Ht+=`
Q`),me(xt,!0),Et({data:Ht,filters:pt(),objectId:xt}),J("endobj"),Je},vt=f.__private__.putPages=function(){var Y,ge,Qe=[];for(Y=1;Y<=Ge;Y++)ct[Y].objId=Jt(),ct[Y].contentsObjId=Jt();for(Y=1;Y<=Ge;Y++)Qe.push(bt({number:Y,data:Be[Y],objId:ct[Y].objId,contentsObjId:ct[Y].contentsObjId,mediaBox:ct[Y].mediaBox,cropBox:ct[Y].cropBox,bleedBox:ct[Y].bleedBox,trimBox:ct[Y].trimBox,artBox:ct[Y].artBox,userUnit:ct[Y].userUnit,rootDictionaryObjId:Ee,resourceDictionaryObjId:Te}));me(Ee,!0),J("<</Type /Pages");var Je="/Kids [";for(ge=0;ge<Ge;ge++)Je+=Qe[ge]+" 0 R ";J(Je+"]"),J("/Count "+Ge),J(">>"),J("endobj"),ft.publish("postPutPages")},Nt=function(Y){ft.publish("putFont",{font:Y,out:J,newObject:yr,putStream:Et}),Y.isAlreadyPutted!==!0&&(Y.objectNumber=yr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+zA(Y.postScriptName)),J("/Subtype /Type1"),typeof Y.encoding=="string"&&J("/Encoding /"+Y.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},pe=function(Y){Y.objectNumber=yr();var ge=[];ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Form"}),ge.push({key:"BBox",value:"["+[I(Y.x),I(Y.y),I(Y.x+Y.width),I(Y.y+Y.height)].join(" ")+"]"}),ge.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"});var Qe=Y.pages[1].join(`
`);Et({data:Qe,additionalKeyValues:ge,objectId:Y.objectNumber}),J("endobj")},ze=function(Y,ge){ge||(ge=21);var Qe=yr(),Je=(function(Xt,Er){var Pr,Xr=[],ts=1/(Er-1);for(Pr=0;Pr<1;Pr+=ts)Xr.push(Pr);if(Xr.push(1),Xt[0].offset!=0){var Ts={offset:0,color:Xt[0].color};Xt.unshift(Ts)}if(Xt[Xt.length-1].offset!=1){var Qn={offset:1,color:Xt[Xt.length-1].color};Xt.push(Qn)}for(var ba="",An=0,ka=0;ka<Xr.length;ka++){for(Pr=Xr[ka];Pr>Xt[An+1].offset;)An++;var la=Xt[An].offset,ti=(Pr-la)/(Xt[An+1].offset-la),fd=Xt[An].color,$l=Xt[An+1].color;ba+=W(Math.round((1-ti)*fd[0]+ti*$l[0]).toString(16))+W(Math.round((1-ti)*fd[1]+ti*$l[1]).toString(16))+W(Math.round((1-ti)*fd[2]+ti*$l[2]).toString(16))}return ba.trim()})(Y.colors,ge),xt=[];xt.push({key:"FunctionType",value:"0"}),xt.push({key:"Domain",value:"[0.0 1.0]"}),xt.push({key:"Size",value:"["+ge+"]"}),xt.push({key:"BitsPerSample",value:"8"}),xt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Et({data:Je,additionalKeyValues:xt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Qe}),J("endobj"),Y.objectNumber=yr(),J("<< /ShadingType "+Y.type),J("/ColorSpace /DeviceRGB");var Ht="/Coords ["+I(parseFloat(Y.coords[0]))+" "+I(parseFloat(Y.coords[1]))+" ";Y.type===2?Ht+=I(parseFloat(Y.coords[2]))+" "+I(parseFloat(Y.coords[3])):Ht+=I(parseFloat(Y.coords[2]))+" "+I(parseFloat(Y.coords[3]))+" "+I(parseFloat(Y.coords[4]))+" "+I(parseFloat(Y.coords[5])),J(Ht+="]"),Y.matrix&&J("/Matrix ["+Y.matrix.toString()+"]"),J("/Function "+Qe+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Ye=function(Y,ge){var Qe=Jt(),Je=yr();ge.push({resourcesOid:Qe,objectOid:Je}),Y.objectNumber=Je;var xt=[];xt.push({key:"Type",value:"/Pattern"}),xt.push({key:"PatternType",value:"1"}),xt.push({key:"PaintType",value:"1"}),xt.push({key:"TilingType",value:"1"}),xt.push({key:"BBox",value:"["+Y.boundingBox.map(I).join(" ")+"]"}),xt.push({key:"XStep",value:I(Y.xStep)}),xt.push({key:"YStep",value:I(Y.yStep)}),xt.push({key:"Resources",value:Qe+" 0 R"}),Y.matrix&&xt.push({key:"Matrix",value:"["+Y.matrix.toString()+"]"}),Et({data:Y.stream,additionalKeyValues:xt,objectId:Y.objectNumber}),J("endobj")},le=function(Y){for(var ge in Y.objectNumber=yr(),J("<<"),Y)switch(ge){case"opacity":J("/ca "+C(Y[ge]));break;case"stroke-opacity":J("/CA "+C(Y[ge]))}J(">>"),J("endobj")},Ne=function(Y){me(Y.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ge in J("/Font <<"),Yt)Yt.hasOwnProperty(ge)&&(h===!1||h===!0&&m.hasOwnProperty(ge))&&J("/"+ge+" "+Yt[ge].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(Ze).length>0){for(var ge in J("/Shading <<"),Ze)Ze.hasOwnProperty(ge)&&Ze[ge]instanceof Rm&&Ze[ge].objectNumber>=0&&J("/"+ge+" "+Ze[ge].objectNumber+" 0 R");ft.publish("putShadingPatternDict"),J(">>")}})(),(function(ge){if(Object.keys(Ze).length>0){for(var Qe in J("/Pattern <<"),Ze)Ze.hasOwnProperty(Qe)&&Ze[Qe]instanceof f.TilingPattern&&Ze[Qe].objectNumber>=0&&Ze[Qe].objectNumber<ge&&J("/"+Qe+" "+Ze[Qe].objectNumber+" 0 R");ft.publish("putTilingPatternDict"),J(">>")}})(Y.objectOid),(function(){if(Object.keys(fe).length>0){var ge;for(ge in J("/ExtGState <<"),fe)fe.hasOwnProperty(ge)&&fe[ge].objectNumber>=0&&J("/"+ge+" "+fe[ge].objectNumber+" 0 R");ft.publish("putGStateDict"),J(">>")}})(),(function(){for(var ge in J("/XObject <<"),Wt)Wt.hasOwnProperty(ge)&&Wt[ge].objectNumber>=0&&J("/"+ge+" "+Wt[ge].objectNumber+" 0 R");ft.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},de=function(Y){kt[Y.fontName]=kt[Y.fontName]||{},kt[Y.fontName][Y.fontStyle]=Y.id},Ue=function(Y,ge,Qe,Je,xt){var Ht={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:Y,fontName:ge,fontStyle:Qe,encoding:Je,isStandardFont:xt||!1,metadata:{}};return ft.publish("addFont",{font:Ht,instance:this}),Yt[Ht.id]=Ht,de(Ht),Ht.id},qe=f.__private__.pdfEscape=f.pdfEscape=function(Y,ge){return(function(Qe,Je){var xt,Ht,Xt,Er,Pr,Xr,ts,Ts,Qn;if(Xt=(Je=Je||{}).sourceEncoding||"Unicode",Pr=Je.outputEncoding,(Je.autoencode||Pr)&&Yt[At].metadata&&Yt[At].metadata[Xt]&&Yt[At].metadata[Xt].encoding&&(Er=Yt[At].metadata[Xt].encoding,!Pr&&Yt[At].encoding&&(Pr=Yt[At].encoding),!Pr&&Er.codePages&&(Pr=Er.codePages[0]),typeof Pr=="string"&&(Pr=Er[Pr]),Pr)){for(ts=!1,Xr=[],xt=0,Ht=Qe.length;xt<Ht;xt++)(Ts=Pr[Qe.charCodeAt(xt)])?Xr.push(String.fromCharCode(Ts)):Xr.push(Qe[xt]),Xr[xt].charCodeAt(0)>>8&&(ts=!0);Qe=Xr.join("")}for(xt=Qe.length;ts===void 0&&xt!==0;)Qe.charCodeAt(xt-1)>>8&&(ts=!0),xt--;if(!ts)return Qe;for(Xr=Je.noBOM?[]:[254,255],xt=0,Ht=Qe.length;xt<Ht;xt++){if((Qn=(Ts=Qe.charCodeAt(xt))>>8)>>8)throw new Error("Character at position "+xt+" of string '"+Qe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xr.push(Qn),Xr.push(Ts-(Qn<<8))}return String.fromCharCode.apply(void 0,Xr)})(Y,ge).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dt=f.__private__.beginPage=function(Y){Be[++Ge]=[],ct[Ge]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Y[0]),topRightY:Number(Y[1])}},Ot(Ge),se(Be[z])},Gt=function(Y,ge){var Qe,Je,xt;switch(s=ge||s,typeof Y=="string"&&(Qe=b(Y.toLowerCase()),Array.isArray(Qe)&&(Je=Qe[0],xt=Qe[1])),Array.isArray(Y)&&(Je=Y[0]*Tt,xt=Y[1]*Tt),isNaN(Je)&&(Je=a[0],xt=a[1]),(Je>14400||xt>14400)&&(Sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Je=Math.min(14400,Je),xt=Math.min(14400,xt)),a=[Je,xt],s.substr(0,1)){case"l":xt>Je&&(a=[xt,Je]);break;case"p":Je>xt&&(a=[xt,Je])}dt(a),Vr(cl),J(xh),C0!==0&&J(C0+" J"),_0!==0&&J(_0+" j"),ft.publish("addPage",{pageNumber:Ge})},Mt=function(Y){Y>0&&Y<=Ge&&(Be.splice(Y,1),ct.splice(Y,1),Ge--,z>Ge&&(z=Ge),this.setPage(z))},Ot=function(Y){Y>0&&Y<=Ge&&(z=Y)},qt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Be.length-1},Kt=function(Y,ge,Qe){var Je,xt=void 0;return Qe=Qe||{},Y=Y!==void 0?Y:Yt[At].fontName,ge=ge!==void 0?ge:Yt[At].fontStyle,Je=Y.toLowerCase(),kt[Je]!==void 0&&kt[Je][ge]!==void 0?xt=kt[Je][ge]:kt[Y]!==void 0&&kt[Y][ge]!==void 0?xt=kt[Y][ge]:Qe.disableWarning===!1&&Sn.warn("Unable to look up font label for font '"+Y+"', '"+ge+"'. Refer to getFontList() for available fonts."),xt||Qe.noFallback||(xt=kt.times[ge])==null&&(xt=kt.times.normal),xt},rr=f.__private__.putInfo=function(){var Y=yr(),ge=function(Je){return Je};for(var Qe in u!==null&&(ge=Ls.encryptor(Y,0)),J("<<"),J("/Producer ("+qe(ge("jsPDF "+Sr.version))+")"),mt)mt.hasOwnProperty(Qe)&&mt[Qe]&&J("/"+Qe.substr(0,1).toUpperCase()+Qe.substr(1)+" ("+qe(ge(mt[Qe]))+")");J("/CreationDate ("+qe(ge(D))+")"),J(">>"),J("endobj")},dr=f.__private__.putCatalog=function(Y){var ge=(Y=Y||{}).rootDictionaryObjId||Ee;switch(yr(),J("<<"),J("/Type /Catalog"),J("/Pages "+ge+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Qe=""+Xe;Qe.substr(Qe.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&J("/OpenAction [3 0 R /XYZ null null "+C(Xe)+"]")}switch(et||(et="continuous"),et){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}_e&&J("/PageMode /"+_e),ft.publish("putCatalog"),J(">>"),J("endobj")},Kr=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ne+1)),J("/Root "+ne+" 0 R"),J("/Info "+(ne-1)+" 0 R"),u!==null&&J("/Encrypt "+Ls.oid+" 0 R"),J("/ID [ <"+G+"> <"+G+"> ]"),J(">>")},cr=f.__private__.putHeader=function(){J("%PDF-"+x),J("%")},Cs=f.__private__.putXRef=function(){var Y="0000000000";J("xref"),J("0 "+(ne+1)),J("0000000000 65535 f ");for(var ge=1;ge<=ne;ge++)typeof ie[ge]=="function"?J((Y+ie[ge]()).slice(-10)+" 00000 n "):ie[ge]!==void 0?J((Y+ie[ge]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Ur=f.__private__.buildDocument=function(){var Y;ne=0,ue=0,be=[],ie=[],je=[],Ee=Jt(),Te=Jt(),se(be),ft.publish("buildDocument"),cr(),vt(),(function(){ft.publish("putAdditionalObjects");for(var Qe=0;Qe<je.length;Qe++){var Je=je[Qe];me(Je.objId,!0),J(Je.content),J("endobj")}ft.publish("postPutAdditionalObjects")})(),Y=[],(function(){for(var Qe in Yt)Yt.hasOwnProperty(Qe)&&(h===!1||h===!0&&m.hasOwnProperty(Qe))&&Nt(Yt[Qe])})(),(function(){var Qe;for(Qe in fe)fe.hasOwnProperty(Qe)&&le(fe[Qe])})(),(function(){for(var Qe in Wt)Wt.hasOwnProperty(Qe)&&pe(Wt[Qe])})(),(function(Qe){var Je;for(Je in Ze)Ze.hasOwnProperty(Je)&&(Ze[Je]instanceof Rm?ze(Ze[Je]):Ze[Je]instanceof Rp&&Ye(Ze[Je],Qe))})(Y),ft.publish("putResources"),Y.forEach(Ne),Ne({resourcesOid:Te,objectOid:Number.MAX_SAFE_INTEGER}),ft.publish("postPutResources"),u!==null&&(Ls.oid=yr(),J("<<"),J("/Filter /Standard"),J("/V "+Ls.v),J("/R "+Ls.r),J("/U <"+Ls.toHexString(Ls.U)+">"),J("/O <"+Ls.toHexString(Ls.O)+">"),J("/P "+Ls.P),J(">>"),J("endobj")),rr(),dr();var ge=ue;return Cs(),Kr(),J("startxref"),J(""+ge),J("%%EOF"),se(Be[z]),be.join(`
`)},en=f.__private__.getBlob=function(Y){return new Blob([xe(Y)],{type:"application/pdf"})},Aa=f.output=f.__private__.output=(pr=function(Y,ge){switch(typeof(ge=ge||{})=="string"?ge={filename:ge}:ge.filename=ge.filename||"generated.pdf",Y){case void 0:return Ur();case"save":f.save(ge.filename);break;case"arraybuffer":return xe(Ur());case"blob":return en(Ur());case"bloburi":case"bloburl":if(es.URL!==void 0&&typeof es.URL.createObjectURL=="function")return es.URL&&es.URL.createObjectURL(en(Ur()))||void 0;Sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Qe="",Je=Ur();try{Qe=dG(Je)}catch{Qe=dG(unescape(encodeURIComponent(Je)))}return"data:application/pdf;filename="+ge.filename+";base64,"+Qe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(es)==="[object Window]"){var xt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ge.pdfObjectUrl&&(xt=ge.pdfObjectUrl,Ht="");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xt+'"'+Ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ge)+");<\/script></body></html>",Er=es.open();return Er!==null&&Er.document.write(Xt),Er}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(es)==="[object Window]"){var Pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ge.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ge.filename+'" width="500px" height="400px" /></body></html>',Xr=es.open();if(Xr!==null){Xr.document.write(Pr);var ts=this;Xr.document.documentElement.querySelector("#pdfViewer").onload=function(){Xr.document.title=ge.filename,Xr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ts.output("bloburl"))}}return Xr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(es)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ts='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ge)+'"></iframe></body></html>',Qn=es.open();if(Qn!==null&&(Qn.document.write(Ts),Qn.document.title=ge.filename),Qn||typeof safari>"u")return Qn;break;case"datauri":case"dataurl":return es.document.location.href=this.output("datauristring",ge);default:return null}},pr.foo=function(){try{return pr.apply(this,arguments)}catch(Qe){var Y=Qe.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var ge="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+Qe.message;if(!es.console)throw new Error(ge);es.console.error(ge,Qe),es.alert&&alert(ge)}},pr.foo.bar=pr,pr.foo),Ks=function(Y){return Array.isArray(Ut)===!0&&Ut.indexOf(Y)>-1};switch(n){case"pt":Tt=1;break;case"mm":Tt=72/25.4;break;case"cm":Tt=72/2.54;break;case"in":Tt=72;break;case"px":Tt=Ks("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tt=12;break;case"ex":Tt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Tt=n}var Ls=null;Z(),Q();var xs=f.__private__.getPageInfo=f.getPageInfo=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[Y].objId,pageNumber:Y,pageContext:ct[Y]}},ga=f.__private__.getPageInfoByObjId=function(Y){if(isNaN(Y)||Y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ge in ct)if(ct[ge].objId===Y)break;return xs(ge)},Tn=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ct[z].objId,pageNumber:z,pageContext:ct[z]}};f.addPage=function(){return Gt.apply(this,arguments),this},f.setPage=function(){return Ot.apply(this,arguments),se.call(this,Be[z]),this},f.insertPage=function(Y){return this.addPage(),this.movePage(z,Y),this},f.movePage=function(Y,ge){var Qe,Je;if(Y>ge){Qe=Be[Y],Je=ct[Y];for(var xt=Y;xt>ge;xt--)Be[xt]=Be[xt-1],ct[xt]=ct[xt-1];Be[ge]=Qe,ct[ge]=Je,this.setPage(ge)}else if(Y<ge){Qe=Be[Y],Je=ct[Y];for(var Ht=Y;Ht<ge;Ht++)Be[Ht]=Be[Ht+1],ct[Ht]=ct[Ht+1];Be[ge]=Qe,ct[ge]=Je,this.setPage(ge)}return this},f.deletePage=function(){return Mt.apply(this,arguments),this},f.__private__.text=f.text=function(Y,ge,Qe,Je,xt){var Ht,Xt,Er,Pr,Xr,ts,Ts,Qn,ba,An=(Je=Je||{}).scope||this;if(typeof Y=="number"&&typeof ge=="number"&&(typeof Qe=="string"||Array.isArray(Qe))){var ka=Qe;Qe=ge,ge=Y,Y=ka}if(arguments[3]instanceof or==0?(Er=arguments[4],Pr=arguments[5],fn(Ts=arguments[3])==="object"&&Ts!==null||(typeof Er=="string"&&(Pr=Er,Er=null),typeof Ts=="string"&&(Pr=Ts,Ts=null),typeof Ts=="number"&&(Er=Ts,Ts=null),Je={flags:Ts,angle:Er,align:Pr})):(_("The transform parameter of text() with a Matrix value"),ba=xt),isNaN(ge)||isNaN(Qe)||Y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Y.length===0)return An;var la,ti="",fd=typeof Je.lineHeightFactor=="number"?Je.lineHeightFactor:no,$l=An.internal.scaleFactor;function md(Ds){return Ds=Ds.split("	").join(Array(Je.TabLen||9).join(" ")),qe(Ds,Ts)}function vh(Ds){for(var tn,Xn=Ds.concat(),ya=[],Vl=Xn.length;Vl--;)typeof(tn=Xn.shift())=="string"?ya.push(tn):Array.isArray(Ds)&&(tn.length===1||tn[1]===void 0&&tn[2]===void 0)?ya.push(tn[0]):ya.push([tn[0],tn[1],tn[2]]);return ya}function qf(Ds,tn){var Xn;if(typeof Ds=="string")Xn=tn(Ds)[0];else if(Array.isArray(Ds)){for(var ya,Vl,B0=Ds.concat(),Zf=[],bd=B0.length;bd--;)typeof(ya=B0.shift())=="string"?Zf.push(tn(ya)[0]):Array.isArray(ya)&&typeof ya[0]=="string"&&(Vl=tn(ya[0],ya[1],ya[2]),Zf.push([Vl[0],Vl[1],Vl[2]]));Xn=Zf}return Xn}var du=!1,wh=!0;if(typeof Y=="string")du=!0;else if(Array.isArray(Y)){var uu=Y.concat();Xt=[];for(var hu,ri=uu.length;ri--;)(typeof(hu=uu.shift())!="string"||Array.isArray(hu)&&typeof hu[0]!="string")&&(wh=!1);du=wh}if(du===!1)throw new Error('Type of text must be string or Array. "'+Y+'" is not recognized.');typeof Y=="string"&&(Y=Y.match(/[\r?\n]/)?Y.split(/\r\n|\r|\n/g):[Y]);var jh=$e/An.internal.scaleFactor,Nh=jh*(fd-1);switch(Je.baseline){case"bottom":Qe-=Nh;break;case"top":Qe+=jh-Nh;break;case"hanging":Qe+=jh-2*Nh;break;case"middle":Qe+=jh/2-Nh}if((ts=Je.maxWidth||0)>0&&(typeof Y=="string"?Y=An.splitTextToSize(Y,ts):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(Ds,tn){return Ds.concat(An.splitTextToSize(tn,ts))},[]))),Ht={text:Y,x:ge,y:Qe,options:Je,mutex:{pdfEscape:qe,activeFontKey:At,fonts:Yt,activeFontSize:$e}},ft.publish("preProcessText",Ht),Y=Ht.text,Er=(Je=Ht.options).angle,ba instanceof or==0&&Er&&typeof Er=="number"){Er*=Math.PI/180,Je.rotationDirection===0&&(Er=-Er),j===v&&(Er=-Er);var k0=Math.cos(Er),T0=Math.sin(Er);ba=new or(k0,T0,-T0,k0,0,0)}else Er&&Er instanceof or&&(ba=Er);j!==v||ba||(ba=it),(Xr=Je.charSpace||ao)!==void 0&&(ti+=I(P(Xr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qn=Je.horizontalScale)!==void 0&&(ti+=I(100*Qn)+` Tz
`),Je.lang;var Ri=-1,zl=Je.renderingMode!==void 0?Je.renderingMode:Je.stroke,Cc=An.internal.getCurrentPageInfo().pageContext;switch(zl){case 0:case!1:case"fill":Ri=0;break;case 1:case!0:case"stroke":Ri=1;break;case 2:case"fillThenStroke":Ri=2;break;case 3:case"invisible":Ri=3;break;case 4:case"fillAndAddForClipping":Ri=4;break;case 5:case"strokeAndAddPathForClipping":Ri=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ri=6;break;case 7:case"addToPathForClipping":Ri=7}var Vx=Cc.usedRenderingMode!==void 0?Cc.usedRenderingMode:-1;Ri!==-1?ti+=Ri+` Tr
`:Vx!==-1&&(ti+=`0 Tr
`),Ri!==-1&&(Cc.usedRenderingMode=Ri),Pr=Je.align||"left";var $o,fu=$e*fd,Kf=An.internal.pageSize.getWidth(),Xf=Yt[At];Xr=Je.charSpace||ao,ts=Je.maxWidth||0,Ts=Object.assign({autoencode:!0,noBOM:!0},Je.flags);var pd=[],ml=function(Ds){return An.getStringUnitWidth(Ds,{font:Xf,charSpace:Xr,fontSize:$e,doKerning:!1})*$e/$l};if(Object.prototype.toString.call(Y)==="[object Array]"){var zo;Xt=vh(Y),Pr!=="left"&&($o=Xt.map(ml));var Go,mu=0;if(Pr==="right"){ge-=$o[0],Y=[],ri=Xt.length;for(var _c=0;_c<ri;_c++)_c===0?(Go=Qo(ge),zo=ud(Qe)):(Go=P(mu-$o[_c]),zo=-fu),Y.push([Xt[_c],Go,zo]),mu=$o[_c]}else if(Pr==="center"){ge-=$o[0]/2,Y=[],ri=Xt.length;for(var xd=0;xd<ri;xd++)xd===0?(Go=Qo(ge),zo=ud(Qe)):(Go=P((mu-$o[xd])/2),zo=-fu),Y.push([Xt[xd],Go,zo]),mu=$o[xd]}else if(Pr==="left"){Y=[],ri=Xt.length;for(var Ad=0;Ad<ri;Ad++)Y.push(Xt[Ad])}else if(Pr==="justify"&&Xf.encoding==="Identity-H"){Y=[],ri=Xt.length,ts=ts!==0?ts:Kf;for(var Ec=0,ca=0;ca<ri;ca++)if(zo=ca===0?ud(Qe):-fu,Go=ca===0?Qo(ge):Ec,ca<ri-1){var Sh=P((ts-$o[ca])/(Xt[ca].split(" ").length-1)),kc=Xt[ca].split(" ");Y.push([kc[0]+" ",Go,zo]),Ec=0;for(var Gl=1;Gl<kc.length;Gl++){var Ch=(ml(kc[Gl-1]+" "+kc[Gl])-ml(kc[Gl]))*$l+Sh;Gl==kc.length-1?Y.push([kc[Gl],Ch,0]):Y.push([kc[Gl]+" ",Ch,0]),Ec-=Ch}}else Y.push([Xt[ca],Go,zo]);Y.push(["",Ec,0])}else{if(Pr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Y=[],ri=Xt.length,ts=ts!==0?ts:Kf,ca=0;ca<ri;ca++){zo=ca===0?ud(Qe):-fu,Go=ca===0?Qo(ge):0;var _h=Xt[ca].split(" ").length-1,Yf=_h>0?(ts-$o[ca])/_h:0;ca<ri-1?pd.push(I(P(Yf))):pd.push(0),Y.push([Xt[ca],Go,zo])}}}(typeof Je.R2L=="boolean"?Je.R2L:ce)===!0&&(Y=qf(Y,function(Ds,tn,Xn){return[Ds.split("").reverse().join(""),tn,Xn]})),Ht={text:Y,x:ge,y:Qe,options:Je,mutex:{pdfEscape:qe,activeFontKey:At,fonts:Yt,activeFontSize:$e}},ft.publish("postProcessText",Ht),Y=Ht.text,la=Ht.mutex.isHex||!1;var Jf=Yt[At].encoding;Jf!=="WinAnsiEncoding"&&Jf!=="StandardEncoding"||(Y=qf(Y,function(Ds,tn,Xn){return[md(Ds),tn,Xn]})),Xt=vh(Y),Y=[];for(var gd,pu,xu,Eh=Array.isArray(Xt[0])?1:0,Au="",kh=function(Ds,tn,Xn){var ya="";return Xn instanceof or?(Xn=typeof Je.angle=="number"?Jr(Xn,new or(1,0,0,1,Ds,tn)):Jr(new or(1,0,0,1,Ds,tn),Xn),j===v&&(Xn=Jr(new or(1,0,0,-1,0,0),Xn)),ya=Xn.join(" ")+` Tm
`):ya=I(Ds)+" "+I(tn)+` Td
`,ya},Kn=0;Kn<Xt.length;Kn++){switch(Au="",Eh){case 1:xu=(la?"<":"(")+Xt[Kn][0]+(la?">":")"),gd=parseFloat(Xt[Kn][1]),pu=parseFloat(Xt[Kn][2]);break;case 0:xu=(la?"<":"(")+Xt[Kn]+(la?">":")"),gd=Qo(ge),pu=ud(Qe)}pd!==void 0&&pd[Kn]!==void 0&&(Au=pd[Kn]+` Tw
`),Kn===0?Y.push(Au+kh(gd,pu,ba)+xu):Eh===0?Y.push(Au+xu):Eh===1&&Y.push(Au+kh(gd,pu,ba)+xu)}Y=Eh===0?Y.join(` Tj
T* `):Y.join(` Tj
`),Y+=` Tj
`;var io=`BT
/`;return io+=At+" "+$e+` Tf
`,io+=I($e*fd)+` TL
`,io+=Ql+`
`,io+=ti,io+=Y,J(io+="ET"),m[At]=!0,An};var dn=f.__private__.clip=f.clip=function(Y){return J(Y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return dn("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Xs=f.__private__.isValidStyle=function(Y){var ge=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Y)!==-1&&(ge=!0),ge};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(Y){return Xs(Y)&&(d=Y),this};var ro=f.__private__.getStyle=f.getStyle=function(Y){var ge=d;switch(Y){case"D":case"S":ge="S";break;case"F":ge="f";break;case"FD":case"DF":ge="B";break;case"f":case"f*":case"B":case"B*":ge=Y}return ge},ss=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(Y){return Di("f",Y),this},f.fillEvenOdd=function(Y){return Di("f*",Y),this},f.fillStroke=function(Y){return Di("B",Y),this},f.fillStrokeEvenOdd=function(Y){return Di("B*",Y),this};var Di=function(Y,ge){fn(ge)==="object"?Qx(ge,Y):J(Y)},lu=function(Y){Y===null||j===v&&Y===void 0||(Y=ro(Y),J(Y))};function N0(Y,ge,Qe,Je,xt){var Ht=new Rp(ge||this.boundingBox,Qe||this.xStep,Je||this.yStep,this.gState,xt||this.matrix);Ht.stream=this.stream;var Xt=Y+"$$"+this.cloneIndex+++"$$";return Ct(Xt,Ht),Ht}var Qx=function(Y,ge){var Qe=ye[Y.key],Je=Ze[Qe];if(Je instanceof Rm)J("q"),J($x(ge)),Je.gState&&f.setGState(Je.gState),J(Y.matrix.toString()+" cm"),J("/"+Qe+" sh"),J("Q");else if(Je instanceof Rp){var xt=new or(1,0,0,-1,0,fl());Y.matrix&&(xt=xt.multiply(Y.matrix||it),Qe=N0.call(Je,Y.key,Y.boundingBox,Y.xStep,Y.yStep,xt).id),J("q"),J("/Pattern cs"),J("/"+Qe+" scn"),Je.gState&&f.setGState(Je.gState),J(ge),J("Q")}},$x=function(Y){switch(Y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qf=f.moveTo=function(Y,ge){return J(I(P(Y))+" "+I(H(ge))+" m"),this},$f=f.lineTo=function(Y,ge){return J(I(P(Y))+" "+I(H(ge))+" l"),this},so=f.curveTo=function(Y,ge,Qe,Je,xt,Ht){return J([I(P(Y)),I(H(ge)),I(P(Qe)),I(H(Je)),I(P(xt)),I(H(Ht)),"c"].join(" ")),this};f.__private__.line=f.line=function(Y,ge,Qe,Je,xt){if(isNaN(Y)||isNaN(ge)||isNaN(Qe)||isNaN(Je)||!Xs(xt))throw new Error("Invalid arguments passed to jsPDF.line");return j===w?this.lines([[Qe-Y,Je-ge]],Y,ge,[1,1],xt||"S"):this.lines([[Qe-Y,Je-ge]],Y,ge,[1,1]).stroke()},f.__private__.lines=f.lines=function(Y,ge,Qe,Je,xt,Ht){var Xt,Er,Pr,Xr,ts,Ts,Qn,ba,An,ka,la,ti;if(typeof Y=="number"&&(ti=Qe,Qe=ge,ge=Y,Y=ti),Je=Je||[1,1],Ht=Ht||!1,isNaN(ge)||isNaN(Qe)||!Array.isArray(Y)||!Array.isArray(Je)||!Xs(xt)||typeof Ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qf(ge,Qe),Xt=Je[0],Er=Je[1],Xr=Y.length,ka=ge,la=Qe,Pr=0;Pr<Xr;Pr++)(ts=Y[Pr]).length===2?(ka=ts[0]*Xt+ka,la=ts[1]*Er+la,$f(ka,la)):(Ts=ts[0]*Xt+ka,Qn=ts[1]*Er+la,ba=ts[2]*Xt+ka,An=ts[3]*Er+la,ka=ts[4]*Xt+ka,la=ts[5]*Er+la,so(Ts,Qn,ba,An,ka,la));return Ht&&ss(),lu(xt),this},f.path=function(Y){for(var ge=0;ge<Y.length;ge++){var Qe=Y[ge],Je=Qe.c;switch(Qe.op){case"m":Qf(Je[0],Je[1]);break;case"l":$f(Je[0],Je[1]);break;case"c":so.apply(this,Je);break;case"h":ss()}}return this},f.__private__.rect=f.rect=function(Y,ge,Qe,Je,xt){if(isNaN(Y)||isNaN(ge)||isNaN(Qe)||isNaN(Je)||!Xs(xt))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w&&(Je=-Je),J([I(P(Y)),I(H(ge)),I(P(Qe)),I(P(Je)),"re"].join(" ")),lu(xt),this},f.__private__.triangle=f.triangle=function(Y,ge,Qe,Je,xt,Ht,Xt){if(isNaN(Y)||isNaN(ge)||isNaN(Qe)||isNaN(Je)||isNaN(xt)||isNaN(Ht)||!Xs(Xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Qe-Y,Je-ge],[xt-Qe,Ht-Je],[Y-xt,ge-Ht]],Y,ge,[1,1],Xt,!0),this},f.__private__.roundedRect=f.roundedRect=function(Y,ge,Qe,Je,xt,Ht,Xt){if(isNaN(Y)||isNaN(ge)||isNaN(Qe)||isNaN(Je)||isNaN(xt)||isNaN(Ht)||!Xs(Xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Er=4/3*(Math.SQRT2-1);return xt=Math.min(xt,.5*Qe),Ht=Math.min(Ht,.5*Je),this.lines([[Qe-2*xt,0],[xt*Er,0,xt,Ht-Ht*Er,xt,Ht],[0,Je-2*Ht],[0,Ht*Er,-xt*Er,Ht,-xt,Ht],[2*xt-Qe,0],[-xt*Er,0,-xt,-Ht*Er,-xt,-Ht],[0,2*Ht-Je],[0,-Ht*Er,xt*Er,-Ht,xt,-Ht]],Y+xt,ge,[1,1],Xt,!0),this},f.__private__.ellipse=f.ellipse=function(Y,ge,Qe,Je,xt){if(isNaN(Y)||isNaN(ge)||isNaN(Qe)||isNaN(Je)||!Xs(xt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ht=4/3*(Math.SQRT2-1)*Qe,Xt=4/3*(Math.SQRT2-1)*Je;return Qf(Y+Qe,ge),so(Y+Qe,ge-Xt,Y+Ht,ge-Je,Y,ge-Je),so(Y-Ht,ge-Je,Y-Qe,ge-Xt,Y-Qe,ge),so(Y-Qe,ge+Xt,Y-Ht,ge+Je,Y,ge+Je),so(Y+Ht,ge+Je,Y+Qe,ge+Xt,Y+Qe,ge),lu(xt),this},f.__private__.circle=f.circle=function(Y,ge,Qe,Je){if(isNaN(Y)||isNaN(ge)||isNaN(Qe)||!Xs(Je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Y,ge,Qe,Qe,Je)},f.setFont=function(Y,ge,Qe){return Qe&&(ge=T(ge,Qe)),At=Kt(Y,ge,{disableWarning:!1}),this};var jc=f.__private__.getFont=f.getFont=function(){return Yt[Kt.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var Y,ge,Qe={};for(Y in kt)if(kt.hasOwnProperty(Y))for(ge in Qe[Y]=[],kt[Y])kt[Y].hasOwnProperty(ge)&&Qe[Y].push(ge);return Qe},f.addFont=function(Y,ge,Qe,Je,xt){var Ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ht.indexOf(arguments[3])!==-1?xt=arguments[3]:arguments[3]&&Ht.indexOf(arguments[3])==-1&&(Qe=T(Qe,Je)),Ue.call(this,Y,ge,Qe,xt=xt||"Identity-H")};var no,cl=t.lineWidth||.200025,ph=f.__private__.getLineWidth=f.getLineWidth=function(){return cl},Vr=f.__private__.setLineWidth=f.setLineWidth=function(Y){return cl=Y,J(I(P(Y))+" w"),this};f.__private__.setLineDash=Sr.API.setLineDash=Sr.API.setLineDashPattern=function(Y,ge){if(Y=Y||[],ge=ge||0,isNaN(ge)||!Array.isArray(Y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Y=Y.map(function(Qe){return I(P(Qe))}).join(" "),ge=I(P(ge)),J("["+Y+"] "+ge+" d"),this};var Nc=f.__private__.getLineHeight=f.getLineHeight=function(){return $e*no};f.__private__.getLineHeight=f.getLineHeight=function(){return $e*no};var Ob=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(Y){return typeof(Y=Y||1.15)=="number"&&(no=Y),this},zx=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return no};Ob(t.lineHeight);var Qo=f.__private__.getHorizontalCoordinate=function(Y){return P(Y)},ud=f.__private__.getVerticalCoordinate=function(Y){return j===v?Y:ct[z].mediaBox.topRightY-ct[z].mediaBox.bottomLeftY-P(Y)},Gx=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(Y){return I(Qo(Y))},zf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(Y){return I(ud(Y))},xh=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ie(xh)},f.__private__.setStrokeColor=f.setDrawColor=function(Y,ge,Qe,Je){return xh=De({ch1:Y,ch2:ge,ch3:Qe,ch4:Je,pdfColorType:"draw",precision:2}),J(xh),this};var S0=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ie(S0)},f.__private__.setFillColor=f.setFillColor=function(Y,ge,Qe,Je){return S0=De({ch1:Y,ch2:ge,ch3:Qe,ch4:Je,pdfColorType:"fill",precision:2}),J(S0),this};var Ql=t.textColor||"0 g",Ah=f.__private__.getTextColor=f.getTextColor=function(){return Ie(Ql)};f.__private__.setTextColor=f.setTextColor=function(Y,ge,Qe,Je){return Ql=De({ch1:Y,ch2:ge,ch3:Qe,ch4:Je,pdfColorType:"text",precision:3}),this};var ao=t.charSpace,Gf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ao||0)};f.__private__.setCharSpace=f.setCharSpace=function(Y){if(isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ao=Y,this};var C0=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(Y){var ge=f.CapJoinStyles[Y];if(ge===void 0)throw new Error("Line cap style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return C0=ge,J(ge+" J"),this};var _0=0;f.__private__.setLineJoin=f.setLineJoin=function(Y){var ge=f.CapJoinStyles[Y];if(ge===void 0)throw new Error("Line join style of '"+Y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _0=ge,J(ge+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(Y){if(Y=Y||0,isNaN(Y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(I(P(Y))+" M"),this},f.GState=T1,f.setGState=function(Y){(Y=typeof Y=="string"?fe[Me[Y]]:Vf(null,Y)).equals(Le)||(J("/"+Y.id+" gs"),Le=Y)};var Vf=function(Y,ge){if(!Y||!Me[Y]){var Qe=!1;for(var Je in fe)if(fe.hasOwnProperty(Je)&&fe[Je].equals(ge)){Qe=!0;break}if(Qe)ge=fe[Je];else{var xt="GS"+(Object.keys(fe).length+1).toString(10);fe[xt]=ge,ge.id=xt}return Y&&(Me[Y]=ge.id),ft.publish("addGState",ge),ge}};f.addGState=function(Y,ge){return Vf(Y,ge),this},f.saveGraphicsState=function(){return J("q"),tt.push({key:At,size:$e,color:Ql}),this},f.restoreGraphicsState=function(){J("Q");var Y=tt.pop();return At=Y.key,$e=Y.size,Ql=Y.color,Le=null,this},f.setCurrentTransformationMatrix=function(Y){return J(Y.toString()+" cm"),this},f.comment=function(Y){return J("#"+Y),this};var dl=function(Y,ge){var Qe=Y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Qe},set:function(Ht){isNaN(Ht)||(Qe=parseFloat(Ht))}});var Je=ge||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Je},set:function(Ht){isNaN(Ht)||(Je=parseFloat(Ht))}});var xt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xt},set:function(Ht){xt=Ht.toString()}}),this},gh=function(Y,ge,Qe,Je){dl.call(this,Y,ge),this.type="rect";var xt=Qe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xt},set:function(Xt){isNaN(Xt)||(xt=parseFloat(Xt))}});var Ht=Je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ht},set:function(Xt){isNaN(Xt)||(Ht=parseFloat(Xt))}}),this},bh=function(){this.page=Ge,this.currentPage=z,this.pages=Be.slice(0),this.pagesContext=ct.slice(0),this.x=rt,this.y=Dt,this.matrix=Qt,this.width=cu(z),this.height=yh(z),this.outputDestination=lt,this.id="",this.objectNumber=-1};bh.prototype.restore=function(){Ge=this.page,z=this.currentPage,ct=this.pagesContext,Be=this.pages,rt=this.x,Dt=this.y,Qt=this.matrix,E0(z,this.width),hl(z,this.height),lt=this.outputDestination};var ul=function(Y,ge,Qe,Je,xt){mr.push(new bh),Ge=z=0,Be=[],rt=Y,Dt=ge,Qt=xt,dt([Qe,Je])};for(var hd in f.beginFormObject=function(Y,ge,Qe,Je,xt){return ul(Y,ge,Qe,Je,xt),this},f.endFormObject=function(Y){return(function(ge){if(ur[ge])mr.pop().restore();else{var Qe=new bh,Je="Xo"+(Object.keys(Wt).length+1).toString(10);Qe.id=Je,ur[ge]=Je,Wt[Je]=Qe,ft.publish("addFormObject",Qe),mr.pop().restore()}})(Y),this},f.doFormObject=function(Y,ge){var Qe=Wt[ur[Y]];return J("q"),J(ge.toString()+" cm"),J("/"+Qe.id+" Do"),J("Q"),this},f.getFormObject=function(Y){var ge=Wt[ur[Y]];return{x:ge.x,y:ge.y,width:ge.width,height:ge.height,matrix:ge.matrix}},f.save=function(Y,ge){return Y=Y||"generated.pdf",(ge=ge||{}).returnPromise=ge.returnPromise||!1,ge.returnPromise===!1?(Np(en(Ur()),Y),typeof Np.unload=="function"&&es.setTimeout&&setTimeout(Np.unload,911),this):new Promise(function(Qe,Je){try{var xt=Np(en(Ur()),Y);typeof Np.unload=="function"&&es.setTimeout&&setTimeout(Np.unload,911),Qe(xt)}catch(Ht){Je(Ht.message)}})},Sr.API)Sr.API.hasOwnProperty(hd)&&(hd==="events"&&Sr.API.events.length?(function(Y,ge){var Qe,Je,xt;for(xt=ge.length-1;xt!==-1;xt--)Qe=ge[xt][0],Je=ge[xt][1],Y.subscribe.apply(Y,[Qe].concat(typeof Je=="function"?[Je]:Je))})(ft,Sr.API.events):f[hd]=Sr.API[hd]);function cu(Y){return ct[Y].mediaBox.topRightX-ct[Y].mediaBox.bottomLeftX}function E0(Y,ge){ct[Y].mediaBox.topRightX=ge+ct[Y].mediaBox.bottomLeftX}function yh(Y){return ct[Y].mediaBox.topRightY-ct[Y].mediaBox.bottomLeftY}function hl(Y,ge){ct[Y].mediaBox.topRightY=ge+ct[Y].mediaBox.bottomLeftY}var Sc=f.getPageWidth=function(Y){return cu(Y=Y||z)/Tt},yi=f.setPageWidth=function(Y,ge){E0(Y,ge*Tt)},fl=f.getPageHeight=function(Y){return yh(Y=Y||z)/Tt},Wf=f.setPageHeight=function(Y,ge){hl(Y,ge*Tt)};return f.internal={pdfEscape:qe,getStyle:ro,getFont:jc,getFontSize:he,getCharSpace:Gf,getTextColor:Ah,getLineHeight:Nc,getLineHeightFactor:zx,getLineWidth:ph,write:Pe,getHorizontalCoordinate:Qo,getVerticalCoordinate:ud,getCoordinateString:Gx,getVerticalCoordinateString:zf,collections:{},newObject:yr,newAdditionalObject:Fe,newObjectDeferred:Jt,newObjectDeferredBegin:me,getFilters:pt,putStream:Et,events:ft,scaleFactor:Tt,pageSize:{getWidth:function(){return Sc(z)},setWidth:function(Y){yi(z,Y)},getHeight:function(){return fl(z)},setHeight:function(Y){Wf(z,Y)}},encryptionOptions:u,encryption:Ls,getEncryptor:function(Y){return u!==null?Ls.encryptor(Y,0):function(ge){return ge}},output:Aa,getNumberOfPages:qt,get pages(){return Be},out:J,f2:C,f3:B,getPageInfo:xs,getPageInfoByObjId:ga,getCurrentPageInfo:Tn,getPDFVersion:A,Point:dl,Rectangle:gh,Matrix:or,hasHotfix:Ks},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Sc(z)},set:function(Y){yi(z,Y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return fl(z)},set:function(Y){Wf(z,Y)},enumerable:!0,configurable:!0}),(function(Y){for(var ge=0,Qe=He.length;ge<Qe;ge++){var Je=Ue.call(this,Y[ge][0],Y[ge][1],Y[ge][2],He[ge][3],!0);h===!1&&(m[Je]=!0);var xt=Y[ge][0].split("-");de({id:Je,fontName:xt[0],fontStyle:xt[1]||""})}ft.publish("addFonts",{fonts:Yt,dictionary:kt})}).call(f,He),At="F1",Gt(a,s),ft.publish("initialized"),f}$A.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},$A.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$A.prototype.hexToBytes=function(t){for(var e=[],s=0;s<t.length;s+=2)e.push(String.fromCharCode(parseInt(t.substr(s,2),16)));return e.join("")},$A.prototype.processOwnerPassword=function(t,e){return _F(CF(e).substr(0,5),t)},$A.prototype.encryptor=function(t,e){var s=CF(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return _F(s,n)}},T1.prototype.equals=function(t){var e,s="id,objectNumber,equals";if(!t||fn(t)!==fn(this))return!1;var n=0;for(e in this)if(!(s.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&s.indexOf(e)<0&&n--;return n===0},Sr.API={events:[]},Sr.version="3.0.4";var ja=Sr.API,iL=1,Mx=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kA=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},os=function(t){return t.toFixed(2)},jm=function(t){return t.toFixed(5)};ja.__acroform__={};var Hl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},mG=function(t){return t*iL},Tu=function(t){var e=new pte,s=Tr.internal.getHeight(t)||0,n=Tr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(os(n)),Number(os(s))],e},ZMe=ja.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},eFe=ja.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},tFe=ja.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},La=ja.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tFe(t,e-1)},Da=ja.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZMe(t,e-1)},Ra=ja.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eFe(t,e-1)},rFe=ja.__acroform__.calculateCoordinates=function(t,e){var s=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=s(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=s(a+o)||0,c.upperRight_Y=n(i)||0,[Number(os(c.lowerLeft_X)),Number(os(c.lowerLeft_Y)),Number(os(c.upperRight_X)),Number(os(c.upperRight_Y))]},sFe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],s=t._V||t.DV,n=EF(t,s),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+os(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Tu(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},EF=function(t,e){var s=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=s,o=Tr.internal.getHeight(t)||0;o=o<0?-o:o;var l=Tr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(C,B,P){if(C+1<a.length){var H=B+" "+a[C+1][0];return sj(H,t,P).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,h=sj("3",t,i).height,m=t.multiline?o-i:(o-h)/2,f=m+=2,x=0,A=0,g=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+sj(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",w=0,v=0;v<a.length;v++)if(a.hasOwnProperty(v)){var j=!1;if(a[v].length!==1&&g!==a[v].length-1){if((h+2)*(w+2)+2>o)continue e;b+=a[v][g],j=!0,A=v,v--}else{b=(b+=a[v][g]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var N=parseInt(v),S=c(N,b,i),T=v>=a.length-1;if(S&&!T){b+=" ",g=0;continue}if(S||T){if(T)A=N;else if(t.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(w+2)+2>o)continue e;A=N}}for(var I="",_=x;_<=A;_++){var M=a[_];if(t.multiline){if(_===A){I+=M[g]+" ",g=(g+1)%M.length;continue}if(_===x){I+=M[M.length-1]+" ";continue}}I+=M[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,u=sj(I,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}e+=os(d)+" "+os(f)+` Td
`,e+="("+Mx(I)+`) Tj
`,e+=-os(d)+` 0 Td
`,f=-(i+2),u=0,x=j?A:A+1,w++,b=""}break}return n.text=e,n.fontSize=i,n},sj=function(t,e,s){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:a}},nFe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aFe=function(t,e){var s={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===s.type&&n.object===s.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(s)},iFe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(au.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(nFe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");iL=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new xte,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&aFe(i,s)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(s){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=rFe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Tr.createDefaultAppearanceStream(l),fn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=sFe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var x=f[o];typeof x=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(A,g){for(var b in A)if(A.hasOwnProperty(b)){var w=b,v=A[b];g.internal.newObjectDeferredBegin(v.objId,!0),fn(v)==="object"&&typeof v.putStream=="function"&&v.putStream(),delete A[w]}})(a.internal.acroformPlugin.xForms,a)})(s,t)}),t.internal.acroformPlugin.isInitialized=!0}},mte=ja.__acroform__.arrayToPdfArray=function(t,e,s){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),fn(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&s&&(n=s.internal.getEncryptor(e)),a+="("+Mx(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},R6=function(t,e,s){var n=function(a){return a};return e!==void 0&&s&&(n=s.internal.getEncryptor(e)),(t=t||"").toString(),"("+Mx(n(t))+")"},zu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zu.prototype.toString=function(){return this.objId+" 0 R"},zu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},zu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var s in e)if(Object.getOwnPropertyDescriptor(this,e[s]).configurable===!1){var n=e[s],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:mte(a,this.objId,this.scope)}):a instanceof zu?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var pte=function(){zu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){t=s.trim()},get:function(){return t||null}})};Hl(pte,zu);var xte=function(){zu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var s=function(n){return n};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+Mx(s(t))+")"}},set:function(s){t=s}})};Hl(xte,zu);var au=function t(){zu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!La(e,3)},set:function(b){b?this.F=Da(e,3):this.F=Ra(e,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');s=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof L5)return;i="FieldObject"+t.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Mx(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/iL:d},set:function(b){d=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof L5||this instanceof s0))return R6(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ci==0?R6(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof ci==0?b.substr(0,1)==="("?kA(b.substr(1,b.length-2)):kA(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci==1?kA(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof ci==1?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ci==0?R6(f,this.objId,this.scope):f},set:function(b){b=b.toString(),f=this instanceof ci==0?b.substr(0,1)==="("?kA(b.substr(1,b.length-2)):kA(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci==1?kA(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof ci==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(b){b=!!b,A=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,1)},set:function(b){b?this.Ff=Da(this.Ff,1):this.Ff=Ra(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,2)},set:function(b){b?this.Ff=Da(this.Ff,2):this.Ff=Ra(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,3)},set:function(b){b?this.Ff=Da(this.Ff,3):this.Ff=Ra(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');g=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(g){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Hl(au,zu);var Wp=function(){au.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){t=s}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mte(e,this.objId,this.scope)},set:function(s){var n,a;a=[],typeof(n=s)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(s){e=s,this.sort&&e.sort()},this.addOption=function(s){s=(s=s||"").toString(),e.push(s),this.sort&&e.sort()},this.removeOption=function(s,n){for(n=n||!1,s=(s=s||"").toString();e.indexOf(s)!==-1&&(e.splice(e.indexOf(s),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,18)},set:function(s){s?this.Ff=Da(this.Ff,18):this.Ff=Ra(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=Da(this.Ff,19):this.Ff=Ra(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,20)},set:function(s){s?(this.Ff=Da(this.Ff,20),e.sort()):this.Ff=Ra(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,22)},set:function(s){s?this.Ff=Da(this.Ff,22):this.Ff=Ra(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,23)},set:function(s){s?this.Ff=Da(this.Ff,23):this.Ff=Ra(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,27)},set:function(s){s?this.Ff=Da(this.Ff,27):this.Ff=Ra(this.Ff,27)}}),this.hasAppearanceStream=!1};Hl(Wp,au);var qp=function(){Wp.call(this),this.fontName="helvetica",this.combo=!1};Hl(qp,Wp);var Kp=function(){qp.call(this),this.combo=!0};Hl(Kp,qp);var gv=function(){Kp.call(this),this.edit=!0};Hl(gv,Kp);var ci=function(){au.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,15)},set:function(s){s?this.Ff=Da(this.Ff,15):this.Ff=Ra(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,16)},set:function(s){s?this.Ff=Da(this.Ff,16):this.Ff=Ra(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,17)},set:function(s){s?this.Ff=Da(this.Ff,17):this.Ff=Ra(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,26)},set:function(s){s?this.Ff=Da(this.Ff,26):this.Ff=Ra(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(i){return i};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Mx(s(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(s){fn(s)==="object"&&(e=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(s){typeof s=="string"&&(e.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}})};Hl(ci,au);var bv=function(){ci.call(this),this.pushButton=!0};Hl(bv,ci);var Xp=function(){ci.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Hl(Xp,ci);var L5=function(){var t,e;au.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var s,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Mx(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){fn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(a){s="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hl(L5,au),Xp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var s=this.Kids[e];s.appearanceStreamContent=t.createAppearanceStream(s.optionName),s.caption=t.getCA()}},Xp.prototype.createOption=function(t){var e=new L5;return e.Parent=this,e.optionName=t,this.Kids.push(e),oFe.call(this.scope,e),e};var yv=function(){ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tr.CheckBox.createAppearanceStream()};Hl(yv,ci);var s0=function(){au.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,13)},set:function(e){e?this.Ff=Da(this.Ff,13):this.Ff=Ra(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,21)},set:function(e){e?this.Ff=Da(this.Ff,21):this.Ff=Ra(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,23)},set:function(e){e?this.Ff=Da(this.Ff,23):this.Ff=Ra(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,24)},set:function(e){e?this.Ff=Da(this.Ff,24):this.Ff=Ra(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,25)},set:function(e){e?this.Ff=Da(this.Ff,25):this.Ff=Ra(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,26)},set:function(e){e?this.Ff=Da(this.Ff,26):this.Ff=Ra(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hl(s0,au);var vv=function(){s0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,14)},set:function(t){t?this.Ff=Da(this.Ff,14):this.Ff=Ra(this.Ff,14)}}),this.password=!0};Hl(vv,s0);var Tr={CheckBox:{createAppearanceStream:function(){return{N:{On:Tr.CheckBox.YesNormal},D:{On:Tr.CheckBox.YesPushDown,Off:Tr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Tu(t);e.scope=t.scope;var s=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=EF(t,t.caption);return s.push("0.749023 g"),s.push("0 0 "+os(Tr.internal.getWidth(t))+" "+os(Tr.internal.getHeight(t))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+n+" "+os(i.fontSize)+" Tf "+a),s.push("BT"),s.push(i.text),s.push("ET"),s.push("Q"),s.push("EMC"),e.stream=s.join(`
`),e},YesNormal:function(t){var e=Tu(t);e.scope=t.scope;var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Tr.internal.getHeight(t),o=Tr.internal.getWidth(t),l=EF(t,t.caption);return a.push("1 g"),a.push("0 0 "+os(o)+" "+os(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+os(o-1)+" "+os(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+s+" "+os(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Tu(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+os(Tr.internal.getWidth(t))+" "+os(Tr.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Tr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Tr.RadioButton.Circle.YesNormal,e.D[t]=Tr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Tu(t);e.scope=t.scope;var s=[],n=Tr.internal.getWidth(t)<=Tr.internal.getHeight(t)?Tr.internal.getWidth(t)/4:Tr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Tr.internal.Bezier_C,i=Number((n*a).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+jm(Tr.internal.getWidth(t)/2)+" "+jm(Tr.internal.getHeight(t)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),s.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),s.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),s.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=Tu(t);e.scope=t.scope;var s=[],n=Tr.internal.getWidth(t)<=Tr.internal.getHeight(t)?Tr.internal.getWidth(t)/4:Tr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Tr.internal.Bezier_C).toFixed(5)),o=Number((n*Tr.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+jm(Tr.internal.getWidth(t)/2)+" "+jm(Tr.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),s.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),s.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),s.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+jm(Tr.internal.getWidth(t)/2)+" "+jm(Tr.internal.getHeight(t)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),s.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),s.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),s.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Tu(t);e.scope=t.scope;var s=[],n=Tr.internal.getWidth(t)<=Tr.internal.getHeight(t)?Tr.internal.getWidth(t)/4:Tr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Tr.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+jm(Tr.internal.getWidth(t)/2)+" "+jm(Tr.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),s.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),s.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),s.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Tr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Tr.RadioButton.Cross.YesNormal,e.D[t]=Tr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Tu(t);e.scope=t.scope;var s=[],n=Tr.internal.calculateCross(t);return s.push("q"),s.push("1 1 "+os(Tr.internal.getWidth(t)-2)+" "+os(Tr.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(os(n.x1.x)+" "+os(n.x1.y)+" m"),s.push(os(n.x2.x)+" "+os(n.x2.y)+" l"),s.push(os(n.x4.x)+" "+os(n.x4.y)+" m"),s.push(os(n.x3.x)+" "+os(n.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=Tu(t);e.scope=t.scope;var s=Tr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+os(Tr.internal.getWidth(t))+" "+os(Tr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+os(Tr.internal.getWidth(t)-2)+" "+os(Tr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(os(s.x1.x)+" "+os(s.x1.y)+" m"),n.push(os(s.x2.x)+" "+os(s.x2.y)+" l"),n.push(os(s.x4.x)+" "+os(s.x4.y)+" m"),n.push(os(s.x3.x)+" "+os(s.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Tu(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+os(Tr.internal.getWidth(t))+" "+os(Tr.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+s}};Tr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Tr.internal.getWidth(t),s=Tr.internal.getHeight(t),n=Math.min(e,s);return{x1:{x:(e-n)/2,y:(s-n)/2+n},x2:{x:(e-n)/2+n,y:(s-n)/2},x3:{x:(e-n)/2,y:(s-n)/2},x4:{x:(e-n)/2+n,y:(s-n)/2+n}}}},Tr.internal.getWidth=function(t){var e=0;return fn(t)==="object"&&(e=mG(t.Rect[2])),e},Tr.internal.getHeight=function(t){var e=0;return fn(t)==="object"&&(e=mG(t.Rect[3])),e};var oFe=ja.addField=function(t){if(iFe(this,t),!(t instanceof au))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ja.AcroFormChoiceField=Wp,ja.AcroFormListBox=qp,ja.AcroFormComboBox=Kp,ja.AcroFormEditBox=gv,ja.AcroFormButton=ci,ja.AcroFormPushButton=bv,ja.AcroFormRadioButton=Xp,ja.AcroFormCheckBox=yv,ja.AcroFormTextField=s0,ja.AcroFormPasswordField=vv,ja.AcroFormAppearance=Tr,ja.AcroForm={ChoiceField:Wp,ListBox:qp,ComboBox:Kp,EditBox:gv,Button:ci,PushButton:bv,RadioButton:Xp,CheckBox:yv,TextField:s0,PasswordField:vv,Appearance:Tr},Sr.AcroForm={ChoiceField:Wp,ListBox:qp,ComboBox:Kp,EditBox:gv,Button:ci,PushButton:bv,RadioButton:Xp,CheckBox:yv,TextField:s0,PasswordField:vv,Appearance:Tr};var lFe=Sr.AcroForm;function Ate(t){return t.reduce(function(e,s,n){return e[s]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var s="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(C,B){var P,H,D,G,O,Q=s;if((B=B||s)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(S(C))for(O in n)for(D=n[O],P=0;P<D.length;P+=1){for(G=!0,H=0;H<D[P].length;H+=1)if(D[P][H]!==void 0&&D[P][H]!==C[H]){G=!1;break}if(G===!0){Q=O;break}}else for(O in n)for(D=n[O],P=0;P<D.length;P+=1){for(G=!0,H=0;H<D[P].length;H+=1)if(D[P][H]!==void 0&&D[P][H]!==C.charCodeAt(H)){G=!1;break}if(G===!0){Q=O;break}}return Q===s&&B!==s&&(Q=B),Q},i=function C(B){for(var P=this.internal.write,H=this.internal.putStream,D=(0,this.internal.getFilters)();D.indexOf("FlateEncode")!==-1;)D.splice(D.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:B.width}),G.push({key:"Height",value:B.height}),B.colorSpace===b.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===b.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var O="",Q=0,ee=B.transparency.length;Q<ee;Q++)O+=B.transparency[Q]+" "+B.transparency[Q]+" ";G.push({key:"Mask",value:"["+O+"]"})}B.sMask!==void 0&&G.push({key:"SMask",value:B.objectId+1+" 0 R"});var q=B.filter!==void 0?["/"+B.filter]:void 0;if(H({data:B.data,additionalKeyValues:G,alreadyAppliedFilters:q,objectId:B.objectId}),P("endobj"),"sMask"in B&&B.sMask!==void 0){var Z,F=(Z=B.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:B.bitsPerComponent,z={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:B.sMask};"filter"in B&&(z.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(B.width),z.filter=B.filter),C.call(this,z)}if(B.colorSpace===b.INDEXED){var V=this.internal.newObject();H({data:I(new Uint8Array(B.palette)),objectId:V}),P("endobj")}},o=function(){var C=this.internal.collections[e+"images"];for(var B in C)i.call(this,C[B])},l=function(){var C,B=this.internal.collections[e+"images"],P=this.internal.write;for(var H in B)P("/I"+(C=B[H]).index,C.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var C=this.internal.collections[e+"images"];return c.call(this),C},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(C){return typeof t["process"+C.toUpperCase()]=="function"},m=function(C){return fn(C)==="object"&&C.nodeType===1},f=function(C,B){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var P=""+C.getAttribute("src");if(P.indexOf("data:image/")===0)return gN(unescape(P).split("base64,").pop());var H=t.loadFile(P,!0);if(H!==void 0)return H}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var D;switch(B){case"PNG":D="image/png";break;case"WEBP":D="image/webp";break;default:D="image/jpeg"}return gN(C.toDataURL(D,1).split("base64,").pop())}},x=function(C){var B=this.internal.collections[e+"images"];if(B){for(var P in B)if(C===B[P].alias)return B[P]}},A=function(C,B,P){return C||B||(C=-96,B=-96),C<0&&(C=-1*P.width*72/C/this.internal.scaleFactor),B<0&&(B=-1*P.height*72/B/this.internal.scaleFactor),C===0&&(C=B*P.width/P.height),B===0&&(B=C*P.height/P.width),[C,B]},g=function(C,B,P,H,D,G){var O=A.call(this,P,H,D),Q=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,q=d.call(this);if(P=O[0],H=O[1],q[D.index]=D,G){G*=Math.PI/180;var Z=Math.cos(G),F=Math.sin(G),z=function(W){return W.toFixed(4)},V=[z(Z),z(F),z(-1*F),z(Z),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,Q(C),ee(B+H),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([Q(P),"0","0",Q(H),"0","0","cm"].join(" "))):this.internal.write([Q(P),"0","0",Q(H),Q(C),ee(B+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+D.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(C){var B,P,H=0;if(typeof C=="string")for(P=C.length,B=0;B<P;B++)H=(H<<5)-H+C.charCodeAt(B),H|=0;else if(S(C))for(P=C.byteLength/2,B=0;B<P;B++)H=(H<<5)-H+C[B],H|=0;return H},j=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var B=!0;return C.length===0&&(B=!1),C.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(B=!1),B},N=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var B=C.indexOf(",");return B<0?null:C.substring(0,B).trim().endsWith("base64")?C.substring(B+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var S=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},T=t.__addimage__.binaryStringToUint8Array=function(C){for(var B=C.length,P=new Uint8Array(B),H=0;H<B;H++)P[H]=C.charCodeAt(H);return P},I=t.__addimage__.arrayBufferToBinaryString=function(C){for(var B="",P=S(C)?C:new Uint8Array(C),H=0;H<P.length;H+=8192)B+=String.fromCharCode.apply(null,P.subarray(H,H+8192));return B};t.addImage=function(){var C,B,P,H,D,G,O,Q,ee;if(typeof arguments[1]=="number"?(B=s,P=arguments[1],H=arguments[2],D=arguments[3],G=arguments[4],O=arguments[5],Q=arguments[6],ee=arguments[7]):(B=arguments[1],P=arguments[2],H=arguments[3],D=arguments[4],G=arguments[5],O=arguments[6],Q=arguments[7],ee=arguments[8]),fn(C=arguments[0])==="object"&&!m(C)&&"imageData"in C){var q=C;C=q.imageData,B=q.format||B||s,P=q.x||P||0,H=q.y||H||0,D=q.w||q.width||D,G=q.h||q.height||G,O=q.alias||O,Q=q.compression||Q,ee=q.rotation||q.angle||ee}var Z=this.internal.getFilters();if(Q===void 0&&Z.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(P)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=_.call(this,C,B,O,Q);return g.call(this,P,H,D,G,F,ee),this};var _=function(C,B,P,H){var D,G,O;if(typeof C=="string"&&a(C)===s){C=unescape(C);var Q=M(C,!1);(Q!==""||(Q=t.loadFile(C,!0))!==void 0)&&(C=Q)}if(m(C)&&(C=f(C,B)),B=a(C,B),!h(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((O=P)==null||O.length===0)&&(P=(function(ee){return typeof ee=="string"||S(ee)?v(ee):S(ee.data)?v(ee.data):null})(C)),(D=x.call(this,P))||(C instanceof Uint8Array||B==="RGBA"||(G=C,C=T(C)),D=this["process"+B.toUpperCase()](C,u.call(this),P,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:w.NONE})(H),G)),!D)throw new Error("An unknown error occurred whilst processing the image.");return D},M=t.__addimage__.convertBase64ToBinaryString=function(C,B){B=typeof B!="boolean"||B;var P,H="";if(typeof C=="string"){var D;P=(D=N(C))!==null&&D!==void 0?D:C;try{H=gN(P)}catch(G){if(B)throw j(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(C){var B,P,H="";if(m(C)&&(C=f(C)),typeof C=="string"&&a(C)===s&&((H=M(C,!1))===""&&(H=t.loadFile(C)||""),C=H),P=a(C),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(C instanceof Uint8Array||(C=T(C)),!(B=this["process"+P.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=P,B}})(Sr.API),(function(t){var e=function(s){if(s!==void 0&&s!="")return!0};Sr.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(s){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(s.objId),d=s.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(s.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(A.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(b(n.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(b(w))+") >>",A.content=i;var v=A.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(A.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var S=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(s){var n=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":n.pageContext.annotations.push(s)}},t.link=function(s,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(s),y:d(n),w:c(s+a),h:d(n+i)},options:o,type:"link"})},t.textWithLink=function(s,n,a,i){var o,l,c=this.getTextWidth(s),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(s,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(s,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,l,o,i),c},t.getTextWidth=function(s){var n=this.internal.getFontSize();return this.getStringUnitWidth(s)*n/this.internal.scaleFactor}})(Sr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=t.__arabicParser__.isArabicEndLetter=function(A){return o(A)&&i(A)&&e[A.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(A){return o(A)&&a.indexOf(A.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return o(A)&&i(A)&&e[A.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(A){return o(A)&&i(A)&&e[A.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(A){return o(A)&&i(A)&&e[A.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(A){return o(A)&&i(A)&&e[A.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(A){var g=0,b=s,w="",v=0;for(g=0;g<A.length;g+=1)b[A.charCodeAt(g)]!==void 0?(v++,typeof(b=b[A.charCodeAt(g)])=="number"&&(w+=String.fromCharCode(b),b=s,v=0),g===A.length-1&&(b=s,w+=A.charAt(g-(v-1)),g-=v-1,v=0)):(b=s,w+=A.charAt(g-v),g-=v,v=0);return w};t.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&n[A.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(A,g,b){return o(A)?i(A)===!1?-1:!d(A)||!o(g)&&!o(b)||!o(b)&&l(g)||l(A)&&!o(g)||l(A)&&c(g)||l(A)&&l(g)?0:u(A)&&o(g)&&!l(g)&&o(b)&&d(b)?3:l(A)||!o(b)?1:2:-1},f=function(A){var g=0,b=0,w=0,v="",j="",N="",S=(A=A||"").split("\\s+"),T=[];for(g=0;g<S.length;g+=1){for(T.push(""),b=0;b<S[g].length;b+=1)v=S[g][b],j=S[g][b-1],N=S[g][b+1],o(v)?(w=m(v,j,N),T[g]+=w!==-1?String.fromCharCode(e[v.charCodeAt(0)][w]):v):T[g]+=v;T[g]=h(T[g])}return T.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var A,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(g)){var w=0;for(b=[],w=0;w<g.length;w+=1)Array.isArray(g[w])?b.push([f(g[w][0]),g[w][1],g[w][2]]):b.push([f(g[w])]);A=b}else A=f(g);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};t.events.push(["preProcessText",x])})(Sr.API),Sr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(l){s=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(s,n){var a;if((s=s||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Sr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},s=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(A){c=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(A){x=A}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,f=0,x=0,A=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=d.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(v,j){return v.concat(g.splitTextToSize(j,b))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)f<(A=this.getStringUnitWidth(c[w],{font:h})*u)&&(f=A);return f!==0&&(x=c.length),{w:f/=m,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,s===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,x,A,g,b=[],w=[],v=[],j={},N={},S=[],T=[],I=(m=m||{}).autoSize||!1,_=m.printHeaders!==!1,M=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,C=m.margins||Object.assign({width:this.getPageWidth()},e),B=typeof m.padding=="number"?m.padding:3,P=m.headerBackgroundColor||"#c8c8c8",H=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=H,this.setFontSize(M),h==null)w=b=Object.keys(u[0]),v=b.map(function(){return"left"});else if(Array.isArray(h)&&fn(h[0])==="object")for(b=h.map(function(q){return q.name}),w=h.map(function(q){return q.prompt||q.name||""}),v=h.map(function(q){return q.align||"left"}),f=0;f<h.length;f+=1)N[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(w=b=h,v=b.map(function(){return"left"}));if(I||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<b.length;f+=1){for(j[g=b[f]]=u.map(function(q){return q[g]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=j[g],this.setFont(void 0,"normal"),A=0;A<x.length;A+=1)S.push(this.getTextDimensions(x[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[g]=Math.max.apply(null,S)+B+B,S=[]}if(_){var D={};for(f=0;f<b.length;f+=1)D[b[f]]={},D[b[f]].text=w[f],D[b[f]].align=v[f];var G=l.call(this,D,N);T=b.map(function(q){return new i(c,d,N[q],G,D[q].text,void 0,D[q].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var O=h.reduce(function(q,Z){return q[Z.name]=Z.align,q},{});for(f=0;f<u.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:u[f]},this);var Q=l.call(this,u[f],N);for(A=0;A<b.length;A+=1){var ee=u[f][b[A]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:A,data:ee},this),o.call(this,new i(c,d,N[b[A]],Q,ee,f+2,O[b[A]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var x=c[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/m+u+u},this).reduce(function(f,x){return Math.max(f,x)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),s=!1}})(Sr.API);var gte={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bte=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kF=Ate(bte),yte=[100,200,300,400,500,600,700,800,900],cFe=Ate(yte);function O6(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),s=(function(i){return gte[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof kF[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:s,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,s,n].join(" ")}}}function pG(t,e,s,n){var a;for(a=s;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=s;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var dFe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function gG(t){return t.trimLeft()}function uFe(t,e){for(var s=0;s<t.length;){if(t.charAt(s)===e)return[t.substring(0,s),t.substring(s+1)];s+=1}return null}function hFe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var nj,bG,yG,TA,aj,vG,wG,jG,U6=["times"];function NG(t,e,s,n,a){var i=4,o=CG;switch(a){case Sr.API.image_compression.FAST:i=1,o=SG;break;case Sr.API.image_compression.MEDIUM:i=6,o=_G;break;case Sr.API.image_compression.SLOW:i=9,o=EG}t=(function(c,d,u,h){for(var m,f=c.length/d,x=new Uint8Array(c.length+f),A=[fFe,SG,CG,_G,EG],g=0;g<f;g+=1){var b=g*d,w=c.subarray(b,b+d);if(h)x.set(h(w,u,m),b+g);else{for(var v=A.length,j=[],N=0;N<v;N+=1)j[N]=A[N](w,u,m);var S=pFe(j.concat());x.set(j[S],b+g)}m=w}return x})(t,e,Math.ceil(s*n/8),o);var l=wF(t,{level:i});return Sr.API.__addimage__.arrayBufferToBinaryString(l)}function fFe(t){var e=Array.apply([],t);return e.unshift(0),e}function SG(t,e){var s=t.length,n=[];n[0]=1;for(var a=0;a<s;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function CG(t,e,s){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=s&&s[i]||0;a[i+1]=t[i]-o+256&255}return a}function _G(t,e,s){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=t[i-e]||0,l=s&&s[i]||0;a[i+1]=t[i]+256-(o+l>>>1)&255}return a}function EG(t,e,s){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=mFe(t[i-e]||0,s&&s[i]||0,s&&s[i-e]||0);a[i+1]=t[i]-o+256&255}return a}function mFe(t,e,s){if(t===e&&e===s)return t;var n=Math.abs(e-s),a=Math.abs(t-s),i=Math.abs(t+e-s-s);return n<=a&&n<=i?t:a<=i?e:s}function pFe(t){var e=t.map(function(s){return s.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function H6(t,e,s){var n=e*s,a=Math.floor(n/8),i=16-(n-8*a+s),o=(1<<s)-1;return vte(t,a)>>i&o}function kG(t,e,s,n){var a=s*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(e&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var m=h>>8&255;d.setUint8(u,m)}})(t,i,vte(t,i)&~(l<<o)&65535|c)}function vte(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function xFe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,m=null,f=0,x=null;for(this.width=s,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],1&A||(m=null),f=A>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,j=t[e++],N=j>>6&1,S=1<<1+(7&j),T=l,I=c,_=!1;j>>7&&(_=!0,T=e,I=S,e+=3*S);var M=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}u.push({x:g,y:b,width:w,height:v,has_local_palette:_,palette_offset:T,palette_size:I,data_offset:M,data_length:e-M,transparent_index:m,interlaced:!!N,delay:h,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(B){if(B<0||B>=u.length)throw new Error("Frame index out of range.");return u[B]},this.decodeAndBlitFrameBGRA=function(B,P){var H=this.frameInfo(B),D=H.width*H.height,G=new Uint8Array(D);TG(t,H.data_offset,G,D);var O=H.palette_offset,Q=H.transparent_index;Q===null&&(Q=256);var ee=H.width,q=s-ee,Z=ee,F=4*(H.y*s+H.x),z=4*((H.y+H.height)*s+H.x),V=F,W=4*q;H.interlaced===!0&&(W+=4*s*7);for(var ne=8,ie=0,be=G.length;ie<be;++ie){var ue=G[ie];if(Z===0&&(Z=ee,(V+=W)>=z&&(W=4*q+4*s*(ne-1),V=F+(ee+q)*(ne<<1),ne>>=1)),ue===Q)V+=4;else{var je=t[O+3*ue],Be=t[O+3*ue+1],oe=t[O+3*ue+2];P[V++]=oe,P[V++]=Be,P[V++]=je,P[V++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(B,P){var H=this.frameInfo(B),D=H.width*H.height,G=new Uint8Array(D);TG(t,H.data_offset,G,D);var O=H.palette_offset,Q=H.transparent_index;Q===null&&(Q=256);var ee=H.width,q=s-ee,Z=ee,F=4*(H.y*s+H.x),z=4*((H.y+H.height)*s+H.x),V=F,W=4*q;H.interlaced===!0&&(W+=4*s*7);for(var ne=8,ie=0,be=G.length;ie<be;++ie){var ue=G[ie];if(Z===0&&(Z=ee,(V+=W)>=z&&(W=4*q+4*s*(ne-1),V=F+(ee+q)*(ne<<1),ne>>=1)),ue===Q)V+=4;else{var je=t[O+3*ue],Be=t[O+3*ue+1],oe=t[O+3*ue+2];P[V++]=je,P[V++]=Be,P[V++]=oe,P[V++]=255}--Z}}}function TG(t,e,s,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,m=0,f=t[e++],x=new Int32Array(4096),A=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<c)break;var g=h&d;if(h>>=c,u-=c,g!==i){if(g===o)break;for(var b=g<l?g:A,w=0,v=b;v>i;)v=x[v]>>8,++w;var j=v;if(m+w+(b!==g?1:0)>n)return void Sn.log("Warning, gif stream longer than expected.");s[m++]=j;var N=m+=w;for(b!==g&&(s[m++]=j),v=b;w--;)v=x[v],s[--N]=255&v,v>>=8;A!==null&&l<4096&&(x[l++]=A<<8|j,l>=d+1&&c<12&&(++c,d=d<<1|1)),A=g}else l=o+1,d=(1<<(c=a+1))-1,A=null}return m!==n&&Sn.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Q6(t){var e,s,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),x=new Array(64),A=[],g=0,b=7,w=new Array(64),v=new Array(64),j=new Array(64),N=new Array(256),S=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(F,z){for(var V=0,W=0,ne=new Array,ie=1;ie<=16;ie++){for(var be=1;be<=F[ie];be++)ne[z[W]]=[],ne[z[W]][0]=V,ne[z[W]][1]=ie,W++,V++;V*=2}return ne}function O(F){for(var z=F[0],V=F[1]-1;V>=0;)z&1<<V&&(g|=1<<b),V--,--b<0&&(g==255?(Q(255),Q(0)):Q(g),b=7,g=0)}function Q(F){A.push(F)}function ee(F){Q(F>>8&255),Q(255&F)}function q(F,z,V,W,ne){for(var ie,be=ne[0],ue=ne[240],je=(function($e,Xe){var he,ce,_e,Ke,et,st,ot,mt,At,Tt,rt=0;for(At=0;At<8;++At){he=$e[rt],ce=$e[rt+1],_e=$e[rt+2],Ke=$e[rt+3],et=$e[rt+4],st=$e[rt+5],ot=$e[rt+6];var Dt=he+(mt=$e[rt+7]),Qt=he-mt,Yt=ce+ot,kt=ce-ot,tt=_e+st,Ze=_e-st,ye=Ke+et,fe=Ke-et,Me=Dt+ye,Le=Dt-ye,Ge=Yt+tt,ct=Yt-tt;$e[rt]=Me+Ge,$e[rt+4]=Me-Ge;var ft=.707106781*(ct+Le);$e[rt+2]=Le+ft,$e[rt+6]=Le-ft;var Ut=.382683433*((Me=fe+Ze)-(ct=kt+Qt)),Wt=.5411961*Me+Ut,ur=1.306562965*ct+Ut,mr=.707106781*(Ge=Ze+kt),or=Qt+mr,Jr=Qt-mr;$e[rt+5]=Jr+Wt,$e[rt+3]=Jr-Wt,$e[rt+1]=or+ur,$e[rt+7]=or-ur,rt+=8}for(rt=0,At=0;At<8;++At){he=$e[rt],ce=$e[rt+8],_e=$e[rt+16],Ke=$e[rt+24],et=$e[rt+32],st=$e[rt+40],ot=$e[rt+48];var it=he+(mt=$e[rt+56]),Ct=he-mt,pr=ce+ot,yr=ce-ot,Jt=_e+st,me=_e-st,Fe=Ke+et,Ee=Ke-et,Te=it+Fe,Ie=it-Fe,De=pr+Jt,pt=pr-Jt;$e[rt]=Te+De,$e[rt+32]=Te-De;var Et=.707106781*(pt+Ie);$e[rt+16]=Ie+Et,$e[rt+48]=Ie-Et;var bt=.382683433*((Te=Ee+me)-(pt=yr+Ct)),vt=.5411961*Te+bt,Nt=1.306562965*pt+bt,pe=.707106781*(De=me+yr),ze=Ct+pe,Ye=Ct-pe;$e[rt+40]=Ye+vt,$e[rt+24]=Ye-vt,$e[rt+8]=ze+Nt,$e[rt+56]=ze-Nt,rt++}for(At=0;At<64;++At)Tt=$e[At]*Xe[At],f[At]=Tt>0?Tt+.5|0:Tt-.5|0;return f})(F,z),Be=0;Be<64;++Be)x[T[Be]]=je[Be];var oe=x[0]-V;V=x[0],oe==0?O(W[0]):(O(W[m[ie=32767+oe]]),O(h[ie]));for(var lt=63;lt>0&&x[lt]==0;)lt--;if(lt==0)return O(be),V;for(var se,J=1;J<=lt;){for(var Pe=J;x[J]==0&&J<=lt;)++J;var xe=J-Pe;if(xe>=16){se=xe>>4;for(var He=1;He<=se;++He)O(ue);xe&=15}ie=32767+x[J],O(ne[(xe<<4)+m[ie]]),O(h[ie]),J++}return lt!=63&&O(be),V}function Z(F){F=Math.min(Math.max(F,1),100),i!=F&&((function(z){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var ne=o((V[W]*z+50)/100);ne=Math.min(Math.max(ne,1),255),l[T[W]]=ne}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var ue=o((ie[be]*z+50)/100);ue=Math.min(Math.max(ue,1),255),c[T[be]]=ue}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,oe=0;oe<8;oe++)for(var lt=0;lt<8;lt++)d[Be]=1/(l[T[Be]]*je[oe]*je[lt]*8),u[Be]=1/(c[T[Be]]*je[oe]*je[lt]*8),Be++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),i=F)}this.encode=function(F,z){z&&Z(z),A=new Array,g=0,b=7,ee(65496),ee(65504),ee(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ee(1),ee(1),Q(0),Q(0),(function(){ee(65499),ee(132),Q(0);for(var ce=0;ce<64;ce++)Q(l[ce]);Q(1);for(var _e=0;_e<64;_e++)Q(c[_e])})(),(function(ce,_e){ee(65472),ee(17),Q(8),ee(_e),ee(ce),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)})(F.width,F.height),(function(){ee(65476),ee(418),Q(0);for(var ce=0;ce<16;ce++)Q(I[ce+1]);for(var _e=0;_e<=11;_e++)Q(_[_e]);Q(16);for(var Ke=0;Ke<16;Ke++)Q(M[Ke+1]);for(var et=0;et<=161;et++)Q(C[et]);Q(1);for(var st=0;st<16;st++)Q(B[st+1]);for(var ot=0;ot<=11;ot++)Q(P[ot]);Q(17);for(var mt=0;mt<16;mt++)Q(H[mt+1]);for(var At=0;At<=161;At++)Q(D[At])})(),ee(65498),ee(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var V=0,W=0,ne=0;g=0,b=7,this.encode.displayName="_encode_";for(var ie,be,ue,je,Be,oe,lt,se,J,Pe=F.data,xe=F.width,He=F.height,$e=4*xe,Xe=0;Xe<He;){for(ie=0;ie<$e;){for(Be=$e*Xe+ie,lt=-1,se=0,J=0;J<64;J++)oe=Be+(se=J>>3)*$e+(lt=4*(7&J)),Xe+se>=He&&(oe-=$e*(Xe+1+se-He)),ie+lt>=$e&&(oe-=ie+lt-$e+4),be=Pe[oe++],ue=Pe[oe++],je=Pe[oe++],w[J]=(S[be]+S[ue+256|0]+S[je+512|0]>>16)-128,v[J]=(S[be+768|0]+S[ue+1024|0]+S[je+1280|0]>>16)-128,j[J]=(S[be+1280|0]+S[ue+1536|0]+S[je+1792|0]>>16)-128;V=q(w,d,V,e,n),W=q(v,u,W,s,a),ne=q(j,u,ne,s,a),ie+=32}Xe+=8}if(b>=0){var he=[];he[1]=b+1,he[0]=(1<<b+1)-1,O(he)}return ee(65497),new Uint8Array(A)},t=t||50,(function(){for(var F=String.fromCharCode,z=0;z<256;z++)N[z]=F(z)})(),e=G(I,_),s=G(B,P),n=G(M,C),a=G(H,D),(function(){for(var F=1,z=2,V=1;V<=15;V++){for(var W=F;W<z;W++)m[32767+W]=V,h[32767+W]=[],h[32767+W][1]=V,h[32767+W][0]=W;for(var ne=-(z-1);ne<=-F;ne++)m[32767+ne]=V,h[32767+ne]=[],h[32767+ne][1]=V,h[32767+ne][0]=z-1+ne;F<<=1,z<<=1}})(),(function(){for(var F=0;F<256;F++)S[F]=19595*F,S[F+256|0]=38470*F,S[F+512|0]=7471*F+32768,S[F+768|0]=-11059*F,S[F+1024|0]=-21709*F,S[F+1280|0]=32768*F+8421375,S[F+1536|0]=-27439*F,S[F+1792|0]=-5329*F})(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Md(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function BG(t){function e(_){if(!_)throw Error("assert :P")}function s(_,M,C){for(var B=0;4>B;B++)if(_[M+B]!=C.charCodeAt(B))return!0;return!1}function n(_,M,C,B,P){for(var H=0;H<P;H++)_[M+H]=C[B+H]}function a(_,M,C,B){for(var P=0;P<B;P++)_[M+P]=C}function i(_){return new Int32Array(_)}function o(_,M){for(var C=[],B=0;B<_;B++)C.push(new M);return C}function l(_,M){var C=[];return(function B(P,H,D){for(var G=D[H],O=0;O<G&&(P.push(D.length>H+1?[]:new M),!(D.length<H+1));O++)B(P[O],H+1,D)})(C,0,_),C}var c=function(){var _=this;function M(L,U){for(var te=1<<U-1>>>0;L&te;)te>>>=1;return te?(L&te-1)+te:L}function C(L,U,te,ae,Ae){e(!(ae%te));do L[U+(ae-=te)]=Ae;while(0<ae)}function B(L,U,te,ae,Ae){if(e(2328>=Ae),512>=Ae)var we=i(512);else if((we=i(Ae))==null)return 0;return(function(Se,Ce,ke,Re,nt,wt){var Oe,ut,gt=Ce,Rt=1<<ke,St=i(16),Pt=i(16);for(e(nt!=0),e(Re!=null),e(Se!=null),e(0<ke),ut=0;ut<nt;++ut){if(15<Re[ut])return 0;++St[Re[ut]]}if(St[0]==nt)return 0;for(Pt[1]=0,Oe=1;15>Oe;++Oe){if(St[Oe]>1<<Oe)return 0;Pt[Oe+1]=Pt[Oe]+St[Oe]}for(ut=0;ut<nt;++ut)Oe=Re[ut],0<Re[ut]&&(wt[Pt[Oe]++]=ut);if(Pt[15]==1)return(Re=new P).g=0,Re.value=wt[0],C(Se,gt,1,Rt,Re),Rt;var It,zt=-1,Vt=Rt-1,Ir=0,jr=1,ns=1,kr=1<<ke;for(ut=0,Oe=1,nt=2;Oe<=ke;++Oe,nt<<=1){if(jr+=ns<<=1,0>(ns-=St[Oe]))return 0;for(;0<St[Oe];--St[Oe])(Re=new P).g=Oe,Re.value=wt[ut++],C(Se,gt+Ir,nt,kr,Re),Ir=M(Ir,Oe)}for(Oe=ke+1,nt=2;15>=Oe;++Oe,nt<<=1){if(jr+=ns<<=1,0>(ns-=St[Oe]))return 0;for(;0<St[Oe];--St[Oe]){if(Re=new P,(Ir&Vt)!=zt){for(gt+=kr,It=1<<(zt=Oe)-ke;15>zt&&!(0>=(It-=St[zt]));)++zt,It<<=1;Rt+=kr=1<<(It=zt-ke),Se[Ce+(zt=Ir&Vt)].g=It+ke,Se[Ce+zt].value=gt-Ce-zt}Re.g=Oe-ke,Re.value=wt[ut++],C(Se,gt+(Ir>>ke),nt,kr,Re),Ir=M(Ir,Oe)}}return jr!=2*Pt[15]-1?0:Rt})(L,U,te,ae,Ae,we)}function P(){this.value=this.g=0}function H(){this.value=this.g=0}function D(){this.G=o(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ml,H)}function G(L,U,te,ae){e(L!=null),e(U!=null),e(2147483648>ae),L.Ca=254,L.I=0,L.b=-8,L.Ka=0,L.oa=U,L.pa=te,L.Jd=U,L.Yc=te+ae,L.Zc=4<=ae?te+ae-4+1:te,be(L)}function O(L,U){for(var te=0;0<U--;)te|=je(L,128)<<U;return te}function Q(L,U){var te=O(L,U);return ue(L)?-te:te}function ee(L,U,te,ae){var Ae,we=0;for(e(L!=null),e(U!=null),e(4294967288>ae),L.Sb=ae,L.Ra=0,L.u=0,L.h=0,4<ae&&(ae=4),Ae=0;Ae<ae;++Ae)we+=U[te+Ae]<<8*Ae;L.Ra=we,L.bb=ae,L.oa=U,L.pa=te}function q(L){for(;8<=L.u&&L.bb<L.Sb;)L.Ra>>>=8,L.Ra+=L.oa[L.pa+L.bb]<<mu-8>>>0,++L.bb,L.u-=8;W(L)&&(L.h=1,L.u=0)}function Z(L,U){if(e(0<=U),!L.h&&U<=Go){var te=V(L)&zo[U];return L.u+=U,q(L),te}return L.h=1,L.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(L){return L.Ra>>>(L.u&mu-1)>>>0}function W(L){return e(L.bb<=L.Sb),L.h||L.bb==L.Sb&&L.u>mu}function ne(L,U){L.u=U,L.h=W(L)}function ie(L){L.u>=_c&&(e(L.u>=_c),q(L))}function be(L){e(L!=null&&L.oa!=null),L.pa<L.Zc?(L.I=(L.oa[L.pa++]|L.I<<8)>>>0,L.b+=8):(e(L!=null&&L.oa!=null),L.pa<L.Yc?(L.b+=8,L.I=L.oa[L.pa++]|L.I<<8):L.Ka?L.b=0:(L.I<<=8,L.b+=8,L.Ka=1))}function ue(L){return O(L,1)}function je(L,U){var te=L.Ca;0>L.b&&be(L);var ae=L.b,Ae=te*U>>>8,we=(L.I>>>ae>Ae)+0;for(we?(te-=Ae,L.I-=Ae+1<<ae>>>0):te=Ae+1,ae=te,Ae=0;256<=ae;)Ae+=8,ae>>=8;return ae=7^Ae+xd[ae],L.b-=ae,L.Ca=(te<<ae)-1,we}function Be(L,U,te){L[U+0]=te>>24&255,L[U+1]=te>>16&255,L[U+2]=te>>8&255,L[U+3]=255&te}function oe(L,U){return L[U+0]|L[U+1]<<8}function lt(L,U){return oe(L,U)|L[U+2]<<16}function se(L,U){return oe(L,U)|oe(L,U+2)<<16}function J(L,U){var te=1<<U;return e(L!=null),e(0<U),L.X=i(te),L.X==null?0:(L.Mb=32-U,L.Xa=U,1)}function Pe(L,U){e(L!=null),e(U!=null),e(L.Xa==U.Xa),n(U.X,0,L.X,0,1<<U.Xa)}function xe(){this.X=[],this.Xa=this.Mb=0}function He(L,U,te,ae){e(te!=null),e(ae!=null);var Ae=te[0],we=ae[0];return Ae==0&&(Ae=(L*we+U/2)/U),we==0&&(we=(U*Ae+L/2)/L),0>=Ae||0>=we?0:(te[0]=Ae,ae[0]=we,1)}function $e(L,U){return L+(1<<U)-1>>>U}function Xe(L,U){return((4278255360&L)+(4278255360&U)>>>0&4278255360)+((16711935&L)+(16711935&U)>>>0&16711935)>>>0}function he(L,U){_[U]=function(te,ae,Ae,we,Se,Ce,ke){var Re;for(Re=0;Re<Se;++Re){var nt=_[L](Ce[ke+Re-1],Ae,we+Re);Ce[ke+Re]=Xe(te[ae+Re],nt)}}}function ce(){this.ud=this.hd=this.jd=0}function _e(L,U){return((4278124286&(L^U))>>>1)+(L&U)>>>0}function Ke(L){return 0<=L&&256>L?L:0>L?0:255<L?255:void 0}function et(L,U){return Ke(L+(L-U+.5>>1))}function st(L,U,te){return Math.abs(U-te)-Math.abs(L-te)}function ot(L,U,te,ae,Ae,we,Se){for(ae=we[Se-1],te=0;te<Ae;++te)we[Se+te]=ae=Xe(L[U+te],ae)}function mt(L,U,te,ae,Ae){var we;for(we=0;we<te;++we){var Se=L[U+we],Ce=Se>>8&255,ke=16711935&(ke=(ke=16711935&Se)+((Ce<<16)+Ce));ae[Ae+we]=(4278255360&Se)+ke>>>0}}function At(L,U){U.jd=255&L,U.hd=L>>8&255,U.ud=L>>16&255}function Tt(L,U,te,ae,Ae,we){var Se;for(Se=0;Se<ae;++Se){var Ce=U[te+Se],ke=Ce>>>8,Re=Ce,nt=255&(nt=(nt=Ce>>>16)+((L.jd<<24>>24)*(ke<<24>>24)>>>5));Re=255&(Re=(Re+=(L.hd<<24>>24)*(ke<<24>>24)>>>5)+((L.ud<<24>>24)*(nt<<24>>24)>>>5)),Ae[we+Se]=(4278255360&Ce)+(nt<<16)+Re}}function rt(L,U,te,ae,Ae){_[U]=function(we,Se,Ce,ke,Re,nt,wt,Oe,ut){for(ke=wt;ke<Oe;++ke)for(wt=0;wt<ut;++wt)Re[nt++]=Ae(Ce[ae(we[Se++])])},_[L]=function(we,Se,Ce,ke,Re,nt,wt){var Oe=8>>we.b,ut=we.Ea,gt=we.K[0],Rt=we.w;if(8>Oe)for(we=(1<<we.b)-1,Rt=(1<<Oe)-1;Se<Ce;++Se){var St,Pt=0;for(St=0;St<ut;++St)St&we||(Pt=ae(ke[Re++])),nt[wt++]=Ae(gt[Pt&Rt]),Pt>>=Oe}else _["VP8LMapColor"+te](ke,Re,gt,Rt,nt,wt,Se,Ce,ut)}}function Dt(L,U,te,ae,Ae){for(te=U+te;U<te;){var we=L[U++];ae[Ae++]=we>>16&255,ae[Ae++]=we>>8&255,ae[Ae++]=255&we}}function Qt(L,U,te,ae,Ae){for(te=U+te;U<te;){var we=L[U++];ae[Ae++]=we>>16&255,ae[Ae++]=we>>8&255,ae[Ae++]=255&we,ae[Ae++]=we>>24&255}}function Yt(L,U,te,ae,Ae){for(te=U+te;U<te;){var we=(Se=L[U++])>>16&240|Se>>12&15,Se=240&Se|Se>>28&15;ae[Ae++]=we,ae[Ae++]=Se}}function kt(L,U,te,ae,Ae){for(te=U+te;U<te;){var we=(Se=L[U++])>>16&248|Se>>13&7,Se=Se>>5&224|Se>>3&31;ae[Ae++]=we,ae[Ae++]=Se}}function tt(L,U,te,ae,Ae){for(te=U+te;U<te;){var we=L[U++];ae[Ae++]=255&we,ae[Ae++]=we>>8&255,ae[Ae++]=we>>16&255}}function Ze(L,U,te,ae,Ae,we){if(we==0)for(te=U+te;U<te;)Be(ae,((we=L[U++])[0]>>24|we[1]>>8&65280|we[2]<<8&16711680|we[3]<<24)>>>0),Ae+=32;else n(ae,Ae,L,U,te)}function ye(L,U){_[U][0]=_[L+"0"],_[U][1]=_[L+"1"],_[U][2]=_[L+"2"],_[U][3]=_[L+"3"],_[U][4]=_[L+"4"],_[U][5]=_[L+"5"],_[U][6]=_[L+"6"],_[U][7]=_[L+"7"],_[U][8]=_[L+"8"],_[U][9]=_[L+"9"],_[U][10]=_[L+"10"],_[U][11]=_[L+"11"],_[U][12]=_[L+"12"],_[U][13]=_[L+"13"],_[U][14]=_[L+"0"],_[U][15]=_[L+"0"]}function fe(L){return L==rm||L==Mh||L==L0||L==D0}function Me(){this.eb=[],this.size=this.A=this.fb=0}function Le(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ge(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Me,this.f.kb=new Le,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ut(L){return alert("todo:WebPSamplerProcessPlane"),L.T}function Wt(L,U){var te=L.T,ae=U.ba.f.RGBA,Ae=ae.eb,we=ae.fb+L.ka*ae.A,Se=lo[U.ba.S],Ce=L.y,ke=L.O,Re=L.f,nt=L.N,wt=L.ea,Oe=L.W,ut=U.cc,gt=U.dc,Rt=U.Mc,St=U.Nc,Pt=L.ka,It=L.ka+L.T,zt=L.U,Vt=zt+1>>1;for(Pt==0?Se(Ce,ke,null,null,Re,nt,wt,Oe,Re,nt,wt,Oe,Ae,we,null,null,zt):(Se(U.ec,U.fc,Ce,ke,ut,gt,Rt,St,Re,nt,wt,Oe,Ae,we-ae.A,Ae,we,zt),++te);Pt+2<It;Pt+=2)ut=Re,gt=nt,Rt=wt,St=Oe,nt+=L.Rc,Oe+=L.Rc,we+=2*ae.A,Se(Ce,(ke+=2*L.fa)-L.fa,Ce,ke,ut,gt,Rt,St,Re,nt,wt,Oe,Ae,we-ae.A,Ae,we,zt);return ke+=L.fa,L.j+It<L.o?(n(U.ec,U.fc,Ce,ke,zt),n(U.cc,U.dc,Re,nt,Vt),n(U.Mc,U.Nc,wt,Oe,Vt),te--):1&It||Se(Ce,ke,null,null,Re,nt,wt,Oe,Re,nt,wt,Oe,Ae,we+ae.A,null,null,zt),te}function ur(L,U,te){var ae=L.F,Ae=[L.J];if(ae!=null){var we=L.U,Se=U.ba.S,Ce=Se==I0||Se==L0;U=U.ba.f.RGBA;var ke=[0],Re=L.ka;ke[0]=L.T,L.Kb&&(Re==0?--ke[0]:(--Re,Ae[0]-=L.width),L.j+L.ka+L.T==L.o&&(ke[0]=L.o-L.j-Re));var nt=U.eb;Re=U.fb+Re*U.A,L=F0(ae,Ae[0],L.width,we,ke,nt,Re+(Ce?0:3),U.A),e(te==ke),L&&fe(Se)&&Bh(nt,Re,Ce,we,ke,U.A)}return 0}function mr(L){var U=L.ma,te=U.ba.S,ae=11>te,Ae=te==gu||te==P0||te==I0||te==un||te==12||fe(te);if(U.memory=null,U.Ib=null,U.Jb=null,U.Nd=null,!Kf(U.Oa,L,Ae?11:12))return 0;if(Ae&&fe(te)&&vh(),L.da)alert("todo:use_scaling");else{if(ae){if(U.Ib=Ut,L.Kb){if(te=L.U+1>>1,U.memory=i(L.U+2*te),U.memory==null)return 0;U.ec=U.memory,U.fc=0,U.cc=U.ec,U.dc=U.fc+L.U,U.Mc=U.cc,U.Nc=U.dc+te,U.Ib=Wt,vh()}}else alert("todo:EmitYUV");Ae&&(U.Jb=ur,ae&&$l())}if(ae&&!si){for(L=0;256>L;++L)co[L]=89858*(L-128)+Wl>>yd,uo[L]=-22014*(L-128)+Wl,im[L]=-45773*(L-128),Lh[L]=113618*(L-128)+Wl>>yd;for(L=Ys;L<rn;++L)U=76283*(L-16)+Wl>>yd,Zx[L-Ys]=rr(U,255),Dw[L-Ys]=rr(U+8>>4,15);si=1}return 1}function or(L){var U=L.ma,te=L.U,ae=L.T;return e(!(1&L.ka)),0>=te||0>=ae?0:(te=U.Ib(L,U),U.Jb!=null&&U.Jb(L,U,te),U.Dc+=te,1)}function Jr(L){L.ma.memory=null}function it(L,U,te,ae){return Z(L,8)!=47?0:(U[0]=Z(L,14)+1,te[0]=Z(L,14)+1,ae[0]=Z(L,1),Z(L,3)!=0?0:!L.h)}function Ct(L,U){if(4>L)return L+1;var te=L-2>>1;return(2+(1&L)<<te)+Z(U,te)+1}function pr(L,U){return 120<U?U-120:1<=(te=((te=Q4[U-1])>>4)*L+(8-(15&te)))?te:1;var te}function yr(L,U,te){var ae=V(te),Ae=L[U+=255&ae].g-8;return 0<Ae&&(ne(te,te.u+8),ae=V(te),U+=L[U].value,U+=ae&(1<<Ae)-1),ne(te,te.u+L[U].g),L[U].value}function Jt(L,U,te){return te.g+=L.g,te.value+=L.value<<U>>>0,e(8>=te.g),L.g}function me(L,U,te){var ae=L.xc;return e((U=ae==0?0:L.vc[L.md*(te>>ae)+(U>>ae)])<L.Wb),L.Ya[U]}function Fe(L,U,te,ae){var Ae=L.ab,we=L.c*U,Se=L.C;U=Se+U;var Ce=te,ke=ae;for(ae=L.Ta,te=L.Ua;0<Ae--;){var Re=L.gc[Ae],nt=Se,wt=U,Oe=Ce,ut=ke,gt=(ke=ae,Ce=te,Re.Ea);switch(e(nt<wt),e(wt<=Re.nc),Re.hc){case 2:ca(Oe,ut,(wt-nt)*gt,ke,Ce);break;case 0:var Rt=nt,St=wt,Pt=ke,It=Ce,zt=(kr=Re).Ea;Rt==0&&(Ad(Oe,ut,null,null,1,Pt,It),ot(Oe,ut+1,0,0,zt-1,Pt,It+1),ut+=zt,It+=zt,++Rt);for(var Vt=1<<kr.b,Ir=Vt-1,jr=$e(zt,kr.b),ns=kr.K,kr=kr.w+(Rt>>kr.b)*jr;Rt<St;){var ys=ns,Yn=kr,is=1;for(Ec(Oe,ut,Pt,It-zt,1,Pt,It);is<zt;){var Nr=(is&~Ir)+Vt;Nr>zt&&(Nr=zt),(0,_h[ys[Yn++]>>8&15])(Oe,ut+ +is,Pt,It+is-zt,Nr-is,Pt,It+is),is=Nr}ut+=zt,It+=zt,++Rt&Ir||(kr+=jr)}wt!=Re.nc&&n(ke,Ce-gt,ke,Ce+(wt-nt-1)*gt,gt);break;case 1:for(gt=Oe,St=ut,zt=(Oe=Re.Ea)-(It=Oe&~(Pt=(ut=1<<Re.b)-1)),Rt=$e(Oe,Re.b),Vt=Re.K,Re=Re.w+(nt>>Re.b)*Rt;nt<wt;){for(Ir=Vt,jr=Re,ns=new ce,kr=St+It,ys=St+Oe;St<kr;)At(Ir[jr++],ns),Yf(ns,gt,St,ut,ke,Ce),St+=ut,Ce+=ut;St<ys&&(At(Ir[jr++],ns),Yf(ns,gt,St,zt,ke,Ce),St+=zt,Ce+=zt),++nt&Pt||(Re+=Rt)}break;case 3:if(Oe==ke&&ut==Ce&&0<Re.b){for(St=ke,Oe=gt=Ce+(wt-nt)*gt-(It=(wt-nt)*$e(Re.Ea,Re.b)),ut=ke,Pt=Ce,Rt=[],It=(zt=It)-1;0<=It;--It)Rt[It]=ut[Pt+It];for(It=zt-1;0<=It;--It)St[Oe+It]=Rt[It];Sh(Re,nt,wt,ke,gt,ke,Ce)}else Sh(Re,nt,wt,Oe,ut,ke,Ce)}Ce=ae,ke=te}ke!=te&&n(ae,te,Ce,ke,we)}function Ee(L,U){var te=L.V,ae=L.Ba+L.c*L.C,Ae=U-L.C;if(e(U<=L.l.o),e(16>=Ae),0<Ae){var we=L.l,Se=L.Ta,Ce=L.Ua,ke=we.width;if(Fe(L,Ae,te,ae),Ae=Ce=[Ce],e((te=L.C)<(ae=U)),e(we.v<we.va),ae>we.o&&(ae=we.o),te<we.j){var Re=we.j-te;te=we.j,Ae[0]+=Re*ke}if(te>=ae?te=0:(Ae[0]+=4*we.v,we.ka=te-we.j,we.U=we.va-we.v,we.T=ae-te,te=1),te){if(Ce=Ce[0],11>(te=L.ca).S){var nt=te.f.RGBA,wt=(ae=te.S,Ae=we.U,we=we.T,Re=nt.eb,nt.A),Oe=we;for(nt=nt.fb+L.Ma*nt.A;0<Oe--;){var ut=Se,gt=Ce,Rt=Ae,St=Re,Pt=nt;switch(ae){case Kx:Jf(ut,gt,Rt,St,Pt);break;case gu:gd(ut,gt,Rt,St,Pt);break;case rm:gd(ut,gt,Rt,St,Pt),Bh(St,Pt,0,Rt,1,0);break;case Mw:Eh(ut,gt,Rt,St,Pt);break;case P0:Ze(ut,gt,Rt,St,Pt,1);break;case Mh:Ze(ut,gt,Rt,St,Pt,1),Bh(St,Pt,0,Rt,1,0);break;case I0:Ze(ut,gt,Rt,St,Pt,0);break;case L0:Ze(ut,gt,Rt,St,Pt,0),Bh(St,Pt,1,Rt,1,0);break;case un:pu(ut,gt,Rt,St,Pt);break;case D0:pu(ut,gt,Rt,St,Pt),Hb(St,Pt,Rt,1,0);break;case Xx:xu(ut,gt,Rt,St,Pt);break;default:e(0)}Ce+=ke,nt+=wt}L.Ma+=we}else alert("todo:EmitRescaledRowsYUVA");e(L.Ma<=te.height)}}L.C=U,e(L.C<=L.i)}function Te(L){var U;if(0<L.ua)return 0;for(U=0;U<L.Wb;++U){var te=L.Ya[U].G,ae=L.Ya[U].H;if(0<te[1][ae[1]+0].g||0<te[2][ae[2]+0].g||0<te[3][ae[3]+0].g)return 0}return 1}function Ie(L,U,te,ae,Ae,we){if(L.Z!=0){var Se=L.qd,Ce=L.rd;for(e(vi[L.Z]!=null);U<te;++U)vi[L.Z](Se,Ce,ae,Ae,ae,Ae,we),Se=ae,Ce=Ae,Ae+=we;L.qd=Se,L.rd=Ce}}function De(L,U){var te=L.l.ma,ae=te.Z==0||te.Z==1?L.l.j:L.C;if(ae=L.C<ae?ae:L.C,e(U<=L.l.o),U>ae){var Ae=L.l.width,we=te.ca,Se=te.tb+Ae*ae,Ce=L.V,ke=L.Ba+L.c*ae,Re=L.gc;e(L.ab==1),e(Re[0].hc==3),Gl(Re[0],ae,U,Ce,ke,we,Se),Ie(te,ae,U,we,Se,Ae)}L.C=L.Ma=U}function pt(L,U,te,ae,Ae,we,Se){var Ce=L.$/ae,ke=L.$%ae,Re=L.m,nt=L.s,wt=te+L.$,Oe=wt;Ae=te+ae*Ae;var ut=te+ae*we,gt=280+nt.ua,Rt=L.Pb?Ce:16777216,St=0<nt.ua?nt.Wa:null,Pt=nt.wc,It=wt<ut?me(nt,ke,Ce):null;e(L.C<we),e(ut<=Ae);var zt=!1;e:for(;;){for(;zt||wt<ut;){var Vt=0;if(Ce>=Rt){var Ir=wt-te;e((Rt=L).Pb),Rt.wd=Rt.m,Rt.xd=Ir,0<Rt.s.ua&&Pe(Rt.s.Wa,Rt.s.vb),Rt=Ce+Jx}if(ke&Pt||(It=me(nt,ke,Ce)),e(It!=null),It.Qb&&(U[wt]=It.qb,zt=!0),!zt)if(ie(Re),It.jc){Vt=Re,Ir=U;var jr=wt,ns=It.pd[V(Vt)&ml-1];e(It.jc),256>ns.g?(ne(Vt,Vt.u+ns.g),Ir[jr]=ns.value,Vt=0):(ne(Vt,Vt.u+ns.g-256),e(256<=ns.value),Vt=ns.value),Vt==0&&(zt=!0)}else Vt=yr(It.G[0],It.H[0],Re);if(Re.h)break;if(zt||256>Vt){if(!zt)if(It.nd)U[wt]=(It.qb|Vt<<8)>>>0;else{if(ie(Re),zt=yr(It.G[1],It.H[1],Re),ie(Re),Ir=yr(It.G[2],It.H[2],Re),jr=yr(It.G[3],It.H[3],Re),Re.h)break;U[wt]=(jr<<24|zt<<16|Vt<<8|Ir)>>>0}if(zt=!1,++wt,++ke>=ae&&(ke=0,++Ce,Se!=null&&Ce<=we&&!(Ce%16)&&Se(L,Ce),St!=null))for(;Oe<wt;)Vt=U[Oe++],St.X[(506832829*Vt&4294967295)>>>St.Mb]=Vt}else if(280>Vt){if(Vt=Ct(Vt-256,Re),Ir=yr(It.G[4],It.H[4],Re),ie(Re),Ir=pr(ae,Ir=Ct(Ir,Re)),Re.h)break;if(wt-te<Ir||Ae-wt<Vt)break e;for(jr=0;jr<Vt;++jr)U[wt+jr]=U[wt+jr-Ir];for(wt+=Vt,ke+=Vt;ke>=ae;)ke-=ae,++Ce,Se!=null&&Ce<=we&&!(Ce%16)&&Se(L,Ce);if(e(wt<=Ae),ke&Pt&&(It=me(nt,ke,Ce)),St!=null)for(;Oe<wt;)Vt=U[Oe++],St.X[(506832829*Vt&4294967295)>>>St.Mb]=Vt}else{if(!(Vt<gt))break e;for(zt=Vt-280,e(St!=null);Oe<wt;)Vt=U[Oe++],St.X[(506832829*Vt&4294967295)>>>St.Mb]=Vt;Vt=wt,e(!(zt>>>(Ir=St).Xa)),U[Vt]=Ir.X[zt],zt=!0}zt||e(Re.h==W(Re))}if(L.Pb&&Re.h&&wt<Ae)e(L.m.h),L.a=5,L.m=L.wd,L.$=L.xd,0<L.s.ua&&Pe(L.s.vb,L.s.Wa);else{if(Re.h)break e;Se!=null&&Se(L,Ce>we?we:Ce),L.a=0,L.$=wt-te}return 1}return L.a=3,0}function Et(L){e(L!=null),L.vc=null,L.yc=null,L.Ya=null;var U=L.Wa;U!=null&&(U.X=null),L.vb=null,e(L!=null)}function bt(){var L=new Xr;return L==null?null:(L.a=0,L.xb=nm,ye("Predictor","VP8LPredictors"),ye("Predictor","VP8LPredictors_C"),ye("PredictorAdd","VP8LPredictorsAdd"),ye("PredictorAdd","VP8LPredictorsAdd_C"),ca=mt,Yf=Tt,Jf=Dt,gd=Qt,pu=Yt,xu=kt,Eh=tt,_.VP8LMapColor32b=kc,_.VP8LMapColor8b=Ch,L)}function vt(L,U,te,ae,Ae){var we=1,Se=[L],Ce=[U],ke=ae.m,Re=ae.s,nt=null,wt=0;e:for(;;){if(te)for(;we&&Z(ke,1);){var Oe=Se,ut=Ce,gt=ae,Rt=1,St=gt.m,Pt=gt.gc[gt.ab],It=Z(St,2);if(gt.Oc&1<<It)we=0;else{switch(gt.Oc|=1<<It,Pt.hc=It,Pt.Ea=Oe[0],Pt.nc=ut[0],Pt.K=[null],++gt.ab,e(4>=gt.ab),It){case 0:case 1:Pt.b=Z(St,3)+2,Rt=vt($e(Pt.Ea,Pt.b),$e(Pt.nc,Pt.b),0,gt,Pt.K),Pt.K=Pt.K[0];break;case 3:var zt,Vt=Z(St,8)+1,Ir=16<Vt?0:4<Vt?1:2<Vt?2:3;if(Oe[0]=$e(Pt.Ea,Ir),Pt.b=Ir,zt=Rt=vt(Vt,1,0,gt,Pt.K)){var jr,ns=Vt,kr=Pt,ys=1<<(8>>kr.b),Yn=i(ys);if(Yn==null)zt=0;else{var is=kr.K[0],Nr=kr.w;for(Yn[0]=kr.K[0][0],jr=1;jr<1*ns;++jr)Yn[jr]=Xe(is[Nr+jr],Yn[jr-1]);for(;jr<4*ys;++jr)Yn[jr]=0;kr.K[0]=null,kr.K[0]=Yn,zt=1}}Rt=zt;break;case 2:break;default:e(0)}we=Rt}}if(Se=Se[0],Ce=Ce[0],we&&Z(ke,1)&&!(we=1<=(wt=Z(ke,4))&&11>=wt)){ae.a=3;break e}var lr;if(lr=we)t:{var da,Or,gs,sn=ae,Jn=Se,ni=Ce,Bn=wt,Qa=te,ai=sn.m,Mn=sn.s,rs=[null],ws=1,Fn=0,Qs=Pw[Bn];r:for(;;){if(Qa&&Z(ai,1)){var jn=Z(ai,3)+2,$a=$e(Jn,jn),$n=$e(ni,jn),Hi=$a*$n;if(!vt($a,$n,0,sn,rs))break r;for(rs=rs[0],Mn.xc=jn,da=0;da<Hi;++da){var js=rs[da]>>8&65535;rs[da]=js,js>=ws&&(ws=js+1)}}if(ai.h)break r;for(Or=0;5>Or;++Or){var gn=Fh[Or];!Or&&0<Bn&&(gn+=1<<Bn),Fn<gn&&(Fn=gn)}var wi=o(ws*Qs,P),ji=ws,Ni=o(ji,D);if(Ni==null)var ho=null;else e(65536>=ji),ho=Ni;var Qi=i(Fn);if(ho==null||Qi==null||wi==null){sn.a=1;break r}var $i=wi;for(da=gs=0;da<ws;++da){var Js=ho[da],fo=Js.G,Al=Js.H,vu=0,ql=1,ua=0;for(Or=0;5>Or;++Or){gn=Fh[Or],fo[Or]=$i,Al[Or]=gs,!Or&&0<Bn&&(gn+=1<<Bn);n:{var Rh,eA=gn,Q0=sn,Mc=Qi,Ow=$i,$0=gs,gl=0,bl=Q0.m,z0=Z(bl,1);if(a(Mc,0,0,eA),z0){var Oh=Z(bl,1)+1,Zb=Z(bl,1),Uh=Z(bl,Zb==0?1:8);Mc[Uh]=1,Oh==2&&(Mc[Uh=Z(bl,8)]=1);var G0=1}else{var tA=i(19),Pn=Z(bl,4)+4;if(19<Pn){Q0.a=3;var Hh=0;break n}for(Rh=0;Rh<Pn;++Rh)tA[H4[Rh]]=Z(bl,3);var V0=void 0,Qh=void 0,W0=Q0,ey=tA,Fc=eA,In=Mc,ha=0,Nn=W0.m,q0=8,om=o(128,P);s:for(;B(om,0,7,ey,19);){if(Z(Nn,1)){var K0=2+2*Z(Nn,3);if((V0=2+Z(Nn,K0))>Fc)break s}else V0=Fc;for(Qh=0;Qh<Fc&&V0--;){ie(Nn);var Uw=om[0+(127&V(Nn))];ne(Nn,Nn.u+Uw.g);var fa=Uw.value;if(16>fa)In[Qh++]=fa,fa!=0&&(q0=fa);else{var ty=fa==16,rA=fa-16,ry=Yx[rA],Kl=Z(Nn,R0[rA])+ry;if(Qh+Kl>Fc)break s;for(var yl=ty?q0:0;0<Kl--;)In[Qh++]=yl}}ha=1;break s}ha||(W0.a=3),G0=ha}(G0=G0&&!bl.h)&&(gl=B(Ow,$0,8,Mc,eA)),G0&&gl!=0?Hh=gl:(Q0.a=3,Hh=0)}if(Hh==0)break r;if(ql&&Fw[Or]==1&&(ql=$i[gs].g==0),vu+=$i[gs].g,gs+=Hh,3>=Or){var wd,X0=Qi[0];for(wd=1;wd<gn;++wd)Qi[wd]>X0&&(X0=Qi[wd]);ua+=X0}}if(Js.nd=ql,Js.Qb=0,ql&&(Js.qb=(fo[3][Al[3]+0].value<<24|fo[1][Al[1]+0].value<<16|fo[2][Al[2]+0].value)>>>0,vu==0&&256>fo[0][Al[0]+0].value&&(Js.Qb=1,Js.qb+=fo[0][Al[0]+0].value<<8)),Js.jc=!Js.Qb&&6>ua,Js.jc){var lm,Pc=Js;for(lm=0;lm<ml;++lm){var jd=lm,Nd=Pc.pd[jd],Y0=Pc.G[0][Pc.H[0]+jd];256<=Y0.value?(Nd.g=Y0.g+256,Nd.value=Y0.value):(Nd.g=0,Nd.value=0,jd>>=Jt(Y0,8,Nd),jd>>=Jt(Pc.G[1][Pc.H[1]+jd],16,Nd),jd>>=Jt(Pc.G[2][Pc.H[2]+jd],0,Nd),Jt(Pc.G[3][Pc.H[3]+jd],24,Nd))}}}Mn.vc=rs,Mn.Wb=ws,Mn.Ya=ho,Mn.yc=wi,lr=1;break t}lr=0}if(!(we=lr)){ae.a=3;break e}if(0<wt){if(Re.ua=1<<wt,!J(Re.Wa,wt)){ae.a=1,we=0;break e}}else Re.ua=0;var sA=ae,sy=Se,Hw=Ce,nA=sA.s,$h=nA.xc;if(sA.c=sy,sA.i=Hw,nA.md=$e(sy,$h),nA.wc=$h==0?-1:(1<<$h)-1,te){ae.xb=Bc;break e}if((nt=i(Se*Ce))==null){ae.a=1,we=0;break e}we=(we=pt(ae,nt,0,Se,Ce,Ce,null))&&!ke.h;break e}return we?(Ae!=null?Ae[0]=nt:(e(nt==null),e(te)),ae.$=0,te||Et(Re)):Et(Re),we}function Nt(L,U){var te=L.c*L.i,ae=te+U+16*U;return e(L.c<=U),L.V=i(ae),L.V==null?(L.Ta=null,L.Ua=0,L.a=1,0):(L.Ta=L.V,L.Ua=L.Ba+te+U,1)}function pe(L,U){var te=L.C,ae=U-te,Ae=L.V,we=L.Ba+L.c*te;for(e(U<=L.l.o);0<ae;){var Se=16<ae?16:ae,Ce=L.l.ma,ke=L.l.width,Re=ke*Se,nt=Ce.ca,wt=Ce.tb+ke*te,Oe=L.Ta,ut=L.Ua;Fe(L,Se,Ae,we),Qb(Oe,ut,nt,wt,Re),Ie(Ce,te,te+Se,nt,wt,ke),ae-=Se,Ae+=Se*L.c,te+=Se}e(te==U),L.C=L.Ma=U}function ze(){this.ub=this.yd=this.td=this.Rb=0}function Ye(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function le(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ne(){this.Yb=(function(){var L=[];return(function U(te,ae,Ae){for(var we=Ae[ae],Se=0;Se<we&&(te.push(Ae.length>ae+1?[]:0),!(Ae.length<ae+1));Se++)U(te[Se],ae+1,Ae)})(L,0,[3,11]),L})()}function de(){this.jb=i(3),this.Wc=l([4,8],Ne),this.Xc=l([4,17],Ne)}function Ue(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function qe(){this.ld=this.La=this.dd=this.tc=0}function dt(){this.Na=this.la=0}function Gt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Mt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ot(){this.uc=this.M=this.Nb=0,this.wa=Array(new qe),this.Y=0,this.ya=Array(new Mt),this.aa=0,this.l=new dr}function qt(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Kt(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new ze,this.Kc=new Ye,this.ed=new Ue,this.Qa=new le,this.Ic=this.$c=this.Aa=0,this.D=new Ot,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,F),this.ia=0,this.pb=o(4,Gt),this.Pa=new de,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qt),this.Hd=0,this.rb=Array(new dt),this.sb=0,this.wa=Array(new qe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Mt),this.L=this.aa=0,this.gd=l([4,2],qe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rr(L,U){return 0>L?0:L>U?U:L}function dr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kr(){var L=new Kt;return L!=null&&(L.a=0,L.sc="OK",L.cb=0,L.Xb=0,Ph||(Ph=en)),L}function cr(L,U,te){return L.a==0&&(L.a=U,L.sc=te,L.cb=0),0}function Cs(L,U,te){return 3<=te&&L[U+0]==157&&L[U+1]==1&&L[U+2]==42}function Ur(L,U){if(L==null)return 0;if(L.a=0,L.sc="OK",U==null)return cr(L,2,"null VP8Io passed to VP8GetHeaders()");var te=U.data,ae=U.w,Ae=U.ha;if(4>Ae)return cr(L,7,"Truncated header.");var we=te[ae+0]|te[ae+1]<<8|te[ae+2]<<16,Se=L.Od;if(Se.Rb=!(1&we),Se.td=we>>1&7,Se.yd=we>>4&1,Se.ub=we>>5,3<Se.td)return cr(L,3,"Incorrect keyframe parameters.");if(!Se.yd)return cr(L,4,"Frame not displayable.");ae+=3,Ae-=3;var Ce=L.Kc;if(Se.Rb){if(7>Ae)return cr(L,7,"cannot parse picture header");if(!Cs(te,ae,Ae))return cr(L,3,"Bad code word");Ce.c=16383&(te[ae+4]<<8|te[ae+3]),Ce.Td=te[ae+4]>>6,Ce.i=16383&(te[ae+6]<<8|te[ae+5]),Ce.Ud=te[ae+6]>>6,ae+=7,Ae-=7,L.za=Ce.c+15>>4,L.Ub=Ce.i+15>>4,U.width=Ce.c,U.height=Ce.i,U.Da=0,U.j=0,U.v=0,U.va=U.width,U.o=U.height,U.da=0,U.ib=U.width,U.hb=U.height,U.U=U.width,U.T=U.height,a((we=L.Pa).jb,0,255,we.jb.length),e((we=L.Qa)!=null),we.Cb=0,we.Bb=0,we.Fb=1,a(we.Zb,0,0,we.Zb.length),a(we.Lb,0,0,we.Lb)}if(Se.ub>Ae)return cr(L,7,"bad partition length");G(we=L.m,te,ae,Se.ub),ae+=Se.ub,Ae-=Se.ub,Se.Rb&&(Ce.Ld=ue(we),Ce.Kd=ue(we)),Ce=L.Qa;var ke,Re=L.Pa;if(e(we!=null),e(Ce!=null),Ce.Cb=ue(we),Ce.Cb){if(Ce.Bb=ue(we),ue(we)){for(Ce.Fb=ue(we),ke=0;4>ke;++ke)Ce.Zb[ke]=ue(we)?Q(we,7):0;for(ke=0;4>ke;++ke)Ce.Lb[ke]=ue(we)?Q(we,6):0}if(Ce.Bb)for(ke=0;3>ke;++ke)Re.jb[ke]=ue(we)?O(we,8):255}else Ce.Bb=0;if(we.Ka)return cr(L,3,"cannot parse segment header");if((Ce=L.ed).zd=ue(we),Ce.Tb=O(we,6),Ce.wb=O(we,3),Ce.Pc=ue(we),Ce.Pc&&ue(we)){for(Re=0;4>Re;++Re)ue(we)&&(Ce.vd[Re]=Q(we,6));for(Re=0;4>Re;++Re)ue(we)&&(Ce.od[Re]=Q(we,6))}if(L.L=Ce.Tb==0?0:Ce.zd?1:2,we.Ka)return cr(L,3,"cannot parse filter header");var nt=Ae;if(Ae=ke=ae,ae=ke+nt,Ce=nt,L.Xb=(1<<O(L.m,2))-1,nt<3*(Re=L.Xb))te=7;else{for(ke+=3*Re,Ce-=3*Re,nt=0;nt<Re;++nt){var wt=te[Ae+0]|te[Ae+1]<<8|te[Ae+2]<<16;wt>Ce&&(wt=Ce),G(L.Jc[+nt],te,ke,wt),ke+=wt,Ce-=wt,Ae+=3}G(L.Jc[+Re],te,ke,Ce),te=ke<ae?0:5}if(te!=0)return cr(L,te,"cannot parse partitions");for(te=O(ke=L.m,7),Ae=ue(ke)?Q(ke,4):0,ae=ue(ke)?Q(ke,4):0,Ce=ue(ke)?Q(ke,4):0,Re=ue(ke)?Q(ke,4):0,ke=ue(ke)?Q(ke,4):0,nt=L.Qa,wt=0;4>wt;++wt){if(nt.Cb){var Oe=nt.Zb[wt];nt.Fb||(Oe+=te)}else{if(0<wt){L.pb[wt]=L.pb[0];continue}Oe=te}var ut=L.pb[wt];ut.Sc[0]=sm[rr(Oe+Ae,127)],ut.Sc[1]=O0[rr(Oe+0,127)],ut.Eb[0]=2*sm[rr(Oe+ae,127)],ut.Eb[1]=101581*O0[rr(Oe+Ce,127)]>>16,8>ut.Eb[1]&&(ut.Eb[1]=8),ut.Qc[0]=sm[rr(Oe+Re,117)],ut.Qc[1]=O0[rr(Oe+ke,127)],ut.lc=Oe+ke}if(!Se.Rb)return cr(L,4,"Not a key frame.");for(ue(we),Se=L.Pa,te=0;4>te;++te){for(Ae=0;8>Ae;++Ae)for(ae=0;3>ae;++ae)for(Ce=0;11>Ce;++Ce)Re=je(we,z4[te][Ae][ae][Ce])?O(we,8):Lw[te][Ae][ae][Ce],Se.Wc[te][Ae].Yb[ae][Ce]=Re;for(Ae=0;17>Ae;++Ae)Se.Xc[te][Ae]=Se.Wc[te][Xb[Ae]]}return L.kc=ue(we),L.kc&&(L.Bd=O(we,8)),L.cb=1}function en(L,U,te,ae,Ae,we,Se){var Ce=U[Ae].Yb[te];for(te=0;16>Ae;++Ae){if(!je(L,Ce[te+0]))return Ae;for(;!je(L,Ce[te+1]);)if(Ce=U[++Ae].Yb[0],te=0,Ae==16)return 16;var ke=U[Ae+1].Yb;if(je(L,Ce[te+2])){var Re=L,nt=0;if(je(Re,(Oe=Ce)[(wt=te)+3]))if(je(Re,Oe[wt+6])){for(Ce=0,wt=2*(nt=je(Re,Oe[wt+8]))+(Oe=je(Re,Oe[wt+9+nt])),nt=0,Oe=qb[wt];Oe[Ce];++Ce)nt+=nt+je(Re,Oe[Ce]);nt+=3+(8<<wt)}else je(Re,Oe[wt+7])?(nt=7+2*je(Re,165),nt+=je(Re,145)):nt=5+je(Re,159);else nt=je(Re,Oe[wt+4])?3+je(Re,Oe[wt+5]):2;Ce=ke[2]}else nt=1,Ce=ke[1];ke=Se+Kb[Ae],0>(Re=L).b&&be(Re);var wt,Oe=Re.b,ut=(wt=Re.Ca>>1)-(Re.I>>Oe)>>31;--Re.b,Re.Ca+=ut,Re.Ca|=1,Re.I-=(wt+1&ut)<<Oe,we[ke]=((nt^ut)-ut)*ae[(0<Ae)+0]}return 16}function Aa(L){var U=L.rb[L.sb-1];U.la=0,U.Na=0,a(L.zc,0,0,L.zc.length),L.ja=0}function Ks(L,U,te,ae,Ae){Ae=L[U+te+32*ae]+(Ae>>3),L[U+te+32*ae]=-256&Ae?0>Ae?0:255:Ae}function Ls(L,U,te,ae,Ae,we){Ks(L,U,0,te,ae+Ae),Ks(L,U,1,te,ae+we),Ks(L,U,2,te,ae-we),Ks(L,U,3,te,ae-Ae)}function xs(L){return(20091*L>>16)+L}function ga(L,U,te,ae){var Ae,we=0,Se=i(16);for(Ae=0;4>Ae;++Ae){var Ce=L[U+0]+L[U+8],ke=L[U+0]-L[U+8],Re=(35468*L[U+4]>>16)-xs(L[U+12]),nt=xs(L[U+4])+(35468*L[U+12]>>16);Se[we+0]=Ce+nt,Se[we+1]=ke+Re,Se[we+2]=ke-Re,Se[we+3]=Ce-nt,we+=4,U++}for(Ae=we=0;4>Ae;++Ae)Ce=(L=Se[we+0]+4)+Se[we+8],ke=L-Se[we+8],Re=(35468*Se[we+4]>>16)-xs(Se[we+12]),Ks(te,ae,0,0,Ce+(nt=xs(Se[we+4])+(35468*Se[we+12]>>16))),Ks(te,ae,1,0,ke+Re),Ks(te,ae,2,0,ke-Re),Ks(te,ae,3,0,Ce-nt),we++,ae+=32}function Tn(L,U,te,ae){var Ae=L[U+0]+4,we=35468*L[U+4]>>16,Se=xs(L[U+4]),Ce=35468*L[U+1]>>16;Ls(te,ae,0,Ae+Se,L=xs(L[U+1]),Ce),Ls(te,ae,1,Ae+we,L,Ce),Ls(te,ae,2,Ae-we,L,Ce),Ls(te,ae,3,Ae-Se,L,Ce)}function dn(L,U,te,ae,Ae){ga(L,U,te,ae),Ae&&ga(L,U+16,te,ae+4)}function Xs(L,U,te,ae){kh(L,U+0,te,ae,1),kh(L,U+32,te,ae+128,1)}function ro(L,U,te,ae){var Ae;for(L=L[U+0]+4,Ae=0;4>Ae;++Ae)for(U=0;4>U;++U)Ks(te,ae,U,Ae,L)}function ss(L,U,te,ae){L[U+0]&&Ds(L,U+0,te,ae),L[U+16]&&Ds(L,U+16,te,ae+4),L[U+32]&&Ds(L,U+32,te,ae+128),L[U+48]&&Ds(L,U+48,te,ae+128+4)}function Di(L,U,te,ae){var Ae,we=i(16);for(Ae=0;4>Ae;++Ae){var Se=L[U+0+Ae]+L[U+12+Ae],Ce=L[U+4+Ae]+L[U+8+Ae],ke=L[U+4+Ae]-L[U+8+Ae],Re=L[U+0+Ae]-L[U+12+Ae];we[0+Ae]=Se+Ce,we[8+Ae]=Se-Ce,we[4+Ae]=Re+ke,we[12+Ae]=Re-ke}for(Ae=0;4>Ae;++Ae)Se=(L=we[0+4*Ae]+3)+we[3+4*Ae],Ce=we[1+4*Ae]+we[2+4*Ae],ke=we[1+4*Ae]-we[2+4*Ae],Re=L-we[3+4*Ae],te[ae+0]=Se+Ce>>3,te[ae+16]=Re+ke>>3,te[ae+32]=Se-Ce>>3,te[ae+48]=Re-ke>>3,ae+=64}function lu(L,U,te){var ae,Ae=U-32,we=Oi,Se=255-L[Ae-1];for(ae=0;ae<te;++ae){var Ce,ke=we,Re=Se+L[U-1];for(Ce=0;Ce<te;++Ce)L[U+Ce]=ke[Re+L[Ae+Ce]];U+=32}}function N0(L,U){lu(L,U,4)}function Qx(L,U){lu(L,U,8)}function $x(L,U){lu(L,U,16)}function Qf(L,U){var te;for(te=0;16>te;++te)n(L,U+32*te,L,U-32,16)}function $f(L,U){var te;for(te=16;0<te;--te)a(L,U,L[U-1],16),U+=32}function so(L,U,te){var ae;for(ae=0;16>ae;++ae)a(U,te+32*ae,L,16)}function jc(L,U){var te,ae=16;for(te=0;16>te;++te)ae+=L[U-1+32*te]+L[U+te-32];so(ae>>5,L,U)}function no(L,U){var te,ae=8;for(te=0;16>te;++te)ae+=L[U-1+32*te];so(ae>>4,L,U)}function cl(L,U){var te,ae=8;for(te=0;16>te;++te)ae+=L[U+te-32];so(ae>>4,L,U)}function ph(L,U){so(128,L,U)}function Vr(L,U,te){return L+2*U+te+2>>2}function Nc(L,U){var te,ae=U-32;for(ae=new Uint8Array([Vr(L[ae-1],L[ae+0],L[ae+1]),Vr(L[ae+0],L[ae+1],L[ae+2]),Vr(L[ae+1],L[ae+2],L[ae+3]),Vr(L[ae+2],L[ae+3],L[ae+4])]),te=0;4>te;++te)n(L,U+32*te,ae,0,ae.length)}function Ob(L,U){var te=L[U-1],ae=L[U-1+32],Ae=L[U-1+64],we=L[U-1+96];Be(L,U+0,16843009*Vr(L[U-1-32],te,ae)),Be(L,U+32,16843009*Vr(te,ae,Ae)),Be(L,U+64,16843009*Vr(ae,Ae,we)),Be(L,U+96,16843009*Vr(Ae,we,we))}function zx(L,U){var te,ae=4;for(te=0;4>te;++te)ae+=L[U+te-32]+L[U-1+32*te];for(ae>>=3,te=0;4>te;++te)a(L,U+32*te,ae,4)}function Qo(L,U){var te=L[U-1+0],ae=L[U-1+32],Ae=L[U-1+64],we=L[U-1-32],Se=L[U+0-32],Ce=L[U+1-32],ke=L[U+2-32],Re=L[U+3-32];L[U+0+96]=Vr(ae,Ae,L[U-1+96]),L[U+1+96]=L[U+0+64]=Vr(te,ae,Ae),L[U+2+96]=L[U+1+64]=L[U+0+32]=Vr(we,te,ae),L[U+3+96]=L[U+2+64]=L[U+1+32]=L[U+0+0]=Vr(Se,we,te),L[U+3+64]=L[U+2+32]=L[U+1+0]=Vr(Ce,Se,we),L[U+3+32]=L[U+2+0]=Vr(ke,Ce,Se),L[U+3+0]=Vr(Re,ke,Ce)}function ud(L,U){var te=L[U+1-32],ae=L[U+2-32],Ae=L[U+3-32],we=L[U+4-32],Se=L[U+5-32],Ce=L[U+6-32],ke=L[U+7-32];L[U+0+0]=Vr(L[U+0-32],te,ae),L[U+1+0]=L[U+0+32]=Vr(te,ae,Ae),L[U+2+0]=L[U+1+32]=L[U+0+64]=Vr(ae,Ae,we),L[U+3+0]=L[U+2+32]=L[U+1+64]=L[U+0+96]=Vr(Ae,we,Se),L[U+3+32]=L[U+2+64]=L[U+1+96]=Vr(we,Se,Ce),L[U+3+64]=L[U+2+96]=Vr(Se,Ce,ke),L[U+3+96]=Vr(Ce,ke,ke)}function Gx(L,U){var te=L[U-1+0],ae=L[U-1+32],Ae=L[U-1+64],we=L[U-1-32],Se=L[U+0-32],Ce=L[U+1-32],ke=L[U+2-32],Re=L[U+3-32];L[U+0+0]=L[U+1+64]=we+Se+1>>1,L[U+1+0]=L[U+2+64]=Se+Ce+1>>1,L[U+2+0]=L[U+3+64]=Ce+ke+1>>1,L[U+3+0]=ke+Re+1>>1,L[U+0+96]=Vr(Ae,ae,te),L[U+0+64]=Vr(ae,te,we),L[U+0+32]=L[U+1+96]=Vr(te,we,Se),L[U+1+32]=L[U+2+96]=Vr(we,Se,Ce),L[U+2+32]=L[U+3+96]=Vr(Se,Ce,ke),L[U+3+32]=Vr(Ce,ke,Re)}function zf(L,U){var te=L[U+0-32],ae=L[U+1-32],Ae=L[U+2-32],we=L[U+3-32],Se=L[U+4-32],Ce=L[U+5-32],ke=L[U+6-32],Re=L[U+7-32];L[U+0+0]=te+ae+1>>1,L[U+1+0]=L[U+0+64]=ae+Ae+1>>1,L[U+2+0]=L[U+1+64]=Ae+we+1>>1,L[U+3+0]=L[U+2+64]=we+Se+1>>1,L[U+0+32]=Vr(te,ae,Ae),L[U+1+32]=L[U+0+96]=Vr(ae,Ae,we),L[U+2+32]=L[U+1+96]=Vr(Ae,we,Se),L[U+3+32]=L[U+2+96]=Vr(we,Se,Ce),L[U+3+64]=Vr(Se,Ce,ke),L[U+3+96]=Vr(Ce,ke,Re)}function xh(L,U){var te=L[U-1+0],ae=L[U-1+32],Ae=L[U-1+64],we=L[U-1+96];L[U+0+0]=te+ae+1>>1,L[U+2+0]=L[U+0+32]=ae+Ae+1>>1,L[U+2+32]=L[U+0+64]=Ae+we+1>>1,L[U+1+0]=Vr(te,ae,Ae),L[U+3+0]=L[U+1+32]=Vr(ae,Ae,we),L[U+3+32]=L[U+1+64]=Vr(Ae,we,we),L[U+3+64]=L[U+2+64]=L[U+0+96]=L[U+1+96]=L[U+2+96]=L[U+3+96]=we}function S0(L,U){var te=L[U-1+0],ae=L[U-1+32],Ae=L[U-1+64],we=L[U-1+96],Se=L[U-1-32],Ce=L[U+0-32],ke=L[U+1-32],Re=L[U+2-32];L[U+0+0]=L[U+2+32]=te+Se+1>>1,L[U+0+32]=L[U+2+64]=ae+te+1>>1,L[U+0+64]=L[U+2+96]=Ae+ae+1>>1,L[U+0+96]=we+Ae+1>>1,L[U+3+0]=Vr(Ce,ke,Re),L[U+2+0]=Vr(Se,Ce,ke),L[U+1+0]=L[U+3+32]=Vr(te,Se,Ce),L[U+1+32]=L[U+3+64]=Vr(ae,te,Se),L[U+1+64]=L[U+3+96]=Vr(Ae,ae,te),L[U+1+96]=Vr(we,Ae,ae)}function Ql(L,U){var te;for(te=0;8>te;++te)n(L,U+32*te,L,U-32,8)}function Ah(L,U){var te;for(te=0;8>te;++te)a(L,U,L[U-1],8),U+=32}function ao(L,U,te){var ae;for(ae=0;8>ae;++ae)a(U,te+32*ae,L,8)}function Gf(L,U){var te,ae=8;for(te=0;8>te;++te)ae+=L[U+te-32]+L[U-1+32*te];ao(ae>>4,L,U)}function C0(L,U){var te,ae=4;for(te=0;8>te;++te)ae+=L[U+te-32];ao(ae>>3,L,U)}function _0(L,U){var te,ae=4;for(te=0;8>te;++te)ae+=L[U-1+32*te];ao(ae>>3,L,U)}function Vf(L,U){ao(128,L,U)}function dl(L,U,te){var ae=L[U-te],Ae=L[U+0],we=3*(Ae-ae)+Tc[1020+L[U-2*te]-L[U+te]],Se=tm[112+(we+4>>3)];L[U-te]=Oi[255+ae+tm[112+(we+3>>3)]],L[U+0]=Oi[255+Ae-Se]}function gh(L,U,te,ae){var Ae=L[U+0],we=L[U+te];return pl[255+L[U-2*te]-L[U-te]]>ae||pl[255+we-Ae]>ae}function bh(L,U,te,ae){return 4*pl[255+L[U-te]-L[U+0]]+pl[255+L[U-2*te]-L[U+te]]<=ae}function ul(L,U,te,ae,Ae){var we=L[U-3*te],Se=L[U-2*te],Ce=L[U-te],ke=L[U+0],Re=L[U+te],nt=L[U+2*te],wt=L[U+3*te];return 4*pl[255+Ce-ke]+pl[255+Se-Re]>ae?0:pl[255+L[U-4*te]-we]<=Ae&&pl[255+we-Se]<=Ae&&pl[255+Se-Ce]<=Ae&&pl[255+wt-nt]<=Ae&&pl[255+nt-Re]<=Ae&&pl[255+Re-ke]<=Ae}function hd(L,U,te,ae){var Ae=2*ae+1;for(ae=0;16>ae;++ae)bh(L,U+ae,te,Ae)&&dl(L,U+ae,te)}function cu(L,U,te,ae){var Ae=2*ae+1;for(ae=0;16>ae;++ae)bh(L,U+ae*te,1,Ae)&&dl(L,U+ae*te,1)}function E0(L,U,te,ae){var Ae;for(Ae=3;0<Ae;--Ae)hd(L,U+=4*te,te,ae)}function yh(L,U,te,ae){var Ae;for(Ae=3;0<Ae;--Ae)cu(L,U+=4,te,ae)}function hl(L,U,te,ae,Ae,we,Se,Ce){for(we=2*we+1;0<Ae--;){if(ul(L,U,te,we,Se))if(gh(L,U,te,Ce))dl(L,U,te);else{var ke=L,Re=U,nt=te,wt=ke[Re-2*nt],Oe=ke[Re-nt],ut=ke[Re+0],gt=ke[Re+nt],Rt=ke[Re+2*nt],St=27*(It=Tc[1020+3*(ut-Oe)+Tc[1020+wt-gt]])+63>>7,Pt=18*It+63>>7,It=9*It+63>>7;ke[Re-3*nt]=Oi[255+ke[Re-3*nt]+It],ke[Re-2*nt]=Oi[255+wt+Pt],ke[Re-nt]=Oi[255+Oe+St],ke[Re+0]=Oi[255+ut-St],ke[Re+nt]=Oi[255+gt-Pt],ke[Re+2*nt]=Oi[255+Rt-It]}U+=ae}}function Sc(L,U,te,ae,Ae,we,Se,Ce){for(we=2*we+1;0<Ae--;){if(ul(L,U,te,we,Se))if(gh(L,U,te,Ce))dl(L,U,te);else{var ke=L,Re=U,nt=te,wt=ke[Re-nt],Oe=ke[Re+0],ut=ke[Re+nt],gt=tm[112+(4+(Rt=3*(Oe-wt))>>3)],Rt=tm[112+(Rt+3>>3)],St=gt+1>>1;ke[Re-2*nt]=Oi[255+ke[Re-2*nt]+St],ke[Re-nt]=Oi[255+wt+Rt],ke[Re+0]=Oi[255+Oe-gt],ke[Re+nt]=Oi[255+ut-St]}U+=ae}}function yi(L,U,te,ae,Ae,we){hl(L,U,te,1,16,ae,Ae,we)}function fl(L,U,te,ae,Ae,we){hl(L,U,1,te,16,ae,Ae,we)}function Wf(L,U,te,ae,Ae,we){var Se;for(Se=3;0<Se;--Se)Sc(L,U+=4*te,te,1,16,ae,Ae,we)}function Y(L,U,te,ae,Ae,we){var Se;for(Se=3;0<Se;--Se)Sc(L,U+=4,1,te,16,ae,Ae,we)}function ge(L,U,te,ae,Ae,we,Se,Ce){hl(L,U,Ae,1,8,we,Se,Ce),hl(te,ae,Ae,1,8,we,Se,Ce)}function Qe(L,U,te,ae,Ae,we,Se,Ce){hl(L,U,1,Ae,8,we,Se,Ce),hl(te,ae,1,Ae,8,we,Se,Ce)}function Je(L,U,te,ae,Ae,we,Se,Ce){Sc(L,U+4*Ae,Ae,1,8,we,Se,Ce),Sc(te,ae+4*Ae,Ae,1,8,we,Se,Ce)}function xt(L,U,te,ae,Ae,we,Se,Ce){Sc(L,U+4,1,Ae,8,we,Se,Ce),Sc(te,ae+4,1,Ae,8,we,Se,Ce)}function Ht(){this.ba=new Ge,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Er(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pr(){this.ua=0,this.Wa=new xe,this.vb=new xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new P}function Xr(){this.xb=this.a=0,this.l=new dr,this.ca=new Ge,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pr,this.ab=0,this.gc=o(4,Er),this.Oc=0}function ts(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new dr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ts(L,U,te,ae,Ae,we,Se){for(L=L==null?0:L[U+0],U=0;U<Se;++U)Ae[we+U]=L+te[ae+U]&255,L=Ae[we+U]}function Qn(L,U,te,ae,Ae,we,Se){var Ce;if(L==null)Ts(null,null,te,ae,Ae,we,Se);else for(Ce=0;Ce<Se;++Ce)Ae[we+Ce]=L[U+Ce]+te[ae+Ce]&255}function ba(L,U,te,ae,Ae,we,Se){if(L==null)Ts(null,null,te,ae,Ae,we,Se);else{var Ce,ke=L[U+0],Re=ke,nt=ke;for(Ce=0;Ce<Se;++Ce)Re=nt+(ke=L[U+Ce])-Re,nt=te[ae+Ce]+(-256&Re?0>Re?0:255:Re)&255,Re=ke,Ae[we+Ce]=nt}}function An(L,U,te,ae){var Ae=U.width,we=U.o;if(e(L!=null&&U!=null),0>te||0>=ae||te+ae>we)return null;if(!L.Cc){if(L.ga==null){var Se;if(L.ga=new ts,(Se=L.ga==null)||(Se=U.width*U.o,e(L.Gb.length==0),L.Gb=i(Se),L.Uc=0,L.Gb==null?Se=0:(L.mb=L.Gb,L.nb=L.Uc,L.rc=null,Se=1),Se=!Se),!Se){Se=L.ga;var Ce=L.Fa,ke=L.P,Re=L.qc,nt=L.mb,wt=L.nb,Oe=ke+1,ut=Re-1,gt=Se.l;if(e(Ce!=null&&nt!=null&&U!=null),vi[0]=null,vi[1]=Ts,vi[2]=Qn,vi[3]=ba,Se.ca=nt,Se.tb=wt,Se.c=U.width,Se.i=U.height,e(0<Se.c&&0<Se.i),1>=Re)U=0;else if(Se.$a=3&Ce[ke+0],Se.Z=Ce[ke+0]>>2&3,Se.Lc=Ce[ke+0]>>4&3,ke=Ce[ke+0]>>6&3,0>Se.$a||1<Se.$a||4<=Se.Z||1<Se.Lc||ke)U=0;else if(gt.put=or,gt.ac=mr,gt.bc=Jr,gt.ma=Se,gt.width=U.width,gt.height=U.height,gt.Da=U.Da,gt.v=U.v,gt.va=U.va,gt.j=U.j,gt.o=U.o,Se.$a)e:{e(Se.$a==1),U=bt();t:for(;;){if(U==null){U=0;break e}if(e(Se!=null),Se.mc=U,U.c=Se.c,U.i=Se.i,U.l=Se.l,U.l.ma=Se,U.l.width=Se.c,U.l.height=Se.i,U.a=0,ee(U.m,Ce,Oe,ut),!vt(Se.c,Se.i,1,U,null)||(U.ab==1&&U.gc[0].hc==3&&Te(U.s)?(Se.ic=1,Ce=U.c*U.i,U.Ta=null,U.Ua=0,U.V=i(Ce),U.Ba=0,U.V==null?(U.a=1,U=0):U=1):(Se.ic=0,U=Nt(U,Se.c)),!U))break t;U=1;break e}Se.mc=null,U=0}else U=ut>=Se.c*Se.i;Se=!U}if(Se)return null;L.ga.Lc!=1?L.Ga=0:ae=we-te}e(L.ga!=null),e(te+ae<=we);e:{if(U=(Ce=L.ga).c,we=Ce.l.o,Ce.$a==0){if(Oe=L.rc,ut=L.Vc,gt=L.Fa,ke=L.P+1+te*U,Re=L.mb,nt=L.nb+te*U,e(ke<=L.P+L.qc),Ce.Z!=0)for(e(vi[Ce.Z]!=null),Se=0;Se<ae;++Se)vi[Ce.Z](Oe,ut,gt,ke,Re,nt,U),Oe=Re,ut=nt,nt+=U,ke+=U;else for(Se=0;Se<ae;++Se)n(Re,nt,gt,ke,U),Oe=Re,ut=nt,nt+=U,ke+=U;L.rc=Oe,L.Vc=ut}else{if(e(Ce.mc!=null),U=te+ae,e((Se=Ce.mc)!=null),e(U<=Se.i),Se.C>=U)U=1;else if(Ce.ic||$l(),Ce.ic){Ce=Se.V,Oe=Se.Ba,ut=Se.c;var Rt=Se.i,St=(gt=1,ke=Se.$/ut,Re=Se.$%ut,nt=Se.m,wt=Se.s,Se.$),Pt=ut*Rt,It=ut*U,zt=wt.wc,Vt=St<It?me(wt,Re,ke):null;e(St<=Pt),e(U<=Rt),e(Te(wt));t:for(;;){for(;!nt.h&&St<It;){if(Re&zt||(Vt=me(wt,Re,ke)),e(Vt!=null),ie(nt),256>(Rt=yr(Vt.G[0],Vt.H[0],nt)))Ce[Oe+St]=Rt,++St,++Re>=ut&&(Re=0,++ke<=U&&!(ke%16)&&De(Se,ke));else{if(!(280>Rt)){gt=0;break t}Rt=Ct(Rt-256,nt);var Ir,jr=yr(Vt.G[4],Vt.H[4],nt);if(ie(nt),!(St>=(jr=pr(ut,jr=Ct(jr,nt)))&&Pt-St>=Rt)){gt=0;break t}for(Ir=0;Ir<Rt;++Ir)Ce[Oe+St+Ir]=Ce[Oe+St+Ir-jr];for(St+=Rt,Re+=Rt;Re>=ut;)Re-=ut,++ke<=U&&!(ke%16)&&De(Se,ke);St<It&&Re&zt&&(Vt=me(wt,Re,ke))}e(nt.h==W(nt))}De(Se,ke>U?U:ke);break t}!gt||nt.h&&St<Pt?(gt=0,Se.a=nt.h?5:3):Se.$=St,U=gt}else U=pt(Se,Se.V,Se.Ba,Se.c,Se.i,U,pe);if(!U){ae=0;break e}}te+ae>=we&&(L.Cc=1),ae=1}if(!ae)return null;if(L.Cc&&((ae=L.ga)!=null&&(ae.mc=null),L.ga=null,0<L.Ga))return alert("todo:WebPDequantizeLevels"),null}return L.nb+te*Ae}function ka(L,U,te,ae,Ae,we){for(;0<Ae--;){var Se,Ce=L,ke=U+(te?1:0),Re=L,nt=U+(te?0:3);for(Se=0;Se<ae;++Se){var wt=Re[nt+4*Se];wt!=255&&(wt*=32897,Ce[ke+4*Se+0]=Ce[ke+4*Se+0]*wt>>23,Ce[ke+4*Se+1]=Ce[ke+4*Se+1]*wt>>23,Ce[ke+4*Se+2]=Ce[ke+4*Se+2]*wt>>23)}U+=we}}function la(L,U,te,ae,Ae){for(;0<ae--;){var we;for(we=0;we<te;++we){var Se=L[U+2*we+0],Ce=15&(Re=L[U+2*we+1]),ke=4369*Ce,Re=(240&Re|Re>>4)*ke>>16;L[U+2*we+0]=(240&Se|Se>>4)*ke>>16&240|(15&Se|Se<<4)*ke>>16>>4&15,L[U+2*we+1]=240&Re|Ce}U+=Ae}}function ti(L,U,te,ae,Ae,we,Se,Ce){var ke,Re,nt=255;for(Re=0;Re<Ae;++Re){for(ke=0;ke<ae;++ke){var wt=L[U+ke];we[Se+4*ke]=wt,nt&=wt}U+=te,Se+=Ce}return nt!=255}function fd(L,U,te,ae,Ae){var we;for(we=0;we<Ae;++we)te[ae+we]=L[U+we]>>8}function $l(){Bh=ka,Hb=la,F0=ti,Qb=fd}function md(L,U,te){_[L]=function(ae,Ae,we,Se,Ce,ke,Re,nt,wt,Oe,ut,gt,Rt,St,Pt,It,zt){var Vt,Ir=zt-1>>1,jr=Ce[ke+0]|Re[nt+0]<<16,ns=wt[Oe+0]|ut[gt+0]<<16;e(ae!=null);var kr=3*jr+ns+131074>>2;for(U(ae[Ae+0],255&kr,kr>>16,Rt,St),we!=null&&(kr=3*ns+jr+131074>>2,U(we[Se+0],255&kr,kr>>16,Pt,It)),Vt=1;Vt<=Ir;++Vt){var ys=Ce[ke+Vt]|Re[nt+Vt]<<16,Yn=wt[Oe+Vt]|ut[gt+Vt]<<16,is=jr+ys+ns+Yn+524296,Nr=is+2*(ys+ns)>>3;kr=Nr+jr>>1,jr=(is=is+2*(jr+Yn)>>3)+ys>>1,U(ae[Ae+2*Vt-1],255&kr,kr>>16,Rt,St+(2*Vt-1)*te),U(ae[Ae+2*Vt-0],255&jr,jr>>16,Rt,St+(2*Vt-0)*te),we!=null&&(kr=is+ns>>1,jr=Nr+Yn>>1,U(we[Se+2*Vt-1],255&kr,kr>>16,Pt,It+(2*Vt-1)*te),U(we[Se+2*Vt+0],255&jr,jr>>16,Pt,It+(2*Vt+0)*te)),jr=ys,ns=Yn}1&zt||(kr=3*jr+ns+131074>>2,U(ae[Ae+zt-1],255&kr,kr>>16,Rt,St+(zt-1)*te),we!=null&&(kr=3*ns+jr+131074>>2,U(we[Se+zt-1],255&kr,kr>>16,Pt,It+(zt-1)*te)))}}function vh(){lo[Kx]=G4,lo[gu]=bu,lo[Mw]=V4,lo[P0]=am,lo[I0]=Ih,lo[un]=U0,lo[Xx]=Yb,lo[rm]=bu,lo[Mh]=am,lo[L0]=Ih,lo[D0]=U0}function qf(L){return L&-16384?0>L?0:255:L>>yu}function du(L,U){return qf((19077*L>>8)+(26149*U>>8)-14234)}function wh(L,U,te){return qf((19077*L>>8)-(6419*U>>8)-(13320*te>>8)+8708)}function uu(L,U){return qf((19077*L>>8)+(33050*U>>8)-17685)}function hu(L,U,te,ae,Ae){ae[Ae+0]=du(L,te),ae[Ae+1]=wh(L,U,te),ae[Ae+2]=uu(L,U)}function ri(L,U,te,ae,Ae){ae[Ae+0]=uu(L,U),ae[Ae+1]=wh(L,U,te),ae[Ae+2]=du(L,te)}function jh(L,U,te,ae,Ae){var we=wh(L,U,te);U=we<<3&224|uu(L,U)>>3,ae[Ae+0]=248&du(L,te)|we>>5,ae[Ae+1]=U}function Nh(L,U,te,ae,Ae){var we=240&uu(L,U)|15;ae[Ae+0]=240&du(L,te)|wh(L,U,te)>>4,ae[Ae+1]=we}function k0(L,U,te,ae,Ae){ae[Ae+0]=255,hu(L,U,te,ae,Ae+1)}function T0(L,U,te,ae,Ae){ri(L,U,te,ae,Ae),ae[Ae+3]=255}function Ri(L,U,te,ae,Ae){hu(L,U,te,ae,Ae),ae[Ae+3]=255}function zl(L,U,te){_[L]=function(ae,Ae,we,Se,Ce,ke,Re,nt,wt){for(var Oe=nt+(-2&wt)*te;nt!=Oe;)U(ae[Ae+0],we[Se+0],Ce[ke+0],Re,nt),U(ae[Ae+1],we[Se+0],Ce[ke+0],Re,nt+te),Ae+=2,++Se,++ke,nt+=2*te;1&wt&&U(ae[Ae+0],we[Se+0],Ce[ke+0],Re,nt)}}function Cc(L,U,te){return te==0?L==0?U==0?6:5:U==0?4:0:te}function Vx(L,U,te,ae,Ae){switch(L>>>30){case 3:kh(U,te,ae,Ae,0);break;case 2:Kn(U,te,ae,Ae);break;case 1:Ds(U,te,ae,Ae)}}function $o(L,U){var te,ae,Ae=U.M,we=U.Nb,Se=L.oc,Ce=L.pc+40,ke=L.oc,Re=L.pc+584,nt=L.oc,wt=L.pc+600;for(te=0;16>te;++te)Se[Ce+32*te-1]=129;for(te=0;8>te;++te)ke[Re+32*te-1]=129,nt[wt+32*te-1]=129;for(0<Ae?Se[Ce-1-32]=ke[Re-1-32]=nt[wt-1-32]=129:(a(Se,Ce-32-1,127,21),a(ke,Re-32-1,127,9),a(nt,wt-32-1,127,9)),ae=0;ae<L.za;++ae){var Oe=U.ya[U.aa+ae];if(0<ae){for(te=-1;16>te;++te)n(Se,Ce+32*te-4,Se,Ce+32*te+12,4);for(te=-1;8>te;++te)n(ke,Re+32*te-4,ke,Re+32*te+4,4),n(nt,wt+32*te-4,nt,wt+32*te+4,4)}var ut=L.Gd,gt=L.Hd+ae,Rt=Oe.ad,St=Oe.Hc;if(0<Ae&&(n(Se,Ce-32,ut[gt].y,0,16),n(ke,Re-32,ut[gt].f,0,8),n(nt,wt-32,ut[gt].ea,0,8)),Oe.Za){var Pt=Se,It=Ce-32+16;for(0<Ae&&(ae>=L.za-1?a(Pt,It,ut[gt].y[15],4):n(Pt,It,ut[gt+1].y,0,4)),te=0;4>te;te++)Pt[It+128+te]=Pt[It+256+te]=Pt[It+384+te]=Pt[It+0+te];for(te=0;16>te;++te,St<<=2)Pt=Se,It=Ce+Jb[te],xl[Oe.Ob[te]](Pt,It),Vx(St,Rt,16*+te,Pt,It)}else if(Pt=Cc(ae,Ae,Oe.Ob[0]),Ui[Pt](Se,Ce),St!=0)for(te=0;16>te;++te,St<<=2)Vx(St,Rt,16*+te,Se,Ce+Jb[te]);for(te=Oe.Gc,Pt=Cc(ae,Ae,Oe.Dd),oo[Pt](ke,Re),oo[Pt](nt,wt),St=Rt,Pt=ke,It=Re,255&(Oe=0|te)&&(170&Oe?io(St,256,Pt,It):tn(St,256,Pt,It)),Oe=nt,St=wt,255&(te>>=8)&&(170&te?io(Rt,320,Oe,St):tn(Rt,320,Oe,St)),Ae<L.Ub-1&&(n(ut[gt].y,0,Se,Ce+480,16),n(ut[gt].f,0,ke,Re+224,8),n(ut[gt].ea,0,nt,wt+224,8)),te=8*we*L.B,ut=L.sa,gt=L.ta+16*ae+16*we*L.R,Rt=L.qa,Oe=L.ra+8*ae+te,St=L.Ha,Pt=L.Ia+8*ae+te,te=0;16>te;++te)n(ut,gt+te*L.R,Se,Ce+32*te,16);for(te=0;8>te;++te)n(Rt,Oe+te*L.B,ke,Re+32*te,8),n(St,Pt+te*L.B,nt,wt+32*te,8)}}function fu(L,U,te,ae,Ae,we,Se,Ce,ke){var Re=[0],nt=[0],wt=0,Oe=ke!=null?ke.kd:0,ut=ke??new Xt;if(L==null||12>te)return 7;ut.data=L,ut.w=U,ut.ha=te,U=[U],te=[te],ut.gb=[ut.gb];e:{var gt=U,Rt=te,St=ut.gb;if(e(L!=null),e(Rt!=null),e(St!=null),St[0]=0,12<=Rt[0]&&!s(L,gt[0],"RIFF")){if(s(L,gt[0]+8,"WEBP")){St=3;break e}var Pt=se(L,gt[0]+4);if(12>Pt||4294967286<Pt){St=3;break e}if(Oe&&Pt>Rt[0]-8){St=7;break e}St[0]=Pt,gt[0]+=12,Rt[0]-=12}St=0}if(St!=0)return St;for(Pt=0<ut.gb[0],te=te[0];;){e:{var It=L;Rt=U,St=te;var zt=Re,Vt=nt,Ir=gt=[0];if((kr=wt=[wt])[0]=0,8>St[0])St=7;else{if(!s(It,Rt[0],"VP8X")){if(se(It,Rt[0]+4)!=10){St=3;break e}if(18>St[0]){St=7;break e}var jr=se(It,Rt[0]+8),ns=1+lt(It,Rt[0]+12);if(2147483648<=ns*(It=1+lt(It,Rt[0]+15))){St=3;break e}Ir!=null&&(Ir[0]=jr),zt!=null&&(zt[0]=ns),Vt!=null&&(Vt[0]=It),Rt[0]+=18,St[0]-=18,kr[0]=1}St=0}}if(wt=wt[0],gt=gt[0],St!=0)return St;if(Rt=!!(2&gt),!Pt&&wt)return 3;if(we!=null&&(we[0]=!!(16&gt)),Se!=null&&(Se[0]=Rt),Ce!=null&&(Ce[0]=0),Se=Re[0],gt=nt[0],wt&&Rt&&ke==null){St=0;break}if(4>te){St=7;break}if(Pt&&wt||!Pt&&!wt&&!s(L,U[0],"ALPH")){te=[te],ut.na=[ut.na],ut.P=[ut.P],ut.Sa=[ut.Sa];e:{jr=L,St=U,Pt=te;var kr=ut.gb;zt=ut.na,Vt=ut.P,Ir=ut.Sa,ns=22,e(jr!=null),e(Pt!=null),It=St[0];var ys=Pt[0];for(e(zt!=null),e(Ir!=null),zt[0]=null,Vt[0]=null,Ir[0]=0;;){if(St[0]=It,Pt[0]=ys,8>ys){St=7;break e}var Yn=se(jr,It+4);if(4294967286<Yn){St=3;break e}var is=8+Yn+1&-2;if(ns+=is,0<kr&&ns>kr){St=3;break e}if(!s(jr,It,"VP8 ")||!s(jr,It,"VP8L")){St=0;break e}if(ys[0]<is){St=7;break e}s(jr,It,"ALPH")||(zt[0]=jr,Vt[0]=It+8,Ir[0]=Yn),It+=is,ys-=is}}if(te=te[0],ut.na=ut.na[0],ut.P=ut.P[0],ut.Sa=ut.Sa[0],St!=0)break}te=[te],ut.Ja=[ut.Ja],ut.xa=[ut.xa];e:if(kr=L,St=U,Pt=te,zt=ut.gb[0],Vt=ut.Ja,Ir=ut.xa,jr=St[0],It=!s(kr,jr,"VP8 "),ns=!s(kr,jr,"VP8L"),e(kr!=null),e(Pt!=null),e(Vt!=null),e(Ir!=null),8>Pt[0])St=7;else{if(It||ns){if(kr=se(kr,jr+4),12<=zt&&kr>zt-12){St=3;break e}if(Oe&&kr>Pt[0]-8){St=7;break e}Vt[0]=kr,St[0]+=8,Pt[0]-=8,Ir[0]=ns}else Ir[0]=5<=Pt[0]&&kr[jr+0]==47&&!(kr[jr+4]>>5),Vt[0]=Pt[0];St=0}if(te=te[0],ut.Ja=ut.Ja[0],ut.xa=ut.xa[0],U=U[0],St!=0)break;if(4294967286<ut.Ja)return 3;if(Ce==null||Rt||(Ce[0]=ut.xa?2:1),Se=[Se],gt=[gt],ut.xa){if(5>te){St=7;break}Ce=Se,Oe=gt,Rt=we,L==null||5>te?L=0:5<=te&&L[U+0]==47&&!(L[U+4]>>5)?(Pt=[0],kr=[0],zt=[0],ee(Vt=new z,L,U,te),it(Vt,Pt,kr,zt)?(Ce!=null&&(Ce[0]=Pt[0]),Oe!=null&&(Oe[0]=kr[0]),Rt!=null&&(Rt[0]=zt[0]),L=1):L=0):L=0}else{if(10>te){St=7;break}Ce=gt,L==null||10>te||!Cs(L,U+3,te-3)?L=0:(Oe=L[U+0]|L[U+1]<<8|L[U+2]<<16,Rt=16383&(L[U+7]<<8|L[U+6]),L=16383&(L[U+9]<<8|L[U+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=ut.Ja||!Rt||!L?L=0:(Se&&(Se[0]=Rt),Ce&&(Ce[0]=L),L=1))}if(!L||(Se=Se[0],gt=gt[0],wt&&(Re[0]!=Se||nt[0]!=gt)))return 3;ke!=null&&(ke[0]=ut,ke.offset=U-ke.w,e(4294967286>U-ke.w),e(ke.offset==ke.ha-te));break}return St==0||St==7&&wt&&ke==null?(we!=null&&(we[0]|=ut.na!=null&&0<ut.na.length),ae!=null&&(ae[0]=Se),Ae!=null&&(Ae[0]=gt),0):St}function Kf(L,U,te){var ae=U.width,Ae=U.height,we=0,Se=0,Ce=ae,ke=Ae;if(U.Da=L!=null&&0<L.Da,U.Da&&(Ce=L.cd,ke=L.bd,we=L.v,Se=L.j,11>te||(we&=-2,Se&=-2),0>we||0>Se||0>=Ce||0>=ke||we+Ce>ae||Se+ke>Ae))return 0;if(U.v=we,U.j=Se,U.va=we+Ce,U.o=Se+ke,U.U=Ce,U.T=ke,U.da=L!=null&&0<L.da,U.da){if(!He(Ce,ke,te=[L.ib],we=[L.hb]))return 0;U.ib=te[0],U.hb=we[0]}return U.ob=L!=null&&L.ob,U.Kb=L==null||!L.Sd,U.da&&(U.ob=U.ib<3*ae/4&&U.hb<3*Ae/4,U.Kb=0),1}function Xf(L){if(L==null)return 2;if(11>L.S){var U=L.f.RGBA;U.fb+=(L.height-1)*U.A,U.A=-U.A}else U=L.f.kb,L=L.height,U.O+=(L-1)*U.fa,U.fa=-U.fa,U.N+=(L-1>>1)*U.Ab,U.Ab=-U.Ab,U.W+=(L-1>>1)*U.Db,U.Db=-U.Db,U.F!=null&&(U.J+=(L-1)*U.lb,U.lb=-U.lb);return 0}function pd(L,U,te,ae){if(ae==null||0>=L||0>=U)return 2;if(te!=null){if(te.Da){var Ae=te.cd,we=te.bd,Se=-2&te.v,Ce=-2&te.j;if(0>Se||0>Ce||0>=Ae||0>=we||Se+Ae>L||Ce+we>U)return 2;L=Ae,U=we}if(te.da){if(!He(L,U,Ae=[te.ib],we=[te.hb]))return 2;L=Ae[0],U=we[0]}}ae.width=L,ae.height=U;e:{var ke=ae.width,Re=ae.height;if(L=ae.S,0>=ke||0>=Re||!(L>=Kx&&13>L))L=2;else{if(0>=ae.Rd&&ae.sd==null){Se=we=Ae=U=0;var nt=(Ce=ke*H0[L])*Re;if(11>L||(we=(Re+1)/2*(U=(ke+1)/2),L==12&&(Se=(Ae=ke)*Re)),(Re=i(nt+2*we+Se))==null){L=1;break e}ae.sd=Re,11>L?((ke=ae.f.RGBA).eb=Re,ke.fb=0,ke.A=Ce,ke.size=nt):((ke=ae.f.kb).y=Re,ke.O=0,ke.fa=Ce,ke.Fd=nt,ke.f=Re,ke.N=0+nt,ke.Ab=U,ke.Cd=we,ke.ea=Re,ke.W=0+nt+we,ke.Db=U,ke.Ed=we,L==12&&(ke.F=Re,ke.J=0+nt+2*we),ke.Tc=Se,ke.lb=Ae)}if(U=1,Ae=ae.S,we=ae.width,Se=ae.height,Ae>=Kx&&13>Ae)if(11>Ae)L=ae.f.RGBA,U&=(Ce=Math.abs(L.A))*(Se-1)+we<=L.size,U&=Ce>=we*H0[Ae],U&=L.eb!=null;else{L=ae.f.kb,Ce=(we+1)/2,nt=(Se+1)/2,ke=Math.abs(L.fa),Re=Math.abs(L.Ab);var wt=Math.abs(L.Db),Oe=Math.abs(L.lb),ut=Oe*(Se-1)+we;U&=ke*(Se-1)+we<=L.Fd,U&=Re*(nt-1)+Ce<=L.Cd,U=(U&=wt*(nt-1)+Ce<=L.Ed)&ke>=we&Re>=Ce&wt>=Ce,U&=L.y!=null,U&=L.f!=null,U&=L.ea!=null,Ae==12&&(U&=Oe>=we,U&=ut<=L.Tc,U&=L.F!=null)}else U=0;L=U?0:2}}return L!=0||te!=null&&te.fd&&(L=Xf(ae)),L}var ml=64,zo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Go=24,mu=32,_c=8,xd=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];he("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(L){return L},_.Predictor2=function(L,U,te){return U[te+0]},_.Predictor3=function(L,U,te){return U[te+1]},_.Predictor4=function(L,U,te){return U[te-1]},_.Predictor5=function(L,U,te){return _e(_e(L,U[te+1]),U[te+0])},_.Predictor6=function(L,U,te){return _e(L,U[te-1])},_.Predictor7=function(L,U,te){return _e(L,U[te+0])},_.Predictor8=function(L,U,te){return _e(U[te-1],U[te+0])},_.Predictor9=function(L,U,te){return _e(U[te+0],U[te+1])},_.Predictor10=function(L,U,te){return _e(_e(L,U[te-1]),_e(U[te+0],U[te+1]))},_.Predictor11=function(L,U,te){var ae=U[te+0];return 0>=st(ae>>24&255,L>>24&255,(U=U[te-1])>>24&255)+st(ae>>16&255,L>>16&255,U>>16&255)+st(ae>>8&255,L>>8&255,U>>8&255)+st(255&ae,255&L,255&U)?ae:L},_.Predictor12=function(L,U,te){var ae=U[te+0];return(Ke((L>>24&255)+(ae>>24&255)-((U=U[te-1])>>24&255))<<24|Ke((L>>16&255)+(ae>>16&255)-(U>>16&255))<<16|Ke((L>>8&255)+(ae>>8&255)-(U>>8&255))<<8|Ke((255&L)+(255&ae)-(255&U)))>>>0},_.Predictor13=function(L,U,te){var ae=U[te-1];return(et((L=_e(L,U[te+0]))>>24&255,ae>>24&255)<<24|et(L>>16&255,ae>>16&255)<<16|et(L>>8&255,ae>>8&255)<<8|et(255&L,255&ae))>>>0};var Ad=_.PredictorAdd0;_.PredictorAdd1=ot,he("Predictor2","PredictorAdd2"),he("Predictor3","PredictorAdd3"),he("Predictor4","PredictorAdd4"),he("Predictor5","PredictorAdd5"),he("Predictor6","PredictorAdd6"),he("Predictor7","PredictorAdd7"),he("Predictor8","PredictorAdd8"),he("Predictor9","PredictorAdd9"),he("Predictor10","PredictorAdd10"),he("Predictor11","PredictorAdd11"),he("Predictor12","PredictorAdd12"),he("Predictor13","PredictorAdd13");var Ec=_.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(L){return L>>8&255},function(L){return L}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(L){return L},function(L){return L>>8&255});var ca,Sh=_.ColorIndexInverseTransform,kc=_.MapARGB,Gl=_.VP8LColorIndexInverseTransformAlpha,Ch=_.MapAlpha,_h=_.VP8LPredictorsAdd=[];_h.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Yf,Jf,gd,pu,xu,Eh,Au,kh,Kn,io,Ds,tn,Xn,ya,Vl,B0,Zf,bd,Wx,em,qx,Ub,M0,Th,Bh,Hb,F0,Qb,$b=i(511),zb=i(2041),Gb=i(225),Vb=i(767),Wb=0,Tc=zb,tm=Gb,Oi=Vb,pl=$b,Kx=0,gu=1,Mw=2,P0=3,I0=4,un=5,Xx=6,rm=7,Mh=8,L0=9,D0=10,R0=[2,3,7],Yx=[3,3,11],Fh=[280,256,256,256,40],Fw=[0,1,1,1,0],H4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Q4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Pw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jx=8,sm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],O0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ph=null,qb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Kb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Iw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],z4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ui=[],xl=[],oo=[],Bc=1,nm=2,vi=[],lo=[];md("UpsampleRgbLinePair",hu,3),md("UpsampleBgrLinePair",ri,3),md("UpsampleRgbaLinePair",Ri,4),md("UpsampleBgraLinePair",T0,4),md("UpsampleArgbLinePair",k0,4),md("UpsampleRgba4444LinePair",Nh,2),md("UpsampleRgb565LinePair",jh,2);var G4=_.UpsampleRgbLinePair,V4=_.UpsampleBgrLinePair,bu=_.UpsampleRgbaLinePair,am=_.UpsampleBgraLinePair,Ih=_.UpsampleArgbLinePair,U0=_.UpsampleRgba4444LinePair,Yb=_.UpsampleRgb565LinePair,yd=16,Wl=1<<yd-1,Ys=-227,rn=482,yu=6,si=0,co=i(256),Lh=i(256),im=i(256),uo=i(256),Zx=i(rn-Ys),Dw=i(rn-Ys);zl("YuvToRgbRow",hu,3),zl("YuvToBgrRow",ri,3),zl("YuvToRgbaRow",Ri,4),zl("YuvToBgraRow",T0,4),zl("YuvToArgbRow",k0,4),zl("YuvToRgba4444Row",Nh,2),zl("YuvToRgb565Row",jh,2);var Jb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Dh=[0,2,8],Rw=[8,7,6,4,4,2,2,2,1,1,1,1],vd=1;this.WebPDecodeRGBA=function(L,U,te,ae,Ae){var we=gu,Se=new Ht,Ce=new Ge;Se.ba=Ce,Ce.S=we,Ce.width=[Ce.width],Ce.height=[Ce.height];var ke=Ce.width,Re=Ce.height,nt=new ct;if(nt==null||L==null)var wt=2;else e(nt!=null),wt=fu(L,U,te,nt.width,nt.height,nt.Pd,nt.Qd,nt.format,null);if(wt!=0?ke=0:(ke!=null&&(ke[0]=nt.width[0]),Re!=null&&(Re[0]=nt.height[0]),ke=1),ke){Ce.width=Ce.width[0],Ce.height=Ce.height[0],ae!=null&&(ae[0]=Ce.width),Ae!=null&&(Ae[0]=Ce.height);e:{if(ae=new dr,(Ae=new Xt).data=L,Ae.w=U,Ae.ha=te,Ae.kd=1,U=[0],e(Ae!=null),((L=fu(Ae.data,Ae.w,Ae.ha,null,null,null,U,null,Ae))==0||L==7)&&U[0]&&(L=4),(U=L)==0){if(e(Se!=null),ae.data=Ae.data,ae.w=Ae.w+Ae.offset,ae.ha=Ae.ha-Ae.offset,ae.put=or,ae.ac=mr,ae.bc=Jr,ae.ma=Se,Ae.xa){if((L=bt())==null){Se=1;break e}if((function(Oe,ut){var gt=[0],Rt=[0],St=[0];t:for(;;){if(Oe==null)return 0;if(ut==null)return Oe.a=2,0;if(Oe.l=ut,Oe.a=0,ee(Oe.m,ut.data,ut.w,ut.ha),!it(Oe.m,gt,Rt,St)){Oe.a=3;break t}if(Oe.xb=nm,ut.width=gt[0],ut.height=Rt[0],!vt(gt[0],Rt[0],1,Oe,null))break t;return 1}return e(Oe.a!=0),0})(L,ae)){if(ae=(U=pd(ae.width,ae.height,Se.Oa,Se.ba))==0){t:{ae=L;r:for(;;){if(ae==null){ae=0;break t}if(e(ae.s.yc!=null),e(ae.s.Ya!=null),e(0<ae.s.Wb),e((te=ae.l)!=null),e((Ae=te.ma)!=null),ae.xb!=0){if(ae.ca=Ae.ba,ae.tb=Ae.tb,e(ae.ca!=null),!Kf(Ae.Oa,te,P0)){ae.a=2;break r}if(!Nt(ae,te.width)||te.da)break r;if((te.da||fe(ae.ca.S))&&$l(),11>ae.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ae.ca.f.kb.F!=null&&$l()),ae.Pb&&0<ae.s.ua&&ae.s.vb.X==null&&!J(ae.s.vb,ae.s.Wa.Xa)){ae.a=1;break r}ae.xb=0}if(!pt(ae,ae.V,ae.Ba,ae.c,ae.i,te.o,Ee))break r;Ae.Dc=ae.Ma,ae=1;break t}e(ae.a!=0),ae=0}ae=!ae}ae&&(U=L.a)}else U=L.a}else{if((L=new Kr)==null){Se=1;break e}if(L.Fa=Ae.na,L.P=Ae.P,L.qc=Ae.Sa,Ur(L,ae)){if((U=pd(ae.width,ae.height,Se.Oa,Se.ba))==0){if(L.Aa=0,te=Se.Oa,e((Ae=L)!=null),te!=null){if(0<(ke=0>(ke=te.Md)?0:100<ke?255:255*ke/100)){for(Re=nt=0;4>Re;++Re)12>(wt=Ae.pb[Re]).lc&&(wt.ia=ke*Rw[0>wt.lc?0:wt.lc]>>3),nt|=wt.ia;nt&&(alert("todo:VP8InitRandom"),Ae.ia=1)}Ae.Ga=te.Id,100<Ae.Ga?Ae.Ga=100:0>Ae.Ga&&(Ae.Ga=0)}(function(Oe,ut){if(Oe==null)return 0;if(ut==null)return cr(Oe,2,"NULL VP8Io parameter in VP8Decode().");if(!Oe.cb&&!Ur(Oe,ut))return 0;if(e(Oe.cb),ut.ac==null||ut.ac(ut)){ut.ob&&(Oe.L=0);var gt=Dh[Oe.L];if(Oe.L==2?(Oe.yb=0,Oe.zb=0):(Oe.yb=ut.v-gt>>4,Oe.zb=ut.j-gt>>4,0>Oe.yb&&(Oe.yb=0),0>Oe.zb&&(Oe.zb=0)),Oe.Va=ut.o+15+gt>>4,Oe.Hb=ut.va+15+gt>>4,Oe.Hb>Oe.za&&(Oe.Hb=Oe.za),Oe.Va>Oe.Ub&&(Oe.Va=Oe.Ub),0<Oe.L){var Rt=Oe.ed;for(gt=0;4>gt;++gt){var St;if(Oe.Qa.Cb){var Pt=Oe.Qa.Lb[gt];Oe.Qa.Fb||(Pt+=Rt.Tb)}else Pt=Rt.Tb;for(St=0;1>=St;++St){var It=Oe.gd[gt][St],zt=Pt;if(Rt.Pc&&(zt+=Rt.vd[0],St&&(zt+=Rt.od[0])),0<(zt=0>zt?0:63<zt?63:zt)){var Vt=zt;0<Rt.wb&&(Vt=4<Rt.wb?Vt>>2:Vt>>1)>9-Rt.wb&&(Vt=9-Rt.wb),1>Vt&&(Vt=1),It.dd=Vt,It.tc=2*zt+Vt,It.ld=40<=zt?2:15<=zt?1:0}else It.tc=0;It.La=St}}}gt=0}else cr(Oe,6,"Frame setup failed"),gt=Oe.a;if(gt=gt==0){if(gt){Oe.$c=0,0<Oe.Aa||(Oe.Ic=vd);t:{gt=Oe.Ic,Rt=4*(Vt=Oe.za);var Ir=32*Vt,jr=Vt+1,ns=0<Oe.L?Vt*(0<Oe.Aa?2:1):0,kr=(Oe.Aa==2?2:1)*Vt;if((It=Rt+832+(St=3*(16*gt+Dh[Oe.L])/2*Ir)+(Pt=Oe.Fa!=null&&0<Oe.Fa.length?Oe.Kc.c*Oe.Kc.i:0))!=It)gt=0;else{if(It>Oe.Vb){if(Oe.Vb=0,Oe.Ec=i(It),Oe.Fc=0,Oe.Ec==null){gt=cr(Oe,1,"no memory during frame initialization.");break t}Oe.Vb=It}It=Oe.Ec,zt=Oe.Fc,Oe.Ac=It,Oe.Bc=zt,zt+=Rt,Oe.Gd=o(Ir,qt),Oe.Hd=0,Oe.rb=o(jr+1,dt),Oe.sb=1,Oe.wa=ns?o(ns,qe):null,Oe.Y=0,Oe.D.Nb=0,Oe.D.wa=Oe.wa,Oe.D.Y=Oe.Y,0<Oe.Aa&&(Oe.D.Y+=Vt),e(!0),Oe.oc=It,Oe.pc=zt,zt+=832,Oe.ya=o(kr,Mt),Oe.aa=0,Oe.D.ya=Oe.ya,Oe.D.aa=Oe.aa,Oe.Aa==2&&(Oe.D.aa+=Vt),Oe.R=16*Vt,Oe.B=8*Vt,Vt=(Ir=Dh[Oe.L])*Oe.R,Ir=Ir/2*Oe.B,Oe.sa=It,Oe.ta=zt+Vt,Oe.qa=Oe.sa,Oe.ra=Oe.ta+16*gt*Oe.R+Ir,Oe.Ha=Oe.qa,Oe.Ia=Oe.ra+8*gt*Oe.B+Ir,Oe.$c=0,zt+=St,Oe.mb=Pt?It:null,Oe.nb=Pt?zt:null,e(zt+Pt<=Oe.Fc+Oe.Vb),Aa(Oe),a(Oe.Ac,Oe.Bc,0,Rt),gt=1}}if(gt){if(ut.ka=0,ut.y=Oe.sa,ut.O=Oe.ta,ut.f=Oe.qa,ut.N=Oe.ra,ut.ea=Oe.Ha,ut.Vd=Oe.Ia,ut.fa=Oe.R,ut.Rc=Oe.B,ut.F=null,ut.J=0,!Wb){for(gt=-255;255>=gt;++gt)$b[255+gt]=0>gt?-gt:gt;for(gt=-1020;1020>=gt;++gt)zb[1020+gt]=-128>gt?-128:127<gt?127:gt;for(gt=-112;112>=gt;++gt)Gb[112+gt]=-16>gt?-16:15<gt?15:gt;for(gt=-255;510>=gt;++gt)Vb[255+gt]=0>gt?0:255<gt?255:gt;Wb=1}Au=Di,kh=dn,io=Xs,Ds=ro,tn=ss,Kn=Tn,Xn=yi,ya=fl,Vl=ge,B0=Qe,Zf=Wf,bd=Y,Wx=Je,em=xt,qx=hd,Ub=cu,M0=E0,Th=yh,xl[0]=zx,xl[1]=N0,xl[2]=Nc,xl[3]=Ob,xl[4]=Qo,xl[5]=Gx,xl[6]=ud,xl[7]=zf,xl[8]=S0,xl[9]=xh,Ui[0]=jc,Ui[1]=$x,Ui[2]=Qf,Ui[3]=$f,Ui[4]=no,Ui[5]=cl,Ui[6]=ph,oo[0]=Gf,oo[1]=Qx,oo[2]=Ql,oo[3]=Ah,oo[4]=_0,oo[5]=C0,oo[6]=Vf,gt=1}else gt=0}gt&&(gt=(function(ys,Yn){for(ys.M=0;ys.M<ys.Va;++ys.M){var is,Nr=ys.Jc[ys.M&ys.Xb],lr=ys.m,da=ys;for(is=0;is<da.za;++is){var Or=lr,gs=da,sn=gs.Ac,Jn=gs.Bc+4*is,ni=gs.zc,Bn=gs.ya[gs.aa+is];if(gs.Qa.Bb?Bn.$b=je(Or,gs.Pa.jb[0])?2+je(Or,gs.Pa.jb[2]):je(Or,gs.Pa.jb[1]):Bn.$b=0,gs.kc&&(Bn.Ad=je(Or,gs.Bd)),Bn.Za=!je(Or,145)+0,Bn.Za){var Qa=Bn.Ob,ai=0;for(gs=0;4>gs;++gs){var Mn,rs=ni[0+gs];for(Mn=0;4>Mn;++Mn){rs=$4[sn[Jn+Mn]][rs];for(var ws=Iw[je(Or,rs[0])];0<ws;)ws=Iw[2*ws+je(Or,rs[ws])];rs=-ws,sn[Jn+Mn]=rs}n(Qa,ai,sn,Jn,4),ai+=4,ni[0+gs]=rs}}else rs=je(Or,156)?je(Or,128)?1:3:je(Or,163)?2:0,Bn.Ob[0]=rs,a(sn,Jn,rs,4),a(ni,0,rs,4);Bn.Dd=je(Or,142)?je(Or,114)?je(Or,183)?1:3:2:0}if(da.m.Ka)return cr(ys,7,"Premature end-of-partition0 encountered.");for(;ys.ja<ys.za;++ys.ja){if(da=Nr,Or=(lr=ys).rb[lr.sb-1],sn=lr.rb[lr.sb+lr.ja],is=lr.ya[lr.aa+lr.ja],Jn=lr.kc?is.Ad:0)Or.la=sn.la=0,is.Za||(Or.Na=sn.Na=0),is.Hc=0,is.Gc=0,is.ia=0;else{var Fn,Qs;if(Or=sn,sn=da,Jn=lr.Pa.Xc,ni=lr.ya[lr.aa+lr.ja],Bn=lr.pb[ni.$b],gs=ni.ad,Qa=0,ai=lr.rb[lr.sb-1],rs=Mn=0,a(gs,Qa,0,384),ni.Za)var jn=0,$a=Jn[3];else{ws=i(16);var $n=Or.Na+ai.Na;if($n=Ph(sn,Jn[1],$n,Bn.Eb,0,ws,0),Or.Na=ai.Na=(0<$n)+0,1<$n)Au(ws,0,gs,Qa);else{var Hi=ws[0]+3>>3;for(ws=0;256>ws;ws+=16)gs[Qa+ws]=Hi}jn=1,$a=Jn[0]}var js=15&Or.la,gn=15&ai.la;for(ws=0;4>ws;++ws){var wi=1&gn;for(Hi=Qs=0;4>Hi;++Hi)js=js>>1|(wi=($n=Ph(sn,$a,$n=wi+(1&js),Bn.Sc,jn,gs,Qa))>jn)<<7,Qs=Qs<<2|(3<$n?3:1<$n?2:gs[Qa+0]!=0),Qa+=16;js>>=4,gn=gn>>1|wi<<7,Mn=(Mn<<8|Qs)>>>0}for($a=js,jn=gn>>4,Fn=0;4>Fn;Fn+=2){for(Qs=0,js=Or.la>>4+Fn,gn=ai.la>>4+Fn,ws=0;2>ws;++ws){for(wi=1&gn,Hi=0;2>Hi;++Hi)$n=wi+(1&js),js=js>>1|(wi=0<($n=Ph(sn,Jn[2],$n,Bn.Qc,0,gs,Qa)))<<3,Qs=Qs<<2|(3<$n?3:1<$n?2:gs[Qa+0]!=0),Qa+=16;js>>=2,gn=gn>>1|wi<<5}rs|=Qs<<4*Fn,$a|=js<<4<<Fn,jn|=(240&gn)<<Fn}Or.la=$a,ai.la=jn,ni.Hc=Mn,ni.Gc=rs,ni.ia=43690&rs?0:Bn.ia,Jn=!(Mn|rs)}if(0<lr.L&&(lr.wa[lr.Y+lr.ja]=lr.gd[is.$b][is.Za],lr.wa[lr.Y+lr.ja].La|=!Jn),da.Ka)return cr(ys,7,"Premature end-of-file encountered.")}if(Aa(ys),lr=Yn,da=1,is=(Nr=ys).D,Or=0<Nr.L&&Nr.M>=Nr.zb&&Nr.M<=Nr.Va,Nr.Aa==0)t:{if(is.M=Nr.M,is.uc=Or,$o(Nr,is),da=1,is=(Qs=Nr.D).Nb,Or=(rs=Dh[Nr.L])*Nr.R,sn=rs/2*Nr.B,ws=16*is*Nr.R,Hi=8*is*Nr.B,Jn=Nr.sa,ni=Nr.ta-Or+ws,Bn=Nr.qa,gs=Nr.ra-sn+Hi,Qa=Nr.Ha,ai=Nr.Ia-sn+Hi,gn=(js=Qs.M)==0,Mn=js>=Nr.Va-1,Nr.Aa==2&&$o(Nr,Qs),Qs.uc)for(wi=($n=Nr).D.M,e($n.D.uc),Qs=$n.yb;Qs<$n.Hb;++Qs){jn=Qs,$a=wi;var ji=(Ni=(ua=$n).D).Nb;Fn=ua.R;var Ni=Ni.wa[Ni.Y+jn],ho=ua.sa,Qi=ua.ta+16*ji*Fn+16*jn,$i=Ni.dd,Js=Ni.tc;if(Js!=0)if(e(3<=Js),ua.L==1)0<jn&&Ub(ho,Qi,Fn,Js+4),Ni.La&&Th(ho,Qi,Fn,Js),0<$a&&qx(ho,Qi,Fn,Js+4),Ni.La&&M0(ho,Qi,Fn,Js);else{var fo=ua.B,Al=ua.qa,vu=ua.ra+8*ji*fo+8*jn,ql=ua.Ha,ua=ua.Ia+8*ji*fo+8*jn;ji=Ni.ld,0<jn&&(ya(ho,Qi,Fn,Js+4,$i,ji),B0(Al,vu,ql,ua,fo,Js+4,$i,ji)),Ni.La&&(bd(ho,Qi,Fn,Js,$i,ji),em(Al,vu,ql,ua,fo,Js,$i,ji)),0<$a&&(Xn(ho,Qi,Fn,Js+4,$i,ji),Vl(Al,vu,ql,ua,fo,Js+4,$i,ji)),Ni.La&&(Zf(ho,Qi,Fn,Js,$i,ji),Wx(Al,vu,ql,ua,fo,Js,$i,ji))}}if(Nr.ia&&alert("todo:DitherRow"),lr.put!=null){if(Qs=16*js,js=16*(js+1),gn?(lr.y=Nr.sa,lr.O=Nr.ta+ws,lr.f=Nr.qa,lr.N=Nr.ra+Hi,lr.ea=Nr.Ha,lr.W=Nr.Ia+Hi):(Qs-=rs,lr.y=Jn,lr.O=ni,lr.f=Bn,lr.N=gs,lr.ea=Qa,lr.W=ai),Mn||(js-=rs),js>lr.o&&(js=lr.o),lr.F=null,lr.J=null,Nr.Fa!=null&&0<Nr.Fa.length&&Qs<js&&(lr.J=An(Nr,lr,Qs,js-Qs),lr.F=Nr.mb,lr.F==null&&lr.F.length==0)){da=cr(Nr,3,"Could not decode alpha data.");break t}Qs<lr.j&&(rs=lr.j-Qs,Qs=lr.j,e(!(1&rs)),lr.O+=Nr.R*rs,lr.N+=Nr.B*(rs>>1),lr.W+=Nr.B*(rs>>1),lr.F!=null&&(lr.J+=lr.width*rs)),Qs<js&&(lr.O+=lr.v,lr.N+=lr.v>>1,lr.W+=lr.v>>1,lr.F!=null&&(lr.J+=lr.v),lr.ka=Qs-lr.j,lr.U=lr.va-lr.v,lr.T=js-Qs,da=lr.put(lr))}is+1!=Nr.Ic||Mn||(n(Nr.sa,Nr.ta-Or,Jn,ni+16*Nr.R,Or),n(Nr.qa,Nr.ra-sn,Bn,gs+8*Nr.B,sn),n(Nr.Ha,Nr.Ia-sn,Qa,ai+8*Nr.B,sn))}if(!da)return cr(ys,6,"Output aborted.")}return 1})(Oe,ut)),ut.bc!=null&&ut.bc(ut),gt&=1}return gt?(Oe.cb=0,gt):0})(L,ae)||(U=L.a)}}else U=L.a}U==0&&Se.Oa!=null&&Se.Oa.fd&&(U=Xf(Se.ba))}Se=U}we=Se!=0?null:11>we?Ce.f.RGBA.eb:Ce.f.kb.y}else we=null;return we};var H0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(_,M){for(var C="",B=0;B<4;B++)C+=String.fromCharCode(_[M++]);return C}function u(_,M){return _[M+0]|_[M+1]<<8}function h(_,M){return(_[M+0]|_[M+1]<<8|_[M+2]<<16)>>>0}function m(_,M){return(_[M+0]|_[M+1]<<8|_[M+2]<<16|_[M+3]<<24)>>>0}new c;var f=[0],x=[0],A=[],g=new c,b=t,w=(function(_,M){var C={},B=0,P=!1,H=0,D=0;if(C.frames=[],!(function(F,z){for(var V=0;V<4;V++)if(F[z+V]!="RIFF".charCodeAt(V))return!0;return!1})(_,M)){for(m(_,M+=4),M+=8;M<_.length;){var G=d(_,M),O=m(_,M+=4);M+=4;var Q=O+(1&O);switch(G){case"VP8 ":case"VP8L":C.frames[B]===void 0&&(C.frames[B]={}),(Z=C.frames[B]).src_off=P?D:M-8,Z.src_size=H+O+8,B++,P&&(P=!1,H=0,D=0);break;case"VP8X":(Z=C.header={}).feature_flags=_[M];var ee=M+4;Z.canvas_width=1+h(_,ee),ee+=3,Z.canvas_height=1+h(_,ee),ee+=3;break;case"ALPH":P=!0,H=Q+8,D=M-8;break;case"ANIM":(Z=C.header).bgcolor=m(_,M),ee=M+4,Z.loop_count=u(_,ee),ee+=2;break;case"ANMF":var q,Z;(Z=C.frames[B]={}).offset_x=2*h(_,M),M+=3,Z.offset_y=2*h(_,M),M+=3,Z.width=1+h(_,M),M+=3,Z.height=1+h(_,M),M+=3,Z.duration=h(_,M),M+=3,q=_[M++],Z.dispose=1&q,Z.blend=q>>1&1}G!="ANMF"&&(M+=Q)}return C}})(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var v=w.header?w.header:null,j=w.frames?w.frames:null;if(v){v.loop_counter=v.loop_count,f=[v.canvas_height],x=[v.canvas_width];for(var N=0;N<j.length&&j[N].blend!=0;N++);}var S=j[0],T=g.WebPDecodeRGBA(b,S.src_off,S.src_size,x,f);S.rgba=T,S.imgwidth=x[0],S.imgheight=f[0];for(var I=0;I<x[0]*f[0]*4;I++)A[I]=T[I];return this.width=x,this.height=f,this.data=A,this}(function(t){var e,s,n,a,i,o,l,c,d,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,s=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=F;Object.defineProperty(this,"pdf",{get:function(){return z}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(J){V=!!J}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(J){W=!!J}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(J){isNaN(J)||(ne=J)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(J){isNaN(J)||(ie=J)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(J){var Pe;typeof J=="number"?Pe=[J,J,J,J]:((Pe=new Array(4))[0]=J[0],Pe[1]=J.length>=2?J[1]:Pe[0],Pe[2]=J.length>=3?J[2]:Pe[0],Pe[3]=J.length>=4?J[3]:Pe[1]),d.margin=Pe}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(J){be=J}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(J){ue=J}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(J){je=J}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(J){J instanceof u&&(d=J)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(J){d.path=J}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(J){Be=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Pe;Pe=m(J),this.ctx.fillStyle=Pe.style,this.ctx.isFillTransparent=Pe.a===0,this.ctx.fillOpacity=Pe.a,this.pdf.setFillColor(Pe.r,Pe.g,Pe.b,{a:Pe.a}),this.pdf.setTextColor(Pe.r,Pe.g,Pe.b,{a:Pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Pe=m(J);this.ctx.strokeStyle=Pe.style,this.ctx.isStrokeTransparent=Pe.a===0,this.ctx.strokeOpacity=Pe.a,Pe.a===0?this.pdf.setDrawColor(255,255,255):(Pe.a,this.pdf.setDrawColor(Pe.r,Pe.g,Pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var oe=null,lt=null,se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(J){oe=null,lt=null,se=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Pe;if(this.ctx.font=J,(Pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var xe=Pe[1];Pe[2];var He=Pe[3],$e=Pe[4];Pe[5];var Xe=Pe[6],he=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(he==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:he==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var ce=(function(rt){var Dt,Qt,Yt=[],kt=rt.trim();if(kt==="")return U6;if(kt in xG)return[xG[kt]];for(;kt!=="";){switch(Qt=null,Dt=(kt=gG(kt)).charAt(0)){case'"':case"'":Qt=uFe(kt.substring(1),Dt);break;default:Qt=hFe(kt)}if(Qt===null||(Yt.push(Qt[0]),(kt=gG(Qt[1]))!==""&&kt.charAt(0)!==","))return U6;kt=kt.replace(/^,/,"")}return Yt})(Xe);if(this.fontFaces){var _e=(function(rt,Dt){var Qt=rt.getFontList(),Yt=JSON.stringify(Qt);if(oe===null||lt!==Yt){var kt=(function(tt){var Ze=[];return Object.keys(tt).forEach(function(ye){tt[ye].forEach(function(fe){var Me=null;switch(fe){case"bold":Me={family:ye,weight:"bold"};break;case"italic":Me={family:ye,style:"italic"};break;case"bolditalic":Me={family:ye,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:ye}}Me!==null&&(Me.ref={name:ye,style:fe},Ze.push(Me))})}),Ze})(Qt);oe=(function(tt){for(var Ze={},ye=0;ye<tt.length;++ye){var fe=O6(tt[ye]),Me=fe.family,Le=fe.stretch,Ge=fe.style,ct=fe.weight;Ze[Me]=Ze[Me]||{},Ze[Me][Le]=Ze[Me][Le]||{},Ze[Me][Le][Ge]=Ze[Me][Le][Ge]||{},Ze[Me][Le][Ge][ct]=fe}return Ze})(kt.concat(Dt)),lt=Yt}return oe})(this.pdf,this.fontFaces),Ke=ce.map(function(rt){return{family:rt,stretch:"normal",weight:He,style:xe}}),et=(function(rt,Dt,Qt){for(var Yt=(Qt=Qt||{}).defaultFontFamily||"times",kt=Object.assign({},dFe,Qt.genericFontFamilies||{}),tt=null,Ze=null,ye=0;ye<Dt.length;++ye)if(kt[(tt=O6(Dt[ye])).family]&&(tt.family=kt[tt.family]),rt.hasOwnProperty(tt.family)){Ze=rt[tt.family];break}if(!(Ze=Ze||rt[Yt]))throw new Error("Could not find a font-family for the rule '"+AG(tt)+"' and default family '"+Yt+"'.");if(Ze=(function(fe,Me){if(Me[fe])return Me[fe];var Le=kF[fe],Ge=Le<=kF.normal?-1:1,ct=pG(Me,bte,Le,Ge);if(!ct)throw new Error("Could not find a matching font-stretch value for "+fe);return ct})(tt.stretch,Ze),Ze=(function(fe,Me){if(Me[fe])return Me[fe];for(var Le=gte[fe],Ge=0;Ge<Le.length;++Ge)if(Me[Le[Ge]])return Me[Le[Ge]];throw new Error("Could not find a matching font-style for "+fe)})(tt.style,Ze),!(Ze=(function(fe,Me){if(Me[fe])return Me[fe];if(fe===400&&Me[500])return Me[500];if(fe===500&&Me[400])return Me[400];var Le=cFe[fe],Ge=pG(Me,yte,Le,fe<400?-1:1);if(!Ge)throw new Error("Could not find a matching font-weight for value "+fe);return Ge})(tt.weight,Ze)))throw new Error("Failed to resolve a font for the rule '"+AG(tt)+"'.");return Ze})(_e,Ke);this.pdf.setFont(et.ref.name,et.ref.style)}else{var st="";(He==="bold"||parseInt(He,10)>=700||xe==="bold")&&(st="bold"),xe==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var ot="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<ce.length;At++){if(this.pdf.internal.getFont(ce[At],st,{noFallback:!0,disableWarning:!0})!==void 0){ot=ce[At];break}if(st==="bolditalic"&&this.pdf.internal.getFont(ce[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=ce[At],st="bold";else if(this.pdf.internal.getFont(ce[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=ce[At],st="normal";break}}if(ot===""){for(var Tt=0;Tt<ce.length;Tt++)if(mt[ce[Tt]]){ot=mt[ce[Tt]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){j.call(this,"fill",!1)},h.prototype.stroke=function(){j.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,z){if(isNaN(F)||isNaN(z))throw Sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(F,z));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(F,z)},h.prototype.closePath=function(){var F=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&fn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){F=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},h.prototype.lineTo=function(F,z){if(isNaN(F)||isNaN(z))throw Sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(F,z));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,z,V,W){if(isNaN(V)||isNaN(W)||isNaN(F)||isNaN(z))throw Sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(V,W)),ie=this.ctx.transform.applyToPoint(new o(F,z));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},h.prototype.bezierCurveTo=function(F,z,V,W,ne,ie){if(isNaN(ne)||isNaN(ie)||isNaN(F)||isNaN(z)||isNaN(V)||isNaN(W))throw Sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(ne,ie)),ue=this.ctx.transform.applyToPoint(new o(F,z)),je=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:je.x,y2:je.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},h.prototype.arc=function(F,z,V,W,ne,ie){if(isNaN(F)||isNaN(z)||isNaN(V)||isNaN(W)||isNaN(ne))throw Sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(F,z));F=be.x,z=be.y;var ue=this.ctx.transform.applyToPoint(new o(0,V)),je=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(ue.x-je.x,2)+Math.pow(ue.y-je.y,2))}Math.abs(ne-W)>=2*Math.PI&&(W=0,ne=2*Math.PI),this.path.push({type:"arc",x:F,y:z,radius:V,startAngle:W,endAngle:ne,counterclockwise:ie})},h.prototype.arcTo=function(F,z,V,W,ne){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,z,V,W){if(isNaN(F)||isNaN(z)||isNaN(V)||isNaN(W))throw Sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,z),this.lineTo(F+V,z),this.lineTo(F+V,z+W),this.lineTo(F,z+W),this.lineTo(F,z),this.lineTo(F+V,z),this.lineTo(F,z)},h.prototype.fillRect=function(F,z,V,W){if(isNaN(F)||isNaN(z)||isNaN(V)||isNaN(W))throw Sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,z,V,W),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},h.prototype.strokeRect=function(F,z,V,W){if(isNaN(F)||isNaN(z)||isNaN(V)||isNaN(W))throw Sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(F,z,V,W),this.stroke())},h.prototype.clearRect=function(F,z,V,W){if(isNaN(F)||isNaN(z)||isNaN(V)||isNaN(W))throw Sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,z,V,W))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(z),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(F){var z,V,W,ne;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))z=0,V=0,W=0,ne=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ie!==null)z=parseInt(ie[1]),V=parseInt(ie[2]),W=parseInt(ie[3]),ne=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)z=parseInt(ie[1]),V=parseInt(ie[2]),W=parseInt(ie[3]),ne=parseFloat(ie[4]);else{if(ne=1,typeof F=="string"&&F.charAt(0)!=="#"){var be=new ute(F);F=be.ok?be.toHex():"#000000"}F.length===4?(z=F.substring(1,2),z+=z,V=F.substring(2,3),V+=V,W=F.substring(3,4),W+=W):(z=F.substring(1,3),V=F.substring(3,5),W=F.substring(5,7)),z=parseInt(z,16),V=parseInt(V,16),W=parseInt(W,16)}}return{r:z,g:V,b:W,a:ne,style:F}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,z,V,W){if(isNaN(z)||isNaN(V)||typeof F!="string")throw Sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!f.call(this)){var ne=Q(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;B.call(this,{text:F,x:z,y:V,scale:ie,angle:ne,align:this.textAlign,maxWidth:W})}},h.prototype.strokeText=function(F,z,V,W){if(isNaN(z)||isNaN(V)||typeof F!="string")throw Sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){W=isNaN(W)?void 0:W;var ne=Q(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;B.call(this,{text:F,x:z,y:V,scale:ie,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:W})}},h.prototype.measureText=function(F){if(typeof F!="string")throw Sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,V=this.pdf.internal.scaleFactor,W=z.internal.getFontSize(),ne=z.getStringUnitWidth(F)*W/z.internal.scaleFactor;return new function(ie){var be=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(F,z){if(isNaN(F)||isNaN(z))throw Sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(F,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(F){if(isNaN(F))throw Sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},h.prototype.translate=function(F,z){if(isNaN(F)||isNaN(z))throw Sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,F,z);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(F,z,V,W,ne,ie){if(isNaN(F)||isNaN(z)||isNaN(V)||isNaN(W)||isNaN(ne)||isNaN(ie))throw Sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new c(F,z,V,W,ne,ie);this.ctx.transform=this.ctx.transform.multiply(be)},h.prototype.setTransform=function(F,z,V,W,ne,ie){F=isNaN(F)?1:F,z=isNaN(z)?0:z,V=isNaN(V)?0:V,W=isNaN(W)?1:W,ne=isNaN(ne)?0:ne,ie=isNaN(ie)?0:ie,this.ctx.transform=new c(F,z,V,W,ne,ie)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,z,V,W,ne,ie,be,ue,je){var Be=this.pdf.getImageProperties(F),oe=1,lt=1,se=1,J=1;W!==void 0&&ue!==void 0&&(se=ue/W,J=je/ne,oe=Be.width/W*ue/W,lt=Be.height/ne*je/ne),ie===void 0&&(ie=z,be=V,z=0,V=0),W!==void 0&&ue===void 0&&(ue=W,je=ne),W===void 0&&ue===void 0&&(ue=Be.width,je=Be.height);var Pe=this.ctx.transform.decompose(),xe=Q(Pe.rotate.shx),He=new c,$e=(He=(He=(He=He.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new l(ie-z*se,be-V*J,W*oe,ne*lt));if(this.autoPaging){for(var Xe,he=g.call(this,$e),ce=[],_e=0;_e<he.length;_e+=1)ce.indexOf(he[_e])===-1&&ce.push(he[_e]);v(ce);for(var Ke=ce[0],et=ce[ce.length-1],st=Ke;st<et+1;st++){this.pdf.setPage(st);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=st===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=st===1?0:At+(st-2)*Tt;if(this.ctx.clip_path.length!==0){var Dt=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Xe,this.posX+this.margin[3],-rt+mt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Dt}var Qt=JSON.parse(JSON.stringify($e));Qt=w([Qt],this.posX+this.margin[3],-rt+mt+this.ctx.prevPageLastElemOffset)[0];var Yt=(st>Ke||st<et)&&A.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Tt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,xe),Yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,xe)};var g=function(F,z,V){var W=[];z=z||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":W.push(Math.floor((F.y+ne)/V)+1);break;case"arc":W.push(Math.floor((F.y+ne-F.radius)/V)+1),W.push(Math.floor((F.y+ne+F.radius)/V)+1);break;case"qct":var ie=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);W.push(Math.floor((ie.y+ne)/V)+1),W.push(Math.floor((ie.y+ie.h+ne)/V)+1);break;case"bct":var be=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);W.push(Math.floor((be.y+ne)/V)+1),W.push(Math.floor((be.y+be.h+ne)/V)+1);break;case"rect":W.push(Math.floor((F.y+ne)/V)+1),W.push(Math.floor((F.y+F.h+ne)/V)+1)}for(var ue=0;ue<W.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<W[ue];)b.call(this);return W},b=function(){var F=this.fillStyle,z=this.strokeStyle,V=this.font,W=this.lineCap,ne=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=z,this.font=V,this.lineCap=W,this.lineWidth=ne,this.lineJoin=ie},w=function(F,z,V){for(var W=0;W<F.length;W++)switch(F[W].type){case"bct":F[W].x2+=z,F[W].y2+=V;case"qct":F[W].x1+=z,F[W].y1+=V;default:F[W].x+=z,F[W].y+=V}return F},v=function(F){return F.sort(function(z,V){return z-V})},j=function(F,z){var V=this.fillStyle,W=this.strokeStyle,ne=this.lineCap,ie=this.lineWidth,be=Math.abs(ie*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var je,Be,oe=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),se=[],J=0;J<lt.length;J++)if(lt[J].x!==void 0)for(var Pe=g.call(this,lt[J]),xe=0;xe<Pe.length;xe+=1)se.indexOf(Pe[xe])===-1&&se.push(Pe[xe]);for(var He=0;He<se.length;He++)for(;this.pdf.internal.getNumberOfPages()<se[He];)b.call(this);v(se);for(var $e=se[0],Xe=se[se.length-1],he=$e;he<Xe+1;he++){this.pdf.setPage(he),this.fillStyle=V,this.strokeStyle=W,this.lineCap=ne,this.lineWidth=be,this.lineJoin=ue;var ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=he===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=he===1?0:Ke+(he-2)*et;if(this.ctx.clip_path.length!==0){var ot=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(je,this.posX+this.margin[3],-st+_e+this.ctx.prevPageLastElemOffset),N.call(this,F,!0),this.path=ot}if(Be=JSON.parse(JSON.stringify(oe)),this.path=w(Be,this.posX+this.margin[3],-st+_e+this.ctx.prevPageLastElemOffset),z===!1||he===0){var mt=(he>$e||he<Xe)&&A.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,et,null).clip().discardPath()),N.call(this,F,z),mt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}this.path=oe}else this.lineWidth=be,N.call(this,F,z),this.lineWidth=ie},N=function(F,z){if((F!=="stroke"||z||!x.call(this))&&(F==="stroke"||z||!f.call(this))){for(var V,W,ne=[],ie=this.path,be=0;be<ie.length;be++){var ue=ie[be];switch(ue.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ue,deltas:[],abs:[]});break;case"lt":var je=ne.length;if(ie[be-1]&&!isNaN(ie[be-1].x)&&(V=[ue.x-ie[be-1].x,ue.y-ie[be-1].y],je>0)){for(;je>=0;je--)if(ne[je-1].close!==!0&&ne[je-1].begin!==!0){ne[je-1].deltas.push(V),ne[je-1].abs.push(ue);break}}break;case"bct":V=[ue.x1-ie[be-1].x,ue.y1-ie[be-1].y,ue.x2-ie[be-1].x,ue.y2-ie[be-1].y,ue.x-ie[be-1].x,ue.y-ie[be-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var Be=ie[be-1].x+2/3*(ue.x1-ie[be-1].x),oe=ie[be-1].y+2/3*(ue.y1-ie[be-1].y),lt=ue.x+2/3*(ue.x1-ue.x),se=ue.y+2/3*(ue.y1-ue.y),J=ue.x,Pe=ue.y;V=[Be-ie[be-1].x,oe-ie[be-1].y,lt-ie[be-1].x,se-ie[be-1].y,J-ie[be-1].x,Pe-ie[be-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ue)}}W=z?null:F==="stroke"?"stroke":"fill";for(var xe=!1,He=0;He<ne.length;He++)if(ne[He].arc)for(var $e=ne[He].abs,Xe=0;Xe<$e.length;Xe++){var he=$e[Xe];he.type==="arc"?I.call(this,he.x,he.y,he.radius,he.startAngle,he.endAngle,he.counterclockwise,void 0,z,!xe):P.call(this,he.x,he.y),xe=!0}else if(ne[He].close===!0)this.pdf.internal.out("h"),xe=!1;else if(ne[He].begin!==!0){var ce=ne[He].start.x,_e=ne[He].start.y;H.call(this,ne[He].deltas,ce,_e),xe=!0}W&&_.call(this,W),z&&M.call(this)}},S=function(F){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-V;case"top":return F+z-V;case"hanging":return F+z-2*V;case"middle":return F+z/2-V;default:return F}},T=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(z,V){this.colorStops.push([z,V])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(F,z,V,W,ne,ie,be,ue,je){for(var Be=G.call(this,V,W,ne,ie),oe=0;oe<Be.length;oe++){var lt=Be[oe];oe===0&&(je?C.call(this,lt.x1+F,lt.y1+z):P.call(this,lt.x1+F,lt.y1+z)),D.call(this,F,z,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}ue?M.call(this):_.call(this,be)},_=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(F,z){this.pdf.internal.out(s(F)+" "+n(z)+" m")},B=function(F){var z;switch(F.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var V,W,ne,ie=this.pdf.getTextDimensions(F.text),be=S.call(this,F.y),ue=T.call(this,be)-ie.h,je=this.ctx.transform.applyToPoint(new o(F.x,be));if(this.autoPaging){var Be=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var lt=this.ctx.transform.applyToRectangle(new l(F.x,be,ie.w,ie.h)),se=oe.applyToRectangle(new l(F.x,ue,ie.w,ie.h)),J=g.call(this,se),Pe=[],xe=0;xe<J.length;xe+=1)Pe.indexOf(J[xe])===-1&&Pe.push(J[xe]);v(Pe);for(var He=Pe[0],$e=Pe[Pe.length-1],Xe=He;Xe<$e+1;Xe++){this.pdf.setPage(Xe);var he=Xe===1?this.posY+this.margin[0]:this.margin[0],ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],Ke=_e-this.margin[0],et=this.pdf.internal.pageSize.width-this.margin[1],st=et-this.margin[3],ot=Xe===1?0:ce+(Xe-2)*Ke;if(this.ctx.clip_path.length!==0){var mt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-1*ot+he),N.call(this,"fill",!0),this.path=mt}var At=w([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-ot+he+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale);var Tt=this.autoPaging!=="text";if(Tt||At.y+At.h<=_e){if(Tt||At.y>=he&&At.x<=et){var rt=Tt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||et-At.x)[0],Dt=w([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-ot+he+this.ctx.prevPageLastElemOffset)[0],Qt=Tt&&(Xe>He||Xe<$e)&&A.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ke,null).clip().discardPath()),this.pdf.text(rt,Dt.x,Dt.y,{angle:F.angle,align:z,renderingMode:F.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else At.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-At.y);F.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=ne)}}else F.scale>=.01&&(W=this.pdf.internal.getFontSize(),this.pdf.setFontSize(W*F.scale),ne=this.lineWidth,this.lineWidth=ne*F.scale),this.pdf.text(F.text,je.x+this.posX,je.y+this.posY,{angle:F.angle,align:z,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(W),this.lineWidth=ne)},P=function(F,z,V,W){V=V||0,W=W||0,this.pdf.internal.out(s(F+V)+" "+n(z+W)+" l")},H=function(F,z,V){return this.pdf.lines(F,z,V,null,null)},D=function(F,z,V,W,ne,ie,be,ue){this.pdf.internal.out([e(a(V+F)),e(i(W+z)),e(a(ne+F)),e(i(ie+z)),e(a(be+F)),e(i(ue+z)),"c"].join(" "))},G=function(F,z,V,W){for(var ne=2*Math.PI,ie=Math.PI/2;z>V;)z-=ne;var be=Math.abs(V-z);be<ne&&W&&(be=ne-be);for(var ue=[],je=W?-1:1,Be=z;be>1e-5;){var oe=Be+je*Math.min(be,ie);ue.push(O.call(this,F,Be,oe)),be-=Math.abs(oe-Be),Be=oe}return ue},O=function(F,z,V){var W=(V-z)/2,ne=F*Math.cos(W),ie=F*Math.sin(W),be=ne,ue=-ie,je=be*be+ue*ue,Be=je+be*ne+ue*ie,oe=4/3*(Math.sqrt(2*je*Be)-Be)/(be*ie-ue*ne),lt=be-oe*ue,se=ue+oe*be,J=lt,Pe=-se,xe=W+z,He=Math.cos(xe),$e=Math.sin(xe);return{x1:F*Math.cos(z),y1:F*Math.sin(z),x2:lt*He-se*$e,y2:lt*$e+se*He,x3:J*He-Pe*$e,y3:J*$e+Pe*He,x4:F*Math.cos(V),y4:F*Math.sin(V)}},Q=function(F){return 180*F/Math.PI},ee=function(F,z,V,W,ne,ie){var be=F+.5*(V-F),ue=z+.5*(W-z),je=ne+.5*(V-ne),Be=ie+.5*(W-ie),oe=Math.min(F,ne,be,je),lt=Math.max(F,ne,be,je),se=Math.min(z,ie,ue,Be),J=Math.max(z,ie,ue,Be);return new l(oe,se,lt-oe,J-se)},q=function(F,z,V,W,ne,ie,be,ue){var je,Be,oe,lt,se,J,Pe,xe,He,$e,Xe,he,ce,_e,Ke=V-F,et=W-z,st=ne-V,ot=ie-W,mt=be-ne,At=ue-ie;for(Be=0;Be<41;Be++)He=(Pe=(oe=F+(je=Be/40)*Ke)+je*((se=V+je*st)-oe))+je*(se+je*(ne+je*mt-se)-Pe),$e=(xe=(lt=z+je*et)+je*((J=W+je*ot)-lt))+je*(J+je*(ie+je*At-J)-xe),Be==0?(Xe=He,he=$e,ce=He,_e=$e):(Xe=Math.min(Xe,He),he=Math.min(he,$e),ce=Math.max(ce,He),_e=Math.max(_e,$e));return new l(Math.round(Xe),Math.round(he),Math.round(ce-Xe),Math.round(_e-he))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,z,V=(F=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:z}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Sr.API),(function(t){var e=function(o){var l,c,d,u,h,m,f,x,A,g;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(g=h%85))/85)-(A=h%85))/85)-(x=h%85))/85)-(f=h%85))/85)%85,c.push(m+33,f+33,x+33,A+33,g+33)):c.push(122);return(function(b,w){for(var v=w;v>0;v--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},s=function(o){var l,c,d,u,h,m=String,f="length",x=255,A="charCodeAt",g="slice",b="replace";for(o[g](-2),o=o[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[g](o[f]%5||5))[f];h>u;u+=5)c=52200625*(o[A](u)-33)+614125*(o[A](u+1)-33)+7225*(o[A](u+2)-33)+85*(o[A](u+3)-33)+(o[A](u+4)-33),d.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(w,v){for(var j=v;j>0;j--)w.pop()})(d,l[f]),m.fromCharCode.apply(m,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=wF(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=s(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(Sr.API),(function(t){t.loadFile=function(e,s,n){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var h=new XMLHttpRequest,m=0,f=function(x){var A=x.length,g=[],b=String.fromCharCode;for(m=0;m<A;m+=1)g.push(b(255&x.charCodeAt(m)));return g.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return f(h.responseText)})(a,i,o)}catch{}return l})(e,s,n)},t.loadImageFile=t.loadFile})(Sr.API),(function(t){function e(){return(es.html2canvas?Promise.resolve(es.html2canvas):cN(()=>Promise.resolve().then(()=>Yet),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function s(){return(es.DOMPurify?Promise.resolve(es.DOMPurify):cN(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=fn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(s).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var x=u[f],A=x.src.find(function(g){return g.format==="truetype"});A&&d.addFont(A.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,u),m}).then(u,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),m=d.call(h,l,c);return o.convert(m,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Sr.getPageSize=function(l,c,d){if(fn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var x,A=0,g=0;if(f.hasOwnProperty(m))A=f[m][1]/h,g=f[m][0]/h;else try{A=d[1],g=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",g>A&&(x=g,g=A,A=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",A>g&&(x=g,g=A,A=x)}return{width:g,height:A,unit:c,k:h,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(O6):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}})(Sr.API),Sr.API.addJS=function(t){return yG=t,this.internal.events.subscribe("postPutResources",function(){nj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(nj+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){nj!==void 0&&bG!==void 0&&this.internal.out("/Names <</JavaScript "+nj+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var s=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=s.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];s.internal.newObjectDeferredBegin(c,!1)}s.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=s.internal.newObject();u.push(h);var m=s.internal.getPageInfo(i+1);s.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=s.internal.newObject();for(s.internal.write("<< /Names [ "),i=0;i<u.length;i++)s.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");s.internal.write(" ] >>","endobj"),e=s.internal.newObject(),s.internal.write("<< /Dests "+f+" 0 R"),s.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(n){n.id=s.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},s.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},s.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=s.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},s.outline.line=function(n){this.ctx.val+=n+`\r
`},s.outline.makeRef=function(n){return n.id+" 0 R"},s.outline.makeString=function(n){return"("+s.internal.pdfEscape(n)+")"},s.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Sr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(s,n,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=o||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,c=(function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,A={width:0,height:0,numcomponents:1},g=4;g<x;g+=2){if(g+=f,e.indexOf(h.charCodeAt(g+1))!==-1){m=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),A={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:m,numcomponents:h.charCodeAt(g+9)};break}f=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return A})(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:s,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}})(Sr.API),Sr.API.processPNG=function(t,e,s,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=qMe(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?(function(I){for(var _=I.width,M=I.height,C=I.data,B=I.palette,P=I.depth,H=!1,D=[],G=[],O=void 0,Q=!1,ee=0,q=0;q<B.length;q++){var Z=Nz(B[q],4),F=Z[0],z=Z[1],V=Z[2],W=Z[3];D.push(F,z,V),W!=null&&(W===0?(ee++,G.length<1&&G.push(q)):W<255&&(Q=!0))}if(Q||ee>1){H=!0,G=void 0;var ne=_*M;O=new Uint8Array(ne);for(var ie=new DataView(C.buffer),be=0;be<ne;be++){var ue=H6(ie,be,P),je=Nz(B[ue],4)[3];O[be]=je}}else ee===0&&(G=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:C,alphaBytes:O,needSMask:H,palette:D,mask:G}})(i):c===2||c===4?(function(I){for(var _=I.data,M=I.width,C=I.height,B=I.channels,P=I.depth,H=B===2?"DeviceGray":"DeviceRGB",D=B-1,G=M*C,O=D,Q=G*O,ee=1*G,q=Math.ceil(Q*P/8),Z=Math.ceil(ee*P/8),F=new Uint8Array(q),z=new Uint8Array(Z),V=new DataView(_.buffer),W=new DataView(F.buffer),ne=new DataView(z.buffer),ie=!1,be=0;be<G;be++){for(var ue=be*B,je=0;je<O;je++)kG(W,H6(V,ue+je,P),be*O+je,P);var Be=H6(V,ue+O,P);Be<(1<<P)-1&&(ie=!0),kG(ne,Be,1*be,P)}return{colorSpace:H,colorsPerPixel:D,sMaskBitsPerComponent:ie?P:void 0,colorBytes:F,alphaBytes:z,needSMask:ie}})(i):(function(I){var _=I.data,M=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?(function(C){for(var B=C.length,P=new Uint8Array(2*B),H=new DataView(P.buffer,P.byteOffset,P.byteLength),D=0;D<B;D++)H.setUint16(2*D,C[D],!1);return P})(_):_,needSMask:!1}})(i);var h,m,f,x=a,A=x.colorSpace,g=x.colorsPerPixel,b=x.sMaskBitsPerComponent,w=x.colorBytes,v=x.alphaBytes,j=x.needSMask,N=x.palette,S=x.mask,T=null;return n!==Sr.API.image_compression.NONE&&typeof wF=="function"?(T=(function(I){var _;switch(I){case Sr.API.image_compression.FAST:_=11;break;case Sr.API.image_compression.MEDIUM:_=13;break;case Sr.API.image_compression.SLOW:_=14;break;default:_=12}return _})(n),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(T," /Colors ").concat(g," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=NG(w,Math.ceil(o*g*u/8),g,u,n),j&&(f=NG(v,Math.ceil(o*b/8),1,b,n))):(h=void 0,m=void 0,t=w,j&&(f=v)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:s,data:t,index:e,filter:h,decodeParameters:m,transparency:S,palette:N,sMask:f,predictor:T,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:b,colorSpace:A}}},(function(t){t.processGIF89A=function(e,s,n,a){var i=new xFe(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new Q6(100).encode(d,100);return t.processJPEG.call(this,u,s,n,a)},t.processGIF87A=t.processGIF89A})(Sr.API),Md.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:s,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Md.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(s){Sn.log("bit decode error:"+s)}},Md.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),s=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}s!==0&&(this.pos+=4-s)}},Md.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Md.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Md.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},Md.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),s=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&s)/s*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},Md.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*s;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Md.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*s;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Md.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,s,n,a){var i=new Md(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new Q6(100).encode(c,100);return t.processJPEG.call(this,d,s,n,a)}})(Sr.API),BG.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,s,n,a){var i=new BG(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new Q6(100).encode(c,100);return t.processJPEG.call(this,d,s,n,a)}})(Sr.API),Sr.API.processRGBA=function(t,e,s){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],h=n[d+1],m=n[d+2],f=n[d+3];i[l++]=u,i[l++]=h,i[l++]=m,o[c++]=f}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Sr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},TA=Sr.API,aj=TA.getCharWidthsArray=function(t,e){var s,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,m=0,f=t.length,x=0,A=l[0]||c,g=[];for(s=0;s<f;s++)n=t.charCodeAt(s),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(m=h&&fn(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/u:0,g.push((l[n]||A)/c+m)),x=n;return g},vG=TA.getStringUnitWidth=function(t,e){var s=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return TA.processArabic&&(t=TA.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,s,a)/s:aj.apply(this,arguments).reduce(function(i,o){return i+o},0)},wG=function(t,e,s,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<s;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},jG=function(t,e,s){s||(s={});var n,a,i,o,l,c,d,u=[],h=[u],m=s.textIndent||0,f=0,x=0,A=t.split(" "),g=aj.apply(this,[" ",s])[0];if(c=s.lineIndent===-1?A[0].length+2:s.lineIndent||0){var b=Array(c).join(" "),w=[];A.map(function(j){(j=j.split(/\s*\n/)).length>1?w=w.concat(j.map(function(N,S){return(S&&N.length?`
`:"")+N})):w.push(j[0])}),A=w,c=vG.apply(this,[b,s])}for(i=0,o=A.length;i<o;i++){var v=0;if(n=A[i],c&&n[0]==`
`&&(n=n.substr(1),v=1),m+f+(x=(a=aj.apply(this,[n,s])).reduce(function(j,N){return j+N},0))>e||v){if(x>e){for(l=wG.apply(this,[n,a,e-(m+f),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);x=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(j,N){return j+N},0)}else u=[n];h.push(u),m=x+c,f=g}else u.push(n),m+=f+x,f=g}return d=c?function(j,N){return(N?b:"")+j.join(" ")}:function(j){return j.join(" ")},h.map(d)},TA.splitTextToSize=function(t,e,s){var n,a=(s=s||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=s.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(jG.apply(this,[n[l],o,i]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",s="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[s[i]]=e[i],a[e[i]]=s[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var f,x,A,g,b=["{"];for(var w in m){if(f=m[w],isNaN(parseInt(w,10))?x="'"+w+"'":(w=parseInt(w,10),x=(x=o(w).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof f=="number")f<0?(A=o(f).slice(3),g="-"):(A=o(f).slice(2),g=""),A=g+A.slice(0,-1)+a[A.slice(-1)];else{if(fn(f)!=="object")throw new Error("Don't know what to do with value type "+fn(f)+".");A=l(f)}b.push(x+A)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,x,A,g,b={},w=1,v=b,j=[],N="",S="",T=m.length-1,I=1;I<T;I+=1)(g=m[I])=="'"?f?(A=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(j.push([v,A]),v={},A=void 0):g=="}"?((x=j.pop())[0][x[1]]=v,A=void 0,v=x[0]):g=="-"?w=-1:A===void 0?n.hasOwnProperty(g)?(N+=n[g],A=parseInt(N,16)*w,w=1,N=""):N+=g:n.hasOwnProperty(g)?(S+=n[g],v[A]=parseInt(S,16)*w,w=1,A=void 0,S=""):S+=g;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var f=m.font,x=h.Unicode[f.postScriptName];x&&(f.metadata.Unicode={},f.metadata.Unicode.widths=x.widths,f.metadata.Unicode.kerning=x.kerning);var A=u.Unicode[f.postScriptName];A&&(f.metadata.Unicode.encoding=A,f.encoding=A.codePages[0])}])})(Sr.API),(function(t){var e=function(s){for(var n=s.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=s.charCodeAt(i);return a};t.API.events.push(["addFont",function(s){var n=void 0,a=s.font,i=s.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(gN(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(Sr),Sr.API.addSvgAsImage=function(t,e,s,n,a,i,o,l){if(isNaN(e)||isNaN(s))throw Sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(es.canvg?Promise.resolve(es.canvg):cN(()=>import("./index.es-DU_euzEv.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,s,n,a,o,l)})},Sr.API.putTotalPages=function(t){var e,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),s=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,s);return this},Sr.API.viewerPreferences=function(t,e){var s;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(x,A){var g,b=!1;for(g=0;g<x.length;g+=1)x[g]===A&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(h=0;h<f;h+=1)s[l[h]].value=s[l[h]].defaultValue,s[l[h]].explicitSet=!1}if(fn(t)==="object"){for(a in t)if(i=t[a],m(l,a)&&i!==void 0){if(s[a].type==="boolean"&&typeof i=="boolean")s[a].value=i;else if(s[a].type==="name"&&m(s[a].valueSet,i))s[a].value=i;else if(s[a].type==="integer"&&Number.isInteger(i))s[a].value=i;else if(s[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}s[a].value="["+c.join(" ")+"]"}else s[a].value=s[a].defaultValue;s[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,A=[];for(x in s)s[x].explicitSet===!0&&(s[x].type==="name"?A.push("/"+x+" /"+s[x].value):A.push("/"+x+" "+s[x].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",e)),this}})(Sr.API),(function(t){var e=t.API,s=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort(function(f,x){return f-x})).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",x=0;x<m.length;x++)f+=String.fromCharCode(m[x]);var A=d();u({data:f,addLength1:!0,objectId:A}),c("endobj");var g=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+zA(l.fontName)),c("/FontFile2 "+A+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+zA(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+zA(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var x=d();u({data:m,addLength1:!0,objectId:x}),c("endobj");var A=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var g=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+zA(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+zA(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},m=h.pdfEscape,f=h.activeFontKey,x=h.fonts,A=f,g="",b=0,w="",v=x[A].encoding;if(x[A].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(w=l,A=f,Array.isArray(l)&&(w=l[0]),b=0;b<w.length;b+=1)x[A].metadata.hasOwnProperty("cmap")&&(o=x[A].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),o||w[b].charCodeAt(0)<256&&x[A].metadata.hasOwnProperty("Unicode")?g+=w[b]:g+="";var j="";return parseInt(A.slice(1))<14||v==="WinAnsiEncoding"?j=m(g,A).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(j=s(g,x[A])),h.isHex=!0,{text:j,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(Sr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0},t.addFileToVFS=function(s,n){return e.call(this),this.internal.vFS[s]=n,this},t.getFileFromVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}})(Sr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,d,u,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,v=0;this.__bidiEngine__={};var j=function(C){var B=C.charCodeAt(),P=B>>8,H=A[P];return H!==void 0?h[256*H+(255&B)]:P===252||P===253?"AL":b.test(P)?"L":P===8?"R":"N"},N=function(C){for(var B,P=0;P<C.length;P++){if((B=j(C.charAt(P)))==="L")return!1;if(B==="R")return!0}return!1},S=function(C,B,P,H){var D,G,O,Q,ee=B[H];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(ee="AN");break;case"AL":w=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":H<1||H+1>=B.length||(D=P[H-1])!=="EN"&&D!=="AN"||(G=B[H+1])!=="EN"&&G!=="AN"?ee="N":w&&(G="AN"),ee=G===D?G:"N";break;case"ES":ee=(D=H>0?P[H-1]:"B")==="EN"&&H+1<B.length&&B[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&P[H-1]==="EN"){ee="EN";break}if(w){ee="N";break}for(O=H+1,Q=B.length;O<Q&&B[O]==="ET";)O++;ee=O<Q&&B[O]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Q=B.length,O=H+1;O<Q&&B[O]==="NSM";)O++;if(O<Q){var q=C[H],Z=q>=1425&&q<=2303||q===64286;if(D=B[O],Z&&(D==="R"||D==="AL")){ee="R";break}}}ee=H<1||(D=B[H-1])==="B"?"N":P[H-1];break;case"B":w=!1,a=!0,ee=v;break;case"S":i=!0,ee="N"}return ee},T=function(C,B,P){var H=C.split("");return P&&I(H,P,{hiLevel:v}),H.reverse(),B&&B.reverse(),H.join("")},I=function(C,B,P){var H,D,G,O,Q,ee=-1,q=C.length,Z=0,F=[],z=v?f:m,V=[];for(w=!1,a=!1,i=!1,D=0;D<q;D++)V[D]=j(C[D]);for(G=0;G<q;G++){if(Q=Z,F[G]=S(C,V,F,G),H=240&(Z=z[Q][x[F[G]]]),Z&=15,B[G]=O=z[Z][5],H>0)if(H===16){for(D=ee;D<G;D++)B[D]=1;ee=-1}else ee=-1;if(z[Z][6])ee===-1&&(ee=G);else if(ee>-1){for(D=ee;D<G;D++)B[D]=O;ee=-1}V[G]==="B"&&(B[G]=0),P.hiLevel|=O}i&&(function(W,ne,ie){for(var be=0;be<ie;be++)if(W[be]==="S"){ne[be]=v;for(var ue=be-1;ue>=0&&W[ue]==="WS";ue--)ne[ue]=v}})(V,B,q)},_=function(C,B,P,H,D){if(!(D.hiLevel<C)){if(C===1&&v===1&&!a)return B.reverse(),void(P&&P.reverse());for(var G,O,Q,ee,q=B.length,Z=0;Z<q;){if(H[Z]>=C){for(Q=Z+1;Q<q&&H[Q]>=C;)Q++;for(ee=Z,O=Q-1;ee<O;ee++,O--)G=B[ee],B[ee]=B[O],B[O]=G,P&&(G=P[ee],P[ee]=P[O],P[O]=G);Z=Q}Z++}}},M=function(C,B,P){var H=C.split(""),D={hiLevel:v};return P||(P=[]),I(H,P,D),(function(G,O,Q){if(Q.hiLevel!==0&&u)for(var ee,q=0;q<G.length;q++)O[q]===1&&(ee=g.indexOf(G[q]))>=0&&(G[q]=g[ee+1])})(H,P,D),_(2,H,B,P,D),_(1,H,B,P,D),H.join("")};return this.__bidiEngine__.doBidiReorder=function(C,B,P){if((function(D,G){if(G)for(var O=0;O<D.length;O++)G[O]=O;l===void 0&&(l=N(D)),d===void 0&&(d=N(D))})(C,B),o||!c||d)if(o&&c&&l^d)v=l?1:0,C=T(C,B,P);else if(!o&&c&&d)v=l?1:0,C=M(C,B,P),C=T(C,B);else if(!o||l||c||d){if(o&&!c&&l^d)C=T(C,B),l?(v=0,C=M(C,B,P)):(v=1,C=M(C,B,P),C=T(C,B));else if(o&&l&&!c&&d)v=1,C=M(C,B,P),C=T(C,B);else if(!o&&!c&&l^d){var H=u;l?(v=1,C=M(C,B,P),v=0,u=!1,C=M(C,B,P),u=H):(v=0,C=M(C,B,P),C=T(C,B),v=1,u=!1,C=M(C,B,P),u=H,C=T(C,B))}}else v=0,C=M(C,B,P);else v=l?1:0,C=M(C,B,P);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,d=C.isOutputRtl,u=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,s.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([s.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([s.doBidiReorder(a[l])]);n.text=o}else n.text=s.doBidiReorder(a);s.setOptions({isInputVisual:!0})}])})(Sr),Sr.API.TTFFont=(function(){function t(e){var s;if(this.rawData=e,s=this.contents=new h0(e),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new BFe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new AFe(this.contents),this.head=new bFe(this),this.name=new NFe(this),this.cmap=new wte(this),this.toUnicode={},this.hhea=new yFe(this),this.maxp=new SFe(this),this.hmtx=new CFe(this),this.post=new wFe(this),this.os2=new vFe(this),this.loca=new TFe(this),this.glyf=new _Fe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,s,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(s=a>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var s;return((s=this.cmap.unicode)!=null?s.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*s},t.prototype.widthOfString=function(e,s,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/s)||0;return o*(s/1e3)},t.prototype.lineHeight=function(e,s){var n;return s==null&&(s=!1),n=s?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var iu,h0=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var s,n;for(n=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)n[s]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var s,n,a;for(a=[],s=0,n=e.length;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push(this.writeByte(e.charCodeAt(s)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,s,n,a,i,o,l,c;return e=this.readByte(),s=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^s)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*s+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var s,n;return s=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var s,n;for(s=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)s.push(this.readByte());return s},t.prototype.write=function(e){var s,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)s=e[n],i.push(this.writeByte(s));return i},t})(),AFe=(function(){var t;function e(s){var n,a,i;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(s){var n,a,i,o,l,c,d,u,h,m,f,x,A;for(A in f=Object.keys(s).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),u=16*f-h,(a=new h0).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,x=[],s)for(m=s[A],a.writeString(A),a.writeInt(t(m)),a.writeInt(d),a.writeInt(m.length),x=x.concat(m),A==="head"&&(l=d),d+=m.length;d%4;)x.push(0),d++;return a.write(x),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(s){var n,a,i,o;for(s=jte.call(s);s.length%4;)s.push(0);for(i=new h0(s),a=0,n=0,o=s.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),gFe={}.hasOwnProperty,dh=function(t,e){for(var s in e)gFe.call(e,s)&&(t[s]=e[s]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};iu=(function(){function t(e){var s;this.file=e,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var bFe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var s;return(s=new h0).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(e),s.writeShort(this.glyphDataFormat),s.data},t})(),MG=(function(){function t(e,s){var n,a,i,o,l,c,d,u,h,m,f,x,A,g,b,w,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=s+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,i=(function(){var j,N;for(N=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)N.push(e.readUInt16());return N})(),e.pos+=2,A=(function(){var j,N;for(N=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)N.push(e.readUInt16());return N})(),d=(function(){var j,N;for(N=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)N.push(e.readUInt16());return N})(),u=(function(){var j,N;for(N=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)N.push(e.readUInt16());return N})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var j,N;for(N=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)N.push(e.readUInt16());return N})(),c=b=0,v=i.length;b<v;c=++b)for(g=i[c],n=w=x=A[c];x<=g?w<=g:w>=g;n=x<=g?++w:--w)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-x)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,s){var n,a,i,o,l,c,d,u,h,m,f,x,A,g,b,w,v,j,N,S,T,I,_,M,C,B,P,H,D,G,O,Q,ee,q,Z,F,z,V,W,ne,ie,be,ue,je,Be,oe;switch(H=new h0,o=Object.keys(e).sort(function(lt,se){return lt-se}),s){case"macroman":for(A=0,g=(function(){var lt=[];for(x=0;x<256;++x)lt.push(0);return lt})(),w={0:0},i={},D=0,ee=o.length;D<ee;D++)w[ue=e[a=o[D]]]==null&&(w[ue]=++A),i[a]={old:e[a],new:w[e[a]]},g[a]=w[e[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(g),{charMap:i,subtable:H.data,maxGlyphID:A+1};case"unicode":for(B=[],h=[],v=0,w={},n={},b=d=null,G=0,q=o.length;G<q;G++)w[N=e[a=o[G]]]==null&&(w[N]=++v),n[a]={old:N,new:w[N]},l=w[N]-a,b!=null&&l===d||(b&&h.push(b),B.push(a),d=l),b=a;for(b&&h.push(b),h.push(65535),B.push(65535),M=2*(_=B.length),I=2*Math.pow(Math.log(_)/Math.LN2,2),m=Math.log(I/2)/Math.LN2,T=2*_-I,c=[],S=[],f=[],x=O=0,Z=B.length;O<Z;x=++O){if(C=B[x],u=h[x],C===65535){c.push(0),S.push(0);break}if(C-(P=n[C].new)>=32768)for(c.push(0),S.push(2*(f.length+_-x)),a=Q=C;C<=u?Q<=u:Q>=u;a=C<=u?++Q:--Q)f.push(n[a].new);else c.push(P-C),S.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*_+2*f.length),H.writeUInt16(0),H.writeUInt16(M),H.writeUInt16(I),H.writeUInt16(m),H.writeUInt16(T),ie=0,F=h.length;ie<F;ie++)a=h[ie],H.writeUInt16(a);for(H.writeUInt16(0),be=0,z=B.length;be<z;be++)a=B[be],H.writeUInt16(a);for(je=0,V=c.length;je<V;je++)l=c[je],H.writeUInt16(l);for(Be=0,W=S.length;Be<W;Be++)j=S[Be],H.writeUInt16(j);for(oe=0,ne=f.length;oe<ne;oe++)A=f[oe],H.writeUInt16(A);return{charMap:n,subtable:H.data,maxGlyphID:v+1}}},t})(),wte=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="cmap",t.prototype.parse=function(e){var s,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)s=new MG(e,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(e,s){var n,a;return s==null&&(s="macroman"),n=MG.encode(e,s),(a=new h0).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),yFe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),vFe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var s,n;for(n=[],s=0;s<10;++s)n.push(e.readByte());return n})(),this.charRange=(function(){var s,n;for(n=[],s=0;s<4;++s)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var s,n;for(n=[],s=0;s<2;s=++s)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),wFe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="post",t.prototype.parse=function(e){var s,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)s=e.readByte(),a.push(this.names.push(e.readString(s)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),jFe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},NFe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="name",t.prototype.parse=function(e){var s,n,a,i,o,l,c,d,u,h,m;for(e.pos=this.offset,e.readShort(),s=e.readShort(),l=e.readShort(),n=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=u=0,h=n.length;u<h;i=++u)a=n[i],e.pos=a.offset,d=e.readString(a.length),o=new jFe(d,a),c[m=a.nameID]==null&&(c[m]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),SFe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),CFe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var s,n,a,i,o,l,c;for(e.pos=this.offset,this.metrics=[],s=0,l=this.file.hhea.numberOfMetrics;0<=l?s<l:s>l;s=0<=l?++s:--s)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],s=d=0;0<=a?d<a:d>a;s=0<=a?++d:--d)u.push(e.readInt16());return u})(),this.widths=(function(){var d,u,h,m;for(m=[],d=0,u=(h=this.metrics).length;d<u;d++)i=h[d],m.push(i.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],s=o=0;0<=a?o<a:o>a;s=0<=a?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),jte=[].slice,_Fe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var s,n,a,i,o,l,c,d,u,h;return e in this.cache?this.cache[e]:(i=this.file.loca,s=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(s.pos=this.offset+n,o=(l=new h0(s.read(a))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[e]=o===-1?new kFe(l,d,h,c,u):new EFe(l,o,d,h,c,u),this.cache[e]))},t.prototype.encode=function(e,s,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=s.length;l<c;l++)a=e[s[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},t})(),EFe=(function(){function t(e,s,n,a,i,o){this.raw=e,this.numberOfContours=s,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),kFe=(function(){function t(e,s,n,a,i){var o,l;for(this.raw=e,this.xMin=s,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,s,n;for(s=new h0(jte.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)s.pos=this.glyphOffsets[e];return s.data},t})(),TFe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return dh(t,iu),t.prototype.tag="loca",t.prototype.parse=function(e){var s,n;return e.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,s){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<s.length&&s[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},t})(),BFe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,s,n,a,i;for(s in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[s],e[s]=a[n];return e},t.prototype.glyphsFor=function(e){var s,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in s=[],a)(n=a[i])!=null&&n.compound&&s.push.apply(s,n.glyphIDs);if(s.length>0)for(i in c=this.glyphsFor(s))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,s){var n,a,i,o,l,c,d,u,h,m,f,x,A,g,b;for(a in n=wte.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},b=n.charMap)f[(c=b[a]).old]=c.new;for(x in m=n.maxGlyphID,o)x in f||(f[x]=m++);return u=(function(w){var v,j;for(v in j={},w)j[w[v]]=v;return j})(f),h=Object.keys(u).sort(function(w,v){return w-v}),A=(function(){var w,v,j;for(j=[],w=0,v=h.length;w<v;w++)l=h[w],j.push(u[l]);return j})(),i=this.font.glyf.encode(o,A,f),d=this.font.loca.encode(i.offsets,A),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t})();Sr.API.PDFObject=(function(){var t;function e(){}return t=function(s,n){return(Array(n+1).join("0")+s).slice(-n)},e.convert=function(s){var n,a,i,o;if(Array.isArray(s))return"["+(function(){var l,c,d;for(d=[],l=0,c=s.length;l<c;l++)n=s[l],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s!=null&&s.isString)return"("+s+")";if(s instanceof Date)return"(D:"+t(s.getUTCFullYear(),4)+t(s.getUTCMonth(),2)+t(s.getUTCDate(),2)+t(s.getUTCHours(),2)+t(s.getUTCMinutes(),2)+t(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(a in i=["<<"],s)o=s[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+s},e})();const MFe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:lFe,AcroFormAppearance:Tr,AcroFormButton:ci,AcroFormCheckBox:yv,AcroFormChoiceField:Wp,AcroFormComboBox:Kp,AcroFormEditBox:gv,AcroFormListBox:qp,AcroFormPasswordField:vv,AcroFormPushButton:bv,AcroFormRadioButton:Xp,AcroFormTextField:s0,GState:T1,ShadingPattern:Rm,TilingPattern:Rp,default:Sr,jsPDF:Sr},Symbol.toStringTag,{value:"Module"})),FFe=({setShowAdminHeader:t})=>{const[e,s]=E.useState("Class 10"),[n,a]=E.useState("A");E.useEffect(()=>{t(!0)},[]);const i=[{title:"Total Students",value:"1,245",change:"+5.2%",trend:"up",icon:Ar,color:"blue",description:"Active students"},{title:"Attendance Rate",value:"85%",change:"+2.1%",trend:"up",icon:Fr,color:"green",description:"This month"},{title:"Course Completion",value:"72%",change:"-1.3%",trend:"down",icon:pa,color:"purple",description:"Average across all"},{title:"Fees Collected",value:"7.8L",change:"+12.5%",trend:"up",icon:kf,color:"orange",description:"Last 6 months"}],o=[{month:"Jan",class10A:75,class9B:68,class11C:80},{month:"Feb",class10A:78,class9B:72,class11C:82},{month:"Mar",class10A:80,class9B:75,class11C:79},{month:"Apr",class10A:82,class9B:78,class11C:85},{month:"May",class10A:85,class9B:80,class11C:87},{month:"Jun",class10A:88,class9B:82,class11C:90}],l=(g,b)=>(g+"-"+b).split("").reduce((v,j)=>v+j.charCodeAt(0),0)%97+3,c=(()=>{const g=l(e,n);return["Jan","Feb","Mar","Apr","May","Jun"].map((w,v)=>({month:w,paid:Math.round(50+g*(v+1)%40),pending:Math.round(20+g*(v+3)%30)}))})(),d=[{name:"Present",value:85,color:"#10b981"},{name:"Absent",value:8,color:"#ef4444"},{name:"Late",value:4,color:"#f59e0b"},{name:"Excused",value:3,color:"#6b7280"}],u=[{subject:"Math",completion:85},{subject:"Science",completion:70},{subject:"History",completion:65},{subject:"English",completion:90},{subject:"Art",completion:60}],h=[{grade:"A",students:120,color:"#10b981"},{grade:"B",students:185,color:"#3b82f6"},{grade:"C",students:210,color:"#f59e0b"},{grade:"D",students:95,color:"#ef4444"},{grade:"F",students:40,color:"#6b7280"}],m=[{label:"Submitted",value:72,color:"#10b981"},{label:"Pending",value:15,color:"#f59e0b"},{label:"Late",value:8,color:"#ef4444"},{label:"Not Submitted",value:5,color:"#6b7280"}],f=[{id:1,teacher:"Ms. Johnson",action:"Created Lesson",subject:"Algebra Basics",time:"2 hours ago",color:"blue"},{id:2,teacher:"Mr. Patel",action:"Graded Exam",subject:"Midterm Science",time:"5 hours ago",color:"green"},{id:3,teacher:"Ms. Smith",action:"Updated Timetable",subject:"History Session",time:"1 day ago",color:"purple"},{id:4,teacher:"Mr. Davis",action:"Uploaded Resources",subject:"Chemistry Lab",time:"2 days ago",color:"orange"}],x=g=>{const b={blue:{bg:"bg-blue-50",text:"text-blue-600",icon:"text-blue-500",gradient:"from-blue-500 to-blue-600",light:"bg-blue-100"},green:{bg:"bg-green-50",text:"text-green-600",icon:"text-green-500",gradient:"from-green-500 to-green-600",light:"bg-green-100"},purple:{bg:"bg-purple-50",text:"text-purple-600",icon:"text-purple-500",gradient:"from-purple-500 to-purple-600",light:"bg-purple-100"},orange:{bg:"bg-orange-50",text:"text-orange-600",icon:"text-orange-500",gradient:"from-orange-500 to-orange-600",light:"bg-orange-100"}};return b[g]||b.blue},A=()=>{const g=new Sr("p","mm","a4"),b=new Date().toLocaleDateString();g.setFontSize(24),g.setFont(void 0,"bold"),g.text("Analytics Report",105,20,{align:"center"}),g.setFontSize(12),g.setFont(void 0,"normal"),g.text(`Generated on: ${b}`,105,30,{align:"center"});let w=50;g.setFontSize(16),g.setFont(void 0,"bold"),g.text("Key Metrics",20,w),w+=10,g.setFontSize(10),g.setFont(void 0,"normal"),i.forEach(v=>{g.text(`${v.title}: ${v.value} (${v.change})`,25,w),w+=7}),g.save(`analytics-report-${b.replace(/\//g,"-")}.pdf`)};return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Comprehensive insights and performance metrics"})]}),r.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm hover:shadow-md",children:[r.jsx(bs,{className:"w-4 h-4"}),"Export Report"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((g,b)=>{const w=g.icon,v=x(g.color),j=g.trend==="up"?ds:RP;return r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${v.bg}`,children:r.jsx(w,{className:`w-6 h-6 ${v.icon}`})}),r.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${g.trend==="up"?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[r.jsx(j,{className:"w-3 h-3"}),g.change]})]}),r.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:g.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:g.value}),r.jsx("p",{className:"text-xs text-gray-500",children:g.description})]},b)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(ei,{className:"w-5 h-5 text-gray-700"}),"Performance Trend"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Average scores by class over time"})]}),r.jsx($d,{width:"100%",height:300,children:r.jsxs(LTe,{data:o,children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"colorClass10A",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]}),r.jsxs("linearGradient",{id:"colorClass9B",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),r.jsxs("linearGradient",{id:"colorClass11C",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})]}),r.jsx(jf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(pc,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),r.jsx(xc,{stroke:"#9ca3af",style:{fontSize:"12px"},domain:[60,100]}),r.jsx(Xa,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),r.jsx(Ku,{wrapperStyle:{fontSize:"12px"}}),r.jsx(Zu,{type:"monotone",dataKey:"class10A",stroke:"#8b5cf6",fillOpacity:1,fill:"url(#colorClass10A)",name:"Class 10-A"}),r.jsx(Zu,{type:"monotone",dataKey:"class9B",stroke:"#10b981",fillOpacity:1,fill:"url(#colorClass9B)",name:"Class 9-B"}),r.jsx(Zu,{type:"monotone",dataKey:"class11C",stroke:"#f59e0b",fillOpacity:1,fill:"url(#colorClass11C)",name:"Class 11-C"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(kf,{className:"w-5 h-5 text-gray-700"}),"Fees Collection"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Paid vs Pending by month"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("select",{value:e,onChange:g=>s(g.target.value),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Class 6","Class 7","Class 8","Class 9","Class 10","Class 11","Class 12"].map(g=>r.jsx("option",{value:g,children:g},g))}),r.jsx("select",{value:n,onChange:g=>a(g.target.value),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["A","B","C","D"].map(g=>r.jsxs("option",{value:g,children:["Sec ",g]},g))})]})]}),r.jsx($d,{width:"100%",height:300,children:r.jsxs(_1,{data:c,children:[r.jsx(jf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(pc,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),r.jsx(xc,{stroke:"#9ca3af",style:{fontSize:"12px"}}),r.jsx(Xa,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:g=>[`${g}k`,""]}),r.jsx(Ku,{wrapperStyle:{fontSize:"12px"}}),r.jsx(Ll,{dataKey:"paid",fill:"#10b981",radius:[8,8,0,0],name:"Paid"}),r.jsx(Ll,{dataKey:"pending",fill:"#ef4444",radius:[8,8,0,0],name:"Pending"})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Attendance"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Distribution breakdown"}),r.jsx($d,{width:"100%",height:200,children:r.jsxs(tL,{children:[r.jsx(nu,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:d.map((g,b)=>r.jsx(u0,{fill:g.color},`cell-${b}`))}),r.jsx(Xa,{})]})}),r.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:d.map((g,b)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color}}),r.jsxs("span",{className:"text-xs text-gray-600",children:[g.name,": ",g.value,"%"]})]},b))})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Course Progress"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Completion rates"}),r.jsx("div",{className:"space-y-4",children:u.map((g,b)=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:g.subject}),r.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[g.completion,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.completion}%`}})})]},b))})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Grade Distribution"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Student grades"}),r.jsx($d,{width:"100%",height:200,children:r.jsxs(_1,{data:h,layout:"vertical",children:[r.jsx(jf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(pc,{type:"number",stroke:"#9ca3af",style:{fontSize:"12px"}}),r.jsx(xc,{type:"category",dataKey:"grade",stroke:"#9ca3af",style:{fontSize:"12px"}}),r.jsx(Xa,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),r.jsx(Ll,{dataKey:"students",radius:[0,4,4,0],children:h.map((g,b)=>r.jsx(u0,{fill:g.color},`cell-${b}`))})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[r.jsx(Dr,{className:"w-5 h-5 text-gray-700"}),"Assignment Status"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Current submission rates"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map((g,b)=>r.jsxs("div",{className:"p-4 rounded-lg border-2",style:{borderColor:g.color,backgroundColor:g.color+"10"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:g.label}),r.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:g.color}})]}),r.jsxs("p",{className:"text-2xl font-bold",style:{color:g.color},children:[g.value,"%"]})]},b))})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[r.jsx(fr,{className:"w-5 h-5 text-gray-700"}),"Recent Activity"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Latest teacher actions"}),r.jsx("div",{className:"space-y-3",children:f.map(g=>{const b=x(g.color);return r.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:`w-10 h-10 rounded-full ${b.bg} flex items-center justify-center flex-shrink-0`,children:r.jsx(ei,{className:`w-5 h-5 ${b.icon}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.teacher}),r.jsxs("p",{className:"text-xs text-gray-600",children:[g.action,": ",g.subject]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.time})]})]},g.id)})})]})]})]})})},PFe={Student:"STU",Parent:"PAR",Teacher:"TCH"},IFe={Student:"Batch / Grade Code",Parent:"Family / Ward Code",Teacher:"Department / Subject Code"},LFe=10,Nte="ABCDEFGHJKLMNPQRSTUVWXYZ",Ste="abcdefghjkmnpqrstuvwxyz",Cte="0123456789",_te="!@#$%&*?",DFe=`${Nte}${Ste}${Cte}${_te}`,RFe=(t="")=>typeof t=="string"&&t.length>=8&&/[A-Z]/.test(t)&&/[a-z]/.test(t)&&/\d/.test(t),Ty=t=>t.charAt(Math.floor(Math.random()*t.length)),OFe=t=>{const e=t.split("");for(let s=e.length-1;s>0;s-=1){const n=Math.floor(Math.random()*(s+1));[e[s],e[n]]=[e[n],e[s]]}return e.join("")},UFe=()=>{let t="";do{let e="";for(e+=Ty(Nte),e+=Ty(Ste),e+=Ty(Cte),e+=Ty(_te);e.length<LFe;)e+=Ty(DFe);t=OFe(e)}while(!RFe(t));return t},HFe=({role:t,batchCode:e,joiningYear:s})=>{const n=PFe[t]||"EEC",a=(e||"GEN").toString().replace(/[^a-zA-Z0-9]/g,"").toUpperCase()||"GEN",i=(s||new Date().getFullYear()).toString().slice(-2),o=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${n}-${i}${a}-${o}`},oL=({buttonText:t="Generate ID",buttonClassName:e="",icon:s=IP,defaultRole:n="Student",allowRoleSelection:a=!0,size:i="md",onGenerate:o,prefillValues:l=null,disabled:c=!1})=>{const d=(S={})=>({role:n,batchCode:"",joiningYear:new Date().getFullYear(),referenceName:"",...S}),[u,h]=E.useState(!1),[m,f]=E.useState(d(l||void 0)),[x,A]=E.useState(null),g=E.useMemo(()=>IFe[m.role]||"Batch / Grade Code",[m.role]),b=S=>{const{name:T,value:I}=S.target;f(_=>({..._,[T]:I}))},w=()=>{const S=HFe(m),T=UFe();A({id:S,password:T}),o==null||o({id:S,password:T,...m})},v=S=>{navigator!=null&&navigator.clipboard&&navigator.clipboard.writeText(S).catch(()=>{})},j=()=>{f(d(l||void 0)),A(null)};E.useEffect(()=>{u&&(f(d(l||void 0)),A(null))},[u,l]);const N=i==="sm"?"px-3 py-2 text-sm":i==="lg"?"px-6 py-3 text-base":"px-4 py-2.5 text-sm";return r.jsxs(r.Fragment,{children:[r.jsxs("button",{type:"button",disabled:c,onClick:()=>{c||h(!0)},className:`inline-flex items-center gap-2 rounded-lg font-medium bg-yellow-600 text-white hover:bg-yellow-700 transition-colors disabled:opacity-60 disabled:cursor-not-allowed ${N} ${e}`,children:[s&&r.jsx(s,{size:16})," ",t]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate Portal Credentials"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Create unique login IDs and passwords for the selected role."})]}),r.jsx("button",{onClick:()=>{h(!1),j()},className:"text-gray-500 hover:text-gray-700 text-xl leading-none","aria-label":"Close",children:""})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a?r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),r.jsxs("select",{className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",name:"role",value:m.role,onChange:b,children:[r.jsx("option",{value:"Student",children:"Student"}),r.jsx("option",{value:"Parent",children:"Parent"}),r.jsx("option",{value:"Teacher",children:"Teacher"})]})]}):r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),r.jsx("div",{className:"px-4 py-2 rounded-xl bg-gray-100 border border-gray-200 text-gray-700",children:m.role})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:g}),r.jsx("input",{type:"text",name:"batchCode",value:m.batchCode,onChange:b,placeholder:"e.g. 10A, SCI, PTA",className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Joining Year"}),r.jsx("input",{type:"number",name:"joiningYear",min:"2000",max:"2100",value:m.joiningYear,onChange:b,className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name / Reference"}),r.jsx("input",{type:"text",name:"referenceName",value:m.referenceName,onChange:b,placeholder:"Helps track who gets this ID",className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:[r.jsx(oh,{size:16})," Reset Form"]}),r.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[r.jsx(DP,{size:16})," Generate Credentials"]})]}),x&&r.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 rounded-2xl p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-yellow-700 font-semibold",children:"Generated ID"}),r.jsxs("div",{className:"flex items-center justify-between mt-1 bg-white rounded-xl px-4 py-2 border border-yellow-100",children:[r.jsx("span",{className:"font-mono text-gray-800",children:x.id}),r.jsx("button",{onClick:()=>v(x.id),className:"text-gray-500 hover:text-yellow-600",title:"Copy ID",children:r.jsx(eh,{size:16})})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-yellow-700 font-semibold",children:"Temporary Password"}),r.jsxs("div",{className:"flex items-center justify-between mt-1 bg-white rounded-xl px-4 py-2 border border-yellow-100",children:[r.jsx("span",{className:"font-mono text-gray-800",children:x.password}),r.jsx("button",{onClick:()=>v(x.password),className:"text-gray-500 hover:text-yellow-600",title:"Copy password",children:r.jsx(eh,{size:16})})]})]}),m.referenceName&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Assign to:"," ",r.jsx("span",{className:"font-semibold",children:m.referenceName})]})]})]})]})})]})},QFe=({setShowAdminHeader:t})=>{const[e,s]=E.useState(""),[n,a]=E.useState("All"),[i,o]=E.useState([]),[l,c]=E.useState(!1),[d,u]=E.useState(null),[h,m]=E.useState(null),[f,x]=E.useState(null),[A,g]=E.useState({name:"",email:"",mobile:"",subject:"",department:"",experience:"",qualification:"",students:"",rating:"",status:"Active",joiningDate:"",gender:"",address:"",pinCode:"",location:"",avatar:""}),b=i.filter(C=>{const B=(C.name||"").toLowerCase(),P=(C.subject||"").toLowerCase(),H=(C.email||"").toLowerCase(),D=B.includes(e.toLowerCase())||P.includes(e.toLowerCase())||H.includes(e.toLowerCase()),G=n==="All"||C.status===n;return D&&G}),w=()=>({studentSatisfaction:Math.floor(Math.random()*20)+80,classAttendance:Math.floor(Math.random()*15)+85,lessonCompletionRate:Math.floor(Math.random()*10)+90,avgGradeImprovement:Math.floor(Math.random()*20)+10,totalStudents:Math.floor(Math.random()*50)+20,activeClasses:Math.floor(Math.random()*5)+3}),v=()=>[{time:"09:00-10:00",subject:"Mathematics",class:"X-A",room:"101"},{time:"10:00-11:00",subject:"Physics",class:"XI-B",room:"205"},{time:"11:30-12:30",subject:"Chemistry",class:"XII-A",room:"301"},{time:"14:00-15:00",subject:"Biology",class:"IX-C",room:"102"}].slice(0,Math.floor(Math.random()*3)+1),j=()=>[{name:"M.Ed in Mathematics",year:"2018",status:"verified"},{name:"B.Ed",year:"2015",status:"verified"},{name:"Teaching Excellence Certificate",year:"2022",status:"pending"},{name:"Digital Teaching Methods",year:"2023",status:"verified"}].slice(0,Math.floor(Math.random()*3)+1),N=()=>({lastEvaluation:"2024-01-15",overallRating:Math.floor(Math.random()*2)+4,evaluatedBy:"Principal",nextEvaluation:"2024-07-15",improvements:Math.floor(Math.random()*3)+1}),S=async()=>{const C=await fetch("http://localhost:5000/api/admin/users/get-teachers",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!C.ok)throw new Error("Failed to fetch teachers");const B=await C.json(),P=(Array.isArray(B)?B:[]).map((H,D)=>({...H,id:H._id||H.id||D,name:H.name||"Unnamed Teacher",email:H.email||"-",mobile:H.mobile||"-",subject:H.subject||"-",department:H.department||"-",qualification:H.qualification||"-",joiningDate:H.joiningDate||H.joinDate||"",empId:H.employeeCode||H.empId||"-",status:H.status||"Active"}));o(P)};E.useEffect(()=>{t(!1),S().catch(C=>{console.error("Error fetching teachers:",C)})},[t]);const T=C=>{const{name:B,value:P}=C.target;g(H=>({...H,[B]:P}))},I=async C=>{C.preventDefault();try{u(null);const B=await fetch("http://localhost:5000/api/teacher/auth/register",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(A)}),P=await B.json();if(!B.ok)throw console.error("Registration failed:",P),new Error((P==null?void 0:P.error)||"Registration failed");u({type:"success",message:P!=null&&P.emailSent?"Teacher added and credentials emailed.":"Teacher added. Email not sent."}),P!=null&&P.username&&(P!=null&&P.password)&&x({name:A.name,username:P.username,employeeCode:P.employeeCode||P.username,password:P.password}),c(!1),await S(),g({name:"",email:"",mobile:"",subject:"",department:"",experience:"",qualification:"",joiningDate:"",address:"",pinCode:"",gender:""})}catch(B){console.error("Error adding teacher:",B),u({type:"error",message:B.message||"Unable to add teacher"})}},_=async C=>{const B=(C==null?void 0:C._id)||(C==null?void 0:C.id);if(!(!B||!window.confirm(`This will reset ${C.name||"the teacher"}'s password and generate a new one. Continue?`))){m(B);try{const H=await fetch(`http://localhost:5000/api/admin/users/teachers/${B}/credentials`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),D=await H.json();if(!H.ok)throw new Error((D==null?void 0:D.error)||"Unable to generate credentials");x({name:C.name,username:D.username,employeeCode:D.employeeCode||D.username,password:D.password})}catch(H){u({type:"error",message:H.message||"Unable to generate credentials"})}finally{m(null)}}},M=async C=>{if(C)try{await navigator.clipboard.writeText(C)}catch(B){console.error("Failed to copy credential:",B)}};return r.jsx("div",{className:"h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 flex flex-col",children:r.jsxs("div",{className:"flex-1 flex flex-col  mx-auto w-full bg-white/90 border border-yellow-200 overflow-hidden",children:[r.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-yellow-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Teacher Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage teaching staff performance, schedules, and evaluations"})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Ar,{className:"w-8 h-8 text-blue-500"}),r.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:i.length}),r.jsx("span",{className:"text-xs text-gray-500",children:"Total Teachers"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ds,{className:"w-8 h-8 text-green-500"}),r.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:"88%"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Avg Performance"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(fr,{className:"w-8 h-8 text-purple-500"}),r.jsx("span",{className:"text-sm font-semibold text-purple-600 mt-1",children:i.filter(C=>C.status==="Active").length}),r.jsx("span",{className:"text-xs text-gray-500",children:"Teaching Today"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Dr,{className:"w-8 h-8 text-orange-500"}),r.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:Math.floor(i.length*.3)}),r.jsx("span",{className:"text-xs text-gray-500",children:"Due Evaluations"})]})]})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:[r.jsx(vs,{size:18}),"Add Teacher"]})})]}),d&&r.jsx("div",{className:`mb-4 rounded-lg border px-4 py-3 text-sm ${d.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-700"}`,children:d.message}),r.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Fs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search teachers...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",value:e,onChange:C=>s(C.target.value)})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",value:n,onChange:C=>a(C.target.value),children:[r.jsx("option",{value:"All",children:"All Status"}),r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"On Leave",children:"On Leave"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"",children:"All Departments"}),r.jsx("option",{value:"Mathematics",children:"Mathematics"}),r.jsx("option",{value:"Physics",children:"Physics"}),r.jsx("option",{value:"Chemistry",children:"Chemistry"}),r.jsx("option",{value:"Biology",children:"Biology"}),r.jsx("option",{value:"Computer Science",children:"Computer Science"}),r.jsx("option",{value:"English",children:"English"}),r.jsx("option",{value:"History",children:"History"}),r.jsx("option",{value:"Fine Arts",children:"Fine Arts"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"",children:"Performance Rating"}),r.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),r.jsx("option",{value:"good",children:"Good (80-89%)"}),r.jsx("option",{value:"average",children:"Average (70-79%)"}),r.jsx("option",{value:"needs-improvement",children:"Needs Improvement"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"",children:"Schedule Status"}),r.jsx("option",{value:"teaching-now",children:"Teaching Now"}),r.jsx("option",{value:"free-now",children:"Free Now"}),r.jsx("option",{value:"on-break",children:"On Break"})]}),r.jsx(oL,{buttonText:"Generate Teacher ID",defaultRole:"Teacher",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-indigo-600 hover:bg-indigo-700"})]})]}),l&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:r.jsxs("div",{className:"w-full max-w-3xl rounded-2xl bg-white shadow-2xl border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-yellow-100",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-yellow-700",children:"Add New Teacher"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Create teacher profile and send login credentials"})]}),r.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx(ia,{size:20})})]}),r.jsxs("form",{onSubmit:I,className:"px-6 py-5 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Full Name"}),r.jsx("input",{type:"text",name:"name",value:A.name,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:A.email,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contact Number"}),r.jsx("input",{type:"tel",name:"mobile",value:A.mobile,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Gender"}),r.jsxs("select",{name:"gender",value:A.gender,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200",children:[r.jsx("option",{value:"",children:"Select"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Qualification"}),r.jsx("input",{type:"text",name:"qualification",value:A.qualification,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject"}),r.jsx("input",{type:"text",name:"subject",value:A.subject,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Department"}),r.jsx("input",{type:"text",name:"department",value:A.department,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Experience (years)"}),r.jsx("input",{type:"text",name:"experience",value:A.experience,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Joining Date"}),r.jsx("input",{type:"date",name:"joiningDate",value:A.joiningDate,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Address"}),r.jsx("input",{type:"text",name:"address",value:A.address,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pin Code"}),r.jsx("input",{type:"text",name:"pinCode",value:A.pinCode,onChange:T,className:"mt-1 w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-yellow-500 focus:ring-2 focus:ring-yellow-200"})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-yellow-100",children:[r.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-5 py-2 rounded-lg bg-yellow-600 text-white hover:bg-yellow-700",children:"Save & Send Credentials"})]})]})]})}),f&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:r.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white shadow-2xl border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-yellow-100",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Teacher Login Credentials"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Share these credentials securely"})]}),r.jsx("button",{onClick:()=>x(null),className:"text-gray-500 hover:text-gray-700",children:r.jsx(ia,{size:20})})]}),r.jsxs("div",{className:"px-6 py-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Teacher"}),r.jsx("p",{className:"text-base font-semibold text-gray-900",children:f.name||"Teacher"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-yellow-700 uppercase",children:"Login ID"}),r.jsxs("div",{className:"mt-1 flex items-center justify-between rounded-lg border border-yellow-100 bg-yellow-50 px-3 py-2",children:[r.jsx("code",{className:"text-sm font-mono text-gray-800",children:f.employeeCode||f.username}),r.jsx("button",{onClick:()=>M(f.employeeCode||f.username),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded",title:"Copy ID",children:"Copy"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold text-yellow-700 uppercase",children:"Password"}),r.jsxs("div",{className:"mt-1 flex items-center justify-between rounded-lg border border-yellow-100 bg-yellow-50 px-3 py-2",children:[r.jsx("code",{className:"text-sm font-mono text-gray-800",children:f.password}),r.jsx("button",{onClick:()=>M(f.password),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded",title:"Copy Password",children:"Copy"})]})]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Please ask the teacher to reset the password after first login."})]}),r.jsx("div",{className:"px-6 py-4 border-t border-yellow-100 flex justify-end",children:r.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50",children:"Close"})})]})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsx("div",{className:"h-full overflow-y-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{className:"sticky top-0 bg-yellow-50 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Teacher"}),r.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Performance"}),r.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Schedule Today"}),r.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Subject & Dept"}),r.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Qualifications"}),r.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Evaluation"}),r.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Experience"}),r.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white",children:b.map(C=>r.jsxs("tr",{className:"hover:bg-yellow-50 transition-colors border-b border-gray-100",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-200 flex items-center justify-center font-semibold text-yellow-700 flex-shrink-0",children:(C.name||"NA").split(" ").map(B=>B[0]).join("")}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 truncate",children:C.name}),r.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["Login ID: ",C.empId]}),r.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[r.jsxs("a",{href:`mailto:${C.email}`,className:"text-sm text-gray-500 hover:text-yellow-600 flex items-center gap-1 truncate",children:[r.jsx(xa,{size:12,className:"flex-shrink-0"}),r.jsx("span",{className:"truncate max-w-[120px]",children:C.email})]}),r.jsxs("a",{href:`tel:${C.mobile}`,className:"text-sm text-gray-500 hover:text-yellow-600 flex items-center gap-1 flex-shrink-0",children:[r.jsx(oa,{size:12}),C.mobile]})]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const B=w();return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kn,{size:14,className:"text-green-600"}),r.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[B.studentSatisfaction,"%"]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"Satisfaction"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ei,{size:14,className:"text-blue-600"}),r.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[B.classAttendance,"%"]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"Attendance"})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[B.totalStudents," students"]})]})})()}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const B=v();return B.length===0?r.jsx("span",{className:"text-sm text-gray-400 italic",children:"No classes today"}):r.jsxs("div",{className:"space-y-1 max-w-[200px]",children:[B.slice(0,2).map((P,H)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fr,{size:12,className:"text-purple-600"}),r.jsx("span",{className:"text-xs text-gray-700",children:P.time}),r.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-1 rounded",children:P.class})]},H)),B.length>2&&r.jsxs("div",{className:"text-xs text-gray-500",children:["+",B.length-2," more"]})]})})()}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{size:14,className:"text-blue-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:C.subject})]}),r.jsx("div",{className:"text-sm text-gray-600",children:C.department}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",C.joiningDate?new Date(C.joiningDate).toLocaleDateString():"-"]})]})}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const B=j();return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pa,{size:14,className:"text-indigo-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:C.qualification})]}),B.slice(0,2).map((P,H)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${P.status==="verified"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P.status==="verified"?"Verified":"Pending"}),r.jsx("span",{className:"text-xs text-gray-600 truncate",children:P.name})]},H))]})})()}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const B=N();return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((P,H)=>r.jsx(fs,{size:14,className:H<B.overallRating?"text-yellow-400 fill-current":"text-gray-300"},H)),r.jsxs("span",{className:"text-sm font-semibold ml-1",children:[B.overallRating,"/5"]})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(B.lastEvaluation).toLocaleDateString()]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["By: ",B.evaluatedBy]})]})})()}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{size:14,className:"text-orange-600"}),r.jsx("span",{className:"font-semibold text-gray-900",children:"5 years"})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Since ",new Date().getFullYear()-5]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"text-yellow-700 hover:text-yellow-800 p-1 hover:bg-yellow-50 rounded",title:"View Login Credentials (resets password)",onClick:()=>_(C),disabled:h===(C._id||C.id),children:r.jsx(Es,{size:14})}),r.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"View Performance Analytics",children:r.jsx(ma,{size:14})}),r.jsx("button",{className:"text-purple-600 hover:text-purple-800 p-1 hover:bg-purple-50 rounded",title:"View Schedule",children:r.jsx(fr,{size:14})}),r.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Conduct Evaluation",children:r.jsx(Dr,{size:14})}),r.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 p-1 hover:bg-indigo-50 rounded",title:"Manage Qualifications",children:r.jsx(pa,{size:14})}),r.jsx("button",{className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded",title:"Edit Teacher",children:r.jsx(Sg,{size:14})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-50 rounded",title:"More Options",children:r.jsx(th,{size:14})})]})})]},C._id||C.id))})]})})}),r.jsx("div",{className:"flex-shrink-0 p-8 pt-4 bg-white/90 border-t border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-gray-600",children:["Showing ",b.length," of ",i.length," teachers"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-yellow-50 transition-colors",children:"Previous"}),r.jsx("button",{className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-yellow-50 transition-colors",children:"Next"})]})]})})]})})},$Fe=t=>{if(!t)return"Unknown";const e=String(t).toLowerCase();return e==="present"?"Present":e==="absent"?"Absent":t},zFe=t=>{if(!t)return"Pending";const e=String(t).toLowerCase();return e==="paid"?"Paid":e==="due"?"Due":e==="pending"?"Pending":t},GFe=(t="")=>{const e=t.trim().split(/\s+/).filter(Boolean).map(s=>{var n;return(n=s[0])==null?void 0:n.toUpperCase()}).filter(Boolean);return e.length===0?"S":e.slice(0,2).join("")},VFe=({setShowAdminHeader:t})=>{const[e,s]=E.useState(""),[n,a]=E.useState("All"),[i,o]=E.useState([]),[l,c]=E.useState(!0),[d,u]=E.useState(""),[h,m]=E.useState(!1),[f,x]=E.useState({name:"",email:"",phone:"",position:"",department:"",experience:"",qualification:"",salary:"",rating:"",status:"Active",joinDate:"",location:"",avatar:""}),A=i.filter(N=>{const S=N.name.toLowerCase().includes(e.toLowerCase())||N.position.toLowerCase().includes(e.toLowerCase())||N.email.toLowerCase().includes(e.toLowerCase()),T=n==="All"||N.status===n;return S&&T}),g=()=>({taskCompletionRate:Math.floor(Math.random()*20)+80,attendanceRate:Math.floor(Math.random()*15)+85,projectsCompleted:Math.floor(Math.random()*10)+5,avgResponseTime:Math.floor(Math.random()*20)+10,totalTasks:Math.floor(Math.random()*50)+20,activeProjects:Math.floor(Math.random()*5)+1}),b=()=>[{time:"09:00-10:00",task:"Admin Meeting",location:"Conference Room A"},{time:"10:00-11:00",task:"Budget Review",location:"Office 205"},{time:"11:30-12:30",task:"Staff Training",location:"Training Room"},{time:"14:00-15:00",task:"Facilities Inspection",location:"Ground Floor"}].slice(0,Math.floor(Math.random()*3)+1),w=()=>[{name:"Administrative Management",year:"2018",status:"verified"},{name:"Safety Training Certificate",year:"2020",status:"verified"},{name:"Leadership Development",year:"2022",status:"pending"},{name:"Digital Workflow Management",year:"2023",status:"verified"}].slice(0,Math.floor(Math.random()*3)+1),v=()=>({lastEvaluation:"2024-01-15",overallRating:Math.floor(Math.random()*2)+4,evaluatedBy:"HR Manager",nextEvaluation:"2024-07-15",improvements:Math.floor(Math.random()*3)+1}),j=async()=>{u(""),c(!0);try{const N=await fetch("http://localhost:5000/api/admin/users/get-staff",{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),S=await N.json().catch(()=>[]);if(!N.ok)throw new Error((S==null?void 0:S.error)||"Failed to fetch staff");const T=(Array.isArray(S)?S:[]).map((I,_)=>({id:I._id||I.id||_,name:I.name||"Unnamed Staff",empId:I.employeeCode||I.empId||I.staffCode||`EMP-${_+1}`,email:I.email||"-",mobile:I.mobile||I.phone||"-",position:I.position||I.role||I.designation||"Staff",department:I.department||"General",qualification:I.qualification||"-",experience:Number(I.experience||0),joiningDate:I.joiningDate||I.joinDate||I.createdAt||"",status:I.status||"Active",salary:I.salary??I.ctc??null,attendanceToday:$Fe(I.attendanceToday),lastSalaryDate:I.lastSalaryDate||null,paymentStatus:zFe(I.paymentStatus),nextPaymentDue:I.nextPaymentDue||null,address:I.address||"",avatar:I.avatar||""}));o(T)}catch(N){console.error("Error fetching staff:",N),u(N.message||"Failed to fetch staff"),o([])}finally{c(!1)}};return E.useEffect(()=>{t(!1),j()},[t]),r.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 flex flex-col",children:r.jsxs("div",{className:"flex-1 flex flex-col  mx-auto w-full bg-white/90 shadow-2xlborder border-blue-200 overflow-hidden p-5",children:[r.jsxs("div",{className:"flex-shrink-0 p- bg-white/90 border-b border-blue-100",children:[r.jsx("div",{className:"flex justify-between items-center mb-8",children:r.jsxs("div",{className:"flex items-center gap-75",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:"Staff Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage administrative staff performance, schedules, and evaluations"})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Ar,{className:"w-8 h-8 text-blue-500"}),r.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:i.length}),r.jsx("span",{className:"text-xs text-gray-500",children:"Total Staff"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Qp,{className:"w-8 h-8 text-green-500"}),r.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:i.filter(N=>N.attendanceToday==="Present").length}),r.jsx("span",{className:"text-xs text-gray-500",children:"Present Today"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ia,{className:"w-8 h-8 text-red-500"}),r.jsx("span",{className:"text-sm font-semibold text-red-600 mt-1",children:i.filter(N=>N.attendanceToday==="Absent").length}),r.jsx("span",{className:"text-xs text-gray-500",children:"Absent Today"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(kf,{className:"w-8 h-8 text-green-500"}),r.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:i.filter(N=>N.paymentStatus==="Paid").length}),r.jsx("span",{className:"text-xs text-gray-500",children:"Payments Paid"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Yi,{className:"w-8 h-8 text-orange-500"}),r.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:i.filter(N=>N.paymentStatus==="Due").length}),r.jsx("span",{className:"text-xs text-gray-500",children:"Payments Due"})]})]})]})}),r.jsxs("div",{className:"mb-6 flex gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Fs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search staff...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:e,onChange:N=>s(N.target.value)})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:N=>a(N.target.value),children:[r.jsx("option",{value:"All",children:"All Status"}),r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"On Leave",children:"On Leave"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Departments"}),r.jsx("option",{value:"Administration",children:"Administration"}),r.jsx("option",{value:"Human Resources",children:"Human Resources"}),r.jsx("option",{value:"Finance",children:"Finance"}),r.jsx("option",{value:"Maintenance",children:"Maintenance"}),r.jsx("option",{value:"IT Support",children:"IT Support"}),r.jsx("option",{value:"Security",children:"Security"}),r.jsx("option",{value:"Library",children:"Library"}),r.jsx("option",{value:"Cafeteria",children:"Cafeteria"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Performance Rating"}),r.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),r.jsx("option",{value:"good",children:"Good (80-89%)"}),r.jsx("option",{value:"average",children:"Average (70-79%)"}),r.jsx("option",{value:"needs-improvement",children:"Needs Improvement"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Attendance"}),r.jsx("option",{value:"present",children:"Present"}),r.jsx("option",{value:"absent",children:"Absent"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Payment Status"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"due",children:"Due"})]})]})]}),r.jsxs("div",{className:"flex-1 overflow-hidden",children:[d&&r.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:d}),l?r.jsx("div",{className:"flex h-full items-center justify-center text-gray-500",children:"Loading staff records..."}):r.jsx("div",{className:"h-full overflow-y-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{className:"sticky top-0 bg-blue-50 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Staff Member"}),r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Attendance"}),r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Payment Status"}),r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Performance"}),r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Schedule Today"}),r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Position & Dept"}),r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Qualifications"}),r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Experience"}),r.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white",children:A.map(N=>r.jsxs("tr",{className:"hover:bg-blue-50 transition-colors border-b border-gray-100",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-200 flex items-center justify-center font-semibold text-blue-700 flex-shrink-0",children:GFe(N.name)}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 truncate",children:N.name}),r.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["ID: ",N.empId]}),r.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[r.jsxs("a",{href:`mailto:${N.email}`,className:"text-sm text-gray-500 hover:text-blue-600 flex items-center gap-1 truncate",children:[r.jsx(xa,{size:12,className:"flex-shrink-0"}),r.jsx("span",{className:"truncate max-w-[120px]",children:N.email})]}),r.jsxs("a",{href:`tel:${N.mobile}`,className:"text-sm text-gray-500 hover:text-blue-600 flex items-center gap-1 flex-shrink-0",children:[r.jsx(oa,{size:12}),N.mobile]})]})]})]})}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:N.attendanceToday==="Present"?r.jsxs(r.Fragment,{children:[r.jsx(Qp,{size:16,className:"text-green-600"}),r.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Present"})]}):r.jsxs(r.Fragment,{children:[r.jsx(ia,{size:16,className:"text-red-600"}),r.jsx("span",{className:"text-sm font-semibold text-red-600",children:"Absent"})]})}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Today's Status"})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex items-center gap-2",children:N.paymentStatus==="Paid"?r.jsxs(r.Fragment,{children:[r.jsx(Qp,{size:14,className:"text-green-600"}),r.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Paid"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Yi,{size:14,className:"text-orange-600"}),r.jsx("span",{className:"text-sm font-semibold text-orange-600",children:"Due"})]})}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(N.lastSalaryDate).toLocaleDateString()]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Next: ",new Date(N.nextPaymentDue).toLocaleDateString()]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-600",children:""}),r.jsx("span",{className:"text-xs text-gray-600",children:N.salary.toLocaleString()})]})]})}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const S=g();return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kn,{size:14,className:"text-green-600"}),r.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[S.taskCompletionRate,"%"]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"Task Completion"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ei,{size:14,className:"text-blue-600"}),r.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[S.attendanceRate,"%"]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"Attendance"})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[S.totalTasks," tasks handled"]})]})})()}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const S=b();return S.length===0?r.jsx("span",{className:"text-sm text-gray-400 italic",children:"No tasks today"}):r.jsxs("div",{className:"space-y-1 max-w-[200px]",children:[S.slice(0,2).map((T,I)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fr,{size:12,className:"text-purple-600"}),r.jsx("span",{className:"text-xs text-gray-700",children:T.time}),r.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-1 rounded",children:T.task})]},I)),S.length>2&&r.jsxs("div",{className:"text-xs text-gray-500",children:["+",S.length-2," more"]})]})})()}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(BP,{size:14,className:"text-blue-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:N.position})]}),r.jsx("div",{className:"text-sm text-gray-600",children:N.department}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",new Date(N.joiningDate).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const S=w();return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pa,{size:14,className:"text-indigo-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:N.qualification})]}),S.slice(0,2).map((T,I)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${T.status==="verified"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:T.status==="verified"?"Verified":"Pending"}),r.jsx("span",{className:"text-xs text-gray-600 truncate",children:T.name})]},I))]})})()}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const S=v();return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((T,I)=>r.jsx(fs,{size:14,className:I<S.overallRating?"text-yellow-400 fill-current":"text-gray-300"},I)),r.jsxs("span",{className:"text-sm font-semibold ml-1",children:[S.overallRating,"/5"]})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(S.lastEvaluation).toLocaleDateString()]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["By: ",S.evaluatedBy]})]})})()}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pn,{size:14,className:"text-orange-600"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:[N.experience," years"]})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Since ",new Date().getFullYear()-N.experience]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"View Performance Analytics",children:r.jsx(ma,{size:14})}),r.jsx("button",{className:"text-purple-600 hover:text-purple-800 p-1 hover:bg-purple-50 rounded",title:"View Schedule",children:r.jsx(fr,{size:14})}),r.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Conduct Evaluation",children:r.jsx(Dr,{size:14})}),r.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 p-1 hover:bg-indigo-50 rounded",title:"Manage Certifications",children:r.jsx(pa,{size:14})}),r.jsx("button",{className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded",title:"Edit Staff Member",children:r.jsx(Sg,{size:14})}),r.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-50 rounded",title:"More Options",children:r.jsx(th,{size:14})})]})})]},N.id))})]})})]}),r.jsx("div",{className:"flex-shrink-0 pt-7 bg-white/90 border-t border-blue-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-black",children:["Showing ",A.length," of ",i.length," staff members"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-4 py-2 border text-black rounded-2xl transition-colors",children:"Previous"}),r.jsx("button",{className:"px-4 py-2 border text-black rounded-2xl transition-colors",children:"Next"})]})]})})]})})};/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function Ete(t,e,s){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:s;throw new TypeError("Private element is not present on this object")}function WFe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function FG(t,e){return t.get(Ete(t,e))}function qFe(t,e,s){WFe(t,e),e.set(t,s)}function KFe(t,e,s){return t.set(Ete(t,e),s),s}const XFe=100,Gr={},YFe=()=>{Gr.previousActiveElement instanceof HTMLElement?(Gr.previousActiveElement.focus(),Gr.previousActiveElement=null):document.body&&document.body.focus()},JFe=t=>new Promise(e=>{if(!t)return e();const s=window.scrollX,n=window.scrollY;Gr.restoreFocusTimeout=setTimeout(()=>{YFe(),e()},XFe),window.scrollTo(s,n)}),kte="swal2-",ZFe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Lt=ZFe.reduce((t,e)=>(t[e]=kte+e,t),{}),ePe=["success","warning","info","question","error"],D5=ePe.reduce((t,e)=>(t[e]=kte+e,t),{}),Tte="SweetAlert2:",lL=t=>t.charAt(0).toUpperCase()+t.slice(1),il=t=>{console.warn(`${Tte} ${typeof t=="object"?t.join(" "):t}`)},Fx=t=>{console.error(`${Tte} ${t}`)},PG=[],tPe=t=>{PG.includes(t)||(PG.push(t),il(t))},Bte=(t,e=null)=>{tPe(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},g4=t=>typeof t=="function"?t():t,cL=t=>t&&typeof t.toPromise=="function",xw=t=>cL(t)?t.toPromise():Promise.resolve(t),dL=t=>t&&Promise.resolve(t)===t,ll=()=>document.body.querySelector(`.${Lt.container}`),Aw=t=>{const e=ll();return e?e.querySelector(t):null},vc=t=>Aw(`.${t}`),Ws=()=>vc(Lt.popup),Eb=()=>vc(Lt.icon),rPe=()=>vc(Lt["icon-content"]),Mte=()=>vc(Lt.title),uL=()=>vc(Lt["html-container"]),Fte=()=>vc(Lt.image),hL=()=>vc(Lt["progress-steps"]),b4=()=>vc(Lt["validation-message"]),ah=()=>Aw(`.${Lt.actions} .${Lt.confirm}`),kb=()=>Aw(`.${Lt.actions} .${Lt.cancel}`),Px=()=>Aw(`.${Lt.actions} .${Lt.deny}`),sPe=()=>vc(Lt["input-label"]),Tb=()=>Aw(`.${Lt.loader}`),gw=()=>vc(Lt.actions),Pte=()=>vc(Lt.footer),y4=()=>vc(Lt["timer-progress-bar"]),fL=()=>vc(Lt.close),nPe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,mL=()=>{const t=Ws();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),s=Array.from(e).sort((i,o)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(o.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),n=t.querySelectorAll(nPe),a=Array.from(n).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(s.concat(a))].filter(i=>Dl(i))},pL=()=>Nf(document.body,Lt.shown)&&!Nf(document.body,Lt["toast-shown"])&&!Nf(document.body,Lt["no-backdrop"]),v4=()=>{const t=Ws();return t?Nf(t,Lt.toast):!1},aPe=()=>{const t=Ws();return t?t.hasAttribute("data-loading"):!1},wc=(t,e)=>{if(t.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),a=n.querySelector("head");a&&Array.from(a.childNodes).forEach(o=>{t.appendChild(o)});const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Nf=(t,e)=>{if(!e)return!1;const s=e.split(/\s+/);for(let n=0;n<s.length;n++)if(!t.classList.contains(s[n]))return!1;return!0},iPe=(t,e)=>{Array.from(t.classList).forEach(s=>{!Object.values(Lt).includes(s)&&!Object.values(D5).includes(s)&&!Object.values(e.showClass||{}).includes(s)&&t.classList.remove(s)})},bc=(t,e,s)=>{if(iPe(t,e),!e.customClass)return;const n=e.customClass[s];if(n){if(typeof n!="string"&&!n.forEach){il(`Invalid type of customClass.${s}! Expected string or iterable object, got "${typeof n}"`);return}Zs(t,n)}},w4=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Lt.popup} > .${Lt[e]}`);case"checkbox":return t.querySelector(`.${Lt.popup} > .${Lt.checkbox} input`);case"radio":return t.querySelector(`.${Lt.popup} > .${Lt.radio} input:checked`)||t.querySelector(`.${Lt.popup} > .${Lt.radio} input:first-child`);case"range":return t.querySelector(`.${Lt.popup} > .${Lt.range} input`);default:return t.querySelector(`.${Lt.popup} > .${Lt.input}`)}},Ite=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},Lte=(t,e,s)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(t)?t.forEach(a=>{s?a.classList.add(n):a.classList.remove(n)}):s?t.classList.add(n):t.classList.remove(n)}))},Zs=(t,e)=>{Lte(t,e,!0)},ad=(t,e)=>{Lte(t,e,!1)},zm=(t,e)=>{const s=Array.from(t.children);for(let n=0;n<s.length;n++){const a=s[n];if(a instanceof HTMLElement&&Nf(a,e))return a}},Yp=(t,e,s)=>{s===`${parseInt(`${s}`)}`&&(s=parseInt(s)),s||parseInt(`${s}`)===0?t.style.setProperty(e,typeof s=="number"?`${s}px`:s):t.style.removeProperty(e)},Ii=(t,e="flex")=>{t&&(t.style.display=e)},Oo=t=>{t&&(t.style.display="none")},xL=(t,e="block")=>{t&&new MutationObserver(()=>{bw(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},IG=(t,e,s,n)=>{const a=t.querySelector(e);a&&a.style.setProperty(s,n)},bw=(t,e,s="flex")=>{e?Ii(t,s):Oo(t)},Dl=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),oPe=()=>!Dl(ah())&&!Dl(Px())&&!Dl(kb()),TF=t=>t.scrollHeight>t.clientHeight,lPe=(t,e)=>{let s=t;for(;s&&s!==e;){if(TF(s))return!0;s=s.parentElement}return!1},Dte=t=>{const e=window.getComputedStyle(t),s=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return s>0||n>0},AL=(t,e=!1)=>{const s=y4();s&&Dl(s)&&(e&&(s.style.transition="none",s.style.width="100%"),setTimeout(()=>{s.style.transition=`width ${t/1e3}s linear`,s.style.width="0%"},10))},cPe=()=>{const t=y4();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const s=parseInt(window.getComputedStyle(t).width),n=e/s*100;t.style.width=`${n}%`},dPe=()=>typeof window>"u"||typeof document>"u",uPe=`
 <div aria-labelledby="${Lt.title}" aria-describedby="${Lt["html-container"]}" class="${Lt.popup}" tabindex="-1">
   <button type="button" class="${Lt.close}"></button>
   <ul class="${Lt["progress-steps"]}"></ul>
   <div class="${Lt.icon}"></div>
   <img class="${Lt.image}" />
   <h2 class="${Lt.title}" id="${Lt.title}"></h2>
   <div class="${Lt["html-container"]}" id="${Lt["html-container"]}"></div>
   <input class="${Lt.input}" id="${Lt.input}" />
   <input type="file" class="${Lt.file}" />
   <div class="${Lt.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Lt.select}" id="${Lt.select}"></select>
   <div class="${Lt.radio}"></div>
   <label class="${Lt.checkbox}">
     <input type="checkbox" id="${Lt.checkbox}" />
     <span class="${Lt.label}"></span>
   </label>
   <textarea class="${Lt.textarea}" id="${Lt.textarea}"></textarea>
   <div class="${Lt["validation-message"]}" id="${Lt["validation-message"]}"></div>
   <div class="${Lt.actions}">
     <div class="${Lt.loader}"></div>
     <button type="button" class="${Lt.confirm}"></button>
     <button type="button" class="${Lt.deny}"></button>
     <button type="button" class="${Lt.cancel}"></button>
   </div>
   <div class="${Lt.footer}"></div>
   <div class="${Lt["timer-progress-bar-container"]}">
     <div class="${Lt["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),hPe=()=>{const t=ll();return t?(t.remove(),ad([document.documentElement,document.body],[Lt["no-backdrop"],Lt["toast-shown"],Lt["has-column"]]),!0):!1},hp=()=>{Gr.currentInstance.resetValidationMessage()},fPe=()=>{const t=Ws(),e=zm(t,Lt.input),s=zm(t,Lt.file),n=t.querySelector(`.${Lt.range} input`),a=t.querySelector(`.${Lt.range} output`),i=zm(t,Lt.select),o=t.querySelector(`.${Lt.checkbox} input`),l=zm(t,Lt.textarea);e.oninput=hp,s.onchange=hp,i.onchange=hp,o.onchange=hp,l.oninput=hp,n.oninput=()=>{hp(),a.value=n.value},n.onchange=()=>{hp(),a.value=n.value}},mPe=t=>typeof t=="string"?document.querySelector(t):t,pPe=t=>{const e=Ws();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},xPe=t=>{window.getComputedStyle(t).direction==="rtl"&&Zs(ll(),Lt.rtl)},APe=t=>{const e=hPe();if(dPe()){Fx("SweetAlert2 requires document to initialize");return}const s=document.createElement("div");s.className=Lt.container,e&&Zs(s,Lt["no-transition"]),wc(s,uPe),s.dataset.swal2Theme=t.theme;const n=mPe(t.target);n.appendChild(s),t.topLayer&&(s.setAttribute("popover",""),s.showPopover()),pPe(t),xPe(n),fPe()},gL=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?gPe(t,e):t&&wc(e,t)},gPe=(t,e)=>{t.jquery?bPe(e,t):wc(e,t.toString())},bPe=(t,e)=>{if(t.textContent="",0 in e)for(let s=0;s in e;s++)t.appendChild(e[s].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},yPe=(t,e)=>{const s=gw(),n=Tb();!s||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Oo(s):Ii(s),bc(s,e,"actions"),vPe(s,n,e),wc(n,e.loaderHtml||""),bc(n,e,"loader"))};function vPe(t,e,s){const n=ah(),a=Px(),i=kb();!n||!a||!i||(z6(n,"confirm",s),z6(a,"deny",s),z6(i,"cancel",s),wPe(n,a,i,s),s.reverseButtons&&(s.toast?(t.insertBefore(i,n),t.insertBefore(a,n)):(t.insertBefore(i,e),t.insertBefore(a,e),t.insertBefore(n,e))))}function wPe(t,e,s,n){if(!n.buttonsStyling){ad([t,e,s],Lt.styled);return}Zs([t,e,s],Lt.styled),n.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&s.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),$6(t),$6(e),$6(s)}function $6(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const s=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${s}`))}function z6(t,e,s){const n=lL(e);bw(t,s[`show${n}Button`],"inline-block"),wc(t,s[`${e}ButtonText`]||""),t.setAttribute("aria-label",s[`${e}ButtonAriaLabel`]||""),t.className=Lt[e],bc(t,s,`${e}Button`)}const jPe=(t,e)=>{const s=fL();s&&(wc(s,e.closeButtonHtml||""),bc(s,e,"closeButton"),bw(s,e.showCloseButton),s.setAttribute("aria-label",e.closeButtonAriaLabel||""))},NPe=(t,e)=>{const s=ll();s&&(SPe(s,e.backdrop),CPe(s,e.position),_Pe(s,e.grow),bc(s,e,"container"))};function SPe(t,e){typeof e=="string"?t.style.background=e:e||Zs([document.documentElement,document.body],Lt["no-backdrop"])}function CPe(t,e){e&&(e in Lt?Zs(t,Lt[e]):(il('The "position" parameter is not valid, defaulting to "center"'),Zs(t,Lt.center)))}function _Pe(t,e){e&&Zs(t,Lt[`grow-${e}`])}var Hn={innerParams:new WeakMap,domCache:new WeakMap};const EPe=["input","file","range","select","radio","checkbox","textarea"],kPe=(t,e)=>{const s=Ws();if(!s)return;const n=Hn.innerParams.get(t),a=!n||e.input!==n.input;EPe.forEach(i=>{const o=zm(s,Lt[i]);o&&(MPe(i,e.inputAttributes),o.className=Lt[i],a&&Oo(o))}),e.input&&(a&&TPe(e),FPe(e))},TPe=t=>{if(!t.input)return;if(!Ia[t.input]){Fx(`Unexpected type of input! Expected ${Object.keys(Ia).join(" | ")}, got "${t.input}"`);return}const e=Rte(t.input);if(!e)return;const s=Ia[t.input](e,t);Ii(e),t.inputAutoFocus&&setTimeout(()=>{Ite(s)})},BPe=t=>{for(let e=0;e<t.attributes.length;e++){const s=t.attributes[e].name;["id","type","value","style"].includes(s)||t.removeAttribute(s)}},MPe=(t,e)=>{const s=Ws();if(!s)return;const n=w4(s,t);if(n){BPe(n);for(const a in e)n.setAttribute(a,e[a])}},FPe=t=>{if(!t.input)return;const e=Rte(t.input);e&&bc(e,t,"input")},bL=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},yw=(t,e,s)=>{if(s.inputLabel){const n=document.createElement("label"),a=Lt["input-label"];n.setAttribute("for",t.id),n.className=a,typeof s.customClass=="object"&&Zs(n,s.customClass.inputLabel),n.innerText=s.inputLabel,e.insertAdjacentElement("beforebegin",n)}},Rte=t=>{const e=Ws();if(e)return zm(e,Lt[t]||Lt.input)},R5=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:dL(e)||il(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Ia={};Ia.text=Ia.email=Ia.password=Ia.number=Ia.tel=Ia.url=Ia.search=Ia.date=Ia["datetime-local"]=Ia.time=Ia.week=Ia.month=(t,e)=>(R5(t,e.inputValue),yw(t,t,e),bL(t,e),t.type=e.input,t);Ia.file=(t,e)=>(yw(t,t,e),bL(t,e),t);Ia.range=(t,e)=>{const s=t.querySelector("input"),n=t.querySelector("output");return R5(s,e.inputValue),s.type=e.input,R5(n,e.inputValue),yw(s,t,e),t};Ia.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const s=document.createElement("option");wc(s,e.inputPlaceholder),s.value="",s.disabled=!0,s.selected=!0,t.appendChild(s)}return yw(t,t,e),t};Ia.radio=t=>(t.textContent="",t);Ia.checkbox=(t,e)=>{const s=w4(Ws(),"checkbox");s.value="1",s.checked=!!e.inputValue;const n=t.querySelector("span");return wc(n,e.inputPlaceholder||e.inputLabel),s};Ia.textarea=(t,e)=>{R5(t,e.inputValue),bL(t,e),yw(t,t,e);const s=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Ws()).width),a=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+s(t);i>n?Ws().style.width=`${i}px`:Yp(Ws(),"width",e.width)};new MutationObserver(a).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const PPe=(t,e)=>{const s=uL();s&&(xL(s),bc(s,e,"htmlContainer"),e.html?(gL(e.html,s),Ii(s,"block")):e.text?(s.textContent=e.text,Ii(s,"block")):Oo(s),kPe(t,e))},IPe=(t,e)=>{const s=Pte();s&&(xL(s),bw(s,!!e.footer,"block"),e.footer&&gL(e.footer,s),bc(s,e,"footer"))},LPe=(t,e)=>{const s=Hn.innerParams.get(t),n=Eb();if(!n)return;if(s&&e.icon===s.icon){DG(n,e),LG(n,e);return}if(!e.icon&&!e.iconHtml){Oo(n);return}if(e.icon&&Object.keys(D5).indexOf(e.icon)===-1){Fx(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Oo(n);return}Ii(n),DG(n,e),LG(n,e),Zs(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ote)},LG=(t,e)=>{for(const[s,n]of Object.entries(D5))e.icon!==s&&ad(t,n);Zs(t,e.icon&&D5[e.icon]),OPe(t,e),Ote(),bc(t,e,"icon")},Ote=()=>{const t=Ws();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),s=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<s.length;n++)s[n].style.backgroundColor=e},DPe=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,RPe=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,DG=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let s=t.innerHTML,n="";e.iconHtml?n=RG(e.iconHtml):e.icon==="success"?(n=DPe(e),s=s.replace(/ style=".*?"/g,"")):e.icon==="error"?n=RPe:e.icon&&(n=RG({question:"?",warning:"!",info:"i"}[e.icon])),s.trim()!==n.trim()&&wc(t,n)},OPe=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const s of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])IG(t,s,"background-color",e.iconColor);IG(t,".swal2-success-ring","border-color",e.iconColor)}},RG=t=>`<div class="${Lt["icon-content"]}">${t}</div>`,UPe=(t,e)=>{const s=Fte();if(s){if(!e.imageUrl){Oo(s);return}Ii(s,""),s.setAttribute("src",e.imageUrl),s.setAttribute("alt",e.imageAlt||""),Yp(s,"width",e.imageWidth),Yp(s,"height",e.imageHeight),s.className=Lt.image,bc(s,e,"image")}};let yL=!1,Ute=0,Hte=0,Qte=0,$te=0;const HPe=t=>{t.addEventListener("mousedown",O5),document.body.addEventListener("mousemove",U5),t.addEventListener("mouseup",H5),t.addEventListener("touchstart",O5),document.body.addEventListener("touchmove",U5),t.addEventListener("touchend",H5)},QPe=t=>{t.removeEventListener("mousedown",O5),document.body.removeEventListener("mousemove",U5),t.removeEventListener("mouseup",H5),t.removeEventListener("touchstart",O5),document.body.removeEventListener("touchmove",U5),t.removeEventListener("touchend",H5)},O5=t=>{const e=Ws();if(t.target===e||Eb().contains(t.target)){yL=!0;const s=zte(t);Ute=s.clientX,Hte=s.clientY,Qte=parseInt(e.style.insetInlineStart)||0,$te=parseInt(e.style.insetBlockStart)||0,Zs(e,"swal2-dragging")}},U5=t=>{const e=Ws();if(yL){let{clientX:s,clientY:n}=zte(t);e.style.insetInlineStart=`${Qte+(s-Ute)}px`,e.style.insetBlockStart=`${$te+(n-Hte)}px`}},H5=()=>{const t=Ws();yL=!1,ad(t,"swal2-dragging")},zte=t=>{let e=0,s=0;return t.type.startsWith("mouse")?(e=t.clientX,s=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,s=t.touches[0].clientY),{clientX:e,clientY:s}},$Pe=(t,e)=>{const s=ll(),n=Ws();if(!(!s||!n)){if(e.toast){Yp(s,"width",e.width),n.style.width="100%";const a=Tb();a&&n.insertBefore(a,Eb())}else Yp(n,"width",e.width);Yp(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),Oo(b4()),zPe(n,e),e.draggable&&!e.toast?(Zs(n,Lt.draggable),HPe(n)):(ad(n,Lt.draggable),QPe(n))}},zPe=(t,e)=>{const s=e.showClass||{};t.className=`${Lt.popup} ${Dl(t)?s.popup:""}`,e.toast?(Zs([document.documentElement,document.body],Lt["toast-shown"]),Zs(t,Lt.toast)):Zs(t,Lt.modal),bc(t,e,"popup"),typeof e.customClass=="string"&&Zs(t,e.customClass),e.icon&&Zs(t,Lt[`icon-${e.icon}`])},GPe=(t,e)=>{const s=hL();if(!s)return;const{progressSteps:n,currentProgressStep:a}=e;if(!n||n.length===0||a===void 0){Oo(s);return}Ii(s),s.textContent="",a>=n.length&&il("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((i,o)=>{const l=VPe(i);if(s.appendChild(l),o===a&&Zs(l,Lt["active-progress-step"]),o!==n.length-1){const c=WPe(e);s.appendChild(c)}})},VPe=t=>{const e=document.createElement("li");return Zs(e,Lt["progress-step"]),wc(e,t),e},WPe=t=>{const e=document.createElement("li");return Zs(e,Lt["progress-step-line"]),t.progressStepsDistance&&Yp(e,"width",t.progressStepsDistance),e},qPe=(t,e)=>{const s=Mte();s&&(xL(s),bw(s,!!(e.title||e.titleText),"block"),e.title&&gL(e.title,s),e.titleText&&(s.innerText=e.titleText),bc(s,e,"title"))},Gte=(t,e)=>{$Pe(t,e),NPe(t,e),GPe(t,e),LPe(t,e),UPe(t,e),qPe(t,e),jPe(t,e),PPe(t,e),yPe(t,e),IPe(t,e);const s=Ws();typeof e.didRender=="function"&&s&&e.didRender(s),Gr.eventEmitter.emit("didRender",s)},KPe=()=>Dl(Ws()),Vte=()=>{var t;return(t=ah())===null||t===void 0?void 0:t.click()},XPe=()=>{var t;return(t=Px())===null||t===void 0?void 0:t.click()},YPe=()=>{var t;return(t=kb())===null||t===void 0?void 0:t.click()},Bb=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Wte=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},JPe=(t,e,s)=>{Wte(t),e.toast||(t.keydownHandler=n=>eIe(e,n,s),t.keydownTarget=e.keydownListenerCapture?window:Ws(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},BF=(t,e)=>{var s;const n=mL();if(n.length){t=t+e,t===-2&&(t=n.length-1),t===n.length?t=0:t===-1&&(t=n.length-1),n[t].focus();return}(s=Ws())===null||s===void 0||s.focus()},qte=["ArrowRight","ArrowDown"],ZPe=["ArrowLeft","ArrowUp"],eIe=(t,e,s)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?tIe(e,t):e.key==="Tab"?rIe(e):[...qte,...ZPe].includes(e.key)?sIe(e.key):e.key==="Escape"&&nIe(e,t,s)))},tIe=(t,e)=>{if(!g4(e.allowEnterKey))return;const s=w4(Ws(),e.input);if(t.target&&s&&t.target instanceof HTMLElement&&t.target.outerHTML===s.outerHTML){if(["textarea","file"].includes(e.input))return;Vte(),t.preventDefault()}},rIe=t=>{const e=t.target,s=mL();let n=-1;for(let a=0;a<s.length;a++)if(e===s[a]){n=a;break}t.shiftKey?BF(n,-1):BF(n,1),t.stopPropagation(),t.preventDefault()},sIe=t=>{const e=gw(),s=ah(),n=Px(),a=kb();if(!e||!s||!n||!a)return;const i=[s,n,a];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=qte.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&Dl(l))break}l instanceof HTMLButtonElement&&l.focus()}},nIe=(t,e,s)=>{t.preventDefault(),g4(e.allowEscapeKey)&&s(Bb.esc)};var ib={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const aIe=()=>{const t=ll();Array.from(document.body.children).forEach(s=>{s.contains(t)||(s.hasAttribute("aria-hidden")&&s.setAttribute("data-previous-aria-hidden",s.getAttribute("aria-hidden")||""),s.setAttribute("aria-hidden","true"))})},Kte=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Xte=typeof window<"u"&&!!window.GestureEvent,iIe=()=>{if(Xte&&!Nf(document.body,Lt.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Zs(document.body,Lt.iosfix),oIe()}},oIe=()=>{const t=ll();if(!t)return;let e;t.ontouchstart=s=>{e=lIe(s)},t.ontouchmove=s=>{e&&(s.preventDefault(),s.stopPropagation())}},lIe=t=>{const e=t.target,s=ll(),n=uL();return!s||!n||cIe(t)||dIe(t)?!1:e===s||!TF(s)&&e instanceof HTMLElement&&!lPe(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(TF(n)&&n.contains(e))},cIe=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",dIe=t=>t.touches&&t.touches.length>1,uIe=()=>{if(Nf(document.body,Lt.iosfix)){const t=parseInt(document.body.style.top,10);ad(document.body,Lt.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},hIe=()=>{const t=document.createElement("div");t.className=Lt["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let dg=null;const fIe=t=>{dg===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(dg=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${dg+hIe()}px`)},mIe=()=>{dg!==null&&(document.body.style.paddingRight=`${dg}px`,dg=null)};function Yte(t,e,s,n){v4()?OG(t,n):(JFe(s).then(()=>OG(t,n)),Wte(Gr)),Xte?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),pL()&&(mIe(),uIe(),Kte()),pIe()}function pIe(){ad([document.documentElement,document.body],[Lt.shown,Lt["height-auto"],Lt["no-backdrop"],Lt["toast-shown"]])}function Gm(t){t=AIe(t);const e=ib.swalPromiseResolve.get(this),s=xIe(this);this.isAwaitingPromise?t.isDismissed||(vw(this),e(t)):s&&e(t)}const xIe=t=>{const e=Ws();if(!e)return!1;const s=Hn.innerParams.get(t);if(!s||Nf(e,s.hideClass.popup))return!1;ad(e,s.showClass.popup),Zs(e,s.hideClass.popup);const n=ll();return ad(n,s.showClass.backdrop),Zs(n,s.hideClass.backdrop),gIe(t,e,s),!0};function Jte(t){const e=ib.swalPromiseReject.get(this);vw(this),e&&e(t)}const vw=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Hn.innerParams.get(t)||t._destroy())},AIe=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),gIe=(t,e,s)=>{var n;const a=ll(),i=Dte(e);typeof s.willClose=="function"&&s.willClose(e),(n=Gr.eventEmitter)===null||n===void 0||n.emit("willClose",e),i?bIe(t,e,a,s.returnFocus,s.didClose):Yte(t,a,s.returnFocus,s.didClose)},bIe=(t,e,s,n,a)=>{Gr.swalCloseEventFinishedCallback=Yte.bind(null,t,s,n,a);const i=function(o){if(o.target===e){var l;(l=Gr.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Gr),delete Gr.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},OG=(t,e)=>{setTimeout(()=>{var s;typeof e=="function"&&e.bind(t.params)(),(s=Gr.eventEmitter)===null||s===void 0||s.emit("didClose"),t._destroy&&t._destroy()})},ob=t=>{let e=Ws();if(e||new Qr,e=Ws(),!e)return;const s=Tb();v4()?Oo(Eb()):yIe(e,t),Ii(s),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},yIe=(t,e)=>{const s=gw(),n=Tb();!s||!n||(!e&&Dl(ah())&&(e=ah()),Ii(s),e&&(Oo(e),n.setAttribute("data-button-to-replace",e.className),s.insertBefore(n,e)),Zs([t,s],Lt.loading))},vIe=(t,e)=>{e.input==="select"||e.input==="radio"?CIe(t,e):["text","email","number","tel","textarea"].some(s=>s===e.input)&&(cL(e.inputValue)||dL(e.inputValue))&&(ob(ah()),_Ie(t,e))},wIe=(t,e)=>{const s=t.getInput();if(!s)return null;switch(e.input){case"checkbox":return jIe(s);case"radio":return NIe(s);case"file":return SIe(s);default:return e.inputAutoTrim?s.value.trim():s.value}},jIe=t=>t.checked?1:0,NIe=t=>t.checked?t.value:null,SIe=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,CIe=(t,e)=>{const s=Ws();if(!s)return;const n=a=>{e.input==="select"?EIe(s,Q5(a),e):e.input==="radio"&&kIe(s,Q5(a),e)};cL(e.inputOptions)||dL(e.inputOptions)?(ob(ah()),xw(e.inputOptions).then(a=>{t.hideLoading(),n(a)})):typeof e.inputOptions=="object"?n(e.inputOptions):Fx(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},_Ie=(t,e)=>{const s=t.getInput();s&&(Oo(s),xw(e.inputValue).then(n=>{s.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,Ii(s),s.focus(),t.hideLoading()}).catch(n=>{Fx(`Error in inputValue promise: ${n}`),s.value="",Ii(s),s.focus(),t.hideLoading()}))};function EIe(t,e,s){const n=zm(t,Lt.select);if(!n)return;const a=(i,o,l)=>{const c=document.createElement("option");c.value=l,wc(c,o),c.selected=Zte(l,s.inputValue),i.appendChild(c)};e.forEach(i=>{const o=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=o,c.disabled=!1,n.appendChild(c),l.forEach(d=>a(c,d[1],d[0]))}else a(n,l,o)}),n.focus()}function kIe(t,e,s){const n=zm(t,Lt.radio);if(!n)return;e.forEach(i=>{const o=i[0],l=i[1],c=document.createElement("input"),d=document.createElement("label");c.type="radio",c.name=Lt.radio,c.value=o,Zte(o,s.inputValue)&&(c.checked=!0);const u=document.createElement("span");wc(u,l),u.className=Lt.label,d.appendChild(c),d.appendChild(u),n.appendChild(d)});const a=n.querySelectorAll("input");a.length&&a[0].focus()}const Q5=t=>{const e=[];return t instanceof Map?t.forEach((s,n)=>{let a=s;typeof a=="object"&&(a=Q5(a)),e.push([n,a])}):Object.keys(t).forEach(s=>{let n=t[s];typeof n=="object"&&(n=Q5(n)),e.push([s,n])}),e},Zte=(t,e)=>!!e&&e.toString()===t.toString(),TIe=t=>{const e=Hn.innerParams.get(t);t.disableButtons(),e.input?ere(t,"confirm"):wL(t,!0)},BIe=t=>{const e=Hn.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?ere(t,"deny"):vL(t,!1)},MIe=(t,e)=>{t.disableButtons(),e(Bb.cancel)},ere=(t,e)=>{const s=Hn.innerParams.get(t);if(!s.input){Fx(`The "input" parameter is needed to be set when using returnInputValueOn${lL(e)}`);return}const n=t.getInput(),a=wIe(t,s);s.inputValidator?FIe(t,a,e):n&&!n.checkValidity()?(t.enableButtons(),t.showValidationMessage(s.validationMessage||n.validationMessage)):e==="deny"?vL(t,a):wL(t,a)},FIe=(t,e,s)=>{const n=Hn.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>xw(n.inputValidator(e,n.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):s==="deny"?vL(t,e):wL(t,e)})},vL=(t,e)=>{const s=Hn.innerParams.get(t||void 0);s.showLoaderOnDeny&&ob(Px()),s.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>xw(s.preDeny(e,s.validationMessage))).then(a=>{a===!1?(t.hideLoading(),vw(t)):t.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>tre(t||void 0,a))):t.close({isDenied:!0,value:e})},UG=(t,e)=>{t.close({isConfirmed:!0,value:e})},tre=(t,e)=>{t.rejectPromise(e)},wL=(t,e)=>{const s=Hn.innerParams.get(t||void 0);s.showLoaderOnConfirm&&ob(),s.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>xw(s.preConfirm(e,s.validationMessage))).then(a=>{Dl(b4())||a===!1?(t.hideLoading(),vw(t)):UG(t,typeof a>"u"?e:a)}).catch(a=>tre(t||void 0,a))):UG(t,e)};function $5(){const t=Hn.innerParams.get(this);if(!t)return;const e=Hn.domCache.get(this);Oo(e.loader),v4()?t.icon&&Ii(Eb()):PIe(e),ad([e.popup,e.actions],Lt.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const PIe=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Ii(e[0],"inline-block"):oPe()&&Oo(t.actions)};function rre(){const t=Hn.innerParams.get(this),e=Hn.domCache.get(this);return e?w4(e.popup,t.input):null}function sre(t,e,s){const n=Hn.domCache.get(t);e.forEach(a=>{n[a].disabled=s})}function nre(t,e){const s=Ws();if(!(!s||!t))if(t.type==="radio"){const n=s.querySelectorAll(`[name="${Lt.radio}"]`);for(let a=0;a<n.length;a++)n[a].disabled=e}else t.disabled=e}function are(){sre(this,["confirmButton","denyButton","cancelButton"],!1)}function ire(){sre(this,["confirmButton","denyButton","cancelButton"],!0)}function ore(){nre(this.getInput(),!1)}function lre(){nre(this.getInput(),!0)}function cre(t){const e=Hn.domCache.get(this),s=Hn.innerParams.get(this);wc(e.validationMessage,t),e.validationMessage.className=Lt["validation-message"],s.customClass&&s.customClass.validationMessage&&Zs(e.validationMessage,s.customClass.validationMessage),Ii(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",Lt["validation-message"]),Ite(n),Zs(n,Lt.inputerror))}function dre(){const t=Hn.domCache.get(this);t.validationMessage&&Oo(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ad(e,Lt.inputerror))}const ug={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},IIe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],LIe={allowEnterKey:void 0},DIe=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ure=t=>Object.prototype.hasOwnProperty.call(ug,t),hre=t=>IIe.indexOf(t)!==-1,fre=t=>LIe[t],RIe=t=>{ure(t)||il(`Unknown parameter "${t}"`)},OIe=t=>{DIe.includes(t)&&il(`The parameter "${t}" is incompatible with toasts`)},UIe=t=>{const e=fre(t);e&&Bte(t,e)},mre=t=>{t.backdrop===!1&&t.allowOutsideClick&&il('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&il(`Invalid theme "${t.theme}"`);for(const e in t)RIe(e),t.toast&&OIe(e),UIe(e)};function pre(t){const e=ll(),s=Ws(),n=Hn.innerParams.get(this);if(!s||Nf(s,n.hideClass.popup)){il("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=HIe(t),i=Object.assign({},n,a);mre(i),e.dataset.swal2Theme=i.theme,Gte(this,i),Hn.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const HIe=t=>{const e={};return Object.keys(t).forEach(s=>{hre(s)?e[s]=t[s]:il(`Invalid parameter to update: ${s}`)}),e};function xre(){const t=Hn.domCache.get(this),e=Hn.innerParams.get(this);if(!e){Are(this);return}t.popup&&Gr.swalCloseEventFinishedCallback&&(Gr.swalCloseEventFinishedCallback(),delete Gr.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Gr.eventEmitter.emit("didDestroy"),QIe(this)}const QIe=t=>{Are(t),delete t.params,delete Gr.keydownHandler,delete Gr.keydownTarget,delete Gr.currentInstance},Are=t=>{t.isAwaitingPromise?(G6(Hn,t),t.isAwaitingPromise=!0):(G6(ib,t),G6(Hn,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},G6=(t,e)=>{for(const s in t)t[s].delete(e)};var $Ie=Object.freeze({__proto__:null,_destroy:xre,close:Gm,closeModal:Gm,closePopup:Gm,closeToast:Gm,disableButtons:ire,disableInput:lre,disableLoading:$5,enableButtons:are,enableInput:ore,getInput:rre,handleAwaitingPromise:vw,hideLoading:$5,rejectPromise:Jte,resetValidationMessage:dre,showValidationMessage:cre,update:pre});const zIe=(t,e,s)=>{t.toast?GIe(t,e,s):(WIe(e),qIe(e),KIe(t,e,s))},GIe=(t,e,s)=>{e.popup.onclick=()=>{t&&(VIe(t)||t.timer||t.input)||s(Bb.close)}},VIe=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let z5=!1;const WIe=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(z5=!0)}}},qIe=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(s){t.popup.onmouseup=()=>{},(s.target===t.popup||s.target instanceof HTMLElement&&t.popup.contains(s.target))&&(z5=!0)}}},KIe=(t,e,s)=>{e.container.onclick=n=>{if(z5){z5=!1;return}n.target===e.container&&g4(t.allowOutsideClick)&&s(Bb.backdrop)}},XIe=t=>typeof t=="object"&&t.jquery,HG=t=>t instanceof Element||XIe(t),YIe=t=>{const e={};return typeof t[0]=="object"&&!HG(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((s,n)=>{const a=t[n];typeof a=="string"||HG(a)?e[s]=a:a!==void 0&&Fx(`Unexpected type of ${s}! Expected "string" or "Element", got ${typeof a}`)}),e};function JIe(...t){return new this(...t)}function ZIe(t){class e extends this{_main(n,a){return super._main(n,Object.assign({},t,a))}}return e}const eLe=()=>Gr.timeout&&Gr.timeout.getTimerLeft(),gre=()=>{if(Gr.timeout)return cPe(),Gr.timeout.stop()},bre=()=>{if(Gr.timeout){const t=Gr.timeout.start();return AL(t),t}},tLe=()=>{const t=Gr.timeout;return t&&(t.running?gre():bre())},rLe=t=>{if(Gr.timeout){const e=Gr.timeout.increase(t);return AL(e,!0),e}},sLe=()=>!!(Gr.timeout&&Gr.timeout.isRunning());let QG=!1;const MF={};function nLe(t="data-swal-template"){MF[t]=this,QG||(document.body.addEventListener("click",aLe),QG=!0)}const aLe=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const s in MF){const n=e.getAttribute(s);if(n){MF[s].fire({template:n});return}}};class iLe{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,s){const n=this._getHandlersByEventName(e);n.includes(s)||n.push(s)}once(e,s){const n=(...a)=>{this.removeListener(e,n),s.apply(this,a)};this.on(e,n)}emit(e,...s){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,s)}catch(a){console.error(a)}})}removeListener(e,s){const n=this._getHandlersByEventName(e),a=n.indexOf(s);a>-1&&n.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Gr.eventEmitter=new iLe;const oLe=(t,e)=>{Gr.eventEmitter.on(t,e)},lLe=(t,e)=>{Gr.eventEmitter.once(t,e)},cLe=(t,e)=>{if(!t){Gr.eventEmitter.reset();return}e?Gr.eventEmitter.removeListener(t,e):Gr.eventEmitter.removeAllListeners(t)};var dLe=Object.freeze({__proto__:null,argsToParams:YIe,bindClickHandler:nLe,clickCancel:YPe,clickConfirm:Vte,clickDeny:XPe,enableLoading:ob,fire:JIe,getActions:gw,getCancelButton:kb,getCloseButton:fL,getConfirmButton:ah,getContainer:ll,getDenyButton:Px,getFocusableElements:mL,getFooter:Pte,getHtmlContainer:uL,getIcon:Eb,getIconContent:rPe,getImage:Fte,getInputLabel:sPe,getLoader:Tb,getPopup:Ws,getProgressSteps:hL,getTimerLeft:eLe,getTimerProgressBar:y4,getTitle:Mte,getValidationMessage:b4,increaseTimer:rLe,isDeprecatedParameter:fre,isLoading:aPe,isTimerRunning:sLe,isUpdatableParameter:hre,isValidParameter:ure,isVisible:KPe,mixin:ZIe,off:cLe,on:oLe,once:lLe,resumeTimer:bre,showLoading:ob,stopTimer:gre,toggleTimer:tLe});class uLe{constructor(e,s){this.callback=e,this.remaining=s,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const s=this.running;return s&&this.stop(),this.remaining+=e,s&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const yre=["swal-title","swal-html","swal-footer"],hLe=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const s=e.content;return yLe(s),Object.assign(fLe(s),mLe(s),pLe(s),xLe(s),ALe(s),gLe(s),bLe(s,yre))},fLe=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(n=>{gx(n,["name","value"]);const a=n.getAttribute("name"),i=n.getAttribute("value");!a||!i||(typeof ug[a]=="boolean"?e[a]=i!=="false":typeof ug[a]=="object"?e[a]=JSON.parse(i):e[a]=i)}),e},mLe=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(n=>{const a=n.getAttribute("name"),i=n.getAttribute("value");!a||!i||(e[a]=new Function(`return ${i}`)())}),e},pLe=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(n=>{gx(n,["type","color","aria-label"]);const a=n.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=n.innerHTML,e[`show${lL(a)}Button`]=!0,n.hasAttribute("color")&&(e[`${a}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},xLe=t=>{const e={},s=t.querySelector("swal-image");return s&&(gx(s,["src","width","height","alt"]),s.hasAttribute("src")&&(e.imageUrl=s.getAttribute("src")||void 0),s.hasAttribute("width")&&(e.imageWidth=s.getAttribute("width")||void 0),s.hasAttribute("height")&&(e.imageHeight=s.getAttribute("height")||void 0),s.hasAttribute("alt")&&(e.imageAlt=s.getAttribute("alt")||void 0)),e},ALe=t=>{const e={},s=t.querySelector("swal-icon");return s&&(gx(s,["type","color"]),s.hasAttribute("type")&&(e.icon=s.getAttribute("type")),s.hasAttribute("color")&&(e.iconColor=s.getAttribute("color")),e.iconHtml=s.innerHTML),e},gLe=t=>{const e={},s=t.querySelector("swal-input");s&&(gx(s,["type","label","placeholder","value"]),e.input=s.getAttribute("type")||"text",s.hasAttribute("label")&&(e.inputLabel=s.getAttribute("label")),s.hasAttribute("placeholder")&&(e.inputPlaceholder=s.getAttribute("placeholder")),s.hasAttribute("value")&&(e.inputValue=s.getAttribute("value")));const n=Array.from(t.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(a=>{gx(a,["value"]);const i=a.getAttribute("value");if(!i)return;const o=a.innerHTML;e.inputOptions[i]=o})),e},bLe=(t,e)=>{const s={};for(const n in e){const a=e[n],i=t.querySelector(a);i&&(gx(i,[]),s[a.replace(/^swal-/,"")]=i.innerHTML.trim())}return s},yLe=t=>{const e=yre.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(s=>{const n=s.tagName.toLowerCase();e.includes(n)||il(`Unrecognized element <${n}>`)})},gx=(t,e)=>{Array.from(t.attributes).forEach(s=>{e.indexOf(s.name)===-1&&il([`Unrecognized attribute "${s.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},vre=10,vLe=t=>{const e=ll(),s=Ws();typeof t.willOpen=="function"&&t.willOpen(s),Gr.eventEmitter.emit("willOpen",s);const a=window.getComputedStyle(document.body).overflowY;NLe(e,s,t),setTimeout(()=>{wLe(e,s)},vre),pL()&&(jLe(e,t.scrollbarPadding,a),aIe()),!v4()&&!Gr.previousActiveElement&&(Gr.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(s)),Gr.eventEmitter.emit("didOpen",s)},G5=t=>{const e=Ws();if(t.target!==e)return;const s=ll();e.removeEventListener("animationend",G5),e.removeEventListener("transitionend",G5),s.style.overflowY="auto",ad(s,Lt["no-transition"])},wLe=(t,e)=>{Dte(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",G5),e.addEventListener("transitionend",G5)):t.style.overflowY="auto"},jLe=(t,e,s)=>{iIe(),e&&s!=="hidden"&&fIe(s),setTimeout(()=>{t.scrollTop=0})},NLe=(t,e,s)=>{Zs(t,s.showClass.backdrop),s.animation?(e.style.setProperty("opacity","0","important"),Ii(e,"grid"),setTimeout(()=>{Zs(e,s.showClass.popup),e.style.removeProperty("opacity")},vre)):Ii(e,"grid"),Zs([document.documentElement,document.body],Lt.shown),s.heightAuto&&s.backdrop&&!s.toast&&Zs([document.documentElement,document.body],Lt["height-auto"])};var $G={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function SLe(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=$G.email),t.input==="url"&&(t.inputValidator=$G.url))}function CLe(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(il('Target parameter is not valid, defaulting to "body"'),t.target="body")}function _Le(t){SLe(t),t.showLoaderOnConfirm&&!t.preConfirm&&il(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),CLe(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),APe(t)}let Pu;var ij=new WeakMap;class Ha{constructor(...e){if(qFe(this,ij,void 0),typeof window>"u")return;Pu=this;const s=Object.freeze(this.constructor.argsToParams(e));this.params=s,this.isAwaitingPromise=!1,KFe(ij,this,this._main(Pu.params))}_main(e,s={}){if(mre(Object.assign({},s,e)),Gr.currentInstance){const i=ib.swalPromiseResolve.get(Gr.currentInstance),{isAwaitingPromise:o}=Gr.currentInstance;Gr.currentInstance._destroy(),o||i({isDismissed:!0}),pL()&&Kte()}Gr.currentInstance=Pu;const n=kLe(e,s);_Le(n),Object.freeze(n),Gr.timeout&&(Gr.timeout.stop(),delete Gr.timeout),clearTimeout(Gr.restoreFocusTimeout);const a=TLe(Pu);return Gte(Pu,n),Hn.innerParams.set(Pu,n),ELe(Pu,a,n)}then(e){return FG(ij,this).then(e)}finally(e){return FG(ij,this).finally(e)}}const ELe=(t,e,s)=>new Promise((n,a)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o,isConfirmed:!1,isDenied:!1})};ib.swalPromiseResolve.set(t,n),ib.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{TIe(t)},e.denyButton.onclick=()=>{BIe(t)},e.cancelButton.onclick=()=>{MIe(t,i)},e.closeButton.onclick=()=>{i(Bb.close)},zIe(s,e,i),JPe(Gr,s,i),vIe(t,s),vLe(s),BLe(Gr,s,i),MLe(e,s),setTimeout(()=>{e.container.scrollTop=0})}),kLe=(t,e)=>{const s=hLe(t),n=Object.assign({},ug,e,s,t);return n.showClass=Object.assign({},ug.showClass,n.showClass),n.hideClass=Object.assign({},ug.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},TLe=t=>{const e={popup:Ws(),container:ll(),actions:gw(),confirmButton:ah(),denyButton:Px(),cancelButton:kb(),loader:Tb(),closeButton:fL(),validationMessage:b4(),progressSteps:hL()};return Hn.domCache.set(t,e),e},BLe=(t,e,s)=>{const n=y4();Oo(n),e.timer&&(t.timeout=new uLe(()=>{s("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Ii(n),bc(n,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&AL(e.timer)})))},MLe=(t,e)=>{if(!e.toast){if(!g4(e.allowEnterKey)){Bte("allowEnterKey"),ILe();return}FLe(t)||PLe(t,e)||BF(-1,1)}},FLe=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const s of e)if(s instanceof HTMLElement&&Dl(s))return s.focus(),!0;return!1},PLe=(t,e)=>e.focusDeny&&Dl(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Dl(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Dl(t.confirmButton)?(t.confirmButton.focus(),!0):!1,ILe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ha.prototype.disableButtons=ire;Ha.prototype.enableButtons=are;Ha.prototype.getInput=rre;Ha.prototype.disableInput=lre;Ha.prototype.enableInput=ore;Ha.prototype.hideLoading=$5;Ha.prototype.disableLoading=$5;Ha.prototype.showValidationMessage=cre;Ha.prototype.resetValidationMessage=dre;Ha.prototype.close=Gm;Ha.prototype.closePopup=Gm;Ha.prototype.closeModal=Gm;Ha.prototype.closeToast=Gm;Ha.prototype.rejectPromise=Jte;Ha.prototype.update=pre;Ha.prototype._destroy=xre;Object.assign(Ha,dLe);Object.keys($Ie).forEach(t=>{Ha[t]=function(...e){return Pu&&Pu[t]?Pu[t](...e):null}});Ha.DismissReason=Bb;Ha.version="11.26.3";const Qr=Ha;Qr.default=Qr;typeof document<"u"&&(function(t,e){var s=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(s),s.styleSheet)s.styleSheet.disabled||(s.styleSheet.cssText=e);else try{s.innerHTML=e}catch{s.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var wre=1252,LLe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jL={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},NL=function(t){LLe.indexOf(t)!=-1&&(wre=jL[0]=t)};function DLe(){NL(1252)}var zd=function(t){NL(t)};function jre(){zd(1200),DLe()}function zG(t){for(var e=[],s=0,n=t.length;s<n;++s)e[s]=t.charCodeAt(s);return e}function RLe(t){for(var e=[],s=0;s<t.length>>1;++s)e[s]=String.fromCharCode(t.charCodeAt(2*s)+(t.charCodeAt(2*s+1)<<8));return e.join("")}function Nre(t){for(var e=[],s=0;s<t.length>>1;++s)e[s]=String.fromCharCode(t.charCodeAt(2*s+1)+(t.charCodeAt(2*s)<<8));return e.join("")}var Gy=function(t){var e=t.charCodeAt(0),s=t.charCodeAt(1);return e==255&&s==254?RLe(t.slice(2)):e==254&&s==255?Nre(t.slice(2)):e==65279?t.slice(1):t},oj=function(e){return String.fromCharCode(e)},GG=function(e){return String.fromCharCode(e)},B1,Vm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function VG(t){for(var e="",s=0,n=0,a=0,i=0,o=0,l=0,c=0,d=0;d<t.length;)s=t.charCodeAt(d++),i=s>>2,n=t.charCodeAt(d++),o=(s&3)<<4|n>>4,a=t.charCodeAt(d++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),e+=Vm.charAt(i)+Vm.charAt(o)+Vm.charAt(l)+Vm.charAt(c);return e}function yc(t){var e="",s=0,n=0,a=0,i=0,o=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)i=Vm.indexOf(t.charAt(d++)),o=Vm.indexOf(t.charAt(d++)),s=i<<2|o>>4,e+=String.fromCharCode(s),l=Vm.indexOf(t.charAt(d++)),n=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=Vm.indexOf(t.charAt(d++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var Ms=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ix=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,s){return s?new Buffer(e,s):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function f0(t){return Ms?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function WG(t){return Ms?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ud=function(e){return Ms?Ix(e,"binary"):e.split("").map(function(s){return s.charCodeAt(0)&255})};function Lx(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],s=0;s<t.length;++s)e[s]=String.fromCharCode(t[s]);return e.join("")}function SL(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return SL(new Uint8Array(t));for(var e=new Array(t.length),s=0;s<t.length;++s)e[s]=t[s];return e}var Om=Ms?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ix(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,s=0;for(e=0;e<t.length;++e)s+=t[e].length;var n=new Uint8Array(s),a=0;for(e=0,s=0;e<t.length;s+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],s);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),s)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function OLe(t){for(var e=[],s=0,n=t.length+250,a=f0(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)a[s++]=o;else if(o<2048)a[s++]=192|o>>6&31,a[s++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++i)&1023;a[s++]=240|o>>8&7,a[s++]=128|o>>2&63,a[s++]=128|l>>6&15|(o&3)<<4,a[s++]=128|l&63}else a[s++]=224|o>>12&15,a[s++]=128|o>>6&63,a[s++]=128|o&63;s>n&&(e.push(a.slice(0,s)),s=0,a=f0(65535),n=65530)}return e.push(a.slice(0,s)),Om(e)}var al=/\u0000/g,Vy=/[\u0001-\u0006]/g;function hg(t){for(var e="",s=t.length-1;s>=0;)e+=t.charAt(s--);return e}function Gd(t,e){var s=""+t;return s.length>=e?s:Sa("0",e-s.length)+s}function CL(t,e){var s=""+t;return s.length>=e?s:Sa(" ",e-s.length)+s}function V5(t,e){var s=""+t;return s.length>=e?s:s+Sa(" ",e-s.length)}function ULe(t,e){var s=""+Math.round(t);return s.length>=e?s:Sa("0",e-s.length)+s}function HLe(t,e){var s=""+t;return s.length>=e?s:Sa("0",e-s.length)+s}var qG=Math.pow(2,32);function BA(t,e){if(t>qG||t<-qG)return ULe(t,e);var s=Math.round(t);return HLe(s,e)}function W5(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var KG=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],V6=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function QLe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var hs={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},XG={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$Le={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function q5(t,e,s){for(var n=t<0?-1:1,a=t*n,i=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(a);d<e&&(h=Math.floor(a),l=h*o+i,u=h*d+c,!(a-h<5e-8));)a=1/(a-h),i=o,o=l,c=d,d=u;if(u>e&&(d>e?(u=c,l=i):(u=d,l=o)),!s)return[0,n*l,u];var m=Math.floor(n*l/u);return[m,n*l-m*u,u]}function Op(t,e,s){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,o=[],l={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=s?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=s?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),s&&(i=KLe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var Sre=new Date(1899,11,31,0,0,0),zLe=Sre.getTime(),GLe=new Date(1900,2,1,0,0,0);function Cre(t,e){var s=t.getTime();return e?s-=1461*24*60*60*1e3:t>=GLe&&(s+=1440*60*1e3),(s-(zLe+(t.getTimezoneOffset()-Sre.getTimezoneOffset())*6e4))/(1440*60*1e3)}function _L(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function VLe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function WLe(t){var e=t<0?12:11,s=_L(t.toFixed(12));return s.length<=e||(s=t.toPrecision(10),s.length<=e)?s:t.toExponential(5)}function qLe(t){var e=_L(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function M1(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),s;return e>=-4&&e<=-1?s=t.toPrecision(10+e):Math.abs(e)<=9?s=WLe(t):e===10?s=t.toFixed(10).substr(0,12):s=qLe(t),_L(VLe(s.toUpperCase()))}function bx(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):M1(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return id(14,Cre(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function KLe(t,e){e[0]-=581;var s=t.getDay();return t<60&&(s=(s+6)%7),s}function XLe(t,e,s,n){var a="",i=0,o=0,l=s.y,c,d=0;switch(t){case 98:l=s.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:c=s.m,d=e.length;break;case 3:return V6[s.m-1][1];case 5:return V6[s.m-1][0];default:return V6[s.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=s.d,d=e.length;break;case 3:return KG[s.q][0];default:return KG[s.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(s.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=s.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=s.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return s.u===0&&(e=="s"||e=="ss")?Gd(s.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(s.S+s.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(a=Gd(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=s.D*24+s.H;break;case"[m]":case"[mm]":c=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":c=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Gd(c,d):"";return u}function Wm(t){var e=3;if(t.length<=e)return t;for(var s=t.length%e,n=t.substr(0,s);s!=t.length;s+=e)n+=(n.length>0?",":"")+t.substr(s,e);return n}var _re=/%/g;function YLe(t,e,s){var n=e.replace(_re,""),a=e.length-n.length;return Sf(t,n,s*Math.pow(10,2*a))+Sa("%",a)}function JLe(t,e,s){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Sf(t,e.substr(0,n),s/Math.pow(10,3*(e.length-n)))}function Ere(t,e){var s,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Ere(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),s=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),s.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(o-s.length+i):s+="E+"+(o-i);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,a)+"."+s.substr(2+a),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else s=e.toExponential(n);return t.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),t.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var kre=/# (\?+)( ?)\/( ?)(\d+)/;function ZLe(t,e,s){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),o=a-i*n,l=n;return s+(i===0?"":""+i)+" "+(o===0?Sa(" ",t[1].length+1+t[4].length):CL(o,t[1].length)+t[2]+"/"+t[3]+Gd(l,t[4].length))}function eDe(t,e,s){return s+(e===0?"":""+e)+Sa(" ",t[1].length+2+t[4].length)}var Tre=/^#*0*\.([0#]+)/,Bre=/\).*[0#]/,Mre=/\(###\) ###\\?-####/;function Zo(t){for(var e="",s,n=0;n!=t.length;++n)switch(s=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(s)}return e}function YG(t,e){var s=Math.pow(10,e);return""+Math.round(t*s)/s}function JG(t,e){var s=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(s*n)).length?0:Math.round(s*n)}function tDe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function rDe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function zc(t,e,s){if(t.charCodeAt(0)===40&&!e.match(Bre)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?zc("n",n,s):"("+zc("n",n,-s)+")"}if(e.charCodeAt(e.length-1)===44)return JLe(t,e,s);if(e.indexOf("%")!==-1)return YLe(t,e,s);if(e.indexOf("E")!==-1)return Ere(e,s);if(e.charCodeAt(0)===36)return"$"+zc(t,e.substr(e.charAt(1)==" "?2:1),s);var a,i,o,l,c=Math.abs(s),d=s<0?"-":"";if(e.match(/^00+$/))return d+BA(c,e.length);if(e.match(/^[#?]+$/))return a=BA(s,0),a==="0"&&(a=""),a.length>e.length?a:Zo(e.substr(0,e.length-a.length))+a;if(i=e.match(kre))return ZLe(i,c,d);if(e.match(/^#+0+$/))return d+BA(c,e.length-e.indexOf("0"));if(i=e.match(Tre))return a=YG(s,i[1].length).replace(/^([^\.]+)$/,"$1."+Zo(i[1])).replace(/\.$/,"."+Zo(i[1])).replace(/\.(\d*)$/,function(x,A){return"."+A+Sa("0",Zo(i[1]).length-A.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+YG(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+Wm(BA(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+zc(t,e,-s):Wm(""+(Math.floor(s)+tDe(s,i[1].length)))+"."+Gd(JG(s,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return zc(t,e.replace(/^#,#*,/,""),s);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=hg(zc(t,e.replace(/[\\-]/g,""),s)),o=0,hg(hg(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(e.match(Mre))return a=zc(t,"##########",s),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=q5(c,Math.pow(10,o)-1,!1),a=""+d,u=Sf("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=V5(l[2],o),u.length<i[4].length&&(u=Zo(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=q5(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?CL(l[1],o)+i[2]+"/"+i[3]+V5(l[2],o):Sa(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=BA(s,0),e.length<=a.length?a:Zo(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,m=e.length-a.length-h;return Zo(e.substr(0,h)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=JG(s,i[1].length),s<0?"-"+zc(t,e,-s):Wm(rDe(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Gd(0,3-x.length):"")+x})+"."+Gd(o,i[1].length);switch(e){case"###,##0.00":return zc(t,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var f=Wm(BA(c,0));return f!=="0"?d+f:"";case"###,###.00":return zc(t,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return zc(t,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function sDe(t,e,s){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Sf(t,e.substr(0,n),s/Math.pow(10,3*(e.length-n)))}function nDe(t,e,s){var n=e.replace(_re,""),a=e.length-n.length;return Sf(t,n,s*Math.pow(10,2*a))+Sa("%",a)}function Fre(t,e){var s,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Fre(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),s=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!s.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(o-s.length+i):s+="E+"+(o-i),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else s=e.toExponential(n);return t.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),t.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function Bu(t,e,s){if(t.charCodeAt(0)===40&&!e.match(Bre)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?Bu("n",n,s):"("+Bu("n",n,-s)+")"}if(e.charCodeAt(e.length-1)===44)return sDe(t,e,s);if(e.indexOf("%")!==-1)return nDe(t,e,s);if(e.indexOf("E")!==-1)return Fre(e,s);if(e.charCodeAt(0)===36)return"$"+Bu(t,e.substr(e.charAt(1)==" "?2:1),s);var a,i,o,l,c=Math.abs(s),d=s<0?"-":"";if(e.match(/^00+$/))return d+Gd(c,e.length);if(e.match(/^[#?]+$/))return a=""+s,s===0&&(a=""),a.length>e.length?a:Zo(e.substr(0,e.length-a.length))+a;if(i=e.match(kre))return eDe(i,c,d);if(e.match(/^#+0+$/))return d+Gd(c,e.length-e.indexOf("0"));if(i=e.match(Tre))return a=(""+s).replace(/^([^\.]+)$/,"$1."+Zo(i[1])).replace(/\.$/,"."+Zo(i[1])),a=a.replace(/\.(\d*)$/,function(x,A){return"."+A+Sa("0",Zo(i[1]).length-A.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+Wm(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+Bu(t,e,-s):Wm(""+s)+"."+Sa("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Bu(t,e.replace(/^#,#*,/,""),s);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=hg(Bu(t,e.replace(/[\\-]/g,""),s)),o=0,hg(hg(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(e.match(Mre))return a=Bu(t,"##########",s),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=q5(c,Math.pow(10,o)-1,!1),a=""+d,u=Sf("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=V5(l[2],o),u.length<i[4].length&&(u=Zo(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=q5(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?CL(l[1],o)+i[2]+"/"+i[3]+V5(l[2],o):Sa(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+s,e.length<=a.length?a:Zo(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+s.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,m=e.length-a.length-h;return Zo(e.substr(0,h)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return s<0?"-"+Bu(t,e,-s):Wm(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Gd(0,3-x.length):"")+x})+"."+Gd(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=Wm(""+c);return f!=="0"?d+f:"";default:if(e.match(/\.[0#?]*$/))return Bu(t,e.slice(0,e.lastIndexOf(".")),s)+Zo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Sf(t,e,s){return(s|0)===s?Bu(t,e,s):zc(t,e,s)}function aDe(t){for(var e=[],s=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:s=!s;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),s===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Pre=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Mb(t){for(var e=0,s="",n="";e<t.length;)switch(s=t.charAt(e)){case"G":W5(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=s;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Pre))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(s=t.charAt(++e))>-1||s=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===s;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function iDe(t,e,s,n){for(var a=[],i="",o=0,l="",c="t",d,u,h,m="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!W5(t,o))throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++o;break;case"\\":var f=t.charAt(++o),x=f==="("||f===")"?f:"t";a[a.length]={t:x,v:f},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=Op(e,s,t.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:t.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=Op(e,s),d==null))return"";for(i=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var A={t:l,v:l};if(d==null&&(d=Op(e,s)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(A.v=d.H>=12?"P":"A"),A.t="T",m="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(A.v=d.H>=12?"PM":"AM"),A.t="T",o+=5,m="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(A.v=d.H>=12?"":""),A.t="T",o+=5,m="h"):(A.t="t",++o),d==null&&A.t==="T")return"";a[a.length]=A,c=l;break;case"[":for(i=l;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Pre)){if(d==null&&(d=Op(e,s),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Mb(t)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<t.length&&(l=t.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"t",v:l},++o;break}var g=0,b=0,w;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",g<1&&(g=1);break;case"s":(w=a[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var v="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=XLe(a[o].t.charCodeAt(0),a[o].v,d,b),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;v+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=bx(e,s);break}var N="",S,T;if(v.length>0){v.charCodeAt(0)==40?(S=e<0&&v.charCodeAt(0)===45?-e:e,T=Sf("n",v,S)):(S=e<0&&n>1?-e:e,T=Sf("n",v,S),S<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),j=T.length-1;var I=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){I=o;break}var _=a.length;if(I===a.length&&T.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=T.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=T.substr(0,j+1),j=-1),a[o].t="t",_=o);j>=0&&_<a.length&&(a[_].v=T.substr(0,j+1)+a[_].v)}else if(I!==a.length&&T.indexOf("E")===-1){for(j=T.indexOf(".")-1,o=I;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)j>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=T.charAt(j--)+N);a[o].v=N,a[o].t="t",_=o}for(j>=0&&_<a.length&&(a[_].v=T.substr(0,j+1)+a[_].v),j=T.indexOf(".")+1,o=I;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==I)){for(u=a[o].v.indexOf(".")>-1&&o===I?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)j<T.length&&(N+=T.charAt(j++));a[o].v=N,a[o].t="t",_=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=n>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=Sf(a[o].t,a[o].v,S),a[o].t="t");var M="";for(o=0;o!==a.length;++o)a[o]!=null&&(M+=a[o].v);return M}var ZG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function eV(t,e){if(e==null)return!1;var s=parseFloat(e[2]);switch(e[1]){case"=":if(t==s)return!0;break;case">":if(t>s)return!0;break;case"<":if(t<s)return!0;break;case"<>":if(t!=s)return!0;break;case">=":if(t>=s)return!0;break;case"<=":if(t<=s)return!0;break}return!1}function oDe(t,e){var s=aDe(t),n=s.length,a=s[n-1].indexOf("@");if(n<4&&a>-1&&--n,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof e!="number")return[4,s.length===4||a>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=a>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=a>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=a>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var i=e>0?s[0]:e<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[n,i];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var o=s[0].match(ZG),l=s[1].match(ZG);return eV(e,o)?[n,s[0]]:eV(e,l)?[n,s[1]]:[n,s[o!=null&&l!=null?2:1]]}return[n,i]}function id(t,e,s){s==null&&(s={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&s.dateNF?n=s.dateNF:n=t;break;case"number":t==14&&s.dateNF?n=s.dateNF:n=(s.table!=null?s.table:hs)[t],n==null&&(n=s.table&&s.table[XG[t]]||hs[XG[t]]),n==null&&(n=$Le[t]||"General");break}if(W5(n,0))return bx(e,s);e instanceof Date&&(e=Cre(e,s.date1904));var a=oDe(n,e);if(W5(a[1]))return bx(e,s);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return iDe(a[1],e,s,a[0])}function Jp(t,e){if(typeof e!="number"){e=+e||-1;for(var s=0;s<392;++s){if(hs[s]==null){e<0&&(e=s);continue}if(hs[s]==t){e=s;break}}e<0&&(e=391)}return hs[e]=t,e}function Ire(){hs=QLe()}var lDe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Lre=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function cDe(t){var e=typeof t=="number"?hs[t]:t;return e=e.replace(Lre,"(\\d+)"),new RegExp("^"+e+"$")}function dDe(t,e,s){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(e.match(Lre)||[]).forEach(function(h,m){var f=parseInt(s[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=f;break;case"d":i=f;break;case"h":o=f;break;case"s":c=f;break;case"m":o>=0?l=f:a=f;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:n==-1&&a==-1&&i==-1?u:d+"T"+u}var uDe=(function(){var t={};t.version="1.2.0";function e(){for(var T=0,I=new Array(256),_=0;_!=256;++_)T=_,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,I[_]=T;return typeof Int32Array<"u"?new Int32Array(I):I}var s=e();function n(T){var I=0,_=0,M=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)C[M]=T[M];for(M=0;M!=256;++M)for(_=T[M],I=256+M;I<4096;I+=256)_=C[I]=_>>>8^T[_&255];var B=[];for(M=1;M!=16;++M)B[M-1]=typeof Int32Array<"u"?C.subarray(M*256,M*256+256):C.slice(M*256,M*256+256);return B}var a=n(s),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],h=a[6],m=a[7],f=a[8],x=a[9],A=a[10],g=a[11],b=a[12],w=a[13],v=a[14];function j(T,I){for(var _=I^-1,M=0,C=T.length;M<C;)_=_>>>8^s[(_^T.charCodeAt(M++))&255];return~_}function N(T,I){for(var _=I^-1,M=T.length-15,C=0;C<M;)_=v[T[C++]^_&255]^w[T[C++]^_>>8&255]^b[T[C++]^_>>16&255]^g[T[C++]^_>>>24]^A[T[C++]]^x[T[C++]]^f[T[C++]]^m[T[C++]]^h[T[C++]]^u[T[C++]]^d[T[C++]]^c[T[C++]]^l[T[C++]]^o[T[C++]]^i[T[C++]]^s[T[C++]];for(M+=15;C<M;)_=_>>>8^s[(_^T[C++])&255];return~_}function S(T,I){for(var _=I^-1,M=0,C=T.length,B=0,P=0;M<C;)B=T.charCodeAt(M++),B<128?_=_>>>8^s[(_^B)&255]:B<2048?(_=_>>>8^s[(_^(192|B>>6&31))&255],_=_>>>8^s[(_^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,P=T.charCodeAt(M++)&1023,_=_>>>8^s[(_^(240|B>>8&7))&255],_=_>>>8^s[(_^(128|B>>2&63))&255],_=_>>>8^s[(_^(128|P>>6&15|(B&3)<<4))&255],_=_>>>8^s[(_^(128|P&63))&255]):(_=_>>>8^s[(_^(224|B>>12&15))&255],_=_>>>8^s[(_^(128|B>>6&63))&255],_=_>>>8^s[(_^(128|B&63))&255]);return~_}return t.table=s,t.bstr=j,t.buf=N,t.str=S,t})(),Ps=(function(){var e={};e.version="1.2.1";function s(me,Fe){for(var Ee=me.split("/"),Te=Fe.split("/"),Ie=0,De=0,pt=Math.min(Ee.length,Te.length);Ie<pt;++Ie){if(De=Ee[Ie].length-Te[Ie].length)return De;if(Ee[Ie]!=Te[Ie])return Ee[Ie]<Te[Ie]?-1:1}return Ee.length-Te.length}function n(me){if(me.charAt(me.length-1)=="/")return me.slice(0,-1).indexOf("/")===-1?me:n(me.slice(0,-1));var Fe=me.lastIndexOf("/");return Fe===-1?me:me.slice(0,Fe+1)}function a(me){if(me.charAt(me.length-1)=="/")return a(me.slice(0,-1));var Fe=me.lastIndexOf("/");return Fe===-1?me:me.slice(Fe+1)}function i(me,Fe){typeof Fe=="string"&&(Fe=new Date(Fe));var Ee=Fe.getHours();Ee=Ee<<6|Fe.getMinutes(),Ee=Ee<<5|Fe.getSeconds()>>>1,me.write_shift(2,Ee);var Te=Fe.getFullYear()-1980;Te=Te<<4|Fe.getMonth()+1,Te=Te<<5|Fe.getDate(),me.write_shift(2,Te)}function o(me){var Fe=me.read_shift(2)&65535,Ee=me.read_shift(2)&65535,Te=new Date,Ie=Ee&31;Ee>>>=5;var De=Ee&15;Ee>>>=4,Te.setMilliseconds(0),Te.setFullYear(Ee+1980),Te.setMonth(De-1),Te.setDate(Ie);var pt=Fe&31;Fe>>>=5;var Et=Fe&63;return Fe>>>=6,Te.setHours(Fe),Te.setMinutes(Et),Te.setSeconds(pt<<1),Te}function l(me){Ki(me,0);for(var Fe={},Ee=0;me.l<=me.length-4;){var Te=me.read_shift(2),Ie=me.read_shift(2),De=me.l+Ie,pt={};switch(Te){case 21589:Ee=me.read_shift(1),Ee&1&&(pt.mtime=me.read_shift(4)),Ie>5&&(Ee&2&&(pt.atime=me.read_shift(4)),Ee&4&&(pt.ctime=me.read_shift(4))),pt.mtime&&(pt.mt=new Date(pt.mtime*1e3));break}me.l=De,Fe[Te]=pt}return Fe}var c;function d(){return c||(c={})}function u(me,Fe){if(me[0]==80&&me[1]==75)return Me(me,Fe);if((me[0]|32)==109&&(me[1]|32)==105)return or(me,Fe);if(me.length<512)throw new Error("CFB file size "+me.length+" < 512");var Ee=3,Te=512,Ie=0,De=0,pt=0,Et=0,bt=0,vt=[],Nt=me.slice(0,512);Ki(Nt,0);var pe=h(Nt);switch(Ee=pe[0],Ee){case 3:Te=512;break;case 4:Te=4096;break;case 0:if(pe[1]==0)return Me(me,Fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ee)}Te!==512&&(Nt=me.slice(0,Te),Ki(Nt,28));var ze=me.slice(0,Te);m(Nt,Ee);var Ye=Nt.read_shift(4,"i");if(Ee===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);Nt.l+=4,pt=Nt.read_shift(4,"i"),Nt.l+=4,Nt.chk("00100000","Mini Stream Cutoff Size: "),Et=Nt.read_shift(4,"i"),Ie=Nt.read_shift(4,"i"),bt=Nt.read_shift(4,"i"),De=Nt.read_shift(4,"i");for(var le=-1,Ne=0;Ne<109&&(le=Nt.read_shift(4,"i"),!(le<0));++Ne)vt[Ne]=le;var de=f(me,Te);g(bt,De,de,Te,vt);var Ue=w(de,pt,vt,Te);Ue[pt].name="!Directory",Ie>0&&Et!==P&&(Ue[Et].name="!MiniFAT"),Ue[vt[0]].name="!FAT",Ue.fat_addrs=vt,Ue.ssz=Te;var qe={},dt=[],Gt=[],Mt=[];v(pt,Ue,de,dt,Ie,qe,Gt,Et),x(Gt,Mt,dt),dt.shift();var Ot={FileIndex:Gt,FullPaths:Mt};return Fe&&Fe.raw&&(Ot.raw={header:ze,sectors:de}),Ot}function h(me){if(me[me.l]==80&&me[me.l+1]==75)return[0,0];me.chk(H,"Header Signature: "),me.l+=16;var Fe=me.read_shift(2,"u");return[me.read_shift(2,"u"),Fe]}function m(me,Fe){var Ee=9;switch(me.l+=2,Ee=me.read_shift(2)){case 9:if(Fe!=3)throw new Error("Sector Shift: Expected 9 saw "+Ee);break;case 12:if(Fe!=4)throw new Error("Sector Shift: Expected 12 saw "+Ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ee)}me.chk("0600","Mini Sector Shift: "),me.chk("000000000000","Reserved: ")}function f(me,Fe){for(var Ee=Math.ceil(me.length/Fe)-1,Te=[],Ie=1;Ie<Ee;++Ie)Te[Ie-1]=me.slice(Ie*Fe,(Ie+1)*Fe);return Te[Ee-1]=me.slice(Ee*Fe),Te}function x(me,Fe,Ee){for(var Te=0,Ie=0,De=0,pt=0,Et=0,bt=Ee.length,vt=[],Nt=[];Te<bt;++Te)vt[Te]=Nt[Te]=Te,Fe[Te]=Ee[Te];for(;Et<Nt.length;++Et)Te=Nt[Et],Ie=me[Te].L,De=me[Te].R,pt=me[Te].C,vt[Te]===Te&&(Ie!==-1&&vt[Ie]!==Ie&&(vt[Te]=vt[Ie]),De!==-1&&vt[De]!==De&&(vt[Te]=vt[De])),pt!==-1&&(vt[pt]=Te),Ie!==-1&&Te!=vt[Te]&&(vt[Ie]=vt[Te],Nt.lastIndexOf(Ie)<Et&&Nt.push(Ie)),De!==-1&&Te!=vt[Te]&&(vt[De]=vt[Te],Nt.lastIndexOf(De)<Et&&Nt.push(De));for(Te=1;Te<bt;++Te)vt[Te]===Te&&(De!==-1&&vt[De]!==De?vt[Te]=vt[De]:Ie!==-1&&vt[Ie]!==Ie&&(vt[Te]=vt[Ie]));for(Te=1;Te<bt;++Te)if(me[Te].type!==0){if(Et=Te,Et!=vt[Et])do Et=vt[Et],Fe[Te]=Fe[Et]+"/"+Fe[Te];while(Et!==0&&vt[Et]!==-1&&Et!=vt[Et]);vt[Te]=-1}for(Fe[0]+="/",Te=1;Te<bt;++Te)me[Te].type!==2&&(Fe[Te]+="/")}function A(me,Fe,Ee){for(var Te=me.start,Ie=me.size,De=[],pt=Te;Ee&&Ie>0&&pt>=0;)De.push(Fe.slice(pt*B,pt*B+B)),Ie-=B,pt=kp(Ee,pt*4);return De.length===0?li(0):Om(De).slice(0,me.size)}function g(me,Fe,Ee,Te,Ie){var De=P;if(me===P){if(Fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(me!==-1){var pt=Ee[me],Et=(Te>>>2)-1;if(!pt)return;for(var bt=0;bt<Et&&(De=kp(pt,bt*4))!==P;++bt)Ie.push(De);g(kp(pt,Te-4),Fe-1,Ee,Te,Ie)}}function b(me,Fe,Ee,Te,Ie){var De=[],pt=[];Ie||(Ie=[]);var Et=Te-1,bt=0,vt=0;for(bt=Fe;bt>=0;){Ie[bt]=!0,De[De.length]=bt,pt.push(me[bt]);var Nt=Ee[Math.floor(bt*4/Te)];if(vt=bt*4&Et,Te<4+vt)throw new Error("FAT boundary crossed: "+bt+" 4 "+Te);if(!me[Nt])break;bt=kp(me[Nt],vt)}return{nodes:De,data:dV([pt])}}function w(me,Fe,Ee,Te){var Ie=me.length,De=[],pt=[],Et=[],bt=[],vt=Te-1,Nt=0,pe=0,ze=0,Ye=0;for(Nt=0;Nt<Ie;++Nt)if(Et=[],ze=Nt+Fe,ze>=Ie&&(ze-=Ie),!pt[ze]){bt=[];var le=[];for(pe=ze;pe>=0;){le[pe]=!0,pt[pe]=!0,Et[Et.length]=pe,bt.push(me[pe]);var Ne=Ee[Math.floor(pe*4/Te)];if(Ye=pe*4&vt,Te<4+Ye)throw new Error("FAT boundary crossed: "+pe+" 4 "+Te);if(!me[Ne]||(pe=kp(me[Ne],Ye),le[pe]))break}De[ze]={nodes:Et,data:dV([bt])}}return De}function v(me,Fe,Ee,Te,Ie,De,pt,Et){for(var bt=0,vt=Te.length?2:0,Nt=Fe[me].data,pe=0,ze=0,Ye;pe<Nt.length;pe+=128){var le=Nt.slice(pe,pe+128);Ki(le,64),ze=le.read_shift(2),Ye=ML(le,0,ze-vt),Te.push(Ye);var Ne={name:Ye,type:le.read_shift(1),color:le.read_shift(1),L:le.read_shift(4,"i"),R:le.read_shift(4,"i"),C:le.read_shift(4,"i"),clsid:le.read_shift(16),state:le.read_shift(4,"i"),start:0,size:0},de=le.read_shift(2)+le.read_shift(2)+le.read_shift(2)+le.read_shift(2);de!==0&&(Ne.ct=j(le,le.l-8));var Ue=le.read_shift(2)+le.read_shift(2)+le.read_shift(2)+le.read_shift(2);Ue!==0&&(Ne.mt=j(le,le.l-8)),Ne.start=le.read_shift(4,"i"),Ne.size=le.read_shift(4,"i"),Ne.size<0&&Ne.start<0&&(Ne.size=Ne.type=0,Ne.start=P,Ne.name=""),Ne.type===5?(bt=Ne.start,Ie>0&&bt!==P&&(Fe[bt].name="!StreamData")):Ne.size>=4096?(Ne.storage="fat",Fe[Ne.start]===void 0&&(Fe[Ne.start]=b(Ee,Ne.start,Fe.fat_addrs,Fe.ssz)),Fe[Ne.start].name=Ne.name,Ne.content=Fe[Ne.start].data.slice(0,Ne.size)):(Ne.storage="minifat",Ne.size<0?Ne.size=0:bt!==P&&Ne.start!==P&&Fe[bt]&&(Ne.content=A(Ne,Fe[bt].data,(Fe[Et]||{}).data))),Ne.content&&Ki(Ne.content,0),De[Ye]=Ne,pt.push(Ne)}}function j(me,Fe){return new Date((oc(me,Fe+4)/1e7*Math.pow(2,32)+oc(me,Fe)/1e7-11644473600)*1e3)}function N(me,Fe){return d(),u(c.readFileSync(me),Fe)}function S(me,Fe){var Ee=Fe&&Fe.type;switch(Ee||Ms&&Buffer.isBuffer(me)&&(Ee="buffer"),Ee||"base64"){case"file":return N(me,Fe);case"base64":return u(Ud(yc(me)),Fe);case"binary":return u(Ud(me),Fe)}return u(me,Fe)}function T(me,Fe){var Ee=Fe||{},Te=Ee.root||"Root Entry";if(me.FullPaths||(me.FullPaths=[]),me.FileIndex||(me.FileIndex=[]),me.FullPaths.length!==me.FileIndex.length)throw new Error("inconsistent CFB structure");me.FullPaths.length===0&&(me.FullPaths[0]=Te+"/",me.FileIndex[0]={name:Te,type:5}),Ee.CLSID&&(me.FileIndex[0].clsid=Ee.CLSID),I(me)}function I(me){var Fe="Sh33tJ5";if(!Ps.find(me,"/"+Fe)){var Ee=li(4);Ee[0]=55,Ee[1]=Ee[3]=50,Ee[2]=54,me.FileIndex.push({name:Fe,type:2,content:Ee,size:4,L:69,R:69,C:69}),me.FullPaths.push(me.FullPaths[0]+Fe),_(me)}}function _(me,Fe){T(me);for(var Ee=!1,Te=!1,Ie=me.FullPaths.length-1;Ie>=0;--Ie){var De=me.FileIndex[Ie];switch(De.type){case 0:Te?Ee=!0:(me.FileIndex.pop(),me.FullPaths.pop());break;case 1:case 2:case 5:Te=!0,isNaN(De.R*De.L*De.C)&&(Ee=!0),De.R>-1&&De.L>-1&&De.R==De.L&&(Ee=!0);break;default:Ee=!0;break}}if(!(!Ee&&!Fe)){var pt=new Date(1987,1,19),Et=0,bt=Object.create?Object.create(null):{},vt=[];for(Ie=0;Ie<me.FullPaths.length;++Ie)bt[me.FullPaths[Ie]]=!0,me.FileIndex[Ie].type!==0&&vt.push([me.FullPaths[Ie],me.FileIndex[Ie]]);for(Ie=0;Ie<vt.length;++Ie){var Nt=n(vt[Ie][0]);Te=bt[Nt],Te||(vt.push([Nt,{name:a(Nt).replace("/",""),type:1,clsid:G,ct:pt,mt:pt,content:null}]),bt[Nt]=!0)}for(vt.sort(function(Ye,le){return s(Ye[0],le[0])}),me.FullPaths=[],me.FileIndex=[],Ie=0;Ie<vt.length;++Ie)me.FullPaths[Ie]=vt[Ie][0],me.FileIndex[Ie]=vt[Ie][1];for(Ie=0;Ie<vt.length;++Ie){var pe=me.FileIndex[Ie],ze=me.FullPaths[Ie];if(pe.name=a(ze).replace("/",""),pe.L=pe.R=pe.C=-(pe.color=1),pe.size=pe.content?pe.content.length:0,pe.start=0,pe.clsid=pe.clsid||G,Ie===0)pe.C=vt.length>1?1:-1,pe.size=0,pe.type=5;else if(ze.slice(-1)=="/"){for(Et=Ie+1;Et<vt.length&&n(me.FullPaths[Et])!=ze;++Et);for(pe.C=Et>=vt.length?-1:Et,Et=Ie+1;Et<vt.length&&n(me.FullPaths[Et])!=n(ze);++Et);pe.R=Et>=vt.length?-1:Et,pe.type=1}else n(me.FullPaths[Ie+1]||"")==n(ze)&&(pe.R=Ie+1),pe.type=2}}}function M(me,Fe){var Ee=Fe||{};if(Ee.fileType=="mad")return Jr(me,Ee);switch(_(me),Ee.fileType){case"zip":return Ge(me,Ee)}var Te=(function(Ye){for(var le=0,Ne=0,de=0;de<Ye.FileIndex.length;++de){var Ue=Ye.FileIndex[de];if(Ue.content){var qe=Ue.content.length;qe>0&&(qe<4096?le+=qe+63>>6:Ne+=qe+511>>9)}}for(var dt=Ye.FullPaths.length+3>>2,Gt=le+7>>3,Mt=le+127>>7,Ot=Gt+Ne+dt+Mt,qt=Ot+127>>7,Kt=qt<=109?0:Math.ceil((qt-109)/127);Ot+qt+Kt+127>>7>qt;)Kt=++qt<=109?0:Math.ceil((qt-109)/127);var rr=[1,Kt,qt,Mt,dt,Ne,le,0];return Ye.FileIndex[0].size=le<<6,rr[7]=(Ye.FileIndex[0].start=rr[0]+rr[1]+rr[2]+rr[3]+rr[4]+rr[5])+(rr[6]+7>>3),rr})(me),Ie=li(Te[7]<<9),De=0,pt=0;{for(De=0;De<8;++De)Ie.write_shift(1,D[De]);for(De=0;De<8;++De)Ie.write_shift(2,0);for(Ie.write_shift(2,62),Ie.write_shift(2,3),Ie.write_shift(2,65534),Ie.write_shift(2,9),Ie.write_shift(2,6),De=0;De<3;++De)Ie.write_shift(2,0);for(Ie.write_shift(4,0),Ie.write_shift(4,Te[2]),Ie.write_shift(4,Te[0]+Te[1]+Te[2]+Te[3]-1),Ie.write_shift(4,0),Ie.write_shift(4,4096),Ie.write_shift(4,Te[3]?Te[0]+Te[1]+Te[2]-1:P),Ie.write_shift(4,Te[3]),Ie.write_shift(-4,Te[1]?Te[0]-1:P),Ie.write_shift(4,Te[1]),De=0;De<109;++De)Ie.write_shift(-4,De<Te[2]?Te[1]+De:-1)}if(Te[1])for(pt=0;pt<Te[1];++pt){for(;De<236+pt*127;++De)Ie.write_shift(-4,De<Te[2]?Te[1]+De:-1);Ie.write_shift(-4,pt===Te[1]-1?P:pt+1)}var Et=function(Ye){for(pt+=Ye;De<pt-1;++De)Ie.write_shift(-4,De+1);Ye&&(++De,Ie.write_shift(-4,P))};for(pt=De=0,pt+=Te[1];De<pt;++De)Ie.write_shift(-4,O.DIFSECT);for(pt+=Te[2];De<pt;++De)Ie.write_shift(-4,O.FATSECT);Et(Te[3]),Et(Te[4]);for(var bt=0,vt=0,Nt=me.FileIndex[0];bt<me.FileIndex.length;++bt)Nt=me.FileIndex[bt],Nt.content&&(vt=Nt.content.length,!(vt<4096)&&(Nt.start=pt,Et(vt+511>>9)));for(Et(Te[6]+7>>3);Ie.l&511;)Ie.write_shift(-4,O.ENDOFCHAIN);for(pt=De=0,bt=0;bt<me.FileIndex.length;++bt)Nt=me.FileIndex[bt],Nt.content&&(vt=Nt.content.length,!(!vt||vt>=4096)&&(Nt.start=pt,Et(vt+63>>6)));for(;Ie.l&511;)Ie.write_shift(-4,O.ENDOFCHAIN);for(De=0;De<Te[4]<<2;++De){var pe=me.FullPaths[De];if(!pe||pe.length===0){for(bt=0;bt<17;++bt)Ie.write_shift(4,0);for(bt=0;bt<3;++bt)Ie.write_shift(4,-1);for(bt=0;bt<12;++bt)Ie.write_shift(4,0);continue}Nt=me.FileIndex[De],De===0&&(Nt.start=Nt.size?Nt.start-1:P);var ze=De===0&&Ee.root||Nt.name;if(vt=2*(ze.length+1),Ie.write_shift(64,ze,"utf16le"),Ie.write_shift(2,vt),Ie.write_shift(1,Nt.type),Ie.write_shift(1,Nt.color),Ie.write_shift(-4,Nt.L),Ie.write_shift(-4,Nt.R),Ie.write_shift(-4,Nt.C),Nt.clsid)Ie.write_shift(16,Nt.clsid,"hex");else for(bt=0;bt<4;++bt)Ie.write_shift(4,0);Ie.write_shift(4,Nt.state||0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,0),Ie.write_shift(4,Nt.start),Ie.write_shift(4,Nt.size),Ie.write_shift(4,0)}for(De=1;De<me.FileIndex.length;++De)if(Nt=me.FileIndex[De],Nt.size>=4096)if(Ie.l=Nt.start+1<<9,Ms&&Buffer.isBuffer(Nt.content))Nt.content.copy(Ie,Ie.l,0,Nt.size),Ie.l+=Nt.size+511&-512;else{for(bt=0;bt<Nt.size;++bt)Ie.write_shift(1,Nt.content[bt]);for(;bt&511;++bt)Ie.write_shift(1,0)}for(De=1;De<me.FileIndex.length;++De)if(Nt=me.FileIndex[De],Nt.size>0&&Nt.size<4096)if(Ms&&Buffer.isBuffer(Nt.content))Nt.content.copy(Ie,Ie.l,0,Nt.size),Ie.l+=Nt.size+63&-64;else{for(bt=0;bt<Nt.size;++bt)Ie.write_shift(1,Nt.content[bt]);for(;bt&63;++bt)Ie.write_shift(1,0)}if(Ms)Ie.l=Ie.length;else for(;Ie.l<Ie.length;)Ie.write_shift(1,0);return Ie}function C(me,Fe){var Ee=me.FullPaths.map(function(bt){return bt.toUpperCase()}),Te=Ee.map(function(bt){var vt=bt.split("/");return vt[vt.length-(bt.slice(-1)=="/"?2:1)]}),Ie=!1;Fe.charCodeAt(0)===47?(Ie=!0,Fe=Ee[0].slice(0,-1)+Fe):Ie=Fe.indexOf("/")!==-1;var De=Fe.toUpperCase(),pt=Ie===!0?Ee.indexOf(De):Te.indexOf(De);if(pt!==-1)return me.FileIndex[pt];var Et=!De.match(Vy);for(De=De.replace(al,""),Et&&(De=De.replace(Vy,"!")),pt=0;pt<Ee.length;++pt)if((Et?Ee[pt].replace(Vy,"!"):Ee[pt]).replace(al,"")==De||(Et?Te[pt].replace(Vy,"!"):Te[pt]).replace(al,"")==De)return me.FileIndex[pt];return null}var B=64,P=-2,H="d0cf11e0a1b11ae1",D=[208,207,17,224,161,177,26,225],G="00000000000000000000000000000000",O={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:G,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(me,Fe,Ee){d();var Te=M(me,Ee);c.writeFileSync(Fe,Te)}function ee(me){for(var Fe=new Array(me.length),Ee=0;Ee<me.length;++Ee)Fe[Ee]=String.fromCharCode(me[Ee]);return Fe.join("")}function q(me,Fe){var Ee=M(me,Fe);switch(Fe&&Fe.type||"buffer"){case"file":return d(),c.writeFileSync(Fe.filename,Ee),Ee;case"binary":return typeof Ee=="string"?Ee:ee(Ee);case"base64":return VG(typeof Ee=="string"?Ee:ee(Ee));case"buffer":if(Ms)return Buffer.isBuffer(Ee)?Ee:Ix(Ee);case"array":return typeof Ee=="string"?Ud(Ee):Ee}return Ee}var Z;function F(me){try{var Fe=me.InflateRaw,Ee=new Fe;if(Ee._processChunk(new Uint8Array([3,0]),Ee._finishFlushFlag),Ee.bytesRead)Z=me;else throw new Error("zlib does not expose bytesRead")}catch(Te){console.error("cannot use native zlib: "+(Te.message||Te))}}function z(me,Fe){if(!Z)return ye(me,Fe);var Ee=Z.InflateRaw,Te=new Ee,Ie=Te._processChunk(me.slice(me.l),Te._finishFlushFlag);return me.l+=Te.bytesRead,Ie}function V(me){return Z?Z.deflateRawSync(me):Tt(me)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function be(me){var Fe=(me<<1|me<<11)&139536|(me<<5|me<<15)&558144;return(Fe>>16|Fe>>8|Fe)&255}for(var ue=typeof Uint8Array<"u",je=ue?new Uint8Array(256):[],Be=0;Be<256;++Be)je[Be]=be(Be);function oe(me,Fe){var Ee=je[me&255];return Fe<=8?Ee>>>8-Fe:(Ee=Ee<<8|je[me>>8&255],Fe<=16?Ee>>>16-Fe:(Ee=Ee<<8|je[me>>16&255],Ee>>>24-Fe))}function lt(me,Fe){var Ee=Fe&7,Te=Fe>>>3;return(me[Te]|(Ee<=6?0:me[Te+1]<<8))>>>Ee&3}function se(me,Fe){var Ee=Fe&7,Te=Fe>>>3;return(me[Te]|(Ee<=5?0:me[Te+1]<<8))>>>Ee&7}function J(me,Fe){var Ee=Fe&7,Te=Fe>>>3;return(me[Te]|(Ee<=4?0:me[Te+1]<<8))>>>Ee&15}function Pe(me,Fe){var Ee=Fe&7,Te=Fe>>>3;return(me[Te]|(Ee<=3?0:me[Te+1]<<8))>>>Ee&31}function xe(me,Fe){var Ee=Fe&7,Te=Fe>>>3;return(me[Te]|(Ee<=1?0:me[Te+1]<<8))>>>Ee&127}function He(me,Fe,Ee){var Te=Fe&7,Ie=Fe>>>3,De=(1<<Ee)-1,pt=me[Ie]>>>Te;return Ee<8-Te||(pt|=me[Ie+1]<<8-Te,Ee<16-Te)||(pt|=me[Ie+2]<<16-Te,Ee<24-Te)||(pt|=me[Ie+3]<<24-Te),pt&De}function $e(me,Fe,Ee){var Te=Fe&7,Ie=Fe>>>3;return Te<=5?me[Ie]|=(Ee&7)<<Te:(me[Ie]|=Ee<<Te&255,me[Ie+1]=(Ee&7)>>8-Te),Fe+3}function Xe(me,Fe,Ee){var Te=Fe&7,Ie=Fe>>>3;return Ee=(Ee&1)<<Te,me[Ie]|=Ee,Fe+1}function he(me,Fe,Ee){var Te=Fe&7,Ie=Fe>>>3;return Ee<<=Te,me[Ie]|=Ee&255,Ee>>>=8,me[Ie+1]=Ee,Fe+8}function ce(me,Fe,Ee){var Te=Fe&7,Ie=Fe>>>3;return Ee<<=Te,me[Ie]|=Ee&255,Ee>>>=8,me[Ie+1]=Ee&255,me[Ie+2]=Ee>>>8,Fe+16}function _e(me,Fe){var Ee=me.length,Te=2*Ee>Fe?2*Ee:Fe+5,Ie=0;if(Ee>=Fe)return me;if(Ms){var De=WG(Te);if(me.copy)me.copy(De);else for(;Ie<me.length;++Ie)De[Ie]=me[Ie];return De}else if(ue){var pt=new Uint8Array(Te);if(pt.set)pt.set(me);else for(;Ie<Ee;++Ie)pt[Ie]=me[Ie];return pt}return me.length=Te,me}function Ke(me){for(var Fe=new Array(me),Ee=0;Ee<me;++Ee)Fe[Ee]=0;return Fe}function et(me,Fe,Ee){var Te=1,Ie=0,De=0,pt=0,Et=0,bt=me.length,vt=ue?new Uint16Array(32):Ke(32);for(De=0;De<32;++De)vt[De]=0;for(De=bt;De<Ee;++De)me[De]=0;bt=me.length;var Nt=ue?new Uint16Array(bt):Ke(bt);for(De=0;De<bt;++De)vt[Ie=me[De]]++,Te<Ie&&(Te=Ie),Nt[De]=0;for(vt[0]=0,De=1;De<=Te;++De)vt[De+16]=Et=Et+vt[De-1]<<1;for(De=0;De<bt;++De)Et=me[De],Et!=0&&(Nt[De]=vt[Et+16]++);var pe=0;for(De=0;De<bt;++De)if(pe=me[De],pe!=0)for(Et=oe(Nt[De],Te)>>Te-pe,pt=(1<<Te+4-pe)-1;pt>=0;--pt)Fe[Et|pt<<pe]=pe&15|De<<4;return Te}var st=ue?new Uint16Array(512):Ke(512),ot=ue?new Uint16Array(32):Ke(32);if(!ue){for(var mt=0;mt<512;++mt)st[mt]=0;for(mt=0;mt<32;++mt)ot[mt]=0}(function(){for(var me=[],Fe=0;Fe<32;Fe++)me.push(5);et(me,ot,32);var Ee=[];for(Fe=0;Fe<=143;Fe++)Ee.push(8);for(;Fe<=255;Fe++)Ee.push(9);for(;Fe<=279;Fe++)Ee.push(7);for(;Fe<=287;Fe++)Ee.push(8);et(Ee,st,288)})();var At=(function(){for(var Fe=ue?new Uint8Array(32768):[],Ee=0,Te=0;Ee<ie.length-1;++Ee)for(;Te<ie[Ee+1];++Te)Fe[Te]=Ee;for(;Te<32768;++Te)Fe[Te]=29;var Ie=ue?new Uint8Array(259):[];for(Ee=0,Te=0;Ee<ne.length-1;++Ee)for(;Te<ne[Ee+1];++Te)Ie[Te]=Ee;function De(Et,bt){for(var vt=0;vt<Et.length;){var Nt=Math.min(65535,Et.length-vt),pe=vt+Nt==Et.length;for(bt.write_shift(1,+pe),bt.write_shift(2,Nt),bt.write_shift(2,~Nt&65535);Nt-- >0;)bt[bt.l++]=Et[vt++]}return bt.l}function pt(Et,bt){for(var vt=0,Nt=0,pe=ue?new Uint16Array(32768):[];Nt<Et.length;){var ze=Math.min(65535,Et.length-Nt);if(ze<10){for(vt=$e(bt,vt,+(Nt+ze==Et.length)),vt&7&&(vt+=8-(vt&7)),bt.l=vt/8|0,bt.write_shift(2,ze),bt.write_shift(2,~ze&65535);ze-- >0;)bt[bt.l++]=Et[Nt++];vt=bt.l*8;continue}vt=$e(bt,vt,+(Nt+ze==Et.length)+2);for(var Ye=0;ze-- >0;){var le=Et[Nt];Ye=(Ye<<5^le)&32767;var Ne=-1,de=0;if((Ne=pe[Ye])&&(Ne|=Nt&-32768,Ne>Nt&&(Ne-=32768),Ne<Nt))for(;Et[Ne+de]==Et[Nt+de]&&de<250;)++de;if(de>2){le=Ie[de],le<=22?vt=he(bt,vt,je[le+1]>>1)-1:(he(bt,vt,3),vt+=5,he(bt,vt,je[le-23]>>5),vt+=3);var Ue=le<8?0:le-4>>2;Ue>0&&(ce(bt,vt,de-ne[le]),vt+=Ue),le=Fe[Nt-Ne],vt=he(bt,vt,je[le]>>3),vt-=3;var qe=le<4?0:le-2>>1;qe>0&&(ce(bt,vt,Nt-Ne-ie[le]),vt+=qe);for(var dt=0;dt<de;++dt)pe[Ye]=Nt&32767,Ye=(Ye<<5^Et[Nt])&32767,++Nt;ze-=de-1}else le<=143?le=le+48:vt=Xe(bt,vt,1),vt=he(bt,vt,je[le]),pe[Ye]=Nt&32767,++Nt}vt=he(bt,vt,0)-1}return bt.l=(vt+7)/8|0,bt.l}return function(bt,vt){return bt.length<8?De(bt,vt):pt(bt,vt)}})();function Tt(me){var Fe=li(50+Math.floor(me.length*1.1)),Ee=At(me,Fe);return Fe.slice(0,Ee)}var rt=ue?new Uint16Array(32768):Ke(32768),Dt=ue?new Uint16Array(32768):Ke(32768),Qt=ue?new Uint16Array(128):Ke(128),Yt=1,kt=1;function tt(me,Fe){var Ee=Pe(me,Fe)+257;Fe+=5;var Te=Pe(me,Fe)+1;Fe+=5;var Ie=J(me,Fe)+4;Fe+=4;for(var De=0,pt=ue?new Uint8Array(19):Ke(19),Et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],bt=1,vt=ue?new Uint8Array(8):Ke(8),Nt=ue?new Uint8Array(8):Ke(8),pe=pt.length,ze=0;ze<Ie;++ze)pt[W[ze]]=De=se(me,Fe),bt<De&&(bt=De),vt[De]++,Fe+=3;var Ye=0;for(vt[0]=0,ze=1;ze<=bt;++ze)Nt[ze]=Ye=Ye+vt[ze-1]<<1;for(ze=0;ze<pe;++ze)(Ye=pt[ze])!=0&&(Et[ze]=Nt[Ye]++);var le=0;for(ze=0;ze<pe;++ze)if(le=pt[ze],le!=0){Ye=je[Et[ze]]>>8-le;for(var Ne=(1<<7-le)-1;Ne>=0;--Ne)Qt[Ye|Ne<<le]=le&7|ze<<3}var de=[];for(bt=1;de.length<Ee+Te;)switch(Ye=Qt[xe(me,Fe)],Fe+=Ye&7,Ye>>>=3){case 16:for(De=3+lt(me,Fe),Fe+=2,Ye=de[de.length-1];De-- >0;)de.push(Ye);break;case 17:for(De=3+se(me,Fe),Fe+=3;De-- >0;)de.push(0);break;case 18:for(De=11+xe(me,Fe),Fe+=7;De-- >0;)de.push(0);break;default:de.push(Ye),bt<Ye&&(bt=Ye);break}var Ue=de.slice(0,Ee),qe=de.slice(Ee);for(ze=Ee;ze<286;++ze)Ue[ze]=0;for(ze=Te;ze<30;++ze)qe[ze]=0;return Yt=et(Ue,rt,286),kt=et(qe,Dt,30),Fe}function Ze(me,Fe){if(me[0]==3&&!(me[1]&3))return[f0(Fe),2];for(var Ee=0,Te=0,Ie=WG(Fe||1<<18),De=0,pt=Ie.length>>>0,Et=0,bt=0;(Te&1)==0;){if(Te=se(me,Ee),Ee+=3,Te>>>1)Te>>1==1?(Et=9,bt=5):(Ee=tt(me,Ee),Et=Yt,bt=kt);else{Ee&7&&(Ee+=8-(Ee&7));var vt=me[Ee>>>3]|me[(Ee>>>3)+1]<<8;if(Ee+=32,vt>0)for(!Fe&&pt<De+vt&&(Ie=_e(Ie,De+vt),pt=Ie.length);vt-- >0;)Ie[De++]=me[Ee>>>3],Ee+=8;continue}for(;;){!Fe&&pt<De+32767&&(Ie=_e(Ie,De+32767),pt=Ie.length);var Nt=He(me,Ee,Et),pe=Te>>>1==1?st[Nt]:rt[Nt];if(Ee+=pe&15,pe>>>=4,(pe>>>8&255)===0)Ie[De++]=pe;else{if(pe==256)break;pe-=257;var ze=pe<8?0:pe-4>>2;ze>5&&(ze=0);var Ye=De+ne[pe];ze>0&&(Ye+=He(me,Ee,ze),Ee+=ze),Nt=He(me,Ee,bt),pe=Te>>>1==1?ot[Nt]:Dt[Nt],Ee+=pe&15,pe>>>=4;var le=pe<4?0:pe-2>>1,Ne=ie[pe];for(le>0&&(Ne+=He(me,Ee,le),Ee+=le),!Fe&&pt<Ye&&(Ie=_e(Ie,Ye+100),pt=Ie.length);De<Ye;)Ie[De]=Ie[De-Ne],++De}}}return Fe?[Ie,Ee+7>>>3]:[Ie.slice(0,De),Ee+7>>>3]}function ye(me,Fe){var Ee=me.slice(me.l||0),Te=Ze(Ee,Fe);return me.l+=Te[1],Te[0]}function fe(me,Fe){if(me)typeof console<"u"&&console.error(Fe);else throw new Error(Fe)}function Me(me,Fe){var Ee=me;Ki(Ee,0);var Te=[],Ie=[],De={FileIndex:Te,FullPaths:Ie};T(De,{root:Fe.root});for(var pt=Ee.length-4;(Ee[pt]!=80||Ee[pt+1]!=75||Ee[pt+2]!=5||Ee[pt+3]!=6)&&pt>=0;)--pt;Ee.l=pt+4,Ee.l+=4;var Et=Ee.read_shift(2);Ee.l+=6;var bt=Ee.read_shift(4);for(Ee.l=bt,pt=0;pt<Et;++pt){Ee.l+=20;var vt=Ee.read_shift(4),Nt=Ee.read_shift(4),pe=Ee.read_shift(2),ze=Ee.read_shift(2),Ye=Ee.read_shift(2);Ee.l+=8;var le=Ee.read_shift(4),Ne=l(Ee.slice(Ee.l+pe,Ee.l+pe+ze));Ee.l+=pe+ze+Ye;var de=Ee.l;Ee.l=le+4,Le(Ee,vt,Nt,De,Ne),Ee.l=de}return De}function Le(me,Fe,Ee,Te,Ie){me.l+=2;var De=me.read_shift(2),pt=me.read_shift(2),Et=o(me);if(De&8257)throw new Error("Unsupported ZIP encryption");for(var bt=me.read_shift(4),vt=me.read_shift(4),Nt=me.read_shift(4),pe=me.read_shift(2),ze=me.read_shift(2),Ye="",le=0;le<pe;++le)Ye+=String.fromCharCode(me[me.l++]);if(ze){var Ne=l(me.slice(me.l,me.l+ze));(Ne[21589]||{}).mt&&(Et=Ne[21589].mt),((Ie||{})[21589]||{}).mt&&(Et=Ie[21589].mt)}me.l+=ze;var de=me.slice(me.l,me.l+vt);switch(pt){case 8:de=z(me,Nt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+pt)}var Ue=!1;De&8&&(bt=me.read_shift(4),bt==134695760&&(bt=me.read_shift(4),Ue=!0),vt=me.read_shift(4),Nt=me.read_shift(4)),vt!=Fe&&fe(Ue,"Bad compressed size: "+Fe+" != "+vt),Nt!=Ee&&fe(Ue,"Bad uncompressed size: "+Ee+" != "+Nt),Ct(Te,Ye,de,{unsafe:!0,mt:Et})}function Ge(me,Fe){var Ee=Fe||{},Te=[],Ie=[],De=li(1),pt=Ee.compression?8:0,Et=0,bt=0,vt=0,Nt=0,pe=0,ze=me.FullPaths[0],Ye=ze,le=me.FileIndex[0],Ne=[],de=0;for(bt=1;bt<me.FullPaths.length;++bt)if(Ye=me.FullPaths[bt].slice(ze.length),le=me.FileIndex[bt],!(!le.size||!le.content||Ye=="Sh33tJ5")){var Ue=Nt,qe=li(Ye.length);for(vt=0;vt<Ye.length;++vt)qe.write_shift(1,Ye.charCodeAt(vt)&127);qe=qe.slice(0,qe.l),Ne[pe]=uDe.buf(le.content,0);var dt=le.content;pt==8&&(dt=V(dt)),De=li(30),De.write_shift(4,67324752),De.write_shift(2,20),De.write_shift(2,Et),De.write_shift(2,pt),le.mt?i(De,le.mt):De.write_shift(4,0),De.write_shift(-4,Ne[pe]),De.write_shift(4,dt.length),De.write_shift(4,le.content.length),De.write_shift(2,qe.length),De.write_shift(2,0),Nt+=De.length,Te.push(De),Nt+=qe.length,Te.push(qe),Nt+=dt.length,Te.push(dt),De=li(46),De.write_shift(4,33639248),De.write_shift(2,0),De.write_shift(2,20),De.write_shift(2,Et),De.write_shift(2,pt),De.write_shift(4,0),De.write_shift(-4,Ne[pe]),De.write_shift(4,dt.length),De.write_shift(4,le.content.length),De.write_shift(2,qe.length),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(4,0),De.write_shift(4,Ue),de+=De.l,Ie.push(De),de+=qe.length,Ie.push(qe),++pe}return De=li(22),De.write_shift(4,101010256),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,pe),De.write_shift(2,pe),De.write_shift(4,de),De.write_shift(4,Nt),De.write_shift(2,0),Om([Om(Te),Om(Ie),De])}var ct={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ft(me,Fe){if(me.ctype)return me.ctype;var Ee=me.name||"",Te=Ee.match(/\.([^\.]+)$/);return Te&&ct[Te[1]]||Fe&&(Te=(Ee=Fe).match(/[\.\\]([^\.\\])+$/),Te&&ct[Te[1]])?ct[Te[1]]:"application/octet-stream"}function Ut(me){for(var Fe=VG(me),Ee=[],Te=0;Te<Fe.length;Te+=76)Ee.push(Fe.slice(Te,Te+76));return Ee.join(`\r
`)+`\r
`}function Wt(me){var Fe=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(vt){var Nt=vt.charCodeAt(0).toString(16).toUpperCase();return"="+(Nt.length==1?"0"+Nt:Nt)});Fe=Fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Fe.charAt(0)==`
`&&(Fe="=0D"+Fe.slice(1)),Fe=Fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Ee=[],Te=Fe.split(`\r
`),Ie=0;Ie<Te.length;++Ie){var De=Te[Ie];if(De.length==0){Ee.push("");continue}for(var pt=0;pt<De.length;){var Et=76,bt=De.slice(pt,pt+Et);bt.charAt(Et-1)=="="?Et--:bt.charAt(Et-2)=="="?Et-=2:bt.charAt(Et-3)=="="&&(Et-=3),bt=De.slice(pt,pt+Et),pt+=Et,pt<De.length&&(bt+="="),Ee.push(bt)}}return Ee.join(`\r
`)}function ur(me){for(var Fe=[],Ee=0;Ee<me.length;++Ee){for(var Te=me[Ee];Ee<=me.length&&Te.charAt(Te.length-1)=="=";)Te=Te.slice(0,Te.length-1)+me[++Ee];Fe.push(Te)}for(var Ie=0;Ie<Fe.length;++Ie)Fe[Ie]=Fe[Ie].replace(/[=][0-9A-Fa-f]{2}/g,function(De){return String.fromCharCode(parseInt(De.slice(1),16))});return Ud(Fe.join(`\r
`))}function mr(me,Fe,Ee){for(var Te="",Ie="",De="",pt,Et=0;Et<10;++Et){var bt=Fe[Et];if(!bt||bt.match(/^\s*$/))break;var vt=bt.match(/^(.*?):\s*([^\s].*)$/);if(vt)switch(vt[1].toLowerCase()){case"content-location":Te=vt[2].trim();break;case"content-type":De=vt[2].trim();break;case"content-transfer-encoding":Ie=vt[2].trim();break}}switch(++Et,Ie.toLowerCase()){case"base64":pt=Ud(yc(Fe.slice(Et).join("")));break;case"quoted-printable":pt=ur(Fe.slice(Et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ie)}var Nt=Ct(me,Te.slice(Ee.length),pt,{unsafe:!0});De&&(Nt.ctype=De)}function or(me,Fe){if(ee(me.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Ee=Fe&&Fe.root||"",Te=(Ms&&Buffer.isBuffer(me)?me.toString("binary"):ee(me)).split(`\r
`),Ie=0,De="";for(Ie=0;Ie<Te.length;++Ie)if(De=Te[Ie],!!/^Content-Location:/i.test(De)&&(De=De.slice(De.indexOf("file")),Ee||(Ee=De.slice(0,De.lastIndexOf("/")+1)),De.slice(0,Ee.length)!=Ee))for(;Ee.length>0&&(Ee=Ee.slice(0,Ee.length-1),Ee=Ee.slice(0,Ee.lastIndexOf("/")+1),De.slice(0,Ee.length)!=Ee););var pt=(Te[1]||"").match(/boundary="(.*?)"/);if(!pt)throw new Error("MAD cannot find boundary");var Et="--"+(pt[1]||""),bt=[],vt=[],Nt={FileIndex:bt,FullPaths:vt};T(Nt);var pe,ze=0;for(Ie=0;Ie<Te.length;++Ie){var Ye=Te[Ie];Ye!==Et&&Ye!==Et+"--"||(ze++&&mr(Nt,Te.slice(pe,Ie),Ee),pe=Ie)}return Nt}function Jr(me,Fe){var Ee=Fe||{},Te=Ee.boundary||"SheetJS";Te="------="+Te;for(var Ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Te.slice(2)+'"',"","",""],De=me.FullPaths[0],pt=De,Et=me.FileIndex[0],bt=1;bt<me.FullPaths.length;++bt)if(pt=me.FullPaths[bt].slice(De.length),Et=me.FileIndex[bt],!(!Et.size||!Et.content||pt=="Sh33tJ5")){pt=pt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(de){return"_x"+de.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(de){return"_u"+de.charCodeAt(0).toString(16)+"_"});for(var vt=Et.content,Nt=Ms&&Buffer.isBuffer(vt)?vt.toString("binary"):ee(vt),pe=0,ze=Math.min(1024,Nt.length),Ye=0,le=0;le<=ze;++le)(Ye=Nt.charCodeAt(le))>=32&&Ye<128&&++pe;var Ne=pe>=ze*4/5;Ie.push(Te),Ie.push("Content-Location: "+(Ee.root||"file:///C:/SheetJS/")+pt),Ie.push("Content-Transfer-Encoding: "+(Ne?"quoted-printable":"base64")),Ie.push("Content-Type: "+ft(Et,pt)),Ie.push(""),Ie.push(Ne?Wt(Nt):Ut(Nt))}return Ie.push(Te+`--\r
`),Ie.join(`\r
`)}function it(me){var Fe={};return T(Fe,me),Fe}function Ct(me,Fe,Ee,Te){var Ie=Te&&Te.unsafe;Ie||T(me);var De=!Ie&&Ps.find(me,Fe);if(!De){var pt=me.FullPaths[0];Fe.slice(0,pt.length)==pt?pt=Fe:(pt.slice(-1)!="/"&&(pt+="/"),pt=(pt+Fe).replace("//","/")),De={name:a(Fe),type:2},me.FileIndex.push(De),me.FullPaths.push(pt),Ie||Ps.utils.cfb_gc(me)}return De.content=Ee,De.size=Ee?Ee.length:0,Te&&(Te.CLSID&&(De.clsid=Te.CLSID),Te.mt&&(De.mt=Te.mt),Te.ct&&(De.ct=Te.ct)),De}function pr(me,Fe){T(me);var Ee=Ps.find(me,Fe);if(Ee){for(var Te=0;Te<me.FileIndex.length;++Te)if(me.FileIndex[Te]==Ee)return me.FileIndex.splice(Te,1),me.FullPaths.splice(Te,1),!0}return!1}function yr(me,Fe,Ee){T(me);var Te=Ps.find(me,Fe);if(Te){for(var Ie=0;Ie<me.FileIndex.length;++Ie)if(me.FileIndex[Ie]==Te)return me.FileIndex[Ie].name=a(Ee),me.FullPaths[Ie]=Ee,!0}return!1}function Jt(me){_(me,!0)}return e.find=C,e.read=S,e.parse=u,e.write=q,e.writeFile=Q,e.utils={cfb_new:it,cfb_add:Ct,cfb_del:pr,cfb_mov:yr,cfb_gc:Jt,ReadShift:wv,CheckField:nse,prep_blob:Ki,bconcat:Om,use_zlib:F,_deflateRaw:Tt,_inflateRaw:ye,consts:O},e})();function hDe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var s=e.read();return e.close(),s}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function ih(t){for(var e=Object.keys(t),s=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&s.push(e[n]);return s}function EL(t){for(var e=[],s=ih(t),n=0;n!==s.length;++n)e[t[s[n]]]=s[n];return e}var K5=new Date(1899,11,30,0,0,0);function ol(t,e){var s=t.getTime(),n=K5.getTime()+(t.getTimezoneOffset()-K5.getTimezoneOffset())*6e4;return(s-n)/(1440*60*1e3)}var Dre=new Date,fDe=K5.getTime()+(Dre.getTimezoneOffset()-K5.getTimezoneOffset())*6e4,tV=Dre.getTimezoneOffset();function j4(t){var e=new Date;return e.setTime(t*24*60*60*1e3+fDe),e.getTimezoneOffset()!==tV&&e.setTime(e.getTime()+(e.getTimezoneOffset()-tV)*6e4),e}function mDe(t){var e=0,s=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(s=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":s*=24;case"H":s*=60;case"M":if(n)s*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=s*parseInt(a[i],10)}return e}var rV=new Date("2017-02-19T19:06:09.000Z"),Rre=isNaN(rV.getFullYear())?new Date("2/19/17"):rV,pDe=Rre.getFullYear()==2017;function Fi(t,e){var s=new Date(t);if(pDe)return e>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):e<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(t instanceof Date)return t;if(Rre.getFullYear()==1917&&!isNaN(s.getFullYear())){var n=s.getFullYear();return t.indexOf(""+n)>-1||s.setFullYear(s.getFullYear()+100),s}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function yx(t,e){if(Ms&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return qy(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return qy(Nre(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return qy(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return qy(new TextDecoder("utf-16be").decode(t.slice(2)))}var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return s[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function eo(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=eo(t[s]));return e}function Sa(t,e){for(var s="";s.length<e;)s+=t;return s}function Kd(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var s=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return s=-s,i}),!isNaN(e=Number(n)))?e/s:e}var xDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function lb(t){var e=new Date(t),s=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return s;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&xDe.indexOf(o)==-1)return s}else if(o.match(/[a-z]/))return s;return n<0||n>8099?s:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?s:e}var ADe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(s,n,a){if(t||typeof n=="string")return s.split(n);for(var i=s.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function Ore(t){return t?t.content&&t.type?yx(t.content,!0):t.data?Gy(t.data):t.asNodeBuffer&&Ms?Gy(t.asNodeBuffer().toString("binary")):t.asBinary?Gy(t.asBinary()):t._data&&t._data.getContent?Gy(yx(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Ure(t){if(!t)return null;if(t.data)return zG(t.data);if(t.asNodeBuffer&&Ms)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?zG(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function gDe(t){return t&&t.name.slice(-4)===".bin"?Ure(t):Ore(t)}function Wc(t,e){for(var s=t.FullPaths||ih(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<s.length;++i){var o=s[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return t.files?t.files[s[i]]:t.FileIndex[i]}return null}function kL(t,e){var s=Wc(t,e);if(s==null)throw new Error("Cannot find file "+e+" in zip");return s}function qa(t,e,s){if(!s)return gDe(kL(t,e));if(!e)return null;try{return qa(t,e)}catch{return null}}function cc(t,e,s){if(!s)return Ore(kL(t,e));if(!e)return null;try{return cc(t,e)}catch{return null}}function bDe(t,e,s){return Ure(kL(t,e))}function sV(t){for(var e=t.FullPaths||ih(t.files),s=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&s.push(e[n].replace(/^Root Entry[\/]/,""));return s.sort()}function yDe(t,e,s){if(t.FullPaths){if(typeof s=="string"){var n;return Ms?n=Ix(s):n=OLe(s),Ps.utils.cfb_add(t,e,n)}Ps.utils.cfb_add(t,e,s)}else t.file(e,s)}function Hre(t,e){switch(e.type){case"base64":return Ps.read(t,{type:"base64"});case"binary":return Ps.read(t,{type:"binary"});case"buffer":case"array":return Ps.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Wy(t,e){if(t.charAt(0)=="/")return t.slice(1);var s=e.split("/");e.slice(-1)!="/"&&s.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?s.pop():a!=="."&&s.push(a)}return s.join("/")}var Qre=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vDe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,nV=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,wDe=/<[^>]*>/g,Ho=Qre.match(nV)?nV:wDe,jDe=/<\w*:/,NDe=/<(\/?)\w+:/;function Yr(t,e,s){for(var n={},a=0,i=0;a!==t.length&&!((i=t.charCodeAt(a))===32||i===10||i===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var o=t.match(vDe),l=0,c="",d=0,u="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(u=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(a=h.charCodeAt(i+1))==34||a==39?1:0,c=h.slice(i+1+m,h.length-m),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,n[u.toLowerCase()]=c;else{var f=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(n[f]&&u.slice(l-3,l)=="ext")continue;n[f]=c,n[f.toLowerCase()]=c}}return n}function uh(t){return t.replace(NDe,"<$1")}var $re={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},SDe=EL($re),Us=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function s(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(t,function(l,c){return $re[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return s(a.slice(0,i))+a.slice(i+9,o)+s(a.slice(o+3))}})(),CDe=/[&<>'"]/g,_De=/[\u0000-\u001f]/g;function TL(t){var e=t+"";return e.replace(CDe,function(s){return SDe[s]}).replace(/\n/g,"<br/>").replace(_De,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}var aV=(function(){var t=/&#(\d+);/g;function e(s,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function ta(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function W6(t){for(var e="",s=0,n=0,a=0,i=0,o=0,l=0;s<t.length;){if(n=t.charCodeAt(s++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(s++),n>191&&n<224){o=(n&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(s++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=t.charCodeAt(s++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function iV(t){var e=f0(2*t.length),s,n,a=1,i=0,o=0,l;for(n=0;n<t.length;n+=a)a=1,(l=t.charCodeAt(n))<128?s=l:l<224?(s=(l&31)*64+(t.charCodeAt(n+1)&63),a=2):l<240?(s=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,s=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),s-=65536,o=55296+(s>>>10&1023),s=56320+(s&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=s%256,e[i++]=s>>>8;return e.slice(0,i).toString("ucs2")}function oV(t){return Ix(t,"binary").toString("utf8")}var lj="foo bar baz",Un=Ms&&(oV(lj)==W6(lj)&&oV||iV(lj)==W6(lj)&&iV)||W6,qy=Ms?function(t){return Ix(t,"utf8").toString("binary")}:function(t){for(var e=[],s=0,n=0,a=0;s<t.length;)switch(n=t.charCodeAt(s++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(s++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},F1=(function(){var t={};return function(s,n){var a=s+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+s+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+s+">",n||"")}})(),zre=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(s){for(var n=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}})(),EDe=(function(){var t={};return function(s){return t[s]!==void 0?t[s]:t[s]=new RegExp("<(?:vt:)?"+s+">([\\s\\S]*?)</(?:vt:)?"+s+">","g")}})(),kDe=/<\/?(?:vt:)?variant>/g,TDe=/<(?:vt:)([^>]*)>([\s\S]*)</;function lV(t,e){var s=Yr(t),n=t.match(EDe(s.baseType))||[],a=[];if(n.length!=s.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+s.size);return a}return n.forEach(function(i){var o=i.replace(kDe,"").match(TDe);o&&a.push({v:Un(o[2]),t:o[1]})}),a}var BDe=/(^\s|\s$|\n)/;function MDe(t){return ih(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function FDe(t,e,s){return"<"+t+(s!=null?MDe(s):"")+(e!=null?(e.match(BDe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function BL(t){if(Ms&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Un(Lx(SL(t)));throw new Error("Bad input format: expected Buffer or string")}var P1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,PDe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},IDe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function LDe(t,e){for(var s=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?s*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),s*Math.pow(2,n-52)*a)}function DDe(t,e,s){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,o=n?-e:e;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)t[s+l]=i&255;t[s+6]=(a&15)<<4|i&15,t[s+7]=a>>4|n}var cV=function(t){for(var e=[],s=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=s)e.push.apply(e,t[0][n].slice(a,a+s));return e},dV=Ms?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ix(e)})):cV(t)}:cV,uV=function(t,e,s){for(var n=[],a=e;a<s;a+=2)n.push(String.fromCharCode(Af(t,a)));return n.join("").replace(al,"")},ML=Ms?function(t,e,s){return Buffer.isBuffer(t)?t.toString("utf16le",e,s).replace(al,""):uV(t,e,s)}:uV,hV=function(t,e,s){for(var n=[],a=e;a<e+s;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},Gre=Ms?function(t,e,s){return Buffer.isBuffer(t)?t.toString("hex",e,e+s):hV(t,e,s)}:hV,fV=function(t,e,s){for(var n=[],a=e;a<s;a++)n.push(String.fromCharCode(GA(t,a)));return n.join("")},ww=Ms?function(e,s,n){return Buffer.isBuffer(e)?e.toString("utf8",s,n):fV(e,s,n)}:fV,Vre=function(t,e){var s=oc(t,e);return s>0?ww(t,e+4,e+4+s-1):""},Wre=Vre,qre=function(t,e){var s=oc(t,e);return s>0?ww(t,e+4,e+4+s-1):""},Kre=qre,Xre=function(t,e){var s=2*oc(t,e);return s>0?ww(t,e+4,e+4+s-1):""},Yre=Xre,Jre=function(e,s){var n=oc(e,s);return n>0?ML(e,s+4,s+4+n):""},Zre=Jre,ese=function(t,e){var s=oc(t,e);return s>0?ww(t,e+4,e+4+s):""},tse=ese,rse=function(t,e){return LDe(t,e)},X5=rse,sse=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ms&&(Wre=function(e,s){if(!Buffer.isBuffer(e))return Vre(e,s);var n=e.readUInt32LE(s);return n>0?e.toString("utf8",s+4,s+4+n-1):""},Kre=function(e,s){if(!Buffer.isBuffer(e))return qre(e,s);var n=e.readUInt32LE(s);return n>0?e.toString("utf8",s+4,s+4+n-1):""},Yre=function(e,s){if(!Buffer.isBuffer(e))return Xre(e,s);var n=2*e.readUInt32LE(s);return e.toString("utf16le",s+4,s+4+n-1)},Zre=function(e,s){if(!Buffer.isBuffer(e))return Jre(e,s);var n=e.readUInt32LE(s);return e.toString("utf16le",s+4,s+4+n)},tse=function(e,s){if(!Buffer.isBuffer(e))return ese(e,s);var n=e.readUInt32LE(s);return e.toString("utf8",s+4,s+4+n)},X5=function(e,s){return Buffer.isBuffer(e)?e.readDoubleLE(s):rse(e,s)},sse=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var GA=function(t,e){return t[e]},Af=function(t,e){return t[e+1]*256+t[e]},RDe=function(t,e){var s=t[e+1]*256+t[e];return s<32768?s:(65535-s+1)*-1},oc=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},kp=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},ODe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function wv(t,e){var s="",n,a,i=[],o,l,c,d;switch(e){case"dbcs":if(d=this.l,Ms&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)s+=String.fromCharCode(Af(this,d)),d+=2;t*=2;break;case"utf8":s=ww(this,this.l,this.l+t);break;case"utf16le":t*=2,s=ML(this,this.l,this.l+t);break;case"wstr":return wv.call(this,t,"dbcs");case"lpstr-ansi":s=Wre(this,this.l),t=4+oc(this,this.l);break;case"lpstr-cp":s=Kre(this,this.l),t=4+oc(this,this.l);break;case"lpwstr":s=Yre(this,this.l),t=4+2*oc(this,this.l);break;case"lpp4":t=4+oc(this,this.l),s=Zre(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+oc(this,this.l),s=tse(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,s="";(o=GA(this,this.l+t++))!==0;)i.push(oj(o));s=i.join("");break;case"_wstr":for(t=0,s="";(o=Af(this,this.l+t))!==0;)i.push(oj(o)),t+=2;t+=2,s=i.join("");break;case"dbcs-cont":for(s="",d=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=GA(this,d),this.l=d+1,l=wv.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(oj(Af(this,d))),d+=2}s=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(s="",d=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=GA(this,d),this.l=d+1,l=wv.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(oj(GA(this,d))),d+=1}s=i.join("");break;default:switch(t){case 1:return n=GA(this,this.l),this.l++,n;case 2:return n=(e==="i"?RDe:Af)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?kp:ODe)(this,this.l),this.l+=4,n):(a=oc(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=X5(this,this.l):a=X5([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:s=Gre(this,this.l,t);break}}return this.l+=t,s}var UDe=function(t,e,s){t[s]=e&255,t[s+1]=e>>>8&255,t[s+2]=e>>>16&255,t[s+3]=e>>>24&255},HDe=function(t,e,s){t[s]=e&255,t[s+1]=e>>8&255,t[s+2]=e>>16&255,t[s+3]=e>>24&255},QDe=function(t,e,s){t[s]=e&255,t[s+1]=e>>>8&255};function $De(t,e,s){var n=0,a=0;if(s==="dbcs"){for(a=0;a!=e.length;++a)QDe(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(s==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(s==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(s==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var o=e.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,UDe(this,e,this.l);break;case 8:if(n=8,s==="f"){DDe(this,e,this.l);break}case 16:break;case-4:n=4,HDe(this,e,this.l);break}return this.l+=n,this}function nse(t,e){var s=Gre(this,this.l,t.length>>1);if(s!==t)throw new Error(e+"Expected "+t+" saw "+s);this.l+=t.length>>1}function Ki(t,e){t.l=e,t.read_shift=wv,t.chk=nse,t.write_shift=$De}function Uo(t,e){t.l+=e}function li(t){var e=f0(t);return Ki(e,0),e}function Hf(t,e,s){if(t){var n,a,i;Ki(t,t.l||0);for(var o=t.length,l=0,c=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var d=rS[l]||rS[65535];for(n=t.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=t.read_shift(1))&127)<<7*a;c=t.l+i;var u=d.f&&d.f(t,i,s);if(t.l=c,e(u,d,l))return}}}function FF(){var t=[],e=Ms?256:2048,s=function(d){var u=li(d);return Ki(u,0),u},n=s(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(d){return n&&d<n.length-n.l?n:(a(),n=s(Math.max(d+1,e)))},o=function(){return a(),Om(t)},l=function(d){a(),n=d,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:l,end:o,_bufs:t}}function jv(t,e,s){var n=eo(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!s||s.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function mV(t,e,s){var n=eo(t);return n.s=jv(n.s,e.s,s),n.e=jv(n.e,e.s,s),n}function Nv(t,e){if(t.cRel&&t.c<0)for(t=eo(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=eo(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var s=cs(t);return!t.cRel&&t.cRel!=null&&(s=VDe(s)),!t.rRel&&t.rRel!=null&&(s=zDe(s)),s}function q6(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+mi(t.s.c)+":"+(t.e.cRel?"":"$")+mi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+to(t.s.r)+":"+(t.e.rRel?"":"$")+to(t.e.r):Nv(t.s,e.biff)+":"+Nv(t.e,e.biff)}function FL(t){return parseInt(GDe(t),10)-1}function to(t){return""+(t+1)}function zDe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function GDe(t){return t.replace(/\$(\d+)$/,"$1")}function PL(t){for(var e=WDe(t),s=0,n=0;n!==e.length;++n)s=26*s+e.charCodeAt(n)-64;return s-1}function mi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function VDe(t){return t.replace(/^([A-Z])/,"$$$1")}function WDe(t){return t.replace(/^\$([A-Z])/,"$1")}function qDe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function nl(t){for(var e=0,s=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(s=26*s+(a-64))}return{c:s-1,r:e-1}}function cs(t){for(var e=t.c+1,s="";e;e=(e-1)/26|0)s=String.fromCharCode((e-1)%26+65)+s;return s+(t.r+1)}function Fb(t){var e=t.indexOf(":");return e==-1?{s:nl(t),e:nl(t)}:{s:nl(t.slice(0,e)),e:nl(t.slice(e+1))}}function Is(t,e){return typeof e>"u"||typeof e=="number"?Is(t.s,t.e):(typeof t!="string"&&(t=cs(t)),typeof e!="string"&&(e=cs(e)),t==e?t:t+":"+e)}function Ea(t){var e={s:{c:0,r:0},e:{c:0,r:0}},s=0,n=0,a=0,i=t.length;for(s=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)s=26*s+a;for(e.s.c=--s,s=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)s=10*s+a;if(e.s.r=--s,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,s=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)s=26*s+a;for(e.e.c=--s,s=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)s=10*s+a;return e.e.r=--s,e}function pV(t,e){var s=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=id(t.z,s?ol(e):e)}catch{}try{return t.w=id((t.XF||{}).numFmtId||(s?14:0),s?ol(e):e)}catch{return""+e}}function If(t,e,s){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&s&&s.dateNF&&(t.z=s.dateNF),t.t=="e"?Ox[t.v]||t.v:e==null?pV(t,t.v):pV(t,e))}function w0(t,e){var s=e&&e.sheet?e.sheet:"Sheet1",n={};return n[s]=t,{SheetNames:[s],Sheets:n}}function ase(t,e,s){var n=s||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?nl(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Ea(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[h].length;++m)if(!(typeof e[h][m]>"u")){var f={v:e[h][m]},x=o+h,A=l+m;if(d.s.r>x&&(d.s.r=x),d.s.c>A&&(d.s.c=A),d.e.r<x&&(d.e.r=x),d.e.c<A&&(d.e.c=A),e[h][m]&&typeof e[h][m]=="object"&&!Array.isArray(e[h][m])&&!(e[h][m]instanceof Date))f=e[h][m];else if(Array.isArray(f.v)&&(f.f=e[h][m][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||hs[14],n.cellDates?(f.t="d",f.w=id(f.z,ol(f.v))):(f.t="n",f.v=ol(f.v),f.w=id(f.z,f.v))):f.t="s";if(a)i[x]||(i[x]=[]),i[x][A]&&i[x][A].z&&(f.z=i[x][A].z),i[x][A]=f;else{var g=cs({c:A,r:x});i[g]&&i[g].z&&(f.z=i[g].z),i[g]=f}}}return d.s.c<1e7&&(i["!ref"]=Is(d)),i}function Pb(t,e){return ase(null,t,e)}function KDe(t){return t.read_shift(4,"i")}function Lo(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function XDe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function IL(t,e){var s=t.l,n=t.read_shift(1),a=Lo(t),i=[],o={t:a,h:a};if((n&1)!==0){for(var l=t.read_shift(4),c=0;c!=l;++c)i.push(XDe(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=s+e,o}var YDe=IL;function dd(t){var e=t.read_shift(4),s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:s}}function Dx(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var JDe=Lo;function LL(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var ZDe=Lo,PF=LL;function DL(t){var e=t.slice(t.l,t.l+4),s=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?X5([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):kp(e,0)>>2;return s?a/100:a}function ise(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Rx=ise;function Bo(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function e8e(t){var e={},s=t.read_shift(1),n=s>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var d=Zp[a];d&&(e.rgb=L1(d));break;case 2:e.rgb=L1([o,l,c]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function t8e(t){var e=t.read_shift(1);t.l++;var s={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return s}function ose(t,e){var s={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return s[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function r8e(t){return ose(t,1)}function s8e(t){return ose(t,2)}var RL=2,El=3,cj=11,xV=12,Y5=19,dj=64,n8e=65,a8e=71,i8e=4108,o8e=4126,Ti=80,lse=81,l8e=[Ti,lse],c8e={1:{n:"CodePage",t:RL},2:{n:"Category",t:Ti},3:{n:"PresentationFormat",t:Ti},4:{n:"ByteCount",t:El},5:{n:"LineCount",t:El},6:{n:"ParagraphCount",t:El},7:{n:"SlideCount",t:El},8:{n:"NoteCount",t:El},9:{n:"HiddenCount",t:El},10:{n:"MultimediaClipCount",t:El},11:{n:"ScaleCrop",t:cj},12:{n:"HeadingPairs",t:i8e},13:{n:"TitlesOfParts",t:o8e},14:{n:"Manager",t:Ti},15:{n:"Company",t:Ti},16:{n:"LinksUpToDate",t:cj},17:{n:"CharacterCount",t:El},19:{n:"SharedDoc",t:cj},22:{n:"HyperlinksChanged",t:cj},23:{n:"AppVersion",t:El,p:"version"},24:{n:"DigSig",t:n8e},26:{n:"ContentType",t:Ti},27:{n:"ContentStatus",t:Ti},28:{n:"Language",t:Ti},29:{n:"Version",t:Ti},255:{},2147483648:{n:"Locale",t:Y5},2147483651:{n:"Behavior",t:Y5},1919054434:{}},d8e={1:{n:"CodePage",t:RL},2:{n:"Title",t:Ti},3:{n:"Subject",t:Ti},4:{n:"Author",t:Ti},5:{n:"Keywords",t:Ti},6:{n:"Comments",t:Ti},7:{n:"Template",t:Ti},8:{n:"LastAuthor",t:Ti},9:{n:"RevNumber",t:Ti},10:{n:"EditTime",t:dj},11:{n:"LastPrinted",t:dj},12:{n:"CreatedDate",t:dj},13:{n:"ModifiedDate",t:dj},14:{n:"PageCount",t:El},15:{n:"WordCount",t:El},16:{n:"CharCount",t:El},17:{n:"Thumbnail",t:a8e},18:{n:"Application",t:Ti},19:{n:"DocSecurity",t:El},255:{},2147483648:{n:"Locale",t:Y5},2147483651:{n:"Behavior",t:Y5},1919054434:{}},AV={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},u8e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function h8e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var f8e=h8e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Zp=eo(f8e),Ox={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},cse={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},gV={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function m8e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function p8e(t){var e=m8e();if(!t||!t.match)return e;var s={};if((t.match(Ho)||[]).forEach(function(n){var a=Yr(n);switch(a[0].replace(jDe,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":s[a.Extension]=a.ContentType;break;case"<Override":e[gV[a.ContentType]]!==void 0&&e[gV[a.ContentType]].push(a.PartName);break}}),e.xmlns!==PDe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=s,delete e.calcchains,e}var eg={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function IF(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Sv(t,e){var s={"!id":{}};if(!t)return s;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ho)||[]).forEach(function(a){var i=Yr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Wy(i.Target,e);s[l]=o,n[i.Id]=o}}),s["!id"]=n,s}var x8e="application/vnd.oasis.opendocument.spreadsheet";function A8e(t,e){for(var s=BL(t),n,a;n=P1.exec(s);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Yr(n[0],!1),a.path=="/"&&a.type!==x8e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var Cv=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],g8e=(function(){for(var t=new Array(Cv.length),e=0;e<Cv.length;++e){var s=Cv[e],n="(?:"+s[0].slice(0,s[0].indexOf(":"))+":)"+s[0].slice(s[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function dse(t){var e={};t=Un(t);for(var s=0;s<Cv.length;++s){var n=Cv[s],a=t.match(g8e[s]);a!=null&&a.length>0&&(e[n[1]]=Us(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Fi(e[n[1]]))}return e}var b8e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function use(t,e,s,n){var a=[];if(typeof t=="string")a=lV(t,n);else for(var i=0;i<t.length;++i)a=a.concat(t[i].map(function(u){return{v:u}}));var o=typeof e=="string"?lV(e,n).map(function(u){return u.v}):e,l=0,c=0;if(o.length>0)for(var d=0;d!==a.length;d+=2){switch(c=+a[d+1].v,a[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":s.Worksheets=c,s.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":s.NamedRanges=c,s.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":s.Chartsheets=c,s.ChartNames=o.slice(l,l+c);break}l+=c}}function y8e(t,e,s){var n={};return e||(e={}),t=Un(t),b8e.forEach(function(a){var i=(t.match(F1(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=Us(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var o=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&use(n.HeadingPairs,n.TitlesOfParts,e,s),e}var v8e=/<[^>]+>[^<]*/g;function w8e(t,e){var s={},n="",a=t.match(v8e);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Yr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Us(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":s[n]=Us(u);break;case"bool":s[n]=ta(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":s[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":s[n]=parseFloat(u);break;case"filetime":case"date":s[n]=Fi(u);break;case"cy":case"error":s[n]=Us(u);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return s}var j8e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},K6;function N8e(t,e,s){K6||(K6=EL(j8e)),e=K6[e]||e,t[e]=s}function OL(t){var e=t.read_shift(4),s=t.read_shift(4);return new Date((s/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function hse(t,e,s){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(s)for(;t.l-n&3;)++t.l;return a}function fse(t,e,s){var n=t.read_shift(0,"lpwstr");return n}function mse(t,e,s){return e===31?fse(t):hse(t,e,s)}function LF(t,e,s){return mse(t,e,s===!1?0:4)}function S8e(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return mse(t,e,0)}function C8e(t){for(var e=t.read_shift(4),s=[],n=0;n!=e;++n){var a=t.l;s[n]=t.read_shift(0,"lpwstr").replace(al,""),t.l-a&2&&(t.l+=2)}return s}function _8e(t){for(var e=t.read_shift(4),s=[],n=0;n!=e;++n)s[n]=t.read_shift(0,"lpstr-cp").replace(al,"");return s}function E8e(t){var e=t.l,s=J5(t,lse);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=J5(t,El);return[s,n]}function k8e(t){for(var e=t.read_shift(4),s=[],n=0;n<e/2;++n)s.push(E8e(t));return s}function bV(t,e){for(var s=t.read_shift(4),n={},a=0;a!=s;++a){var i=t.read_shift(4),o=t.read_shift(4);n[i]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(al,"").replace(Vy,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function pse(t){var e=t.read_shift(4),s=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),s}function T8e(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function J5(t,e,s){var n=t.read_shift(2),a,i=s||{};if(t.l+=2,e!==xV&&n!==e&&l8e.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===xV?n:e){case 2:return a=t.read_shift(2,"i"),i.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return hse(t,n,4).replace(al,"");case 31:return fse(t);case 64:return OL(t);case 65:return pse(t);case 71:return T8e(t);case 80:return LF(t,n,!i.raw).replace(al,"");case 81:return S8e(t,n).replace(al,"");case 4108:return k8e(t);case 4126:case 4127:return n==4127?C8e(t):_8e(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function yV(t,e){var s=t.l,n=t.read_shift(4),a=t.read_shift(4),i=[],o=0,l=0,c=-1,d={};for(o=0;o!=a;++o){var u=t.read_shift(4),h=t.read_shift(4);i[o]=[u,h+s]}i.sort(function(w,v){return w[1]-v[1]});var m={};for(o=0;o!=a;++o){if(t.l!==i[o][1]){var f=!0;if(o>0&&e)switch(e[i[o-1][0]].t){case 2:t.l+2===i[o][1]&&(t.l+=2,f=!1);break;case 80:t.l<=i[o][1]&&(t.l=i[o][1],f=!1);break;case 4108:t.l<=i[o][1]&&(t.l=i[o][1],f=!1);break}if((!e||o==0)&&t.l<=i[o][1]&&(f=!1,t.l=i[o][1]),f)throw new Error("Read Error: Expected address "+i[o][1]+" at "+t.l+" :"+o)}if(e){var x=e[i[o][0]];if(m[x.n]=J5(t,x.t,{raw:!0}),x.p==="version"&&(m[x.n]=String(m[x.n]>>16)+"."+("0000"+String(m[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(m[x.n]){case 0:m[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:zd(l=m[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[x.n])}}else if(i[o][0]===1){if(l=m.CodePage=J5(t,RL),zd(l),c!==-1){var A=t.l;t.l=i[c][1],d=bV(t,l),t.l=A}}else if(i[o][0]===0){if(l===0){c=o,t.l=i[o+1][1];continue}d=bV(t,l)}else{var g=d[i[o][0]],b;switch(t[t.l]){case 65:t.l+=4,b=pse(t);break;case 30:t.l+=4,b=LF(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,b=LF(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,b=t.read_shift(4,"i");break;case 19:t.l+=4,b=t.read_shift(4);break;case 5:t.l+=4,b=t.read_shift(8,"f");break;case 11:t.l+=4,b=Fa(t,4);break;case 64:t.l+=4,b=Fi(OL(t));break;default:throw new Error("unparsed value: "+t[t.l])}m[g]=b}}return t.l=s+n,m}function vV(t,e,s){var n=t.content;if(!n)return{};Ki(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),u=n.read_shift(16);if(u!==Ps.utils.consts.HEADER_CLSID&&u!==s)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var h=yV(n,e),m={SystemIdentifier:d};for(var f in h)m[f]=h[f];if(m.FMTID=i,a===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var x;try{x=yV(n,null)}catch{}for(f in x)m[f]=x[f];return m.FMTID=[i,o],m}function Nm(t,e){return t.read_shift(e),null}function B8e(t,e,s){for(var n=[],a=t.l+e;t.l<a;)n.push(s(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function Fa(t,e){return t.read_shift(e)===1}function Ka(t){return t.read_shift(2,"u")}function xse(t,e){return B8e(t,e,Ka)}function M8e(t){var e=t.read_shift(1),s=t.read_shift(1);return s===1?e:e===1}function jw(t,e,s){var n=t.read_shift(s&&s.biff>=12?2:1),a="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else s.biff==12&&(a="wstr");s.biff>=2&&s.biff<=5&&(a="cpstr");var o=n?t.read_shift(n,a):"";return o}function F8e(t){var e=t.read_shift(2),s=t.read_shift(1),n=s&4,a=s&8,i=1+(s&1),o=0,l,c={};a&&(o=t.read_shift(2)),n&&(l=t.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,d);return a&&(t.l+=4*o),n&&(t.l+=l),c.t=u,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function vx(t,e,s){var n;if(s){if(s.biff>=2&&s.biff<=5)return t.read_shift(e,"cpstr");if(s.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Nw(t,e,s){var n=t.read_shift(s&&s.biff==2?1:2);return n===0?(t.l++,""):vx(t,n,s)}function Ux(t,e,s){if(s.biff>5)return Nw(t,e,s);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,s.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function P8e(t){var e=t.read_shift(1);t.l++;var s=t.read_shift(2);return t.l+=2,[e,s]}function I8e(t){var e=t.read_shift(4),s=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=s);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(al,"");return n&&(t.l+=24),a}function L8e(t){for(var e=t.read_shift(2),s="";e-- >0;)s+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return s+n.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(i>>1,"utf16le").replace(al,"");return s+o}function D8e(t,e){var s=t.read_shift(16);switch(s){case"e0c9ea79f9bace118c8200aa004ba90b":return I8e(t);case"0303000000000000c000000000000046":return L8e(t);default:throw new Error("Unsupported Moniker "+s)}}function uj(t){var e=t.read_shift(4),s=e>0?t.read_shift(e,"utf16le").replace(al,""):"";return s}function R8e(t,e){var s=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var i,o,l,c,d="",u,h;a&16&&(i=uj(t,s-t.l)),a&128&&(o=uj(t,s-t.l)),(a&257)===257&&(l=uj(t,s-t.l)),(a&257)===1&&(c=D8e(t,s-t.l)),a&8&&(d=uj(t,s-t.l)),a&32&&(u=t.read_shift(16)),a&64&&(h=OL(t)),t.l=s;var m=o||l||c||"";m&&d&&(m+="#"+d),m||(m="#"+d),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var f={Target:m};return u&&(f.guid=u),h&&(f.time=h),i&&(f.Tooltip=i),f}function Ase(t){var e=t.read_shift(1),s=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,s,n,a]}function gse(t,e){var s=Ase(t);return s[3]=0,s}function hh(t){var e=t.read_shift(2),s=t.read_shift(2),n=t.read_shift(2);return{r:e,c:s,ixfe:n}}function O8e(t){var e=t.read_shift(2),s=t.read_shift(2);return t.l+=8,{type:e,flags:s}}function U8e(t,e,s){return e===0?"":Ux(t,e,s)}function H8e(t,e,s){var n=s.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[a,i,o]}function bse(t){var e=t.read_shift(2),s=DL(t);return[e,s]}function Q8e(t,e,s){t.l+=4,e-=4;var n=t.l+e,a=jw(t,e,s),i=t.read_shift(2);if(n-=t.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return t.l+=i,a}function N4(t){var e=t.read_shift(2),s=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r:s}}}function yse(t){var e=t.read_shift(2),s=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r:s}}}var $8e=yse;function vse(t){t.l+=4;var e=t.read_shift(2),s=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[s,e,n]}function z8e(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function G8e(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function wo(t){t.l+=2,t.l+=t.read_shift(2)}var V8e={0:wo,4:wo,5:wo,6:wo,7:G8e,8:wo,9:wo,10:wo,11:wo,12:wo,13:z8e,14:wo,15:wo,16:wo,17:wo,18:wo,19:wo,20:wo,21:vse};function W8e(t,e){for(var s=t.l+e,n=[];t.l<s;){var a=t.read_shift(2);t.l-=2;try{n.push(V8e[a](t,s-t.l))}catch{return t.l=s,n}}return t.l!=s&&(t.l=s),n}function hj(t,e){var s={BIFFVer:0,dt:0};switch(s.BIFFVer=t.read_shift(2),e-=2,e>=2&&(s.dt=t.read_shift(2),t.l-=2),s.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+s.BIFFVer)}return t.read_shift(e),s}function q8e(t,e){return e===0||t.read_shift(2),1200}function K8e(t,e,s){if(s.enc)return t.l+=e,"";var n=t.l,a=Ux(t,0,s);return t.read_shift(e+n-t.l),a}function X8e(t,e,s){var n=s&&s.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Y8e(t,e,s){var n=t.read_shift(4),a=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=jw(t,0,s);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function J8e(t,e){for(var s=t.l+e,n=t.read_shift(4),a=t.read_shift(4),i=[],o=0;o!=a&&t.l<s;++o)i.push(F8e(t));return i.Count=n,i.Unique=a,i}function Z8e(t,e){var s={};return s.dsst=t.read_shift(2),t.l+=e-2,s}function eRe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var s=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=s/20),e}function tRe(t){var e=O8e(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var s=t.read_shift(4);return s!==0}function rRe(t){return t.read_shift(2),t.read_shift(4)}function wV(t,e,s){var n=0;s&&s.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);s&&s.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function sRe(t){var e=t.read_shift(2),s=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,s],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function nRe(t,e,s){if(s&&s.biff>=2&&s.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function aRe(){}function iRe(t,e,s){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(s&&s.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=jw(t,0,s),n}function oRe(t){var e=hh(t);return e.isst=t.read_shift(4),e}function lRe(t,e,s){s.biffguess&&s.biff==2&&(s.biff=5);var n=t.l+e,a=hh(t);s.biff==2&&t.l++;var i=Nw(t,n-t.l,s);return a.val=i,a}function cRe(t,e,s){var n=t.read_shift(2),a=Ux(t,0,s);return[n,a]}var dRe=Ux;function jV(t,e,s){var n=t.l+e,a=s.biff==8||!s.biff?4:2,i=t.read_shift(a),o=t.read_shift(a),l=t.read_shift(2),c=t.read_shift(2);return t.l=n,{s:{r:i,c:l},e:{r:o,c}}}function uRe(t){var e=t.read_shift(2),s=t.read_shift(2),n=bse(t);return{r:e,c:s,ixfe:n[0],rknum:n[1]}}function hRe(t,e){for(var s=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<s;)i.push(bse(t));if(t.l!==s)throw new Error("MulRK read error");var o=t.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function fRe(t,e){for(var s=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<s;)i.push(t.read_shift(2));if(t.l!==s)throw new Error("MulBlank read error");var o=t.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function mRe(t,e,s,n){var a={},i=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),c=t.read_shift(2);return a.patternType=u8e[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function pRe(t,e,s){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=mRe(t,e,n.fStyle,s),n}function xRe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function NV(t,e,s){var n=hh(t);(s.biff==2||e==9)&&++t.l;var a=M8e(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function ARe(t,e,s){s.biffguess&&s.biff==2&&(s.biff=5);var n=hh(t),a=Bo(t);return n.val=a,n}var SV=U8e;function gRe(t,e,s){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(2);if(s.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=vx(t,i),l=[];n>t.l;)l.push(Nw(t));return[i,a,o,l]}function CV(t,e,s){var n=t.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return s.sbcch===14849&&(a=Q8e(t,e-2,s)),i.body=a||t.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var bRe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _V(t,e,s){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(s&&s.biff==2?1:2),c=0;(!s||s.biff>=5)&&(s.biff!=5&&(t.l+=2),c=t.read_shift(2),s.biff==5&&(t.l+=2),t.l+=4);var d=vx(t,o,s);a&32&&(d=bRe[d.charCodeAt(0)]);var u=n-t.l;s&&s.biff==2&&--u;var h=n==t.l||l===0||!(u>0)?[]:e9e(t,u,s,l);return{chKey:i,Name:d,itab:c,rgce:h}}function wse(t,e,s){if(s.biff<8)return yRe(t,e,s);for(var n=[],a=t.l+e,i=t.read_shift(s.biff>8?4:2);i--!==0;)n.push(H8e(t,s.biff>8?12:6,s));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function yRe(t,e,s){t[t.l+1]==3&&t[t.l]++;var n=jw(t,e,s);return n.charCodeAt(0)==3?n.slice(1):n}function vRe(t,e,s){if(s.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),i=vx(t,n,s),o=vx(t,a,s);return[i,o]}function wRe(t,e,s){var n=yse(t);t.l++;var a=t.read_shift(1);return e-=8,[t9e(t,e,s),a,n]}function EV(t,e,s){var n=$8e(t);switch(s.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,J7e(t,e,s)]}function jRe(t){var e=t.read_shift(4)!==0,s=t.read_shift(4)!==0,n=t.read_shift(4);return[e,s,n]}function NRe(t,e,s){if(!(s.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=Ux(t,0,s);return s.biff<8&&t.read_shift(1),[{r:n,c:a},l,o,i]}}function SRe(t,e,s){return NRe(t,e,s)}function CRe(t,e){for(var s=[],n=t.read_shift(2);n--;)s.push(N4(t));return s}function _Re(t,e,s){if(s&&s.biff<8)return kRe(t,e,s);var n=vse(t),a=W8e(t,e-22,n[1]);return{cmo:n,ft:a}}var ERe={8:function(t,e){var s=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=s,{fmt:n}}};function kRe(t,e,s){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((ERe[n]||Uo)(t,e,s)),{cmo:[a,n,i],ft:o}}function TRe(t,e,s){var n=t.l,a="";try{t.l+=4;var i=(s.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:o=P8e(t,6,s);var l=t.read_shift(2);t.read_shift(2),Ka(t,2);var c=t.read_shift(2);t.l+=c;for(var d=1;d<t.lens.length-1;++d){if(t.l-n!=t.lens[d])throw new Error("TxO: bad continue record");var u=t[t.l],h=vx(t,t.lens[d+1]-t.lens[d]-1);if(a+=h,a.length>=(u?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function BRe(t,e){var s=N4(t);t.l+=16;var n=R8e(t,e-24);return[s,n]}function MRe(t,e){t.read_shift(2);var s=N4(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(al,""),[s,n]}function FRe(t){var e=[0,0],s;return s=t.read_shift(2),e[0]=AV[s]||s,s=t.read_shift(2),e[1]=AV[s]||s,e}function PRe(t){for(var e=t.read_shift(2),s=[];e-- >0;)s.push(gse(t));return s}function IRe(t){for(var e=t.read_shift(2),s=[];e-- >0;)s.push(gse(t));return s}function LRe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function jse(t,e,s){if(!s.cellStyles)return Uo(t,e);var n=s&&s.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(s.biff>=5||!s.biff)&&(d.level=c>>8&7),d}function DRe(t,e){var s={};return e<32||(t.l+=16,s.header=Bo(t),s.footer=Bo(t),t.l+=2),s}function RRe(t,e,s){var n={area:!1};if(s.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}var ORe=hh,URe=xse,HRe=Nw;function QRe(t){var e=t.read_shift(2),s=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:s,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function $Re(t,e,s){s.biffguess&&s.biff==5&&(s.biff=2);var n=hh(t);++t.l;var a=Ux(t,e-7,s);return n.t="str",n.val=a,n}function zRe(t){var e=hh(t);++t.l;var s=Bo(t);return e.t="n",e.val=s,e}function GRe(t){var e=hh(t);++t.l;var s=t.read_shift(2);return e.t="n",e.val=s,e}function VRe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function WRe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function qRe(t,e,s){var n=t.l+e,a=hh(t),i=t.read_shift(2),o=vx(t,i,s);return t.l=n,a.t="str",a.val=o,a}var KRe=[2,3,48,49,131,139,140,245],kV=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=EL({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(l,c){var d=[],u=f0(1);switch(c.type){case"base64":u=Ud(yc(l));break;case"binary":u=Ud(l);break;case"buffer":case"array":u=l;break}Ki(u,0);var h=u.read_shift(1),m=!!(h&136),f=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,m=!0;break;case 49:f=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var A=0,g=521;h==2&&(A=u.read_shift(2)),u.l+=3,h!=2&&(A=u.read_shift(4)),A>1048576&&(A=1e6),h!=2&&(g=u.read_shift(2));var b=u.read_shift(2),w=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=t[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var v=[],j={},N=Math.min(u.length,h==2?521:g-10-(f?264:0)),S=x?32:11;u.l<N&&u[u.l]!=13;)switch(j={},j.name=B1.utils.decode(w,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,j.type=String.fromCharCode(u.read_shift(1)),h!=2&&!x&&(j.offset=u.read_shift(4)),j.len=u.read_shift(1),h==2&&(j.offset=u.read_shift(2)),j.dec=u.read_shift(1),j.name.length&&v.push(j),h!=2&&(u.l+=x?13:14),j.type){case"B":(!f||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var T=0,I=0;for(d[0]=[],I=0;I!=v.length;++I)d[0][I]=v[I].name;for(;A-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,d[++T]=[],I=0,I=0;I!=v.length;++I){var _=u.slice(u.l,u.l+v[I].len);u.l+=v[I].len,Ki(_,0);var M=B1.utils.decode(w,_);switch(v[I].type){case"C":M.trim().length&&(d[T][I]=M.replace(/\s+$/,""));break;case"D":M.length===8?d[T][I]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):d[T][I]=M;break;case"F":d[T][I]=parseFloat(M.trim());break;case"+":case"I":d[T][I]=x?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":d[T][I]=!0;break;case"N":case"F":d[T][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[T][I]="##MEMO##"+(x?parseInt(M.trim(),10):_.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(d[T][I]=+M||0);break;case"@":d[T][I]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":d[T][I]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":d[T][I]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[T][I]=-_.read_shift(-8,"f");break;case"B":if(f&&v[I].len==8){d[T][I]=_.read_shift(8,"f");break}case"G":case"P":_.l+=v[I].len;break;case"0":if(v[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[I].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=v,d}function n(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Pb(s(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function a(l,c){try{return w0(n(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&zd(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=FF(),h=$F(l,{header:1,raw:!0,cellDates:!0}),m=h[0],f=h.slice(1),x=l["!cols"]||[],A=0,g=0,b=0,w=1;for(A=0;A<m.length;++A){if(((x[A]||{}).DBF||{}).name){m[A]=x[A].DBF.name,++b;continue}if(m[A]!=null){if(++b,typeof m[A]=="number"&&(m[A]=m[A].toString(10)),typeof m[A]!="string")throw new Error("DBF Invalid column name "+m[A]+" |"+typeof m[A]+"|");if(m.indexOf(m[A])!==A){for(g=0;g<1024;++g)if(m.indexOf(m[A]+"_"+g)==-1){m[A]+="_"+g;break}}}}var v=Ea(l["!ref"]),j=[],N=[],S=[];for(A=0;A<=v.e.c-v.s.c;++A){var T="",I="",_=0,M=[];for(g=0;g<f.length;++g)f[g][A]!=null&&M.push(f[g][A]);if(M.length==0||m[A]==null){j[A]="?";continue}for(g=0;g<M.length;++g){switch(typeof M[g]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=M[g]instanceof Date?"D":"C";break;default:I="C"}_=Math.max(_,String(M[g]).length),T=T&&T!=I?"C":I}_>250&&(_=250),I=((x[A]||{}).DBF||{}).type,I=="C"&&x[A].DBF.len>_&&(_=x[A].DBF.len),T=="B"&&I=="N"&&(T="N",S[A]=x[A].DBF.dec,_=x[A].DBF.len),N[A]=T=="C"||I=="N"?_:i[T]||0,w+=N[A],j[A]=T}var C=u.next(32);for(C.write_shift(4,318902576),C.write_shift(4,f.length),C.write_shift(2,296+32*b),C.write_shift(2,w),A=0;A<4;++A)C.write_shift(4,0);for(C.write_shift(4,0|(+e[wre]||3)<<8),A=0,g=0;A<m.length;++A)if(m[A]!=null){var B=u.next(32),P=(m[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,P,"sbcs"),B.write_shift(1,j[A]=="?"?"C":j[A],"sbcs"),B.write_shift(4,g),B.write_shift(1,N[A]||i[j[A]]||0),B.write_shift(1,S[A]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),g+=N[A]||i[j[A]]||0}var H=u.next(264);for(H.write_shift(4,13),A=0;A<65;++A)H.write_shift(4,0);for(A=0;A<f.length;++A){var D=u.next(w);for(D.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(j[g]){case"L":D.write_shift(1,f[A][g]==null?63:f[A][g]?84:70);break;case"B":D.write_shift(8,f[A][g]||0,"f");break;case"N":var G="0";for(typeof f[A][g]=="number"&&(G=f[A][g].toFixed(S[g]||0)),b=0;b<N[g]-G.length;++b)D.write_shift(1,32);D.write_shift(1,G,"sbcs");break;case"D":f[A][g]?(D.write_shift(4,("0000"+f[A][g].getFullYear()).slice(-4),"sbcs"),D.write_shift(2,("00"+(f[A][g].getMonth()+1)).slice(-2),"sbcs"),D.write_shift(2,("00"+f[A][g].getDate()).slice(-2),"sbcs")):D.write_shift(8,"00000000","sbcs");break;case"C":var O=String(f[A][g]!=null?f[A][g]:"").slice(0,N[g]);for(D.write_shift(1,O,"sbcs"),b=0;b<N[g]-O.length;++b)D.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}})(),XRe=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ih(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(m,f){var x=t[f];return typeof x=="number"?GG(x):x},n=function(m,f,x){var A=f.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return A==59?m:GG(A)};t["|"]=254;function a(m,f){switch(f.type){case"base64":return i(yc(m),f);case"binary":return i(m,f);case"buffer":return i(Ms&&Buffer.isBuffer(m)?m.toString("binary"):Lx(m),f);case"array":return i(yx(m),f)}throw new Error("Unrecognized type "+f.type)}function i(m,f){var x=m.split(/[\n\r]+/),A=-1,g=-1,b=0,w=0,v=[],j=[],N=null,S={},T=[],I=[],_=[],M=0,C;for(+f.codepage>=0&&zd(+f.codepage);b!==x.length;++b){M=0;var B=x[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,s),P=B.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),H=P[0],D;if(B.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&j.push(B.slice(3).replace(/;;/g,";"));break;case"C":var G=!1,O=!1,Q=!1,ee=!1,q=-1,Z=-1;for(w=1;w<P.length;++w)switch(P[w].charAt(0)){case"A":break;case"X":g=parseInt(P[w].slice(1))-1,O=!0;break;case"Y":for(A=parseInt(P[w].slice(1))-1,O||(g=0),C=v.length;C<=A;++C)v[C]=[];break;case"K":D=P[w].slice(1),D.charAt(0)==='"'?D=D.slice(1,D.length-1):D==="TRUE"?D=!0:D==="FALSE"?D=!1:isNaN(Kd(D))?isNaN(lb(D).getDate())||(D=Fi(D)):(D=Kd(D),N!==null&&Mb(N)&&(D=j4(D))),G=!0;break;case"E":ee=!0;var F=fg(P[w].slice(1),{r:A,c:g});v[A][g]=[v[A][g],F];break;case"S":Q=!0,v[A][g]=[v[A][g],"S5S"];break;case"G":break;case"R":q=parseInt(P[w].slice(1))-1;break;case"C":Z=parseInt(P[w].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+B)}if(G&&(v[A][g]&&v[A][g].length==2?v[A][g][0]=D:v[A][g]=D,N=null),Q){if(ee)throw new Error("SYLK shared formula cannot have own formula");var z=q>-1&&v[q][Z];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");v[A][g][1]=Fse(z[1],{r:A-q,c:g-Z})}break;case"F":var V=0;for(w=1;w<P.length;++w)switch(P[w].charAt(0)){case"X":g=parseInt(P[w].slice(1))-1,++V;break;case"Y":for(A=parseInt(P[w].slice(1))-1,C=v.length;C<=A;++C)v[C]=[];break;case"M":M=parseInt(P[w].slice(1))/20;break;case"F":break;case"G":break;case"P":N=j[parseInt(P[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=P[w].slice(1).split(" "),C=parseInt(_[0],10);C<=parseInt(_[1],10);++C)M=parseInt(_[2],10),I[C-1]=M===0?{hidden:!0}:{wch:M},cb(I[C-1]);break;case"C":g=parseInt(P[w].slice(1))-1,I[g]||(I[g]={});break;case"R":A=parseInt(P[w].slice(1))-1,T[A]||(T[A]={}),M>0?(T[A].hpt=M,T[A].hpx=D1(M)):M===0&&(T[A].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+B)}V<1&&(N=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+B)}}return T.length>0&&(S["!rows"]=T),I.length>0&&(S["!cols"]=I),f&&f.sheetRows&&(v=v.slice(0,f.sheetRows)),[v,S]}function o(m,f){var x=a(m,f),A=x[0],g=x[1],b=Pb(A,f);return ih(g).forEach(function(w){b[w]=g[w]}),b}function l(m,f){return w0(o(m,f),f)}function c(m,f,x,A){var g="C;Y"+(x+1)+";X"+(A+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+LUe(m.f,{r:x,c:A}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(m,f){f.forEach(function(x,A){var g="F;W"+(A+1)+" "+(A+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=eS(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=tS(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function u(m,f){f.forEach(function(x,A){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*Tse(x.hpx)+";"),g.length>2&&m.push(g+"R"+(A+1))})}function h(m,f){var x=["ID;PWXL;N;E"],A=[],g=Ea(m["!ref"]),b,w=Array.isArray(m),v=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&d(x,m["!cols"]),m["!rows"]&&u(x,m["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var j=g.s.r;j<=g.e.r;++j)for(var N=g.s.c;N<=g.e.c;++N){var S=cs({r:j,c:N});b=w?(m[j]||[])[N]:m[S],!(!b||b.v==null&&(!b.f||b.F))&&A.push(c(b,m,j,N))}return x.join(v)+v+A.join(v)+v+"E"+v}return{to_workbook:l,to_sheet:o,from_sheet:h}})(),YRe=(function(){function t(i,o){switch(o.type){case"base64":return e(yc(i),o);case"binary":return e(i,o);case"buffer":return e(Ms&&Buffer.isBuffer(i)?i.toString("binary"):Lx(i),o);case"array":return e(yx(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),f=m[0],x=m[1];++u;for(var A=l[u]||"";(A.match(/["]/g)||[]).length&1&&u<l.length-1;)A+=`
`+l[++u];switch(A=A.trim(),+f){case-1:if(A==="BOT"){h[++c]=[],d=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?h[c][d]=!0:A==="FALSE"?h[c][d]=!1:isNaN(Kd(x))?isNaN(lb(x).getDate())?h[c][d]=x:h[c][d]=Fi(x):h[c][d]=Kd(x),++d;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),h[c][d++]=A!==""?A:null;break}if(A==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function s(i,o){return Pb(t(i,o),o)}function n(i,o){return w0(s(i,o),o)}var a=(function(){var i=function(c,d,u,h,m){c.push(d),c.push(u+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=Ea(c["!ref"]),h,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){o(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var A=cs({r:f,c:x});if(h=m?(c[f]||[])[x]:c[A],!h){o(d,1,0,"");continue}switch(h.t){case"n":var g=h.w;!g&&h.v!=null&&(g=h.v),g==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=id(h.z||hs[14],ol(Fi(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var b=`\r
`,w=d.join(b);return w}})();return{to_workbook:n,to_sheet:s,from_sheet:a}})(),JRe=(function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(h,m){for(var f=h.split(`
`),x=-1,A=-1,g=0,b=[];g!==f.length;++g){var w=f[g].trim().split(":");if(w[0]==="cell"){var v=nl(w[1]);if(b.length<=v.r)for(x=b.length;x<=v.r;++x)b[x]||(b[x]=[]);switch(x=v.r,A=v.c,w[2]){case"t":b[x][A]=t(w[3]);break;case"v":b[x][A]=+w[3];break;case"vtf":var j=w[w.length-1];case"vtc":switch(w[3]){case"nl":b[x][A]=!!+w[4];break;default:b[x][A]=+w[4];break}w[2]=="vtf"&&(b[x][A]=[b[x][A],j])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function n(h,m){return Pb(s(h,m),m)}function a(h,m){return w0(n(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],f=[],x,A="",g=Fb(h["!ref"]),b=Array.isArray(h),w=g.s.r;w<=g.e.r;++w)for(var v=g.s.c;v<=g.e.c;++v)if(A=cs({r:w,c:v}),x=b?(h[w]||[])[v]:h[A],!(!x||x.v==null||x.t==="z")){switch(f=["cell",A,"t"],x.t){case"s":case"str":f.push(e(x.v));break;case"n":x.f?(f[2]="vtf",f[3]="n",f[4]=x.v,f[5]=e(x.f)):(f[2]="v",f[3]=x.v);break;case"b":f[2]="vt"+(x.f?"f":"c"),f[3]="nl",f[4]=x.v?"1":"0",f[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var j=ol(Fi(x.v));f[2]="vtc",f[3]="nd",f[4]=""+j,f[5]=x.w||id(x.z||hs[14],j);break;case"e":continue}m.push(f.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(h){return[i,o,l,o,d(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}})(),I1=(function(){function t(u,h,m,f,x){x.raw?h[m][f]=u:u===""||(u==="TRUE"?h[m][f]=!0:u==="FALSE"?h[m][f]=!1:isNaN(Kd(u))?isNaN(lb(u).getDate())?h[m][f]=u:h[m][f]=Fi(u):h[m][f]=Kd(u))}function e(u,h){var m=h||{},f=[];if(!u||u.length===0)return f;for(var x=u.split(/[\r\n]/),A=x.length-1;A>=0&&x[A].length===0;)--A;for(var g=10,b=0,w=0;w<=A;++w)b=x[w].indexOf(" "),b==-1?b=x[w].length:b++,g=Math.max(g,b);for(w=0;w<=A;++w){f[w]=[];var v=0;for(t(x[w].slice(0,g).trim(),f,w,v,m),v=1;v<=(x[w].length-g)/10+1;++v)t(x[w].slice(g+(v-1)*10,g+v*10).trim(),f,w,v,m)}return m.sheetRows&&(f=f.slice(0,m.sheetRows)),f}var s={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var h={},m=!1,f=0,x=0;f<u.length;++f)(x=u.charCodeAt(f))==34?m=!m:!m&&x in s&&(h[x]=(h[x]||0)+1);x=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&x.push([h[f],f]);if(!x.length){h=n;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&x.push([h[f],f])}return x.sort(function(A,g){return A[0]-g[0]||n[A[1]]-n[g[1]]}),s[x.pop()[1]]||44}function i(u,h){var m=h||{},f="",x=m.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=a(u.slice(0,1024)):m&&m.FS?f=m.FS:f=a(u.slice(0,1024));var g=0,b=0,w=0,v=0,j=0,N=f.charCodeAt(0),S=!1,T=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var _=m.dateNF!=null?cDe(m.dateNF):null;function M(){var C=u.slice(v,j),B={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)B.t="z";else if(m.raw)B.t="s",B.v=C;else if(C.trim().length===0)B.t="s",B.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(B.t="s",B.v=C.slice(2,-1).replace(/""/g,'"')):RUe(C)?(B.t="n",B.f=C.slice(1)):(B.t="s",B.v=C);else if(C=="TRUE")B.t="b",B.v=!0;else if(C=="FALSE")B.t="b",B.v=!1;else if(!isNaN(w=Kd(C)))B.t="n",m.cellText!==!1&&(B.w=C),B.v=w;else if(!isNaN(lb(C).getDate())||_&&C.match(_)){B.z=m.dateNF||hs[14];var P=0;_&&C.match(_)&&(C=dDe(C,m.dateNF,C.match(_)||[]),P=1),m.cellDates?(B.t="d",B.v=Fi(C,P)):(B.t="n",B.v=ol(Fi(C,P))),m.cellText!==!1&&(B.w=id(B.z,B.v instanceof Date?ol(B.v):B.v)),m.cellNF||delete B.z}else B.t="s",B.v=C;if(B.t=="z"||(m.dense?(x[g]||(x[g]=[]),x[g][b]=B):x[cs({c:b,r:g})]=B),v=j+1,I=u.charCodeAt(v),A.e.c<b&&(A.e.c=b),A.e.r<g&&(A.e.r=g),T==N)++b;else if(b=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;j<u.length;++j)switch(T=u.charCodeAt(j)){case 34:I===34&&(S=!S);break;case N:case 10:case 13:if(!S&&M())break e;break}return j-v>0&&M(),x["!ref"]=Is(A),x}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):Pb(e(u,h),h)}function l(u,h){var m="",f=h.type=="string"?[0,0,0,0]:WL(u,h);switch(h.type){case"base64":m=yc(u);break;case"binary":m=u;break;case"buffer":h.codepage==65001?m=u.toString("utf8"):h.codepage&&typeof B1<"u"||(m=Ms&&Buffer.isBuffer(u)?u.toString("binary"):Lx(u));break;case"array":m=yx(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?m=Un(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Un(m):h.type=="binary"&&typeof B1<"u",m.slice(0,19)=="socialcalc:version:"?JRe.to_sheet(h.type=="string"?m:Un(m),h):o(m,h)}function c(u,h){return w0(l(u,h),h)}function d(u){for(var h=[],m=Ea(u["!ref"]),f,x=Array.isArray(u),A=m.s.r;A<=m.e.r;++A){for(var g=[],b=m.s.c;b<=m.e.c;++b){var w=cs({r:A,c:b});if(f=x?(u[A]||[])[b]:u[w],!f||f.v==null){g.push("          ");continue}for(var v=(f.w||(If(f),f.w)||"").slice(0,10);v.length<10;)v+=" ";g.push(v+(b===0?" ":""))}h.push(g.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}})();function ZRe(t,e){var s=e||{},n=!!s.WTF;s.WTF=!0;try{var a=XRe.to_workbook(t,s);return s.WTF=n,a}catch(i){if(s.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return I1.to_workbook(t,e)}}var _v=(function(){function t(F,z,V){if(F){Ki(F,F.l||0);for(var W=V.Enum||q;F.l<F.length;){var ne=F.read_shift(2),ie=W[ne]||W[65535],be=F.read_shift(2),ue=F.l+be,je=ie.f&&ie.f(F,be,V);if(F.l=ue,z(je,ie,ne))return}}}function e(F,z){switch(z.type){case"base64":return s(Ud(yc(F)),z);case"binary":return s(Ud(F),z);case"buffer":case"array":return s(F,z)}throw"Unsupported type "+z.type}function s(F,z){if(!F)return F;var V=z||{},W=V.dense?[]:{},ne="Sheet1",ie="",be=0,ue={},je=[],Be=[],oe={s:{r:0,c:0},e:{r:0,c:0}},lt=V.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)V.Enum=q,t(F,function(xe,He,$e){switch($e){case 0:V.vers=xe,xe>=4096&&(V.qpro=!0);break;case 6:oe=xe;break;case 204:xe&&(ie=xe);break;case 222:ie=xe;break;case 15:case 51:V.qpro||(xe[1].v=xe[1].v.slice(1));case 13:case 14:case 16:$e==14&&(xe[2]&112)==112&&(xe[2]&15)>1&&(xe[2]&15)<15&&(xe[1].z=V.dateNF||hs[14],V.cellDates&&(xe[1].t="d",xe[1].v=j4(xe[1].v))),V.qpro&&xe[3]>be&&(W["!ref"]=Is(oe),ue[ne]=W,je.push(ne),W=V.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},be=xe[3],ne=ie||"Sheet"+(be+1),ie="");var Xe=V.dense?(W[xe[0].r]||[])[xe[0].c]:W[cs(xe[0])];if(Xe){Xe.t=xe[1].t,Xe.v=xe[1].v,xe[1].z!=null&&(Xe.z=xe[1].z),xe[1].f!=null&&(Xe.f=xe[1].f);break}V.dense?(W[xe[0].r]||(W[xe[0].r]=[]),W[xe[0].r][xe[0].c]=xe[1]):W[cs(xe[0])]=xe[1];break}},V);else if(F[2]==26||F[2]==14)V.Enum=Z,F[2]==14&&(V.qpro=!0,F.l=0),t(F,function(xe,He,$e){switch($e){case 204:ne=xe;break;case 22:xe[1].v=xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xe[3]>be&&(W["!ref"]=Is(oe),ue[ne]=W,je.push(ne),W=V.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},be=xe[3],ne="Sheet"+(be+1)),lt>0&&xe[0].r>=lt)break;V.dense?(W[xe[0].r]||(W[xe[0].r]=[]),W[xe[0].r][xe[0].c]=xe[1]):W[cs(xe[0])]=xe[1],oe.e.c<xe[0].c&&(oe.e.c=xe[0].c),oe.e.r<xe[0].r&&(oe.e.r=xe[0].r);break;case 27:xe[14e3]&&(Be[xe[14e3][0]]=xe[14e3][1]);break;case 1537:Be[xe[0]]=xe[1],xe[0]==be&&(ne=xe[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(W["!ref"]=Is(oe),ue[ie||ne]=W,je.push(ie||ne),!Be.length)return{SheetNames:je,Sheets:ue};for(var se={},J=[],Pe=0;Pe<Be.length;++Pe)ue[je[Pe]]?(J.push(Be[Pe]||je[Pe]),se[Be[Pe]]=ue[Be[Pe]]||ue[je[Pe]]):(J.push(Be[Pe]),se[Be[Pe]]={"!ref":"A1"});return{SheetNames:J,Sheets:se}}function n(F,z){var V=z||{};if(+V.codepage>=0&&zd(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var W=FF(),ne=Ea(F["!ref"]),ie=Array.isArray(F),be=[];Pd(W,0,i(1030)),Pd(W,6,c(ne));for(var ue=Math.min(ne.e.r,8191),je=ne.s.r;je<=ue;++je)for(var Be=to(je),oe=ne.s.c;oe<=ne.e.c;++oe){je===ne.s.r&&(be[oe]=mi(oe));var lt=be[oe]+Be,se=ie?(F[je]||[])[oe]:F[lt];if(!(!se||se.t=="z"))if(se.t=="n")(se.v|0)==se.v&&se.v>=-32768&&se.v<=32767?Pd(W,13,f(je,oe,se.v)):Pd(W,14,A(je,oe,se.v));else{var J=If(se);Pd(W,15,h(je,oe,J.slice(0,239)))}}return Pd(W,1),W.end()}function a(F,z){var V=z||{};if(+V.codepage>=0&&zd(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var W=FF();Pd(W,0,o(F));for(var ne=0,ie=0;ne<F.SheetNames.length;++ne)(F.Sheets[F.SheetNames[ne]]||{})["!ref"]&&Pd(W,27,ee(F.SheetNames[ne],ie++));var be=0;for(ne=0;ne<F.SheetNames.length;++ne){var ue=F.Sheets[F.SheetNames[ne]];if(!(!ue||!ue["!ref"])){for(var je=Ea(ue["!ref"]),Be=Array.isArray(ue),oe=[],lt=Math.min(je.e.r,8191),se=je.s.r;se<=lt;++se)for(var J=to(se),Pe=je.s.c;Pe<=je.e.c;++Pe){se===je.s.r&&(oe[Pe]=mi(Pe));var xe=oe[Pe]+J,He=Be?(ue[se]||[])[Pe]:ue[xe];if(!(!He||He.t=="z"))if(He.t=="n")Pd(W,23,M(se,Pe,be,He.v));else{var $e=If(He);Pd(W,22,T(se,Pe,be,$e.slice(0,239)))}}++be}}return Pd(W,1),W.end()}function i(F){var z=li(2);return z.write_shift(2,F),z}function o(F){var z=li(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var V=0,W=0,ne=0,ie=0;ie<F.SheetNames.length;++ie){var be=F.SheetNames[ie],ue=F.Sheets[be];if(!(!ue||!ue["!ref"])){++ne;var je=Fb(ue["!ref"]);V<je.e.r&&(V=je.e.r),W<je.e.c&&(W=je.e.c)}}return V>8191&&(V=8191),z.write_shift(2,V),z.write_shift(1,ne),z.write_shift(1,W),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function l(F,z,V){var W={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&V.qpro?(W.s.c=F.read_shift(1),F.l++,W.s.r=F.read_shift(2),W.e.c=F.read_shift(1),F.l++,W.e.r=F.read_shift(2),W):(W.s.c=F.read_shift(2),W.s.r=F.read_shift(2),z==12&&V.qpro&&(F.l+=2),W.e.c=F.read_shift(2),W.e.r=F.read_shift(2),z==12&&V.qpro&&(F.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(F){var z=li(8);return z.write_shift(2,F.s.c),z.write_shift(2,F.s.r),z.write_shift(2,F.e.c),z.write_shift(2,F.e.r),z}function d(F,z,V){var W=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(W[0].c=F.read_shift(1),W[3]=F.read_shift(1),W[0].r=F.read_shift(2),F.l+=2):(W[2]=F.read_shift(1),W[0].c=F.read_shift(2),W[0].r=F.read_shift(2)),W}function u(F,z,V){var W=F.l+z,ne=d(F,z,V);if(ne[1].t="s",V.vers==20768){F.l++;var ie=F.read_shift(1);return ne[1].v=F.read_shift(ie,"utf8"),ne}return V.qpro&&F.l++,ne[1].v=F.read_shift(W-F.l,"cstr"),ne}function h(F,z,V){var W=li(7+V.length);W.write_shift(1,255),W.write_shift(2,z),W.write_shift(2,F),W.write_shift(1,39);for(var ne=0;ne<W.length;++ne){var ie=V.charCodeAt(ne);W.write_shift(1,ie>=128?95:ie)}return W.write_shift(1,0),W}function m(F,z,V){var W=d(F,z,V);return W[1].v=F.read_shift(2,"i"),W}function f(F,z,V){var W=li(7);return W.write_shift(1,255),W.write_shift(2,z),W.write_shift(2,F),W.write_shift(2,V,"i"),W}function x(F,z,V){var W=d(F,z,V);return W[1].v=F.read_shift(8,"f"),W}function A(F,z,V){var W=li(13);return W.write_shift(1,255),W.write_shift(2,z),W.write_shift(2,F),W.write_shift(8,V,"f"),W}function g(F,z,V){var W=F.l+z,ne=d(F,z,V);if(ne[1].v=F.read_shift(8,"f"),V.qpro)F.l=W;else{var ie=F.read_shift(2);j(F.slice(F.l,F.l+ie),ne),F.l+=ie}return ne}function b(F,z,V){var W=z&32768;return z&=-32769,z=(W?F:0)+(z>=8192?z-16384:z),(W?"":"$")+(V?mi(z):to(z))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(F,z){Ki(F,0);for(var V=[],W=0,ne="",ie="",be="",ue="";F.l<F.length;){var je=F[F.l++];switch(je){case 0:V.push(F.read_shift(8,"f"));break;case 1:ie=b(z[0].c,F.read_shift(2),!0),ne=b(z[0].r,F.read_shift(2),!1),V.push(ie+ne);break;case 2:{var Be=b(z[0].c,F.read_shift(2),!0),oe=b(z[0].r,F.read_shift(2),!1);ie=b(z[0].c,F.read_shift(2),!0),ne=b(z[0].r,F.read_shift(2),!1),V.push(Be+oe+":"+ie+ne)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(F.read_shift(2));break;case 6:{for(var lt="";je=F[F.l++];)lt+=String.fromCharCode(je);V.push('"'+lt.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ue=V.pop(),be=V.pop(),V.push(["AND","OR"][je-20]+"("+be+","+ue+")");break;default:if(je<32&&v[je])ue=V.pop(),be=V.pop(),V.push(be+v[je]+ue);else if(w[je]){if(W=w[je][1],W==69&&(W=F[F.l++]),W>V.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+V.join("|")+"|");return}var se=V.slice(-W);V.length-=W,V.push(w[je][0]+"("+se.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}V.length==1?z[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function N(F){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=F.read_shift(2),z[3]=F[F.l++],z[0].c=F[F.l++],z}function S(F,z){var V=N(F);return V[1].t="s",V[1].v=F.read_shift(z-4,"cstr"),V}function T(F,z,V,W){var ne=li(6+W.length);ne.write_shift(2,F),ne.write_shift(1,V),ne.write_shift(1,z),ne.write_shift(1,39);for(var ie=0;ie<W.length;++ie){var be=W.charCodeAt(ie);ne.write_shift(1,be>=128?95:be)}return ne.write_shift(1,0),ne}function I(F,z){var V=N(F);V[1].v=F.read_shift(2);var W=V[1].v>>1;if(V[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return V[1].v=W,V}function _(F,z){var V=N(F),W=F.read_shift(4),ne=F.read_shift(4),ie=F.read_shift(2);if(ie==65535)return W===0&&ne===3221225472?(V[1].t="e",V[1].v=15):W===0&&ne===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var be=ie&32768;return ie=(ie&32767)-16446,V[1].v=(1-be*2)*(ne*Math.pow(2,ie+32)+W*Math.pow(2,ie)),V}function M(F,z,V,W){var ne=li(14);if(ne.write_shift(2,F),ne.write_shift(1,V),ne.write_shift(1,z),W==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var ie=0,be=0,ue=0,je=0;return W<0&&(ie=1,W=-W),be=Math.log2(W)|0,W/=Math.pow(2,be-31),je=W>>>0,(je&2147483648)==0&&(W/=2,++be,je=W>>>0),W-=je,je|=2147483648,je>>>=0,W*=Math.pow(2,32),ue=W>>>0,ne.write_shift(4,ue),ne.write_shift(4,je),be+=16383+(ie?32768:0),ne.write_shift(2,be),ne}function C(F,z){var V=_(F);return F.l+=z-14,V}function B(F,z){var V=N(F),W=F.read_shift(4);return V[1].v=W>>6,V}function P(F,z){var V=N(F),W=F.read_shift(8,"f");return V[1].v=W,V}function H(F,z){var V=P(F);return F.l+=z-10,V}function D(F,z){return F[F.l+z-1]==0?F.read_shift(z,"cstr"):""}function G(F,z){var V=F[F.l++];V>z-1&&(V=z-1);for(var W="";W.length<V;)W+=String.fromCharCode(F[F.l++]);return W}function O(F,z,V){if(!(!V.qpro||z<21)){var W=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var ne=F.read_shift(z-21,"cstr");return[W,ne]}}function Q(F,z){for(var V={},W=F.l+z;F.l<W;){var ne=F.read_shift(2);if(ne==14e3){for(V[ne]=[0,""],V[ne][0]=F.read_shift(2);F[F.l];)V[ne][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return V}function ee(F,z){var V=li(5+F.length);V.write_shift(2,14e3),V.write_shift(2,z);for(var W=0;W<F.length;++W){var ne=F.charCodeAt(W);V[V.l++]=ne>127?95:ne}return V[V.l++]=0,V}var q={0:{n:"BOF",f:Ka},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:D},222:{n:"SHEETNAMELP",f:G},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:D},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:O},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})();function eOe(t){var e={},s=t.match(Ho),n=0,a=!1;if(s)for(;n!=s.length;++n){var i=Yr(s[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=jL[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var tOe=(function(){var t=F1("t"),e=F1("rPr");function s(i){var o=i.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:Us(o[1])},c=i.match(e);return c&&(l.s=eOe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(s).filter(function(l){return l.v})}})(),rOe=(function(){var e=/(\r\n|\n)/g;function s(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&s(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),sOe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,nOe=/<(?:\w+:)?r>/,aOe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function UL(t,e){var s=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Us(Un(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Un(t),s&&(n.h=TL(n.t))):t.match(nOe)&&(n.r=Un(t),n.t=Us(Un((t.replace(aOe,"").match(sOe)||[]).join("").replace(Ho,""))),s&&(n.h=rOe(tOe(n.r)))),n):{t:""}}var iOe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,oOe=/<(?:\w+:)?(?:si|sstItem)>/g,lOe=/<\/(?:\w+:)?(?:si|sstItem)>/;function cOe(t,e){var s=[],n="";if(!t)return s;var a=t.match(iOe);if(a){n=a[2].replace(oOe,"").split(lOe);for(var i=0;i!=n.length;++i){var o=UL(n[i].trim(),e);o!=null&&(s[s.length]=o)}a=Yr(a[1]),s.Count=a.count,s.Unique=a.uniqueCount}return s}function dOe(t){return[t.read_shift(4),t.read_shift(4)]}function uOe(t,e){var s=[],n=!1;return Hf(t,function(i,o,l){switch(l){case 159:s.Count=i[0],s.Unique=i[1];break;case 19:s.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),s}function Nse(t){for(var e=[],s=t.split(""),n=0;n<s.length;++n)e[n]=s[n].charCodeAt(0);return e}function Cf(t,e){var s={};return s.Major=t.read_shift(2),s.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),s}function hOe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Cf(t,4),e.U=Cf(t,4),e.W=Cf(t,4),e}function fOe(t){for(var e=t.read_shift(4),s=t.l+e-4,n={},a=t.read_shift(4),i=[];a-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=i,t.l!=s)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+s);return n}function mOe(t){var e=[];t.l+=4;for(var s=t.read_shift(4);s-- >0;)e.push(fOe(t));return e}function pOe(t){var e=[];t.l+=4;for(var s=t.read_shift(4);s-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function xOe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Cf(t,4),e.U=Cf(t,4),e.W=Cf(t,4),e}function AOe(t){var e=xOe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Sse(t,e){var s=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(s-t.l>>1,"utf16le"),t.l=s,n}function Cse(t,e){var s={},n=t.l+e;return t.l+=4,s.Salt=t.slice(t.l,t.l+16),t.l+=16,s.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),s.VerifierHash=t.slice(t.l,n),t.l=n,s}function gOe(t){var e=Cf(t);switch(e.Minor){case 2:return[e.Minor,bOe(t)];case 3:return[e.Minor,yOe()];case 4:return[e.Minor,vOe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function bOe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var s=t.read_shift(4),n=Sse(t,s),a=Cse(t,t.length-t.l);return{t:"Std",h:n,v:a}}function yOe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function vOe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var s=t.read_shift(t.length-t.l,"utf8"),n={};return s.replace(Ho,function(i){var o=Yr(i);switch(uh(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function wOe(t,e){var s={},n=s.EncryptionVersionInfo=Cf(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);s.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,s.EncryptionHeader=Sse(t,a),e-=a,s.EncryptionVerifier=Cse(t,e),s}function jOe(t){var e={},s=e.EncryptionVersionInfo=Cf(t,4);if(s.Major!=1||s.Minor!=1)throw"unrecognized version code "+s.Major+" : "+s.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function NOe(t){var e=0,s,n=Nse(t),a=n.length+1,i,o,l,c,d;for(s=f0(a),s[0]=n.length,i=1;i!=a;++i)s[i]=n[i-1];for(i=a-1;i>=0;--i)o=s[i],l=(e&16384)===0?0:1,c=e<<1&32767,d=l|c,e=d^o;return e^52811}var _se=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],s=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=e[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],h=0;h!=7;++h)u&64&&(l^=s[c]),u*=2,--c;return l};return function(o){for(var l=Nse(o),c=i(l),d=l.length,u=f0(16),h=0;h!=16;++h)u[h]=0;var m,f,x;for((d&1)===1&&(m=c>>8,u[d]=a(t[0],m),--d,m=c&255,f=l[l.length-1],u[d]=a(f,m));d>0;)--d,m=c>>8,u[d]=a(l[d],m),--d,m=c&255,u[d]=a(l[d],m);for(d=15,x=15-l.length;x>0;)m=c>>8,u[d]=a(t[x],m),--d,--x,m=c&255,u[d]=a(l[d],m),--d,--x;return u}})(),SOe=function(t,e,s,n,a){a||(a=e),n||(n=_se(t));var i,o;for(i=0;i!=e.length;++i)o=e[i],o^=n[s],o=(o>>5|o<<3)&255,a[i]=o,++s;return[a,s,n]},COe=function(t){var e=0,s=_se(t);return function(n){var a=SOe("",n,e,s);return e=a[1],a[0]}};function _Oe(t,e,s,n){var a={key:Ka(t),verificationBytes:Ka(t)};return s.password&&(a.verifier=NOe(s.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=COe(s.password)),a}function EOe(t,e,s){var n=s||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=jOe(t):n.Data=wOe(t,e),n}function kOe(t,e,s){var n={Type:s.biff>=8?t.read_shift(2):0};return n.Type?EOe(t,e-2,n):_Oe(t,s.biff>=8?e:e-2,s,n),n}var TOe=(function(){function t(a,i){switch(i.type){case"base64":return e(yc(a),i);case"binary":return e(a,i);case"buffer":return e(Ms&&Buffer.isBuffer(a)?a.toString("binary"):Lx(a),i);case"array":return e(yx(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,f=0,x,A=-1;x=m.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(f,m.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++A,g.length){var b={v:g,t:"s"};Array.isArray(l)?l[h][A]=b:l[cs({r:h,c:A})]=b}break}f=m.lastIndex}A>d.e.c&&(d.e.c=A)}),l["!ref"]=Is(d),l}function s(a,i){return w0(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Ea(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=cs({r:d,c:u});l=c?(a[d]||[])[u]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(If(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:s,to_sheet:t,from_sheet:n}})();function BOe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function L1(t){for(var e=0,s=1;e!=3;++e)s=s*256+(t[e]>255?255:t[e]<0?0:t[e]);return s.toString(16).toUpperCase().slice(1)}function MOe(t){var e=t[0]/255,s=t[1]/255,n=t[2]/255,a=Math.max(e,s,n),i=Math.min(e,s,n),o=a-i;if(o===0)return[0,0,e];var l=0,c=0,d=a+i;switch(c=o/(d>1?2-d:d),a){case e:l=((s-n)/o+6)%6;break;case s:l=(n-e)/o+2;break;case n:l=(e-s)/o+4;break}return[l/6,c,d/2]}function FOe(t){var e=t[0],s=t[1],n=t[2],a=s*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*e,c;if(s!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function Z5(t,e){if(e===0)return t;var s=MOe(BOe(t));return e<0?s[2]=s[2]*(1+e):s[2]=1-(1-s[2])*(1-e),L1(FOe(s))}var Ese=6,POe=15,IOe=1,el=Ese;function eS(t){return Math.floor((t+Math.round(128/el)/256)*el)}function tS(t){return Math.floor((t-5)/el*100+.5)/100}function DF(t){return Math.round((t*el+5)/el*256)/256}function X6(t){return DF(tS(eS(t)))}function HL(t){var e=Math.abs(t-X6(t)),s=el;if(e>.005)for(el=IOe;el<POe;++el)Math.abs(t-X6(t))<=e&&(e=Math.abs(t-X6(t)),s=el);el=s}function cb(t){t.width?(t.wpx=eS(t.width),t.wch=tS(t.wpx),t.MDW=el):t.wpx?(t.wch=tS(t.wpx),t.width=DF(t.wch),t.MDW=el):typeof t.wch=="number"&&(t.width=DF(t.wch),t.wpx=eS(t.width),t.MDW=el),t.customWidth&&delete t.customWidth}var LOe=96,kse=LOe;function Tse(t){return t*96/kse}function D1(t){return t*kse/96}var DOe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function ROe(t,e,s,n){e.Borders=[];var a={},i=!1;(t[0].match(Ho)||[]).forEach(function(o){var l=Yr(o);switch(uh(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=ta(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=ta(l.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function OOe(t,e,s,n){e.Fills=[];var a={},i=!1;(t[0].match(Ho)||[]).forEach(function(o){var l=Yr(o);switch(uh(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function UOe(t,e,s,n){e.Fonts=[];var a={},i=!1;(t[0].match(Ho)||[]).forEach(function(o){var l=Yr(o);switch(uh(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Un(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?ta(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?ta(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?ta(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?ta(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?ta(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?ta(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?ta(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=jL[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=ta(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Zp[a.color.index];a.color.index==81&&(c=Zp[1]),c||(c=Zp[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&s.themeElements&&s.themeElements.clrScheme&&(a.color.rgb=Z5(s.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function HOe(t,e,s){e.NumberFmt=[];for(var n=ih(hs),a=0;a<n.length;++a)e.NumberFmt[n[a]]=hs[n[a]];var i=t[0].match(Ho);if(i)for(a=0;a<i.length;++a){var o=Yr(i[a]);switch(uh(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Us(Un(o.formatCode)),c=parseInt(o.numFmtId,10);if(e.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=l}Jp(l,c)}}break;case"</numFmt>":break;default:if(s.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var fj=["numFmtId","fillId","fontId","borderId","xfId"],mj=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function QOe(t,e,s){e.CellXf=[];var n,a=!1;(t[0].match(Ho)||[]).forEach(function(i){var o=Yr(i),l=0;switch(uh(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<fj.length;++l)n[fj[l]]&&(n[fj[l]]=parseInt(n[fj[l]],10));for(l=0;l<mj.length;++l)n[mj[l]]&&(n[mj[l]]=ta(n[mj[l]]));if(e.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[l]){n.numFmtId=l;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=ta(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s&&s.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var $Oe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,s=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(e))&&HOe(h,u,d),(h=l.match(a))&&UOe(h,u,c,d),(h=l.match(n))&&OOe(h,u,c,d),(h=l.match(i))&&ROe(h,u,c,d),(h=l.match(s))&&QOe(h,u,d),u}})();function zOe(t,e){var s=t.read_shift(2),n=Lo(t);return[s,n]}function GOe(t,e,s){var n={};n.sz=t.read_shift(2)/20;var a=t8e(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var l=t.read_shift(1);l>0&&(n.family=l);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=e8e(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Lo(t),n}var VOe=Uo;function WOe(t,e){var s=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=s,{ixfe:n,numFmtId:a}}var qOe=Uo;function KOe(t,e,s){var n={};n.NumberFmt=[];for(var a in hs)n.NumberFmt[a]=hs[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Hf(t,function(c,d,u){switch(u){case 44:n.NumberFmt[c[0]]=c[1],Jp(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=Z5(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!o||s.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var XOe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function YOe(t,e,s){e.themeElements.clrScheme=[];var n={};(t[0].match(Ho)||[]).forEach(function(a){var i=Yr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[XOe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(s&&s.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function JOe(){}function ZOe(){}var eUe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,tUe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,rUe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function sUe(t,e,s){e.themeElements={};var n;[["clrScheme",eUe,YOe],["fontScheme",tUe,JOe],["fmtScheme",rUe,ZOe]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,s)})}var nUe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Bse(t,e){(!t||t.length===0)&&(t=aUe());var s,n={};if(!(s=t.match(nUe)))throw new Error("themeElements not found in theme");return sUe(s[0],n,e),n.raw=t,n}function aUe(t,e){var s=[Qre];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function iUe(t,e,s){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!s.cellStyles){t.l=n;return}var i=t.slice(t.l);t.l=n;var o;try{o=Hre(i,{type:"array"})}catch{return}var l=cc(o,"theme/theme/theme1.xml",!0);if(l)return Bse(l,s)}}function oUe(t){return t.read_shift(4)}function lUe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=cUe(t,4);break;case 2:e.xclrValue=Ase(t);break;case 3:e.xclrValue=oUe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function cUe(t,e){return Uo(t,e)}function dUe(t,e){return Uo(t,e)}function uUe(t){var e=t.read_shift(2),s=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=lUe(t);break;case 6:n[1]=dUe(t,s);break;case 14:case 15:n[1]=t.read_shift(s===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+s)}return n}function hUe(t,e){var s=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),i=[];a-- >0;)i.push(uUe(t,s-t.l));return{ixfe:n,ext:i}}function fUe(t,e){e.forEach(function(s){s[0]})}function mUe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Lo(t)}}function pUe(t){for(var e=[],s=t.read_shift(4);s-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function xUe(t){return t.l+=4,t.read_shift(4)!=0}function AUe(t,e,s){var n={Types:[],Cell:[],Value:[]},a=s||{},i=[],o=!1,l=2;return Hf(t,function(c,d,u){switch(u){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):l==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function gUe(t,e,s){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,i=2,o;return t.replace(Ho,function(l){var c=Yr(l);switch(uh(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==c.name&&(o=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&s.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function bUe(t){var e=[];if(!t)return e;var s=1;return(t.match(Ho)||[]).forEach(function(n){var a=Yr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?s=a.i:a.i=s,e.push(a);break}}),e}function yUe(t){var e={};e.i=t.read_shift(4);var s={};s.r=t.read_shift(4),s.c=t.read_shift(4),e.r=cs(s);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function vUe(t,e,s){var n=[];return Hf(t,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function wUe(t,e,s,n){if(!t)return t;var a=n||{},i=!1;Hf(t,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function jUe(t,e){if(!t)return"??";var s=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][s].Target}function TV(t,e,s,n){var a=Array.isArray(t),i;e.forEach(function(o){var l=nl(o.ref);if(a?(t[l.r]||(t[l.r]=[]),i=t[l.r][l.c]):i=t[o.ref],!i){i={t:"z"},a?t[l.r][l.c]=i:t[o.ref]=i;var c=Ea(t["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=Is(c);d!==t["!ref"]&&(t["!ref"]=d)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:s};o.h&&(u.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!s&&i.c[h].T)return;s&&!i.c[h].T&&i.c.splice(h,1)}if(s&&n){for(h=0;h<n.length;++h)if(u.a==n[h].id){u.a=n[h].name||u.a;break}}i.c.push(u)})}function NUe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var s=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&s.push(l[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Yr(l[0]),d={author:c.authorId&&s[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=nl(c.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&UL(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=m.h),n.push(d)}}}}),n}function SUe(t,e){var s=[],n=!1,a={},i=0;return t.replace(Ho,function(l,c){var d=Yr(l);switch(uh(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&s.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=t.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),s}function CUe(t,e){var s=[],n=!1;return t.replace(Ho,function(i){var o=Yr(i);switch(uh(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":s.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),s}function _Ue(t){var e={};e.iauthor=t.read_shift(4);var s=Rx(t);return e.rfx=s.s,e.ref=cs(s.s),t.l+=16,e}var EUe=Lo;function kUe(t,e){var s=[],n=[],a={},i=!1;return Hf(t,function(l,c,d){switch(d){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,s.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),s}var TUe="application/vnd.ms-office.vbaProject";function BUe(t){var e=Ps.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(s,n){if(!(s.slice(-1)==="/"||!s.match(/_VBA_PROJECT_CUR/))){var a=s.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ps.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Ps.write(e)}function MUe(){return{"!type":"dialog"}}function FUe(){return{"!type":"dialog"}}function PUe(){return{"!type":"macro"}}function IUe(){return{"!type":"macro"}}var fg=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function s(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=e.c:--u,c?d+=e.r:--d,a+(l?"":"$")+mi(u)+(c?"":"$")+to(d)}return function(a,i){return e=i,a.replace(t,s)}})(),Mse=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,LUe=(function(){return function(e,s){return e.replace(Mse,function(n,a,i,o,l,c){var d=PL(o)-(i?0:s.c),u=FL(c)-(l?0:s.r),h=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return a+"R"+h+"C"+m})}})();function Fse(t,e){return t.replace(Mse,function(s,n,a,i,o,l){return n+(a=="$"?a+i:mi(PL(i)+e.c))+(o=="$"?o+l:to(FL(l)+e.r))})}function DUe(t,e,s){var n=Fb(e),a=n.s,i=nl(s),o={r:i.r-a.r,c:i.c-a.c};return Fse(t,o)}function RUe(t){return t.length!=1}function BV(t){return t.replace(/_xlfn\./g,"")}function Va(t){t.l+=1}function m0(t,e){var s=t.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function Pse(t,e,s){var n=2;if(s){if(s.biff>=2&&s.biff<=5)return Ise(t);s.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),o=m0(t),l=m0(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Ise(t){var e=m0(t),s=m0(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:s[0],c:a,cRel:s[1],rRel:s[2]}}}function OUe(t,e,s){if(s.biff<8)return Ise(t);var n=t.read_shift(s.biff==12?4:2),a=t.read_shift(s.biff==12?4:2),i=m0(t),o=m0(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Lse(t,e,s){if(s&&s.biff>=2&&s.biff<=5)return UUe(t);var n=t.read_shift(s&&s.biff==12?4:2),a=m0(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function UUe(t){var e=m0(t),s=t.read_shift(1);return{r:e[0],c:s,cRel:e[1],rRel:e[2]}}function HUe(t){var e=t.read_shift(2),s=t.read_shift(2);return{r:e,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function QUe(t,e,s){var n=s&&s.biff?s.biff:8;if(n>=2&&n<=5)return $Ue(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function $Ue(t){var e=t.read_shift(2),s=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&s>=128&&(s=s-256),{r:e,c:s,cRel:a,rRel:n}}function zUe(t,e,s){var n=(t[t.l++]&96)>>5,a=Pse(t,s.biff>=2&&s.biff<=5?6:8,s);return[n,a]}function GUe(t,e,s){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(s)switch(s.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=Pse(t,i,s);return[n,a,o]}function VUe(t,e,s){var n=(t[t.l++]&96)>>5;return t.l+=s&&s.biff>8?12:s.biff<8?6:8,[n]}function WUe(t,e,s){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(s)switch(s.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function qUe(t,e,s){var n=(t[t.l++]&96)>>5,a=OUe(t,e-1,s);return[n,a]}function KUe(t,e,s){var n=(t[t.l++]&96)>>5;return t.l+=s.biff==2?6:s.biff==12?14:7,[n]}function MV(t){var e=t[t.l+1]&1,s=1;return t.l+=4,[e,s]}function XUe(t,e,s){t.l+=2;for(var n=t.read_shift(s&&s.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(s&&s.biff==2?1:2));return a}function YUe(t,e,s){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(s&&s.biff==2?1:2)]}function JUe(t,e,s){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(s&&s.biff==2?1:2)]}function ZUe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function e7e(t,e,s){var n=t[t.l+1]&255?1:0;return t.l+=s&&s.biff==2?3:4,[n]}function Dse(t){var e=t.read_shift(1),s=t.read_shift(1);return[e,s]}function t7e(t){return t.read_shift(2),Dse(t)}function r7e(t){return t.read_shift(2),Dse(t)}function s7e(t,e,s){var n=(t[t.l]&96)>>5;t.l+=1;var a=Lse(t,0,s);return[n,a]}function n7e(t,e,s){var n=(t[t.l]&96)>>5;t.l+=1;var a=QUe(t,0,s);return[n,a]}function a7e(t,e,s){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);s&&s.biff==5&&(t.l+=12);var i=Lse(t,0,s);return[n,a,i]}function i7e(t,e,s){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(s&&s.biff<=3?1:2);return[o9e[a],Use[a],n]}function o7e(t,e,s){var n=t[t.l++],a=t.read_shift(1),i=s&&s.biff<=3?[n==88?-1:0,t.read_shift(1)]:l7e(t);return[a,(i[0]===0?Use:i9e)[i[1]]]}function l7e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function c7e(t,e,s){t.l+=s&&s.biff==2?3:4}function d7e(t,e,s){if(t.l++,s&&s.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(s&&s.biff==2?1:2);return[n,a]}function u7e(t){return t.l++,Ox[t.read_shift(1)]}function h7e(t){return t.l++,t.read_shift(2)}function f7e(t){return t.l++,t.read_shift(1)!==0}function m7e(t){return t.l++,Bo(t)}function p7e(t,e,s){return t.l++,jw(t,e-1,s)}function x7e(t,e){var s=[t.read_shift(1)];if(e==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=Fa(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:s[1]=Ox[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:s[1]=Bo(t);break;case 2:s[1]=Ux(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function A7e(t,e,s){for(var n=t.read_shift(s.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((s.biff==12?Rx:N4)(t));return a}function g7e(t,e,s){var n=0,a=0;s.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),s.biff>=2&&s.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=x7e(t,s.biff);return o}function b7e(t,e,s){var n=t.read_shift(1)>>>5&3,a=!s||s.biff>=8?4:2,i=t.read_shift(a);switch(s.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function y7e(t,e,s){if(s.biff==5)return v7e(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function v7e(t){var e=t.read_shift(1)>>>5&3,s=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,s,n]}function w7e(t,e,s){var n=t.read_shift(1)>>>5&3;t.l+=s&&s.biff==2?3:4;var a=t.read_shift(s&&s.biff==2?1:2);return[n,a]}function j7e(t,e,s){var n=t.read_shift(1)>>>5&3,a=t.read_shift(s&&s.biff==2?1:2);return[n,a]}function N7e(t,e,s){var n=t.read_shift(1)>>>5&3;return t.l+=4,s.biff<8&&t.l--,s.biff==12&&(t.l+=2),[n]}function S7e(t,e,s){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(s)switch(s.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var C7e=Uo,_7e=Uo,E7e=Uo;function Sw(t,e,s){return t.l+=2,[HUe(t)]}function QL(t){return t.l+=6,[]}var k7e=Sw,T7e=QL,B7e=QL,M7e=Sw;function Rse(t){return t.l+=2,[Ka(t),t.read_shift(2)&1]}var F7e=Sw,P7e=Rse,I7e=QL,L7e=Sw,D7e=Sw,R7e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function O7e(t){t.l+=2;var e=t.read_shift(2),s=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),o=R7e[s>>2&31];return{ixti:e,coltype:s&3,rt:o,idx:n,c:a,C:i}}function U7e(t){return t.l+=2,[t.read_shift(4)]}function H7e(t,e,s){return t.l+=5,t.l+=2,t.l+=s.biff==2?1:4,["PTGSHEET"]}function Q7e(t,e,s){return t.l+=s.biff==2?4:5,["PTGENDSHEET"]}function $7e(t){var e=t.read_shift(1)>>>5&3,s=t.read_shift(2);return[e,s]}function z7e(t){var e=t.read_shift(1)>>>5&3,s=t.read_shift(2);return[e,s]}function G7e(t){return t.l+=4,[0,0]}var FV={1:{n:"PtgExp",f:d7e},2:{n:"PtgTbl",f:E7e},3:{n:"PtgAdd",f:Va},4:{n:"PtgSub",f:Va},5:{n:"PtgMul",f:Va},6:{n:"PtgDiv",f:Va},7:{n:"PtgPower",f:Va},8:{n:"PtgConcat",f:Va},9:{n:"PtgLt",f:Va},10:{n:"PtgLe",f:Va},11:{n:"PtgEq",f:Va},12:{n:"PtgGe",f:Va},13:{n:"PtgGt",f:Va},14:{n:"PtgNe",f:Va},15:{n:"PtgIsect",f:Va},16:{n:"PtgUnion",f:Va},17:{n:"PtgRange",f:Va},18:{n:"PtgUplus",f:Va},19:{n:"PtgUminus",f:Va},20:{n:"PtgPercent",f:Va},21:{n:"PtgParen",f:Va},22:{n:"PtgMissArg",f:Va},23:{n:"PtgStr",f:p7e},26:{n:"PtgSheet",f:H7e},27:{n:"PtgEndSheet",f:Q7e},28:{n:"PtgErr",f:u7e},29:{n:"PtgBool",f:f7e},30:{n:"PtgInt",f:h7e},31:{n:"PtgNum",f:m7e},32:{n:"PtgArray",f:KUe},33:{n:"PtgFunc",f:i7e},34:{n:"PtgFuncVar",f:o7e},35:{n:"PtgName",f:b7e},36:{n:"PtgRef",f:s7e},37:{n:"PtgArea",f:zUe},38:{n:"PtgMemArea",f:w7e},39:{n:"PtgMemErr",f:C7e},40:{n:"PtgMemNoMem",f:_7e},41:{n:"PtgMemFunc",f:j7e},42:{n:"PtgRefErr",f:N7e},43:{n:"PtgAreaErr",f:VUe},44:{n:"PtgRefN",f:n7e},45:{n:"PtgAreaN",f:qUe},46:{n:"PtgMemAreaN",f:$7e},47:{n:"PtgMemNoMemN",f:z7e},57:{n:"PtgNameX",f:y7e},58:{n:"PtgRef3d",f:a7e},59:{n:"PtgArea3d",f:GUe},60:{n:"PtgRefErr3d",f:S7e},61:{n:"PtgAreaErr3d",f:WUe},255:{}},V7e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},W7e={1:{n:"PtgElfLel",f:Rse},2:{n:"PtgElfRw",f:L7e},3:{n:"PtgElfCol",f:k7e},6:{n:"PtgElfRwV",f:D7e},7:{n:"PtgElfColV",f:M7e},10:{n:"PtgElfRadical",f:F7e},11:{n:"PtgElfRadicalS",f:I7e},13:{n:"PtgElfColS",f:T7e},15:{n:"PtgElfColSV",f:B7e},16:{n:"PtgElfRadicalLel",f:P7e},25:{n:"PtgList",f:O7e},29:{n:"PtgSxName",f:U7e},255:{}},q7e={0:{n:"PtgAttrNoop",f:G7e},1:{n:"PtgAttrSemi",f:e7e},2:{n:"PtgAttrIf",f:JUe},4:{n:"PtgAttrChoose",f:XUe},8:{n:"PtgAttrGoto",f:YUe},16:{n:"PtgAttrSum",f:c7e},32:{n:"PtgAttrBaxcel",f:MV},33:{n:"PtgAttrBaxcel",f:MV},64:{n:"PtgAttrSpace",f:t7e},65:{n:"PtgAttrSpaceSemi",f:r7e},128:{n:"PtgAttrIfError",f:ZUe},255:{}};function Cw(t,e,s,n){if(n.biff<8)return Uo(t,e);for(var a=t.l+e,i=[],o=0;o!==s.length;++o)switch(s[o][0]){case"PtgArray":s[o][1]=g7e(t,0,n),i.push(s[o][1]);break;case"PtgMemArea":s[o][2]=A7e(t,s[o][1],n),i.push(s[o][2]);break;case"PtgExp":n&&n.biff==12&&(s[o][1][1]=t.read_shift(4),i.push(s[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[o][0]}return e=a-t.l,e!==0&&i.push(Uo(t,e)),i}function _w(t,e,s){for(var n=t.l+e,a,i,o=[];n!=t.l;)e=n-t.l,i=t[t.l],a=FV[i]||FV[V7e[i]],(i===24||i===25)&&(a=(i===24?W7e:q7e)[t[t.l+1]]),!a||!a.f?Uo(t,e):o.push([a.n,a.f(t,e,s)]);return o}function K7e(t){for(var e=[],s=0;s<t.length;++s){for(var n=t[s],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var X7e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Y7e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Ose(t,e,s){if(!t)return"SH33TJSERR0";if(s.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(s.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(s.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return s.SID!=null?t.SheetNames[s.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function PV(t,e,s){var n=Ose(t,e,s);return n=="#REF"?n:Y7e(n,s)}function Eo(t,e,s,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,d,u,h=0,m=0,f,x="";if(!t[0]||!t[0][0])return"";for(var A=-1,g="",b=0,w=t[0].length;b<w;++b){var v=t[0][b];switch(v[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),A>=0){switch(t[0][A][1][0]){case 0:g=Sa(" ",t[0][A][1][1]);break;case 1:g=Sa("\r",t[0][A][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}d=d+g,A=-1}l.push(d+X7e[v[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=jv(v[1][1],o,a),l.push(Nv(u,i));break;case"PtgRefN":u=s?jv(v[1][1],s,a):v[1][1],l.push(Nv(u,i));break;case"PtgRef3d":h=v[1][1],u=jv(v[1][2],o,a),x=PV(n,h,a),l.push(x+"!"+Nv(u,i));break;case"PtgFunc":case"PtgFuncVar":var j=v[1][0],N=v[1][1];j||(j=0),j&=127;var S=j==0?[]:l.slice(-j);l.length-=j,N==="User"&&(N=S.shift()),l.push(N+"("+S.join(",")+")");break;case"PtgBool":l.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(v[1]);break;case"PtgNum":l.push(String(v[1]));break;case"PtgStr":l.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(v[1]);break;case"PtgAreaN":f=mV(v[1][1],s?{s}:o,a),l.push(q6(f,a));break;case"PtgArea":f=mV(v[1][1],o,a),l.push(q6(f,a));break;case"PtgArea3d":h=v[1][1],f=v[1][2],x=PV(n,h,a),l.push(x+"!"+q6(f,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=v[1][2];var T=(n.names||[])[m-1]||(n[0]||[])[m],I=T?T.Name:"SH33TJSNAME"+String(m);I&&I.slice(0,6)=="_xlfn."&&!a.xlfn&&(I=I.slice(6)),l.push(I);break;case"PtgNameX":var _=v[1][1];m=v[1][2];var M;if(a.biff<=5)_<0&&(_=-_),n[_]&&(M=n[_][m]);else{var C="";if(((n[_]||[])[0]||[])[0]==14849||(((n[_]||[])[0]||[])[0]==1025?n[_][m]&&n[_][m].itab>0&&(C=n.SheetNames[n[_][m].itab-1]+"!"):C=n.SheetNames[m-1]+"!"),n[_]&&n[_][m])C+=n[_][m].Name;else if(n[0]&&n[0][m])C+=n[0][m].Name;else{var B=(Ose(n,_,a)||"").split(";;");B[m-1]?C=B[m-1]:C+="SH33TJSERRX"}l.push(C);break}M||(M={Name:"SH33TJSERRY"}),l.push(M.Name);break;case"PtgParen":var P="(",H=")";if(A>=0){switch(g="",t[0][A][1][0]){case 2:P=Sa(" ",t[0][A][1][1])+P;break;case 3:P=Sa("\r",t[0][A][1][1])+P;break;case 4:H=Sa(" ",t[0][A][1][1])+H;break;case 5:H=Sa("\r",t[0][A][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}A=-1}l.push(P+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:v[1][1],r:v[1][0]};var D={c:s.c,r:s.r};if(n.sharedf[cs(u)]){var G=n.sharedf[cs(u)];l.push(Eo(G,o,D,n,a))}else{var O=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Eo(d[1],o,D,n,a)),O=!0;break}O||l.push(v[1])}break;case"PtgArray":l.push("{"+K7e(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&A>=0&&Q.indexOf(t[0][b][0])==-1){v=t[0][A];var ee=!0;switch(v[1][0]){case 4:ee=!1;case 0:g=Sa(" ",v[1][1]);break;case 5:ee=!1;case 1:g=Sa("\r",v[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}l.push((ee?g:"")+l.pop()+(ee?"":g)),A=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function J7e(t,e,s){var n=t.l+e,a=s.biff==2?1:2,i,o=t.read_shift(a);if(o==65535)return[[],Uo(t,e-2)];var l=_w(t,o,s);return e!==o+a&&(i=Cw(t,e-o-a,l,s)),t.l=n,[l,i]}function Z7e(t,e,s){var n=t.l+e,a=s.biff==2?1:2,i,o=t.read_shift(a);if(o==65535)return[[],Uo(t,e-2)];var l=_w(t,o,s);return e!==o+a&&(i=Cw(t,e-o-a,l,s)),t.l=n,[l,i]}function e9e(t,e,s,n){var a=t.l+e,i=_w(t,n,s),o;return a!==t.l&&(o=Cw(t,a-t.l,i,s)),[i,o]}function t9e(t,e,s){var n=t.l+e,a,i=t.read_shift(2),o=_w(t,i,s);return i==65535?[[],Uo(t,e-2)]:(e!==i+2&&(a=Cw(t,n-i-2,o,s)),[o,a])}function r9e(t){var e;if(Af(t,t.l+6)!==65535)return[Bo(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Y6(t,e,s){var n=t.l+e,a=hh(t);s.biff==2&&++t.l;var i=r9e(t),o=t.read_shift(1);s.biff!=2&&(t.read_shift(1),s.biff>=5&&t.read_shift(4));var l=Z7e(t,n-t.l,s);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function S4(t,e,s){var n=t.read_shift(4),a=_w(t,n,s),i=t.read_shift(4),o=i>0?Cw(t,i,a,s):null;return[a,o]}var s9e=S4,C4=S4,n9e=S4,a9e=S4,i9e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Use={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},o9e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function IV(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,s){return s.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function J6(t){var e=t.split(":"),s=e[0].split(".")[0];return[s,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Ev={},mg={};function kv(t,e){if(t){var s=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(s=[1,1,1,1,.5,.5]),t.left==null&&(t.left=s[0]),t.right==null&&(t.right=s[1]),t.top==null&&(t.top=s[2]),t.bottom==null&&(t.bottom=s[3]),t.header==null&&(t.header=s[4]),t.footer==null&&(t.footer=s[5])}}function Hse(t,e,s,n,a,i){try{n.cellNF&&(t.z=hs[e])}catch(l){if(n.WTF)throw l}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Fi(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(hs[e]==null&&Jp(lDe[e]||"General",e),t.t==="e")t.w=t.w||Ox[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=M1(t.v);else if(t.t==="d"){var o=ol(t.v);(o|0)===o?t.w=o.toString(10):t.w=M1(o)}else{if(t.v===void 0)return"";t.w=bx(t.v,mg)}else t.t==="d"?t.w=id(e,ol(t.v),mg):t.w=id(e,t.v,mg)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&s!=null)try{t.s=i.Fills[s],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Z5(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Z5(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function l9e(t,e){var s=Ea(e);s.s.r<=s.e.r&&s.s.c<=s.e.c&&s.s.r>=0&&s.s.c>=0&&(t["!ref"]=Is(s))}var c9e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,d9e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,u9e=/<(?:\w:)?hyperlink [^>]*>/mg,h9e=/"(\w*:\w*)"/,f9e=/<(?:\w:)?col\b[^>]*[\/]?>/g,m9e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,p9e=/<(?:\w:)?pageMargins[^>]*\/>/g,Qse=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,x9e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,A9e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function g9e(t,e,s,n,a,i,o){if(!t)return t;n||(n={"!id":{}});var l=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",h=t.match(d9e);h?(d=t.slice(0,h.index),u=t.slice(h.index+h[0].length)):d=u=t;var m=d.match(Qse);m?$L(m[0],l,a,s):(m=d.match(x9e))&&b9e(m[0],m[1]||"",l,a,s);var f=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var x=d.slice(f,f+50).match(h9e);x&&l9e(l,x[1])}var A=d.match(A9e);A&&A[1]&&S9e(A[1],a);var g=[];if(e.cellStyles){var b=d.match(f9e);b&&w9e(g,b)}h&&C9e(h[1],l,e,c,i,o);var w=u.match(m9e);w&&(l["!autofilter"]=j9e(w[0]));var v=[],j=u.match(c9e);if(j)for(f=0;f!=j.length;++f)v[f]=Ea(j[f].slice(j[f].indexOf('"')+1));var N=u.match(u9e);N&&y9e(l,N,n);var S=u.match(p9e);if(S&&(l["!margins"]=v9e(Yr(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Is(c)),e.sheetRows>0&&l["!ref"]){var T=Ea(l["!ref"]);e.sheetRows<=+T.e.r&&(T.e.r=e.sheetRows-1,T.e.r>c.e.r&&(T.e.r=c.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>c.e.c&&(T.e.c=c.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Is(T))}return g.length>0&&(l["!cols"]=g),v.length>0&&(l["!merges"]=v),l}function $L(t,e,s,n){var a=Yr(t);s.Sheets[n]||(s.Sheets[n]={}),a.codeName&&(s.Sheets[n].CodeName=Us(Un(a.codeName)))}function b9e(t,e,s,n,a){$L(t.slice(0,t.indexOf(">")),s,n,a)}function y9e(t,e,s){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var i=Yr(Un(e[a]),!0);if(!i.ref)return;var o=((s||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Us(i.location))):(i.Target="#"+Us(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Ea(i.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=cs({c:d,r:c});n?(t[c]||(t[c]=[]),t[c][d]||(t[c][d]={t:"z",v:void 0}),t[c][d].l=i):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=i)}}}function v9e(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(s){t[s]&&(e[s]=parseFloat(t[s]))}),e}function w9e(t,e){for(var s=!1,n=0;n!=e.length;++n){var a=Yr(e[n],!0);a.hidden&&(a.hidden=ta(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!s&&a.width&&(s=!0,HL(a.width)),cb(a);i<=o;)t[i++]=eo(a)}}function j9e(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var N9e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function S9e(t,e){e.Views||(e.Views=[{}]),(t.match(N9e)||[]).forEach(function(s,n){var a=Yr(s);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),ta(a.rightToLeft)&&(e.Views[n].RTL=!0)})}var C9e=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,s=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=F1("v"),o=F1("f");return function(c,d,u,h,m,f){for(var x=0,A="",g=[],b=[],w=0,v=0,j=0,N="",S,T,I=0,_=0,M,C,B=0,P=0,H=Array.isArray(f.CellXf),D,G=[],O=[],Q=Array.isArray(d),ee=[],q={},Z=!1,F=!!u.sheetStubs,z=c.split(e),V=0,W=z.length;V!=W;++V){A=z[V].trim();var ne=A.length;if(ne!==0){var ie=0;e:for(x=0;x<ne;++x)switch(A[x]){case">":if(A[x-1]!="/"){++x;break e}if(u&&u.cellStyles){if(T=Yr(A.slice(ie,x),!0),I=T.r!=null?parseInt(T.r,10):I+1,_=-1,u.sheetRows&&u.sheetRows<I)continue;q={},Z=!1,T.ht&&(Z=!0,q.hpt=parseFloat(T.ht),q.hpx=D1(q.hpt)),T.hidden=="1"&&(Z=!0,q.hidden=!0),T.outlineLevel!=null&&(Z=!0,q.level=+T.outlineLevel),Z&&(ee[I-1]=q)}break;case"<":ie=x;break}if(ie>=x)break;if(T=Yr(A.slice(ie,x),!0),I=T.r!=null?parseInt(T.r,10):I+1,_=-1,!(u.sheetRows&&u.sheetRows<I)){h.s.r>I-1&&(h.s.r=I-1),h.e.r<I-1&&(h.e.r=I-1),u&&u.cellStyles&&(q={},Z=!1,T.ht&&(Z=!0,q.hpt=parseFloat(T.ht),q.hpx=D1(q.hpt)),T.hidden=="1"&&(Z=!0,q.hidden=!0),T.outlineLevel!=null&&(Z=!0,q.level=+T.outlineLevel),Z&&(ee[I-1]=q)),g=A.slice(x).split(t);for(var be=0;be!=g.length&&g[be].trim().charAt(0)=="<";++be);for(g=g.slice(be),x=0;x!=g.length;++x)if(A=g[x].trim(),A.length!==0){if(b=A.match(s),w=x,v=0,j=0,A="<c "+(A.slice(0,1)=="<"?">":"")+A,b!=null&&b.length===2){for(w=0,N=b[1],v=0;v!=N.length&&!((j=N.charCodeAt(v)-64)<1||j>26);++v)w=26*w+j;--w,_=w}else++_;for(v=0;v!=A.length&&A.charCodeAt(v)!==62;++v);if(++v,T=Yr(A.slice(0,v),!0),T.r||(T.r=cs({r:I-1,c:_})),N=A.slice(v),S={t:""},(b=N.match(i))!=null&&b[1]!==""&&(S.v=Us(b[1])),u.cellFormula){if((b=N.match(o))!=null&&b[1]!==""){if(S.f=Us(Un(b[1])).replace(/\r\n/g,`
`),u.xlfn||(S.f=BV(S.f)),b[0].indexOf('t="array"')>-1)S.F=(N.match(a)||[])[1],S.F.indexOf(":")>-1&&G.push([Ea(S.F),S.F]);else if(b[0].indexOf('t="shared"')>-1){C=Yr(b[0]);var ue=Us(Un(b[1]));u.xlfn||(ue=BV(ue)),O[parseInt(C.si,10)]=[C,ue,T.r]}}else(b=N.match(/<f[^>]*\/>/))&&(C=Yr(b[0]),O[C.si]&&(S.f=DUe(O[C.si][1],O[C.si][2],T.r)));var je=nl(T.r);for(v=0;v<G.length;++v)je.r>=G[v][0].s.r&&je.r<=G[v][0].e.r&&je.c>=G[v][0].s.c&&je.c<=G[v][0].e.c&&(S.F=G[v][1])}if(T.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(F)S.t="z";else continue;else S.t=T.t||"n";switch(h.s.c>_&&(h.s.c=_),h.e.c<_&&(h.e.c=_),S.t){case"n":if(S.v==""||S.v==null){if(!F)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!F)continue;S.t="z"}else M=Ev[parseInt(S.v,10)],S.v=M.t,S.r=M.r,u.cellHTML&&(S.h=M.h);break;case"str":S.t="s",S.v=S.v!=null?Un(S.v):"",u.cellHTML&&(S.h=TL(S.v));break;case"inlineStr":b=N.match(n),S.t="s",b!=null&&(M=UL(b[1]))?(S.v=M.t,u.cellHTML&&(S.h=M.h)):S.v="";break;case"b":S.v=ta(S.v);break;case"d":u.cellDates?S.v=Fi(S.v,1):(S.v=ol(Fi(S.v,1)),S.t="n");break;case"e":(!u||u.cellText!==!1)&&(S.w=S.v),S.v=cse[S.v];break}if(B=P=0,D=null,H&&T.s!==void 0&&(D=f.CellXf[T.s],D!=null&&(D.numFmtId!=null&&(B=D.numFmtId),u.cellStyles&&D.fillId!=null&&(P=D.fillId))),Hse(S,B,P,u,m,f),u.cellDates&&H&&S.t=="n"&&Mb(hs[B])&&(S.t="d",S.v=j4(S.v)),T.cm&&u.xlmeta){var Be=(u.xlmeta.Cell||[])[+T.cm-1];Be&&Be.type=="XLDAPR"&&(S.D=!0)}if(Q){var oe=nl(T.r);d[oe.r]||(d[oe.r]=[]),d[oe.r][oe.c]=S}else d[T.r]=S}}}}ee.length>0&&(d["!rows"]=ee)}})();function _9e(t,e){var s={},n=t.l+e;s.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(s.level=i&7),i&16&&(s.hidden=!0),i&32&&(s.hpt=a/20),s}var E9e=Rx;function k9e(){}function T9e(t,e){var s={},n=t[t.l];return++t.l,s.above=!(n&64),s.left=!(n&128),t.l+=18,s.name=JDe(t),s}function B9e(t){var e=dd(t);return[e]}function M9e(t){var e=Dx(t);return[e]}function F9e(t){var e=dd(t),s=t.read_shift(1);return[e,s,"b"]}function P9e(t){var e=Dx(t),s=t.read_shift(1);return[e,s,"b"]}function I9e(t){var e=dd(t),s=t.read_shift(1);return[e,s,"e"]}function L9e(t){var e=Dx(t),s=t.read_shift(1);return[e,s,"e"]}function D9e(t){var e=dd(t),s=t.read_shift(4);return[e,s,"s"]}function R9e(t){var e=Dx(t),s=t.read_shift(4);return[e,s,"s"]}function O9e(t){var e=dd(t),s=Bo(t);return[e,s,"n"]}function $se(t){var e=Dx(t),s=Bo(t);return[e,s,"n"]}function U9e(t){var e=dd(t),s=DL(t);return[e,s,"n"]}function H9e(t){var e=Dx(t),s=DL(t);return[e,s,"n"]}function Q9e(t){var e=dd(t),s=IL(t);return[e,s,"is"]}function $9e(t){var e=dd(t),s=Lo(t);return[e,s,"str"]}function z9e(t){var e=Dx(t),s=Lo(t);return[e,s,"str"]}function G9e(t,e,s){var n=t.l+e,a=dd(t);a.r=s["!row"];var i=t.read_shift(1),o=[a,i,"b"];if(s.cellFormula){t.l+=2;var l=C4(t,n-t.l,s);o[3]=Eo(l,null,a,s.supbooks,s)}else t.l=n;return o}function V9e(t,e,s){var n=t.l+e,a=dd(t);a.r=s["!row"];var i=t.read_shift(1),o=[a,i,"e"];if(s.cellFormula){t.l+=2;var l=C4(t,n-t.l,s);o[3]=Eo(l,null,a,s.supbooks,s)}else t.l=n;return o}function W9e(t,e,s){var n=t.l+e,a=dd(t);a.r=s["!row"];var i=Bo(t),o=[a,i,"n"];if(s.cellFormula){t.l+=2;var l=C4(t,n-t.l,s);o[3]=Eo(l,null,a,s.supbooks,s)}else t.l=n;return o}function q9e(t,e,s){var n=t.l+e,a=dd(t);a.r=s["!row"];var i=Lo(t),o=[a,i,"str"];if(s.cellFormula){t.l+=2;var l=C4(t,n-t.l,s);o[3]=Eo(l,null,a,s.supbooks,s)}else t.l=n;return o}var K9e=Rx;function X9e(t,e){var s=t.l+e,n=Rx(t),a=LL(t),i=Lo(t),o=Lo(t),l=Lo(t);t.l=s;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function Y9e(){}function J9e(t,e,s){var n=t.l+e,a=ise(t),i=t.read_shift(1),o=[a];if(o[2]=i,s.cellFormula){var l=s9e(t,n-t.l,s);o[1]=l}else t.l=n;return o}function Z9e(t,e,s){var n=t.l+e,a=Rx(t),i=[a];if(s.cellFormula){var o=a9e(t,n-t.l,s);i[1]=o,t.l=n}else t.l=n;return i}var eHe=["left","right","top","bottom","header","footer"];function tHe(t){var e={};return eHe.forEach(function(s){e[s]=Bo(t)}),e}function rHe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function sHe(){}function nHe(){}function aHe(t,e,s,n,a,i,o){if(!t)return t;var l=e||{};n||(n={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,f,x,A,g,b,w,v,j,N,S=[];l.biff=12,l["!row"]=0;var T=0,I=!1,_=[],M={},C=l.supbooks||a.supbooks||[[]];if(C.sharedf=M,C.arrayf=_,C.SheetNames=a.SheetNames||a.Sheets.map(function(Q){return Q.name}),!l.supbooks&&(l.supbooks=C,a.Names))for(var B=0;B<a.Names.length;++B)C[0][B+1]=a.Names[B];var P=[],H=[],D=!1;rS[16]={n:"BrtShortReal",f:$se};var G;if(Hf(t,function(ee,q,Z){if(!m)switch(Z){case 148:d=ee;break;case 0:f=ee,l.sheetRows&&l.sheetRows<=f.r&&(m=!0),j=to(g=f.r),l["!row"]=f.r,(ee.hidden||ee.hpt||ee.level!=null)&&(ee.hpt&&(ee.hpx=D1(ee.hpt)),H[ee.r]=ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:ee[2]},ee[2]){case"n":x.v=ee[1];break;case"s":v=Ev[ee[1]],x.v=v.t,x.r=v.r;break;case"b":x.v=!!ee[1];break;case"e":x.v=ee[1],l.cellText!==!1&&(x.w=Ox[x.v]);break;case"str":x.t="s",x.v=ee[1];break;case"is":x.t="s",x.v=ee[1].t;break}if((A=o.CellXf[ee[0].iStyleRef])&&Hse(x,A.numFmtId,null,l,i,o),b=ee[0].c==-1?b+1:ee[0].c,l.dense?(c[g]||(c[g]=[]),c[g][b]=x):c[mi(b)+j]=x,l.cellFormula){for(I=!1,T=0;T<_.length;++T){var F=_[T];f.r>=F[0].s.r&&f.r<=F[0].e.r&&b>=F[0].s.c&&b<=F[0].e.c&&(x.F=Is(F[0]),I=!0)}!I&&ee.length>3&&(x.f=ee[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>b&&(u.s.c=b),u.e.r<f.r&&(u.e.r=f.r),u.e.c<b&&(u.e.c=b),l.cellDates&&A&&x.t=="n"&&Mb(hs[A.numFmtId])){var z=Op(x.v);z&&(x.t="d",x.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}G&&(G.type=="XLDAPR"&&(x.D=!0),G=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;x={t:"z",v:void 0},b=ee[0].c==-1?b+1:ee[0].c,l.dense?(c[g]||(c[g]=[]),c[g][b]=x):c[mi(b)+j]=x,u.s.r>f.r&&(u.s.r=f.r),u.s.c>b&&(u.s.c=b),u.e.r<f.r&&(u.e.r=f.r),u.e.c<b&&(u.e.c=b),G&&(G.type=="XLDAPR"&&(x.D=!0),G=void 0);break;case 176:S.push(ee);break;case 49:G=((l.xlmeta||{}).Cell||[])[ee-1];break;case 494:var V=n["!id"][ee.relId];for(V?(ee.Target=V.Target,ee.loc&&(ee.Target+="#"+ee.loc),ee.Rel=V):ee.relId==""&&(ee.Target="#"+ee.loc),g=ee.rfx.s.r;g<=ee.rfx.e.r;++g)for(b=ee.rfx.s.c;b<=ee.rfx.e.c;++b)l.dense?(c[g]||(c[g]=[]),c[g][b]||(c[g][b]={t:"z",v:void 0}),c[g][b].l=ee):(w=cs({c:b,r:g}),c[w]||(c[w]={t:"z",v:void 0}),c[w].l=ee);break;case 426:if(!l.cellFormula)break;_.push(ee),N=l.dense?c[g][b]:c[mi(b)+j],N.f=Eo(ee[1],u,{r:f.r,c:b},C,l),N.F=Is(ee[0]);break;case 427:if(!l.cellFormula)break;M[cs(ee[0].s)]=ee[1],N=l.dense?c[g][b]:c[mi(b)+j],N.f=Eo(ee[1],u,{r:f.r,c:b},C,l);break;case 60:if(!l.cellStyles)break;for(;ee.e>=ee.s;)P[ee.e--]={width:ee.w/256,hidden:!!(ee.flags&1),level:ee.level},D||(D=!0,HL(ee.w/256)),cb(P[ee.e+1]);break;case 161:c["!autofilter"]={ref:Is(ee)};break;case 476:c["!margins"]=ee;break;case 147:a.Sheets[s]||(a.Sheets[s]={}),ee.name&&(a.Sheets[s].CodeName=ee.name),(ee.above||ee.left)&&(c["!outline"]={above:ee.above,left:ee.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),ee.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!q.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=Is(d||u)),l.sheetRows&&c["!ref"]){var O=Ea(c["!ref"]);l.sheetRows<=+O.e.r&&(O.e.r=l.sheetRows-1,O.e.r>u.e.r&&(O.e.r=u.e.r),O.e.r<O.s.r&&(O.s.r=O.e.r),O.e.c>u.e.c&&(O.e.c=u.e.c),O.e.c<O.s.c&&(O.s.c=O.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Is(O))}return S.length>0&&(c["!merges"]=S),P.length>0&&(c["!cols"]=P),H.length>0&&(c["!rows"]=H),c}function iHe(t){var e=[],s=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=s?+o[2]:o[2])});var a=Us((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,a,n]}function oHe(t,e,s,n,a,i){var o=i||{"!type":"chart"};if(!t)return i;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=iHe(h);u.s.r=u.s.c=0,u.e.c=l,d=mi(l),m[0].forEach(function(f,x){o[d+to(x)]={t:"n",v:f,z:m[1]},c=x}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=Is(u)),o}function lHe(t,e,s,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(Qse);return l&&$L(l[0],i,a,s),(o=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function cHe(t,e){t.l+=10;var s=Lo(t);return{name:s}}function dHe(t,e,s,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Hf(t,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:a.Sheets[s]||(a.Sheets[s]={}),c.name&&(a.Sheets[s].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var zse=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],uHe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],hHe=[],fHe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function LV(t,e){for(var s=0;s!=t.length;++s)for(var n=t[s],a=0;a!=e.length;++a){var i=e[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=ta(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function DV(t,e){for(var s=0;s!=e.length;++s){var n=e[s];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=ta(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function Gse(t){DV(t.WBProps,zse),DV(t.CalcPr,fHe),LV(t.WBView,uHe),LV(t.Sheets,hHe),mg.date1904=ta(t.WBProps.date1904)}var mHe="][*?/\\".split("");function pHe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return mHe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}var xHe=/<\w+:workbook/;function AHe(t,e){if(!t)throw new Error("Could not find file");var s={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(t.replace(Ho,function(c,d){var u=Yr(c);switch(uh(u[0])){case"<?xml":break;case"<workbook":c.match(xHe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),s.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],s.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":zse.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":s.WBProps[h[0]]=ta(u[h[0]]);break;case"int":s.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:s.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(s.WBProps.CodeName=Un(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],s.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Us(Un(u.name)),delete u[0],s.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Un(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),ta(u.hidden||"0")&&(i.Hidden=!0),o=d+c.length;break;case"</definedName>":i.Ref=Us(Un(t.slice(o,d))),s.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],s.CalcPr=u;break;case"<calcPr/>":delete u[0],s.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),IDe.indexOf(s.xmlns)===-1)throw new Error("Unknown Namespace: "+s.xmlns);return Gse(s),s}function gHe(t,e){var s={};return s.Hidden=t.read_shift(4),s.iTabID=t.read_shift(4),s.strRelID=PF(t),s.name=Lo(t),s}function bHe(t,e){var s={},n=t.read_shift(4);s.defaultThemeVersion=t.read_shift(4);var a=e>8?Lo(t):"";return a.length>0&&(s.CodeName=a),s.autoCompressPictures=!!(n&65536),s.backupFile=!!(n&64),s.checkCompatibility=!!(n&4096),s.date1904=!!(n&1),s.filterPrivacy=!!(n&8),s.hidePivotFieldList=!!(n&1024),s.promptedSolutions=!!(n&16),s.publishItems=!!(n&2048),s.refreshAllConnections=!!(n&262144),s.saveExternalLinkValues=!!(n&128),s.showBorderUnselectedTables=!!(n&4),s.showInkAnnotation=!!(n&32),s.showObjects=["all","placeholders","none"][n>>13&3],s.showPivotChartFilter=!!(n&32768),s.updateLinks=["userSet","never","always"][n>>8&3],s}function yHe(t,e){var s={};return t.read_shift(4),s.ArchID=t.read_shift(4),t.l+=e-8,s}function vHe(t,e,s){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=ZDe(t),o=n9e(t,0,s),l=LL(t);t.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function wHe(t,e){var s={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],rS[16]={n:"BrtFRTArchID$",f:yHe},Hf(t,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),s.Sheets.push(c);break;case 153:s.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Eo(c.Ptg,null,null,o,e),delete e.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),Gse(s),s.Names=i,s.supbooks=o,s}function jHe(t,e,s){return e.slice(-4)===".bin"?wHe(t,s):AHe(t,s)}function NHe(t,e,s,n,a,i,o,l){return e.slice(-4)===".bin"?aHe(t,n,s,a,i,o,l):g9e(t,n,s,a,i,o,l)}function SHe(t,e,s,n,a,i,o,l){return e.slice(-4)===".bin"?dHe(t,n,s,a,i):lHe(t,n,s,a,i)}function CHe(t,e,s,n,a,i,o,l){return e.slice(-4)===".bin"?PUe():IUe()}function _He(t,e,s,n,a,i,o,l){return e.slice(-4)===".bin"?MUe():FUe()}function EHe(t,e,s,n){return e.slice(-4)===".bin"?KOe(t,s,n):$Oe(t,s,n)}function kHe(t,e,s){return Bse(t,s)}function THe(t,e,s){return e.slice(-4)===".bin"?uOe(t,s):cOe(t,s)}function BHe(t,e,s){return e.slice(-4)===".bin"?kUe(t,s):NUe(t,s)}function MHe(t,e,s){return e.slice(-4)===".bin"?vUe(t):bUe(t)}function FHe(t,e,s,n){return s.slice(-4)===".bin"?wUe(t,e,s,n):void 0}function PHe(t,e,s){return e.slice(-4)===".bin"?AUe(t,e,s):gUe(t,e,s)}var Vse=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Wse=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Fd(t,e){var s=t.split(/\s+/),n=[];if(n[0]=s[0],s.length===1)return n;var a=t.match(Vse),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(Wse),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function IHe(t){var e=t.split(/\s+/),s={};if(e.length===1)return s;var n=t.match(Vse),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(Wse),(i=a[1].indexOf(":"))===-1?s[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),s[o]=a[2].slice(1,a[2].length-1));return s}var Tv;function LHe(t,e){var s=Tv[t]||Us(t);return s==="General"?bx(e):id(s,e)}function DHe(t,e,s,n){var a=n;switch((s[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ta(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Fi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+s[0])}t[Us(e)]=a}function RHe(t,e,s){if(t.t!=="z"){if(!s||s.cellText!==!1)try{t.t==="e"?t.w=t.w||Ox[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=M1(t.v):t.w=bx(t.v):t.w=LHe(e||"General",t.v)}catch(i){if(s.WTF)throw i}try{var n=Tv[e]||e||"General";if(s.cellNF&&(t.z=n),s.cellDates&&t.t=="n"&&Mb(n)){var a=Op(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(s.WTF)throw i}}}function OHe(t,e,s){if(s.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=DOe[n.Pattern]||n.Pattern)}t[e.ID]=e}function UHe(t,e,s,n,a,i,o,l,c,d){var u="General",h=n.StyleID,m={};d=d||{};var f=[],x=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&f.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(s.Type){case"Boolean":n.t="b",n.v=ta(t);break;case"String":n.t="s",n.r=aV(Us(t)),n.v=t.indexOf("<")>-1?Us(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Fi(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Us(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=cse[t],d.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=aV(e||t));break}if(RHe(n,u,d),d.cellFormula!==!1)if(n.Formula){var A=Us(n.Formula);A.charCodeAt(0)==61&&(A=A.slice(1)),n.f=fg(A,a),delete n.Formula,n.ArrayRange=="RC"?n.F=fg("RC:RC",a):n.ArrayRange&&(n.F=fg(n.ArrayRange,a),c.push([Ea(n.F),n.F]))}else for(x=0;x<c.length;++x)a.r>=c[x][0].s.r&&a.r<=c[x][0].e.r&&a.c>=c[x][0].s.c&&a.c<=c[x][0].e.c&&(n.F=c[x][1]);d.cellStyles&&(f.forEach(function(g){!m.patternType&&g.patternType&&(m.patternType=g.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function HHe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Z6(t,e){var s=e||{};Ire();var n=Gy(BL(t));(s.type=="binary"||s.type=="array"||s.type=="base64")&&(n=Un(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=eo(s);return o.type="string",I1.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(He){a.indexOf("<"+He)>=0&&(i=!0)}),i)return XHe(n,s);Tv={"General Number":"General","General Date":hs[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":hs[15],"Short Date":hs[14],"Long Time":hs[19],"Medium Time":hs[18],"Short Time":hs[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:hs[2],Standard:hs[4],Percent:hs[10],Scientific:hs[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},h=[],m=s.dense?[]:{},f="",x={},A={},g=Fd('<Data ss:Type="String">'),b=0,w=0,v=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},S={},T="",I=0,_=[],M={},C={},B=0,P=[],H=[],D={},G=[],O,Q=!1,ee=[],q=[],Z={},F=0,z=0,V={Sheets:[],WBProps:{date1904:!1}},W={};P1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";l=P1.exec(n);)switch(l[3]=(ne=l[3]).toLowerCase()){case"data":if(ne=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?UHe(n.slice(b,l.index),T,g,c[c.length-1][0]=="comment"?D:x,{c:w,r:v},N,G[w],A,ee,s):(T="",g=Fd(l[0]),b=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(H.length>0&&(x.c=H),(!s.sheetRows||s.sheetRows>v)&&x.v!==void 0&&(s.dense?(m[v]||(m[v]=[]),m[v][w]=x):m[mi(w)+to(v)]=x),x.HRef&&(x.l={Target:Us(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(F=w+(parseInt(x.MergeAcross,10)|0),z=v+(parseInt(x.MergeDown,10)|0),_.push({s:{c:w,r:v},e:{c:F,r:z}})),!s.sheetStubs)x.MergeAcross?w=F+1:++w;else if(x.MergeAcross||x.MergeDown){for(var ie=w;ie<=F;++ie)for(var be=v;be<=z;++be)(ie>w||be>v)&&(s.dense?(m[be]||(m[be]=[]),m[be][ie]={t:"z"}):m[mi(ie)+to(be)]={t:"z"});w=F+1}else++w;else x=IHe(l[0]),x.Index&&(w=+x.Index-1),w<j.s.c&&(j.s.c=w),w>j.e.c&&(j.e.c=w),l[0].slice(-2)==="/>"&&++w,H=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(v<j.s.r&&(j.s.r=v),v>j.e.r&&(j.e.r=v),l[0].slice(-2)==="/>"&&(A=Fd(l[0]),A.Index&&(v=+A.Index-1)),w=0,++v):(A=Fd(l[0]),A.Index&&(v=+A.Index-1),Z={},(A.AutoFitHeight=="0"||A.Height)&&(Z.hpx=parseInt(A.Height,10),Z.hpt=Tse(Z.hpx),q[v]=Z),A.Hidden=="1"&&(Z.hidden=!0,q[v]=Z));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));h.push(f),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(m["!ref"]=Is(j),s.sheetRows&&s.sheetRows<=j.e.r&&(m["!fullref"]=m["!ref"],j.e.r=s.sheetRows-1,m["!ref"]=Is(j))),_.length&&(m["!merges"]=_),G.length>0&&(m["!cols"]=G),q.length>0&&(m["!rows"]=q),u[f]=m}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=w=0,c.push([l[3],!1]),d=Fd(l[0]),f=Us(d.Name),m=s.dense?[]:{},_=[],ee=[],q=[],W={name:f,Hidden:0},V.Sheets.push(W);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),G=[],Q=!1}break;case"style":l[1]==="/"?OHe(N,S,s):S=Fd(l[0]);break;case"numberformat":S.nf=Us(Fd(l[0]).Format||"General"),Tv[S.nf]&&(S.nf=Tv[S.nf]);for(var ue=0;ue!=392&&hs[ue]!=S.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(hs[ue]==null){Jp(S.nf,ue);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(O=Fd(l[0]),O.Hidden&&(O.hidden=!0,delete O.Hidden),O.Width&&(O.wpx=parseInt(O.Width,10)),!Q&&O.wpx>10){Q=!0,el=Ese;for(var je=0;je<G.length;++je)G[je]&&cb(G[je])}Q&&cb(O),G[O.Index-1||G.length]=O;for(var Be=0;Be<+O.Span;++Be)G[G.length]=eo(O);break;case"namedrange":if(l[1]==="/")break;V.Names||(V.Names=[]);var oe=Yr(l[0]),lt={Name:oe.Name,Ref:fg(oe.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(lt.Sheet=V.Sheets.length-1),V.Names.push(lt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?T+=n.slice(I,l.index):I=l.index+l[0].length;break;case"interior":if(!s.cellStyles)break;S.Interior=Fd(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?N8e(M,ne,n.slice(B,l.index)):B=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));HHe(D),H.push(D)}else c.push([l[3],!1]),d=Fd(l[0]),D={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var se=Fd(l[0]);m["!autofilter"]={ref:fg(se.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return $V(n,s);var J=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:J=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:J=!1}break;case"excelworkbook":switch(l[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:J=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:J=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(B,l.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else B=l.index+l[0].length;break;case"header":m["!margins"]||kv(m["!margins"]={},"xlml"),isNaN(+Yr(l[0]).Margin)||(m["!margins"].header=+Yr(l[0]).Margin);break;case"footer":m["!margins"]||kv(m["!margins"]={},"xlml"),isNaN(+Yr(l[0]).Margin)||(m["!margins"].footer=+Yr(l[0]).Margin);break;case"pagemargins":var Pe=Yr(l[0]);m["!margins"]||kv(m["!margins"]={},"xlml"),isNaN(+Pe.Top)||(m["!margins"].top=+Pe.Top),isNaN(+Pe.Left)||(m["!margins"].left=+Pe.Left),isNaN(+Pe.Right)||(m["!margins"].right=+Pe.Right),isNaN(+Pe.Bottom)||(m["!margins"].bottom=+Pe.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:J=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:J=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:J=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:J=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:J=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:J=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:J=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:J=!1}break;case"smarttags":break;default:J=!1;break}if(J||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?DHe(C,ne,P,n.slice(B,l.index)):(P=l,B=l.index+l[0].length);break}if(s.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var xe={};return!s.bookSheets&&!s.bookProps&&(xe.Sheets=u),xe.SheetNames=h,xe.Workbook=V,xe.SSF=eo(hs),xe.Props=M,xe.Custprops=C,xe}function RF(t,e){switch(VL(e=e||{}),e.type||"base64"){case"base64":return Z6(yc(t),e);case"binary":case"buffer":case"file":return Z6(t,e);case"array":return Z6(Lx(t),e)}}function QHe(t){var e={},s=t.content;if(s.l=28,e.AnsiUserType=s.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=r8e(s),s.length-s.l<=4)return e;var n=s.read_shift(4);if(n==0||n>40||(s.l-=4,e.Reserved1=s.read_shift(0,"lpstr-ansi"),s.length-s.l<=4)||(n=s.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=s8e(s),n=s.read_shift(4),n==0||n>40))return e;s.l-=4,e.Reserved2=s.read_shift(0,"lpwstr")}var $He=[60,1084,2066,2165,2175];function zHe(t,e,s,n,a){var i=n,o=[],l=s.slice(s.l,s.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),s.l+=i;for(var c=Af(s,s.l),d=OF[c],u=0;d!=null&&$He.indexOf(c)>-1;)i=Af(s,s.l+2),u=s.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=s.slice(u,s.l+4+i),o.push(l),s.l+=4+i,d=OF[c=Af(s,s.l)];var h=Om(o);Ki(h,0);var m=0;h.lens=[];for(var f=0;f<o.length;++f)h.lens.push(m),m+=o[f].length;if(h.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+n;return e.f(h,h.length,a)}function Nu(t,e,s){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=hs[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Ox[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=M1(t.v):t.w=bx(t.v):t.w=id(n,t.v,{date1904:!!s,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&t.t=="n"&&Mb(hs[n]||String(n))){var a=Op(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function pj(t,e,s){return{v:t,ixfe:e,t:s}}function GHe(t,e){var s={opts:{}},n={},a=e.dense?[]:{},i={},o={},l=null,c=[],d="",u={},h,m="",f,x,A,g,b={},w=[],v,j,N=[],S=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},_=function(Tt){return Tt<8?Zp[Tt]:Tt<64&&S[Tt-8]||Zp[Tt]},M=function(Tt,rt,Dt){var Qt=rt.XF.data;if(!(!Qt||!Qt.patternType||!Dt||!Dt.cellStyles)){rt.s={},rt.s.patternType=Qt.patternType;var Yt;(Yt=L1(_(Qt.icvFore)))&&(rt.s.fgColor={rgb:Yt}),(Yt=L1(_(Qt.icvBack)))&&(rt.s.bgColor={rgb:Yt})}},C=function(Tt,rt,Dt){if(!(Z>1)&&!(Dt.sheetRows&&Tt.r>=Dt.sheetRows)){if(Dt.cellStyles&&rt.XF&&rt.XF.data&&M(Tt,rt,Dt),delete rt.ixfe,delete rt.XF,h=Tt,m=cs(Tt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Tt.r<o.s.r&&(o.s.r=Tt.r),Tt.c<o.s.c&&(o.s.c=Tt.c),Tt.r+1>o.e.r&&(o.e.r=Tt.r+1),Tt.c+1>o.e.c&&(o.e.c=Tt.c+1),Dt.cellFormula&&rt.f){for(var Qt=0;Qt<w.length;++Qt)if(!(w[Qt][0].s.c>Tt.c||w[Qt][0].s.r>Tt.r)&&!(w[Qt][0].e.c<Tt.c||w[Qt][0].e.r<Tt.r)){rt.F=Is(w[Qt][0]),(w[Qt][0].s.c!=Tt.c||w[Qt][0].s.r!=Tt.r)&&delete rt.f,rt.f&&(rt.f=""+Eo(w[Qt][1],o,Tt,ee,B));break}}Dt.dense?(a[Tt.r]||(a[Tt.r]=[]),a[Tt.r][Tt.c]=rt):a[m]=rt}},B={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(B.password=e.password);var P,H=[],D=[],G=[],O=[],Q=!1,ee=[];ee.SheetNames=B.snames,ee.sharedf=B.sharedf,ee.arrayf=B.arrayf,ee.names=[],ee.XTI=[];var q=0,Z=0,F=0,z=[],V=[],W;B.codepage=1200,zd(1200);for(var ne=!1;t.l<t.length-1;){var ie=t.l,be=t.read_shift(2);if(be===0&&q===10)break;var ue=t.l===t.length?0:t.read_shift(2),je=OF[be];if(je&&je.f){if(e.bookSheets&&q===133&&be!==133)break;if(q=be,je.r===2||je.r==12){var Be=t.read_shift(2);if(ue-=2,!B.enc&&Be!==be&&((Be&255)<<8|Be>>8)!==be)throw new Error("rt mismatch: "+Be+"!="+be);je.r==12&&(t.l+=10,ue-=10)}var oe={};if(be===10?oe=je.f(t,ue,B):oe=zHe(be,je,t,ue,B),Z==0&&[9,521,1033,2057].indexOf(q)===-1)continue;switch(be){case 34:s.opts.Date1904=T.WBProps.date1904=oe;break;case 134:s.opts.WriteProtect=!0;break;case 47:if(B.enc||(t.l=0),B.enc=oe,!e.password)throw new Error("File is password-protected");if(oe.valid==null)throw new Error("Encryption scheme unsupported");if(!oe.valid)throw new Error("Password is incorrect");break;case 92:B.lastuser=oe;break;case 66:var lt=Number(oe);switch(lt){case 21010:lt=1200;break;case 32768:lt=1e4;break;case 32769:lt=1252;break}zd(B.codepage=lt),ne=!0;break;case 317:B.rrtabid=oe;break;case 25:B.winlocked=oe;break;case 439:s.opts.RefreshAll=oe;break;case 12:s.opts.CalcCount=oe;break;case 16:s.opts.CalcDelta=oe;break;case 17:s.opts.CalcIter=oe;break;case 13:s.opts.CalcMode=oe;break;case 14:s.opts.CalcPrecision=oe;break;case 95:s.opts.CalcSaveRecalc=oe;break;case 15:B.CalcRefMode=oe;break;case 2211:s.opts.FullCalc=oe;break;case 129:oe.fDialog&&(a["!type"]="dialog"),oe.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),oe.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:N.push(oe);break;case 430:ee.push([oe]),ee[ee.length-1].XTI=[];break;case 35:case 547:ee[ee.length-1].push(oe);break;case 24:case 536:W={Name:oe.Name,Ref:Eo(oe.rgce,o,null,ee,B)},oe.itab>0&&(W.Sheet=oe.itab-1),ee.names.push(W),ee[0]||(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].push(oe),oe.Name=="_xlnm._FilterDatabase"&&oe.itab>0&&oe.rgce&&oe.rgce[0]&&oe.rgce[0][0]&&oe.rgce[0][0][0]=="PtgArea3d"&&(V[oe.itab-1]={ref:Is(oe.rgce[0][0][1][2])});break;case 22:B.ExternCount=oe;break;case 23:ee.length==0&&(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].XTI=ee[ee.length-1].XTI.concat(oe),ee.XTI=ee.XTI.concat(oe);break;case 2196:if(B.biff<8)break;W!=null&&(W.Comment=oe[1]);break;case 18:a["!protect"]=oe;break;case 19:oe!==0&&B.WTF&&console.error("Password verifier: "+oe);break;case 133:i[oe.pos]=oe,B.snames.push(oe.name);break;case 10:{if(--Z)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Is(o),e.sheetRows&&e.sheetRows<=o.e.r){var se=o.e.r;o.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Is(o),o.e.r=se}o.e.r++,o.e.c++}H.length>0&&(a["!merges"]=H),D.length>0&&(a["!objects"]=D),G.length>0&&(a["!cols"]=G),O.length>0&&(a["!rows"]=O),T.Sheets.push(I)}d===""?u=a:n[d]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(B.biff===8&&(B.biff={9:2,521:3,1033:4}[be]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[oe.BIFFVer]||8),B.biffguess=oe.BIFFVer==0,oe.BIFFVer==0&&oe.dt==4096&&(B.biff=5,ne=!0,zd(B.codepage=28591)),B.biff==8&&oe.BIFFVer==0&&oe.dt==16&&(B.biff=2),Z++)break;if(a=e.dense?[]:{},B.biff<8&&!ne&&(ne=!0,zd(B.codepage=e.codepage||1252)),B.biff<5||oe.BIFFVer==0&&oe.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var J={pos:t.l-ue,name:d};i[J.pos]=J,B.snames.push(d)}else d=(i[ie]||{name:""}).name;oe.dt==32&&(a["!type"]="chart"),oe.dt==64&&(a["!type"]="macro"),H=[],D=[],B.arrayf=w=[],G=[],O=[],Q=!1,I={Hidden:(i[ie]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[oe.r]||[])[oe.c]:a[cs({c:oe.c,r:oe.r})])&&++oe.c,v={ixfe:oe.ixfe,XF:N[oe.ixfe]||{},v:oe.val,t:"n"},F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C({c:oe.c,r:oe.r},v,e);break;case 5:case 517:v={ixfe:oe.ixfe,XF:N[oe.ixfe],v:oe.val,t:oe.t},F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C({c:oe.c,r:oe.r},v,e);break;case 638:v={ixfe:oe.ixfe,XF:N[oe.ixfe],v:oe.rknum,t:"n"},F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C({c:oe.c,r:oe.r},v,e);break;case 189:for(var Pe=oe.c;Pe<=oe.C;++Pe){var xe=oe.rkrec[Pe-oe.c][0];v={ixfe:xe,XF:N[xe],v:oe.rkrec[Pe-oe.c][1],t:"n"},F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C({c:Pe,r:oe.r},v,e)}break;case 6:case 518:case 1030:{if(oe.val=="String"){l=oe;break}if(v=pj(oe.val,oe.cell.ixfe,oe.tt),v.XF=N[v.ixfe],e.cellFormula){var He=oe.formula;if(He&&He[0]&&He[0][0]&&He[0][0][0]=="PtgExp"){var $e=He[0][0][1][0],Xe=He[0][0][1][1],he=cs({r:$e,c:Xe});b[he]?v.f=""+Eo(oe.formula,o,oe.cell,ee,B):v.F=((e.dense?(a[$e]||[])[Xe]:a[he])||{}).F}else v.f=""+Eo(oe.formula,o,oe.cell,ee,B)}F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C(oe.cell,v,e),l=oe}break;case 7:case 519:if(l)l.val=oe,v=pj(oe,l.cell.ixfe,"s"),v.XF=N[v.ixfe],e.cellFormula&&(v.f=""+Eo(l.formula,o,l.cell,ee,B)),F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C(l.cell,v,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(oe);var ce=cs(oe[0].s);if(f=e.dense?(a[oe[0].s.r]||[])[oe[0].s.c]:a[ce],e.cellFormula&&f){if(!l||!ce||!f)break;f.f=""+Eo(oe[1],o,oe[0],ee,B),f.F=Is(oe[0])}}break;case 1212:{if(!e.cellFormula)break;if(m){if(!l)break;b[cs(l.cell)]=oe[0],f=e.dense?(a[l.cell.r]||[])[l.cell.c]:a[cs(l.cell)],(f||{}).f=""+Eo(oe[0],o,h,ee,B)}}break;case 253:v=pj(c[oe.isst].t,oe.ixfe,"s"),c[oe.isst].h&&(v.h=c[oe.isst].h),v.XF=N[v.ixfe],F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C({c:oe.c,r:oe.r},v,e);break;case 513:e.sheetStubs&&(v={ixfe:oe.ixfe,XF:N[oe.ixfe],t:"z"},F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C({c:oe.c,r:oe.r},v,e));break;case 190:if(e.sheetStubs)for(var _e=oe.c;_e<=oe.C;++_e){var Ke=oe.ixfe[_e-oe.c];v={ixfe:Ke,XF:N[Ke],t:"z"},F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C({c:_e,r:oe.r},v,e)}break;case 214:case 516:case 4:v=pj(oe.val,oe.ixfe,"s"),v.XF=N[v.ixfe],F>0&&(v.z=z[v.ixfe>>8&63]),Nu(v,e,s.opts.Date1904),C({c:oe.c,r:oe.r},v,e);break;case 0:case 512:Z===1&&(o=oe);break;case 252:c=oe;break;case 1054:if(B.biff==4){z[F++]=oe[1];for(var et=0;et<F+163&&hs[et]!=oe[1];++et);et>=163&&Jp(oe[1],F+163)}else Jp(oe[1],oe[0]);break;case 30:{z[F++]=oe;for(var st=0;st<F+163&&hs[st]!=oe;++st);st>=163&&Jp(oe,F+163)}break;case 229:H=H.concat(oe);break;case 93:D[oe.cmo[0]]=B.lastobj=oe;break;case 438:B.lastobj.TxO=oe;break;case 127:B.lastobj.ImData=oe;break;case 440:for(g=oe[0].s.r;g<=oe[0].e.r;++g)for(A=oe[0].s.c;A<=oe[0].e.c;++A)f=e.dense?(a[g]||[])[A]:a[cs({c:A,r:g})],f&&(f.l=oe[1]);break;case 2048:for(g=oe[0].s.r;g<=oe[0].e.r;++g)for(A=oe[0].s.c;A<=oe[0].e.c;++A)f=e.dense?(a[g]||[])[A]:a[cs({c:A,r:g})],f&&f.l&&(f.l.Tooltip=oe[1]);break;case 28:{if(B.biff<=5&&B.biff>=2)break;f=e.dense?(a[oe[0].r]||[])[oe[0].c]:a[cs(oe[0])];var ot=D[oe[2]];f||(e.dense?(a[oe[0].r]||(a[oe[0].r]=[]),f=a[oe[0].r][oe[0].c]={t:"z"}):f=a[cs(oe[0])]={t:"z"},o.e.r=Math.max(o.e.r,oe[0].r),o.s.r=Math.min(o.s.r,oe[0].r),o.e.c=Math.max(o.e.c,oe[0].c),o.s.c=Math.min(o.s.c,oe[0].c)),f.c||(f.c=[]),x={a:oe[1],t:ot.TxO.t},f.c.push(x)}break;case 2173:fUe(N[oe.ixfe],oe.ext);break;case 125:{if(!B.cellStyles)break;for(;oe.e>=oe.s;)G[oe.e--]={width:oe.w/256,level:oe.level||0,hidden:!!(oe.flags&1)},Q||(Q=!0,HL(oe.w/256)),cb(G[oe.e+1])}break;case 520:{var mt={};oe.level!=null&&(O[oe.r]=mt,mt.level=oe.level),oe.hidden&&(O[oe.r]=mt,mt.hidden=!0),oe.hpt&&(O[oe.r]=mt,mt.hpt=oe.hpt,mt.hpx=D1(oe.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||kv(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[be]]=oe;break;case 161:a["!margins"]||kv(a["!margins"]={}),a["!margins"].header=oe.header,a["!margins"].footer=oe.footer;break;case 574:oe.RTL&&(T.Views[0].RTL=!0);break;case 146:S=oe;break;case 2198:P=oe;break;case 140:j=oe;break;case 442:d?I.CodeName=oe||I.name:T.WBProps.CodeName=oe||"ThisWorkbook";break}}else je||console.error("Missing Info for XLS Record 0x"+be.toString(16)),t.l+=ue}return s.SheetNames=ih(i).sort(function(At,Tt){return Number(At)-Number(Tt)}).map(function(At){return i[At].name}),e.bookSheets||(s.Sheets=n),!s.SheetNames.length&&u["!ref"]?(s.SheetNames.push("Sheet1"),s.Sheets&&(s.Sheets.Sheet1=u)):s.Preamble=u,s.Sheets&&V.forEach(function(At,Tt){s.Sheets[s.SheetNames[Tt]]["!autofilter"]=At}),s.Strings=c,s.SSF=eo(hs),B.enc&&(s.Encryption=B.enc),P&&(s.Themes=P),s.Metadata={},j!==void 0&&(s.Metadata.Country=j),ee.names.length>0&&(T.Names=ee.names),s.Workbook=T,s}var RV={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function VHe(t,e,s){var n=Ps.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=vV(n,c8e,RV.DSI);for(var i in a)e[i]=a[i]}catch(d){if(s.WTF)throw d}var o=Ps.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=vV(o,d8e,RV.SI);for(var c in l)e[c]==null&&(e[c]=l[c])}catch(d){if(s.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(use(e.HeadingPairs,e.TitlesOfParts,e,s),delete e.HeadingPairs,delete e.TitlesOfParts)}function qse(t,e){e||(e={}),VL(e),jre(),e.codepage&&NL(e.codepage);var s,n;if(t.FullPaths){if(Ps.find(t,"/encryption"))throw new Error("File is password-protected");s=Ps.find(t,"!CompObj"),n=Ps.find(t,"/Workbook")||Ps.find(t,"/Book")}else{switch(e.type){case"base64":t=Ud(yc(t));break;case"binary":t=Ud(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Ki(t,0),n={content:t}}var a,i;if(s&&QHe(s),e.bookProps&&!e.bookSheets)a={};else{var o=Ms?"buffer":"array";if(n&&n.content)a=GHe(n.content,e);else if((i=Ps.find(t,"PerfectOffice_MAIN"))&&i.content)a=_v.to_workbook(i.content,(e.type=o,e));else if((i=Ps.find(t,"NativeContent_MAIN"))&&i.content)a=_v.to_workbook(i.content,(e.type=o,e));else throw(i=Ps.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ps.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=BUe(t))}var l={};return t.FullPaths&&VHe(t,l,e),a.Props=a.Custprops=l,e.bookFiles&&(a.cfb=t),a}var rS={0:{f:_9e},1:{f:B9e},2:{f:U9e},3:{f:I9e},4:{f:F9e},5:{f:O9e},6:{f:$9e},7:{f:D9e},8:{f:q9e},9:{f:W9e},10:{f:G9e},11:{f:V9e},12:{f:M9e},13:{f:H9e},14:{f:L9e},15:{f:P9e},16:{f:$se},17:{f:z9e},18:{f:R9e},19:{f:IL},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:vHe},40:{},42:{},43:{f:GOe},44:{f:zOe},45:{f:VOe},46:{f:qOe},47:{f:WOe},48:{},49:{f:KDe},50:{},51:{f:pUe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:jse},62:{f:Q9e},63:{f:yUe},64:{f:sHe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Uo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:rHe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:T9e},148:{f:E9e,p:16},151:{f:Y9e},152:{},153:{f:bHe},154:{},155:{},156:{f:gHe},157:{},158:{},159:{T:1,f:dOe},160:{T:-1},161:{T:1,f:Rx},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:K9e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mUe},336:{T:-1},337:{f:xUe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:PF},357:{},358:{},359:{},360:{T:1},361:{},362:{f:wse},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:J9e},427:{f:Z9e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:tHe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:k9e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:X9e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:PF},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:EUe},633:{T:1},634:{T:-1},635:{T:1,f:_Ue},636:{T:-1},637:{f:YDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cHe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:nHe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},OF={6:{f:Y6},10:{f:Nm},12:{f:Ka},13:{f:Ka},14:{f:Fa},15:{f:Fa},16:{f:Bo},17:{f:Fa},18:{f:Fa},19:{f:Ka},20:{f:SV},21:{f:SV},23:{f:wse},24:{f:_V},25:{f:Fa},26:{},27:{},28:{f:SRe},29:{},34:{f:Fa},35:{f:CV},38:{f:Bo},39:{f:Bo},40:{f:Bo},41:{f:Bo},42:{f:Fa},43:{f:Fa},47:{f:kOe},49:{f:iRe},51:{f:Ka},60:{},61:{f:sRe},64:{f:Fa},65:{f:aRe},66:{f:Ka},77:{},80:{},81:{},82:{},85:{f:Ka},89:{},90:{},91:{},92:{f:K8e},93:{f:_Re},94:{},95:{f:Fa},96:{},97:{},99:{f:Fa},125:{f:jse},128:{f:xRe},129:{f:X8e},130:{f:Ka},131:{f:Fa},132:{f:Fa},133:{f:Y8e},134:{},140:{f:FRe},141:{f:Ka},144:{},146:{f:IRe},151:{},152:{},153:{},154:{},155:{},156:{f:Ka},157:{},158:{},160:{f:URe},161:{f:DRe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:hRe},190:{f:fRe},193:{f:Nm},197:{},198:{},199:{},200:{},201:{},202:{f:Fa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ka},220:{},221:{f:Fa},222:{},224:{f:pRe},225:{f:q8e},226:{f:Nm},227:{},229:{f:CRe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:J8e},253:{f:oRe},255:{f:Z8e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:xse},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Fa},353:{f:Nm},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:gRe},431:{f:Fa},432:{},433:{},434:{},437:{},438:{f:TRe},439:{f:Fa},440:{f:BRe},441:{},442:{f:Nw},443:{},444:{f:Ka},445:{},446:{},448:{f:Nm},449:{f:rRe,r:2},450:{f:Nm},512:{f:jV},513:{f:ORe},515:{f:ARe},516:{f:lRe},517:{f:NV},519:{f:HRe},520:{f:eRe},523:{},545:{f:EV},549:{f:wV},566:{},574:{f:nRe},638:{f:uRe},659:{},1048:{},1054:{f:cRe},1084:{},1212:{f:wRe},2048:{f:MRe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:hj},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Nm},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:LRe,r:12},2173:{f:hUe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Fa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:vRe,r:12},2197:{},2198:{f:iUe,r:12},2199:{},2200:{},2201:{},2202:{f:jRe,r:12},2203:{f:Nm},2204:{},2205:{},2206:{},2207:{},2211:{f:tRe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ka},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:RRe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:PRe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:jV},1:{},2:{f:GRe},3:{f:zRe},4:{f:$Re},5:{f:NV},7:{f:VRe},8:{},9:{f:hj},11:{},22:{f:Ka},30:{f:dRe},31:{},32:{},33:{f:EV},36:{},37:{f:wV},50:{f:WRe},62:{},52:{},67:{},68:{f:Ka},69:{},86:{},126:{},127:{f:QRe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:qRe},223:{},234:{},354:{},421:{},518:{f:Y6},521:{f:hj},536:{f:_V},547:{f:CV},561:{},579:{},1030:{f:Y6},1033:{f:hj},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Pd(t,e,s,n){var a=e;if(!isNaN(a)){var i=(s||[]).length||0,o=t.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&sse(s)&&t.push(s)}}function OV(t,e){var s=e||{},n=s.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=a.index,l=i&&i.index||t.length,c=ADe(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,h=0,m=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(o=0;o<c.length;++o){var A=c[o].trim(),g=A.slice(0,3).toLowerCase();if(g=="<tr"){if(++d,s.sheetRows&&s.sheetRows<=d){--d;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var b=A.split(/<\/t[dh]>/i);for(l=0;l<b.length;++l){var w=b[l].trim();if(w.match(/<t[dh]/i)){for(var v=w,j=0;v.charAt(0)=="<"&&(j=v.indexOf(">"))>-1;)v=v.slice(j+1);for(var N=0;N<x.length;++N){var S=x[N];S.s.c==u&&S.s.r<d&&d<=S.e.r&&(u=S.e.c+1,N=-1)}var T=Yr(w.slice(0,w.indexOf(">")));m=T.colspan?+T.colspan:1,((h=+T.rowspan)>1||m>1)&&x.push({s:{r:d,c:u},e:{r:d+(h||1)-1,c:u+m-1}});var I=T.t||T["data-t"]||"";if(!v.length){u+=m;continue}if(v=zre(v),f.s.r>d&&(f.s.r=d),f.e.r<d&&(f.e.r=d),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!v.length){u+=m;continue}var _={t:"s",v};s.raw||!v.trim().length||I=="s"||(v==="TRUE"?_={t:"b",v:!0}:v==="FALSE"?_={t:"b",v:!1}:isNaN(Kd(v))?isNaN(lb(v).getDate())||(_={t:"d",v:Fi(v)},s.cellDates||(_={t:"n",v:ol(_.v)}),_.z=s.dateNF||hs[14]):_={t:"n",v:Kd(v)}),s.dense?(n[d]||(n[d]=[]),n[d][u]=_):n[cs({r:d,c:u})]=_,u+=m}}}}return n["!ref"]=Is(f),x.length&&(n["!merges"]=x),n}function WHe(t,e,s,n){for(var a=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>s||a[d].s.c>o)&&!(a[d].e.r<s||a[d].e.c<o)){if(a[d].s.r<s||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=cs({r:s,c:o}),h=n.dense?(t[s]||[])[o]:t[u],m=h&&h.v!=null&&(h.h||TL(h.w||(If(h),h.w)||""))||"",f={};l>1&&(f.rowspan=l),c>1&&(f.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(f["data-t"]=h&&h.t||"z",h.v!=null&&(f["data-v"]=h.v),h.z!=null&&(f["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),f.id=(n.id||"sjs")+"-"+u,i.push(FDe("td",m,f))}}var x="<tr>";return x+i.join("")+"</tr>"}var qHe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',KHe="</body></html>";function XHe(t,e){var s=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!s||s.length==0)throw new Error("Invalid HTML: could not find <table>");if(s.length==1)return w0(OV(s[0],e),e);var n=qL();return s.forEach(function(a,i){KL(n,OV(a,e),"Sheet"+(i+1))}),n}function YHe(t,e,s){var n=[];return n.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function JHe(t,e){var s=e||{},n=s.header!=null?s.header:qHe,a=s.footer!=null?s.footer:KHe,i=[n],o=Fb(t["!ref"]);s.dense=Array.isArray(t),i.push(YHe(t,o,s));for(var l=o.s.r;l<=o.e.r;++l)i.push(WHe(t,o,l,s));return i.push("</table>"+a),i.join("")}function Kse(t,e,s){var n=s||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?nl(n.origin):n.origin;a=o.r,i=o.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var u=Fb(t["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var h=[],m=0,f=t["!rows"]||(t["!rows"]=[]),x=0,A=0,g=0,b=0,w=0,v=0;for(t["!cols"]||(t["!cols"]=[]);x<l.length&&A<c;++x){var j=l[x];if(UV(j)){if(n.display)continue;f[A]={hidden:!0}}var N=j.children;for(g=b=0;g<N.length;++g){var S=N[g];if(!(n.display&&UV(S))){var T=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):zre(S.innerHTML),I=S.getAttribute("data-z")||S.getAttribute("z");for(m=0;m<h.length;++m){var _=h[m];_.s.c==b+i&&_.s.r<A+a&&A+a<=_.e.r&&(b=_.e.c+1-i,m=-1)}v=+S.getAttribute("colspan")||1,((w=+S.getAttribute("rowspan")||1)>1||v>1)&&h.push({s:{r:A+a,c:b+i},e:{r:A+a+(w||1)-1,c:b+i+(v||1)-1}});var M={t:"s",v:T},C=S.getAttribute("data-t")||S.getAttribute("t")||"";T!=null&&(T.length==0?M.t=C||"z":n.raw||T.trim().length==0||C=="s"||(T==="TRUE"?M={t:"b",v:!0}:T==="FALSE"?M={t:"b",v:!1}:isNaN(Kd(T))?isNaN(lb(T).getDate())||(M={t:"d",v:Fi(T)},n.cellDates||(M={t:"n",v:ol(M.v)}),M.z=n.dateNF||hs[14]):M={t:"n",v:Kd(T)})),M.z===void 0&&I!=null&&(M.z=I);var B="",P=S.getElementsByTagName("A");if(P&&P.length)for(var H=0;H<P.length&&!(P[H].hasAttribute("href")&&(B=P[H].getAttribute("href"),B.charAt(0)!="#"));++H);B&&B.charAt(0)!="#"&&(M.l={Target:B}),n.dense?(t[A+a]||(t[A+a]=[]),t[A+a][b+i]=M):t[cs({c:b+i,r:A+a})]=M,d.e.c<b+i&&(d.e.c=b+i),b+=v}}++A}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,A-1+a),t["!ref"]=Is(d),A>=c&&(t["!fullref"]=Is((d.e.r=l.length-x+A-1+a,d))),t}function Xse(t,e){var s=e||{},n=s.dense?[]:{};return Kse(n,t,e)}function ZHe(t,e){return w0(Xse(t,e),e)}function UV(t){var e="",s=eQe(t);return s&&(e=s(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function eQe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function tQe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),s=Us(e.replace(/<[^>]*>/g,""));return[s]}var HV={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Yse(t,e){var s=e||{},n=BL(t),a=[],i,o,l={name:""},c="",d=0,u,h,m={},f=[],x=s.dense?[]:{},A,g,b={value:""},w="",v=0,j=[],N=-1,S=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,_={},M=[],C={},B=0,P=0,H=[],D=1,G=1,O=[],Q={Names:[]},ee={},q=["",""],Z=[],F={},z="",V=0,W=!1,ne=!1,ie=0;for(P1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");A=P1.exec(n);)switch(A[3]=A[3].replace(/_.*$/,"")){case"table":case"":A[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?x["!ref"]=Is(T):x["!ref"]="A1:A1",s.sheetRows>0&&s.sheetRows<=T.e.r&&(x["!fullref"]=x["!ref"],T.e.r=s.sheetRows-1,x["!ref"]=Is(T)),M.length&&(x["!merges"]=M),H.length&&(x["!rows"]=H),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),m[u.name]=x,ne=!1):A[0].charAt(A[0].length-2)!=="/"&&(u=Yr(A[0],!1),N=S=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,x=s.dense?[]:{},M=[],H=[],ne=!0);break;case"table-row-group":A[1]==="/"?--I:++I;break;case"table-row":case"":if(A[1]==="/"){N+=D,D=1;break}if(h=Yr(A[0],!1),h.?N=h.-1:N==-1&&(N=0),D=+h["number-rows-repeated"]||1,D<10)for(ie=0;ie<D;++ie)I>0&&(H[N+ie]={level:I});S=-1;break;case"covered-table-cell":A[1]!=="/"&&++S,s.sheetStubs&&(s.dense?(x[N]||(x[N]=[]),x[N][S]={t:"z"}):x[cs({r:N,c:S})]={t:"z"}),w="",j=[];break;case"table-cell":case"":if(A[0].charAt(A[0].length-2)==="/")++S,b=Yr(A[0],!1),G=parseInt(b["number-columns-repeated"]||"1",10),g={t:"z",v:null},b.formula&&s.cellFormula!=!1&&(g.f=IV(Us(b.formula))),(b.||b["value-type"])=="string"&&(g.t="s",g.v=Us(b["string-value"]||""),s.dense?(x[N]||(x[N]=[]),x[N][S]=g):x[cs({r:N,c:S})]=g),S+=G-1;else if(A[1]!=="/"){++S,w="",v=0,j=[],G=1;var be=D?N+D-1:N;if(S>T.e.c&&(T.e.c=S),S<T.s.c&&(T.s.c=S),N<T.s.r&&(T.s.r=N),be>T.e.r&&(T.e.r=be),b=Yr(A[0],!1),Z=[],F={},g={t:b.||b["value-type"],v:null},s.cellFormula)if(b.formula&&(b.formula=Us(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(B=parseInt(b["number-matrix-rows-spanned"],10)||0,P=parseInt(b["number-matrix-columns-spanned"],10)||0,C={s:{r:N,c:S},e:{r:N+B-1,c:S+P-1}},g.F=Is(C),O.push([C,g.F])),b.formula)g.f=IV(b.formula);else for(ie=0;ie<O.length;++ie)N>=O[ie][0].s.r&&N<=O[ie][0].e.r&&S>=O[ie][0].s.c&&S<=O[ie][0].e.c&&(g.F=O[ie][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(B=parseInt(b["number-rows-spanned"],10)||0,P=parseInt(b["number-columns-spanned"],10)||0,C={s:{r:N,c:S},e:{r:N+B-1,c:S+P-1}},M.push(C)),b["number-columns-repeated"]&&(G=parseInt(b["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=ta(b["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(b.value);break;case"percentage":g.t="n",g.v=parseFloat(b.value);break;case"currency":g.t="n",g.v=parseFloat(b.value);break;case"date":g.t="d",g.v=Fi(b["date-value"]),s.cellDates||(g.t="n",g.v=ol(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=mDe(b["time-value"])/86400,s.cellDates&&(g.t="d",g.v=j4(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(b.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",b["string-value"]!=null&&(w=Us(b["string-value"]),j=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(W=!1,g.t==="s"&&(g.v=w||"",j.length&&(g.R=j),W=v==0),ee.Target&&(g.l=ee),Z.length>0&&(g.c=Z,Z=[]),w&&s.cellText!==!1&&(g.w=w),W&&(g.t="z",delete g.v),(!W||s.sheetStubs)&&!(s.sheetRows&&s.sheetRows<=N))for(var ue=0;ue<D;++ue){if(G=parseInt(b["number-columns-repeated"]||"1",10),s.dense)for(x[N+ue]||(x[N+ue]=[]),x[N+ue][S]=ue==0?g:eo(g);--G>0;)x[N+ue][S+G]=eo(g);else for(x[cs({r:N+ue,c:S})]=g;--G>0;)x[cs({r:N+ue,c:S+G})]=eo(g);T.e.c<=S&&(T.e.c=S)}G=parseInt(b["number-columns-repeated"]||"1",10),S+=G-1,G=0,g={},w="",j=[]}ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(A[1]==="/"){if((i=a.pop())[0]!==A[3])throw"Bad state: "+i}else A[0].charAt(A[0].length-2)!=="/"&&a.push([A[3],!0]);break;case"annotation":if(A[1]==="/"){if((i=a.pop())[0]!==A[3])throw"Bad state: "+i;F.t=w,j.length&&(F.R=j),F.a=z,Z.push(F)}else A[0].charAt(A[0].length-2)!=="/"&&a.push([A[3],!1]);z="",V=0,w="",v=0,j=[];break;case"creator":A[1]==="/"?z=n.slice(V,A.index):V=A.index+A[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(A[1]==="/"){if((i=a.pop())[0]!==A[3])throw"Bad state: "+i}else A[0].charAt(A[0].length-2)!=="/"&&a.push([A[3],!1]);w="",v=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(A[1]==="/"){if(_[l.name]=c,(i=a.pop())[0]!==A[3])throw"Bad state: "+i}else A[0].charAt(A[0].length-2)!=="/"&&(c="",l=Yr(A[0],!1),a.push([A[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Yr(A[0],!1),c+=HV[A[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Yr(A[0],!1),c+=HV[A[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(A[0].slice(-2)==="/>")break;if(A[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(d,A.index);break}else d=A.index+A[0].length;break;case"named-range":o=Yr(A[0],!1),q=J6(o["cell-range-address"]);var je={Name:o.name,Ref:q[0]+"!"+q[1]};ne&&(je.Sheet=f.length),Q.Names.push(je);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(A[1]==="/"&&(!b||!b["string-value"])){var Be=tQe(n.slice(v,A.index));w=(w.length>0?w+`
`:"")+Be[0]}else Yr(A[0],!1),v=A.index+A[0].length;break;case"s":break;case"database-range":if(A[1]==="/")break;try{q=J6(Yr(A[0])["target-range-address"]),m[q[0]]["!autofilter"]={ref:q[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(A[1]!=="/"){if(ee=Yr(A[0],!1),!ee.href)break;ee.Target=Us(ee.href),delete ee.href,ee.Target.charAt(0)=="#"&&ee.Target.indexOf(".")>-1?(q=J6(ee.Target.slice(1)),ee.Target="#"+q[0]+"!"+q[1]):ee.Target.match(/^\.\.[\\\/]/)&&(ee.Target=ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(A[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(s.WTF)throw new Error(A)}}var oe={Sheets:m,SheetNames:f,Workbook:Q};return s.bookSheets&&delete oe.Sheets,oe}function QV(t,e){e=e||{},Wc(t,"META-INF/manifest.xml")&&A8e(qa(t,"META-INF/manifest.xml"),e);var s=cc(t,"content.xml");if(!s)throw new Error("Missing content.xml in ODS / UOF file");var n=Yse(Un(s),e);return Wc(t,"meta.xml")&&(n.Props=dse(qa(t,"meta.xml"))),n}function $V(t,e){return Yse(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function zL(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function UF(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Un(Lx(t))}function HF(t){var e=t.reduce(function(a,i){return a+i.length},0),s=new Uint8Array(e),n=0;return t.forEach(function(a){s.set(a,n),n+=a.length}),s}function zV(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function rQe(t,e){for(var s=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,s-6176)}function R1(t,e){var s=e?e[0]:0,n=t[s]&127;e:if(t[s++]>=128&&(n|=(t[s]&127)<<7,t[s++]<128||(n|=(t[s]&127)<<14,t[s++]<128)||(n|=(t[s]&127)<<21,t[s++]<128)||(n+=(t[s]&127)*Math.pow(2,28),++s,t[s++]<128)||(n+=(t[s]&127)*Math.pow(2,35),++s,t[s++]<128)||(n+=(t[s]&127)*Math.pow(2,42),++s,t[s++]<128)))break e;return e&&(e[0]=s),n}function xi(t){var e=0,s=t[e]&127;e:if(t[e++]>=128){if(s|=(t[e]&127)<<7,t[e++]<128||(s|=(t[e]&127)<<14,t[e++]<128)||(s|=(t[e]&127)<<21,t[e++]<128))break e;s|=(t[e]&127)<<28}return s}function Mo(t){for(var e=[],s=[0];s[0]<t.length;){var n=s[0],a=R1(t,s),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=s[0];t[s[0]++]>=128;);l=t.slice(c,s[0])}break;case 5:o=4,l=t.slice(s[0],s[0]+o),s[0]+=o;break;case 1:o=8,l=t.slice(s[0],s[0]+o),s[0]+=o;break;case 2:o=R1(t,s),l=t.slice(s[0],s[0]+o),s[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var d={data:l,type:i};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function GL(t,e){return(t==null?void 0:t.map(function(s){return e(s.data)}))||[]}function sQe(t){for(var e,s=[],n=[0];n[0]<t.length;){var a=R1(t,n),i=Mo(t.slice(n[0],n[0]+a));n[0]+=a;var o={id:xi(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Mo(l.data),d=xi(c[3][0].data);o.messages.push({meta:c,data:t.slice(n[0],n[0]+d)}),n[0]+=d}),(e=i[3])!=null&&e[0]&&(o.merge=xi(i[3][0].data)>>>0>0),s.push(o)}return s}function nQe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var s=[0],n=R1(e,s),a=[];s[0]<e.length;){var i=e[s[0]]&3;if(i==0){var o=e[s[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[s[0]],l>1&&(o|=e[s[0]+1]<<8),l>2&&(o|=e[s[0]+2]<<16),l>3&&(o|=e[s[0]+3]<<24),o>>>=0,o++,s[0]+=l}a.push(e.slice(s[0],s[0]+o)),s[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(e[s[0]]>>2&7)+4,c=(e[s[0]++]&224)<<3,c|=e[s[0]++]):(d=(e[s[0]++]>>2)+1,i==2?(c=e[s[0]]|e[s[0]+1]<<8,s[0]+=2):(c=(e[s[0]]|e[s[0]+1]<<8|e[s[0]+2]<<16|e[s[0]+3]<<24)>>>0,s[0]+=4)),a=[HF(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=HF(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function aQe(t){for(var e=[],s=0;s<t.length;){var n=t[s++],a=t[s]|t[s+1]<<8|t[s+2]<<16;s+=3,e.push(nQe(n,t.slice(s,s+a))),s+=a}if(s!==t.length)throw new Error("data is not a valid framed stream!");return HF(e)}function iQe(t,e,s,n){var a=zL(t),i=a.getUint32(4,!0),o=(n>1?12:8)+zV(i&(n>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=zV(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(d=a.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:e[c]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:s[l]};else if(c>-1)h={t:"s",v:e[c]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function oQe(t,e,s){var n=zL(t),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);a&1&&(c=rQe(t,i),i+=16),a&2&&(d=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:s[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return h}function lQe(t,e,s){switch(t[0]){case 0:case 1:case 2:case 3:return iQe(t,e,s,t[0]);case 5:return oQe(t,e,s);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function n0(t){var e=Mo(t);return R1(e[1][0].data)}function GV(t,e){var s=Mo(e.data),n=xi(s[1][0].data),a=s[3],i=[];return(a||[]).forEach(function(o){var l=Mo(o.data),c=xi(l[1][0].data)>>>0;switch(n){case 1:i[c]=UF(l[3][0].data);break;case 8:{var d=t[n0(l[9][0].data)][0],u=Mo(d.data),h=t[n0(u[1][0].data)][0],m=xi(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var f=Mo(h.data);i[c]=f[3].map(function(x){return UF(x.data)}).join("")}break}}),i}function cQe(t,e){var s,n,a,i,o,l,c,d,u,h,m,f,x,A,g=Mo(t),b=xi(g[1][0].data)>>>0,w=xi(g[2][0].data)>>>0,v=((n=(s=g[8])==null?void 0:s[0])==null?void 0:n.data)&&xi(g[8][0].data)>0||!1,j,N;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&e!=0)j=(l=(o=g[7])==null?void 0:o[0])==null?void 0:l.data,N=(d=(c=g[6])==null?void 0:c[0])==null?void 0:d.data;else if((h=(u=g[4])==null?void 0:u[0])!=null&&h.data&&e!=1)j=(f=(m=g[4])==null?void 0:m[0])==null?void 0:f.data,N=(A=(x=g[3])==null?void 0:x[0])==null?void 0:A.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var S=v?4:1,T=zL(j),I=[],_=0;_<j.length/2;++_){var M=T.getUint16(_*2,!0);M<65535&&I.push([_,M])}if(I.length!=w)throw"Expected ".concat(w," cells, found ").concat(I.length);var C=[];for(_=0;_<I.length-1;++_)C[I[_][0]]=N.subarray(I[_][1]*S,I[_+1][1]*S);return I.length>=1&&(C[I[I.length-1][0]]=N.subarray(I[I.length-1][1]*S)),{R:b,cells:C}}function dQe(t,e){var s,n=Mo(e.data),a=(s=n==null?void 0:n[7])!=null&&s[0]?xi(n[7][0].data)>>>0>0?1:0:-1,i=GL(n[5],function(o){return cQe(o,a)});return{nrows:xi(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function uQe(t,e,s){var n,a=Mo(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(xi(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(xi(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));s["!ref"]=Is(i);var o=Mo(a[4][0].data),l=GV(t,t[n0(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?GV(t,t[n0(o[17][0].data)][0]):[],d=Mo(o[3][0].data),u=0;d[1].forEach(function(h){var m=Mo(h.data),f=t[n0(m[2][0].data)][0],x=xi(f.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var A=dQe(t,f);A.data.forEach(function(g,b){g.forEach(function(w,v){var j=cs({r:u+b,c:v}),N=lQe(w,l,c);N&&(s[j]=N)})}),u+=A.nrows})}function hQe(t,e){var s=Mo(e.data),n={"!ref":"A1"},a=t[n0(s[2][0].data)],i=xi(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return uQe(t,a[0],n),n}function fQe(t,e){var s,n=Mo(e.data),a={name:(s=n[1])!=null&&s[0]?UF(n[1][0].data):"",sheets:[]},i=GL(n[2],n0);return i.forEach(function(o){t[o].forEach(function(l){var c=xi(l.meta[1][0].data);c==6e3&&a.sheets.push(hQe(t,l))})}),a}function mQe(t,e){var s=qL(),n=Mo(e.data),a=GL(n[1],n0);if(a.forEach(function(i){t[i].forEach(function(o){var l=xi(o.meta[1][0].data);if(l==2){var c=fQe(t,o);c.sheets.forEach(function(d,u){KL(s,d,u==0?c.name:c.name+"_"+u,!0)})}})}),s.SheetNames.length==0)throw new Error("Empty NUMBERS file");return s}function eT(t){var e,s,n,a,i={},o=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=aQe(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var u;try{u=sQe(d)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(s=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:s.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&xi(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(d){var u=xi(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return mQe(i,l)}function pQe(t){return function(s){for(var n=0;n!=t.length;++n){var a=t[n];s[a[0]]===void 0&&(s[a[0]]=a[1]),a[2]==="n"&&(s[a[0]]=Number(s[a[0]]))}}}function VL(t){pQe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function xQe(t){return eg.WS.indexOf(t)>-1?"sheet":t==eg.CS?"chart":t==eg.DS?"dialog":t==eg.MS?"macro":t&&t.length?t:"sheet"}function AQe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,xQe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function gQe(t,e,s,n,a,i,o,l,c,d,u,h){try{i[n]=Sv(cc(t,s,!0),e);var m=qa(t,e),f;switch(l){case"sheet":f=NHe(m,e,a,c,i[n],d,u,h);break;case"chart":if(f=SHe(m,e,a,c,i[n],d,u,h),!f||!f["!drawel"])break;var x=Wy(f["!drawel"].Target,e),A=IF(x),g=jUe(cc(t,x,!0),Sv(cc(t,A,!0),x)),b=Wy(g,x),w=IF(b);f=oHe(cc(t,b,!0),b,c,Sv(cc(t,w,!0),b),d,f);break;case"macro":f=CHe(m,e,a,c,i[n],d,u,h);break;case"dialog":f=_He(m,e,a,c,i[n],d,u,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=f;var v=[];i&&i[n]&&ih(i[n]).forEach(function(j){var N="";if(i[n][j].Type==eg.CMNT){N=Wy(i[n][j].Target,e);var S=BHe(qa(t,N,!0),N,c);if(!S||!S.length)return;TV(f,S,!1)}i[n][j].Type==eg.TCMNT&&(N=Wy(i[n][j].Target,e),v=v.concat(SUe(qa(t,N,!0),c)))}),v&&v.length&&TV(f,v,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function Hc(t){return t.charAt(0)=="/"?t.slice(1):t}function bQe(t,e){if(Ire(),e=e||{},VL(e),Wc(t,"META-INF/manifest.xml")||Wc(t,"objectdata.xml"))return QV(t,e);if(Wc(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof eT<"u"){if(t.FileIndex)return eT(t);var s=Ps.utils.cfb_new();return sV(t).forEach(function(H){yDe(s,H,bDe(t,H))}),eT(s)}throw new Error("Unsupported NUMBERS file")}if(!Wc(t,"[Content_Types].xml"))throw Wc(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Wc(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=sV(t),a=p8e(cc(t,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",qa(t,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!qa(t,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!e.bookSheets&&!e.bookProps){if(Ev=[],a.sst)try{Ev=THe(qa(t,Hc(a.sst)),a.sst,e)}catch(H){if(e.WTF)throw H}e.cellStyles&&a.themes.length&&(c=kHe(cc(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(d=EHe(qa(t,Hc(a.style)),a.style,c,e))}a.links.map(function(H){try{var D=Sv(cc(t,IF(Hc(H))),H);return FHe(qa(t,Hc(H)),D,H,e)}catch{}});var u=jHe(qa(t,Hc(a.workbooks[0])),a.workbooks[0],e),h={},m="";a.coreprops.length&&(m=qa(t,Hc(a.coreprops[0]),!0),m&&(h=dse(m)),a.extprops.length!==0&&(m=qa(t,Hc(a.extprops[0]),!0),m&&y8e(m,h,e)));var f={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(m=cc(t,Hc(a.custprops[0]),!0),m&&(f=w8e(m,e)));var x={};if((e.bookSheets||e.bookProps)&&(u.Sheets?o=u.Sheets.map(function(D){return D.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),e.bookProps&&(x.Props=h,x.Custprops=f),e.bookSheets&&typeof o<"u"&&(x.SheetNames=o),e.bookSheets?x.SheetNames:e.bookProps))return x;o={};var A={};e.bookDeps&&a.calcchain&&(A=MHe(qa(t,Hc(a.calcchain)),a.calcchain));var g=0,b={},w,v;{var j=u.Sheets;h.Worksheets=j.length,h.SheetNames=[];for(var N=0;N!=j.length;++N)h.SheetNames[N]=j[N].name}var S=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),I=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Wc(t,I)||(I="xl/_rels/workbook."+S+".rels");var _=Sv(cc(t,I,!0),I.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=PHe(qa(t,Hc(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=CUe(qa(t,Hc(a.people[0])),e)),_&&(_=AQe(_,u.Sheets));var M=qa(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=h.Worksheets;++g){var C="sheet";if(_&&_[g]?(w="xl/"+_[g][1].replace(/[\/]?xl\//,""),Wc(t,w)||(w=_[g][1]),Wc(t,w)||(w=I.replace(/_rels\/.*$/,"")+_[g][1]),C=_[g][2]):(w="xl/worksheets/sheet"+(g+1-M)+"."+S,w=w.replace(/sheet0\./,"sheet.")),v=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(g!=e.sheets)continue e;break;case"string":if(h.SheetNames[g].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var B=!1,P=0;P!=e.sheets.length;++P)typeof e.sheets[P]=="number"&&e.sheets[P]==g&&(B=1),typeof e.sheets[P]=="string"&&e.sheets[P].toLowerCase()==h.SheetNames[g].toLowerCase()&&(B=1);if(!B)continue e}}gQe(t,w,v,h.SheetNames[g],g,b,o,C,e,u,c,d)}return x={Directory:a,Workbook:u,Props:h,Custprops:f,Deps:A,Sheets:o,SheetNames:h.SheetNames,Strings:Ev,Styles:d,Themes:c,SSF:eo(hs)},e&&e.bookFiles&&(t.files?(x.keys=n,x.files=t.files):(x.keys=[],x.files={},t.FullPaths.forEach(function(H,D){H=H.replace(/^Root Entry[\/]/,""),x.keys.push(H),x.files[H]=t.FileIndex[D]}))),e&&e.bookVBA&&(a.vba.length>0?x.vbaraw=qa(t,Hc(a.vba[0]),!0):a.defaults&&a.defaults.bin===TUe&&(x.vbaraw=qa(t,"xl/vbaProject.bin",!0))),x}function yQe(t,e){var s=e||{},n="Workbook",a=Ps.find(t,n);try{if(n="/!DataSpaces/Version",a=Ps.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(hOe(a.content),n="/!DataSpaces/DataSpaceMap",a=Ps.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=mOe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ps.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=pOe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ps.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);AOe(a.content)}catch{}if(n="/EncryptionInfo",a=Ps.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=gOe(a.content);if(n="/EncryptedPackage",a=Ps.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,s.password||"",s);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,s.password||"",s);throw new Error("File is password-protected")}function WL(t,e){var s="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":s=yc(t.slice(0,12));break;case"binary":s=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function vQe(t,e){return Ps.find(t,"EncryptedPackage")?yQe(t,e):qse(t,e)}function wQe(t,e){var s,n=t,a=e||{};return a.type||(a.type=Ms&&Buffer.isBuffer(t)?"buffer":"base64"),s=Hre(n,a),bQe(s,a)}function Jse(t,e){var s=0;e:for(;s<t.length;)switch(t.charCodeAt(s)){case 10:case 13:case 32:++s;break;case 60:return RF(t.slice(s),e);default:break e}return I1.to_workbook(t,e)}function jQe(t,e){var s="",n=WL(t,e);switch(e.type){case"base64":s=yc(t);break;case"binary":s=t;break;case"buffer":s=t.toString("binary");break;case"array":s=yx(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(s=Un(s)),e.type="binary",Jse(s,e)}function NQe(t,e){var s=t;return e.type=="base64"&&(s=yc(s)),s=B1.utils.decode(1200,s.slice(2),"str"),e.type="binary",Jse(s,e)}function SQe(t){return t.match(/[^\x00-\x7F]/)?qy(t):t}function tT(t,e,s,n){return n?(s.type="string",I1.to_workbook(t,s)):I1.to_workbook(e,s)}function QF(t,e){jre();var s=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return QF(new Uint8Array(t),(s=eo(s),s.type="array",s));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!s.type&&(s.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],i=!1;if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),mg={},s.dateNF&&(mg.dateNF=s.dateNF),s.type||(s.type=Ms&&Buffer.isBuffer(t)?"buffer":"base64"),s.type=="file"&&(s.type=Ms?"buffer":"binary",n=hDe(t),typeof Uint8Array<"u"&&!Ms&&(s.type="array")),s.type=="string"&&(i=!0,s.type="binary",s.codepage=65001,n=SQe(t)),s.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return s=eo(s),s.type="array",QF(SL(n),s)}switch((a=WL(n,s))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return vQe(Ps.read(n,s),s);break;case 9:if(a[1]<=8)return qse(n,s);break;case 60:return RF(n,s);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return ZRe(n,s);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return YRe.to_workbook(n,s);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?wQe(n,s):tT(t,n,s,i);case 239:return a[3]===60?RF(n,s):tT(t,n,s,i);case 255:if(a[1]===254)return NQe(n,s);if(a[1]===0&&a[2]===2&&a[3]===0)return _v.to_workbook(n,s);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return _v.to_workbook(n,s);break;case 3:case 131:case 139:case 140:return kV.to_workbook(n,s);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return TOe.to_workbook(n,s);break;case 10:case 13:case 32:return jQe(n,s);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return KRe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?kV.to_workbook(n,s):tT(t,n,s,i)}function CQe(t,e,s,n,a,i,o,l){var c=to(s),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:s,enumerable:!1})}catch{m.__rowNum__=s}else m.__rowNum__=s;if(!o||t[s])for(var f=e.s.c;f<=e.e.c;++f){var x=o?t[s][f]:t[n[f]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[f]!=null&&(m[i[f]]=d);continue}var A=x.v;switch(x.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[f]!=null){if(A==null)if(x.t=="e"&&A===null)m[i[f]]=null;else if(d!==void 0)m[i[f]]=d;else if(u&&A===null)m[i[f]]=null;else continue;else m[i[f]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?A:If(x,A,l);A!=null&&(h=!1)}}return{row:m,isempty:h}}function $F(t,e){if(t==null||t["!ref"]==null)return[];var s={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},u=d.range!=null?d.range:t["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof u){case"string":c=Ea(u);break;case"number":c=Ea(t["!ref"]),c.s.r=u;break;default:c=u}n>0&&(a=0);var h=to(c.s.r),m=[],f=[],x=0,A=0,g=Array.isArray(t),b=c.s.r,w=0,v={};g&&!t[b]&&(t[b]=[]);var j=d.skipHidden&&t["!cols"]||[],N=d.skipHidden&&t["!rows"]||[];for(w=c.s.c;w<=c.e.c;++w)if(!(j[w]||{}).hidden)switch(m[w]=mi(w),s=g?t[b][w]:t[m[w]+h],n){case 1:i[w]=w-c.s.c;break;case 2:i[w]=m[w];break;case 3:i[w]=d.header[w-c.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),l=o=If(s,null,d),A=v[o]||0,!A)v[o]=1;else{do l=o+"_"+A++;while(v[l]);v[o]=A,v[l]=1}i[w]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(N[b]||{}).hidden){var S=CQe(t,c,b,m,n,i,g,d);(S.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(f[x++]=S.row)}return f.length=x,f}var VV=/"/g;function _Qe(t,e,s,n,a,i,o,l){for(var c=!0,d=[],u="",h=to(s),m=e.s.c;m<=e.e.c;++m)if(n[m]){var f=l.dense?(t[s]||[])[m]:t[n[m]+h];if(f==null)u="";else if(f.v!=null){c=!1,u=""+(l.rawNumbers&&f.t=="n"?f.v:If(f,null,l));for(var x=0,A=0;x!==u.length;++x)if((A=u.charCodeAt(x))===a||A===i||A===34||l.forceQuotes){u='"'+u.replace(VV,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(c=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(VV,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function Zse(t,e){var s=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=Ea(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],f=n.skipHidden&&t["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(h[x]=mi(x));for(var A=0,g=a.s.r;g<=a.e.r;++g)(f[g]||{}).hidden||(u=_Qe(t,a,g,h,o,c,i,n),u!=null&&(n.strip&&(u=u.replace(d,"")),(u||n.blankrows!==!1)&&s.push((A++?l:"")+u)));return delete n.dense,s.join("")}function EQe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var s=Zse(t,e);return s}function kQe(t){var e="",s,n="";if(t==null||t["!ref"]==null)return[];var a=Ea(t["!ref"]),i="",o=[],l,c=[],d=Array.isArray(t);for(l=a.s.c;l<=a.e.c;++l)o[l]=mi(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=to(u),l=a.s.c;l<=a.e.c;++l)if(e=o[l]+i,s=d?(t[u]||[])[l]:t[e],n="",s!==void 0){if(s.F!=null){if(e=s.F,!s.f)continue;n=s.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(s.f!=null)n=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)n=""+s.v;else if(s.t=="b")n=s.v?"TRUE":"FALSE";else if(s.w!==void 0)n="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?n="'"+s.v:n=""+s.v}}c[c.length]=e+"="+n}return c}function ene(t,e,s){var n=s||{},a=+!n.skipHeader,i=t||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?nl(n.origin):n.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+e.length-1+a}};if(i["!ref"]){var h=Ea(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+e.length-1+a)}else o==-1&&(o=0,u.e.r=e.length-1+a);var m=n.header||[],f=0;e.forEach(function(A,g){ih(A).forEach(function(b){(f=m.indexOf(b))==-1&&(m[f=m.length]=b);var w=A[b],v="z",j="",N=cs({c:l+f,r:o+g+a});d=O1(i,N),w&&typeof w=="object"&&!(w instanceof Date)?i[N]=w:(typeof w=="number"?v="n":typeof w=="boolean"?v="b":typeof w=="string"?v="s":w instanceof Date?(v="d",n.cellDates||(v="n",w=ol(w)),j=n.dateNF||hs[14]):w===null&&n.nullError&&(v="e",w=0),d?(d.t=v,d.v=w,delete d.w,delete d.R,j&&(d.z=j)):i[N]=d={t:v,v:w},j&&(d.z=j))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var x=to(o);if(a)for(f=0;f<m.length;++f)i[mi(f+l)+x]={t:"s",v:m[f]};return i["!ref"]=Is(u),i}function TQe(t,e){return ene(null,t,e)}function O1(t,e,s){if(typeof e=="string"){if(Array.isArray(t)){var n=nl(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?O1(t,cs(e)):O1(t,cs({r:e,c:s||0}))}function BQe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var s=t.SheetNames.indexOf(e);if(s>-1)return s;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function qL(){return{SheetNames:[],Sheets:{}}}function KL(t,e,s,n){var a=1;if(!s)for(;a<=65535&&t.SheetNames.indexOf(s="Sheet"+a)!=-1;++a,s=void 0);if(!s||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(s)>=0){var i=s.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||s;for(++a;a<=65535&&t.SheetNames.indexOf(s=o+a)!=-1;++a);}if(pHe(s),t.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return t.SheetNames.push(s),t.Sheets[s]=e,s}function MQe(t,e,s){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=BQe(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}t.Workbook.Sheets[n].Hidden=s}function FQe(t,e){return t.z=e,t}function tne(t,e,s){return e?(t.l={Target:e},s&&(t.l.Tooltip=s)):delete t.l,t}function PQe(t,e,s){return tne(t,"#"+e,s)}function IQe(t,e,s){t.c||(t.c=[]),t.c.push({t:e,a:s||"SheetJS"})}function LQe(t,e,s,n){for(var a=typeof e!="string"?e:Ea(e),i=typeof e=="string"?e:Is(e),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=O1(t,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=s,n&&(c.D=!0))}return t}var DQe={encode_col:mi,encode_row:to,encode_cell:cs,encode_range:Is,decode_col:PL,decode_row:FL,split_cell:qDe,decode_cell:nl,decode_range:Fb,format_cell:If,sheet_add_aoa:ase,sheet_add_json:ene,sheet_add_dom:Kse,aoa_to_sheet:Pb,json_to_sheet:TQe,table_to_sheet:Xse,table_to_book:ZHe,sheet_to_csv:Zse,sheet_to_txt:EQe,sheet_to_json:$F,sheet_to_html:JHe,sheet_to_formulae:kQe,sheet_to_row_object_array:$F,sheet_get_cell:O1,book_new:qL,book_append_sheet:KL,book_set_sheet_visibility:MQe,cell_set_number_format:FQe,cell_set_hyperlink:tne,cell_set_internal_link:PQe,cell_add_comment:IQe,sheet_set_array_formula:LQe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Vi="http://localhost:5000",By=10,RQe=({setShowAdminHeader:t,setShowAdminBreadcrumb:e})=>{var Ye,le,Ne;qn();const[s,n]=E.useState([]),[a,i]=E.useState(""),[o,l]=E.useState(!1),[c,d]=E.useState(!1),[u,h]=E.useState(null),[m,f]=E.useState({}),[x,A]=E.useState(!1),[g,b]=E.useState(!1),[w,v]=E.useState(null),[j,N]=E.useState(!1),[S,T]=E.useState(!1),I=E.useRef(null),[_,M]=E.useState([]),[C,B]=E.useState(!1),[P,H]=E.useState(!1),[D,G]=E.useState(!1),[O,Q]=E.useState(null),[ee,q]=E.useState(null),[Z,F]=E.useState({}),[z,V]=E.useState(!1),[W,ne]=E.useState({schoolName:"NIF",campusType:""}),[ie,be]=E.useState([]),[ue,je]=E.useState([]),[Be,oe]=E.useState([]),[lt,se]=E.useState(""),[J,Pe]=E.useState(""),[xe,He]=E.useState(""),[$e,Xe]=E.useState(""),[he,ce]=E.useState([]),[_e,Ke]=E.useState(""),[et,st]=E.useState(null),[ot,mt]=E.useState({name:"",email:"",mobile:"",gender:"",dob:"",address:"",permanentAddress:"",pincode:"",status:"Active",birthPlace:"",nationality:"Indian",religion:"",caste:"",category:"",photograph:"",guardianName:"",guardianEmail:"",guardianPhone:"",fatherName:"",fatherOccupation:"",fatherPhone:"",motherName:"",motherOccupation:"",motherPhone:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelation:"",previousSchoolName:"",previousClass:"",previousPercentage:"",transferCertificateNo:"",transferCertificateDate:"",reasonForLeaving:"",bloodGroup:"",knownHealthIssues:"",allergies:"",immunizationStatus:"",learningDisabilities:"",aadharNumber:"",birthCertificateNo:"",applicationId:"",applicationDate:"",approvalStatus:"Pending",remarks:"",serialNo:"",academicYear:"",admissionDate:"",admissionNumber:"",roll:"",class:"",section:""}),[At,Tt]=E.useState(1),rt=E.useMemo(()=>s.filter(de=>{if(![de.name,de.roll,de.email].filter(Boolean).some(Mt=>String(Mt).toLowerCase().includes(a.toLowerCase())))return!1;const qe=String(de.academicYear||"").trim(),dt=String(de.class||de.grade||"").trim(),Gt=String(de.section||"").trim();return!(J&&qe!==J||xe&&dt!==xe||$e&&Gt!==$e)}),[s,a,J,xe,$e]),Dt=Math.max(1,Math.ceil(rt.length/By)),Qt=E.useMemo(()=>{const de=(At-1)*By;return rt.slice(de,de+By)},[rt,At]),Yt=E.useMemo(()=>Array.from({length:Dt},(de,Ue)=>Ue+1),[Dt]),kt=rt.length>0?(At-1)*By+1:0,tt=Math.min(At*By,rt.length),Ze=E.useMemo(()=>{const de=ie.map(qe=>String((qe==null?void 0:qe.name)||"").trim()).filter(Boolean),Ue=s.map(qe=>String(qe.academicYear||"").trim()).filter(Boolean);return Array.from(new Set([...de,...Ue])).sort()},[ie,s]),ye=E.useMemo(()=>{if(!J)return[];const de=s.filter(qe=>String(qe.academicYear||"").trim()===String(J).trim()).map(qe=>String(qe.class||qe.grade||"").trim()).filter(Boolean),Ue=ue.map(qe=>String((qe==null?void 0:qe.name)||"").trim()).filter(Boolean);return Array.from(new Set([...de,...Ue])).sort()},[J,s,ue]),fe=E.useMemo(()=>{if(!J||!xe)return[];const de=s.filter(dt=>{const Gt=String(dt.academicYear||"").trim(),Mt=String(dt.class||dt.grade||"").trim();return Gt===String(J).trim()&&Mt===String(xe).trim()}).map(dt=>String(dt.section||"").trim()).filter(Boolean),Ue=ue.find(dt=>String((dt==null?void 0:dt.name)||"").trim()===String(xe).trim()),qe=Ue?Be.filter(dt=>String((dt==null?void 0:dt.classId)||"")===String((Ue==null?void 0:Ue._id)||"")).map(dt=>String((dt==null?void 0:dt.name)||"").trim()).filter(Boolean):[];return Array.from(new Set([...de,...qe])).sort()},[J,xe,s,ue,Be]),Me=!!(J&&xe&&$e),Le=E.useMemo(()=>lt?Be.filter(de=>String(de.classId)===String(lt)):[],[Be,lt]),Ge=E.useMemo(()=>ue.map(de=>({id:String(de._id),name:de.name})),[ue]),ct=E.useMemo(()=>Le.map(de=>({id:String(de._id),name:de.name})),[Le]);E.useEffect(()=>{Tt(de=>{const Ue=Math.min(de,Dt);return Ue<1?1:Ue})},[Dt]),E.useEffect(()=>{Tt(1)},[a,J,xe,$e]),E.useEffect(()=>{C&&Ct()},[C]);const ft=de=>{switch(de){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"due":default:return"bg-red-100 text-red-800"}},Ut=(de=0)=>`${Number(de||0).toLocaleString()}`,Wt=async()=>{const de=await fetch(`${Vi}/api/admin/users/get-parents`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!de.ok)throw new Error("Failed to fetch parents");const Ue=await de.json();return Array.isArray(Ue)?Ue:[]},ur=async()=>{const[de,Ue]=await Promise.allSettled([fetch(`${Vi}/api/nif/students`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(Ot=>Ot.ok?Ot.json():[]),Wt()]),qe=de.status==="fulfilled"&&Array.isArray(de.value)?de.value:[],dt=Ue.status==="fulfilled"?Ue.value:[];if(ce(dt),!dt.length){n(qe);return}const Gt=new Map;dt.forEach(Ot=>{(Array.isArray(Ot.childrenIds)?Ot.childrenIds:[]).forEach(Kt=>{Kt&&Gt.set(String(Kt),Ot)})});const Mt=qe.map(Ot=>{const qt=Ot.studentPortalUser?String(Ot.studentPortalUser):null,Kt=qt?Gt.get(qt):null;return Kt?{...Ot,parent:Kt,guardianName:Ot.guardianName||Kt.name||Ot.guardianName,guardianEmail:Ot.guardianEmail||Kt.email||Ot.guardianEmail,guardianPhone:Ot.guardianPhone||Kt.mobile||Ot.guardianPhone}:Ot});n(Mt)},mr=E.useMemo(()=>{const de=_e.trim().toLowerCase();return de?he.filter(Ue=>{const qe=String((Ue==null?void 0:Ue.name)||"").toLowerCase(),dt=String((Ue==null?void 0:Ue.username)||"").toLowerCase();return qe.includes(de)||dt.includes(de)}).slice(0,8):[]},[he,_e]),or=de=>{de&&(st(de),Ke(de.name||de.username||""),mt(Ue=>({...Ue,guardianName:Ue.guardianName||de.name||"",guardianEmail:Ue.guardianEmail||de.email||"",guardianPhone:Ue.guardianPhone||de.mobile||""})))},Jr=async()=>{try{const de=localStorage.getItem("token");if(!de)return;const[Ue,qe]=await Promise.allSettled([fetch(`${Vi}/api/admin/auth/profile`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${de}`}}).then(Ot=>Ot.ok?Ot.json():null),fetch(`${Vi}/api/schools`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${de}`}}).then(Ot=>Ot.ok?Ot.json():[])]),dt=Ue.status==="fulfilled"&&Ue.value?Ue.value:null,Mt=(qe.status==="fulfilled"&&Array.isArray(qe.value)?qe.value:[])[0]||null;ne({schoolName:(Mt==null?void 0:Mt.name)||"NIF",campusType:(dt==null?void 0:dt.campusType)||""})}catch(de){console.error("Failed to load school context:",de)}},it=async()=>{try{const de=localStorage.getItem("token");if(!de)return;const Ue={"Content-Type":"application/json",authorization:`Bearer ${de}`},[qe,dt,Gt]=await Promise.allSettled([fetch(`${Vi}/api/academic/years`,{method:"GET",headers:Ue}).then(Mt=>Mt.ok?Mt.json():[]),fetch(`${Vi}/api/academic/classes?scope=school`,{method:"GET",headers:Ue}).then(Mt=>Mt.ok?Mt.json():[]),fetch(`${Vi}/api/academic/sections?scope=school`,{method:"GET",headers:Ue}).then(Mt=>Mt.ok?Mt.json():[])]);be(qe.status==="fulfilled"&&Array.isArray(qe.value)?qe.value:[]),je(dt.status==="fulfilled"&&Array.isArray(dt.value)?dt.value:[]),oe(Gt.status==="fulfilled"&&Array.isArray(Gt.value)?Gt.value:[])}catch(de){console.error("Failed to load academic catalog:",de)}},Ct=async()=>{try{const de=localStorage.getItem("token");console.log("Fetching archived students from:",`${Vi}/api/nif/students/archived`),console.log("Using token:",de?"Present":"Missing");const Ue=await fetch(`${Vi}/api/nif/students/archived`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${de}`}});if(console.log("Response status:",Ue.status),Ue.ok){const qe=await Ue.json();console.log("Archived students data:",qe),M(Array.isArray(qe)?qe:[])}else{const qe=await Ue.text();console.error("Failed to fetch archived students:",Ue.status,qe),M([])}}catch(de){console.error("Error fetching archived students:",de),M([])}};E.useEffect(()=>(t==null||t(!0),e==null||e(!1),ur().catch(console.error),Ct().catch(console.error),Jr().catch(console.error),it().catch(console.error),()=>{e==null||e(!0)}),[t,e]);const pr=async de=>{if(!(!(await Qr.fire({title:"Archive Student?",text:`Are you sure you want to archive ${de.name}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, archive it!",cancelButtonText:"Cancel"})).isConfirmed||!(await Qr.fire({title:"Confirm Archive",text:"Would you like to add this record to archive?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, move to archive",cancelButtonText:"No, keep active"})).isConfirmed)){G(!0);try{if((await fetch(`${Vi}/api/nif/students/${de._id}/archive`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)Qr.fire({title:"Archived!",text:`${de.name} has been moved to archive.`,icon:"success",timer:2e3,showConfirmButton:!1}),await ur(),await Ct();else throw new Error("Failed to archive student")}catch(dt){console.error(dt),Qr.fire({title:"Error!",text:"Failed to archive student. Please try again.",icon:"error"})}finally{G(!1)}}},yr=async de=>{if(!(!(de!=null&&de._id)||O||!(await Qr.fire({title:"Delete student?",text:`This will remove ${de.name} from students list.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"})).isConfirmed||!(await Qr.fire({title:"Are you absolutely sure?",text:"Click delete again to permanently remove all associated records.",icon:"error",showCancelButton:!0,confirmButtonColor:"#b91c1c",cancelButtonColor:"#6b7280",confirmButtonText:"Delete permanently"})).isConfirmed)){Q(de._id);try{const dt=await fetch(`${Vi}/api/nif/students/${de._id}`,{method:"DELETE",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!dt.ok){const Gt=await dt.json().catch(()=>({}));throw new Error(Gt.message||"Failed to delete student")}await Qr.fire({title:"Deleted",text:`${de.name} and associated fee records have been removed.`,icon:"success",timer:2e3,showConfirmButton:!1}),await ur()}catch(dt){console.error(dt),Qr.fire({title:"Error",text:dt.message||"Failed to delete student",icon:"error"})}finally{Q(null)}}},Jt=de=>{const{name:Ue,value:qe}=de.target;mt(dt=>({...dt,[Ue]:qe}))},me=de=>{const Ue=de.target.value,qe=Ge.find(dt=>String(dt.id)===String(Ue));se(Ue),mt(dt=>({...dt,class:(qe==null?void 0:qe.name)||"",section:""}))},Fe=async de=>{de.preventDefault();const qe=["name","mobile","gender","admissionDate","roll","class","section"].filter(dt=>!ot[dt]||String(ot[dt]).trim()==="");if(qe.length){alert(`Please fill required fields: ${qe.join(", ")}`);return}A(!0);try{const dt={...ot,parentUserId:(et==null?void 0:et._id)||void 0,serialNo:ot.serialNo?Number(ot.serialNo):void 0},Gt=await fetch(`${Vi}/api/nif/students`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(dt)}),Mt=await Gt.json().catch(()=>({}));if(!Gt.ok){alert(`Registration failed: ${Mt.message||Gt.statusText}`);return}Qr.fire({icon:"success",title:"Student enrolled successfully!",html:`
          <div class="text-left space-y-2">
          <div><strong>Student ID:</strong> ${Mt.generatedStudentId||Mt.admissionNumber||"Generated"}</div>
          ${Mt.studentCredentials?`<div><strong>Student Username:</strong> ${Mt.studentCredentials.userId}</div>
                   <div><strong>Student Password:</strong> ${Mt.studentCredentials.password}</div>`:""}
            ${Mt.parentCredentials?`<div><strong>Parent ID:</strong> ${Mt.parentCredentials.userId}</div>
                   <div><strong>Parent Password:</strong> ${Mt.parentCredentials.password||"Already exists (existing password)"}</div>`:""}
          </div>
        `,confirmButtonColor:"#EAB308"}),await ur(),l(!1),Ke(""),st(null),se(""),mt({name:"",email:"",mobile:"",gender:"",dob:"",address:"",pincode:"",status:"Active",guardianName:"",guardianEmail:"",guardianPhone:"",serialNo:"",batchCode:"",admissionDate:"",roll:"",grade:"",section:"",course:"",courseId:"",duration:"",formNo:"",enrollmentNo:""})}catch(dt){console.error(dt),alert(`Error: ${dt.message}`)}finally{A(!1)}},Ee=async(de,Ue)=>{if(!(de!=null&&de._id)){Qr.fire({icon:"warning",title:"Student not saved",text:"Please save the student before generating credentials."});return}q(de._id);try{const qe=await fetch(`${Vi}/api/student/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:Ue.id,password:Ue.password,studentId:de._id,nifId:de.serialNo,name:de.name,email:de.email,mobile:de.mobile,grade:de.grade,section:de.section,batchCode:de.batchCode})}),dt=await qe.json().catch(()=>({}));if(!qe.ok)throw new Error(dt.error||dt.message||qe.statusText||"Failed to issue credentials");const Gt=dt.studentCode||dt.username||Ue.id,Mt=dt.password||Ue.password;F(Ot=>({...Ot,[de._id]:"active"})),Qr.fire({icon:"success",title:"Credentials Issued Successfully",html:`
          <div class="text-left space-y-4">
            <p class="text-gray-700 mb-4"><strong>${de.name}</strong> can now log in with these credentials:</p>

            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 space-y-3">
              <div>
                <p class="text-xs font-semibold text-yellow-700 uppercase mb-1">Student ID</p>
                <div class="flex items-center justify-between bg-white rounded px-3 py-2 border border-yellow-100">
                  <code class="text-sm font-mono text-gray-800">${Gt}</code>
                  <button
                    onclick="navigator.clipboard.writeText('${Gt}')"
                    class="text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded"
                    title="Copy ID"
                  >
                    Copy
                  </button>
                </div>
              </div>

              <div>
                <p class="text-xs font-semibold text-yellow-700 uppercase mb-1">Password</p>
                <div class="flex items-center justify-between bg-white rounded px-3 py-2 border border-yellow-100">
                  <code class="text-sm font-mono text-gray-800">${Mt}</code>
                  <button
                    onclick="navigator.clipboard.writeText('${Mt}')"
                    class="text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded"
                    title="Copy Password"
                  >
                    Copy
                  </button>
                </div>
              </div>
            </div>

            <p class="text-xs text-gray-500 mt-3"> Please save these credentials securely. Share them with the student.</p>
          </div>
        `,width:"600px",showConfirmButton:!0,confirmButtonText:"Done",confirmButtonColor:"#EAB308"})}catch(qe){console.error(qe),F(dt=>({...dt,[de._id]:"error"})),Qr.fire({icon:"error",title:"Credential Error",text:qe.message||"Unable to generate credentials"})}finally{q(null)}},Te=async()=>{const de=s.filter(qt=>!qt.studentPortalUser&&qt.status==="Active");if(de.length===0){Qr.fire({icon:"info",title:"No Students Found",text:"All active students already have portal credentials."});return}if(!(await Qr.fire({icon:"question",title:"Generate Credentials for All Students",html:`
        <p>This will generate portal credentials for <strong>${de.length}</strong> students.</p>
        <p class="text-sm text-gray-600 mt-2">Credentials will be automatically generated and exported to CSV.</p>
      `,showCancelButton:!0,confirmButtonText:"Generate & Export",confirmButtonColor:"#EAB308",cancelButtonText:"Cancel"})).isConfirmed)return;V(!0);const qe=[],dt=[];Qr.fire({title:"Generating Credentials",html:`<div>Processing: <strong>0</strong> / ${de.length}</div>`,allowOutsideClick:!1,didOpen:()=>{Qr.showLoading()}});for(let qt=0;qt<de.length;qt++){const Kt=de[qt];Qr.update({html:`<div>Processing: <strong>${qt+1}</strong> / ${de.length}</div>
               <div class="text-sm text-gray-600 mt-2">${Kt.name}</div>`});try{const rr=Kt.admissionDate?new Date(Kt.admissionDate).getFullYear():new Date().getFullYear(),Kr=(Kt.batchCode||"GEN").toString().replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),cr=rr.toString().slice(-2),Cs=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),Ur=`STU-${cr}${Kr}-${Cs}`,Aa=(()=>{const Tn="ABCDEFGHJKLMNPQRSTUVWXYZ",dn="abcdefghjkmnpqrstuvwxyz",Xs="0123456789",ro="!@#$%&*?",ss=`${Tn}${dn}${Xs}${ro}`;let Di="";for(Di+=Tn[Math.floor(Math.random()*Tn.length)],Di+=dn[Math.floor(Math.random()*dn.length)],Di+=Xs[Math.floor(Math.random()*Xs.length)],Di+=ro[Math.floor(Math.random()*ro.length)];Di.length<10;)Di+=ss[Math.floor(Math.random()*ss.length)];return Di.split("").sort(()=>Math.random()-.5).join("")})(),Ks=await fetch(`${Vi}/api/student/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:Ur,password:Aa,studentId:Kt._id,nifId:Kt.serialNo,name:Kt.name,email:Kt.email,mobile:Kt.mobile,grade:Kt.grade,section:Kt.section,batchCode:Kt.batchCode})}),Ls=await Ks.json().catch(()=>({}));if(!Ks.ok)throw new Error(Ls.error||Ls.message||"Failed to generate credentials");const xs=Ls.studentCode||Ls.username||Ur,ga=Ls.password||Aa;qe.push({serialNo:Kt.serialNo||"",name:Kt.name,batchCode:Kt.batchCode,grade:Kt.grade,section:Kt.section,roll:Kt.roll,mobile:Kt.mobile,email:Kt.email,username:xs,password:ga}),F(Tn=>({...Tn,[Kt._id]:"active"}))}catch(rr){console.error(`Error generating credentials for ${Kt.name}:`,rr),dt.push({student:Kt.name,error:rr.message})}}V(!1),qe.length>0&&Ie(qe),await ur();const Gt=qe.length,Mt=dt.length;let Ot=`<p><strong>${Gt}</strong> credentials generated successfully.</p>`;Mt>0&&(Ot+=`<p class="text-red-600 mt-2"><strong>${Mt}</strong> failed.</p>`,Ot+='<div class="text-left mt-3 max-h-40 overflow-y-auto text-sm">',dt.forEach(qt=>{Ot+=`<div class="mb-1"> ${qt.student}: ${qt.error}</div>`}),Ot+="</div>"),Gt>0&&(Ot+='<p class="text-sm text-gray-600 mt-3"> Credentials exported to CSV file</p>'),Qr.fire({icon:Gt>0?"success":"error",title:"Bulk Credential Generation Complete",html:Ot,confirmButtonColor:"#EAB308"})},Ie=de=>{const Ue=["Serial No","Student Name","Batch Code","Grade","Section","Roll","Mobile","Email","Portal ID","Portal Password"],qe=de.map(qt=>[qt.serialNo,qt.name,qt.batchCode,qt.grade,qt.section,qt.roll,qt.mobile,qt.email,qt.username,qt.password]),dt=[Ue,...qe].map(qt=>qt.map(Kt=>{const rr=String(Kt||"");return rr.includes(",")||rr.includes('"')||rr.includes(`
`)?`"${rr.replace(/"/g,'""')}"`:rr}).join(",")).join(`
`),Gt=new Blob([dt],{type:"text/csv;charset=utf-8;"}),Mt=document.createElement("a"),Ot=URL.createObjectURL(Gt);Mt.setAttribute("href",Ot),Mt.setAttribute("download",`student_credentials_${new Date().toISOString().split("T")[0]}.csv`),Mt.style.visibility="hidden",document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt)},De=async de=>{if(de.preventDefault(),!(!w||!w._id)){N(!0);try{const Ue=await fetch(`${Vi}/api/nif/students/${w._id}`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(w)});if(Ue.ok){const qe=await Ue.json();n(dt=>dt.map(Gt=>Gt._id===qe._id?qe:Gt)),b(!1),v(null),Qr.fire({title:"Success!",text:"Student details updated successfully",icon:"success",timer:2e3})}else{const qe=await Ue.json().catch(()=>({}));throw new Error(qe.message||"Failed to update student")}}catch(Ue){Qr.fire({title:"Error",text:Ue.message||"Failed to update student",icon:"error"})}finally{N(!1)}}},pt=async de=>{if(de&&window.confirm("Restore this student from archive?"))try{H(!0);const Ue=await fetch(`${Vi}/api/nif/students/${de}/unarchive`,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),qe=await Ue.json().catch(()=>({}));if(!Ue.ok)throw new Error(qe.message||"Failed to restore student");await ur(),await Ct(),Qr.fire({icon:"success",title:"Student restored",toast:!0,position:"top-end",showConfirmButton:!1,timer:1500})}catch(Ue){console.error(Ue),alert(Ue.message)}finally{H(!1)}},Et=de=>de==null?void 0:de.toString().trim().toLowerCase().replace(/[\s_-]+/g,""),bt={name:"name",mobile:"mobile",email:"email",gender:"gender",dob:"dob",dateofbirth:"dob",address:"address",pincode:"pincode",pin:"pincode",batchcode:"batchCode",batch:"batchCode",admissiondate:"admissionDate",admission:"admissionDate",dateofadmission:"admissionDate",roll:"roll",rollno:"roll",rollnumber:"roll",section:"section",course:"course",coursename:"course",courseid:"courseId",grade:"grade",duration:"duration",serialno:"serialNo",serialn:"serialNo",srlno:"serialNo",serial:"serialNo",formno:"formNo",formn:"formNo",form:"formNo",enrollmentno:"enrollmentNo",enrollmentn:"enrollmentNo",enrollment:"enrollmentNo",guardianname:"guardianName",guardian:"guardianName",parentname:"guardianName",guardianemail:"guardianEmail",parentemail:"guardianEmail",guardianphone:"guardianPhone",guardianph:"guardianPhone",guardianphn:"guardianPhone",guardiancontact:"guardianPhone",parentphone:"guardianPhone",status:"status"},vt=de=>{const Ue=[];let qe=0,dt="",Gt=[],Mt=!1;const Ot=()=>{Gt.push(dt),dt=""},qt=()=>{Ue.push(Gt),Gt=[]};for(;qe<de.length;){const Kt=de[qe];Mt?Kt==='"'?de[qe+1]==='"'?(dt+='"',qe+=2):(Mt=!1,qe++):(dt+=Kt,qe++):Kt==='"'?(Mt=!0,qe++):Kt===","?(Ot(),qe++):Kt==="\r"?qe++:Kt===`
`?(Ot(),qt(),qe++):(dt+=Kt,qe++)}return Ot(),Gt.length&&qt(),Ue},Nt=de=>{const Ue=String(de||"").trim();if(!Ue)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(Ue))return Ue;const qe=Ue.match(/^(\d{1,2})[/-](\d{1,2})[/-](\d{4})$/);if(qe){const Gt=String(qe[1]).padStart(2,"0"),Mt=String(qe[2]).padStart(2,"0");return`${qe[3]}-${Mt}-${Gt}`}if(/^\d{5}$/.test(Ue)){const Gt=new Date(1900,0,1),Mt=parseInt(Ue)-2,Ot=new Date(Gt.getTime()+Mt*24*60*60*1e3),qt=Ot.getFullYear(),Kt=String(Ot.getMonth()+1).padStart(2,"0"),rr=String(Ot.getDate()).padStart(2,"0");return`${qt}-${Kt}-${rr}`}const dt=new Date(Ue);if(!isNaN(dt.getTime())){const Gt=dt.getFullYear(),Mt=String(dt.getMonth()+1).padStart(2,"0"),Ot=String(dt.getDate()).padStart(2,"0");return`${Gt}-${Mt}-${Ot}`}return null},pe=async de=>{const Ue=de.name.toLowerCase();if(Ue.endsWith(".xlsx")||Ue.endsWith(".xls")){const qe=await de.arrayBuffer(),dt=QF(qe,{type:"array"}),Gt=dt.SheetNames[0],Mt=dt.Sheets[Gt];return DQe.sheet_to_json(Mt,{header:1,defval:""})}if(Ue.endsWith(".csv")){const qe=await de.text();return vt(qe)}throw new Error("Unsupported file format. Please use .csv, .xlsx, or .xls files.")},ze=async de=>{try{T(!0);const Ue=await pe(de);if(!Ue.length){alert("File is empty");return}const qe=Ue[0],dt={};qe.forEach((Kt,rr)=>{const dr=Et(Kt),Kr=bt[dr];Kr&&(dt[Kr]=rr)});const Gt=[],Mt=[];for(let Kt=1;Kt<Ue.length;Kt++){const rr=Ue[Kt];if(!rr||rr.every(Cs=>!String(Cs||"").trim()))continue;const dr={};if(Object.keys(bt).forEach(Cs=>{const Ur=bt[Cs],en=dt[Ur];if(en!==void 0){const Aa=String(rr[en]??"").trim();Aa&&(dr[Ur]=Aa)}}),!dr.name||!dr.mobile||!dr.gender||!dr.batchCode||!dr.admissionDate||!dr.roll||!dr.section||!dr.course){Mt.push({row:Kt+1,reason:"Missing required fields"});continue}const Kr=Nt(dr.dob),cr=Nt(dr.admissionDate);if(!cr){Mt.push({row:Kt+1,reason:"Invalid admission date format"});continue}Gt.push({name:dr.name,mobile:dr.mobile,email:(dr.email||"").toLowerCase(),gender:dr.gender.toLowerCase(),dob:Kr,address:dr.address||"",pincode:dr.pincode||"",status:dr.status||"Active",guardianName:dr.guardianName||"",guardianEmail:dr.guardianEmail?dr.guardianEmail.toLowerCase():"",guardianPhone:dr.guardianPhone||"",serialNo:dr.serialNo?Number(dr.serialNo):void 0,batchCode:dr.batchCode,admissionDate:cr,roll:dr.roll,grade:dr.grade||"",section:dr.section,course:dr.course||"",courseId:dr.courseId||"",duration:dr.duration||"",formNo:dr.formNo||"",enrollmentNo:dr.enrollmentNo||""})}if(!Gt.length){Qr.fire({icon:"warning",title:"No Valid Rows",html:Mt.length>0?`<div style="text-align: left;">
            <p>All rows were skipped due to validation errors:</p>
            <ul style="max-height: 300px; overflow-y: auto;">
              ${Mt.slice(0,20).map(Kt=>`<li>Row ${Kt.row}: ${Kt.reason}</li>`).join("")}
              ${Mt.length>20?`<li>...and ${Mt.length-20} more</li>`:""}
            </ul>
          </div>`:"No valid data rows found in the file."});return}if(Mt.length>0&&!(await Qr.fire({icon:"warning",title:`${Mt.length} rows will be skipped`,html:`<div style="text-align: left;">
            <p><strong>${Gt.length}</strong> valid rows found</p>
            <p><strong>${Mt.length}</strong> rows will be skipped:</p>
            <ul style="max-height: 200px; overflow-y: auto;">
              ${Mt.slice(0,10).map(rr=>`<li>Row ${rr.row}: ${rr.reason}</li>`).join("")}
              ${Mt.length>10?`<li>...and ${Mt.length-10} more</li>`:""}
            </ul>
            <p style="margin-top: 10px;">Do you want to continue importing the valid rows?</p>
          </div>`,showCancelButton:!0,confirmButtonText:"Yes, Import Valid Rows",cancelButtonText:"Cancel"})).isConfirmed){T(!1),I.current&&(I.current.value="");return}console.log("Sending to backend:",{count:Gt.length,firstStudent:Gt[0],sample:Gt[0]});const Ot=await fetch(`${Vi}/api/nif/students/bulk`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({students:Gt})}),qt=await Ot.json().catch(()=>({}));if(!Ot.ok){alert(`Import failed: ${qt.message||Ot.statusText}`);return}await Qr.fire({icon:"success",title:"Import Complete!",html:`<div style="text-align: left;">
          <p><strong>Successfully imported:</strong> ${qt.imported} students</p>
          <p><strong>Failed:</strong> ${qt.failed} rows</p>
          ${qt.errors&&qt.errors.length>0?`<p style="margin-top: 10px;"><strong>Errors:</strong></p>
             <ul style="max-height: 200px; overflow-y: auto; text-align: left;">
               ${qt.errors.slice(0,10).map(Kt=>`<li>Row ${Kt.index+1}: ${Kt.message}</li>`).join("")}
               ${qt.errors.length>10?`<li>...and ${qt.errors.length-10} more errors</li>`:""}
             </ul>`:""}
        </div>`,confirmButtonText:"OK"}),await ur()}catch(Ue){console.error(Ue),Qr.fire({icon:"error",title:"Import Failed",text:Ue.message||"An error occurred during import"})}finally{T(!1),I.current&&(I.current.value="")}};return r.jsx("div",{className:"flex-1 bg-white overflow-hidden flex flex-col",children:r.jsxs("div",{className:"w-full flex-1 flex flex-col p-2 md:p-4 lg:p-6 overflow-hidden text-sm md:text-base",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:justify-between sm:items-center mb-4 md:mb-6 flex-shrink-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-yellow-700",children:"Student Management"}),r.jsx("p",{className:"text-gray-600 mt-1 md:mt-2 text-sm md:text-base",children:"Manage Students"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-3 w-full sm:w-auto justify-stretch sm:justify-start",children:[r.jsxs("button",{onClick:()=>{var de;return(de=I.current)==null?void 0:de.click()},disabled:S,className:"bg-amber-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-amber-700 disabled:opacity-60 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[r.jsx(ax,{size:16}),S?"Importing...":"Bulk Upload"]}),r.jsx("input",{ref:I,type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:de=>{var qe;const Ue=(qe=de.target.files)==null?void 0:qe[0];Ue&&ze(Ue)}}),r.jsxs("button",{onClick:Te,disabled:z,className:"bg-emerald-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-emerald-700 disabled:opacity-60 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",title:"Generate credentials for all students without portal access and export to CSV",children:[r.jsx(rB,{size:16}),z?"Generating...":"Generate All IDs"]}),r.jsxs("button",{onClick:()=>l(!0),className:"bg-yellow-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-yellow-700 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[r.jsx(vs,{size:16})," Add Student"]}),r.jsxs("button",{onClick:()=>B(!0),className:"bg-purple-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[r.jsx(ZT,{size:16})," View Archived"]})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[r.jsxs("div",{className:"mb-3 md:mb-4 flex flex-wrap items-center gap-4 flex-shrink-0",children:[r.jsxs("div",{className:"flex-1 min-w-[200px] md:min-w-[240px] relative",children:[r.jsx(Fs,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:Me?"Search students...":"Select session, class, section to search students",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm md:text-base",value:a,onChange:de=>i(de.target.value),disabled:!Me})]}),r.jsx("button",{onClick:()=>{Pe(""),He(""),Xe("")},className:"border border-gray-200 rounded-lg px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Reset"})]}),r.jsxs("div",{className:"mb-3 md:mb-4 rounded-lg border border-yellow-200 bg-yellow-50 px-3 py-2 text-xs md:text-sm text-yellow-900",children:[r.jsx("span",{className:"font-semibold",children:"Flow:"})," Session",r.jsx(ln,{className:"inline w-3 h-3 mx-1"}),"Class",r.jsx(ln,{className:"inline w-3 h-3 mx-1"}),"Section",r.jsx(ln,{className:"inline w-3 h-3 mx-1"}),"Students"]}),r.jsxs("div",{className:"mb-3 md:mb-4 flex flex-wrap items-center gap-2",children:[r.jsx("button",{className:`px-3 py-1.5 rounded-full text-xs md:text-sm border ${J?"border-gray-200 text-gray-700 hover:bg-gray-50":"bg-yellow-500 border-yellow-500 text-white"}`,onClick:()=>{Pe(""),He(""),Xe("")},children:"Sessions"}),J&&r.jsx("button",{className:`px-3 py-1.5 rounded-full text-xs md:text-sm border ${xe?"border-gray-200 text-gray-700 hover:bg-gray-50":"bg-yellow-500 border-yellow-500 text-white"}`,onClick:()=>{He(""),Xe("")},children:J}),xe&&r.jsx("button",{className:`px-3 py-1.5 rounded-full text-xs md:text-sm border ${$e?"border-gray-200 text-gray-700 hover:bg-gray-50":"bg-yellow-500 border-yellow-500 text-white"}`,onClick:()=>Xe(""),children:xe}),$e&&r.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs md:text-sm border bg-yellow-500 border-yellow-500 text-white",children:$e})]}),!J&&r.jsxs("div",{className:"flex-1 overflow-y-auto rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Select Session"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Ze.map(de=>r.jsx("button",{onClick:()=>{Pe(de),He(""),Xe("")},className:"rounded-lg border border-gray-200 px-4 py-3 text-left hover:border-yellow-400 hover:bg-yellow-50 transition-colors",children:r.jsx("div",{className:"font-medium text-gray-900",children:de})},de))})]}),J&&!xe&&r.jsxs("div",{className:"flex-1 overflow-y-auto rounded-lg border border-gray-200 p-4",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:["Select Class in ",J]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:ye.map(de=>r.jsx("button",{onClick:()=>{He(de),Xe("")},className:"rounded-lg border border-gray-200 px-4 py-3 text-left hover:border-yellow-400 hover:bg-yellow-50 transition-colors",children:r.jsx("div",{className:"font-medium text-gray-900",children:de})},de))})]}),J&&xe&&!$e&&r.jsxs("div",{className:"flex-1 overflow-y-auto rounded-lg border border-gray-200 p-4",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-800 mb-3",children:["Select Section in ",xe]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:fe.map(de=>r.jsx("button",{onClick:()=>Xe(de),className:"rounded-lg border border-gray-200 px-4 py-3 text-left hover:border-yellow-400 hover:bg-yellow-50 transition-colors",children:r.jsx("div",{className:"font-medium text-gray-900",children:de})},de))})]}),Me&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex-1 overflow-y-auto rounded-lg border border-gray-200",children:r.jsxs("table",{className:"w-full border-collapse table-fixed",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-yellow-50",children:[r.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[20%]",children:"Student"}),r.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[12%]",children:"Academic"}),r.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[15%]",children:"Course"}),r.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[12%]",children:"Contact"}),r.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[18%]",children:"Fees"}),r.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-center text-xs font-semibold text-yellow-800 w-[23%]",children:"Actions"})]})}),r.jsxs("tbody",{children:[Qt.map(de=>{var Ot,qt,Kt,rr,dr,Kr,cr,Cs;const Ue=de._id||de.id,qe=de.admissionDate?new Date(de.admissionDate).getFullYear():void 0,dt=Z[Ue]==="active",Gt=ee===Ue,Mt={batchCode:de.batchCode||de.section||de.grade||"",referenceName:de.name||""};return qe&&(Mt.joiningYear=qe),r.jsxs("tr",{className:"hover:bg-yellow-50 transition-all duration-200",children:[r.jsx("td",{className:"border-b border-yellow-100 px-2 py-2 cursor-pointer",onClick:()=>{v({...de}),b(!0)},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-200 flex items-center justify-center text-xs flex-shrink-0",children:((Ot=de.name)==null?void 0:Ot.charAt(0))||"?"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("div",{className:"font-medium text-gray-900 text-xs truncate hover:text-yellow-600",children:de.name}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:de.email||"No email"}),r.jsxs("div",{className:"text-[11px] text-emerald-700 truncate",children:["Student User: ",((qt=de.portalAccess)==null?void 0:qt.username)||"-"]}),r.jsxs("div",{className:"text-[11px] text-purple-700 truncate",children:["Parent User: ",((Kt=de.parent)==null?void 0:Kt.username)||"-"]})]})]})}),r.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsxs("div",{className:"font-medium",children:["Session: ",de.academicYear||"-"]}),r.jsxs("div",{className:"text-gray-500",children:["Class: ",de.class||de.grade||"-"," | Sec: ",de.section||"-"]}),r.jsxs("div",{className:"text-gray-500",children:["Roll: ",de.roll||"-"]})]})}),r.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:r.jsxs("div",{className:"text-xs text-gray-600",children:[r.jsx("div",{className:"font-medium truncate",title:de.grade,children:de.grade}),r.jsx("div",{className:"text-gray-500 truncate",title:de.course,children:de.course})]})}),r.jsx("td",{className:"border-b border-yellow-100 px-2 py-2 text-xs text-gray-600",children:de.mobile}),r.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:r.jsxs("div",{className:"text-xs",children:[r.jsxs("div",{className:"text-gray-600",children:[Ut((rr=de.feeSummary)==null?void 0:rr.paidAmount),"/",Ut((dr=de.feeSummary)==null?void 0:dr.totalFee)]}),r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[r.jsx("span",{className:`inline-flex px-1.5 py-0.5 text-xs rounded ${ft((Kr=de.feeSummary)==null?void 0:Kr.status)}`,children:((cr=de.feeSummary)==null?void 0:cr.status)||"N/A"}),r.jsx("span",{className:"text-xs text-red-600 font-semibold",children:Ut((Cs=de.feeSummary)==null?void 0:Cs.dueAmount)})]})]})}),r.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:r.jsxs("div",{className:"flex items-center gap-1 justify-center flex-wrap",children:[r.jsx(oL,{buttonText:"Credentials",defaultRole:"Student",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-emerald-600 hover:bg-emerald-700 px-3 py-1 text-xs",prefillValues:Mt,disabled:Gt,onGenerate:({id:Ur,password:en})=>Ee(de,{id:Ur,password:en})}),dt&&r.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 text-[10px] font-semibold",children:"Portal Ready"}),r.jsx("button",{onClick:()=>pr(de),disabled:D,className:"inline-flex items-center px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs transition-colors disabled:opacity-50",title:"Archive Student",children:r.jsx(ZT,{size:12})}),r.jsx("button",{onClick:()=>yr(de),disabled:!!O,className:"inline-flex items-center px-2 py-1 bg-red-50 text-red-700 hover:bg-red-100 rounded text-xs transition-colors disabled:opacity-50",title:"Delete Student",children:r.jsx(vn,{size:12})})]})})]},Ue)}),rt.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center text-gray-500 py-10 text-sm",children:"No students found."})})]})]})}),r.jsxs("div",{className:"mt-3 md:mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between flex-shrink-0 pt-3 md:pt-4 border-t border-yellow-100",children:[r.jsx("div",{className:"text-gray-600 text-xs md:text-sm",children:rt.length===0?"No students to display":`Showing ${kt}-${tt} of ${rt.length} students`}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("button",{className:"px-2 md:px-3 py-1 md:py-1.5 border border-gray-200 rounded-lg text-xs md:text-sm hover:bg-yellow-50 disabled:opacity-50 text-black",onClick:()=>Tt(de=>Math.max(de-1,1)),disabled:At===1,children:"Previous"}),Yt.map(de=>r.jsx("button",{onClick:()=>Tt(de),className:`px-2 md:px-3 py-1 md:py-1.5 rounded-lg text-xs md:text-sm border ${de===At?"bg-yellow-500 text-white border-yellow-500":"border-gray-200 text-black hover:bg-yellow-50"}`,children:de},de)),r.jsx("button",{className:"px-2 md:px-3 py-1 md:py-1.5 border border-gray-200 rounded-lg text-xs md:text-sm hover:bg-yellow-50 disabled:opacity-50 text-black",onClick:()=>Tt(de=>Math.min(de+1,Dt)),disabled:At===Dt,children:"Next"})]})]})]}),J&&!ye.length&&!xe&&r.jsx("div",{className:"text-center text-gray-500 text-sm py-8 border border-dashed border-gray-300 rounded-lg",children:"No classes found for this session."}),J&&xe&&!fe.length&&!$e&&r.jsx("div",{className:"text-center text-gray-500 text-sm py-8 border border-dashed border-gray-300 rounded-lg",children:"No sections found for this class."})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[95vh] overflow-hidden border border-gray-200",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:r.jsx(vs,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Enroll New ",W.schoolName," ",W.campusType?`(${W.campusType}) `:"","Student"]}),r.jsx("p",{className:"text-yellow-100 mt-1",children:"Complete all sections to register student"})]})]}),r.jsx("button",{onClick:()=>l(!1),className:"text-white/80 hover:text-white p-2 hover:bg-white/10 rounded-lg",children:r.jsx(ks,{size:24})})]})}),r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:r.jsx("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:["Personal","Academic","Review"].map((de,Ue)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${Ue===0?"bg-yellow-500 border-yellow-500 text-white":"border-gray-300 text-gray-500"} font-semibold text-sm`,children:Ue+1}),r.jsx("span",{className:`ml-2 text-sm font-medium ${Ue===0?"text-yellow-600":"text-gray-500"}`,children:de}),Ue<2&&r.jsx("div",{className:"w-12 h-0.5 bg-gray-300 mx-4"})]},de))})}),r.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:Fe,className:"space-y-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-100 flex items-center justify-center",children:r.jsx(Ar,{className:"w-3 h-3 text-yellow-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Full Name",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"name",value:ot.name,onChange:Jt,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter student's full name"}),r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(Ar,{className:"w-4 h-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Mobile Number",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",name:"mobile",value:ot.mobile,onChange:Jt,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"+91 98765 43210"}),r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(oa,{className:"w-4 h-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"flex items-center text-sm font-medium text-gray-700",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",name:"email",value:ot.email,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"student@example.com"}),r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(xa,{className:"w-4 h-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"flex items-center text-sm font-medium text-gray-700",children:"Date of Birth"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",name:"dob",value:ot.dob,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"}),r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(ir,{className:"w-4 h-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"space-y-2 relative",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Gender",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("select",{name:"gender",value:ot.gender,onChange:Jt,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Select Gender"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"}),r.jsx("option",{value:"other",children:"Other"})]}),r.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:r.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pincode"}),r.jsx("input",{type:"text",name:"pincode",value:ot.pincode,onChange:Jt,maxLength:6,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter 6-digit pincode"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Present Address"}),r.jsx("textarea",{name:"address",value:ot.address,onChange:Jt,rows:2,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 resize-none",placeholder:"Enter complete present address..."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Permanent Address"}),r.jsx("textarea",{name:"permanentAddress",value:ot.permanentAddress,onChange:Jt,rows:2,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 resize-none",placeholder:"Enter complete permanent address..."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Birth Place"}),r.jsx("input",{type:"text",name:"birthPlace",value:ot.birthPlace,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"City/Town of birth"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nationality"}),r.jsx("input",{type:"text",name:"nationality",value:ot.nationality,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Nationality"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Religion"}),r.jsx("input",{type:"text",name:"religion",value:ot.religion,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Religion"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Caste"}),r.jsx("input",{type:"text",name:"caste",value:ot.caste,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Caste"})]}),r.jsxs("div",{className:"space-y-2 relative",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),r.jsxs("select",{name:"category",value:ot.category,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Select Category"}),r.jsx("option",{value:"General",children:"General"}),r.jsx("option",{value:"OBC",children:"OBC"}),r.jsx("option",{value:"SC",children:"SC"}),r.jsx("option",{value:"ST",children:"ST"}),r.jsx("option",{value:"EWS",children:"EWS"}),r.jsx("option",{value:"Other",children:"Other"})]}),r.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:r.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Student Photograph"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"file",accept:"image/*",onChange:de=>{const Ue=de.target.files[0];Ue&&mt(qe=>({...qe,photograph:Ue.name}))},className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-yellow-50 file:text-yellow-700 hover:file:bg-yellow-100"})}),ot.photograph&&r.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[r.jsx(Fr,{className:"w-4 h-4"}),"Uploaded"]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Upload a recent passport-size photograph (Max 2MB, JPG/PNG)"})]})]}),r.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-100 flex items-center justify-center",children:r.jsx(Ar,{className:"w-3 h-3 text-purple-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Parent/Guardian Details"})]}),r.jsxs("div",{className:"space-y-2 relative",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Search Existing Parent (by name)"}),r.jsx("input",{type:"text",value:_e,onChange:de=>{Ke(de.target.value),st(null)},className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Type parent name to link existing parent"}),et&&r.jsxs("div",{className:"text-xs text-green-700",children:["Linked parent: ",et.name||"-"," (",et.username||"-",")"]}),!et&&_e.trim()&&mr.length>0&&r.jsx("div",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:mr.map(de=>r.jsxs("button",{type:"button",onClick:()=>or(de),className:"w-full text-left px-4 py-2 hover:bg-yellow-50 border-b border-gray-100 last:border-b-0",children:[r.jsx("div",{className:"text-sm font-medium text-gray-800",children:de.name||"Unnamed Parent"}),r.jsxs("div",{className:"text-xs text-gray-500",children:[de.username||"-","  ",de.mobile||"No mobile"]})]},de._id))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Login Name"}),r.jsx("input",{type:"text",name:"guardianName",value:ot.guardianName,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Parent/Guardian full name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Login Phone"}),r.jsx("input",{type:"tel",name:"guardianPhone",value:ot.guardianPhone,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"+91 90000 00000"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Login Email"}),r.jsx("input",{type:"email",name:"guardianEmail",value:ot.guardianEmail,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"guardian@example.com"})]})]})]}),r.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:r.jsx(Hr,{className:"w-3 h-3 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Previous Academic History"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Previous School Name"}),r.jsx("input",{type:"text",name:"previousSchoolName",value:ot.previousSchoolName,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Name of previous school"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class Last Attended"}),r.jsx("input",{type:"text",name:"previousClass",value:ot.previousClass,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"e.g., Class 10"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Percentage Obtained"}),r.jsx("input",{type:"number",name:"previousPercentage",value:ot.previousPercentage,onChange:Jt,min:"0",max:"100",step:"0.01",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Percentage"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transfer Certificate No."}),r.jsx("input",{type:"text",name:"transferCertificateNo",value:ot.transferCertificateNo,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"TC Number"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"TC Date"}),r.jsx("input",{type:"date",name:"transferCertificateDate",value:ot.transferCertificateDate,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reason for Leaving"}),r.jsx("input",{type:"text",name:"reasonForLeaving",value:ot.reasonForLeaving,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Reason for leaving previous school"})]})]})]}),r.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx(Do,{className:"w-3 h-3 text-red-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Medical Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2 relative",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Blood Group"}),r.jsxs("select",{name:"bloodGroup",value:ot.bloodGroup,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Select Blood Group"}),r.jsx("option",{value:"A+",children:"A+"}),r.jsx("option",{value:"A-",children:"A-"}),r.jsx("option",{value:"B+",children:"B+"}),r.jsx("option",{value:"B-",children:"B-"}),r.jsx("option",{value:"AB+",children:"AB+"}),r.jsx("option",{value:"AB-",children:"AB-"}),r.jsx("option",{value:"O+",children:"O+"}),r.jsx("option",{value:"O-",children:"O-"}),r.jsx("option",{value:"Unknown",children:"Unknown"})]}),r.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:r.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Known Health Issues"}),r.jsx("input",{type:"text",name:"knownHealthIssues",value:ot.knownHealthIssues,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Any known health conditions"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Allergies"}),r.jsx("input",{type:"text",name:"allergies",value:ot.allergies,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Any allergies"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Immunization Status"}),r.jsx("input",{type:"text",name:"immunizationStatus",value:ot.immunizationStatus,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Immunization completed/pending"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Learning Disabilities"}),r.jsx("input",{type:"text",name:"learningDisabilities",value:ot.learningDisabilities,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Any learning disabilities (if applicable)"})]})]})]}),r.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 flex items-center justify-center",children:r.jsx(rB,{className:"w-3 h-3 text-indigo-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Document Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Aadhar Number"}),r.jsx("input",{type:"text",name:"aadharNumber",value:ot.aadharNumber,onChange:Jt,maxLength:"12",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"12-digit Aadhar number"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Birth Certificate No."}),r.jsx("input",{type:"text",name:"birthCertificateNo",value:ot.birthCertificateNo,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Birth certificate number"})]})]})]}),r.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(Hr,{className:"w-3 h-3 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Admission & Academic Details"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Date of Admission",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"date",name:"admissionDate",value:ot.admissionDate,onChange:Jt,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"}),r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(ir,{className:"w-4 h-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Admission Number"}),r.jsx("input",{type:"text",name:"admissionNumber",value:ot.admissionNumber,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"e.g., ADM/2024/001"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Academic Session"}),r.jsxs("select",{name:"academicYear",value:ot.academicYear,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Select Session"}),ie.map(de=>r.jsx("option",{value:de.name,children:de.name},de._id))]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2 relative",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Class",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("select",{name:"class",value:lt,onChange:me,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Select Class"}),Ge.map(de=>r.jsx("option",{value:de.id,children:de.name},de.id))]}),r.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:r.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),r.jsxs("div",{className:"space-y-2 relative",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Section",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("select",{name:"section",value:ot.section,onChange:de=>mt(Ue=>({...Ue,section:de.target.value})),required:!0,disabled:!lt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Select Section"}),ct.map(de=>r.jsx("option",{value:de.name,children:de.name},de.id))]}),r.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:r.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Roll Number",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",name:"roll",value:ot.roll,onChange:Jt,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter roll number"}),r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(ude,{className:"w-4 h-4 text-gray-400"})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Serial No"}),r.jsx("input",{type:"number",name:"serialNo",value:ot.serialNo,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Serial number (optional)"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("select",{name:"status",value:ot.status,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"Inactive",children:"Inactive"}),r.jsx("option",{value:"Alumni",children:"Alumni"}),r.jsx("option",{value:"Dropped",children:"Dropped"})]})]})]})]}),r.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center",children:r.jsx(br,{className:"w-3 h-3 text-gray-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Office Use Only"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Application ID"}),r.jsx("input",{type:"text",name:"applicationId",value:ot.applicationId,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Auto-generated"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Application Date"}),r.jsx("input",{type:"date",name:"applicationDate",value:ot.applicationDate,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),r.jsxs("div",{className:"space-y-2 relative",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Approval Status"}),r.jsxs("select",{name:"approvalStatus",value:ot.approvalStatus,onChange:Jt,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[r.jsx("option",{value:"Pending",children:"Pending"}),r.jsx("option",{value:"Under Review",children:"Under Review"}),r.jsx("option",{value:"Approved",children:"Approved"}),r.jsx("option",{value:"Rejected",children:"Rejected"})]}),r.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:r.jsx(ln,{className:"w-4 h-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Remarks"}),r.jsx("textarea",{name:"remarks",value:ot.remarks,onChange:Jt,rows:2,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 resize-none",placeholder:"Additional remarks or notes..."})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["All fields marked with"," ",r.jsx("span",{className:"text-red-500",children:"*"})," are required"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-8 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:x,className:"px-8 py-3 bg-gradient-to-r from-yellow-500 to-amber-500 text-white rounded-xl hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed flex items-center gap-2",children:[r.jsx(vs,{size:18}),x?"Enrolling...":"Enroll Student"]})]})]})]})})]})}),g&&w&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl my-8 border border-gray-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-yellow-50 to-amber-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-amber-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:((Ye=w.name)==null?void 0:Ye.charAt(0))||"?"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:w.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Roll: ",w.roll," | ",w.class," - ",w.section]})]})]}),r.jsx("button",{onClick:()=>{b(!1),v(null)},className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-white/50 transition",children:r.jsx(ks,{size:24})})]})}),r.jsxs("form",{onSubmit:De,className:"overflow-y-auto max-h-[70vh]",children:[r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Ar,{size:20,className:"text-yellow-600"}),"Personal Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:w.name||"",onChange:de=>v({...w,name:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",value:w.email||"",onChange:de=>v({...w,email:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mobile ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",value:w.mobile||"",onChange:de=>v({...w,mobile:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Gender ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:w.gender||"",onChange:de=>v({...w,gender:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:outline-none",required:!0,children:[r.jsx("option",{value:"",children:"Select"}),r.jsx("option",{value:"Male",children:"Male"}),r.jsx("option",{value:"Female",children:"Female"}),r.jsx("option",{value:"Other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),r.jsx("input",{type:"date",value:((le=w.dob)==null?void 0:le.split("T")[0])||"",onChange:de=>v({...w,dob:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),r.jsxs("select",{value:w.bloodGroup||"",onChange:de=>v({...w,bloodGroup:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"Select"}),r.jsx("option",{value:"A+",children:"A+"}),r.jsx("option",{value:"A-",children:"A-"}),r.jsx("option",{value:"B+",children:"B+"}),r.jsx("option",{value:"B-",children:"B-"}),r.jsx("option",{value:"AB+",children:"AB+"}),r.jsx("option",{value:"AB-",children:"AB-"}),r.jsx("option",{value:"O+",children:"O+"}),r.jsx("option",{value:"O-",children:"O-"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Address"}),r.jsx("textarea",{value:w.address||"",onChange:de=>v({...w,address:de.target.value}),rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:outline-none resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permanent Address"}),r.jsx("textarea",{value:w.permanentAddress||"",onChange:de=>v({...w,permanentAddress:de.target.value}),rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:outline-none resize-none"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Hr,{size:20,className:"text-blue-600"}),"Academic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admission Number"}),r.jsx("input",{type:"text",value:w.admissionNumber||"",onChange:de=>v({...w,admissionNumber:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Roll Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:w.roll||"",onChange:de=>v({...w,roll:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Class ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:w.class||"",onChange:de=>v({...w,class:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Section ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:w.section||"",onChange:de=>v({...w,section:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admission Date"}),r.jsx("input",{type:"date",value:((Ne=w.admissionDate)==null?void 0:Ne.split("T")[0])||"",onChange:de=>v({...w,admissionDate:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Year"}),r.jsx("input",{type:"text",value:w.academicYear||"",onChange:de=>v({...w,academicYear:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(oa,{size:20,className:"text-green-600"}),"Guardian / Parent Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),r.jsx("input",{type:"text",value:w.fatherName||"",onChange:de=>v({...w,fatherName:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Phone"}),r.jsx("input",{type:"tel",value:w.fatherPhone||"",onChange:de=>v({...w,fatherPhone:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Occupation"}),r.jsx("input",{type:"text",value:w.fatherOccupation||"",onChange:de=>v({...w,fatherOccupation:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Name"}),r.jsx("input",{type:"text",value:w.motherName||"",onChange:de=>v({...w,motherName:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Phone"}),r.jsx("input",{type:"tel",value:w.motherPhone||"",onChange:de=>v({...w,motherPhone:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Occupation"}),r.jsx("input",{type:"text",value:w.motherOccupation||"",onChange:de=>v({...w,motherOccupation:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guardian Name"}),r.jsx("input",{type:"text",value:w.guardianName||"",onChange:de=>v({...w,guardianName:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guardian Phone"}),r.jsx("input",{type:"tel",value:w.guardianPhone||"",onChange:de=>v({...w,guardianPhone:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guardian Email"}),r.jsx("input",{type:"email",value:w.guardianEmail||"",onChange:de=>v({...w,guardianEmail:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:outline-none"})]})]})]}),r.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(Do,{size:20,className:"text-red-600"}),"Medical Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known Health Issues"}),r.jsx("textarea",{value:w.knownHealthIssues||"",onChange:de=>v({...w,knownHealthIssues:de.target.value}),rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:outline-none resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),r.jsx("textarea",{value:w.allergies||"",onChange:de=>v({...w,allergies:de.target.value}),rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:outline-none resize-none"})]})]})]}),r.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Additional Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),r.jsx("input",{type:"text",value:w.nationality||"",onChange:de=>v({...w,nationality:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Religion"}),r.jsx("input",{type:"text",value:w.religion||"",onChange:de=>v({...w,religion:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("input",{type:"text",value:w.category||"",onChange:de=>v({...w,category:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),r.jsx("input",{type:"text",value:w.aadharNumber||"",onChange:de=>v({...w,aadharNumber:de.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),r.jsx("textarea",{value:w.remarks||"",onChange:de=>v({...w,remarks:de.target.value}),rows:2,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:outline-none resize-none"})]})]})]}),r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{b(!1),v(null)},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:j,className:"px-6 py-2 bg-gradient-to-r from-yellow-500 to-amber-500 text-white rounded-lg hover:from-yellow-600 hover:to-amber-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition",children:j?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Sg,{size:16}),"Update Student"]})})]})]})]})}),C&&r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Archived Students"}),r.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx(ks,{size:20})})]}),r.jsx("div",{className:"overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Roll"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Program"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Course"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Phone"}),r.jsx("th",{className:"px-4 py-3 text-right",children:"Outstanding"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Action"})]})}),r.jsxs("tbody",{children:[_.map(de=>{var Ue;return r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:de.studentName}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:de.roll}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:de.grade}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:de.course}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:de.mobile}),r.jsx("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:Ut((Ue=de.feeSummary)==null?void 0:Ue.totalDue)}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("button",{onClick:()=>pt(de._id),disabled:P,className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-green-100 text-green-700 hover:bg-green-200 text-sm disabled:opacity-50",children:[r.jsx(Ro,{size:14}),"Restore"]})})]},de._id)}),!_.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-4 py-10 text-center text-gray-500",children:"No archived students."})})]})]})}),r.jsx("div",{className:"px-6 py-4 border-t flex justify-end",children:r.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50 text-black",children:"Close"})})]})})]})})},OQe=({setShowAdminHeader:t})=>{var j,N,S,T,I,_,M,C,B,P,H;const[e,s]=E.useState([]),[n,a]=E.useState(""),[i,o]=E.useState(!1),[l,c]=E.useState(null),[d,u]=E.useState({}),[h,m]=E.useState(""),f=e.filter(D=>{const G=D.name.toLowerCase().includes(n.toLowerCase())||D.roll.includes(n)||D.email.toLowerCase().includes(n.toLowerCase());if(!h)return G;const O=x(D.id);return G&&O.mood===h}),x=D=>d[D]||{mood:"neutral",socialEngagement:5,academicStress:5,behaviorChanges:!1,lastAssessment:"N/A",notes:"",interventions:[],counselingSessions:0,parentNotifications:0},A=D=>{const G={excellent:{icon:Uu,color:"text-green-600",bg:"bg-green-100"},good:{icon:Uu,color:"text-blue-600",bg:"bg-blue-100"},neutral:{icon:kN,color:"text-yellow-600",bg:"bg-yellow-100"},concerning:{icon:$v,color:"text-orange-600",bg:"bg-orange-100"},critical:{icon:br,color:"text-red-600",bg:"bg-red-100"}};return G[D]||G.neutral},g=(D,G)=>{u(O=>({...O,[D]:{...O[D],...G,lastAssessment:new Date().toISOString().split("T")[0]}}))},b=D=>{c(D),o(!0),fetch(`http://localhost:5000/api/wellbeing/${D.id}`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(G=>{if(!G.ok)throw new Error("Failed to fetch wellbeing data");return G.json()}).then(G=>{u(O=>({...O,[D.id]:G}))}).catch(G=>{console.error("Error fetching wellbeing data:",G)})};E.useEffect(()=>{t(!0),fetch("http://localhost:5000/api/admin/users/get-students",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(D=>{if(!D.ok)throw new Error("Failed to fetch students");return D.json()}).then(D=>{s(D)}).catch(D=>{console.error("Error fetching students:",D)})},[t]);const w={total:e.length,excellent:e.filter(D=>x(D.id).mood==="excellent").length,good:e.filter(D=>x(D.id).mood==="good").length,neutral:e.filter(D=>x(D.id).mood==="neutral").length,concerning:e.filter(D=>x(D.id).mood==="concerning").length,critical:e.filter(D=>x(D.id).mood==="critical").length},v=()=>{if(!l)return;const D=d[l.id];D&&fetch(`http://localhost:5000/api/wellbeing/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(D)}).then(G=>{if(!G.ok)throw new Error("Failed to save assessment");return G.json()}).then(G=>{console.log("Assessment saved:",G),o(!1)}).catch(G=>{console.error("Error saving assessment:",G)})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-purple-100 to-indigo-100 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto bg-white/90 rounded-2xl shadow-2xl p-8 border border-purple-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-purple-700",children:"Student Wellbeing Dashboard"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor and assess student emotional wellbeing and mental health"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{onClick:()=>{c({id:"test",name:"Test Student",roll:"001",grade:"10",section:"A"}),o(!0)},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[r.jsx(Vs,{size:16})," Test Wellbeing Modal"]}),r.jsx(Vs,{className:"w-12 h-12 text-purple-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.total})]}),r.jsx(Ar,{className:"w-8 h-8 text-gray-500"})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Excellent"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.excellent})]}),r.jsx(Uu,{className:"w-8 h-8 text-green-500"})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Good"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.good})]}),r.jsx(Uu,{className:"w-8 h-8 text-blue-500"})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-yellow-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Neutral"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:w.neutral})]}),r.jsx(kN,{className:"w-8 h-8 text-yellow-500"})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-orange-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Concerning"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w.concerning})]}),r.jsx($v,{className:"w-8 h-8 text-orange-500"})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-red-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Critical"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.critical})]}),r.jsx(br,{className:"w-8 h-8 text-red-500"})]})})]}),r.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-[240px] relative",children:[r.jsx(Fs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:n,onChange:D=>a(D.target.value)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Po,{size:16,className:"text-gray-400"}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h,onChange:D=>m(D.target.value),children:[r.jsx("option",{value:"",children:"All Wellbeing Status"}),r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"neutral",children:"Neutral"}),r.jsx("option",{value:"concerning",children:"Concerning"}),r.jsx("option",{value:"critical",children:"Critical"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(D=>{const G=x(D.id),O=A(G.mood),Q=O.icon;return r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all border border-gray-200 cursor-pointer",onClick:()=>b(D),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-200 flex items-center justify-center",children:D.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:D.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Roll: ",D.roll]})]})]}),r.jsx("div",{className:`p-2 rounded-full ${O.bg}`,children:r.jsx(Q,{size:20,className:O.color})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Overall Mood"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.bg} ${O.color}`,children:G.mood.charAt(0).toUpperCase()+G.mood.slice(1)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Academic Stress"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${G.academicStress>7?"bg-red-500":G.academicStress>4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${G.academicStress/10*100}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[G.academicStress,"/10"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Social Engagement"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${G.socialEngagement/10*100}%`}})}),r.jsxs("span",{className:"text-xs text-gray-500",children:[G.socialEngagement,"/10"]})]})]}),G.behaviorChanges&&r.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-sm",children:[r.jsx(br,{size:16}),r.jsx("span",{children:"Behavior changes noted"})]}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-2 border-t",children:[r.jsxs("span",{children:["Last assessment: ",G.lastAssessment]}),r.jsxs("span",{children:["Sessions: ",G.counselingSessions]})]})]})]},D.id)})}),i&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Emotional Wellbeing Assessment"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:[l.name,"  Roll: ",l.roll,"  Class: ",l.grade,"-",l.section]})]}),r.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:r.jsx(ks,{size:24})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Status"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(()=>{const D=x(l.id),G=A(D.mood),O=G.icon;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${G.bg} mb-2`,children:r.jsx(O,{className:`w-8 h-8 ${G.color}`})}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Overall Mood"}),r.jsx("p",{className:`text-sm font-medium ${G.color}`,children:D.mood.charAt(0).toUpperCase()+D.mood.slice(1)})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-2",children:r.jsx(Ar,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Social Engagement"}),r.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[D.socialEngagement,"/10"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 mb-2",children:r.jsx(ds,{className:"w-8 h-8 text-orange-600"})}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Academic Stress"}),r.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[D.academicStress,"/10"]})]})]})})()})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Assessment"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mood Rating"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",value:((j=d[l.id])==null?void 0:j.mood)||"neutral",onChange:D=>g(l.id,{mood:D.target.value}),children:[r.jsx("option",{value:"excellent",children:"Excellent"}),r.jsx("option",{value:"good",children:"Good"}),r.jsx("option",{value:"neutral",children:"Neutral"}),r.jsx("option",{value:"concerning",children:"Concerning"}),r.jsx("option",{value:"critical",children:"Critical"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Engagement (1-10)"}),r.jsx("input",{type:"range",min:"1",max:"10",className:"w-full",value:((N=d[l.id])==null?void 0:N.socialEngagement)||5,onChange:D=>g(l.id,{socialEngagement:parseInt(D.target.value)})}),r.jsxs("div",{className:"text-center text-sm text-gray-600 mt-1",children:[((S=d[l.id])==null?void 0:S.socialEngagement)||5,"/10"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Stress (1-10)"}),r.jsx("input",{type:"range",min:"1",max:"10",className:"w-full",value:((T=d[l.id])==null?void 0:T.academicStress)||5,onChange:D=>g(l.id,{academicStress:parseInt(D.target.value)})}),r.jsxs("div",{className:"text-center text-sm text-gray-600 mt-1",children:[((I=d[l.id])==null?void 0:I.academicStress)||5,"/10"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"behaviorChanges",className:"h-4 w-4 text-purple-600 border-gray-300 rounded",checked:((_=d[l.id])==null?void 0:_.behaviorChanges)||!1,onChange:D=>g(l.id,{behaviorChanges:D.target.checked})}),r.jsx("label",{htmlFor:"behaviorChanges",className:"ml-2 text-sm text-gray-700",children:"Behavior changes observed"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",rows:"3",placeholder:"Add any observations, concerns, or notes...",value:((M=d[l.id])==null?void 0:M.notes)||"",onChange:D=>g(l.id,{notes:D.target.value})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Support & Interventions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx(gc,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Counseling Sessions"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((C=d[l.id])==null?void 0:C.counselingSessions)||0})]}),r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx(Ar,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Parent Meetings"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:((B=d[l.id])==null?void 0:B.parentNotifications)||0})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx(fs,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("h4",{className:"font-medium text-gray-900",children:"Interventions"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:((H=(P=d[l.id])==null?void 0:P.interventions)==null?void 0:H.length)||0})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[r.jsx(gc,{size:16}),"Schedule Counseling"]}),r.jsxs("button",{className:"flex-1 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 flex items-center justify-center gap-2",children:[r.jsx(Ar,{size:16}),"Notify Parents"]}),r.jsxs("button",{className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[r.jsx(fs,{size:16}),"Add Intervention"]})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:v,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save Assessment"})]})]})]})})]})})},UQe=({setShowAdminHeader:t,isSuperAdmin:e})=>{const[s,n]=E.useState([]),[a,i]=E.useState(!0),[o,l]=E.useState(""),[c,d]=E.useState(!1),[u,h]=E.useState({name:"",code:"",address:"",contactEmail:"",contactPhone:"",status:"active"});E.useEffect(()=>{t(!1)},[t]),E.useEffect(()=>{(async()=>{if(!e){i(!1);return}try{const A=await fetch("http://localhost:5000/api/schools",{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}});if(!A.ok)throw new Error("Failed to load schools");const g=await A.json();n(Array.isArray(g)?g:[])}catch(A){l(A.message||"Failed to load schools")}finally{i(!1)}})()},[e]);const m=x=>{const{name:A,value:g}=x.target;h(b=>({...b,[A]:g}))},f=async x=>{x.preventDefault(),l("");try{const A=await fetch("http://localhost:5000/api/schools",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(u)}),g=await A.json();if(!A.ok)throw new Error((g==null?void 0:g.error)||"Failed to create school");n(b=>[g,...b]),d(!1),h({name:"",code:"",address:"",contactEmail:"",contactPhone:"",status:"active"})}catch(A){l(A.message||"Failed to create school")}};return e?r.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 flex flex-col",children:r.jsxs("div",{className:"flex-1 flex flex-col mx-auto w-full bg-white/90 shadow-2xl border border-blue-200 overflow-hidden p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"Schools"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage tenant schools"})]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700 transition",onClick:()=>d(x=>!x),children:[r.jsx(vs,{size:18}),"Add School"]})]}),o&&r.jsx("div",{className:"mb-4 px-4 py-3 rounded-xl bg-red-50 text-red-700 border border-red-200",children:o}),c&&r.jsxs("form",{onSubmit:f,className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4 bg-white rounded-xl border border-blue-100 p-4",children:[r.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"School name",name:"name",value:u.name,onChange:m,required:!0}),r.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"School code",name:"code",value:u.code,onChange:m,required:!0}),r.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Address",name:"address",value:u.address,onChange:m}),r.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Contact email",name:"contactEmail",type:"email",value:u.contactEmail,onChange:m}),r.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Contact phone",name:"contactPhone",value:u.contactPhone,onChange:m}),r.jsxs("select",{className:"border rounded-lg px-3 py-2",name:"status",value:u.status,onChange:m,children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]}),r.jsxs("div",{className:"md:col-span-2 flex justify-end gap-3",children:[r.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg border",onClick:()=>d(!1),children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 text-white",children:"Create"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:a?r.jsx("div",{className:"text-gray-600",children:"Loading schools..."}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.map(x=>r.jsxs("div",{className:"border border-blue-100 rounded-xl p-4 bg-white",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(dc,{className:"text-blue-700",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",x.code]})]})]}),r.jsxs("div",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[x.address&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mi,{size:14,className:"text-blue-600"}),r.jsx("span",{children:x.address})]}),x.contactEmail&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xa,{size:14,className:"text-blue-600"}),r.jsx("span",{children:x.contactEmail})]}),x.contactPhone&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(oa,{size:14,className:"text-blue-600"}),r.jsx("span",{children:x.contactPhone})]}),r.jsxs("div",{className:"text-xs uppercase tracking-wide text-gray-500",children:["Status: ",x.status||"active"]})]})]},x._id)),s.length===0&&r.jsx("div",{className:"text-gray-600",children:"No schools yet."})]})})]})}):r.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white/90 border border-blue-200 rounded-2xl shadow-xl p-8 text-center max-w-lg",children:[r.jsx("h2",{className:"text-2xl font-semibold text-blue-800",children:"Super Admin Only"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"You do not have access to manage schools."})]})})},HQe=({setShowAdminHeader:t,isSuperAdmin:e})=>{const[s,n]=E.useState([]),[a,i]=E.useState([]),[o,l]=E.useState(!0),[c,d]=E.useState(""),[u,h]=E.useState(!1),[m,f]=E.useState({username:"",password:"",name:"",schoolId:""});E.useEffect(()=>{t(!1)},[t]);const x="http://localhost:5000";E.useEffect(()=>{(async()=>{if(!e){l(!1);return}const w=async(v,j)=>{try{const N=await v.json();return(N==null?void 0:N.error)||(N==null?void 0:N.message)||`${j} (HTTP ${v.status})`}catch{return`${j} (HTTP ${v.status})`}};try{const v=await fetch(`${x}/api/admin/auth/school-admins`,{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}});if(!v.ok){const T=await w(v,"Failed to load school admins");throw new Error(T)}const j=await v.json();n(Array.isArray(j)?j:[]);const N=await fetch(`${x}/api/schools`,{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}});if(!N.ok){const T=await w(N,"Failed to load schools");d(T);return}const S=await N.json();i(Array.isArray(S)?S:[])}catch(v){d(v.message||"Failed to load data")}finally{l(!1)}})()},[e]);const A=b=>{const{name:w,value:v}=b.target;f(j=>({...j,[w]:v}))},g=async b=>{b.preventDefault(),d("");try{const w=await fetch(`${x}/api/admin/auth/school-admins`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(m)}),v=await w.json();if(!w.ok)throw new Error((v==null?void 0:v.error)||"Failed to create school admin");n(j=>[v,...j]),h(!1),f({username:"",password:"",name:"",schoolId:""})}catch(w){d(w.message||"Failed to create school admin")}};return e?r.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 flex flex-col",children:r.jsxs("div",{className:"flex-1 flex flex-col mx-auto w-full bg-white/90 shadow-2xl border border-blue-200 overflow-hidden p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"School Admins"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Assign admins to schools"})]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700 transition",onClick:()=>h(b=>!b),children:[r.jsx(vs,{size:18}),"Add Admin"]})]}),c&&r.jsx("div",{className:"mb-4 px-4 py-3 rounded-xl bg-red-50 text-red-700 border border-red-200",children:c}),u&&r.jsxs("form",{onSubmit:g,className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4 bg-white rounded-xl border border-blue-100 p-4",children:[r.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Full name",name:"name",value:m.name,onChange:A,required:!0}),r.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Username",name:"username",value:m.username,onChange:A,required:!0}),r.jsx("input",{className:"border rounded-lg px-3 py-2",placeholder:"Password",name:"password",type:"password",value:m.password,onChange:A,required:!0}),r.jsxs("select",{className:"border rounded-lg px-3 py-2",name:"schoolId",value:m.schoolId,onChange:A,required:!0,children:[r.jsx("option",{value:"",children:"Select school"}),a.map(b=>r.jsxs("option",{value:b._id,children:[b.name," (",b.code,")"]},b._id))]}),r.jsxs("div",{className:"md:col-span-2 flex justify-end gap-3",children:[r.jsx("button",{type:"button",className:"px-4 py-2 rounded-lg border",onClick:()=>h(!1),children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 text-white",children:"Create"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:o?r.jsx("div",{className:"text-gray-600",children:"Loading school admins..."}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.map(b=>{var w;return r.jsxs("div",{className:"border border-blue-100 rounded-xl p-4 bg-white",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(Xd,{className:"text-blue-700",size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.name||b.username}),r.jsx("p",{className:"text-sm text-gray-500",children:b.username})]})]}),r.jsxs("div",{className:"mt-3 space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(us,{size:14,className:"text-blue-600"}),r.jsx("span",{children:"School Admin"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Wu,{size:14,className:"text-blue-600"}),r.jsx("span",{children:((w=b.schoolId)==null?void 0:w.name)||"Assigned School"})]})]})]},b._id)}),s.length===0&&r.jsx("div",{className:"text-gray-600",children:"No school admins yet."})]})})]})}):r.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white/90 border border-blue-200 rounded-2xl shadow-xl p-8 text-center max-w-lg",children:[r.jsx("h2",{className:"text-2xl font-semibold text-blue-800",children:"Super Admin Only"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"You do not have access to manage school admins."})]})})},WV="http://localhost:5000".replace(/\/$/,""),sc=WV?`${WV}/api`:"/api",QQe=()=>{var t;return typeof window<"u"?(t=window.localStorage)==null?void 0:t.getItem("token"):null},nc=(t=!1)=>{const e={Authorization:`Bearer ${QQe()}`};return t&&(e["Content-Type"]="application/json"),e},ac=async t=>{const e=t.headers.get("content-type");if(e&&e.includes("text/html"))throw new Error(`API returned HTML instead of JSON. URL: ${t.url}, Status: ${t.status}`);if(!t.ok){const s=await t.json().catch(()=>({error:`Request failed with status ${t.status}`}));throw new Error(s.error||s.message||`Request failed: ${t.status}`)}return t.json().catch(s=>{throw new Error(`Failed to parse JSON response from ${t.url}: ${s.message}`)})},Tm={getAll:async()=>{try{const t=await fetch(`${sc}/timetable/all`,{headers:nc()});return ac(t)}catch(t){throw console.error("Error fetching all timetables:",t),t}},get:async(t,e)=>{try{const s=new URLSearchParams({classId:t});e&&s.append("sectionId",e);const n=await fetch(`${sc}/timetable?${s.toString()}`,{headers:nc()});return ac(n)}catch(s){throw console.error("Error fetching timetable:",s),s}},save:async t=>{try{const e=await fetch(`${sc}/timetable`,{method:"POST",headers:nc(!0),body:JSON.stringify(t)});return ac(e)}catch(e){throw console.error("Error saving timetable:",e),e}},saveDay:async t=>{try{const e=await fetch(`${sc}/timetable/day`,{method:"POST",headers:nc(!0),body:JSON.stringify(t)});return ac(e)}catch(e){throw console.error("Error saving timetable day:",e),e}},delete:async t=>{try{const e=await fetch(`${sc}/timetable/${t}`,{method:"DELETE",headers:nc()});return ac(e)}catch(e){throw console.error("Error deleting timetable:",e),e}},deleteDay:async t=>{try{const e=await fetch(`${sc}/timetable/day`,{method:"DELETE",headers:nc(!0),body:JSON.stringify(t)});return ac(e)}catch(e){throw console.error("Error deleting timetable day:",e),e}},validateConflicts:async t=>{try{const e=await fetch(`${sc}/timetable/validate-conflicts`,{method:"POST",headers:nc(!0),body:JSON.stringify(t)});return ac(e)}catch(e){throw console.error("Error validating conflicts:",e),e}},autoGenerate:async t=>{try{const e=await fetch(`${sc}/timetable/auto-generate`,{method:"POST",headers:nc(!0),body:JSON.stringify(t)});return ac(e)}catch(e){throw console.error("Error auto-generating timetable:",e),e}},getTeacherSchedule:async t=>{try{const e=await fetch(`${sc}/timetable/teacher/${t}`,{headers:nc()});return ac(e)}catch(e){throw console.error("Error fetching teacher schedule:",e),e}}},Ky={getClasses:async()=>{try{const t=await fetch(`${sc}/academic/classes`,{headers:nc()});return ac(t)}catch(t){throw console.error("Error fetching classes:",t),t}},getSections:async t=>{try{const e=t?`?classId=${t}`:"",s=await fetch(`${sc}/academic/sections${e}`,{headers:nc()});return ac(s)}catch(e){throw console.error("Error fetching sections:",e),e}},getSubjects:async t=>{try{const e=t?`?classId=${t}`:"",s=await fetch(`${sc}/academic/subjects${e}`,{headers:nc()});return ac(s)}catch(e){throw console.error("Error fetching subjects:",e),e}},getTeachers:async()=>{try{const t=await fetch(`${sc}/admin/users/get-teachers`,{headers:nc()});return ac(t)}catch(t){throw console.error("Error fetching teachers:",t),t}}},xj=t=>{if(!t)return"";const[e,s]=t.trim().split(" ");let[n,a]=e.split(":");return n=parseInt(n),s==="PM"&&n!==12?n+=12:s==="AM"&&n===12&&(n=0),`${n.toString().padStart(2,"0")}:${a}`},sS=t=>{if(!t)return"";let[e,s]=t.split(":");e=parseInt(e);const n=e>=12?"PM":"AM";return e=e%12||12,`${e}:${s} ${n}`},$Qe=t=>{if(!Array.isArray(t))return[];const e=[];return t.forEach(s=>{if(!s||!s.entries)return;const n={};s.entries.forEach(a=>{var i,o,l,c;a.dayOfWeek&&(n[a.dayOfWeek]||(n[a.dayOfWeek]=[]),n[a.dayOfWeek].push({time:`${sS(a.startTime)} - ${sS(a.endTime)}`,subject:((i=a.subjectId)==null?void 0:i.name)||"Unknown",subjectId:((o=a.subjectId)==null?void 0:o._id)||a.subjectId||null,teacher:((l=a.teacherId)==null?void 0:l.name)||"-",teacherId:((c=a.teacherId)==null?void 0:c._id)||a.teacherId||null,room:a.room||"",period:a.period}))}),Object.keys(n).forEach(a=>{n[a].sort((i,o)=>(i.period||0)-(o.period||0))}),Object.keys(n).forEach(a=>{var i,o,l,c;e.push({id:`${s._id}_${a}`,timetableId:s._id,class:((i=s.classId)==null?void 0:i.name)||"",classId:((o=s.classId)==null?void 0:o._id)||s.classId,section:((l=s.sectionId)==null?void 0:l.name)||"",sectionId:((c=s.sectionId)==null?void 0:c._id)||s.sectionId,day:a,schedule:n[a]})})}),e},Sm=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Xy=["8:00 AM - 8:45 AM","8:45 AM - 9:30 AM","9:30 AM - 10:15 AM","10:15 AM - 10:45 AM","10:45 AM - 11:30 AM","11:30 AM - 12:15 PM"],Aj=t=>t&&typeof t=="object"?t._id:t,rT=(t=[])=>{const e=new Map(t.map(s=>[s.time,s]));return Xy.map(s=>{const n=e.get(s);if(n){const i=n.subject==="Break";return{time:s,isBreak:i,subject:i?"Break":n.subject||"",teacher:i?"-":n.teacher||"",subjectId:n.subjectId||null,teacherId:n.teacherId||null,room:n.room||""}}const a=s.includes("10:15");return{time:s,isBreak:a,subject:a?"Break":"",teacher:a?"-":"",subjectId:null,teacherId:null,room:""}})},gj=t=>t.includes("10:15"),qV=({setShowAdminHeader:t})=>{const[e,s]=E.useState([]),[n,a]=E.useState([]),[i,o]=E.useState([]),[l,c]=E.useState([]),[d,u]=E.useState([]),[h,m]=E.useState(!0),[f,x]=E.useState(null),[A,g]=E.useState(!1),[b,w]=E.useState(!1),[v,j]=E.useState(!1),[N,S]=E.useState(""),[T,I]=E.useState({show:!1,message:"",type:"success"}),[_,M]=E.useState([]),[C,B]=E.useState(!1),[P,H]=E.useState(""),[D,G]=E.useState(""),[O,Q]=E.useState("Monday"),[ee,q]=E.useState("daily"),[Z,F]=E.useState(!1),[z,V]=E.useState(null),[W,ne]=E.useState({class:"",section:"",day:"Monday",schedule:[]}),[ie,be]=E.useState({subject:"",teacher:"",room:""}),[ue,je]=E.useState([]),[Be,oe]=E.useState({}),lt=e.filter(ye=>(!P||ye.class===P)&&(!D||ye.section===D)&&(ee==="weekly"||!O||ye.day===O)),se=ye=>{I({show:!0,message:ye,type:"success"}),setTimeout(()=>I({show:!1,message:"",type:"success"}),3e3)},J=ye=>{I({show:!0,message:ye,type:"error"}),setTimeout(()=>I({show:!1,message:"",type:"error"}),5e3)},Pe=async()=>{try{m(!0),x(null),console.log("Fetching timetables...");const ye=await Tm.getAll().catch(ft=>(console.error("Timetables API failed:",ft),[]));console.log("Fetching classes...");const fe=await Ky.getClasses().catch(ft=>(console.error("Classes API failed:",ft),[]));console.log("Fetching sections...");const Me=await Ky.getSections().catch(ft=>(console.error("Sections API failed:",ft),[]));console.log("Fetching subjects...");const Le=await Ky.getSubjects().catch(ft=>(console.error("Subjects API failed:",ft),[]));console.log("Fetching teachers...");const Ge=await Ky.getTeachers().catch(ft=>(console.error("Teachers API failed:",ft),[]));console.log("Data fetched:",{timetables:ye,classes:fe,sections:Me,subjects:Le,teachers:Ge});const ct=$Qe(ye);console.log("Transformed routines:",ct),s(ct),a(fe),o(Me),c(Le),u(Ge),console.log("State updated with data"),ct.length===0&&console.log("No routines found in database")}catch(ye){console.error("Error loading data:",ye),x(ye.message||"Failed to load routines"),J(ye.message||"Failed to load routines")}finally{m(!1)}};E.useEffect(()=>{t(!1)},[]),E.useEffect(()=>{Pe()},[]);const xe=async()=>{var ye;if(!(!P&&!window.confirm("Generate routines for all classes? This will overwrite existing timetables.")))try{j(!0),S("");const fe=He(),Me=fe?$e(fe):null,Le={overwriteExisting:!0};fe!=null&&fe._id&&(Le.classId=fe._id),Me!=null&&Me._id&&(Le.sectionId=Me._id);const Ge=await Tm.autoGenerate(Le),ct=(Ge==null?void 0:Ge.totalGenerated)||0,ft=(Ge==null?void 0:Ge.totalErrors)||0,Ut=(ye=Ge==null?void 0:Ge.errors)==null?void 0:ye[0],Wt=Ut?` First error: ${Ut.className||Ut.classId}${Ut.sectionName?`-${Ut.sectionName}`:""}  ${Ut.error}`:"",ur=`Generated ${ct} timetable${ct!==1?"s":""}.${ft?` ${ft} failed.`:""}${Wt}`;S(ur),se(ur),await Pe()}catch(fe){const Me=fe.message||"Auto-generation failed.";S(Me),J(Me)}finally{j(!1)}},He=()=>n.find(ye=>ye.name===P),$e=ye=>i.find(fe=>fe.name===D&&Aj(fe.classId)===(ye==null?void 0:ye._id)),Xe=ye=>e.find(fe=>fe.class===P&&fe.section===D&&fe.day===ye),he=(ye,fe)=>{const Me=Xe(ye);return(Me==null?void 0:Me.schedule.find(Le=>Le.time===fe))||null},ce=(ye,fe)=>{var Ge;const Me=(Ge=Be[ye])==null?void 0:Ge[fe];if(Me===null)return null;if(Me)return Me;const Le=he(ye,fe);return!Le||Le.subject==="Break"?null:{subject:Le.subject,teacher:Le.teacher,subjectId:Le.subjectId||null,teacherId:Le.teacherId||null,room:Le.room||""}},_e=(ye,fe={})=>{const Me={},Le=Xe(ye);Le==null||Le.schedule.forEach(ct=>{ct.subject!=="Break"&&(Me[ct.time]={subject:ct.subject,teacher:ct.teacher,subjectId:ct.subjectId||null,teacherId:ct.teacherId||null,room:ct.room||""})});const Ge={...Be[ye]||{},...fe};return Object.keys(Ge).forEach(ct=>{Ge[ct]===null?delete Me[ct]:Ge[ct]&&(Me[ct]=Ge[ct])}),Me},Ke=(ye,fe)=>Xy.map((Me,Le)=>{if(gj(Me))return null;const Ge=fe[Me];if(!Ge)return null;const[ct,ft]=Me.split(" - ").map(ur=>ur.trim()),Ut=Ge.subjectId?l.find(ur=>String(ur._id)===String(Ge.subjectId)):l.find(ur=>ur.name===Ge.subject),Wt=Ge.teacherId?d.find(ur=>String(ur._id)===String(Ge.teacherId)):d.find(ur=>ur.name===Ge.teacher);return{dayOfWeek:ye,period:Le+1,subjectId:(Ut==null?void 0:Ut._id)||Ge.subjectId||null,teacherId:(Wt==null?void 0:Wt._id)||Ge.teacherId||null,startTime:xj(ct),endTime:xj(ft),room:Ge.room||""}}).filter(Boolean),et=async(ye,fe)=>{const Me=He(),Le=$e(Me);if(!Me)return J("Select class and section first"),!1;const Ge=Ke(ye,fe);if(Ge.length===0)return J("Please add at least one class period"),!1;if(Ge.some(Ut=>!Ut.subjectId||!Ut.teacherId))return J("Invalid subject or teacher selection"),!1;const ct=Xe(ye),ft=await Tm.validateConflicts({classId:Me._id,sectionId:(Le==null?void 0:Le._id)||null,entries:Ge,excludeTimetableId:ct==null?void 0:ct.timetableId});return ft.hasConflicts?(M(ft.conflicts),B(!0),!1):!0},st=async(ye,fe,Me)=>{if(!P||!D){J("Select class and section first");return}if(gj(fe)){J("Break slots are locked");return}let Le=null,Ge=null;if(Me.type==="palette"?Le=Me.block:Me.type==="cell"&&(Ge=Me,Le=ce(Me.day,Me.time)),!Le||!Le.subject||!Le.teacher){J("Select subject and teacher first");return}if(Ge&&Ge.day===ye&&Ge.time===fe)return;const ct={[fe]:Le};Ge&&(ct[Ge.time]=null);const ft=_e(ye,ct);await et(ye,ft)&&oe(Wt=>({...Wt,[ye]:{...Wt[ye]||{},...ct}}))},ot=(ye,fe)=>{ye.dataTransfer.setData("application/json",JSON.stringify(fe)),ye.dataTransfer.setData("text/plain",JSON.stringify(fe)),ye.dataTransfer.effectAllowed="move"},mt=(ye,fe)=>{gj(fe)||oe(Me=>({...Me,[ye]:{...Me[ye]||{},[fe]:null}}))},At=async(ye,fe={})=>{const{silent:Me=!1}=fe,Le=He(),Ge=$e(Le);if(!Le){Me||J("Select class and section first");return}const ct=_e(ye),ft=Ke(ye,ct);if(ft.length===0){Me||J("Please add at least one class period");return}if(await et(ye,ct)){Me||w(!0);try{await Tm.saveDay({classId:Le._id,sectionId:(Ge==null?void 0:Ge._id)||null,dayOfWeek:ye,entries:ft}),oe(Wt=>{const ur={...Wt};return delete ur[ye],ur}),Me||se(`Saved ${ye} routine`),await Pe()}catch(Wt){Me||J(Wt.message||"Failed to save routine")}finally{Me||w(!1)}}},Tt=async()=>{if(!P||!D){J("Select class and section first");return}const ye=Object.keys(Be);if(ye.length===0){J("No changes to save");return}w(!0);try{for(const fe of ye)await At(fe,{silent:!0});se("Saved weekly routine"),await Pe()}finally{w(!1)}},rt=()=>{if(!ie.subject||!ie.teacher){J("Select subject and teacher first");return}const ye=l.find(Le=>Le.name===ie.subject),fe=d.find(Le=>Le.name===ie.teacher),Me={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,subject:ie.subject,teacher:ie.teacher,subjectId:(ye==null?void 0:ye._id)||null,teacherId:(fe==null?void 0:fe._id)||null,room:ie.room||""};je(Le=>[...Le,Me]),be({subject:"",teacher:"",room:""})},Dt=ye=>{je(fe=>fe.filter(Me=>Me.id!==ye))},Qt=async ye=>{if(window.confirm(`Are you sure you want to delete the routine for ${ye.class}-${ye.section} on ${ye.day}?`))try{await Tm.deleteDay({classId:ye.classId,sectionId:ye.sectionId,dayOfWeek:ye.day}),se("Routine deleted successfully!"),await Pe()}catch(fe){console.error("Error deleting routine:",fe),J(fe.message||"Failed to delete routine")}},Yt=async()=>{try{g(!0),M([]);const ye=n.find(ft=>ft.name===W.class),fe=i.find(ft=>ft.name===W.section&&Aj(ft.classId)===(ye==null?void 0:ye._id));if(!ye){J("Selected class not found");return}if(W.schedule.filter(ft=>!ft.isBreak&&(!ft.subject||!ft.teacher)).length>0){J("Please select subject and teacher for all class periods");return}const Le=W.schedule.filter(ft=>!ft.isBreak).filter(ft=>ft.subject&&ft.time).map((ft,Ut)=>{const[Wt,ur]=ft.time.split(" - ").map(Jr=>Jr.trim()),mr=l.find(Jr=>Jr.name===ft.subject),or=d.find(Jr=>Jr.name===ft.teacher);return{dayOfWeek:W.day,period:Ut+1,subjectId:(mr==null?void 0:mr._id)||null,teacherId:(or==null?void 0:or._id)||null,startTime:xj(Wt),endTime:xj(ur),room:ft.room||""}});if(Le.length===0){J("Please add at least one class period before saving");return}const Ge={classId:ye._id,sectionId:(fe==null?void 0:fe._id)||null,dayOfWeek:W.day,entries:Le},ct=await Tm.validateConflicts({...Ge,excludeTimetableId:z==null?void 0:z.timetableId});if(ct.hasConflicts){M(ct.conflicts),B(!0),g(!1);return}await Tm.saveDay(Ge),se("Routine saved successfully!"),F(!1),V(null),await Pe()}catch(ye){console.error("Error saving routine:",ye),J(ye.message||"Failed to save routine")}finally{g(!1)}},kt=E.useMemo(()=>{if(!P||!D)return null;const ye=new Map;e.forEach(Le=>{Le.class===P&&Le.section===D&&ye.set(Le.day,Le)});const fe=["Time",...Sm],Me=Xy.map(Le=>{const Ge=Sm.map(ct=>{const ft=ye.get(ct),Ut=ft==null?void 0:ft.schedule.find(Wt=>Wt.time===Le);return Ut?Ut.subject==="Break"?"Break":`${Ut.subject}  ${Ut.teacher}`:""});return[Le,...Ge]});return{headers:fe,rows:Me}},[P,D]),tt=()=>{if(!kt)return;const ye=[kt.headers.join(",")];kt.rows.forEach(Ge=>{const ct=Ge.map(ft=>{const Ut=String(ft||"");return Ut.includes(",")||Ut.includes(`
`)?'"'+Ut.replace(/"/g,'""')+'"':Ut});ye.push(ct.join(","))});const fe=new Blob([ye.join(`
`)],{type:"text/csv;charset=utf-8;"}),Me=URL.createObjectURL(fe),Le=document.createElement("a");Le.href=Me,Le.download=`routine_${P}_${D}.csv`,Le.click(),URL.revokeObjectURL(Me)},Ze=()=>{if(!kt)return;const ye=new Sr({orientation:"landscape",unit:"pt",format:"a4"}),fe=36,Me=fe+20;ye.setFontSize(14),ye.text(`Class ${P} - Section ${D} | Weekly Routine`,fe,fe);const Ge=ye.internal.pageSize.getWidth()-fe*2,ct=kt.headers.length,ft=Ge/ct,Ut=28;let Wt=Me;ye.setFillColor(243,244,246),ye.rect(fe,Wt,Ge,Ut,"F"),ye.setFontSize(10),kt.headers.forEach((ur,mr)=>{const or=fe+mr*ft+6;ye.text(String(ur),or,Wt+18)}),Wt+=Ut,ye.setFontSize(9),kt.rows.forEach(ur=>{ye.setDrawColor(229,231,235),ur.forEach((mr,or)=>{const Jr=fe+or*ft;ye.rect(Jr,Wt,ft,Ut);const it=String(mr||""),Ct=ye.splitTextToSize(it,ft-10);ye.text(Ct,Jr+6,Wt+18)}),Wt+=Ut,Wt+Ut>ye.internal.pageSize.getHeight()-fe&&(ye.addPage(),Wt=fe)}),ye.save(`routine_${P}_${D}.pdf`)};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[T.show&&r.jsxs("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 ${T.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[T.type==="success"?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx(br,{size:20}),r.jsx("span",{children:T.message})]}),h&&r.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[r.jsx(Vn,{className:"animate-spin text-indigo-500 mb-4",size:48}),r.jsx("p",{className:"text-gray-600",children:"Loading routines..."})]}),!h&&f&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx(br,{className:"text-red-500",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Error Loading Routines"})]}),r.jsx("p",{className:"text-red-700 mb-4",children:f}),r.jsx("button",{onClick:Pe,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]}),!h&&!f&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:r.jsx(ir,{className:"text-indigo-600 w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Class Routines"}),r.jsx("p",{className:"text-gray-600",children:"Manage weekly schedules across classes and sections"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:tt,disabled:!kt,className:`px-4 py-2 border rounded-lg transition-colors ${kt?"border-purple-400 text-gray-700 hover:bg-gray-50":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:"CSV"}),r.jsx("button",{onClick:Ze,disabled:!kt,className:`px-4 py-2 border rounded-lg transition-colors ${kt?"border-purple-400 text-gray-700 hover:bg-gray-50":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:"PDF"}),r.jsxs("button",{onClick:()=>{const ye=P||(n.length>0?n[0].name:""),fe=D||(i.length>0?i[0].name:""),Me=O||"Monday",Le=rT();ne({class:ye,section:fe,day:Me,schedule:Le}),V(null),F(!0)},className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[r.jsx(vs,{size:16}),r.jsx("span",{children:"Add Routine"})]}),r.jsxs("button",{onClick:xe,disabled:v,className:"border border-indigo-200 bg-white text-indigo-700 hover:bg-indigo-50 px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-60 disabled:cursor-not-allowed",children:[r.jsx(AX,{size:16}),r.jsx("span",{children:v?"Generating...":"Auto Generate"})]})]})]}),N&&r.jsx("div",{className:"mt-4 rounded-lg border border-purple-100 bg-purple-50 px-4 py-2 text-sm text-purple-700",children:N})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("select",{className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:P,onChange:ye=>H(ye.target.value),children:[r.jsx("option",{value:"",children:"All Classes"}),n.map(ye=>r.jsx("option",{value:ye.name,children:ye.name},ye._id))]}),r.jsxs("select",{className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:D,onChange:ye=>G(ye.target.value),children:[r.jsx("option",{value:"",children:"All Sections"}),i.filter(ye=>{if(!P)return!0;const fe=n.find(Me=>Me.name===P);return fe&&Aj(ye.classId)===fe._id}).map(ye=>r.jsx("option",{value:ye.name,children:ye.name},ye._id))]})]}),r.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm border border-purple-400 p-1",children:[r.jsxs("button",{onClick:()=>q("weekly"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${ee==="weekly"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(PP,{size:16,className:"inline mr-1"}),"Week"]}),r.jsxs("button",{onClick:()=>q("daily"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${ee==="daily"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(zv,{size:16,className:"inline mr-1"}),"Daily"]})]})]}),ee==="daily"&&r.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ir,{className:"w-4 h-4 text-gray-600"}),r.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:O,onChange:ye=>Q(ye.target.value),children:Sm.map(ye=>r.jsx("option",{value:ye,children:ye},ye))})]})})]})}),ee==="weekly"&&kt&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 overflow-hidden mb-6",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Class ",P," - Section ",D," Weekly Overview"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Drag blocks into cells. Break slots are locked."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Draft days: ",Object.keys(Be).length]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("select",{value:O,onChange:ye=>Q(ye.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:Sm.map(ye=>r.jsx("option",{value:ye,children:ye},ye))}),r.jsx("button",{onClick:()=>At(O),disabled:b,className:"px-3 py-2 rounded-lg border border-gray-300 text-sm hover:bg-gray-50 disabled:opacity-50",children:"Save Day"}),r.jsx("button",{onClick:Tt,disabled:b,className:"px-3 py-2 rounded-lg bg-indigo-500 text-white text-sm hover:bg-indigo-600 disabled:opacity-50",children:"Save Week"})]})]})]})}),r.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Period Builder"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("select",{value:ie.subject,onChange:ye=>be(fe=>({...fe,subject:ye.target.value})),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"Select Subject"}),l.map(ye=>r.jsx("option",{value:ye.name,children:ye.name},ye._id))]}),r.jsxs("select",{value:ie.teacher,onChange:ye=>be(fe=>({...fe,teacher:ye.target.value})),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"Select Teacher"}),d.map(ye=>r.jsx("option",{value:ye.name,children:ye.name},ye._id))]}),r.jsx("input",{value:ie.room,onChange:ye=>be(fe=>({...fe,room:ye.target.value})),placeholder:"Room (optional)",className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[r.jsx("button",{onClick:rt,className:"px-3 py-2 bg-indigo-500 text-white rounded-lg text-sm hover:bg-indigo-600",children:"Add Block"}),r.jsx("button",{onClick:()=>je([]),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:"Clear Palette"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Drag Blocks"}),ue.length===0?r.jsx("div",{className:"text-sm text-gray-500",children:"No blocks yet. Add one from the builder."}):r.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(ye=>r.jsxs("div",{draggable:!0,onDragStart:fe=>ot(fe,{type:"palette",block:ye}),className:"px-3 py-2 rounded-lg bg-indigo-50 border border-indigo-200 text-xs cursor-move",children:[r.jsx("div",{className:"font-medium text-indigo-800 truncate",children:ye.subject}),r.jsx("div",{className:"text-indigo-600 truncate",children:ye.teacher}),ye.room&&r.jsx("div",{className:"text-indigo-500 truncate",children:ye.room}),r.jsx("button",{onClick:()=>Dt(ye.id),className:"mt-2 text-[10px] text-red-500 hover:text-red-600",children:"Remove"})]},ye.id))})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("div",{className:"min-w-[800px]",children:[r.jsxs("div",{className:"grid grid-cols-7 border-b border-purple-100",children:[r.jsx("div",{className:"p-3 bg-gray-50 font-medium text-gray-700 text-center border-r border-gray-200",children:"Time"}),Sm.map(ye=>{var Me;const fe=new Date().toLocaleDateString("en-US",{weekday:"long"})===ye;return r.jsxs("div",{className:`p-3 font-medium text-center border-r border-gray-200 last:border-r-0 ${fe?"bg-indigo-50 text-indigo-700":"bg-gray-50 text-gray-700"}`,children:[r.jsx("div",{className:"text-sm",children:ye.substring(0,3)}),r.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[((Me=e.find(Le=>Le.class===P&&Le.section===D&&Le.day===ye))==null?void 0:Me.schedule.length)||0," periods"]})]},ye)})]}),r.jsx("div",{className:"relative",children:Xy.map((ye,fe)=>r.jsxs("div",{className:"grid grid-cols-7 border-b border-purple-100 min-h-20",children:[r.jsx("div",{className:"p-3 bg-gray-50 text-sm text-gray-600 text-center border-r border-gray-200 flex items-center justify-center",children:r.jsxs("div",{children:[r.jsx(fr,{className:"w-4 h-4 mx-auto mb-1 text-gray-500"}),r.jsx("div",{className:"text-xs",children:ye})]})}),Sm.map(Me=>{const Le=he(Me,ye),Ge=ce(Me,ye),ct=(Le==null?void 0:Le.subject)==="Break"||gj(ye);return r.jsx("div",{className:"relative p-2 border-r border-gray-100 last:border-r-0",onDragOver:ft=>ft.preventDefault(),onDrop:ft=>{ft.preventDefault();const Ut=ft.dataTransfer.getData("application/json")||ft.dataTransfer.getData("text/plain")||"{}";let Wt={};try{Wt=JSON.parse(Ut)}catch{Wt={}}st(Me,ye,Wt)},children:ct?r.jsx("div",{className:"h-full p-3 rounded-lg bg-gray-200 text-gray-700 text-xs flex items-center justify-center border border-gray-300",children:"Break"}):Ge?r.jsx("div",{className:"h-full p-3 rounded-lg text-white text-xs overflow-hidden bg-indigo-500 cursor-move",draggable:!0,onDragStart:ft=>ot(ft,{type:"cell",day:Me,time:ye}),children:r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium truncate",children:Ge.subject}),r.jsx("div",{className:"text-xs opacity-90 truncate mt-1",children:Ge.teacher}),Ge.room&&r.jsx("div",{className:"text-[10px] opacity-80 truncate",children:Ge.room})]}),r.jsx("button",{onClick:()=>mt(Me,ye),className:"text-white/80 hover:text-white text-xs",title:"Clear",children:"x"})]})}):r.jsx("div",{className:"h-full border border-dashed border-gray-200 rounded-lg flex items-center justify-center text-gray-400 hover:border-indigo-300 hover:bg-indigo-50 transition-colors cursor-pointer",children:r.jsx(vs,{className:"w-4 h-4"})})},Me)})]},ye))})]})})]}),ee==="weekly"&&P&&D&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 mb-6",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Weekly Statistics"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(ye=>ye.class===P&&ye.section===D).reduce((ye,fe)=>ye+fe.schedule.filter(Me=>Me.subject!=="Break").length,0)}),r.jsx("div",{className:"text-sm text-blue-800",children:"Total Periods"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.filter(ye=>ye.class===P&&ye.section===D).flatMap(ye=>ye.schedule.filter(fe=>fe.subject!=="Break").map(fe=>fe.subject))).size}),r.jsx("div",{className:"text-sm text-green-800",children:"Subjects"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.filter(ye=>ye.class===P&&ye.section===D).flatMap(ye=>ye.schedule.filter(fe=>fe.subject!=="Break").map(fe=>fe.teacher))).size}),r.jsx("div",{className:"text-sm text-purple-800",children:"Teachers"})]}),r.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.filter(ye=>ye.class===P&&ye.section===D).length}),r.jsx("div",{className:"text-sm text-orange-800",children:"Days"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(ye=>ye.class===P&&ye.section===D).reduce((ye,fe)=>ye+fe.schedule.filter(Me=>Me.subject==="Break").length,0)}),r.jsx("div",{className:"text-sm text-gray-800",children:"Breaks"})]}),r.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[r.jsxs("div",{className:"text-2xl font-bold text-pink-600",children:[Math.round(e.filter(ye=>ye.class===P&&ye.section===D).reduce((ye,fe)=>ye+fe.schedule.filter(Me=>Me.subject!=="Break").length,0)/(e.filter(ye=>ye.class===P&&ye.section===D).length*Xy.length)*100)||0,"%"]}),r.jsx("div",{className:"text-sm text-pink-800",children:"Utilization"})]})]})})]}),ee==="daily"&&r.jsxs("div",{children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:r.jsx("div",{className:"grid grid-cols-6 gap-2",children:Sm.map(ye=>{const fe=new Date().toLocaleDateString("en-US",{weekday:"long"})===ye,Me=e.filter(Le=>Le.day===ye&&(!P||Le.class===P)&&(!D||Le.section===D));return r.jsxs("button",{onClick:()=>Q(ye),className:`p-3 rounded-lg text-center transition-all relative ${O===ye?"bg-indigo-500 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[fe&&r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"}),r.jsx("div",{className:"text-sm font-medium",children:ye.substring(0,3)}),r.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[Me.length," routines"]})]},ye)})})}),lt.map(ye=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 mb-6",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Class ",ye.class," - Section ",ye.section,new Date().toLocaleDateString("en-US",{weekday:"long"})===ye.day&&r.jsx("span",{className:"ml-2 text-sm bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"Today"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mt-1",children:[r.jsx(ir,{size:16}),r.jsx("span",{children:ye.day})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",onClick:()=>{const fe=rT(ye.schedule);ne({class:ye.class,section:ye.section,day:ye.day,schedule:fe}),V(ye),F(!0)},children:r.jsx(Sg,{size:16})}),r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",onClick:()=>Qt(ye),children:r.jsx(vn,{size:16})})]})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:ye.schedule.map((fe,Me)=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all hover:border-indigo-300",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-white flex-shrink-0 ${fe.subject==="Break"?"bg-gray-400":fe.subject.includes("Mathematics")?"bg-blue-500":fe.subject.includes("Physics")?"bg-purple-500":fe.subject.includes("Chemistry")?"bg-orange-500":fe.subject.includes("Biology")?"bg-green-500":fe.subject.includes("English")?"bg-pink-500":fe.subject.includes("Science")?"bg-green-500":fe.subject.includes("Social")?"bg-yellow-500":fe.subject.includes("Hindi")?"bg-red-500":fe.subject.includes("Computer")?"bg-indigo-500":"bg-gray-500"}`,children:fe.subject==="Break"?r.jsx(fr,{size:16}):r.jsx(ir,{size:16})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:fe.subject}),r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full flex-shrink-0 ml-2 ${fe.subject==="Break"?"bg-gray-100 text-gray-800":fe.subject.includes("Mathematics")?"bg-blue-100 text-blue-800":fe.subject.includes("Physics")?"bg-purple-100 text-purple-800":fe.subject.includes("Chemistry")?"bg-orange-100 text-orange-800":fe.subject.includes("Biology")?"bg-green-100 text-green-800":fe.subject.includes("English")?"bg-pink-100 text-pink-800":"bg-indigo-100 text-indigo-800"}`,children:fe.subject==="Break"?"Break":"Lecture"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fr,{size:16,className:"text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:fe.time})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(us,{size:16,className:"text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:fe.teacher})]})]})]})]})},Me))})})]},ye.id))]}),e.length===0&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ir,{className:"text-purple-500",size:24})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No routines created yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Get started by creating your first class routine. You can add schedules for different classes, sections, and days."}),r.jsxs("button",{onClick:()=>{const ye=n.length>0?n[0].name:"",fe=i.length>0?i[0].name:"",Me="Monday",Le=rT();ne({class:ye,section:fe,day:Me,schedule:Le}),V(null),F(!0)},className:"bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-3 rounded-lg inline-flex items-center space-x-2",children:[r.jsx(vs,{size:20}),r.jsx("span",{children:"Create First Routine"})]})]})}),e.length>0&&ee==="weekly"&&(!P||!D)&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ir,{className:"text-purple-500",size:24})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Class and Section"}),r.jsx("p",{className:"text-gray-500",children:"Please select both class and section from the filters above to view the weekly schedule"})]})}),e.length>0&&ee==="daily"&&lt.length===0&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ir,{className:"text-purple-500",size:24})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No routines for selected filters"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters or create a new routine for this class/section/day"})]})}),Z&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>F(!1)}),r.jsxs("div",{className:"relative bg-white w-full max-w-4xl rounded-xl shadow-lg border border-purple-400 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:z?"Edit Routine":"Add Routine"}),r.jsx("button",{className:"text-gray-500 hover:text-gray-700 p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>F(!1),children:"x"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class"}),r.jsxs("select",{value:W.class,onChange:ye=>{const fe=ye.target.value;ne(Me=>({...Me,class:fe}))},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Class"}),n.map(ye=>r.jsx("option",{value:ye.name,children:ye.name},ye._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),r.jsxs("select",{value:W.section,onChange:ye=>ne(fe=>({...fe,section:ye.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Section"}),i.filter(ye=>{const fe=n.find(Me=>Me.name===W.class);return!fe||Aj(ye.classId)===fe._id}).map(ye=>r.jsx("option",{value:ye.name,children:ye.name},ye._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day"}),r.jsx("select",{value:W.day,onChange:ye=>ne(fe=>({...fe,day:ye.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:Sm.map(ye=>r.jsx("option",{value:ye,children:ye},ye))})]})]}),r.jsx("div",{className:"overflow-x-auto mb-6",children:r.jsxs("table",{className:"min-w-full border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Time"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:"Break"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Subject"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Teacher"})]})}),r.jsx("tbody",{children:W.schedule.map((ye,fe)=>r.jsxs("tr",{className:"even:bg-white odd:bg-gray-50 border-b border-gray-100",children:[r.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:ye.time}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("input",{type:"checkbox",checked:ye.isBreak,onChange:Me=>{const Le=Me.target.checked,Ge=[...W.schedule];Ge[fe]=Le?{...ye,isBreak:!0,subject:"Break",teacher:"-"}:{...ye,isBreak:!1,subject:"",teacher:""},ne(ct=>({...ct,schedule:Ge}))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),r.jsx("td",{className:"px-4 py-3",children:ye.isBreak?r.jsx("span",{className:"text-gray-500 italic",children:"Break"}):r.jsxs("select",{value:ye.subject,onChange:Me=>{const Le=Me.target.value,Ge=[...W.schedule];Ge[fe]={...ye,subject:Le},ne(ct=>({...ct,schedule:Ge}))},className:"w-full border border-gray-300 rounded-lg px-2 py-1 text-sm",children:[r.jsx("option",{value:"",children:"Select Subject"}),l.map(Me=>r.jsx("option",{value:Me.name,children:Me.name},Me._id))]})}),r.jsx("td",{className:"px-4 py-3",children:ye.isBreak?r.jsx("span",{className:"text-gray-500 italic",children:"-"}):r.jsxs("select",{value:ye.teacher,onChange:Me=>{const Le=[...W.schedule];Le[fe]={...ye,teacher:Me.target.value},ne(Ge=>({...Ge,schedule:Le}))},className:"w-full border border-gray-300 rounded-lg px-2 py-1 text-sm",children:[r.jsx("option",{value:"",children:"Select Teacher"}),d.map(Me=>r.jsx("option",{value:Me.name,children:Me.name},Me._id))]})})]},ye.time))})]})}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>F(!1),children:"Cancel"}),r.jsxs("button",{className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",onClick:Yt,disabled:A,children:[A&&r.jsx(Vn,{className:"animate-spin",size:16}),r.jsx("span",{children:A?"Saving...":"Save Routine"})]})]})]})]}),C&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>B(!1)}),r.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-xl shadow-lg border border-red-400 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:r.jsx(br,{className:"text-red-600",size:24})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Schedule Conflicts Detected"})]}),r.jsx("button",{className:"text-gray-500 hover:text-gray-700 p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>B(!1),children:"x"})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[r.jsx("p",{className:"text-yellow-800 mb-3",children:"The following conflicts were found. Please resolve them before saving:"}),r.jsx("ul",{className:"space-y-2",children:_.map((ye,fe)=>r.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[r.jsx("span",{className:"text-yellow-600 mt-0.5",children:""}),r.jsx("span",{className:"text-yellow-900",children:ye.message})]},fe))})]}),r.jsx("div",{className:"flex items-center justify-end space-x-3",children:r.jsx("button",{className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",onClick:()=>{B(!1),M([])},children:"Close"})})]})]})]})]})},zQe=({onSubmit:t,onCancel:e,initialData:s=null})=>{const[n,a]=E.useState({title:(s==null?void 0:s.title)||"",subject:(s==null?void 0:s.subject)||"",grade:(s==null?void 0:s.grade)||"",date:(s==null?void 0:s.date)||"",duration:(s==null?void 0:s.duration)||"",objectives:(s==null?void 0:s.objectives)||[""],materials:(s==null?void 0:s.materials)||[""],notes:(s==null?void 0:s.notes)||""}),i=f=>{const{name:x,value:A}=f.target;a(g=>({...g,[x]:A}))},o=(f,x)=>{const A=[...n.objectives];A[f]=x,a(g=>({...g,objectives:A}))},l=(f,x)=>{const A=[...n.materials];A[f]=x,a(g=>({...g,materials:A}))},c=()=>{a(f=>({...f,objectives:[...f.objectives,""]}))},d=()=>{a(f=>({...f,materials:[...f.materials,""]}))},u=f=>{a(x=>({...x,objectives:x.objectives.filter((A,g)=>g!==f)}))},h=f=>{a(x=>({...x,materials:x.materials.filter((A,g)=>g!==f)}))},m=f=>{f.preventDefault(),t(n)};return r.jsxs("form",{onSubmit:m,className:"bg-white rounded-lg p-6 space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:s?"Edit Lesson Plan":"Create New Lesson Plan"}),r.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(ks,{size:20,className:"text-gray-400"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),r.jsx("input",{type:"text",name:"title",value:n.title,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsx("input",{type:"text",name:"subject",value:n.subject,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade"}),r.jsxs("select",{name:"grade",value:n.grade,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0,children:[r.jsx("option",{value:"",children:"Select Grade"}),Array.from({length:12},(f,x)=>r.jsxs("option",{value:`Grade ${x+1}`,children:["Grade ",x+1]},x+1))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),r.jsxs("select",{name:"duration",value:n.duration,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0,children:[r.jsx("option",{value:"",children:"Select Duration"}),r.jsx("option",{value:"30 minutes",children:"30 minutes"}),r.jsx("option",{value:"45 minutes",children:"45 minutes"}),r.jsx("option",{value:"60 minutes",children:"60 minutes"}),r.jsx("option",{value:"90 minutes",children:"90 minutes"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),r.jsx("input",{type:"date",name:"date",value:n.date,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Learning Objectives"}),r.jsxs("div",{className:"space-y-2",children:[n.objectives.map((f,x)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:f,onChange:A=>o(x,A.target.value),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter learning objective",required:!0}),n.objectives.length>1&&r.jsx("button",{type:"button",onClick:()=>u(x),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg",children:r.jsx(rR,{size:20})})]},x)),r.jsxs("button",{type:"button",onClick:c,className:"text-yellow-600 hover:text-yellow-700 text-sm font-medium flex items-center gap-1",children:[r.jsx(vs,{size:16}),"Add Objective"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Materials Needed"}),r.jsxs("div",{className:"space-y-2",children:[n.materials.map((f,x)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:f,onChange:A=>l(x,A.target.value),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter required material",required:!0}),n.materials.length>1&&r.jsx("button",{type:"button",onClick:()=>h(x),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg",children:r.jsx(rR,{size:20})})]},x)),r.jsxs("button",{type:"button",onClick:d,className:"text-yellow-600 hover:text-yellow-700 text-sm font-medium flex items-center gap-1",children:[r.jsx(vs,{size:16}),"Add Material"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),r.jsx("textarea",{name:"notes",value:n.notes,onChange:i,rows:4,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Add any additional notes or instructions..."})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg",children:s?"Update Plan":"Create Plan"})]})]})},GQe=({setShowAdminHeader:t})=>{const[e,s]=E.useState("grid"),[n,a]=E.useState("all"),[i,o]=E.useState(""),[l,c]=E.useState(!1),[d,u]=E.useState(null),[h,m]=E.useState(!1);E.useEffect(()=>{t==null||t(!1)},[t]);const f=[{id:1,title:"Introduction to Quadratic Equations",subject:"Mathematics",grade:"Grade 10",teacher:"Dr. Sarah Johnson",duration:"45 minutes",date:"2025-06-18",status:"Published",objectives:["Understand the definition of quadratic equations","Learn to identify quadratic equations","Solve simple quadratic equations"],materials:["Whiteboard","Graphing calculator","Worksheets"],description:"This lesson introduces students to quadratic equations, covering basic concepts and solving techniques.",tags:["algebra","equations","mathematics"],rating:4.8,views:245,lastModified:"2025-06-15"},{id:2,title:"Newton's Laws of Motion",subject:"Physics",grade:"Grade 11",teacher:"Prof. Michael Chen",duration:"60 minutes",date:"2025-06-19",status:"Draft",objectives:["Explain Newton's three laws of motion","Apply laws to real-world scenarios","Conduct practical experiments"],materials:["Lab equipment","Demonstration props","Video clips"],description:"Comprehensive lesson on Newton's laws with hands-on experiments and real-world applications.",tags:["physics","motion","laws","experiments"],rating:4.9,views:189,lastModified:"2025-06-16"},{id:3,title:"Shakespeare's Romeo and Juliet - Act 1",subject:"English Literature",grade:"Grade 12",teacher:"Ms. Emily Davis",duration:"50 minutes",date:"2025-06-20",status:"Published",objectives:["Analyze character development in Act 1","Understand themes of love and conflict","Examine Shakespeare's language techniques"],materials:["Play text","Audio recordings","Character worksheets"],description:"Deep dive into Act 1 of Romeo and Juliet, focusing on character analysis and thematic elements.",tags:["literature","shakespeare","drama","analysis"],rating:4.7,views:312,lastModified:"2025-06-14"},{id:4,title:"Organic Chemistry: Hydrocarbons",subject:"Chemistry",grade:"Grade 12",teacher:"Mr. David Wilson",duration:"70 minutes",date:"2025-06-21",status:"Published",objectives:["Classify different types of hydrocarbons","Understand molecular structures","Practice naming conventions"],materials:["Molecular models","Periodic table","Structure diagrams"],description:"Comprehensive study of hydrocarbon compounds including alkanes, alkenes, and alkynes.",tags:["chemistry","organic","hydrocarbons","molecules"],rating:4.6,views:156,lastModified:"2025-06-13"},{id:5,title:"Cell Division: Mitosis and Meiosis",subject:"Biology",grade:"Grade 11",teacher:"Dr. Lisa Brown",duration:"55 minutes",date:"2025-06-22",status:"Published",objectives:["Compare mitosis and meiosis processes","Identify phases of cell division","Understand biological significance"],materials:["Microscopes","Cell slides","Diagrams","Models"],description:"Interactive lesson on cell division processes with microscope observations and detailed comparisons.",tags:["biology","cells","division","mitosis","meiosis"],rating:4.8,views:203,lastModified:"2025-06-12"},{id:6,title:"World War II: Causes and Consequences",subject:"History",grade:"Grade 10",teacher:"Ms. Jennifer Lee",duration:"45 minutes",date:"2025-06-23",status:"Draft",objectives:["Analyze causes of World War II","Examine key events and turning points","Assess global consequences"],materials:["Historical maps","Primary sources","Timeline charts"],description:"Comprehensive analysis of WWII covering political, social, and economic factors.",tags:["history","world war","global","analysis"],rating:4.5,views:178,lastModified:"2025-06-17"}],x=["all","Mathematics","Physics","English Literature","Chemistry","Biology","History"],A=_=>({Mathematics:"bg-blue-100 border-blue-300 text-blue-800",Physics:"bg-purple-100 border-purple-300 text-purple-800","English Literature":"bg-green-100 border-green-300 text-green-800",Chemistry:"bg-orange-100 border-orange-300 text-orange-800",Biology:"bg-pink-100 border-pink-300 text-pink-800",History:"bg-yellow-100 border-yellow-300 text-yellow-800"})[_]||"bg-gray-100 border-gray-300 text-gray-800",g=_=>_==="Published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",b=f.filter(_=>{const M=n==="all"||_.subject===n,C=_.title.toLowerCase().includes(i.toLowerCase())||_.description.toLowerCase().includes(i.toLowerCase());return M&&C}),w=_=>{u(_),c(!0)},v=_=>{console.log("Deleting plan:",_)},j=_=>{console.log(d?"Updating lesson plan:":"Creating new lesson plan:",_),c(!1),u(null)},N=()=>{c(!1),u(null)},S=async()=>{const _=await cN(()=>Promise.resolve().then(()=>MFe),void 0);return _.jsPDF||_.default||_},T=async()=>{m(!0);try{const _=await S(),M=new _,C=M.internal.pageSize.width,B=new Date().toLocaleDateString();let P=20;M.setFontSize(20),M.setFont(void 0,"bold"),M.text("Lesson Plans Report",C/2,P,{align:"center"}),P+=10,M.setFontSize(12),M.setFont(void 0,"normal"),M.text(`Generated on: ${B}`,C/2,P,{align:"center"}),n!=="all"&&(P+=6,M.text(`Subject: ${n}`,C/2,P,{align:"center"})),P+=15,M.setFontSize(16),M.setFont(void 0,"bold"),M.text("Summary",20,P),P+=10,M.setFontSize(10),M.setFont(void 0,"normal"),M.text(`Total Lesson Plans: ${f.length}`,25,P),P+=6,M.text(`Published: ${f.filter(G=>G.status==="Published").length}`,25,P),P+=6,M.text(`Draft: ${f.filter(G=>G.status==="Draft").length}`,25,P),P+=6,M.text(`Under Review: ${f.filter(G=>G.status==="Under Review").length}`,25,P),P+=15,M.setFontSize(16),M.setFont(void 0,"bold"),M.text("Lesson Plans Details",20,P),P+=12,b.forEach((G,O)=>{P>250&&(M.addPage(),P=20),M.setFontSize(12),M.setFont(void 0,"bold"),M.text(`${O+1}. ${G.title}`,20,P),P+=8,M.setFontSize(9),M.setFont(void 0,"normal"),M.text(`Subject: ${G.subject}`,25,P),M.text(`Grade: ${G.grade}`,100,P),M.text(`Status: ${G.status}`,150,P),P+=6,M.text(`Teacher: ${G.teacher}`,25,P),M.text(`Duration: ${G.duration}`,100,P),M.text(`Date: ${G.date}`,150,P),P+=6,M.text(`Description: ${G.description}`,25,P),P+=6,G.objectives&&G.objectives.length>0&&(M.text("Learning Objectives:",25,P),P+=4,G.objectives.forEach(Q=>{M.text(`   ${Q}`,30,P),P+=4})),G.activities&&G.activities.length>0&&(P+=2,M.text("Activities:",25,P),P+=4,G.activities.forEach(Q=>{M.text(`   ${Q.title} (${Q.duration})`,30,P),P+=4})),G.assessment&&(P+=2,M.text(`Assessment: ${G.assessment}`,25,P),P+=6),G.resources&&G.resources.length>0&&(M.text("Resources:",25,P),P+=4,G.resources.forEach(Q=>{M.text(`   ${Q}`,30,P),P+=4})),P+=8}),M.setFontSize(8),M.setFont(void 0,"italic"),M.text("Generated by School Management System - Lesson Plan Module",C/2,M.internal.pageSize.height-10,{align:"center"});const D=n==="all"?"all-subjects":n.replace(/ /g,"-");M.save(`lesson-plans-${D}-${B.replace(/\//g,"-")}.pdf`)}catch(_){console.error("Failed to export lesson plans",_),alert("Failed to export lesson plans. Please try again.")}finally{m(!1)}},I=()=>l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsx(zQe,{onSubmit:j,onCancel:N,initialData:d})})});return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-500 rounded-xl p-6 mb-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Lesson Plans"}),r.jsx("p",{className:"text-red-100",children:"Create, manage, and organize your teaching materials"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(Hr,{className:"w-12 h-12 text-red-200"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search lesson plans...",value:i,onChange:_=>o(_.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Po,{className:"w-5 h-5 text-gray-500"}),r.jsx("select",{value:n,onChange:_=>a(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:x.map(_=>r.jsx("option",{value:_,children:_==="all"?"All Subjects":_},_))})]}),r.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>s("grid"),className:`px-3 py-1 rounded-md transition-all ${e==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:"Grid"}),r.jsx("button",{onClick:()=>s("list"),className:`px-3 py-1 rounded-md transition-all ${e==="list"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:"List"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{className:"flex items-center space-x-2 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(ax,{className:"w-4 h-4"}),r.jsx("span",{children:"Import"})]}),r.jsxs("button",{onClick:T,disabled:h,className:"flex items-center space-x-2 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-60",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:h?"Exporting...":"Export"})]}),r.jsxs("button",{onClick:()=>{u(null),c(!0)},className:"flex items-center space-x-2 bg-blue-600 text-black px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Lesson Plan"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Lesson Plans"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Dr,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.filter(_=>_.status==="Published").length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Fr,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Draft"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:f.filter(_=>_.status==="Draft").length})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(Zi,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Rating"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"4.7"})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(fs,{className:"w-6 h-6 text-purple-600"})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e==="grid"?r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(_=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all cursor-pointer group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${A(_.subject)} mb-2`,children:_.subject}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:_.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:_.description})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(_.status)}`,children:_.status})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(us,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:_.teacher})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Ar,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:_.grade})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(fr,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:_.duration})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(ir,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:new Date(_.date).toLocaleDateString()})]})]}),r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"w-4 h-4 text-yellow-400 mr-1"}),r.jsx("span",{children:_.rating})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Es,{className:"w-4 h-4 mr-1"}),r.jsx("span",{children:_.views})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:r.jsx(Es,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>w(_),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all",children:r.jsx(eh,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all",children:r.jsx(MS,{className:"w-4 h-4"})})]}),r.jsx("button",{onClick:()=>v(_.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:r.jsx(vn,{className:"w-4 h-4"})})]})]},_.id))})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Title"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Subject"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Teacher"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Grade"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Date"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Rating"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:b.map(_=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:_.title}),r.jsx("p",{className:"text-sm text-gray-600",children:_.duration})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${A(_.subject)}`,children:_.subject})}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.teacher}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.grade}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(_.date).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(_.status)}`,children:_.status})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"w-4 h-4 text-yellow-400 mr-1"}),r.jsx("span",{className:"text-sm",children:_.rating})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:r.jsx(Es,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>w(_),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>v(_.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:r.jsx(vn,{className:"w-4 h-4"})})]})})]},_.id))})]})})}),r.jsx(I,{})]})},VQe=({setShowAdminHeader:t})=>{var Z;E.useEffect(()=>{t(!0)},[t]);const[e,s]=E.useState("week"),[n,a]=E.useState("all"),[i,o]=E.useState("Monday"),[l,c]=E.useState(new Date),[d,u]=E.useState(!1),[h,m]=E.useState(null),[f,x]=E.useState([]),[A,g]=E.useState([]),[b,w]=E.useState(!0),[v,j]=E.useState(null),N=[{key:"08:00-08:45",label:"8:00 AM - 8:45 AM"},{key:"08:45-09:30",label:"8:45 AM - 9:30 AM"},{key:"09:30-10:15",label:"9:30 AM - 10:15 AM"},{key:"10:15-10:45",label:"10:15 AM - 10:45 AM"},{key:"10:45-11:30",label:"10:45 AM - 11:30 AM"},{key:"11:30-12:15",label:"11:30 AM - 12:15 PM"}],S=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],T=F=>{if(!F)return 0;const[z,V]=F.split(":").map(Number);return z*60+(V||0)},I=E.useMemo(()=>{const F=new Map;return A.forEach(z=>{(z.entries||[]).forEach(V=>{if(!V.startTime||!V.endTime)return;const W=`${V.startTime}-${V.endTime}`;F.has(W)||F.set(W,{key:W,startTime:V.startTime,endTime:V.endTime,label:`${sS(V.startTime)} - ${sS(V.endTime)}`})})}),F.size===0?N:Array.from(F.values()).sort((z,V)=>{const W=T(z.startTime)-T(V.startTime);return W!==0?W:T(z.endTime)-T(V.endTime)})},[A]),_=E.useMemo(()=>{const F=new Map;return I.forEach(z=>{F.set(z.key,z.label)}),F},[I]),M=E.useMemo(()=>{const F={};return S.forEach(z=>{F[z]={}}),A.forEach(z=>{var ne,ie;const V=((ne=z.classId)==null?void 0:ne.name)||"",W=((ie=z.sectionId)==null?void 0:ie.name)||"";(z.entries||[]).forEach(be=>{var Be,oe,lt;if(!be.dayOfWeek||!be.startTime||!be.endTime)return;const ue=be.dayOfWeek;F[ue]||(F[ue]={});const je=`${be.startTime}-${be.endTime}`;F[ue][je]||(F[ue][je]=[]),F[ue][je].push({teacher:((Be=be.teacherId)==null?void 0:Be.name)||"TBA",teacherId:((oe=be.teacherId)==null?void 0:oe._id)||be.teacherId||null,subject:((lt=be.subjectId)==null?void 0:lt.name)||"Unknown",className:V,sectionName:W,room:be.room||""})})}),F},[A]),C=async()=>{try{w(!0),j(null);const[F,z]=await Promise.all([Ky.getTeachers().catch(()=>[]),Tm.getAll().catch(()=>[])]);x(Array.isArray(F)?F:[]),g(Array.isArray(z)?z:[])}catch(F){j(F.message||"Failed to load timetable data")}finally{w(!1)}};E.useEffect(()=>{C()},[]);const B=F=>{const z={Mathematics:"bg-blue-100 border-blue-300 text-blue-800",Physics:"bg-purple-100 border-purple-300 text-purple-800",English:"bg-green-100 border-green-300 text-green-800",Chemistry:"bg-orange-100 border-orange-300 text-orange-800",Biology:"bg-pink-100 border-pink-300 text-pink-800"};for(const[V,W]of Object.entries(z))if(F.toLowerCase().includes(V.toLowerCase()))return W;return"bg-gray-100 border-gray-300 text-gray-800"},P=F=>{m(F),u(!0)},H=()=>{u(!1),m(null)},D=()=>{const F=new Date(l),z=F.getDay(),V=F.getDate()-z+(z===0?-6:1);return F.setDate(V),S.map((W,ne)=>{const ie=new Date(F);return ie.setDate(F.getDate()+ne),ie})},G=F=>{const z=new Date(l);z.setDate(l.getDate()+(F==="next"?7:-7)),c(z)},O=()=>{if(n==="all")return M;const F={};return Object.keys(M).forEach(z=>{F[z]={},Object.entries(M[z]).forEach(([V,W])=>{const ne=(W||[]).filter(ie=>String(ie.teacherId)===String(n));ne.length>0&&(F[z][V]=ne)})}),F},Q=F=>{const z={};return S.forEach(V=>{z[V]=[],Object.entries(M[V]||{}).forEach(([W,ne])=>{(ne||[]).filter(ie=>String(ie.teacherId)===String(F)).forEach(ie=>{z[V].push({slot:_.get(W)||W,...ie})})})}),z},ee=E.useMemo(()=>O(),[M,n]),q=()=>{var be;const F=new Sr("l","mm","a4"),z=F.internal.pageSize.width,V=new Date().toLocaleDateString();let W=20;if(F.setFontSize(20),F.setFont(void 0,"bold"),F.text("Teacher Timetable",z/2,W,{align:"center"}),W+=10,F.setFontSize(12),F.setFont(void 0,"normal"),n!=="all"){const ue=f.find(je=>String(je._id)===String(n));ue&&F.text(`Teacher: ${ue.name} - ${ue.subject||""}`,z/2,W,{align:"center"})}else F.text("All Teachers Schedule",z/2,W,{align:"center"});if(W+=8,F.text(`Generated on: ${V}`,z/2,W,{align:"center"}),W+=15,e==="week"){F.setFontSize(16),F.setFont(void 0,"bold"),F.text("Weekly Timetable",20,W),W+=12,F.setFontSize(8),F.setFont(void 0,"bold");let ue=20;F.text("Time",ue,W),ue+=45,S.forEach(je=>{F.text(je,ue,W),ue+=45}),F.line(15,W+2,z-15,W+2),W+=8,F.setFont(void 0,"normal"),I.forEach(je=>{W>180&&(F.addPage(),W=20),ue=20,F.text(je.label,ue,W),ue+=45,S.forEach(Be=>{var se;const lt=(((se=ee[Be])==null?void 0:se[je.key])||[])[0];if(lt){const J=`${lt.className}${lt.sectionName?`-${lt.sectionName}`:""}`,Pe=`${lt.subject}
${J}
${lt.room}
${lt.teacher}`;F.text(Pe.split(`
`)[0],ue,W-2),F.text(Pe.split(`
`)[1],ue,W+2),F.text(Pe.split(`
`)[2],ue,W+6)}ue+=45}),W+=12})}W+=10,W>160&&(F.addPage(),W=20),F.setFontSize(16),F.setFont(void 0,"bold"),F.text("Teacher Schedule Summary",20,W),W+=12,(n==="all"?f:[f.find(ue=>String(ue._id)===String(n))].filter(Boolean)).forEach(ue=>{W>180&&(F.addPage(),W=20),F.setFontSize(12),F.setFont(void 0,"bold"),F.text(`${ue.name} (${ue.subject||""})`,20,W),W+=8,F.setFontSize(8),F.setFont(void 0,"normal");const je=Q(ue._id);Object.entries(je).forEach(([Be,oe])=>{oe.length>0&&(F.setFont(void 0,"bold"),F.text(`${Be}:`,25,W),F.setFont(void 0,"normal"),W+=5,oe.forEach(lt=>{const se=`${lt.className}${lt.sectionName?`-${lt.sectionName}`:""}`;F.text(`  ${lt.slot}: ${lt.subject} - ${se} (${lt.room})`,25,W),W+=4}),W+=2)}),W+=5}),F.setFontSize(8),F.setFont(void 0,"italic"),F.text("Generated by School Management System - Teacher Timetable Module",z/2,F.internal.pageSize.height-10,{align:"center"});const ie=n==="all"?"all-teachers":(((be=f.find(ue=>String(ue._id)===String(n)))==null?void 0:be.name)||"teacher").replace(/ /g,"-");F.save(`teacher-timetable-${ie}-${V.replace(/\//g,"-")}.pdf`)};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:r.jsx(ir,{className:"text-indigo-600 w-6 h-6"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Teacher Timetable"}),r.jsx("p",{className:"text-gray-600",children:"Manage and view teaching schedules"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{className:"flex items-center space-x-2 bg-indigo-500 text-white px-4 py-2 rounded-lg hover:bg-indigo-600 transition-colors",children:[r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Schedule"})]}),r.jsxs("button",{onClick:q,className:"flex items-center space-x-2 border border-purple-400 text-black  px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Po,{className:"w-5 h-5 text-gray-600"}),r.jsxs("select",{value:n,onChange:F=>a(F.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Teachers"}),f.map(F=>r.jsx("option",{value:F._id,children:F.name},F._id))]})]}),r.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm border border-purple-400 p-1",children:[r.jsxs("button",{onClick:()=>s("week"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e==="week"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(PP,{size:16,className:"inline mr-1"}),"Week"]}),r.jsxs("button",{onClick:()=>s("day"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e==="day"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[r.jsx(zv,{size:16,className:"inline mr-1"}),"Day"]})]})]}),e==="week"&&r.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>G("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ru,{className:"w-4 h-4"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Week of"}),r.jsxs("div",{className:"font-semibold text-gray-900",children:[D()[0].toLocaleDateString("en-US",{month:"short",day:"numeric"})," -",D()[S.length-1].toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),r.jsx("button",{onClick:()=>G("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ra,{className:"w-4 h-4"})})]})}),e==="day"&&r.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ir,{className:"w-4 h-4 text-gray-600"}),r.jsx("select",{value:i,onChange:F=>o(F.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:S.map(F=>r.jsx("option",{value:F,children:F},F))})]})})]})}),b&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6 text-sm text-gray-600",children:"Loading timetable..."}),!b&&v&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-red-300 p-6 mb-6 text-sm text-red-600",children:v}),!b&&!v&&e==="week"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[n==="all"?"All Teachers":(((Z=f.find(F=>String(F._id)===String(n)))==null?void 0:Z.name)||"Teacher")+"'s"," Weekly Schedule"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 bg-gray-50 font-medium text-gray-700 text-center",children:"Time"}),S.map((F,z)=>{const V=D()[z],W=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===F.toLowerCase();return r.jsxs("th",{className:`p-3 font-medium text-center ${W?"bg-indigo-50 text-indigo-700":"bg-gray-50 text-gray-700"}`,children:[r.jsx("div",{className:"text-sm",children:F.substring(0,3)}),r.jsx("div",{className:"text-xs opacity-75 mt-1",children:V.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},F)})]})}),r.jsx("tbody",{className:"divide-y divide-purple-100",children:I.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors min-h-16",children:[r.jsx("td",{className:"p-3 bg-gray-50 text-sm text-gray-600 text-center border-r border-gray-200",children:F.label}),S.map(z=>{var ie;const V=((ie=ee[z])==null?void 0:ie[F.key])||[],W=V[0],ne=V.length>1?V.length-1:0;return W?r.jsx("td",{className:"px-4 py-4",children:r.jsx("div",{className:`p-3 rounded-lg border-l-4 ${B(W.subject)} group hover:shadow-md transition-all cursor-pointer`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold text-sm mb-2 line-clamp-1",children:W.subject}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[r.jsx(us,{className:"w-3 h-3 text-gray-500"}),r.jsx("span",{className:"text-gray-600 font-medium",children:W.teacher})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[r.jsx(Ar,{className:"w-3 h-3 text-gray-500"}),r.jsxs("span",{className:"text-gray-600",children:[W.className,W.sectionName?`-${W.sectionName}`:""]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[r.jsx(Mi,{className:"w-3 h-3 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:W.room})]}),ne>0&&r.jsxs("div",{className:"text-[10px] text-gray-500",children:["+",ne," more"]})]})]}),r.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:[r.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-70 rounded-lg transition-all",children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-70 rounded-lg transition-all",children:r.jsx(vn,{className:"w-4 h-4"})})]})]})})},`${z}-${F.key}`):r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"p-3 border border-dashed border-gray-200 rounded-lg text-center text-gray-400 hover:border-indigo-300 hover:text-indigo-500 transition-colors cursor-pointer",children:[r.jsx(vs,{className:"w-4 h-4 mx-auto mb-1"}),r.jsx("span",{className:"text-xs",children:"Add Class"})]})},`${z}-${F.key}`)})]},F.key))})]})})]}),!b&&!v&&e==="day"&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:r.jsx("div",{className:"grid grid-cols-5 gap-2",children:S.map(F=>{const z=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===F.toLowerCase();return r.jsxs("button",{onClick:()=>o(F),className:`p-3 rounded-lg text-center transition-all relative ${i===F?"bg-indigo-500 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[z&&r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"}),r.jsx("div",{className:"text-sm font-medium",children:F.substring(0,3)}),r.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[Object.values(ee[F]||{}).length," items"]})]},F)})})}),!b&&!v&&e==="day"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[i," Schedule",new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===i.toLowerCase()&&r.jsx("span",{className:"ml-2 text-sm bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"Today"})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[Object.values(ee[i]||{}).length," items"]})]})}),r.jsx("div",{className:"p-6",children:Object.values(ee[i]||{}).length>0?r.jsx("div",{className:"space-y-4",children:I.map(F=>{var ne;const z=((ne=ee[i])==null?void 0:ne[F.key])||[],V=z[0],W=z.length>1?z.length-1:0;return V?r.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all hover:border-indigo-300",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg ${B(V.subject).includes("blue")?"bg-blue-500":B(V.subject).includes("green")?"bg-green-500":B(V.subject).includes("orange")?"bg-orange-500":B(V.subject).includes("purple")?"bg-purple-500":B(V.subject).includes("pink")?"bg-pink-500":"bg-indigo-500"} flex items-center justify-center text-white flex-shrink-0`,children:r.jsx(Hr,{size:16})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:V.subject}),r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${B(V.subject)} flex-shrink-0 ml-2`,children:"Lecture"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fr,{size:16,className:"text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:F.label})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mi,{size:16,className:"text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:V.room})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(us,{size:16,className:"text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:V.teacher})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(Ar,{size:16,className:"text-gray-400 flex-shrink-0"}),r.jsxs("span",{className:"truncate",children:[V.className,V.sectionName?`-${V.sectionName}`:""]})]}),W>0&&r.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["+",W," more"]})]})]})]})},F.key):null}).filter(Boolean)}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-400 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ir,{className:"text-white",size:24})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Schedule Today"}),r.jsxs("p",{className:"text-gray-500",children:["No classes scheduled for ",i]})]})})]}),!b&&!v&&n==="all"&&e==="week"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Teacher Statistics"})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.length}),r.jsx("div",{className:"text-sm text-blue-800",children:"Total Teachers"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Object.values(ee).flatMap(F=>Object.values(F)).reduce((F,z)=>F+z.length,0)}),r.jsx("div",{className:"text-sm text-green-800",children:"Total Classes"})]}),r.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(Object.values(ee).flatMap(F=>Object.values(F)).flatMap(F=>F.map(z=>`${z.className}${z.sectionName?`-${z.sectionName}`:""}`))).size}),r.jsx("div",{className:"text-sm text-purple-800",children:"Unique Classes"})]}),r.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:new Set(Object.values(ee).flatMap(F=>Object.values(F)).flatMap(F=>F.map(z=>z.room))).size}),r.jsx("div",{className:"text-sm text-orange-800",children:"Rooms Used"})]}),r.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-pink-600",children:new Set(Object.values(ee).flatMap(F=>Object.values(F)).flatMap(F=>F.map(z=>z.subject))).size}),r.jsx("div",{className:"text-sm text-pink-800",children:"Subjects"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(F=>{const z=Object.values(ee).flatMap(V=>Object.values(V)).flatMap(V=>V.filter(W=>String(W.teacherId)===String(F._id)));return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all hover:border-indigo-300",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:F.name}),r.jsx("p",{className:"text-sm text-gray-600",children:F.subject||""})]}),r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx(us,{className:"w-5 h-5 text-indigo-600"})})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Weekly Classes"}),r.jsx("span",{className:"font-medium",children:z.length})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Unique Classes"}),r.jsx("span",{className:"font-medium",children:new Set(z.map(V=>`${V.className}${V.sectionName?`-${V.sectionName}`:""}`)).size})]})]}),r.jsx("button",{className:"w-full px-4 py-2 bg-indigo-500 text-white rounded-lg text-sm hover:bg-indigo-600 transition-colors",onClick:()=>P(F),children:"View Schedule"})]},F._id)})})]})]}),d&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] flex flex-col overflow-hidden shadow-lg border border-purple-400",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h.name}),r.jsxs("p",{className:"text-gray-600",children:[h.subject||""," - Weekly Schedule"]})]}),r.jsx("button",{onClick:H,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ks,{className:"w-6 h-6"})})]})}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:r.jsx("div",{className:"space-y-6",children:S.map(F=>{const z=Q(h._id)[F];return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(ir,{className:"w-5 h-5 mr-2 text-indigo-500"}),F]}),r.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[z.length," class",z.length!==1?"es":""]})]}),z.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(fr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No classes scheduled"})]}):r.jsx("div",{className:"space-y-3",children:z.map((V,W)=>r.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${B(V.subject)} flex items-center justify-between hover:shadow-sm transition-shadow`,children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-sm",children:V.subject}),r.jsx("span",{className:"text-xs bg-white bg-opacity-50 px-2 py-1 rounded",children:V.slot})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ar,{className:"w-3 h-3 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:"Class:"}),r.jsxs("span",{className:"font-medium",children:[V.className,V.sectionName?`-${V.sectionName}`:""]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Mi,{className:"w-3 h-3 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:"Room:"}),r.jsx("span",{className:"font-medium",children:V.room})]})]})]}),r.jsxs("div",{className:"flex space-x-2 ml-4",children:[r.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-50 rounded transition-colors",children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-50 rounded transition-colors",children:r.jsx(vn,{className:"w-4 h-4"})})]})]},W))})]},F)})})}),r.jsx("div",{className:"p-6 border-t bg-gray-50",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Total weekly classes: ",Object.values(Q(h._id)).flat().length]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-black hover:bg-gray-100 transition-colors",children:"Export Schedule"}),r.jsx("button",{onClick:H,className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:"Close"})]})]})})]})})]})},WQe=({setShowAdminHeader:t})=>(E.useEffect(()=>{t(!1)},[]),r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:r.jsx("div",{className:"max-w-2xl mx-auto text-center",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[r.jsx("div",{className:"mb-4",children:r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Examination Management"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"This feature is currently unavailable."}),r.jsx("p",{className:"text-sm text-gray-500",children:"For exam-related operations, please use the Result Management section."})]})})})),qQe=({setShowAdminHeader:t})=>{const e=qn(),[s,n]=E.useState(""),[a,i]=E.useState("All"),[o,l]=E.useState("All"),[c,d]=E.useState("All"),[u,h]=E.useState("All"),[m,f]=E.useState([]),[x,A]=E.useState(!1),[g,b]=E.useState(""),[w,v]=E.useState(!1),[j,N]=E.useState(null),[S,T]=E.useState(""),[I,_]=E.useState(""),M=m.filter(O=>{const Q=Array.isArray(O.children)?O.children:[],ee=Array.isArray(O.grades)?O.grades:[],q=s.toLowerCase(),Z=!q||O.name.toLowerCase().includes(q)||O.loginUsername.toLowerCase().includes(q)||O.email.toLowerCase().includes(q)||Q.some(ne=>ne.toLowerCase().includes(q)),F=a==="All"||ee.includes(a),z=o==="All"||(O.relationship||"").toLowerCase()===o.toLowerCase(),V=c==="All"||(O.engagementLevel||"").toLowerCase()===c.toLowerCase(),W=u==="All"||(O.communicationStatus||"").toLowerCase()===u.toLowerCase();return Z&&F&&z&&V&&W}),C=async()=>{A(!0);try{const O=await fetch("http://localhost:5000/api/admin/users/get-parents",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!O.ok)throw new Error("Failed to fetch parents");const Q=await O.json(),ee=(Array.isArray(Q)?Q:[]).map((q,Z)=>{const F=Array.isArray(q.children)?q.children:[],z=Array.isArray(q.grade)?q.grade:Array.isArray(q.grades)?q.grades:[],V=q.engagementMetrics||q.metrics||{},W=Array.isArray(q.childrenDetails)?q.childrenDetails:[],ne=W.length?W.map((ie,be)=>({id:(ie==null?void 0:ie._id)||(ie==null?void 0:ie.id)||null,name:(ie==null?void 0:ie.name)||F[be]||"Unnamed Student",grade:(ie==null?void 0:ie.grade)||z[be]||"",section:(ie==null?void 0:ie.section)||"",performance:(ie==null?void 0:ie.performance)||""})):F.map((ie,be)=>({id:null,name:ie||"Unnamed Student",grade:z[be]||"",section:"",performance:""}));return{id:q._id||q.id||Z,name:q.name||"Unnamed Parent",loginUsername:q.username||"",parentId:q._id?`PAR-${q._id.slice(-4)}`:`PAR-${Z+1}`,email:q.email||"",mobile:q.mobile||"",children:F,grades:z,occupation:q.occupation||"",address:q.address||"",joinDate:q.createdAt?new Date(q.createdAt).toISOString().slice(0,10):"",emergencyContact:q.emergencyContact||q.mobile||"",relationship:q.relationship||"Parent",contactPreference:q.contactPreference||q.preferredContact||"",communicationStatus:q.communicationStatus||"",engagementLevel:q.engagementLevel||"",engagementMetrics:{communicationRate:V.communicationRate??0,eventAttendance:V.eventAttendance??0,meetingParticipation:V.meetingParticipation??0,responsiveness:V.responsiveness??0,totalInteractions:V.totalInteractions??0,lastContactDays:V.lastContactDays??null},recentActivities:Array.isArray(q.recentActivities)?q.recentActivities:[],childrenDetails:ne}});f(ee)}catch(O){console.error("Error fetching parents:",O),b(O.message||"Failed to fetch parents"),f([])}finally{A(!1)}};E.useEffect(()=>{t==null||t(!1),b(""),C()},[t]);const B=O=>{N(O),v(!0)},P=(O="")=>{e("/admin/students"),O&&localStorage.setItem("admin_student_search",O),v(!1)},H=async O=>{if(!(O!=null&&O.id)){alert("Cannot delete: this student has no linked student record id.");return}if(window.confirm(`Delete student "${O.name}"?`)){T(String(O.id));try{const Q=await fetch(`http://localhost:5000/api/admin/users/students/${O.id}`,{method:"DELETE",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),ee=await Q.json().catch(()=>({}));if(!Q.ok)throw new Error((ee==null?void 0:ee.error)||"Failed to delete student");await C(),N(q=>{if(!q)return q;const Z=(q.childrenDetails||[]).filter(F=>String(F.id)!==String(O.id));return{...q,childrenDetails:Z}})}catch(Q){alert(Q.message||"Failed to delete student")}finally{T("")}}},D=async O=>{if(!(O!=null&&O.id))return;const Q=window.prompt("Edit parent name:",O.name||"");if(Q===null)return;const ee=window.prompt("Edit parent mobile:",O.mobile===""?"":O.mobile||"");if(ee===null)return;const q=window.prompt("Edit parent email:",O.email===""?"":O.email||"");if(q!==null){_(String(O.id));try{const Z=await fetch(`http://localhost:5000/api/admin/users/parents/${O.id}`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:Q.trim(),mobile:ee.trim(),email:q.trim().toLowerCase()})}),F=await Z.json().catch(()=>({}));if(!Z.ok)throw new Error((F==null?void 0:F.error)||"Failed to update parent");await C()}catch(Z){alert(Z.message||"Failed to update parent")}finally{_("")}}},G=async O=>{if(O!=null&&O.id&&window.confirm(`Delete parent "${O.name}"?`)){_(String(O.id));try{const Q=await fetch(`http://localhost:5000/api/admin/users/parents/${O.id}`,{method:"DELETE",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),ee=await Q.json().catch(()=>({}));if(!Q.ok)throw new Error((ee==null?void 0:ee.error)||"Failed to delete parent");await C()}catch(Q){alert(Q.message||"Failed to delete parent")}finally{_("")}}};return r.jsxs("div",{className:"min-h-full bg-gradient-to-br from-green-50 via-green-100 to-emerald-100",children:[r.jsxs("div",{className:"flex-1 flex flex-col mx-auto w-full bg-white/90 border border-green-200 rounded-xl overflow-hidden",children:[r.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-green-100",children:[r.jsx("div",{className:"flex justify-between items-center mb-8",children:r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Parents Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage parent engagement, communication, and student relationships"})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Yd,{className:"w-8 h-8 text-green-500"}),r.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:m.length}),r.jsx("span",{className:"text-xs text-gray-500",children:"Total Parents"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ds,{className:"w-8 h-8 text-blue-500"}),r.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:"89%"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Engagement Rate"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Ile,{className:"w-8 h-8 text-purple-500"}),r.jsx("span",{className:"text-sm font-semibold text-purple-600 mt-1",children:m.reduce((O,Q)=>O+Q.children.length,0)}),r.jsx("span",{className:"text-xs text-gray-500",children:"Total Students"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ir,{className:"w-8 h-8 text-orange-500"}),r.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:Math.floor(m.length*.3)}),r.jsx("span",{className:"text-xs text-gray-500",children:"Meetings Due"})]})]})]})}),r.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Fs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search parents or children...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:s,onChange:O=>n(O.target.value)})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",value:a,onChange:O=>i(O.target.value),children:[r.jsx("option",{value:"All",children:"All Grades"}),r.jsx("option",{value:"Grade 9",children:"Grade 9"}),r.jsx("option",{value:"Grade 10",children:"Grade 10"}),r.jsx("option",{value:"Grade 11",children:"Grade 11"}),r.jsx("option",{value:"Grade 12",children:"Grade 12"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",value:o,onChange:O=>l(O.target.value),children:[r.jsx("option",{value:"All",children:"All Relationships"}),r.jsx("option",{value:"Father",children:"Fathers"}),r.jsx("option",{value:"Mother",children:"Mothers"}),r.jsx("option",{value:"Guardian",children:"Guardians"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",value:c,onChange:O=>d(O.target.value),children:[r.jsx("option",{value:"All",children:"Engagement Level"}),r.jsx("option",{value:"high",children:"High (90%+)"}),r.jsx("option",{value:"medium",children:"Medium (70-89%)"}),r.jsx("option",{value:"low",children:"Low (Below 70%)"})]}),r.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",value:u,onChange:O=>h(O.target.value),children:[r.jsx("option",{value:"All",children:"Communication Status"}),r.jsx("option",{value:"recent",children:"Recent Contact"}),r.jsx("option",{value:"pending",children:"Pending Response"}),r.jsx("option",{value:"overdue",children:"Overdue Contact"})]}),r.jsx(oL,{buttonText:"Generate Parent ID",defaultRole:"Parent",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-green-600 hover:bg-green-700"})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden",children:r.jsxs("div",{className:"h-full overflow-auto",children:[g?r.jsx("div",{className:"px-6 py-3 text-sm text-red-600 bg-red-50 border-b border-red-100",children:g}):null,r.jsxs("table",{className:"w-full min-w-[1250px] border-collapse",children:[r.jsx("thead",{className:"sticky top-0 bg-green-50 z-10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Parent Info"}),r.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Engagement"}),r.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Recent Activity"}),r.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Children & Grades"}),r.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Contact Info"}),r.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Communication"}),r.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Actions"})]})}),r.jsxs("tbody",{className:"bg-white",children:[x?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-6 text-center text-sm text-gray-500",children:"Loading parents..."})}):null,!x&&M.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-6 text-center text-sm text-gray-500",children:"No parents found."})}):null,M.map(O=>r.jsxs("tr",{className:"hover:bg-green-50 transition-colors border-b border-gray-100",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-green-200 flex items-center justify-center font-semibold text-green-700 flex-shrink-0",children:O.name.split(" ").map(Q=>Q[0]).join("")}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 truncate",children:O.name}),r.jsxs("div",{className:"text-xs text-emerald-700 font-mono",children:["Login: ",O.loginUsername]}),r.jsx("div",{className:"text-xs text-gray-600",children:O.relationship}),r.jsx("div",{className:"text-xs text-gray-500",children:O.occupation})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ei,{size:14,className:"text-green-600"}),r.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[O.engagementMetrics.communicationRate,"%"]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"Communication"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(kn,{size:14,className:"text-blue-600"}),r.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[O.engagementMetrics.eventAttendance,"%"]})]}),r.jsx("span",{className:"text-xs text-gray-500",children:"Events"})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:[O.engagementMetrics.totalInteractions," interactions"]})]})}),r.jsx("td",{className:"px-6 py-4",children:(()=>{const Q=O.recentActivities;return Q.length===0?r.jsx("span",{className:"text-sm text-gray-400 italic",children:"No recent activity"}):r.jsxs("div",{className:"space-y-1 max-w-[180px]",children:[Q.slice(0,2).map((ee,q)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fr,{size:12,className:"text-green-600"}),r.jsx("span",{className:"text-xs text-gray-700",children:ee.type}),ee.status?r.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1 rounded",children:ee.status}):null]},q)),Q.length>2&&r.jsxs("div",{className:"text-xs text-gray-500",children:["+",Q.length-2," more"]})]})})()}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"space-y-2",children:(O.childrenDetails.length?O.childrenDetails:O.children).map((Q,ee)=>{const q=typeof Q=="string"?Q:Q.name,Z=typeof Q=="string"?O.grades[ee]:Q.grade,F=typeof Q=="string"?null:Q.performance;return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pa,{size:14,className:"text-indigo-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:q||""})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[r.jsx("span",{className:"text-sm text-gray-600",children:Z||""}),F?r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${F==="Excellent"?"bg-green-100 text-green-800":F==="Good"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:F}):null]})]},ee)})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("a",{href:`mailto:${O.email}`,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-green-600",children:[r.jsx(xa,{size:12,className:"flex-shrink-0"}),r.jsx("span",{className:"truncate max-w-[150px]",children:O.email})]}),r.jsxs("a",{href:`tel:${O.mobile}`,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-green-600",children:[r.jsx(oa,{size:12,className:"flex-shrink-0"}),O.mobile]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx(Mi,{size:12,className:"flex-shrink-0"}),r.jsx("span",{className:"truncate max-w-[150px]",children:O.address})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.contactPreference}),r.jsx("div",{className:"text-xs text-gray-600",children:O.engagementMetrics.lastContactDays!=null?`Last: ${O.engagementMetrics.lastContactDays} days ago`:"Last: "}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Emergency: ",O.emergencyContact]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>B(O),className:"text-emerald-600 hover:text-emerald-800 p-1 hover:bg-emerald-50 rounded",title:"View Students",children:r.jsx(Es,{size:14})}),r.jsx("button",{type:"button",onClick:()=>D(O),disabled:I===String(O.id),className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded disabled:opacity-60",title:"Edit Parent Info",children:r.jsx(Sg,{size:14})}),r.jsx("button",{type:"button",onClick:()=>G(O),disabled:I===String(O.id),className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-50 rounded disabled:opacity-60",title:"Delete Parent",children:r.jsx(vn,{size:14})})]})})]},O.id))]})]})]})}),r.jsx("div",{className:"flex-shrink-0 p-8 pt-4 bg-white/90 border-t border-green-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-gray-600",children:["Showing ",M.length," of ",m.length," parents"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-4 py-2 border text-black border-black rounded-lg  transition-colors",children:"Previous"}),r.jsx("button",{className:"px-4 py-2 border text-black border-black rounded-lg  transition-colors",children:"Next"})]})]})})]}),w&&j&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:r.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white shadow-xl border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Students of ",j.name]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Parent Login: ",j.loginUsername]})]}),r.jsx("button",{type:"button",className:"px-3 py-1.5 text-sm rounded-lg border text-white bg-red-500 border-gray-200 hover:bg-red-600",onClick:()=>v(!1),children:"Close"})]}),r.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:(j.childrenDetails||[]).length===0?r.jsx("div",{className:"text-sm text-gray-500 py-6 text-center",children:"No linked students found."}):r.jsx("div",{className:"space-y-2",children:j.childrenDetails.map((O,Q)=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 px-4 py-3",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-900 truncate",children:O.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Grade: ",O.grade||""," ",O.section?`| Section: ${O.section}`:""]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>P(O.name),className:"inline-flex items-center gap-1 rounded-lg border border-blue-200 bg-blue-50 px-2.5 py-1.5 text-xs text-blue-700 hover:bg-blue-100",children:[r.jsx(Sg,{size:12}),"Edit"]}),r.jsxs("button",{type:"button",onClick:()=>H(O),disabled:S===String(O.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 bg-red-50 px-2.5 py-1.5 text-xs text-red-700 hover:bg-red-100 disabled:opacity-60",children:[r.jsx(vn,{size:12}),S===String(O.id)?"Deleting...":"Delete"]})]})]},`${O.id||O.name}-${Q}`))})})]})})]})},KV=[{value:"ADV_CERT",label:"Advance Certificate (1-2 Years)"},{value:"B_VOC",label:"B.Voc (3 Years)"},{value:"M_VOC",label:"M.Voc (2 Years)"},{value:"B_DES",label:"B.Des (4 Years)"}],fp=()=>({label:"",amount:"",dueMonth:""}),XV={ADV_CERT:{key:"ADV_CERT",label:"Advance Certification (1 & 2 Years)",streamNote:"Fashion Design / Interior Design  1 Year & 2 Years",years:["1st Year","2nd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3]},{description:"Time of Batch Commencement",values:[19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3]},{description:"1st Installment",values:[7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[17e3,17e3]},{description:"2nd Installment",values:[7500,7500]},{description:"3rd Installment",values:[7500,7500]},{description:"4th Installment",values:[7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[17e3,17e3]},{description:"5th Installment",values:[7500,7500]},{description:"6th Installment",values:[7500,7500]},{description:"7th Installment",values:[7500,7500]},{description:"8th Installment",values:[7500,7500]},{description:"9th Installment",values:[7500,7500]},{description:"10th Installment",values:[7500,7500]}],totals:[155e3,155e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","Payment mode: NEFT / IMPS / UPI (non-refundable).","Registration fee to be paid online towards Medhavi Skills University.","Annual subscription fee Rs 3,540 per annum for 'The Voice of Fashion'."]},BVOC:{key:"BVOC",label:"B.Voc  3 Years",streamNote:"Fashion Design / Interior Design  B.Voc 3 Years",years:["1st Year","2nd Year","3rd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3,22e3]},{description:"MSU fees for 1st / 3rd / 5th Semester",values:[18e3,18e3,18e3]},{description:"Time of Batch Commencement",values:[19e3,19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3,5e3]},{description:"1st Installment",values:[7500,7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[17e3,17e3,17e3]},{description:"2nd Installment",values:[7500,7500,7500]},{description:"MSU fees for 2nd / 4th / 6th Semester",values:[18e3,18e3,18e3]},{description:"3rd Installment",values:[7500,7500,7500]},{description:"4th Installment",values:[7500,7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[17e3,17e3,17e3]},{description:"5th Installment",values:[7500,7500,7500]},{description:"6th Installment",values:[7500,7500,7500]},{description:"7th Installment",values:[7500,7500,7500]},{description:"8th Installment",values:[7500,7500,7500]},{description:"9th Installment",values:[7500,7500,7500]},{description:"10th Installment",values:[7500,7500,7500]}],totals:[191e3,191e3,191e3],extraNotes:["One-time registration fee Rs 2,000 to be paid online towards Medhavi Skills University.","Annual subscription fee Rs 3,540 per annum for 'The Voice of Fashion'.","Examination and convocation fees Rs 5,000 per annum to be paid separately."]},MVOC:{key:"MVOC",label:"M.Voc  2 Years",streamNote:"Fashion Design / Interior Design  M.Voc 2 Years",years:["1st Year","2nd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3]},{description:"MSU fees for 1st / 3rd Semester",values:[24e3,24e3]},{description:"Time of Batch Commencement",values:[19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3]},{description:"1st Installment",values:[7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[24e3,24e3]},{description:"2nd Installment",values:[7500,7500]},{description:"MSU fees for 2nd / 4th Semester",values:[24e3,24e3]},{description:"3rd Installment",values:[7500,7500]},{description:"4th Installment",values:[7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[24e3,24e3]},{description:"5th Installment",values:[7500,7500]},{description:"6th Installment",values:[7500,7500]},{description:"7th Installment",values:[7500,7500]},{description:"8th Installment",values:[7500,7500]},{description:"9th Installment",values:[7500,7500]},{description:"10th Installment",values:[7500,7500]}],totals:[205e3,205e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","Classroom fees Rs 3,540 per annum for 'Reliance Brands Limited', payable only online.","Examination and convocation fees Rs 5,000 per annum to be paid separately."]},BDES:{key:"BDES",label:"B.Des  4 Years",streamNote:"Fashion Design / Interior Design  B.Des 4 Years",years:["1st Year","2nd Year","3rd Year","4th Year"],rows:[{description:"Time of Admission",values:[22e3,22e3,22e3,22e3]},{description:"Time of Admission (MSU fees for 1st / 3rd / 5th / 7th Semester)",values:[24e3,24e3,24e3,24e3]},{description:"Time of Batch Commencement",values:[19e3,19e3,19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3,5e3,5e3]},{description:"1st Installment",values:[7500,7500,7500,7500]},{description:"Registration fee (2nd part within 30 days since commencement)",values:[17e3,17e3,17e3,17e3]},{description:"2nd Installment",values:[7500,7500,7500,7500]},{description:"MSU fees for 2nd / 4th / 6th / 8th Semester",values:[24e3,24e3,24e3,24e3]},{description:"3rd Installment",values:[7500,7500,7500,7500]},{description:"4th Installment",values:[7500,7500,7500,7500]},{description:"Registration fee (3rd part within 90 days since commencement)",values:[17e3,17e3,17e3,17e3]},{description:"5th Installment",values:[7500,7500,7500,7500]},{description:"6th Installment",values:[7500,7500,7500,7500]},{description:"7th Installment",values:[7500,7500,7500,7500]},{description:"8th Installment",values:[7500,7500,7500,7500]},{description:"9th Installment",values:[7500,7500,7500,7500]},{description:"10th Installment",values:[7500,7500,7500,7500]}],totals:[203e3,203e3,203e3,203e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","MSU fees for odd and even semesters are included as per the sheet.","Examination / convocation fees (if any) are payable separately as per university norms."]}},bj="http://localhost:5000/api/nif/course",KQe=({setShowAdminHeader:t})=>{const[e,s]=E.useState([]),[n,a]=E.useState(!1),[i,o]=E.useState(!1),[l,c]=E.useState(!1),[d,u]=E.useState("ADV_CERT"),[h,m]=E.useState(null),[f,x]=E.useState({stream:"",name:"",duration:"",fees:"",description:"",programType:"ADV_CERT",installments:[fp()]}),A=XV[d],g=(C=[])=>C.map(B=>{var P,H;return{label:(P=B.label)==null?void 0:P.trim(),amount:B.amount===""?"":Number(B.amount),dueMonth:((H=B.dueMonth)==null?void 0:H.trim())||""}}).filter(B=>B.label&&B.amount!==""&&Number.isFinite(Number(B.amount))&&Number(B.amount)>=0).map(B=>({label:B.label,amount:Number(B.amount),dueMonth:B.dueMonth})),b=(C,B,P,H)=>{C==="new"?x(D=>{const G=[...D.installments||[]];return G[B]={...G[B],[P]:H},{...D,installments:G}}):C==="edit"&&h&&m(D=>{const G=[...D.installments||[]];return G[B]={...G[B],[P]:H},{...D,installments:G}})},w=C=>{C==="new"?x(B=>({...B,installments:[...B.installments||[],fp()]})):C==="edit"&&h&&m(B=>({...B,installments:[...B.installments||[],fp()]}))},v=(C,B)=>{C==="new"?x(P=>{const H=[...P.installments||[]];return H.splice(B,1),{...P,installments:H.length?H:[fp()]}}):C==="edit"&&h&&m(P=>{const H=[...P.installments||[]];return H.splice(B,1),{...P,installments:H.length?H:[fp()]}})},j=async()=>{try{const C=await fetch(`${bj}/fetch`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!C.ok)throw new Error("Failed to fetch courses");const B=await C.json();s(B||[])}catch(C){console.error("Fetch courses error:",C),alert("Failed to load courses. Check backend/API URL.")}};E.useEffect(()=>{j(),t(!1)},[t]);const N=C=>{const{name:B,value:P}=C.target;x(H=>({...H,[B]:P}))},S=async C=>{C.preventDefault();const P=["stream","name","duration","fees","programType"].filter(H=>!f[H]||f[H].trim()==="");if(P.length>0){Qr.fire({icon:"warning",title:"Missing Fields",text:`Please fill: ${P.join(", ")}`});return}o(!0);try{const H={stream:f.stream,name:f.name,duration:f.duration,fees:f.fees,description:f.description,programType:f.programType,installments:g(f.installments)},D=await fetch(`${bj}/add`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(!D.ok){const G=await D.json().catch(()=>({}));throw new Error(G.message||"Failed to add course")}await D.json(),Qr.fire({icon:"success",title:"Course added successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await j(),a(!1),x({stream:"",name:"",duration:"",fees:"",description:"",programType:"ADV_CERT",installments:[fp()]})}catch(H){console.error("Error adding course:",H),Qr.fire({icon:"error",title:"Error adding course",text:H.message})}finally{o(!1)}},T=C=>{m({_id:C._id,stream:C.department||"",name:C.title||"",duration:C.duration||"",fees:C.fees!=null?String(C.fees):"",description:C.desc||"",programType:C.programType||"ADV_CERT",installments:(C.installments&&C.installments.length?C.installments:[fp()]).map(B=>({label:B.label||"",amount:B.amount===0||B.amount?String(B.amount):"",dueMonth:B.dueMonth||""}))})},I=C=>{const{name:B,value:P}=C.target;m(H=>({...H,[B]:P}))},_=async C=>{if(C.preventDefault(),!(h!=null&&h._id))return;const P=["stream","name","duration","fees","programType"].filter(H=>!h[H]||h[H].trim()==="");if(P.length>0){Qr.fire({icon:"warning",title:"Missing Fields",text:`Please fill: ${P.join(", ")}`});return}o(!0);try{const H={stream:h.stream,name:h.name,duration:h.duration,fees:h.fees,description:h.description,programType:h.programType,installments:g(h.installments)},D=await fetch(`${bj}/${h._id}`,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(!D.ok){const G=await D.json().catch(()=>({}));throw new Error(G.message||"Failed to update course")}await D.json(),Qr.fire({icon:"success",title:"Course updated successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await j(),m(null)}catch(H){console.error("Error updating course:",H),Qr.fire({icon:"error",title:"Error updating course",text:H.message})}finally{o(!1)}},M=async C=>{if((await Qr.fire({title:"Are you sure?",text:`Do you want to delete "${C.title}"?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed)try{const P=await fetch(`${bj}/${C._id}`,{method:"DELETE",headers:{authorization:`Bearer ${localStorage.getItem("token")}`}});if(!P.ok){const H=await P.json().catch(()=>({}));throw new Error(H.message||"Failed to delete course")}await P.json(),Qr.fire({icon:"success",title:"Course deleted successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await j()}catch(P){console.error("Delete course error:",P),Qr.fire({icon:"error",title:"Deletion Failed",text:P.message})}};return r.jsx("div",{className:"h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 flex flex-col",children:r.jsxs("div",{className:" flex flex-col  mx w-full bg-white/90  border-yellow-200 ",children:[r.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-yellow-100",children:[r.jsxs("div",{className:"flex justify-between items-start mb-8 gap-2",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Course Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and organize NIF courses, with official fee breakdowns."})]}),r.jsx(Hr,{className:"w-12 h-12 text-yellow-500"})]}),r.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[r.jsxs("button",{className:"flex items-center space-x-2 border border-yellow-400 text-yellow-700 px-4 py-2 rounded-lg hover:bg-yellow-50 transition-colors text-sm font-medium",onClick:()=>c(!0),children:[r.jsx(_o,{className:"w-4 h-4"}),r.jsx("span",{children:"View Fee Breakdown"})]}),r.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm font-medium",onClick:()=>a(!0),children:[r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Course"})]})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden p-8",children:r.jsx("div",{className:"h-full overflow-y-auto",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(C=>{var B;return r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all border border-gray-200",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:C.title}),C.department&&r.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:C.department})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-1 text-gray-400 hover:text-yellow-600 transition-colors",onClick:()=>T(C),children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 transition-colors",onClick:()=>M(C),children:r.jsx(vn,{className:"w-4 h-4"})})]})]}),C.desc&&r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:C.desc}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[C.programLabel&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:["Program: ",C.programLabel]})]}),C.duration&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(fr,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:["Duration: ",C.duration]})]}),C.fees!=null&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(_o,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:["Fees: ",C.fees]})]}),(B=C.installments)!=null&&B.length?r.jsxs("div",{className:"flex items-center",children:[r.jsx(Bde,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[C.installments.length," Installments"]})]}):null,C.instructor&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ar,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:["Instructor: ",C.instructor]})]}),C.totalStudents!=null&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ar,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[C.totalStudents," Students"]})]}),C.startingDate&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(ir,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:["Starts:"," ",new Date(C.startingDate).toLocaleDateString()]})]})]})]},C._id)}),e.length===0&&r.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No courses added yet."})]})})}),n&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 transition-colors duration-200",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative border border-yellow-300",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-yellow-700",children:"Add New Course"}),r.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:r.jsx(ks,{size:24})})]}),r.jsxs("form",{onSubmit:S,className:"space-y-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["STREAM",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:"stream",value:f.stream,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Select a stream"}),r.jsx("option",{value:"Fashion Design",children:"Fashion Design"}),r.jsx("option",{value:"Interior Design",children:"Interior Design"})]}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(ln,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{name:"name",value:f.name,onChange:N,required:!0,placeholder:"Enter course name",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{name:"duration",value:f.duration,onChange:N,required:!0,placeholder:"e.g., 1 Year, 2 Years, 3 Years, 4 Years",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("select",{name:"programType",value:h.programType,onChange:I,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-white appearance-none",children:KV.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(ln,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("select",{name:"programType",value:f.programType,onChange:N,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-white appearance-none",children:KV.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(ln,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{name:"fees",value:f.fees,onChange:N,required:!0,placeholder:"Enter course fees",type:"number",min:"0",className:"w-full pl-10 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),r.jsx("textarea",{name:"description",value:f.description,onChange:N,rows:3,placeholder:"Short description about the course",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800 resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installment Breakdown"}),r.jsxs("div",{className:"space-y-3",children:[h.installments.map((C,B)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Label"}),r.jsx("input",{value:C.label,onChange:P=>b("edit",B,"label",P.target.value),placeholder:"e.g., Time of Admission",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),r.jsx("input",{type:"number",min:"0",value:C.amount,onChange:P=>b("edit",B,"amount",P.target.value),placeholder:"7500",className:"w-full pl-8 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]})]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Due Timeline"}),r.jsx("input",{value:C.dueMonth,onChange:P=>b("edit",B,"dueMonth",P.target.value),placeholder:"e.g., Month 2",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),r.jsx("div",{className:"md:col-span-1 flex justify-end",children:r.jsx("button",{type:"button",onClick:()=>v("edit",B),className:"text-sm text-red-500 hover:text-red-600",disabled:h.installments.length===1,children:"Remove"})})]},`edit-installment-${B}`)),r.jsx("button",{type:"button",onClick:()=>w("edit"),className:"text-sm text-yellow-700 font-medium",children:"+ Add Installment"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installment Breakdown"}),r.jsxs("div",{className:"space-y-3",children:[f.installments.map((C,B)=>r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Label"}),r.jsx("input",{value:C.label,onChange:P=>b("new",B,"label",P.target.value),placeholder:"e.g., Time of Admission",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(_o,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),r.jsx("input",{type:"number",min:"0",value:C.amount,onChange:P=>b("new",B,"amount",P.target.value),placeholder:"7500",className:"w-full pl-8 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]})]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Due Timeline"}),r.jsx("input",{value:C.dueMonth,onChange:P=>b("new",B,"dueMonth",P.target.value),placeholder:"e.g., Month 2",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),r.jsx("div",{className:"md:col-span-1 flex justify-end",children:r.jsx("button",{type:"button",onClick:()=>v("new",B),className:"text-sm text-red-500 hover:text-red-600",disabled:f.installments.length===1,children:"Remove"})})]},`new-installment-${B}`)),r.jsx("button",{type:"button",onClick:()=>w("new"),className:"text-sm text-yellow-700 font-medium",children:"+ Add Installment"})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:i,className:"flex-1 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium shadow-lg transition-all flex items-center justify-center gap-2",children:[r.jsx(vs,{size:18}),i?"Adding...":"Add Course"]})]})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 transition-colors duration-200",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative border border-yellow-300",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-yellow-700",children:"Edit Course"}),r.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600 p-2",children:r.jsx(ks,{size:24})})]}),r.jsxs("form",{onSubmit:_,className:"space-y-5",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["STREAM",r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:"stream",value:h.stream,onChange:I,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all appearance-none bg-white",children:[r.jsx("option",{value:"",children:"Select a stream"}),r.jsx("option",{value:"Fashion Design",children:"Fashion Design"}),r.jsx("option",{value:"Interior Design",children:"Interior Design"})]}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx(ln,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{name:"name",value:h.name,onChange:I,required:!0,placeholder:"Enter course name",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{name:"duration",value:h.duration,onChange:I,required:!0,placeholder:"e.g., 1 Year, 2 Years, 3 Years, 4 Years",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{name:"fees",value:h.fees,onChange:I,required:!0,placeholder:"Enter course fees",type:"number",min:"0",className:"w-full pl-10 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),r.jsx("textarea",{name:"description",value:h.description,onChange:I,rows:3,placeholder:"Short description about the course",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800 resize-none"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>m(null),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:i,className:"flex-1 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium shadow-lg transition-all flex items-center justify-center gap-2",children:[r.jsx(Zi,{size:18}),i?"Saving...":"Save Changes"]})]})]})]})}),l&&A&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden border border-yellow-300 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-yellow-100 bg-yellow-50",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-yellow-700",children:"Fees Breakup  Session 202526"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Official breakup based on your NIF Global fee structure."})]}),r.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-yellow-100",children:r.jsx(ks,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"px-6 pt-4 flex flex-wrap gap-2 border-b border-yellow-100 bg-white",children:Object.values(XV).map(C=>r.jsx("button",{onClick:()=>u(C.key),className:`px-3 py-2 rounded-full text-xs font-medium border ${d===C.key?"bg-yellow-500 text-black border-yellow-500 shadow-sm":"bg-white text-gray-700 border-gray-200 hover:bg-yellow-50"}`,children:C.label},C.key))}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:A.label}),r.jsx("p",{className:"text-sm text-gray-600",children:A.streamNote})]})}),r.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-yellow-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 border-b",children:"Description"}),A.years.map(C=>r.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 border-b",children:C},C))]})}),r.jsx("tbody",{children:A.rows.map((C,B)=>r.jsxs("tr",{className:B%2===0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-4 py-2 border-b text-gray-700",children:C.description}),C.values.map((P,H)=>r.jsxs("td",{className:"px-4 py-2 border-b text-right text-gray-800",children:["",P.toLocaleString("en-IN")]},H))]},B))}),r.jsx("tfoot",{children:r.jsxs("tr",{className:"bg-yellow-100/80",children:[r.jsx("td",{className:"px-4 py-2 font-semibold text-gray-800 border-t",children:"Total (per year)"}),A.totals.map((C,B)=>r.jsxs("td",{className:"px-4 py-2 text-right font-semibold text-gray-900 border-t",children:["",C.toLocaleString("en-IN")]},B))]})})]})}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"Important Notes"}),r.jsxs("ul",{className:"text-xs text-gray-700 list-disc list-inside space-y-1",children:[A.extraNotes.map((C,B)=>r.jsx("li",{children:C},B)),r.jsx("li",{children:"Late fees, GST or university policy changes will apply as per official circulars."})]})]})]})]})})]})})};let XQe={data:""},YQe=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||XQe},JQe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ZQe=/\/\*[^]*?\*\/|  +/g,YV=/\n+/g,Um=(t,e)=>{let s="",n="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":n+=i[1]=="f"?Um(o,i):i+"{"+Um(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=Um(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Um.p?Um.p(i,o):i+":"+o+";")}return s+(e&&a?e+"{"+a+"}":a)+n},ef={},rne=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+rne(t[s]);return e}return t},e$e=(t,e,s,n,a)=>{let i=rne(t),o=ef[i]||(ef[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!ef[o]){let c=i!==t?t:(d=>{let u,h,m=[{}];for(;u=JQe.exec(d.replace(ZQe,""));)u[4]?m.shift():u[3]?(h=u[3].replace(YV," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][u[1]]=u[2].replace(YV," ").trim();return m[0]})(t);ef[o]=Um(a?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&ef.g?ef.g:null;return s&&(ef.g=ef[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(ef[o],e,n,l),o},t$e=(t,e,s)=>t.reduce((n,a,i)=>{let o=e[i];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Um(l,""):l===!1?"":l}return n+a+(o??"")},"");function _4(t){let e=this||{},s=t.call?t(e.p):t;return e$e(s.unshift?s.raw?t$e(s,[].slice.call(arguments,1),e.p):s.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):s,YQe(e.target),e.g,e.o,e.k)}let sne,zF,GF;_4.bind({g:1});let Lf=_4.bind({k:1});function r$e(t,e,s,n){Um.p=e,sne=t,zF=s,GF=n}function j0(t,e){let s=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;s.p=Object.assign({theme:zF&&zF()},l),s.o=/ *go\d+/.test(c),l.className=_4.apply(s,n)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),GF&&d[0]&&GF(l),sne(d,l)}return a}}var s$e=t=>typeof t=="function",VF=(t,e)=>s$e(t)?t(e):t,n$e=(()=>{let t=0;return()=>(++t).toString()})(),a$e=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),i$e=20,nne="default",ane=(t,e)=>{let{toastLimit:s}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,s)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return ane(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},o$e=[],l$e={toasts:[],pausedAt:void 0,settings:{toastLimit:i$e}},pg={},ine=(t,e=nne)=>{pg[e]=ane(pg[e]||l$e,t),o$e.forEach(([s,n])=>{s===e&&n(pg[e])})},one=t=>Object.keys(pg).forEach(e=>ine(t,e)),c$e=t=>Object.keys(pg).find(e=>pg[e].toasts.some(s=>s.id===t)),XL=(t=nne)=>e=>{ine(e,t)},d$e=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||n$e()}),Ew=t=>(e,s)=>{let n=d$e(e,t,s);return XL(n.toasterId||c$e(n.id))({type:2,toast:n}),n.id},Xi=(t,e)=>Ew("blank")(t,e);Xi.error=Ew("error");Xi.success=Ew("success");Xi.loading=Ew("loading");Xi.custom=Ew("custom");Xi.dismiss=(t,e)=>{let s={type:3,toastId:t};e?XL(e)(s):one(s)};Xi.dismissAll=t=>Xi.dismiss(void 0,t);Xi.remove=(t,e)=>{let s={type:4,toastId:t};e?XL(e)(s):one(s)};Xi.removeAll=t=>Xi.remove(void 0,t);Xi.promise=(t,e,s)=>{let n=Xi.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?VF(e.success,a):void 0;return i?Xi.success(i,{id:n,...s,...s==null?void 0:s.success}):Xi.dismiss(n),a}).catch(a=>{let i=e.error?VF(e.error,a):void 0;i?Xi.error(i,{id:n,...s,...s==null?void 0:s.error}):Xi.dismiss(n)}),t};var u$e=Lf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,h$e=Lf`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,f$e=Lf`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,m$e=j0("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${u$e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${h$e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${f$e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,p$e=Lf`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,x$e=j0("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${p$e} 1s linear infinite;
`,A$e=Lf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,g$e=Lf`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,b$e=j0("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${A$e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${g$e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,y$e=j0("div")`
  position: absolute;
`,v$e=j0("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,w$e=Lf`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j$e=j0("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${w$e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,N$e=({toast:t})=>{let{icon:e,type:s,iconTheme:n}=t;return e!==void 0?typeof e=="string"?E.createElement(j$e,null,e):e:s==="blank"?null:E.createElement(v$e,null,E.createElement(x$e,{...n}),s!=="loading"&&E.createElement(y$e,null,s==="error"?E.createElement(m$e,{...n}):E.createElement(b$e,{...n})))},S$e=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,C$e=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,_$e="0%{opacity:0;} 100%{opacity:1;}",E$e="0%{opacity:1;} 100%{opacity:0;}",k$e=j0("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,T$e=j0("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,B$e=(t,e)=>{let s=t.includes("top")?1:-1,[n,a]=a$e()?[_$e,E$e]:[S$e(s),C$e(s)];return{animation:e?`${Lf(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lf(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};E.memo(({toast:t,position:e,style:s,children:n})=>{let a=t.height?B$e(t.position||e||"top-center",t.visible):{opacity:0},i=E.createElement(N$e,{toast:t}),o=E.createElement(T$e,{...t.ariaProps},VF(t.message,t));return E.createElement(k$e,{className:t.className,style:{...a,...s,...t.style}},typeof n=="function"?n({icon:i,message:o}):E.createElement(E.Fragment,null,i,o))});r$e(E.createElement);_4`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var ls=Xi;const M$e="http://localhost:5000",F$e=({setShowAdminHeader:t})=>{const[e,s]=E.useState("subjects"),[n,a]=E.useState(!1),[i,o]=E.useState([]),[l,c]=E.useState([]),[d,u]=E.useState([]),[h,m]=E.useState([]),[f,x]=E.useState([]),[A,g]=E.useState({name:"",code:"",classId:""}),[b,w]=E.useState(null),[v,j]=E.useState({teacherId:"",subjectId:"",classId:"",sectionId:"",isClassTeacher:!1,notes:""}),[N,S]=E.useState(null),T=E.useMemo(()=>{const Z=localStorage.getItem("token");return{"Content-Type":"application/json",authorization:Z?`Bearer ${Z}`:""}},[]),I=async(Z,F={})=>{const z=await fetch(`${M$e}${Z}`,{headers:T,...F}),V=await z.json().catch(()=>({}));if(!z.ok)throw new Error((V==null?void 0:V.error)||"Request failed");return V},_=async()=>{a(!0);try{const[Z,F,z,V,W]=await Promise.all([I("/api/academic/classes"),I("/api/academic/sections"),I("/api/academic/subjects"),I("/api/admin/users/get-teachers"),I("/api/teacher-allocations")]);o(Array.isArray(Z)?Z:[]),c(Array.isArray(F)?F:[]),u(Array.isArray(z)?z:[]),m(Array.isArray(V)?V:[]),x(Array.isArray(W)?W:[])}catch(Z){ls.error(Z.message||"Failed to load data")}finally{a(!1)}};E.useEffect(()=>{t==null||t(!1),_()},[t]);const M=E.useMemo(()=>l.filter(Z=>Z.classId===v.classId),[l,v.classId]),C=E.useMemo(()=>d.filter(Z=>!Z.classId||String(Z.classId)===String(v.classId)),[d,v.classId]),B=(Z,F)=>{var z;return((z=Z.find(V=>String(V._id)===String(F)))==null?void 0:z.name)||"-"},P=()=>{g({name:"",code:"",classId:""}),w(null)},H=async Z=>{if(Z.preventDefault(),!A.name.trim()){ls.error("Subject name is required");return}try{const F=b?"PUT":"POST",z=b?`/api/academic/subjects/${b}`:"/api/academic/subjects";await I(z,{method:F,body:JSON.stringify({name:A.name.trim(),code:A.code.trim(),classId:A.classId||void 0})}),ls.success(b?"Subject updated":"Subject added"),P(),await _()}catch(F){ls.error(F.message||"Unable to save subject")}},D=Z=>{w(Z._id),g({name:Z.name||"",code:Z.code||"",classId:Z.classId||""})},G=async Z=>{if(window.confirm("Delete this subject?"))try{await I(`/api/academic/subjects/${Z}`,{method:"DELETE"}),ls.success("Subject deleted"),b===Z&&P(),await _()}catch(F){ls.error(F.message||"Unable to delete subject")}},O=()=>{j({teacherId:"",subjectId:"",classId:"",sectionId:"",isClassTeacher:!1,notes:""}),S(null)},Q=async Z=>{Z.preventDefault();const{teacherId:F,subjectId:z,classId:V,sectionId:W}=v;if(!F||!z||!V||!W){ls.error("Teacher, subject, class and section are required");return}try{const ne=N?"PUT":"POST",ie=N?`/api/teacher-allocations/${N}`:"/api/teacher-allocations";await I(ie,{method:ne,body:JSON.stringify({...v})}),ls.success(N?"Allocation updated":"Teacher allocated"),O(),await _()}catch(ne){ls.error(ne.message||"Unable to save allocation")}},ee=Z=>{var F,z,V,W;S(Z._id),j({teacherId:((F=Z.teacherId)==null?void 0:F._id)||Z.teacherId||"",subjectId:((z=Z.subjectId)==null?void 0:z._id)||Z.subjectId||"",classId:((V=Z.classId)==null?void 0:V._id)||Z.classId||"",sectionId:((W=Z.sectionId)==null?void 0:W._id)||Z.sectionId||"",isClassTeacher:!!Z.isClassTeacher,notes:Z.notes||""})},q=async Z=>{if(window.confirm("Delete this teacher allocation?"))try{await I(`/api/teacher-allocations/${Z}`,{method:"DELETE"}),ls.success("Allocation deleted"),N===Z&&O(),await _()}catch(F){ls.error(F.message||"Unable to delete allocation")}};return r.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:r.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Subject & Teacher Allocation"}),r.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Campus-wise subject setup and teacher mapping to class/section."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"rounded-lg bg-slate-100 px-4 py-2",children:["Subjects: ",d.length]}),r.jsxs("div",{className:"rounded-lg bg-slate-100 px-4 py-2",children:["Allocations: ",f.length]})]})]}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsxs("button",{className:`rounded-lg px-4 py-2 text-sm font-medium ${e==="subjects"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700"}`,onClick:()=>s("subjects"),children:[r.jsx(Hr,{className:"mr-2 inline h-4 w-4"}),"Subject Management"]}),r.jsxs("button",{className:`rounded-lg px-4 py-2 text-sm font-medium ${e==="allocations"?"bg-blue-600 text-white":"bg-slate-100 text-slate-700"}`,onClick:()=>s("allocations"),children:[r.jsx(kde,{className:"mr-2 inline h-4 w-4"}),"Teacher Allocation"]})]})]}),e==="subjects"&&r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs("form",{onSubmit:H,className:"rounded-2xl border border-slate-200 bg-white p-6",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-900",children:b?"Edit Subject":"Add Subject"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600",children:"Subject Name"}),r.jsx("input",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",value:A.name,onChange:Z=>g(F=>({...F,name:Z.target.value})),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600",children:"Subject Code"}),r.jsx("input",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",value:A.code,onChange:Z=>g(F=>({...F,code:Z.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600",children:"Class (optional)"}),r.jsxs("select",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",value:A.classId,onChange:Z=>g(F=>({...F,classId:Z.target.value})),children:[r.jsx("option",{value:"",children:"All Classes"}),i.map(Z=>r.jsx("option",{value:Z._id,children:Z.name},Z._id))]})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsxs("button",{type:"submit",className:"rounded-lg bg-blue-600 px-4 py-2 text-sm text-white",children:[r.jsx(vs,{className:"mr-2 inline h-4 w-4"}),b?"Update":"Add"]}),b&&r.jsx("button",{type:"button",onClick:P,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm",children:"Cancel"})]})]})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Subjects"}),r.jsxs("div",{className:"space-y-3",children:[d.map(Z=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 px-4 py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:Z.name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Code: ",Z.code||"-"," | Class:"," ",Z.classId?B(i,Z.classId):"All"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>D(Z),className:"rounded-lg p-2 text-blue-600 hover:bg-blue-50",title:"Edit",children:r.jsx(eR,{className:"h-4 w-4"})}),r.jsx("button",{type:"button",onClick:()=>G(Z._id),className:"rounded-lg p-2 text-red-600 hover:bg-red-50",title:"Delete",children:r.jsx(vn,{className:"h-4 w-4"})})]})]},Z._id)),d.length===0&&!n&&r.jsx("p",{className:"text-sm text-slate-500",children:"No subjects found for this campus."})]})]})]}),e==="allocations"&&r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs("form",{onSubmit:Q,className:"rounded-2xl border border-slate-200 bg-white p-6",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-900",children:N?"Edit Allocation":"Allocate Teacher"}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600",children:"Teacher"}),r.jsxs("select",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",value:v.teacherId,onChange:Z=>j(F=>({...F,teacherId:Z.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Select teacher"}),h.map(Z=>r.jsxs("option",{value:Z._id,children:[Z.name," (",Z.employeeCode||Z.username||"N/A",")"]},Z._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600",children:"Class"}),r.jsxs("select",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",value:v.classId,onChange:Z=>j(F=>({...F,classId:Z.target.value,sectionId:"",subjectId:""})),required:!0,children:[r.jsx("option",{value:"",children:"Select class"}),i.map(Z=>r.jsx("option",{value:Z._id,children:Z.name},Z._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600",children:"Section"}),r.jsxs("select",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",value:v.sectionId,onChange:Z=>j(F=>({...F,sectionId:Z.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Select section"}),M.map(Z=>r.jsx("option",{value:Z._id,children:Z.name},Z._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600",children:"Subject"}),r.jsxs("select",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",value:v.subjectId,onChange:Z=>j(F=>({...F,subjectId:Z.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Select subject"}),C.map(Z=>r.jsxs("option",{value:Z._id,children:[Z.name," ",Z.code?`(${Z.code})`:""]},Z._id))]})]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[r.jsx("input",{type:"checkbox",checked:v.isClassTeacher,onChange:Z=>j(F=>({...F,isClassTeacher:Z.target.checked}))}),"Class teacher for this section"]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600",children:"Notes"}),r.jsx("textarea",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2",rows:2,value:v.notes,onChange:Z=>j(F=>({...F,notes:Z.target.value})),placeholder:"Optional"})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"submit",className:"rounded-lg bg-blue-600 px-4 py-2 text-sm text-white",children:N?"Update Allocation":"Allocate"}),N&&r.jsx("button",{type:"button",onClick:O,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm",children:"Cancel"})]})]})]}),r.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Current Allocations"}),r.jsxs("div",{className:"space-y-3",children:[f.map(Z=>{var F,z,V,W;return r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 px-4 py-3",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-slate-900",children:[((F=Z.teacherId)==null?void 0:F.name)||"-"," ","->"," ",((z=Z.subjectId)==null?void 0:z.name)||"-"]}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Class ",((V=Z.classId)==null?void 0:V.name)||"-"," | Section ",((W=Z.sectionId)==null?void 0:W.name)||"-",Z.isClassTeacher?" | Class Teacher":""]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>ee(Z),className:"rounded-lg p-2 text-blue-600 hover:bg-blue-50",title:"Edit",children:r.jsx(eR,{className:"h-4 w-4"})}),r.jsx("button",{type:"button",onClick:()=>q(Z._id),className:"rounded-lg p-2 text-red-600 hover:bg-red-50",title:"Delete",children:r.jsx(vn,{className:"h-4 w-4"})})]})]},Z._id)}),f.length===0&&!n&&r.jsx("p",{className:"text-sm text-slate-500",children:"No teacher allocations found for this campus."})]})]})]})]})})},MA="http://localhost:5000",P$e=({setShowAdminHeader:t})=>{var or,Jr;const[e,s]=E.useState("years"),[n,a]=E.useState([]),[i,o]=E.useState([]),[l,c]=E.useState([]),[d,u]=E.useState(""),[h,m]=E.useState({name:"",startDate:"",endDate:"",isActive:!1}),[f,x]=E.useState({name:"",academicYearId:"",order:""}),[A,g]=E.useState({name:"",classId:""}),[b,w]=E.useState(null),[v,j]=E.useState(null),[N,S]=E.useState(null),[T,I]=E.useState(""),[_,M]=E.useState(""),[C,B]=E.useState(""),[P,H]=E.useState(!1),[D,G]=E.useState(null),[O,Q]=E.useState({field:"name",order:"asc"}),[ee,q]=E.useState({field:"order",order:"asc"}),[Z,F]=E.useState({field:"name",order:"asc"}),[z,V]=E.useState(1),[W,ne]=E.useState(1),[ie,be]=E.useState(1),[ue,je]=E.useState(10),[Be,oe]=E.useState([]),[lt,se]=E.useState([]),[J,Pe]=E.useState([]),xe=E.useMemo(()=>{const it=localStorage.getItem("token");return{"Content-Type":"application/json",authorization:it?`Bearer ${it}`:""}},[]),He=E.useMemo(()=>{if(!T.trim())return n;const it=T.toLowerCase();return n.filter(Ct=>Ct.name.toLowerCase().includes(it)||Ct.startDate&&new Date(Ct.startDate).toLocaleDateString().includes(it))},[n,T]),$e=E.useMemo(()=>{if(!_.trim())return i;const it=_.toLowerCase();return i.filter(Ct=>{var pr;return Ct.name.toLowerCase().includes(it)||((pr=Ct.order)==null?void 0:pr.toString().includes(it))})},[i,_]),Xe=E.useMemo(()=>{if(!C.trim())return l;const it=C.toLowerCase();return l.filter(Ct=>{var yr;const pr=((yr=i.find(Jt=>Jt._id===Ct.classId))==null?void 0:yr.name)||"";return Ct.name.toLowerCase().includes(it)||pr.toLowerCase().includes(it)})},[l,C,i]),he=it=>{console.error(it),u("Unable to load academic data. Please retry.")},ce=async()=>{try{const it=await fetch(`${MA}/api/academic/hierarchy`,{method:"GET",headers:xe});if(!it.ok)throw new Error("Failed to load academic setup");const Ct=await it.json();a(Array.isArray(Ct.years)?Ct.years:[]),o(Array.isArray(Ct.classes)?Ct.classes:[]),c(Array.isArray(Ct.sections)?Ct.sections:[])}catch(it){throw he(it),it}};E.useEffect(()=>{t==null||t(!1),u(""),ce().catch(he)},[t]);const _e=async(it,Ct,pr)=>{u("");const yr=await fetch(`${MA}${it}`,{method:"POST",headers:xe,body:JSON.stringify(Ct)});if(!yr.ok){const Jt=await yr.json().catch(()=>({}));throw new Error(Jt.error||"Request failed")}await yr.json().catch(()=>({})),await pr()},Ke=async it=>{it.preventDefault();try{await _e("/api/academic/years",h,ce),m({name:"",startDate:"",endDate:"",isActive:!1})}catch(Ct){he(Ct)}},et=async it=>{it.preventDefault();try{await _e("/api/academic/classes",f,ce),x({name:"",academicYearId:"",order:""})}catch(Ct){he(Ct)}},st=async it=>{if(it.preventDefault(),!A.classId){u("Select a class before creating a section.");return}try{await _e("/api/academic/sections",A,ce),g({name:"",classId:""})}catch(Ct){he(Ct)}},ot=async(it,Ct,pr,yr)=>{u(""),H(!0);try{const Jt=await fetch(`${MA}${it}/${Ct}`,{method:"PUT",headers:xe,body:JSON.stringify(pr)});if(!Jt.ok){const Fe=await Jt.json().catch(()=>({}));throw new Error(Fe.error||"Update failed")}await Jt.json(),await yr();const me=it.split("/").pop();ls.success(`${me.slice(0,-1)} updated successfully!`)}catch(Jt){u(Jt.message),ls.error(Jt.message)}finally{H(!1)}},mt=async it=>{it.preventDefault(),await ot("/api/academic/years",b._id,{name:b.name,startDate:b.startDate,endDate:b.endDate,isActive:b.isActive},async()=>{await ce(),w(null)})},At=async it=>{it.preventDefault(),await ot("/api/academic/classes",v._id,{name:v.name,academicYearId:v.academicYearId,order:v.order},async()=>{await ce(),j(null)})},Tt=async it=>{if(it.preventDefault(),!N.classId){u("Select a class before updating section.");return}await ot("/api/academic/sections",N._id,{name:N.name,classId:N.classId},async()=>{await ce(),S(null)})},rt=async(it,Ct,pr,yr)=>{if((await Qr.fire({title:"Are you sure?",text:`Do you want to delete this ${pr}? This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed){G(Ct);try{const me=await fetch(`${MA}${it}/${Ct}`,{method:"DELETE",headers:xe});if(!me.ok){const Fe=await me.json().catch(()=>({}));if(me.status===409&&(Fe.dependentCount||Fe.dependentSections||Fe.dependentSubjects))if((await Qr.fire({title:"Dependent Records Found",html:Fe.error+"<br><br>Do you want to delete this and all dependent records?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, delete all",cancelButtonText:"Cancel"})).isConfirmed){const Te=await fetch(`${MA}${it}/${Ct}?cascade=true`,{method:"DELETE",headers:xe});if(!Te.ok){const De=await Te.json().catch(()=>({}));throw new Error(De.error||"Delete failed")}const Ie=await Te.json();await yr(),Qr.fire({title:"Deleted!",html:`${pr} and ${Ie.deletedSections||0} section(s) deleted.`,icon:"success",timer:3e3});return}else return;throw new Error(Fe.error||"Delete failed")}await yr(),Qr.fire({title:"Deleted!",text:`${pr} has been deleted.`,icon:"success",timer:2e3,showConfirmButton:!1})}catch(me){Qr.fire({title:"Error",text:me.message,icon:"error"})}finally{G(null)}}},Dt=it=>rt("/api/academic/years",it,"academic year",ce),Qt=it=>rt("/api/academic/classes",it,"class",ce),Yt=it=>rt("/api/academic/sections",it,"section",ce),kt=(it,Ct)=>Ct.field?[...it].sort((pr,yr)=>{let Jt=pr[Ct.field],me=yr[Ct.field];return Ct.field.includes("Date")&&(Jt=new Date(Jt||0),me=new Date(me||0)),typeof Jt=="string"&&(Jt=Jt.toLowerCase(),me=(me==null?void 0:me.toLowerCase())||""),Ct.field==="order"&&(Jt=Jt??0,me=me??0),Jt<me?Ct.order==="asc"?-1:1:Jt>me?Ct.order==="asc"?1:-1:0}):it,tt=E.useMemo(()=>kt(He,O),[He,O]),Ze=E.useMemo(()=>kt($e,ee),[$e,ee]),ye=E.useMemo(()=>kt(Xe,Z),[Xe,Z]),fe=E.useMemo(()=>{const it=(z-1)*ue;return tt.slice(it,it+ue)},[tt,z,ue]),Me=E.useMemo(()=>{const it=(W-1)*ue;return Ze.slice(it,it+ue)},[Ze,W,ue]);E.useMemo(()=>{const it=(ie-1)*ue;return ye.slice(it,it+ue)},[ye,ie,ue]);const Le=(it,Ct)=>{const pr={years:oe,classes:se,sections:Pe};({years:Be,classes:lt,sections:J})[it].length===Ct.length&&Ct.length>0?pr[it]([]):pr[it](Ct.map(Jt=>Jt._id))},Ge=(it,Ct)=>{const pr={years:oe,classes:se,sections:Pe},yr={years:Be,classes:lt,sections:J}[it];yr.includes(Ct)?pr[it](yr.filter(Jt=>Jt!==Ct)):pr[it]([...yr,Ct])},ct=async(it,Ct)=>{const pr={years:Be,classes:lt,sections:J}[it];if(pr.length===0||!(await Qr.fire({title:"Bulk Delete",html:`Are you sure you want to delete <strong>${pr.length}</strong> ${Ct}(s)?<br>This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, delete all"})).isConfirmed)return;let Jt=0,me=0;Qr.fire({title:"Deleting...",html:`Deleted: <b>0</b> / ${pr.length}`,allowOutsideClick:!1,didOpen:()=>Qr.showLoading()});for(const Fe of pr)try{const Ee={years:"/api/academic/years",classes:"/api/academic/classes",sections:"/api/academic/sections"}[it];(await fetch(`${MA}${Ee}/${Fe}?cascade=true`,{method:"DELETE",headers:xe})).ok?Jt++:me++,Qr.update({html:`Deleted: <b>${Jt}</b> / ${pr.length}${me>0?` (${me} failed)`:""}`})}catch{me++}await ce(),oe([]),se([]),Pe([]),Qr.fire({title:"Completed",html:`Successfully deleted <b>${Jt}</b> ${Ct}(s)${me>0?`<br>${me} deletion(s) failed`:""}`,icon:Jt>0?"success":"error"})},ft=(it,Ct,pr)=>r.jsxs("button",{type:"button",onClick:()=>s(it),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${e===it?"bg-yellow-500 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-yellow-50"}`,children:[r.jsx(pr,{className:"w-4 h-4"}),Ct]}),Ut=({value:it,onChange:Ct,placeholder:pr})=>r.jsx("div",{className:"mb-4",children:r.jsx("input",{type:"text",value:it,onChange:yr=>Ct(yr.target.value),placeholder:pr,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:outline-none text-sm"})}),Wt=({isOpen:it,onClose:Ct,title:pr,children:yr,onSubmit:Jt,isSubmitting:me})=>it?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:pr}),r.jsx("button",{type:"button",onClick:Ct,className:"text-gray-500 hover:text-gray-700",disabled:me,children:r.jsx(ks,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:Jt,children:[yr,r.jsxs("div",{className:"flex gap-3 mt-6",children:[r.jsx("button",{type:"button",onClick:Ct,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:me,children:"Cancel"}),r.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50",disabled:me,children:me?"Saving...":"Save Changes"})]})]})]})}):null,ur=({label:it,field:Ct,sortConfig:pr,onSort:yr})=>r.jsx("th",{onClick:()=>yr(Ct),className:"cursor-pointer px-4 py-3 text-left hover:bg-yellow-100 transition select-none bg-gray-50",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold text-gray-700",children:it}),pr.field===Ct&&(pr.order==="asc"?r.jsx(gce,{className:"w-4 h-4 text-yellow-600"}):r.jsx(ln,{className:"w-4 h-4 text-yellow-600"})),pr.field!==Ct&&r.jsx(yce,{className:"w-4 h-4 text-gray-400"})]})}),mr=({currentPage:it,totalItems:Ct,itemsPerPage:pr,onPageChange:yr,onItemsPerPageChange:Jt})=>{const me=Math.ceil(Ct/pr),Fe=(it-1)*pr+1,Ee=Math.min(it*pr,Ct),Te=[],Ie=5;let De=Math.max(1,it-Math.floor(Ie/2)),pt=Math.min(me,De+Ie-1);pt-De<Ie-1&&(De=Math.max(1,pt-Ie+1));for(let Et=De;Et<=pt;Et++)Te.push(Et);return Ct===0?null:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-3 border-t border-gray-200 bg-gray-50 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-sm text-gray-700",children:["Showing ",Fe," to ",Ee," of ",Ct," items"]}),r.jsxs("select",{value:pr,onChange:Et=>Jt(Number(Et.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:10,children:"10 per page"}),r.jsx("option",{value:25,children:"25 per page"}),r.jsx("option",{value:50,children:"50 per page"}),r.jsx("option",{value:100,children:"100 per page"})]})]}),r.jsxs("div",{className:"flex gap-1 flex-wrap",children:[r.jsx("button",{onClick:()=>yr(it-1),disabled:it===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),De>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>yr(1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:"1"}),De>2&&r.jsx("span",{className:"px-2 py-1 text-sm",children:"..."})]}),Te.map(Et=>r.jsx("button",{onClick:()=>yr(Et),className:`px-3 py-1 border rounded text-sm ${it===Et?"bg-yellow-500 text-white border-yellow-500":"border-gray-300 hover:bg-gray-100"}`,children:Et},Et)),pt<me&&r.jsxs(r.Fragment,{children:[pt<me-1&&r.jsx("span",{className:"px-2 py-1 text-sm",children:"..."}),r.jsx("button",{onClick:()=>yr(me),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm",children:me})]}),r.jsx("button",{onClick:()=>yr(it+1),disabled:it===me,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 p-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto bg-white/90 rounded-2xl shadow-2xl p-8 border border-yellow-200",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Academic Setup"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage academic years, classes, and sections."})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[ft("years","Academic Years",ir),ft("classes","Classes",kS),ft("sections","Sections",Hr)]})]}),d&&r.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:d}),e==="years"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("form",{onSubmit:Ke,className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Academic Year"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year Name"}),r.jsx("input",{type:"text",value:h.name,onChange:it=>m(Ct=>({...Ct,name:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"2025-2026",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Date"}),r.jsx("input",{type:"date",value:h.startDate,onChange:it=>m(Ct=>({...Ct,startDate:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Date"}),r.jsx("input",{type:"date",value:h.endDate,onChange:it=>m(Ct=>({...Ct,endDate:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]})]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("input",{type:"checkbox",checked:h.isActive,onChange:it=>m(Ct=>({...Ct,isActive:it.target.checked})),className:"h-4 w-4 text-yellow-600 border-gray-300 rounded"}),"Set as active"]}),r.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[r.jsx(vs,{className:"w-4 h-4"}),"Add Year"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Academic Years"}),Be.length>0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-3 mb-4 flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Be.length," item(s) selected"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>oe([]),className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-white",children:"Clear Selection"}),r.jsxs("button",{onClick:()=>ct("years","academic year"),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 flex items-center gap-1",children:[r.jsx(vn,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),r.jsx(Ut,{value:T,onChange:I,placeholder:"Search academic years..."}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"px-4 py-3 w-12 bg-gray-50",children:r.jsx("input",{type:"checkbox",checked:Be.length===fe.length&&fe.length>0,onChange:()=>Le("years",fe),className:"h-4 w-4 text-yellow-600 rounded"})}),r.jsx(ur,{label:"Name",field:"name",sortConfig:O,onSort:it=>Q(Ct=>({field:it,order:Ct.field===it&&Ct.order==="asc"?"desc":"asc"}))}),r.jsx(ur,{label:"Start Date",field:"startDate",sortConfig:O,onSort:it=>Q(Ct=>({field:it,order:Ct.field===it&&Ct.order==="asc"?"desc":"asc"}))}),r.jsx(ur,{label:"End Date",field:"endDate",sortConfig:O,onSort:it=>Q(Ct=>({field:it,order:Ct.field===it&&Ct.order==="asc"?"desc":"asc"}))}),r.jsx("th",{className:"px-4 py-3 text-left bg-gray-50",children:r.jsx("span",{className:"font-semibold text-gray-700",children:"Status"})}),r.jsx("th",{className:"px-4 py-3 text-left bg-gray-50",children:r.jsx("span",{className:"font-semibold text-gray-700",children:"Actions"})})]})}),r.jsx("tbody",{children:fe.map(it=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"checkbox",checked:Be.includes(it._id),onChange:()=>Ge("years",it._id),className:"h-4 w-4 text-yellow-600 rounded"})}),r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:it.name}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:it.startDate?new Date(it.startDate).toLocaleDateString():""}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:it.endDate?new Date(it.endDate).toLocaleDateString():""}),r.jsx("td",{className:"px-4 py-3",children:it.isActive?r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Active"}):r.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Inactive"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>w(it),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition",title:"Edit",children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Dt(it._id),disabled:D===it._id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition disabled:opacity-50",title:"Delete",children:r.jsx(vn,{className:"w-4 h-4"})})]})})]},it._id))})]}),fe.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:T?"No matching academic years found.":"No academic years yet."})]}),r.jsx(mr,{currentPage:z,totalItems:tt.length,itemsPerPage:ue,onPageChange:V,onItemsPerPageChange:je})]})]}),e==="classes"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("form",{onSubmit:et,className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Class"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class Name"}),r.jsx("input",{type:"text",value:f.name,onChange:it=>x(Ct=>({...Ct,name:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"Grade 10",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Academic Year"}),r.jsxs("select",{value:f.academicYearId,onChange:it=>x(Ct=>({...Ct,academicYearId:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"",children:"Optional"}),n.map(it=>r.jsx("option",{value:it._id,children:it.name},it._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Display Order"}),r.jsx("input",{type:"number",value:f.order,onChange:it=>x(Ct=>({...Ct,order:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"0"})]}),r.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[r.jsx(vs,{className:"w-4 h-4"}),"Add Class"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Classes"}),lt.length>0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-3 mb-4 flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[lt.length," item(s) selected"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>se([]),className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-white",children:"Clear Selection"}),r.jsxs("button",{onClick:()=>ct("classes","class"),className:"px-3 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-700 flex items-center gap-1",children:[r.jsx(vn,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),r.jsx(Ut,{value:_,onChange:M,placeholder:"Search classes..."}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"px-4 py-3 w-12 bg-gray-50",children:r.jsx("input",{type:"checkbox",checked:lt.length===Me.length&&Me.length>0,onChange:()=>Le("classes",Me),className:"h-4 w-4 text-yellow-600 rounded"})}),r.jsx(ur,{label:"Name",field:"name",sortConfig:ee,onSort:it=>q(Ct=>({field:it,order:Ct.field===it&&Ct.order==="asc"?"desc":"asc"}))}),r.jsx(ur,{label:"Order",field:"order",sortConfig:ee,onSort:it=>q(Ct=>({field:it,order:Ct.field===it&&Ct.order==="asc"?"desc":"asc"}))}),r.jsx("th",{className:"px-4 py-3 text-left bg-gray-50",children:r.jsx("span",{className:"font-semibold text-gray-700",children:"Academic Year"})}),r.jsx("th",{className:"px-4 py-3 text-left bg-gray-50",children:r.jsx("span",{className:"font-semibold text-gray-700",children:"Actions"})})]})}),r.jsx("tbody",{children:Me.map(it=>{var Ct;return r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("input",{type:"checkbox",checked:lt.includes(it._id),onChange:()=>Ge("classes",it._id),className:"h-4 w-4 text-yellow-600 rounded"})}),r.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:it.name}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:it.order??0}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:((Ct=n.find(pr=>pr._id===it.academicYearId))==null?void 0:Ct.name)||""}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j(it),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition",title:"Edit",children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Qt(it._id),disabled:D===it._id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition disabled:opacity-50",title:"Delete",children:r.jsx(vn,{className:"w-4 h-4"})})]})})]},it._id)})})]}),Me.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:_?"No matching classes found.":"No classes yet."})]}),r.jsx(mr,{currentPage:W,totalItems:Ze.length,itemsPerPage:ue,onPageChange:ne,onItemsPerPageChange:je})]})]}),e==="sections"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("form",{onSubmit:st,className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Section"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Section Name"}),r.jsx("input",{type:"text",value:A.name,onChange:it=>g(Ct=>({...Ct,name:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"A",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class"}),r.jsxs("select",{value:A.classId,onChange:it=>g(Ct=>({...Ct,classId:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0,children:[r.jsx("option",{value:"",children:"Select class"}),i.map(it=>r.jsx("option",{value:it._id,children:it.name},it._id))]})]}),r.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[r.jsx(vs,{className:"w-4 h-4"}),"Add Section"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Sections"}),r.jsx(Ut,{value:C,onChange:B,placeholder:"Search sections..."}),r.jsxs("div",{className:"space-y-3",children:[Xe.map(it=>{var Ct;return r.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 px-4 py-3 hover:bg-gray-50",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:it.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Class: ",((Ct=i.find(pr=>pr._id===it.classId))==null?void 0:Ct.name)||""]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>S(it),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Edit",children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Yt(it._id),disabled:D===it._id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition disabled:opacity-50",title:"Delete",children:r.jsx(vn,{className:"w-4 h-4"})})]})]},it._id)}),Xe.length===0&&r.jsx("p",{className:"text-sm text-gray-500",children:C?"No matching sections found.":"No sections yet."})]})]})]}),r.jsx(Wt,{isOpen:b!==null,onClose:()=>w(null),title:"Edit Academic Year",onSubmit:mt,isSubmitting:P,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year Name"}),r.jsx("input",{type:"text",value:(b==null?void 0:b.name)||"",onChange:it=>w(Ct=>({...Ct,name:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Date"}),r.jsx("input",{type:"date",value:((or=b==null?void 0:b.startDate)==null?void 0:or.split("T")[0])||"",onChange:it=>w(Ct=>({...Ct,startDate:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Date"}),r.jsx("input",{type:"date",value:((Jr=b==null?void 0:b.endDate)==null?void 0:Jr.split("T")[0])||"",onChange:it=>w(Ct=>({...Ct,endDate:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]})]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("input",{type:"checkbox",checked:(b==null?void 0:b.isActive)||!1,onChange:it=>w(Ct=>({...Ct,isActive:it.target.checked})),className:"h-4 w-4 text-yellow-600 border-gray-300 rounded"}),"Set as active"]})]})}),r.jsx(Wt,{isOpen:v!==null,onClose:()=>j(null),title:"Edit Class",onSubmit:At,isSubmitting:P,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class Name"}),r.jsx("input",{type:"text",value:(v==null?void 0:v.name)||"",onChange:it=>j(Ct=>({...Ct,name:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Academic Year"}),r.jsxs("select",{value:(v==null?void 0:v.academicYearId)||"",onChange:it=>j(Ct=>({...Ct,academicYearId:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"",children:"Optional"}),n.map(it=>r.jsx("option",{value:it._id,children:it.name},it._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Display Order"}),r.jsx("input",{type:"number",value:(v==null?void 0:v.order)??"",onChange:it=>j(Ct=>({...Ct,order:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"0"})]})]})}),r.jsx(Wt,{isOpen:N!==null,onClose:()=>S(null),title:"Edit Section",onSubmit:Tt,isSubmitting:P,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Section Name"}),r.jsx("input",{type:"text",value:(N==null?void 0:N.name)||"",onChange:it=>S(Ct=>({...Ct,name:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class"}),r.jsxs("select",{value:(N==null?void 0:N.classId)||"",onChange:it=>S(Ct=>({...Ct,classId:it.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0,children:[r.jsx("option",{value:"",children:"Select class"}),i.map(it=>r.jsx("option",{value:it._id,children:it.name},it._id))]})]})]})})]})})},JV="http://localhost:5000".replace(/\/$/,""),ZV=t=>t==="present"?"Present":t==="absent"?"Absent":"Not Marked",eW=t=>{if(!t)return"-";const e=new Date(t);return Number.isNaN(e.getTime())?"-":e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},I$e=({setShowAdminHeader:t})=>{const[e,s]=E.useState([]),[n,a]=E.useState(!0),[i,o]=E.useState(""),[l,c]=E.useState(""),[d,u]=E.useState(""),[h,m]=E.useState(new Date().toISOString().slice(0,10)),[f,x]=E.useState(new Date().toISOString().slice(0,7)),[A,g]=E.useState(""),[b,w]=E.useState(""),[v,j]=E.useState(""),[N,S]=E.useState(""),[T,I]=E.useState("");E.useEffect(()=>{t(!1)},[t]);const _=E.useCallback(async()=>{const Q=localStorage.getItem("token");if(!Q){c("Login required"),a(!1);return}a(!0),c("");try{const ee=new URLSearchParams({date:h,month:f}),q=await fetch(`${JV}/api/attendance/admin/students?${ee.toString()}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`}}),Z=await q.json();if(!q.ok)throw new Error((Z==null?void 0:Z.error)||"Failed to load attendance");const F=Array.isArray(Z==null?void 0:Z.students)?Z.students.map(z=>{var W,ne;const V=((W=z==null?void 0:z.selectedDateRecord)==null?void 0:W.status)||"";return{id:z._id,name:z.name||"Student",session:z.session||"",className:z.className||"",section:z.section||"",status:V,statusLabel:ZV(V),checkInTime:eW((ne=z==null?void 0:z.selectedDateRecord)==null?void 0:ne.date)}}):[];s(F)}catch(ee){c(ee.message||"Unable to load attendance data")}finally{a(!1)}},[h,f]);E.useEffect(()=>{_()},[_]);const M=E.useMemo(()=>[...new Set(e.map(Q=>Q.session).filter(Boolean))],[e]),C=E.useMemo(()=>{const Q=A?e.filter(ee=>ee.session===A):e;return[...new Set(Q.map(ee=>ee.className).filter(Boolean))]},[e,A]),B=E.useMemo(()=>{const Q=e.filter(ee=>(!A||ee.session===A)&&(!b||ee.className===b));return[...new Set(Q.map(ee=>ee.section).filter(Boolean))]},[e,b,A]),P=E.useMemo(()=>e.filter(ee=>(!A||ee.session===A)&&(!b||ee.className===b)&&(!v||ee.section===v)).map(ee=>({id:ee.id,name:ee.name})).sort((ee,q)=>ee.name.localeCompare(q.name)),[e,b,v,A]),H=E.useMemo(()=>e.filter(Q=>!(A&&Q.session!==A||b&&Q.className!==b||v&&Q.section!==v||N&&Q.id!==N||T.trim()&&!Q.name.toLowerCase().includes(T.trim().toLowerCase()))),[e,T,b,v,A,N]),D=E.useMemo(()=>H.filter(Q=>Q.status==="present").length,[H]),G=async(Q,ee)=>{const q=localStorage.getItem("token");if(q){o(Q),c(""),u("");try{const Z=await fetch(`${JV}/api/attendance/admin/bulk-upsert`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify({date:h,entries:[{studentId:Q,status:ee}]})}),F=await Z.json();if(!Z.ok)throw new Error((F==null?void 0:F.error)||"Failed to save attendance");s(z=>z.map(V=>V.id===Q?{...V,status:ee,statusLabel:ZV(ee),checkInTime:ee==="present"?eW(new Date().toISOString()):"-"}:V)),u("Attendance updated")}catch(Z){c(Z.message||"Could not update attendance")}finally{o("")}}},O=()=>{const Q=new Sr,ee=Q.internal.pageSize.width,q=new Date().toLocaleDateString();Q.setFontSize(20),Q.setFont(void 0,"bold"),Q.text("Student Attendance Report",ee/2,30,{align:"center"}),Q.setFontSize(12),Q.setFont(void 0,"normal"),Q.text(`Generated on: ${q}`,ee/2,45,{align:"center"}),Q.setFontSize(10),Q.setFont(void 0,"bold");const Z=70,F=12;Q.text("Student Name",14,Z),Q.text("Session",52,Z),Q.text("Class",80,Z),Q.text("Section",102,Z),Q.text("Status",126,Z),Q.text("In Time",153,Z),Q.line(12,Z+4,ee-12,Z+4),Q.setFont(void 0,"normal"),H.forEach((V,W)=>{const ne=Z+F+W*F;Q.text(V.name,14,ne),Q.text(V.session||"-",52,ne),Q.text(V.className||"-",80,ne),Q.text(V.section||"-",102,ne),Q.text(V.statusLabel,126,ne),Q.text(V.checkInTime,153,ne)});const z=Z+F+H.length*F+15;Q.setFont(void 0,"bold"),Q.text("Summary",14,z),Q.setFont(void 0,"normal"),Q.text(`Total Students: ${H.length}`,14,z+12),Q.text(`Present Today: ${D}`,14,z+22),Q.text(`Absent Today: ${H.length-D}`,14,z+32),Q.save(`attendance-report-${q.replace(/\//g,"-")}.pdf`)};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Attendance"}),r.jsx("p",{className:"text-yellow-100",children:"Session, class, section and student from database"})]}),r.jsx(Yd,{className:"w-12 h-12 text-yellow-200"})]})}),r.jsxs("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-6 gap-3",children:[r.jsxs("div",{className:"relative xl:col-span-2",children:[r.jsx(Fs,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:T,onChange:Q=>I(Q.target.value),placeholder:"Search students",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),r.jsxs("select",{value:A,onChange:Q=>{g(Q.target.value),w(""),j(""),S("")},className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Session"}),M.map(Q=>r.jsx("option",{value:Q,children:Q},Q))]}),r.jsxs("select",{value:b,onChange:Q=>{w(Q.target.value),j(""),S("")},className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Class"}),C.map(Q=>r.jsx("option",{value:Q,children:Q},Q))]}),r.jsxs("select",{value:v,onChange:Q=>{j(Q.target.value),S("")},className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Section"}),B.map(Q=>r.jsx("option",{value:Q,children:Q},Q))]}),r.jsxs("select",{value:N,onChange:Q=>S(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Student"}),P.map(Q=>r.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),r.jsxs("div",{className:"md:col-span-2 xl:col-span-6 flex flex-wrap items-center justify-between gap-3 mt-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"w-5 h-5 text-gray-500"}),r.jsx("input",{type:"date",value:h,onChange:Q=>m(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),r.jsx("input",{type:"month",value:f,onChange:Q=>x(Q.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),r.jsxs("button",{type:"button",onClick:O,className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export Report"})]})]})]}),l?r.jsx("p",{className:"text-sm text-red-600 mt-3",children:l}):null,d?r.jsx("p",{className:"text-sm text-green-700 mt-3",children:d}):null]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H.length})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Present"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:D})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Absent/Unmarked"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:H.length-D})]})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm border-collapse",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-600 border border-gray-200",children:"Student"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-600 border border-gray-200",children:"Session"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-600 border border-gray-200",children:"Class"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-600 border border-gray-200",children:"Section"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-600 border border-gray-200",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-600 border border-gray-200",children:"Check-in"}),r.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600 border border-gray-200",children:"Tick"})]})}),r.jsx("tbody",{children:n?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 border border-gray-200",children:r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Vn,{className:"w-4 h-4 animate-spin"})," Loading attendance..."]})})}):H.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 border border-gray-200",children:"No students found for selected filters."})}):H.map(Q=>r.jsxs("tr",{className:"hover:bg-yellow-50",children:[r.jsx("td",{className:"px-4 py-3 border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-yellow-100 flex items-center justify-center",children:r.jsx(Ar,{className:"h-4 w-4 text-yellow-700"})}),r.jsx("span",{className:"font-medium text-gray-900",children:Q.name})]})}),r.jsx("td",{className:"px-4 py-3 border border-gray-200",children:Q.session||"-"}),r.jsx("td",{className:"px-4 py-3 border border-gray-200",children:Q.className||"-"}),r.jsx("td",{className:"px-4 py-3 border border-gray-200",children:Q.section||"-"}),r.jsx("td",{className:"px-4 py-3 border border-gray-200",children:r.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${Q.status==="present"?"bg-green-100 text-green-700":Q.status==="absent"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:Q.statusLabel})}),r.jsx("td",{className:"px-4 py-3 border border-gray-200",children:r.jsxs("div",{className:"flex items-center gap-1 text-gray-700",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:Q.checkInTime})]})}),r.jsx("td",{className:"px-4 py-3 border border-gray-200 text-right",children:r.jsx("button",{type:"button",onClick:()=>G(Q.id,"present"),disabled:i===Q.id,className:"inline-flex items-center justify-center h-8 w-8 rounded-md bg-green-100 text-green-700 hover:bg-green-200 disabled:opacity-60",title:"Mark present",children:i===Q.id?r.jsx(Vn,{className:"w-4 h-4 animate-spin"}):r.jsx(Gu,{className:"w-4 h-4"})})})]},Q.id))})]})})})]})},lne="adminScope",L$e=t=>{if(!t)return{};try{const e=JSON.parse(t);return e&&typeof e=="object"?e:{}}catch{return{}}},tW=t=>t?typeof t=="string"?t:typeof t=="object"&&(t._id||t.id||t.value)||null:null,cne=()=>{if(typeof window>"u"||!window.localStorage)return{schoolId:null,campusId:null};const t=L$e(window.localStorage.getItem(lne));return{schoolId:t.schoolId||null,campusId:t.campusId||null}},D$e=({schoolId:t,campusId:e})=>{if(typeof window>"u"||!window.localStorage)return;const s={schoolId:tW(t),campusId:tW(e)};window.localStorage.setItem(lne,JSON.stringify(s))};let rW=!1;const R$e=()=>{if(typeof window>"u"||rW||typeof window.fetch!="function")return;const t=window.fetch.bind(window);window.fetch=(e,s={})=>{var l;const n=new Headers(s.headers||{}),a=(l=window.localStorage)==null?void 0:l.getItem("token");a&&!n.has("authorization")&&n.set("authorization",`Bearer ${a}`);const{schoolId:i,campusId:o}=cne();return i&&!n.has("x-school-id")&&n.set("x-school-id",i),o&&!n.has("x-campus-id")&&n.set("x-campus-id",o),t(e,{...s,headers:n})},rW=!0},sW=t=>{t&&D$e({schoolId:t.schoolId,campusId:t.campusId})},Su="http://localhost:5000",O$e=({setShowAdminHeader:t})=>{E.useEffect(()=>{t==null||t(!0)},[t]);const[e,s]=E.useState([]),[n,a]=E.useState([]),[i,o]=E.useState([]),[l,c]=E.useState([]),[d,u]=E.useState([]),[h,m]=E.useState(!0),[f,x]=E.useState(!1),[A,g]=E.useState(""),[b,w]=E.useState(""),[v,j]=E.useState(""),[N,S]=E.useState("all"),[T,I]=E.useState("Term 1"),[_,M]=E.useState(!1),[C,B]=E.useState(!1),[P,H]=E.useState(!1),[D,G]=E.useState({examId:"",studentId:"",marks:"",grade:"",remarks:"",status:"pass"}),[O,Q]=E.useState({title:"",subject:"",term:"Term 1",date:"",time:"",duration:"",marks:"100",instructor:"",venue:""}),[ee,q]=E.useState(null);E.useEffect(()=>{Z(),F()},[]),E.useEffect(()=>{b&&ne()},[b,v]);const Z=async()=>{m(!0);try{const xe=await fetch(`${Su}/api/exam/results/admin`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!xe.ok)throw new Error("Failed to fetch results");const He=await xe.json();s(Array.isArray(He)?He:[])}catch(xe){console.error("Error fetching results:",xe),ls.error("Failed to load results"),s([])}finally{m(!1)}},F=async()=>{try{const[xe,He]=await Promise.all([fetch(`${Su}/api/academic/classes`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}),fetch(`${Su}/api/academic/sections`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})]);if(xe.ok){const $e=await xe.json();c(Array.isArray($e)?$e:[])}if(He.ok){const $e=await He.json();u(Array.isArray($e)?$e:[])}}catch(xe){console.error("Error fetching classes/sections:",xe)}},z=async()=>{try{console.log("=== Fetching Exams ==="),console.log("Term filter:",T);const xe=await fetch(`${Su}/api/exam/fetch`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(xe.ok){const He=await xe.json(),$e=Array.isArray(He)?He:[];console.log("Total exams from API:",$e.length),a($e),console.log("Exams loaded:",$e.length)}else{const He=await xe.text();console.error("Failed to fetch exams:",xe.status,He),ls.error("Failed to fetch exams"),a([])}}catch(xe){console.error("Error fetching exams:",xe),ls.error("Error fetching exams"),a([])}},V=(xe="")=>{if(!xe)return"";const He=xe.toString().trim(),$e=He.match(/\d+/);return $e?$e[0]:He.replace(/^class\s+/i,"").trim().toLowerCase()},W=(xe="")=>xe?xe.toString().trim().toLowerCase():"",ne=async(xe=!1)=>{x(!0);try{const{schoolId:He}=cne(),$e=new URL(`${Su}/api/admin/users/get-students`);He&&$e.searchParams.set("schoolId",He),console.log("=== Fetching Students ==="),console.log("API URL:",$e.toString()),console.log("Token present:",!!localStorage.getItem("token"));const Xe=await fetch($e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!Xe.ok){const ot=await Xe.text();throw console.error("API Error Response:",ot),new Error(`Failed to fetch students: ${Xe.status} ${Xe.statusText}`)}const he=await Xe.json(),ce=Array.isArray(he)?he:[];if(console.log("Total students from API:",ce.length),ce.length===0){console.warn(" No students returned from API!"),ls.error("No students found in the system"),o([]);return}console.log("Sample students:",ce.slice(0,3).map(ot=>({_id:ot._id,name:ot.name,roll:ot.roll,grade:ot.grade})));let _e=ce;if(!xe&&b){const ot=V(b),mt=W(v);_e=ce.filter(At=>{const Tt=V(At.grade||At.class||""),rt=W(At.section||"");return Tt===ot&&(v?rt===mt:!0)}),console.log(`Filtered by class "${b}":`,_e.length)}else console.log("Showing all students (no class filter)");const Ke=new Map,et=new Set;_e.forEach(ot=>{var Tt,rt,Dt,Qt;const mt=((Tt=ot._id)==null?void 0:Tt.toString())||((rt=ot.id)==null?void 0:rt.toString()),At=`${(Dt=ot.name)==null?void 0:Dt.toLowerCase()}-${ot.roll}-${(Qt=ot.grade)==null?void 0:Qt.toLowerCase()}`;mt&&!et.has(At)&&(Ke.set(mt,ot),et.add(At))});const st=Array.from(Ke.values()).sort((ot,mt)=>(ot.name||"").localeCompare(mt.name||""));console.log("Final unique students:",st.length),console.log("Student names:",st.map(ot=>ot.name).slice(0,10)),console.log("========================="),o(st),st.length===0&&ce.length>0&&ls.warning("No students found for the selected class/section")}catch(He){console.error("Error fetching students:",He),ls.error(He.message||"Failed to fetch students"),o([])}finally{x(!1)}},ie=async()=>{if(!b){ls.error("Please select a class first");return}if((await Qr.fire({title:"Publish Results?",html:`
        <p>Are you sure you want to publish results for:</p>
        <p><strong>Class:</strong> ${b}</p>
        ${v?`<p><strong>Section:</strong> ${v}</p>`:""}
        <p class="text-sm text-gray-600 mt-2">Students and parents will be notified.</p>
      `,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Publish!",cancelButtonText:"Cancel"})).isConfirmed)try{const He=await fetch(`${Su}/api/exam/results/publish`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({grade:b,section:v||void 0})});if(!He.ok)throw new Error("Failed to publish results");const $e=await He.json();Qr.fire({title:"Published!",html:`
            <p>Results have been published successfully.</p>
            <p class="text-sm mt-2">
              <strong>Students notified:</strong> ${$e.studentsNotified||0}<br/>
              <strong>Parents notified:</strong> ${$e.parentsNotified||0}<br/>
              <strong>Teachers notified:</strong> ${$e.teachersNotified||0}
            </p>
          `,icon:"success"})}catch(He){console.error("Error publishing results:",He),Qr.fire("Error!","Failed to publish results. Please try again.","error")}},be=async(xe,He)=>{try{const $e=await fetch(`${Su}/api/exam/results/${xe}/publish`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({published:He})});if(!$e.ok)throw new Error("Failed to update publish status");const Xe=await $e.json();ls.success(Xe.message||`Result ${He?"published":"unpublished"} successfully`),Z()}catch($e){console.error("Error toggling publish status:",$e),ls.error("Failed to update publish status")}},ue=async xe=>{xe.preventDefault();try{console.log("Submitting result:",D);const He=await fetch(`${Su}/api/exam/results`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(D)}),$e=await He.json();if(console.log("Server response:",$e),!He.ok)throw new Error($e.error||"Failed to add result");ls.success("Result added successfully"),M(!1),G({examId:"",studentId:"",marks:"",grade:"",remarks:"",status:"pass"}),Z()}catch(He){console.error("Error adding result:",He),ls.error(He.message||"Failed to add result")}},je=async xe=>{xe.preventDefault();try{const He=await fetch(`${Su}/api/exam/add`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(O)});if(!He.ok)throw new Error("Failed to add exam");const $e=await He.json();ls.success("Exam created successfully"),B(!1),Q({title:"",subject:"",term:"Term 1",date:"",time:"",duration:"",marks:"100",instructor:"",venue:""}),z()}catch(He){console.error("Error adding exam:",He),ls.error("Failed to create exam")}},Be=async xe=>{if(xe.preventDefault(),!ee){ls.error("Please select a CSV file");return}const He=new FormData;He.append("file",ee);try{const $e=await fetch(`${Su}/api/exam/results/bulk-upload`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:He});if(!$e.ok)throw new Error("Failed to upload results");const Xe=await $e.json();Qr.fire({title:"Upload Complete!",html:`
          <p><strong>Successfully uploaded:</strong> ${Xe.count||0} results</p>
          ${Xe.errors&&Xe.errors.length>0?`
            <p class="text-sm text-red-600 mt-2"><strong>Errors:</strong></p>
            <div class="text-xs text-left max-h-40 overflow-y-auto">
              ${Xe.errors.slice(0,5).map(he=>`<p> ${he}</p>`).join("")}
              ${Xe.errors.length>5?`<p>... and ${Xe.errors.length-5} more</p>`:""}
            </div>
          `:""}
        `,icon:Xe.errors&&Xe.errors.length>0?"warning":"success"}),H(!1),q(null),Z()}catch($e){console.error("Error uploading CSV:",$e),ls.error("Failed to upload CSV")}},oe=()=>{const xe=`examId,studentId,marks,grade,remarks,status
65a1b2c3d4e5f6789012345,65b2c3d4e5f67890123456,85,A,Excellent,pass`,He=new Blob([xe],{type:"text/csv"}),$e=window.URL.createObjectURL(He),Xe=document.createElement("a");Xe.href=$e,Xe.download="results_template.csv",Xe.click(),window.URL.revokeObjectURL($e)},lt=[...new Set(e.map(xe=>{var He;return(He=xe.examId)==null?void 0:He.subject}).filter(Boolean))],se=e.filter(xe=>{var st,ot,mt,At,Tt,rt,Dt;const He=((ot=(st=xe.studentId)==null?void 0:st.name)==null?void 0:ot.toLowerCase())||"",$e=((At=(mt=xe.examId)==null?void 0:mt.subject)==null?void 0:At.toLowerCase())||"",Xe=((Tt=xe.studentId)==null?void 0:Tt.grade)||"",he=((rt=xe.studentId)==null?void 0:rt.section)||"",ce=He.includes(A.toLowerCase())||$e.includes(A.toLowerCase()),_e=b?Xe===b:!0,Ke=v?he===v:!0,et=N==="all"||((Dt=xe.examId)==null?void 0:Dt.subject)===N;return ce&&_e&&Ke&&et}),J=()=>{if(se.length===0){ls.error("No results to export");return}const xe=["Student Name","Roll","Class","Section","Exam","Subject","Marks","Grade","Status"],He=se.map(_e=>{var Ke,et,st,ot,mt,At;return[((Ke=_e.studentId)==null?void 0:Ke.name)||"N/A",((et=_e.studentId)==null?void 0:et.roll)||"N/A",((st=_e.studentId)==null?void 0:st.grade)||"N/A",((ot=_e.studentId)==null?void 0:ot.section)||"N/A",((mt=_e.examId)==null?void 0:mt.title)||"N/A",((At=_e.examId)==null?void 0:At.subject)||"N/A",_e.marks||0,_e.grade||"N/A",_e.status||"N/A"]}),$e=[xe.join(","),...He.map(_e=>_e.map(Ke=>`"${Ke}"`).join(","))].join(`
`),Xe=new Blob([$e],{type:"text/csv"}),he=window.URL.createObjectURL(Xe),ce=document.createElement("a");ce.href=he,ce.download=`results_${new Date().toISOString().split("T")[0]}.csv`,ce.click(),window.URL.revokeObjectURL(he),ls.success("Results exported successfully")},Pe=xe=>{switch(xe==null?void 0:xe.toLowerCase()){case"pass":return"bg-green-100 text-green-800";case"fail":return"bg-red-100 text-red-800";case"absent":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Result Management"}),r.jsx("p",{className:"text-gray-600",children:"Manage and publish student examination results"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class"}),r.jsxs("select",{value:b,onChange:xe=>w(xe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Classes"}),l.map(xe=>r.jsx("option",{value:xe.name,children:xe.name},xe._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Section (Optional)"}),r.jsxs("select",{value:v,onChange:xe=>j(xe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Sections"}),d.map(xe=>r.jsx("option",{value:xe.name,children:xe.name},xe._id))]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("button",{onClick:async()=>{try{console.log("Opening Add Result modal..."),await Promise.all([z(),ne(!0)]),M(!0)}catch(xe){console.error("Error loading modal data:",xe),ls.error("Failed to load data for modal")}},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(vs,{className:"w-4 h-4"}),"Add Single Result"]}),r.jsxs("button",{onClick:()=>H(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(ax,{className:"w-4 h-4"}),"Bulk Upload (CSV)"]}),r.jsxs("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[r.jsx(vs,{className:"w-4 h-4"}),"Create Exam"]}),r.jsxs("button",{onClick:ie,disabled:!b,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${b?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[r.jsx(hc,{className:"w-4 h-4"}),"Publish Results"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by student or subject...",value:A,onChange:xe=>g(xe.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Po,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsxs("select",{value:N,onChange:xe=>S(xe.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[r.jsx("option",{value:"all",children:"All Subjects"}),lt.map(xe=>r.jsx("option",{value:xe,children:xe},xe))]})]})]}),r.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),"Export CSV"]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Results"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:se.length})]}),r.jsx(K8,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:se.filter(xe=>{var He;return((He=xe.status)==null?void 0:He.toLowerCase())==="pass"}).length})]})})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Fail"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:se.filter(xe=>{var He;return((He=xe.status)==null?void 0:He.toLowerCase())==="fail"}).length})]})})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Absent"}),r.jsx("p",{className:"text-2xl font-bold text-gray-600",children:se.filter(xe=>{var He;return((He=xe.status)==null?void 0:He.toLowerCase())==="absent"}).length})]})})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:h?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):se.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(K8,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filters"})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exam Details"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marks"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Published"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:se.map((xe,He)=>{var $e,Xe,he,ce,_e,Ke,et;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:(($e=xe.studentId)==null?void 0:$e.name)||"N/A"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Roll: ",((Xe=xe.studentId)==null?void 0:Xe.roll)||"N/A"," | Class: ",((he=xe.studentId)==null?void 0:he.grade)||"N/A"," ",((ce=xe.studentId)==null?void 0:ce.section)||""]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:((_e=xe.examId)==null?void 0:_e.title)||"N/A"}),r.jsx("div",{className:"text-sm text-gray-500",children:((Ke=xe.examId)==null?void 0:Ke.subject)||"N/A"}),r.jsx("div",{className:"text-sm text-gray-400",children:(et=xe.examId)!=null&&et.date?new Date(xe.examId.date).toLocaleDateString():"N/A"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-bold text-gray-900",children:xe.marks||0})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:xe.grade||"N/A"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Pe(xe.status)}`,children:xe.status||"N/A"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${xe.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:xe.published?" Published":" Draft"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("button",{onClick:()=>be(xe._id,!xe.published),className:`px-3 py-1 text-xs font-medium rounded-lg transition-colors ${xe.published?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:xe.published?"Unpublish":"Publish"})})]},xe._id||He)})})]})})}),_&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Result"}),r.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx(ks,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Exam *"}),r.jsxs("select",{value:D.examId,onChange:xe=>G({...D,examId:xe.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Choose an exam"}),n.map(xe=>r.jsxs("option",{value:xe._id,children:[xe.title," - ",xe.subject," (",xe.term,")"]},xe._id))]}),n.length===0&&r.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["No exams found for ",T,". ",r.jsx("button",{type:"button",onClick:()=>B(!0),className:"underline",children:"Create a new exam"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Student *"}),r.jsxs("select",{value:D.studentId,onChange:xe=>G({...D,studentId:xe.target.value}),required:!0,disabled:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[r.jsx("option",{value:"",children:f?"Loading students...":i.length===0?"No students found":"Choose a student"}),i.map(xe=>r.jsxs("option",{value:xe._id,children:[xe.name," - Roll: ",xe.roll||"N/A"," (",xe.grade||"No Grade"," ",xe.section||"",")"]},xe._id))]}),!f&&i.length===0&&r.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No students available. Please add students first."}),!f&&i.length>0&&r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[i.length," student",i.length!==1?"s":""," available"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marks *"}),r.jsx("input",{type:"number",value:D.marks,onChange:xe=>G({...D,marks:xe.target.value}),required:!0,min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade"}),r.jsx("input",{type:"text",value:D.grade,onChange:xe=>G({...D,grade:xe.target.value}),placeholder:"A, B, C...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),r.jsxs("select",{value:D.status,onChange:xe=>G({...D,status:xe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"pass",children:"Pass"}),r.jsx("option",{value:"fail",children:"Fail"}),r.jsx("option",{value:"absent",children:"Absent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),r.jsx("textarea",{value:D.remarks,onChange:xe=>G({...D,remarks:xe.target.value}),rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Result"})]})]})]})}),C&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create Exam"}),r.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx(ks,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:je,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Title *"}),r.jsx("input",{type:"text",value:O.title,onChange:xe=>Q({...O,title:xe.target.value}),required:!0,placeholder:"Mid Term Examination",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),r.jsx("input",{type:"text",value:O.subject,onChange:xe=>Q({...O,subject:xe.target.value}),required:!0,placeholder:"Mathematics",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Term *"}),r.jsxs("select",{value:O.term,onChange:xe=>Q({...O,term:xe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Term 1",children:"Term 1"}),r.jsx("option",{value:"Term 2",children:"Term 2"}),r.jsx("option",{value:"Term 3",children:"Term 3"}),r.jsx("option",{value:"Final",children:"Final"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),r.jsx("input",{type:"date",value:O.date,onChange:xe=>Q({...O,date:xe.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),r.jsx("input",{type:"time",value:O.time,onChange:xe=>Q({...O,time:xe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (min)"}),r.jsx("input",{type:"number",value:O.duration,onChange:xe=>Q({...O,duration:xe.target.value}),placeholder:"120",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Marks"}),r.jsx("input",{type:"number",value:O.marks,onChange:xe=>Q({...O,marks:xe.target.value}),min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instructor"}),r.jsx("input",{type:"text",value:O.instructor,onChange:xe=>Q({...O,instructor:xe.target.value}),placeholder:"Prof. Name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue"}),r.jsx("input",{type:"text",value:O.venue,onChange:xe=>Q({...O,venue:xe.target.value}),placeholder:"Hall A",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Create Exam"})]})]})]})}),P&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Bulk Upload Results (CSV)"}),r.jsx("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx(ks,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File *"}),r.jsx("input",{type:"file",accept:".csv",onChange:xe=>q(xe.target.files[0]),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"CSV must contain: examId, studentId, marks, grade, remarks, status"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-blue-800 mb-2",children:r.jsx("strong",{children:"Need a template?"})}),r.jsx("button",{type:"button",onClick:oe,className:"text-sm text-blue-600 underline hover:text-blue-800",children:"Download CSV Template"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>H(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Upload"})]})]})]})})]})})},sT="http://localhost:5000",yj=[{value:"ADV_CERT",label:"Advance Certificate (1 / 2 Years)"},{value:"B_VOC",label:"B.Voc (3 Years)"},{value:"M_VOC",label:"M.Voc (2 Years)"},{value:"B_DES",label:"B.Des (4 Years)"}],mp=["Fashion Design","Interior Design"],Qc={value:"ALL",label:"All Programs"},Cm="ALL",pp="ALL",nW=t=>{switch(t){case"ADV_CERT":return[1,2];case"B_VOC":return[1,2,3];case"M_VOC":return[1,2];case"B_DES":return[1,2,3,4];default:return[]}},U$e=({setShowAdminHeader:t})=>{const e=qn(),[s,n]=E.useState(yj),[a,i]=E.useState({}),[o,l]=E.useState(mp),[c,d]=E.useState(Qc.value),[u,h]=E.useState(Cm),[m,f]=E.useState(pp),[x,A]=E.useState("active"),[g,b]=E.useState([]),[w,v]=E.useState(!1),[j,N]=E.useState(""),[S,T]=E.useState("");E.useEffect(()=>{t==null||t(!1)},[t]);const I=E.useMemo(()=>c===Qc.value?[]:nW(c),[c]);E.useEffect(()=>{(async()=>{var Q;try{const ee=await fetch(`${sT}/api/nif/course/fetch`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ee.ok)return;const q=await ee.json();if(!Array.isArray(q)||!q.length)return;const Z={};q.forEach(V=>{var ne;const W=V.programType||"ADV_CERT";Z[W]||(Z[W]={label:V.programLabel||((ne=yj.find(ie=>ie.value===W))==null?void 0:ne.label)||W,streams:new Set}),V.department&&Z[W].streams.add(V.department)});const F=Object.entries(Z).map(([V,W])=>({value:V,label:W.label}));if(F.length){const V=yj.map(ne=>F.find(be=>be.value===ne.value)||ne),W=F.filter(ne=>!yj.some(ie=>ie.value===ne.value));n([...V,...W])}const z=Object.fromEntries(Object.entries(Z).map(([V,W])=>[V,Array.from(W.streams)]));i(z),c!==Qc.value&&!((Q=z[c])!=null&&Q.length)&&(d(Qc.value),f(pp))}catch(ee){console.error("Failed to load course filters",ee)}})()},[c]),E.useEffect(()=>{if(c===Qc.value){l(mp),u!==Cm&&!mp.includes(u)&&h(mp[0]||Cm);return}const O=a[c];O!=null&&O.length?(l(O),u!==Cm&&!O.includes(u)&&h(O[0])):(l(mp),u!==Cm&&!mp.includes(u)&&h(mp[0]))},[c,a,u]);const _=async()=>{v(!0),N("");try{const O=new URLSearchParams;c!==Qc.value&&O.append("programType",c),u!==Cm&&O.append("course",u),c!==Qc.value&&m!==pp&&O.append("year",String(m)),x==="archived"?O.append("archived","true"):x==="all"?O.append("archived","all"):O.append("archived","false");const Q=O.toString().length>0?`${sT}/api/nif/fees?${O.toString()}`:`${sT}/api/nif/fees`,ee=await fetch(Q,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),q=await ee.json();if(!ee.ok)throw new Error(q.message||"Failed to fetch fee records");b(Array.isArray(q)?q:[])}catch(O){N(O.message)}finally{v(!1)}};E.useEffect(()=>{_()},[c,u,m,x]);const M=E.useMemo(()=>{if(!S)return g;const O=S.toLowerCase();return g.filter(Q=>{var ee,q;return((ee=Q.name)==null?void 0:ee.toLowerCase().includes(O))||((q=Q.roll)==null?void 0:q.toLowerCase().includes(O))})},[g,S]),C=E.useMemo(()=>{if(!g.length)return{totalStudents:0,totalDue:0,totalCollected:0,totalPending:0};const O=g.length,Q=g.reduce((Z,F)=>Z+Number(F.totalFee||0),0),ee=g.reduce((Z,F)=>Z+Number(F.paidAmount||0),0),q=g.reduce((Z,F)=>Z+Number(F.dueAmount||0),0);return{totalStudents:O,totalDue:Q,totalCollected:ee,totalPending:q}},[g]),B=O=>{O!=null&&O.feeRecordId&&e(`/admin/fees/student-details?record=${O.feeRecordId}`,{state:{feeRecordId:O.feeRecordId}})},P=()=>{var Z;if(!g.length)return;const O=new Sr,Q=O.internal.pageSize.width,ee=new Date().toLocaleDateString();let q=20;O.setFontSize(18),O.text("NIF Fees Collection Report",Q/2,q,{align:"center"}),q+=10,O.setFontSize(11),O.text(`Program: ${c===Qc.value?"All":((Z=s.find(F=>F.value===c))==null?void 0:Z.label)||c} | Stream: ${u===Cm?"All":u} | Year: ${m===pp?"All":m}`,Q/2,q,{align:"center"}),q+=6,O.text(`Generated on: ${ee}`,Q/2,q,{align:"center"}),q+=10,O.setFontSize(10),O.text(`Total Students: ${C.totalStudents}`,20,q),q+=5,O.text(`Total Fees: ${C.totalDue.toLocaleString()}`,20,q),q+=5,O.text(`Collected: ${C.totalCollected.toLocaleString()}`,20,q),q+=5,O.text(`Pending: ${C.totalPending.toLocaleString()}`,20,q),q+=10,O.setFontSize(9),O.text("Name",10,q),O.text("Roll",50,q),O.text("Total",90,q),O.text("Paid",120,q),O.text("Due",150,q),O.text("Status",175,q),q+=4,O.line(10,q,Q-10,q),q+=6,M.forEach(F=>{q>270&&(O.addPage(),q=20),O.text(F.name||"-",10,q),O.text(F.roll||"-",50,q),O.text(`${Number(F.totalFee||0).toLocaleString()}`,90,q),O.text(`${Number(F.paidAmount||0).toLocaleString()}`,120,q),O.text(`${Number(F.dueAmount||0).toLocaleString()}`,150,q),O.text(F.status||"-",175,q),q+=6}),O.save(`nif-fees-${c}-${u}-year${m}-${ee.replace(/\//g,"-")}.pdf`)},H=[{label:"Total Students",value:C.totalStudents,icon:Ar},{label:"Total Fees",value:`${C.totalDue.toLocaleString()}`,icon:_o},{label:"Collected",value:`${C.totalCollected.toLocaleString()}`,icon:Qp},{label:"Pending",value:`${C.totalPending.toLocaleString()}`,icon:br}],D=O=>{switch(O){case"paid":return"bg-green-100 text-green-700";case"partial":return"bg-yellow-100 text-yellow-700";case"discounted":return"bg-amber-100 text-amber-700";case"due":default:return"bg-red-100 text-red-700"}},G=(O="")=>{var Q;return O==="discounted"?"DISCOUNT":((Q=O==null?void 0:O.toUpperCase)==null?void 0:Q.call(O))||""};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"NIF Fees Collection"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Type"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:c,onChange:O=>{const Q=O.target.value;if(d(Q),Q===Qc.value)f(pp);else{const ee=nW(Q);ee.includes(Number(m))||f(ee[0]||1)}},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:Qc.value,children:Qc.label}),s.map(O=>r.jsx("option",{value:O.value,children:O.label},O.value))]}),r.jsx(ln,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stream"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:u,onChange:O=>h(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:Cm,children:"All Streams"}),o.map(O=>r.jsx("option",{value:O,children:O},O))]}),r.jsx(ln,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),r.jsxs("div",{className:"relative",children:[c===Qc.value?r.jsx("select",{value:pp,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500",children:r.jsx("option",{value:pp,children:"All Years"})}):r.jsx("select",{value:m,onChange:O=>f(Number(O.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:I.map(O=>r.jsxs("option",{value:O,children:["Year ",O]},O))}),r.jsx(ln,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Records"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:x,onChange:O=>A(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"archived",children:"Archived"}),r.jsx("option",{value:"all",children:"All"})]}),r.jsx(ln,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:H.map(O=>r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:O.label}),r.jsx("p",{className:"text-xl font-semibold text-gray-900 mt-1",children:O.value})]}),r.jsx(O.icon,{className:"w-8 h-8 text-yellow-500"})]},O.label))}),j&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:j}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsx("div",{className:"flex-1 w-full",children:r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{value:S,onChange:O=>T(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Search by student name or roll"})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Records"}),r.jsxs("select",{value:x,onChange:O=>A(O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"archived",children:"Archived"}),r.jsx("option",{value:"all",children:"All"})]})]}),r.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white border border-black rounded-lg text-sm hover:bg-gray-800",children:[r.jsx(bs,{size:16}),"Export Report"]}),r.jsxs("button",{onClick:_,disabled:w,className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white border border-black rounded-lg text-sm hover:bg-gray-800 disabled:opacity-50",children:[w&&r.jsx(Vn,{className:"w-4 h-4 animate-spin"}),"Refresh"]})]})}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left",children:"Student"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Roll"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Program"}),r.jsx("th",{className:"px-4 py-3 text-left",children:"Stream"}),r.jsx("th",{className:"px-4 py-3 text-right",children:"Total Fee"}),r.jsx("th",{className:"px-4 py-3 text-right",children:"Paid"}),r.jsx("th",{className:"px-4 py-3 text-right",children:"Outstanding"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),r.jsxs("tbody",{children:[w&&r.jsx("tr",{children:r.jsxs("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:[r.jsx(Vn,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading fee records..."]})}),!w&&!M.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-400",children:"No fee records found for the selected filters."})}),!w&&M.map(O=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:O.name}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.roll}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.program}),r.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.course}),r.jsxs("td",{className:"px-4 py-3 text-right text-gray-900",children:["",Number(O.totalFee||0).toLocaleString()]}),r.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["",Number(O.paidAmount||0).toLocaleString()]}),r.jsxs("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:["",Number(O.dueAmount||0).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${D(O.status)}`,children:G(O.status)})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsxs("button",{onClick:()=>B(O),className:"inline-flex items-center gap-1 px-3 py-1 text-xs font-medium rounded border border-purple-300 hover:bg-green-50 text-black",children:[r.jsx(Es,{size:12}),"Fee Breakup"]})})]},O.feeRecordId))]})]})})})]})},H$e="http://localhost:5000",Q$e=({setShowAdminHeader:t})=>{E.useEffect(()=>{t(!1)},[t]);const[e,s]=E.useState(""),[n,a]=E.useState("Last 30 Days"),[i,o]=E.useState(null),[l,c]=E.useState(!0),[d,u]=E.useState("");E.useEffect(()=>{const N=new AbortController;return(async()=>{u(""),c(!0);try{const T=await fetch(`${H$e}/api/nif/fees/dashboard-summary`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},signal:N.signal}),I=await T.json().catch(()=>({}));if(!T.ok)throw new Error(I.message||"Failed to load fees dashboard data");o(I)}catch(T){if(N.signal.aborted)return;console.error(T),u(T.message||"Failed to load dashboard data")}finally{N.signal.aborted||c(!1)}})(),()=>N.abort()},[]);const h=(i==null?void 0:i.totals)||{totalOutstanding:0,overduePayments:0,totalEnrolled:0},m=(i==null?void 0:i.enrollment)||[],f=(i==null?void 0:i.outstandingSegments)||[],x=(i==null?void 0:i.recentPayments)||[],A=E.useMemo(()=>x.filter(N=>N.studentName.toLowerCase().includes(e.toLowerCase())||N.program.toLowerCase().includes(e.toLowerCase())),[x,e]),g=(N=0)=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(N),b=N=>N==="Paid"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",w=E.useMemo(()=>{const N=new Date,S=[];for(let I=6;I>=0;I-=1){const _=new Date(N);_.setDate(N.getDate()-I);const M=_.toISOString().split("T")[0];S.push({key:M,label:_.toLocaleDateString("en-IN",{day:"numeric",month:"short"}),value:0})}const T=S.reduce((I,_)=>(I.set(_.key,_),I),new Map);return x.forEach(I=>{if(!I.paidOn)return;const _=new Date(I.paidOn).toISOString().split("T")[0];T.has(_)&&(T.get(_).value+=Number(I.amount||0))}),S},[x]),v=Math.max(...w.map(N=>N.value),1),j=()=>{alert("Generating comprehensive fees report...")};return l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-600",children:[r.jsx("div",{className:"animate-spin h-10 w-10 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),"Loading the latest fee analytics..."]})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"p-8",children:[d&&r.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 text-red-700 px-4 py-3 text-sm",children:d}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Outstanding"}),r.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-full",children:r.jsx(fr,{className:"w-5 h-5 text-amber-600"})})]}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:g(h.totalOutstanding)}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Live balance pending across all records"})]}),r.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Overdue Payments"}),r.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-red-100 rounded-full",children:r.jsx(br,{className:"w-5 h-5 text-red-600"})})]}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[h.overduePayments," Students"]}),r.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center",children:[r.jsx(wg,{className:"w-3 h-3 mr-1"}),"Require immediate follow-up"]})]}),r.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Enrolled"}),r.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-100 rounded-full",children:r.jsx(Wu,{className:"w-5 h-5 text-blue-600"})})]}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[h.totalEnrolled.toLocaleString()," Students"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students linked to fee records"})]})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Collection Trend"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Daily collections over the last 7 days."})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[r.jsx(ir,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:n})]})]}),r.jsx("div",{className:"flex gap-3 items-end h-48",children:w.map(N=>r.jsxs("div",{className:"flex flex-col items-center w-full",children:[r.jsx("div",{className:"w-full flex-1 flex items-end",children:r.jsx("div",{className:"w-full rounded-t-lg bg-gradient-to-t from-blue-500 to-emerald-400 shadow",style:{height:`${N.value/v*100}%`}})}),r.jsxs("div",{className:"mt-2 text-center",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700",children:g(N.value)}),r.jsx("p",{className:"text-xs text-gray-500",children:N.label})]})]},N.key))})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Payments"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Payments logged directly from fee records."})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fs,{className:"w-4 h-4 text-gray-500"}),r.jsx("input",{type:"text",value:e,onChange:N=>s(N.target.value),placeholder:"Search students...",className:"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),r.jsxs("select",{value:n,onChange:N=>a(N.target.value),className:"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[r.jsx("option",{children:"Last 30 Days"}),r.jsx("option",{children:"Last 7 Days"}),r.jsx("option",{children:"All Time"})]}),r.jsxs("button",{onClick:j,className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(bs,{size:16}),"Report"]})]})]}),r.jsx("div",{className:"space-y-4",children:A.length?A.map((N,S)=>r.jsxs("div",{className:"bg-gray-50 rounded-2xl border border-gray-200 p-4 flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:N.studentName}),r.jsx("p",{className:"text-sm text-gray-500",children:N.program})]}),r.jsxs("div",{className:"text-right space-y-1",children:[r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g(N.amount)}),r.jsx("p",{className:"text-sm text-gray-500",children:N.paidOn?new Date(N.paidOn).toLocaleDateString():""}),r.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm ${b(N.status)}`,children:N.status||"Paid"})]})]},`${N.studentName}-${S}`)):r.jsx("p",{className:"text-sm text-gray-500 text-center py-6",children:"No recent payments match your search."})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Enrollment by Program"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Distribution of students with fee records."})]}),r.jsx(Ar,{className:"w-6 h-6 text-blue-600"})]}),m.length?r.jsx("div",{className:"grid gap-4",children:m.map((N,S)=>r.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:N.program}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:N.students})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Share"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[N.percentage,"%"]})]})]},N.program))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No enrollment data available."})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Outstanding Overview"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Top programs and batches with outstanding dues."})]}),r.jsx(Fr,{className:"w-6 h-6 text-green-600"})]}),f.length?r.jsx("div",{className:"space-y-4",children:f.map(N=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:N.label}),r.jsxs("span",{className:"text-sm text-gray-500",children:[N.percentage,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-amber-500 h-2 rounded-full",style:{width:`${N.percentage}%`}})})]},N.label))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No outstanding data to display."})]})]})]})]})})},nT="http://localhost:5000",$$e=({setShowAdminHeader:t})=>{var q;E.useEffect(()=>{t(!1)},[t]);const e=Ol(),[s]=hle(),n=qn(),a=((q=e.state)==null?void 0:q.feeRecordId)||s.get("record")||"",[i,o]=E.useState(null),[l,c]=E.useState(!0),[d,u]=E.useState(""),h=E.useCallback(async({silent:Z}={})=>{if(!a){u("No fee record selected. Please return to Fees Collection."),Z||c(!1);return}Z||c(!0);try{u("");const F=await fetch(`${nT}/api/nif/fees/details/${a}`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),z=await F.json();if(!F.ok)throw new Error(z.message||"Unable to load fee details");o(z)}catch(F){u(F.message||"Failed to load fee details")}finally{Z||c(!1)}},[a]);E.useEffect(()=>{h()},[h]);const m=i==null?void 0:i.student,f=(i==null?void 0:i.payments)||[],[x,A]=E.useState([]),[g,b]=E.useState(""),[w,v]=E.useState(""),[j,N]=E.useState(!1);E.useEffect(()=>{if(!i){b(""),v("");return}b(i.discountAmount!=null?String(i.discountAmount):""),v(i.discountNote||"")},[i]);const S=E.useCallback((Z=[],F=0)=>{if(!F)return Z;let z=Number(F);if(!Number.isFinite(z)||z<=0)return Z;const V=Z.map(W=>({...W,discountImpact:0}));for(let W=V.length-1;W>=0&&z>0;W-=1){const ne=V[W],ie=ne.outstanding!=null?Math.max(0,Number(ne.outstanding)):Math.max(0,Number(ne.amount||0)-Number(ne.paid||0));if(!ie)continue;const be=Math.min(z,ie);ne.outstanding=ie-be,ne.discountImpact=be,z-=be,ne.outstanding===0&&(ne.status="discounted")}return V},[]);E.useEffect(()=>{if(!i)return;const z=((i.installments&&i.installments.length?i.installments:i.installmentsSnapshot&&i.installmentsSnapshot.length?i.installmentsSnapshot:null)||[{label:"Program Fee",amount:i.totalFee,dueMonth:i.academicYear||""}]).map((be,ue)=>{const je=Number(be.amount||0),Be=Number(be.paid||0),oe=be.outstanding!=null?Number(be.outstanding):Math.max(0,je-Be),lt=Number(be.discountImpact||0),se=be.status||(Be>=je?"paid":Be>0?"partial":"due");return{label:be.label||`Installment ${ue+1}`,dueMonth:be.dueMonth||"Scheduled",amount:je,paid:Be,outstanding:oe,status:se,discountImpact:lt}}),V=Number(i.discountAmount||0),W=z.some(be=>be.discountImpact>0||be.status==="discounted"),ie=V>0&&!W?S(z,V):z;A(ie)},[S,i]);const T=E.useMemo(()=>{if(!i)return{totalFee:0,totalPaid:0,discountAmount:0,netTotal:0,outstanding:0,progress:0};const Z=Number(i.totalFee||0),F=Number(i.paidAmount||0),z=Number(i.discountAmount||0),V=Math.max(0,Z-z),W=Math.max(0,V-F),ne=V?Math.round(F/V*100):0;return{totalFee:Z,totalPaid:F,discountAmount:z,netTotal:V,outstanding:W,progress:ne}},[i]),I=(Z=0)=>`${Number(Z||0).toLocaleString()}`,_=Z=>({paid:"bg-green-100 text-green-800",partial:"bg-yellow-100 text-yellow-800",due:"bg-red-100 text-red-800",discounted:"bg-yellow-100 text-yellow-800"})[Z]||"bg-gray-100 text-gray-800",M=(Z="")=>{var F;return Z==="discounted"?"DISCOUNT":((F=Z==null?void 0:Z.toUpperCase)==null?void 0:F.call(Z))||""},C=E.useMemo(()=>x.filter(Z=>Number(Z.outstanding??Z.amount??0)>0),[x]),B=E.useMemo(()=>C[0]||null,[C]),P=E.useMemo(()=>C.slice(0,3),[C]),H=E.useMemo(()=>f.length?[...f].sort((Z,F)=>new Date(F.paidOn||0)-new Date(Z.paidOn||0))[0]:null,[f]),D=(m==null?void 0:m.guardianPhone)||(m==null?void 0:m.mobile)||"Not provided",G=(m==null?void 0:m.guardianEmail)||(m==null?void 0:m.email)||"Not provided",O=async Z=>{if(a)try{const F=await fetch(`${nT}/api/nif/fees/installments/pay/${a}`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({installmentIndex:Z,method:"cash"})}),z=await F.json();if(!F.ok)throw new Error(z.message||"Failed to mark installment as paid");await h({silent:!0})}catch(F){alert(F.message||"Could not mark as paid")}finally{}},Q=async()=>{if(!a)return;const Z=Number(g||0);if(!Number.isFinite(Z)||Z<0){alert("Enter a valid discount amount");return}if(i&&Z>Number(i.totalFee||0)){alert("Discount cannot exceed the total fee amount");return}N(!0);try{const F=await fetch(`${nT}/api/nif/fees/discount/${a}`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({amount:Z,note:w})}),z=await F.json();if(!F.ok)throw new Error(z.message||"Failed to update discount");await h({silent:!0})}catch(F){alert(F.message||"Could not update discount")}finally{N(!1)}},ee=()=>{alert("Implement statement export.")};return l?r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-600",children:[r.jsx("div",{className:"animate-spin h-10 w-10 border-2 border-yellow-600 border-t-transparent rounded-full mx-auto mb-4"}),"Loading student fee details..."]})}):d?r.jsx("div",{className:"min-h-[70vh] flex items-center justify-center px-4",children:r.jsx("div",{className:"relative max-w-xl w-full rounded-3xl border border-red-100 shadow-2xl overflow-hidden error-state-card",children:r.jsxs("div",{className:"relative z-10 p-8 flex flex-col items-center text-center gap-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-red-50 border border-red-100 flex items-center justify-center text-red-500",children:r.jsx(br,{size:28})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Somethings missing"}),r.jsx("p",{className:"text-gray-600",children:d||"No fee record selected. Please return to Fees Collection."})]}),r.jsxs("button",{onClick:()=>n("/admin/fees"),className:"inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-gradient-to-r from-yellow-500 to-amber-500 text-white font-semibold shadow hover:shadow-lg transition-all",children:[r.jsx(Rl,{size:16}),"Back to Fees Collection"]})]})})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"rounded-3xl border border-gray-200 bg-white shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"relative isolate px-6 py-8 sm:px-8 animated-fee-gradient text-white",children:[r.jsx("div",{className:"absolute inset-y-0 right-0 w-64 blur-3xl bg-white/30 opacity-40 pointer-events-none"}),r.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between relative z-10",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{onClick:()=>n(-1),className:"inline-flex items-center gap-2 text-sm text-white/80 hover:text-white transition-colors",children:[r.jsx(Rl,{size:16}),"Back to Fees"]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("h1",{className:"text-3xl font-bold",children:(m==null?void 0:m.name)||"Unnamed Student"}),r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-white/25 text-white",children:M(i==null?void 0:i.status)||"STATUS"})]}),r.jsxs("p",{className:"text-white/80",children:["Roll: ",(m==null?void 0:m.roll)||"","  Program:"," ",(m==null?void 0:m.grade)||(i==null?void 0:i.programLabel)||""]}),r.jsxs("p",{className:"text-white/80",children:["Academic Year: ",(i==null?void 0:i.academicYear)||(m==null?void 0:m.academicYear)||""]}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-white/80",children:[r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(us,{size:16}),(m==null?void 0:m.guardianName)||"Guardian not added"]}),r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(oa,{size:16}),D]}),r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(xa,{size:16}),G]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[r.jsxs("div",{className:"rounded-2xl bg-white/15 border border-white/30 p-4 shadow-lg backdrop-blur",children:[r.jsx("p",{className:"text-sm text-white/80",children:"Outstanding balance"}),r.jsx("p",{className:"text-3xl font-bold",children:I(T.outstanding)}),r.jsxs("p",{className:"text-xs text-white/70",children:["Net payable: ",I(T.netTotal)]})]}),r.jsxs("div",{className:"rounded-2xl bg-white/10 border border-white/20 p-4",children:[r.jsx("p",{className:"text-sm text-white/80",children:"Next installment"}),r.jsx("p",{className:"text-2xl font-semibold",children:B?I(B.outstanding??B.amount):"All clear"}),r.jsxs("p",{className:"text-xs text-white/80 flex items-center gap-2 mt-1",children:[r.jsx(ir,{size:14}),(B==null?void 0:B.dueMonth)||"To be scheduled"]})]}),r.jsxs("button",{onClick:ee,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white text-amber-600 rounded-2xl font-semibold shadow hover:bg-amber-50 transition-colors",children:[r.jsx(bs,{size:16}),"Generate Statement"]})]})]}),r.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3 text-sm text-white/80 relative z-10",children:[r.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[r.jsx(ir,{size:18}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Course Duration"}),r.jsx("p",{className:"font-semibold",children:(m==null?void 0:m.duration)||(i==null?void 0:i.programLabel)||"Not specified"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[r.jsx(fr,{size:18}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Last Payment"}),r.jsx("p",{className:"font-semibold",children:H!=null&&H.paidOn?new Date(H.paidOn).toLocaleDateString():"No payments yet"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[r.jsx(jg,{size:18}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Payments Logged"}),r.jsxs("p",{className:"font-semibold",children:[f.length||0," entries"]})]})]})]})]}),r.jsxs("div",{className:"p-6 space-y-6 bg-white",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsx("span",{children:"Total Fee"}),r.jsx(aB,{size:18,className:"text-yellow-600"})]}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I(T.totalFee)})]}),r.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsx("span",{children:"Discount Applied"}),r.jsx(mue,{size:18,className:"text-amber-600"})]}),r.jsx("p",{className:"text-2xl font-bold text-amber-600",children:I(T.discountAmount)})]}),r.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsx("span",{children:"Total Paid"}),r.jsx(jg,{size:18,className:"text-emerald-600"})]}),r.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:I(T.totalPaid)})]}),r.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[r.jsx("span",{children:"Outstanding"}),r.jsx(br,{size:18,className:"text-red-500"})]}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:I(T.outstanding)})]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"rounded-2xl border border-gray-200 p-5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Payment Progress"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[T.progress,"%"]})]}),r.jsxs("div",{className:"text-right text-sm text-gray-500",children:[r.jsx("p",{children:"Last payment"}),r.jsx("p",{className:"text-base font-semibold text-gray-900",children:H?I(H.amount):""}),r.jsx("p",{className:"text-xs",children:H!=null&&H.paidOn?new Date(H.paidOn).toLocaleString():"No payments yet"})]})]}),r.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"h-2.5 rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600 transition-all duration-300",style:{width:`${T.progress}%`}})}),r.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[I(T.totalPaid)," of"," ",I(T.netTotal)," paid"]})]}),r.jsxs("div",{className:"rounded-2xl border border-gray-200 p-5",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Upcoming installments"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Next dues at a glance"})]}),r.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-50 text-yellow-700",children:[C.length," pending"]})]}),P.length?r.jsxs("div",{className:"space-y-3",children:[P.map((Z,F)=>r.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-gray-100 bg-gray-50 px-3 py-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Z.label}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(ir,{size:12}),Z.dueMonth||"Scheduled"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:I(Z.outstanding??Z.amount)}),r.jsx("p",{className:"text-[11px] text-gray-500 uppercase",children:M(Z.status)})]})]},`${Z.label}-${F}`)),C.length>P.length&&r.jsxs("p",{className:"text-xs text-gray-500",children:["+",C.length-P.length," more installments"]})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"All installments are settled. No pending dues."})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[r.jsx("div",{className:"xl:col-span-2 flex flex-col gap-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Fee Breakup"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Registration parts and installments with paid vs remaining. Click an item to mark it as paid."})]}),x.length?r.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:x.map((Z,F)=>{const z=Number(Z.discountImpact||0),V=z>0||Z.status==="discounted",W=V?"discounted":Z.status,ie=!(W==="paid"||W==="discounted");return r.jsxs("div",{className:`flex flex-col gap-3 rounded-lg border px-4 py-3 shadow-xs ${V?"border-amber-200 bg-amber-50/60":"border-gray-200 bg-white"}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Z.label}),r.jsx("p",{className:"text-xs text-gray-500",children:Z.dueMonth||"Scheduled"}),V&&r.jsxs("p",{className:"text-[11px] text-amber-600 font-semibold",children:["Discount applied",z>0&&r.jsxs("span",{className:"ml-1 font-normal text-amber-700",children:["(",I(z),")"]})]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-[11px] font-semibold ${_(W)}`,children:M(W)})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-gray-600",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[11px] uppercase tracking-wide",children:"Amount"}),r.jsx("span",{className:"font-semibold text-gray-900",children:I(Z.amount)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[11px] uppercase tracking-wide text-green-700",children:"Paid"}),r.jsx("span",{className:"font-semibold text-green-700",children:I(Z.paid)})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-[11px] uppercase tracking-wide text-red-700",children:"Remaining"}),r.jsx("span",{className:"font-semibold text-red-700",children:I(Z.outstanding)})]})]}),r.jsx("button",{onClick:()=>O(F),disabled:!ie,className:`text-xs font-semibold self-start ${ie?"text-blue-600 hover:underline":"text-gray-400 cursor-not-allowed"}`,children:ie?"Mark as Paid":W==="discounted"?"Discounted":"Completed"})]},`${Z.label}-${F}`)})}):r.jsx("p",{className:"text-sm text-gray-500",children:"No fee breakup available."})]}),r.jsx("div",{className:"overflow-x-auto mt-6",children:r.jsxs("table",{className:"w-full text-sm text-left",children:[r.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-4 w-4",children:r.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),r.jsx("th",{className:"px-6 py-3",children:"Fee Item"}),r.jsx("th",{className:"px-6 py-3",children:"Due Date"}),r.jsx("th",{className:"px-6 py-3",children:"Amount"}),r.jsx("th",{className:"px-6 py-3",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:x.length?x.map((Z,F)=>{const z=Number(Z.discountImpact||0),V=z>0||Z.status==="discounted",W=V?"discounted":Z.status,ie=!(W==="paid"||W==="discounted");return r.jsxs("tr",{className:`${V?"bg-amber-50/70":"hover:bg-gray-50"}`,children:[r.jsx("td",{className:"p-4 w-4",children:r.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),r.jsxs("td",{className:"px-6 py-3 text-gray-900 font-medium",children:[Z.label,V&&r.jsxs("span",{className:"ml-2 text-[11px] font-semibold text-amber-600 bg-amber-100 px-2 py-0.5 rounded-full",children:["Discounted",z>0&&r.jsxs("span",{className:"ml-1 text-amber-700",children:["(",I(z),")"]})]})]}),r.jsxs("td",{className:"px-6 py-3 text-gray-500 flex items-center gap-2",children:[r.jsx(ir,{size:14}),Z.dueMonth||"Scheduled"]}),r.jsx("td",{className:"px-6 py-3 text-gray-900",children:I(Z.amount)}),r.jsx("td",{className:"px-6 py-3",children:r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${_(W)}`,children:M(W)})}),r.jsx("td",{className:"px-6 py-3 text-right",children:ie?r.jsx("button",{onClick:()=>O(F),className:"font-medium text-blue-600 hover:underline",children:"Mark as Paid"}):r.jsx("span",{className:"text-gray-400 italic",children:W==="discounted"?"Discounted":"Completed"})})]},`${Z.label}-${F}`)}):r.jsx("tr",{children:r.jsx("td",{className:"px-6 py-8 text-center text-gray-500",colSpan:6,children:"No fee breakup available for this course."})})})]})})]})}),r.jsxs("div",{className:"flex flex-col gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Fee Discount"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Current discount: ",I((i==null?void 0:i.discountAmount)||0),"  Net payable:"," ",I(T.netTotal)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i!=null&&i.discountNote?`Note: ${i.discountNote}`:"No discount note added yet."}),r.jsxs("div",{className:"mt-4 space-y-3",children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Discount Amount"}),r.jsx("input",{type:"number",min:"0",max:(i==null?void 0:i.totalFee)||void 0,value:g,onChange:Z=>b(Z.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount"}),r.jsxs("span",{className:"text-xs text-gray-400",children:["Max allowed: ",I((i==null?void 0:i.totalFee)||0)]})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Note (optional)"}),r.jsx("input",{type:"text",value:w,onChange:Z=>v(Z.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Reason for discount"})]}),r.jsx("button",{onClick:Q,disabled:j,className:"w-full inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 text-white px-4 py-2 text-sm font-semibold hover:bg-emerald-700 disabled:bg-gray-300",children:j?"Saving...":"Apply Discount"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Payment History"}),f.length?r.jsx("div",{className:"space-y-3",children:f.map((Z,F)=>{var z;return r.jsxs("div",{className:"flex items-center justify-between border border-gray-200 rounded-xl p-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:I(Z.amount)}),r.jsx("p",{className:"text-sm text-gray-500",children:((z=Z.method)==null?void 0:z.toUpperCase())||"CASH"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:Z.paidOn?new Date(Z.paidOn).toLocaleDateString():""})]},`${Z.paidOn}-${F}`)})}):r.jsx("p",{className:"text-sm text-gray-500",children:"No payment records yet. Collect a payment to populate this list."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Status"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Status"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_(i==null?void 0:i.status)}`,children:M(i==null?void 0:i.status)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Last Payment"}),r.jsx("span",{children:i!=null&&i.lastPayment?new Date(i.lastPayment).toLocaleString():"No payments yet"})]})]})]})]})]})]})},dne=E.forwardRef(({person:t,type:e},s)=>{const[n,a]=E.useState(""),i=new Date().getFullYear(),o=i+1;E.useEffect(()=>{const m=JSON.stringify({id:c(),name:l(),type:e,school:"Electronic Educare",issued:new Date().toISOString().split("T")[0],validity:`${i}-${o}`,verification:Math.random().toString(36).substring(2,15)}),f=`https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=${encodeURIComponent(m)}`;a(f)},[t,e]);const l=()=>`${t.firstName||""} ${t.lastName||""}`.trim()||"N/A",c=()=>t.empId||t.admissionNo||`${e.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`,u=(()=>{switch(e){case"student":return{title:"STUDENT ID",id:c(),primaryInfo:`Class ${t.class||"N/A"}`,secondaryInfo:`Section ${t.section||"A"}  Roll ${t.rollNo||"N/A"}`,bgGradient:"from-blue-600 via-blue-700 to-blue-800",accentColor:"bg-blue-500",icon:""};case"teacher":return{title:"FACULTY ID",id:c(),primaryInfo:t.designation||"Teacher",secondaryInfo:t.department||"Academic Department",bgGradient:"from-emerald-600 via-emerald-700 to-emerald-800",accentColor:"bg-emerald-500",icon:""};case"staff":return{title:"STAFF ID",id:c(),primaryInfo:t.role||"Staff Member",secondaryInfo:t.department||"Administration",bgGradient:"from-purple-600 via-purple-700 to-purple-800",accentColor:"bg-purple-500",icon:""};default:return{title:"ID CARD",id:c(),primaryInfo:"N/A",secondaryInfo:"N/A",bgGradient:"from-gray-600 via-gray-700 to-gray-800",accentColor:"bg-gray-500",icon:""}}})(),h=t.photo||null;return r.jsxs("div",{ref:s,className:"w-96 h-60 mx-auto relative overflow-hidden rounded-2xl shadow-2xl bg-white border border-gray-200 print:shadow-none",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:r.jsx("div",{className:"grid grid-cols-8 grid-rows-8 h-full w-full",children:Array.from({length:64}).map((m,f)=>r.jsx("div",{className:`${u.accentColor} opacity-20 rounded-full m-1`},f))})})}),r.jsxs("div",{className:`relative bg-gradient-to-r ${u.bgGradient} text-white p-4 pb-6`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:r.jsx("span",{className:"text-sm font-bold",children:"EEC"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium opacity-90",children:"Electronic Educare"}),r.jsx("div",{className:"text-sm font-bold",children:u.title})]})]}),r.jsx("div",{className:"text-2xl",children:u.icon})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3",children:r.jsx("svg",{viewBox:"0 0 100 20",className:"w-full h-full",children:r.jsx("path",{d:"M0,10 Q25,0 50,10 T100,10 L100,20 L0,20 Z",fill:"white"})})})]}),r.jsxs("div",{className:"relative p-4 pt-2 flex h-44",children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsxs("div",{className:"w-20 h-24 rounded-xl overflow-hidden border-2 border-gray-200 shadow-lg bg-gradient-to-br from-gray-100 to-gray-200",children:[h?r.jsx("img",{src:h,alt:"Profile",className:"w-full h-full object-cover",onError:m=>{m.target.style.display="none",m.target.nextSibling.style.display="flex"}}):null,r.jsxs("div",{className:`w-full h-full flex flex-col items-center justify-center text-gray-500 ${h?"hidden":"flex"}`,children:[r.jsx("div",{className:"text-2xl mb-1",children:""}),r.jsx("div",{className:"text-xs font-medium",children:"PHOTO"})]})]})}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-gray-900 leading-tight",children:l()}),r.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["ID: ",u.id]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-800",children:u.primaryInfo}),r.jsx("div",{className:"text-xs text-gray-600",children:u.secondaryInfo})]}),r.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[t.dob&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:""}),r.jsxs("span",{children:["DOB: ",new Date(t.dob).toLocaleDateString()]})]}),t.phone&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:""}),r.jsx("span",{children:t.phone})]}),t.email&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"truncate",children:t.email})]})]})]}),r.jsx("div",{className:"flex-shrink-0 ml-2",children:r.jsx("div",{className:"w-16 h-16 bg-white border border-gray-300 rounded-lg shadow-sm overflow-hidden",children:n?r.jsx("img",{src:n,alt:"QR Code",className:"w-full h-full object-cover",onError:()=>a("")}):r.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400",children:[r.jsx("div",{className:"text-lg",children:""}),r.jsx("div",{className:"text-xs",children:"QR"})]})})})]}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-r from-gray-50 to-gray-100 px-4 py-2 border-t border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center text-xs",children:[r.jsxs("div",{className:"text-gray-600",children:["Valid: ",i,"-",o]}),r.jsx("div",{className:"text-gray-500",children:" Authorized Personnel Only"}),r.jsx("div",{className:"text-gray-600",children:"Electronic Educare"})]})}),r.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 via-yellow-500 to-yellow-600 opacity-80 flex items-center justify-center",children:r.jsx("div",{className:"w-4 h-4 rounded-full bg-white/30 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-white/60"})})})]})});dne.displayName="IDCard";const z$e=({setShowAdminHeader:t})=>{E.useEffect(()=>{t(!0)},[]);const[e,s]=E.useState("payroll"),[n,a]=E.useState(()=>{const J=new Date;return`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`}),i=26,o=[{id:"t1",name:"Prof. Priya Verma",designation:"Physics",baseSalary:55e3},{id:"t2",name:"Dr. Arjun Sen",designation:"Mathematics",baseSalary:6e4},{id:"t3",name:"Ms. Kavita Rao",designation:"Chemistry",baseSalary:52e3}],l=[{id:"s1",name:"Amit Kumar",role:"Clerk",baseSalary:28e3},{id:"s2",name:"Neha Sharma",role:"Librarian",baseSalary:32e3}],c=[{id:"v1",name:"ABC Transport Co.",service:"Bus Service",due:75e3},{id:"v2",name:"Tech Supplies Ltd",service:"IT Maintenance",due:42e3}],d={t1:{[n]:24},t2:{[n]:26},t3:{[n]:25}},u={s1:{[n]:25},s2:{[n]:24}},h=(J,Pe,xe)=>{var He,$e;return(Pe==="teachers"?(He=d[J])==null?void 0:He[xe]:($e=u[J])==null?void 0:$e[xe])??i},m=(J,Pe)=>{const xe=J/i,He=xe*Pe,$e=Math.round(J*.1),Xe=Math.max(0,Math.round(He+$e));return{perDay:Math.round(xe),earnings:Math.round(He),allowances:$e,net:Xe}},f=(J,Pe,xe)=>{const He=h(J.id,Pe,xe),{perDay:$e,earnings:Xe,allowances:he,net:ce}=m(J.baseSalary,He),_e=new Sr("p","pt","a4"),Ke=48;let et=Ke;_e.setFont("helvetica","bold"),_e.setFontSize(18),_e.text("EEC Payslip",Ke,et),et+=14,_e.setFont("helvetica","normal"),_e.setFontSize(10),_e.text(`Month: ${xe}`,Ke,et),et+=18,_e.setFont("helvetica","bold"),_e.text("Employee",Ke,et),et+=14,_e.setFont("helvetica","normal"),_e.text(`Name: ${J.name}`,Ke,et),et+=14,_e.text(`Role: ${J.designation||J.role||(Pe==="teachers"?"Teacher":"Staff")}`,Ke,et),et+=14,_e.text(`Employee ID: ${J.id}`,Ke,et),et+=20,_e.setFont("helvetica","bold"),_e.text("Salary Summary",Ke,et),et+=14,_e.setFont("helvetica","normal"),[["Base Salary",`${J.baseSalary.toLocaleString()}`],["Working Days",`${i}`],["Present Days",`${He}`],["Per Day",`${$e.toLocaleString()}`],["Earnings",`${Xe.toLocaleString()}`],["Allowances (10%)",`${he.toLocaleString()}`],["Net Pay",`${ce.toLocaleString()}`]].forEach(([ot,mt])=>{_e.text(ot,Ke,et),_e.text(mt,400,et,{align:"right"}),et+=14}),et+=10,_e.setFont("helvetica","italic"),_e.text("System generated payslip",Ke,et),_e.save(`Payslip_${J.name.replace(/\s+/g,"_")}_${xe}.pdf`)},[x,A]=E.useState([...o.map(J=>({id:J.id,name:J.name,role:J.designation||"Teacher",type:"Teacher"})),...l.map(J=>({id:J.id,name:J.name,role:J.role||"Staff",type:"Staff"}))]),[g,b]=E.useState(!1),[w,v]=E.useState({name:"",role:"",type:"Teacher",baseSalary:""}),[j,N]=E.useState(!1),[S,T]=E.useState(null),[I,_]=E.useState("student"),M=E.useRef(),C=J=>{if(J.preventDefault(),!w.name)return;const Pe=`${w.type==="Teacher"?"t":"s"}${x.length+1}`;A(xe=>[...xe,{id:Pe,name:w.name,role:w.role,type:w.type}]),b(!1),v({name:"",role:"",type:"Teacher",baseSalary:""})},[B,P]=E.useState([{id:"L1",emp:"Prof. Priya Verma",type:"CL",from:"2025-09-10",to:"2025-09-11",status:"Pending"},{id:"L2",emp:"Amit Kumar",type:"SL",from:"2025-09-09",to:"2025-09-09",status:"Pending"}]),H=(J,Pe)=>P(xe=>xe.map(He=>He.id===J?{...He,status:Pe}:He)),[D,G]=E.useState([{id:"J1",title:"Science Teacher",openings:2,status:"Open"},{id:"J2",title:"Office Assistant",openings:1,status:"Open"}]),[O,Q]=E.useState([{id:"C1",name:"Rohit Das",for:"Science Teacher",status:"Screening"},{id:"C2",name:"Meera N",for:"Office Assistant",status:"Interview"}]),[ee,q]=E.useState([{id:"P1",name:"Leave Policy.pdf",date:"2025-06-01"},{id:"P2",name:"Code of Conduct.pdf",date:"2025-05-12"}]),[Z,F]=E.useState(""),z=J=>{J.preventDefault(),Z&&(q(Pe=>[{id:`P${Pe.length+1}`,name:Z,date:new Date().toISOString().slice(0,10)},...Pe]),F(""))},V=(J,Pe)=>{T(J),_(Pe),N(!0)},W=async()=>{if(S)try{const J=new Sr("landscape","mm",[101.6,63.5]),Pe=mt=>new Promise((At,Tt)=>{const rt=new Image;rt.crossOrigin="anonymous",rt.onload=()=>{const Dt=document.createElement("canvas"),Qt=Dt.getContext("2d");Dt.width=rt.width,Dt.height=rt.height,Qt.drawImage(rt,0,0),At(Dt.toDataURL("image/jpeg",.8))},rt.onerror=()=>At(null),rt.src=mt}),xe=JSON.stringify({id:S.empId||S.admissionNo||`${I.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`,name:`${S.firstName||""} ${S.lastName||""}`.trim(),type:I,school:"Electronic Educare",issued:new Date().toISOString().split("T")[0],verification:Math.random().toString(36).substring(2,15)}),He=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(xe)}`,$e={student:[59,130,246],teacher:[34,197,94],staff:[147,51,234]},[Xe,he,ce]=$e[I]||[100,100,100];J.setFillColor(Xe,he,ce),J.roundedRect(3,3,95.6,20,3,3,"F");for(let mt=0;mt<20;mt++){const At=1-mt/20*.4;J.setFillColor(Xe*At,he*At,ce*At),J.roundedRect(3,3+mt,95.6,1,3,3,"F")}J.setTextColor(255,255,255),J.setFontSize(10),J.setFont("helvetica","bold"),J.text("ELECTRONIC EDUCARE",50.8,10,{align:"center"}),J.setFontSize(8),J.text(`${I.toUpperCase()} ID CARD`,50.8,16,{align:"center"}),J.setFillColor(255,255,255,.3),J.circle(10,13,3,"F"),J.setTextColor(255,255,255),J.setFontSize(6),J.text("EEC",10,14,{align:"center"}),J.setFillColor(255,215,0),J.circle(90,13,2.5,"F"),J.setFillColor(255,255,255,.6),J.circle(90,13,1.5,"F"),J.setFillColor(255,255,255),J.roundedRect(3,26,95.6,32,2,2,"F"),J.setTextColor(0,0,0);let _e=30,Ke=_e;if(S.photo)try{const mt=await Pe(S.photo);mt?(J.addImage(mt,"JPEG",10,Ke,20,24),J.setDrawColor(Xe,he,ce),J.setLineWidth(.5),J.roundedRect(10,Ke,20,24,2,2,"D")):(J.setDrawColor(Xe,he,ce),J.setFillColor(248,250,252),J.roundedRect(10,Ke,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,Ke+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,Ke+16,{align:"center"}))}catch{J.setDrawColor(Xe,he,ce),J.setFillColor(248,250,252),J.roundedRect(10,Ke,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,Ke+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,Ke+16,{align:"center"})}else J.setDrawColor(Xe,he,ce),J.setFillColor(248,250,252),J.roundedRect(10,Ke,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,Ke+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,Ke+16,{align:"center"});const et=`${S.firstName||""} ${S.lastName||""}`.trim(),st=S.empId||S.admissionNo||`${I.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;if(J.setFontSize(14),J.setFont("helvetica","bold"),J.setTextColor(Xe,he,ce),J.text(et,35,_e+5),J.setFontSize(10),J.setFont("helvetica","normal"),J.setTextColor(80,80,80),J.text(`ID: ${st}`,35,_e+11),J.setFontSize(9),J.setTextColor(60,60,60),I==="student")J.text(`Class ${S.class||"N/A"}  Section ${S.section||"A"}`,35,_e+16),S.rollNo&&J.text(`Roll No: ${S.rollNo}`,35,_e+21);else{const mt=S.designation||S.role||(I==="teacher"?"Teacher":"Staff");J.text(mt,35,_e+16),S.department&&J.text(S.department,35,_e+21)}S.phone&&(J.setFontSize(8),J.setTextColor(100,100,100),J.text(` ${S.phone}`,35,_e+26));try{const mt=await Pe(He);mt?(J.addImage(mt,"PNG",78,_e,18,18),J.setDrawColor(200,200,200),J.setLineWidth(.3),J.roundedRect(78,_e,18,18,1,1,"D")):(J.setDrawColor(200,200,200),J.setFillColor(250,250,250),J.roundedRect(78,_e,18,18,1,1,"FD"),J.setFontSize(7),J.setTextColor(120,120,120),J.text("QR CODE",87,_e+10,{align:"center"}))}catch{J.setDrawColor(200,200,200),J.setFillColor(250,250,250),J.roundedRect(78,_e,18,18,1,1,"FD"),J.setFontSize(7),J.setTextColor(120,120,120),J.text("QR CODE",87,_e+10,{align:"center"})}const ot=new Date().getFullYear();J.setFillColor(248,250,252),J.roundedRect(3,61,95.6,8,2,2,"F"),J.setFontSize(7),J.setTextColor(100,100,100),J.text(`Valid: ${ot}-${ot+1}`,8,65.5),J.text(" Authorized Personnel Only",50.8,65.5,{align:"center"}),J.text("Electronic Educare",93,65.5,{align:"right"}),J.setDrawColor(Xe,he,ce),J.setLineWidth(1),J.roundedRect(3,3,95.6,57.5,3,3,"D"),J.save(`ID_Card_${S.firstName}_${S.lastName}_${I}.pdf`)}catch(J){console.error("Error generating PDF:",J),alert("Error generating PDF. Please try again.")}},ne=()=>{if(!M.current)return;const J=window.open("","_blank");J.document.write(`
      <html>
        <head>
          <title>ID Card</title>
          <style>
            body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
            @media print { body { padding: 0; } }
          </style>
        </head>
        <body>
          ${M.current.outerHTML}
        </body>
      </html>
    `),J.document.close(),J.print()},[ie,be]=E.useState("teacher"),ue=(J,Pe)=>{J.preventDefault();const xe=new FormData(J.currentTarget),He={};for(const[$e,Xe]of xe.entries())He[$e]=Xe;console.log(`Submitting ${Pe}`,He),confirm(`${Pe} added successfully! Would you like to generate an ID card?`)&&V(He,Pe.toLowerCase()),alert(`${Pe} form captured. Implement API to persist.`)},je=({title:J,children:Pe})=>r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:[r.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:J}),Pe]}),Be=({label:J,type:Pe="text",className:xe="",inputClassName:He="",...$e})=>r.jsxs("div",{className:`flex flex-col gap-1 ${xe}`,children:[r.jsx("label",{className:"text-sm text-gray-700",children:J}),r.jsx("input",{type:Pe,className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${He}`,...$e})]}),oe=({label:J,children:Pe,className:xe="",selectClassName:He="",...$e})=>r.jsxs("div",{className:`flex flex-col gap-1 ${xe}`,children:[r.jsx("label",{className:"text-sm text-gray-700",children:J}),r.jsx("select",{className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${He}`,...$e,children:Pe})]}),lt=({label:J,rows:Pe=3,className:xe="",textareaClassName:He="",...$e})=>r.jsxs("div",{className:`flex flex-col gap-1 ${xe}`,children:[r.jsx("label",{className:"text-sm text-gray-700",children:J}),r.jsx("textarea",{rows:Pe,className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${He}`,...$e})]}),se=({label:J,multiple:Pe=!1,className:xe="",inputClassName:He="",name:$e,...Xe})=>{const[he,ce]=E.useState(null),_e=Ke=>{const et=Ke.target.files[0];if(et&&et.type.startsWith("image/")){const st=new FileReader;st.onload=ot=>{ce(ot.target.result)},st.readAsDataURL(et)}Xe.onChange&&Xe.onChange(Ke)};return r.jsxs("div",{className:`flex flex-col gap-1 ${xe}`,children:[r.jsx("label",{className:"text-sm text-gray-700",children:J}),r.jsx("input",{type:"file",multiple:Pe,name:$e,className:`border border-gray-300 rounded-lg px-3 py-2 bg-white ${He}`,onChange:_e,...Xe}),he&&$e==="photo"&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:he,alt:"Preview",className:"w-16 h-20 object-cover rounded-lg border border-gray-300"})})]})};return r.jsx("div",{className:"w-full min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HR Management"}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-1 flex",children:["payroll","vendors","attendance","employees","leaves","recruitment","policies","add-new"].map(J=>r.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${e===J?J==="add-new"?"bg-green-500 text-white":"bg-yellow-100 text-yellow-700":J==="add-new"?"bg-green-100 text-green-700 hover:bg-green-200":"text-gray-600 hover:text-gray-800"}`,onClick:()=>s(J),children:J==="add-new"?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(vs,{size:14}),"Add New"]}):J.charAt(0).toUpperCase()+J.slice(1)},J))})]}),e==="payroll"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Month:"}),r.jsx("input",{type:"month",value:n,onChange:J=>a(J.target.value),className:"border border-gray-300 rounded-lg px-3 py-2"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Base Salary"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Present/Working"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allowances"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Pay"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...o.map(J=>({...J,_type:"teachers"})),...l.map(J=>({...J,_type:"staff"}))].map(J=>{const Pe=h(J.id,J._type,n),{allowances:xe,net:He}=m(J.baseSalary,Pe);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.name}),r.jsx("div",{className:"text-sm text-gray-500",children:J.designation||J.role||(J._type==="teachers"?"Teacher":"Staff")})]}),r.jsxs("td",{className:"px-6 py-4 text-sm",children:["",J.baseSalary.toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 text-sm",children:[Pe,"/",i]}),r.jsxs("td",{className:"px-6 py-4 text-sm",children:["",xe.toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:["",He.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 text-sm",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>f(J,J._type,n),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[r.jsx(Dr,{size:14,className:"mr-1"})," Payslip"]}),r.jsx("button",{onClick:()=>alert("Payment recorded (demo)."),className:"inline-flex items-center px-3 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Pay"})]})})]},J.id)})})]})})]}),e==="vendors"&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(J=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:J.service}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",J.due.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsx("button",{onClick:()=>alert("Vendor payment recorded (demo)."),className:"inline-flex items-center px-3 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Pay"})})]},J.id))})]})})}),e==="attendance"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Month:"}),r.jsx("input",{type:"month",value:n,onChange:J=>a(J.target.value),className:"border border-gray-300 rounded-lg px-3 py-2"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[...o.map(J=>({...J,_type:"teachers"})),...l.map(J=>({...J,_type:"staff"}))].map(J=>{const Pe=h(J.id,J._type,n),xe=i-Pe;return r.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-gray-50",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:J.designation||J.role||(J._type==="teachers"?"Teacher":"Staff")}),r.jsxs("div",{className:"text-sm text-gray-700",children:["Present: ",Pe," days"]}),r.jsxs("div",{className:"text-sm text-gray-700",children:["Absent: ",xe," days"]})]},J.id)})}),r.jsx("p",{className:"text-xs text-gray-500",children:"Connect your attendance API to drive payroll automatically."})]}),e==="employees"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(Ar,{size:18})," Employees"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(J=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:J.name}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.role}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.type})]},J.id))})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Employee"}),r.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>b(!1),children:r.jsx(ks,{size:20})})]}),r.jsxs("form",{onSubmit:C,className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Name"}),r.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:w.name,onChange:J=>v({...w,name:J.target.value}),required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Role"}),r.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:w.role,onChange:J=>v({...w,role:J.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:w.type,onChange:J=>v({...w,type:J.target.value}),children:[r.jsx("option",{children:"Teacher"}),r.jsx("option",{children:"Staff"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add"})]})]})]})})]}),e==="leaves"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(uX,{size:18})," Leave Approvals"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(J=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:J.emp}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.type}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.from}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.to}),r.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.status}),r.jsx("td",{className:"px-6 py-3 text-sm",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>H(J.id,"Approved"),className:"px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700",children:"Approve"}),r.jsx("button",{onClick:()=>H(J.id,"Rejected"),className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700",children:"Reject"})]})})]},J.id))})]})})]}),e==="recruitment"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Job Openings"}),r.jsx("ul",{className:"divide-y divide-gray-200",children:D.map(J=>r.jsxs("li",{className:"py-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:J.title}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Openings: ",J.openings]})]}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:J.status})]},J.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Candidates"}),r.jsx("ul",{className:"divide-y divide-gray-200",children:O.map(J=>r.jsxs("li",{className:"py-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["For: ",J.for]})]}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-800",children:J.status})]},J.id))})]})]}),e==="policies"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(dc,{size:18})," HR Policies"]}),r.jsxs("form",{onSubmit:z,className:"flex items-center gap-2 mb-4",children:[r.jsx("input",{value:Z,onChange:J=>F(J.target.value),placeholder:"Policy file name (e.g., Travel Policy.pdf)",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2"}),r.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-yellow-600 text-white hover:bg-yellow-700",children:"Upload"})]}),r.jsx("ul",{className:"divide-y divide-gray-200",children:ee.map(J=>r.jsxs("li",{className:"py-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Uploaded: ",J.date]})]}),r.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50",children:"View"})]},J.id))})]}),e==="add-new"&&r.jsx("div",{children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Add New Records"}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-1 flex",children:[r.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${ie==="teacher"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>be("teacher"),children:"Teacher"}),r.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${ie==="student"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>be("student"),children:"Student"}),r.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${ie==="staff"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>be("staff"),children:"Staff"})]})]}),ie==="teacher"&&r.jsxs("form",{onSubmit:J=>ue(J,"Teacher"),className:"space-y-6",children:[r.jsx(je,{title:"Personal Information",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Be,{name:"firstName",label:"First Name",required:!0}),r.jsx(Be,{name:"lastName",label:"Last Name",required:!0}),r.jsxs(oe,{name:"gender",label:"Gender",defaultValue:"",children:[r.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),r.jsx("option",{children:"Male"}),r.jsx("option",{children:"Female"}),r.jsx("option",{children:"Other"})]}),r.jsx(Be,{name:"dob",label:"Date of Birth",type:"date"}),r.jsx(Be,{name:"email",label:"Email",type:"email"}),r.jsx(Be,{name:"phone",label:"Phone",type:"tel"}),r.jsx(Be,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),r.jsx(Be,{name:"city",label:"City"}),r.jsx(Be,{name:"state",label:"State"}),r.jsx(Be,{name:"zip",label:"ZIP/Postal Code"}),r.jsx(se,{name:"photo",label:"Photo"})]})}),r.jsx(je,{title:"Employment Details",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Be,{name:"empId",label:"Employee ID"}),r.jsx(Be,{name:"designation",label:"Designation"}),r.jsx(Be,{name:"department",label:"Department"}),r.jsx(Be,{name:"joiningDate",label:"Date of Joining",type:"date"}),r.jsx(Be,{name:"qualification",label:"Highest Qualification"}),r.jsx(Be,{name:"experienceYears",label:"Experience (years)",type:"number",min:"0"}),r.jsx(Be,{name:"salary",label:"Salary ()",type:"number",min:"0"}),r.jsx(Be,{name:"bankAccount",label:"Bank Account No."}),r.jsx(Be,{name:"ifsc",label:"IFSC Code"})]})}),r.jsxs(je,{title:"Documents",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(se,{name:"idProof",label:"ID Proof (Aadhaar/Passport)"}),r.jsx(se,{name:"addressProof",label:"Address Proof"}),r.jsx(se,{name:"pan",label:"PAN Card"}),r.jsx(se,{name:"cv",label:"Resume/CV"}),r.jsx(se,{name:"qualificationCerts",label:"Qualification Certificates",multiple:!0}),r.jsx(se,{name:"experienceLetters",label:"Experience Letters",multiple:!0})]}),r.jsx(lt,{name:"notes",label:"Notes"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),r.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),Pe=new FormData(J),xe={};for(const[$e,Xe]of Pe.entries())$e!=="photo"&&(xe[$e]=Xe);const He=Pe.get("photo");if(He&&He.size>0){const $e=new FileReader;$e.onload=Xe=>{xe.photo=Xe.target.result,xe.firstName&&V(xe,"teacher")},$e.readAsDataURL(He)}else xe.firstName&&V(xe,"teacher")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[r.jsx(Ru,{size:16}),"Generate ID Card"]}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Teacher"})]})]}),ie==="student"&&r.jsxs("form",{onSubmit:J=>ue(J,"Student"),className:"space-y-6",children:[r.jsx(je,{title:"Personal Information",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Be,{name:"firstName",label:"First Name",required:!0}),r.jsx(Be,{name:"lastName",label:"Last Name",required:!0}),r.jsxs(oe,{name:"gender",label:"Gender",defaultValue:"",children:[r.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),r.jsx("option",{children:"Male"}),r.jsx("option",{children:"Female"}),r.jsx("option",{children:"Other"})]}),r.jsx(Be,{name:"dob",label:"Date of Birth",type:"date"}),r.jsx(Be,{name:"email",label:"Email",type:"email"}),r.jsx(Be,{name:"phone",label:"Phone",type:"tel"}),r.jsx(Be,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),r.jsx(Be,{name:"city",label:"City"}),r.jsx(Be,{name:"state",label:"State"}),r.jsx(Be,{name:"zip",label:"ZIP/Postal Code"}),r.jsx(se,{name:"photo",label:"Photo"})]})}),r.jsx(je,{title:"Academic Details",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Be,{name:"admissionNo",label:"Admission No."}),r.jsxs(oe,{name:"class",label:"Class",defaultValue:"",children:[r.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),Array.from({length:12},(J,Pe)=>Pe+1).map(J=>r.jsxs("option",{value:`Class ${J}`,children:["Class ",J]},J))]}),r.jsx(oe,{name:"section",label:"Section",defaultValue:"A",children:["A","B","C","D"].map(J=>r.jsx("option",{children:J},J))}),r.jsx(Be,{name:"rollNo",label:"Roll No."}),r.jsx(Be,{name:"admissionDate",label:"Date of Admission",type:"date"}),r.jsx(Be,{name:"guardianName",label:"Guardian Name"}),r.jsx(Be,{name:"guardianRelation",label:"Relation"}),r.jsx(Be,{name:"guardianPhone",label:"Guardian Phone",type:"tel"}),r.jsx(Be,{name:"guardianEmail",label:"Guardian Email",type:"email"})]})}),r.jsx(je,{title:"Documents",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(se,{name:"birthCert",label:"Birth Certificate"}),r.jsx(se,{name:"transferCert",label:"Transfer Certificate"}),r.jsx(se,{name:"aadhaar",label:"Aadhaar"}),r.jsx(se,{name:"addressProof",label:"Address Proof"}),r.jsx(se,{name:"photos",label:"Recent Photos",multiple:!0})]})}),r.jsxs(je,{title:"Health Record",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(oe,{name:"bloodGroup",label:"Blood Group",defaultValue:"",children:[r.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(J=>r.jsx("option",{children:J},J))]}),r.jsx(Be,{name:"allergies",label:"Allergies"}),r.jsx(Be,{name:"conditions",label:"Medical Conditions"}),r.jsx(Be,{name:"emergencyName",label:"Emergency Contact Name"}),r.jsx(Be,{name:"emergencyPhone",label:"Emergency Contact Phone",type:"tel"}),r.jsx(se,{name:"vaccinationCard",label:"Vaccination Card"})]}),r.jsx(lt,{name:"healthNotes",label:"Health Notes"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),r.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),Pe=new FormData(J),xe={};for(const[$e,Xe]of Pe.entries())$e!=="photo"&&(xe[$e]=Xe);const He=Pe.get("photo");if(He&&He.size>0){const $e=new FileReader;$e.onload=Xe=>{xe.photo=Xe.target.result,xe.firstName&&V(xe,"student")},$e.readAsDataURL(He)}else xe.firstName&&V(xe,"student")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[r.jsx(Ru,{size:16}),"Generate ID Card"]}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Student"})]})]}),ie==="staff"&&r.jsxs("form",{onSubmit:J=>ue(J,"Staff"),className:"space-y-6",children:[r.jsx(je,{title:"Personal Information",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Be,{name:"firstName",label:"First Name",required:!0}),r.jsx(Be,{name:"lastName",label:"Last Name",required:!0}),r.jsxs(oe,{name:"gender",label:"Gender",defaultValue:"",children:[r.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),r.jsx("option",{children:"Male"}),r.jsx("option",{children:"Female"}),r.jsx("option",{children:"Other"})]}),r.jsx(Be,{name:"dob",label:"Date of Birth",type:"date"}),r.jsx(Be,{name:"email",label:"Email",type:"email"}),r.jsx(Be,{name:"phone",label:"Phone",type:"tel"}),r.jsx(Be,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),r.jsx(Be,{name:"city",label:"City"}),r.jsx(Be,{name:"state",label:"State"}),r.jsx(Be,{name:"zip",label:"ZIP/Postal Code"}),r.jsx(se,{name:"photo",label:"Photo"})]})}),r.jsx(je,{title:"Employment Details",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Be,{name:"empId",label:"Employee ID"}),r.jsx(Be,{name:"role",label:"Role"}),r.jsx(Be,{name:"department",label:"Department"}),r.jsx(Be,{name:"joiningDate",label:"Date of Joining",type:"date"}),r.jsx(Be,{name:"contractType",label:"Contract Type"}),r.jsx(Be,{name:"salary",label:"Salary ()",type:"number",min:"0"}),r.jsx(Be,{name:"bankAccount",label:"Bank Account No."}),r.jsx(Be,{name:"ifsc",label:"IFSC Code"})]})}),r.jsxs(je,{title:"Documents",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(se,{name:"idProof",label:"ID Proof"}),r.jsx(se,{name:"addressProof",label:"Address Proof"}),r.jsx(se,{name:"policeVerification",label:"Police Verification"}),r.jsx(se,{name:"resume",label:"Resume/CV"}),r.jsx(se,{name:"otherDocs",label:"Other Documents",multiple:!0})]}),r.jsx(lt,{name:"notes",label:"Notes"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),r.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),Pe=new FormData(J),xe={};for(const[$e,Xe]of Pe.entries())$e!=="photo"&&(xe[$e]=Xe);const He=Pe.get("photo");if(He&&He.size>0){const $e=new FileReader;$e.onload=Xe=>{xe.photo=Xe.target.result,xe.firstName&&V(xe,"staff")},$e.readAsDataURL(He)}else xe.firstName&&V(xe,"staff")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[r.jsx(Ru,{size:16}),"Generate ID Card"]}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Staff"})]})]})]})}),j&&S&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-6 max-w-lg w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:" ID Card Generated Successfully!"}),r.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",onClick:()=>N(!1),children:r.jsx(ks,{size:20})})]}),r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsx(dne,{ref:M,person:S,type:I})}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("div",{className:"text-blue-600 mt-0.5",children:""}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium mb-1",children:"Your ID card is ready!"}),r.jsx("p",{children:"This design shows the actual appearance. You can download a PDF version or print directly."})]})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Close"}),r.jsxs("button",{onClick:ne,className:"flex-1 px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white flex items-center justify-center gap-2 transition-colors",children:[r.jsx(Dr,{size:16}),"Print Card"]}),r.jsxs("button",{onClick:W,className:"flex-1 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2 transition-colors",children:[r.jsx(Ru,{size:16}),"Download PDF"]})]})]})})]})})},aT="http://localhost:5000",G$e=({setShowAdminHeader:t})=>{var w,v;const[e,s]=E.useState([]),[n,a]=E.useState(!0),[i,o]=E.useState(""),[l,c]=E.useState(null),[d,u]=E.useState(!1),h={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},m=async()=>{a(!0);try{const j=await fetch(`${aT}/api/schools/registrations/pending`,{headers:h});if(!j.ok)throw new Error("Failed to fetch registrations");const N=await j.json();s(N)}catch(j){console.error("Error fetching registrations:",j),ls.error("Failed to load registrations")}finally{a(!1)}};E.useEffect(()=>{t==null||t(!1),m()},[]);const f=async(j,N)=>{const S=await Qr.fire({title:"Approve Registration?",text:`Are you sure you want to approve ${N}?`,input:"textarea",inputLabel:"Admin Notes (Optional)",inputPlaceholder:"Add any notes for this approval...",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Approve",confirmButtonColor:"#10b981",cancelButtonText:"Cancel"});if(S.isConfirmed)try{if(!(await fetch(`${aT}/api/schools/registrations/${j}/approve`,{method:"PUT",headers:h,body:JSON.stringify({adminNotes:S.value})})).ok)throw new Error("Approval failed");ls.success("School registration approved successfully"),m(),u(!1)}catch(T){console.error("Approval error:",T),ls.error("Failed to approve registration")}},x=async(j,N)=>{const S=await Qr.fire({title:"Reject Registration?",text:`Are you sure you want to reject ${N}?`,input:"textarea",inputLabel:"Rejection Reason (Required)",inputPlaceholder:"Provide reason for rejection...",inputValidator:T=>{if(!T)return"Rejection reason is required"},icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Reject",confirmButtonColor:"#ef4444",cancelButtonText:"Cancel"});if(S.isConfirmed)try{if(!(await fetch(`${aT}/api/schools/registrations/${j}/reject`,{method:"PUT",headers:h,body:JSON.stringify({rejectionReason:S.value})})).ok)throw new Error("Rejection failed");ls.success("School registration rejected"),m(),u(!1)}catch(T){console.error("Rejection error:",T),ls.error("Failed to reject registration")}},A=j=>{c(j),u(!0)},g=e.filter(j=>{var S,T;return i.trim()===""||j.name.toLowerCase().includes(i.toLowerCase())||((S=j.officialEmail)==null?void 0:S.toLowerCase().includes(i.toLowerCase()))||((T=j.code)==null?void 0:T.toLowerCase().includes(i.toLowerCase()))}),b=({status:j})=>{const N={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},S={pending:r.jsx(fr,{size:14}),approved:r.jsx(Fr,{size:14}),rejected:r.jsx(ia,{size:14})};return r.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${N[j]}`,children:[S[j],j.charAt(0).toUpperCase()+j.slice(1)]})};return r.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mb-2",children:"School Registrations"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Review and manage pending school registrations"})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative w-full sm:max-w-md",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or code...",value:i,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-2.5 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(Vn,{className:"w-10 h-10 sm:w-12 sm:h-12 text-amber-500 animate-spin"})}):g.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 sm:p-12 text-center",children:[r.jsx(fr,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-2",children:"No Pending Registrations"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"There are no pending school registrations at the moment."})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:g.map(j=>{var N;return r.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-4 sm:p-6",children:[((N=j.logo)==null?void 0:N.secure_url)&&r.jsx("div",{className:"flex justify-center mb-3 sm:mb-4",children:r.jsx("img",{src:j.logo.secure_url,alt:j.name,className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg"})}),r.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-800 mb-1 line-clamp-2",children:j.name}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:j.campuses&&j.campuses.length>0?`${j.campuses.length} Campus${j.campuses.length!==1?"es":""}`:j.campusName}),j.campuses&&j.campuses.length>0&&r.jsx("p",{className:"text-xs text-gray-500 mb-3 line-clamp-2",children:j.campuses.map(S=>S.name).join(", ")}),r.jsxs("div",{className:"space-y-2 mb-4 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 min-w-0",children:[r.jsx(xa,{size:14,className:"text-amber-500 flex-shrink-0 sm:w-4 sm:h-4"}),r.jsx("span",{className:"truncate",children:j.officialEmail})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 min-w-0",children:[r.jsx(oa,{size:14,className:"text-amber-500 flex-shrink-0 sm:w-4 sm:h-4"}),r.jsx("span",{className:"truncate",children:j.contactPhone})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 min-w-0",children:[r.jsx(dc,{size:14,className:"text-amber-500 flex-shrink-0 sm:w-4 sm:h-4"}),r.jsx("span",{className:"truncate",children:j.schoolType})]}),j.board&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 min-w-0",children:[r.jsx(pa,{size:14,className:"text-amber-500 flex-shrink-0 sm:w-4 sm:h-4"}),r.jsx("span",{className:"truncate",children:j.board==="Other"?j.boardOther:j.board})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 min-w-0",children:[r.jsx(ir,{size:14,className:"text-amber-500 flex-shrink-0 sm:w-4 sm:h-4"}),r.jsx("span",{className:"truncate",children:new Date(j.submittedAt).toLocaleDateString()})]})]}),r.jsx("div",{className:"mb-4",children:r.jsx(b,{status:j.registrationStatus})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>A(j),className:"flex-1 flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-xs sm:text-sm font-medium",children:[r.jsx(Es,{size:14,className:"sm:w-4 sm:h-4"}),r.jsx("span",{className:"hidden xs:inline",children:"View"})]}),r.jsx("button",{onClick:()=>f(j._id,j.name),className:"flex items-center justify-center px-3 sm:px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Approve",children:r.jsx(Fr,{size:16,className:"sm:w-[18px] sm:h-[18px]"})}),r.jsx("button",{onClick:()=>x(j._id,j.name),className:"flex items-center justify-center px-3 sm:px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Reject",children:r.jsx(ia,{size:16,className:"sm:w-[18px] sm:h-[18px]"})})]})]},j._id)})}),d&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-amber-500 to-orange-500 text-white p-4 sm:p-6 rounded-t-xl sm:rounded-t-2xl flex justify-between items-start gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold line-clamp-2",children:l.name}),r.jsx("p",{className:"text-amber-100 text-xs sm:text-sm mt-1",children:l.campuses&&l.campuses.length>0?`${l.campuses.length} Campus${l.campuses.length!==1?"es":""}`:l.campusName})]}),r.jsx("button",{onClick:()=>u(!1),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-1.5 sm:p-2 transition-colors flex-shrink-0",children:r.jsx(ks,{size:20,className:"sm:w-6 sm:h-6"})})]}),r.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[((w=l.logo)==null?void 0:w.secure_url)&&r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{src:l.logo.secure_url,alt:l.name,className:"w-24 h-24 sm:w-32 sm:h-32 object-cover rounded-xl shadow-md"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(Cu,{icon:r.jsx(dc,{}),label:"School Code",value:l.code}),r.jsx(Cu,{icon:r.jsx(dc,{}),label:"School Type",value:l.schoolType}),l.board&&r.jsx(Cu,{icon:r.jsx(pa,{}),label:"Board/Affiliation",value:l.board==="Other"?l.boardOther:l.board}),r.jsx(Cu,{icon:r.jsx(ir,{}),label:"Academic Structure",value:l.academicYearStructure}),r.jsx(Cu,{icon:r.jsx(us,{}),label:"Estimated Users",value:l.estimatedUsers})]})]}),l.campuses&&l.campuses.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4",children:"Campus Information"}),r.jsx("div",{className:"space-y-3 sm:space-y-4",children:l.campuses.map((j,N)=>r.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"flex items-start sm:items-center gap-2 mb-3 flex-wrap",children:[r.jsx(dc,{className:"text-amber-500 flex-shrink-0 mt-0.5 sm:mt-0",size:18}),r.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base flex-1 min-w-0",children:j.name}),r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${j.campusType==="Main"?"bg-amber-100 text-amber-800":"bg-blue-100 text-blue-800"}`,children:j.campusType})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-xs sm:text-sm",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Mi,{className:"text-gray-400 flex-shrink-0 mt-0.5",size:14}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Address"}),r.jsx("p",{className:"text-gray-700 break-words",children:j.address})]})]}),j.contactPerson&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(us,{className:"text-gray-400 flex-shrink-0 mt-0.5",size:14}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Contact Person"}),r.jsx("p",{className:"text-gray-700 break-words",children:j.contactPerson})]})]}),j.contactPhone&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(oa,{className:"text-gray-400 flex-shrink-0 mt-0.5",size:14}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Contact Phone"}),r.jsx("p",{className:"text-gray-700",children:j.contactPhone})]})]})]})]},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4",children:"Primary Contact Information"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(Cu,{icon:r.jsx(us,{}),label:"Contact Person",value:l.contactPersonName}),r.jsx(Cu,{icon:r.jsx(oa,{}),label:"Phone",value:l.contactPhone}),r.jsx(Cu,{icon:r.jsx(xa,{}),label:"Email",value:l.officialEmail}),l.websiteURL&&r.jsx(Cu,{icon:r.jsx(Tf,{}),label:"Website",value:l.websiteURL})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4",children:"Main School Address"}),r.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[r.jsx(Mi,{className:"text-amber-500 flex-shrink-0 mt-0.5 sm:mt-1 sm:w-5 sm:h-5",size:18}),r.jsx("p",{className:"text-gray-700 text-sm sm:text-base break-words",children:l.address})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4",children:"Verification Documents"}),r.jsx("div",{className:"space-y-2",children:(v=l.verificationDocs)==null?void 0:v.map((j,N)=>r.jsxs("a",{href:j.secure_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Dr,{className:"text-gray-400 flex-shrink-0 sm:w-5 sm:h-5",size:18}),r.jsx("span",{className:"text-xs sm:text-sm text-gray-700 flex-1 truncate",children:j.originalName}),r.jsx(Es,{className:"text-blue-500 flex-shrink-0 sm:w-[18px] sm:h-[18px]",size:16})]},N))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-800 mb-3 sm:mb-4",children:"Submission Details"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsx(Cu,{icon:r.jsx(ir,{}),label:"Submitted At",value:new Date(l.submittedAt).toLocaleString()}),r.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[r.jsx(fr,{className:"text-gray-400 mt-0.5 sm:mt-1 flex-shrink-0 sm:w-5 sm:h-5",size:18}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:"Status"}),r.jsx("div",{className:"mt-1",children:r.jsx(b,{status:l.registrationStatus})})]})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4 sm:pt-6 border-t border-gray-200",children:[r.jsxs("button",{onClick:()=>f(l._id,l.name),className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-green-500 text-white rounded-lg sm:rounded-xl hover:bg-green-600 transition-colors font-semibold text-sm sm:text-base",children:[r.jsx(Fr,{size:18,className:"sm:w-5 sm:h-5"}),"Approve"]}),r.jsxs("button",{onClick:()=>x(l._id,l.name),className:"flex-1 flex items-center justify-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-red-500 text-white rounded-lg sm:rounded-xl hover:bg-red-600 transition-colors font-semibold text-sm sm:text-base",children:[r.jsx(ia,{size:18,className:"sm:w-5 sm:h-5"}),"Reject"]})]})]})]})})]})},Cu=({icon:t,label:e,value:s})=>r.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[r.jsx("div",{className:"text-gray-400 mt-0.5 sm:mt-1 flex-shrink-0",children:Ve.cloneElement(t,{size:18,className:"sm:w-5 sm:h-5"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-500",children:e}),r.jsx("p",{className:"text-sm sm:text-base text-gray-800 break-words",children:s})]})]}),aW="adminSupportRequests",iW={staffName:"",email:"",role:"Teacher",urgency:"normal",contactNumber:"",details:""},oW={subject:"",category:"general",sentiment:"positive",message:""},lW={topic:"system-issue",incidentDate:"",studentOrStaff:"",description:"",impactLevel:"low"},V$e=({setShowAdminHeader:t})=>{const[e,s]=E.useState(iW),[n,a]=E.useState(oW),[i,o]=E.useState(lW),[l,c]=E.useState(""),[d,u]=E.useState(null),[h,m]=E.useState(()=>{if(typeof window>"u")return[];try{const D=window.localStorage.getItem(aW);return D?JSON.parse(D):[]}catch(D){return console.error("Unable to read support queue",D),[]}}),[f,x]=E.useState(!1),[A,g]=E.useState([]),[b,w]=E.useState(!1),[v,j]=E.useState(null),N=E.useMemo(()=>A.filter(D=>D.status!=="resolved").length,[A]),S=E.useMemo(()=>[{icon:fr,label:"Avg. first response",value:"42 min",helper:"Last 30 days",accent:"bg-blue-50 text-blue-600"},{icon:ds,label:"Resolution rate",value:"97%",helper:"+3% vs last week",accent:"bg-emerald-50 text-emerald-600"},{icon:Ar,label:"Open tickets",value:N,helper:"Awaiting action",accent:"bg-amber-50 text-amber-600"},{icon:Qv,label:"Queued offline",value:h.length,helper:"Auto-sync when online",accent:"bg-slate-100 text-slate-600"}],[N,h.length]),T=E.useMemo(()=>[{title:"Share context up front",description:"Attach ticket IDs, affected modules, and screenshots. It removes back-and-forths.",checklist:["Mention the latest action taken","Include grade/campus info when relevant"]},{title:"Prefer portal requests",description:"Support routing is automatic here, so you skip the manual triage that happens on calls.",checklist:["Use the urgency dropdown honestly","Tag the right topic so SMEs jump in faster"]},{title:"Track the follow-up rhythm",description:"Tickets update every 4 hours. Add a note only if the situation has changed.",checklist:["Check Recent requests before calling","Escalate only if SLA is breached"]}],[]);E.useEffect(()=>{t(!0)},[t]);const I=E.useCallback(async()=>{if(typeof window>"u")return;const D=window.localStorage.getItem("token");if(!D){g([]);return}w(!0),j(null);try{const G=await fetch("http://localhost:5000/api/support/requests?limit=5",{headers:{authorization:`Bearer ${D}`}});if(!G.ok)throw new Error("Unable to load recent support requests");const O=await G.json();g(Array.isArray(O)?O:[])}catch(G){j(G.message||"Unable to load recent support requests")}finally{w(!1)}},[]);E.useEffect(()=>{I()},[I]);const _=D=>G=>{const{name:O,value:Q}=G.target;D(ee=>({...ee,[O]:Q}))},M=D=>{m(D),!(typeof window>"u")&&window.localStorage.setItem(aW,JSON.stringify(D))},C=D=>{const G={...D,queuedAt:new Date().toISOString()};M([...h,G])},B=async(D,G,O)=>{c(D),u(null);const Q={...G,supportType:D,submittedAt:new Date().toISOString()};try{if(!(await fetch("http://localhost:5000/api/support/requests",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${typeof window<"u"&&window.localStorage.getItem("token")||""}`},body:JSON.stringify(Q)})).ok)throw new Error("Support service unavailable");u({type:"success",title:"Request sent to the EEC support desk.",description:"You will receive a confirmation email shortly."}),O(),I()}catch(ee){console.error("Support request failed",ee),C(Q),u({type:"warning",title:"Support service unreachable.",description:"The request has been saved locally and can be resent when your connection is restored. You can also call the hotline for urgent help."})}finally{c("")}},P=async()=>{if(!h.length)return;x(!0);const D=[];for(const G of h)try{if(!(await fetch("http://localhost:5000/api/support/requests",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${typeof window<"u"&&window.localStorage.getItem("token")||""}`},body:JSON.stringify(G)})).ok)throw new Error("Failed to sync support request")}catch(O){console.error("Unable to sync support request",O),D.push(G)}M(D),x(!1),D.length?u({type:"warning",title:"Some requests are still queued.",description:"Please retry syncing once you have a stable connection."}):u({type:"success",title:"All queued support requests were sent.",description:"Our support desk has received your pending items."})},H=E.useMemo(()=>({success:"bg-green-50 text-green-900 border-green-200",warning:"bg-amber-50 text-amber-900 border-amber-200",error:"bg-red-50 text-red-900 border-red-200"}),[]);return r.jsx("div",{className:"min-h-screen bg-slate-50 p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-black p-6 sm:p-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm uppercase tracking-widest font-semibold text-orange-500",children:"Need assistance?"}),r.jsx("h1",{className:"text-3xl font-bold text-slate-900 mt-1",children:"Support & Service Desk"}),r.jsx("p",{className:"text-slate-600 mt-3",children:"Let our support team reset credentials, collect your product feedback, or investigate complaints. We typically respond within one business day."})]}),r.jsx("div",{className:"bg-orange-50 text-orange-600 rounded-2xl p-4 self-start",children:r.jsx(TS,{className:"h-8 w-8"})})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[r.jsx(Y8,{className:"text-orange-500",size:20}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Support Hotline"}),r.jsx("p",{className:"font-semibold text-slate-900",children:"+91 90420 56789"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[r.jsx(xa,{className:"text-orange-500",size:20}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Email"}),r.jsx("p",{className:"font-semibold text-slate-900",children:"support@eecschools.com"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[r.jsx(gc,{className:"text-orange-500",size:20}),r.jsxs("div",{children:[r.jsx("p",{className:"text-slate-500",children:"Availability"}),r.jsx("p",{className:"font-semibold text-slate-900",children:"Mon - Fri  8 AM to 6 PM"})]})]})]})]}),r.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:S.map(D=>r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-500 p-4 shadow-sm flex gap-3",children:[r.jsx("div",{className:`${D.accent} rounded-2xl p-3`,children:r.jsx(D.icon,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-700 font-semibold",children:D.label}),r.jsx("p",{className:"text-2xl font-semibold text-slate-900 mt-1",children:D.value}),r.jsx("p",{className:"text-xs text-slate-700 mt-1",children:D.helper})]})]},D.label))}),d&&r.jsxs("div",{className:`rounded-2xl border px-4 py-3 ${H[d.type]}`,children:[r.jsx("p",{className:"font-semibold",children:d.title}),r.jsx("p",{className:"text-sm mt-1 text-slate-600",children:d.description})]}),h.length>0&&r.jsxs("div",{className:"bg-white border border-amber-100 rounded-2xl p-5 shadow-sm",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase font-semibold text-amber-500",children:"Offline queue"}),r.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:[h.length," request",h.length>1?"s":""," pending sync"]})]}),r.jsxs("button",{type:"button",onClick:P,className:"inline-flex items-center gap-2 rounded-xl bg-amber-500 text-white px-4 py-2 text-sm font-medium hover:bg-amber-600 disabled:opacity-60 disabled:cursor-wait",disabled:f,children:[f?r.jsx(Vn,{className:"h-4 w-4 animate-spin"}):r.jsx(lN,{className:"h-4 w-4"}),"Retry sending"]})]}),r.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:h.slice(0,4).map((D,G)=>r.jsxs("div",{className:"bg-amber-50 rounded-xl p-3 text-sm text-slate-700",children:[r.jsx("p",{className:"font-semibold capitalize",children:D.supportType.replace("-"," ")}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Saved on ",new Date(D.queuedAt||D.submittedAt).toLocaleString()]}),D.staffName&&r.jsx("p",{className:"mt-2 text-slate-600",children:D.staffName}),D.subject&&r.jsx("p",{className:"mt-2 text-slate-600",children:D.subject})]},D.submittedAt+G))})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("section",{className:"bg-white rounded-2xl shadow border border-black p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-blue-50 text-blue-600 p-3 rounded-2xl",children:r.jsx(lN,{})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Password reset"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Request account unlocks or credential resets for your staff."})]})]}),r.jsxs("form",{className:"space-y-4",onSubmit:D=>{D.preventDefault(),B("password-reset",e,()=>s(iW))},children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-black font-medium",children:"Staff name"}),r.jsx("input",{name:"staffName",value:e.staffName,onChange:_(s),required:!0,className:"mt-1 w-full rounded-xl border-black focus:border-blue-500 focus:ring-blue-500",placeholder:"Eg. Priya Raman"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-black font-medium",children:"Official email"}),r.jsx("input",{type:"email",name:"email",value:e.email,onChange:_(s),required:!0,className:"mt-1 w-full rounded-xl border-slate-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"staff@school.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-black font-medium",children:"Role"}),r.jsxs("select",{name:"role",value:e.role,onChange:_(s),className:"mt-1 w-full rounded-xl border-slate-200 focus:border-blue-500 focus:ring-blue-500",children:[r.jsx("option",{value:"Teacher",children:"Teacher"}),r.jsx("option",{value:"Staff",children:"Staff"}),r.jsx("option",{value:"Principal",children:"Principal"}),r.jsx("option",{value:"Parent",children:"Parent"})]})]})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-black font-medium",children:"Urgency"}),r.jsxs("select",{name:"urgency",value:e.urgency,onChange:_(s),className:"mt-1 w-full rounded-xl border-xl border-slate-200 focus:border-blue-500 focus:ring-blue-500",children:[r.jsx("option",{value:"normal",children:"Normal"}),r.jsx("option",{value:"high",children:"High - classes impacted"}),r.jsx("option",{value:"critical",children:"Critical - exams impacted"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-black font-medium",children:"Contact number"}),r.jsx("input",{name:"contactNumber",value:e.contactNumber||"",onChange:_(s),className:"mt-1 w-full rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"+91 98765 43210"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Details"}),r.jsx("textarea",{name:"details",value:e.details,onChange:_(s),rows:3,className:"mt-1 w-full rounded-xxl border rounded-xl border-black focus:border-blue-500 focus:ring-blue-500",placeholder:"  Add context such as login screen, screenshots shared, etc."})]}),r.jsxs("button",{type:"submit",className:"w-full inline-flex items-center justify-center gap-2 rounded-xl bg-blue-600 text-white py-3 font-semibold hover:bg-blue-700 disabled:opacity-70 disabled:cursor-wait",disabled:l==="password-reset",children:[l==="password-reset"?r.jsx(Vn,{className:"h-4 w-4 animate-spin"}):r.jsx(hc,{className:"h-4 w-4"}),"Send reset request"]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow border border-black p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-violet-50 text-violet-600 p-3 rounded-2xl",children:r.jsx(gc,{})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Product feedback"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Share improvements, new ideas, or satisfaction scores."})]})]}),r.jsxs("form",{className:"space-y-4",onSubmit:D=>{D.preventDefault(),B("feedback",n,()=>a(oW))},children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Subject"}),r.jsx("input",{name:"subject",value:n.subject,onChange:_(a),required:!0,className:"mt-1 w-full rounded-xl border-slate-200 focus:border-violet-500 focus:ring-violet-500",placeholder:"Eg. Attendance dashboard idea"})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Category"}),r.jsxs("select",{name:"category",value:n.category,onChange:_(a),className:"mt-1 w-full rounded-xl border-slate-200 focus:border-violet-500 focus:ring-violet-500",children:[r.jsx("option",{value:"general",children:"General"}),r.jsx("option",{value:"feature-request",children:"Feature Request"}),r.jsx("option",{value:"issue",children:"Issue"}),r.jsx("option",{value:"praise",children:"Appreciation"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Sentiment"}),r.jsxs("select",{name:"sentiment",value:n.sentiment,onChange:_(a),className:"mt-1 w-full rounded-xl border-slate-200 focus:border-violet-500 focus:ring-violet-500",children:[r.jsx("option",{value:"positive",children:"Positive"}),r.jsx("option",{value:"neutral",children:"Neutral"}),r.jsx("option",{value:"negative",children:"Needs attention"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Message"}),r.jsx("textarea",{name:"message",value:n.message,onChange:_(a),rows:6,className:"mt-1 w-full rounded-xl border border-black focus:border-violet-500 focus:ring-violet-500",placeholder:" Be as descriptive as possible helps our product team to prioritise."})]}),r.jsxs("button",{type:"submit",className:"w-full inline-flex items-center justify-center rounded-xl bg-violet-600 text-white py-3 font-semibold hover:bg-violet-700 disabled:opacity-70 disabled:cursor-wait",disabled:l==="feedback",children:[l==="feedback"?r.jsx(Vn,{className:"h-4 w-4 animate-spin"}):r.jsx(hc,{className:"h-4 w-4"}),"Send feedback"]})]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow border border-black p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-rose-50 text-rose-600 p-3 rounded-2xl",children:r.jsx(Yi,{})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"File a complaint"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Escalate safeguarding issues, product incidents, and compliance concerns directly to our support desk."})]})]}),r.jsxs("form",{className:"space-y-4",onSubmit:D=>{D.preventDefault(),B("complaint",i,()=>o(lW))},children:[r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Complaint topic"}),r.jsxs("select",{name:"topic",value:i.topic,onChange:_(o),className:"mt-1 w-full rounded-xl border-slate-200 focus:border-rose-500 focus:ring-rose-500",children:[r.jsx("option",{value:"system-issue",children:"System issue"}),r.jsx("option",{value:"service-quality",children:"Service quality"}),r.jsx("option",{value:"data-privacy",children:"Data privacy"}),r.jsx("option",{value:"safety",children:"Student safety"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Impact level"}),r.jsxs("select",{name:"impactLevel",value:i.impactLevel,onChange:_(o),className:"mt-1 w-full rounded-xl border-slate-200 focus:border-rose-500 focus:ring-rose-500",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]})]})]}),r.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Incident date"}),r.jsx("input",{type:"date",name:"incidentDate",value:i.incidentDate,onChange:_(o),className:"mt-1 w-full rounded-xl border-slate-200 focus:border-rose-500 focus:ring-rose-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-600 font-medium",children:"Student / staff involved (optional)"}),r.jsx("input",{name:"studentOrStaff",value:i.studentOrStaff,onChange:_(o),className:"mt-1 w-full rounded-xl border-slate-200 focus:border-rose-500 focus:ring-rose-500",placeholder:"Eg. Grade 8 - Section B"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm  text-slate-600 font-medium",children:"Describe the issue"}),r.jsx("textarea",{name:"description",rows:5,value:i.description,onChange:_(o),required:!0,className:"mt-1 w-full rounded-xl border border-black focus:border-rose-500 focus:ring-rose-500",placeholder:"  Include any evidence, attachments shared via email, and the expected resolution timeline."})]}),r.jsxs("button",{type:"submit",className:"w-full inline-flex items-center justify-center gap-2 rounded-xl bg-rose-600 text-white py-3 font-semibold hover:bg-rose-700 disabled:opacity-70 disabled:cursor-wait",disabled:l==="complaint",children:[l==="complaint"?r.jsx(Vn,{className:"h-4 w-4 animate-spin"}):r.jsx(hc,{className:"h-4 w-4"}),"Submit complaint"]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow border border-black p-6 space-y-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-2xl bg-slate-100 text-slate-700",children:r.jsx(nue,{})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400 font-semibold",children:"Better requests"}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Support playbook"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Tiny reminders that keep responses fast and actionable."})]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:T.map(D=>r.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/60 p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:D.title}),r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:D.description}),r.jsx("ul",{className:"mt-3 space-y-2",children:D.checklist.map(G=>r.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600",children:[r.jsx(Fr,{className:"h-4 w-4 text-emerald-500 mt-0.5"}),r.jsx("span",{children:G})]},G))})]},D.title))})]}),r.jsxs("section",{className:"bg-slate-900 text-white rounded-2xl p-6 md:p-8 grid gap-6 md:grid-cols-2 items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase tracking-widest text-slate-400 font-semibold",children:"Need urgent help?"}),r.jsx("h2",{className:"text-2xl font-semibold mt-2",children:"Reach our on-call team 24/7"}),r.jsx("p",{className:"text-slate-300 mt-3",children:"Security and compliance incidents can be escalated immediately. Our on-call engineers track the same case ID as the ticket you create here."})]}),r.jsxs("div",{className:"bg-white/10 rounded-2xl p-5 space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Qv,{className:"text-white"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-300",children:"Service status"}),r.jsx("p",{className:"text-lg font-semibold",children:"All systems normal"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Y8,{className:"text-white"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-300",children:"On-call engineer"}),r.jsx("p",{className:"text-lg font-semibold",children:"Meow Bala"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xa,{className:"text-white"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-300",children:"Escalate on email"}),r.jsx("p",{className:"text-lg font-semibold",children:"meow.bala@eecschools.com"})]})]})]})]}),r.jsxs("section",{className:"bg-white rounded-2xl shadow-2xl border border-black p-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-widest font-semibold text-slate-400",children:"Live history"}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Recent requests"}),r.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Track what the support desk is working on for your campus."})]}),r.jsxs("button",{type:"button",onClick:I,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 text-sm font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-60",disabled:b,children:[b?r.jsx(Vn,{className:"h-4 w-4 animate-spin"}):r.jsx(lN,{className:"h-4 w-4"}),"Refresh"]})]}),v&&r.jsx("div",{className:"rounded-xl bg-rose-50 text-rose-700 border border-rose-100 px-4 py-2 text-sm mb-4",children:v}),b?r.jsx("p",{className:"text-sm text-slate-500",children:"Loading recent tickets..."}):A.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No support tickets submitted yet."}):r.jsx("div",{className:"divide-y divide-slate-100",children:A.map(D=>{var G,O;return r.jsxs("div",{className:"py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:D.subject||((G=D.supportType)==null?void 0:G.replace("-"," "))}),r.jsxs("p",{className:"text-xs text-slate-500",children:[D.ticketNumber,"  ",D.supportType," "," ",new Date(D.updatedAt||D.createdAt).toLocaleString()]}),r.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-2",children:D.message||D.resolutionNotes})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${D.status==="resolved"?"bg-emerald-50 text-emerald-600":D.status==="in_progress"?"bg-amber-50 text-amber-600":"bg-slate-100 text-slate-600"}`,children:(O=D.status)==null?void 0:O.replace("_"," ")}),D.priority&&r.jsxs("span",{className:"text-xs px-3 py-1 rounded-full bg-slate-100 text-slate-600 capitalize",children:[D.priority," priority"]})]})]},D.id)})})]})]})})};R$e();const cW=()=>{const[t,e]=E.useState(!1),[s,n]=E.useState("Dashboard"),[a,i]=E.useState(null),o=x=>{n(x)},[l,c]=E.useState(!0),[d,u]=E.useState(!0);E.useEffect(()=>{(async()=>{const A=localStorage.getItem("token");if(A)try{const g=await fetch("http://localhost:5000/api/admin/auth/profile",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${A}`}});if(!g.ok)return;const b=await g.json();i(b),sW(b)}catch(g){console.error("Failed to load admin profile",g)}})()},[]),E.useEffect(()=>{a&&sW(a)},[a]);const h=(a==null?void 0:a.role)==="super_admin",m=E.useMemo(()=>h?KB:KB.filter(x=>x.scope!=="super"),[h]),f={name:(a==null?void 0:a.name)||"Admin User",role:h?"SUPER ADMIN":"School Admin",avatar:(a==null?void 0:a.avatar)||"",campusName:(a==null?void 0:a.campusName)||"",campusType:(a==null?void 0:a.campusType)||""};return r.jsx(Wge,{activeMenuItem:s,onMenuItemClick:o,sidebarCollapsed:t,onToggleSidebar:()=>{e(!t)},adminUser:f,menuItems:m,showAdminHeader:l,showBreadcrumb:d,children:r.jsxs(J1,{children:[r.jsx(sr,{path:"dashboard",element:r.jsx(gz,{setShowAdminHeader:c})}),r.jsx(sr,{index:!0,element:r.jsx(gz,{setShowAdminHeader:c})}),r.jsx(sr,{path:"analytics",element:r.jsx(FFe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"schools",element:r.jsx(UQe,{setShowAdminHeader:c,isSuperAdmin:h})}),r.jsx(sr,{path:"school-admins",element:r.jsx(HQe,{setShowAdminHeader:c,isSuperAdmin:h})}),r.jsx(sr,{path:"teachers",element:r.jsx(QFe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"staff",element:r.jsx(VFe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"students",element:r.jsx(RQe,{setShowAdminHeader:c,setShowAdminBreadcrumb:u})}),r.jsx(sr,{path:"wellbeing",element:r.jsx(OQe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"routine",element:r.jsx(qV,{setShowAdminHeader:c})}),r.jsx(sr,{path:"routines",element:r.jsx(qV,{setShowAdminHeader:c})}),r.jsx(sr,{path:"parents",element:r.jsx(qQe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"academics",element:r.jsx(P$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"courses",element:r.jsx(KQe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"subjects",element:r.jsx(F$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"attendance",element:r.jsx(I$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"examination",element:r.jsx(WQe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"timetable",element:r.jsx(VQe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"lesson-plans",element:r.jsx(GQe,{setShowAdminHeader:c})}),r.jsx(sr,{path:"result",element:r.jsx(O$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"fees",element:r.jsx(U$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"fees/dashboard",element:r.jsx(Q$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"fees/student-details",element:r.jsx($$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"hr",element:r.jsx(z$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"support",element:r.jsx(V$e,{setShowAdminHeader:c})}),r.jsx(sr,{path:"school-registrations",element:r.jsx(G$e,{setShowAdminHeader:c})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function kw(t){return t+.5|0}const qm=(t,e,s)=>Math.max(Math.min(t,s),e);function Yy(t){return qm(kw(t*2.55),0,255)}function a0(t){return qm(kw(t*255),0,255)}function df(t){return qm(kw(t/2.55)/100,0,1)}function dW(t){return qm(kw(t*100),0,100)}const $c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},WF=[..."0123456789ABCDEF"],W$e=t=>WF[t&15],q$e=t=>WF[(t&240)>>4]+WF[t&15],vj=t=>(t&240)>>4===(t&15),K$e=t=>vj(t.r)&&vj(t.g)&&vj(t.b)&&vj(t.a);function X$e(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&$c[t[1]]*17,g:255&$c[t[2]]*17,b:255&$c[t[3]]*17,a:e===5?$c[t[4]]*17:255}:(e===7||e===9)&&(s={r:$c[t[1]]<<4|$c[t[2]],g:$c[t[3]]<<4|$c[t[4]],b:$c[t[5]]<<4|$c[t[6]],a:e===9?$c[t[7]]<<4|$c[t[8]]:255})),s}const Y$e=(t,e)=>t<255?e(t):"";function J$e(t){var e=K$e(t)?W$e:q$e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Y$e(t.a,e):void 0}const Z$e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function une(t,e,s){const n=e*Math.min(s,1-s),a=(i,o=(i+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function eze(t,e,s){const n=(a,i=(a+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function tze(t,e,s){const n=une(t,1,.5);let a;for(e+s>1&&(a=1/(e+s),e*=a,s*=a),a=0;a<3;a++)n[a]*=1-e-s,n[a]+=e;return n}function rze(t,e,s,n,a){return t===a?(e-s)/n+(e<s?6:0):e===a?(s-t)/n+2:(t-e)/n+4}function YL(t){const s=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(s,n,a),o=Math.min(s,n,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=rze(s,n,a,u,i),c=c*60+.5),[c|0,d||0,l]}function JL(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(a0)}function ZL(t,e,s){return JL(une,t,e,s)}function sze(t,e,s){return JL(tze,t,e,s)}function nze(t,e,s){return JL(eze,t,e,s)}function hne(t){return(t%360+360)%360}function aze(t){const e=Z$e.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Yy(+e[5]):a0(+e[5]));const a=hne(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=sze(a,i,o):e[1]==="hsv"?n=nze(a,i,o):n=ZL(a,i,o),{r:n[0],g:n[1],b:n[2],a:s}}function ize(t,e){var s=YL(t);s[0]=hne(s[0]+e),s=ZL(s),t.r=s[0],t.g=s[1],t.b=s[2]}function oze(t){if(!t)return;const e=YL(t),s=e[0],n=dW(e[1]),a=dW(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${a}%, ${df(t.a)})`:`hsl(${s}, ${n}%, ${a}%)`}const uW={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hW={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lze(){const t={},e=Object.keys(hW),s=Object.keys(uW);let n,a,i,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],a=0;a<s.length;a++)i=s[a],l=l.replace(i,uW[i]);i=parseInt(hW[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let wj;function cze(t){wj||(wj=lze(),wj.transparent=[0,0,0,0]);const e=wj[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const dze=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function uze(t){const e=dze.exec(t);let s=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?Yy(o):qm(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?Yy(n):qm(n,0,255)),a=255&(e[4]?Yy(a):qm(a,0,255)),i=255&(e[6]?Yy(i):qm(i,0,255)),{r:n,g:a,b:i,a:s}}}function hze(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${df(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const iT=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,FA=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function fze(t,e,s){const n=FA(df(t.r)),a=FA(df(t.g)),i=FA(df(t.b));return{r:a0(iT(n+s*(FA(df(e.r))-n))),g:a0(iT(a+s*(FA(df(e.g))-a))),b:a0(iT(i+s*(FA(df(e.b))-i))),a:t.a+s*(e.a-t.a)}}function jj(t,e,s){if(t){let n=YL(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=ZL(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function fne(t,e){return t&&Object.assign(e||{},t)}function fW(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=a0(t[3]))):(e=fne(t,{r:0,g:0,b:0,a:1}),e.a=a0(e.a)),e}function mze(t){return t.charAt(0)==="r"?uze(t):aze(t)}class U1{constructor(e){if(e instanceof U1)return e;const s=typeof e;let n;s==="object"?n=fW(e):s==="string"&&(n=X$e(e)||cze(e)||mze(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=fne(this._rgb);return e&&(e.a=df(e.a)),e}set rgb(e){this._rgb=fW(e)}rgbString(){return this._valid?hze(this._rgb):void 0}hexString(){return this._valid?J$e(this._rgb):void 0}hslString(){return this._valid?oze(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,a=e.rgb;let i;const o=s===i?.5:s,l=2*o-1,c=n.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,n.r=255&d*n.r+i*a.r+.5,n.g=255&d*n.g+i*a.g+.5,n.b=255&d*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=fze(this._rgb,e._rgb,s)),this}clone(){return new U1(this.rgb)}alpha(e){return this._rgb.a=a0(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=kw(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return jj(this._rgb,2,e),this}darken(e){return jj(this._rgb,2,-e),this}saturate(e){return jj(this._rgb,1,e),this}desaturate(e){return jj(this._rgb,1,-e),this}rotate(e){return ize(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function tf(){}const pze=(()=>{let t=0;return()=>t++})();function _n(t){return t==null}function hi(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Hs(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function od(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function _u(t,e){return od(t)?t:e}function Os(t,e){return typeof t>"u"?e:t}const xze=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,mne=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function zn(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function hn(t,e,s,n){let a,i,o;if(hi(t))for(i=t.length,a=0;a<i;a++)e.call(s,t[a],a);else if(Hs(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(s,t[o[a]],o[a])}function nS(t,e){let s,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(a=t[s],i=e[s],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function aS(t){if(hi(t))return t.map(aS);if(Hs(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let a=0;for(;a<n;++a)e[s[a]]=aS(t[s[a]]);return e}return t}function pne(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Aze(t,e,s,n){if(!pne(t))return;const a=e[t],i=s[t];Hs(a)&&Hs(i)?H1(a,i,n):e[t]=aS(i)}function H1(t,e,s){const n=hi(e)?e:[e],a=n.length;if(!Hs(t))return t;s=s||{};const i=s.merger||Aze;let o;for(let l=0;l<a;++l){if(o=n[l],!Hs(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,s)}return t}function Bv(t,e){return H1(t,e,{merger:gze})}function gze(t,e,s){if(!pne(t))return;const n=e[t],a=s[t];Hs(n)&&Hs(a)?Bv(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=aS(a))}const mW={"":t=>t,x:t=>t.x,y:t=>t.y};function bze(t){const e=t.split("."),s=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function yze(t){const e=bze(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function wx(t,e){return(mW[e]||(mW[e]=yze(e)))(t)}function eD(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Q1=t=>typeof t<"u",p0=t=>typeof t=="function",pW=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function vze(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Cn=Math.PI,Ja=2*Cn,iS=Number.POSITIVE_INFINITY,wze=Cn/180,pi=Cn/2,xp=Cn/4,xW=Cn*2/3,xne=Math.log10,i0=Math.sign;function bN(t,e,s){return Math.abs(t-e)<s}function AW(t){const e=Math.round(t);t=bN(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(xne(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function jze(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((a,i)=>a-i).pop(),e}function Nze(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function oS(t){return!Nze(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Sze(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function Cze(t,e,s){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function gf(t){return t*(Cn/180)}function _ze(t){return t*(180/Cn)}function gW(t){if(!od(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function Ane(t,e){const s=e.x-t.x,n=e.y-t.y,a=Math.sqrt(s*s+n*n);let i=Math.atan2(n,s);return i<-.5*Cn&&(i+=Ja),{angle:i,distance:a}}function Eze(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Iu(t){return(t%Ja+Ja)%Ja}function lS(t,e,s,n){const a=Iu(t),i=Iu(e),o=Iu(s),l=Iu(i-a),c=Iu(o-a),d=Iu(a-i),u=Iu(a-o);return a===i||a===o||n&&i===o||l>c&&d<u}function Ml(t,e,s){return Math.max(e,Math.min(s,t))}function kze(t){return Ml(t,-32768,32767)}function Up(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function tD(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,s(i)?a=i:n=i;return{lo:a,hi:n}}const qF=(t,e,s,n)=>tD(t,s,n?a=>{const i=t[a][e];return i<s||i===s&&t[a+1][e]===s}:a=>t[a][e]<s),Tze=(t,e,s)=>tD(t,s,n=>t[n][e]>=s);function Bze(t,e,s){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>s;)a--;return n>0||a<t.length?t.slice(n,a):t}const gne=["push","pop","shift","splice","unshift"];function Mze(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),gne.forEach(s=>{const n="_onData"+eD(s),a=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function bW(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(gne.forEach(i=>{delete t[i]}),delete t._chartjs)}function bne(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const yne=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function vne(t,e){let s=[],n=!1;return function(...a){s=a,n||(n=!0,yne.call(window,()=>{n=!1,t.apply(e,s)}))}}function Fze(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const rD=t=>t==="start"?"left":t==="end"?"right":"center",So=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,Pze=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e,Nj=t=>t===0||t===1,yW=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ja/s)),vW=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ja/s)+1,Mv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*pi)+1,easeOutSine:t=>Math.sin(t*pi),easeInOutSine:t=>-.5*(Math.cos(Cn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Nj(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Nj(t)?t:yW(t,.075,.3),easeOutElastic:t=>Nj(t)?t:vW(t,.075,.3),easeInOutElastic(t){return Nj(t)?t:t<.5?.5*yW(t*2,.1125,.45):.5+.5*vW(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Mv.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mv.easeInBounce(t*2)*.5:Mv.easeOutBounce(t*2-1)*.5+.5};function wne(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wW(t){return wne(t)?t:new U1(t)}function oT(t){return wne(t)?t:new U1(t).saturate(.5).darken(.1).hexString()}const Ize=["x","y","borderWidth","radius","tension"],Lze=["color","borderColor","backgroundColor"];function Dze(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Lze},numbers:{type:"number",properties:Ize}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Rze(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jW=new Map;function Oze(t,e){e=e||{};const s=t+JSON.stringify(e);let n=jW.get(s);return n||(n=new Intl.NumberFormat(t,e),jW.set(s,n)),n}function sD(t,e,s){return Oze(e,s).format(t)}const Uze={values(t){return hi(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=Hze(t,s)}const o=xne(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),sD(t,n,c)}};function Hze(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var jne={formatters:Uze};function Qze(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jne.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const jx=Object.create(null),KF=Object.create(null);function Fv(t,e){if(!e)return t;const s=e.split(".");for(let n=0,a=s.length;n<a;++n){const i=s[n];t=t[i]||(t[i]=Object.create(null))}return t}function lT(t,e,s){return typeof e=="string"?H1(Fv(t,e),s):H1(Fv(t,""),e)}class $ze{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>oT(a.backgroundColor),this.hoverBorderColor=(n,a)=>oT(a.borderColor),this.hoverColor=(n,a)=>oT(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return lT(this,e,s)}get(e){return Fv(this,e)}describe(e,s){return lT(KF,e,s)}override(e,s){return lT(jx,e,s)}route(e,s,n,a){const i=Fv(this,e),o=Fv(this,n),l="_"+s;Object.defineProperties(i,{[l]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[a];return Hs(c)?Object.assign({},d,c):Os(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(s=>s(this))}}var Ua=new $ze({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Dze,Rze,Qze]);function zze(t){return!t||_n(t.size)||_n(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function NW(t,e,s,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,s.push(a)),i>n&&(n=i),n}function Ap(t,e,s){const n=t.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((e-a)*n)/n+a}function SW(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function CW(t,e,s,n){Nne(t,e,s,n,null)}function Nne(t,e,s,n,a){let i,o,l,c,d,u,h,m;const f=e.pointStyle,x=e.rotation,A=e.radius;let g=(x||0)*wze;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(A)||A<=0)){switch(t.beginPath(),f){default:a?t.ellipse(s,n,a/2,A,0,0,Ja):t.arc(s,n,A,0,Ja),t.closePath();break;case"triangle":u=a?a/2:A,t.moveTo(s+Math.sin(g)*u,n-Math.cos(g)*A),g+=xW,t.lineTo(s+Math.sin(g)*u,n-Math.cos(g)*A),g+=xW,t.lineTo(s+Math.sin(g)*u,n-Math.cos(g)*A),t.closePath();break;case"rectRounded":d=A*.516,c=A-d,o=Math.cos(g+xp)*c,h=Math.cos(g+xp)*(a?a/2-d:c),l=Math.sin(g+xp)*c,m=Math.sin(g+xp)*(a?a/2-d:c),t.arc(s-h,n-l,d,g-Cn,g-pi),t.arc(s+m,n-o,d,g-pi,g),t.arc(s+h,n+l,d,g,g+pi),t.arc(s-m,n+o,d,g+pi,g+Cn),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*A,u=a?a/2:c,t.rect(s-u,n-c,2*u,2*c);break}g+=xp;case"rectRot":h=Math.cos(g)*(a?a/2:A),o=Math.cos(g)*A,l=Math.sin(g)*A,m=Math.sin(g)*(a?a/2:A),t.moveTo(s-h,n-l),t.lineTo(s+m,n-o),t.lineTo(s+h,n+l),t.lineTo(s-m,n+o),t.closePath();break;case"crossRot":g+=xp;case"cross":h=Math.cos(g)*(a?a/2:A),o=Math.cos(g)*A,l=Math.sin(g)*A,m=Math.sin(g)*(a?a/2:A),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+m,n-o),t.lineTo(s-m,n+o);break;case"star":h=Math.cos(g)*(a?a/2:A),o=Math.cos(g)*A,l=Math.sin(g)*A,m=Math.sin(g)*(a?a/2:A),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+m,n-o),t.lineTo(s-m,n+o),g+=xp,h=Math.cos(g)*(a?a/2:A),o=Math.cos(g)*A,l=Math.sin(g)*A,m=Math.sin(g)*(a?a/2:A),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+m,n-o),t.lineTo(s-m,n+o);break;case"line":o=a?a/2:Math.cos(g)*A,l=Math.sin(g)*A,t.moveTo(s-o,n-l),t.lineTo(s+o,n+l);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(g)*(a?a/2:A),n+Math.sin(g)*A);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Sne(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function nD(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function aD(t){t.restore()}function Gze(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),_n(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Vze(t,e,s,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=s-i.actualBoundingBoxAscent,d=s+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function Wze(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function $1(t,e,s,n,a,i={}){const o=hi(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,Gze(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&Wze(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),_n(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,s,n,i.maxWidth)),t.fillText(d,s,n,i.maxWidth),Vze(t,s,n,d,i),n+=Number(a.lineHeight);t.restore()}function cS(t,e){const{x:s,y:n,w:a,h:i,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*Cn,Cn,!0),t.lineTo(s,n+i-o.bottomLeft),t.arc(s+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Cn,pi,!0),t.lineTo(s+a-o.bottomRight,n+i),t.arc(s+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,pi,0,!0),t.lineTo(s+a,n+o.topRight),t.arc(s+a-o.topRight,n+o.topRight,o.topRight,0,-pi,!0),t.lineTo(s+o.topLeft,n)}const qze=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Kze=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Xze(t,e){const s=(""+t).match(qze);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const Yze=t=>+t||0;function iD(t,e){const s={},n=Hs(e),a=n?Object.keys(e):e,i=Hs(t)?n?o=>Os(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)s[o]=Yze(i(o));return s}function Cne(t){return iD(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xg(t){return iD(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ld(t){const e=Cne(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fo(t,e){t=t||{},e=e||Ua.font;let s=Os(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Os(t.style,e.style);n&&!(""+n).match(Kze)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Os(t.family,e.family),lineHeight:Xze(Os(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Os(t.weight,e.weight),string:""};return a.string=zze(a),a}function Sj(t,e,s,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function Jze(t,e,s){const{min:n,max:a}=t,i=mne(e,(a-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function Ib(t,e){return Object.assign(Object.create(t),e)}function oD(t,e=[""],s,n,a=()=>t[0]){const i=s||t;typeof n>"u"&&(n=Tne("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>oD([l,...t],e,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Ene(l,c,()=>iGe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return EW(l).includes(c)},ownKeys(l){return EW(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function db(t,e,s,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:_ne(t,n),setContext:i=>db(t,i,s,n),override:i=>db(t.override(i),e,s,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return Ene(i,o,()=>eGe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function _ne(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:s,indexable:n,isScriptable:p0(s)?s:()=>s,isIndexable:p0(n)?n:()=>n}}const Zze=(t,e)=>t?t+eD(e):e,lD=(t,e)=>Hs(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ene(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function eGe(t,e,s){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let l=n[e];return p0(l)&&o.isScriptable(e)&&(l=tGe(e,l,t,s)),hi(l)&&l.length&&(l=rGe(e,l,t,o.isIndexable)),lD(e,l)&&(l=db(l,a,i&&i[e],o)),l}function tGe(t,e,s,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=s;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||n);return l.delete(t),lD(t,c)&&(c=cD(a._scopes,a,t,c)),c}function rGe(t,e,s,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=s;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Hs(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=cD(d,a,t,u);e.push(db(h,i,o&&o[t],l))}}return e}function kne(t,e,s){return p0(t)?t(e,s):t}const sGe=(t,e)=>t===!0?e:typeof t=="string"?wx(e,t):void 0;function nGe(t,e,s,n,a){for(const i of e){const o=sGe(s,i);if(o){t.add(o);const l=kne(o._fallback,s,a);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function cD(t,e,s,n){const a=e._rootScopes,i=kne(e._fallback,s,n),o=[...t,...a],l=new Set;l.add(n);let c=_W(l,o,s,i||s,n);return c===null||typeof i<"u"&&i!==s&&(c=_W(l,o,i,c,n),c===null)?!1:oD(Array.from(l),[""],a,i,()=>aGe(e,s,n))}function _W(t,e,s,n,a){for(;s;)s=nGe(t,e,s,n,a);return s}function aGe(t,e,s){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return hi(a)&&Hs(s)?s:a||{}}function iGe(t,e,s,n){let a;for(const i of e)if(a=Tne(Zze(i,t),s),typeof a<"u")return lD(t,a)?cD(s,n,t,a):a}function Tne(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function EW(t){let e=t._keys;return e||(e=t._keys=oGe(t._scopes)),e}function oGe(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function dD(){return typeof window<"u"&&typeof document<"u"}function uD(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function dS(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const E4=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function lGe(t,e){return E4(t).getPropertyValue(e)}const cGe=["top","right","bottom","left"];function ex(t,e,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const i=cGe[a];n[i]=parseFloat(t[e+"-"+i+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const dGe=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function uGe(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,l,c;if(dGe(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Sp(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,a=E4(s),i=a.boxSizing==="border-box",o=ex(a,"padding"),l=ex(a,"border","width"),{x:c,y:d,box:u}=uGe(t,s),h=o.left+(u&&l.left),m=o.top+(u&&l.top);let{width:f,height:x}=e;return i&&(f-=o.width+l.width,x-=o.height+l.height),{x:Math.round((c-h)/f*s.width/n),y:Math.round((d-m)/x*s.height/n)}}function hGe(t,e,s){let n,a;if(e===void 0||s===void 0){const i=t&&uD(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const o=i.getBoundingClientRect(),l=E4(i),c=ex(l,"border","width"),d=ex(l,"padding");e=o.width-d.width-c.width,s=o.height-d.height-c.height,n=dS(l.maxWidth,i,"clientWidth"),a=dS(l.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:n||iS,maxHeight:a||iS}}const Km=t=>Math.round(t*10)/10;function fGe(t,e,s,n){const a=E4(t),i=ex(a,"margin"),o=dS(a.maxWidth,t,"clientWidth")||iS,l=dS(a.maxHeight,t,"clientHeight")||iS,c=hGe(t,e,s);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const m=ex(a,"border","width"),f=ex(a,"padding");d-=f.width+m.width,u-=f.height+m.height}return d=Math.max(0,d-i.width),u=Math.max(0,n?d/n:u-i.height),d=Km(Math.min(d,o,c.maxWidth)),u=Km(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Km(d/2)),(e!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Km(Math.floor(u*n))),{width:d,height:u}}function kW(t,e,s){const n=e||1,a=Km(t.height*n),i=Km(t.width*n);t.height=Km(t.height),t.width=Km(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const mGe=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};dD()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function TW(t,e){const s=lGe(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const pGe=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},xGe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ag(t,e,s){return t?pGe(e,s):xGe()}function Bne(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Mne(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Cj(t,e,s){return t.options.clip?t[s]:e[s]}function AGe(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:Cj(s,e,"left"),right:Cj(s,e,"right"),top:Cj(n,e,"top"),bottom:Cj(n,e,"bottom")}:e}function gGe(t,e){const s=e._clip;if(s.disabled)return!1;const n=AGe(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class bGe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,a){const i=s.listeners[a],o=s.duration;i.forEach(l=>l({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=yne.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var af=new bGe;const BW="transparent",yGe={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=wW(t||BW),a=n.valid&&wW(e||BW);return a&&a.valid?a.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class vGe{constructor(e,s,n,a){const i=s[n];a=Sj([e.to,a,i,e.from]);const o=Sj([e.from,i,a]);this._active=!0,this._fn=e.fn||yGe[e.type||typeof o],this._easing=Mv[e.easing]||Mv.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Sj([e.to,s,a,e.from]),this._from=Sj([e.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||s<n),!this._active){this._target[a]=l,this._notify(!0);return}if(s<0){this._target[a]=i;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][s]()}}class Fne{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!Hs(e))return;const s=Object.keys(Ua.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!Hs(i))return;const o={};for(const l of s)o[l]=i[l];(hi(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,s){const n=s.options,a=jGe(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&wGe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,s){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,s));continue}const u=s[d];let h=i[d];const m=n.get(d);if(h)if(m&&h.active()){h.update(m,u,l);continue}else h.cancel();if(!m||!m.duration){e[d]=u;continue}i[d]=h=new vGe(m,e,d,u),a.push(h)}return a}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return af.add(this._chart,n),!0}}function wGe(t,e){const s=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function jGe(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function MW(t,e){const s=t&&t.options||{},n=s.reverse,a=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function NGe(t,e,s){if(s===!1)return!1;const n=MW(t,s),a=MW(e,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function SGe(t){let e,s,n,a;return Hs(t)?(e=t.top,s=t.right,n=t.bottom,a=t.left):e=s=n=a=t,{top:e,right:s,bottom:n,left:a,disabled:t===!1}}function Pne(t,e){const s=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)s.push(n[a].index);return s}function FW(t,e,s,n={}){const a=t.keys,i=n.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===s){if(u=!0,n.all)continue;break}d=t.values[c],od(d)&&(i||e===0||i0(e)===i0(d))&&(e+=d)}return!u&&!n.all?0:e}function CGe(t,e){const{iScale:s,vScale:n}=e,a=s.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function cT(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function _Ge(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function EGe(t){const{min:e,max:s,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function kGe(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function PW(t,e,s,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(s&&i>0||!s&&i<0)return a.index}return null}function IW(t,e){const{chart:s,_cachedMeta:n}=t,a=s._stacks||(s._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,d=o.axis,u=_Ge(i,o,n),h=e.length;let m;for(let f=0;f<h;++f){const x=e[f],{[c]:A,[d]:g}=x,b=x._stacks||(x._stacks={});m=b[d]=kGe(a,u,A),m[l]=g,m._top=PW(m,o,!0,n.type),m._bottom=PW(m,o,!1,n.type);const w=m._visualValues||(m._visualValues={});w[l]=g}}function dT(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function TGe(t,e){return Ib(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function BGe(t,e,s){return Ib(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function My(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][s]===void 0)return;delete i[n][s],i[n]._visualValues!==void 0&&i[n]._visualValues[s]!==void 0&&delete i[n]._visualValues[s]}}}const uT=t=>t==="reset"||t==="none",LW=(t,e)=>e?t:Object.assign({},t),MGe=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:Pne(s,!0),values:null};class gg{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=cT(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&My(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),a=(h,m,f,x)=>h==="x"?m:h==="r"?x:f,i=s.xAxisID=Os(n.xAxisID,dT(e,"x")),o=s.yAxisID=Os(n.yAxisID,dT(e,"y")),l=s.rAxisID=Os(n.rAxisID,dT(e,"r")),c=s.indexAxis,d=s.iAxisID=a(c,i,o,l),u=s.vAxisID=a(c,o,i,l);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&bW(this._data,this),e._stacked&&My(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(Hs(s)){const a=this._cachedMeta;this._data=CGe(s,a)}else if(n!==s){if(n){bW(n,this);const a=this._cachedMeta;My(a),a._parsed=[]}s&&Object.isExtensible(s)&&Mze(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=s._stacked;s._stacked=cT(s.vScale,s),s.stack!==n.stack&&(a=!0,My(s),s.stack=n.stack),this._resyncElements(e),(a||i!==s._stacked)&&(IW(this,s._parsed),s._stacked=cT(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=e===0&&s===a.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,h,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{hi(a[e])?m=this.parseArrayData(n,a,e,s):Hs(a[e])?m=this.parseObjectData(n,a,e,s):m=this.parsePrimitiveData(n,a,e,s);const f=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<s;++u)n._parsed[u+e]=h=m[u],c&&(f()&&(c=!1),d=h);n._sorted=c}o&&IW(this,m)}parsePrimitiveData(e,s,n,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(a);let m,f,x;for(m=0,f=a;m<f;++m)x=m+n,h[m]={[l]:u||i.parse(d[x],x),[c]:o.parse(s[x],x)};return h}parseArrayData(e,s,n,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+n,h=s[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,s,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,m,f;for(u=0,h=a;u<h;++u)m=u+n,f=s[m],d[u]={x:i.parse(wx(f,l),m),y:o.parse(wx(f,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const a=this.chart,i=this._cachedMeta,o=s[e.axis],l={keys:Pne(a,!0),values:s._stacks[e.axis]._visualValues};return FW(l,o,i.index,{mode:n})}updateRangeFromParsed(e,s,n,a){const i=n[s.axis];let o=i===null?NaN:i;const l=a&&n._stacks[s.axis];a&&l&&(a.values=l,o=FW(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=MGe(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=EGe(l);let m,f;function x(){f=a[m];const A=f[l.axis];return!od(f[e.axis])||u>A||h<A}for(m=0;m<o&&!(!x()&&(this.updateRangeFromParsed(d,e,f,c),i));++m);if(i){for(m=o-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=s.length;a<i;++a)o=s[a][e.axis],od(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,a=s.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=SGe(Os(this.options.clip,NGe(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,a=n.data||[],i=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=BGe(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=TGe(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const a=s==="active",i=this._cachedDataOpts,o=e+"-"+s,l=i[o],c=this.enableOptionSharing&&Q1(n);if(l)return LW(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=a?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),f=Object.keys(Ua.elements[e]),x=()=>this.getContext(n,a,s),A=d.resolveNamedOptions(m,f,x,h);return A.$shared&&(A.$shared=c,i[o]=Object.freeze(LW(A,c))),A}_resolveAnimations(e,s,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${s}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(e,n,s))}const d=new Fne(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||uT(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(s,i)||i!==a;return this.updateSharedOptions(i,s,n),{sharedOptions:i,includeOptions:o}}updateElement(e,s,n,a){uT(a)?Object.assign(e,n):this._resolveAnimations(s,a).update(e,n)}updateSharedOptions(e,s,n){e&&!uT(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,a){e.active=a;const i=this.getStyle(s,a);this._resolveAnimations(s,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=n.length,i=s.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,s,n=!0){const a=this._cachedMeta,i=a.data,o=e+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,s),n&&this.updateElements(i,e,s,"reset")}updateElements(e,s,n,a){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,s);n._stacked&&My(n,a)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,a]=e;this[s](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}hr(gg,"defaults",{}),hr(gg,"datasetElementType",null),hr(gg,"dataElementType",null);function FGe(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=s.length;a<i;a++)n=n.concat(s[a].controller.getAllParsedValues(t));t._cache.$bar=bne(n.sort((a,i)=>a-i))}return t._cache.$bar}function PGe(t){const e=t.iScale,s=FGe(e,t.type);let n=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(Q1(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=s.length;a<i;++a)o=e.getPixelForValue(s[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return n}function IGe(t,e,s,n){const a=s.barThickness;let i,o;return _n(a)?(i=e.min*s.categoryPercentage,o=s.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function LGe(t,e,s,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=s.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:s.barPercentage,start:d}}function DGe(t,e,s,n){const a=s.parse(t[0],n),i=s.parse(t[1],n),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[s.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function Ine(t,e,s,n){return hi(t)?DGe(t,e,s,n):e[s.axis]=s.parse(t,n),e}function DW(t,e,s,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,h,m;for(d=s,u=s+n;d<u;++d)m=e[d],h={},h[a.axis]=l||a.parse(o[d],d),c.push(Ine(m,h,i,d));return c}function hT(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function RGe(t,e,s){return t!==0?i0(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function OGe(t){let e,s,n,a,i;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:s,end:n,reverse:e,top:a,bottom:i}}function UGe(t,e,s,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=OGe(t);a==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?a=d:(s._bottom||0)===n?a=u:(i[RW(u,o,l,c)]=!0,a=d)),i[RW(a,o,l,c)]=!0,t.borderSkipped=i}function RW(t,e,s,n){return n?(t=HGe(t,e,s),t=OW(t,s,e)):t=OW(t,e,s),t}function HGe(t,e,s){return t===e?s:t===s?e:t}function OW(t,e,s){return t==="start"?e:t==="end"?s:t}function QGe(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class yN extends gg{parsePrimitiveData(e,s,n,a){return DW(e,s,n,a)}parseArrayData(e,s,n,a){return DW(e,s,n,a)}parseObjectData(e,s,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let m,f,x,A;for(m=n,f=n+a;m<f;++m)A=s[m],x={},x[i.axis]=i.parse(wx(A,d),m),h.push(Ine(wx(A,u),x,o,m));return h}updateRangeFromParsed(e,s,n,a){super.updateRangeFromParsed(e,s,n,a);const i=n._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:a}=s,i=this.getParsed(e),o=i._custom,l=hT(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(s,a);for(let f=s;f<s+n;f++){const x=this.getParsed(f),A=i||_n(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,u),b=(x._stacks||{})[l.axis],w={horizontal:d,base:A.base,enableBorderRadius:!b||hT(x._custom)||o===b._top||o===b._bottom,x:d?A.head:g.center,y:d?g.center:A.head,height:d?g.size:Math.abs(A.size),width:d?Math.abs(A.size):g.size};m&&(w.options=h||this.resolveDataElementOptions(f,e[f].active?"active":a));const v=w.options||e[f].options;UGe(w,v,b,o),QGe(w,v,u.ratio),this.updateElement(e[f],f,w,a)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(s),c=l&&l[n.axis],d=u=>{const h=u._parsed.find(f=>f[n.axis]===c),m=h&&h[u.vScale.axis];if(_n(m)||isNaN(m))return!0};for(const u of a)if(!(s!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Os(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const a=this._getStacks(e,n),i=s!==void 0?a.indexOf(s):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,a=[];let i,o;for(i=0,o=s.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||PGe(s),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=hT(d);let h=c[s.axis],m=0,f=n?this.applyStack(s,c,n):h,x,A;f!==h&&(m=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&i0(h)!==i0(d.barEnd)&&(m=0),m+=h);const g=!_n(i)&&!u?i:m;let b=s.getPixelForValue(g);if(this.chart.getDataVisibility(e)?x=s.getPixelForValue(m+f):x=b,A=x-b,Math.abs(A)<o){A=RGe(A,s,l)*o,h===l&&(b-=A/2);const w=s.getPixelForDecimal(0),v=s.getPixelForDecimal(1),j=Math.min(w,v),N=Math.max(w,v);b=Math.max(Math.min(b,N),j),x=b+A,n&&!u&&(c._stacks[s.axis]._visualValues[a]=s.getValueForPixel(x)-s.getValueForPixel(b))}if(b===s.getPixelForValue(l)){const w=i0(A)*s.getLineWidthForValue(l)/2;b+=w,A-=w}return{size:A,base:b,head:x,center:x+A/2}}_calculateBarIndexPixels(e,s){const n=s.scale,a=this.options,i=a.skipNull,o=Os(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(s.grouped){const u=i?this._getStackCount(e):s.stackCount,h=a.barThickness==="flex"?LGe(e,s,a,u*d):IGe(e,s,a,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(Os(m,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;l=h.start+h.chunk*x+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[s.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}hr(yN,"id","bar"),hr(yN,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),hr(yN,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function $Ge(t,e,s){let n=1,a=1,i=0,o=0;if(e<Ja){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),m=Math.sin(c),f=(v,j,N)=>lS(v,l,c,!0)?1:Math.max(j,j*s,N,N*s),x=(v,j,N)=>lS(v,l,c,!0)?-1:Math.min(j,j*s,N,N*s),A=f(0,d,h),g=f(pi,u,m),b=x(Cn,d,h),w=x(Cn+pi,u,m);n=(A-b)/2,a=(g-w)/2,i=-(A+b)/2,o=-(g+w)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class Jy extends gg{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=c=>+n[c];if(Hs(n[e])){const{key:c="value"}=this._parsing;i=d=>+wx(n[d],c)}let o,l;for(o=e,l=e+s;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return gf(this.options.rotation-90)}_getCircumference(){return gf(this.options.circumference)}_getRotationExtents(){let e=Ja,s=-Ja;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),s=Math.max(s,i+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(xze(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:x,offsetY:A}=$Ge(h,u,c),g=(n.width-o)/m,b=(n.height-o)/f,w=Math.max(Math.min(g,b)/2,0),v=mne(this.options.radius,w),j=Math.max(v*c,0),N=(v-j)/this._getVisibleDatasetWeightTotal();this.offsetX=x*v,this.offsetY=A*v,a.total=this.calculateTotal(),this.outerRadius=v-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,s){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Ja)}updateElements(e,s,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=i&&d.animateScale,f=m?0:this.innerRadius,x=m?0:this.outerRadius,{sharedOptions:A,includeOptions:g}=this._getSharedOptions(s,a);let b=this._getRotation(),w;for(w=0;w<s;++w)b+=this._circumference(w,i);for(w=s;w<s+n;++w){const v=this._circumference(w,i),j=e[w],N={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:x,innerRadius:f};g&&(N.options=A||this.resolveDataElementOptions(w,j.active?"active":a)),b+=v,this.updateElement(j,w,N,a)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,a;for(a=0;a<s.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Ja*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=sD(s._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let s=0;const n=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);s=Math.max(s,i.offset||0,i.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(Os(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}hr(Jy,"id","doughnut"),hr(Jy,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),hr(Jy,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),hr(Jy,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((c,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class XF extends Jy{}hr(XF,"id","pie"),hr(XF,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function gp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hD{constructor(e){hr(this,"options");this.options=e||{}}static override(e){Object.assign(hD.prototype,e)}init(){}formats(){return gp()}parse(){return gp()}format(){return gp()}add(){return gp()}diff(){return gp()}startOf(){return gp()}endOf(){return gp()}}var zGe={_date:hD};function GGe(t,e,s,n){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?Tze:qF;if(n){if(a._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const m=d(i,e,s-h),f=d(i,e,s+h);return{lo:m.lo,hi:f.hi}}}}else{const u=d(i,e,s);if(c){const{vScale:h}=a._cachedMeta,{_parsed:m}=t,f=m.slice(0,u.lo+1).reverse().findIndex(A=>!_n(A[h.axis]));u.lo-=Math.max(0,f);const x=m.slice(u.hi).findIndex(A=>!_n(A[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:i.length-1}}function k4(t,e,s,n,a){const i=t.getSortedVisibleDatasetMetas(),o=s[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:m}=GGe(i[l],e,o,a);for(let f=h;f<=m;++f){const x=u[f];x.skip||n(x,d,f)}}}function VGe(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=s?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function fT(t,e,s,n,a){const i=[];return!a&&!t.isPointInArea(e)||k4(t,s,e,function(l,c,d){!a&&!Sne(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function WGe(t,e,s,n){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=Ane(o,{x:e.x,y:e.y});lS(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return k4(t,s,e,i),a}function qGe(t,e,s,n,a,i){let o=[];const l=VGe(s);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const f=u.inRange(e.x,e.y,a);if(n&&!f)return;const x=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(x))&&!f)return;const g=l(e,x);g<c?(o=[{element:u,datasetIndex:h,index:m}],c=g):g===c&&o.push({element:u,datasetIndex:h,index:m})}return k4(t,s,e,d),o}function mT(t,e,s,n,a,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!n?WGe(t,e,s,a):qGe(t,e,s,n,a,i)}function UW(t,e,s,n,a){const i=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return k4(t,s,e,(c,d,u)=>{c[o]&&c[o](e[s],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:i}var KGe={modes:{index(t,e,s,n){const a=Sp(e,t),i=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?fT(t,a,i,n,o):mT(t,a,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,s,n){const a=Sp(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?fT(t,a,i,n,o):mT(t,a,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,s,n){const a=Sp(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return fT(t,a,i,n,o)},nearest(t,e,s,n){const a=Sp(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return mT(t,a,i,s.intersect,n,o)},x(t,e,s,n){const a=Sp(e,t);return UW(t,a,"x",s.intersect,n)},y(t,e,s,n){const a=Sp(e,t);return UW(t,a,"y",s.intersect,n)}}};const Lne=["left","top","right","bottom"];function Fy(t,e){return t.filter(s=>s.pos===e)}function HW(t,e){return t.filter(s=>Lne.indexOf(s.pos)===-1&&s.box.axis===e)}function Py(t,e){return t.sort((s,n)=>{const a=e?n:s,i=e?s:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function XGe(t){const e=[];let s,n,a,i,o,l;for(s=0,n=(t||[]).length;s<n;++s)a=t[s],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:s,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function YGe(t){const e={};for(const s of t){const{stack:n,pos:a,stackWeight:i}=s;if(!n||!Lne.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function JGe(t,e){const s=YGe(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=s[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=u?u*a:c&&e.availableHeight)}return s}function ZGe(t){const e=XGe(t),s=Py(e.filter(d=>d.box.fullSize),!0),n=Py(Fy(e,"left"),!0),a=Py(Fy(e,"right")),i=Py(Fy(e,"top"),!0),o=Py(Fy(e,"bottom")),l=HW(e,"x"),c=HW(e,"y");return{fullSize:s,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:Fy(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function QW(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function Dne(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function eVe(t,e,s,n){const{pos:a,box:i}=s,o=t.maxPadding;if(!Hs(a)){s.size&&(t[a]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?i.height:i.width),s.size=h.size/h.count,t[a]+=s.size}i.getPadding&&Dne(o,i.getPadding());const l=Math.max(0,e.outerWidth-QW(o,t,"left","right")),c=Math.max(0,e.outerHeight-QW(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function tVe(t){const e=t.maxPadding;function s(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function rVe(t,e){const s=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],s[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Zy(t,e,s,n){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,rVe(l.horizontal,e));const{same:h,other:m}=eVe(e,s,l,n);d|=h&&a.length,u=u||m,c.fullSize||a.push(l)}return d&&Zy(a,e,s,n)||u}function _j(t,e,s,n,a){t.top=s,t.left=e,t.right=e+n,t.bottom=s+a,t.width=n,t.height=a}function $W(t,e,s,n){const a=s.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,m=d.size||c.height;Q1(d.start)&&(o=d.start),c.fullSize?_j(c,a.left,o,s.outerWidth-a.right-a.left,m):_j(c,e.left+d.placed,o,h,m),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,m=d.size||c.width;Q1(d.start)&&(i=d.start),c.fullSize?_j(c,i,a.top,m,s.outerHeight-a.bottom-a.top):_j(c,i,e.top+d.placed,m,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var ed={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const a=ld(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(s-a.height,0),l=ZGe(t.boxes),c=l.vertical,d=l.horizontal;hn(t.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const u=c.reduce((A,g)=>g.box.options&&g.box.options.display===!1?A:A+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},a);Dne(m,ld(n));const f=Object.assign({maxPadding:m,w:i,h:o,x:a.left,y:a.top},a),x=JGe(c.concat(d),h);Zy(l.fullSize,f,h,x),Zy(c,f,h,x),Zy(d,f,h,x)&&Zy(c,f,h,x),tVe(f),$W(l.leftAndTop,f,h,x),f.x+=f.w,f.y+=f.h,$W(l.rightAndBottom,f,h,x),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},hn(l.chartArea,A=>{const g=A.box;Object.assign(g,t.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Rne{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,a){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,a?Math.floor(s/a):n)}}isAttached(e){return!0}updateConfig(e){}}class sVe extends Rne{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const vN="$chartjs",nVe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zW=t=>t===null||t==="";function aVe(t,e){const s=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[vN]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",zW(a)){const i=TW(t,"width");i!==void 0&&(t.width=i)}if(zW(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=TW(t,"height");i!==void 0&&(t.height=i)}return t}const One=mGe?{passive:!0}:!1;function iVe(t,e,s){t&&t.addEventListener(e,s,One)}function oVe(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,One)}function lVe(t,e){const s=nVe[t.type]||t.type,{x:n,y:a}=Sp(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function uS(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function cVe(t,e,s){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||uS(l.addedNodes,n),o=o&&!uS(l.removedNodes,n);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function dVe(t,e,s){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||uS(l.removedNodes,n),o=o&&!uS(l.addedNodes,n);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const z1=new Map;let GW=0;function Une(){const t=window.devicePixelRatio;t!==GW&&(GW=t,z1.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function uVe(t,e){z1.size||window.addEventListener("resize",Une),z1.set(t,e)}function hVe(t){z1.delete(t),z1.size||window.removeEventListener("resize",Une)}function fVe(t,e,s){const n=t.canvas,a=n&&uD(n);if(!a)return;const i=vne((l,c)=>{const d=a.clientWidth;s(l,c),d<a.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),uVe(t,i),o}function pT(t,e,s){s&&s.disconnect(),e==="resize"&&hVe(t)}function mVe(t,e,s){const n=t.canvas,a=vne(i=>{t.ctx!==null&&s(lVe(i,t))},t);return iVe(n,e,a),a}class pVe extends Rne{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(aVe(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[vN])return!1;const n=s[vN].initial;["height","width"].forEach(i=>{const o=n[i];_n(o)?s.removeAttribute(i):s.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{s.style[i]=a[i]}),s.width=s.width,delete s[vN],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const a=e.$proxies||(e.$proxies={}),o={attach:cVe,detach:dVe,resize:fVe}[s]||mVe;a[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),a=n[s];if(!a)return;({attach:pT,detach:pT,resize:pT}[s]||oVe)(e,s,a),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,a){return fGe(e,s,n,a)}isAttached(e){const s=e&&uD(e);return!!(s&&s.isConnected)}}function xVe(t){return!dD()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?sVe:pVe}var aN;let Hx=(aN=class{constructor(){hr(this,"x");hr(this,"y");hr(this,"active",!1);hr(this,"options");hr(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return oS(this.x)&&oS(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}},hr(aN,"defaults",{}),hr(aN,"defaultRoutes"),aN);function AVe(t,e){const s=t.options.ticks,n=gVe(t),a=Math.min(s.maxTicksLimit||n,n),i=s.major.enabled?yVe(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return vVe(e,d,i,o/a),d;const u=bVe(i,e,a);if(o>0){let h,m;const f=o>1?Math.round((c-l)/(o-1)):null;for(Ej(e,d,u,_n(f)?0:l-f,l),h=0,m=o-1;h<m;h++)Ej(e,d,u,i[h],i[h+1]);return Ej(e,d,u,c,_n(f)?e.length:c+f),d}return Ej(e,d,u),d}function gVe(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),a=t._maxLength/s;return Math.floor(Math.min(n,a))}function bVe(t,e,s){const n=wVe(t),a=e.length/s;if(!n)return Math.max(a,1);const i=jze(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function yVe(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function vVe(t,e,s,n){let a=0,i=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=s[a*n])}function Ej(t,e,s,n,a){const i=Os(n,0),o=Math.min(Os(a,t.length),t.length);let l=0,c,d,u;for(s=Math.ceil(s),a&&(c=a-n,s=c/Math.floor(c/s)),u=i;u<0;)l++,u=Math.round(i+l*s);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*s))}function wVe(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const jVe=t=>t==="left"?"right":t==="right"?"left":t,VW=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,WW=(t,e)=>Math.min(e||t,t);function qW(t,e){const s=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)s.push(t[Math.floor(i)]);return s}function NVe(t,e,s){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(s&&(n===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function SVe(t,e){hn(t,s=>{const n=s.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete s.data[n[i]];n.splice(0,a)}})}function Iy(t){return t.drawTicks?t.tickLength:0}function KW(t,e){if(!t.display)return 0;const s=Fo(t.font,e),n=ld(t.padding);return(hi(t.text)?t.text.length:1)*s.lineHeight+n.height}function CVe(t,e){return Ib(t,{scale:e,type:"scale"})}function _Ve(t,e,s){return Ib(t,{tick:s,index:e,type:"tick"})}function EVe(t,e,s){let n=rD(t);return(s&&e!=="right"||!s&&e==="right")&&(n=jVe(n)),n}function kVe(t,e,s,n){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,m,f,x;const A=o-a,g=l-i;if(t.isHorizontal()){if(f=So(n,i,l),Hs(s)){const b=Object.keys(s)[0],w=s[b];x=u[b].getPixelForValue(w)+A-e}else s==="center"?x=(d.bottom+d.top)/2+A-e:x=VW(t,s,e);m=l-i}else{if(Hs(s)){const b=Object.keys(s)[0],w=s[b];f=u[b].getPixelForValue(w)-g+e}else s==="center"?f=(d.left+d.right)/2-g+e:f=VW(t,s,e);x=So(n,o,a),h=s==="left"?-pi:pi}return{titleX:f,titleY:x,maxWidth:m,rotation:h}}class Lb extends Hx{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:a}=this;return e=_u(e,Number.POSITIVE_INFINITY),s=_u(s,Number.NEGATIVE_INFINITY),n=_u(n,Number.POSITIVE_INFINITY),a=_u(a,Number.NEGATIVE_INFINITY),{min:_u(e,n),max:_u(s,a),minDefined:od(e),maxDefined:od(s)}}getMinMax(e){let{min:s,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(s=Math.min(s,o.min)),i||(n=Math.max(n,o.max));return s=i&&s>n?n:s,n=a&&s>n?s:n,{min:_u(s,_u(n,s)),max:_u(n,_u(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zn(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Jze(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?qW(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=AVe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zn(this.options.afterUpdate,[this])}beforeSetDimensions(){zn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),zn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=zn(s.callback,[i.value,n,e],this)}afterTickToLabelConversion(){zn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=WW(this.ticks.length,e.ticks.maxTicksLimit),a=s.minRotation||0,i=s.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!s.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,f=Ml(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:f/(n-1),h+6>l&&(l=f/(n-(e.offset?.5:1)),c=this.maxHeight-Iy(e.grid)-s.padding-KW(e.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),o=_ze(Math.min(Math.asin(Ml((u.highest.height+6)/l,-1,1)),Math.asin(Ml(c/d,-1,1))-Math.asin(Ml(m/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){zn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=KW(a,s.options.font);if(l?(e.width=this.maxWidth,e.height=Iy(i)+c):(e.height=this.maxHeight,e.width=Iy(i)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),f=n.padding*2,x=gf(this.labelRotation),A=Math.cos(x),g=Math.sin(x);if(l){const b=n.mirror?0:g*h.width+A*m.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=n.mirror?0:A*h.width+g*m.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(d,u,g,A)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,f=0;c?d?(m=a*e.width,f=n*s.height):(m=n*e.height,f=a*s.width):i==="start"?f=s.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,f=s.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)_n(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=qW(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(s/WW(s,n));let d=0,u=0,h,m,f,x,A,g,b,w,v,j,N;for(h=0;h<s;h+=c){if(x=e[h].label,A=this._resolveTickFontOptions(h),a.font=g=A.string,b=i[g]=i[g]||{data:{},gc:[]},w=A.lineHeight,v=j=0,!_n(x)&&!hi(x))v=NW(a,b.data,b.gc,v,x),j=w;else if(hi(x))for(m=0,f=x.length;m<f;++m)N=x[m],!_n(N)&&!hi(N)&&(v=NW(a,b.data,b.gc,v,N),j+=w);o.push(v),l.push(j),d=Math.max(v,d),u=Math.max(j,u)}SVe(i,s);const S=o.indexOf(d),T=l.indexOf(u),I=_=>({width:o[_]||0,height:l[_]||0});return{first:I(0),last:I(s-1),widest:I(S),highest:I(T),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return kze(this._alignToPixels?Ap(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=_Ve(this.getContext(),e,n))}return this.$context||(this.$context=CVe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=gf(this.labelRotation),n=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=Iy(i),f=[],x=l.setContext(this.getContext()),A=x.display?x.width:0,g=A/2,b=function(G){return Ap(n,G,A)};let w,v,j,N,S,T,I,_,M,C,B,P;if(o==="top")w=b(this.bottom),T=this.bottom-m,_=w-g,C=b(e.top)+g,P=e.bottom;else if(o==="bottom")w=b(this.top),C=e.top,P=b(e.bottom)-g,T=w+g,_=this.top+m;else if(o==="left")w=b(this.right),S=this.right-m,I=w-g,M=b(e.left)+g,B=e.right;else if(o==="right")w=b(this.left),M=e.left,B=b(e.right)-g,S=w+g,I=this.left+m;else if(s==="x"){if(o==="center")w=b((e.top+e.bottom)/2+.5);else if(Hs(o)){const G=Object.keys(o)[0],O=o[G];w=b(this.chart.scales[G].getPixelForValue(O))}C=e.top,P=e.bottom,T=w+g,_=T+m}else if(s==="y"){if(o==="center")w=b((e.left+e.right)/2);else if(Hs(o)){const G=Object.keys(o)[0],O=o[G];w=b(this.chart.scales[G].getPixelForValue(O))}S=w-g,I=S-m,M=e.left,B=e.right}const H=Os(a.ticks.maxTicksLimit,h),D=Math.max(1,Math.ceil(h/H));for(v=0;v<h;v+=D){const G=this.getContext(v),O=i.setContext(G),Q=l.setContext(G),ee=O.lineWidth,q=O.color,Z=Q.dash||[],F=Q.dashOffset,z=O.tickWidth,V=O.tickColor,W=O.tickBorderDash||[],ne=O.tickBorderDashOffset;j=NVe(this,v,c),j!==void 0&&(N=Ap(n,j,ee),d?S=I=M=B=N:T=_=C=P=N,f.push({tx1:S,ty1:T,tx2:I,ty2:_,x1:M,y1:C,x2:B,y2:P,width:ee,color:q,borderDash:Z,borderDashOffset:F,tickWidth:z,tickColor:V,tickBorderDash:W,tickBorderDashOffset:ne}))}return this._ticksLength=h,this._borderValue=w,f}_computeLabelItems(e){const s=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,m=Iy(n.grid),f=m+u,x=h?-u:f,A=-gf(this.labelRotation),g=[];let b,w,v,j,N,S,T,I,_,M,C,B,P="middle";if(a==="top")S=this.bottom-x,T=this._getXAxisLabelAlignment();else if(a==="bottom")S=this.top+x,T=this._getXAxisLabelAlignment();else if(a==="left"){const D=this._getYAxisLabelAlignment(m);T=D.textAlign,N=D.x}else if(a==="right"){const D=this._getYAxisLabelAlignment(m);T=D.textAlign,N=D.x}else if(s==="x"){if(a==="center")S=(e.top+e.bottom)/2+f;else if(Hs(a)){const D=Object.keys(a)[0],G=a[D];S=this.chart.scales[D].getPixelForValue(G)+f}T=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")N=(e.left+e.right)/2-f;else if(Hs(a)){const D=Object.keys(a)[0],G=a[D];N=this.chart.scales[D].getPixelForValue(G)}T=this._getYAxisLabelAlignment(m).textAlign}s==="y"&&(c==="start"?P="top":c==="end"&&(P="bottom"));const H=this._getLabelSizes();for(b=0,w=l.length;b<w;++b){v=l[b],j=v.label;const D=i.setContext(this.getContext(b));I=this.getPixelForTick(b)+i.labelOffset,_=this._resolveTickFontOptions(b),M=_.lineHeight,C=hi(j)?j.length:1;const G=C/2,O=D.color,Q=D.textStrokeColor,ee=D.textStrokeWidth;let q=T;o?(N=I,T==="inner"&&(b===w-1?q=this.options.reverse?"left":"right":b===0?q=this.options.reverse?"right":"left":q="center"),a==="top"?d==="near"||A!==0?B=-C*M+M/2:d==="center"?B=-H.highest.height/2-G*M+M:B=-H.highest.height+M/2:d==="near"||A!==0?B=M/2:d==="center"?B=H.highest.height/2-G*M:B=H.highest.height-C*M,h&&(B*=-1),A!==0&&!D.showLabelBackdrop&&(N+=M/2*Math.sin(A))):(S=I,B=(1-C)*M/2);let Z;if(D.showLabelBackdrop){const F=ld(D.backdropPadding),z=H.heights[b],V=H.widths[b];let W=B-F.top,ne=0-F.left;switch(P){case"middle":W-=z/2;break;case"bottom":W-=z;break}switch(T){case"center":ne-=V/2;break;case"right":ne-=V;break;case"inner":b===w-1?ne-=V:b>0&&(ne-=V/2);break}Z={left:ne,top:W,width:V+F.width,height:z+F.height,color:D.backdropColor}}g.push({label:j,font:_,textOffset:B,options:{rotation:A,color:O,strokeColor:Q,strokeWidth:ee,textAlign:q,textBaseline:P,translation:[N,S],backdrop:Z}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-gf(this.labelRotation))return e==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return s==="left"?a?(u=this.right+i,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?a?(u=this.left+i,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:a,width:i,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(i=0,o=a.length;i<o;++i){const c=a[i];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=Ap(e,this.left,o)-o/2,u=Ap(e,this.right,l)+l/2,h=m=c):(h=Ap(e,this.top,o)-o/2,m=Ap(e,this.bottom,l)+l/2,d=u=c),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,m),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&nD(n,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;$1(n,d,0,u,c,l)}a&&aD(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:a}}=this;if(!n.display)return;const i=Fo(n.font),o=ld(n.padding),l=n.align;let c=i.lineHeight/2;s==="bottom"||s==="center"||Hs(s)?(c+=o.bottom,hi(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=kVe(this,c,s,l);$1(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:m,textAlign:EVe(l,s,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Os(e.grid&&e.grid.z,-1),a=Os(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Lb.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=s.length;i<o;++i){const l=s[i];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Fo(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kj{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;MVe(s)&&(n=this.register(s));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,TVe(e,o,n),this.override&&Ua.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,a=this.scope;n in s&&delete s[n],a&&n in Ua[a]&&(delete Ua[a][n],this.override&&delete jx[n])}}function TVe(t,e,s){const n=H1(Object.create(null),[s?Ua.get(s):{},Ua.get(e),t.defaults]);Ua.set(e,n),t.defaultRoutes&&BVe(e,t.defaultRoutes),t.descriptors&&Ua.describe(e,t.descriptors)}function BVe(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[s].split("."),l=o.pop(),c=o.join(".");Ua.route(i,a,c,l)})}function MVe(t){return"id"in t&&"defaults"in t}class FVe{constructor(){this.controllers=new kj(gg,"datasets",!0),this.elements=new kj(Hx,"elements"),this.plugins=new kj(Object,"plugins"),this.scales=new kj(Lb,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):hn(a,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,s,n){const a=eD(e);zn(n["before"+a],[],n),s[e](n),zn(n["after"+a],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const a=s.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Fu=new FVe;class PVe{constructor(){this._init=void 0}notify(e,s,n,a){if(s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,s,n);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,s,n,a){a=a||{};for(const i of e){const o=i.plugin,l=o[n],c=[s,a,i.options];if(zn(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){_n(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,a=Os(n.options&&n.options.plugins,{}),i=IVe(n);return a===!1&&!s?[]:DVe(e,i,a,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(s,n),e,"stop"),this._notify(a(n,s),e,"start")}}function IVe(t){const e={},s=[],n=Object.keys(Fu.plugins.items);for(let i=0;i<n.length;i++)s.push(Fu.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function LVe(t,e){return!e&&t===!1?null:t===!0?{}:t}function DVe(t,{plugins:e,localIds:s},n,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=LVe(n[c],a);d!==null&&i.push({plugin:l,options:RVe(t.config,{plugin:l,local:s[c]},d,o)})}return i}function RVe(t,{plugin:e,local:s},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function YF(t,e){const s=Ua.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function OVe(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function UVe(t,e){return t===e?"_index_":"_value_"}function XW(t){if(t==="x"||t==="y"||t==="r")return t}function HVe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function JF(t,...e){if(XW(t))return t;for(const s of e){const n=s.axis||HVe(s.position)||t.length>1&&XW(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function YW(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function QVe(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return YW(t,"x",s[0])||YW(t,"y",s[0])}return{}}function $Ve(t,e){const s=jx[t.type]||{scales:{}},n=e.scales||{},a=YF(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!Hs(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=JF(o,l,QVe(o,t),Ua.scales[l.type]),d=UVe(c,a),u=s.scales||{};i[o]=Bv(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||YF(l,e),u=(jx[l]||{}).scales||{};Object.keys(u).forEach(h=>{const m=OVe(h,c),f=o[m+"AxisID"]||m;i[f]=i[f]||Object.create(null),Bv(i[f],[{axis:m},n[f],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];Bv(l,[Ua.scales[l.type],Ua.scale])}),i}function Hne(t){const e=t.options||(t.options={});e.plugins=Os(e.plugins,{}),e.scales=$Ve(t,e)}function Qne(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function zVe(t){return t=t||{},t.data=Qne(t.data),Hne(t),t}const JW=new Map,$ne=new Set;function Tj(t,e){let s=JW.get(t);return s||(s=e(),JW.set(t,s),$ne.add(s)),s}const Ly=(t,e,s)=>{const n=wx(e,s);n!==void 0&&t.add(n)};class GVe{constructor(e){this._config=zVe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Qne(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Hne(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Tj(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return Tj(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return Tj(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return Tj(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let a=n.get(e);return(!a||s)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,s,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(u=>{e&&(c.add(e),u.forEach(h=>Ly(c,e,h))),u.forEach(h=>Ly(c,a,h)),u.forEach(h=>Ly(c,jx[i]||{},h)),u.forEach(h=>Ly(c,Ua,h)),u.forEach(h=>Ly(c,KF,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),$ne.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:e,type:s}=this;return[e,jx[s]||{},Ua.datasets[s]||{},{type:s},Ua,KF]}resolveNamedOptions(e,s,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=ZW(this._resolverCache,e,a);let c=o;if(WVe(o,s)){i.$shared=!1,n=p0(n)?n():n;const d=this.createResolver(e,n,l);c=db(o,n,d)}for(const d of s)i[d]=c[d];return i}createResolver(e,s,n=[""],a){const{resolver:i}=ZW(this._resolverCache,e,n);return Hs(s)?db(i,s,void 0,a):i}}function ZW(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=s.join();let i=n.get(a);return i||(i={resolver:oD(e,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const VVe=t=>Hs(t)&&Object.getOwnPropertyNames(t).some(e=>p0(t[e]));function WVe(t,e){const{isScriptable:s,isIndexable:n}=_ne(t);for(const a of e){const i=s(a),o=n(a),l=(o||i)&&t[a];if(i&&(p0(l)||VVe(l))||o&&hi(l))return!0}return!1}var qVe="4.5.1";const KVe=["top","bottom","left","right","chartArea"];function eq(t,e){return t==="top"||t==="bottom"||KVe.indexOf(t)===-1&&e==="x"}function tq(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function rq(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),zn(s&&s.onComplete,[t],e)}function XVe(t){const e=t.chart,s=e.options.animation;zn(s&&s.onProgress,[t],e)}function zne(t){return dD()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wN={},sq=t=>{const e=zne(t);return Object.values(wN).filter(s=>s.canvas===e).pop()};function YVe(t,e,s){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(s>0||i>e)&&(t[i+s]=o)}}}function JVe(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}var _m;let Db=(_m=class{static register(...e){Fu.add(...e),nq()}static unregister(...e){Fu.remove(...e),nq()}constructor(e,s){const n=this.config=new GVe(s),a=zne(e),i=sq(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||xVe(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=pze(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PVe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Fze(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],wN[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}af.listen(this,"complete",rq),af.listen(this,"progress",XVe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:a,_aspectRatio:i}=this;return _n(e)?s&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():kW(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return SW(this.canvas,this.ctx),this}stop(){return af.stop(this),this}resize(e,s){af.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,s,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,kW(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),zn(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};hn(s,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];s&&(i=i.concat(Object.keys(s).map(o=>{const l=s[o],c=JF(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),hn(i,o=>{const l=o.options,c=l.id,d=JF(c,l),u=Os(l.type,o.dtype);(l.position===void 0||eq(l.position,d)!==eq(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const m=Fu.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),hn(a,(o,l)=>{o||delete n[l]}),hn(n,o=>{ed.configure(this,o,o.options),ed.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>s){for(let a=s;a<n;++a)this._destroyDatasetMeta(a);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(tq("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,a)=>{s.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=s.length;n<a;n++){const i=s[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||YF(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Fu.getController(l),{datasetElementType:d,dataElementType:u}=Ua.datasets[l];Object.assign(c,{dataElementType:Fu.getElement(u),datasetElementType:d&&Fu.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){hn(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(m),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||hn(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tq("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){hn(this.scales,e=>{ed.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!pW(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of s){const o=n==="_removeElements"?-i:i;YVe(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<s;i++)if(!pW(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ed.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],hn(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,p0(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(af.has(this)?this.attached&&!af.running(this)&&af.start(this):(this.draw(),rq({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let a,i;for(a=0,i=s.length;a<i;++a){const o=s[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=gGe(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&nD(s,a),e.controller.draw(),a&&aD(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Sne(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,a){const i=KGe.modes[s];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Ib(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);Q1(s)?(i.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),af.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),SW(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete wN[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(i,o)=>{s.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};hn(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(s.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){hn(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},hn(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const a=n?"set":"remove";let i,o,l,c;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!nS(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(s,e),l=n?e:i(e,s);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:a=[],options:i}=this,o=s,l=this._getActiveElements(e,a,n,o),c=vze(e),d=JVe(e,this._lastEvent,n,c);n&&(this._lastEvent=null,zn(i.onHover,[e,l,this],this),c&&zn(i.onClick,[e,l,this],this));const u=!nS(l,a);return(u||s)&&(this._active=l,this._updateHoverStyles(l,a,s)),this._lastEvent=d,u}_getActiveElements(e,s,n,a){if(e.type==="mouseout")return[];if(!n)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}},hr(_m,"defaults",Ua),hr(_m,"instances",wN),hr(_m,"overrides",jx),hr(_m,"registry",Fu),hr(_m,"version",qVe),hr(_m,"getChart",sq),_m);function nq(){return hn(Db.instances,t=>t._plugins.invalidate())}function ZVe(t,e,s){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,Iu(n-s));if(t.beginPath(),t.arc(a,i,o-d/2,n+h/2,s-h/2),l>0){const m=Math.min(d/l,Iu(n-s));t.arc(a,i,l+d/2,s-m/2,n+m/2,!0)}else{const m=Math.min(d/2,o*Iu(n-s));if(u==="round")t.arc(a,i,m,s-Cn/2,n+Cn/2,!0);else if(u==="bevel"){const f=2*m*m,x=-f*Math.cos(s+Cn/2)+a,A=-f*Math.sin(s+Cn/2)+i,g=f*Math.cos(n+Cn/2)+a,b=f*Math.sin(n+Cn/2)+i;t.lineTo(x,A),t.lineTo(g,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function eWe(t,e,s){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,n-d,s+d),c>a?(d=a/c,t.arc(i,o,c,s+d,n-d,!0)):t.arc(i,o,a,s+pi,n-pi),t.closePath(),t.clip()}function tWe(t){return iD(t,["outerStart","outerEnd","innerStart","innerEnd"])}function rWe(t,e,s,n){const a=tWe(t.options.borderRadius),i=(s-e)/2,o=Math.min(i,n*e/2),l=c=>{const d=(s-Math.min(i,c))*n/2;return Ml(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Ml(a.innerStart,0,o),innerEnd:Ml(a.innerEnd,0,o)}}function PA(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function hS(t,e,s,n,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+n+s-d,0),m=u>0?u+n+s+d:0;let f=0;const x=a-c;if(n){const D=u>0?u-n:0,G=h>0?h-n:0,O=(D+G)/2,Q=O!==0?x*O/(O+n):x;f=(x-Q)/2}const A=Math.max(.001,x*h-s/Cn)/h,g=(x-A)/2,b=c+g+f,w=a-g-f,{outerStart:v,outerEnd:j,innerStart:N,innerEnd:S}=rWe(e,m,h,w-b),T=h-v,I=h-j,_=b+v/T,M=w-j/I,C=m+N,B=m+S,P=b+N/C,H=w-S/B;if(t.beginPath(),i){const D=(_+M)/2;if(t.arc(o,l,h,_,D),t.arc(o,l,h,D,M),j>0){const ee=PA(I,M,o,l);t.arc(ee.x,ee.y,j,M,w+pi)}const G=PA(B,w,o,l);if(t.lineTo(G.x,G.y),S>0){const ee=PA(B,H,o,l);t.arc(ee.x,ee.y,S,w+pi,H+Math.PI)}const O=(w-S/m+(b+N/m))/2;if(t.arc(o,l,m,w-S/m,O,!0),t.arc(o,l,m,O,b+N/m,!0),N>0){const ee=PA(C,P,o,l);t.arc(ee.x,ee.y,N,P+Math.PI,b-pi)}const Q=PA(T,b,o,l);if(t.lineTo(Q.x,Q.y),v>0){const ee=PA(T,_,o,l);t.arc(ee.x,ee.y,v,b-pi,_)}}else{t.moveTo(o,l);const D=Math.cos(_)*h+o,G=Math.sin(_)*h+l;t.lineTo(D,G);const O=Math.cos(M)*h+o,Q=Math.sin(M)*h+l;t.lineTo(O,Q)}t.closePath()}function sWe(t,e,s,n,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){hS(t,e,s,n,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%Ja||Ja))}return hS(t,e,s,n,c,a),t.fill(),c}function nWe(t,e,s,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:f}=c,x=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=m,x?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let A=e.endAngle;if(i){hS(t,e,s,n,A,a);for(let g=0;g<i;++g)t.stroke();isNaN(l)||(A=o+(l%Ja||Ja))}x&&eWe(t,e,A),c.selfJoin&&A-o>=Cn&&f===0&&u!=="miter"&&ZVe(t,e,A),i||(hS(t,e,s,n,A,a),t.stroke())}class tg extends Hx{constructor(s){super();hr(this,"circumference");hr(this,"endAngle");hr(this,"fullCircles");hr(this,"innerRadius");hr(this,"outerRadius");hr(this,"pixelMargin");hr(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=Ane(i,{x:s,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),f=(this.options.spacing+this.options.borderWidth)/2,x=Os(m,d-c),A=lS(o,c,d)&&c!==d,g=x>=Ja||A,b=Up(l,u+f,h+f);return g&&b}getCenterPoint(s){const{x:n,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,h=(i+o)/2,m=(l+c+u+d)/2;return{x:n+Math.cos(h)*m,y:a+Math.sin(h)*m}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:a}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Ja?Math.floor(a/Ja):0,a===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(Cn,a||0)),u=i*d;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,sWe(s,this,u,o,l),nWe(s,this,u,o,l),s.restore()}}hr(tg,"id","arc"),hr(tg,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),hr(tg,"defaultRoutes",{backgroundColor:"backgroundColor"}),hr(tg,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Gne(t,e){const{x:s,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(s,a),c=Math.max(s,a),d=n-h,u=n+h):(h=i/2,l=s-h,c=s+h,d=Math.min(n,a),u=Math.max(n,a)),{left:l,top:d,right:c,bottom:u}}function Xm(t,e,s,n){return t?0:Ml(e,s,n)}function aWe(t,e,s){const n=t.options.borderWidth,a=t.borderSkipped,i=Cne(n);return{t:Xm(a.top,i.top,0,s),r:Xm(a.right,i.right,0,e),b:Xm(a.bottom,i.bottom,0,s),l:Xm(a.left,i.left,0,e)}}function iWe(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=xg(a),o=Math.min(e,s),l=t.borderSkipped,c=n||Hs(a);return{topLeft:Xm(!c||l.top||l.left,i.topLeft,0,o),topRight:Xm(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Xm(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Xm(!c||l.bottom||l.right,i.bottomRight,0,o)}}function oWe(t){const e=Gne(t),s=e.right-e.left,n=e.bottom-e.top,a=aWe(t,s/2,n/2),i=iWe(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function xT(t,e,s,n){const a=e===null,i=s===null,l=t&&!(a&&i)&&Gne(t,n);return l&&(a||Up(e,l.left,l.right))&&(i||Up(s,l.top,l.bottom))}function lWe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function cWe(t,e){t.rect(e.x,e.y,e.w,e.h)}function AT(t,e,s={}){const n=t.x!==s.x?-e:0,a=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class bg extends Hx{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=oWe(this),l=lWe(o.radius)?cS:cWe;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,AT(o,s,i)),e.clip(),l(e,AT(i,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,AT(i,s)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,s,n){return xT(this,e,s,n)}inXRange(e,s){return xT(this,e,null,s)}inYRange(e,s){return xT(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+a)/2:s,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}hr(bg,"id","bar"),hr(bg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),hr(bg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const aq=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},dWe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class iq extends Hx{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=zn(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Fo(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=aq(n,i);let d,u;s.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=e;i.textAlign="left",i.textBaseline="middle";let m=-1,f=-u;return this.legendItems.forEach((x,A)=>{const g=n+s/2+i.measureText(x.text).width;(A===0||d[d.length-1]+g+2*l>o)&&(h+=u,d[d.length-(A>0?0:1)]=0,f+=u,m++),c[A]={left:0,top:f,row:m,width:g,height:a},d[d.length-1]+=g+l}),h}_fitCols(e,s,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,m=0,f=0,x=0,A=0;return this.legendItems.forEach((g,b)=>{const{itemWidth:w,itemHeight:v}=uWe(n,s,i,g,a);b>0&&f+v+2*l>u&&(h+=m+l,d.push({width:m,height:f}),x+=m+l,A++,m=f=0),c[b]={left:x,top:f,col:A,width:w,height:v},m=Math.max(m,w),f+=v+l}),h+=m,d.push({width:m,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Ag(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=So(n,this.left+a,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=So(n,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=So(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=So(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nD(e,this),this._draw(),aD(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,l=Ua.color,c=Ag(e.rtl,this.left,this.width),d=Fo(o.font),{padding:u}=o,h=d.size,m=h/2;let f;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:x,boxHeight:A,itemHeight:g}=aq(o,h),b=function(S,T,I){if(isNaN(x)||x<=0||isNaN(A)||A<0)return;a.save();const _=Os(I.lineWidth,1);if(a.fillStyle=Os(I.fillStyle,l),a.lineCap=Os(I.lineCap,"butt"),a.lineDashOffset=Os(I.lineDashOffset,0),a.lineJoin=Os(I.lineJoin,"miter"),a.lineWidth=_,a.strokeStyle=Os(I.strokeStyle,l),a.setLineDash(Os(I.lineDash,[])),o.usePointStyle){const M={radius:A*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:_},C=c.xPlus(S,x/2),B=T+m;Nne(a,M,C,B,o.pointStyleWidth&&x)}else{const M=T+Math.max((h-A)/2,0),C=c.leftForLtr(S,x),B=xg(I.borderRadius);a.beginPath(),Object.values(B).some(P=>P!==0)?cS(a,{x:C,y:M,w:x,h:A,radius:B}):a.rect(C,M,x,A),a.fill(),_!==0&&a.stroke()}a.restore()},w=function(S,T,I){$1(a,I.text,S,T+g/2,d,{strikethrough:I.hidden,textAlign:c.textAlign(I.textAlign)})},v=this.isHorizontal(),j=this._computeTitleHeight();v?f={x:So(i,this.left+u,this.right-n[0]),y:this.top+u+j,line:0}:f={x:this.left+u,y:So(i,this.top+j+u,this.bottom-s[0].height),line:0},Bne(this.ctx,e.textDirection);const N=g+u;this.legendItems.forEach((S,T)=>{a.strokeStyle=S.fontColor,a.fillStyle=S.fontColor;const I=a.measureText(S.text).width,_=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),M=x+m+I;let C=f.x,B=f.y;c.setWidth(this.width),v?T>0&&C+M+u>this.right&&(B=f.y+=N,f.line++,C=f.x=So(i,this.left+u,this.right-n[f.line])):T>0&&B+N>this.bottom&&(C=f.x=C+s[f.line].width+u,f.line++,B=f.y=So(i,this.top+j+u,this.bottom-s[f.line].height));const P=c.x(C);if(b(P,B,S),C=Pze(_,C+x+m,v?C+M:this.right,e.rtl),w(c.x(C),B,S),v)f.x+=M+u;else if(typeof S.text!="string"){const H=d.lineHeight;f.y+=Vne(S,H)+u}else f.y+=N}),Mne(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=Fo(s.font),a=ld(s.padding);if(!s.display)return;const i=Ag(e.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,d=a.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=So(e.align,h,this.right-m);else{const x=this.columnSizes.reduce((A,g)=>Math.max(A,g.height),0);u=d+So(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const f=So(l,h,h+m);o.textAlign=i.textAlign(rD(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,$1(o,s.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,s=Fo(e.font),n=ld(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,a,i;if(Up(e,this.left,this.right)&&Up(s,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],Up(e,a.left,a.left+a.width)&&Up(s,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!mWe(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=dWe(a,n);a&&!i&&zn(s.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&zn(s.onHover,[e,n,this],this)}else n&&zn(s.onClick,[e,n,this],this)}}function uWe(t,e,s,n,a){const i=hWe(n,t,e,s),o=fWe(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function hWe(t,e,s,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+s.size/2+n.measureText(a).width}function fWe(t,e,s){let n=t;return typeof e.text!="string"&&(n=Vne(e,s)),n}function Vne(t,e){const s=t.text?t.text.length:0;return e*s}function mWe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var fD={id:"legend",_element:iq,start(t,e,s){const n=t.legend=new iq({ctx:t.ctx,options:s,chart:t});ed.configure(t,n,s),ed.addBox(t,n)},stop(t){ed.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;ed.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=ld(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Wne extends Hx{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const a=hi(n.text)?n.text.length:1;this._padding=ld(n.padding);const i=a*Fo(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=So(l,n,i),h=s+e,d=i-n):(o.position==="left"?(u=n+e,h=So(l,a,s),c=Cn*-.5):(u=i-e,h=So(l,s,a),c=Cn*.5),d=a-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=Fo(s.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);$1(e,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:rD(s.align),textBaseline:"middle",translation:[o,l]})}}function pWe(t,e){const s=new Wne({ctx:t.ctx,options:e,chart:t});ed.configure(t,s,e),ed.addBox(t,s),t.titleBlock=s}var mD={id:"title",_element:Wne,start(t,e,s){pWe(t,s)},stop(t){const e=t.titleBlock;ed.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;ed.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ev={average(t){if(!t.length)return!1;let e,s,n=new Set,a=0,i=0;for(e=0,s=t.length;e<s;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Eze(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function Mu(t,e){return e&&(hi(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function of(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function xWe(t,e){const{element:s,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function oq(t,e){const s=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=Fo(e.bodyFont),d=Fo(e.titleFont),u=Fo(e.footerFont),h=i.length,m=a.length,f=n.length,x=ld(e.padding);let A=x.height,g=0,b=n.reduce((j,N)=>j+N.before.length+N.lines.length+N.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(A+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const j=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;A+=f*j+(b-f)*c.lineHeight+(b-1)*e.bodySpacing}m&&(A+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let w=0;const v=function(j){g=Math.max(g,s.measureText(j).width+w)};return s.save(),s.font=d.string,hn(t.title,v),s.font=c.string,hn(t.beforeBody.concat(t.afterBody),v),w=e.displayColors?o+2+e.boxPadding:0,hn(n,j=>{hn(j.before,v),hn(j.lines,v),hn(j.after,v)}),w=0,s.font=u.string,hn(t.footer,v),s.restore(),g+=x.width,{width:g,height:A}}function AWe(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function gWe(t,e,s,n){const{x:a,width:i}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function bWe(t,e,s,n){const{x:a,width:i}=s,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),gWe(d,t,e,s)&&(d="center"),d}function lq(t,e,s){const n=s.yAlign||e.yAlign||AWe(t,s);return{xAlign:s.xAlign||e.xAlign||bWe(t,e,s,n),yAlign:n}}function yWe(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function vWe(t,e,s){let{y:n,height:a}=t;return e==="top"?n+=s:e==="bottom"?n-=a+s:n-=a/2,n}function cq(t,e,s,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=s,d=a+i,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:f}=xg(o);let x=yWe(e,l);const A=vWe(e,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(u,m)+a:l==="right"&&(x+=Math.max(h,f)+a),{x:Ml(x,0,n.width-e.width),y:Ml(A,0,n.height-e.height)}}function Bj(t,e,s){const n=ld(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function dq(t){return Mu([],of(t))}function wWe(t,e,s){return Ib(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function uq(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const qne={beforeTitle:tf,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:tf,beforeBody:tf,beforeLabel:tf,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return _n(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:tf,afterBody:tf,beforeFooter:tf,footer:tf,afterFooter:tf};function Cl(t,e,s,n){const a=t[e].call(s,n);return typeof a>"u"?qne[e].call(s,n):a}class ZF extends Hx{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&s.options.animation&&n.animations,i=new Fne(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=wWe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,a=Cl(n,"beforeTitle",this,e),i=Cl(n,"title",this,e),o=Cl(n,"afterTitle",this,e);let l=[];return l=Mu(l,of(a)),l=Mu(l,of(i)),l=Mu(l,of(o)),l}getBeforeBody(e,s){return dq(Cl(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,a=[];return hn(e,i=>{const o={before:[],lines:[],after:[]},l=uq(n,i);Mu(o.before,of(Cl(l,"beforeLabel",this,i))),Mu(o.lines,Cl(l,"label",this,i)),Mu(o.after,of(Cl(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,s){return dq(Cl(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,a=Cl(n,"beforeFooter",this,e),i=Cl(n,"footer",this,e),o=Cl(n,"afterFooter",this,e);let l=[];return l=Mu(l,of(a)),l=Mu(l,of(i)),l=Mu(l,of(o)),l}_createItems(e){const s=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(xWe(this.chart,s[c]));return e.filter&&(l=l.filter((u,h,m)=>e.filter(u,h,m,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),hn(l,u=>{const h=uq(e.callbacks,u);a.push(Cl(h,"labelColor",this,u)),i.push(Cl(h,"labelPointStyle",this,u)),o.push(Cl(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,s){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=ev[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=oq(this,n),d=Object.assign({},l,c),u=lq(this.chart,n,d),h=cq(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,a){const i=this.getCaretPosition(e,n,a);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=xg(l),{x:m,y:f}=e,{width:x,height:A}=s;let g,b,w,v,j,N;return i==="center"?(j=f+A/2,a==="left"?(g=m,b=g-o,v=j+o,N=j-o):(g=m+x,b=g+o,v=j-o,N=j+o),w=g):(a==="left"?b=m+Math.max(c,u)+o:a==="right"?b=m+x-Math.max(d,h)-o:b=this.caretX,i==="top"?(v=f,j=v-o,g=b-o,w=b+o):(v=f+A,j=v+o,g=b+o,w=b-o),N=v),{x1:g,x2:b,x3:w,y1:v,y2:j,y3:N}}drawTitle(e,s,n){const a=this.title,i=a.length;let o,l,c;if(i){const d=Ag(n.rtl,this.x,this.width);for(e.x=Bj(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",o=Fo(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<i;++c)s.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,s,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,u=Fo(i.bodyFont),h=Bj(this,"left",i),m=a.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,x=s.y+f;if(i.usePointStyle){const A={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(m,d)+d/2,b=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,CW(e,A,g,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,CW(e,A,g,b)}else{e.lineWidth=Hs(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const A=a.leftForLtr(m,d),g=a.leftForLtr(a.xPlus(m,1),d-2),b=xg(o.borderRadius);Object.values(b).some(w=>w!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,cS(e,{x:A,y:x,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),cS(e,{x:g,y:x+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(A,x,d,c),e.strokeRect(A,x,d,c),e.fillStyle=o.backgroundColor,e.fillRect(g,x+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=Fo(n.bodyFont);let m=h.lineHeight,f=0;const x=Ag(n.rtl,this.x,this.width),A=function(I){s.fillText(I,x.x(e.x+f),e.y+m/2),e.y+=m+i},g=x.textAlign(o);let b,w,v,j,N,S,T;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,e.x=Bj(this,g,n),s.fillStyle=n.bodyColor,hn(this.beforeBody,A),f=l&&g!=="right"?o==="center"?d/2+u:d+2+u:0,j=0,S=a.length;j<S;++j){for(b=a[j],w=this.labelTextColors[j],s.fillStyle=w,hn(b.before,A),v=b.lines,l&&v.length&&(this._drawColorBox(s,e,j,x,n),m=Math.max(h.lineHeight,c)),N=0,T=v.length;N<T;++N)A(v[N]),m=h.lineHeight;hn(b.after,A)}f=0,m=h.lineHeight,hn(this.afterBody,A),e.y-=i}drawFooter(e,s,n){const a=this.footer,i=a.length;let o,l;if(i){const c=Ag(n.rtl,this.x,this.width);for(e.x=Bj(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=Fo(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<i;++l)s.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:x}=xg(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(e,s,n,a),s.lineTo(l+d-m,c),s.quadraticCurveTo(l+d,c,l+d,c+m),o==="center"&&i==="right"&&this.drawCaret(e,s,n,a),s.lineTo(l+d,c+u-x),s.quadraticCurveTo(l+d,c+u,l+d-x,c+u),o==="bottom"&&this.drawCaret(e,s,n,a),s.lineTo(l+f,c+u),s.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&i==="left"&&this.drawCaret(e,s,n,a),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=ev[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=oq(this,e),c=Object.assign({},o,this._size),d=lq(s,e,c),u=cq(e,c,d,s);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=ld(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,s),Bne(e,s.textDirection),i.y+=o.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),Mne(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!nS(n,a),o=this._positionChanged(a,s);(i||o)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,s,n),l=this._positionChanged(o,e),c=s||!nS(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),c}_getActiveElements(e,s,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:a,options:i}=this,o=ev[i.position].call(this,e,s);return o!==!1&&(n!==o.x||a!==o.y)}}hr(ZF,"positioners",ev);var pD={id:"tooltip",_element:ZF,positioners:ev,afterInit(t,e,s){s&&(t.tooltip=new ZF({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qne},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const jWe=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function NWe(t,e,s,n){const a=t.indexOf(e);if(a===-1)return jWe(t,e,s,n);const i=t.lastIndexOf(e);return a!==i?s:a}const SWe=(t,e)=>t===null?null:Ml(Math.round(t),0,e);function hq(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class G1 extends Lb{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:a,label:i}of s)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(_n(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:NWe(n,e,Os(s,e),this._addedLabels),SWe(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)a.push({value:o});return a}getLabelForValue(e){return hq.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}hr(G1,"id","category"),hr(G1,"defaults",{ticks:{callback:hq}});function CWe(t,e){const s=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=t,f=i||1,x=u-1,{min:A,max:g}=e,b=!_n(o),w=!_n(l),v=!_n(d),j=(g-A)/(h+1);let N=AW((g-A)/x/f)*f,S,T,I,_;if(N<1e-14&&!b&&!w)return[{value:A},{value:g}];_=Math.ceil(g/N)-Math.floor(A/N),_>x&&(N=AW(_*N/x/f)*f),_n(c)||(S=Math.pow(10,c),N=Math.ceil(N*S)/S),a==="ticks"?(T=Math.floor(A/N)*N,I=Math.ceil(g/N)*N):(T=A,I=g),b&&w&&i&&Sze((l-o)/i,N/1e3)?(_=Math.round(Math.min((l-o)/N,u)),N=(l-o)/_,T=o,I=l):v?(T=b?o:T,I=w?l:I,_=d-1,N=(I-T)/_):(_=(I-T)/N,bN(_,Math.round(_),N/1e3)?_=Math.round(_):_=Math.ceil(_));const M=Math.max(gW(N),gW(T));S=Math.pow(10,_n(c)?M:c),T=Math.round(T*S)/S,I=Math.round(I*S)/S;let C=0;for(b&&(m&&T!==o?(s.push({value:o}),T<o&&C++,bN(Math.round((T+C*N)*S)/S,o,fq(o,j,t))&&C++):T<o&&C++);C<_;++C){const B=Math.round((T+C*N)*S)/S;if(w&&B>l)break;s.push({value:B})}return w&&m&&I!==l?s.length&&bN(s[s.length-1].value,l,fq(l,j,t))?s[s.length-1].value=l:s.push({value:l}):(!w||I===l)&&s.push({value:I}),s}function fq(t,e,{horizontal:s,minRotation:n}){const a=gf(n),i=(s?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class _We extends Lb{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return _n(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=s?a:c,l=c=>i=n?i:c;if(e){const c=i0(a),d=i0(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,o=CWe(a,i);return e.bounds==="ticks"&&Cze(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-s)/Math.max(e.length-1,1)/2;s-=a,n+=a}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return sD(e,this.chart.options.locale,this.options.ticks.format)}}class V1 extends _We{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=od(e)?e:0,this.max=od(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=gf(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}hr(V1,"id","linear"),hr(V1,"defaults",{ticks:{callback:jne.formatters.numeric}});const T4={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Tl=Object.keys(T4);function mq(t,e){return t-e}function pq(t,e){if(_n(e))return null;const s=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),od(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(a&&(o=a==="week"&&(oS(i)||i===!0)?s.startOf(o,"isoWeek",i):s.startOf(o,a)),+o)}function xq(t,e,s,n){const a=Tl.length;for(let i=Tl.indexOf(t);i<a-1;++i){const o=T4[Tl[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(l*o.size))<=n)return Tl[i]}return Tl[a-1]}function EWe(t,e,s,n,a){for(let i=Tl.length-1;i>=Tl.indexOf(s);i--){const o=Tl[i];if(T4[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return Tl[s?Tl.indexOf(s):0]}function kWe(t){for(let e=Tl.indexOf(t)+1,s=Tl.length;e<s;++e)if(T4[Tl[e]].common)return Tl[e]}function Aq(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:a}=tD(s,e),i=s[n]>=e?s[n]:s[a];t[i]=!0}}function TWe(t,e,s,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,n))c=s[l],c>=0&&(e[c].major=!0);return e}function gq(t,e,s){const n=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,n.push({value:l,major:!1});return i===0||!s?n:TWe(t,n,a,s)}class fS extends Lb{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),a=this._adapter=new zGe._date(e.adapters.date);a.init(s),Bv(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:pq(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=od(a)&&!isNaN(a)?a:+s.startOf(Date.now(),n),i=od(i)&&!isNaN(i)?i:+s.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=Bze(a,i,o);return this._unit=s.unit||(n.autoSkip?xq(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):EWe(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:kWe(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),gq(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?s=1-a:s=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=Ml(s,0,o),n=Ml(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||xq(i.minUnit,s,n,this._getLabelCapacity(s)),l=Os(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=oS(c)||c===!0,u={};let h=s,m,f;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(m=h,f=0;m<n;m=+e.add(m,l,o),f++)Aq(u,m,x);return(m===n||a.bounds==="ticks"||f===1)&&Aq(u,m,x),Object.keys(u).sort(mq).map(A=>+A)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const a=this.options.time.displayFormats,i=this._unit,o=s||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,a){const i=this.options,o=i.ticks.callback;if(o)return zn(o,[e,s,n],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],m=n[s],f=d&&h&&m&&m.major;return this._adapter.format(e,a||(f?h:u))}generateTickLabels(e){let s,n,a;for(s=0,n=e.length;s<n;++s)a=e[s],a.label=this._tickFormatFunction(a.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,a=gf(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,a=n[s.unit]||n.millisecond,i=this._tickFormatFunction(e,0,gq(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,n=a.length;s<n;++s)e=e.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const a=this.getLabels();for(s=0,n=a.length;s<n;++s)e.push(pq(this,a[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return bne(e.sort(mq))}}hr(fS,"id","time"),hr(fS,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Mj(t,e,s){let n=0,a=t.length-1,i,o,l,c;s?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=qF(t,"pos",e)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=qF(t,"time",e)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class bq extends fS{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Mj(s,this.min),this._tableRange=Mj(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=s&&d<=n&&a.push(d);if(a.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Mj(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return Mj(this._table,n*this._tableRange+this._minPos,!0)}}hr(bq,"id","timeseries"),hr(bq,"defaults",fS.defaults);const Kne="label";function yq(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function BWe(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function Xne(t,e){t.labels=e}function Yne(t,e,s=Kne){const n=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[s]===a[s]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function MWe(t,e=Kne){const s={labels:[],datasets:[]};return Xne(s,t.labels),Yne(s,t.datasets,e),s}function FWe(t,e){const{height:s=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=t,f=E.useRef(null),x=E.useRef(null),A=()=>{f.current&&(x.current=new Db(f.current,{type:o,data:MWe(l,i),options:c&&{...c},plugins:d}),yq(e,x.current))},g=()=>{yq(e,null),x.current&&(x.current.destroy(),x.current=null)};return E.useEffect(()=>{!a&&x.current&&c&&BWe(x.current,c)},[a,c]),E.useEffect(()=>{!a&&x.current&&Xne(x.current.config.data,l.labels)},[a,l.labels]),E.useEffect(()=>{!a&&x.current&&l.datasets&&Yne(x.current.config.data,l.datasets,i)},[a,l.datasets]),E.useEffect(()=>{x.current&&(a?(g(),setTimeout(A)):x.current.update(h))},[a,c,l.labels,l.datasets,h]),E.useEffect(()=>{x.current&&(g(),setTimeout(A))},[o]),E.useEffect(()=>(A(),()=>g()),[]),r.jsx("canvas",{ref:f,role:"img",height:s,width:n,...m,children:u})}const PWe=E.forwardRef(FWe);function Jne(t,e){return Db.register(e),E.forwardRef((s,n)=>r.jsx(PWe,{...s,ref:n,type:t}))}const xD=Jne("bar",yN),AD=Jne("pie",XF),IWe=({activeView:t,setActiveView:e,isOpen:s,setIsOpen:n})=>{const a=[{id:"overview",name:"Dashboard Overview",icon:pb,description:"School-wide statistics and KPIs"},{id:"academics",name:"Academic Analytics",icon:Hr,description:"Performance, grades, and curriculum"},{id:"students",name:"Student Analytics",icon:pa,description:"Enrollment, attendance, and progress"},{id:"staff",name:"Staff Management",icon:Ar,description:"Teachers, performance, and HR"},{id:"finance",name:"Financial Dashboard",icon:kf,description:"Budget, revenue, and expenses"},{id:"facilities",name:"Facilities & Resources",icon:Jle,description:"Infrastructure and maintenance"},{id:"reports",name:"Reports & Analytics",icon:ma,description:"Detailed reports and insights"},{id:"communications",name:"Communications",icon:mn,description:"Send SMS/Email to groups"},{id:"notifications",name:"Notification Center",icon:sa,description:"Alerts and urgent matters"},{id:"calendar",name:"School Calendar",icon:ir,description:"Events and important dates"}],i=[{id:"emergency",name:"Emergency Alert",icon:Xd,color:"red"},{id:"announcement",name:"Send Announcement",icon:mn,color:"blue"},{id:"meeting",name:"Schedule Meeting",icon:ir,color:"green"},{id:"report",name:"Generate Report",icon:Dr,color:"purple"}];return r.jsxs("div",{className:`h-screen bg-gradient-to-b from-yellow-50 to-amber-50 border-r border-yellow-200 shadow-2xl transition-all duration-300 flex flex-col fixed left-0 top-0 z-50 ${s?"w-80":"w-20"}`,children:[r.jsx("div",{className:"p-6 border-b border-yellow-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center space-x-3 ${s?"block":"hidden"}`,children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg",children:r.jsx(Xd,{className:"w-6 h-6 text-white"})}),s&&r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-lg text-amber-800",children:"Principal Portal"}),r.jsx("p",{className:"text-xs text-yellow-600",children:"Electronic Educare Center"})]})]}),r.jsx("button",{onClick:()=>n(!s),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors text-amber-600 hover:text-amber-800",children:s?r.jsx(ru,{size:20}):r.jsx(ra,{size:20})})]})}),r.jsxs("nav",{className:"flex-1 px-4 py-6 overflow-y-auto",children:[r.jsx("div",{className:"space-y-2",children:a.map(o=>{const l=o.icon,c=t===o.id;return r.jsxs("button",{onClick:()=>e(o.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${c?"bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-lg transform scale-105":"text-amber-700 hover:bg-yellow-100 hover:text-amber-800 hover:transform hover:scale-102"}`,children:[r.jsx(l,{size:20,className:"flex-shrink-0"}),s&&r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("span",{className:"font-medium text-sm block",children:o.name}),r.jsx("span",{className:"text-xs opacity-70 block",children:o.description})]}),!s&&r.jsxs("div",{className:"absolute left-full ml-2 px-3 py-2 bg-amber-800 text-white text-sm rounded-lg shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:[r.jsx("div",{className:"font-medium",children:o.name}),r.jsx("div",{className:"text-xs text-yellow-200",children:o.description})]})]},o.id)})}),s&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h3",{className:"text-sm font-semibold text-amber-600 mb-4 px-4",children:"Quick Actions"}),r.jsx("div",{className:"space-y-2",children:i.map(o=>{const l=o.icon;return r.jsxs("button",{className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-all duration-200 hover:transform hover:scale-102 text-amber-700 ${o.color==="red"?"hover:bg-red-100 hover:text-red-700":o.color==="blue"?"hover:bg-purple-100 hover:text-purple-700":o.color==="green"?"hover:bg-yellow-100 hover:text-yellow-700":"hover:bg-amber-100 hover:text-amber-800"}`,children:[r.jsx(l,{size:16,className:"flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:o.name})]},o.id)})})]})]}),r.jsx("div",{className:"p-4 border-t border-yellow-200",children:s&&r.jsx("div",{className:"mt-4 pt-4 border-t border-yellow-200",children:r.jsxs("div",{className:"flex items-center gap-3 px-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-white",children:"P"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Dr. Principal"}),r.jsx("p",{className:"text-xs text-yellow-600",children:"School Principal"})]})]})})})]})},LWe=({sidebarOpen:t,setSidebarOpen:e,notifications:s})=>{const[n,a]=E.useState(!1),[i,o]=E.useState(!1),[l,c]=E.useState(""),[d,u]=E.useState(!1),h=qn(),m=E.useRef(null),f=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{const N=S=>{m.current&&!m.current.contains(S.target)&&a(!1),f.current&&!f.current.contains(S.target)&&o(!1),x.current&&!x.current.contains(S.target)&&u(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const A=s.filter(N=>N.priority==="high"),g=s.length,b={name:"Dr. Sarah Johnson",title:"School Principal",email:"principal@eec.edu",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"},w=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),h("/")},j=[{type:"student",title:"John Smith - Grade 10A",icon:us},{type:"teacher",title:"Ms. Johnson - Mathematics",icon:us},{type:"report",title:"Monthly Performance Report",icon:bs},{type:"event",title:"Parent-Teacher Meeting",icon:ir}].filter(N=>N.title.toLowerCase().includes(l.toLowerCase()));return r.jsx("header",{className:"bg-white border-b border-gray-100 shadow-sm sticky top-0 z-40",children:r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 md:hidden","aria-label":"Toggle sidebar",children:r.jsx(Ng,{className:"w-5 h-5"})}),r.jsxs("div",{className:"relative",ref:x,children:[r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),onFocus:()=>u(!0),placeholder:"Search students, teachers, reports...",className:"pl-10 pr-8 py-2 w-48 sm:w-64 md:w-80 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white"}),l&&r.jsx("button",{onClick:()=>c(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600",children:r.jsx(ks,{className:"w-4 h-4"})})]})}),d&&j.length>0&&r.jsx("div",{className:"absolute top-full mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50 overflow-hidden",children:r.jsxs("div",{className:"py-2",children:[r.jsx("div",{className:"px-3 py-1 text-xs font-medium text-gray-500 bg-gray-50",children:"Quick Results"}),j.map((N,S)=>{const T=N.icon;return r.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 transition-colors text-left",children:[r.jsx(T,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700 truncate",children:N.title}),r.jsx("span",{className:`ml-auto text-xs px-2 py-1 rounded-full flex-shrink-0 ${N.type==="student"?"bg-blue-50 text-blue-600":N.type==="teacher"?"bg-green-50 text-green-600":N.type==="report"?"bg-purple-50 text-purple-600":"bg-orange-50 text-orange-600"}`,children:N.type})]},S)})]})})]})]}),r.jsxs("div",{className:"hidden md:flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg",children:[r.jsx(fr,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg",children:[r.jsx(ir,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Refresh Data","aria-label":"Refresh Data",children:r.jsx(oh,{className:"w-5 h-5"})}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Send Message","aria-label":"Send Message",children:r.jsx(mn,{className:"w-5 h-5"})}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Emergency Contact","aria-label":"Emergency Contact",children:r.jsx(oa,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"relative",ref:m,children:[r.jsxs("button",{onClick:()=>a(!n),className:"relative p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700","aria-label":"Notifications",children:[r.jsx(sa,{className:"w-5 h-5"}),g>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:g>9?"9+":g})]}),n&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),r.jsxs("div",{className:"flex items-center gap-2",children:[A.length>0&&r.jsxs("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:[A.length," urgent"]}),r.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",onClick:()=>a(!1),children:"Clear all"})]})]})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.length>0?s.slice(0,5).map(N=>r.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{a(!1)},children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`p-2 rounded-full flex-shrink-0 mt-0.5 ${N.priority==="high"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:r.jsx(Yi,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:N.title}),r.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap ml-2",children:N.timestamp})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:N.message}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N.department==="Safety"?"bg-red-50 text-red-700":N.department==="Academic"?"bg-blue-50 text-blue-700":N.department==="Finance"?"bg-green-50 text-green-700":"bg-gray-50 text-gray-700"}`,children:N.department}),r.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"View"})]})]})]})},N.id)):r.jsxs("div",{className:"p-6 text-center text-gray-500",children:[r.jsx(sa,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"No new notifications"}),r.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"You're all caught up!"})]})}),s.length>5&&r.jsx("div",{className:"p-3 bg-gray-50 text-center border-t border-gray-100",children:r.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center justify-center gap-1 w-full",onClick:()=>{a(!1)},children:["View All Notifications",r.jsx(ra,{className:"w-4 h-4"})]})})]})]}),r.jsxs("div",{className:"relative",ref:f,children:[r.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Profile menu",children:[r.jsx("img",{src:b.avatar,alt:"Principal",className:"w-8 h-8 rounded-full border-2 border-gray-100 object-cover",onError:N=>{N.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),r.jsxs("div",{className:"hidden md:block text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[120px]",children:b.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[120px]",children:b.title})]}),r.jsx(ln,{className:`w-4 h-4 text-gray-400 transition-transform ${i?"transform rotate-180":""}`})]}),i&&r.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:b.avatar,alt:"Principal",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm",onError:N=>{N.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:b.name}),r.jsx("p",{className:"text-sm text-gray-500",children:b.title}),r.jsx("p",{className:"text-xs text-gray-400 truncate",children:b.email})]})]})}),r.jsxs("div",{className:"py-1",children:[r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[r.jsx(us,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:"View Profile"})]}),r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[r.jsx(nx,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[r.jsx(xa,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs("button",{onClick:w,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-red-50 transition-colors text-left text-red-600",children:[r.jsx(Vd,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"text-sm",children:"Logout"})]})]})]})]})]})]})})},DWe=()=>{const[t,e]=E.useState("current_term"),[s,n]=E.useState("all"),a={averageGPA:"95%",passRate:94.8,honorsStudents:234},i=[{grade:"A+",count:187,percentage:23.4,color:"emerald"},{grade:"A",count:234,percentage:29.3,color:"green"},{grade:"B+",count:156,percentage:19.5,color:"blue"},{grade:"B",count:123,percentage:15.4,color:"yellow"},{grade:"C+",count:67,percentage:8.4,color:"orange"},{grade:"C",count:23,percentage:2.9,color:"red"},{grade:"Below C",count:9,percentage:1.1,color:"gray"}],o=[{subject:"Mathematics",avgScore:87.5,improvement:3.2,studentsAbove80:234,totalStudents:289,teacherRating:4.6,trend:"up"},{subject:"Science",avgScore:84.7,improvement:2.8,studentsAbove80:198,totalStudents:289,teacherRating:4.4,trend:"up"},{subject:"English Language",avgScore:82.3,improvement:1.9,studentsAbove80:187,totalStudents:289,teacherRating:4.5,trend:"up"},{subject:"Social Studies",avgScore:79.8,improvement:-.5,studentsAbove80:156,totalStudents:289,teacherRating:4.2,trend:"down"},{subject:"Arts & Crafts",avgScore:91.2,improvement:4.1,studentsAbove80:267,totalStudents:289,teacherRating:4.8,trend:"up"},{subject:"Physical Education",avgScore:88.9,improvement:2.3,studentsAbove80:245,totalStudents:289,teacherRating:4.7,trend:"up"}],l=[{grade:"Grade 6",totalStudents:120,avgGPA:3.8,topPerformers:28,needsSupport:8},{grade:"Grade 7",totalStudents:125,avgGPA:3.7,topPerformers:31,needsSupport:12},{grade:"Grade 8",totalStudents:118,avgGPA:3.6,topPerformers:25,needsSupport:15},{grade:"Grade 9",totalStudents:132,avgGPA:3.8,topPerformers:35,needsSupport:10},{grade:"Grade 10",totalStudents:128,avgGPA:3.9,topPerformers:42,needsSupport:7},{grade:"Grade 11",totalStudents:115,avgGPA:3.7,topPerformers:29,needsSupport:11},{grade:"Grade 12",totalStudents:109,avgGPA:3.8,topPerformers:38,needsSupport:6}],c=[{exam:"Mid-Term Exams",date:"2024-03-15",status:"upcoming",subjects:5},{exam:"Unit Test 3",date:"2024-02-28",status:"completed",subjects:3},{exam:"Practical Exams",date:"2024-04-10",status:"scheduled",subjects:4},{exam:"Final Exams",date:"2024-05-20",status:"scheduled",subjects:6}];return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Academic Analytics"}),r.jsx("p",{className:"text-yellow-100",children:"Comprehensive academic performance insights"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("select",{value:t,onChange:d=>e(d.target.value),className:"bg-white/20 border border-white/30 rounded-lg px-4 py-2 text-white placeholder-white/70",children:[r.jsx("option",{value:"current_term",children:"Current Term"}),r.jsx("option",{value:"last_term",children:"Last Term"}),r.jsx("option",{value:"academic_year",children:"Academic Year"})]}),r.jsxs("select",{value:s,onChange:d=>n(d.target.value),className:"bg-white/20 border border-white/30 rounded-lg px-4 py-2 text-white",children:[r.jsx("option",{value:"all",children:"All Grades"}),r.jsx("option",{value:"6",children:"Grade 6"}),r.jsx("option",{value:"7",children:"Grade 7"}),r.jsx("option",{value:"8",children:"Grade 8"}),r.jsx("option",{value:"9",children:"Grade 9"}),r.jsx("option",{value:"10",children:"Grade 10"}),r.jsx("option",{value:"11",children:"Grade 11"}),r.jsx("option",{value:"12",children:"Grade 12"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:r.jsx(pn,{className:"w-6 h-6 text-yellow-600"})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:a.averageGPA}),r.jsx("div",{className:"text-sm text-amber-600",children:"Average Percentage"})]})]}),r.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${a.averageGPA/4*100}%`}})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:r.jsx(kn,{className:"w-6 h-6 text-amber-600"})}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-amber-900",children:[a.passRate,"%"]}),r.jsx("div",{className:"text-sm text-amber-600",children:"Pass Rate"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[r.jsx(wg,{className:"w-4 h-4"}),r.jsx("span",{children:"+2.3% from last term"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(Ar,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:a.honorsStudents}),r.jsx("div",{className:"text-sm text-amber-600",children:"Honor Students"})]})]}),r.jsx("div",{className:"text-xs text-amber-600",children:"18.8% of total students"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[r.jsx("div",{className:"p-6 border-b border-yellow-100",children:r.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[r.jsx(hX,{className:"w-5 h-5 text-yellow-500"}),"Grade Distribution"]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-3",children:i.map((d,u)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-4 h-4 rounded-full ${d.color==="emerald"?"bg-emerald-500":d.color==="green"?"bg-green-500":d.color==="blue"?"bg-blue-500":d.color==="yellow"?"bg-yellow-500":d.color==="orange"?"bg-orange-500":d.color==="red"?"bg-red-500":"bg-gray-500"}`}),r.jsx("span",{className:"font-medium text-gray-900",children:d.grade})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[d.count," students"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[d.percentage,"%"]})]}),r.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d.color==="emerald"?"bg-emerald-500":d.color==="green"?"bg-green-500":d.color==="blue"?"bg-blue-500":d.color==="yellow"?"bg-yellow-500":d.color==="orange"?"bg-orange-500":d.color==="red"?"bg-red-500":"bg-gray-500"}`,style:{width:`${d.percentage*3}%`}})})]})]},u))})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Hr,{className:"w-5 h-5 text-green-500"}),"Subject Performance"]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:o.slice(0,4).map((d,u)=>r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:d.subject}),r.jsxs("div",{className:`flex items-center gap-1 text-sm ${d.trend==="up"?"text-green-600":"text-red-600"}`,children:[d.trend==="up"?r.jsx(wg,{className:"w-4 h-4"}):r.jsx(eB,{className:"w-4 h-4"}),d.improvement>0?"+":"",d.improvement,"%"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500",children:"Average Score"}),r.jsxs("div",{className:"font-bold text-gray-900",children:[d.avgScore,"%"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500",children:"Above 80%"}),r.jsxs("div",{className:"font-bold text-gray-900",children:[d.studentsAbove80,"/",d.totalStudents]})]})]}),r.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${d.avgScore}%`}})})]},u))})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[r.jsx("div",{className:"p-6 border-b border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[r.jsx(ma,{className:"w-5 h-5 text-purple-500"}),"Grade-wise Analytics"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),"Export Report"]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-yellow-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Grade"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Total Students"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Average GPA"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Top Performers"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Needs Support"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Performance"})]})}),r.jsx("tbody",{className:"divide-y divide-yellow-200",children:l.map((d,u)=>r.jsxs("tr",{className:"hover:bg-yellow-50",children:[r.jsx("td",{className:"px-6 py-4 font-medium text-amber-900",children:d.grade}),r.jsx("td",{className:"px-6 py-4 text-amber-700",children:d.totalStudents}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("span",{className:"font-semibold text-amber-900",children:d.avgGPA}),r.jsx("div",{className:"w-16 bg-yellow-200 rounded-full h-1 mt-1",children:r.jsx("div",{className:"bg-yellow-500 h-1 rounded-full",style:{width:`${d.avgGPA/4*100}%`}})})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:[d.topPerformers," students"]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[d.needsSupport," students"]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${d.avgGPA>=3.5?"bg-purple-500":d.avgGPA>=3?"bg-amber-500":"bg-red-500"}`,style:{width:`${d.avgGPA/4*100}%`}})})})]},u))})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[r.jsx("div",{className:"p-6 border-b border-yellow-100",children:r.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[r.jsx(ir,{className:"w-5 h-5 text-amber-500"}),"Examination Schedule"]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((d,u)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:d.exam}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.status==="upcoming"?"bg-orange-100 text-orange-700":d.status==="completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:d.status})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ir,{className:"w-4 h-4"}),new Date(d.date).toLocaleDateString()]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hr,{className:"w-4 h-4"}),d.subjects," subjects"]})]})]},u))})})]})]})};Db.register(G1,V1,bg,tg,mD,pD,fD);const RWe=()=>{const t=[{grade:"A",students:420},{grade:"B",students:380},{grade:"C",students:280},{grade:"D",students:120},{grade:"F",students:47}],e=[{name:"Amit Sharma",grade:"A",attendance:"98%"},{name:"Priya Singh",grade:"A",attendance:"97%"},{name:"Rahul Das",grade:"A",attendance:"96%"},{name:"Sneha Roy",grade:"B",attendance:"95%"},{name:"Vikram Patel",grade:"B",attendance:"94%"}],s={labels:t.map(o=>o.grade),datasets:[{label:"Students",data:t.map(o=>o.students),backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(251, 191, 36, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},n={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Student Performance Distribution"}}},a={labels:e.map(o=>o.name),datasets:[{label:"Attendance (%)",data:e.map(o=>parseInt(o.attendance)),backgroundColor:"rgba(59, 130, 246, 0.7)",borderRadius:8}]},i={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Top Students Attendance"}},scales:{y:{min:90,max:100,title:{display:!0,text:"Attendance (%)"}}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Analytics"}),r.jsx("p",{className:"text-blue-100",children:"Comprehensive student enrollment, attendance, and progress analytics"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1,247"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Students"})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(pa,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"94.2%"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Attendance Rate"})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Ar,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"96.5%"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Graduation Rate"})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(pn,{className:"w-6 h-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"+4.2%"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Growth Rate"})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(ds,{className:"w-6 h-6 text-orange-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Performance Distribution"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(AD,{data:s,options:n})}),r.jsx("div",{children:r.jsxs("table",{className:"min-w-full text-left",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Grade"}),r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Number of Students"})]})}),r.jsx("tbody",{children:t.map((o,l)=>r.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[r.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.grade}),r.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.students})]},o.grade))})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Students"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(xD,{data:a,options:i})}),r.jsx("div",{children:r.jsxs("table",{className:"min-w-full text-left",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Name"}),r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Grade"}),r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Attendance"})]})}),r.jsx("tbody",{children:e.map((o,l)=>r.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[r.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.name}),r.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.grade}),r.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.attendance})]},o.name))})]})})]})]})]})};Db.register(G1,V1,bg,tg,mD,pD,fD);const OWe=()=>{const t=[{role:"Teachers",count:89},{role:"Support Staff",count:34},{role:"Admin",count:12},{role:"HR",count:6},{role:"New Hires",count:5}],e=[{name:"Teachers",score:4.7},{name:"Support Staff",score:4.5},{name:"Admin",score:4.2},{name:"HR",score:4.6}],s={labels:t.map(o=>o.role),datasets:[{label:"Staff Count",data:t.map(o=>o.count),backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(251, 191, 36, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},n={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Staff Roles Distribution"}}},a={labels:e.map(o=>o.name),datasets:[{label:"Satisfaction Score",data:e.map(o=>o.score),backgroundColor:"rgba(139, 92, 246, 0.7)",borderRadius:8}]},i={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Staff Satisfaction Scores"}},scales:{y:{min:3.5,max:5,title:{display:!0,text:"Score (out of 5)"}}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Staff Management"}),r.jsx("p",{className:"text-purple-100",children:"Manage teachers, staff performance, and HR operations"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"89"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Teachers"})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Ar,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"34"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Support Staff"})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Yd,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"4.6/5"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Satisfaction"})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(pn,{className:"w-6 h-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"5"}),r.jsx("div",{className:"text-sm text-gray-500",children:"New Hires"})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(OP,{className:"w-6 h-6 text-orange-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff Roles Distribution"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(AD,{data:s,options:n})}),r.jsx("div",{children:r.jsxs("table",{className:"min-w-full text-left",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Role"}),r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Count"})]})}),r.jsx("tbody",{children:t.map((o,l)=>r.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[r.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.role}),r.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.count})]},o.role))})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff Satisfaction Scores"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(xD,{data:a,options:i})}),r.jsx("div",{children:r.jsxs("table",{className:"min-w-full text-left",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Role"}),r.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Satisfaction Score"})]})}),r.jsx("tbody",{children:e.map((o,l)=>r.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[r.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.name}),r.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.score})]},o.name))})]})})]})]})]})},UWe=()=>{const t=[{month:"Jan",revenue:12e6,expenses:85e5},{month:"Feb",revenue:145e5,expenses:92e5},{month:"Mar",revenue:138e5,expenses:89e5},{month:"Apr",revenue:162e5,expenses:101e5},{month:"May",revenue:158e5,expenses:98e5},{month:"Jun",revenue:182e5,expenses:112e5},{month:"Jul",revenue:175e5,expenses:108e5},{month:"Aug",revenue:198e5,expenses:121e5}],e=[{name:"Salaries",value:45,color:"#3B82F6"},{name:"Infrastructure",value:25,color:"#10B981"},{name:"Equipment",value:15,color:"#F59E0B"},{name:"Utilities",value:10,color:"#EF4444"},{name:"Others",value:5,color:"#8B5CF6"}],s=[{department:"Engineering",allocated:5e6,utilized:42e5},{department:"Medical",allocated:45e5,utilized:38e5},{department:"Business",allocated:35e5,utilized:29e5},{department:"Arts",allocated:28e5,utilized:24e5},{department:"Science",allocated:42e5,utilized:36e5}],n=[{id:1,description:"Faculty Salary - Engineering",amount:85e4,type:"expense",date:"2024-08-15"},{id:2,description:"Student Fee Collection",amount:12e5,type:"income",date:"2024-08-14"},{id:3,description:"Laboratory Equipment",amount:32e4,type:"expense",date:"2024-08-13"},{id:4,description:"Government Grant",amount:5e5,type:"income",date:"2024-08-12"},{id:5,description:"Utility Bills",amount:85e3,type:"expense",date:"2024-08-11"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Financial Dashboard"}),r.jsx("p",{className:"text-green-100",children:"Comprehensive financial overview and budget management"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"19.8 Cr"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),r.jsxs("div",{className:"flex items-center mt-2 text-green-600",children:[r.jsx(W8,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"+12.5%"})]})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(kf,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12.1 Cr"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Expenses"}),r.jsxs("div",{className:"flex items-center mt-2 text-blue-600",children:[r.jsx(W8,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"+8.2%"})]})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Ru,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"78.5%"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Budget Utilization"}),r.jsxs("div",{className:"flex items-center mt-2 text-orange-600",children:[r.jsx(br,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"High usage"})]})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(hX,{className:"w-6 h-6 text-orange-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"7.7 Cr"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Net Profit"}),r.jsxs("div",{className:"flex items-center mt-2 text-green-600",children:[r.jsx(ds,{className:"w-4 h-4"}),r.jsx("span",{className:"text-xs font-medium",children:"+15.3%"})]})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(ds,{className:"w-6 h-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue vs Expenses Trend"}),r.jsx($d,{width:"100%",height:300,children:r.jsxs(Mee,{data:t,children:[r.jsx(jf,{strokeDasharray:"3 3"}),r.jsx(pc,{dataKey:"month"}),r.jsx(xc,{tickFormatter:a=>`${(a/1e7).toFixed(1)}Cr`}),r.jsx(Xa,{formatter:a=>[`${(a/1e7).toFixed(2)}Cr`,""]}),r.jsx(px,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:3,name:"Revenue"}),r.jsx(px,{type:"monotone",dataKey:"expenses",stroke:"#EF4444",strokeWidth:3,name:"Expenses"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expense Breakdown"}),r.jsx($d,{width:"100%",height:300,children:r.jsxs(tL,{children:[r.jsx(Xa,{formatter:a=>[`${a}%`,""]}),r.jsx(nu,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,children:e.map((a,i)=>r.jsx(u0,{fill:a.color},`cell-${i}`))})]})}),r.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:e.map((a,i)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),r.jsxs("span",{className:"text-sm text-gray-600",children:[a.name,": ",a.value,"%"]})]},i))})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Department Budget Utilization"}),r.jsx($d,{width:"100%",height:300,children:r.jsxs(_1,{data:s,children:[r.jsx(jf,{strokeDasharray:"3 3"}),r.jsx(pc,{dataKey:"department"}),r.jsx(xc,{tickFormatter:a=>`${(a/1e7).toFixed(1)}Cr`}),r.jsx(Xa,{formatter:a=>[`${(a/1e7).toFixed(2)}Cr`,""]}),r.jsx(Ll,{dataKey:"allocated",fill:"#3B82F6",name:"Allocated"}),r.jsx(Ll,{dataKey:"utilized",fill:"#10B981",name:"Utilized"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Description"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Amount"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Type"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Date"})]})}),r.jsx("tbody",{children:n.map(a=>r.jsxs("tr",{className:"border-b border-gray-100",children:[r.jsx("td",{className:"py-3 px-4 text-gray-900",children:a.description}),r.jsxs("td",{className:"py-3 px-4 text-gray-900",children:["",(a.amount/1e5).toFixed(1),"L"]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type})}),r.jsx("td",{className:"py-3 px-4 text-gray-500",children:a.date})]},a.id))})]})})]})]})},HWe=({notifications:t=[]})=>{const[e,s]=E.useState("all"),[n,a]=E.useState(""),i=[...t,{id:5,type:"info",title:"New Student Enrollment",message:"15 new students enrolled for the upcoming semester",timestamp:"4 hours ago",priority:"low",department:"Admission",read:!1},{id:6,type:"success",title:"Infrastructure Upgrade Complete",message:"Science lab renovation completed successfully",timestamp:"6 hours ago",priority:"medium",department:"Facility",read:!0},{id:7,type:"warning",title:"Maintenance Schedule",message:"Library maintenance scheduled for this weekend",timestamp:"8 hours ago",priority:"medium",department:"Maintenance",read:!1},{id:8,type:"urgent",title:"Parent Complaint",message:"Urgent complaint regarding cafeteria food quality",timestamp:"12 hours ago",priority:"high",department:"Administration",read:!1},{id:9,type:"academic",title:"Teacher Conference Request",message:"Ms. Johnson requests conference about curriculum changes",timestamp:"1 day ago",priority:"medium",department:"Academic",read:!0},{id:10,type:"financial",title:"Monthly Budget Report",message:"February budget report is now available for review",timestamp:"1 day ago",priority:"low",department:"Finance",read:!0}],o={high:i.filter(h=>h.priority==="high").length,medium:i.filter(h=>h.priority==="medium").length,low:i.filter(h=>h.priority==="low").length,unread:i.filter(h=>!h.read).length},l=h=>{switch(h){case"urgent":case"warning":return Yi;case"success":return Fr;case"info":return ES;default:return sa}},c=(h,m)=>{if(m==="high")return"red";switch(h){case"urgent":return"red";case"warning":return"yellow";case"success":return"green";case"financial":return"emerald";case"academic":return"blue";case"staff":return"purple";default:return"gray"}},d=h=>{switch(h.toLowerCase()){case"academic":return Dr;case"finance":return kf;case"hr":return us;case"safety":return Yi;case"administration":return us;default:return sa}},u=i.filter(h=>!(e!=="all"&&h.priority!==e&&e!=="unread"||e==="unread"&&h.read||n&&!h.title.toLowerCase().includes(n.toLowerCase())&&!h.message.toLowerCase().includes(n.toLowerCase())));return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Notification Center"}),r.jsx("p",{className:"text-yellow-100",children:"Manage all school notifications and alerts"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[r.jsx("div",{className:"text-2xl font-bold",children:o.unread}),r.jsx("div",{className:"text-xs text-yellow-100",children:"Unread"})]}),r.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[r.jsx("div",{className:"text-2xl font-bold",children:o.high}),r.jsx("div",{className:"text-xs text-yellow-100",children:"Urgent"})]})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:i.length}),r.jsx("div",{className:"text-sm text-amber-600",children:"Total Notifications"})]}),r.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:r.jsx(sa,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.high}),r.jsx("div",{className:"text-sm text-amber-600",children:"High Priority"})]}),r.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:r.jsx(Yi,{className:"w-6 h-6 text-red-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-600",children:o.medium}),r.jsx("div",{className:"text-sm text-amber-600",children:"Medium Priority"})]}),r.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:r.jsx(X8,{className:"w-6 h-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:o.unread}),r.jsx("div",{className:"text-sm text-gray-500",children:"Unread"})]}),r.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:r.jsx(fr,{className:"w-6 h-6 text-gray-600"})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fs,{className:"w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),placeholder:"Search notifications...",className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Po,{className:"w-5 h-5 text-gray-400"}),r.jsxs("select",{value:e,onChange:h=>s(h.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Notifications"}),r.jsx("option",{value:"high",children:"High Priority"}),r.jsx("option",{value:"medium",children:"Medium Priority"}),r.jsx("option",{value:"low",children:"Low Priority"}),r.jsx("option",{value:"unread",children:"Unread Only"})]})]}),r.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[r.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Mark All Read"}),r.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Archive All"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"divide-y divide-gray-100",children:u.length>0?u.map(h=>{const m=l(h.type),f=d(h.department),x=c(h.type,h.priority);return r.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${h.read?"":"bg-blue-50/30"}`,children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`p-3 rounded-lg flex-shrink-0 ${x==="red"?"bg-red-100":x==="yellow"?"bg-yellow-100":x==="green"?"bg-green-100":x==="emerald"?"bg-emerald-100":x==="blue"?"bg-blue-100":x==="purple"?"bg-purple-100":"bg-gray-100"}`,children:r.jsx(m,{className:`w-5 h-5 ${x==="red"?"text-red-600":x==="yellow"?"text-yellow-600":x==="green"?"text-green-600":x==="emerald"?"text-emerald-600":x==="blue"?"text-blue-600":x==="purple"?"text-purple-600":"text-gray-600"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:`font-semibold ${h.read?"text-gray-700":"text-gray-900"}`,children:[h.title,!h.read&&r.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-500 rounded-full inline-block"})]}),r.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",children:h.message})]}),r.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.priority==="high"?"bg-red-100 text-red-700":h.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:h.priority}),r.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:r.jsx(th,{className:"w-4 h-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(fr,{className:"w-4 h-4"}),h.timestamp]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(f,{className:"w-4 h-4"}),h.department]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Archive",children:r.jsx(ZT,{className:"w-4 h-4 text-gray-400"})}),r.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Flag",children:r.jsx(X8,{className:"w-4 h-4 text-gray-400"})})]})]})]})]})},h.id)}):r.jsxs("div",{className:"p-12 text-center",children:[r.jsx(sa,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications found"}),r.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]})}),u.length>10&&r.jsx("div",{className:"p-6 bg-gray-50 text-center",children:r.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Load More Notifications"})})]})]})},QWe=[{value:"1",label:"Class 1"},{value:"2",label:"Class 2"},{value:"3",label:"Class 3"},{value:"4",label:"Class 4"},{value:"5",label:"Class 5"},{value:"6",label:"Class 6"},{value:"7",label:"Class 7"},{value:"8",label:"Class 8"},{value:"9",label:"Class 9"},{value:"10",label:"Class 10"},{value:"11",label:"Class 11"},{value:"12",label:"Class 12"}],$We=["A","B","C","D"],Fj=[{id:"p1",role:"Parent",name:"Anita Sharma",class:"1",section:"A",email:"anita@example.com",phone:"+91-900000001"},{id:"p2",role:"Parent",name:"Rahul Verma",class:"1",section:"B",email:"rahul@example.com",phone:"+91-900000002"},{id:"p3",role:"Parent",name:"Sonal Kapoor",class:"2",section:"A",email:"sonal@example.com",phone:"+91-900000003"},{id:"p4",role:"Parent",name:"Deepak Singh",class:"3",section:"C",email:"deepak@example.com",phone:"+91-900000004"},{id:"t1",role:"Teacher",name:"Mr. Iyer",class:"5",section:"A",email:"iyer@school.edu",phone:"+91-900000101"},{id:"t2",role:"Teacher",name:"Ms. Bose",class:"7",section:"B",email:"bose@school.edu",phone:"+91-900000102"},{id:"s1",role:"Staff",name:"Office Admin",class:"-",section:"-",email:"office@school.edu",phone:"+91-900000201"},{id:"s2",role:"Staff",name:"Transport Incharge",class:"-",section:"-",email:"bus@school.edu",phone:"+91-900000202"}];function zWe(){const[t,e]=E.useState(!0),[s,n]=E.useState(!1),[a,i]=E.useState("Parents"),[o,l]=E.useState(""),[c,d]=E.useState(""),[u,h]=E.useState(""),[m,f]=E.useState(new Set),[x,A]=E.useState(""),[g,b]=E.useState(""),w=E.useMemo(()=>{let M=Fj;if(a!=="All"&&(M=M.filter(C=>C.role.toLowerCase()===a.toLowerCase())),o&&(M=M.filter(C=>C.class===o)),c&&(M=M.filter(C=>C.section===c)),u.trim()){const C=u.trim().toLowerCase();M=M.filter(B=>B.name.toLowerCase().includes(C)||B.email&&B.email.toLowerCase().includes(C)||B.phone&&B.phone.toLowerCase().includes(C))}return M},[a,o,c,u]),v=M=>{f(C=>{const B=new Set(C);return B.has(M)?B.delete(M):B.add(M),B})},j=()=>{f(new Set(w.map(M=>M.id)))},N=()=>f(new Set),S=g.length,T=Math.max(1,Math.ceil(S/160)),I=(t||s)&&m.size>0&&g.trim().length>0,_=async()=>{const M=Fj.filter(C=>m.has(C.id));console.log("Sending via:",{email:t,sms:s}),console.log("Audience/Filters:",{audience:a,selectedClass:o,selectedSection:c,query:u}),console.log("Subject:",x),console.log("Message:",g),console.log("Recipients:",M),alert(`Prepared to send ${t?"Email ":""}${t&&s?"& ":""}${s?"SMS ":""}to ${M.length} recipient(s).`)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Communications"}),r.jsx("p",{className:"text-yellow-100",children:"Send Email and SMS to parents, teachers, and staff"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right",children:[r.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[r.jsx("div",{className:"text-2xl font-bold",children:Fj.filter(M=>M.role==="Parent").length}),r.jsxs("div",{className:"text-xs text-yellow-100 flex items-center gap-1 justify-end",children:[r.jsx(pa,{className:"w-3 h-3"})," Parents"]})]}),r.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[r.jsx("div",{className:"text-2xl font-bold",children:Fj.filter(M=>M.role!=="Parent").length}),r.jsxs("div",{className:"text-xs text-yellow-100 flex items-center gap-1 justify-end",children:[r.jsx(Ar,{className:"w-3 h-3"})," Staff & Teachers"]})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100 p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap md:col-span-2",children:[r.jsxs("button",{onClick:()=>e(M=>!M),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${t?"bg-amber-100 border-amber-300 text-amber-800":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[r.jsx(xa,{className:"w-4 h-4"})," Email"]}),r.jsxs("button",{onClick:()=>n(M=>!M),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${s?"bg-yellow-100 border-yellow-300 text-yellow-800":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[r.jsx(oa,{className:"w-4 h-4"})," SMS"]})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("label",{className:"text-xs text-amber-700",children:"Audience"}),r.jsxs("select",{value:a,onChange:M=>i(M.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[r.jsx("option",{children:"Parents"}),r.jsx("option",{children:"Teachers"}),r.jsx("option",{children:"Staff"}),r.jsx("option",{children:"All"})]})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("label",{className:"text-xs text-amber-700",children:"Class"}),r.jsxs("select",{value:o,onChange:M=>l(M.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[r.jsx("option",{value:"",children:"All Classes"}),QWe.map(M=>r.jsx("option",{value:M.value,children:M.label},M.value))]})]}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("label",{className:"text-xs text-amber-700",children:"Section"}),r.jsxs("select",{value:c,onChange:M=>d(M.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[r.jsx("option",{value:"",children:"All Sections"}),$We.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{className:"md:col-span-2 min-w-0",children:[r.jsx("label",{className:"text-xs text-amber-700",children:"Search"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx(Fs,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{value:u,onChange:M=>h(M.target.value),placeholder:"Search name, email, phone",className:"w-full border border-gray-200 rounded-lg pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400"})]})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-amber-800",children:[m.size," selected  ",w.length," match",w.length!==1?"es":""]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:j,className:"text-sm px-3 py-1.5 rounded-lg bg-yellow-50 hover:bg-yellow-100 border border-yellow-200 text-amber-800",children:"Select All"}),r.jsx("button",{onClick:N,className:"text-sm px-3 py-1.5 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-700",children:"Clear"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[r.jsxs("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm border border-yellow-100 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-yellow-100 flex items-center justify-between",children:r.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Recipients"})}),r.jsxs("div",{className:"divide-y divide-yellow-50 max-h-[440px] overflow-auto",children:[w.map(M=>r.jsxs("label",{className:"flex items-center gap-4 p-4 hover:bg-yellow-50 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.has(M.id),onChange:()=>v(M.id),className:"w-4 h-4"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-amber-900",children:M.name}),r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${M.role==="Parent"?"bg-purple-100 text-purple-700":M.role==="Teacher"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-800"}`,children:M.role})]}),r.jsxs("div",{className:"text-sm text-amber-700",children:[M.email,"  ",M.phone]})]}),r.jsx("div",{className:"text-sm text-amber-700 w-24 text-right",children:M.class!=="-"?`Class ${M.class}-${M.section}`:"-"})]},M.id)),w.length===0&&r.jsx("div",{className:"p-6 text-center text-amber-700",children:"No matches found."})]})]}),r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Compose Message"}),t&&r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"text-xs text-amber-700",children:"Subject (Email)"}),r.jsx("input",{value:x,onChange:M=>A(M.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",placeholder:"Subject line"})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{className:"text-xs text-amber-700",children:"Message"}),r.jsx("textarea",{rows:8,value:g,onChange:M=>b(M.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",placeholder:"Type your announcement or message here..."}),s&&r.jsxs("div",{className:"text-xs text-amber-700 mt-1",children:[S," characters  ~",T," SMS segment",T>1?"s":""]})]}),r.jsxs("button",{disabled:!I,onClick:_,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-white transition-colors ${I?"bg-amber-600 hover:bg-amber-700":"bg-gray-300 cursor-not-allowed"}`,children:[r.jsx(mn,{className:"w-4 h-4"}),t&&s?"Send Email & SMS":t?"Send Email":"Send SMS"]}),r.jsx("div",{className:"text-xs text-amber-700 mt-2",children:"This is a demo UI. Integrate with backend APIs to actually deliver messages."})]})]})]})}Db.register(G1,V1,bg,mD,pD,fD);const GWe="http://localhost:5000",VWe=()=>{var I,_,M,C,B,P,H,D,G,O;const[t,e]=E.useState("overview"),[s,n]=E.useState(!0),[a,i]=E.useState(null),[o,l]=E.useState(!0),[c,d]=E.useState("");E.useEffect(()=>{(async()=>{l(!0),d("");try{const ee=await fetch(`${GWe}/api/principal/overview`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ee.ok)throw new Error("Failed to load principal overview");const q=await ee.json();i(q)}catch(ee){console.error("Principal overview error:",ee),d("Unable to load live dashboard data.")}finally{l(!1)}})()},[]);const u={totalStudents:((I=a==null?void 0:a.stats)==null?void 0:I.totalStudents)??1247,totalTeachers:((_=a==null?void 0:a.stats)==null?void 0:_.totalTeachers)??89,totalStaff:34,totalClasses:((M=a==null?void 0:a.stats)==null?void 0:M.totalClasses)??45,activeParents:((C=a==null?void 0:a.stats)==null?void 0:C.totalParents)??1180,attendanceRate:((B=a==null?void 0:a.attendance)==null?void 0:B.rate)??94.2,satisfactionScore:4.7,currentRevenue:(P=a==null?void 0:a.fees)!=null&&P.paidAmount?Number((a.fees.paidAmount/1e6).toFixed(2)):2.4,monthlyGrowth:8.3},h=[{id:1,type:"urgent",title:"Fire Safety Inspection Due",message:"Annual fire safety inspection scheduled for next week",timestamp:"10 minutes ago",priority:"high",department:"Safety"},{id:2,type:"academic",title:"Exam Results Available",message:"Mid-term examination results ready for review",timestamp:"1 hour ago",priority:"medium",department:"Academic"},{id:3,type:"financial",title:"Budget Approval Required",message:"Q2 budget proposal awaiting principal approval",timestamp:"2 hours ago",priority:"high",department:"Finance"}],m=[{id:1,action:"New teacher application approved",time:"5 min ago",type:"staff"},{id:2,action:"Student disciplinary meeting scheduled",time:"15 min ago",type:"student"},{id:3,action:"Budget report generated",time:"30 min ago",type:"finance"},{id:4,action:"Parent-teacher meeting confirmed",time:"1 hour ago",type:"academic"}],f=[{title:"Academic Excellence",value:"94.2%",change:"+2.1%",trend:"up",color:"bg-emerald-100 text-emerald-800",icon:pn,description:"Students achieving above 85%"},{title:"Teacher Satisfaction",value:"4.6/5",change:"+0.2",trend:"up",color:"bg-blue-100 text-blue-800",icon:Yd,description:"Based on quarterly survey"},{title:"Parent Engagement",value:"89.3%",change:"+5.7%",trend:"up",color:"bg-purple-100 text-purple-800",icon:Ar,description:"Active participation rate"},{title:"Infrastructure Score",value:"92/100",change:"+3",trend:"up",color:"bg-amber-100 text-amber-800",icon:Wu,description:"Facility condition rating"}],x=[{title:"Total Students",value:u.totalStudents.toLocaleString(),change:"+47",changeType:"increase",icon:pa,color:"bg-blue-600",drillDown:"students"},{title:"Faculty & Staff",value:(u.totalTeachers+u.totalStaff).toLocaleString(),change:"+3",changeType:"increase",icon:Ar,color:"bg-green-600",drillDown:"staff"},{title:"Active Classes",value:u.totalClasses.toString(),change:"+2",changeType:"increase",icon:Hr,color:"bg-purple-600",drillDown:"academics"},{title:"Attendance Rate",value:`${u.attendanceRate}%`,change:"+1.2%",changeType:"increase",icon:Yd,color:"bg-orange-600",drillDown:"attendance"},{title:"Revenue (M)",value:`$${u.currentRevenue}M`,change:`+${u.monthlyGrowth}%`,changeType:"increase",icon:kf,color:"bg-indigo-600",drillDown:"finance"},{title:"Satisfaction Score",value:`${u.satisfactionScore}/5`,change:"+0.3",changeType:"increase",icon:pn,color:"bg-yellow-500",drillDown:"satisfaction"}],A=(D=(H=a==null?void 0:a.attendance)==null?void 0:H.trend)!=null&&D.length?a.attendance.trend.map(Q=>({month:Q.month,value:Q.rate})):[{month:"Jan",value:92.4},{month:"Feb",value:93.1},{month:"Mar",value:94.2},{month:"Apr",value:94.8},{month:"May",value:95.3},{month:"Jun",value:94.7}],g={labels:A.map(Q=>Q.month),datasets:[{label:"Attendance Rate (%)",data:A.map(Q=>Q.value),backgroundColor:"rgba(59, 130, 246, 0.7)",borderRadius:8},{label:"Target (%)",data:Array(A.length).fill(95),backgroundColor:"rgba(34, 197, 94, 0.5)",borderRadius:8}]},b={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Attendance Trend (Last 6 Months)"}},scales:{y:{min:85,max:100,ticks:{stepSize:1},title:{display:!0,text:"Attendance (%)"}}}},w=()=>{const Q=new Date().getHours();return Q<12?"Good Morning":Q<18?"Good Afternoon":"Good Evening"},v=(O=(G=a==null?void 0:a.performance)==null?void 0:G.gradeDistribution)!=null&&O.length?a.performance.gradeDistribution.map(Q=>({grade:Q.grade,students:Q.count})):[{grade:"A",students:420},{grade:"B",students:380},{grade:"C",students:280},{grade:"D",students:120},{grade:"F",students:47}],j={labels:v.map(Q=>Q.grade),datasets:[{label:"Students",data:v.map(Q=>Q.students),backgroundColor:["rgba(251, 191, 36, 0.7)","rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(251, 191, 36, 1)","rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},N={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Student Performance Distribution"}}},S=(Q,ee)=>{const q=Q.icon;return r.jsxs("div",{className:"relative rounded-xl p-6 shadow-lg overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-xl",onClick:()=>e(Q.drillDown),children:[r.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${Q.color}`}),r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:Q.title}),r.jsx("div",{className:`p-2 rounded-lg ${Q.color.replace("600","100")} text-white`,children:r.jsx(q,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"flex items-end justify-between mt-auto",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Q.value}),r.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs font-medium ${Q.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[Q.changeType==="increase"?r.jsx(wg,{className:"w-3 h-3"}):r.jsx(eB,{className:"w-3 h-3"}),Q.change]})]})})]}),r.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-5 transition-opacity"})]},ee)},T=(Q,ee)=>{const q=Q.icon;return r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:r.jsxs("div",{className:"p-5",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${Q.color.split(" ")[0]} ${Q.color.split(" ")[1].replace("800","600")}`,children:r.jsx(q,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:Q.title}),r.jsx("p",{className:"text-sm text-gray-500",children:Q.description})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:Q.value}),r.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${Q.trend==="up"?"text-green-600":"text-red-600"}`,children:[Q.trend==="up"?r.jsx(ds,{className:"w-4 h-4"}):r.jsx(eB,{className:"w-4 h-4"}),Q.change]})]})]})},ee)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),r.jsx(IWe,{activeView:t,setActiveView:e,isOpen:s,setIsOpen:n}),r.jsxs("div",{className:`transition-all duration-300 ${s?"ml-80":"ml-20"}`,children:[r.jsx("div",{className:"sticky top-0 z-30",children:r.jsx(LWe,{sidebarOpen:s,setSidebarOpen:n,notifications:h})}),r.jsxs("main",{className:"p-6 bg-gray-50 min-h-screen",children:[(o||c)&&r.jsx("div",{className:`mb-4 rounded-lg border px-4 py-3 text-sm ${c?"border-red-200 bg-red-50 text-red-700":"border-yellow-200 bg-yellow-50 text-yellow-800"}`,children:o?"Loading live dashboard data...":c}),t==="overview"?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-300 to-yellow-500 rounded-xl p-6 text-black relative overflow-hidden shadow-xl",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-geometric.png')] opacity-10"}),r.jsx("div",{className:"relative z-10",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-1",children:[w(),", Principal"]}),r.jsx("p",{className:"text-black opacity-90",children:"Comprehensive analytics for Electronic Educare Center"})]}),r.jsxs("div",{className:"mt-4 md:mt-0 flex items-center gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm",children:[r.jsx(ir,{className:"w-5 h-5"}),r.jsx("span",{children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("button",{className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg backdrop-blur-sm flex items-center gap-2 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),"Export Report"]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"School Overview"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-black hover:bg-gray-200 rounded-lg text-sm transition-colors",children:[r.jsx(Po,{className:"w-4 h-4"}),"Filters"]}),r.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-black hover:bg-gray-200 rounded-lg text-sm transition-colors",children:[r.jsx(oh,{className:"w-4 h-4"}),"Refresh"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:x.map((Q,ee)=>S(Q,ee))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-1 space-y-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Key Metrics"}),r.jsx("div",{className:"space-y-4",children:f.map((Q,ee)=>T(Q,ee))})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Trend"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:r.jsx(sB,{className:"w-4 h-4"})}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{className:"appearance-none bg-gray-100 border-none rounded-lg pl-3 pr-8 py-1 text-sm focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"Last 6 Months"}),r.jsx("option",{children:"Last Year"}),r.jsx("option",{children:"Last 3 Years"})]}),r.jsx(ln,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"})]})]})]}),r.jsx("div",{className:"h-64",children:r.jsx(xD,{data:g,options:b})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Student Performance Distribution"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:r.jsx(sB,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:r.jsx($ce,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"h-64 flex items-center justify-center",children:r.jsx(AD,{data:j,options:N})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Yi,{className:"w-5 h-5 text-red-500"}),"Critical Alerts"]}),r.jsxs("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1",children:["View All",r.jsx(ra,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"divide-y divide-gray-100",children:h.map(Q=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`mt-1 flex-shrink-0 p-2 rounded-full ${Q.priority==="high"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:r.jsx(sa,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-medium text-gray-900",children:Q.title}),r.jsx("span",{className:"text-xs text-gray-500",children:Q.timestamp})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Q.message}),r.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Q.department==="Safety"?"bg-red-100 text-red-700":Q.department==="Academic"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:Q.department}),r.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"Take Action"})]})]})]})},Q.id))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(ei,{className:"w-5 h-5 text-blue-500"}),"Recent Activities"]})}),r.jsx("div",{className:"divide-y divide-gray-100",children:m.map(Q=>r.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${Q.type==="staff"?"bg-green-500":Q.type==="student"?"bg-blue-500":Q.type==="finance"?"bg-purple-500":"bg-orange-500"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:Q.action}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("span",{className:"text-xs text-gray-500",children:Q.time}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Q.type==="staff"?"bg-green-100 text-green-700":Q.type==="student"?"bg-blue-100 text-blue-700":Q.type==="finance"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:Q.type.charAt(0).toUpperCase()+Q.type.slice(1)})]})]})]})},Q.id))})]})]})]}):t==="academics"?r.jsx(DWe,{}):t==="students"?r.jsx(RWe,{}):t==="staff"?r.jsx(OWe,{}):t==="finance"?r.jsx(UWe,{}):t==="notifications"?r.jsx(HWe,{notifications:h}):t==="facilities"?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Facilities & Resources"}),r.jsx("p",{className:"text-yellow-100",children:"Infrastructure management and maintenance oversight"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[r.jsx("div",{className:"text-2xl font-bold",children:"98%"}),r.jsx("div",{className:"text-xs text-yellow-100",children:"Operational"})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"45"}),r.jsx("div",{className:"text-sm text-amber-600",children:"Classrooms"})]}),r.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:r.jsx(Wu,{className:"w-6 h-6 text-amber-600"})})]}),r.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"42 Active, 3 Under Maintenance"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"8"}),r.jsx("div",{className:"text-sm text-amber-600",children:"Laboratories"})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(ei,{className:"w-6 h-6 text-purple-600"})})]}),r.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"All Operational"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"12"}),r.jsx("div",{className:"text-sm text-amber-600",children:"Buses"})]}),r.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:r.jsx(ds,{className:"w-6 h-6 text-amber-600"})})]}),r.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"11 Active, 1 In Service"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"95%"}),r.jsx("div",{className:"text-sm text-amber-600",children:"HVAC Systems"})]}),r.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:r.jsx(nx,{className:"w-6 h-6 text-yellow-600"})})]}),r.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"Optimal Performance"})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[r.jsx("div",{className:"p-6 border-b border-yellow-100",children:r.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Upcoming Maintenance"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:[{task:"HVAC System Inspection",date:"2024-08-10",location:"Main Building",priority:"high"},{task:"Fire Safety Equipment Check",date:"2024-08-12",location:"All Buildings",priority:"high"},{task:"Playground Equipment Maintenance",date:"2024-08-15",location:"Sports Complex",priority:"medium"},{task:"Library Carpet Cleaning",date:"2024-08-18",location:"Library Wing",priority:"low"}].map((Q,ee)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-amber-900",children:Q.task}),r.jsx("p",{className:"text-sm text-amber-600",children:Q.location})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-amber-700",children:Q.date}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Q.priority==="high"?"bg-red-100 text-red-700":Q.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:Q.priority})]})]},ee))})})]})]}):t==="communications"?r.jsx(zWe,{}):t==="reports"?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reports & Analytics"}),r.jsx("p",{className:"text-yellow-100",children:"Detailed insights and performance reports"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[r.jsx("div",{className:"text-2xl font-bold",children:"24"}),r.jsx("div",{className:"text-xs text-yellow-100",children:"Reports Generated"})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(ma,{className:"w-6 h-6 text-purple-600"})}),r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Updated"})]}),r.jsx("h3",{className:"font-semibold text-amber-900",children:"Academic Reports"}),r.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Student performance & grades"}),r.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Last updated: 2 hours ago"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:r.jsx(kf,{className:"w-6 h-6 text-amber-600"})}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Pending"})]}),r.jsx("h3",{className:"font-semibold text-amber-900",children:"Financial Reports"}),r.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Budget & revenue analysis"}),r.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Due: Tomorrow"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:r.jsx(Ar,{className:"w-6 h-6 text-yellow-600"})}),r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Ready"})]}),r.jsx("h3",{className:"font-semibold text-amber-900",children:"Staff Reports"}),r.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Teacher performance & HR"}),r.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Available for download"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(ds,{className:"w-6 h-6 text-purple-600"})}),r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:"In Progress"})]}),r.jsx("h3",{className:"font-semibold text-amber-900",children:"Trend Analysis"}),r.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Multi-year comparisons"}),r.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Generating report..."})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100",children:[r.jsx("div",{className:"p-6 border-b border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Recent Reports"}),r.jsxs("button",{className:"text-sm text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["View All",r.jsx(ra,{className:"w-4 h-4"})]})]})}),r.jsx("div",{className:"divide-y divide-yellow-100",children:[{name:"Monthly Academic Performance Report",date:"2024-08-05",type:"Academic",size:"2.4 MB",status:"completed"},{name:"Q2 Financial Summary",date:"2024-08-03",type:"Financial",size:"1.8 MB",status:"completed"},{name:"Teacher Evaluation Report",date:"2024-08-01",type:"HR",size:"3.1 MB",status:"completed"},{name:"Student Attendance Analysis",date:"2024-07-28",type:"Academic",size:"1.2 MB",status:"completed"},{name:"Facility Maintenance Report",date:"2024-07-25",type:"Operations",size:"980 KB",status:"completed"}].map((Q,ee)=>r.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Dr,{className:"w-5 h-5 text-amber-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-amber-900",children:Q.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-amber-600",children:Q.date}),r.jsx("span",{className:"text-xs text-gray-400",children:""}),r.jsx("span",{className:"text-xs text-amber-600",children:Q.size})]})]})]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Q.type==="Academic"?"bg-blue-100 text-blue-700":Q.type==="Financial"?"bg-green-100 text-green-700":Q.type==="HR"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:Q.type}),r.jsx("button",{className:"p-1 hover:bg-yellow-100 rounded text-amber-600",children:r.jsx(bs,{className:"w-4 h-4"})})]})]})},ee))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[r.jsx("div",{className:"p-6 border-b border-yellow-100",children:r.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Report Statistics"})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"847"}),r.jsx("div",{className:"text-sm text-amber-600",children:"Total Reports Generated"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-amber-700",children:"This Month"}),r.jsx("span",{className:"font-semibold text-amber-900",children:"24"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-amber-700",children:"Automated"}),r.jsx("span",{className:"font-semibold text-amber-900",children:"18"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-amber-700",children:"Custom"}),r.jsx("span",{className:"font-semibold text-amber-900",children:"6"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-amber-700",children:"Avg. Generation Time"}),r.jsx("span",{className:"font-semibold text-amber-900",children:"2.3 min"})]})]}),r.jsx("button",{className:"w-full mt-4 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Generate New Report"})]})]})]})]}):t==="calendar"?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"School Calendar"}),r.jsx("p",{className:"text-yellow-100",children:"Events, schedules, and important dates"})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[r.jsx("div",{className:"text-2xl font-bold",children:"8"}),r.jsx("div",{className:"text-xs text-yellow-100",children:"Upcoming Events"})]})})]})}),r.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-yellow-100",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"p-2 hover:bg-yellow-50 rounded-lg",children:r.jsx(ra,{className:"w-5 h-5 rotate-180 text-amber-600"})}),r.jsx("h2",{className:"text-xl font-bold text-amber-900",children:"August 2024"}),r.jsx("button",{className:"p-2 hover:bg-yellow-50 rounded-lg",children:r.jsx(ra,{className:"w-5 h-5 text-amber-600"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Event"}),r.jsx("button",{className:"px-4 py-2 border border-yellow-300 text-amber-700 rounded-lg hover:bg-yellow-50 transition-colors",children:"View All"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100",children:r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Q=>r.jsx("div",{className:"p-2 text-center text-sm font-medium text-amber-700",children:Q},Q))}),r.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35},(Q,ee)=>{const q=ee-3,Z=q>0&&q<=31,F=[8,12,15,18,22,25].includes(q),z=q===6;return r.jsxs("div",{className:`p-2 h-16 border border-yellow-100 rounded ${Z?"bg-white hover:bg-yellow-50":"bg-gray-50 text-gray-400"} ${z?"bg-purple-100 border-purple-300":""} cursor-pointer transition-colors`,children:[r.jsx("div",{className:`text-sm ${z?"font-bold text-purple-700":""}`,children:Z?q:""}),F&&r.jsx("div",{className:"mt-1",children:r.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"})})]},ee)})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[r.jsx("div",{className:"p-6 border-b border-yellow-100",children:r.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Upcoming Events"})}),r.jsx("div",{className:"divide-y divide-yellow-100",children:[{title:"Parent-Teacher Conference",date:"Aug 8",time:"9:00 AM",type:"meeting"},{title:"Science Fair Preparation",date:"Aug 12",time:"2:00 PM",type:"academic"},{title:"Staff Training Session",date:"Aug 15",time:"8:00 AM",type:"training"},{title:"Sports Day Practice",date:"Aug 18",time:"3:30 PM",type:"sports"},{title:"Board Meeting",date:"Aug 22",time:"10:00 AM",type:"meeting"},{title:"Library Week Opening",date:"Aug 25",time:"11:00 AM",type:"event"}].map((Q,ee)=>r.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${Q.type==="meeting"?"bg-purple-500":Q.type==="academic"?"bg-blue-500":Q.type==="training"?"bg-green-500":Q.type==="sports"?"bg-orange-500":"bg-amber-500"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-amber-900 text-sm",children:Q.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-amber-600",children:Q.date}),r.jsx("span",{className:"text-xs text-gray-400",children:""}),r.jsx("span",{className:"text-xs text-amber-600",children:Q.time})]}),r.jsx("span",{className:`inline-block mt-2 text-xs px-2 py-1 rounded-full ${Q.type==="meeting"?"bg-purple-100 text-purple-700":Q.type==="academic"?"bg-blue-100 text-blue-700":Q.type==="training"?"bg-green-100 text-green-700":Q.type==="sports"?"bg-orange-100 text-orange-700":"bg-amber-100 text-amber-700"}`,children:Q.type})]})]})},ee))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"23"}),r.jsx("div",{className:"text-sm text-amber-600",children:"Events This Month"})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(ir,{className:"w-6 h-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"156"}),r.jsx("div",{className:"text-sm text-amber-600",children:"Total Attendees"})]}),r.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:r.jsx(Ar,{className:"w-6 h-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"8"}),r.jsx("div",{className:"text-sm text-amber-600",children:"Pending Approvals"})]}),r.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:r.jsx(fr,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"94%"}),r.jsx("div",{className:"text-sm text-amber-600",children:"Event Success Rate"})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(pn,{className:"w-6 h-6 text-green-600"})})]})})]})]}):r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-amber-900 mb-6",children:[t.charAt(0).toUpperCase()+t.slice(1)," View"]}),r.jsx("div",{className:"h-96 bg-yellow-50 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Wu,{className:"w-12 h-12 mx-auto text-amber-400 mb-4"}),r.jsxs("p",{className:"text-amber-600",children:[t," dashboard content will appear here"]})]})})]})]})]})]})},WWe="http://localhost:5000".replace(/\/$/,""),qWe=()=>{var f;const[t,e]=E.useState(new Date().toISOString().slice(0,7)),[s,n]=E.useState(""),[a,i]=E.useState(!0),[o,l]=E.useState(""),[c,d]=E.useState([]);E.useEffect(()=>{(async()=>{var g,b;const A=localStorage.getItem("token");if(!A){l("Login required"),i(!1);return}i(!0),l("");try{const w=new URLSearchParams({month:t}),v=await fetch(`${WWe}/api/attendance/parent/children?${w.toString()}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`}}),j=await v.json();if(!v.ok)throw new Error((j==null?void 0:j.error)||"Failed to load attendance report");const N=Array.isArray(j.children)?j.children:[];d(N),!s&&N.length===1&&n(((b=(g=N[0])==null?void 0:g.student)==null?void 0:b._id)||"")}catch(w){l(w.message||"Could not load attendance")}finally{i(!1)}})()},[t]);const u=E.useMemo(()=>c.length?s&&c.find(x=>{var A;return((A=x==null?void 0:x.student)==null?void 0:A._id)===s})||c[0]:null,[c,s]),h=Array.isArray(u==null?void 0:u.attendance)?u.attendance:[],m=(u==null?void 0:u.monthlySummary)||{totalClasses:0,presentDays:0,absentDays:0,attendancePercentage:0};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-yellow-600 rounded-xl p-6 mb-6 text-white shadow-md",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Attendance Report"}),r.jsx("p",{className:"text-yellow-100",children:"Read-only monthly attendance for your child"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 mb-6 shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsx("input",{type:"month",value:t,onChange:x=>e(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),r.jsxs("select",{value:s,onChange:x=>n(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Child"}),c.map(x=>{var A,g,b,w,v;return r.jsxs("option",{value:(A=x==null?void 0:x.student)==null?void 0:A._id,children:[(g=x==null?void 0:x.student)==null?void 0:g.name," (",((b=x==null?void 0:x.student)==null?void 0:b.grade)||"-"," ",((w=x==null?void 0:x.student)==null?void 0:w.section)||"",")"]},(v=x==null?void 0:x.student)==null?void 0:v._id)})]})]}),o?r.jsx("p",{className:"text-sm text-red-600 mt-2",children:o}):null]}),a?r.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-100 flex items-center justify-center text-gray-500",children:[r.jsx(Vn,{className:"w-5 h-5 animate-spin mr-2"})," Loading attendance..."]}):u?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm text-gray-600",children:"Total Classes"}),r.jsx(Ar,{className:"w-4 h-4 text-gray-500"})]}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:m.totalClasses})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm text-gray-600",children:"Present"}),r.jsx(Fr,{className:"w-4 h-4 text-green-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:m.presentDays})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm text-gray-600",children:"Absent"}),r.jsx(ia,{className:"w-4 h-4 text-red-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:m.absentDays})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm text-gray-600",children:"Attendance %"}),r.jsx(ds,{className:"w-4 h-4 text-blue-600"})]}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:[m.attendancePercentage,"%"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:r.jsxs("h2",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx(ir,{className:"w-4 h-4 text-amber-600"}),"Daily Records (",(f=u==null?void 0:u.student)==null?void 0:f.name,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left px-4 py-3",children:"Date"}),r.jsx("th",{className:"text-left px-4 py-3",children:"Status"}),r.jsx("th",{className:"text-left px-4 py-3",children:"Subject"})]})}),r.jsx("tbody",{children:h.length===0?r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-6 text-gray-500",colSpan:3,children:"No attendance records for this month."})}):h.map(x=>r.jsxs("tr",{className:"border-t border-gray-100",children:[r.jsx("td",{className:"px-4 py-3 text-gray-800",children:new Date(x.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${x.status==="present"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.status==="present"?"Present":"Absent"})}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:x.subject||"-"})]},x._id))})]})})]})]}):r.jsx("div",{className:"bg-white rounded-xl p-8 border border-gray-100 text-gray-500 text-center",children:"No child attendance found."})]})},KWe=()=>{const[t,e]=E.useState("overview"),[s,n]=E.useState("all"),a={studentName:"Koushik Bala",class:"10-A",studentId:"STU-2024-1085",currentPercentage:97,rank:5,totalStudents:120,attendance:94,improvement:"+5.2%",subjects:[{name:"Mathematics",grade:"A",percentage:92,teacher:"Dr. Sarah Johnson",assignments:{completed:15,total:15},tests:{completed:4,total:5},trend:[85,88,90,92],color:"#8b5cf6"},{name:"Physics",grade:"A-",percentage:88,teacher:"Prof. Michael Chen",assignments:{completed:12,total:12},tests:{completed:3,total:4},trend:[80,82,85,88],color:"#10b981"},{name:"English",grade:"B+",percentage:85,teacher:"Ms. Emily Davis",assignments:{completed:18,total:18},tests:{completed:4,total:4},trend:[78,80,82,85],color:"#3b82f6"},{name:"Chemistry",grade:"A",percentage:90,teacher:"Dr. Robert Kim",assignments:{completed:14,total:14},tests:{completed:3,total:3},trend:[82,85,88,90],color:"#f59e0b"},{name:"History",grade:"B+",percentage:87,teacher:"Mr. James Wilson",assignments:{completed:10,total:10},tests:{completed:2,total:2},trend:[80,83,85,87],color:"#ec4899"},{name:"Computer Science",grade:"A+",percentage:95,teacher:"Ms. Lisa Anderson",assignments:{completed:16,total:16},tests:{completed:3,total:3},trend:[88,90,92,95],color:"#06b6d4"}],upcomingAssignments:[{subject:"Physics",title:"Project Submission",dueDate:"Jun 25, 2023"},{subject:"English",title:"Essay Writing",dueDate:"Jun 28, 2023"},{subject:"Mathematics",title:"Problem Set 6",dueDate:"Jun 30, 2023"}],performanceTrend:[{month:"Jan",percentage:88},{month:"Feb",percentage:90},{month:"Mar",percentage:92},{month:"Apr",percentage:93},{month:"May",percentage:95},{month:"Jun",percentage:97}]},i=a.subjects.map(c=>({subject:c.name,percentage:c.percentage,fill:c.color})),o=[{name:"A",value:45,color:"#10b981"},{name:"B",value:30,color:"#3b82f6"},{name:"C",value:15,color:"#f59e0b"},{name:"D",value:7,color:"#ef4444"},{name:"F",value:3,color:"#6b7280"}],l=({active:c,payload:d,label:u})=>c&&d&&d.length?r.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-md border border-gray-200",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:u}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",r.jsxs("span",{className:"font-medium",children:[d[0].value,"%"]})]})]}):null;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-2xl shadow-2xl mb-8",children:[r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full transform translate-x-32 -translate-y-32"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white rounded-full transform -translate-x-48 translate-y-48"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 w-40 h-40 bg-yellow-300 rounded-full transform -translate-x-20 -translate-y-20"})]}),r.jsx("div",{className:"relative z-10 p-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:r.jsx(pa,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:"Academic Report"}),r.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"DETAILED"})})]}),r.jsxs("p",{className:"text-white/90 text-lg mt-2",children:["Comprehensive academic performance analysis for ",a.studentName]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[r.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[r.jsx(fs,{className:"w-4 h-4 text-yellow-300"}),r.jsxs("span",{className:"text-white text-sm font-medium",children:["Rank #",a.rank]})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[r.jsx(ds,{className:"w-4 h-4 text-green-300"}),r.jsxs("span",{className:"text-white text-sm font-medium",children:[a.improvement," Growth"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[r.jsx(pn,{className:"w-4 h-4 text-blue-300"}),r.jsxs("span",{className:"text-white text-sm font-medium",children:[a.currentPercentage,"% Overall"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-6 lg:mt-0",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("select",{className:"appearance-none bg-white/20 backdrop-blur-sm border-0 rounded-xl pl-4 pr-10 py-3 text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 min-w-[150px]",value:s,onChange:c=>n(c.target.value),children:[r.jsx("option",{value:"all",className:"text-gray-800",children:"All Subjects"}),a.subjects.map((c,d)=>r.jsx("option",{value:c.name.toLowerCase(),className:"text-gray-800",children:c.name},d))]}),r.jsx(ln,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/70 pointer-events-none"})]}),r.jsxs("button",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all duration-200 border border-white/30",children:[r.jsx(MS,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Share"})]}),r.jsxs("button",{className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-lg",children:[r.jsx(bs,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"Export PDF"})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(us,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Vs,{className:"h-4 w-4 text-purple-500"}),r.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"ACTIVE"})]})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:a.studentName}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Class ",a.class,"  ID: ",a.studentId]}),r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Profile Status"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]})})]}),r.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(ma,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[r.jsx(wg,{className:"h-3 w-3 text-green-600"}),r.jsx("span",{className:"text-xs font-bold text-green-600",children:a.improvement})]})]}),r.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-1",children:[a.currentPercentage,"%"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Overall Performance"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-400 to-cyan-500 transition-all duration-500",style:{width:`${a.currentPercentage}%`}})})]}),r.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(pn,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fs,{className:"h-4 w-4 text-amber-500 fill-current"}),r.jsx("span",{className:"text-xs font-medium text-amber-600 bg-amber-100 px-2 py-1 rounded-full",children:"TOP 5"})]})]}),r.jsxs("div",{className:"flex items-baseline space-x-1 mb-1",children:[r.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:["#",a.rank]}),r.jsxs("span",{className:"text-lg text-gray-500",children:["/",a.totalStudents]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Class Ranking"}),r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Percentile"}),r.jsxs("span",{className:"font-bold text-amber-600",children:[Math.round((1-a.rank/a.totalStudents)*100),"th"]})]})]}),r.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(Fr,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fr,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"EXCELLENT"})]})]}),r.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-1",children:[a.attendance,"%"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Attendance Rate"}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500",style:{width:`${a.attendance}%`}})})]})]}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-2 mb-8 shadow-xl border border-white/20",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="overview"?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("overview"),children:[r.jsx(ma,{className:"w-4 h-4"}),r.jsx("span",{children:"Overview"})]}),r.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="subjects"?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("subjects"),children:[r.jsx(Hr,{className:"w-4 h-4"}),r.jsx("span",{children:"Subjects"})]}),r.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="assignments"?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("assignments"),children:[r.jsx(Dr,{className:"w-4 h-4"}),r.jsx("span",{children:"Assignments"})]})]})}),t==="overview"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl",children:r.jsx(ds,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Performance Trend"}),r.jsx("p",{className:"text-sm text-gray-600",children:"6-month academic progression"})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-3 py-1 rounded-full",children:[r.jsx(wg,{className:"h-3 w-3 text-green-600"}),r.jsx("span",{className:"text-xs font-bold text-green-600",children:"+9% Growth"})]})]}),r.jsx("div",{className:"h-80",children:r.jsx($d,{width:"100%",height:"100%",children:r.jsxs(Mee,{data:a.performanceTrend,children:[r.jsx(jf,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(pc,{dataKey:"month",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),r.jsx(xc,{domain:[85,100],tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),r.jsx(Xa,{content:r.jsx(l,{}),cursor:{stroke:"#8b5cf6",strokeWidth:1}}),r.jsx(px,{type:"monotone",dataKey:"percentage",stroke:"url(#colorGradient)",strokeWidth:3,dot:{r:5,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:7,fill:"#8b5cf6",strokeWidth:3,stroke:"#fff"}}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[r.jsx("stop",{offset:"0%",stopColor:"#8b5cf6"}),r.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})})]})})})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl",children:r.jsx(kn,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Grade Distribution"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Class performance breakdown"})]})]}),r.jsx("div",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-3 py-1 rounded-full",children:"CLASS ANALYTICS"})]}),r.jsx("div",{className:"h-80",children:r.jsx($d,{width:"100%",height:"100%",children:r.jsxs(tL,{children:[r.jsx(nu,{data:o,cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:3,dataKey:"value",label:({name:c,percent:d})=>`${c}: ${(d*100).toFixed(0)}%`,labelLine:!1,children:o.map((c,d)=>r.jsx(u0,{fill:c.color},`cell-${d}`))}),r.jsx(Xa,{formatter:c=>[`${c}%`,"Students"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),r.jsx(Ku,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"})]})})})]})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:r.jsx(ma,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Subject Performance Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Detailed performance across all subjects"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Es,{className:"h-4 w-4 text-gray-500"})}),r.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(bs,{className:"h-4 w-4 text-gray-500"})})]})]}),r.jsx("div",{className:"h-96",children:r.jsx($d,{width:"100%",height:"100%",children:r.jsxs(_1,{data:i,margin:{top:20,right:30,left:20,bottom:5},children:[r.jsx(jf,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(pc,{dataKey:"subject",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),r.jsx(xc,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),r.jsx(Xa,{content:r.jsx(l,{}),cursor:{fill:"rgba(139, 92, 246, 0.1)"}}),r.jsx(Ll,{dataKey:"percentage",radius:[8,8,0,0],name:"Performance %",children:i.map((c,d)=>r.jsx(u0,{fill:`url(#gradient-${d})`},`cell-${d}`))}),r.jsx("defs",{children:i.map((c,d)=>r.jsxs("linearGradient",{id:`gradient-${d}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"0%",stopColor:c.fill,stopOpacity:.8}),r.jsx("stop",{offset:"100%",stopColor:c.fill,stopOpacity:.3})]},d))})]})})})]})]}),t==="subjects"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.subjects.map((c,d)=>r.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-14 w-14 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",style:{backgroundColor:`${c.color}20`},children:r.jsx(Hr,{className:"h-7 w-7",style:{color:c.color}})}),r.jsx("div",{className:"absolute -top-1 -right-1",children:r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:""})})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:c.name}),r.jsx("p",{className:"text-sm text-gray-600",children:c.teacher}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]})]}),r.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[r.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-bold shadow-sm ${c.grade.startsWith("A")?"bg-gradient-to-r from-green-400 to-emerald-500 text-white":c.grade.startsWith("B")?"bg-gradient-to-r from-blue-400 to-cyan-500 text-white":"bg-gradient-to-r from-amber-400 to-orange-500 text-white"}`,children:c.grade}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fs,{className:"h-3 w-3 text-yellow-500 fill-current"}),r.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Grade"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Performance Score"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-2xl font-bold",style:{color:c.color},children:[c.percentage,"%"]}),r.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[r.jsx(ds,{className:"h-3 w-3 text-green-600"}),r.jsxs("span",{className:"text-xs text-green-600 font-bold",children:["+",c.trend[c.trend.length-1]-c.trend[0],"%"]})]})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:r.jsx("div",{className:"h-3 rounded-full shadow-sm transition-all duration-1000 ease-out",style:{width:`${c.percentage}%`,background:`linear-gradient(90deg, ${c.color}aa, ${c.color})`}})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Assignments"}),r.jsx(Dr,{className:"h-4 w-4 text-gray-500"})]}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[c.assignments.completed,r.jsxs("span",{className:"text-lg text-gray-500",children:["/",c.assignments.total]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5 mt-2",children:r.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-blue-400 to-blue-600",style:{width:`${c.assignments.completed/c.assignments.total*100}%`}})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Tests"}),r.jsx(kn,{className:"h-4 w-4 text-gray-500"})]}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[c.tests.completed,r.jsxs("span",{className:"text-lg text-gray-500",children:["/",c.tests.total]})]}),r.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5 mt-2",children:r.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-purple-400 to-purple-600",style:{width:`${c.tests.completed/c.tests.total*100}%`}})})]})]}),r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Progress Trend"}),r.jsx(ei,{className:"h-4 w-4 text-gray-500"})]}),r.jsx("div",{className:"flex items-end h-12 gap-1",children:c.trend.map((u,h)=>r.jsx("div",{className:"flex-1 rounded-t-lg transition-all duration-500 ease-out group-hover:scale-110",style:{height:`${(u-70)/30*100}%`,background:`linear-gradient(180deg, ${c.color}, ${c.color}80)`,opacity:.6+h*.1}},h))}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[r.jsx("span",{children:"Q1"}),r.jsx("span",{children:"Q2"}),r.jsx("span",{children:"Q3"}),r.jsx("span",{children:"Q4"})]})]})]})]},d))}),t==="assignments"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:r.jsx(Dr,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Upcoming Assignments"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Tasks due in the coming weeks"})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 bg-orange-100 px-3 py-1 rounded-full",children:[r.jsx(fr,{className:"h-3 w-3 text-orange-600"}),r.jsxs("span",{className:"text-xs font-bold text-orange-600",children:[a.upcomingAssignments.length," Pending"]})]})]}),r.jsx("div",{className:"space-y-4",children:a.upcomingAssignments.map((c,d)=>r.jsxs("div",{className:"group flex items-center justify-between p-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200 hover:shadow-lg hover:scale-102 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:r.jsx(Dr,{className:"h-7 w-7 text-white"})}),r.jsx("div",{className:"absolute -top-1 -right-1",children:r.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:"!"})})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-1",children:c.title}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:c.subject}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-xs text-amber-600 font-medium",children:"High Priority"})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[r.jsx(ir,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-medium",children:c.dueDate})]}),r.jsx("span",{className:"text-xs text-red-600 font-semibold bg-red-100 px-2 py-1 rounded-full",children:"Due Soon"})]}),r.jsx("button",{className:"group/btn h-10 w-10 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:r.jsx(th,{className:"h-5 w-5 text-gray-500 group-hover/btn:text-gray-700"})})]})]},d))})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:r.jsx(kn,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Assignment Completion Analysis"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Subject-wise completion tracking"})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-3 py-1 rounded-full",children:[r.jsx(Fr,{className:"h-3 w-3 text-green-600"}),r.jsx("span",{className:"text-xs font-bold text-green-600",children:"98% Overall"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.subjects.map((c,d)=>r.jsxs("div",{className:"group bg-gradient-to-br from-gray-50 to-white p-6 rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",style:{backgroundColor:`${c.color}20`},children:r.jsx(Hr,{className:"h-5 w-5",style:{color:c.color}})}),r.jsx("h4",{className:"font-bold text-gray-800",children:c.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"text-2xl font-bold",style:{color:c.color},children:[Math.round(c.assignments.completed/c.assignments.total*100),"%"]}),r.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Completion"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:r.jsx("div",{className:"h-3 rounded-full shadow-sm transition-all duration-1000 ease-out",style:{width:`${c.assignments.completed/c.assignments.total*100}%`,background:`linear-gradient(90deg, ${c.color}aa, ${c.color})`}})}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600 font-medium",children:[c.assignments.completed," of ",c.assignments.total," completed"]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[c.assignments.completed===c.assignments.total?r.jsx(Fr,{className:"h-4 w-4 text-green-500"}):r.jsx(fr,{className:"h-4 w-4 text-amber-500"}),r.jsx("span",{className:`text-xs font-semibold ${c.assignments.completed===c.assignments.total?"text-green-600":"text-amber-600"}`,children:c.assignments.completed===c.assignments.total?"Complete":"In Progress"})]})]}),r.jsx("div",{className:"pt-2 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["Remaining: ",c.assignments.total-c.assignments.completed]}),r.jsxs("span",{children:["Grade Impact: ",c.grade]})]})})]})]},d))})]})]})]})})},XWe=()=>r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Fees Information"}),r.jsx("p",{className:"text-yellow-100",children:"Fee payment and information"})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[r.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:r.jsx(br,{className:"w-8 h-8 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Fee Information Not Available Online"}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-4",children:"Fee payment and information is currently managed directly through the school office. Please contact the school administration for fee details, payment schedules, and payment methods."})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Contact School Administration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"bg-yellow-50 p-2 rounded-lg",children:r.jsx(oa,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),r.jsx("p",{className:"font-medium",children:"Contact school office for number"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"bg-yellow-50 p-2 rounded-lg",children:r.jsx(xa,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),r.jsx("p",{className:"font-medium",children:"Contact school office for email"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[r.jsx("div",{className:"bg-yellow-50 p-2 rounded-lg",children:r.jsx(Mi,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Visit"}),r.jsx("p",{className:"font-medium",children:"School Administration Office"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Office Hours: Monday - Friday, 9:00 AM - 4:00 PM"})]})]})]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"What You Can Do"}),r.jsxs("ul",{className:"space-y-2 text-blue-800",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 font-bold mt-1",children:""}),r.jsx("span",{children:"Visit the school office during working hours for fee details"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 font-bold mt-1",children:""}),r.jsx("span",{children:"Request a fee structure document from the administration"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 font-bold mt-1",children:""}),r.jsx("span",{children:"Inquire about available payment methods and schedules"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 font-bold mt-1",children:""}),r.jsx("span",{children:"Get receipts for all payments made at the school office"})]})]})]})]}),YWe=()=>{const t={studentName:"Koushik Bala",class:"10-A",age:15,bloodGroup:"B+",height:"165 cm",weight:"52 kg",bmi:"19.1",lastCheckup:"2024-02-15",medicalHistory:[{date:"2024-02-15",type:"Regular Checkup",findings:"Normal",doctor:"Dr. Johnson",recommendations:"Continue regular exercise"},{date:"2024-01-10",type:"Vaccination",findings:"Flu Shot",doctor:"Dr. Smith",recommendations:"Next dose due in 6 months"}],allergies:["Peanuts","Dust"],emergencyContact:{name:"John Smith",relation:"Father",phone:"+1 234-567-8900"}};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Health Report"}),r.jsx("p",{className:"text-yellow-100",children:"View student health records and history"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Student Info"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-gray-600",children:["Name: ",t.studentName]}),r.jsxs("p",{className:"text-gray-600",children:["Class: ",t.class]}),r.jsxs("p",{className:"text-gray-600",children:["Age: ",t.age," years"]}),r.jsxs("p",{className:"text-gray-600",children:["Blood Group: ",t.bloodGroup]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Height & Weight"}),r.jsx(ei,{className:"w-6 h-6 text-yellow-500"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(pX,{className:"w-5 h-5 text-gray-500 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Height"})]}),r.jsx("span",{className:"font-medium text-gray-800",children:t.height})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(xhe,{className:"w-5 h-5 text-gray-500 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Weight"})]}),r.jsx("span",{className:"font-medium text-gray-800",children:t.weight})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(ei,{className:"w-5 h-5 text-gray-500 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"BMI"})]}),r.jsx("span",{className:"font-medium text-gray-800",children:t.bmi})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Allergies"}),r.jsx(br,{className:"w-6 h-6 text-red-500"})]}),r.jsx("div",{className:"space-y-2",children:t.allergies.map((e,s)=>r.jsx("div",{className:"inline-block px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm mr-2",children:e},s))})]}),r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Emergency Contact"}),r.jsx(Do,{className:"w-6 h-6 text-red-500"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-gray-600",children:["Name: ",t.emergencyContact.name]}),r.jsxs("p",{className:"text-gray-600",children:["Relation: ",t.emergencyContact.relation]}),r.jsxs("p",{className:"text-gray-600",children:["Phone: ",t.emergencyContact.phone]})]})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ir,{className:"w-5 h-5 text-gray-500"}),r.jsxs("span",{className:"text-gray-600",children:["Last Checkup: ",new Date(t.lastCheckup).toLocaleDateString()]})]})}),r.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Download Report"})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Medical History"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Date"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Type"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Findings"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Doctor"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Recommendations"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.medicalHistory.map((e,s)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[r.jsx(ir,{className:"w-4 h-4 mr-2 text-gray-500"}),new Date(e.date).toLocaleDateString()]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:e.type})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.findings})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.doctor})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-600",children:e.recommendations})})]},s))})]})})]})]})},JWe=()=>{const t={studentName:"Koushik Bala",class:"10-A",currentGPA:"89%",rank:5,totalStudents:120,examResults:[{examName:"Mid-Term Examination",date:"2024-02-15",subjects:[{name:"Mathematics",marks:92,grade:"A",maxMarks:100},{name:"Physics",marks:88,grade:"A-",maxMarks:100},{name:"Chemistry",marks:85,grade:"B+",maxMarks:100},{name:"English",marks:90,grade:"A",maxMarks:100}]},{examName:"Unit Test 2",date:"2024-01-20",subjects:[{name:"Mathematics",marks:95,grade:"A",maxMarks:100},{name:"Physics",marks:87,grade:"B+",maxMarks:100},{name:"Chemistry",marks:88,grade:"B+",maxMarks:100},{name:"English",marks:92,grade:"A",maxMarks:100}]}]};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Results"}),r.jsx("p",{className:"text-yellow-100",children:"View your child's academic results"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Student Info"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-gray-600",children:["Name: ",t.studentName]}),r.jsxs("p",{className:"text-gray-600",children:["Class: ",t.class]})]})]}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-yellow-600",children:t.currentGPA}),r.jsx("p",{className:"text-gray-600",children:"Current Marks"})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:t.rank}),r.jsx("p",{className:"text-gray-600",children:"Class Rank"})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-green-600",children:t.totalStudents}),r.jsx("p",{className:"text-gray-600",children:"Total Students"})]})})]}),r.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Dr,{className:"w-5 h-5 text-gray-500"}),r.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[r.jsx("option",{value:"all",children:"All Exams"}),r.jsx("option",{value:"midterm",children:"Mid-Term"}),r.jsx("option",{value:"unit",children:"Unit Tests"})]})]})}),r.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Download Report"})]})]})}),t.examResults.map((e,s)=>r.jsxs("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.examName}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",new Date(e.date).toLocaleDateString()]})]}),r.jsx(ds,{className:"w-6 h-6 text-yellow-500"})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Subject"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Marks"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Grade"}),r.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Performance"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.subjects.map((n,a)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:n.name})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[n.marks,"/",n.maxMarks]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${n.grade.startsWith("A")?"bg-green-100 text-green-800":n.grade.startsWith("B")?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:n.grade})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${n.marks/n.maxMarks*100}%`}})})})]},a))})]})})]},s))]})},ZWe=()=>{const t={studentName:"Koushik Bala",class:"10-A",totalAwards:12,recentAchievements:3,achievements:[{id:1,title:"First Place - Science Fair",category:"Academic",date:"2024-02-15",description:"Won first place for innovative project on renewable energy",awardType:"Gold Medal",issuer:"State Science Association"},{id:2,title:"Best Speaker Award",category:"Extra-Curricular",date:"2024-01-20",description:"Recognized for outstanding performance in inter-school debate competition",awardType:"Trophy",issuer:"Regional Education Board"},{id:3,title:"Academic Excellence",category:"Academic",date:"2023-12-15",description:"Achieved highest grades in Mathematics and Science",awardType:"Certificate",issuer:"School Administration"}]},e=s=>{switch(s){case"Academic":return r.jsx(fX,{className:"w-5 h-5"});case"Extra-Curricular":return r.jsx(Fl,{className:"w-5 h-5"});default:return r.jsx(fs,{className:"w-5 h-5"})}};return r.jsxs("div",{className:"p-2 sm:p-4 md:p-6 max-w-5xl mx-auto w-full",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 text-white",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:"Achievements"}),r.jsx("p",{className:"text-yellow-100 text-sm sm:text-base",children:"View your child's achievements and awards"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2 sm:mb-4",children:"Student Info"}),r.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[r.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Name: ",t.studentName]}),r.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Class: ",t.class]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.totalAwards}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Total Awards"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:t.recentAchievements}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Recent Achievements"})]}),r.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex items-center justify-center",children:r.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 bg-yellow-500 text-black px-3 sm:px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-xs sm:text-sm",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Download Certificates"})]})})]}),r.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.achievements.map(s=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:r.jsxs("div",{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[e(s.category),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:s.title})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500",children:[r.jsx(ir,{className:"w-4 h-4"}),r.jsx("span",{children:new Date(s.date).toLocaleDateString()})]})]}),r.jsx("span",{className:`inline-block px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${s.category==="Academic"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:s.category})]}),r.jsx("p",{className:"mt-2 sm:mt-4 text-gray-600 text-sm sm:text-base",children:s.description}),r.jsxs("div",{className:"mt-2 sm:mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between text-xs sm:text-sm gap-2 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pn,{className:"w-4 h-4 text-yellow-500"}),r.jsx("span",{className:"text-gray-600",children:s.awardType})]}),r.jsxs("span",{className:"text-gray-500",children:["Issued by: ",s.issuer]})]})]})},s.id))})]})},eqe=()=>{const t={studentName:"Koushik Bala",class:"10-A",totalCourses:6,completedModules:24,upcomingAssignments:3,courses:[{id:1,name:"Advanced Mathematics",teacher:"Dr. Sarah Johnson",schedule:"Mon, Wed, Fri - 9:00 AM",progress:85,modules:8,completedModules:6,nextAssignment:"2024-03-15",materials:["Textbook","Practice Sheets","Video Lectures"]},{id:2,name:"Physics",teacher:"Prof. Michael Chen",schedule:"Tue, Thu - 10:30 AM",progress:75,modules:6,completedModules:4,nextAssignment:"2024-03-18",materials:["Lab Manual","Study Guide","Online Simulations"]},{id:3,name:"English Literature",teacher:"Ms. Emily Davis",schedule:"Mon, Wed - 2:00 PM",progress:90,modules:5,completedModules:4,nextAssignment:"2024-03-20",materials:["Novel Collection","Writing Guide","Audio Books"]}]};return r.jsxs("div",{className:"p-2 sm:p-4 md:p-6 max-w-5xl mx-auto w-full",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 text-white",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:"Courses"}),r.jsx("p",{className:"text-yellow-100 text-sm sm:text-base",children:"View your child's enrolled courses"})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2 sm:mb-4",children:"Student Info"}),r.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[r.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Name: ",t.studentName]}),r.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Class: ",t.class]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.totalCourses}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Total Courses"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:t.completedModules}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Completed Modules"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[r.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-red-600",children:t.upcomingAssignments}),r.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Upcoming Assignments"})]})]}),r.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.courses.map(e=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:r.jsxs("div",{className:"p-4 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 sm:mb-4 gap-2 sm:gap-0",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hr,{className:"w-5 h-5 text-yellow-500"}),r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:e.name})]}),r.jsxs("div",{className:"flex flex-wrap items-center space-x-4 text-xs sm:text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ar,{className:"w-4 h-4"}),r.jsx("span",{children:e.teacher})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:e.schedule})]})]})]}),r.jsxs("button",{className:"flex items-center space-x-1 text-xs sm:text-sm text-yellow-600 hover:text-yellow-700",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Materials"})]})]}),r.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Course Progress"}),r.jsxs("span",{className:"font-medium text-gray-800",children:[e.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${e.progress}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4 pt-3 sm:pt-4 border-t border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Modules"}),r.jsxs("p",{className:"font-medium text-gray-800",children:[e.completedModules,"/",e.modules]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Next Assignment"}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ir,{className:"w-4 h-4 text-gray-400"}),r.jsx("p",{className:"font-medium text-gray-800",children:new Date(e.nextAssignment).toLocaleDateString()})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Materials"}),r.jsxs("p",{className:"font-medium text-gray-800",children:[e.materials.length," items"]})]})]}),r.jsxs("div",{className:"pt-3 sm:pt-4 border-t border-gray-100",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1 sm:mb-2",children:[r.jsx(Dr,{className:"w-4 h-4 text-gray-500"}),r.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Available Materials"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.materials.map((s,n)=>r.jsx("span",{className:"inline-block px-2 sm:px-3 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:s},n))})]})]})]})},e.id))})]})},tqe=()=>{const[t,e]=E.useState("meetings"),[s,n]=E.useState(null),[a,i]=E.useState([{id:1,teacherName:"Ms. Johnson",subject:"Mathematics",date:"2025-09-12",time:"10:00 AM",type:"Video Call",status:"pending",topic:"Academic Progress Discussion",agenda:["Homework completion","Exam preparation"],notification:{read:!1,timestamp:"2025-09-01T10:30:00"}},{id:2,teacherName:"Mr. Smith",subject:"Science",date:"2025-09-15",time:"2:30 PM",type:"In Person",status:"confirmed",topic:"Project Discussion",agenda:["Project timeline","Lab safety"],notification:{read:!0,timestamp:"2025-09-02T15:45:00"}}]),[o,l]=E.useState({date:"",time:"",reason:""}),[c,d]=E.useState({rating:0,comment:""}),[u,h]=E.useState(""),[m,f]=E.useState(!1),x=E.useMemo(()=>u?`https://meet.jit.si/${encodeURIComponent(u)}`:"",[u]),A=S=>{switch(S){case"Video Call":return r.jsx(ix,{className:"w-4 h-4"});case"Phone Call":return r.jsx(oa,{className:"w-4 h-4"});default:return r.jsx(Ar,{className:"w-4 h-4"})}},g=(S,T)=>{i(I=>I.map(_=>_.id===S?{..._,status:T==="accept"?"confirmed":"declined"}:_))},b=S=>{n(S),l({date:"",time:"",reason:""})},w=()=>{s&&(i(S=>S.map(T=>T.id===s.id?{...T,status:"reschedule_requested",requested:{...o}}:T)),n(null))},v=S=>{n(S),d({rating:0,comment:""})},j=()=>{s&&(i(S=>S.map(T=>T.id===s.id?{...T,feedback:c}:T)),n(null))},N=async S=>{try{await navigator.clipboard.writeText(S)}catch{}};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Parent-Teacher Meetings"}),r.jsx("p",{className:"text-yellow-100",children:"View and respond to meeting requests"})]}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"meetings",label:"Meetings"},{key:"requests",label:"Requests"},{key:"video",label:"Video Meeting"},{key:"history",label:"History"}].map(S=>r.jsx("button",{onClick:()=>e(S.key),className:`px-3 py-1.5 rounded-lg text-sm border ${t===S.key?"bg-yellow-500 text-black border-yellow-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:S.label},S.key))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t==="meetings"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Meetings"})}),r.jsx("div",{className:"p-4 space-y-4",children:a.filter(S=>S.status==="pending"||S.status==="confirmed").map(S=>{var T;return r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-yellow-500 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("h3",{className:"font-medium text-gray-800",children:["Meeting with ",S.teacherName]}),!S.notification.read&&r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"New"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:S.subject}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ir,{className:"w-4 h-4"}),r.jsx("span",{children:S.date})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:S.time})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[A(S.type),r.jsx("span",{children:S.type})]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Topic: ",S.topic]}),(T=S.agenda)!=null&&T.length?r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Agenda:"})," ",S.agenda.join(", ")]}):null]}),S.status==="pending"&&r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>g(S.id,"accept"),className:"p-2 rounded-full bg-green-100 text-green-600 hover:bg-green-200 transition-colors",children:r.jsx(Gu,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>g(S.id,"decline"),className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors",children:r.jsx(ks,{className:"w-4 h-4"})})]}),S.status==="confirmed"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Confirmed"}),r.jsxs("button",{onClick:()=>b(S),className:"inline-flex items-center gap-1 text-xs px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:[r.jsx(V8,{className:"w-3.5 h-3.5"})," Reschedule"]}),r.jsxs("button",{onClick:()=>v(S),className:"inline-flex items-center gap-1 text-xs px-2.5 py-1 rounded-full bg-yellow-50 text-yellow-700 border border-yellow-200",children:[r.jsx(fs,{className:"w-3.5 h-3.5"})," Feedback"]})]})]})},S.id)})})]}),t==="requests"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Pending Requests"})}),r.jsx("div",{className:"p-4 space-y-4",children:a.filter(S=>S.status==="pending"||S.status==="reschedule_requested").map(S=>r.jsx("div",{className:"border rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-800",children:[S.teacherName,"  ",S.subject]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[S.date," at ",S.time,"  ",S.type]}),S.requested&&r.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Reschedule requested: ",S.requested.date," at ",S.requested.time,"  ",S.requested.reason]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>g(S.id,"accept"),className:"px-3 py-1 rounded-lg bg-green-600 text-white text-sm",children:"Accept"}),r.jsx("button",{onClick:()=>g(S.id,"decline"),className:"px-3 py-1 rounded-lg bg-red-600 text-white text-sm",children:"Decline"})]})]})},S.id))})]}),t==="video"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Video Meeting"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[r.jsx("input",{placeholder:"Enter or generate room name",value:u,onChange:S=>h(S.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 md:col-span-2"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{h(`PTM-${Math.random().toString(36).slice(2,8).toUpperCase()}`),f(!1)},className:"px-3 py-2 rounded-lg border border-gray-300",children:"Generate"}),r.jsx("button",{onClick:()=>f(!0),disabled:!u,className:`px-3 py-2 rounded-lg ${u?"bg-yellow-500 text-black hover:bg-yellow-600":"bg-gray-100 text-gray-400"}`,children:"Start"})]})]}),u&&r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsxs("button",{onClick:()=>window.open(x,"_blank"),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-lg border border-gray-300",children:[r.jsx(Gce,{className:"w-4 h-4"})," Open in new tab"]}),r.jsxs("button",{onClick:()=>N(x),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-lg border border-gray-300",children:[r.jsx(eh,{className:"w-4 h-4"})," Copy link"]})]}),r.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:m&&u?r.jsx("iframe",{title:"PTM Video Meeting",src:`${x}#config.prejoinConfig.enabled=true`,className:"w-full h-[480px]",allow:"camera; microphone; fullscreen; display-capture"}):r.jsx("div",{className:"h-[240px] flex items-center justify-center text-gray-500 text-sm",children:"Enter a room name and click Start to join."})}),r.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Video meetings are powered by Jitsi Meet. By starting, you agree to Jitsis terms of service."})]}),t==="history"&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Past Meetings"})}),r.jsx("div",{className:"p-4 space-y-3",children:a.filter(S=>S.status==="declined"||S.status==="completed").map(S=>r.jsx("div",{className:"border rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-800",children:[S.teacherName,"  ",S.subject]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[S.date," at ",S.time]}),S.feedback&&r.jsxs("p",{className:"text-xs text-yellow-700",children:["Your rating: ",S.feedback.rating,"/5  ",S.feedback.comment]})]}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700 capitalize",children:S.status})]})},S.id))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"space-y-4",children:a.map(S=>r.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg ${S.notification.read?"bg-gray-50":"bg-yellow-50"}`,children:[r.jsx(sa,{className:`w-5 h-5 ${S.notification.read?"text-gray-400":"text-yellow-500"}`}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-800",children:["New meeting request from ",S.teacherName]}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.notification.timestamp).toLocaleString()})]})]},S.id))})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Overview"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Upcoming"}),r.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:a.filter(S=>S.status==="confirmed").length})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),r.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:a.filter(S=>S.status==="pending").length})]})]})]})]})]}),s&&o&&t!=="video"&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>n(null)}),r.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-xl shadow-xl border p-5",children:[r.jsxs("div",{className:"mb-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(V8,{className:"w-5 h-5"})," Request Reschedule"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[s.teacherName,"  ",s.subject]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700",children:"New Date"}),r.jsx("input",{type:"date",value:o.date,onChange:S=>l({...o,date:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700",children:"New Time"}),r.jsx("input",{type:"time",value:o.time,onChange:S=>l({...o,time:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:"text-sm text-gray-700",children:"Reason"}),r.jsx("textarea",{rows:3,value:o.reason,onChange:S=>l({...o,reason:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Brief reason for rescheduling"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>n(null),className:"px-3 py-2 rounded-lg border border-gray-300",children:"Cancel"}),r.jsx("button",{onClick:w,className:"px-3 py-2 rounded-lg bg-blue-600 text-white",children:"Submit Request"})]})]})]}),s&&c&&t!=="video"&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>n(null)}),r.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-xl shadow-xl border p-5",children:[r.jsxs("div",{className:"mb-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(fs,{className:"w-5 h-5"})," Meeting Feedback"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[s.teacherName,"  ",s.subject]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Rating:"}),[1,2,3,4,5].map(S=>r.jsx("button",{onClick:()=>d({...c,rating:S}),className:`p-1 rounded ${c.rating>=S?"text-yellow-500":"text-gray-300"}`,children:r.jsx(fs,{className:"w-5 h-5 fill-current"})},S))]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700",children:"Comments"}),r.jsx("textarea",{rows:3,value:c.comment,onChange:S=>d({...c,comment:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Share your feedback"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>n(null),className:"px-3 py-2 rounded-lg border border-gray-300",children:"Cancel"}),r.jsx("button",{onClick:j,className:"px-3 py-2 rounded-lg bg-yellow-500 text-black",children:"Submit Feedback"})]})]})]})]})},rqe=({parentName:t,childrenNames:e=[]})=>{const[s,n]=E.useState({isOnline:!0,lastActivity:"Just now",currentLocation:"Mathematics Classroom",healthStatus:"Good",moodRating:4,connectionStrength:"Strong",batteryLevel:85,safetyStatus:"Secure",activityLevel:"Active"}),[a,i]=E.useState(new Date),[o]=E.useState("Emma"),[l,c]=E.useState(new Date),d=[{label:"Attendance Rate",value:"95%",icon:ir,color:"green"},{label:"Assignments Due",value:"3",icon:Hr,color:"red"},{label:"Upcoming PTMs",value:"2",icon:ix,color:"blue"},{label:"Pending Fees",value:"$0",icon:Ru,color:"yellow"}],u=[{id:1,type:"ptm",message:"Parent-Teacher Meeting scheduled for Mathematics",time:"1 hour ago",priority:"high"},{id:2,type:"assignment",message:"New Science assignment due next week",time:"3 hours ago",priority:"medium"},{id:3,type:"health",message:"Health check-up scheduled for next Monday",time:"1 day ago",priority:"low"}],h=[{id:1,time:"10:30 AM",activity:"Math Class Participation",mood:"",notes:"Actively engaged in problem solving"},{id:2,time:"12:15 PM",activity:"Lunch Break",mood:"",notes:"Playing with friends in the playground"},{id:3,time:"2:45 PM",activity:"Science Lab",mood:"",notes:"Seemed tired, less participation"}],m=[{label:"Current Activity",value:"In Class",status:"active"},{label:"Attention Level",value:"85%",status:"good"},{label:"Social Interaction",value:"High",status:"excellent"},{label:"Mood Today",value:"Happy",status:"good"}],f=w=>{switch(w){case"excellent":return"text-green-600 bg-green-100";case"good":return"text-blue-600 bg-blue-100";case"active":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},x=w=>{switch(w.toLowerCase()){case"excellent":return{color:"bg-green-500",text:"text-green-600",label:"Excellent"};case"good":return{color:"bg-blue-500",text:"text-blue-600",label:"Good"};case"fair":return{color:"bg-yellow-500",text:"text-yellow-600",label:"Fair"};case"poor":return{color:"bg-red-500",text:"text-red-600",label:"Poor"};default:return{color:"bg-gray-500",text:"text-gray-600",label:w}}},A=w=>{switch(w.toLowerCase()){case"strong":return{color:"bg-green-500",bars:4};case"good":return{color:"bg-blue-500",bars:3};case"weak":return{color:"bg-yellow-500",bars:2};case"poor":return{color:"bg-red-500",bars:1};default:return{color:"bg-gray-500",bars:0}}},g=w=>w>50?"text-green-600":w>20?"text-yellow-600":"text-red-600";E.useEffect(()=>{const w=setInterval(()=>{i(new Date),c(new Date),n(v=>({...v,batteryLevel:Math.max(20,v.batteryLevel+(Math.random()>.5?-1:1)),lastActivity:"Just now",activityLevel:["Active","Moderate","Low"][Math.floor(Math.random()*3)]}))},3e4);return()=>clearInterval(w)},[]);const b=()=>{const w=l.getHours();return w<12?"Good Morning":w<18?"Good Afternoon":"Good Evening"};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 rounded-2xl shadow-2xl mb-8",children:[r.jsxs("div",{className:"absolute inset-0 opacity-10",children:[r.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full transform -translate-x-32 -translate-y-32"}),r.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full transform translate-x-48 translate-y-48"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 w-32 h-32 bg-yellow-300 rounded-full transform -translate-x-16 -translate-y-16"})]}),r.jsxs("div",{className:"relative z-10 p-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:r.jsx(pb,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-white/80 text-sm font-medium",children:[b(),", ",t||"Parent","! "]}),r.jsxs("h1",{className:"text-4xl font-bold text-white leading-tight",children:["Welcome to ",r.jsx("span",{className:"text-yellow-300",children:"Parent"})," Portal"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-6 text-white/90",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gX,{className:"w-5 h-5 text-yellow-300"}),r.jsx("span",{className:"text-sm font-medium",children:l.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ar,{className:"w-5 h-5 text-green-300"}),r.jsx("span",{className:"text-sm font-medium",children:"School Active"})]})]}),r.jsx("p",{className:"text-white/80 mt-4 text-lg leading-relaxed",children:"Stay connected with your child's journey, track their progress, and celebrate their achievements together."})]}),r.jsx("div",{className:"hidden lg:block",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-32 h-32 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center",children:r.jsx(AX,{className:"w-12 h-12 text-white animate-pulse"})})}),r.jsx("div",{className:"absolute -top-2 -right-2",children:r.jsx("div",{className:"w-8 h-8 bg-green-400 rounded-full flex items-center justify-center",children:r.jsx(fs,{className:"w-5 h-5 text-white"})})})]})})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[e.length>0&&r.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[r.jsx(Ar,{className:"w-4 h-4 text-cyan-300"}),r.jsxs("span",{className:"text-white text-sm font-medium",children:["Children: ",e.join(", ")]})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[r.jsx(pn,{className:"w-4 h-4 text-yellow-300"}),r.jsx("span",{className:"text-white text-sm font-medium",children:"3 New Achievements"})]}),r.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[r.jsx(sa,{className:"w-4 h-4 text-blue-300"}),r.jsx("span",{className:"text-white text-sm font-medium",children:"2 Updates Today"})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:d.map((w,v)=>r.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-white/20 hover:scale-105",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:w.label}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mb-2",children:w.value}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${w.color==="green"?"from-green-400 to-green-600":w.color==="red"?"from-red-400 to-red-600":w.color==="blue"?"from-blue-400 to-blue-600":"from-yellow-400 to-yellow-600"} transition-all duration-300`,style:{width:w.color==="green"?"95%":w.color==="red"?"30%":w.color==="blue"?"50%":"100%"}})})]}),r.jsx("div",{className:`p-4 rounded-2xl bg-gradient-to-br ${w.color==="green"?"from-green-100 to-green-200":w.color==="red"?"from-red-100 to-red-200":w.color==="blue"?"from-blue-100 to-blue-200":"from-yellow-100 to-yellow-200"} group-hover:scale-110 transition-transform duration-300`,children:r.jsx(w.icon,{className:`w-7 h-7 ${w.color==="green"?"text-green-600":w.color==="red"?"text-red-600":w.color==="blue"?"text-blue-600":"text-yellow-600"}`})})]})},v))}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 mb-8",children:[r.jsx("div",{className:"p-6 border-b border-gray-200/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg",children:r.jsx(Jde,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Live Child Monitor"}),r.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-green-400 to-green-500 rounded-full",children:r.jsx("span",{className:"text-white text-xs font-semibold",children:"LIVE"})})]}),r.jsxs("p",{className:"text-gray-600 mt-1",children:["Real-time insights into ",o,"'s school activities"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 rounded-full px-4 py-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-green-500 rounded-full animate-ping"})]}),r.jsx("span",{className:"text-sm text-green-700 font-semibold",children:"Online"})]}),r.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:r.jsx(ra,{className:"w-5 h-5 text-gray-400"})})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:m.map((w,v)=>r.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100/50 rounded-xl p-4 border border-gray-200/50 hover:shadow-md transition-all duration-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:w.label}),r.jsx("p",{className:"text-xl font-bold text-gray-800",children:w.value})]}),r.jsx("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold shadow-sm ${f(w.status)}`,children:w.status.toUpperCase()})]})},v))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-200/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-500 rounded-xl",children:r.jsx(MP,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Today's Activity Stream"})]}),r.jsx("div",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-2 py-1 rounded-full",children:"LIVE"})]}),r.jsx("div",{className:"space-y-3 max-h-56 overflow-y-auto custom-scrollbar",children:h.map(w=>r.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white/70 backdrop-blur-sm rounded-xl border border-white/30 hover:bg-white/90 transition-all duration-200",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center shadow-sm",children:r.jsx(fr,{className:"w-5 h-5 text-white"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-800",children:w.activity}),r.jsx("span",{className:"text-xl",children:w.mood})]}),r.jsx("span",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-2 py-1 rounded-full",children:w.time})]}),r.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:w.notes})]})]},w.id))})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(us,{className:"w-5 h-5 text-purple-600"}),r.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Current Status"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsxs("span",{className:"text-xs text-gray-500",children:["Updated ",a.toLocaleTimeString()]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mi,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Location"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-800 font-medium",children:s.currentLocation}),r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Do,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Health Status"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`text-sm font-medium ${x(s.healthStatus).text}`,children:x(s.healthStatus).label}),r.jsx("div",{className:`w-3 h-3 rounded-full ${x(s.healthStatus).color}`})]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-purple-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ei,{className:"w-4 h-4 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Activity Level"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-800 font-medium",children:s.activityLevel}),r.jsx("div",{className:`w-3 h-3 rounded-full ${s.activityLevel==="Active"?"bg-green-500 animate-pulse":s.activityLevel==="Moderate"?"bg-yellow-500":"bg-gray-500"}`})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-cyan-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ghe,{className:"w-3 h-3 text-cyan-600"}),r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Connection"})]}),r.jsx("div",{className:"flex items-center space-x-1",children:[...Array(4)].map((w,v)=>r.jsx("div",{className:`w-1 h-3 rounded-sm ${v<A(s.connectionStrength).bars?A(s.connectionStrength).color:"bg-gray-300"}`},v))})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-emerald-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Xd,{className:"w-3 h-3 text-emerald-600"}),r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Safety"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:s.safetyStatus}),r.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-yellow-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Rle,{className:"w-3 h-3 text-yellow-600"}),r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Device"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsxs("span",{className:`text-xs font-medium ${g(s.batteryLevel)}`,children:[s.batteryLevel,"%"]}),r.jsx("div",{className:"w-4 h-2 border border-gray-300 rounded-sm relative",children:r.jsx("div",{className:`h-full rounded-sm transition-all duration-500 ${s.batteryLevel>50?"bg-green-500":s.batteryLevel>20?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.max(s.batteryLevel,5)}%`}})})]})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-orange-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Uu,{className:"w-3 h-3 text-orange-600"}),r.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Mood"})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{className:"text-lg",children:""}),r.jsxs("span",{className:"text-xs text-gray-800 font-medium",children:[s.moodRating,"/5"]})]})]})})]}),r.jsxs("div",{className:"flex space-x-2 pt-2",children:[r.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 p-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105",children:[r.jsx(Es,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"View Observations"})]}),r.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 p-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all duration-200 transform hover:scale-105",children:[r.jsx(ma,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Analytics"})]})]})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20",children:[r.jsx("div",{className:"p-6 border-b border-gray-200/50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-400 to-red-500 rounded-xl",children:r.jsx(sa,{className:"w-6 h-6 text-white"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Important Updates"})]}),r.jsxs("div",{className:"text-xs text-orange-600 font-medium bg-orange-100 px-3 py-1 rounded-full",children:[u.length," Updates"]})]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:u.map(w=>r.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-xl border-l-4 transition-all duration-200 hover:shadow-md ${w.priority==="high"?"bg-red-50 border-red-400":w.priority==="medium"?"bg-yellow-50 border-yellow-400":"bg-gray-50 border-gray-400"}`,children:[r.jsx("div",{className:`p-2 rounded-xl ${w.priority==="high"?"bg-red-100":w.priority==="medium"?"bg-yellow-100":"bg-gray-100"}`,children:r.jsx(br,{className:`w-5 h-5 ${w.priority==="high"?"text-red-600":w.priority==="medium"?"text-yellow-600":"text-gray-600"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-800 leading-relaxed",children:w.message}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("p",{className:"text-xs text-gray-500",children:w.time}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${w.priority==="high"?"bg-red-100 text-red-700":w.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:w.priority.toUpperCase()})]})]})]},w.id))})})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20",children:[r.jsx("div",{className:"p-6 border-b border-gray-200/50",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-xl",children:r.jsx(ei,{className:"w-6 h-6 text-white"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Quick Actions"})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border border-blue-200/50 transition-all duration-200 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-500 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(ix,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"font-medium text-gray-700",children:"Schedule PTM"})]}),r.jsx(ra,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500 transition-colors"})]}),r.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border border-green-200/50 transition-all duration-200 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-500 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(Ru,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"font-medium text-gray-700",children:"Pay Fees"})]}),r.jsx(ra,{className:"w-5 h-5 text-gray-400 group-hover:text-green-500 transition-colors"})]}),r.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 border border-red-200/50 transition-all duration-200 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-red-500 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(Do,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"font-medium text-gray-700",children:"Health Report"})]}),r.jsx(ra,{className:"w-5 h-5 text-gray-400 group-hover:text-red-500 transition-colors"})]}),r.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-purple-50 to-violet-50 hover:from-purple-100 hover:to-violet-100 border border-purple-200/50 transition-all duration-200 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-purple-500 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(Es,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"font-medium text-gray-700",children:"Observations"})]}),r.jsx(ra,{className:"w-5 h-5 text-gray-400 group-hover:text-purple-500 transition-colors"})]})]})})]})]})]})})},sqe=()=>{const[t,e]=E.useState({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,q8:null,q9:null,q10:null}),[s,n]=E.useState(!1),a=[{id:"q1",text:"How often have you observed your child seeming more irritable, sad, or emotionally flat than is usual for them?"},{id:"q2",text:"How often has your child withdrawn from family activities or preferred to be alone, more so than their typical behavior?"},{id:"q3",text:"How much have you noticed a change in your child's sleep, such as sleeping much more, much less, or having trouble falling/staying asleep?"},{id:"q4",text:"How often has your child shown interest or enthusiasm for hobbies, friendships, or activities they normally enjoy?"},{id:"q5",text:"How would you describe your child's overall energy level at home?"},{id:"q6",text:"How often has your child expressed significant worry about school, their future, or their friendships?"},{id:"q7",text:"How often has your child become easily frustrated or upset by small problems or setbacks?"},{id:"q8",text:"How often has your child complained of physical issues like headaches, stomach aches, or general fatigue?"},{id:"q9",text:"How much has your child been communicating with you about their schoolwork or their experiences at school?"},{id:"q10",text:"How often have you heard your child make negative or highly critical comments about themselves?"}],i=[{emoji:"",label:"Very Good",value:0},{emoji:"",label:"Okay",value:1},{emoji:"",label:"Neutral",value:2},{emoji:"",label:"Worried",value:3},{emoji:"",label:"Very Worried",value:4}],o=(d,u)=>{e(h=>({...h,[d]:u}))},l=d=>{d.preventDefault(),console.log("Observation Form Submitted:",t),n(!0),setTimeout(()=>{n(!1),e({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,q8:null,q9:null,q10:null})},3e3)},c=()=>Object.values(t).every(d=>d!==null);return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Child Behavior Observation Form"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please answer the following questions about your child's recent behavior and emotional state."})]}),s&&r.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r.jsx("span",{className:"font-medium",children:"Thank you! Your observation has been submitted successfully."})]})}),r.jsxs("form",{onSubmit:l,className:"space-y-8",children:[a.map((d,u)=>r.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs("label",{className:"block text-lg font-medium text-gray-900 mb-4",children:[u+1,". ",d.text]})}),r.jsx("div",{className:"flex justify-center space-x-4",children:i.map(h=>r.jsxs("button",{type:"button",onClick:()=>o(d.id,h.value),className:`flex flex-col items-center p-4 rounded-lg transition-all duration-200 border-2 ${t[d.id]===h.value?"bg-blue-100 border-blue-400 shadow-md":"bg-gray-50 hover:bg-gray-100 border-transparent hover:border-gray-300"}`,children:[r.jsx("span",{className:"text-3xl mb-2",children:h.emoji}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.label})]},h.value))}),t[d.id]!==null&&r.jsx("div",{className:"mt-4 text-center",children:r.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Answered"})})]},d.id)),r.jsx("div",{className:"flex justify-center pt-6",children:r.jsx("button",{type:"submit",disabled:!c(),className:`px-8 py-3 rounded-lg font-medium text-white transition-colors ${c()?"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2":"bg-gray-400 cursor-not-allowed"}`,children:"Submit Observation"})})]})]})})})},nqe=()=>{const[t,e]=E.useState([]),[s,n]=E.useState({childName:"",date:new Date().toISOString().split("T")[0],category:"",observation:"",moodRating:null,behaviorNotes:"",concernLevel:"low"}),[a,i]=E.useState(!1),o=[{id:1,name:"Emma Johnson",class:"Grade 5A",image:"/api/placeholder/32/32"},{id:2,name:"Liam Johnson",class:"Grade 3B",image:"/api/placeholder/32/32"}],l=["Academic Performance","Social Interaction","Emotional Wellbeing","Behavioral Changes","Physical Health","Sleep Patterns","Eating Habits","Communication"],c=[{emoji:"",label:"Very Happy",value:5},{emoji:"",label:"Happy",value:4},{emoji:"",label:"Neutral",value:3},{emoji:"",label:"Sad",value:2},{emoji:"",label:"Very Sad",value:1}],d=[{value:"low",label:"Low",color:"green"},{value:"medium",label:"Medium",color:"yellow"},{value:"high",label:"High",color:"red"}];E.useEffect(()=>{e([{id:1,childName:"Emma Johnson",date:"2024-01-15",category:"Academic Performance",observation:"Emma showed great enthusiasm during math class today. She completed her homework early and helped classmates.",moodRating:5,behaviorNotes:"Very positive attitude towards learning",concernLevel:"low",timestamp:"2024-01-15T10:30:00Z"},{id:2,childName:"Emma Johnson",date:"2024-01-14",category:"Social Interaction",observation:"Emma seemed withdrawn during lunch break. She didn't interact much with her usual friend group.",moodRating:2,behaviorNotes:"Less social than usual, preferred to read alone",concernLevel:"medium",timestamp:"2024-01-14T12:15:00Z"}])},[]);const u=(x,A)=>{n(g=>({...g,[x]:A}))},h=x=>{x.preventDefault();const A={...s,id:t.length+1,timestamp:new Date().toISOString()};e(g=>[A,...g]),i(!0),n({childName:"",date:new Date().toISOString().split("T")[0],category:"",observation:"",moodRating:null,behaviorNotes:"",concernLevel:"low"}),setTimeout(()=>{i(!1)},3e3)},m=()=>s.childName&&s.category&&s.observation&&s.moodRating!==null,f=x=>{switch(x){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(Es,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parent Observation Portal"}),r.jsx("p",{className:"text-gray-600",children:"Track and record your child's daily observations"})]})]})}),a&&r.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fr,{className:"w-5 h-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"Observation recorded successfully!"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(ir,{className:"w-5 h-5 mr-2"}),"Record New Observation"]})}),r.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Child"}),r.jsxs("select",{value:s.childName,onChange:x=>u("childName",x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Choose a child"}),o.map(x=>r.jsxs("option",{value:x.name,children:[x.name," - ",x.class]},x.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:s.date,onChange:x=>u("date",x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),r.jsxs("select",{value:s.category,onChange:x=>u("category",x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select category"}),l.map(x=>r.jsx("option",{value:x,children:x},x))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Child's Mood"}),r.jsx("div",{className:"flex justify-center space-x-4",children:c.map(x=>r.jsxs("button",{type:"button",onClick:()=>u("moodRating",x.value),className:`flex flex-col items-center p-3 rounded-lg transition-all ${s.moodRating===x.value?"bg-blue-100 border-2 border-blue-400":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[r.jsx("span",{className:"text-2xl mb-1",children:x.emoji}),r.jsx("span",{className:"text-xs text-gray-600",children:x.label})]},x.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observation Details"}),r.jsx("textarea",{value:s.observation,onChange:x=>u("observation",x.target.value),placeholder:"Describe what you observed about your child today...",rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),r.jsx("textarea",{value:s.behaviorNotes,onChange:x=>u("behaviorNotes",x.target.value),placeholder:"Any additional behavioral notes or context...",rows:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Concern Level"}),r.jsx("div",{className:"flex space-x-4",children:d.map(x=>r.jsx("button",{type:"button",onClick:()=>u("concernLevel",x.value),className:`px-4 py-2 rounded-lg border-2 transition-all ${s.concernLevel===x.value?`bg-${x.color}-100 border-${x.color}-400 text-${x.color}-700`:"bg-white border-gray-300 text-gray-700 hover:border-gray-400"}`,children:x.label},x.value))})]}),r.jsx("button",{type:"submit",disabled:!m(),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${m()?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Record Observation"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(ds,{className:"w-5 h-5 mr-2"}),"Recent Observations"]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.map(x=>{var A;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(us,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:x.childName}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(x.concernLevel)}`,children:x.concernLevel.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:x.date})]})]}),r.jsx("div",{className:"mb-2",children:r.jsx("span",{className:"text-sm font-medium text-blue-600",children:x.category})}),r.jsx("p",{className:"text-gray-700 text-sm mb-2",children:x.observation}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Mood:"}),r.jsx("span",{className:"text-lg",children:(A=c.find(g=>g.value===x.moodRating))==null?void 0:A.emoji})]}),x.behaviorNotes&&r.jsxs("div",{className:"text-xs text-gray-500 max-w-xs truncate",children:["Notes: ",x.behaviorNotes]})]})]},x.id)})})})]})]})]})})},Zne="eec_parent_chat_v2",gT=[{id:"class-teacher",name:"Ms. Johnson",type:"teacher",unread:1,lastMessage:"PTM is scheduled for Monday 10 AM",lastTime:"10:30 AM"},{id:"office",name:"School Office",type:"admin",unread:0,lastMessage:"Fee due date extended to 15th",lastTime:"Yesterday"},{id:"transport",name:"Transport Desk",type:"support",unread:0,lastMessage:"Route 3 will be 10 mins late today",lastTime:"09:15 AM"},{id:"art-teacher",name:"Mr. Williams",type:"teacher",unread:0,lastMessage:"Art supplies needed by Friday",lastTime:"Monday"},{id:"pta",name:"PTA Coordinator",type:"admin",unread:3,lastMessage:"Volunteers needed for spring fair",lastTime:"Sunday"}],bT={"class-teacher":[{id:"m1",sender:"teacher",text:"Hello! PTM is scheduled for Monday 10 AM.",ts:Date.now()-72e5,read:!0},{id:"m2",sender:"parent",text:"Thanks for the update. Will be there.",ts:Date.now()-7e6,read:!0},{id:"m3",sender:"teacher",text:"Great! Please bring your child's portfolio.",ts:Date.now()-68e5,read:!1}],office:[{id:"m4",sender:"admin",text:"Fee due date extended to 15th.",ts:Date.now()-54e5,read:!0}],transport:[{id:"m5",sender:"support",text:"Route 3 will be 10 mins late today.",ts:Date.now()-36e5,read:!0}],"art-teacher":[{id:"m6",sender:"teacher",text:"Please ensure your child brings art supplies by Friday.",ts:Date.now()-864e5,read:!0}],pta:[{id:"m7",sender:"admin",text:"We need volunteers for the spring fair next month.",ts:Date.now()-1728e5,read:!1},{id:"m8",sender:"admin",text:"Please sign up using the form sent yesterday.",ts:Date.now()-1727e5,read:!1},{id:"m9",sender:"admin",text:"Reminder: PTA meeting this Friday at 4 PM.",ts:Date.now()-1726e5,read:!1}]};function aqe(){var t;try{const e=localStorage.getItem(Zne);if(!e)return{conversations:gT,messages:bT};const s=JSON.parse(e);return{conversations:(t=s.conversations)!=null&&t.length?s.conversations:gT,messages:s.messages||bT}}catch{return{conversations:gT,messages:bT}}}function iqe(t){try{localStorage.setItem(Zne,JSON.stringify(t))}catch{}}const oqe=({mine:t,text:e,ts:s,read:n})=>{const a=new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return r.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:r.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${t?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[r.jsx("div",{className:"whitespace-pre-wrap text-[15px]",children:e}),r.jsxs("div",{className:`flex items-center justify-end mt-1 ${t?"text-blue-100":"text-gray-500"}`,children:[r.jsx("span",{className:"text-xs mr-1",children:a}),t&&r.jsx(hce,{className:`h-3 w-3 ${n?"text-blue-200":"text-blue-200/70"}`})]})]})})},lqe=()=>{var w;const[{conversations:t,messages:e},s]=E.useState(aqe),[n,a]=E.useState(((w=t[0])==null?void 0:w.id)||null),[i,o]=E.useState(""),[l,c]=E.useState(""),[d,u]=E.useState("list"),h=E.useRef(null),m=E.useMemo(()=>e[n]||[],[e,n]),f=E.useMemo(()=>t.find(v=>v.id===n),[t,n]);E.useEffect(()=>{iqe({conversations:t,messages:e})},[t,e]),E.useEffect(()=>{n&&s(v=>({...v,conversations:v.conversations.map(j=>j.id===n?{...j,unread:0}:j)}))},[n]),E.useEffect(()=>{h.current&&m.length&&(h.current.scrollTop=h.current.scrollHeight)},[m]);const x=E.useMemo(()=>{const v=i.trim().toLowerCase();return v?t.filter(j=>j.name.toLowerCase().includes(v)||j.lastMessage.toLowerCase().includes(v)):t},[t,i]),A=()=>{const v=l.trim();if(!v||!n)return;const j={id:crypto.randomUUID(),sender:"parent",text:v,ts:Date.now(),read:!1};s(N=>({conversations:N.conversations.map(S=>S.id===n?{...S,lastMessage:v,lastTime:"Just now"}:S),messages:{...N.messages,[n]:[...N.messages[n]||[],j]}})),c("")},g=v=>{const j=["bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-amber-100 text-amber-600","bg-pink-100 text-pink-600"],N=v.length%j.length;return j[N]},b=v=>v.split(" ").map(j=>j[0]).join("").toUpperCase();return r.jsxs("div",{className:"h-full min-h-[70vh] bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-100 bg-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:r.jsx(mn,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Parent Chat"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Connect with school staff"})]})]}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(th,{className:"h-5 w-5 text-gray-500"})})]})}),r.jsxs("div",{className:"flex h-[60vh]",children:[r.jsxs("div",{className:`bg-white border-r border-gray-100 w-full md:w-96 flex flex-col ${d==="chat"?"hidden md:flex":"flex"}`,children:[r.jsx("div",{className:"p-3 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-xl px-3 py-2.5",children:[r.jsx(Fs,{className:"h-4 w-4 text-gray-500"}),r.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-400"})]})}),r.jsxs("div",{className:"overflow-y-auto flex-1",children:[x.map(v=>r.jsxs("button",{onClick:()=>{a(v.id),u("chat")},className:`w-full text-left p-3 flex items-center gap-3 hover:bg-gray-50 border-b border-gray-100 transition-colors ${n===v.id?"bg-blue-50":""}`,children:[r.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center font-medium ${g(v.name)}`,children:b(v.name)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-800 truncate",children:v.name}),r.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:v.lastTime})]}),r.jsxs("div",{className:"text-sm text-gray-500 truncate flex items-center gap-1",children:[v.unread>0&&r.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-xs text-white",children:v.unread}),r.jsx("span",{children:v.lastMessage})]})]})]},v.id)),x.length===0&&r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-2",children:"No conversations found"}),r.jsx("div",{className:"text-xs text-gray-400",children:"Try a different search term"})]})]})]}),r.jsx("div",{className:`flex-1 flex flex-col ${d==="list"?"hidden md:flex":"flex"}`,children:f?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-white flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>u("list"),className:"md:hidden p-1 rounded-lg hover:bg-gray-100",children:r.jsx(Rl,{className:"h-5 w-5 text-gray-500"})}),r.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center font-medium ${g(f.name)}`,children:b(f.name)}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800",children:f.name}),r.jsx("div",{className:"text-xs text-gray-500 capitalize",children:f.type})]})]}),r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(th,{className:"h-5 w-5 text-gray-500"})})]}),r.jsx("div",{ref:h,className:"flex-1 overflow-y-auto p-4 bg-gray-50/50",children:m.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-center text-xs text-gray-500 mb-4",children:"Today"}),m.map(v=>r.jsx(oqe,{mine:v.sender==="parent",text:v.text,ts:v.ts,read:v.read},v.id))]}):r.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[r.jsx(mn,{className:"h-12 w-12 mb-2 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No messages yet"}),r.jsx("p",{className:"text-xs mt-1",children:"Say hello to start the conversation"})]})}),r.jsx("div",{className:"border-t border-gray-100 bg-white p-3",children:r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(LP,{className:"h-5 w-5 text-gray-500"})}),r.jsx("div",{className:"flex-1 bg-gray-100 rounded-2xl px-4 py-2",children:r.jsx("textarea",{rows:1,value:l,onChange:v=>c(v.target.value),onKeyDown:v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),A())},placeholder:"Type a message...",className:"w-full resize-none bg-transparent outline-none text-sm placeholder-gray-500 max-h-32"})}),l.trim()?r.jsx("button",{onClick:A,className:"p-2.5 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:r.jsx(hc,{className:"h-5 w-5"})}):r.jsx("button",{className:"p-2.5 rounded-full hover:bg-gray-100 transition-colors",children:r.jsx(mX,{className:"h-5 w-5 text-gray-500"})})]})})]}):r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50/50 p-4 text-center",children:[r.jsx(mn,{className:"h-16 w-16 text-gray-300 mb-4"}),r.jsx("h3",{className:"font-medium text-gray-500 mb-1",children:"No conversation selected"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Choose a conversation from the list to start chatting"})]})})]})]})},Pm=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],cqe=t=>{if(!t)return null;const e=String(t).trim().toLowerCase();return Pm.find(s=>s.toLowerCase()===e)||null},dqe=t=>{const e=Pm.reduce((s,n)=>(s[n]=[],s),{});return!t||typeof t!="object"||Object.entries(t).forEach(([s,n])=>{const a=cqe(s);a&&(e[a]=Array.isArray(n)?n:[])}),e},vq=(t,e)=>(t==null?void 0:t.time)||(t!=null&&t.period?`Period ${t.period}`:`Slot ${e+1}`),uqe=()=>{const[t,e]=E.useState([]),[s,n]=E.useState(""),[a,i]=E.useState("Monday"),[o,l]=E.useState("weekly"),[c,d]=E.useState(!0),[u,h]=E.useState("");E.useEffect(()=>{(async()=>{try{d(!0),h("");const v=localStorage.getItem("token"),j=localStorage.getItem("userType");if(!v||j!=="Parent"){h("Only parents can view children routines.");return}const N=await fetch("http://localhost:5000/api/parent/auth/routine",{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}}),S=await N.json().catch(()=>({}));if(!N.ok)throw new Error((S==null?void 0:S.error)||"Unable to load routine");const T=((S==null?void 0:S.children)||[]).map(I=>({...I,schedule:dqe(I==null?void 0:I.schedule)}));if(e(T),T.length>0){const I=T.find(_=>_.hasRoutine)||T[0];n(String(I.studentId))}}catch(v){h(v.message||"Unable to load routine")}finally{d(!1)}})()},[]);const m=E.useMemo(()=>t.find(w=>String(w.studentId)===String(s))||null,[t,s]),f=(m==null?void 0:m.schedule)||{},x=E.useMemo(()=>{const w=new Map;return Pm.forEach(v=>{(f[v]||[]).forEach((j,N)=>{const S=vq(j,N),T=Number((j==null?void 0:j.period)||999);(!w.has(S)||T<w.get(S).order)&&w.set(S,{time:S,order:T})})}),Array.from(w.values()).sort((v,j)=>v.order===j.order?v.time.localeCompare(j.time):v.order-j.order)},[f]),A=E.useMemo(()=>{const w={};return Pm.forEach(v=>{w[v]={},(f[v]||[]).forEach((j,N)=>{w[v][vq(j,N)]=j})}),w},[f]),g=f[a]||[],b=E.useMemo(()=>Pm.reduce((w,v)=>w+(f[v]||[]).length,0),[f]);return c?r.jsx("div",{className:"p-6 text-sm text-gray-600",children:"Loading children routine..."}):r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 space-y-5",children:[r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5 shadow-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ir,{className:"w-5 h-5 text-amber-600"}),r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Children Class Routine"})]}),m&&r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[m.studentName," | Class ",m.className||m.grade||"-",m.sectionName||m.section?` | Section ${m.sectionName||m.section}`:"",` | Weekly Classes ${b}`]}),u&&r.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:[r.jsx(br,{className:"w-4 h-4"}),u]})]}),r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(w=>r.jsx("button",{onClick:()=>n(String(w.studentId)),className:`px-3 py-2 rounded-lg text-sm font-medium ${String(w.studentId)===String(s)?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w.studentName},w.studentId))})}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between flex-wrap gap-3",children:r.jsxs("div",{className:"inline-flex rounded-lg border border-gray-200 bg-gray-50 p-1",children:[r.jsx("button",{onClick:()=>l("daily"),className:`px-3 py-1.5 rounded-md text-sm font-medium ${o==="daily"?"bg-amber-600 text-white":"text-gray-700"}`,children:"Daily"}),r.jsx("button",{onClick:()=>l("weekly"),className:`px-3 py-1.5 rounded-md text-sm font-medium ${o==="weekly"?"bg-amber-600 text-white":"text-gray-700"}`,children:"Weekly Sheet"})]})}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Pm.map(w=>r.jsx("button",{onClick:()=>i(w),className:`px-3 py-2 rounded-lg text-sm ${a===w?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-700"}`,children:w},w))}),t.length===0?r.jsx("div",{className:"text-sm text-gray-600",children:"No linked children found for this parent account."}):m?b===0?r.jsxs("div",{className:"text-sm text-gray-600",children:["No routine assigned yet for ",m.studentName,"."]}):o==="weekly"?r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:r.jsxs("table",{className:"w-full min-w-[900px]",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700 border-b",children:"Time"}),Pm.map(w=>r.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700 border-b",children:w},w))]})}),r.jsx("tbody",{children:x.map(w=>r.jsxs("tr",{className:"align-top",children:[r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium bg-gray-50 border-b",children:w.time}),Pm.map(v=>{var N;const j=(N=A[v])==null?void 0:N[w.time];return r.jsx("td",{className:"px-3 py-3 border-b",children:j?r.jsxs("div",{className:"rounded-lg border border-amber-100 bg-amber-50 px-3 py-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:j.subject||"Subject"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.instructor||"TBA"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.room||"TBA"})]}):r.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 px-3 py-2 text-center text-xs text-gray-400",children:"--"})},`${v}-${w.time}`)})]},w.time))})]})}):r.jsx("div",{className:"space-y-3",children:g.length===0?r.jsxs("div",{className:"text-sm text-gray-600",children:["No classes on ",a,"."]}):g.map((w,v)=>r.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[r.jsxs("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Hr,{className:"w-4 h-4 text-amber-600"}),w.subject||"Subject"]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(fr,{className:"w-4 h-4 text-amber-600"}),w.time||"TBA"]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(us,{className:"w-4 h-4 text-amber-600"}),w.instructor||"TBA"]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(Mi,{className:"w-4 h-4 text-amber-600"}),w.room||"TBA"]})]})]},`${a}-${v}`))}):r.jsx("div",{className:"text-sm text-gray-600",children:"Select a child to view routine."})]})]})},wq=()=>{const[t,e]=E.useState(!0),[s,n]=E.useState(null),a=E.useRef(null),i=qn(),o="http://localhost:5000".replace(/\/$/,"");E.useEffect(()=>{(async()=>{const h=localStorage.getItem("token");if(h)try{const m=await fetch(`${o}/api/parent/auth/profile`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${h}`}});if(!m.ok)return;const f=await m.json();n(f)}catch(m){console.error("Failed to load parent profile",m)}})()},[o]);const l=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),i("/")},c=()=>{a.current&&a.current.scrollBy({top:200,behavior:"smooth"})},d=[{icon:pb,label:"Dashboard",path:"/parents"},{icon:ir,label:"Class Routine",path:"/parents/routine"},{icon:ir,label:"Attendance Report",path:"/parents/attendance"},{icon:Hr,label:"Academic Report",path:"/parents/academic"},{icon:Ru,label:"Fees Payment",path:"/parents/fees"},{icon:ei,label:"Health Report",path:"/parents/health"},{icon:mn,label:"Chat",path:"/parents/chat"},{icon:mn,label:"Complaints",path:"/parents/complaints"},{icon:ix,label:"Parent-Teacher Meetings",path:"/parents/ptm"},{icon:Es,label:"Observation",path:"/parents/observation"},{icon:Es,label:"Parent Observation",path:"/parents/parent-observation"},{icon:pa,label:"Results",path:"/parents/results"},{icon:pn,label:"Achievements",path:"/parents/achievements"},{icon:Dr,label:"Courses",path:"/parents/courses"}];return r.jsxs("div",{className:"min-h-screen bg-gray-100 flex gap-0",children:[!t&&r.jsx("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-yellow-500 text-white rounded-lg",onClick:()=>e(!0),children:r.jsx(Ng,{size:24})}),r.jsx("div",{className:`
          fixed top-0 left-0 h-screen bg-white shadow-lg transform transition-max-width duration-300 ease-in-out z-40 md:block
          lg:translate-x-0 ${t?"max-w-80":"hidden max-w-32"}
        `,style:{willChange:"transform"},"aria-label":"Sidebar",children:r.jsxs("div",{className:"p-6 w-full h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[r.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:r.jsx(Ar,{className:"w-6 aspect-square text-yellow-600"})}),t&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Parent Portal"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Welcome back",s!=null&&s.name?`, ${s.name}`:"","!"]})]}),r.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors text-amber-700","aria-label":t?"Close sidebar":"Open sidebar",children:t?r.jsx(ru,{size:20}):r.jsx(ra,{size:20})})]}),r.jsx("nav",{ref:a,className:"space-y-2 overflow-y-auto flex-grow scrollbar-hide",children:d.map(u=>r.jsxs(sg,{to:u.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-yellow-50 text-gray-700 hover:text-yellow-600 transition-colors",children:[r.jsx(u.icon,{className:"h-5 w-5"}),t&&r.jsx("span",{children:u.label})]},u.path))}),r.jsxs("button",{type:"button",onClick:l,className:"mt-3 w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors",children:[r.jsx(Vd,{className:"w-4 h-4"}),t&&r.jsx("span",{className:"text-sm font-medium",children:"Logout"})]}),r.jsx("button",{onClick:c,className:"mt-2 w-full py-2 flex items-center justify-center text-gray-500 hover:text-yellow-600 transition-colors",children:r.jsx(ln,{className:"h-5 h-5"})})]})}),r.jsx("div",{className:`overflow-y-scroll h-screen ${t?"md:ml-80":"md:ml-32"} flex-grow p-6 bg-gray-50 transition-all duration-300`,children:r.jsxs(J1,{children:[r.jsx(sr,{path:"/",element:r.jsx(rqe,{parentName:s==null?void 0:s.name,childrenNames:Array.isArray(s==null?void 0:s.children)?s.children:[]})}),r.jsx(sr,{path:"attendance",element:r.jsx(qWe,{})}),r.jsx(sr,{path:"routine",element:r.jsx(uqe,{})}),r.jsx(sr,{path:"academic",element:r.jsx(KWe,{})}),r.jsx(sr,{path:"fees",element:r.jsx(XWe,{})}),r.jsx(sr,{path:"health",element:r.jsx(YWe,{})}),r.jsx(sr,{path:"complaints",element:r.jsx(iY,{})}),r.jsx(sr,{path:"chat",element:r.jsx(lqe,{})}),r.jsx(sr,{path:"ptm",element:r.jsx(tqe,{})}),r.jsx(sr,{path:"observation",element:r.jsx(sqe,{})}),r.jsx(sr,{path:"parent-observation",element:r.jsx(nqe,{})}),r.jsx(sr,{path:"results",element:r.jsx(JWe,{})}),r.jsx(sr,{path:"achievements",element:r.jsx(ZWe,{})}),r.jsx(sr,{path:"courses",element:r.jsx(eqe,{})})]})})]})},hqe=()=>{const[t,e]=E.useState(null),[s,n]=E.useState("overview"),[a,i]=E.useState(""),[o,l]=E.useState("all"),c=[{id:1,name:"Koushik Bala",class:"10-A",healthStatus:"Good",lastUpdate:"2024-03-01",recentIssues:[],height:"165 cm",weight:"52 kg",bloodGroup:"B+",bmi:"19.1",allergies:["None"],medications:["None"],emergencyContact:"+1 (555) 123-4567",emotionalWellbeing:{mood:"excellent",socialEngagement:9,academicStress:3,behaviorChanges:!1,lastAssessment:"2024-03-01",notes:"Student shows excellent emotional stability and positive attitude towards learning.",counselingSessions:0,parentNotifications:0,interventions:[],supportActions:[{type:"Praise",date:"2024-02-28",description:"Recognized for helping classmates"},{type:"Peer Support",date:"2024-02-25",description:"Assigned as study buddy mentor"}]}},{id:2,name:"John Doe",class:"10-A",healthStatus:"Under Observation",lastUpdate:"2024-03-05",recentIssues:["Mild Fever"],height:"170 cm",weight:"60 kg",bloodGroup:"O+",bmi:"20.8",allergies:["Peanuts"],medications:["Antihistamine"],emergencyContact:"+1 (555) 987-6543",emotionalWellbeing:{mood:"concerning",socialEngagement:4,academicStress:8,behaviorChanges:!0,lastAssessment:"2024-03-05",notes:"Student showing signs of academic pressure. Recommended for counseling support.",counselingSessions:2,parentNotifications:1,interventions:["Academic Support","Stress Management"],supportActions:[{type:"Counseling",date:"2024-03-03",description:"Individual session on exam anxiety"},{type:"Parent Meeting",date:"2024-03-01",description:"Discussed academic pressure concerns"}]}},{id:3,name:"Emma Johnson",class:"10-B",healthStatus:"Needs Attention",lastUpdate:"2024-03-03",recentIssues:["Asthma","Seasonal Allergies"],height:"158 cm",weight:"48 kg",bloodGroup:"A+",bmi:"19.2",allergies:["Dust","Pollen"],medications:["Inhaler","Antihistamine"],emergencyContact:"+1 (555) 456-7890",emotionalWellbeing:{mood:"good",socialEngagement:7,academicStress:5,behaviorChanges:!1,lastAssessment:"2024-03-03",notes:"Despite health challenges, student maintains positive outlook. Good peer relationships.",counselingSessions:1,parentNotifications:1,interventions:["Health Support"],supportActions:[{type:"Health Counseling",date:"2024-03-02",description:"Discussed coping strategies for health conditions"},{type:"Accommodation",date:"2024-02-28",description:"Provided extra time during physical activities"}]}},{id:4,name:"Michael Brown",class:"10-B",healthStatus:"Good",lastUpdate:"2024-03-10",recentIssues:[],height:"175 cm",weight:"65 kg",bloodGroup:"AB+",bmi:"21.2",allergies:["None"],medications:["None"],emergencyContact:"+1 (555) 234-5678",emotionalWellbeing:{mood:"neutral",socialEngagement:6,academicStress:6,behaviorChanges:!1,lastAssessment:"2024-03-10",notes:"Student shows average engagement. Could benefit from more social activities.",counselingSessions:0,parentNotifications:0,interventions:[],supportActions:[{type:"Group Activity",date:"2024-03-08",description:"Participated in team building exercise"},{type:"Academic Support",date:"2024-03-05",description:"Extra help session for mathematics"}]}}],[d,u]=E.useState({date:new Date().toISOString().split("T")[0],type:"Regular Checkup",findings:"",recommendations:"",status:"Good"}),h=c.filter(x=>{const A=x.name.toLowerCase().includes(a.toLowerCase())||x.class.toLowerCase().includes(a.toLowerCase()),g=o==="all"||x.class===o;return A&&g}),m={totalStudents:c.length,goodHealth:c.filter(x=>x.healthStatus==="Good").length,underObservation:c.filter(x=>x.healthStatus==="Under Observation").length,needsAttention:c.filter(x=>x.healthStatus==="Needs Attention").length},f={excellentMood:c.filter(x=>x.emotionalWellbeing.mood==="excellent").length,concerningMood:c.filter(x=>x.emotionalWellbeing.mood==="concerning"||x.emotionalWellbeing.mood==="critical").length,behaviorChanges:c.filter(x=>x.emotionalWellbeing.behaviorChanges).length,needsCounseling:c.filter(x=>x.emotionalWellbeing.counselingSessions>0).length};return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Student Health & Wellbeing Management"}),r.jsx("p",{className:"text-gray-500",children:"Monitor and manage student physical health and emotional wellbeing"})]}),r.jsxs("button",{className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"New Health Record"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Students"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.totalStudents})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(us,{className:"w-5 h-5 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Good Health"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.goodHealth})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(Do,{className:"w-5 h-5 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Under Observation"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.underObservation})]}),r.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:r.jsx(ei,{className:"w-5 h-5 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Need Attention"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.needsAttention})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:r.jsx(br,{className:"w-5 h-5 text-red-600"})})]})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(Vs,{className:"w-5 h-5 mr-2 text-purple-600"}),"Emotional Wellbeing Overview"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Excellent Mood"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.excellentMood})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(Uu,{className:"w-5 h-5 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Concerning Mood"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.concerningMood})]}),r.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:r.jsx($v,{className:"w-5 h-5 text-orange-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Behavior Changes"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.behaviorChanges})]}),r.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:r.jsx(br,{className:"w-5 h-5 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Need Counseling"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.needsCounseling})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:r.jsx(gc,{className:"w-5 h-5 text-purple-600"})})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsxs("div",{className:"p-5 border-b border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Student Directory"}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Fs,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:x=>i(x.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Po,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"pl-9 pr-8 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",children:[r.jsx("option",{value:"all",children:"All Classes"}),r.jsx("option",{value:"10-A",children:"Class 10-A"}),r.jsx("option",{value:"10-B",children:"Class 10-B"})]})]})]})]}),r.jsx("div",{className:"divide-y divide-gray-100 max-h-[500px] overflow-y-auto",children:h.length>0?h.map(x=>r.jsxs("div",{onClick:()=>e(x),className:`p-4 cursor-pointer transition-colors ${(t==null?void 0:t.id)===x.id?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${x.healthStatus==="Good"?"bg-green-500":x.healthStatus==="Under Observation"?"bg-yellow-500":"bg-red-500"}`}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-800",children:x.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Class: ",x.class]})]})]}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.healthStatus==="Good"?"bg-green-100 text-green-800":x.healthStatus==="Under Observation"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:x.healthStatus})]}),x.recentIssues.length>0&&r.jsxs("div",{className:"mt-2 flex items-center",children:[r.jsx(br,{className:"w-3 h-3 text-yellow-500 mr-1"}),r.jsx("span",{className:"text-xs text-yellow-700",children:x.recentIssues.join(", ")})]})]},x.id)):r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No students found matching your search."})})]}),r.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:t?r.jsxs("div",{children:[r.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>e(null),className:"p-1 rounded-lg hover:bg-gray-200 transition-colors",children:r.jsx(Rl,{className:"w-5 h-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Class: ",t.class," | Last update: ",t.lastUpdate]})]})]}),r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t.healthStatus==="Good"?"bg-green-100 text-green-800":t.healthStatus==="Under Observation"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.healthStatus})]})}),r.jsx("div",{className:"p-5 border-b border-gray-100",children:r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>n("overview"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="overview"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Overview"}),r.jsx("button",{onClick:()=>n("medical"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="medical"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Medical Info"}),r.jsx("button",{onClick:()=>n("history"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="history"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"History"}),r.jsxs("button",{onClick:()=>n("wellbeing"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-1 ${s==="wellbeing"?"bg-purple-100 text-purple-700":"text-gray-500 hover:text-gray-700"}`,children:[r.jsx(Vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Wellbeing"})]})]})}),r.jsxs("div",{className:"p-5",children:[s==="overview"&&r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Vital Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Height"}),r.jsx("p",{className:"font-medium",children:t.height})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),r.jsx("p",{className:"font-medium",children:t.weight})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"BMI"}),r.jsx("p",{className:"font-medium",children:t.bmi})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Blood Group"}),r.jsx("p",{className:"font-medium",children:t.bloodGroup})]})]})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Recent Issues"}),t.recentIssues.length>0?r.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:t.recentIssues.map((x,A)=>r.jsx("li",{className:"text-yellow-700",children:x},A))}):r.jsx("p",{className:"text-sm text-yellow-700",children:"No recent health issues"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Emergency Contact"}),r.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:r.jsx("p",{className:"text-gray-800 font-medium",children:t.emergencyContact})})]})]}),s==="medical"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.allergies.map((x,A)=>r.jsx("span",{className:"px-2.5 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:x},A))})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Medications"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:t.medications.map((x,A)=>r.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:x},A))})]})]}),s==="history"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Health Update History"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:r.jsx(Dr,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:"Regular Checkup"}),r.jsx("span",{className:"text-xs text-gray-500",children:"2024-03-01"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All vitals normal. No issues reported."}),r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Good"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:r.jsx(br,{className:"w-4 h-4 text-yellow-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:"Sick Visit"}),r.jsx("span",{className:"text-xs text-gray-500",children:"2024-02-15"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Mild fever observed. Recommended rest and hydration."}),r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Under Observation"})})]})]})]})]})}),s==="wellbeing"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-purple-800 mb-3 flex items-center",children:[r.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Emotional Wellbeing Assessment"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-full mb-2 ${t.emotionalWellbeing.mood==="excellent"?"bg-green-100":t.emotionalWellbeing.mood==="good"?"bg-blue-100":t.emotionalWellbeing.mood==="neutral"?"bg-yellow-100":t.emotionalWellbeing.mood==="concerning"?"bg-orange-100":"bg-red-100"}`,children:t.emotionalWellbeing.mood==="excellent"||t.emotionalWellbeing.mood==="good"?r.jsx(Uu,{className:`w-6 h-6 ${t.emotionalWellbeing.mood==="excellent"?"text-green-600":"text-blue-600"}`}):t.emotionalWellbeing.mood==="neutral"?r.jsx(kN,{className:"w-6 h-6 text-yellow-600"}):r.jsx($v,{className:`w-6 h-6 ${t.emotionalWellbeing.mood==="concerning"?"text-orange-600":"text-red-600"}`})}),r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Overall Mood"}),r.jsx("p",{className:`text-xs font-medium capitalize ${t.emotionalWellbeing.mood==="excellent"?"text-green-600":t.emotionalWellbeing.mood==="good"?"text-blue-600":t.emotionalWellbeing.mood==="neutral"?"text-yellow-600":t.emotionalWellbeing.mood==="concerning"?"text-orange-600":"text-red-600"}`,children:t.emotionalWellbeing.mood})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 mb-2",children:r.jsx(Ar,{className:"w-6 h-6 text-blue-600"})}),r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Social Engagement"}),r.jsxs("p",{className:"text-xs font-medium text-blue-600",children:[t.emotionalWellbeing.socialEngagement,"/10"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-orange-100 mb-2",children:r.jsx(ds,{className:"w-6 h-6 text-orange-600"})}),r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Academic Stress"}),r.jsxs("p",{className:"text-xs font-medium text-orange-600",children:[t.emotionalWellbeing.academicStress,"/10"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Assessment Details"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Last Assessment"}),r.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.lastAssessment})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Counseling Sessions"}),r.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.counselingSessions})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Parent Notifications"}),r.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.parentNotifications})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Behavior Changes"}),r.jsx("span",{className:`text-xs font-medium ${t.emotionalWellbeing.behaviorChanges?"text-orange-600":"text-green-600"}`,children:t.emotionalWellbeing.behaviorChanges?"Yes":"No"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Interventions"}),r.jsx("div",{className:"space-y-2",children:t.emotionalWellbeing.interventions.length>0?t.emotionalWellbeing.interventions.map((x,A)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"w-3 h-3 text-yellow-500 mr-2"}),r.jsx("span",{className:"text-xs text-gray-700",children:x})]},A)):r.jsx("p",{className:"text-xs text-gray-500",children:"No interventions needed"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Assessment Notes"}),r.jsx("p",{className:"text-xs text-gray-600",children:t.emotionalWellbeing.notes||"No additional notes available."})]}),t.emotionalWellbeing.supportActions&&t.emotionalWellbeing.supportActions.length>0&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Support Actions Taken"}),r.jsx("div",{className:"space-y-3",children:t.emotionalWellbeing.supportActions.map((x,A)=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"bg-purple-100 p-1.5 rounded-full",children:r.jsx(gc,{className:"w-3 h-3 text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-800",children:x.type}),r.jsx("span",{className:"text-xs text-gray-500",children:x.date})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.description})]})]},A))})]})]})]}),r.jsxs("div",{className:"mt-6 pt-5 border-t border-gray-200",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add New Health Update"}),r.jsxs("form",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),r.jsx("input",{type:"date",value:d.date,onChange:x=>u({...d,date:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{value:d.type,onChange:x=>u({...d,type:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{children:"Regular Checkup"}),r.jsx("option",{children:"Sick Visit"}),r.jsx("option",{children:"Follow-up"}),r.jsx("option",{children:"Emergency"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:d.status,onChange:x=>u({...d,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{children:"Good"}),r.jsx("option",{children:"Under Observation"}),r.jsx("option",{children:"Needs Attention"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Findings"}),r.jsx("textarea",{value:d.findings,onChange:x=>u({...d,findings:x.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter medical findings..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recommendations"}),r.jsx("textarea",{value:d.recommendations,onChange:x=>u({...d,recommendations:x.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter recommendations..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[r.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium shadow-sm",children:"Save Health Update"})]})]})]})]})]}):r.jsxs("div",{className:"p-10 text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(us,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Select a student"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Choose a student from the list to view and manage their health records"})]})})]})]})},fqe=()=>{const[t,e]=E.useState(null),s=[{id:1,studentName:"John Doe",parentName:"Mr. & Mrs. Doe",date:"2024-03-20",time:"10:00 AM",type:"Video Call",status:"scheduled",topic:"Academic Progress Discussion"},{id:2,studentName:"Koushik Bala",parentName:"Mrs. Smith",date:"2024-03-22",time:"2:30 PM",type:"In Person",status:"pending",topic:"Behavioral Concerns"}],n=a=>{switch(a){case"Video Call":return r.jsx(ix,{className:"w-4 h-4"});case"Phone Call":return r.jsx(oa,{className:"w-4 h-4"});default:return r.jsx(Ar,{className:"w-4 h-4"})}};return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Parent-Teacher Meetings"}),r.jsx("p",{className:"text-yellow-100",children:"Schedule and manage parent meetings"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2 space-y-6",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Meetings"})}),r.jsx("div",{className:"p-4 space-y-4",children:s.map(a=>r.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-yellow-500 transition-colors",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("h3",{className:"font-medium text-gray-800",children:["Meeting with ",a.parentName]}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.status==="scheduled"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Student: ",a.studentName]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ir,{className:"w-4 h-4"}),r.jsx("span",{children:a.date})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{children:a.time})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[n(a.type),r.jsx("span",{children:a.type})]})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Topic: ",a.topic]})]})})},a.id))})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Schedule New Meeting"})}),r.jsx("div",{className:"p-4",children:r.jsxs("form",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Enter student name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Name"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Enter parent name"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),r.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),r.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Type"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[r.jsx("option",{value:"video",children:"Video Call"}),r.jsx("option",{value:"phone",children:"Phone Call"}),r.jsx("option",{value:"in-person",children:"In Person"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic"}),r.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:"3",placeholder:"Enter meeting topic"})]}),r.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-600 transition-colors",children:"Schedule Meeting"})]})})]})]})]})},jq=[{_id:"1",title:"Quadratic Equations Problem Set",subject:"Mathematics",class:"10-A",description:"Solve problems related to quadratic equations, including graphing and real-world applications.",dueDate:"2025-01-15",createdDate:"2025-01-05",marks:100,status:"active",submissions:28,totalStudents:35,avgScore:87.5,difficulty:"Medium",type:"Problem Set",attachments:["quadratic_equations.pdf","answer_sheet.docx"],instructions:"Complete all 20 problems. Show your work for full credit. Use graphing calculator where needed.",tags:["Algebra","Graphing","Problem Solving"]},{_id:"2",title:"Cell Structure Lab Report",subject:"Biology",class:"9-B",description:"Write a detailed lab report on cell structure observation using microscopy.",dueDate:"2025-01-20",createdDate:"2025-01-08",marks:50,status:"active",submissions:22,totalStudents:30,avgScore:92.3,difficulty:"Easy",type:"Lab Report",attachments:["lab_format.pdf","cell_images.zip"],instructions:"Follow the lab report format. Include labeled diagrams and observations.",tags:["Laboratory","Microscopy","Scientific Writing"]},{_id:"3",title:"Romeo and Juliet Essay",subject:"English Literature",class:"11-A",description:"Analytical essay on the theme of fate vs. free will in Romeo and Juliet.",dueDate:"2025-01-25",createdDate:"2025-01-10",marks:75,status:"draft",submissions:0,totalStudents:32,avgScore:0,difficulty:"Hard",type:"Essay",attachments:["essay_rubric.pdf","citation_guide.pdf"],instructions:"Write a 1000-word analytical essay. Use MLA format with at least 3 scholarly sources.",tags:["Literature","Critical Analysis","Writing"]},{_id:"4",title:"World War II Timeline Project",subject:"History",class:"10-B",description:"Create a comprehensive timeline of major World War II events with analysis.",dueDate:"2025-01-18",createdDate:"2025-01-03",marks:80,status:"active",submissions:25,totalStudents:28,avgScore:85.7,difficulty:"Medium",type:"Project",attachments:["timeline_template.pptx","resource_links.pdf"],instructions:"Include at least 20 major events. Provide context and analysis for each event.",tags:["Timeline","Research","Historical Analysis"]},{_id:"5",title:"Chemical Bonding Quiz",subject:"Chemistry",class:"11-C",description:"Multiple choice and short answer quiz on ionic and covalent bonding.",dueDate:"2025-01-12",createdDate:"2025-01-07",marks:25,status:"completed",submissions:27,totalStudents:27,avgScore:78.9,difficulty:"Medium",type:"Quiz",attachments:[],instructions:"Complete the quiz in 30 minutes. No external resources allowed.",tags:["Assessment","Chemical Bonding","Quick Test"]},{_id:"6",title:"Python Programming Assignment",subject:"Computer Science",class:"12-A",description:"Implement sorting algorithms and analyze their time complexity.",dueDate:"2025-01-30",createdDate:"2025-01-12",marks:120,status:"active",submissions:15,totalStudents:24,avgScore:95.2,difficulty:"Hard",type:"Programming",attachments:["starter_code.py","test_cases.txt"],instructions:"Implement bubble sort, merge sort, and quick sort. Include time complexity analysis.",tags:["Programming","Algorithms","Time Complexity"]}],mqe=()=>{const[t,e]=E.useState(!1),[s,n]=E.useState(null),[a,i]=E.useState(!1),[o,l]=E.useState("grid"),[c,d]=E.useState("all"),[u,h]=E.useState("all"),[m,f]=E.useState(""),[x,A]=E.useState({title:"",subject:"",class:"",description:"",dueDate:"",marks:"",status:"draft",difficulty:"Medium",type:"Assignment"}),[g,b]=E.useState(jq),[w,v]=E.useState(jq),j=G=>{switch(G){case"active":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=G=>{switch(G){case"Easy":return"text-green-600";case"Medium":return"text-yellow-600";case"Hard":return"text-red-600";default:return"text-gray-600"}},S=(G,O)=>O>0?Math.round(G/O*100):0,T=G=>{const O=new Date,ee=new Date(G)-O;return Math.ceil(ee/(1e3*60*60*24))},I=G=>{A({...x,[G.target.name]:G.target.value})},_=()=>{const G=(g.length+1).toString(),O={...x,_id:G,createdDate:new Date().toISOString().split("T")[0],submissions:0,totalStudents:30,avgScore:0,attachments:[],instructions:"Complete the assignment as per instructions.",tags:["Assignment"]};b([O,...g]),e(!1),A({title:"",subject:"",class:"",description:"",dueDate:"",marks:"",status:"draft",difficulty:"Medium",type:"Assignment"})};E.useEffect(()=>{let G=g;m&&(G=G.filter(O=>O.title.toLowerCase().includes(m.toLowerCase())||O.subject.toLowerCase().includes(m.toLowerCase())||O.class.toLowerCase().includes(m.toLowerCase()))),c!=="all"&&(G=G.filter(O=>O.status===c)),u!=="all"&&(G=G.filter(O=>O.subject===u)),v(G)},[g,m,c,u]);const M=[...new Set(g.map(G=>G.subject))],C=g.length,B=g.filter(G=>G.status==="active").length,P=g.filter(G=>G.status==="completed").length,H=g.filter(G=>G.status==="draft").length;g.reduce((G,O)=>G+O.submissions,0);const D=g.length>0?Math.round(g.reduce((G,O)=>G+S(O.submissions,O.totalStudents),0)/g.length):0;return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:r.jsx(Dr,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Assignment Management"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Create, manage and track student assignments"})]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:C}),r.jsx("p",{className:"text-xs text-gray-500",children:"Total Assignments"})]})})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:B}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Currently ongoing"})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Fr,{className:"h-5 w-5 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Finished assignments"})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(pn,{className:"h-5 w-5 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Drafts"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:H}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Work in progress"})]}),r.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:r.jsx(Zi,{className:"h-5 w-5 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Completion"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[D,"%"]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Student completion rate"})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(ds,{className:"h-5 w-5 text-purple-600"})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search assignments...",value:m,onChange:G=>f(G.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Po,{className:"w-4 h-4 text-gray-400"}),r.jsxs("select",{value:c,onChange:G=>d(G.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"completed",children:"Completed"})]}),r.jsxs("select",{value:u,onChange:G=>h(G.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"all",children:"All Subjects"}),M.map(G=>r.jsx("option",{value:G,children:G},G))]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md ${o==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-500"}`,children:r.jsxs("div",{className:"w-4 h-4 grid grid-cols-2 gap-0.5",children:[r.jsx("div",{className:"bg-current rounded-sm"}),r.jsx("div",{className:"bg-current rounded-sm"}),r.jsx("div",{className:"bg-current rounded-sm"}),r.jsx("div",{className:"bg-current rounded-sm"})]})}),r.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-md ${o==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500"}`,children:r.jsxs("div",{className:"w-4 h-4 flex flex-col space-y-0.5",children:[r.jsx("div",{className:"bg-current h-0.5 rounded"}),r.jsx("div",{className:"bg-current h-0.5 rounded"}),r.jsx("div",{className:"bg-current h-0.5 rounded"})]})})]}),r.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm",children:[r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Assignment"})]})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Assignments (",w.length,")"]}),w.length>0&&r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",w.length," of ",C," assignments"]})]}),w.length===0?r.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-200",children:[r.jsx(Dr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filter criteria"}),r.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(vs,{className:"w-4 h-4 mr-2"}),"Create First Assignment"]})]}):r.jsx("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-4",children:w.map(G=>r.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 ${o==="grid"?"p-6":"p-4"}`,children:r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg leading-tight",children:G.title}),r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsx("button",{onClick:()=>{n(G),i(!0)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(Es,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:r.jsx(th,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${j(G.status)}`,children:G.status.charAt(0).toUpperCase()+G.status.slice(1)}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200",children:G.subject}),r.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 border border-blue-200",children:["Class ",G.class]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:G.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(ir,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-600",children:["Due ",new Date(G.dueDate).toLocaleDateString()]}),T(G.dueDate)<=3&&T(G.dueDate)>0&&r.jsx(Yi,{className:"w-4 h-4 text-orange-500"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(pn,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"text-gray-600",children:[G.marks," marks"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ar,{className:"w-4 h-4"}),r.jsxs("span",{children:[G.submissions,"/",G.totalStudents," submitted"]})]}),r.jsx("span",{className:`font-medium ${N(G.difficulty)}`,children:G.difficulty})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[G.attachments.length>0&&r.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[r.jsx(Dr,{className:"w-3 h-3"}),r.jsx("span",{children:G.attachments.length})]}),r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S(G.submissions,G.totalStudents)}%`}})})]})]})]})})},G._id))})]})]}),t&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-xl shadow-xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(vs,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Assignment"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new assignment for your students"})]})]}),r.jsx("button",{onClick:()=>e(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ks,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("form",{onSubmit:G=>{G.preventDefault(),_()},className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Title *"}),r.jsx("input",{name:"title",value:x.title,onChange:I,type:"text",placeholder:"e.g., Quadratic Equations Problem Set",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),r.jsxs("select",{name:"subject",value:x.subject,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select Subject"}),r.jsx("option",{value:"Mathematics",children:"Mathematics"}),r.jsx("option",{value:"Physics",children:"Physics"}),r.jsx("option",{value:"Chemistry",children:"Chemistry"}),r.jsx("option",{value:"Biology",children:"Biology"}),r.jsx("option",{value:"English Literature",children:"English Literature"}),r.jsx("option",{value:"History",children:"History"}),r.jsx("option",{value:"Computer Science",children:"Computer Science"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class *"}),r.jsx("input",{name:"class",value:x.class,onChange:I,type:"text",placeholder:"e.g., 10-A",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),r.jsx("input",{name:"dueDate",value:x.dueDate,onChange:I,type:"date",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Marks *"}),r.jsx("input",{name:"marks",value:x.marks,onChange:I,type:"number",min:"1",placeholder:"e.g., 100",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Type"}),r.jsxs("select",{name:"type",value:x.type,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Assignment",children:"Assignment"}),r.jsx("option",{value:"Quiz",children:"Quiz"}),r.jsx("option",{value:"Project",children:"Project"}),r.jsx("option",{value:"Lab Report",children:"Lab Report"}),r.jsx("option",{value:"Essay",children:"Essay"}),r.jsx("option",{value:"Problem Set",children:"Problem Set"}),r.jsx("option",{value:"Programming",children:"Programming"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),r.jsxs("select",{name:"difficulty",value:x.difficulty,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"Easy",children:"Easy"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"Hard",children:"Hard"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{name:"status",value:x.status,onChange:I,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"active",children:"Active"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{name:"description",value:x.description,onChange:I,rows:"4",placeholder:"Provide detailed instructions for the assignment...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Create Assignment"})]})]})})]})}),a&&s&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-xl shadow-xl max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Dr,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s.title}),r.jsxs("p",{className:"text-sm text-gray-500",children:[s.subject,"  Class ",s.class]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(Zi,{className:"w-5 h-5"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:r.jsx(bs,{className:"w-5 h-5"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:r.jsx(MS,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(ks,{className:"w-5 h-5"})})]})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assignment Details"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Instructions"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.instructions})]}),s.attachments.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Attachments"}),r.jsx("div",{className:"space-y-2",children:s.attachments.map((G,O)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[r.jsx(Dr,{className:"w-5 h-5 text-blue-500"}),r.jsx("span",{className:"text-gray-700 flex-1",children:G}),r.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download"})]},O))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((G,O)=>r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:G},O))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Assignment Info"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Status:"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${j(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Type:"}),r.jsx("span",{className:"text-gray-900",children:s.type})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Difficulty:"}),r.jsx("span",{className:N(s.difficulty),children:s.difficulty})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Total Marks:"}),r.jsx("span",{className:"text-gray-900",children:s.marks})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Due Date:"}),r.jsx("span",{className:"text-gray-900",children:new Date(s.dueDate).toLocaleDateString()})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Created:"}),r.jsx("span",{className:"text-gray-900",children:new Date(s.createdDate).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Submission Stats"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-gray-500",children:"Submissions"}),r.jsxs("span",{className:"text-gray-900",children:[s.submissions,"/",s.totalStudents]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S(s.submissions,s.totalStudents)}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[S(s.submissions,s.totalStudents),"% completion rate"]})]}),s.avgScore>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Average Score:"}),r.jsxs("span",{className:"text-gray-900",children:[s.avgScore.toFixed(1),"%"]})]})]})]})]})]})})]})})]})},pqe=()=>{var _,M;const[t,e]=E.useState(null),[s,n]=E.useState("all"),[a,i]=E.useState(""),[o,l]=E.useState("all"),[c,d]=E.useState("evaluation"),[u,h]=E.useState({marks:"",feedback:"",status:"evaluated"}),[m,f]=E.useState(!1),x=(C,B)=>{h(P=>({...P,[C]:B}))},A=async()=>{if(!t||!u.marks){alert("Please provide marks for the submission");return}f(!0);try{const C={score:parseFloat(u.marks),feedback:u.feedback,status:u.status};if((await fetch(`/api/progress/submission/${t.studentId}/${t.assignmentId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).ok)e(P=>({...P,marks:C.score,feedback:C.feedback,status:C.status})),h({marks:"",feedback:"",status:"evaluated"}),alert("Evaluation saved successfully and student progress updated!");else throw new Error("Failed to save evaluation")}catch(C){console.error("Error saving evaluation:",C),alert("Failed to save evaluation. Please try again.")}finally{f(!1)}},g=C=>{e(C),h({marks:C.marks||"",feedback:C.feedback||"",status:C.status||"submitted"})},b=[{id:1,title:"Mathematics Assignment 1",subject:"Mathematics",dueDate:"2024-03-10",totalMarks:100},{id:2,title:"Physics Lab Report",subject:"Physics",dueDate:"2024-03-12",totalMarks:50},{id:3,title:"English Essay",subject:"English Literature",dueDate:"2024-03-15",totalMarks:80},{id:4,title:"Chemistry Project",subject:"Chemistry",dueDate:"2024-03-18",totalMarks:100}],w=[{id:1,studentName:"Koushik Bala",studentId:"STU001",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-15",submissionTime:"14:30",status:"submitted",marks:null,feedback:"",attachments:["math_hw1.pdf"],late:!1,wordCount:1200,pages:4},{id:2,studentName:"John Doe",studentId:"STU002",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-14",submissionTime:"09:15",status:"evaluated",marks:85,feedback:"Excellent work! Clear explanations and accurate calculations. Please improve presentation of graphs.",attachments:["math_solution.pdf"],late:!1,wordCount:1500,pages:5},{id:3,studentName:"Emma Johnson",studentId:"STU003",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-16",submissionTime:"23:45",status:"submitted",marks:null,feedback:"",attachments:["algebra_assignment.pdf"],late:!0,wordCount:900,pages:3},{id:4,studentName:"Michael Brown",studentId:"STU004",assignmentId:2,assignmentTitle:"Physics Lab Report",subject:"Physics",submissionDate:"2024-03-12",submissionTime:"11:20",status:"evaluated",marks:42,feedback:"Good experimental setup description but analysis needs more depth. Include error analysis in future reports.",attachments:["physics_lab.pdf","data_sheet.xlsx"],late:!1,wordCount:2e3,pages:7},{id:5,studentName:"Olivia Davis",studentId:"STU005",assignmentId:2,assignmentTitle:"Physics Lab Report",subject:"Physics",submissionDate:"2024-03-13",submissionTime:"16:40",status:"evaluated",marks:48,feedback:"Outstanding work! Thorough analysis and excellent presentation. Well done!",attachments:["physics_report.pdf"],late:!1,wordCount:2200,pages:8},{id:6,studentName:"William Wilson",studentId:"STU006",assignmentId:3,assignmentTitle:"English Essay",subject:"English Literature",submissionDate:"2024-03-14",submissionTime:"13:10",status:"submitted",marks:null,feedback:"",attachments:["hamlet_essay.docx"],late:!1,wordCount:1800,pages:6}],v=C=>{switch(C){case"evaluated":return r.jsxs("span",{className:"inline-flex items-center space-x-1 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(Fr,{className:"w-3 h-3"}),r.jsx("span",{children:"Evaluated"})]});case"submitted":return r.jsxs("span",{className:"inline-flex items-center space-x-1 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[r.jsx(br,{className:"w-3 h-3"}),r.jsx("span",{children:"Pending"})]});default:return null}},j=(C,B)=>{const P=C/B*100;return P>=90?"text-green-600":P>=80?"text-blue-600":P>=70?"text-yellow-600":P>=60?"text-orange-600":"text-red-600"},N=w.filter(C=>!(s!=="all"&&C.status!==s||o!=="all"&&C.assignmentId!==parseInt(o)||a&&!C.studentName.toLowerCase().includes(a.toLowerCase())&&!C.assignmentTitle.toLowerCase().includes(a.toLowerCase()))),S=w.filter(C=>C.status==="submitted").length,T=w.filter(C=>C.status==="evaluated").length,I=w.filter(C=>C.marks).reduce((C,B)=>C+B.marks,0)/T||0;return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 mb-6 text-white shadow-md",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Assignment Evaluation"}),r.jsx("p",{className:"text-blue-100",children:"Review, grade, and provide feedback on student submissions"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-400 px-3 py-1 rounded-full text-sm",children:r.jsxs("span",{className:"font-medium",children:[w.length," Submissions"]})}),r.jsxs("button",{className:"flex items-center space-x-2 bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:[r.jsx(ax,{className:"w-4 h-4"}),r.jsx("span",{children:"Export Grades"})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pending Evaluation"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:S})]}),r.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:r.jsx(fr,{className:"w-5 h-5 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Evaluated"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:T})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(tB,{className:"w-5 h-5 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Average Score"}),r.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:[I.toFixed(1),"%"]})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(ds,{className:"w-5 h-5 text-blue-600"})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search students or assignments...",value:a,onChange:C=>i(C.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full md:w-64"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Po,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsxs("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",value:s,onChange:C=>n(C.target.value),children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"submitted",children:"Pending"}),r.jsx("option",{value:"evaluated",children:"Evaluated"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsxs("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",value:o,onChange:C=>l(C.target.value),children:[r.jsx("option",{value:"all",children:"All Assignments"}),b.map(C=>r.jsx("option",{value:C.id,children:C.title},C.id))]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:r.jsxs("span",{children:[N.length," results"]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Submissions"})}),r.jsx("div",{className:"divide-y divide-gray-200 max-h-[600px] overflow-y-auto",children:N.length>0?N.map(C=>{const B=b.find(P=>P.id===C.assignmentId);return r.jsxs("div",{onClick:()=>g(C),className:`p-4 cursor-pointer transition-colors ${(t==null?void 0:t.id)===C.id?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:C.studentName}),v(C.status)]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:C.assignmentTitle}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(ir,{className:"w-3 h-3 mr-1"}),C.submissionDate]}),C.marks&&B&&r.jsxs("span",{className:`font-medium ${j(C.marks,B.totalMarks)}`,children:[C.marks,"/",B.totalMarks]})]}),C.late&&r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Late Submission"})})]},C.id)}):r.jsxs("div",{className:"p-6 text-center text-gray-500",children:[r.jsx(Dr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No submissions match your filters"})]})})]}),r.jsx("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"p-6",children:t?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:"Evaluate Submission"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[v(t.status),t.late&&r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Late Submission"})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm",children:[r.jsx(Es,{className:"w-4 h-4"}),r.jsx("span",{children:"Preview"})]}),r.jsxs("button",{className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Download"})]})]})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8",children:["evaluation","details","statistics"].map(C=>r.jsx("button",{onClick:()=>d(C),className:`py-2 px-1 text-sm font-medium border-b-2 transition-colors ${c===C?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))})}),c==="evaluation"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[r.jsxs("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[r.jsx(us,{className:"w-4 h-4 mr-2"}),"Submission Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Student"}),r.jsx("p",{className:"font-medium",children:t.studentName}),r.jsx("p",{className:"text-gray-400 text-xs",children:t.studentId})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Submitted On"}),r.jsx("p",{className:"font-medium",children:t.submissionDate}),r.jsx("p",{className:"text-gray-400 text-xs",children:t.submissionTime})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Assignment"}),r.jsx("p",{className:"font-medium",children:t.assignmentTitle}),r.jsx("p",{className:"text-gray-400 text-xs",children:t.subject})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Document"}),r.jsxs("p",{className:"font-medium",children:[t.pages," pages"]}),r.jsxs("p",{className:"text-gray-400 text-xs",children:[t.wordCount," words"]})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[r.jsx(Dr,{className:"w-4 h-4 mr-2"}),"Attachments"]}),r.jsx("div",{className:"space-y-2",children:t.attachments.map((C,B)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Dr,{className:"w-4 h-4 text-blue-600"})}),r.jsx("span",{className:"text-sm text-gray-700",children:C})]}),r.jsx("button",{className:"text-blue-500 hover:text-blue-600 p-1",children:r.jsx(bs,{className:"w-4 h-4"})})]},B))})]}),r.jsxs("form",{className:"space-y-6 pt-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marks",r.jsxs("span",{className:"text-gray-400 ml-1",children:["(out of ",((_=b.find(C=>C.id===t.assignmentId))==null?void 0:_.totalMarks)||100,")"]})]}),r.jsx("input",{type:"number",value:u.marks,onChange:C=>x("marks",C.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter marks",min:"0",max:((M=b.find(C=>C.id===t.assignmentId))==null?void 0:M.totalMarks)||100})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:u.status,onChange:C=>x("status",C.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"evaluated",children:"Evaluated"}),r.jsx("option",{value:"submitted",children:"Pending Review"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Feedback",r.jsx("span",{className:"text-gray-400 ml-1",children:"(visible to student)"})]}),r.jsx("textarea",{value:u.feedback,onChange:C=>x("feedback",C.target.value),rows:5,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Provide constructive feedback for the student..."})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>e(null),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),r.jsxs("button",{type:"button",onClick:A,disabled:m,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors font-medium flex items-center space-x-2",children:[r.jsx(hc,{className:"w-4 h-4"}),r.jsx("span",{children:m?"Saving...":"Submit Evaluation"})]})]})]})]}),c==="details"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-5",children:[r.jsx("h3",{className:"font-medium text-blue-800 mb-3",children:"Assignment Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-700",children:"Due Date"}),r.jsx("p",{className:"font-medium",children:"March 10, 2024"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-700",children:"Total Marks"}),r.jsx("p",{className:"font-medium",children:"100"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-700",children:"Submission Type"}),r.jsx("p",{className:"font-medium",children:"Individual"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-700",children:"Word Limit"}),r.jsx("p",{className:"font-medium",children:"1500 words"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Rubric Assessment"}),r.jsx("div",{className:"space-y-4",children:["Content","Structure","Originality","References"].map(C=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium",children:C}),r.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(B=>r.jsx(fs,{className:"w-4 h-4 text-yellow-400 fill-current"},B))}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"25/25"})]},C))})]})]}),c==="statistics"&&r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Class Performance"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Average Score"}),r.jsx("span",{className:"font-medium",children:"78.5%"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Highest Score"}),r.jsx("span",{className:"font-medium text-green-600",children:"94%"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Lowest Score"}),r.jsx("span",{className:"font-medium text-red-600",children:"62%"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Submission Rate"}),r.jsx("span",{className:"font-medium",children:"92%"})]})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Grade Distribution"}),r.jsx("div",{className:"space-y-2",children:["A (90-100)","B (80-89)","C (70-79)","D (60-69)","F (<60)"].map((C,B)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-sm text-gray-600 w-16",children:C}),r.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 mx-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${75-B*15}%`}})}),r.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[75-B*15,"%"]})]},C))})]})]})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-gray-400",children:[r.jsx(Dr,{className:"w-16 h-16 mb-4 text-gray-300"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"No submission selected"}),r.jsx("p",{className:"text-center",children:"Select a submission from the list to begin evaluation"})]})})})]})]})},Nq="http://localhost:5000".replace(/\/$/,""),Eu=Object.freeze({PRESENT:"present",ABSENT:"absent"}),xqe=()=>{const[t,e]=E.useState(new Date().toISOString().slice(0,10)),[s,n]=E.useState(new Date().toISOString().slice(0,7)),[a,i]=E.useState(""),[o,l]=E.useState(""),[c,d]=E.useState(""),[u,h]=E.useState(""),[m,f]=E.useState(""),[x,A]=E.useState(!0),[g,b]=E.useState(!1),[w,v]=E.useState(""),[j,N]=E.useState(""),[S,T]=E.useState([]),[I,_]=E.useState([]),[M,C]=E.useState([]),[B,P]=E.useState([]),[H,D]=E.useState({}),G=E.useCallback(async()=>{var V,W,ne;const z=localStorage.getItem("token");if(!z){v("Login required"),A(!1);return}A(!0),v(""),N("");try{const ie=new URLSearchParams({month:s,date:t});a&&ie.set("session",a),o&&ie.set("className",o),c&&ie.set("section",c),u.trim()&&ie.set("search",u.trim());const be=await fetch(`${Nq}/api/attendance/teacher/students?${ie.toString()}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`}}),ue=await be.json();if(!be.ok)throw new Error((ue==null?void 0:ue.error)||"Failed to load attendance");const je=Array.isArray(ue.students)?ue.students:[];T(je),_(Array.isArray((V=ue==null?void 0:ue.options)==null?void 0:V.sessions)?ue.options.sessions:[]),C(Array.isArray((W=ue==null?void 0:ue.options)==null?void 0:W.classes)?ue.options.classes:[]),P(Array.isArray((ne=ue==null?void 0:ue.options)==null?void 0:ne.sections)?ue.options.sections:[]);const Be={};je.forEach(oe=>{var lt;Be[oe._id]=((lt=oe==null?void 0:oe.selectedDateRecord)==null?void 0:lt.status)||Eu.PRESENT}),D(Be)}catch(ie){v(ie.message||"Unable to load attendance data")}finally{A(!1)}},[s,t,a,o,c,u]);E.useEffect(()=>{G()},[G]);const O=(z,V)=>{D(W=>({...W,[z]:V}))},Q=async()=>{const z=localStorage.getItem("token");if(z){b(!0),v(""),N("");try{const V={date:t,entries:S.map(ie=>({studentId:ie._id,status:H[ie._id]||Eu.PRESENT,subject:m.trim()}))},W=await fetch(`${Nq}/api/attendance/teacher/bulk-upsert`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify(V)}),ne=await W.json();if(!W.ok)throw new Error((ne==null?void 0:ne.error)||"Failed to save attendance");N(`Saved (${ne.created||0} new, ${ne.updated||0} updated)`),await G()}catch(V){v(V.message||"Could not save attendance")}finally{b(!1)}}},ee=()=>{const z=new Sr,V=z.internal.pageSize.width;new Date().toLocaleDateString(),z.setFontSize(18),z.setFont(void 0,"bold"),z.text("Attendance Report",V/2,20,{align:"center"}),z.setFontSize(10),z.setFont(void 0,"normal"),z.text(`Date: ${t}`,14,30);let W=40;z.setFont(void 0,"bold"),z.text("Name",14,W),z.text("Class",74,W),z.text("Section",104,W),z.text("Status",134,W),z.setFont(void 0,"normal"),W+=8,S.forEach(ne=>{z.text(String(ne.name||""),14,W),z.text(String(ne.className||ne.grade||""),74,W),z.text(String(ne.section||""),104,W),z.text(String(H[ne._id]||Eu.PRESENT).toUpperCase(),134,W),W+=7,W>280&&(z.addPage(),W=20)}),z.save(`attendance-${t}.pdf`)},q=E.useMemo(()=>Object.values(H).filter(z=>z===Eu.PRESENT).length,[H]),Z=E.useMemo(()=>Object.values(H).filter(z=>z===Eu.ABSENT).length,[H]),F=E.useMemo(()=>{const z=q+Z;return z>0?Math.round(q/z*100):0},[q,Z]);return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-yellow-600 rounded-xl p-6 mb-6 text-white shadow-md",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Student Attendance Management"}),r.jsx("p",{className:"text-yellow-100",children:"Class Teacher: CRUD attendance | Filter by Session, Class, Section"})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 mb-6 shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-7 gap-3",children:[r.jsxs("div",{className:"relative xl:col-span-2",children:[r.jsx(Fs,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:u,onChange:z=>h(z.target.value),placeholder:"Search student name",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Po,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsxs("select",{value:a,onChange:z=>{i(z.target.value),l(""),d("")},className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Sessions"}),I.map(z=>r.jsx("option",{value:z,children:z},z))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Po,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsxs("select",{value:o,onChange:z=>{l(z.target.value),d("")},className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Classes"}),M.map(z=>r.jsx("option",{value:z,children:z},z))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Po,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsxs("select",{value:c,onChange:z=>d(z.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Sections"}),B.map(z=>r.jsx("option",{value:z,children:z},z))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"date",value:t,onChange:z=>e(z.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),r.jsx("input",{type:"month",value:s,onChange:z=>n(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[r.jsx("input",{type:"text",value:m,onChange:z=>f(z.target.value),placeholder:"Subject (optional, saved for all)",className:"md:col-span-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),r.jsxs("button",{type:"button",onClick:ee,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(bs,{className:"w-4 h-4"}),"Export"]}),r.jsxs("button",{type:"button",onClick:Q,disabled:g||x||S.length===0,className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-amber-500 text-black rounded-lg hover:bg-amber-600 disabled:opacity-60",children:[g?r.jsx(Vn,{className:"w-4 h-4 animate-spin"}):r.jsx(BS,{className:"w-4 h-4"}),"Save Attendance"]})]}),w?r.jsx("p",{className:"text-sm text-red-600 mt-2",children:w}):null,j?r.jsx("p",{className:"text-sm text-green-700 mt-2",children:j}):null]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm text-gray-600",children:"Present"}),r.jsx(Ar,{className:"w-4 h-4 text-green-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:q})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm text-gray-600",children:"Absent"}),r.jsx(Ar,{className:"w-4 h-4 text-red-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:Z})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm text-gray-600",children:"Attendance %"}),r.jsx(ds,{className:"w-4 h-4 text-blue-600"})]}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:[F,"%"]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm text-gray-600",children:"Students"}),r.jsx(ma,{className:"w-4 h-4 text-amber-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-amber-600 mt-2",children:S.length})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:r.jsxs("h2",{className:"font-semibold text-gray-800",children:["Mark Attendance (",t,")"]})}),r.jsx("div",{className:"p-4 space-y-3 max-h-[520px] overflow-y-auto",children:x?r.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[r.jsx(Vn,{className:"w-5 h-5 animate-spin mr-2"})," Loading students..."]}):S.length===0?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No students found for selected filters."}):S.map(z=>{const V=H[z._id]||Eu.PRESENT;return r.jsx("div",{className:"p-3 rounded-lg bg-gray-50 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:z.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[z.className||"-"," ",z.section?`- ${z.section}`:""," ",z.roll?`| Roll ${z.roll}`:""]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>O(z._id,Eu.PRESENT),className:`px-3 py-1.5 rounded-md text-sm inline-flex items-center gap-1 ${V===Eu.PRESENT?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[r.jsx(Gu,{className:"w-4 h-4"}),"Present"]}),r.jsxs("button",{type:"button",onClick:()=>O(z._id,Eu.ABSENT),className:`px-3 py-1.5 rounded-md text-sm inline-flex items-center gap-1 ${V===Eu.ABSENT?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:[r.jsx(ks,{className:"w-4 h-4"}),"Absent"]})]})]})},z._id)})})]})]})},Aqe=()=>{var M;const[t,e]=E.useState(new Date),[s]=E.useState(5),[n,a]=E.useState(null),[i,o]=E.useState(""),[l,c]=E.useState(!0),d=qn();E.useEffect(()=>{const C=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(C)},[]);const u=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),d("/")},h=C=>{if(!C)return"Just now";const B=Date.now()-new Date(C).getTime();if(Number.isNaN(B))return"Just now";const P=Math.floor(B/(1e3*60));if(P<1)return"Just now";if(P<60)return`${P} minutes ago`;const H=Math.floor(P/60);return H<24?`${H} hours ago`:`${Math.floor(H/24)} days ago`};E.useEffect(()=>{(async()=>{c(!0),o("");try{const B=await fetch("http://localhost:5000/api/teacher/dashboard",{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),P=await B.json().catch(()=>({}));if(!B.ok)throw new Error((P==null?void 0:P.error)||"Unable to load dashboard data");a(P)}catch(B){o(B.message||"Unable to load dashboard data")}finally{c(!1)}})()},[]);const m=C=>{const B={weekday:"long",year:"numeric",month:"long",day:"numeric"},P=C.toLocaleDateString("en-US",B),H=C.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return{dateStr:P,timeStr:H}},{dateStr:f,timeStr:x}=m(t),A=()=>{const C=t.getHours();return C<12?"Good Morning":C<18?"Good Afternoon":"Good Evening"},g=(n==null?void 0:n.stats)||{},b=[{label:"Total Students",value:g.totalStudents??0,icon:Ar,color:"blue",change:"Campus total",trend:"neutral"},{label:"Attendance Today",value:`${g.attendanceRate??0}%`,icon:ei,color:"green",change:"Marked today",trend:"neutral"},{label:"Pending Evaluations",value:g.pendingEvaluations??0,icon:Dr,color:"orange",change:"Submissions pending",trend:"neutral"},{label:"Upcoming Events",value:g.upcomingEvents??0,icon:ir,color:"purple",change:"Scheduled today",trend:"neutral"}],w={blue:{bg:"bg-blue-100",text:"text-blue-600"},green:{bg:"bg-green-100",text:"text-green-600"},orange:{bg:"bg-orange-100",text:"text-orange-600"},purple:{bg:"bg-purple-100",text:"text-purple-600"},yellow:{bg:"bg-yellow-100",text:"text-yellow-600"},red:{bg:"bg-red-100",text:"text-red-600"}},v={assignment:{icon:Dr,color:"blue"},meeting:{icon:ir,color:"purple"},attendance:{icon:lv,color:"green"},announcement:{icon:sa,color:"yellow"},performance:{icon:pn,color:"green"}},j=((n==null?void 0:n.recentActivities)||[]).map(C=>{const B=v[C.type]||v.assignment;return{...C,icon:B.icon,color:B.color,time:h(C.time)}}),N=(n==null?void 0:n.upcomingClasses)||[],S=(n==null?void 0:n.performanceMetrics)||[],T=[{id:1,label:"Mark Attendance",description:"Take today's attendance",icon:lv,color:"green"},{id:2,label:"Create Assignment",description:"New homework or project",icon:Dr,color:"blue"},{id:3,label:"Schedule Meeting",description:"With parents or staff",icon:ir,color:"purple"},{id:4,label:"Post Announcement",description:"Class updates or news",icon:sa,color:"yellow"},{id:5,label:"View Progress",description:"Student performance tracking",icon:ma,color:"purple"},{id:6,label:"Identify Weak Students",description:"AI-powered intervention",icon:Yi,color:"red"}],I=(n==null?void 0:n.topStudents)||[],_=(n==null?void 0:n.upcomingDeadlines)||[];return r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-6 mb-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[A(),", ",((M=n==null?void 0:n.teacher)==null?void 0:M.name)||"Teacher"]}),r.jsxs("p",{className:"text-blue-100",children:["Here's your teaching overview for ",f]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"relative",children:r.jsxs("button",{className:"bg-blue-500 hover:bg-blue-400 p-3 rounded-lg transition-colors",children:[r.jsx(sa,{className:"w-5 h-5"}),s>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:s})]})}),r.jsxs("div",{className:"bg-blue-500 px-4 py-2 rounded-lg flex flex-col items-center space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{className:"font-semibold",children:x})]}),r.jsx("span",{className:"text-xs text-blue-100",children:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),r.jsxs("button",{onClick:u,className:"bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg transition-colors flex items-center space-x-2",title:"Logout",children:[r.jsx(Vd,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden md:inline font-medium",children:"Logout"})]})]})]})}),i&&r.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:i}),l&&r.jsx("div",{className:"mb-6 rounded-lg border border-blue-200 bg-blue-50 px-4 py-3 text-sm text-blue-700",children:"Loading campus dashboard data..."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:b.map((C,B)=>{const P=C.icon,H=w[C.color]||w.blue;return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`p-3 rounded-xl ${H.bg}`,children:r.jsx(P,{className:`w-6 h-6 ${H.text}`})}),C.trend==="up"&&r.jsx(ds,{className:"w-5 h-5 text-green-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:C.label}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:C.value}),r.jsx("p",{className:`text-xs mt-2 ${C.trend==="up"?"text-green-600":"text-gray-500"}`,children:C.change})]})]},B)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[r.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-5 border-b border-gray-100",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(fr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Today's Schedule"]})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"space-y-4",children:[N.length===0&&r.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-gray-50 px-4 py-6 text-center text-sm text-gray-500",children:"No classes scheduled for today."}),N.map(C=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-gray-800",children:C.subject}),r.jsxs("p",{className:"text-sm text-gray-500",children:[C.class," - ",C.room]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium text-gray-800",children:C.time}),r.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full mt-1",children:C.status})]})]},C.id))]}),r.jsxs(sg,{to:"/teacher/class-routine",className:"w-full mt-4 flex items-center justify-center space-x-2 py-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[r.jsx("span",{children:"View Full Schedule"}),r.jsx(ra,{className:"w-4 h-4"})]})]})]}),r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(sa,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recent Activities"]}),r.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"space-y-4",children:[j.length===0&&r.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-gray-50 px-4 py-6 text-center text-sm text-gray-500",children:"No recent activity yet."}),j.map(C=>{const B=C.icon,P=w[C.color]||w.blue;return r.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:`p-2 rounded-lg ${P.bg}`,children:r.jsx(B,{className:`w-5 h-5 ${P.text}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-800 font-medium",children:C.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:C.time})]}),r.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:r.jsx(Es,{className:"w-4 h-4"})})]},C.id)})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[r.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-5 border-b border-gray-100",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(lv,{className:"w-5 h-5 mr-2 text-blue-600"}),"Quick Actions"]})}),r.jsx("div",{className:"p-4",children:r.jsx("div",{className:"grid grid-cols-2 gap-4",children:T.map(C=>{const B=C.icon,P=w[C.color]||w.blue,H=()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`p-3 rounded-xl ${P.bg} mb-3 group-hover:scale-110 transition-transform`,children:r.jsx(B,{className:`w-6 h-6 ${P.text}`})}),r.jsx("span",{className:"text-sm font-medium text-gray-800 text-center",children:C.label}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:C.description})]});return C.id===5?r.jsx(sg,{to:"/teacher/progress",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:r.jsx(H,{})},C.id):C.id===6?r.jsx(sg,{to:"/teacher/weak-students",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:r.jsx(H,{})},C.id):r.jsx("button",{className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:r.jsx(H,{})},C.id)})})})]}),r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(ma,{className:"w-5 h-5 mr-2 text-blue-600"}),"Performance Overview"]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("select",{className:"text-sm border border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"This Month"}),r.jsx("option",{children:"Last Month"}),r.jsx("option",{children:"This Semester"})]})})]}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Subject Averages"}),r.jsxs("div",{className:"space-y-4",children:[S.length===0&&r.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-gray-50 px-4 py-6 text-center text-sm text-gray-500",children:"Performance data will appear once assessments are graded."}),S.map((C,B)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:C.subject}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C.average}%`}})}),r.jsxs("span",{className:"text-sm font-medium text-gray-800 w-8",children:[C.average,"%"]}),C.trend==="up"?r.jsx(ds,{className:"w-4 h-4 text-green-500"}):C.trend==="down"?r.jsx(ds,{className:"w-4 h-4 text-red-500 transform rotate-180"}):null]})]},B))]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Top Students"}),r.jsxs("div",{className:"space-y-3",children:[I.length===0&&r.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 bg-gray-50 px-4 py-6 text-center text-sm text-gray-500",children:"Top students will appear after grading."}),I.map((C,B)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-800",children:C.name}),r.jsx("p",{className:"text-xs text-gray-500",children:C.grade})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[C.score,"%"]}),r.jsx("p",{className:"text-xs text-green-600",children:C.improvement})]})]},B))]})]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[r.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(ir,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upcoming Deadlines"]}),r.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),r.jsx("div",{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.length===0&&r.jsx("div",{className:"col-span-full text-sm text-gray-500",children:"No upcoming deadlines available for this campus."}),_.map((C,B)=>r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Upcoming"}),r.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:C.dueDate?new Date(C.dueDate).toLocaleDateString():"TBA"})]}),r.jsx("h3",{className:"font-medium text-blue-900",children:C.title}),r.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:[C.class||"-"," ",C.subject?` - ${C.subject}`:""]})]},`${C.title}-${B}`))]})})]})]})},Sq=[{id:1,subject:"Mathematics",title:"Introduction to Algebra",class:"Grade 8",section:"A",chapter:"Chapter 1",status:"Published",lastUpdated:"2 days ago",duration:"45 mins",objectives:["Understand basic algebraic concepts","Solve simple equations","Apply algebraic principles"],resources:["Textbook Chapter 1","Algebra worksheets","Online practice problems"],activities:["Group problem-solving","Equation practice","Real-world applications"]},{id:2,subject:"Physics",title:"Newton's Laws of Motion",class:"Grade 10",section:"B",chapter:"Chapter 3",status:"Draft",lastUpdated:"1 week ago",duration:"60 mins",objectives:["Explain Newton's three laws","Apply laws to real-world scenarios","Calculate force and motion"],resources:["Physics textbook","Motion simulation software","Experiment materials"],activities:["Demonstrations","Group experiments","Problem-solving sessions"]},{id:3,subject:"English Literature",title:"Shakespeare's Hamlet",class:"Grade 12",section:"A",chapter:"Act 1",status:"Published",lastUpdated:"3 days ago",duration:"90 mins",objectives:["Analyze character motivations","Understand Elizabethan context","Interpret key soliloquies"],resources:["Hamlet text","Historical context materials","Film adaptations"],activities:["Role reading","Group discussions","Literary analysis writing"]},{id:4,subject:"Chemistry",title:"Organic Compounds",class:"Grade 11",section:"C",chapter:"Chapter 5",status:"Published",lastUpdated:"5 days ago",duration:"75 mins",objectives:["Identify organic functional groups","Name simple organic compounds","Understand isomerism"],resources:["Molecular model kits","Textbook Chapter 5","Nomenclature guide"],activities:["Molecular modeling","Nomenclature practice","Group presentations"]},{id:5,subject:"History",title:"World War II",class:"Grade 9",section:"A",chapter:"Chapter 8",status:"Draft",lastUpdated:"1 day ago",duration:"50 mins",objectives:["Identify key events of WWII","Understand geopolitical causes","Analyze consequences"],resources:["Historical documents","Maps and timelines","Documentary clips"],activities:["Timeline creation","Document analysis","Debate on key decisions"]},{id:6,subject:"Biology",title:"Cell Structure",class:"Grade 10",section:"A",chapter:"Chapter 2",status:"Published",lastUpdated:"4 days ago",duration:"55 mins",objectives:["Identify cell organelles","Understand cellular functions","Compare plant and animal cells"],resources:["Microscopes and slides","Cell diagrams","Interactive cell models"],activities:["Microscope work","Cell drawing","Organelle function matching"]}],Cq=t=>t==="Published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",_q=t=>({Mathematics:"bg-blue-100 text-blue-800",Physics:"bg-purple-100 text-purple-800","English Literature":"bg-red-100 text-red-800",Chemistry:"bg-indigo-100 text-indigo-800",History:"bg-amber-100 text-amber-800",Biology:"bg-emerald-100 text-emerald-800"})[t]||"bg-gray-100 text-gray-800",gqe=()=>{const[t,e]=E.useState(Sq),[s,n]=E.useState(!1),[a,i]=E.useState("grid"),[o,l]=E.useState(""),[c,d]=E.useState("All Subjects"),[u,h]=E.useState("All Statuses"),[m,f]=E.useState({title:"",class:"",section:"",subject:"",chapter:"",date:"",duration:""}),[x,A]=E.useState(Sq[0]),[g,b]=E.useState(!0),[w,v]=E.useState(!1),[j,N]=E.useState({courseName:"",courseCode:"",description:"",duration:"",credits:"",department:"",prerequisites:""}),S=(D,G)=>{f(O=>({...O,[D]:G}))},T=(D,G)=>{N(O=>({...O,[D]:G}))},I=D=>{if(D.preventDefault(),!_)return;const G={id:Math.max(...t.map(O=>O.id),0)+1,title:m.title||`New ${m.subject} Lesson`,subject:m.subject,class:m.class,section:m.section,chapter:m.chapter,duration:m.duration||"45 mins",status:"Draft",lastUpdated:"Just now",date:m.date||new Date().toISOString().split("T")[0],objectives:["Learning objectives will be added here"],resources:["Teaching resources will be listed here"],activities:["Classroom activities will be detailed here"]};e(O=>[G,...O]),A(G),f({title:"",class:"",section:"",subject:"",chapter:"",date:"",duration:""}),n(!1)},_=m.class&&m.section&&m.subject&&m.chapter,M=async D=>{if(D.preventDefault(),!!C)try{const G=await fetch("/api/course/teacher/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),O=await G.json();G.ok?(N({courseName:"",courseCode:"",description:"",duration:"",credits:"",department:"",prerequisites:""}),v(!1),alert(`Course "${j.courseName}" created successfully!`)):alert(`Error: ${O.error}`)}catch(G){console.error("Error creating course:",G),alert("Failed to create course. Please try again.")}},C=j.courseName&&j.courseCode&&j.department,B=t.filter(D=>{const G=D.title.toLowerCase().includes(o.toLowerCase())||D.subject.toLowerCase().includes(o.toLowerCase()),O=c==="All Subjects"||D.subject===c,Q=u==="All Statuses"||D.status===u;return G&&O&&Q}),P=["All Subjects",...new Set(t.map(D=>D.subject))],H=["All Statuses","Published","Draft"];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Hr,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Lesson Plan Manager"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Create, manage and organize your lesson plans"})]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg px-3 py-1",children:[r.jsx(us,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Prof. Johnson"})]})})]})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>n(!s),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg flex items-center space-x-2 transition-colors shadow-sm",children:[r.jsx(vs,{className:"w-4 h-4"}),r.jsx("span",{children:"New Lesson Plan"}),r.jsx(ln,{className:"w-4 h-4"})]}),s&&r.jsxs("div",{className:"absolute left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-xl p-6 z-10 w-96",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Create New Lesson Plan"}),r.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ks,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),r.jsxs("select",{value:m.subject,onChange:D=>S("subject",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select Subject"}),P.filter(D=>D!=="All Subjects").map(D=>r.jsx("option",{value:D,children:D},D))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),r.jsx("input",{type:"text",placeholder:"Lesson title",value:m.title,onChange:D=>S("title",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),r.jsx("input",{type:"text",placeholder:"Grade level",value:m.class,onChange:D=>S("class",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),r.jsx("input",{type:"text",placeholder:"Section",value:m.section,onChange:D=>S("section",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chapter *"}),r.jsx("input",{type:"text",placeholder:"Chapter",value:m.chapter,onChange:D=>S("chapter",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),r.jsx("input",{type:"text",placeholder:"e.g., 45 mins",value:m.duration,onChange:D=>S("duration",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex space-x-3 pt-2",children:[r.jsx("button",{type:"submit",disabled:!_,className:`px-4 py-2 rounded-lg text-sm font-medium ${_?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Create Lesson Plan"}),r.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancel"})]})]})]})]}),r.jsxs("button",{onClick:()=>v(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg flex items-center space-x-2 transition-colors shadow-sm",children:[r.jsx(pa,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Course"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Fs,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search lesson plans...",className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-64",value:o,onChange:D=>l(D.target.value)})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Po,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm appearance-none",value:c,onChange:D=>d(D.target.value),children:P.map(D=>r.jsx("option",{children:D},D))})]}),r.jsx("div",{className:"relative",children:r.jsx("select",{className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:u,onChange:D=>h(D.target.value),children:H.map(D=>r.jsx("option",{children:D},D))})})]}),r.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 p-1 rounded-lg",children:[r.jsx("button",{onClick:()=>i("grid"),className:`p-2 rounded-lg ${a==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:r.jsx(PP,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>i("list"),className:`p-2 rounded-lg ${a==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:r.jsx(zv,{className:"w-4 h-4"})})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Plans"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.length})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(Dr,{className:"w-5 h-5 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.filter(D=>D.status==="Published").length})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(EN,{className:"w-5 h-5 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Drafts"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.filter(D=>D.status==="Draft").length})]}),r.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:r.jsx(Zi,{className:"w-5 h-5 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Subjects"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:P.length-1})]}),r.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:r.jsx(Hr,{className:"w-5 h-5 text-purple-600"})})]})})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsxs("div",{className:`${g?"lg:w-2/5":"w-full"} bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden`,children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[r.jsxs("h2",{className:"font-semibold text-gray-800",children:["Lesson Plans (",B.length,")"]}),r.jsx("button",{onClick:()=>b(!g),className:"lg:hidden text-blue-600 text-sm font-medium",children:g?"Hide Details":"Show Details"})]}),r.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 380px)"},children:B.length>0?r.jsx("div",{className:"divide-y divide-gray-200",children:B.map(D=>r.jsx("div",{className:`p-4 cursor-pointer transition-colors ${(x==null?void 0:x.id)===D.id?"bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>A(D),children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${_q(D.subject)}`,children:D.subject}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Cq(D.status)}`,children:D.status})]}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:D.title}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-3",children:[r.jsxs("span",{children:[D.class," - Section ",D.section]}),r.jsx("span",{children:""}),r.jsx("span",{children:D.chapter})]}),r.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400 space-x-3",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(fr,{className:"w-3 h-3 mr-1"}),D.duration]}),r.jsxs("span",{children:["Updated ",D.lastUpdated]})]})]}),r.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:r.jsx(th,{className:"w-4 h-4"})})]})},D.id))}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Dr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),r.jsx("h3",{className:"text-gray-500 font-medium",children:"No lesson plans found"}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Try adjusting your search or filters"})]})})]}),g&&r.jsxs("div",{className:"lg:w-3/5 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"p-5 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[r.jsx("h2",{className:"font-semibold text-gray-800",children:"Lesson Plan Details"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-600 rounded-lg hover:bg-blue-50",children:r.jsx(Zi,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-500 hover:text-green-600 rounded-lg hover:bg-green-50",children:r.jsx(bs,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-500 hover:text-purple-600 rounded-lg hover:bg-purple-50",children:r.jsx(Mue,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-500 hover:text-red-600 rounded-lg hover:bg-red-50",children:r.jsx(vn,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(100vh - 380px)"},children:x?r.jsxs("div",{children:[r.jsx("div",{className:"flex justify-between items-start mb-6",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Cq(x.status)}`,children:x.status}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_q(x.subject)}`,children:x.subject})]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Hr,{className:"w-4 h-4 mr-1"}),x.class," - Section ",x.section]}),r.jsx("span",{children:""}),r.jsx("span",{children:x.chapter}),r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(fr,{className:"w-4 h-4 mr-1"}),x.duration]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[r.jsx(EN,{className:"w-4 h-4 mr-2"}),"Learning Objectives"]}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-700",children:x.objectives.map((D,G)=>r.jsx("li",{children:D},G))})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[r.jsx(Dr,{className:"w-4 h-4 mr-2"}),"Teaching Resources"]}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:x.resources.map((D,G)=>r.jsx("li",{children:D},G))})]})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:[r.jsxs("h3",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[r.jsx(ir,{className:"w-4 h-4 mr-2"}),"Classroom Activities"]}),r.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-yellow-700",children:x.activities.map((D,G)=>r.jsx("li",{children:D},G))})]}),r.jsxs("div",{className:"text-xs text-gray-400 flex justify-between items-center",children:[r.jsxs("span",{children:["Last updated: ",x.lastUpdated]}),r.jsx("span",{children:"Created by: Prof. Johnson"})]})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[r.jsx(Dr,{className:"w-12 h-12 mb-3"}),r.jsx("p",{children:"Select a lesson plan to view details"})]})})]})]})]}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(pa,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Course"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new course with all required details"})]})]}),r.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 p-1",children:r.jsx(ks,{className:"w-6 h-6"})})]})}),r.jsxs("form",{onSubmit:M,className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Name *"}),r.jsx("input",{type:"text",placeholder:"e.g., Advanced Mathematics",value:j.courseName,onChange:D=>T("courseName",D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Code *"}),r.jsx("input",{type:"text",placeholder:"e.g., MATH401",value:j.courseCode,onChange:D=>T("courseCode",D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),r.jsxs("select",{value:j.department,onChange:D=>T("department",D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"",children:"Select Department"}),r.jsx("option",{value:"Mathematics",children:"Mathematics"}),r.jsx("option",{value:"Physics",children:"Physics"}),r.jsx("option",{value:"Chemistry",children:"Chemistry"}),r.jsx("option",{value:"Biology",children:"Biology"}),r.jsx("option",{value:"English",children:"English"}),r.jsx("option",{value:"History",children:"History"}),r.jsx("option",{value:"Computer Science",children:"Computer Science"}),r.jsx("option",{value:"Economics",children:"Economics"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Credits"}),r.jsx("input",{type:"number",placeholder:"e.g., 3",min:"1",max:"6",value:j.credits,onChange:D=>T("credits",D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),r.jsxs("select",{value:j.duration,onChange:D=>T("duration",D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Duration"}),r.jsx("option",{value:"1 Semester",children:"1 Semester"}),r.jsx("option",{value:"2 Semesters",children:"2 Semesters"}),r.jsx("option",{value:"1 Year",children:"1 Year"}),r.jsx("option",{value:"Summer Course",children:"Summer Course"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Description"}),r.jsx("textarea",{rows:"4",placeholder:"Provide a detailed description of the course objectives, content, and learning outcomes...",value:j.description,onChange:D=>T("description",D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prerequisites"}),r.jsx("input",{type:"text",placeholder:"e.g., MATH301, PHYS201 (separate multiple courses with commas)",value:j.prerequisites,onChange:D=>T("prerequisites",D.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:!C,className:`px-6 py-3 rounded-lg font-medium transition-colors ${C?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Create Course"})]})]})]})})]})},eae="eec_teacher_chat_v2",yT=[{id:"class-10a",name:"Class 10-A",type:"class",unread:2,lastMessage:"Yes, submit by 6 PM.",lastTime:Date.now()-34e5},{id:"parent-emma",name:"Emma's Parents",type:"parent",unread:0,lastMessage:"Can we reschedule the PTM?",lastTime:Date.now()-72e5},{id:"staff-math",name:"Math Department",type:"staff",unread:1,lastMessage:"Department meeting at 3 PM.",lastTime:Date.now()-54e5},{id:"class-9b",name:"Class 9-B",type:"class",unread:0,lastMessage:"Homework submitted",lastTime:Date.now()-864e5},{id:"parent-liam",name:"Liam's Father",type:"parent",unread:3,lastMessage:"About the science project...",lastTime:Date.now()-108e5}],vT={"class-10a":[{id:"m1",sender:"student",text:"Sir, is the assignment due today?",ts:Date.now()-36e5},{id:"m2",sender:"teacher",text:"Yes, submit by 6 PM.",ts:Date.now()-34e5}],"parent-emma":[{id:"m3",sender:"parent",text:"Can we reschedule the PTM?",ts:Date.now()-72e5}],"staff-math":[{id:"m4",sender:"staff",text:"Department meeting at 3 PM.",ts:Date.now()-54e5}],"class-9b":[{id:"m5",sender:"teacher",text:"Remember to submit your homework by Friday",ts:Date.now()-864e5},{id:"m6",sender:"student",text:"Homework submitted",ts:Date.now()-832e5}],"parent-liam":[{id:"m7",sender:"parent",text:"Hello, I wanted to discuss Liam's science project",ts:Date.now()-108e5},{id:"m8",sender:"parent",text:"He seems to be struggling with the research part",ts:Date.now()-107e5},{id:"m9",sender:"parent",text:"Could you provide some guidance?",ts:Date.now()-106e5}]};function bqe(){var t;try{const e=localStorage.getItem(eae);if(!e)return{conversations:yT,messages:vT};const s=JSON.parse(e);return{conversations:(t=s.conversations)!=null&&t.length?s.conversations:yT,messages:s.messages||vT}}catch{return{conversations:yT,messages:vT}}}function yqe(t){try{localStorage.setItem(eae,JSON.stringify(t))}catch{}}const vqe=({mine:t,text:e,ts:s,senderType:n})=>r.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:r.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 text-sm ${t?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[!t&&n!=="teacher"&&r.jsx("div",{className:"text-xs font-medium mb-1 opacity-80",children:n==="student"?"Student":n==="parent"?"Parent":"Staff"}),r.jsx("div",{className:"whitespace-pre-wrap",children:e}),r.jsx("div",{className:`text-xs mt-1 ${t?"text-blue-100":"text-gray-500"} text-right`,children:new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),wqe=({conversation:t,isActive:e,onClick:s,hasUnread:n})=>{const a=()=>{switch(t.type){case"class":return r.jsx(Hr,{className:"h-4 w-4 text-blue-600"});case"parent":return r.jsx(Yd,{className:"h-4 w-4 text-green-600"});case"staff":return r.jsx(Ar,{className:"h-4 w-4 text-purple-600"});default:return r.jsx(mn,{className:"h-4 w-4 text-gray-600"})}},i=()=>{switch(t.type){case"class":return"bg-blue-100 text-blue-800";case"parent":return"bg-green-100 text-green-800";case"staff":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("button",{onClick:s,className:`w-full text-left p-3 flex items-center gap-3 transition-colors ${e?"bg-blue-50":"hover:bg-gray-50"} border-b`,children:[r.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${e?"bg-blue-100":"bg-gray-100"}`,children:a()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-medium text-gray-800 truncate",children:t.name}),n&&r.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-500 text-white text-xs",children:t.unread})]}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:t.lastMessage}),r.jsxs("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i()}`,children:t.type}),r.jsx("span",{className:"text-xs text-gray-400",children:new Date(t.lastTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})},jqe=()=>{var x;const[{conversations:t,messages:e},s]=E.useState(bqe),[n,a]=E.useState(((x=t[0])==null?void 0:x.id)||null),[i,o]=E.useState(""),[l,c]=E.useState(""),d=E.useRef(null),u=E.useMemo(()=>e[n]||[],[e,n]),h=E.useMemo(()=>t.find(A=>A.id===n),[t,n]);E.useEffect(()=>{yqe({conversations:t,messages:e})},[t,e]),E.useEffect(()=>{n&&s(A=>({...A,conversations:A.conversations.map(g=>g.id===n?{...g,unread:0}:g)}))},[n]);const m=E.useMemo(()=>{const A=i.trim().toLowerCase();return A?t.filter(g=>g.name.toLowerCase().includes(A)||g.lastMessage.toLowerCase().includes(A)):t},[t,i]),f=()=>{const A=l.trim();if(!A||!n)return;const g={id:crypto.randomUUID(),sender:"teacher",text:A,ts:Date.now()};s(b=>({conversations:b.conversations.map(w=>w.id===n?{...w,lastMessage:A,lastTime:Date.now()}:w),messages:{...b.messages,[n]:[...b.messages[n]||[],g]}})),c("")};return r.jsxs("div",{className:"h-full min-h-screen bg-gray-50 flex",children:[r.jsxs("div",{className:"w-80 bg-white border-r flex flex-col h-screen",children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(mn,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-bold text-gray-800",children:"Teacher Chat"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Messages"})]})]}),r.jsx("button",{className:"h-8 w-8 rounded-full hover:bg-gray-100 flex items-center justify-center",children:r.jsx(th,{className:"h-5 w-5 text-gray-500"})})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[r.jsx(Fs,{className:"h-4 w-4 text-gray-500"}),r.jsx("input",{value:i,onChange:A=>o(A.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-500"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"px-3 py-2",children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider px-2 mb-1",children:"Conversations"}),m.map(A=>r.jsx(wqe,{conversation:A,isActive:n===A.id,onClick:()=>a(A.id),hasUnread:A.unread>0},A.id)),m.length===0&&r.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No conversations found"})]})}),r.jsx("div",{className:"p-4 border-t bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-200 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-blue-800",children:"JD"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"John Doe"})]}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Teacher"})]})})]}),r.jsx("div",{className:"flex-1 flex flex-col h-screen",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"px-6 py-4 border-b bg-white flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:h.type==="class"?r.jsx(Hr,{className:"h-5 w-5 text-blue-600"}):h.type==="parent"?r.jsx(Yd,{className:"h-5 w-5 text-green-600"}):r.jsx(Ar,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-gray-800",children:h.name}),r.jsx("div",{className:"text-xs text-gray-500 capitalize",children:h.type})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:r.jsx(ir,{className:"h-5 w-5 text-gray-600"})}),r.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:r.jsx(th,{className:"h-5 w-5 text-gray-600"})})]})]}),r.jsx("div",{ref:d,className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:u.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-center text-xs text-gray-500 mb-6",children:"Today"}),u.map(A=>r.jsx(vqe,{mine:A.sender==="teacher",senderType:A.sender,text:A.text,ts:A.ts},A.id))]}):r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-gray-500",children:[r.jsx(mn,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),r.jsx("p",{className:"font-medium",children:"No messages yet"}),r.jsx("p",{className:"text-sm mt-1",children:"Send a message to start the conversation"})]})})}),r.jsx("div",{className:"border-t bg-white p-4",children:r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsxs("div",{className:"flex-1 bg-gray-100 rounded-2xl flex items-end",children:[r.jsxs("div",{className:"flex items-center px-3 py-2",children:[r.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200",children:r.jsx(LP,{className:"h-4 w-4 text-gray-600"})}),r.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200 ml-1",children:r.jsx(ir,{className:"h-4 w-4 text-gray-600"})})]}),r.jsx("textarea",{rows:1,value:l,onChange:A=>c(A.target.value),onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),f())},placeholder:"Type your message...",className:"flex-1 resize-none bg-transparent px-0 py-3 text-sm focus:outline-none min-h-[44px] max-h-32"}),r.jsx("div",{className:"flex items-center px-3 py-2",children:r.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200",children:r.jsx(Uu,{className:"h-4 w-4 text-gray-600"})})})]}),r.jsx("button",{onClick:f,disabled:!l.trim(),className:"h-12 w-12 rounded-full bg-blue-600 text-white flex items-center justify-center hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(hc,{className:"h-5 w-5"})})]})})]}):r.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 p-6",children:r.jsxs("div",{className:"text-center max-w-md",children:[r.jsx(mn,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Welcome to Teacher Chat"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Select a conversation from the sidebar to start messaging with students, parents, or staff members."}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:r.jsx(Hr,{className:"h-5 w-5 text-blue-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Classes"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[r.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:r.jsx(Yd,{className:"h-5 w-5 text-green-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Parents"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[r.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:r.jsx(Ar,{className:"h-5 w-5 text-purple-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Staff"})]})]})]})})})]})},Nqe=()=>{var j,N,S,T,I,_,M,C,B;const[t,e]=E.useState([]),[s,n]=E.useState(null),[a,i]=E.useState(null),[o,l]=E.useState({grade:"",section:"",subject:""}),[c,d]=E.useState(""),[u,h]=E.useState(!0),[m,f]=E.useState("overview");E.useEffect(()=>{x(),A()},[o]);const x=async()=>{try{h(!0);const P=await fetch(`/api/progress/students?${new URLSearchParams(o)}`);if(P.ok){const H=await P.json();e(H)}else e(Eq)}catch(P){console.error("Error fetching students:",P),e(Eq)}finally{h(!1)}},A=async()=>{try{const P=await fetch(`/api/progress/analytics?${new URLSearchParams(o)}`);if(P.ok){const H=await P.json();n(H)}else n(kq)}catch(P){console.error("Error fetching analytics:",P),n(kq)}},g=t.filter(P=>{var H,D,G,O;return((D=(H=P.studentId)==null?void 0:H.name)==null?void 0:D.toLowerCase().includes(c.toLowerCase()))||((O=(G=P.studentId)==null?void 0:G.roll)==null?void 0:O.toString().includes(c))}),b=P=>({"A+":"text-green-600 bg-green-100",A:"text-green-600 bg-green-100","B+":"text-blue-600 bg-blue-100",B:"text-blue-600 bg-blue-100","C+":"text-yellow-600 bg-yellow-100",C:"text-yellow-600 bg-yellow-100",D:"text-orange-600 bg-orange-100",F:"text-red-600 bg-red-100"})[P]||"text-gray-600 bg-gray-100",w=P=>{switch(P){case"improving":return r.jsx(ds,{className:"w-4 h-4 text-green-500"});case"declining":return r.jsx(RP,{className:"w-4 h-4 text-red-500"});default:return r.jsx(Xde,{className:"w-4 h-4 text-gray-500"})}},v=P=>P>=90?"text-green-600":P>=80?"text-blue-600":P>=70?"text-yellow-600":P>=60?"text-orange-600":"text-red-600";return u?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading student progress..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-6 mb-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Progress Tracking"}),r.jsx("p",{className:"text-purple-100",children:"Monitor and analyze student performance across subjects"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("button",{className:"bg-purple-500 px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-purple-600 transition-colors",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export Report"})]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search students...",value:c,onChange:P=>d(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("select",{value:o.grade,onChange:P=>l({...o,grade:P.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Grades"}),r.jsx("option",{value:"9",children:"Grade 9"}),r.jsx("option",{value:"10",children:"Grade 10"}),r.jsx("option",{value:"11",children:"Grade 11"}),r.jsx("option",{value:"12",children:"Grade 12"})]}),r.jsxs("select",{value:o.section,onChange:P=>l({...o,section:P.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Sections"}),r.jsx("option",{value:"A",children:"Section A"}),r.jsx("option",{value:"B",children:"Section B"}),r.jsx("option",{value:"C",children:"Section C"})]}),r.jsxs("select",{value:o.subject,onChange:P=>l({...o,subject:P.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Subjects"}),r.jsx("option",{value:"Mathematics",children:"Mathematics"}),r.jsx("option",{value:"Physics",children:"Physics"}),r.jsx("option",{value:"Chemistry",children:"Chemistry"}),r.jsx("option",{value:"Biology",children:"Biology"})]})]})}),s&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-blue-100",children:r.jsx(Ar,{className:"w-6 h-6 text-blue-600"})}),r.jsx(ds,{className:"w-5 h-5 text-green-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:s.totalStudents})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-green-100",children:r.jsx(kn,{className:"w-6 h-6 text-green-600"})}),r.jsx(ds,{className:"w-5 h-5 text-green-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Average Score"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[s.averageScore,"%"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-yellow-100",children:r.jsx(ir,{className:"w-6 h-6 text-yellow-600"})}),r.jsx(ds,{className:"w-5 h-5 text-green-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Attendance Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[s.attendanceRate,"%"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-purple-100",children:r.jsx(pn,{className:"w-6 h-6 text-purple-600"})}),r.jsx(ds,{className:"w-5 h-5 text-green-500"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Improving Students"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:((j=s.improvementTrends)==null?void 0:j.improving)||0})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(ma,{className:"w-5 h-5 mr-2 text-blue-600"}),"Student Performance"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>f("overview"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="overview"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:"Overview"}),r.jsx("button",{onClick:()=>f("detailed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="detailed"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:"Detailed View"})]})]})}),r.jsx("div",{className:"p-6",children:m==="overview"?r.jsx("div",{className:"space-y-4",children:g.map(P=>{var D,G,O,Q,ee,q,Z;const H=((D=P.progressMetrics)==null?void 0:D.length)>0?Math.round(P.progressMetrics.reduce((F,z)=>F+z.averageScore,0)/P.progressMetrics.length):0;return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:((O=(G=P.studentId)==null?void 0:G.name)==null?void 0:O.charAt(0))||"S"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-800",children:((Q=P.studentId)==null?void 0:Q.name)||"Unknown"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",(ee=P.studentId)==null?void 0:ee.grade,"-",(q=P.studentId)==null?void 0:q.section,"  Roll ",(Z=P.studentId)==null?void 0:Z.roll]})]})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Overall Score"}),r.jsxs("p",{className:`font-bold ${v(H)}`,children:[H,"%"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Grade"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(P.overallGrade)}`,children:P.overallGrade})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Trend"}),r.jsx("div",{className:"flex justify-center",children:w(P.improvementTrend)})]}),r.jsxs("button",{onClick:()=>i(P),className:"text-blue-600 hover:text-blue-700 flex items-center space-x-1",children:[r.jsx(Es,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]})]})]},P._id)})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Student"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Mathematics"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Physics"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Chemistry"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Attendance"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Grade"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:g.map(P=>{var H,D,G,O,Q,ee,q,Z,F,z,V,W,ne,ie,be,ue,je,Be;return r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-semibold",children:((D=(H=P.studentId)==null?void 0:H.name)==null?void 0:D.charAt(0))||"S"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:((G=P.studentId)==null?void 0:G.name)||"Unknown"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Roll ",(O=P.studentId)==null?void 0:O.roll]})]})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`font-medium ${v(((ee=(Q=P.progressMetrics)==null?void 0:Q.find(oe=>oe.subject==="Mathematics"))==null?void 0:ee.averageScore)||0)}`,children:[((Z=(q=P.progressMetrics)==null?void 0:q.find(oe=>oe.subject==="Mathematics"))==null?void 0:Z.averageScore)||0,"%"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`font-medium ${v(((z=(F=P.progressMetrics)==null?void 0:F.find(oe=>oe.subject==="Physics"))==null?void 0:z.averageScore)||0)}`,children:[((W=(V=P.progressMetrics)==null?void 0:V.find(oe=>oe.subject==="Physics"))==null?void 0:W.averageScore)||0,"%"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:`font-medium ${v(((ie=(ne=P.progressMetrics)==null?void 0:ne.find(oe=>oe.subject==="Chemistry"))==null?void 0:ie.averageScore)||0)}`,children:[((ue=(be=P.progressMetrics)==null?void 0:be.find(oe=>oe.subject==="Chemistry"))==null?void 0:ue.averageScore)||0,"%"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("span",{className:"font-medium text-gray-700",children:[Math.round((((je=P.progressMetrics)==null?void 0:je.reduce((oe,lt)=>oe+lt.attendanceRate,0))||0)/(((Be=P.progressMetrics)==null?void 0:Be.length)||1)),"%"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(P.overallGrade)}`,children:P.overallGrade})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("button",{onClick:()=>i(P),className:"text-blue-600 hover:text-blue-700",children:r.jsx(Es,{className:"w-4 h-4"})})})]},P._id)})})]})})})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-xl font-semibold",children:((S=(N=a.studentId)==null?void 0:N.name)==null?void 0:S.charAt(0))||"S"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:(T=a.studentId)==null?void 0:T.name}),r.jsxs("p",{className:"text-gray-600",children:["Grade ",(I=a.studentId)==null?void 0:I.grade,"-",(_=a.studentId)==null?void 0:_.section,"  Roll ",(M=a.studentId)==null?void 0:M.roll]})]})]}),r.jsx("button",{onClick:()=>i(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Subject Performance"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(C=a.progressMetrics)==null?void 0:C.map((P,H)=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:P.subject}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Average Score"}),r.jsxs("span",{className:`font-medium ${v(P.averageScore)}`,children:[P.averageScore,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Assignments"}),r.jsxs("span",{className:"text-sm text-gray-800",children:[P.completedAssignments,"/",P.totalAssignments]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Attendance"}),r.jsxs("span",{className:"text-sm text-gray-800",children:[P.attendanceRate,"%"]})]})]})]},H))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Submissions"}),r.jsx("div",{className:"space-y-3",children:(B=a.submissions)==null?void 0:B.slice(0,5).map((P,H)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:r.jsx(Dr,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-800",children:["Assignment ",H+1]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Submitted ",new Date(P.submittedAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-bold ${v(P.score||0)}`,children:[P.score||0,"%"]}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${P.status==="graded"?"bg-green-100 text-green-800":P.status==="submitted"?"bg-blue-100 text-blue-800":P.status==="late"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:P.status})]})]},H))})]})]})]})})]})},Eq=[{_id:"1",studentId:{name:"Emma Johnson",grade:"10",section:"A",roll:1},overallGrade:"A+",improvementTrend:"improving",progressMetrics:[{subject:"Mathematics",averageScore:95,attendanceRate:98,totalAssignments:10,completedAssignments:10},{subject:"Physics",averageScore:92,attendanceRate:96,totalAssignments:8,completedAssignments:8},{subject:"Chemistry",averageScore:88,attendanceRate:94,totalAssignments:9,completedAssignments:8}],submissions:[{submittedAt:"2024-01-15",score:95,status:"graded"},{submittedAt:"2024-01-10",score:92,status:"graded"}]},{_id:"2",studentId:{name:"Michael Brown",grade:"11",section:"B",roll:5},overallGrade:"A",improvementTrend:"stable",progressMetrics:[{subject:"Mathematics",averageScore:87,attendanceRate:92,totalAssignments:10,completedAssignments:9},{subject:"Physics",averageScore:89,attendanceRate:94,totalAssignments:8,completedAssignments:7},{subject:"Chemistry",averageScore:85,attendanceRate:90,totalAssignments:9,completedAssignments:9}],submissions:[{submittedAt:"2024-01-14",score:87,status:"graded"},{submittedAt:"2024-01-09",score:89,status:"graded"}]}],kq={totalStudents:45,averageScore:87,attendanceRate:94,improvementTrends:{improving:15,stable:22,declining:8},gradeDistribution:{"A+":8,A:12,"B+":10,B:8,"C+":4,C:2,D:1,F:0}},Sqe=()=>{var v,j,N,S,T,I;const t=qn(),[e,s]=E.useState([]),[n,a]=E.useState(null),[i,o]=E.useState({grade:"",section:"",subject:"",interventionLevel:""}),[l,c]=E.useState(!0),[d,u]=E.useState(!1),[h,m]=E.useState("");E.useEffect(()=>{f()},[i]);const f=async()=>{try{c(!0);const _=await fetch(`/api/ai-learning/weak-students?${new URLSearchParams(i)}`);if(_.ok){const M=await _.json();s(M)}else s(Tq)}catch(_){console.error("Error fetching weak students:",_),s(Tq)}finally{c(!1)}},x=async(_,M)=>{u(!0);try{const C=await fetch(`/api/ai-learning/analyze-weakness/${_}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:M})});if(C.ok){const B=await C.json();alert(`Analysis completed! Intervention level: ${B.interventionLevel}`),f()}else throw new Error("Failed to analyze student")}catch(C){console.error("Error analyzing student:",C),alert("Failed to analyze student. Please try again.")}finally{u(!1)}},A=async(_,M,C,B)=>{try{const P=await fetch(`/api/ai-learning/generate-learning-path/${_}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:M,weakAreas:C,currentLevel:B})});if(P.ok)await P.json(),alert("AI Learning Path generated successfully!"),a(H=>({...H,hasAIPath:!0}));else throw new Error("Failed to generate learning path")}catch(P){console.error("Error generating learning path:",P),alert("Failed to generate learning path. Please try again.")}},g=_=>{switch(_){case"critical":return"text-red-600 bg-red-100 border-red-200";case"high":return"text-orange-600 bg-orange-100 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-blue-600 bg-blue-100 border-blue-200"}},b=_=>{switch(_){case"critical":return r.jsx(ia,{className:"w-4 h-4"});case"high":return r.jsx(br,{className:"w-4 h-4"});case"medium":return r.jsx(Yi,{className:"w-4 h-4"});default:return r.jsx(Fr,{className:"w-4 h-4"})}},w=e.filter(_=>{var M,C,B,P;return((C=(M=_.studentId)==null?void 0:M.name)==null?void 0:C.toLowerCase().includes(h.toLowerCase()))||((P=(B=_.studentId)==null?void 0:B.roll)==null?void 0:P.toString().includes(h))});return l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Analyzing weak students..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 rounded-2xl p-6 mb-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[r.jsx(Yi,{className:"w-8 h-8 mr-3"}),"Weak Student Identification"]}),r.jsx("p",{className:"text-red-100",children:"Identify students needing intervention and provide personalized AI learning"})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("div",{className:"bg-red-500 px-3 py-1 rounded-full text-sm",children:[w.length," students need attention"]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search students...",value:h,onChange:_=>m(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),r.jsxs("select",{value:i.grade,onChange:_=>o({...i,grade:_.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[r.jsx("option",{value:"",children:"All Grades"}),r.jsx("option",{value:"9",children:"Grade 9"}),r.jsx("option",{value:"10",children:"Grade 10"}),r.jsx("option",{value:"11",children:"Grade 11"}),r.jsx("option",{value:"12",children:"Grade 12"})]}),r.jsxs("select",{value:i.section,onChange:_=>o({...i,section:_.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[r.jsx("option",{value:"",children:"All Sections"}),r.jsx("option",{value:"A",children:"Section A"}),r.jsx("option",{value:"B",children:"Section B"}),r.jsx("option",{value:"C",children:"Section C"})]}),r.jsxs("select",{value:i.subject,onChange:_=>o({...i,subject:_.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[r.jsx("option",{value:"",children:"All Subjects"}),r.jsx("option",{value:"Mathematics",children:"Mathematics"}),r.jsx("option",{value:"Physics",children:"Physics"}),r.jsx("option",{value:"Chemistry",children:"Chemistry"}),r.jsx("option",{value:"Biology",children:"Biology"})]}),r.jsxs("select",{value:i.interventionLevel,onChange:_=>o({...i,interventionLevel:_.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[r.jsx("option",{value:"",children:"All Levels"}),r.jsx("option",{value:"critical",children:"Critical"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-red-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Critical Students"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.filter(_=>_.interventionLevel==="critical").length})]}),r.jsx(ia,{className:"w-8 h-8 text-red-500"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"High Priority"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:w.filter(_=>_.interventionLevel==="high").length})]}),r.jsx(br,{className:"w-8 h-8 text-orange-500"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-yellow-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Medium Priority"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:w.filter(_=>_.interventionLevel==="medium").length})]}),r.jsx(Yi,{className:"w-8 h-8 text-yellow-500"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"With AI Paths"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.filter(_=>_.hasAIPath).length})]}),r.jsx(Vs,{className:"w-8 h-8 text-blue-500"})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(Ar,{className:"w-5 h-5 mr-2 text-red-600"}),"Students Needing Intervention"]})}),r.jsx("div",{className:"p-6",children:w.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Fr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Great News!"}),r.jsx("p",{className:"text-gray-600",children:"No students currently need immediate intervention."})]}):r.jsx("div",{className:"space-y-4",children:w.map(_=>{var M,C,B,P,H,D,G;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white font-semibold",children:((C=(M=_.studentId)==null?void 0:M.name)==null?void 0:C.charAt(0))||"S"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:((B=_.studentId)==null?void 0:B.name)||"Unknown"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",(P=_.studentId)==null?void 0:P.grade,"-",(H=_.studentId)==null?void 0:H.section,"  Roll ",(D=_.studentId)==null?void 0:D.roll]})]})]}),r.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium border flex items-center space-x-2 ${g(_.interventionLevel)}`,children:[b(_.interventionLevel),r.jsx("span",{className:"capitalize",children:_.interventionLevel})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(kn,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Consistency Score"})]}),r.jsxs("p",{className:"text-lg font-bold text-gray-800",children:[_.consistencyScore||0,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(Hr,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Focus Subject"})]}),r.jsx("p",{className:"font-medium text-gray-800",children:_.focusSubject||"General"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(RP,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weak Areas"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:((G=_.weakAreas)==null?void 0:G.slice(0,2).join(", "))||"Analysis needed"})]})]}),_.weakAreas&&_.weakAreas.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Identified Weak Areas:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:_.weakAreas.map((O,Q)=>r.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs",children:O},Q))})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsxs("button",{onClick:()=>x(_.studentId._id,_.focusSubject||"Mathematics"),disabled:d,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:bg-yellow-400 transition-colors flex items-center space-x-2 text-sm",children:[r.jsx(ma,{className:"w-4 h-4"}),r.jsx("span",{children:d?"Analyzing...":"Re-analyze"})]}),r.jsxs("button",{onClick:()=>A(_.studentId._id,_.focusSubject||"Mathematics",_.weakAreas||[],"basic"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[r.jsx(Vs,{className:"w-4 h-4"}),r.jsx("span",{children:"Generate AI Learning Path"})]}),r.jsxs("button",{onClick:()=>a(_),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 text-sm",children:[r.jsx(ra,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]}),_.hasAIPath&&r.jsxs("button",{onClick:()=>t(`/teachers/ai-learning/${_.studentId._id}/${_.focusSubject||"Mathematics"}`),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 text-sm",children:[r.jsx(Vs,{className:"w-4 h-4"}),r.jsx("span",{children:"View AI Path"})]})]})]},_._id)})})})]}),n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white text-xl font-semibold",children:((j=(v=n.studentId)==null?void 0:v.name)==null?void 0:j.charAt(0))||"S"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:(N=n.studentId)==null?void 0:N.name}),r.jsxs("p",{className:"text-gray-600",children:["Grade ",(S=n.studentId)==null?void 0:S.grade,"-",(T=n.studentId)==null?void 0:T.section,"  Roll ",(I=n.studentId)==null?void 0:I.roll]}),r.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium mt-2 ${g(n.interventionLevel)}`,children:[b(n.interventionLevel),r.jsxs("span",{className:"capitalize",children:[n.interventionLevel," Intervention Needed"]})]})]})]}),r.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(Yi,{className:"w-5 h-5 mr-2 text-red-600"}),"Weakness Analysis"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Consistency Score"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-1 bg-red-200 rounded-full h-3",children:r.jsx("div",{className:"bg-red-600 h-3 rounded-full",style:{width:`${n.consistencyScore||0}%`}})}),r.jsxs("span",{className:"font-bold text-red-800",children:[n.consistencyScore||0,"%"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Weak Areas"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(n.weakAreas||[]).map((_,M)=>r.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:_},M))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Recommended Topics"}),r.jsx("div",{className:"space-y-2",children:(n.recommendedTopics||[]).map((_,M)=>r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[r.jsx(Z1,{className:"w-4 h-4 text-yellow-500"}),r.jsx("span",{children:_})]},M))})]})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx(Vs,{className:"w-5 h-5 mr-2 text-blue-600"}),"AI Learning Path"]}),n.hasAIPath?r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-blue-800 font-medium",children:"Learning Path Active"}),r.jsx(Fr,{className:"w-5 h-5 text-green-500"})]}),r.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Personalized learning path has been generated based on weakness analysis."}),r.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Learning Path"})]}):r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[r.jsx(Vs,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-600 mb-3",children:"No AI learning path generated yet"}),r.jsx("button",{onClick:()=>A(n.studentId._id,n.focusSubject||"Mathematics",n.weakAreas||[],"basic"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Generate AI Learning Path"})]})]})]})})]})})]})},Tq=[{_id:"1",studentId:{_id:"student1",name:"Alex Thompson",grade:"10",section:"A",roll:15},interventionLevel:"critical",consistencyScore:25,focusSubject:"Mathematics",weakAreas:["Basic Concepts","Problem Solving","Consistency in Performance"],recommendedTopics:["Number Systems","Basic Operations","Word Problems"],hasAIPath:!1},{_id:"2",studentId:{_id:"student2",name:"Sarah Wilson",grade:"11",section:"B",roll:8},interventionLevel:"high",consistencyScore:45,focusSubject:"Physics",weakAreas:["Conceptual Understanding","Formula Application"],recommendedTopics:["Physics Fundamentals","Laws of Motion"],hasAIPath:!0},{_id:"3",studentId:{_id:"student3",name:"Mike Johnson",grade:"9",section:"C",roll:22},interventionLevel:"medium",consistencyScore:55,focusSubject:"Chemistry",weakAreas:["Chemical Equations","Basic Concepts"],recommendedTopics:["Balancing Equations","Reaction Types"],hasAIPath:!1}],Cqe=()=>{var w,v,j,N;const{studentId:t,subject:e}=tX(),s=qn(),[n,a]=E.useState(null),[i,o]=E.useState(null),[l,c]=E.useState(!0),[d,u]=E.useState(null),[h,m]=E.useState(!1);E.useEffect(()=>{t&&e&&f()},[t,e]);const f=async()=>{try{c(!0);const S=await fetch(`/api/ai-learning/learning-path/${t}/${e}`);if(S.ok){const T=await S.json();a(T.learningPath),o(T.student)}else a(Mq),o(Bq)}catch(S){console.error("Error fetching learning path:",S),a(Mq),o(Bq)}finally{c(!1)}},x=async(S,T)=>{m(!0);try{if((await fetch(`/api/ai-learning/update-progress/${t}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({topicCompleted:T,resourceCompleted:!0,progressPercentage:Math.min(100,n.progress+10)})})).ok){a(M=>({...M,progress:Math.min(100,M.progress+10),completedTopics:[...M.completedTopics||[],T].filter((C,B,P)=>P.indexOf(C)===B),lastAccessed:new Date}));const _=[...n.recommendedResources];_[S]={..._[S],completed:!0},a(M=>({...M,recommendedResources:_})),alert("Great job! Resource marked as completed.")}else throw new Error("Failed to update progress")}catch(I){console.error("Error updating progress:",I),alert("Failed to update progress. Please try again.")}finally{m(!1)}},A=S=>{switch(S){case"video":return r.jsx(ix,{className:"w-5 h-5"});case"article":return r.jsx(Dr,{className:"w-5 h-5"});case"practice":return r.jsx(kn,{className:"w-5 h-5"});case"quiz":return r.jsx(Sce,{className:"w-5 h-5"});case"interactive":return r.jsx(rh,{className:"w-5 h-5"});default:return r.jsx(Hr,{className:"w-5 h-5"})}},g=S=>{switch(S){case"video":return"text-red-600 bg-red-100";case"article":return"text-blue-600 bg-blue-100";case"practice":return"text-green-600 bg-green-100";case"quiz":return"text-purple-600 bg-purple-100";case"interactive":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},b=S=>{switch(S){case"basic":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-blue-600 bg-blue-100"}};return l?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vs,{className:"w-16 h-16 text-blue-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading AI Learning Path..."})]})}):n?r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>s("/teachers/weak-students"),className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[r.jsx(ru,{className:"w-5 h-5 mr-1"}),"Back to Weak Students"]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[r.jsx(Vs,{className:"w-8 h-8 mr-3"}),"AI Learning Path"]}),r.jsxs("p",{className:"text-blue-100",children:["Personalized learning journey for ",i==null?void 0:i.name]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[r.jsxs("span",{className:"bg-blue-500 px-3 py-1 rounded-full text-sm",children:["Grade ",i==null?void 0:i.grade,"-",i==null?void 0:i.section]}),r.jsxs("span",{className:"bg-purple-500 px-3 py-1 rounded-full text-sm",children:["Subject: ",e]})]})]}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsxs("div",{className:"bg-blue-500 px-4 py-2 rounded-lg flex items-center space-x-2",children:[r.jsx(Fl,{className:"w-4 h-4"}),r.jsxs("span",{children:[n.progress,"% Complete"]})]})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-3 rounded-xl bg-blue-100",children:r.jsx(ma,{className:"w-6 h-6 text-blue-600"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Overall Progress"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[n.progress,"%"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${n.progress}%`}})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-3 rounded-xl bg-green-100",children:r.jsx(Fr,{className:"w-6 h-6 text-green-600"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Completed Topics"}),r.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:((w=n.completedTopics)==null?void 0:w.length)||0})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-3 rounded-xl bg-purple-100",children:r.jsx(Hr,{className:"w-6 h-6 text-purple-600"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Resources"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:((v=n.recommendedResources)==null?void 0:v.length)||0})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"p-3 rounded-xl bg-yellow-100",children:r.jsx(fr,{className:"w-6 h-6 text-yellow-600"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Est. Time"}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:[((j=n.recommendedResources)==null?void 0:j.reduce((S,T)=>S+(T.estimatedTime||0),0))||0,"m"]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(kn,{className:"w-5 h-5 mr-2 text-green-600"}),"Current Focus: ",n.currentTopic]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 border-l-4 border-green-500",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Z1,{className:"w-6 h-6 text-green-600 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:"Learning Objective"}),r.jsxs("p",{className:"text-gray-600 text-sm",children:["Focus on mastering ",n.currentTopic," through structured learning resources. Complete the activities in order for optimal understanding."]})]})]})})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[r.jsx(Vs,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recommended Learning Resources"]}),r.jsxs("button",{className:"text-blue-600 hover:text-blue-700 flex items-center space-x-2 text-sm",children:[r.jsx(oh,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh Path"})]})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"space-y-4",children:(N=n.recommendedResources)==null?void 0:N.map((S,T)=>r.jsxs("div",{className:`border rounded-lg p-4 transition-all ${S.completed?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:shadow-md"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${g(S.type)}`,children:A(S.type)}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-800",children:S.title}),r.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(S.type)}`,children:S.type}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(S.difficulty)}`,children:S.difficulty}),r.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[r.jsx(fr,{className:"w-3 h-3 mr-1"}),S.estimatedTime,"min"]})]})]})]}),S.completed?r.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[r.jsx(Fr,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}):r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>u(S),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[r.jsx(Pi,{className:"w-4 h-4"}),r.jsx("span",{children:"Start"})]}),r.jsx("button",{onClick:()=>x(T,S.title),disabled:h,className:"px-4 py-2 border border-green-600 text-green-600 rounded-lg hover:bg-green-50 disabled:opacity-50 transition-colors text-sm",children:h?"Marking...":"Mark Complete"})]})]}),!S.completed&&r.jsx("div",{className:"ml-11",children:r.jsx("p",{className:"text-sm text-gray-600",children:"This resource will help you understand the key concepts. Take your time and practice the examples provided."})})]},T))}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{children:r.jsx("p",{className:"text-sm text-gray-600",children:"Complete all resources to move to the next topic"})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{children:"Export Progress"})]}),r.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${n.progress===100?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:n.progress<100,children:[r.jsx(Fl,{className:"w-4 h-4"}),r.jsx("span",{children:"Complete Path"})]})]})]})})]})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${g(d.type)}`,children:A(d.type)}),r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d.title})]}),r.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:`w-16 h-16 mx-auto rounded-full ${g(d.type)} flex items-center justify-center mb-4`,children:A(d.type)}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Start Learning?"}),r.jsxs("p",{className:"text-gray-600 mb-4",children:["This ",d.type," will take approximately ",d.estimatedTime," minutes to complete."]}),r.jsx("div",{className:"flex justify-center space-x-2 mb-6",children:r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${b(d.difficulty)}`,children:[d.difficulty," level"]})})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-sm text-gray-600",children:`Click "Open Resource" to access the learning material. Once you've completed it, return here and mark it as complete to update your progress.`})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("button",{onClick:()=>{window.open(d.url||"#","_blank")},className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(vg,{className:"w-5 h-5"}),r.jsx("span",{children:"Open Resource"})]}),r.jsx("button",{onClick:()=>u(null),className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Learning Path Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an AI learning path first from the weak student identification page."}),r.jsx("button",{onClick:()=>s("/teachers/weak-students"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Go to Weak Students"})]})})},Bq={name:"Alex Thompson",grade:"10",section:"A",roll:15},Mq={subject:"Mathematics",currentTopic:"Basic Algebra",completedTopics:["Number Systems"],recommendedResources:[{title:"Introduction to Algebra",type:"video",url:"/learning/math/intro-algebra",difficulty:"basic",estimatedTime:25,completed:!1},{title:"Solving Linear Equations",type:"interactive",url:"/learning/math/linear-equations",difficulty:"basic",estimatedTime:35,completed:!1},{title:"Algebra Practice Problems",type:"practice",url:"/learning/math/algebra-practice",difficulty:"intermediate",estimatedTime:45,completed:!1},{title:"Algebra Quiz",type:"quiz",url:"/learning/math/algebra-quiz",difficulty:"basic",estimatedTime:20,completed:!1}],progress:25,createdAt:new Date,lastAccessed:new Date},_qe=()=>r.jsx("div",{className:"min-h-screen bg-blue-100 p-8",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Teachers Portal Test"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"If you can see this page, the basic routing is working!"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Status:"})," Portal is loading correctly"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",new Date().toLocaleString()]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Route:"})," /teachers/test"]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("a",{href:"/teachers",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Go to Full Teachers Portal"})})]})}),Eqe=()=>{const[t,e]=E.useState("dashboard"),[s]=E.useState({studentsHelped:156,quizzesCreated:43,flashcardsCreated:67,averageEngagement:94}),n=[{id:"dashboard",name:"Dashboard",icon:ma},{id:"quiz-creator",name:"Quiz Creator",icon:kn},{id:"content-summarizer",name:"Content Summarizer",icon:Vu},{id:"flashcard-generator",name:"Flashcard Generator",icon:fs},{id:"tryout-generator",name:"Tryout Generator",icon:Dr},{id:"student-analyzer",name:"Student Analyzer",icon:Ar},{id:"teaching-assistant",name:"AI Assistant",icon:dX}],a=()=>{switch(t){case"quiz-creator":return r.jsx(Tqe,{});case"content-summarizer":return r.jsx(Bqe,{});case"flashcard-generator":return r.jsx(Pqe,{});case"tryout-generator":return r.jsx(Iqe,{});case"student-analyzer":return r.jsx(Mqe,{});case"teaching-assistant":return r.jsx(Fqe,{});default:return r.jsx(kqe,{onNavigate:e})}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-indigo-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center",children:r.jsx(Vs,{className:"h-8 w-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"AI Powered Teaching"}),r.jsx("p",{className:"text-gray-600",children:"Intelligent tools to enhance your teaching experience"})]})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[s.averageEngagement,"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Student Engagement "})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-blue-500 rounded-lg flex items-center justify-center",children:r.jsx(Ar,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-700",children:s.studentsHelped}),r.jsx("div",{className:"text-sm text-blue-600",children:"Students Helped"})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-green-500 rounded-lg flex items-center justify-center",children:r.jsx(fs,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-green-700",children:s.flashcardsCreated}),r.jsx("div",{className:"text-sm text-green-600",children:"Flashcards Created"})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-xl",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-purple-500 rounded-lg flex items-center justify-center",children:r.jsx(kn,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-700",children:s.quizzesCreated}),r.jsx("div",{className:"text-sm text-purple-600",children:"Quizzes Created"})]})]})}),r.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-xl",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 bg-yellow-500 rounded-lg flex items-center justify-center",children:r.jsx(ds,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:"4.9"}),r.jsx("div",{className:"text-sm text-yellow-600",children:"AI Rating"})]})]})})]})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-indigo-100 overflow-hidden",children:r.jsx("div",{className:"flex overflow-x-auto",children:n.map(i=>r.jsxs("button",{onClick:()=>e(i.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${t===i.id?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(i.icon,{className:"h-4 w-4"}),r.jsx("span",{children:i.name})]},i.id))})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-indigo-100",children:a()})]})})},kqe=({onNavigate:t})=>{const e=[{title:"Create Smart Quiz",description:"Generate adaptive quizzes",icon:kn,color:"bg-green-500",action:"quiz-creator"},{title:"Generate Flashcards",description:"Interactive learning flashcards",icon:fs,color:"bg-yellow-500",action:"flashcard-generator"},{title:"Create Tryouts",description:"Multi-format assessment tests",icon:Dr,color:"bg-indigo-500",action:"tryout-generator"},{title:"Summarize Content",description:"AI-powered content summaries",icon:Vu,color:"bg-purple-500",action:"content-summarizer"},{title:"Analyze Students",description:"Get insights on student performance",icon:Ar,color:"bg-orange-500",action:"student-analyzer"}],s=[{type:"summary",title:"Quadratic Equations - Key Concepts",subject:"Mathematics",timestamp:"2 hours ago",status:"completed"},{type:"flashcards",title:"Chemistry Periodic Table Cards",subject:"Chemistry",timestamp:"4 hours ago",status:"completed"},{type:"tryout",title:"History World War I Assessment",subject:"History",timestamp:"6 hours ago",status:"completed"},{type:"quiz",title:"Physics Motion Quiz",subject:"Physics",timestamp:"1 day ago",status:"completed"},{type:"summary",title:"Cell Biology Overview",subject:"Biology",timestamp:"2 days ago",status:"completed"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(rh,{className:"h-5 w-5 text-yellow-500"}),"Quick Actions"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((n,a)=>r.jsxs("button",{onClick:()=>t&&t(n.action),className:"p-6 rounded-xl border-2 border-gray-100 hover:border-indigo-200 hover:shadow-lg transition-all duration-200 group text-left",children:[r.jsx("div",{className:`h-12 w-12 ${n.color} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:r.jsx(n.icon,{className:"h-6 w-6 text-white"})}),r.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:n.title}),r.jsx("p",{className:"text-sm text-gray-600",children:n.description})]},a))})]}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[r.jsx(fr,{className:"h-5 w-5 text-green-500"}),"Recent AI Generations"]}),r.jsx("div",{className:"space-y-3",children:s.map((n,a)=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"h-10 w-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:[n.type==="quiz"&&r.jsx(kn,{className:"h-5 w-5 text-indigo-600"}),n.type==="flashcards"&&r.jsx(fs,{className:"h-5 w-5 text-indigo-600"}),n.type==="tryout"&&r.jsx(Dr,{className:"h-5 w-5 text-indigo-600"}),n.type==="summary"&&r.jsx(Vu,{className:"h-5 w-5 text-indigo-600"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-800",children:n.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:[n.subject,"  ",n.timestamp]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:n.status}),r.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Es,{className:"h-4 w-4 text-gray-500"})})]})]},a))})]})]})},Tqe=()=>{const[t,e]=E.useState({subject:"",topic:"",grade:"",questionCount:"10",difficulty:"medium",questionTypes:["multiple-choice"],timeLimit:"30"}),[s,n]=E.useState(null),[a,i]=E.useState(!1),o=async()=>{!t.subject||!t.topic||(i(!0),setTimeout(()=>{const l={title:`${t.topic} Quiz - Grade ${t.grade}`,subject:t.subject,difficulty:t.difficulty,timeLimit:t.timeLimit,questions:Array.from({length:parseInt(t.questionCount)},(c,d)=>({id:d+1,question:`Sample question ${d+1} about ${t.topic}`,type:t.questionTypes[0],options:t.questionTypes[0]==="multiple-choice"?["Option A","Option B","Option C","Option D"]:null,correct:t.questionTypes[0]==="multiple-choice"?0:"Sample answer",explanation:"This is the explanation for the correct answer."}))};n(l),i(!1)},2e3))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(kn,{className:"h-6 w-6 text-green-500"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"AI Quiz Creator"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsxs("select",{value:t.subject,onChange:l=>e({...t,subject:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"",children:"Select Subject"}),r.jsx("option",{value:"mathematics",children:"Mathematics"}),r.jsx("option",{value:"physics",children:"Physics"}),r.jsx("option",{value:"chemistry",children:"Chemistry"}),r.jsx("option",{value:"biology",children:"Biology"}),r.jsx("option",{value:"english",children:"English"}),r.jsx("option",{value:"history",children:"History"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),r.jsx("input",{type:"text",value:t.topic,onChange:l=>e({...t,topic:l.target.value}),placeholder:"Enter the quiz topic",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),r.jsxs("select",{value:t.grade,onChange:l=>e({...t,grade:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((l,c)=>r.jsxs("option",{value:c+1,children:["Grade ",c+1]},c))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Questions"}),r.jsxs("select",{value:t.questionCount,onChange:l=>e({...t,questionCount:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"5",children:"5 Questions"}),r.jsx("option",{value:"10",children:"10 Questions"}),r.jsx("option",{value:"15",children:"15 Questions"}),r.jsx("option",{value:"20",children:"20 Questions"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),r.jsxs("select",{value:t.difficulty,onChange:l=>e({...t,difficulty:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit (minutes)"}),r.jsx("input",{type:"number",value:t.timeLimit,onChange:l=>e({...t,timeLimit:l.target.value}),min:"5",max:"120",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),r.jsx("button",{onClick:o,disabled:a||!t.subject||!t.topic,className:"w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Quiz..."]}):r.jsxs(r.Fragment,{children:[r.jsx(kn,{className:"h-4 w-4"}),"Generate Quiz"]})})]}),r.jsx("div",{children:s?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s.title}),r.jsxs("p",{className:"text-gray-600",children:[s.questions.length," questions  ",s.timeLimit," minutes"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:r.jsx(bs,{className:"h-4 w-4"})}),r.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:r.jsx(HA,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Quiz Settings"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-green-700",children:"Subject:"})," ",s.subject]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-green-700",children:"Difficulty:"})," ",s.difficulty]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-green-700",children:"Time Limit:"})," ",s.timeLimit," min"]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-green-700",children:"Questions:"})," ",s.questions.length]})]})]}),r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:"Preview Questions"}),s.questions.slice(0,3).map((l,c)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("h5",{className:"font-medium text-gray-800 mb-2",children:["Question ",l.id,": ",l.question]}),l.options&&r.jsx("div",{className:"space-y-1",children:l.options.map((d,u)=>r.jsxs("div",{className:`text-sm p-2 rounded ${u===l.correct?"bg-green-100 text-green-800":"text-gray-600"}`,children:[String.fromCharCode(65+u),". ",d,u===l.correct&&r.jsx(Fr,{className:"h-4 w-4 inline ml-2"})]},u))}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:l.explanation})]},c)),s.questions.length>3&&r.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["+",s.questions.length-3," more questions..."]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(kn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Configure your quiz settings to generate questions"})]})})})]})]})},Bqe=()=>{var f;const[t,e]=E.useState({subject:"",topic:"",grade:"",summaryType:"overview",length:"medium",inputText:""}),[s,n]=E.useState(""),[a,i]=E.useState(!1),[o,l]=E.useState(!1),c=[{value:"overview",label:"Topic Overview",description:"General introduction to the topic"},{value:"key-points",label:"Key Points",description:"Main concepts and important details"},{value:"study-guide",label:"Study Guide",description:"Structured learning material"},{value:"revision",label:"Revision Notes",description:"Quick review material"}],d=[{value:"short",label:"Short",description:"1-2 paragraphs"},{value:"medium",label:"Medium",description:"3-4 paragraphs"},{value:"detailed",label:"Detailed",description:"5+ paragraphs"}],u=async()=>{t.topic&&(i(!0),setTimeout(()=>{const x=`# ${t.topic} Summary

## Overview
This is an AI-generated summary of ${t.topic} in ${t.subject} for Grade ${t.grade} students.

## Key Concepts
 Important concept 1: Detailed explanation of the first key concept
 Important concept 2: Detailed explanation of the second key concept  
 Important concept 3: Detailed explanation of the third key concept

## Examples
Real-world applications and examples that help students understand the topic better.

## Important Points to Remember
- Critical point 1
- Critical point 2
- Critical point 3

## Practice Questions
1. Sample question about the topic
2. Another practice question
3. Advanced application question

This summary has been optimized for ${t.length} reading and covers the essential points students need to understand about ${t.topic}.`;n(x),i(!1)},2e3))},h=async()=>{await navigator.clipboard.writeText(s),l(!0),setTimeout(()=>l(!1),2e3)},m=()=>{const x=document.createElement("a"),A=new Blob([s],{type:"text/plain"});x.href=URL.createObjectURL(A),x.download=`${t.topic}_summary.txt`,document.body.appendChild(x),x.click(),document.body.removeChild(x)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Vu,{className:"h-6 w-6 text-purple-500"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Content Summarizer"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsxs("select",{value:t.subject,onChange:x=>e({...t,subject:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"Select Subject"}),r.jsx("option",{value:"mathematics",children:"Mathematics"}),r.jsx("option",{value:"physics",children:"Physics"}),r.jsx("option",{value:"chemistry",children:"Chemistry"}),r.jsx("option",{value:"biology",children:"Biology"}),r.jsx("option",{value:"english",children:"English"}),r.jsx("option",{value:"history",children:"History"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),r.jsx("input",{type:"text",value:t.topic,onChange:x=>e({...t,topic:x.target.value}),placeholder:"Enter the topic to summarize",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),r.jsxs("select",{value:t.grade,onChange:x=>e({...t,grade:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((x,A)=>r.jsxs("option",{value:A+1,children:["Grade ",A+1]},A))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Summary Type"}),r.jsx("div",{className:"space-y-2",children:c.map(x=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",value:x.value,checked:t.summaryType===x.value,onChange:A=>e({...t,summaryType:A.target.value}),className:"mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:x.label}),r.jsx("div",{className:"text-sm text-gray-600",children:x.description})]})]},x.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Summary Length"}),r.jsx("select",{value:t.length,onChange:x=>e({...t,length:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:d.map(x=>r.jsxs("option",{value:x.value,children:[x.label," - ",x.description]},x.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Context (Optional)"}),r.jsx("textarea",{value:t.inputText,onChange:x=>e({...t,inputText:x.target.value}),placeholder:"Paste content to summarize or provide additional context...",rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),r.jsx("button",{onClick:u,disabled:a||!t.topic,className:"w-full py-3 px-6 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Summary..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Vu,{className:"h-4 w-4"}),"Generate Summary"]})})]}),r.jsx("div",{children:s?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Generated Summary"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:h,className:"p-2 text-gray-500 hover:bg-gray-100 rounded flex items-center gap-1",children:[o?r.jsx(Fr,{className:"h-4 w-4 text-green-500"}):r.jsx(Dr,{className:"h-4 w-4"}),o?"Copied!":"Copy"]}),r.jsx("button",{onClick:m,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:r.jsx(bs,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-purple-700 font-medium",children:"Type:"})," ",(f=c.find(x=>x.value===t.summaryType))==null?void 0:f.label]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-purple-700 font-medium",children:"Length:"})," ",t.length]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-purple-700 font-medium",children:"Subject:"})," ",t.subject]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-purple-700 font-medium",children:"Grade:"})," ",t.grade]})]})}),r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto",children:r.jsx("pre",{className:"whitespace-pre-wrap text-gray-800 text-sm leading-relaxed",children:s})})]}):r.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vu,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Configure your settings to generate a summary"})]})})})]})]})},Mqe=()=>{var C,B,P,H;const[t,e]=E.useState(""),[s,n]=E.useState(""),[a,i]=E.useState("performance"),[o,l]=E.useState(null),[c,d]=E.useState(!1),[u,h]=E.useState(null),[m,f]=E.useState(!1),[x,A]=E.useState("flashcards"),[g,b]=E.useState(!1),[w,v]=E.useState(null),j=["Grade 9A","Grade 9B","Grade 10A","Grade 10B","Grade 11A","Grade 11B"],N=["Mathematics","Physics","Chemistry","Biology","English","History"],S=[{value:"performance",label:"Performance Analysis",description:"Overall academic performance insights"},{value:"engagement",label:"Engagement Patterns",description:"Student participation and engagement levels"},{value:"learning-gaps",label:"Learning Gaps",description:"Identify knowledge gaps and weak areas"},{value:"progress",label:"Progress Tracking",description:"Monitor student improvement over time"},{value:"weak-students",label:"Weak Student Identification",description:"Identify students needing intervention"}],T=async()=>{!t||!s||(d(!0),setTimeout(()=>{let D;a==="weak-students"?D={classOverview:{totalStudents:28,averageScore:78.5,improvementRate:"+12%",atRiskStudents:4},weakStudents:[{id:"1",name:"Alex Thompson",grade:t.split(" ")[1],section:t.slice(-1),roll:15,interventionLevel:"critical",consistencyScore:25,focusSubject:s,weakAreas:["Basic Concepts","Problem Solving","Consistency in Performance"],recommendedTopics:["Number Systems","Basic Operations","Word Problems"],hasAIPath:!1,lastAssessment:"2 days ago",averageScore:45},{id:"2",name:"Sarah Wilson",grade:t.split(" ")[1],section:t.slice(-1),roll:8,interventionLevel:"high",consistencyScore:45,focusSubject:s,weakAreas:["Conceptual Understanding","Formula Application"],recommendedTopics:["Fundamentals","Practical Applications"],hasAIPath:!0,lastAssessment:"1 day ago",averageScore:52},{id:"3",name:"Mike Johnson",grade:t.split(" ")[1],section:t.slice(-1),roll:22,interventionLevel:"medium",consistencyScore:55,focusSubject:s,weakAreas:["Advanced Topics","Time Management"],recommendedTopics:["Practice Problems","Speed Techniques"],hasAIPath:!1,lastAssessment:"3 days ago",averageScore:58}],interventionStats:{critical:1,high:1,medium:2,withAIPath:1},insights:["Critical students need immediate intervention","25% of at-risk students have personalized AI learning paths","Focus on foundational concepts for critical-level students","Regular monitoring recommended for high-priority students"]}:D={classOverview:{totalStudents:28,averageScore:78.5,improvementRate:"+12%",atRiskStudents:4},topPerformers:[{name:"Alice Johnson",score:95,improvement:"+8%"},{name:"Bob Smith",score:92,improvement:"+5%"},{name:"Carol Davis",score:89,improvement:"+12%"}],strugglingStudents:[{name:"David Wilson",score:45,issues:["Algebra concepts","Problem solving"],recommendation:"Extra practice sessions"},{name:"Emma Brown",score:52,issues:["Basic operations","Word problems"],recommendation:"Peer tutoring"}],insights:["Class shows strong improvement in algebraic thinking","15% of students need additional support with word problems","Overall engagement has increased by 18% this semester"]},l(D),d(!1)},2e3))},I=async(D,G)=>{b(!0),A(G),setTimeout(()=>{let O;switch(G){case"flashcards":O={type:"flashcards",title:`Personalized Flashcards for ${D.name}`,description:`Targeting weak areas: ${D.weakAreas.join(", ")}`,cards:D.weakAreas.slice(0,10).map((Q,ee)=>({id:ee+1,front:`What is the key concept in ${Q}?`,back:`A personalized explanation of ${Q} tailored for ${D.name}'s learning level.`,difficulty:D.interventionLevel}))};break;case"quiz":O={type:"quiz",title:`Targeted Assessment for ${D.name}`,description:`Focused on improving: ${D.weakAreas.join(", ")}`,questions:D.weakAreas.slice(0,8).map((Q,ee)=>({id:ee+1,question:`Question ${ee+1} about ${Q}`,options:["Option A","Option B","Option C","Option D"],correct:0,difficulty:D.interventionLevel}))};break;case"summary":O={type:"summary",title:`Concept Summary for ${D.name}`,description:`Simplified explanations for: ${D.weakAreas.join(", ")}`,content:D.weakAreas.map(Q=>({topic:Q,summary:`A clear, simplified explanation of ${Q} designed specifically for ${D.name}'s current understanding level.`,keyPoints:[`Key point 1 about ${Q}`,`Key point 2 about ${Q}`,`Key point 3 about ${Q}`]}))};break}v(O),b(!1)},2e3)},_=D=>{switch(D){case"critical":return"text-red-600 bg-red-100 border-red-200";case"high":return"text-orange-600 bg-orange-100 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-blue-600 bg-blue-100 border-blue-200"}},M=D=>{switch(D){case"critical":return r.jsx(br,{className:"w-4 h-4"});case"high":return r.jsx(br,{className:"w-4 h-4"});case"medium":return r.jsx(AlertTriangle,{className:"w-4 w-4"});default:return r.jsx(Fr,{className:"w-4 h-4"})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Ar,{className:"h-6 w-6 text-orange-500"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Performance Analyzer"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class"}),r.jsxs("select",{value:t,onChange:D=>e(D.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"",children:"Choose Class"}),j.map(D=>r.jsx("option",{value:D,children:D},D))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsxs("select",{value:s,onChange:D=>n(D.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[r.jsx("option",{value:"",children:"Choose Subject"}),N.map(D=>r.jsx("option",{value:D,children:D},D))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Analysis Type"}),r.jsx("div",{className:"space-y-2",children:S.map(D=>r.jsxs("label",{className:"flex items-start",children:[r.jsx("input",{type:"radio",value:D.value,checked:a===D.value,onChange:G=>i(G.target.value),className:"mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:D.label}),r.jsx("div",{className:"text-xs text-gray-600",children:D.description})]})]},D.value))})]}),r.jsx("button",{onClick:T,disabled:c||!t||!s,className:"w-full py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Analyzing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ma,{className:"h-4 w-4"}),"Analyze Students"]})})]}),r.jsx("div",{className:"lg:col-span-2",children:o?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-700",children:o.classOverview.totalStudents}),r.jsx("div",{className:"text-sm text-blue-600",children:"Total Students"})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-700",children:o.classOverview.averageScore}),r.jsx("div",{className:"text-sm text-green-600",children:"Average Score"})]}),r.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-700",children:o.classOverview.improvementRate}),r.jsx("div",{className:"text-sm text-purple-600",children:"Improvement"})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-700",children:o.classOverview.atRiskStudents}),r.jsx("div",{className:"text-sm text-orange-600",children:"At Risk"})]})]}),a==="weak-students"&&o.weakStudents&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[r.jsx("div",{className:"text-2xl font-bold text-red-700",children:o.interventionStats.critical}),r.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-1",children:[r.jsx(br,{className:"w-3 h-3"}),"Critical"]})]}),r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-700",children:o.interventionStats.high}),r.jsxs("div",{className:"text-sm text-orange-600 flex items-center gap-1",children:[r.jsx(br,{className:"w-3 h-3"}),"High Priority"]})]}),r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:o.interventionStats.medium}),r.jsxs("div",{className:"text-sm text-yellow-600 flex items-center gap-1",children:[r.jsx(AlertTriangle,{className:"w-3 h-3"}),"Medium Priority"]})]}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-700",children:o.interventionStats.withAIPath}),r.jsxs("div",{className:"text-sm text-blue-600 flex items-center gap-1",children:[r.jsx(Vs,{className:"w-3 h-3"}),"With AI Path"]})]})]}),r.jsxs("div",{className:"bg-white border rounded-lg",children:[r.jsx("div",{className:"p-4 border-b bg-red-50",children:r.jsxs("h4",{className:"font-bold text-red-800 flex items-center gap-2",children:[r.jsx(AlertTriangle,{className:"h-5 w-5"}),"Students Needing Intervention"]})}),r.jsx("div",{className:"p-4 space-y-4",children:o.weakStudents.map(D=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white font-semibold text-sm",children:D.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-800",children:D.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",D.grade,"-",D.section,"  Roll ",D.roll]})]})]}),r.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium border flex items-center gap-1 ${_(D.interventionLevel)}`,children:[M(D.interventionLevel),r.jsx("span",{className:"capitalize",children:D.interventionLevel})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[r.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[r.jsx("div",{className:"text-xs text-gray-600",children:"Consistency Score"}),r.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[D.consistencyScore,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[r.jsx("div",{className:"text-xs text-gray-600",children:"Average Score"}),r.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[D.averageScore,"%"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[r.jsx("div",{className:"text-xs text-gray-600",children:"Last Assessment"}),r.jsx("div",{className:"text-sm font-medium text-gray-800",children:D.lastAssessment})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Weak Areas:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:D.weakAreas.map((G,O)=>r.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs",children:G},O))})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:()=>{h(D),f(!0)},className:"px-3 py-1.5 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors flex items-center gap-1",children:[r.jsx(fs,{className:"w-3 h-3"}),"Generate Content"]}),r.jsxs("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors flex items-center gap-1",children:[r.jsx(Vs,{className:"w-3 h-3"}),"AI Learning Path"]}),r.jsxs("button",{className:"px-3 py-1.5 bg-purple-600 text-white rounded text-xs hover:bg-purple-700 transition-colors flex items-center gap-1",children:[r.jsx(ma,{className:"w-3 h-3"}),"Detailed Analysis"]})]})]},D.id))})]})]}),a!=="weak-students"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[r.jsxs("h4",{className:"font-bold text-green-800 mb-4 flex items-center gap-2",children:[r.jsx(pn,{className:"h-5 w-5"}),"Top Performers"]}),r.jsx("div",{className:"space-y-2",children:(C=o.topPerformers)==null?void 0:C.map((D,G)=>r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded",children:[r.jsx("span",{className:"font-medium",children:D.name}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-green-600 font-bold",children:[D.score,"%"]}),r.jsx("span",{className:"text-sm text-green-500",children:D.improvement})]})]},G))})]}),r.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[r.jsxs("h4",{className:"font-bold text-red-800 mb-4 flex items-center gap-2",children:[r.jsx(br,{className:"h-5 w-5"}),"Students Needing Support"]}),r.jsx("div",{className:"space-y-3",children:(B=o.strugglingStudents)==null?void 0:B.map((D,G)=>r.jsxs("div",{className:"bg-white p-4 rounded",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"font-medium",children:D.name}),r.jsxs("span",{className:"text-red-600 font-bold",children:[D.score,"%"]})]}),r.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[r.jsx("strong",{children:"Issues:"})," ",D.issues.join(", ")]}),r.jsxs("div",{className:"text-sm text-blue-600",children:[r.jsx("strong",{children:"Recommendation:"})," ",D.recommendation]})]},G))})]})]}),r.jsxs("div",{className:"bg-indigo-50 p-6 rounded-lg",children:[r.jsxs("h4",{className:"font-bold text-indigo-800 mb-4 flex items-center gap-2",children:[r.jsx(Z1,{className:"h-5 w-5"}),"AI Insights"]}),r.jsx("div",{className:"space-y-2",children:o.insights.map((D,G)=>r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Fr,{className:"h-4 w-4 text-indigo-500 mt-0.5"}),r.jsx("span",{className:"text-indigo-700",children:D})]},G))})]})]}):r.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ar,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Select class and subject to analyze student performance"})]})})})]}),m&&u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:u.name.charAt(0)}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Generate Personalized Content"}),r.jsxs("p",{className:"text-gray-600",children:["For ",u.name," - Grade ",u.grade,"-",u.section]})]})]}),r.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 p-2",children:r.jsx(X,{className:"h-6 w-6"})})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:["flashcards","quiz","summary"].map(D=>r.jsxs("button",{onClick:()=>I(u,D),disabled:g,className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-center disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsxs("div",{className:"text-2xl mb-2",children:[D==="flashcards"&&"",D==="quiz"&&"",D==="summary"&&""]}),r.jsx("div",{className:"text-sm font-medium capitalize",children:D}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[D==="flashcards"&&"Study cards for weak areas",D==="quiz"&&"Targeted assessment questions",D==="summary"&&"Concept explanations"]})]},D))}),r.jsxs("div",{className:"mb-6 p-4 bg-red-50 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Identified Weak Areas:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(P=u.weakAreas)==null?void 0:P.map((D,G)=>r.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:D},G))})]}),g?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsxs("p",{className:"text-gray-600",children:["Generating personalized ",x," for ",u.name,"..."]})]}):w?r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:w.title}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("button",{onClick:()=>{const D=document.createElement("a"),G=new Blob([JSON.stringify(w,null,2)],{type:"text/plain"});D.href=URL.createObjectURL(G),D.download=`${w.title.replace(/\s+/g,"_")}.txt`,document.body.appendChild(D),D.click(),document.body.removeChild(D)},className:"px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors flex items-center gap-1",children:[r.jsx(bs,{className:"w-3 h-3"}),"Download"]})})]}),r.jsxs("div",{className:"space-y-4",children:[w.type==="flashcards"&&w.cards&&r.jsx("div",{className:"grid gap-4",children:w.cards.map((D,G)=>r.jsxs("div",{className:"bg-white p-4 rounded border",children:[r.jsxs("div",{className:"font-medium text-blue-800 mb-2",children:["Card ",G+1]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("strong",{children:"Front:"})," ",D.front]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Back:"})," ",D.back]})]},G))}),w.type==="quiz"&&w.questions&&r.jsx("div",{className:"space-y-4",children:w.questions.map((D,G)=>r.jsxs("div",{className:"bg-white p-4 rounded border",children:[r.jsxs("div",{className:"font-medium text-green-800 mb-2",children:["Question ",G+1]}),r.jsx("div",{className:"mb-2",children:D.question}),D.options&&r.jsx("div",{className:"ml-4 space-y-1",children:D.options.map((O,Q)=>r.jsxs("div",{className:`text-sm ${Q===D.correct?"font-medium text-green-700":""}`,children:[String.fromCharCode(65+Q),". ",O," ",Q===D.correct&&""]},Q))})]},G))}),w.type==="summary"&&r.jsx("div",{className:"bg-white p-4 rounded border",children:r.jsx("div",{className:"prose max-w-none text-gray-700",children:(H=w.content)==null?void 0:H.split(`
`).map((D,G)=>r.jsx("p",{className:"mb-3",children:D},G))})})]})]}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(fs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsxs("p",{children:["Select a content type above to generate personalized materials for ",u.name]})]})]})]})})]})},Fqe=()=>{const[t,e]=E.useState([{id:1,type:"ai",content:"Hello! I'm your AI Teaching Assistant. I can help you with student assessments, educational content creation, quiz generation, and teaching strategies. What would you like assistance with today?",timestamp:new Date}]),[s,n]=E.useState(""),[a,i]=E.useState(!1),o=["Create flashcards for quadratic equations","Suggest engagement activities for biology class","How can I help struggling students in my chemistry class?","Generate discussion questions for Shakespeare's Hamlet","Create a rubric for project-based assessment"],l=async()=>{if(!s.trim())return;const d={id:t.length+1,type:"user",content:s,timestamp:new Date};e(u=>[...u,d]),n(""),i(!0),setTimeout(()=>{const u={id:t.length+2,type:"ai",content:`I understand you're asking about "${s}". Here's my recommendation:

1. **Analysis**: Based on your query, I can provide specific strategies tailored to your teaching context.

2. **Suggestions**: I recommend implementing interactive elements, differentiated instruction approaches, and formative assessment techniques.

3. **Resources**: I can help you create materials, worksheets, and activities that align with your curriculum objectives.

Would you like me to elaborate on any of these points or help you develop specific materials?`,timestamp:new Date};e(h=>[...h,u]),i(!1)},1500)},c=d=>{n(d)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(dX,{className:"h-6 w-6 text-blue-500"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"AI Teaching Assistant"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Quick Prompts"}),r.jsx("div",{className:"space-y-2",children:o.map((d,u)=>r.jsx("button",{onClick:()=>c(d),className:"w-full text-left p-3 text-sm bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:d},u))})]}),r.jsxs("div",{className:"lg:col-span-3",children:[r.jsx("div",{className:"bg-white border rounded-lg h-96 overflow-y-auto p-4 mb-4",children:r.jsxs("div",{className:"space-y-4",children:[t.map(d=>r.jsx("div",{className:`flex ${d.type==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${d.type==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:[r.jsx("div",{className:"whitespace-pre-wrap",children:d.content}),r.jsx("div",{className:`text-xs mt-1 ${d.type==="user"?"text-blue-100":"text-gray-500"}`,children:d.timestamp.toLocaleTimeString()})]})},d.id)),a&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),"AI is thinking..."]})})})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:s,onChange:d=>n(d.target.value),onKeyPress:d=>d.key==="Enter"&&l(),placeholder:"Ask me anything about teaching, lesson planning, or student engagement...",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),r.jsx("button",{onClick:l,disabled:a||!s.trim(),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(mn,{className:"h-4 w-4"})})]})]})]})]})},Pqe=()=>{var b,w;const[t,e]=E.useState({subject:"",topic:"",grade:"",cardCount:"10",difficulty:"medium",cardType:"question-answer"}),[s,n]=E.useState(null),[a,i]=E.useState(0),[o,l]=E.useState(!1),[c,d]=E.useState(!1),u=[{value:"question-answer",label:"Question & Answer",description:"Traditional Q&A format"},{value:"term-definition",label:"Term & Definition",description:"Vocabulary and definitions"},{value:"concept-explanation",label:"Concept & Explanation",description:"Complex concepts explained"},{value:"formula-application",label:"Formula & Application",description:"Mathematical formulas with examples"}],h=async()=>{!t.subject||!t.topic||(d(!0),setTimeout(()=>{const v={title:`${t.topic} Flashcards - Grade ${t.grade}`,subject:t.subject,topic:t.topic,cardType:t.cardType,cards:Array.from({length:parseInt(t.cardCount)},(j,N)=>({id:N+1,front:`${t.cardType==="question-answer"?"Question":"Term"} ${N+1} about ${t.topic}`,back:`This is the ${t.cardType==="question-answer"?"answer":"definition"} for card ${N+1}. It provides detailed information about ${t.topic} in the context of ${t.subject}.`,difficulty:t.difficulty}))};n(v),i(0),l(!1),d(!1)},2e3))},m=()=>{a<s.cards.length-1&&(i(a+1),l(!1))},f=()=>{a>0&&(i(a-1),l(!1))},x=()=>{const v=[...s.cards].sort(()=>Math.random()-.5);n({...s,cards:v}),i(0),l(!1)},A=()=>{i(0),l(!1)},g=()=>{const v=s.cards.map((S,T)=>`Card ${T+1}:
Front: ${S.front}
Back: ${S.back}

`).join(""),j=document.createElement("a"),N=new Blob([v],{type:"text/plain"});j.href=URL.createObjectURL(N),j.download=`${t.topic}_flashcards.txt`,document.body.appendChild(j),j.click(),document.body.removeChild(j)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(fs,{className:"h-6 w-6 text-yellow-500"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Flashcard Generator"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsxs("select",{value:t.subject,onChange:v=>e({...t,subject:v.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"",children:"Select Subject"}),r.jsx("option",{value:"mathematics",children:"Mathematics"}),r.jsx("option",{value:"physics",children:"Physics"}),r.jsx("option",{value:"chemistry",children:"Chemistry"}),r.jsx("option",{value:"biology",children:"Biology"}),r.jsx("option",{value:"english",children:"English"}),r.jsx("option",{value:"history",children:"History"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),r.jsx("input",{type:"text",value:t.topic,onChange:v=>e({...t,topic:v.target.value}),placeholder:"Enter the topic for flashcards",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),r.jsxs("select",{value:t.grade,onChange:v=>e({...t,grade:v.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((v,j)=>r.jsxs("option",{value:j+1,children:["Grade ",j+1]},j))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Cards"}),r.jsxs("select",{value:t.cardCount,onChange:v=>e({...t,cardCount:v.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"5",children:"5 Cards"}),r.jsx("option",{value:"10",children:"10 Cards"}),r.jsx("option",{value:"15",children:"15 Cards"}),r.jsx("option",{value:"20",children:"20 Cards"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Type"}),r.jsx("div",{className:"space-y-2",children:u.map(v=>r.jsxs("label",{className:"flex items-start",children:[r.jsx("input",{type:"radio",value:v.value,checked:t.cardType===v.value,onChange:j=>e({...t,cardType:j.target.value}),className:"mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:v.label}),r.jsx("div",{className:"text-xs text-gray-600",children:v.description})]})]},v.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),r.jsxs("select",{value:t.difficulty,onChange:v=>e({...t,difficulty:v.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]}),r.jsx("button",{onClick:h,disabled:c||!t.subject||!t.topic,className:"w-full py-3 px-6 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Flashcards..."]}):r.jsxs(r.Fragment,{children:[r.jsx(fs,{className:"h-4 w-4"}),"Generate Flashcards"]})})]}),r.jsx("div",{className:"lg:col-span-2",children:s?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s.title}),r.jsxs("p",{className:"text-gray-600",children:[s.cards.length," cards  ",t.difficulty," difficulty"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:x,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Shuffle cards",children:r.jsx(xX,{className:"h-4 w-4"})}),r.jsx("button",{onClick:A,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Reset session",children:r.jsx(Ro,{className:"h-4 w-4"})}),r.jsx("button",{onClick:g,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Download flashcards",children:r.jsx(bs,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("span",{className:"inline-block px-4 py-2 bg-yellow-100 rounded-full text-sm font-medium text-yellow-800",children:["Card ",a+1," of ",s.cards.length]})}),r.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[r.jsx("div",{className:"relative w-full h-80 cursor-pointer",onClick:()=>l(!o),children:r.jsxs("div",{className:`
                    absolute inset-0 w-full h-full rounded-xl shadow-lg transform transition-all duration-500 preserve-3d
                    ${o?"rotate-y-180":""}
                  `,children:[r.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 flex items-center justify-center p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Es,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:t.cardType==="question-answer"?"Question":"Term"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:(b=s.cards[a])==null?void 0:b.front}),r.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click to reveal answer"})]})}),r.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 rounded-xl bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-200 flex items-center justify-center p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(EyeOff,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:t.cardType==="question-answer"?"Answer":"Definition"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:(w=s.cards[a])==null?void 0:w.back})]})})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsxs("button",{onClick:f,disabled:a===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(ArrowLeft,{className:"w-4 h-4"}),r.jsx("span",{children:"Previous"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:()=>l(!o),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:o?"Show Question":"Show Answer"})}),r.jsxs("button",{onClick:m,disabled:a===s.cards.length-1,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx("span",{children:"Next"}),r.jsx(vg,{className:"w-4 h-4"})]})]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(fs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Configure your settings to generate flashcards"})]})})})]}),r.jsx("style",{jsx:!0,children:`
        .preserve-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
      `})]})},Iqe=()=>{const[t,e]=E.useState({subject:"",topic:"",grade:"",questionTypes:["mcq"],questionCount:"10",difficulty:"medium",timeLimit:"30"}),[s,n]=E.useState(null),[a,i]=E.useState(!1),[o,l]=E.useState(!1),c=[{value:"mcq",label:"Multiple Choice Questions",description:"Traditional A, B, C, D format"},{value:"true-false",label:"True/False",description:"Simple true or false questions"},{value:"fill-blank",label:"Fill in the Blanks",description:"Cloze-style questions"},{value:"short-answer",label:"Short Answer",description:"Brief written responses"},{value:"match-list",label:"Matching",description:"Match items from two lists"},{value:"drag-drop",label:"Drag & Drop",description:"Interactive sorting questions"}],d=x=>{e(A=>({...A,questionTypes:A.questionTypes.includes(x)?A.questionTypes.filter(g=>g!==x):[...A.questionTypes,x]}))},u=async()=>{!t.subject||!t.topic||t.questionTypes.length===0||(i(!0),setTimeout(()=>{const x={title:`${t.topic} Tryout - Grade ${t.grade}`,subject:t.subject,topic:t.topic,difficulty:t.difficulty,timeLimit:t.timeLimit,questionTypes:t.questionTypes,questions:h(t)};n(x),i(!1)},2e3))},h=x=>{const A=[],g=Math.ceil(parseInt(x.questionCount)/x.questionTypes.length);return x.questionTypes.forEach((b,w)=>{for(let v=0;v<g&&A.length<parseInt(x.questionCount);v++){const j=A.length+1;switch(b){case"mcq":A.push({id:j,type:"mcq",question:`Multiple choice question ${j} about ${x.topic}`,options:["Option A","Option B","Option C","Option D"],correct:0,points:1});break;case"true-false":A.push({id:j,type:"true-false",question:`True or false: Statement ${j} about ${x.topic}`,correct:!0,points:1});break;case"fill-blank":A.push({id:j,type:"fill-blank",question:`Complete the following sentence about ${x.topic}: "This is a _____ concept in ${x.subject}."`,blanks:["fundamental"],points:1});break;case"short-answer":A.push({id:j,type:"short-answer",question:`Explain the concept ${j} related to ${x.topic}`,answer:"Sample short answer explanation",points:2});break;case"match-list":A.push({id:j,type:"match-list",question:`Match the following items related to ${x.topic}`,leftItems:["Item 1","Item 2","Item 3"],rightItems:["Match A","Match B","Match C"],matches:{0:0,1:1,2:2},points:3});break;case"drag-drop":A.push({id:j,type:"drag-drop",question:`Arrange the following items in the correct order for ${x.topic}`,items:["Step 1","Step 2","Step 3","Step 4"],correctOrder:[0,1,2,3],points:2});break}}}),A.slice(0,parseInt(x.questionCount))},m=()=>{const x=`${s.title}

Subject: ${s.subject}
Topic: ${s.topic}
Difficulty: ${s.difficulty}
Time Limit: ${s.timeLimit} minutes
Total Questions: ${s.questions.length}

`+s.questions.map((b,w)=>{let v=`${w+1}. ${b.question}
`;return b.type==="mcq"&&(v+=b.options.map((j,N)=>`   ${String.fromCharCode(65+N)}. ${j}`).join(`
`)+`
`),v+`
`}).join(""),A=document.createElement("a"),g=new Blob([x],{type:"text/plain"});A.href=URL.createObjectURL(g),A.download=`${t.topic}_tryout.txt`,document.body.appendChild(A),A.click(),document.body.removeChild(A)},f=(x,A)=>{switch(x.type){case"mcq":return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",x.id,": ",x.question]}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"MCQ"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:x.options.map((g,b)=>r.jsxs("div",{className:`text-sm p-2 rounded border ${b===x.correct?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200"}`,children:[String.fromCharCode(65+b),". ",g]},b))})]},A);case"true-false":return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",x.id,": ",x.question]}),r.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:"T/F"})]}),r.jsxs("div",{className:"flex gap-4 mt-3",children:[r.jsx("div",{className:`text-sm p-2 rounded border ${x.correct?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200"}`,children:"True"}),r.jsx("div",{className:`text-sm p-2 rounded border ${x.correct?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200 text-green-800"}`,children:"False"})]})]},A);case"fill-blank":return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",x.id,": ",x.question]}),r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"Fill Blank"})]}),r.jsx("div",{className:"mt-3",children:r.jsxs("span",{className:"text-sm text-green-700 bg-green-50 px-2 py-1 rounded",children:["Answer: ",x.blanks[0]]})})]},A);default:return r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",x.id,": ",x.question]}),r.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:x.type})]})},A)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Dr,{className:"h-6 w-6 text-indigo-500"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tryout Generator"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),r.jsxs("select",{value:t.subject,onChange:x=>e({...t,subject:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"",children:"Select Subject"}),r.jsx("option",{value:"mathematics",children:"Mathematics"}),r.jsx("option",{value:"physics",children:"Physics"}),r.jsx("option",{value:"chemistry",children:"Chemistry"}),r.jsx("option",{value:"biology",children:"Biology"}),r.jsx("option",{value:"english",children:"English"}),r.jsx("option",{value:"history",children:"History"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),r.jsx("input",{type:"text",value:t.topic,onChange:x=>e({...t,topic:x.target.value}),placeholder:"Enter the tryout topic",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),r.jsxs("select",{value:t.grade,onChange:x=>e({...t,grade:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((x,A)=>r.jsxs("option",{value:A+1,children:["Grade ",A+1]},A))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Count"}),r.jsxs("select",{value:t.questionCount,onChange:x=>e({...t,questionCount:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"10",children:"10 Questions"}),r.jsx("option",{value:"15",children:"15 Questions"}),r.jsx("option",{value:"20",children:"20 Questions"}),r.jsx("option",{value:"25",children:"25 Questions"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Types"}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:c.map(x=>r.jsxs("label",{className:"flex items-start",children:[r.jsx("input",{type:"checkbox",value:x.value,checked:t.questionTypes.includes(x.value),onChange:()=>d(x.value),className:"mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:x.label}),r.jsx("div",{className:"text-xs text-gray-600",children:x.description})]})]},x.value))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),r.jsxs("select",{value:t.difficulty,onChange:x=>e({...t,difficulty:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[r.jsx("option",{value:"easy",children:"Easy"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"hard",children:"Hard"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit"}),r.jsx("input",{type:"number",value:t.timeLimit,onChange:x=>e({...t,timeLimit:x.target.value}),min:"10",max:"120",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),r.jsx("button",{onClick:u,disabled:a||!t.subject||!t.topic||t.questionTypes.length===0,className:"w-full py-3 px-6 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Tryout..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Dr,{className:"h-4 w-4"}),"Generate Tryout"]})})]}),r.jsx("div",{className:"lg:col-span-2",children:s?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:s.title}),r.jsxs("p",{className:"text-gray-600",children:[s.questions.length," questions  ",s.timeLimit," minutes  ",s.difficulty]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>l(!o),className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:r.jsx(Es,{className:"h-4 w-4"})}),r.jsx("button",{onClick:m,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:r.jsx(bs,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Tryout Overview"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-700",children:"Subject:"})," ",s.subject]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-700",children:"Topic:"})," ",s.topic]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-700",children:"Questions:"})," ",s.questions.length]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-indigo-700",children:"Total Points:"})," ",s.questions.reduce((x,A)=>x+A.points,0)]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-indigo-700",children:"Question Types:"})," ",t.questionTypes.join(", ")]})]}),r.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:"Questions Preview"}),r.jsx("span",{className:"text-sm text-gray-500",children:o?"Detailed View":`Showing ${Math.min(5,s.questions.length)} of ${s.questions.length}`})]}),(o?s.questions:s.questions.slice(0,5)).map((x,A)=>f(x,A)),!o&&s.questions.length>5&&r.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["+",s.questions.length-5," more questions..."]})]})]}):r.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Dr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Configure your settings to generate a tryout"})]})})})]})]})},jo="http://localhost:5000".replace(/\/$/,""),Lqe=()=>{const[t,e]=E.useState("attendance"),[s,n]=E.useState(!1),[a,i]=E.useState(!1),[o,l]=E.useState(!1),[c,d]=E.useState(new Date().toISOString().slice(0,7)),[u,h]=E.useState([]),[m,f]=E.useState({presentDays:0,lateDays:0,absentDays:0,attendanceRate:0}),[x,A]=E.useState({hasCheckedIn:!1,hasCheckedOut:!1,checkIn:"-",checkOut:"-",status:"Absent"}),[g,b]=E.useState(!1),[w,v]=E.useState(!1),[j,N]=E.useState(""),[S,T]=E.useState([]),[I,_]=E.useState(!1),[M,C]=E.useState(!1),[B,P]=E.useState(""),[H,D]=E.useState(null),[G,O]=E.useState("list"),[Q,ee]=E.useState(null),[q,Z]=E.useState(!1),[F,z]=E.useState({type:"Sick Leave",startDate:"",endDate:"",reason:""}),V=15,[W,ne]=E.useState({name:"",email:"",phone:"",department:"",employeeId:"",joinDate:"",address:"",emergencyContact:"",profilePic:""}),[ie,be]=E.useState(!0),[ue,je]=E.useState(!1),[Be,oe]=E.useState(""),[lt,se]=E.useState(""),[J,Pe]=E.useState([{id:1,title:"Leave Request Approved",message:"Your sick leave for Jan 15-16 has been approved",type:"success",read:!1,timestamp:"2 hours ago"},{id:2,title:"Expense Claim Update",message:"Your expense claim #EC001 needs additional documentation",type:"warning",read:!1,timestamp:"5 hours ago"},{id:3,title:"Profile Update Required",message:"Please update your emergency contact information",type:"info",read:!0,timestamp:"1 day ago"},{id:4,title:"Holiday Notice",message:"School will be closed on Jan 26th for Republic Day",type:"info",read:!0,timestamp:"2 days ago"}]),[xe,He]=E.useState([{id:1,name:"Employee Handbook 2025",type:"PDF",size:"2.5 MB",category:"Policy",uploadDate:"2025-01-01"},{id:2,name:"Salary Certificate",type:"PDF",size:"150 KB",category:"Personal",uploadDate:"2024-12-15"},{id:3,name:"Tax Declaration Form",type:"PDF",size:"300 KB",category:"Financial",uploadDate:"2024-11-30"},{id:4,name:"Performance Review 2024",type:"PDF",size:"500 KB",category:"Performance",uploadDate:"2024-12-31"}]),[$e,Xe]=E.useState([]),[he,ce]=E.useState(!1),[_e,Ke]=E.useState(!1),[et,st]=E.useState(""),[ot,mt]=E.useState(null),[At,Tt]=E.useState("list"),[rt,Dt]=E.useState(null),[Qt,Yt]=E.useState(!1),[kt,tt]=E.useState({category:"Travel",amount:"",description:"",date:new Date().toISOString().slice(0,10),receiptFile:null,receiptName:"",receiptUrl:""}),Ze=[{id:"attendance",label:"Attendance",icon:fr},{id:"leave",label:"Leave Management",icon:ir},{id:"profile",label:"Profile",icon:us},{id:"expenses",label:"Expenses",icon:_o}],ye=le=>{switch(le.toLowerCase()){case"approved":case"present":return"text-green-600 bg-green-100";case"pending":case"late":return"text-yellow-600 bg-yellow-100";case"rejected":case"absent":case"sick leave":case"casual leave":return"text-red-600 bg-red-100";case"weekend":case"holiday":return"text-gray-600 bg-gray-100";case"half day":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},fe=le=>{Pe(J.map(Ne=>Ne.id===le?{...Ne,read:!0}:Ne))},Me=le=>{const[Ne,de]=String(le||"").split("-").map(Number);return!Ne||!de?le:new Date(Ne,de-1,1).toLocaleDateString(void 0,{month:"long",year:"numeric"})},Le=le=>{if(!le||le==="-")return"-";const Ne=new Date(le);if(isNaN(Ne.getTime()))return le;const de=String(Ne.getDate()).padStart(2,"0"),Ue=String(Ne.getMonth()+1).padStart(2,"0"),qe=Ne.getFullYear();return`${de}-${Ue}-${qe}`},Ge=le=>{if(!le||le==="-")return"-";const[Ne,de]=le.split(":").map(Number);if(isNaN(Ne)||isNaN(de))return le;const Ue=Ne>=12?"PM":"AM";return`${Ne%12||12}:${String(de).padStart(2,"0")} ${Ue}`},ct=async(le=c)=>{b(!0),N("");try{const Ne=localStorage.getItem("token"),de=(localStorage.getItem("userType")||"").toLowerCase();if(!Ne||de!=="teacher")throw new Error("Teacher login required");const Ue=await fetch(`${jo}/api/teacher/dashboard/work-attendance?month=${le}`,{headers:{authorization:`Bearer ${Ne}`}}),qe=await Ue.json().catch(()=>({}));if(!Ue.ok)throw new Error((qe==null?void 0:qe.error)||"Unable to load attendance");h(Array.isArray(qe.records)?qe.records:[]),f(qe.stats||{presentDays:0,lateDays:0,absentDays:0,attendanceRate:0}),A(qe.today||{hasCheckedIn:!1,hasCheckedOut:!1,checkIn:"-",checkOut:"-",status:"Absent"})}catch(Ne){N(Ne.message||"Unable to load attendance")}finally{b(!1)}};E.useEffect(()=>{ct(c)},[c]);const ft=async()=>{v(!0),N("");try{const le=localStorage.getItem("token"),Ne=await fetch(`${jo}/api/teacher/dashboard/work-attendance/check-in`,{method:"POST",headers:{authorization:`Bearer ${le}`}}),de=await Ne.json().catch(()=>({}));if(!Ne.ok)throw new Error((de==null?void 0:de.error)||"Unable to check in");await ct(c)}catch(le){N(le.message||"Unable to check in")}finally{v(!1)}},Ut=async()=>{v(!0),N("");try{const le=localStorage.getItem("token"),Ne=await fetch(`${jo}/api/teacher/dashboard/work-attendance/check-out`,{method:"POST",headers:{authorization:`Bearer ${le}`}}),de=await Ne.json().catch(()=>({}));if(!Ne.ok)throw new Error((de==null?void 0:de.error)||"Unable to check out");await ct(c)}catch(le){N(le.message||"Unable to check out")}finally{v(!1)}},Wt=async()=>{_(!0),P("");try{const le=localStorage.getItem("token"),Ne=(localStorage.getItem("userType")||"").toLowerCase();if(!le||Ne!=="teacher")throw new Error("Teacher login required");const de=await fetch(`${jo}/api/teacher/dashboard/leave-requests`,{headers:{authorization:`Bearer ${le}`}}),Ue=await de.json().catch(()=>({}));if(!de.ok)throw new Error((Ue==null?void 0:Ue.error)||"Unable to load leave requests");T(Array.isArray(Ue.leaves)?Ue.leaves:[])}catch(le){P(le.message||"Unable to load leave requests")}finally{_(!1)}};E.useEffect(()=>{Wt()},[]);const ur=E.useMemo(()=>{const le=(Ue,qe)=>{const dt=new Date(Ue),Gt=new Date(qe);if(Number.isNaN(dt.getTime())||Number.isNaN(Gt.getTime())||Gt<dt)return 0;const Mt=1440*60*1e3;return Math.floor((Gt-dt)/Mt)+1},Ne=S.filter(Ue=>String(Ue.status).toLowerCase()==="approved").reduce((Ue,qe)=>Ue+le(qe.startDate,qe.endDate),0),de=S.filter(Ue=>String(Ue.status).toLowerCase()==="pending").length;return{usedDays:Ne,pendingRequests:de,availableDays:Math.max(V-Ne,0)}},[S]),mr=async le=>{le.preventDefault(),P(""),C(!0);try{const Ne=localStorage.getItem("token");if(!Ne)throw new Error("Teacher login required");if(!F.startDate||!F.endDate)throw new Error("Start and end date are required");const de=H?`${jo}/api/teacher/dashboard/leave-requests/${H}`:`${jo}/api/teacher/dashboard/leave-requests`,qe=await fetch(de,{method:H?"PATCH":"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${Ne}`},body:JSON.stringify(F)}),dt=await qe.json().catch(()=>({}));if(!qe.ok)throw new Error((dt==null?void 0:dt.error)||"Unable to submit leave request");n(!1),D(null),z({type:"Sick Leave",startDate:"",endDate:"",reason:""}),await Wt()}catch(Ne){P(Ne.message||"Unable to submit leave request")}finally{C(!1)}},or=le=>{!le||String(le.status).toLowerCase()!=="pending"||(P(""),D(le.id),z({type:le.type||"Sick Leave",startDate:le.startDate||"",endDate:le.endDate||"",reason:le.reason||""}),n(!0))},Jr=le=>{!le||String(le.status).toLowerCase()!=="pending"||ee(le)},it=async()=>{if(Q){Z(!0),P("");try{const le=localStorage.getItem("token");if(!le)throw new Error("Teacher login required");const Ne=await fetch(`${jo}/api/teacher/dashboard/leave-requests/${Q.id}`,{method:"DELETE",headers:{authorization:`Bearer ${le}`}}),de=await Ne.json().catch(()=>({}));if(!Ne.ok)throw new Error((de==null?void 0:de.error)||"Unable to delete leave request");ee(null),await Wt()}catch(le){P(le.message||"Unable to delete leave request"),ee(null)}finally{Z(!1)}}},Ct=async()=>{ce(!0),st("");try{const le=localStorage.getItem("token"),Ne=(localStorage.getItem("userType")||"").toLowerCase();if(!le||Ne!=="teacher")throw new Error("Teacher login required");const de=await fetch(`${jo}/api/teacher/dashboard/expenses`,{headers:{authorization:`Bearer ${le}`}}),Ue=await de.json().catch(()=>({}));if(!de.ok)throw new Error((Ue==null?void 0:Ue.error)||"Unable to load expenses");Xe(Array.isArray(Ue.expenses)?Ue.expenses:[])}catch(le){st(le.message||"Unable to load expenses")}finally{ce(!1)}};E.useEffect(()=>{Ct()},[]);const pr=E.useMemo(()=>{const le=$e.filter(Ue=>String(Ue.status).toLowerCase()==="approved").reduce((Ue,qe)=>Ue+Number(qe.amount||0),0),Ne=$e.filter(Ue=>String(Ue.status).toLowerCase()==="pending").reduce((Ue,qe)=>Ue+Number(qe.amount||0),0),de=$e.filter(Ue=>String(Ue.status).toLowerCase()==="rejected").reduce((Ue,qe)=>Ue+Number(qe.amount||0),0);return{approved:le,pending:Ne,rejected:de}},[$e]),yr=async le=>{var Ne;le.preventDefault(),st(""),Ke(!0);try{const de=localStorage.getItem("token");if(!de)throw new Error("Teacher login required");if(!kt.category)throw new Error("Category is required");if(!kt.amount||Number(kt.amount)<=0)throw new Error("Amount must be greater than 0");let Ue=kt.receiptUrl||"",qe=kt.receiptName||"";if(kt.receiptFile){const qt=new FormData;qt.append("file",kt.receiptFile),qt.append("folder","teacher_expenses"),qt.append("tags","teacher,expense");const Kt=await fetch(`${jo}/api/uploads/cloudinary/single`,{method:"POST",body:qt}),rr=await Kt.json().catch(()=>({})),dr=(Ne=rr==null?void 0:rr.files)==null?void 0:Ne[0];if(!Kt.ok||!(dr!=null&&dr.secure_url))throw new Error((rr==null?void 0:rr.message)||(rr==null?void 0:rr.error)||"Unable to upload receipt");Ue=dr.secure_url,qe=dr.originalName||kt.receiptFile.name||""}const dt=ot?`${jo}/api/teacher/dashboard/expenses/${ot}`:`${jo}/api/teacher/dashboard/expenses`,Mt=await fetch(dt,{method:ot?"PATCH":"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${de}`},body:JSON.stringify({category:kt.category,amount:Number(kt.amount),description:kt.description,date:kt.date,receiptUrl:Ue,receiptName:qe})}),Ot=await Mt.json().catch(()=>({}));if(!Mt.ok)throw new Error((Ot==null?void 0:Ot.error)||"Unable to submit expense");i(!1),mt(null),tt({category:"Travel",amount:"",description:"",date:new Date().toISOString().slice(0,10),receiptFile:null,receiptName:"",receiptUrl:""}),await Ct()}catch(de){st(de.message||"Unable to submit expense")}finally{Ke(!1)}},Jt=le=>{!le||String(le.status).toLowerCase()!=="pending"||(mt(le.id),st(""),tt({category:le.category||"Travel",amount:String(le.amount||""),description:le.description||"",date:le.date||new Date().toISOString().slice(0,10),receiptFile:null,receiptName:le.receiptName||"",receiptUrl:le.receiptUrl||""}),i(!0))},me=le=>{!le||String(le.status).toLowerCase()!=="pending"||Dt(le)},Fe=async()=>{if(rt){Yt(!0),st("");try{const le=localStorage.getItem("token");if(!le)throw new Error("Teacher login required");const Ne=await fetch(`${jo}/api/teacher/dashboard/expenses/${rt.id}`,{method:"DELETE",headers:{authorization:`Bearer ${le}`}}),de=await Ne.json().catch(()=>({}));if(!Ne.ok)throw new Error((de==null?void 0:de.error)||"Unable to delete expense");Dt(null),await Ct()}catch(le){st(le.message||"Unable to delete expense"),Dt(null)}finally{Yt(!1)}}},Ee=le=>{if(!le)return"";const Ne=new Date(le);return Number.isNaN(Ne.getTime())?"":Ne.toISOString().slice(0,10)},Te=(le={})=>({name:le.name||"",email:le.email||"",phone:le.mobile||"",department:le.department||"",employeeId:le.username||le.employeeCode||le.employeeId||"",joinDate:Ee(le.joiningDate),address:le.address||"",emergencyContact:le.emergencyContact||"",profilePic:le.profilePic||""});E.useEffect(()=>{(async()=>{be(!0),oe("");try{const Ne=localStorage.getItem("token"),de=(localStorage.getItem("userType")||"").toLowerCase();if(!Ne||de!=="teacher")throw new Error("Teacher login required");const Ue=await fetch(`${jo}/api/teacher/auth/profile`,{headers:{authorization:`Bearer ${Ne}`}}),qe=await Ue.json().catch(()=>({}));if(!Ue.ok)throw new Error((qe==null?void 0:qe.error)||"Unable to load profile");ne(Te(qe))}catch(Ne){oe(Ne.message||"Unable to load profile")}finally{be(!1)}})()},[]);const Ie=(le,Ne)=>{ne(de=>({...de,[le]:Ne}))},De=async()=>{if(oe(""),se(""),!o){l(!0);return}try{je(!0);const le=localStorage.getItem("token");if(!le)throw new Error("Teacher login required");const Ne={name:W.name,email:W.email,mobile:W.phone,department:W.department,joiningDate:W.joinDate||null,address:W.address,emergencyContact:W.emergencyContact},de=await fetch(`${jo}/api/teacher/auth/profile`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${le}`},body:JSON.stringify(Ne)}),Ue=await de.json().catch(()=>({}));if(!de.ok)throw new Error((Ue==null?void 0:Ue.error)||"Unable to update profile");ne(Te((Ue==null?void 0:Ue.teacher)||{})),se("Profile updated successfully"),l(!1)}catch(le){oe(le.message||"Unable to update profile")}finally{je(!1)}},pt=E.useRef(null),Et=async le=>{var de,Ue,qe;const Ne=(de=le.target.files)==null?void 0:de[0];if(Ne){oe(""),se(""),je(!0);try{if(!Ne.type.startsWith("image/"))throw new Error("Please select an image file");if(Ne.size>5*1024*1024)throw new Error("Image size should be 5MB or less");const dt=new FormData;dt.append("file",Ne),dt.append("folder","teacher_profiles"),dt.append("tags","teacher,profile");const Gt=await fetch(`${jo}/api/uploads/cloudinary/single`,{method:"POST",body:dt}),Mt=await Gt.json().catch(()=>({})),Ot=(qe=(Ue=Mt==null?void 0:Mt.files)==null?void 0:Ue[0])==null?void 0:qe.secure_url;if(!Gt.ok||!Ot)throw new Error((Mt==null?void 0:Mt.message)||(Mt==null?void 0:Mt.error)||"Unable to upload image");const qt=localStorage.getItem("token");if(!qt)throw new Error("Teacher login required");const Kt=await fetch(`${jo}/api/teacher/auth/profile`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${qt}`},body:JSON.stringify({profilePic:Ot})}),rr=await Kt.json().catch(()=>({}));if(!Kt.ok)throw new Error((rr==null?void 0:rr.error)||"Unable to save profile photo");ne(dr=>({...dr,profilePic:Ot})),se("Profile photo updated successfully")}catch(dt){oe(dt.message||"Unable to update profile photo")}finally{pt.current&&(pt.current.value=""),je(!1)}}},bt=()=>r.jsxs("div",{className:"space-y-6",children:[j&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-700 flex items-center gap-2",children:[r.jsx(br,{className:"w-5 h-5 text-red-500 shrink-0"}),j]}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Attendance Tracker"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Mark your daily attendance and track your records"})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"relative",children:[r.jsx(ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),r.jsx("input",{type:"month",value:c,onChange:le=>d(le.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-sm"})]})})]}),r.jsx("div",{className:"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-2xl p-6 text-white shadow-lg",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-xl",children:r.jsx(uX,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Today's Date"}),r.jsx("p",{className:"text-2xl font-bold",children:Le(new Date().toISOString().slice(0,10))})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3",children:[r.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Check-in"}),r.jsxs("p",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(MC,{className:"w-4 h-4"}),Ge(x.checkIn)]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3",children:[r.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Check-out"}),r.jsxs("p",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(Vd,{className:"w-4 h-4"}),Ge(x.checkOut)]})]}),r.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl px-4 py-3",children:[r.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Status"}),r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-sm font-medium ${x.status==="Present"?"bg-green-400/30 text-green-100":x.status==="Late"?"bg-yellow-400/30 text-yellow-100":x.status==="Absent"?"bg-red-400/30 text-red-100":"bg-white/20 text-white/90"}`,children:[x.status==="Present"&&r.jsx(Fr,{className:"w-3.5 h-3.5"}),x.status==="Late"&&r.jsx(FC,{className:"w-3.5 h-3.5"}),x.status==="Absent"&&r.jsx(ia,{className:"w-3.5 h-3.5"}),x.status||"Not Marked"]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:ft,disabled:w||x.hasCheckedIn||g,className:"px-5 py-2.5 bg-white text-indigo-600 rounded-xl hover:bg-white/90 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-semibold flex items-center gap-2 transition-all shadow-md hover:shadow-lg",children:[r.jsx(MC,{className:"w-4 h-4"}),x.hasCheckedIn?"Checked In":"Check In"]}),r.jsxs("button",{onClick:Ut,disabled:w||!x.hasCheckedIn||x.hasCheckedOut||g,className:"px-5 py-2.5 bg-white/20 text-white border border-white/30 rounded-xl hover:bg-white/30 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-semibold flex items-center gap-2 transition-all",children:[r.jsx(Vd,{className:"w-4 h-4"}),x.hasCheckedOut?"Checked Out":"Check Out"]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-xl border border-green-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:m.presentDays}),r.jsx("div",{className:"text-sm font-medium text-green-700 mt-1",children:"Days Present"})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:r.jsx(Fr,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 p-5 rounded-xl border border-amber-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-amber-600",children:m.lateDays}),r.jsx("div",{className:"text-sm font-medium text-amber-700 mt-1",children:"Days Late"})]}),r.jsx("div",{className:"bg-amber-100 p-3 rounded-xl",children:r.jsx(FC,{className:"w-6 h-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 p-5 rounded-xl border border-red-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-red-600",children:m.absentDays}),r.jsx("div",{className:"text-sm font-medium text-red-700 mt-1",children:"Days Absent"})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-xl",children:r.jsx(ia,{className:"w-6 h-6 text-red-600"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-5 rounded-xl border border-blue-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[m.attendanceRate,"%"]}),r.jsx("div",{className:"text-sm font-medium text-blue-700 mt-1",children:"Attendance Rate"})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:r.jsx(ei,{className:"w-6 h-6 text-blue-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-5 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-slate-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:r.jsx(Dr,{className:"w-5 h-5 text-indigo-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:"Attendance History"}),r.jsx("p",{className:"text-xs text-gray-500",children:Me(c)})]})]}),r.jsxs("span",{className:"text-sm text-gray-500 bg-white px-3 py-1.5 rounded-lg border border-gray-200",children:[u.length," Records"]})]})}),r.jsx("div",{className:"p-5",children:g?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"w-10 h-10 border-4 border-indigo-200 border-t-indigo-600 rounded-full mb-4",style:{animation:"spin 1s linear infinite"}}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Loading attendance for ",Me(c),"..."]})]}):u.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx("div",{className:"bg-gray-100 p-4 rounded-full mb-4",children:r.jsx(ir,{className:"w-8 h-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 font-medium",children:"No Records Found"}),r.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["No attendance records for ",Me(c)]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider rounded-l-lg",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Check In"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Check Out"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider rounded-r-lg",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:u.map(le=>r.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg",children:r.jsx(Em,{className:"w-4 h-4 text-indigo-600"})}),r.jsx("span",{className:"font-medium text-gray-900",children:Le(le.date)})]})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(MC,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"font-medium text-green-700",children:Ge(le.checkIn)})]})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vd,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:"font-medium text-red-700",children:Ge(le.checkOut)})]})}),r.jsx("td",{className:"px-4 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold ${le.status==="Present"?"bg-green-100 text-green-700":le.status==="Late"?"bg-amber-100 text-amber-700":le.status==="Absent"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:[le.status==="Present"&&r.jsx(Fr,{className:"w-3 h-3"}),le.status==="Late"&&r.jsx(FC,{className:"w-3 h-3"}),le.status==="Absent"&&r.jsx(ia,{className:"w-3 h-3"}),le.status]})})]},le.id||le.date))})]})})})]})]}),vt=()=>r.jsxs("div",{className:"space-y-6",children:[B&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-sm text-red-700 flex items-center gap-2",children:[r.jsx(br,{className:"w-5 h-5 text-red-500 shrink-0"}),B]}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Leave Management"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track and manage your leave requests"})]}),r.jsxs("button",{onClick:()=>{D(null),z({type:"Sick Leave",startDate:"",endDate:"",reason:""}),P(""),n(!0)},className:"bg-blue-600 text-white px-5 py-2.5 rounded-xl hover:bg-blue-700 flex items-center gap-2 shadow-sm transition-all hover:shadow-md",children:[r.jsx(vs,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"Apply Leave"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-xl border border-green-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:ur.availableDays}),r.jsx("div",{className:"text-sm font-medium text-green-700 mt-1",children:"Available Days"})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:r.jsx(Fr,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 p-5 rounded-xl border border-amber-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-amber-600",children:ur.usedDays}),r.jsx("div",{className:"text-sm font-medium text-amber-700 mt-1",children:"Used Days"})]}),r.jsx("div",{className:"bg-amber-100 p-3 rounded-xl",children:r.jsx(Em,{className:"w-6 h-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-5 rounded-xl border border-blue-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600",children:ur.pendingRequests}),r.jsx("div",{className:"text-sm font-medium text-blue-700 mt-1",children:"Pending Requests"})]}),r.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:r.jsx(fr,{className:"w-6 h-6 text-blue-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:"Leave Requests"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"View:"}),r.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{type:"button",onClick:()=>O("list"),className:`p-2 rounded-md transition-all ${G==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,title:"List View",children:r.jsx(zv,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>O("grid"),className:`p-2 rounded-md transition-all ${G==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,title:"Grid View",children:r.jsx(J8,{className:"w-4 h-4"})})]})]})]}),r.jsx("div",{className:"p-6",children:I?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading leave requests..."})]}):S.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ir,{className:"w-8 h-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 font-medium",children:"No leave requests found"}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:'Click "Apply Leave" to submit your first request'})]}):G==="list"?r.jsx("div",{className:"space-y-3",children:S.map(le=>r.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-gray-300 hover:shadow-sm transition-all bg-gray-50/50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`p-2.5 rounded-xl shrink-0 ${le.type==="Sick Leave"?"bg-red-100":le.type==="Casual Leave"?"bg-orange-100":le.type==="Annual Leave"?"bg-green-100":"bg-purple-100"}`,children:r.jsx(q8,{className:`w-5 h-5 ${le.type==="Sick Leave"?"text-red-600":le.type==="Casual Leave"?"text-orange-600":le.type==="Annual Leave"?"text-green-600":"text-purple-600"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("h5",{className:"font-semibold text-gray-900",children:le.type}),r.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${ye(le.status)}`,children:le.status})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1.5 text-sm text-gray-600",children:[r.jsx(Em,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{children:[Le(le.startDate),"  ",Le(le.endDate)]})]}),le.reason&&r.jsxs("div",{className:"flex items-start gap-2 mt-2 text-sm text-gray-600",children:[r.jsx(mn,{className:"w-4 h-4 text-gray-400 mt-0.5 shrink-0"}),r.jsx("span",{className:"line-clamp-2",children:le.reason})]}),le.adminNote&&r.jsxs("div",{className:"mt-2 text-xs text-amber-700 bg-amber-50 px-2 py-1 rounded-md inline-block",children:["Admin: ",le.adminNote]})]})]}),String(le.status).toLowerCase()==="pending"&&r.jsxs("div",{className:"flex items-center gap-1 sm:flex-col sm:gap-1",children:[r.jsxs("button",{type:"button",onClick:()=>or(le),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[r.jsx(HA,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),r.jsxs("button",{type:"button",onClick:()=>Jr(le),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[r.jsx(vn,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})]})},le.id))}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(le=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-5 hover:border-gray-300 hover:shadow-md transition-all bg-white",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`p-2.5 rounded-xl ${le.type==="Sick Leave"?"bg-red-100":le.type==="Casual Leave"?"bg-orange-100":le.type==="Annual Leave"?"bg-green-100":"bg-purple-100"}`,children:r.jsx(q8,{className:`w-5 h-5 ${le.type==="Sick Leave"?"text-red-600":le.type==="Casual Leave"?"text-orange-600":le.type==="Annual Leave"?"text-green-600":"text-purple-600"}`})}),r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${ye(le.status)}`,children:le.status})]}),r.jsx("h5",{className:"font-semibold text-gray-900 mb-2",children:le.type}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[r.jsx(Em,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:Le(le.startDate)}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:Le(le.endDate)})]}),le.reason&&r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:le.reason}),le.adminNote&&r.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 px-2 py-1 rounded-md mb-3",children:["Admin: ",le.adminNote]}),String(le.status).toLowerCase()==="pending"&&r.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100",children:[r.jsxs("button",{type:"button",onClick:()=>or(le),className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",children:[r.jsx(HA,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{type:"button",onClick:()=>Jr(le),className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",children:[r.jsx(vn,{className:"w-4 h-4"}),"Delete"]})]})]},le.id))})})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:le=>le.target===le.currentTarget&&n(!1),style:{animation:"fadeIn 0.2s ease-out"},children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",style:{animation:"slideUp 0.3s ease-out"},children:[r.jsx("div",{className:"bg-linear-to-r from-blue-600 to-blue-700 rounded-t-2xl px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:r.jsx(ir,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:H?"Edit Leave Request":"Apply for Leave"})]}),r.jsx("button",{type:"button",onClick:()=>{n(!1),D(null)},className:"text-white/80 hover:text-white hover:bg-white/20 rounded-lg p-1.5 transition-colors",children:r.jsx(ks,{className:"w-5 h-5"})})]})}),r.jsxs("form",{className:"p-6 space-y-5",onSubmit:mr,children:[B&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[r.jsx(br,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),r.jsx("p",{className:"text-sm text-red-700",children:B})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Leave Type"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:F.type,onChange:le=>z(Ne=>({...Ne,type:le.target.value})),className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all appearance-none cursor-pointer",children:[r.jsx("option",{value:"Sick Leave",children:"Sick Leave"}),r.jsx("option",{value:"Casual Leave",children:"Casual Leave"}),r.jsx("option",{value:"Annual Leave",children:"Annual Leave"}),r.jsx("option",{value:"Maternity Leave",children:"Maternity Leave"})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Start Date"}),r.jsx("input",{type:"date",required:!0,value:F.startDate,onChange:le=>z(Ne=>({...Ne,startDate:le.target.value})),className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"End Date"}),r.jsx("input",{type:"date",required:!0,value:F.endDate,min:F.startDate,onChange:le=>z(Ne=>({...Ne,endDate:le.target.value})),className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Reason"}),r.jsx("textarea",{value:F.reason,onChange:le=>z(Ne=>({...Ne,reason:le.target.value})),placeholder:"Please provide a reason for your leave request...",className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",rows:"3"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-3",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-blue-700",children:"Available Leave Days:"}),r.jsxs("span",{className:"font-semibold text-blue-800",children:[ur.availableDays," days"]})]})}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>{n(!1),D(null)},className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:M,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:M?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Submitting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Gu,{className:"w-4 h-4"}),r.jsx("span",{children:H?"Update Request":"Submit Request"})]})})]})]})]})}),Q&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:le=>le.target===le.currentTarget&&!q&&ee(null),style:{animation:"fadeIn 0.2s ease-out"},children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm",style:{animation:"slideUp 0.3s ease-out"},children:[r.jsx("div",{className:"pt-6 pb-2 flex justify-center",children:r.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:r.jsx(vn,{className:"w-8 h-8 text-red-600"})})}),r.jsxs("div",{className:"px-6 pb-2 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Leave Request?"}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Are you sure you want to delete this leave request?"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mt-3 text-left",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${Q.type==="Sick Leave"?"bg-red-500":Q.type==="Casual Leave"?"bg-orange-500":Q.type==="Annual Leave"?"bg-green-500":"bg-purple-500"}`}),r.jsx("span",{className:"font-medium text-gray-900 text-sm",children:Q.type})]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[Le(Q.startDate),"  ",Le(Q.endDate)]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"This action cannot be undone."})]}),r.jsxs("div",{className:"p-6 flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>ee(null),disabled:q,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:it,disabled:q,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-colors disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:q?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Deleting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(vn,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})})]})]})})]}),Nt=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Profile Management"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"View and manage your personal information"})]}),r.jsx("button",{onClick:De,disabled:ue||ie,className:`px-5 py-2.5 rounded-xl flex items-center gap-2 shadow-sm transition-all hover:shadow-md disabled:opacity-60 disabled:cursor-not-allowed ${o?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:ue?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"font-medium",children:"Saving..."})]}):o?r.jsxs(r.Fragment,{children:[r.jsx(BS,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Save Changes"})]}):r.jsxs(r.Fragment,{children:[r.jsx(HA,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:"Edit Profile"})]})})]}),Be&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center gap-3",children:[r.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:r.jsx(br,{className:"w-5 h-5 text-red-600"})}),r.jsx("p",{className:"text-sm text-red-700",children:Be})]}),lt&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[r.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:r.jsx(Fr,{className:"w-5 h-5 text-green-600"})}),r.jsx("p",{className:"text-sm text-green-700",children:lt})]}),ie?r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-600 mb-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("p",{className:"text-gray-500",children:"Loading profile..."})]})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 px-6 py-8",children:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[r.jsxs("div",{className:"relative",children:[W.profilePic?r.jsx("img",{src:W.profilePic,alt:W.name||"Profile",className:"w-28 h-28 rounded-full object-cover border-4 border-white/30 shadow-lg"}):r.jsx("div",{className:"w-28 h-28 bg-white/20 rounded-full flex items-center justify-center border-4 border-white/30",children:r.jsx(kce,{className:"w-16 h-16 text-white/80"})}),o&&r.jsx("button",{type:"button",onClick:()=>{var le;return(le=pt.current)==null?void 0:le.click()},disabled:ue,className:"absolute bottom-1 right-1 bg-white text-blue-600 p-2.5 rounded-full hover:bg-gray-100 disabled:opacity-60 shadow-lg transition-transform hover:scale-105",children:r.jsx(MP,{className:"w-4 h-4"})}),r.jsx("input",{ref:pt,type:"file",accept:"image/*",className:"hidden",onChange:Et})]}),r.jsxs("div",{className:"text-center sm:text-left",children:[r.jsx("h4",{className:"text-2xl font-bold text-white",children:W.name||"Teacher Name"}),r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 mt-2",children:[r.jsx(dc,{className:"w-4 h-4 text-white/70"}),r.jsx("p",{className:"text-white/90",children:W.department||"Department"})]}),r.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 mt-1",children:[r.jsx(jg,{className:"w-4 h-4 text-white/70"}),r.jsxs("p",{className:"text-white/80 text-sm",children:["ID: ",W.employeeId||"N/A"]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-6 bg-gray-50 border-b border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-blue-100 p-2.5 rounded-xl",children:r.jsx(xa,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:W.email||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-green-100 p-2.5 rounded-xl",children:r.jsx(oa,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:W.phone||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-purple-100 p-2.5 rounded-xl",children:r.jsx(Em,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Join Date"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:Le(W.joinDate)||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-amber-100 p-2.5 rounded-xl",children:r.jsx(Xd,{className:"w-5 h-5 text-amber-600"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Emergency"}),r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:W.emergencyContact||"N/A"})]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[r.jsx("h5",{className:"font-semibold text-gray-800",children:"Personal Information"}),o&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:"Editing"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:W.name,onChange:le=>Ie("name",le.target.value),disabled:!o,className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-600 transition-all"}),r.jsx(us,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"email",value:W.email,onChange:le=>Ie("email",le.target.value),disabled:!o,className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-600 transition-all"}),r.jsx(xa,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"tel",value:W.phone,onChange:le=>Ie("phone",le.target.value),disabled:!o,className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-600 transition-all"}),r.jsx(oa,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Department"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:W.department,onChange:le=>Ie("department",le.target.value),disabled:!o,className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-600 transition-all"}),r.jsx(dc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Join Date"}),r.jsx("div",{className:"relative",children:r.jsx("input",{type:"date",value:W.joinDate,onChange:le=>Ie("joinDate",le.target.value),disabled:!o,className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-600 transition-all"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Employee ID"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:W.employeeId,disabled:!0,className:"block w-full px-4 py-2.5 bg-gray-100 border border-gray-300 rounded-xl text-gray-600 cursor-not-allowed"}),r.jsx(jg,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Employee ID cannot be changed"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Address"}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:W.address,onChange:le=>Ie("address",le.target.value),disabled:!o,placeholder:"Enter your full address...",className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-600 transition-all resize-none",rows:"3"}),r.jsx(Mi,{className:"absolute right-3 top-3 w-5 h-5 text-gray-400"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Emergency Contact"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:W.emergencyContact,onChange:le=>Ie("emergencyContact",le.target.value),disabled:!o,placeholder:"Name and phone number of emergency contact",className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:text-gray-600 transition-all"}),r.jsx(Xd,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]})]}),o&&r.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-100",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:De,disabled:ue,className:"px-5 py-2.5 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:ue?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Gu,{className:"w-4 h-4"}),r.jsx("span",{children:"Save Changes"})]})})]})]})]})})]}),pe=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications & Alerts"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[J.filter(le=>!le.read).length," unread"]})]}),r.jsx("div",{className:"space-y-4",children:J.map(le=>r.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${le.read?"":"border-l-4 border-l-blue-500"}`,children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[le.type==="success"&&r.jsx(Fr,{className:"w-5 h-5 text-green-500"}),le.type==="warning"&&r.jsx(br,{className:"w-5 h-5 text-yellow-500"}),le.type==="info"&&r.jsx(Ule,{className:"w-5 h-5 text-blue-500"}),r.jsx("h4",{className:`font-medium ${le.read?"text-gray-600":"text-gray-900"}`,children:le.title})]}),r.jsx("p",{className:`mt-1 text-sm ${le.read?"text-gray-500":"text-gray-700"}`,children:le.message}),r.jsx("p",{className:"mt-2 text-xs text-gray-400",children:le.timestamp})]}),!le.read&&r.jsx("button",{onClick:()=>fe(le.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark as read"})]})},le.id))})]}),ze=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Document Access"}),r.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[r.jsx(ax,{className:"w-4 h-4"}),r.jsx("span",{children:"Upload Document"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:xe.map(le=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:r.jsx(Dr,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate",children:le.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[le.type,"  ",le.size]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[le.category,"  ",le.uploadDate]})]})]}),r.jsx("div",{className:"mt-3 flex justify-end",children:r.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1",children:[r.jsx(bs,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Download"})]})})]},le.id))})})})]}),Ye=()=>r.jsxs("div",{className:"space-y-6",children:[et&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-700 flex items-center gap-3",children:[r.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:r.jsx(br,{className:"w-5 h-5 text-red-600"})}),et]}),r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Expense Claims"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Submit and track your expense reimbursements"})]}),r.jsxs("button",{onClick:()=>{mt(null),st(""),tt({category:"Travel",amount:"",description:"",date:new Date().toISOString().slice(0,10),receiptFile:null,receiptName:"",receiptUrl:""}),i(!0)},className:"bg-blue-600 text-white px-5 py-2.5 rounded-xl hover:bg-blue-700 flex items-center gap-2 shadow-sm transition-all hover:shadow-md",children:[r.jsx(vs,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:"New Claim"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-xl border border-green-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-bold text-green-600 flex items-center",children:[r.jsx(_o,{className:"w-6 h-6"}),pr.approved.toLocaleString("en-IN")]}),r.jsx("div",{className:"text-sm font-medium text-green-700 mt-1",children:"Approved Claims"})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:r.jsx(Fr,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 p-5 rounded-xl border border-amber-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-bold text-amber-600 flex items-center",children:[r.jsx(_o,{className:"w-6 h-6"}),pr.pending.toLocaleString("en-IN")]}),r.jsx("div",{className:"text-sm font-medium text-amber-700 mt-1",children:"Pending Claims"})]}),r.jsx("div",{className:"bg-amber-100 p-3 rounded-xl",children:r.jsx(fr,{className:"w-6 h-6 text-amber-600"})})]})}),r.jsx("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 p-5 rounded-xl border border-red-100 shadow-sm",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl font-bold text-red-600 flex items-center",children:[r.jsx(_o,{className:"w-6 h-6"}),pr.rejected.toLocaleString("en-IN")]}),r.jsx("div",{className:"text-sm font-medium text-red-700 mt-1",children:"Rejected Claims"})]}),r.jsx("div",{className:"bg-red-100 p-3 rounded-xl",children:r.jsx(ks,{className:"w-6 h-6 text-red-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:"Expense History"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"View:"}),r.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{type:"button",onClick:()=>Tt("list"),className:`p-2 rounded-md transition-all ${At==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,title:"List View",children:r.jsx(zv,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>Tt("grid"),className:`p-2 rounded-md transition-all ${At==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,title:"Grid View",children:r.jsx(J8,{className:"w-4 h-4"})})]})]})]}),r.jsx("div",{className:"p-6",children:he?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"ml-3 text-gray-500",children:"Loading expenses..."})]}):$e.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(nB,{className:"w-8 h-8 text-gray-400"})}),r.jsx("p",{className:"text-gray-500 font-medium",children:"No expense claims found"}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:'Click "New Claim" to submit your first expense'})]}):At==="list"?r.jsx("div",{className:"space-y-3",children:$e.map(le=>r.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-gray-300 hover:shadow-sm transition-all bg-gray-50/50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:`p-2.5 rounded-xl shrink-0 ${le.category==="Travel"?"bg-blue-100":le.category==="Supplies"?"bg-purple-100":le.category==="Training"?"bg-green-100":le.category==="Entertainment"?"bg-pink-100":"bg-gray-100"}`,children:r.jsx(aB,{className:`w-5 h-5 ${le.category==="Travel"?"text-blue-600":le.category==="Supplies"?"text-purple-600":le.category==="Training"?"text-green-600":le.category==="Entertainment"?"text-pink-600":"text-gray-600"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("h5",{className:"font-semibold text-gray-900",children:le.category}),r.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${ye(le.status)}`,children:le.status})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:le.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-1.5 text-sm text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Em,{className:"w-4 h-4"}),Le(le.date)]}),le.receiptUrl&&r.jsxs("a",{href:le.receiptUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[r.jsx(tB,{className:"w-4 h-4"}),"View Receipt"]})]}),le.adminNote&&r.jsxs("div",{className:"mt-2 text-xs text-amber-700 bg-amber-50 px-2 py-1 rounded-md inline-block",children:["Admin: ",le.adminNote]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-xl font-bold text-gray-900 flex items-center",children:[r.jsx(_o,{className:"w-5 h-5"}),Number(le.amount).toLocaleString("en-IN")]})}),String(le.status).toLowerCase()==="pending"&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{type:"button",onClick:()=>Jt(le),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(HA,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:()=>me(le),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(vn,{className:"w-4 h-4"})})]})]})]})},le.id))}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$e.map(le=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-5 hover:border-gray-300 hover:shadow-md transition-all bg-white",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:`p-2.5 rounded-xl ${le.category==="Travel"?"bg-blue-100":le.category==="Supplies"?"bg-purple-100":le.category==="Training"?"bg-green-100":le.category==="Entertainment"?"bg-pink-100":"bg-gray-100"}`,children:r.jsx(aB,{className:`w-5 h-5 ${le.category==="Travel"?"text-blue-600":le.category==="Supplies"?"text-purple-600":le.category==="Training"?"text-green-600":le.category==="Entertainment"?"text-pink-600":"text-gray-600"}`})}),r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${ye(le.status)}`,children:le.status})]}),r.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:le.category}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900 flex items-center mb-2",children:[r.jsx(_o,{className:"w-5 h-5"}),Number(le.amount).toLocaleString("en-IN")]}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:le.description}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[r.jsx(Em,{className:"w-4 h-4"}),Le(le.date)]}),le.receiptUrl&&r.jsxs("a",{href:le.receiptUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 mb-3",children:[r.jsx(tB,{className:"w-4 h-4"}),"View Receipt"]}),le.adminNote&&r.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 px-2 py-1 rounded-md mb-3",children:["Admin: ",le.adminNote]}),String(le.status).toLowerCase()==="pending"&&r.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100",children:[r.jsxs("button",{type:"button",onClick:()=>Jt(le),className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",children:[r.jsx(HA,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{type:"button",onClick:()=>me(le),className:"flex-1 inline-flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",children:[r.jsx(vn,{className:"w-4 h-4"}),"Delete"]})]})]},le.id))})})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:le=>le.target===le.currentTarget&&i(!1),style:{animation:"fadeIn 0.2s ease-out"},children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",style:{animation:"slideUp 0.3s ease-out"},children:[r.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 rounded-t-2xl px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:r.jsx(nB,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:ot?"Edit Expense Claim":"New Expense Claim"})]}),r.jsx("button",{type:"button",onClick:()=>{i(!1),mt(null)},className:"text-white/80 hover:text-white hover:bg-white/20 rounded-lg p-1.5 transition-colors",children:r.jsx(ks,{className:"w-5 h-5"})})]})}),r.jsxs("form",{className:"p-6 space-y-5",onSubmit:yr,children:[et&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[r.jsx(br,{className:"w-5 h-5 text-red-500 shrink-0 mt-0.5"}),r.jsx("p",{className:"text-sm text-red-700",children:et})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Category"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:kt.category,onChange:le=>tt(Ne=>({...Ne,category:le.target.value})),className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all appearance-none cursor-pointer",children:[r.jsx("option",{value:"Travel",children:"Travel"}),r.jsx("option",{value:"Supplies",children:"Supplies"}),r.jsx("option",{value:"Training",children:"Training"}),r.jsx("option",{value:"Entertainment",children:"Entertainment"}),r.jsx("option",{value:"Other",children:"Other"})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Date"}),r.jsx("input",{type:"date",value:kt.date,onChange:le=>tt(Ne=>({...Ne,date:le.target.value})),className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Amount ()"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:r.jsx(_o,{className:"w-5 h-5 text-gray-400"})}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:kt.amount,onChange:le=>tt(Ne=>({...Ne,amount:le.target.value})),placeholder:"0.00",className:"block w-full pl-12 pr-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Description"}),r.jsx("textarea",{value:kt.description,onChange:le=>tt(Ne=>({...Ne,description:le.target.value})),placeholder:"Describe your expense...",className:"block w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-xl text-gray-900 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all resize-none",rows:"3"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Receipt (Optional)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-emerald-400 transition-colors",children:[r.jsx("input",{type:"file",onChange:le=>tt(Ne=>{var de;return{...Ne,receiptFile:((de=le.target.files)==null?void 0:de[0])||null}}),className:"hidden",id:"receipt-upload"}),r.jsxs("label",{htmlFor:"receipt-upload",className:"cursor-pointer",children:[r.jsx(ax,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload receipt"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, PDF up to 5MB"})]})]}),kt.receiptFile&&r.jsxs("p",{className:"text-xs text-emerald-600 mt-2",children:["Selected: ",kt.receiptFile.name]}),kt.receiptName&&!kt.receiptFile&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Current: ",kt.receiptName]})]}),r.jsxs("div",{className:"flex gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>{i(!1),mt(null)},className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:_e,className:"flex-1 px-4 py-2.5 bg-emerald-600 text-white rounded-xl font-medium hover:bg-emerald-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:_e?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Submitting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Gu,{className:"w-4 h-4"}),r.jsx("span",{children:ot?"Update Claim":"Submit Claim"})]})})]})]})]})}),rt&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:le=>le.target===le.currentTarget&&!Qt&&Dt(null),style:{animation:"fadeIn 0.2s ease-out"},children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm",style:{animation:"slideUp 0.3s ease-out"},children:[r.jsx("div",{className:"pt-6 pb-2 flex justify-center",children:r.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:r.jsx(vn,{className:"w-8 h-8 text-red-600"})})}),r.jsxs("div",{className:"px-6 pb-2 text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Expense Claim?"}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Are you sure you want to delete this expense claim?"}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mt-3 text-left",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900 text-sm",children:rt.category}),r.jsxs("span",{className:"font-bold text-gray-900 flex items-center",children:[r.jsx(_o,{className:"w-4 h-4"}),Number(rt.amount).toLocaleString("en-IN")]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:Le(rt.date)})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"This action cannot be undone."})]}),r.jsxs("div",{className:"p-6 flex gap-3",children:[r.jsx("button",{type:"button",onClick:()=>Dt(null),disabled:Qt,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-xl text-gray-700 font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"button",onClick:Fe,disabled:Qt,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-colors disabled:opacity-60 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Qt?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Deleting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(vn,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})})]})]})})]});return r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Work Portal"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your work-related activities and information"})]}),r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:Ze.map(le=>r.jsxs("button",{onClick:()=>e(le.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t===le.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(le.icon,{className:"w-5 h-5"}),r.jsx("span",{children:le.label})]},le.id))})}),r.jsxs("div",{className:"tab-content",children:[t==="attendance"&&bt(),t==="leave"&&vt(),t==="profile"&&Nt(),t==="notifications"&&pe(),t==="documents"&&ze(),t==="expenses"&&Ye()]})]})})},Vc=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Dqe=Vc.reduce((t,e)=>(t[e.toLowerCase()]=e,t),{}),wT=t=>{if(!t)return"";const[e,s]=String(t).split(":"),n=Number(e);if(Number.isNaN(n))return t;const a=n>=12?"PM":"AM";return`${n%12||12}:${s||"00"} ${a}`},jT=t=>t.startTime&&t.endTime?`${wT(t.startTime)} - ${wT(t.endTime)}`:t.startTime?wT(t.startTime):t.period?`Period ${t.period}`:"TBD",Rqe=t=>{if(!t)return null;const e=String(t).trim().toLowerCase();return Dqe[e]||null},Fq=t=>{const e=Vc.reduce((s,n)=>(s[n]=[],s),{});return!t||typeof t!="object"||Object.entries(t).forEach(([s,n])=>{const a=Rqe(s);a&&(e[a]=Array.isArray(n)?n:[])}),e},tae=t=>String(t||"").trim().toLowerCase(),gD=t=>t?Array.isArray(t)?t:typeof t=="string"?t.split(",").map(e=>e.trim()).filter(Boolean):[t]:[],Pq=(t,e)=>e.flatMap(s=>gD(t==null?void 0:t[s])).filter(Boolean).map(s=>tae(s)),Iq=(t,e)=>Array.from(new Set(e.flatMap(s=>gD(t==null?void 0:t[s])).filter(Boolean).map(s=>String(s).trim()))),Lq=(t,e)=>e.map(s=>t==null?void 0:t[s]).filter(Boolean).flatMap(s=>gD(s)).map(s=>tae(s)),Dq=(t,e)=>!e.length||!t.length?!0:t.some(s=>e.some(n=>s===n||s.includes(n)||n.includes(s))),Oqe=t=>t==="campus"?"Campus matched":t==="school-fallback"?"School fallback":t==="dashboard-fallback"?"Dashboard fallback":"School matched",Uqe=()=>{const[t,e]=E.useState({}),[s,n]=E.useState(null),[a,i]=E.useState({campusScoped:!0,timetableCount:0,filterSource:"campus"}),[o,l]=E.useState(Vc[new Date().getDay()===0?6:new Date().getDay()-1]),[c,d]=E.useState("daily"),[u,h]=E.useState(!0),[m,f]=E.useState(null),x=E.useCallback(async()=>{var M,C,B,P;try{h(!0),f(null);const H=localStorage.getItem("token"),D=localStorage.getItem("userType");if(!H||D!=="Teacher"&&D!=="teacher"){f("Only teachers can view this routine.");return}const G=await fetch("http://localhost:5000/api/teacher/dashboard/routine",{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(G.ok){const O=await G.json().catch(()=>({}));e(Fq(O.schedule)),i({campusScoped:!!((M=O==null?void 0:O.meta)!=null&&M.campusScoped),timetableCount:Number(((C=O==null?void 0:O.meta)==null?void 0:C.timetableCount)||0),filterSource:((B=O==null?void 0:O.meta)==null?void 0:B.filterSource)||((P=O==null?void 0:O.meta)!=null&&P.campusScoped?"campus":"school")}),O.teacher&&n(O.teacher)}else{const O=await fetch("http://localhost:5000/api/teacher/dashboard",{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(!O.ok){const Z=await O.json().catch(()=>({}));throw new Error(Z.error||"Unable to load teacher routine.")}const Q=await O.json().catch(()=>({})),ee=new Date().toLocaleDateString("en-US",{weekday:"long"}),q=Fq({[ee]:((Q==null?void 0:Q.upcomingClasses)||[]).map((Z,F)=>({subject:Z.subject||"Subject",className:Z.class||"",sectionName:"",classLabel:Z.class||"",room:Z.room||"TBA",startTime:Z.time||"",endTime:"",period:F+1}))});e(q),i({campusScoped:!0,timetableCount:((Q==null?void 0:Q.upcomingClasses)||[]).length>0?1:0,filterSource:"dashboard-fallback"}),n((Q==null?void 0:Q.teacher)||null)}}catch(H){f(H.message||"Failed to load routine")}finally{h(!1)}},[]);E.useEffect(()=>{x()},[x]);const A=E.useMemo(()=>Pq(s,["className","class","grade","standard","assignedClass","assignedClasses","assignedClassLabels","classes"]),[s]),g=E.useMemo(()=>Iq(s,["className","class","grade","standard","assignedClass","assignedClasses","assignedClassLabels","classes"]),[s]),b=E.useMemo(()=>Pq(s,["sectionName","section","division","assignedSection","assignedSections","sections"]),[s]),w=E.useMemo(()=>Iq(s,["sectionName","section","division","assignedSection","assignedSections","sections"]),[s]),v=E.useMemo(()=>Vc.reduce((M,C)=>{const B=t[C]||[];return M[C]=B.filter(P=>{const H=Lq(P,["className","class","grade","standard","classLabel"]),D=Lq(P,["sectionName","section","division","classLabel"]),G=Dq(H,A),O=Dq(D,b);return G&&O}),M},{}),[t,A,b]),j=E.useMemo(()=>Vc.reduce((M,C)=>M+(v[C]||[]).length,0),[v]),N=E.useMemo(()=>j>0?v:t,[v,t,j]);E.useEffect(()=>{const M=Vc.find(C=>(N[C]||[]).length>0);M&&l(M)},[N]);const S=E.useMemo(()=>Vc.reduce((M,C)=>M+(N[C]||[]).length,0),[N]),T=N[o]||[],I=E.useMemo(()=>{const M=new Map;return Vc.forEach(C=>{(N[C]||[]).forEach((B,P)=>{const H=jT(B)||`Period ${B.period||P+1}`,D=Number(B.period||999);M.has(H)?D<M.get(H).order&&M.set(H,{slot:H,order:D}):M.set(H,{slot:H,order:D})})}),Array.from(M.values()).sort((C,B)=>C.order===B.order?C.slot.localeCompare(B.slot):C.order-B.order)},[N]),_=E.useMemo(()=>{const M={};return Vc.forEach(C=>{M[C]={},(N[C]||[]).forEach((B,P)=>{const H=jT(B)||`Period ${B.period||P+1}`;M[C][H]=B})}),M},[N]);return u?r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 space-y-4",children:[r.jsx("div",{className:"h-24 bg-white rounded-xl shadow animate-pulse"}),r.jsx("div",{className:"h-16 bg-white rounded-xl shadow animate-pulse"}),r.jsx("div",{className:"h-64 bg-white rounded-xl shadow animate-pulse"})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl p-6 mb-6 text-white shadow-md",children:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Class Routine"}),r.jsxs("p",{className:"text-indigo-100",children:["Teacher view only",g.length?` | Class ${g.join(", ")}`:"",w.length?` | Section ${w.join(", ")}`:""]}),s!=null&&s.subject||s!=null&&s.department?r.jsxs("p",{className:"text-indigo-50 text-sm mt-1",children:[(s==null?void 0:s.subject)||"Subject not set",s!=null&&s.department?` | ${s.department}`:""]}):null]}),r.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-indigo-50",children:[r.jsx(Wu,{size:15}),r.jsxs("span",{children:["Campus: ",(s==null?void 0:s.campusName)||"N/A",s!=null&&s.campusType?` (${s.campusType})`:""]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Weekly Classes"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:S})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:[o," Classes"]}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:T.length})]}),r.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Timetable Source"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:a.campusScoped?"Campus":"School"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Oqe(a.filterSource)," | Matched timetables: ",a.timetableCount]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 mb-6 shadow-sm border border-gray-200 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[r.jsxs("div",{className:"inline-flex rounded-lg border border-gray-200 bg-gray-50 p-1",children:[r.jsx("button",{onClick:()=>d("daily"),className:`px-3 py-1.5 rounded-md text-sm font-medium ${c==="daily"?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-200"}`,children:"Daily View"}),r.jsx("button",{onClick:()=>d("weekly"),className:`px-3 py-1.5 rounded-md text-sm font-medium ${c==="weekly"?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-200"}`,children:"Weekly Sheet"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Use Weekly Sheet for full timetable layout"}),r.jsx("button",{onClick:x,className:"text-xs font-medium text-indigo-700 hover:text-indigo-800",children:"Reload"})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Vc.map(M=>{var C;return r.jsxs("button",{onClick:()=>l(M),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===M?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[M,(C=N[M])!=null&&C.length?r.jsx("span",{className:"ml-2 text-xs rounded-full bg-indigo-500 text-white px-2 py-0.5",children:N[M].length}):null]},M)})})]}),m?r.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-xl p-4 text-red-700 flex items-center gap-2",children:[r.jsx(br,{className:"h-4 w-4"}),m]}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:c==="weekly"?"Weekly Class Routine":`${o} Schedule`})}),r.jsx("div",{className:"p-6 space-y-4",children:S===0?r.jsxs("div",{className:"text-center py-10 text-gray-500",children:[r.jsx(ir,{className:"w-10 h-10 mx-auto mb-3 text-gray-300"}),"No classes assigned yet for this teacher."]}):c==="weekly"?r.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:r.jsxs("table",{className:"w-full min-w-[920px] border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700 border-b",children:"Time"}),Vc.map(M=>r.jsx("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700 border-b",children:M},`head-${M}`))]})}),r.jsx("tbody",{children:I.map(M=>r.jsxs("tr",{className:"align-top",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-700 bg-gray-50 border-b",children:M.slot}),Vc.map(C=>{var P;const B=(P=_[C])==null?void 0:P[M.slot];return r.jsx("td",{className:"px-3 py-3 border-b",children:B?r.jsxs("div",{className:"rounded-lg border border-indigo-100 bg-indigo-50 px-3 py-2",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:B.subject||"Subject"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:B.classLabel||B.className||"Class"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:B.room||"TBA"})]}):r.jsx("div",{className:"rounded-lg border border-dashed border-gray-200 px-3 py-2 text-center text-xs text-gray-400",children:"--"})},`cell-${C}-${M.slot}`)})]},`slot-${M.slot}`))})]})}):T.length>0?T.map((M,C)=>r.jsx("div",{className:"p-4 rounded-lg border border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Hr,{className:"h-4 w-4 text-indigo-600"}),M.subject]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.classLabel})]}),r.jsxs("div",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(fr,{className:"h-4 w-4 text-indigo-600"}),jT(M)]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(Mi,{className:"h-4 w-4 text-indigo-600"}),M.room||"TBA"]}),r.jsxs("span",{className:"inline-flex items-center gap-1",children:[r.jsx(Ar,{className:"h-4 w-4 text-indigo-600"}),M.className,M.sectionName?` - ${M.sectionName}`:""]})]})]})},`${o}-${C}`)):r.jsxs("div",{className:"text-center py-10 text-gray-500",children:[r.jsx(ir,{className:"w-10 h-10 mx-auto mb-3 text-gray-300"}),"No classes scheduled for ",o,"."]})})]})]})},Hqe=()=>{const[t,e]=E.useState(""),[s,n]=E.useState(""),[a,i]=E.useState([]),[o,l]=E.useState(!1),c=["Class 5A","Class 5B","Class 6A","Class 6B","Class 7A","Class 7B"],d=[{id:1,name:"Emma Johnson",class:"Class 5A",rollNo:"001"},{id:2,name:"Liam Smith",class:"Class 5A",rollNo:"002"},{id:3,name:"Sophia Brown",class:"Class 5A",rollNo:"003"},{id:4,name:"Noah Davis",class:"Class 5B",rollNo:"004"},{id:5,name:"Olivia Wilson",class:"Class 5B",rollNo:"005"},{id:6,name:"Mason Taylor",class:"Class 6A",rollNo:"006"}],u=["Physical Symptoms","Energy Level","Appetite","Sleep Quality","Physical Activity","Injury/Illness","Hygiene","General Wellness"],h=["Mood","Social Interaction","Academic Engagement","Behavior","Attention/Focus","Stress Level","Confidence","Communication"],m={"Physical Symptoms":["None","Headache","Stomach ache","Fatigue","Cough/Cold","Fever","Other"],"Energy Level":["Very High","High","Normal","Low","Very Low"],Appetite:["Excellent","Good","Normal","Poor","Very Poor"],"Sleep Quality":["Well Rested","Slightly Tired","Tired","Very Tired","Exhausted"],"Physical Activity":["Very Active","Active","Moderate","Less Active","Inactive"],"Injury/Illness":["None","Minor Injury","Illness","Chronic Condition","Medication Needed"],Hygiene:["Excellent","Good","Acceptable","Needs Attention","Poor"],"General Wellness":["Excellent","Very Good","Good","Fair","Poor"]},f={Mood:["Very Happy","Happy","Content","Neutral","Sad","Very Sad","Irritable"],"Social Interaction":["Very Social","Social","Moderate","Withdrawn","Isolated"],"Academic Engagement":["Highly Engaged","Engaged","Moderate","Disengaged","Completely Disengaged"],Behavior:["Excellent","Good","Acceptable","Challenging","Concerning"],"Attention/Focus":["Excellent","Good","Average","Poor","Very Poor"],"Stress Level":["No Stress","Low","Moderate","High","Very High"],Confidence:["Very Confident","Confident","Moderate","Low Confidence","Very Low"],Communication:["Excellent","Good","Average","Limited","Concerning"]},[x,A]=E.useState({studentId:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),healthObservations:{},emotionObservations:{},additionalNotes:"",urgencyLevel:"normal",followUpRequired:!1,parentNotification:!1}),g=d.filter(N=>{const S=N.name.toLowerCase().includes(s.toLowerCase())||N.rollNo.includes(s),T=t===""||N.class===t;return S&&T}),b=(N,S,T)=>{A(I=>({...I,[N]:{...I[N],[S]:T}}))},w=N=>{var T;N.preventDefault();const S={...x,id:a.length+1,timestamp:new Date().toISOString(),studentName:((T=d.find(I=>I.id===parseInt(x.studentId)))==null?void 0:T.name)||""};i(I=>[S,...I]),l(!0),A({studentId:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),healthObservations:{},emotionObservations:{},additionalNotes:"",urgencyLevel:"normal",followUpRequired:!1,parentNotification:!1}),setTimeout(()=>{l(!1)},3e3)},v=N=>{switch(N){case"low":return"text-green-600 bg-green-100";case"normal":return"text-blue-600 bg-blue-100";case"high":return"text-yellow-600 bg-yellow-100";case"urgent":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},j=N=>{const S=Object.values(N).map(T=>{if(typeof T=="string"){if(T.includes("Excellent")||T.includes("Very High")||T.includes("Very Good"))return 5;if(T.includes("Good")||T.includes("High")||T.includes("Normal"))return 4;if(T.includes("Moderate")||T.includes("Acceptable")||T.includes("Average"))return 3;if(T.includes("Poor")||T.includes("Low")||T.includes("Challenging"))return 2;if(T.includes("Very Poor")||T.includes("Very Low")||T.includes("Concerning"))return 1}return 3});return S.length>0?Math.round(S.reduce((T,I)=>T+I,0)/S.length):0};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(Es,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Health & Emotion Observation"}),r.jsx("p",{className:"text-gray-600",children:"Record daily observations of student physical health and emotional wellbeing"})]})]})}),o&&r.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Fr,{className:"w-5 h-5 mr-2"}),r.jsx("span",{className:"font-medium",children:"Observation recorded successfully!"})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(vs,{className:"w-5 h-5 mr-2"}),"New Observation Entry"]})}),r.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Student"}),r.jsxs("select",{value:x.studentId,onChange:N=>A(S=>({...S,studentId:N.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[r.jsx("option",{value:"",children:"Choose a student"}),g.map(N=>r.jsxs("option",{value:N.id,children:[N.name," - ",N.rollNo," (",N.class,")"]},N.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:x.date,onChange:N=>A(S=>({...S,date:N.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),r.jsx("input",{type:"time",value:x.time,onChange:N=>A(S=>({...S,time:N.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(Do,{className:"w-5 h-5 mr-2 text-red-500"}),"Physical Health Observations"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(N=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:N}),r.jsxs("select",{value:x.healthObservations[N]||"",onChange:S=>b("healthObservations",N,S.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select option"}),m[N].map(S=>r.jsx("option",{value:S,children:S},S))]})]},N))})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(Vs,{className:"w-5 h-5 mr-2 text-purple-500"}),"Emotional & Behavioral Observations"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(N=>r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:N}),r.jsxs("select",{value:x.emotionObservations[N]||"",onChange:S=>b("emotionObservations",N,S.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select option"}),f[N].map(S=>r.jsx("option",{value:S,children:S},S))]})]},N))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),r.jsxs("select",{value:x.urgencyLevel,onChange:N=>A(S=>({...S,urgencyLevel:N.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"low",children:"Low - Routine observation"}),r.jsx("option",{value:"normal",children:"Normal - Standard monitoring"}),r.jsx("option",{value:"high",children:"High - Needs attention"}),r.jsx("option",{value:"urgent",children:"Urgent - Immediate action required"})]})]}),r.jsxs("div",{className:"flex flex-col space-y-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"followUp",checked:x.followUpRequired,onChange:N=>A(S=>({...S,followUpRequired:N.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"followUp",className:"ml-2 text-sm text-gray-700",children:"Follow-up required"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"parentNotify",checked:x.parentNotification,onChange:N=>A(S=>({...S,parentNotification:N.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"parentNotify",className:"ml-2 text-sm text-gray-700",children:"Notify parents"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes & Observations"}),r.jsx("textarea",{value:x.additionalNotes,onChange:N=>A(S=>({...S,additionalNotes:N.target.value})),placeholder:"Add any additional observations, context, or specific details...",rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("button",{type:"submit",disabled:!x.studentId,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center ${x.studentId?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[r.jsx(BS,{className:"w-5 h-5 mr-2"}),"Save Observation"]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Po,{className:"w-5 h-5 mr-2"}),"Student Filter"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),r.jsxs("select",{value:t,onChange:N=>e(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Classes"}),c.map(N=>r.jsx("option",{value:N,children:N},N))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Student"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Name or roll number...",value:s,onChange:N=>n(N.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(ds,{className:"w-5 h-5 mr-2"}),"Recent Observations"]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.length>0?a.slice(0,5).map(N=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(us,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900 text-sm",children:N.studentName}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(N.urgencyLevel)}`,children:N.urgencyLevel.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[r.jsx(fr,{className:"w-3 h-3"}),r.jsx("span",{children:N.date})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[r.jsxs("div",{className:"text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Health Score:"}),r.jsxs("span",{className:"ml-1 font-medium",children:[j(N.healthObservations),"/5"]})]}),r.jsxs("div",{className:"text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"Emotion Score:"}),r.jsxs("span",{className:"ml-1 font-medium",children:[j(N.emotionObservations),"/5"]})]})]}),N.additionalNotes&&r.jsx("p",{className:"text-xs text-gray-600 truncate",children:N.additionalNotes}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[N.followUpRequired&&r.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Follow-up"}),N.parentNotification&&r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Parent Notify"})]})]},N.id)):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(ei,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"No observations recorded yet"})]})})]})]})]})]})})},_l="/teacher",Rq=[{icon:pb,label:"Dashboard",path:`${_l}/dashboard`},{icon:BP,label:"My Work Portal",path:`${_l}/my-work-portal`},{icon:fr,label:"Class Routine",path:`${_l}/class-routine`},{icon:Yd,label:"Attendance",path:`${_l}/attendance`},{icon:ma,label:"Student Progress",path:`${_l}/progress`},{icon:Yi,label:"Weak Students",path:`${_l}/weak-students`},{icon:Vs,label:"AI Powered Teaching",path:`${_l}/ai-powered-teaching`},{icon:ei,label:"Student Health Updates",path:`${_l}/health-updates`},{icon:Es,label:"Student Observations",path:`${_l}/student-observations`},{icon:ir,label:"Parent Meetings",path:`${_l}/parent-meetings`},{icon:Dr,label:"Assignment Management",path:`${_l}/assignments`},{icon:lv,label:"Assignment Evaluation",path:`${_l}/evaluation`},{icon:mn,label:"Chat",path:`${_l}/chat`},{icon:Hr,label:"Lesson Plans",path:`${_l}/lesson-plans`}],Oq=()=>{const[t,e]=E.useState(!1),s=Ol(),n=qn();E.useEffect(()=>{if(!s.pathname.startsWith("/teachers"))return;const o=s.pathname.replace("/teachers","/teacher");n(o,{replace:!0})},[s.pathname,n]),E.useEffect(()=>{window.innerWidth>=1024||e(!1)},[s.pathname]),E.useEffect(()=>{if(t)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[t]);const a=E.useMemo(()=>{const o=Rq.find(l=>s.pathname===l.path||s.pathname.startsWith(`${l.path}/`));return(o==null?void 0:o.label)||"Teacher Portal"},[s.pathname]),i=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),n("/")};return r.jsxs("div",{className:"min-h-screen bg-slate-100 flex",children:[t&&r.jsx("div",{className:"fixed inset-0 bg-black/40 z-30 lg:hidden",onClick:()=>e(!1)}),r.jsxs("aside",{className:`fixed lg:sticky top-0 left-0 z-40 h-screen w-72 border-r border-slate-200 bg-white shadow-xl transition-transform duration-300 ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[r.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-slate-200 px-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-100 text-amber-700 flex items-center justify-center",children:r.jsx(Ar,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"Teacher Portal"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Academic workspace"})]})]}),r.jsx("button",{className:"lg:hidden rounded-lg p-2 text-slate-600 hover:bg-slate-100",onClick:()=>e(!1),"aria-label":"Close sidebar",children:r.jsx(ks,{size:18})})]}),r.jsx("nav",{className:"h-[calc(100vh-4rem)] overflow-y-auto p-3",children:r.jsx("div",{className:"space-y-1",children:Rq.map(o=>r.jsxs(Hv,{to:o.path,className:({isActive:l})=>`group flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium transition ${l?"bg-amber-100 text-amber-800":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:[r.jsx(o.icon,{size:18}),r.jsx("span",{children:o.label})]},o.path))})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("header",{className:"sticky top-0 z-20 border-b border-slate-200 bg-white/90 backdrop-blur",children:r.jsxs("div",{className:"flex h-16 items-center justify-between px-3 sm:px-6",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("button",{className:"lg:hidden rounded-lg p-2 text-slate-700 hover:bg-slate-100",onClick:()=>e(!0),"aria-label":"Open sidebar",children:r.jsx(Ng,{size:20})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-base sm:text-lg font-semibold text-slate-900 truncate",children:a}),r.jsx("p",{className:"text-xs text-slate-500 truncate",children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric",year:"numeric"})})]})]}),r.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-1.5 text-sm font-medium text-red-700 hover:bg-red-100",onClick:i,children:[r.jsx(Vd,{size:16}),"Logout"]})]})}),r.jsx("main",{className:"p-2 sm:p-4",children:r.jsxs(J1,{children:[r.jsx(sr,{index:!0,element:r.jsx(Uv,{to:"/teacher/dashboard",replace:!0})}),r.jsx(sr,{path:"dashboard",element:r.jsx(Aqe,{})}),r.jsx(sr,{path:"test",element:r.jsx(_qe,{})}),r.jsx(sr,{path:"my-work-portal",element:r.jsx(Lqe,{})}),r.jsx(sr,{path:"class-routine",element:r.jsx(Uqe,{})}),r.jsx(sr,{path:"attendance",element:r.jsx(xqe,{})}),r.jsx(sr,{path:"progress",element:r.jsx(Nqe,{})}),r.jsx(sr,{path:"weak-students",element:r.jsx(Sqe,{})}),r.jsx(sr,{path:"ai-powered-teaching",element:r.jsx(Eqe,{})}),r.jsx(sr,{path:"ai-learning/:studentId/:subject",element:r.jsx(Cqe,{})}),r.jsx(sr,{path:"health-updates",element:r.jsx(hqe,{})}),r.jsx(sr,{path:"student-observations",element:r.jsx(Hqe,{})}),r.jsx(sr,{path:"parent-meetings",element:r.jsx(fqe,{})}),r.jsx(sr,{path:"assignments",element:r.jsx(mqe,{})}),r.jsx(sr,{path:"evaluation",element:r.jsx(pqe,{})}),r.jsx(sr,{path:"chat",element:r.jsx(jqe,{})}),r.jsx(sr,{path:"lesson-plans",element:r.jsx(gqe,{})})]})})]})]})},Qqe=()=>{const[t,e]=E.useState(0),[s,n]=E.useState(0),[a,i]=E.useState(""),[o,l]=E.useState("Student"),[c,d]=E.useState(""),[u,h]=E.useState(""),[m,f]=E.useState(""),[x,A]=E.useState(""),[g,b]=E.useState(""),[w,v]=E.useState(!1),[j,N]=E.useState(!1),[S,T]=E.useState(""),I=qn(),_=o==="Student",M=o==="Parent",C=async P=>{if(P.preventDefault(),!S){alert("Please indicate if you are willing to allow promotional use.");return}if(_&&!w){alert("You must agree to the Terms & Conditions.");return}try{N(!0);const H=await fetch("http://localhost:5000/api/feedback/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:o,name:c,schoolName:u,phone:m,email:x,class:g,consent:S,rating:t,feedback:a})});if(!H.ok)throw new Error("Failed to submit feedback");const D=await H.json();console.log(D),I("./thank-you")}catch(H){console.error("Error submitting feedback:",H)}finally{N(!1)}},B=P=>{switch(P){case"Student":return r.jsx(us,{className:"w-4 h-4"});case"Parent":return r.jsx(Ar,{className:"w-4 h-4"});case"Teacher":return r.jsx(Wu,{className:"w-4 h-4"});case"Admin":return r.jsx(Wu,{className:"w-4 h-4"});default:return r.jsx(us,{className:"w-4 h-4"})}};return r.jsxs("div",{className:"h-screen w-screen lg:w-[60%] bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-6 sm:py-3 px-4 sm:px-6 lg:px-8 flex items-center justify-center absolute top-0 left-1/2 -translate-x-1/2 overflow-y-scroll ",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute -top-20 sm:-top-40 -right-20 sm:-right-40 w-40 sm:w-80 h-40 sm:h-80 bg-gradient-to-br from-yellow-200 to-orange-200 rounded-full opacity-20 blur-3xl"}),r.jsx("div",{className:"absolute -bottom-20 sm:-bottom-40 -left-20 sm:-left-40 w-40 sm:w-80 h-40 sm:h-80 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full opacity-20 blur-3xl"})]}),r.jsxs("div",{className:"relative top-4/5 w-full max-w-md mx-auto bg-white backdrop-blur-sm rounded-2xl shadow-2xl border border-purple-400 p-4 sm:p-8 transform transition-all duration-300 hover:shadow-3xl",children:[r.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-12 sm:w-16 h-12 sm:h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full mb-3 sm:mb-4 shadow-lg",children:r.jsx(gc,{className:"w-6 sm:w-8 h-6 sm:h-8 text-white"})}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-3 sm:mb-4",children:"We'd Love Your Feedback!"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed px-2",children:"Your feedback helps us improve our services and provide a better experience for everyone."})]}),r.jsxs("form",{onSubmit:C,className:"space-y-4 sm:space-y-6",children:[r.jsxs("div",{className:"group",children:[r.jsxs("label",{htmlFor:"role",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[B(o),r.jsx("span",{className:"ml-2",children:"I am a"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{id:"role",value:o,onChange:P=>l(P.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[r.jsx("option",{value:"Student",children:"Student"}),r.jsx("option",{value:"Parent",children:"Parent"}),r.jsx("option",{value:"Teacher",children:"Teacher"}),r.jsx("option",{value:"Admin",children:"Admin"})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3 pointer-events-none",children:r.jsx("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),r.jsxs("div",{className:"group",children:[r.jsxs("label",{htmlFor:"name",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(us,{className:"w-3 sm:w-4 h-3 sm:h-4"}),r.jsx("span",{className:"ml-2",children:"Name"})]}),r.jsx("input",{id:"name",type:"text",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your full name",value:c,onChange:P=>d(P.target.value),required:!0})]}),r.jsxs("div",{className:"group",children:[r.jsxs("label",{htmlFor:"schoolName",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(Wu,{className:"w-3 sm:w-4 h-3 sm:h-4"}),r.jsx("span",{className:"ml-2",children:"School Name"})]}),r.jsx("input",{id:"schoolName",type:"text",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your school name",value:u,onChange:P=>h(P.target.value),required:!0})]}),r.jsxs("div",{className:"group",children:[r.jsxs("label",{htmlFor:"phone",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(oa,{className:"w-3 sm:w-4 h-3 sm:h-4"}),r.jsx("span",{className:"ml-2",children:"Phone Number"})]}),r.jsx("input",{id:"phone",type:"tel",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your phone number",value:m,onChange:P=>f(P.target.value),required:!0})]}),r.jsxs("div",{className:"group",children:[r.jsxs("label",{htmlFor:"email",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(xa,{className:"w-3 sm:w-4 h-3 sm:h-4"}),r.jsx("span",{className:"ml-2",children:"Email"})]}),r.jsx("input",{id:"email",type:"email",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your email address",value:x,onChange:P=>A(P.target.value),required:!0})]}),(_||M)&&r.jsxs("div",{className:"group",children:[r.jsxs("label",{htmlFor:"class",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(CS,{className:"w-3 sm:w-4 h-3 sm:h-4"}),r.jsx("span",{className:"ml-2",children:"Class"})]}),r.jsxs("select",{id:"class",value:g,onChange:P=>b(P.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[r.jsx("option",{value:"",children:"Select class"}),r.jsx("option",{value:"1",children:"Class 1"}),r.jsx("option",{value:"2",children:"Class 2"}),r.jsx("option",{value:"3",children:"Class 3"}),r.jsx("option",{value:"4",children:"Class 4"}),r.jsx("option",{value:"5",children:"Class 5"}),r.jsx("option",{value:"6",children:"Class 6"}),r.jsx("option",{value:"7",children:"Class 7"}),r.jsx("option",{value:"8",children:"Class 8"}),r.jsx("option",{value:"9",children:"Class 9"}),r.jsx("option",{value:"10",children:"Class 10"}),r.jsx("option",{value:"11",children:"Class 11"}),r.jsx("option",{value:"12",children:"Class 12"})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-4 sm:p-6 border border-yellow-100",children:r.jsxs("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:[r.jsx("label",{className:"text-base sm:text-lg font-semibold text-gray-700 text-center",children:"How would you rate your experience?"}),r.jsx("div",{className:"flex space-x-1 sm:space-x-2",children:[1,2,3,4,5].map(P=>r.jsx("button",{type:"button",className:"focus:outline-none transform transition-all duration-200 hover:scale-110 sm:hover:scale-125 focus:scale-110 sm:focus:scale-125 p-1",onMouseEnter:()=>n(P),onMouseLeave:()=>n(0),onClick:()=>e(P),children:r.jsx(fs,{className:`w-8 h-8 sm:w-10 sm:h-10 transition-all duration-200 ${P<=(s||t)?"fill-yellow-400 text-yellow-500 drop-shadow-sm":"text-gray-300 hover:text-gray-400"}`})},P))}),t>0&&r.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium animate-fade-in",children:t===5?" Excellent!":t===4?" Great!":t===3?" Good!":t===2?" Fair":" Poor"})]})}),r.jsxs("div",{className:"group",children:[r.jsxs("label",{htmlFor:"feedback",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[r.jsx(gc,{className:"w-3 sm:w-4 h-3 sm:h-4"}),r.jsx("span",{className:"ml-2",children:"Additional Comments"})]}),r.jsx("textarea",{id:"feedback",rows:"3",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400 resize-none",placeholder:"Tell us about your experience... What did you like? What could we improve?",value:a,onChange:P=>i(P.target.value)})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{htmlFor:"promoConsent",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Are you willing to add this comment and video for our promotional use?"}),r.jsxs("select",{id:"promoConsent",value:S,onChange:P=>T(P.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[r.jsx("option",{value:"",children:"Select an option"}),r.jsx("option",{value:"yes",children:"Yes"}),r.jsx("option",{value:"no",children:"No"})]})]}),r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("input",{id:"terms",type:"checkbox",checked:w,onChange:P=>v(P.target.checked),className:"mt-1 h-4 w-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500",required:!0}),r.jsx("label",{htmlFor:"terms",className:"text-xs sm:text-sm text-gray-700",children:"I agree to the Terms & Conditions and Privacy Policy:"})]}),r.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 pt-2 sm:pt-4",children:r.jsxs("button",{type:"button",onClick:C,className:"flex-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-2.5 sm:py-3 px-4 sm:px-6 rounded-xl hover:from-yellow-500 hover:to-orange-600 transform transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95 text-base sm:text-lg font-semibold flex items-center justify-center space-x-2",disabled:j,children:[r.jsx("span",{children:j?"Sending...":"Submit Feedback"}),r.jsx("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})]}),r.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:r.jsx("p",{className:"text-xs text-gray-500",children:"Your feedback is valuable to us and helps improve our services"})})]})]})},$qe=()=>{const t=qn();return r.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(Fr,{size:64,className:"text-green-500"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Thank You for Your Feedback!"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"We appreciate you taking the time to help us improve our services."}),r.jsx("button",{onClick:()=>t("/student"),className:"w-full bg-yellow-500 text-black py-3 px-4 rounded-md hover:bg-yellow-600 transition-colors text-lg font-medium",children:"Return to Home"})]})})},zqe=()=>r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-yellow-50 via-blue-50 to-purple-50 p-6",children:r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 p-8 max-w-lg w-full text-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-amber-700 mb-6",children:"Meet the Developers"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xl font-semibold text-gray-800",children:"Koushik Bala"}),r.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Frontend Developer"}),r.jsx("a",{href:"https://www.linkedin.com/in/koushikbalasxc/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"LinkedIn Profile"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xl font-semibold text-gray-800",children:"Atanu Ghosh"}),r.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Backend Developer"})]})]})]})}),NT="http://localhost:5000",Gqe=()=>{const t=qn(),[e,s]=E.useState(1),n=4,[a,i]=E.useState({name:"",campuses:[{name:"",address:"",campusType:"Main",contactPerson:"",contactPhone:""}],schoolType:"",board:"",boardOther:"",academicYearStructure:"",contactPersonName:"",contactPhone:"",officialEmail:"",address:"",websiteURL:"",estimatedUsers:"",logo:null,verificationDocs:[]}),[o,l]=E.useState({}),[c,d]=E.useState(!1),[u,h]=E.useState(!1),[m,f]=E.useState(!1),[x,A]=E.useState(null),[g,b]=E.useState([]),w=["Public","Private","Charter","International"],v=["CBSE","ICSE","IB","IGCSE","State Board","NIOS","Other"],j=["Semester","Trimester","Quarter"],N=["<100","100-500","500-1000","1000+"],S=["Main","Branch"],T=()=>{i(F=>({...F,campuses:[...F.campuses,{name:"",address:"",campusType:"Branch",contactPerson:"",contactPhone:""}]}))},I=F=>{if(a.campuses.length===1){ls.error("At least one campus is required");return}i(V=>({...V,campuses:V.campuses.filter((W,ne)=>ne!==F)}));const z=Object.keys(o).filter(V=>V.startsWith(`campus_${F}_`));z.length>0&&l(V=>{const W={...V};return z.forEach(ne=>delete W[ne]),W})},_=(F,z,V)=>{i(ne=>({...ne,campuses:ne.campuses.map((ie,be)=>be===F?{...ie,[z]:V}:ie)}));const W=`campus_${F}_${z}`;o[W]&&l(ne=>({...ne,[W]:""}))},M=F=>{const{name:z,value:V}=F.target;i(W=>({...W,[z]:V})),o[z]&&l(W=>({...W,[z]:""}))},C=()=>{const F={};return a.name.trim()?a.name.trim().length<3&&(F.name="School name must be at least 3 characters"):F.name="School name is required",!a.campuses||a.campuses.length===0?F.campuses="At least one campus is required":a.campuses.forEach((z,V)=>{z.name.trim()||(F[`campus_${V}_name`]="Campus name is required"),z.address.trim()?z.address.trim().length<10&&(F[`campus_${V}_address`]="Please provide a complete address"):F[`campus_${V}_address`]="Campus address is required",z.contactPhone&&!/^\+?[\d\s\-()]{10,}$/.test(z.contactPhone)&&(F[`campus_${V}_contactPhone`]="Invalid phone number")}),a.schoolType||(F.schoolType="Please select a school type"),a.board?a.board==="Other"&&!a.boardOther.trim()&&(F.boardOther="Please specify the board name"):F.board="Please select a school board/affiliation",a.academicYearStructure||(F.academicYearStructure="Please select academic year structure"),l(F),Object.keys(F).length===0},B=()=>{const F={};return a.contactPersonName.trim()||(F.contactPersonName="Contact person name is required"),a.contactPhone.trim()?/^\+?[\d\s\-()]{10,}$/.test(a.contactPhone)||(F.contactPhone="Please enter a valid phone number"):F.contactPhone="Contact phone is required",a.officialEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.officialEmail)||(F.officialEmail="Please enter a valid email address"):F.officialEmail="Official email is required",a.address.trim()?a.address.trim().length<10&&(F.address="Please provide a complete address"):F.address="School address is required",l(F),Object.keys(F).length===0},P=()=>{const F={};return a.websiteURL&&a.websiteURL.trim()&&(/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(a.websiteURL)||(F.websiteURL="Please enter a valid URL")),a.estimatedUsers||(F.estimatedUsers="Please select estimated number of users"),l(F),Object.keys(F).length===0},H=()=>{const F={};return a.logo||(F.logo="School logo is required"),(!a.verificationDocs||a.verificationDocs.length===0)&&(F.verificationDocs="At least one verification document is required"),l(F),Object.keys(F).length===0},D=async F=>{const z=F.target.files[0];if(!z)return;if(!["image/jpeg","image/png","image/jpg","image/webp"].includes(z.type)){l(W=>({...W,logo:"Please upload a valid image (JPG, PNG, or WebP)"}));return}if(z.size>5*1024*1024){l(W=>({...W,logo:"Logo file size must be less than 5MB"}));return}h(!0),l(W=>({...W,logo:""}));try{const W=new FormData;W.append("file",z),W.append("folder","school_logos");const ne=await fetch(`${NT}/api/uploads/cloudinary/single`,{method:"POST",body:W});if(!ne.ok)throw new Error("Upload failed");const be=(await ne.json()).files[0];i(ue=>({...ue,logo:{public_id:be.public_id,secure_url:be.secure_url,originalName:be.originalName}})),A(be.secure_url),ls.success("Logo uploaded successfully")}catch(W){console.error("Logo upload error:",W),l(ne=>({...ne,logo:"Failed to upload logo. Please try again."})),ls.error("Logo upload failed")}finally{h(!1)}},G=async F=>{const z=Array.from(F.target.files);if(z.length===0)return;if(z.length+a.verificationDocs.length>5){l(W=>({...W,verificationDocs:"Maximum 5 documents allowed"}));return}const V=["application/pdf","image/jpeg","image/png","image/jpg"];for(const W of z){if(!V.includes(W.type)){l(ne=>({...ne,verificationDocs:"Only PDF and image files are allowed"}));return}if(W.size>10*1024*1024){l(ne=>({...ne,verificationDocs:"Each file must be less than 10MB"}));return}}f(!0),l(W=>({...W,verificationDocs:""}));try{const W=new FormData;z.forEach(ue=>W.append("files",ue)),W.append("folder","school_verification_docs");const ne=await fetch(`${NT}/api/uploads/cloudinary/bulk`,{method:"POST",body:W});if(!ne.ok)throw new Error("Upload failed");const be=(await ne.json()).files.map(ue=>({public_id:ue.public_id,secure_url:ue.secure_url,originalName:ue.originalName}));i(ue=>({...ue,verificationDocs:[...ue.verificationDocs,...be]})),b(ue=>[...ue,...be.map(je=>({name:je.originalName,url:je.secure_url}))]),ls.success(`${be.length} document(s) uploaded successfully`)}catch(W){console.error("Documents upload error:",W),l(ne=>({...ne,verificationDocs:"Failed to upload documents. Please try again."})),ls.error("Document upload failed")}finally{f(!1)}},O=F=>{i(z=>({...z,verificationDocs:z.verificationDocs.filter((V,W)=>W!==F)})),b(z=>z.filter((V,W)=>W!==F))},Q=()=>{let F=!1;switch(e){case 1:F=C();break;case 2:F=B();break;case 3:F=P();break;case 4:F=H();break;default:F=!0}F&&e<n&&(s(z=>z+1),window.scrollTo(0,0))},ee=()=>{e>1&&(s(F=>F-1),window.scrollTo(0,0))},q=async F=>{if(F.preventDefault(),!!H()){d(!0);try{const z=await fetch(`${NT}/api/school-registration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),V=await z.json();if(!z.ok){if(V.errors)l(V.errors),s(1),ls.error("Please fix the errors and try again");else throw new Error(V.error||"Registration failed");return}ls.success("Registration submitted successfully!"),window.dispatchEvent(new Event("super-admin-refresh-requests")),t("/school-registration/success",{state:{schoolData:V.school}})}catch(z){console.error("Registration error:",z),ls.error(z.message||"Registration failed. Please try again.")}finally{d(!1)}}},Z=()=>{switch(e){case 1:return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6",children:"School Information"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["School Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",name:"name",value:a.name,onChange:M,className:`w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.name?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter school name"})]}),o.name&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.name]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 mb-3 sm:mb-4",children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700",children:["Campus Details ",r.jsx("span",{className:"text-red-500",children:"*"}),r.jsxs("span",{className:"text-gray-500 text-xs ml-1 sm:ml-2",children:["(",a.campuses.length," campus",a.campuses.length!==1?"es":"",")"]})]}),r.jsxs("button",{type:"button",onClick:T,className:"flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors text-xs sm:text-sm font-medium",children:[r.jsx(vs,{size:14,className:"sm:w-4 sm:h-4"}),"Add Campus"]})]}),r.jsx("div",{className:"space-y-3 sm:space-y-4",children:a.campuses.map((F,z)=>r.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-lg sm:rounded-xl border-2 border-gray-200 space-y-3 sm:space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:[r.jsxs("h4",{className:"font-semibold text-gray-700 text-sm sm:text-base",children:["Campus ",z+1]}),a.campuses.length>1&&r.jsx("button",{type:"button",onClick:()=>I(z),className:"text-red-500 hover:text-red-700 p-1.5 sm:p-2 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(vn,{size:16,className:"sm:w-[18px] sm:h-[18px]"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-[11px] sm:text-xs font-medium text-gray-600 mb-1",children:["Campus Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(dc,{className:"absolute left-2.5 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",value:F.name,onChange:V=>_(z,"name",V.target.value),className:`w-full pl-8 sm:pl-9 pr-2.5 sm:pr-3 py-2 border ${o[`campus_${z}_name`]?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-xs sm:text-sm`,placeholder:"e.g., Main Campus"})]}),o[`campus_${z}_name`]&&r.jsx("p",{className:"mt-1 text-[10px] sm:text-xs text-red-500",children:o[`campus_${z}_name`]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-[11px] sm:text-xs font-medium text-gray-600 mb-1",children:"Campus Type"}),r.jsx("select",{value:F.campusType,onChange:V=>_(z,"campusType",V.target.value),className:"w-full px-2.5 sm:px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-xs sm:text-sm",children:S.map(V=>r.jsx("option",{value:V,children:V},V))})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-[11px] sm:text-xs font-medium text-gray-600 mb-1",children:["Campus Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mi,{className:"absolute left-2.5 sm:left-3 top-2.5 sm:top-3 text-gray-400",size:16}),r.jsx("textarea",{value:F.address,onChange:V=>_(z,"address",V.target.value),rows:"2",className:`w-full pl-8 sm:pl-9 pr-2.5 sm:pr-3 py-2 border ${o[`campus_${z}_address`]?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-xs sm:text-sm`,placeholder:"Enter complete campus address"})]}),o[`campus_${z}_address`]&&r.jsx("p",{className:"mt-1 text-[10px] sm:text-xs text-red-500",children:o[`campus_${z}_address`]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-[11px] sm:text-xs font-medium text-gray-600 mb-1",children:["Contact Person ",r.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(us,{className:"absolute left-2.5 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"text",value:F.contactPerson,onChange:V=>_(z,"contactPerson",V.target.value),className:"w-full pl-8 sm:pl-9 pr-2.5 sm:pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-xs sm:text-sm",placeholder:"Campus contact"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-[11px] sm:text-xs font-medium text-gray-600 mb-1",children:["Contact Phone ",r.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(oa,{className:"absolute left-2.5 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),r.jsx("input",{type:"tel",value:F.contactPhone,onChange:V=>_(z,"contactPhone",V.target.value),className:`w-full pl-8 sm:pl-9 pr-2.5 sm:pr-3 py-2 border ${o[`campus_${z}_contactPhone`]?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-xs sm:text-sm`,placeholder:"Campus phone"})]}),o[`campus_${z}_contactPhone`]&&r.jsx("p",{className:"mt-1 text-[10px] sm:text-xs text-red-500",children:o[`campus_${z}_contactPhone`]})]})]})]},z))}),o.campuses&&r.jsxs("p",{className:"mt-2 text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:14})," ",o.campuses]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["School Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"schoolType",value:a.schoolType,onChange:M,className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.schoolType?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,children:[r.jsx("option",{value:"",children:"Select school type"}),w.map(F=>r.jsx("option",{value:F,children:F},F))]}),o.schoolType&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.schoolType]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["School Board/Affiliation ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"board",value:a.board,onChange:M,className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.board?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,children:[r.jsx("option",{value:"",children:"Select board/affiliation"}),v.map(F=>r.jsx("option",{value:F,children:F},F))]}),o.board&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.board]})]})]}),a.board==="Other"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Specify Board Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"boardOther",value:a.boardOther,onChange:M,className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.boardOther?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter board/affiliation name"}),o.boardOther&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.boardOther]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Academic Year Structure ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"academicYearStructure",value:a.academicYearStructure,onChange:M,className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.academicYearStructure?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,children:[r.jsx("option",{value:"",children:"Select academic structure"}),j.map(F=>r.jsx("option",{value:F,children:F},F))]}),o.academicYearStructure&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.academicYearStructure]})]})]});case 2:return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6",children:"Contact Details"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Contact Person's Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",name:"contactPersonName",value:a.contactPersonName,onChange:M,className:`w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.contactPersonName?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter contact person's name"})]}),o.contactPersonName&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.contactPersonName]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Contact Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"tel",name:"contactPhone",value:a.contactPhone,onChange:M,className:`w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.contactPhone?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter phone number"})]}),o.contactPhone&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.contactPhone]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Official School Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"email",name:"officialEmail",value:a.officialEmail,onChange:M,className:`w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.officialEmail?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"school@example.com"})]}),o.officialEmail&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.officialEmail]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["School Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Mi,{className:"absolute left-3 top-3 text-gray-400",size:18}),r.jsx("textarea",{name:"address",value:a.address,onChange:M,rows:"3",className:`w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.address?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"Enter complete school address"})]}),o.address&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.address]})]})]});case 3:return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6",children:"Additional Information"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Website URL ",r.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Tf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"url",name:"websiteURL",value:a.websiteURL,onChange:M,className:`w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.websiteURL?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,placeholder:"https://www.example.com"})]}),o.websiteURL&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.websiteURL]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Estimated Number of Users ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"estimatedUsers",value:a.estimatedUsers,onChange:M,className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base border ${o.estimatedUsers?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent`,children:[r.jsx("option",{value:"",children:"Select estimated users"}),N.map(F=>r.jsx("option",{value:F,children:F},F))]}),o.estimatedUsers&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.estimatedUsers]})]})]});case 4:return r.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6",children:"File Uploads"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["School Logo ",r.jsx("span",{className:"text-red-500",children:"*"}),r.jsx("span",{className:"text-gray-500 text-[10px] sm:text-xs ml-1 sm:ml-2",children:"(Max 5MB, JPG/PNG/WebP)"})]}),x?r.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-4 bg-gray-50 rounded-lg sm:rounded-xl border border-gray-200",children:[r.jsx("img",{src:x,alt:"Logo preview",className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 truncate",children:a.logo.originalName}),r.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Logo uploaded successfully"})]}),r.jsx("button",{type:"button",onClick:()=>{i(F=>({...F,logo:null})),A(null)},className:"text-red-500 hover:text-red-700 flex-shrink-0",children:r.jsx(ks,{size:18,className:"sm:w-5 sm:h-5"})})]}):r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:D,disabled:u,className:"hidden",id:"logo-upload"}),r.jsx("label",{htmlFor:"logo-upload",className:`flex flex-col items-center justify-center w-full h-28 sm:h-32 border-2 border-dashed ${o.logo?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl cursor-pointer hover:border-amber-500 transition-colors ${u?"opacity-50 cursor-not-allowed":""}`,children:u?r.jsx(Vn,{className:"w-7 h-7 sm:w-8 sm:h-8 text-amber-500 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(ax,{className:"w-7 h-7 sm:w-8 sm:h-8 text-gray-400 mb-1.5 sm:mb-2"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Click to upload logo"})]})})]}),o.logo&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.logo]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Verification Documents ",r.jsx("span",{className:"text-red-500",children:"*"}),r.jsx("span",{className:"text-gray-500 text-[10px] sm:text-xs ml-1 sm:ml-2",children:"(Max 5 files, 10MB each, PDF/JPG/PNG)"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:"application/pdf,image/jpeg,image/png,image/jpg",onChange:G,disabled:m||a.verificationDocs.length>=5,multiple:!0,className:"hidden",id:"docs-upload"}),r.jsx("label",{htmlFor:"docs-upload",className:`flex flex-col items-center justify-center w-full h-28 sm:h-32 border-2 border-dashed ${o.verificationDocs?"border-red-500":"border-gray-300"} rounded-lg sm:rounded-xl cursor-pointer hover:border-amber-500 transition-colors ${m||a.verificationDocs.length>=5?"opacity-50 cursor-not-allowed":""}`,children:m?r.jsx(Vn,{className:"w-7 h-7 sm:w-8 sm:h-8 text-amber-500 animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Dr,{className:"w-7 h-7 sm:w-8 sm:h-8 text-gray-400 mb-1.5 sm:mb-2"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Click to upload documents"}),r.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-500 mt-1",children:[a.verificationDocs.length," / 5 uploaded"]})]})})]}),g.length>0&&r.jsx("div",{className:"mt-3 sm:mt-4 space-y-2",children:g.map((F,z)=>r.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 bg-gray-50 rounded-lg border border-gray-200",children:[r.jsx(Dr,{className:"text-gray-400 flex-shrink-0",size:18}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700 truncate",children:F.name})}),r.jsx("button",{type:"button",onClick:()=>O(z),className:"text-red-500 hover:text-red-700 flex-shrink-0",children:r.jsx(ks,{size:16,className:"sm:w-[18px] sm:h-[18px]"})})]},z))}),o.verificationDocs&&r.jsxs("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1",children:[r.jsx(br,{size:12,className:"sm:w-3.5 sm:h-3.5"})," ",o.verificationDocs]})]})]});default:return null}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 py-6 sm:py-8 lg:py-12 px-3 sm:px-4 lg:px-6",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mb-2",children:"School Registration"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-2",children:"Register your school to get started with our platform"})]}),r.jsxs("div",{className:"mb-6 sm:mb-8 px-2",children:[r.jsx("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[1,2,3,4].map(F=>r.jsxs("div",{className:"flex items-center flex-1 last:flex-initial",children:[r.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center font-semibold text-sm sm:text-base flex-shrink-0 ${F<=e?"bg-amber-500 text-white":"bg-gray-200 text-gray-600"}`,children:F<e?r.jsx(Gu,{size:16,className:"sm:w-5 sm:h-5"}):F}),F<4&&r.jsx("div",{className:`h-0.5 sm:h-1 flex-1 mx-1 sm:mx-2 ${F<e?"bg-amber-500":"bg-gray-200"}`})]},F))}),r.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs text-gray-600 px-0 sm:px-1",children:[r.jsx("span",{className:"text-center w-1/4",children:"School Info"}),r.jsx("span",{className:"text-center w-1/4",children:"Contact"}),r.jsx("span",{className:"text-center w-1/4",children:"Details"}),r.jsx("span",{className:"text-center w-1/4",children:"Files"})]})]}),r.jsx("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6 lg:p-8",children:r.jsxs("form",{onSubmit:q,children:[Z(),r.jsxs("div",{className:"flex justify-between mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200",children:[e>1?r.jsxs("button",{type:"button",onClick:ee,className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-gray-200 text-gray-700 rounded-lg sm:rounded-xl hover:bg-gray-300 transition-colors text-sm sm:text-base font-medium",children:[r.jsx(ru,{size:18,className:"sm:w-5 sm:h-5"}),r.jsx("span",{className:"hidden xs:inline",children:"Previous"})]}):r.jsx("div",{}),e<n?r.jsxs("button",{type:"button",onClick:Q,className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg sm:rounded-xl hover:from-amber-600 hover:to-orange-600 transition-colors ml-auto text-sm sm:text-base font-medium",children:["Next",r.jsx(ra,{size:18,className:"sm:w-5 sm:h-5"})]}):r.jsx("button",{type:"submit",disabled:c,className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg sm:rounded-xl hover:from-amber-600 hover:to-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ml-auto text-sm sm:text-base font-medium",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Vn,{className:"animate-spin",size:18}),r.jsx("span",{className:"hidden xs:inline",children:"Submitting..."}),r.jsx("span",{className:"xs:hidden",children:"Sending..."})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"hidden xs:inline",children:"Submit Registration"}),r.jsx("span",{className:"xs:hidden",children:"Submit"}),r.jsx(Gu,{size:18,className:"sm:w-5 sm:h-5"})]})})]})]})})]})})},Vqe=()=>{var n;const t=qn(),s=(n=Ol().state)==null?void 0:n.schoolData;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 flex items-center justify-center px-4 py-12",children:r.jsx("div",{className:"max-w-2xl w-full",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 md:p-12 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6",children:r.jsx(Fr,{className:"w-12 h-12 text-green-500"})}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Registration Submitted Successfully!"}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Thank you for registering your school with us."}),s&&r.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-6 mb-8 border border-amber-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-left",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"School Name"}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:s.name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Campuses Registered"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[s.campusCount||1," Campus",(s.campusCount||1)!==1?"es":""]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"School Code"}),r.jsx("p",{className:"text-lg font-semibold text-amber-600",children:s.code})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),r.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[r.jsx(fr,{size:14,className:"mr-1"}),"Pending Review"]})]})]})}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 mb-8 border border-blue-200 text-left",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"What happens next?"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("span",{className:"text-blue-600 font-semibold",children:"1"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Review Process"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Our admin team will review your registration and verify the submitted documents."})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("span",{className:"text-blue-600 font-semibold",children:"2"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Email Notification"}),r.jsx("p",{className:"text-sm text-gray-600",children:"You will receive an email notification once your registration is approved."})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1",children:r.jsx("span",{className:"text-blue-600 font-semibold",children:"3"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Get Started"}),r.jsx("p",{className:"text-sm text-gray-600",children:"After approval, you can create admin accounts and start using the platform."})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8 border border-gray-200",children:[r.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Need Help?"}),r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(xa,{size:18,className:"text-amber-500"}),r.jsx("span",{children:"support@eec-platform.com"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(oa,{size:18,className:"text-amber-500"}),r.jsx("span",{children:"+1 (555) 123-4567"})]})]})]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:r.jsxs("button",{onClick:()=>t("/"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 transition-colors font-semibold",children:["Back to Home",r.jsx(vg,{size:20})]})}),r.jsxs("p",{className:"text-sm text-gray-500 mt-8",children:["Please save your school code (",s==null?void 0:s.code,") for future reference."]})]})})})},Wqe=()=>r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Memory Match"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),qqe=()=>r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Quick Math"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),Kqe=()=>r.jsxs("div",{className:"p-6 text-center",children:[r.jsx("div",{className:"text-2xl",children:""}),r.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Word Scramble"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),ST=[{emoji:"",name:"Happy",description:"Feeling joyful and cheerful"},{emoji:"",name:"Angry",description:"Feeling mad or frustrated"},{emoji:"",name:"Sad",description:"Feeling down or disappointed"},{emoji:"",name:"Surprised",description:"Feeling shocked or amazed"},{emoji:"",name:"Sleepy",description:"Feeling tired or drowsy"},{emoji:"",name:"Scared",description:"Feeling frightened or worried"},{emoji:"",name:"Thinking",description:"Feeling contemplative or puzzled"},{emoji:"",name:"Cool",description:"Feeling confident and relaxed"}],Xqe=()=>{const[t,e]=E.useState("menu"),[s,n]=E.useState(null),[a,i]=E.useState([]),[o,l]=E.useState(0),[c,d]=E.useState(1),[u,h]=E.useState(10),[m,f]=E.useState(null),x=8,A=()=>{const w=ST[Math.floor(Math.random()*ST.length)],N=[...ST.filter(S=>S.emoji!==w.emoji).sort(()=>Math.random()-.5).slice(0,3),w].sort(()=>Math.random()-.5);n(w),i(N),e("playing"),h(10),f(null)},g=w=>{const v=w.emoji===s.emoji;f(v),v&&l(o+10),e("result"),setTimeout(()=>{c<x?(d(c+1),A()):(e("menu"),d(1))},1500)},b=()=>{e("menu"),l(0),d(1),h(10),f(null)};return E.useEffect(()=>{let w;return t==="playing"&&u>0?w=setTimeout(()=>h(u-1),1e3):t==="playing"&&u===0&&(f(!1),e("result"),setTimeout(()=>{c<x?(d(c+1),A()):(e("menu"),d(1))},1500)),()=>clearTimeout(w)},[t,u,c,x]),r.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Smiley Circles"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Guess the emotions of the emojis!"}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl p-8",children:[t==="menu"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),r.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),r.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),r.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Emotion Recognition Challenge"}),r.jsx("p",{className:"text-gray-600",children:"Look at the emoji and choose the correct emotion name. You have 10 seconds per round!"}),o>0&&r.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["Final Score: ",o,"/",x*10]}),r.jsx("div",{className:"text-sm text-gray-600",children:o>=x*8?" Emotion Master!":o>=x*6?" Great job!":" Keep practicing!"})]}),r.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),o>0?"Play Again":"Start Game"]})]}),t==="playing"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-lg font-semibold",children:["Round ",c,"/",x]}),r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[u,"s"]})]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",o]})]}),r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-4",children:"What emotion is this?"}),r.jsx("div",{className:"w-32 h-32 rounded-full bg-white border-4 border-purple-300 flex items-center justify-center text-6xl mx-auto mb-6 shadow-lg",children:s==null?void 0:s.emoji}),r.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:a.map(w=>r.jsxs("button",{onClick:()=>g(w),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-purple-400 text-center",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-800",children:w.name}),r.jsx("div",{className:"text-sm text-gray-600",children:w.description})]},w.emoji))})]})]}),t==="result"&&r.jsxs("div",{className:"text-center space-y-4",children:[m?r.jsx(Fr,{className:"w-16 h-16 text-green-500 mx-auto"}):r.jsx(ia,{className:"w-16 h-16 text-red-500 mx-auto"}),r.jsx("div",{className:"text-2xl font-bold",children:m?"Correct! +10 points":"Time's up or wrong answer!"}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("div",{className:"text-lg",children:"The correct answer was:"}),r.jsxs("div",{className:"flex items-center justify-center gap-3 mt-2",children:[r.jsx("span",{className:"text-3xl",children:s==null?void 0:s.emoji}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-semibold",children:s==null?void 0:s.name}),r.jsx("div",{className:"text-sm text-gray-600",children:s==null?void 0:s.description})]})]})]}),r.jsx("div",{className:"text-gray-600",children:c<x?`Round ${c+1} starting...`:"Game completed!"})]}),t!=="result"&&r.jsx("div",{className:"text-center mt-6",children:r.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},Yqe=({onBack:t})=>{const[e,s]=E.useState("menu"),[n,a]=E.useState(null),[i,o]=E.useState(0),[l,c]=E.useState(1),[d,u]=E.useState(5),[h,m]=E.useState(null),f=[{id:"circle",name:"Circle",color:"bg-red-500",style:"rounded-full"},{id:"square",name:"Square",color:"bg-blue-500",style:"rounded-lg"},{id:"triangle",name:"Triangle",color:"bg-green-500",style:"rounded-full"}],x=()=>{const b=f[Math.floor(Math.random()*f.length)];a(b),s("playing"),u(5),m(null)},A=b=>{const w=b.id===n.id;m(w),w&&o(i+10),s("result"),setTimeout(()=>{c(l+1),l<10?x():(s("menu"),c(1))},1500)},g=()=>{s("menu"),o(0),c(1),u(5),m(null)};return E.useEffect(()=>{let b;return e==="playing"&&d>0?b=setTimeout(()=>u(d-1),1e3):e==="playing"&&d===0&&(m(!1),s("result"),setTimeout(()=>{c(l+1),l<10?x():(s("menu"),c(1))},1500)),()=>clearTimeout(b)},[e,d,l]),r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Rl,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"MIND Training Games"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl p-8 text-center",children:[e==="menu"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"inline-flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full border-4 border-red-600"}),r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-lg border-4 border-blue-600"})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Shape Recognition Challenge"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Match the target shape as quickly as possible! You have 5 seconds for each round."}),i>0&&r.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Final Score: ",i,"/100"]}),r.jsx("div",{className:"text-sm text-gray-600",children:i>=80?" Excellent!":i>=60?" Good job!":" Keep practicing!"})]}),r.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),i>0?"Play Again":"Start Training"]})]}),e==="playing"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{className:"text-lg font-semibold",children:["Round ",l,"/10"]}),r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[d,"s"]})]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",i]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-xl font-bold text-gray-800",children:["Click the ",n==null?void 0:n.name,"!"]}),r.jsx("div",{className:"flex justify-center gap-6",children:f.map(b=>r.jsx("button",{onClick:()=>A(b),className:`w-24 h-24 ${b.color} ${b.style} border-4 border-gray-700 hover:scale-110 transition-all duration-200 shadow-lg hover:shadow-xl`},b.id))})]})]}),e==="result"&&r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"text-center",children:[h?r.jsx(Fr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):r.jsx(ia,{className:"w-16 h-16 text-red-500 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold",children:h?"Correct! +10 points":"Time's up! Try again"}),r.jsx("div",{className:"text-gray-600",children:l<10?`Round ${l+1} starting...`:"Game completed!"})]})}),e!=="result"&&r.jsxs("button",{onClick:g,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Reset"]})]})]})},Pj=[{id:"cube",name:"Cube",description:"A 3D shape with 6 square faces",color:"bg-yellow-400",render:(t="w-12 h-12")=>r.jsx("div",{className:`${t} bg-yellow-400 transform rotate-12 shadow-lg`})},{id:"sphere",name:"Sphere",description:"A perfectly round 3D shape",color:"bg-red-500",render:(t="w-12 h-12")=>r.jsx("div",{className:`${t} bg-red-500 rounded-full shadow-lg`})},{id:"cone",name:"Cone",description:"A 3D shape with a circular base and pointed top",color:"border-b-blue-400",render:(t="w-0 h-0")=>r.jsx("div",{className:`${t} border-l-6 border-r-6 border-b-12 border-l-transparent border-r-transparent border-b-blue-400 shadow-lg`})},{id:"torus",name:"Torus",description:"A donut-shaped 3D object",color:"bg-purple-500",render:(t="w-12 h-12")=>r.jsx("div",{className:`${t} bg-purple-500 rounded-full shadow-lg relative`,children:r.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})},{id:"cylinder",name:"Cylinder",description:"A 3D shape with circular ends and straight sides",color:"bg-green-500",render:(t="w-12 h-12")=>r.jsx("div",{className:`${t} bg-green-500 rounded-lg shadow-lg`})},{id:"pyramid",name:"Pyramid",description:"A 3D shape with a square base and triangular sides",color:"border-b-orange-400",render:(t="w-0 h-0")=>r.jsx("div",{className:`${t} border-l-6 border-r-6 border-b-10 border-l-transparent border-r-transparent border-b-orange-400 shadow-lg`})}],Jqe=({onBack:t})=>{const[e,s]=E.useState("menu"),[n,a]=E.useState(null),[i,o]=E.useState([]),[l,c]=E.useState(0),[d,u]=E.useState(1),[h,m]=E.useState(8),[f,x]=E.useState(null),A=10,g=()=>{const v=Pj[Math.floor(Math.random()*Pj.length)],S=[...Pj.filter(T=>T.id!==v.id).sort(()=>Math.random()-.5).slice(0,3),v].sort(()=>Math.random()-.5);a(v),o(S),s("playing"),m(8),x(null)},b=v=>{const j=v.id===n.id;x(j),j&&c(l+10),s("result"),setTimeout(()=>{d<A?(u(d+1),g()):(s("menu"),u(1))},2e3)},w=()=>{s("menu"),c(0),u(1),m(8),x(null)};return E.useEffect(()=>{let v;return e==="playing"&&h>0?v=setTimeout(()=>m(h-1),1e3):e==="playing"&&h===0&&(x(!1),s("result"),setTimeout(()=>{d<A?(u(d+1),g()):(s("menu"),u(1))},2e3)),()=>clearTimeout(v)},[e,h,d,A]),r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Rl,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"RESHAPED"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl p-8",children:[e==="menu"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"3D Shape Recognition"}),r.jsx("p",{className:"text-gray-600",children:"Learn about geometric shapes! Look at the shape and choose the correct name."}),r.jsx("div",{className:"flex justify-center gap-4 my-6",children:Pj.slice(0,4).map(v=>r.jsxs("div",{className:"flex flex-col items-center",children:[v.render(),r.jsx("div",{className:"text-xs text-gray-600 mt-2",children:v.name})]},v.id))}),l>0&&r.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",l,"/",A*10]}),r.jsx("div",{className:"text-sm text-gray-600",children:l>=A*8?" Shape Master!":l>=A*6?" Great job!":" Keep learning!"})]}),r.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),l>0?"Play Again":"Start Learning"]})]}),e==="playing"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-lg font-semibold",children:["Round ",d,"/",A]}),r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[h,"s"]})]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",l]})]}),r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"text-xl font-bold text-gray-800",children:"What shape is this?"}),r.jsx("div",{className:"w-32 h-32 bg-white rounded-xl border-4 border-gray-300 flex items-center justify-center mx-auto shadow-lg",children:n==null?void 0:n.render("w-16 h-16")}),r.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:i.map(v=>r.jsxs("button",{onClick:()=>b(v),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-800",children:v.name}),r.jsx("div",{className:"text-sm text-gray-600",children:v.description})]},v.id))})]})]}),e==="result"&&r.jsxs("div",{className:"text-center space-y-4",children:[f?r.jsx(Fr,{className:"w-16 h-16 text-green-500 mx-auto"}):r.jsx(ia,{className:"w-16 h-16 text-red-500 mx-auto"}),r.jsx("div",{className:"text-2xl font-bold",children:f?"Correct! +10 points":"Time's up or wrong answer!"}),r.jsxs("div",{className:"bg-white rounded-lg p-4",children:[r.jsx("div",{className:"text-lg",children:"The correct answer was:"}),r.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:n==null?void 0:n.render("w-12 h-12")}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"text-xl font-semibold",children:n==null?void 0:n.name}),r.jsx("div",{className:"text-sm text-gray-600",children:n==null?void 0:n.description})]})]})]}),r.jsx("div",{className:"text-gray-600",children:d<A?`Round ${d+1} starting...`:"Game completed!"})]}),e!=="result"&&r.jsx("div",{className:"text-center mt-6",children:r.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},Du=[{id:"india",name:"India",capital:"New Delhi",population:"1.4 billion",area:"3.3 million km",continent:"Asia",currency:"Indian Rupee (INR)",languages:["Hindi","English","22 official languages"],flag:"",difficulty:"Easy",facts:["World's largest democracy","Home to the Taj Mahal","Birthplace of four major religions"],shape:"polygon(20% 10%, 80% 15%, 90% 40%, 85% 70%, 60% 85%, 40% 90%, 15% 80%, 10% 50%, 15% 20%)",color:"from-orange-400 to-orange-600"},{id:"usa",name:"United States",capital:"Washington, D.C.",population:"331 million",area:"9.8 million km",continent:"North America",currency:"US Dollar (USD)",languages:["English","Spanish"],flag:"",difficulty:"Medium",facts:["Third largest country by area","Home to Hollywood and Silicon Valley","Has 50 states and federal capital"],shape:"polygon(15% 20%, 85% 25%, 80% 60%, 75% 80%, 25% 85%, 10% 65%, 5% 40%)",color:"from-blue-400 to-blue-600"},{id:"brazil",name:"Brazil",capital:"Braslia",population:"215 million",area:"8.5 million km",continent:"South America",currency:"Brazilian Real (BRL)",languages:["Portuguese"],flag:"",difficulty:"Medium",facts:["Home to the Amazon rainforest","Largest country in South America","Famous for football and carnival"],shape:"polygon(30% 15%, 70% 20%, 85% 50%, 80% 85%, 40% 90%, 20% 70%, 15% 40%)",color:"from-green-400 to-green-600"},{id:"australia",name:"Australia",capital:"Canberra",population:"26 million",area:"7.7 million km",continent:"Oceania",currency:"Australian Dollar (AUD)",languages:["English"],flag:"",difficulty:"Easy",facts:["Smallest continent and largest island","Home to unique wildlife like kangaroos","Most of the population lives in coastal cities"],shape:"polygon(20% 30%, 80% 25%, 85% 60%, 75% 80%, 25% 85%, 15% 55%)",color:"from-yellow-400 to-yellow-600"},{id:"china",name:"China",capital:"Beijing",population:"1.4 billion",area:"9.6 million km",continent:"Asia",currency:"Chinese Yuan (CNY)",languages:["Mandarin Chinese"],flag:"",difficulty:"Hard",facts:["Most populous country in the world","Home to the Great Wall of China","Fastest-growing major economy"],shape:"polygon(25% 20%, 75% 15%, 85% 45%, 80% 75%, 60% 80%, 40% 85%, 20% 60%, 15% 35%)",color:"from-red-400 to-red-600"},{id:"russia",name:"Russia",capital:"Moscow",population:"146 million",area:"17.1 million km",continent:"Europe/Asia",currency:"Russian Ruble (RUB)",languages:["Russian"],flag:"",difficulty:"Hard",facts:["Largest country in the world by area","Spans 11 time zones","Rich in natural resources"],shape:"polygon(10% 15%, 90% 10%, 95% 35%, 85% 50%, 75% 40%, 50% 45%, 30% 50%, 5% 25%)",color:"from-purple-400 to-purple-600"},{id:"japan",name:"Japan",capital:"Tokyo",population:"125 million",area:"378,000 km",continent:"Asia",currency:"Japanese Yen (JPY)",languages:["Japanese"],flag:"",difficulty:"Medium",facts:["Island nation with over 6,000 islands","Known for technology and anime","Mount Fuji is its highest peak"],shape:"polygon(40% 20%, 45% 15%, 65% 25%, 70% 45%, 60% 75%, 45% 80%, 35% 65%, 30% 40%)",color:"from-pink-400 to-pink-600"},{id:"egypt",name:"Egypt",capital:"Cairo",population:"104 million",area:"1 million km",continent:"Africa",currency:"Egyptian Pound (EGP)",languages:["Arabic"],flag:"",difficulty:"Medium",facts:["Home to ancient pyramids and sphinx","Nile River runs through the country","Birthplace of ancient civilization"],shape:"polygon(35% 25%, 65% 20%, 70% 45%, 60% 70%, 50% 85%, 40% 80%, 30% 55%, 25% 35%)",color:"from-amber-400 to-amber-600"}],wa=[{id:"maharashtra",name:"Maharashtra",capital:"Mumbai",population:"112.4 million",area:"307,713 km",language:"Marathi",famousFor:"Bollywood, IT Hub, Gateway of India",governor:"Ramesh Bais",formed:"1960",districts:36,x:"45%",y:"55%",size:"w-16 h-14",shape:"polygon(20% 20%, 70% 15%, 85% 45%, 80% 75%, 45% 85%, 15% 70%, 10% 40%)",color:"from-orange-400 to-orange-600"},{id:"karnataka",name:"Karnataka",capital:"Bengaluru",population:"61.1 million",area:"191,791 km",language:"Kannada",famousFor:"Silicon Valley of India, Mysore Palace",governor:"Thaawarchand Gehlot",formed:"1956",districts:30,x:"40%",y:"68%",size:"w-14 h-16",shape:"polygon(25% 10%, 75% 20%, 80% 60%, 65% 85%, 30% 80%, 15% 50%, 20% 25%)",color:"from-red-400 to-red-600"},{id:"tamilnadu",name:"Tamil Nadu",capital:"Chennai",population:"72.1 million",area:"130,060 km",language:"Tamil",famousFor:"Temples, Classical Dance, Film Industry",governor:"R. N. Ravi",formed:"1956",districts:38,x:"45%",y:"78%",size:"w-12 h-18",shape:"polygon(30% 5%, 70% 10%, 85% 40%, 75% 70%, 60% 90%, 25% 85%, 15% 60%, 20% 30%)",color:"from-green-400 to-green-600"},{id:"kerala",name:"Kerala",capital:"Thiruvananthapuram",population:"33.4 million",area:"38,852 km",language:"Malayalam",famousFor:"Backwaters, Spices, Ayurveda",governor:"Arif Mohammed Khan",formed:"1956",districts:14,x:"38%",y:"80%",size:"w-6 h-20",shape:"polygon(40% 0%, 60% 5%, 65% 30%, 55% 60%, 45% 85%, 35% 90%, 25% 70%, 30% 40%, 35% 15%)",color:"from-emerald-400 to-emerald-600"},{id:"rajasthan",name:"Rajasthan",capital:"Jaipur",population:"68.5 million",area:"342,239 km",language:"Hindi, Rajasthani",famousFor:"Desert, Palaces, Forts",governor:"Kalraj Mishra",formed:"1956",districts:33,x:"35%",y:"38%",size:"w-20 h-18",shape:"polygon(15% 25%, 80% 15%, 90% 45%, 85% 70%, 60% 85%, 30% 80%, 10% 60%, 5% 40%)",color:"from-yellow-400 to-yellow-600"},{id:"uttar-pradesh",name:"Uttar Pradesh",capital:"Lucknow",population:"199.8 million",area:"240,928 km",language:"Hindi, Urdu",famousFor:"Taj Mahal, Varanasi, Allahabad",governor:"Anandiben Patel",formed:"1950",districts:75,x:"48%",y:"35%",size:"w-24 h-12",shape:"polygon(10% 30%, 85% 20%, 90% 50%, 80% 70%, 20% 75%, 5% 55%)",color:"from-blue-400 to-blue-600"},{id:"west-bengal",name:"West Bengal",capital:"Kolkata",population:"91.3 million",area:"88,752 km",language:"Bengali",famousFor:"Literature, Fish, Sweets",governor:"La. Ganesan",formed:"1947",districts:23,x:"62%",y:"42%",size:"w-14 h-16",shape:"polygon(20% 15%, 75% 10%, 85% 35%, 80% 65%, 60% 85%, 25% 80%, 10% 50%, 15% 25%)",color:"from-cyan-400 to-cyan-600"},{id:"gujarat",name:"Gujarat",capital:"Gandhinagar",population:"60.4 million",area:"196,244 km",language:"Gujarati",famousFor:"Business Hub, Handicrafts, Salt",governor:"Acharya Devvrat",formed:"1960",districts:33,x:"28%",y:"45%",size:"w-16 h-20",shape:"polygon(30% 5%, 70% 10%, 85% 30%, 80% 60%, 65% 85%, 35% 90%, 15% 70%, 20% 40%, 25% 15%)",color:"from-purple-400 to-purple-600"},{id:"madhya-pradesh",name:"Madhya Pradesh",capital:"Bhopal",population:"72.6 million",area:"308,245 km",language:"Hindi",famousFor:"Heart of India, Khajuraho Temples",governor:"Mangubhai C. Patel",formed:"1956",districts:52,x:"42%",y:"48%",size:"w-18 h-14",shape:"polygon(15% 25%, 80% 20%, 85% 55%, 75% 75%, 25% 80%, 10% 50%)",color:"from-indigo-400 to-indigo-600"},{id:"andhra-pradesh",name:"Andhra Pradesh",capital:"Amaravati",population:"49.4 million",area:"162,968 km",language:"Telugu",famousFor:"IT Services, Tirupati Temple",governor:"S. Abdul Nazeer",formed:"1956",districts:26,x:"50%",y:"70%",size:"w-14 h-12",shape:"polygon(25% 20%, 70% 15%, 80% 45%, 75% 70%, 30% 80%, 15% 55%, 20% 30%)",color:"from-teal-400 to-teal-600"},{id:"telangana",name:"Telangana",capital:"Hyderabad",population:"35.0 million",area:"112,077 km",language:"Telugu",famousFor:"IT Hub, Charminar, Biryani",governor:"Tamilisai Soundararajan",formed:"2014",districts:33,x:"48%",y:"62%",size:"w-12 h-10",shape:"polygon(20% 25%, 75% 20%, 80% 55%, 70% 75%, 25% 80%, 15% 50%)",color:"from-violet-400 to-violet-600"},{id:"punjab",name:"Punjab",capital:"Chandigarh",population:"27.7 million",area:"50,362 km",language:"Punjabi",famousFor:"Golden Temple, Agriculture",governor:"Banwarilal Purohit",formed:"1966",districts:23,x:"40%",y:"22%",size:"w-12 h-10",shape:"polygon(15% 30%, 80% 25%, 85% 60%, 75% 80%, 20% 75%, 10% 55%)",color:"from-amber-400 to-amber-600"},{id:"haryana",name:"Haryana",capital:"Chandigarh",population:"25.3 million",area:"44,212 km",language:"Hindi",famousFor:"NCR, Agriculture, Industry",governor:"Bandaru Dattatraya",formed:"1966",districts:22,x:"45%",y:"28%",size:"w-10 h-8",shape:"polygon(20% 20%, 75% 15%, 80% 50%, 70% 75%, 25% 80%, 15% 45%)",color:"from-lime-400 to-lime-600"},{id:"odisha",name:"Odisha",capital:"Bhubaneswar",population:"42.0 million",area:"155,707 km",language:"Odia",famousFor:"Jagannath Temple, Classical Dance",governor:"Ganeshi Lal",formed:"1936",districts:30,x:"58%",y:"52%",size:"w-12 h-14",shape:"polygon(30% 15%, 70% 10%, 80% 40%, 75% 75%, 35% 85%, 20% 60%, 25% 30%)",color:"from-rose-400 to-rose-600"},{id:"bihar",name:"Bihar",capital:"Patna",population:"104.1 million",area:"94,163 km",language:"Hindi",famousFor:"Ancient History, Bodh Gaya",governor:"Rajendra Vishwanath Arlekar",formed:"1912",districts:38,x:"56%",y:"38%",size:"w-16 h-10",shape:"polygon(10% 35%, 85% 30%, 90% 60%, 80% 75%, 15% 70%, 5% 50%)",color:"from-emerald-400 to-emerald-600"},{id:"jharkhand",name:"Jharkhand",capital:"Ranchi",population:"33.0 million",area:"79,716 km",language:"Hindi",famousFor:"Minerals, Tribal Culture",governor:"Ramesh Bais",formed:"2000",districts:24,x:"58%",y:"45%",size:"w-12 h-12",shape:"polygon(25% 20%, 70% 15%, 80% 45%, 75% 75%, 30% 80%, 20% 50%, 20% 25%)",color:"from-stone-400 to-stone-600"},{id:"delhi",name:"Delhi (NCT)",capital:"New Delhi",population:"16.8 million",area:"1,484 km",language:"Hindi, English",famousFor:"National Capital, Red Fort",governor:"Vinai Kumar Saxena",formed:"1911",districts:11,x:"46%",y:"30%",size:"w-4 h-4",shape:"polygon(25% 25%, 75% 25%, 75% 75%, 25% 75%)",color:"from-red-400 to-red-600",type:"UT"},{id:"goa",name:"Goa",capital:"Panaji",population:"1.5 million",area:"3,702 km",language:"Konkani",famousFor:"Beaches, Portuguese Heritage",governor:"P.S. Sreedharan Pillai",formed:"1987",districts:2,x:"38%",y:"62%",size:"w-4 h-6",shape:"polygon(30% 10%, 70% 15%, 75% 60%, 65% 85%, 35% 80%, 25% 40%)",color:"from-sky-400 to-sky-600"},{id:"himachal-pradesh",name:"Himachal Pradesh",capital:"Shimla",population:"6.9 million",area:"55,673 km",language:"Hindi",famousFor:"Hill Stations, Tourism",governor:"Shiv Pratap Shukla",formed:"1971",districts:12,x:"42%",y:"18%",size:"w-14 h-8",shape:"polygon(15% 40%, 80% 30%, 90% 60%, 75% 80%, 20% 75%, 10% 55%)",color:"from-green-400 to-green-600"}],Uq=({highlightState:t,onStateClick:e,className:s=""})=>{var C,B,P,H,D,G,O,Q,ee;const[n,a]=E.useState({x:-15,y:0}),[i,o]=E.useState(null),[l,c]=E.useState(!1),[d,u]=E.useState("study"),[h,m]=E.useState(!0),[f,x]=E.useState({}),[A,g]=E.useState(0),[b,w]=E.useState(0),[v,j]=E.useState(null),N=q=>{const Z=wa.find(F=>F.id===q);return t===q?"from-yellow-400 to-yellow-600 ring-4 ring-yellow-300 animate-pulse":i===q?"from-pink-400 to-pink-600 ring-2 ring-pink-300":Z?Z.color:"from-gray-400 to-gray-600"},S=q=>{const Z=wa.find(F=>F.id===q);if(d==="study")o(q),c(!0),e==null||e(Z);else if(d==="test"){const F=prompt(`What is the name of this state/territory?

Hint: This region is known for: ${Z.famousFor}`);if(F){const z=F.toLowerCase().trim()===Z.name.toLowerCase();x(V=>({...V,[q]:{guess:F.trim(),correct:Z.name,isCorrect:z}})),z&&g(V=>V+1)}}},T=()=>{u("test"),m(!1),x({}),g(0),j(Date.now()),o(null),c(!1)},I=()=>{u("results");const q=Date.now()-v;console.log(`Test completed in ${Math.round(q/1e3)} seconds`)},_=()=>{u("study"),m(!0),x({}),g(0),j(null),o(null),c(!1)};E.useEffect(()=>{let q;return d==="study"&&(q=setInterval(()=>{w(Z=>Z+1)},1e3)),()=>clearInterval(q)},[d]);const M=q=>{const Z=Math.floor(q/60),F=q%60;return`${Z}:${F.toString().padStart(2,"0")}`};return r.jsxs("div",{className:`relative ${s}`,children:[r.jsxs("div",{className:"mb-6 bg-gradient-to-r from-orange-100 via-white to-green-100 rounded-xl p-4 border-2 border-orange-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" India States & Territories Memory Test"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[d==="study"&&"Study the labeled map as long as you need",d==="test"&&"Click on each state to test your memory",d==="results"&&"See your results below!"]})]}),r.jsxs("div",{className:"text-right",children:[d==="study"&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Study Time: ",r.jsx("span",{className:"font-mono font-bold",children:M(b)})]}),d==="test"&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",r.jsxs("span",{className:"font-bold",children:[Object.keys(f).length,"/",wa.length]})]})]})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[d==="study"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>m(!h),className:`px-3 py-1 text-sm rounded-lg transition-colors ${h?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:h?" Labels ON":" Labels OFF"}),r.jsx("button",{onClick:T,className:"px-4 py-1 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:" Start Memory Test"}),r.jsx("div",{className:"px-3 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-lg",children:" Study tip: Click on states to see detailed information"})]}),d==="test"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:I,disabled:Object.keys(f).length<wa.length,className:`px-4 py-1 text-sm rounded-lg font-medium transition-colors ${Object.keys(f).length===wa.length?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[" Finish Test (",Object.keys(f).length,"/",wa.length,")"]}),r.jsx("button",{onClick:_,className:"px-3 py-1 text-sm bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:" Back to Study"}),r.jsx("div",{className:"px-3 py-1 text-xs bg-blue-100 text-blue-800 rounded-lg",children:" Click any state to guess its name"})]}),d==="results"&&r.jsx("button",{onClick:_,className:"px-4 py-1 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:" Study Again"})]})]}),r.jsx("div",{className:"relative w-full h-96 mx-auto perspective-1000",children:r.jsxs("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-green-100 via-orange-100 to-blue-100 shadow-2xl transform-gpu border-4 border-white",style:{transform:`rotateX(${n.x}deg) rotateY(${n.y}deg)`,transformStyle:"preserve-3d",filter:"drop-shadow(0 25px 50px rgba(0,0,0,0.3))"},children:[r.jsx("div",{className:"absolute inset-4 rounded-xl border-2 border-saffron-300 bg-gradient-to-br from-white to-green-50 opacity-80"}),r.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:wa.map(q=>r.jsxs("div",{className:`absolute ${q.size} cursor-pointer country-3d`,style:{left:q.x,top:q.y,transform:"translateX(-50%) translateY(-50%)",filter:"drop-shadow(2px 2px 6px rgba(0,0,0,0.3))"},onClick:()=>S(q.id),children:[r.jsxs("div",{className:`w-full h-full bg-gradient-to-br ${N(q.id)} rounded-lg relative overflow-hidden border-2 border-white`,style:{clipPath:q.shape,boxShadow:i===q.id?"0 0 20px rgba(236, 72, 153, 0.6), inset 0 2px 4px rgba(255,255,255,0.4)":"inset 0 2px 4px rgba(255,255,255,0.3)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent opacity-30"}),(t===q.id||i===q.id)&&r.jsx("div",{className:"absolute inset-0 bg-yellow-300 rounded-lg animate-pulse opacity-20"})]}),r.jsx("div",{className:`absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs font-medium text-gray-800 bg-white bg-opacity-90 px-3 py-1 rounded-full shadow-md whitespace-nowrap transition-all duration-300 border border-gray-200 ${d==="study"&&h||d==="results"?"opacity-100":d==="test"&&f[q.id]?f[q.id].isCorrect?"opacity-100 bg-green-100 border-green-300":"opacity-100 bg-red-100 border-red-300":"opacity-0 hover:opacity-60"}`,children:r.jsxs("span",{className:"drop-shadow-sm",children:[d==="test"&&f[q.id]?f[q.id].isCorrect?` ${q.name}`:` ${f[q.id].guess} (${q.name})`:q.name,q.type==="UT"&&r.jsx("span",{className:"text-xs opacity-60 ml-1",children:"UT"})]})})]},q.id))}),r.jsx("div",{className:"absolute top-4 left-4 text-2xl opacity-60",children:""}),r.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-gray-600 font-medium bg-white bg-opacity-80 px-2 py-1 rounded",children:"  India"})]})}),l&&i&&r.jsxs("div",{className:"mt-6 bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-xl p-6 shadow-xl border-2 border-orange-200 animate-fade-in",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-gradient-to-br from-saffron-400 to-saffron-600 rounded-xl shadow-lg",children:r.jsx(Mi,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:(C=wa.find(q=>q.id===i))==null?void 0:C.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Capital: ",(B=wa.find(q=>q.id===i))==null?void 0:B.capital]})]})]}),r.jsx("button",{onClick:()=>{c(!1),o(null)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[r.jsx(Ar,{className:"w-4 h-4 text-blue-500"}),"Demographics"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Population:"}),r.jsx("span",{className:"font-medium",children:(P=wa.find(q=>q.id===i))==null?void 0:P.population})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Area:"}),r.jsx("span",{className:"font-medium",children:(H=wa.find(q=>q.id===i))==null?void 0:H.area})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Language:"}),r.jsx("span",{className:"font-medium",children:(D=wa.find(q=>q.id===i))==null?void 0:D.language})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Districts:"}),r.jsx("span",{className:"font-medium",children:(G=wa.find(q=>q.id===i))==null?void 0:G.districts})]})]})]})}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[r.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[r.jsx(pn,{className:"w-4 h-4 text-green-500"}),"State Information"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Governor:"}),r.jsx("span",{className:"font-medium text-right max-w-32",children:(O=wa.find(q=>q.id===i))==null?void 0:O.governor})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Formed:"}),r.jsx("span",{className:"font-medium",children:(Q=wa.find(q=>q.id===i))==null?void 0:Q.formed})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("span",{className:"text-gray-600",children:"Famous For:"}),r.jsx("p",{className:"font-medium text-gray-800 mt-1",children:(ee=wa.find(q=>q.id===i))==null?void 0:ee.famousFor})]})]})]})})]}),r.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-orange-100 to-green-100 rounded-lg border border-orange-200",children:r.jsx("p",{className:"text-sm text-gray-700 text-center",children:" Click on other states to explore more about incredible India! "})})]}),d==="results"&&r.jsxs("div",{className:"mt-8 bg-gradient-to-br from-blue-50 via-white to-green-50 rounded-xl p-6 shadow-xl border-2 border-blue-200",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Trophy,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Memory Test Complete! "}),r.jsxs("div",{className:"text-lg text-gray-600 mb-4",children:["Your Score: ",r.jsxs("span",{className:"font-bold text-blue-600",children:[A,"/",wa.length]}),r.jsxs("span",{className:"ml-2",children:["(",Math.round(A/wa.length*100),"%)"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[r.jsxs("h4",{className:"font-bold text-green-800 mb-3 flex items-center gap-2",children:[r.jsx(Fr,{className:"w-5 h-5"}),"Correct Answers (",Object.values(f).filter(q=>q.isCorrect).length,")"]}),r.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:Object.entries(f).filter(([q,Z])=>Z.isCorrect).map(([q,Z])=>r.jsxs("div",{className:"text-sm text-green-700 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{className:"font-medium",children:Z.correct})]},q))})]}),r.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[r.jsxs("h4",{className:"font-bold text-red-800 mb-3 flex items-center gap-2",children:[r.jsx(ia,{className:"w-5 h-5"}),"Incorrect Answers (",Object.values(f).filter(q=>!q.isCorrect).length,")"]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Object.entries(f).filter(([q,Z])=>!Z.isCorrect).map(([q,Z])=>r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"text-red-700 flex items-center gap-2",children:[r.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),r.jsxs("span",{children:["Your guess: ",r.jsx("span",{className:"font-medium",children:Z.guess})]})]}),r.jsxs("div",{className:"text-green-700 ml-4 text-xs",children:["Correct: ",r.jsx("span",{className:"font-medium",children:Z.correct})]})]},q))})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-green-100 rounded-lg p-4 border border-orange-200",children:[r.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:" Performance Analysis"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A}),r.jsx("div",{className:"text-gray-600",children:"States Correct"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(A/wa.length*100),"%"]}),r.jsx("div",{className:"text-gray-600",children:"Accuracy"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:M(b)}),r.jsx("div",{className:"text-gray-600",children:"Study Time"})]})]}),r.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg",children:r.jsx("div",{className:"text-sm text-gray-700 text-center",children:A===wa.length?r.jsx("span",{className:"text-green-600 font-medium",children:" Perfect Score! You've mastered all Indian states and territories!"}):A>=wa.length*.8?r.jsx("span",{className:"text-blue-600 font-medium",children:" Excellent! You know most of India's geography very well!"}):A>=wa.length*.6?r.jsx("span",{className:"text-yellow-600 font-medium",children:" Good job! Keep studying to improve further!"}):r.jsx("span",{className:"text-orange-600 font-medium",children:" Keep practicing! Spend more time studying the map to improve your score."})})})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[" ",r.jsx("strong",{children:"Memory Tip:"})," The more you practice recalling real-world information, the stronger your memory becomes!"]})})]}),r.jsxs("div",{className:"text-center mt-4 text-xs text-gray-500",children:[d==="study"&&" Click on states to learn  Toggle labels to test yourself",d==="test"&&" Click on each state to guess its name  Use hints if needed",d==="results"&&" Review your results above  Study again to improve!"]})]})},Hq=({highlightCountry:t,onCountryClick:e,className:s=""})=>{var d,u,h;const[n,a]=E.useState({x:-10,y:0}),[i,o]=E.useState(!0);E.useEffect(()=>{if(i){const m=setInterval(()=>{a(f=>({...f,y:(f.y+1)%360}))},100);return()=>clearInterval(m)}},[i]);const l=[{id:"usa",name:"USA",x:"20%",y:"30%",size:"w-16 h-12"},{id:"canada",name:"Canada",x:"15%",y:"20%",size:"w-20 h-8"},{id:"mexico",name:"Mexico",x:"18%",y:"45%",size:"w-8 h-10"},{id:"brazil",name:"Brazil",x:"30%",y:"60%",size:"w-12 h-16"},{id:"argentina",name:"Argentina",x:"28%",y:"75%",size:"w-6 h-12"},{id:"russia",name:"Russia",x:"60%",y:"25%",size:"w-24 h-10"},{id:"france",name:"France",x:"48%",y:"35%",size:"w-4 h-6"},{id:"germany",name:"Germany",x:"50%",y:"33%",size:"w-4 h-5"},{id:"uk",name:"UK",x:"46%",y:"32%",size:"w-3 h-4"},{id:"china",name:"China",x:"70%",y:"35%",size:"w-14 h-12"},{id:"india",name:"India",x:"65%",y:"45%",size:"w-8 h-10"},{id:"japan",name:"Japan",x:"80%",y:"38%",size:"w-6 h-4"},{id:"egypt",name:"Egypt",x:"52%",y:"45%",size:"w-6 h-8"},{id:"southafrica",name:"South Africa",x:"54%",y:"70%",size:"w-6 h-8"},{id:"nigeria",name:"Nigeria",x:"48%",y:"52%",size:"w-4 h-6"},{id:"australia",name:"Australia",x:"75%",y:"70%",size:"w-12 h-8"}],c=m=>{const f=Du.find(x=>x.id===m);return t===m?"from-yellow-400 to-yellow-600 ring-4 ring-yellow-300 animate-pulse":f?f.color:"from-gray-400 to-gray-600"};return r.jsxs("div",{className:`relative ${s}`,children:[r.jsxs("div",{className:"relative w-full h-96 mx-auto perspective-1000 cursor-grab active:cursor-grabbing",style:{perspective:"1000px",transformStyle:"preserve-3d"},onMouseEnter:()=>o(!1),onMouseLeave:()=>o(!0),children:[r.jsxs("div",{className:"absolute inset-0 rounded-full globe-glow transform-gpu",style:{transform:`rotateX(${n.x}deg) rotateY(${n.y}deg)`,transformStyle:"preserve-3d",background:`
              radial-gradient(circle at 30% 30%, rgba(135, 206, 250, 0.9) 0%, transparent 60%),
              radial-gradient(circle at 70% 70%, rgba(30, 64, 175, 0.8) 0%, transparent 50%),
              conic-gradient(from 0deg at 50% 50%, #1e40af 0deg, #3b82f6 72deg, #60a5fa 144deg, #93c5fd 216deg, #dbeafe 288deg, #1e40af 360deg)
            `,filter:"drop-shadow(0 25px 50px rgba(0,0,0,0.4))"},children:[r.jsx("div",{className:"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-transparent via-white to-transparent"}),r.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:l.map(m=>{var f;return r.jsxs("div",{className:`absolute ${m.size} rounded country-3d cursor-pointer`,style:{left:m.x,top:m.y,transform:`translateX(-50%) translateY(-50%) rotateY(${n.y*.2}deg)`,filter:"drop-shadow(3px 3px 8px rgba(0,0,0,0.4))"},onClick:()=>e==null?void 0:e(m.id),children:[r.jsxs("div",{className:`w-full h-full bg-gradient-to-br ${c(m.id)} rounded-md relative overflow-hidden`,style:{clipPath:((f=Du.find(x=>x.id===m.id))==null?void 0:f.shape)||"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",boxShadow:t===m.id?"0 0 20px rgba(255, 235, 59, 0.8), inset 0 2px 4px rgba(255,255,255,0.3)":"inset 0 2px 4px rgba(255,255,255,0.2)"},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent opacity-20"}),t===m.id&&r.jsx("div",{className:"absolute inset-0 bg-yellow-300 rounded-md animate-pulse opacity-30"})]}),r.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs font-medium text-white bg-gradient-to-r from-gray-800 to-gray-900 px-3 py-1 rounded-full shadow-lg whitespace-nowrap opacity-0 hover:opacity-100 transition-all duration-300 backdrop-blur-sm border border-gray-600",children:r.jsx("span",{className:"drop-shadow-sm",children:m.name})})]},m.id)})}),r.jsxs("div",{className:"absolute inset-0 rounded-full",children:[Array.from({length:5}).map((m,f)=>r.jsx("div",{className:"absolute left-0 right-0 border-t border-white opacity-10",style:{top:`${20+f*15}%`}},`lat-${f}`)),Array.from({length:6}).map((m,f)=>r.jsx("div",{className:"absolute top-0 bottom-0 border-l border-white opacity-10 rounded-full",style:{left:`${15+f*14}%`}},`lng-${f}`))]}),r.jsx("div",{className:"absolute -inset-4 rounded-full bg-gradient-to-br from-blue-300 via-cyan-300 to-blue-400 opacity-15 blur-lg"}),r.jsx("div",{className:"absolute -inset-2 rounded-full bg-gradient-to-br from-blue-400 to-transparent opacity-25 blur-md"}),r.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:Array.from({length:12}).map((m,f)=>r.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-60 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`}},f))})]}),t&&r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-white via-blue-50 to-indigo-50 bg-opacity-95 backdrop-blur-md rounded-xl p-4 shadow-2xl animate-fade-in border border-white border-opacity-30",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:r.jsx(Tf,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-gray-800",children:((d=Du.find(m=>m.id===t))==null?void 0:d.name)||"Unknown"}),r.jsxs("div",{className:"text-xs text-gray-600",children:[(u=Du.find(m=>m.id===t))==null?void 0:u.flag," ",(h=Du.find(m=>m.id===t))==null?void 0:h.continent]})]})]}),r.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:"Click to learn more!"})]}),r.jsx("div",{className:"absolute inset-0 rounded-full border border-blue-300 opacity-20 animate-pulse"}),r.jsx("div",{className:"absolute inset-2 rounded-full border border-cyan-300 opacity-15",style:{transform:`rotateX(75deg) rotateY(${n.y*.5}deg)`,transformStyle:"preserve-3d"}})]}),r.jsxs("div",{className:"text-center mt-6 space-y-2",children:[r.jsxs("div",{className:"text-xs text-gray-500 flex items-center justify-center gap-4",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Hover to pause rotation"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Click countries to explore"]})]}),t&&r.jsx("div",{className:"text-xs text-yellow-600 font-medium animate-bounce",children:" This country is highlighted for the question!"})]})]})},Zqe=({onBack:t})=>{const[e,s]=E.useState("menu"),[n,a]=E.useState(null),[i,o]=E.useState([]),[l,c]=E.useState(0),[d,u]=E.useState(1),[h,m]=E.useState(15),[f,x]=E.useState(null),[A,g]=E.useState(!1),[b,w]=E.useState(!0),[v,j]=E.useState(!1),N=8,S=()=>{const _=Du[Math.floor(Math.random()*Du.length)],B=[...Du.filter(P=>P.id!==_.id).sort(()=>Math.random()-.5).slice(0,3),_].sort(()=>Math.random()-.5);a(_),o(B),s("playing"),m(15),x(null),g(!1)},T=_=>{const M=_.id===n.id;x(M),M&&c(l+10),s("result"),setTimeout(()=>{d<N?(u(d+1),S()):(s("menu"),u(1))},3e3)},I=()=>{s("menu"),c(0),u(1),m(15),x(null),g(!1)};return E.useEffect(()=>{let _;return e==="playing"&&h>0?_=setTimeout(()=>m(h-1),1e3):e==="playing"&&h===0&&(x(!1),s("result"),setTimeout(()=>{d<N?(u(d+1),S()):(s("menu"),u(1))},3e3)),()=>clearTimeout(_)},[e,h,d,N]),r.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[r.jsx("style",{jsx:!0,children:`
        .perspective-1000 {
          perspective: 1000px;
        }
        .transform-gpu {
          transform: translate3d(0, 0, 0);
        }
        @keyframes rotate {
          from { transform: rotateY(0deg); }
          to { transform: rotateY(360deg); }
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
        .globe-glow {
          box-shadow: 
            0 0 50px rgba(59, 130, 246, 0.3),
            inset 0 0 50px rgba(59, 130, 246, 0.1),
            0 20px 40px rgba(0, 0, 0, 0.2);
        }
        .country-3d {
          transform-style: preserve-3d;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .country-3d:hover {
          transform: translateZ(10px) scale(1.05);
        }
        .border-saffron-300 {
          border-color: #f59e0b;
        }
        .from-saffron-400 {
          --tw-gradient-from: #f59e0b;
        }
        .to-saffron-600 {
          --tw-gradient-to: #d97706;
        }
      `}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Rl,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Map Identifier"}),r.jsx("p",{className:"text-gray-600",children:"Test your geography knowledge with our 3D world map!"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(Tf,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Geography Challenge"}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Identify countries on the 3D world map and learn fascinating facts about each nation!"})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 flex-wrap",children:[r.jsx("button",{onClick:()=>{w(!0),j(!1)},className:`px-4 py-2 rounded-lg transition-colors ${b&&!v?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" 3D World Map"}),r.jsx("button",{onClick:()=>{j(!0),w(!1)},className:`px-4 py-2 rounded-lg transition-colors ${v&&!b?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" India States Map"}),r.jsx("button",{onClick:()=>{w(!1),j(!1)},className:`px-4 py-2 rounded-lg transition-colors ${!b&&!v?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Country Silhouettes"})]}),b&&!v?r.jsx(Hq,{className:"max-w-2xl mx-auto",onCountryClick:_=>{const M=Du.find(C=>C.id===_);M&&console.log("Clicked country:",M.name)}}):v&&!b?r.jsx(Uq,{className:"max-w-3xl mx-auto",onStateClick:_=>{console.log("Clicked state:",_.name)}}):r.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:Du.slice(0,4).map(_=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-2 relative",children:r.jsx("div",{className:`w-full h-full bg-gradient-to-br ${_.color} rounded-lg transform hover:scale-110 transition-transform duration-300`,style:{clipPath:_.shape,filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.2))"}})}),r.jsx("div",{className:"text-xs text-gray-600",children:_.name})]},_.id))})]}),l>0&&r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",l,"/",N*10]}),r.jsx("div",{className:"text-sm text-gray-600",children:l>=N*8?" Geography Expert!":l>=N*6?" Great Explorer!":" Keep Exploring!"})]}),r.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),l>0?"Play Again":"Start Geography Quiz"]})]}),e==="playing"&&n&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-lg font-semibold",children:["Round ",d,"/",N]}),r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[h,"s"]})]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",l]})]}),r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Which country is this?"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 flex-wrap",children:[r.jsx("button",{onClick:()=>{w(!0),j(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${b&&!v?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" 3D World Map"}),r.jsx("button",{onClick:()=>{j(!0),w(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${v&&!b?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" India Map"}),r.jsx("button",{onClick:()=>{w(!1),j(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${!b&&!v?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Silhouette"})]}),b&&!v?r.jsxs("div",{className:"max-w-lg mx-auto",children:[r.jsx(Hq,{highlightCountry:n.id,className:"transform scale-90"}),r.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"The highlighted country is your answer!"})]}):v&&!b?r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(Uq,{highlightState:n.id==="india"?"maharashtra":null,className:"transform scale-95"}),r.jsx("div",{className:"mt-2 text-sm text-gray-600",children:n.id==="india"?"This shows India's detailed state map for reference!":"India map shown for geographical context"})]}):r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-8 max-w-md mx-auto",children:[r.jsx("div",{className:`w-48 h-32 mx-auto bg-gradient-to-br ${n.color} shadow-lg transform hover:scale-105 transition-transform duration-300`,style:{clipPath:n.shape,filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.2))"}}),r.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Difficulty: ",r.jsx("span",{className:`font-medium ${n.difficulty==="Easy"?"text-green-600":n.difficulty==="Medium"?"text-yellow-600":"text-red-600"}`,children:n.difficulty})]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:i.map(_=>r.jsxs("button",{onClick:()=>T(_),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center group",children:[r.jsxs("div",{className:"flex items-center gap-2 justify-center mb-2",children:[r.jsx("span",{className:"text-lg",children:_.flag}),r.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600",children:_.name})]}),r.jsx("div",{className:"text-xs text-gray-500",children:_.continent})]},_.id))})]})]}),e==="result"&&n&&r.jsxs("div",{className:"text-center space-y-6",children:[f?r.jsx(Fr,{className:"w-16 h-16 text-green-500 mx-auto"}):r.jsx(ia,{className:"w-16 h-16 text-red-500 mx-auto"}),r.jsx("div",{className:"text-2xl font-bold",children:f?"Correct! +10 points":"Time's up or wrong answer!"}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-lg font-semibold mb-4 flex items-center justify-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:n.flag}),r.jsx("span",{children:n.name}),r.jsx(Mi,{className:"w-5 h-5 text-gray-500"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Tf,{className:"w-4 h-4 text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Capital:"})," ",n.capital]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ar,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Population:"})," ",n.population]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pX,{className:"w-4 h-4 text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Area:"})," ",n.area]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Currency:"})," ",n.currency]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Languages:"})," ",n.languages.join(", ")]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Continent:"})," ",n.continent]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("div",{className:"font-medium mb-2",children:" Did you know?"}),r.jsx("div",{className:"space-y-1 text-sm text-gray-700",children:n.facts.map((_,M)=>r.jsxs("div",{children:[" ",_]},M))})]})]}),r.jsx("div",{className:"text-gray-600",children:d<N?`Round ${d+1} starting...`:"Geography quiz completed!"})]}),e!=="result"&&e!=="menu"&&r.jsx("div",{className:"text-center mt-6",children:r.jsxs("button",{onClick:I,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},Qq=[{id:1,name:"Emma Thompson",age:28,profession:"Teacher",skinColor:"bg-red-200",hairColor:"bg-orange-600",eyeColor:"bg-blue-800",likes:["reading","yoga"]},{id:2,name:"Alex Rivera",age:32,profession:"Engineer",skinColor:"bg-yellow-200",hairColor:"bg-black",eyeColor:"bg-green-700",likes:["coding","hiking"]},{id:3,name:"Sam Chen",age:25,profession:"Designer",skinColor:"bg-orange-200",hairColor:"bg-yellow-800",eyeColor:"bg-brown-800",likes:["art","music"]},{id:4,name:"Maya Patel",age:30,profession:"Doctor",skinColor:"bg-amber-200",hairColor:"bg-black",eyeColor:"bg-brown-900",likes:["medicine","travel"]},{id:5,name:"Jordan Smith",age:27,profession:"Chef",skinColor:"bg-stone-200",hairColor:"bg-red-800",eyeColor:"bg-blue-600",likes:["cooking","food"]},{id:6,name:"Taylor Kim",age:29,profession:"Artist",skinColor:"bg-pink-200",hairColor:"bg-purple-600",eyeColor:"bg-green-600",likes:["painting","photography"]},{id:7,name:"Robin Martinez",age:33,profession:"Nurse",skinColor:"bg-rose-200",hairColor:"bg-gray-800",eyeColor:"bg-amber-800",likes:["caring","gardening"]},{id:8,name:"Casey Johnson",age:26,profession:"Writer",skinColor:"bg-teal-200",hairColor:"bg-indigo-600",eyeColor:"bg-gray-600",likes:["writing","cats"]}],eKe=({onBack:t})=>{const[e,s]=E.useState("menu"),[n,a]=E.useState([]),[i,o]=E.useState(0),[l,c]=E.useState(20),[d,u]=E.useState(0),[h,m]=E.useState(1),[f,x]=E.useState(null),[A,g]=E.useState([]),b=5,w=4,v=(I,_="w-16 h-16")=>r.jsxs("div",{className:`relative ${_} rounded-full overflow-hidden shadow-lg border-3 border-white transform hover:scale-105 transition-transform duration-300`,children:[r.jsx("div",{className:`w-full h-full ${I.skinColor}`}),r.jsx("div",{className:`absolute top-1 left-1/2 transform -translate-x-1/2 w-3/4 h-2/3 ${I.hairColor} rounded-t-full`}),r.jsx("div",{className:`absolute top-1/3 left-1/4 w-2 h-2 ${I.eyeColor} rounded-full`}),r.jsx("div",{className:`absolute top-1/3 right-1/4 w-2 h-2 ${I.eyeColor} rounded-full`}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 w-1 h-2 bg-gray-600 rounded-full"}),r.jsx("div",{className:"absolute bottom-1/4 left-1/2 transform -translate-x-1/2 w-4 h-1 bg-red-600 rounded-full"})]}),j=()=>{const _=[...Qq].sort(()=>Math.random()-.5).slice(0,w);a(_),o(0),c(20),s("studying"),x(null)},N=()=>{s("testing"),o(0)},S=I=>{const _=n[i],M=I.id===_.id;x(M),M&&u(d+10),g([...A,{round:h,question:i+1,correctAnswer:_.name,userAnswer:I.name,isCorrect:M}]),setTimeout(()=>{i<n.length-1?(o(i+1),x(null)):h<b?(m(h+1),j()):s("result")},2e3)},T=()=>{s("menu"),u(0),m(1),o(0),c(20),x(null),g([])};return E.useEffect(()=>{let I;return e==="studying"&&l>0?I=setTimeout(()=>c(l-1),1e3):e==="studying"&&l===0&&N(),()=>clearTimeout(I)},[e,l]),r.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Rl,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Facial Recall"}),r.jsx("p",{className:"text-gray-600",children:"Test your ability to remember faces and names!"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(Ar,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Memory Challenge"}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Study people's faces, names, and details. Then try to match them correctly!"})]}),r.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:Qq.slice(0,4).map(I=>r.jsxs("div",{className:"text-center",children:[v(I),r.jsx("div",{className:"text-xs text-gray-600 mt-2",children:I.name.split(" ")[0]})]},I.id))}),d>0&&r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",d,"/",b*w*10]}),r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:d>=b*w*8?" Memory Master!":d>=b*w*6?" Great Memory!":" Keep Practicing!"}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Accuracy: ",Math.round(A.filter(I=>I.isCorrect).length/A.length*100),"%"]})]}),r.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),d>0?"Play Again":"Start Memory Test"]})]}),e==="studying"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-lg font-semibold",children:["Round ",h,"/",b]}),r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Study these people carefully!"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Remember their faces, names, ages, professions, and interests"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map(I=>r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-4 text-center",children:[r.jsx("div",{className:"mb-4 flex justify-center",children:v(I,"w-20 h-20")}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-lg font-bold text-gray-800",children:I.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Age: ",I.age]}),r.jsx("div",{className:"text-sm text-gray-600",children:I.profession}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Likes: ",I.likes.join(", ")]})]})]},I.id))}),r.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",r.jsx("strong",{children:"Memory Tip:"})," Try to create associations between faces and details. Notice unique features like hair color, eye color, and profession!"]})})]})]}),e==="testing"&&n.length>0&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-lg font-semibold",children:["Question ",i+1,"/",n.length]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Round ",h,"/",b]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),f!==null&&r.jsx("div",{className:"text-center",children:f?r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[r.jsx(Fr,{className:"w-8 h-8"}),r.jsx("span",{className:"text-xl font-bold",children:"Correct! +10 points"})]}):r.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600",children:[r.jsx(ia,{className:"w-8 h-8"}),r.jsx("span",{className:"text-xl font-bold",children:"Incorrect!"})]})}),f===null&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Who is this person?"}),r.jsx("div",{className:"flex justify-center mb-6",children:v(n[i],"w-32 h-32")}),r.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-2xl mx-auto",children:n.sort(()=>Math.random()-.5).map(I=>r.jsxs("button",{onClick:()=>S(I),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center group",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600 mb-2",children:I.name}),r.jsxs("div",{className:"text-sm text-gray-600",children:[I.profession,", Age ",I.age]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Likes: ",I.likes.join(", ")]})]},I.id))})]})]}),e==="result"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx(pn,{className:"w-16 h-16 text-yellow-500 mx-auto"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Memory Test Complete!"}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[d,"/",b*w*10]}),r.jsxs("div",{className:"text-lg text-gray-700 mb-4",children:["Accuracy: ",Math.round(A.filter(I=>I.isCorrect).length/A.length*100),"%"]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsx("div",{className:"font-medium text-gray-800",children:"Performance Breakdown:"}),Array.from({length:b},(I,_)=>{const C=A.filter(B=>B.round===_+1).filter(B=>B.isCorrect).length;return r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Round ",_+1,":"]}),r.jsxs("span",{className:C===w?"text-green-600":C>=w*.5?"text-yellow-600":"text-red-600",children:[C,"/",w," correct"]})]},_)})]})]}),r.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),"Play Again"]})]}),e!=="result"&&e!=="menu"&&r.jsx("div",{className:"text-center mt-6",children:r.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},tKe=[{id:"speed",name:"Speed Math",desc:"Solve as many problems as possible in 60 seconds",icon:rh,timeLimit:60,color:"from-yellow-400 to-orange-500"},{id:"accuracy",name:"Accuracy Challenge",desc:"Get 10 problems correct with minimal mistakes",icon:kn,timeLimit:null,color:"from-blue-400 to-blue-600"},{id:"mental",name:"Mental Math",desc:"Complex problems to challenge your brain",icon:Vs,timeLimit:null,color:"from-purple-400 to-purple-600"},{id:"practice",name:"Free Practice",desc:"Practice at your own pace",icon:_S,timeLimit:null,color:"from-green-400 to-green-600"}],rKe=({onBack:t})=>{const[e,s]=E.useState("menu"),[n,a]=E.useState(null),[i,o]=E.useState(null),[l,c]=E.useState(""),[d,u]=E.useState(0),[h,m]=E.useState(0),[f,x]=E.useState(0),[A,g]=E.useState(null),[b,w]=E.useState([]),[v,j]=E.useState(1),N=(B="medium")=>{const P=["+","-","",""],H=P[Math.floor(Math.random()*P.length)];let D,G,O;if(B==="easy")switch(H){case"+":D=Math.floor(Math.random()*20)+1,G=Math.floor(Math.random()*20)+1,O=D+G;break;case"-":D=Math.floor(Math.random()*30)+10,G=Math.floor(Math.random()*D)+1,O=D-G;break;case"":D=Math.floor(Math.random()*10)+1,G=Math.floor(Math.random()*10)+1,O=D*G;break;case"":O=Math.floor(Math.random()*10)+1,G=Math.floor(Math.random()*8)+2,D=O*G;break}else if(B==="hard")switch(H){case"+":D=Math.floor(Math.random()*200)+50,G=Math.floor(Math.random()*200)+50,O=D+G;break;case"-":D=Math.floor(Math.random()*300)+100,G=Math.floor(Math.random()*D)+50,O=D-G;break;case"":D=Math.floor(Math.random()*25)+10,G=Math.floor(Math.random()*15)+5,O=D*G;break;case"":O=Math.floor(Math.random()*20)+5,G=Math.floor(Math.random()*15)+3,D=O*G;break}else switch(H){case"+":D=Math.floor(Math.random()*100)+10,G=Math.floor(Math.random()*100)+10,O=D+G;break;case"-":D=Math.floor(Math.random()*150)+50,G=Math.floor(Math.random()*D)+10,O=D-G;break;case"":D=Math.floor(Math.random()*15)+5,G=Math.floor(Math.random()*12)+3,O=D*G;break;case"":O=Math.floor(Math.random()*15)+3,G=Math.floor(Math.random()*12)+2,D=O*G;break}return{num1:D,num2:G,operation:H,answer:O,difficulty:B}},S=B=>{a(B);const P=B.id==="mental"?"hard":B.id==="practice"?"easy":"medium";o(N(P)),c(""),u(0),m(0),j(1),w([]),g(null),s("playing"),B.timeLimit&&x(B.timeLimit)},T=B=>{e==="playing"&&A===null&&c(P=>P+B)},I=()=>{e==="playing"&&c("")},_=()=>{e==="playing"&&c(B=>B.slice(0,-1))},M=()=>{if(!l||A!==null)return;const B=parseInt(l),P=B===i.answer;g(P);const H={...i,userAnswer:B,isCorrect:P,round:v};w(D=>[...D,H]),P?u(d+10):m(h+1),setTimeout(()=>{if(n.id==="accuracy"&&(d+10>=100||h>=3)){s("result");return}if(n.id==="mental"&&v>=15){s("result");return}const D=n.id==="mental"?"hard":n.id==="practice"?"easy":"medium";o(N(D)),c(""),j(v+1),g(null)},1500)},C=()=>{s("menu"),a(null),o(null),c(""),u(0),m(0),x(0),g(null),w([]),j(1)};return E.useEffect(()=>{let B;return e==="playing"&&(n!=null&&n.timeLimit)&&f>0?B=setTimeout(()=>x(f-1),1e3):e==="playing"&&(n!=null&&n.timeLimit)&&f===0&&s("result"),()=>clearTimeout(B)},[e,f,n]),r.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Rl,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calculator Games"}),r.jsx("p",{className:"text-gray-600",children:"Practice math through fun, interactive challenges!"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(_S,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Math Challenge Center"}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Choose your challenge and improve your calculation skills!"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:tKe.map(B=>{const P=B.icon;return r.jsxs("button",{onClick:()=>S(B),className:`p-6 rounded-xl bg-gradient-to-br ${B.color} text-white text-left transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(P,{className:"w-8 h-8"}),r.jsx("h4",{className:"text-xl font-bold",children:B.name})]}),r.jsx("p",{className:"text-white/90 mb-3",children:B.desc}),B.timeLimit&&r.jsxs("div",{className:"flex items-center gap-1 text-white/80 text-sm",children:[r.jsx(fr,{className:"w-4 h-4"}),B.timeLimit," seconds"]})]},B.id)})}),d>0&&r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mt-6",children:[r.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Last Game: ",d," points"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Mode: ",n==null?void 0:n.name," | Problems: ",b.length]})]})]}),e==="playing"&&i&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-lg font-semibold",children:[n==null?void 0:n.name," - Problem ",v]}),(n==null?void 0:n.timeLimit)&&r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[f,"s"]})]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),A!==null&&r.jsx("div",{className:"text-center",children:A?r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[r.jsx(Fr,{className:"w-8 h-8"}),r.jsx("span",{className:"text-xl font-bold",children:"Correct! +10 points"})]}):r.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600",children:[r.jsx(ia,{className:"w-8 h-8"}),r.jsxs("span",{className:"text-xl font-bold",children:["Incorrect! Answer was ",i.answer]})]})}),A===null&&r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-2xl",children:[r.jsxs("div",{className:"bg-green-900 rounded-lg p-4 mb-6",children:[r.jsxs("div",{className:"text-green-400 text-right font-mono text-2xl mb-2",children:[i.num1," ",i.operation," ",i.num2," = ?"]}),r.jsx("div",{className:"text-green-300 text-right font-mono text-lg",children:l||"0"})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[[7,8,9,4,5,6,1,2,3].map(B=>r.jsx("button",{onClick:()=>T(B.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-xl font-semibold transition-colors",children:B},B)),r.jsx("button",{onClick:I,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"C"}),r.jsx("button",{onClick:()=>T("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-xl font-semibold transition-colors",children:"0"}),r.jsx("button",{onClick:_,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:""}),r.jsx("button",{onClick:M,disabled:!l,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"="})]})]}),(n==null?void 0:n.id)==="accuracy"&&r.jsx("div",{className:"mt-4 text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-4 bg-blue-50 rounded-lg px-4 py-2",children:[r.jsxs("span",{className:"text-green-600",children:["Correct: ",d/10]}),r.jsxs("span",{className:"text-red-600",children:["Mistakes: ",h,"/3"]})]})})]})]}),e==="result"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx(Fl,{className:"w-16 h-16 text-yellow-500 mx-auto"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:[n==null?void 0:n.name," Complete!"]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-4",children:[d," Points"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Problems Solved:"}),r.jsx("div",{className:"text-lg font-bold",children:b.length})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Accuracy:"}),r.jsxs("div",{className:"text-lg font-bold",children:[b.length>0?Math.round(b.filter(B=>B.isCorrect).length/b.length*100):0,"%"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Correct Answers:"}),r.jsx("div",{className:"text-lg font-bold text-green-600",children:b.filter(B=>B.isCorrect).length})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Mistakes:"}),r.jsx("div",{className:"text-lg font-bold text-red-600",children:h})]})]}),(n==null?void 0:n.timeLimit)&&r.jsx("div",{className:"mt-4 pt-4 border-t",children:r.jsxs("div",{className:"font-medium text-gray-700",children:["Speed: ",b.length>0?Math.round(n.timeLimit/b.length):0," sec/problem"]})})]}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs("button",{onClick:()=>S(n),className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),"Play Again"]}),r.jsxs("button",{onClick:C,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[r.jsx(Ro,{className:"w-5 h-5"}),"Choose New Mode"]})]})]}),e==="playing"&&r.jsx("div",{className:"text-center mt-6",children:r.jsxs("button",{onClick:C,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Quit Game"]})})]})]})},CT=[{id:1,emoji:"",name:"Apple",price:2.5,category:"Fruits"},{id:2,emoji:"",name:"Banana",price:1.25,category:"Fruits"},{id:3,emoji:"",name:"Orange",price:2,category:"Fruits"},{id:4,emoji:"",name:"Grapes",price:4.5,category:"Fruits"},{id:5,emoji:"",name:"Strawberry",price:3.75,category:"Fruits"},{id:6,emoji:"",name:"Bread",price:2.25,category:"Bakery"},{id:7,emoji:"",name:"Croissant",price:1.75,category:"Bakery"},{id:8,emoji:"",name:"Sandwich Bread",price:2.5,category:"Bakery"},{id:9,emoji:"",name:"Milk",price:3.5,category:"Dairy"},{id:10,emoji:"",name:"Cheese",price:5.25,category:"Dairy"},{id:11,emoji:"",name:"Butter",price:4,category:"Dairy"},{id:12,emoji:"",name:"Eggs",price:3,category:"Dairy"},{id:13,emoji:"",name:"Carrot",price:1.5,category:"Vegetables"},{id:14,emoji:"",name:"Lettuce",price:2.25,category:"Vegetables"},{id:15,emoji:"",name:"Tomato",price:3.25,category:"Vegetables"},{id:16,emoji:"",name:"Potato",price:2.75,category:"Vegetables"},{id:17,emoji:"",name:"Chicken",price:8.5,category:"Meat"},{id:18,emoji:"",name:"Beef",price:12.75,category:"Meat"},{id:19,emoji:"",name:"Fish",price:9.25,category:"Meat"},{id:20,emoji:"",name:"Pasta",price:1.75,category:"Pantry"}],sKe=({onBack:t})=>{var D,G,O,Q,ee,q,Z;const[e,s]=E.useState("menu"),[n,a]=E.useState([]),[i,o]=E.useState([]),[l,c]=E.useState(15),[d,u]=E.useState(!0),[h,m]=E.useState(0),[f,x]=E.useState(1),[A,g]=E.useState(0),[b,w]=E.useState([]),[v,j]=E.useState([]),N=3,S=F=>{const z=Math.min(5+F,8),W=[...CT].sort(()=>Math.random()-.5).slice(0,z),ne=W.reduce((be,ue)=>be+ue.price,0),ie=ne*(.1+Math.random()*.2);return{items:W,budget:Math.round((ne+ie)*100)/100}},T=()=>{const{items:F,budget:z}=S(f);a(F),g(z),o([]),c(15),u(!0),s("studying"),w([])},I=()=>{s("shopping"),u(!1)},_=F=>{o(z=>[...z,F])},M=F=>{o(z=>z.filter((V,W)=>W!==F))},C=()=>Math.round(i.reduce((F,z)=>F+z.price,0)*100)/100,B=()=>{const F=i.map(oe=>oe.id),z=n.map(oe=>oe.id),V=F.filter(oe=>z.includes(oe)),W=F.filter(oe=>!z.includes(oe)),ne=z.filter(oe=>!F.includes(oe)),ie=C(),be=ie<=A,ue=Math.round(V.length/Math.max(z.length,F.length)*100);let je=V.length*10;V.length===z.length&&W.length===0&&(je+=50),be&&(je+=20);const Be={round:f,correctItems:V.length,totalItems:z.length,extraItems:W.length,missedItems:ne.length,totalSpent:ie,budget:A,withinBudget:be,accuracy:ue,score:je};return m(oe=>oe+je),j(oe=>[...oe,Be]),setTimeout(()=>{f<N?(x(f+1),T()):s("result")},4e3),Be},P=()=>{s("menu"),a([]),o([]),c(15),u(!0),m(0),x(1),g(0),w([]),j([])},H=()=>{u(!d)};return E.useEffect(()=>{let F;return e==="studying"&&l>0?F=setTimeout(()=>c(l-1),1e3):e==="studying"&&l===0&&I(),()=>clearTimeout(F)},[e,l]),r.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Rl,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Grocery Memory Challenge"}),r.jsx("p",{className:"text-gray-600",children:"Memorize your shopping list and shop efficiently!"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(Lue,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Memory Shopping Challenge"}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Study your shopping list, memorize it, then shop without looking! Stay within budget and get the right items."})]}),r.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:CT.slice(0,6).map(F=>r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-3xl mb-2",children:F.emoji}),r.jsx("div",{className:"text-xs text-gray-600",children:F.name}),r.jsxs("div",{className:"text-xs text-green-600",children:["$",F.price]})]},F.id))}),h>0&&r.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["Final Score: ",h," points"]}),r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:h>=300?" Shopping Expert!":h>=200?" Great Shopper!":" Keep Practicing!"}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Average Accuracy: ",v.length>0?Math.round(v.reduce((F,z)=>F+z.accuracy,0)/v.length):0,"%"]})]}),r.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),h>0?"Play Again":"Start Shopping Challenge"]})]}),e==="studying"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-lg font-semibold",children:["Round ",f,"/",N]}),r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",h]})]}),r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Study Your Shopping List"}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Memorize these items and their details. You have ",l," seconds!"]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-xl p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[r.jsx(kf,{className:"w-5 h-5 text-green-600"}),r.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["Budget: $",A]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map(F=>r.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-md",children:[r.jsx("div",{className:"text-3xl mb-2",children:F.emoji}),r.jsx("div",{className:"text-sm font-bold text-gray-800 mb-1",children:F.name}),r.jsx("div",{className:"text-xs text-gray-600 mb-1",children:F.category}),r.jsxs("div",{className:"text-sm font-bold text-green-600",children:["$",F.price]})]},F.id))})]}),r.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200 max-w-md mx-auto",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",r.jsx("strong",{children:"Memory Tips:"})," Group items by category, remember prices, and create mental associations with the emojis!"]})}),r.jsx("button",{onClick:I,className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"I'm Ready to Shop!"})]})]}),e==="shopping"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-lg font-semibold",children:["Shopping - Round ",f]}),r.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:[d?r.jsx(sx,{className:"w-4 h-4"}):r.jsx(Es,{className:"w-4 h-4"}),d?"Hide":"Peek at"," List"]}),r.jsxs("div",{className:"text-lg font-semibold",children:["Budget: $",A]})]}),d&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("div",{className:"text-sm font-bold text-yellow-800 mb-2",children:"Your Shopping List:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(F=>r.jsxs("span",{className:"inline-flex items-center gap-1 bg-white px-2 py-1 rounded text-sm",children:[r.jsx("span",{children:F.emoji}),r.jsx("span",{children:F.name}),r.jsxs("span",{className:"text-green-600",children:["$",F.price]})]},F.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Grocery Store"}),r.jsx("div",{className:"grid grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:CT.map(F=>r.jsxs("button",{onClick:()=>_(F),className:"p-3 bg-white rounded-lg border-2 border-gray-200 hover:border-blue-400 hover:bg-blue-50 transition-all text-center group",children:[r.jsx("div",{className:"text-2xl mb-1",children:F.emoji}),r.jsx("div",{className:"text-xs font-medium text-gray-700 group-hover:text-blue-600",children:F.name}),r.jsx("div",{className:"text-xs text-gray-500",children:F.category}),r.jsxs("div",{className:"text-xs font-bold text-green-600",children:["$",F.price]})]},F.id))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Your Cart"}),r.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto mb-4",children:i.length===0?r.jsx("div",{className:"text-gray-500 text-center py-8",children:"Cart is empty"}):i.map((F,z)=>r.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:F.emoji}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:F.name}),r.jsx("div",{className:"text-xs text-gray-500",children:F.category})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",F.price]}),r.jsx("button",{onClick:()=>M(z),className:"text-red-500 hover:text-red-700 text-sm",children:""})]})]},z))}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("span",{className:"text-lg font-bold",children:"Total:"}),r.jsxs("span",{className:`text-lg font-bold ${C()>A?"text-red-600":"text-green-600"}`,children:["$",C()]})]}),C()>A&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 mb-4",children:r.jsxs("div",{className:"text-sm text-red-800",children:[" Over budget by $",Math.round((C()-A)*100)/100]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>o([]),className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Clear Cart"}),r.jsx("button",{onClick:()=>{B(),s("result")},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Checkout"})]})]})]})]})]}),e==="result"&&v.length>0&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx(Fl,{className:"w-16 h-16 text-yellow-500 mx-auto"}),r.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:f>N?"Shopping Challenge Complete!":`Round ${f} Results`}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-xl p-6 max-w-3xl mx-auto",children:[r.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:[h," Total Points"]}),f<=N?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Items Correct:"}),r.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(D=v[v.length-1])==null?void 0:D.correctItems,"/",(G=v[v.length-1])==null?void 0:G.totalItems]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Budget Status:"}),r.jsx("div",{className:`text-lg font-bold ${(O=v[v.length-1])!=null&&O.withinBudget?"text-green-600":"text-red-600"}`,children:(Q=v[v.length-1])!=null&&Q.withinBudget?" Within Budget":" Over Budget"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"font-medium",children:["Accuracy: ",(ee=v[v.length-1])==null?void 0:ee.accuracy,"%"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Total Spent: $",(q=v[v.length-1])==null?void 0:q.totalSpent," / $",(Z=v[v.length-1])==null?void 0:Z.budget]})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-lg text-gray-700 mb-4",children:["Overall Performance Across ",N," Rounds"]}),r.jsx("div",{className:"space-y-2 text-sm",children:v.map((F,z)=>r.jsxs("div",{className:"flex justify-between items-center bg-white rounded-lg p-3",children:[r.jsxs("span",{children:["Round ",F.round,":"]}),r.jsxs("div",{className:"flex gap-4 text-xs",children:[r.jsxs("span",{className:"text-green-600",children:[F.correctItems,"/",F.totalItems," items"]}),r.jsx("span",{className:F.withinBudget?"text-green-600":"text-red-600",children:F.withinBudget?"Budget ":"Over Budget"}),r.jsxs("span",{className:"font-bold",children:[F.score," pts"]})]})]},z))}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs("div",{className:"font-medium text-gray-700",children:["Average Accuracy: ",Math.round(v.reduce((F,z)=>F+z.accuracy,0)/v.length),"%"]})})]})]}),r.jsx("div",{className:"flex gap-3 justify-center",children:f<=N?r.jsxs("div",{className:"text-gray-600",children:["Round ",f+1," starting automatically..."]}):r.jsx(r.Fragment,{children:r.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),"Play Again"]})})})]}),(e==="shopping"||e==="studying")&&r.jsx("div",{className:"text-center mt-6",children:r.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[r.jsx(Ro,{className:"w-4 h-4"}),"Quit Game"]})})]})]})},nKe=({onBack:t})=>{const[e,s]=E.useState("ready"),[n,a]=E.useState(""),[i,o]=E.useState(""),[l,c]=E.useState(30),[d,u]=E.useState(null),[h,m]=E.useState(1),[f,x]=E.useState(0),A=()=>{let T="";for(let I=0;I<12;I++)T+=Math.floor(Math.random()*10);return T},g=()=>{const T=A();a(T),o(""),u(null),s("memorizing"),c(30)};E.useEffect(()=>{let T;return e==="memorizing"&&l>0?T=setTimeout(()=>{c(l-1)},1e3):e==="memorizing"&&l===0&&s("recalling"),()=>clearTimeout(T)},[e,l]);const b=()=>{let T=0;const I=i.padEnd(12," ");for(let M=0;M<12;M++)n[M]===I[M]&&T++;const _=Math.round(T/12*100);u({correct:T,total:12,percentage:_}),x(f+T),s("finished")},w=()=>{m(h+1),g()},v=()=>{s("ready"),a(""),o(""),c(30),u(null),m(1),x(0)},j=T=>{e==="recalling"&&i.length<12&&o(i+T)},N=()=>{e==="recalling"&&o(i.slice(0,-1))},S=()=>{e==="recalling"&&o("")};return r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Rl,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calculator Memory Game"}),r.jsx("p",{className:"text-gray-600",children:"Memorize 12 digits in 30 seconds, then recall them!"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Round"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:f})]})]}),e==="memorizing"&&r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[r.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"font-mono text-2xl text-green-400 text-right tracking-wider",children:[e==="ready"&&"000000000000",e==="memorizing"&&n,e==="recalling"&&r.jsx("span",{children:i.padEnd(12,"_")}),e==="finished"&&n]})}),e==="recalling"&&r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[7,8,9,4,5,6,1,2,3].map(T=>r.jsx("button",{onClick:()=>j(T.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:T},T)),r.jsx("button",{onClick:S,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"C"}),r.jsx("button",{onClick:()=>j("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"0"}),r.jsx("button",{onClick:N,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""}),r.jsx("button",{onClick:b,disabled:i.length!==12,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""})]})]}),r.jsxs("div",{className:"space-y-4",children:[e==="ready"&&r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx(_S,{className:"w-16 h-16 text-gray-400 mx-auto mb-2"}),r.jsxs("p",{className:"text-gray-600",children:["You'll have 30 seconds to memorize a 12-digit sequence.",r.jsx("br",{}),"Then you'll need to input the digits in the exact order!"]})]}),r.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),"Start Round ",h]})]}),e==="memorizing"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Memorize these digits!"}),r.jsxs("div",{className:"text-orange-600 font-medium",children:["Time remaining: ",l," seconds"]}),r.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:r.jsx("p",{className:"text-sm text-yellow-800",children:"Focus on the 12-digit sequence above. Use any memory technique you prefer!"})})]}),e==="recalling"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Now enter the digits from memory!"}),r.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Progress: ",i.length,"/12 digits entered"]}),r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:r.jsx("p",{className:"text-sm text-blue-800",children:"Use the calculator buttons below to input the sequence you memorized."})})]}),e==="finished"&&d&&r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-4",children:[d.percentage>=80?r.jsx(Fr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):r.jsx(ia,{className:"w-16 h-16 text-red-500 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Score: ",d.correct,"/",d.total," (",d.percentage,"%)"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Comparison:"}),r.jsxs("div",{className:"font-mono text-lg space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Correct: "}),r.jsx("span",{className:"text-green-600",children:n})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Your answer: "}),r.jsx("span",{className:"text-blue-600",children:i.padEnd(12,"_")})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),"Next Round"]}),r.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[r.jsx(Ro,{className:"w-5 h-5"}),"Reset Game"]})]})]})]})]})]})},aKe=({onBack:t})=>{const[e,s]=E.useState("menu"),[n,a]=E.useState(""),[i,o]=E.useState(""),[l,c]=E.useState(30),[d,u]=E.useState(null),[h,m]=E.useState(1),[f,x]=E.useState(0),[A,g]=E.useState(!1),b=()=>{let M="";for(let C=0;C<12;C++)M+=Math.floor(Math.random()*10);return M},w=()=>{const M=b();a(M),o(""),u(null),s("memorizing"),c(30),g(!1)},v=()=>{s("recalling"),g(!0),o("")},j=()=>{let M=0;const C=i.padEnd(12," ");for(let P=0;P<12;P++)n[P]===C[P]&&M++;const B=Math.round(M/12*100);u({correct:M,total:12,percentage:B}),x(f+M),s("result")},N=()=>{m(h+1),w()},S=()=>{s("menu"),a(""),o(""),c(30),u(null),m(1),x(0),g(!1)},T=M=>{e==="recalling"&&i.length<12&&o(i+M)},I=()=>{e==="recalling"&&o(i.slice(0,-1))},_=()=>{e==="recalling"&&o("")};return E.useEffect(()=>{let M;return e==="memorizing"&&l>0?M=setTimeout(()=>c(l-1),1e3):e==="memorizing"&&l===0&&v(),()=>clearTimeout(M)},[e,l]),r.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&r.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:r.jsx(Rl,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Digital Challenge"}),r.jsx("p",{className:"text-gray-600",children:"Memorize 12 digits in 30 seconds, then recall them!"})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Round"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:f})]})]}),e==="memorizing"&&r.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[r.jsx(fr,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]})]}),e==="menu"&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx(_S,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Digital Memory Challenge"}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Using any technique you like, spend up to 30 seconds memorizing the row of 12 digits on the calculator display. When time is up, cover them and write them out in order as accurately as you can."})]}),f>0&&r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Total Score: ",f," digits across ",h-1," rounds"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Average: ",Math.round(f/(h-1))," digits per round"]})]}),r.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),f>0?`Start Round ${h}`:"Start Challenge"]})]}),e==="memorizing"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Study these digits carefully!"}),r.jsxs("div",{className:"text-orange-600 font-medium mb-4",children:["Time remaining: ",l," seconds"]})]}),r.jsx("div",{className:"bg-gray-800 rounded-xl p-6 max-w-2xl mx-auto",children:r.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:r.jsx("div",{className:"font-mono text-3xl text-green-400 text-center tracking-widest",children:n})})}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200 max-w-md mx-auto",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",r.jsx("strong",{children:"Memory Tips:"})," Try grouping digits, creating patterns, or using visualization techniques!"]})}),r.jsx("button",{onClick:v,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"I'm Ready to Recall"})]})]}),e==="recalling"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Now enter the digits from memory!"}),r.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Progress: ",i.length,"/12 digits entered"]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 max-w-2xl mx-auto",children:[r.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:r.jsx("div",{className:"font-mono text-3xl text-green-400 text-center tracking-widest",children:A?i.padEnd(12,"_"):n})}),r.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[7,8,9,4,5,6,1,2,3].map(M=>r.jsx("button",{onClick:()=>T(M.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:M},M)),r.jsx("button",{onClick:_,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"Clear"}),r.jsx("button",{onClick:()=>T("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"0"}),r.jsx("button",{onClick:I,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""}),r.jsx("button",{onClick:j,disabled:i.length!==12,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"Submit"})]})]}),r.jsx("div",{className:"text-center",children:r.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 max-w-md mx-auto",children:r.jsx("p",{className:"text-sm text-blue-800",children:"Use the calculator buttons to input the sequence you memorized. Take your time and be as accurate as possible!"})})})]}),e==="result"&&d&&r.jsxs("div",{className:"text-center space-y-6",children:[r.jsxs("div",{className:"mb-4",children:[d.percentage>=80?r.jsx(Fr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):r.jsx(ia,{className:"w-16 h-16 text-orange-500 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Score: ",d.correct,"/",d.total," (",d.percentage,"%)"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 max-w-2xl mx-auto",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Digit-by-digit comparison:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"font-mono text-lg",children:[r.jsx("span",{className:"text-gray-500",children:"Correct: "}),r.jsx("span",{className:"text-green-600 tracking-widest",children:n})]}),r.jsxs("div",{className:"font-mono text-lg",children:[r.jsx("span",{className:"text-gray-500",children:"Your answer: "}),r.jsx("span",{className:"tracking-widest",children:n.split("").map((M,C)=>{const B=i[C]||"_",P=B===M;return r.jsx("span",{className:P?"text-green-600":"text-red-600",children:B},C)})})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[r.jsx(Pi,{className:"w-5 h-5"}),"Next Round"]}),r.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[r.jsx(Ro,{className:"w-5 h-5"}),"Reset Game"]})]})]})]})]})},iKe=()=>{const t=Ol(),e=qn();return t.pathname==="/student"||t.pathname==="/dashboard"?r.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:r.jsx("div",{className:"relative",children:r.jsxs("button",{onClick:()=>e("/student/games"),className:"h-16 w-16 rounded-full shadow-2xl bg-gradient-to-br from-fuchsia-500 via-purple-600 to-indigo-600 hover:from-fuchsia-500 hover:via-purple-700 hover:to-indigo-700 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 relative group","aria-label":"Open games menu",children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-fuchsia-500 via-purple-600 to-indigo-600 animate-ping opacity-20"}),r.jsx(ide,{className:"h-8 w-8 relative z-10"}),r.jsx("div",{className:"absolute bottom-full mb-2 px-2 py-1 rounded-md bg-gray-900 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"Games"})]})})}):null},Ij=()=>{const t=qn(),{gameKey:e}=tX();return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"px-4 sm:px-6 md:px-8 pt-6",children:r.jsxs("button",{onClick:()=>t(e?"/student/games":"/student"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white shadow-md hover:shadow-lg border border-gray-200 text-gray-700 hover:text-gray-900 transition-all duration-200",children:[r.jsx(Rl,{className:"w-4 h-4"}),e?"Back to Games":"Back to Dashboard"]})}),e&&r.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-6",children:r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[e==="memory"&&r.jsx(Wqe,{}),e==="math"&&r.jsx(qqe,{}),e==="words"&&r.jsx(Kqe,{}),e==="smiley-circles"&&r.jsx(Xqe,{}),e==="mind-training"&&r.jsx(Yqe,{}),e==="reshaped"&&r.jsx(Jqe,{}),e==="map-identifier"&&r.jsx(Zqe,{}),e==="facial-recall"&&r.jsx(eKe,{}),e==="calculator-games"&&r.jsx(rKe,{}),e==="grocery"&&r.jsx(sKe,{}),e==="calculator-memory"&&r.jsx(nKe,{}),e==="digital-challenge"&&r.jsx(aKe,{})]})}),!e&&r.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-6",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-6xl mx-auto",children:[r.jsxs("div",{className:"col-span-1 row-span-2 bg-gradient-to-br from-yellow-300 to-orange-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative overflow-hidden border-2 border-white/20",onClick:()=>t("/student/games/mind-training"),style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[r.jsx("div",{className:"absolute top-2 right-2 w-32 h-32 border-6 border-orange-400 rounded-full opacity-50 transform rotate-12 hover:rotate-45 transition-transform duration-700",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}}),r.jsx("div",{className:"absolute top-8 right-8 w-28 h-28 border-6 border-blue-500 rounded-lg opacity-50 transform -rotate-12 hover:rotate-12 transition-transform duration-700",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}}),r.jsx("div",{className:"absolute top-2 left-2 text-5xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"text-lg font-medium text-gray-800 mb-2 drop-shadow-sm",children:"Play"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1 drop-shadow-sm",children:"MIND Training"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2 drop-shadow-sm",children:"Games"}),r.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"On the Go..."}),r.jsxs("div",{className:"flex gap-4 mt-8",children:[r.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full border-4 border-red-600 transform hover:scale-110 transition-transform duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),r.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-lg border-4 border-blue-600 transform hover:scale-110 transition-transform duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}})]})]})]}),r.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-purple-300 to-purple-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative border-2 border-white/20",onClick:()=>t("/student/games/smiley-circles"),style:{boxShadow:"0 20px 40px -12px rgba(147, 51, 234, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[r.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Smiley"}),r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Circles"}),r.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Guess The emotions of the emojis"}),r.jsxs("div",{className:"flex gap-3 mb-3",children:[r.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),r.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),r.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),r.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""})]}),r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 rounded-full h-3 w-16 shadow-lg",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"}})]}),r.jsxs("div",{className:"col-span-1 row-span-2 bg-gradient-to-br from-gray-300 to-gray-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative overflow-hidden border-2 border-white/20",onClick:()=>t("/student/games/map-identifier"),style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[r.jsx("div",{className:"absolute top-2 left-2 text-5xl opacity-20 transform hover:rotate-45 transition-transform duration-700",children:""}),r.jsx("div",{className:"absolute right-4 top-4 w-32 h-40 transform hover:scale-110 transition-transform duration-500",children:r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-400 to-orange-600 opacity-70 transform hover:rotate-3 transition-transform duration-500",style:{clipPath:"polygon(20% 10%, 80% 15%, 90% 40%, 85% 70%, 60% 85%, 40% 90%, 15% 80%, 10% 50%, 15% 20%)",filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}})}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Map Identifier"}),r.jsx("div",{className:"text-sm text-gray-700 mb-6 max-w-32 drop-shadow-sm",children:"Guess different maps around the world and increase geographic knowledge"}),r.jsx("div",{className:"absolute bottom-6",children:r.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg transform hover:scale-105 transition-transform duration-300",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"},children:"Level: Medium"})})]})]}),r.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/student/games/facial-recall"),style:{boxShadow:"0 20px 40px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[r.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Facial Recall"}),r.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Memorize the names associated with the faces"}),r.jsxs("div",{className:"flex gap-4 mb-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full border-3 border-orange-600 transform hover:scale-110 hover:rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full border-3 border-blue-600 transform hover:scale-110 hover:-rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-full border-3 border-green-600 transform hover:scale-110 hover:rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}})]})]}),r.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-green-300 to-green-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/student/games/digital-challenge"),style:{boxShadow:"0 20px 40px -12px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[r.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Digital"}),r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Challenge"}),r.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Memorize 12 digits in 30 seconds"}),r.jsxs("div",{className:"bg-gradient-to-b from-gray-700 to-gray-900 rounded-lg p-3 mb-3 transform hover:scale-105 transition-transform duration-300",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"},children:[r.jsx("div",{className:"bg-gradient-to-b from-green-800 to-green-900 rounded p-2 text-center",style:{filter:"drop-shadow(inset 0 2px 4px rgba(0,0,0,0.3))"},children:r.jsx("span",{className:"font-mono text-green-400 text-sm drop-shadow-sm",children:"123456789012"})}),r.jsx("div",{className:"grid grid-cols-3 gap-1 mt-2",children:[7,8,9,4,5,6,1,2,3].map(s=>r.jsx("div",{className:"bg-gradient-to-b from-gray-500 to-gray-700 rounded text-white text-sm text-center py-1 transform hover:scale-110 transition-transform duration-200",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"},children:s},s))})]})]}),r.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/student/games/reshaped"),style:{boxShadow:"0 20px 40px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[r.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:rotate-45 transition-transform duration-700",children:""}),r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"RESHAPED"}),r.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Games design for kids to understand geometric shapes"}),r.jsxs("div",{className:"flex gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded transform rotate-12 hover:rotate-45 hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),r.jsx("div",{className:"w-0 h-0 border-l-6 border-r-6 border-b-12 border-l-transparent border-r-transparent border-b-blue-500 hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full relative hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:r.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})]}),r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 rounded-full h-3 w-16 shadow-lg",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"}})]}),r.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-blue-200 to-blue-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/student/games/grocery"),style:{boxShadow:"0 20px 40px -12px rgba(59, 130, 246, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[r.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),r.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Grocery"}),r.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Spend time memorizing given grocery list and shop efficiently"}),r.jsxs("div",{className:"flex gap-3 mb-3",children:[r.jsx("span",{className:"text-4xl transform hover:scale-125 hover:rotate-6 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),r.jsx("span",{className:"text-4xl transform hover:scale-125 hover:-rotate-6 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),r.jsx("span",{className:"text-4xl transform hover:scale-125 hover:rotate-3 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""})]})]}),r.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-pink-300 to-red-300 rounded-3xl shadow-2xl p-6 opacity-70 cursor-not-allowed border-2 border-white/20 relative overflow-hidden",style:{boxShadow:"0 20px 40px -12px rgba(244, 63, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[r.jsx("div",{className:"absolute top-2 right-2 text-5xl opacity-30 transform hover:scale-110 transition-transform duration-300",children:""}),r.jsxs("div",{className:"absolute top-6 left-6 flex gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"200ms"}}),r.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"400ms"}})]}),r.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"More Games Coming"}),r.jsx("div",{className:"text-sm text-gray-700 drop-shadow-sm",children:"Stay tuned for exciting new games!"}),r.jsx("div",{className:"mt-4 bg-white/30 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-white/60 to-white/80 h-full rounded-full w-1/3 animate-pulse"})})]})]})})]})},oKe=[{to:"/super-admin/overview",label:"Overview",icon:Nde},{to:"/super-admin/requests",label:"Requests",icon:dc},{to:"/super-admin/feedback",label:"Feedback",icon:mn},{to:"/super-admin/issues",label:"Issues",icon:Yi},{to:"/super-admin/tickets",label:"Tickets",icon:TS},{to:"/super-admin/credentials",label:"Passwords",icon:IP},{to:"/super-admin/id-pass",label:"ID Pass",icon:xde},{to:"/super-admin/operations",label:"Operations",icon:ei},{to:"/super-admin/active-schools",label:"Active Schools",icon:dc}],lKe=({children:t,sidebarCollapsed:e,onToggleSidebar:s,insights:n,profile:a})=>{const i=qn(),[o,l]=E.useState(!1),c=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),i("/")},d=a!=null&&a.name?a.name.trim().charAt(0).toUpperCase():"S",u=()=>l(!1),h=(m=!0)=>oKe.map(({to:f,label:x,icon:A})=>r.jsx(Hv,{to:f,onClick:u,className:"mb-1 block",children:({isActive:g})=>r.jsxs("div",{className:`
            flex items-center space-x-3 px-4 py-3 rounded-lg
            group transition-all duration-200 ease-out
            ${g?"bg-gradient-to-r from-amber-100 to-orange-50 text-amber-700 shadow-sm border-l-4 border-amber-500":"text-gray-600 hover:bg-gradient-to-r hover:from-amber-50 hover:to-orange-50 hover:text-gray-900 hover:shadow-sm hover:border-l-4 hover:border-amber-300"}
          `,children:[r.jsx(A,{size:20,className:`flex-shrink-0 transition-colors duration-200 ${g?"text-amber-600":"group-hover:text-amber-600"}`}),m&&r.jsx("span",{className:"font-medium flex-1 opacity-100 transition-opacity duration-200",children:x})]})},f));return r.jsxs("div",{className:"min-h-screen flex bg-slate-50",children:[r.jsxs("aside",{className:`hidden md:flex bg-white border-r border-gray-200 flex-col transition-all duration-300 ease-in-out shadow-lg ${e?"w-20":"w-72"}`,style:{willChange:"width"},children:[r.jsx("div",{className:"px-4 py-4 border-b border-gray-200 relative",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`${e?"w-10 h-10":"w-12 h-12"} bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center shadow-md transition-all duration-300`,children:r.jsx(Xd,{size:e?20:24,className:"text-white"})}),!e&&r.jsxs("div",{className:"flex flex-col opacity-100 transition-opacity duration-300",children:[r.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Electronic Educare"}),r.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Super Admin Portal"})]})]}),r.jsxs("button",{onClick:s,className:`absolute ${e?"top-2 right-[-7px]":"top-4 right-[-5px]"} p-4 bg-transparent rounded-lg text-gray-500 hover:text-amber-600 transition-colors duration-200`,"aria-label":e?"Open sidebar":"Collapse sidebar",title:e?"Open sidebar":"Collapse sidebar",children:[e&&r.jsx(ra,{size:16,className:"transition-transform duration-200"}),!e&&r.jsx(ru,{size:16,className:"transition-transform duration-200"})]})]})}),r.jsx("nav",{className:"flex-1 px-4 py-4 overflow-y-auto sidebar-scroll",children:h(!e)}),r.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 hover:bg-gradient-to-r hover:from-gray-50 hover:to-amber-50 transition-all duration-200 cursor-pointer group",children:r.jsxs("div",{className:`flex items-center ${e?"justify-center space-x-0":"space-x-3"}`,children:[a!=null&&a.avatar?r.jsx("img",{src:a.avatar,alt:(a==null?void 0:a.name)||"Super admin",className:"w-10 h-10 rounded-full object-cover border-2 border-amber-200 group-hover:border-amber-300 transition-all duration-200"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 group-hover:bg-amber-200 flex items-center justify-center transition-all duration-200 group-hover:shadow-sm",children:r.jsx("span",{className:"text-amber-600 group-hover:text-amber-700 font-semibold transition-colors duration-200",children:d})}),!e&&r.jsxs("div",{className:"opacity-100 transition-opacity duration-200 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-amber-900 transition-colors duration-200",children:(a==null?void 0:a.name)||"Super Admin"}),r.jsx("p",{className:"text-xs text-gray-500 group-hover:text-amber-600 transition-colors duration-200",children:(a==null?void 0:a.role)||"Super Administrator"})]})]})})]}),r.jsxs("div",{className:`fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-gray-200 shadow-2xl flex flex-col md:hidden transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`,children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center shadow-md",children:r.jsx(Xd,{size:20,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-gray-500 tracking-wide",children:"EEC Platform"}),r.jsx("p",{className:"text-base font-semibold text-gray-800",children:"Super Admin"})]})]}),r.jsx("button",{onClick:u,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600 transition-colors duration-200","aria-label":"Close menu",children:r.jsx(ks,{size:20})})]}),r.jsx("nav",{className:"flex-1 px-4 py-4 overflow-y-auto sidebar-scroll",children:h(!0)}),r.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[a!=null&&a.avatar?r.jsx("img",{src:a.avatar,alt:(a==null?void 0:a.name)||"Super admin",className:"w-10 h-10 rounded-full object-cover border-2 border-amber-200"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:r.jsx("span",{className:"text-amber-600 font-semibold",children:d})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.name)||"Super Admin"}),r.jsx("p",{className:"text-xs text-gray-500",children:(a==null?void 0:a.role)||"Super Administrator"})]})]})})]}),o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden backdrop-blur-sm",onClick:u,role:"presentation"}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[r.jsxs("header",{className:"bg-white border-b border-gray-200 shadow-sm px-4 sm:px-6 py-4 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>l(!0),className:"md:hidden p-2 rounded-lg border border-gray-200 hover:bg-gradient-to-r hover:from-amber-50 hover:to-orange-50 text-gray-600 hover:text-amber-600 transition-all duration-200","aria-label":"Open menu",children:r.jsx(Ng,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-gray-400 tracking-wide font-medium",children:"Control Centre"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Super Admin Portal"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:s,className:"hidden md:inline-flex p-2 rounded-lg border border-gray-200 hover:bg-gradient-to-r hover:from-amber-50 hover:to-orange-50 text-gray-600 hover:text-amber-600 transition-all duration-200 hover:shadow-sm","aria-label":"Toggle sidebar width",children:r.jsx(Ng,{size:20})}),r.jsxs("div",{className:"flex items-center gap-3 rounded-full bg-gray-50 px-3 py-1.5 border border-gray-200 hover:border-amber-300 transition-all duration-200",children:[a!=null&&a.avatar?r.jsx("img",{src:a.avatar,alt:(a==null?void 0:a.name)||"Super admin",className:"h-9 w-9 rounded-full object-cover border-2 border-gray-200"}):r.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-amber-100 to-orange-100 text-amber-700 font-semibold flex items-center justify-center border-2 border-amber-200 shadow-sm",children:d}),r.jsxs("div",{className:"hidden sm:block text-left",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(a==null?void 0:a.name)||"Super Admin"}),r.jsx("p",{className:"text-xs text-gray-500",children:(a==null?void 0:a.role)||"Super Administrator"})]}),r.jsx("button",{onClick:c,className:"text-xs font-semibold text-white hover:text-white px-3 py-1.5 rounded-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-sm hover:shadow-md",children:"Logout"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-3 sm:gap-4",children:n.map((m,f)=>{const x=["from-blue-50 to-blue-100","from-amber-50 to-orange-100","from-green-50 to-emerald-100","from-purple-50 to-pink-100"],A=["text-blue-700","text-amber-700","text-emerald-700","text-purple-700"],g=["border-blue-200","border-amber-200","border-emerald-200","border-purple-200"];return r.jsxs("div",{className:`bg-gradient-to-br ${x[f%4]} rounded-xl p-4 border ${g[f%4]} shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105`,children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600 font-medium mb-1",children:m.label}),r.jsx("p",{className:`text-2xl sm:text-3xl font-bold ${A[f%4]} mb-1`,children:m.value}),m.change&&r.jsx("p",{className:`text-xs font-semibold ${m.change.startsWith("+")?"text-emerald-600":"text-gray-600"}`,children:m.change})]},m.label)})})]}),r.jsx("main",{className:"super-admin-scroll flex-1 overflow-y-auto p-4 sm:p-6 bg-gray-50",children:t})]})]})},_T=t=>new Date(t).toLocaleString("en-IN",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),cKe={pending:"bg-amber-100 text-amber-700",review:"bg-blue-100 text-blue-700",approved:"bg-emerald-100 text-emerald-700"},dKe=({requests:t,feedbackItems:e,issues:s,tickets:n,onRequestAction:a,onIssueUpdate:i,onTicketUpdate:o,onFeedbackUpdate:l})=>{const c=t.filter(f=>f.status==="pending"),d=s.filter(f=>f.status!=="resolved"),u=n.filter(f=>f.status!=="resolved"),h=e.filter(f=>f.status!=="resolved"),m=[...t].sort((f,x)=>new Date(x.submittedAt)-new Date(f.submittedAt)).slice(0,3);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400 tracking-wide",children:"Approval Centre"}),r.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Schools waiting for action"})]}),r.jsxs("span",{className:"text-sm text-slate-500",children:[c.length," pending"]})]}),c.length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"All caught up! Every school request is processed."}),r.jsx("div",{className:"space-y-4",children:c.map(f=>r.jsxs("div",{className:"rounded-xl border border-slate-100 p-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-amber-50 text-amber-600",children:r.jsx(dc,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:f.schoolName}),r.jsxs("p",{className:"text-xs text-slate-500",children:[f.board,"  ",f.studentCount," students"]})]})]}),r.jsxs("div",{className:"mt-3 text-xs text-slate-500 flex gap-4",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(fr,{size:14})," ",_T(f.submittedAt)]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(xa,{size:14})," ",f.contactEmail]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(oa,{size:14})," ",f.contactPerson]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[r.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 text-sm text-slate-600 hover:bg-slate-50",onClick:()=>a(f.id,"review"),children:"Request Info"}),r.jsx("button",{className:"px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm hover:bg-emerald-700",onClick:()=>a(f.id,"approved"),children:"Approve Now"})]})]},f.id))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-violet-50 text-violet-500",children:r.jsx(Qp,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Recent approvals"}),r.jsx("p",{className:"font-semibold text-slate-800",children:"Activation timeline"})]})]}),r.jsx("div",{className:"space-y-3",children:m.map(f=>r.jsxs("div",{className:"border border-slate-100 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700",children:f.schoolName}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Campus: ",f.campuses]})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${cKe[f.status]||"bg-slate-100 text-slate-500"}`,children:f.status.toUpperCase()})]}),r.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Updated ",f.updatedAt?_T(f.updatedAt):_T(f.submittedAt)]})]},f.id))})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-sky-50 text-sky-500",children:r.jsx(TS,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Tickets"}),r.jsx("p",{className:"font-semibold text-slate-800",children:"Live queue"})]})]}),u.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No open tickets. Support team is up to date."}):r.jsx("div",{className:"space-y-3",children:u.slice(0,4).map(f=>r.jsxs("div",{className:"border border-slate-100 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700",children:f.subject}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f.status==="open"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:f.status.replace("_"," ")})]}),r.jsxs("p",{className:"text-xs text-slate-500",children:[f.schoolName,"  ",f.owner]}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{className:"text-xs px-3 py-1 border border-slate-200 rounded-lg text-slate-600",onClick:()=>o(f.id,{status:"in_progress"}),children:"Assign"}),r.jsx("button",{className:"text-xs px-3 py-1 rounded-lg bg-emerald-50 text-emerald-600",onClick:()=>o(f.id,{status:"resolved"}),children:"Resolve"})]})]},f.id))})]})]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-rose-50 text-rose-500",children:r.jsx(br,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Issue room"}),r.jsx("p",{className:"font-semibold text-slate-800",children:"Incidents under watch"})]})]}),d.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No open incidents right now."}):r.jsx("div",{className:"space-y-3",children:d.map(f=>r.jsxs("div",{className:"border border-slate-100 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700",children:f.title}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Owner: ",f.owner]})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f.severity==="high"?"bg-red-100 text-red-600":f.severity==="medium"?"bg-amber-100 text-amber-700":"bg-sky-100 text-sky-700"}`,children:f.severity})]}),r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:f.description}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx("button",{className:"text-xs px-3 py-1 border border-slate-200 rounded-lg text-slate-600",onClick:()=>i(f.id,{status:"investigating"}),children:"Escalate"}),r.jsx("button",{className:"text-xs px-3 py-1 rounded-lg bg-emerald-50 text-emerald-600",onClick:()=>i(f.id,{status:"resolved"}),children:"Mark resolved"})]})]},f.id))})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-emerald-50 text-emerald-500",children:r.jsx(xa,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Feedback"}),r.jsx("p",{className:"font-semibold text-slate-800",children:"Responses waiting"})]})]}),h.length===0?r.jsx("p",{className:"text-sm text-slate-500",children:"No pending feedback threads."}):r.jsx("div",{className:"space-y-3",children:h.map(f=>r.jsxs("div",{className:"border border-slate-100 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-700",children:f.topic}),r.jsx("p",{className:"text-xs text-slate-500",children:f.schoolName}),r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:f.message}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx("button",{className:"text-xs px-3 py-1 border border-slate-200 rounded-lg text-slate-600",onClick:()=>l(f.id,{status:"in_progress"}),children:"Discuss"}),r.jsx("button",{className:"text-xs px-3 py-1 rounded-lg bg-sky-50 text-sky-600",onClick:()=>l(f.id,{status:"resolved"}),children:"Close feedback"})]})]},f.id))})]})]})]})},uKe={pending:"bg-amber-100 text-amber-700",review:"bg-blue-100 text-blue-700",approved:"bg-emerald-100 text-emerald-700",rejected:"bg-rose-100 text-rose-600"},hKe=({requests:t,onRequestAction:e,loading:s=!1,error:n=null,onRefresh:a,schoolCredentials:i={},onGenerateSchoolCredentials:o})=>{const[l,c]=E.useState(""),[d,u]=E.useState("all"),h=E.useMemo(()=>t.filter(A=>{const g=A.schoolName.toLowerCase().includes(l.toLowerCase())||A.contactPerson.toLowerCase().includes(l.toLowerCase())||A.contactEmail.toLowerCase().includes(l.toLowerCase()),b=d==="all"||A.status===d;return g&&b}),[t,l,d]),m=(A,g)=>{const b=g==="review"?window.prompt("Add a note for the school (optional)"):void 0;e(A,g,b)},f=A=>A?Array.isArray(A.campusList)&&A.campusList.length>0?A.campusList:Array.isArray(A.campuses)&&A.campuses.length>0?A.campuses:A.campusName?[{name:A.campusName,campusType:"Main"}]:[{name:A.schoolName||A.name||"Main Campus",campusType:"Main"}]:[],x=(A,g=0)=>{const b=(A==null?void 0:A.id)||(A==null?void 0:A._id)||(A==null?void 0:A.campusId)||(A==null?void 0:A.name)||`campus-${g}`;return String(b)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"School onboarding"}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Approval workspace"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${d==="all"?"bg-slate-900 text-white border-slate-900":"border-slate-200 text-slate-600"}`,onClick:()=>u("all"),children:"All"}),r.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${d==="pending"?"bg-amber-500 text-white border-amber-500":"border-slate-200 text-slate-600"}`,onClick:()=>u("pending"),children:"Pending"}),r.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${d==="review"?"bg-blue-500 text-white border-blue-500":"border-slate-200 text-slate-600"}`,onClick:()=>u("review"),children:"Need info"}),r.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-medium border ${d==="approved"?"bg-emerald-500 text-white border-emerald-500":"border-slate-200 text-slate-600"}`,onClick:()=>u("approved"),children:"Approved"})]})]}),r.jsxs("div",{className:"mt-6 flex flex-col gap-4 md:flex-row md:items-center",children:[r.jsxs("div",{className:"flex-1 flex items-center gap-2 border border-slate-200 rounded-xl px-3 py-2 bg-slate-50",children:[r.jsx(Fs,{size:16,className:"text-slate-400"}),r.jsx("input",{type:"text",className:"bg-transparent flex-1 text-sm focus:outline-none",placeholder:"Search by school, contact person or email",value:l,onChange:A=>c(A.target.value)})]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 text-sm text-slate-600",children:[r.jsx(Po,{size:16}),"Advanced filters"]})]})]}),n&&r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 text-sm rounded-xl p-4 flex items-center justify-between",children:[r.jsx("span",{children:n}),a&&r.jsx("button",{onClick:a,className:"px-3 py-1 rounded-lg bg-rose-600 text-white text-xs",children:"Retry"})]}),s&&r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-8 text-center text-slate-500 flex flex-col items-center gap-3",children:[r.jsx(Vn,{size:24,className:"animate-spin text-amber-500"}),r.jsx("p",{children:"Loading latest school registrations"})]}),!s&&r.jsxs("div",{className:"space-y-4",children:[h.map(A=>{const g=i[A.id],b=f(A);return r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-slate-100 text-slate-600",children:r.jsx(br,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-slate-800",children:A.schoolName}),r.jsxs("p",{className:"text-sm text-slate-500",children:[A.board,"  ",A.studentCount," students  ",A.campuses," campuses"]})]})]}),r.jsxs("div",{className:"mt-3 text-xs text-slate-500 flex flex-wrap gap-3",children:[r.jsxs("span",{children:["ID: ",A.id]}),r.jsxs("span",{children:["Contact: ",A.contactPerson]}),r.jsxs("span",{children:["Email: ",A.contactEmail]}),r.jsxs("span",{children:["Submitted: ",new Date(A.submittedAt).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${uKe[A.status]||"bg-slate-100 text-slate-600"}`,children:A.status.toUpperCase()}),r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:A.notes})]})]}),r.jsxs("div",{className:"mt-4 bg-slate-50 border border-slate-200 rounded-xl p-4 flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase text-slate-500",children:[r.jsx(jg,{className:"text-amber-500",size:16}),"Campus credentials"]}),r.jsx("div",{className:"space-y-3",children:b.map((w,v)=>{const j=x(w,v),N=(g==null?void 0:g.campuses)||{},S=N[j]||N.default||(v===0&&(g!=null&&g.code)?g:null);return r.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:(w==null?void 0:w.name)||`Campus ${v+1}`}),r.jsx("p",{className:"text-xs text-slate-500",children:(w==null?void 0:w.campusType)||"Campus"}),(S==null?void 0:S.generatedAt)&&r.jsxs("p",{className:"text-xs text-slate-400",children:["Generated ",new Date(S.generatedAt).toLocaleString()]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs uppercase text-slate-500",children:"Username"}),r.jsx("span",{className:"font-mono text-sm text-slate-800",children:(S==null?void 0:S.code)||"Not generated"}),(S==null?void 0:S.code)&&r.jsxs("button",{className:"flex items-center gap-1 text-xs text-slate-500 border border-slate-300 rounded-lg px-2 py-1",onClick:()=>navigator.clipboard.writeText(S.code),children:[r.jsx(eh,{size:12})," Copy"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs uppercase text-slate-500",children:"Password"}),r.jsx("span",{className:"font-mono text-sm text-slate-800",children:(S==null?void 0:S.password)||"Not generated"}),(S==null?void 0:S.password)&&r.jsxs("button",{className:"flex items-center gap-1 text-xs text-slate-500 border border-slate-300 rounded-lg px-2 py-1",onClick:()=>navigator.clipboard.writeText(S.password),children:[r.jsx(eh,{size:12})," Copy"]})]})]})]}),r.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:r.jsx("button",{className:"px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>o==null?void 0:o(A,w,v),children:S?"Regenerate credentials":"Generate username & password"})})]},`${j}-${v}`)})})]}),r.jsxs("div",{className:"mt-4 flex flex-col gap-2 sm:flex-row",children:[r.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>m(A.id,"review"),children:[r.jsx(oh,{size:14}),"Request updates"]}),r.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg border border-rose-200 text-rose-600 text-sm",onClick:()=>m(A.id,"rejected"),children:[r.jsx(ia,{size:14}),"Reject"]}),r.jsxs("button",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm",onClick:()=>m(A.id,"approved"),children:[r.jsx(Fr,{size:14}),"Approve and activate"]})]})]},A.id)}),h.length===0&&r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:"No schools match the current filters."})]})]})},fKe={positive:"text-emerald-600 bg-emerald-50",neutral:"text-slate-600 bg-slate-100",negative:"text-rose-600 bg-rose-50"},mKe={awaiting_response:"Awaiting response",in_progress:"In progress",resolved:"Resolved"},pKe=({feedbackItems:t,onFeedbackUpdate:e})=>{const[s,n]=E.useState({}),a=E.useMemo(()=>t.filter(l=>l.status!=="resolved").length,[t]),i=(l,c)=>{n(d=>({...d,[l]:c}))},o=(l,c)=>{var d,u;!((d=s[l])!=null&&d.trim())&&c==="resolved"||(e(l,{status:c,response:((u=s[l])==null?void 0:u.trim())||void 0}),n(h=>({...h,[l]:""})))};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Voice of schools"}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Feedback desk"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Vn,{className:"animate-spin text-amber-500",size:16}),r.jsxs("span",{className:"text-slate-500",children:[a," conversations open"]})]})]})}),r.jsxs("div",{className:"space-y-5",children:[t.map(l=>r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-base font-semibold text-slate-800",children:l.topic}),r.jsxs("p",{className:"text-sm text-slate-500",children:[l.schoolName,"  ",new Date(l.submittedAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${fKe[l.sentiment]}`,children:l.sentiment.toUpperCase()}),r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-600",children:mKe[l.status]})]})]}),r.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:l.message}),l.response&&r.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm text-slate-600",children:[r.jsx("p",{className:"font-semibold text-slate-700 mb-1",children:"Latest response"}),r.jsx("p",{children:l.response})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-xs uppercase text-slate-400 tracking-wide",children:"Respond"}),r.jsx("textarea",{rows:"3",placeholder:"Capture action items or send an update to the school",className:"w-full border border-slate-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-amber-300",value:s[l.id]??"",onChange:c=>i(l.id,c.target.value)}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>o(l.id,"in_progress"),children:[r.jsx(gc,{size:16}),"Acknowledge"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm",onClick:()=>o(l.id,"resolved"),children:[r.jsx(hc,{size:16}),"Send & resolve"]}),l.status==="resolved"&&r.jsxs("span",{className:"flex items-center gap-2 text-xs text-emerald-600",children:[r.jsx(Qp,{size:14}),"Marked resolved"]})]})]})]},l.id)),t.length===0&&r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:"No feedback messages yet."})]})]})},xKe={high:"bg-rose-100 text-rose-600",medium:"bg-amber-100 text-amber-700",low:"bg-sky-100 text-sky-700"},AKe=[{value:"open",label:"Open"},{value:"investigating",label:"Investigating"},{value:"resolved",label:"Resolved"}],gKe=({issues:t,onIssueUpdate:e})=>{const[s,n]=E.useState("all"),a=E.useMemo(()=>t.filter(l=>s==="all"?!0:l.status===s),[t,s]),i=(l,c)=>{e(l,{status:c})},o=l=>{const c=window.prompt("Assign a new owner");c&&e(l,{owner:c})};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Incident response"}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Issue control room"})]}),r.jsx("div",{className:"flex gap-2",children:["all","open","investigating","resolved"].map(l=>r.jsx("button",{className:`px-4 py-2 rounded-lg text-sm border ${s===l?"bg-slate-900 text-white border-slate-900":"border-slate-200 text-slate-600"}`,onClick:()=>n(l),children:l==="all"?"All":l.charAt(0).toUpperCase()+l.slice(1)},l))})]})}),r.jsxs("div",{className:"space-y-4",children:[a.map(l=>r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-rose-50 text-rose-600",children:r.jsx(Yi,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-slate-800",children:l.title}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Reported by ",l.reportedBy]})]})]}),r.jsx("p",{className:"text-sm text-slate-600 mt-3",children:l.description}),r.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Opened ",new Date(l.reportedAt).toLocaleString()]})]}),r.jsxs("div",{className:"flex flex-col gap-2 text-right",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${xKe[l.severity]}`,children:l.severity.toUpperCase()}),r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-600",children:l.status.replace("_"," ")}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Owner: ",l.owner]}),l.updatedAt&&r.jsxs("p",{className:"text-xs text-slate-400",children:["Updated ",new Date(l.updatedAt).toLocaleString()]})]})]}),r.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row",children:[r.jsxs("div",{className:"relative inline-flex border border-slate-200 rounded-lg overflow-hidden",children:[r.jsx("select",{value:l.status,onChange:c=>i(l.id,c.target.value),className:"appearance-none px-4 py-2 text-sm text-slate-700 bg-white pr-8",children:AKe.map(c=>r.jsx("option",{value:c.value,children:c.label},c.value))}),r.jsx("span",{className:"pointer-events-none absolute right-2 top-2 text-slate-400",children:r.jsx(ln,{size:16})})]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>o(l.id),children:[r.jsx(rhe,{size:16}),"Reassign owner"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm",onClick:()=>e(l.id,{status:"resolved"}),children:[r.jsx(lv,{size:16}),"Mark resolved"]})]})]},l.id)),a.length===0&&r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:"No issues for the selected filter."})]})]})},bKe={open:{label:"Open",classes:"bg-rose-100 text-rose-600"},in_progress:{label:"In progress",classes:"bg-amber-100 text-amber-700"},resolved:{label:"Resolved",classes:"bg-emerald-100 text-emerald-600"}},yKe={high:"text-rose-600",medium:"text-amber-600",low:"text-slate-500"},vKe=({tickets:t,onTicketUpdate:e,loading:s=!1,error:n=null,onRefresh:a=()=>{}})=>{const[i,o]=E.useState("all"),l=E.useMemo(()=>t.filter(h=>i==="all"?!0:h.status===i),[t,i]),c=(h,m)=>{e(h,{status:m})},d=h=>{const m=window.prompt("Assign to which support group?");m&&e(h,{owner:m})},u=h=>{var x,A;const m=((x=h.requestDetails)==null?void 0:x.email)||((A=h.requestDetails)==null?void 0:A.username)||h.contactEmail,f=window.prompt(`Enter the new password for ${m||"the requested user"}.
Ensure it follows security guidelines.`);f&&e(h.id,{action:"reset_password",newPassword:f,resolutionNotes:`Password reset initiated for ${m||"user account"}.`})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Helpdesk"}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Ticket queue"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["all","open","in_progress","resolved"].map(h=>r.jsx("button",{className:`px-4 py-2 rounded-lg text-sm border ${i===h?"bg-slate-900 text-white border-slate-900":"border-slate-200 text-slate-600"}`,onClick:()=>o(h),children:h==="all"?"All":h.replace("_"," ")},h))})]}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mt-4",children:[r.jsx("div",{className:"text-sm text-slate-500",children:s?"Loading live support data":`${t.length} ticket(s) loaded`}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm hover:bg-slate-50 disabled:opacity-50",onClick:a,disabled:s,children:[s?r.jsx(Z8,{size:16,className:"animate-spin"}):r.jsx(lN,{size:16}),"Refresh"]})})]}),n&&r.jsx("div",{className:"mt-4 rounded-xl border border-rose-100 bg-rose-50 text-rose-700 px-4 py-3 text-sm",children:n})]}),r.jsxs("div",{className:"space-y-4",children:[s&&r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 text-center text-slate-500",children:[r.jsx(Z8,{className:"h-5 w-5 mx-auto animate-spin mb-2"}),"Syncing ticket queue"]}),!s&&l.map(h=>{var m,f;return r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-400",children:h.ticketNumber||h.id}),r.jsx("p",{className:"text-lg font-semibold text-slate-800",children:h.subject}),r.jsxs("p",{className:"text-sm text-slate-500",children:[h.schoolName,"  ",h.category,"  ",new Date(h.openedAt).toLocaleString()]})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[(()=>{const x=bKe[h.status]||{label:h.status,classes:"bg-slate-100 text-slate-600"};return r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${x.classes}`,children:x.label})})(),r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium bg-slate-100 ${yKe[h.priority]||"text-slate-500"}`,children:["Priority: ",h.priority]}),((m=h.passwordReset)==null?void 0:m.status)&&r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h.passwordReset.status==="completed"?"bg-emerald-50 text-emerald-600":h.passwordReset.status==="failed"?"bg-rose-50 text-rose-600":"bg-amber-50 text-amber-600"}`,children:["Reset: ",h.passwordReset.status]})]})]}),((f=h.requestDetails)==null?void 0:f.description)&&r.jsx("p",{className:"text-sm text-slate-600 mt-3",children:h.requestDetails.description}),h.resolutionNotes&&r.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Notes: ",h.resolutionNotes]}),r.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row sm:flex-wrap",children:[r.jsxs("div",{className:"relative inline-flex border border-slate-200 rounded-lg overflow-hidden",children:[r.jsxs("select",{value:h.status,onChange:x=>c(h.id,x.target.value),className:"appearance-none px-4 py-2 text-sm text-slate-700 bg-white pr-8",children:[r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"in_progress",children:"In progress"}),r.jsx("option",{value:"resolved",children:"Resolved"})]}),r.jsx("span",{className:"pointer-events-none absolute right-2 top-2 text-slate-400",children:r.jsx(ln,{size:16})})]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>d(h.id),children:[r.jsx(Ar,{size:16}),"Reassign"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm",onClick:()=>c(h.id,"resolved"),children:[r.jsx(Qp,{size:16}),"Close ticket"]}),h.supportType==="password-reset"&&r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 text-sm",onClick:()=>u(h),children:[r.jsx(IP,{size:16}),"Reset password"]})]})]},h.id)}),!s&&l.length===0&&r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:"No tickets in this bucket."})]})]})},$q={not_generated:{label:"Not generated",classes:"bg-slate-100 text-slate-600"},generated:{label:"Generated",classes:"bg-emerald-100 text-emerald-600"},reset_sent:{label:"Reset sent",classes:"bg-amber-100 text-amber-700"}},wKe=({requests:t,credentialState:e,onGenerateCredential:s,onResetCredential:n})=>{const[a,i]=E.useState(""),[o,l]=E.useState({}),c=E.useMemo(()=>t.map(x=>({...x,credential:e[x.id]||{password:"",status:"not_generated",lastGenerated:null,lastReset:null}})),[t,e]),d=c.filter(x=>x.schoolName.toLowerCase().includes(a.toLowerCase())||x.contactEmail.toLowerCase().includes(a.toLowerCase())),u=c.filter(x=>x.credential.status!=="not_generated").length,h=c.filter(x=>x.credential.lastReset?Date.now()-new Date(x.credential.lastReset).getTime()<=10080*60*1e3:!1).length,m=x=>{l(A=>({...A,[x]:!A[x]}))},f=async x=>{if(x)try{await navigator.clipboard.writeText(x)}catch(A){console.error("Clipboard copy failed",A)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Security controls"}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Password generation & reset"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"border border-slate-200 rounded-xl p-3",children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Generated"}),r.jsx("p",{className:"text-xl font-semibold text-slate-800",children:u})]}),r.jsxs("div",{className:"border border-slate-200 rounded-xl p-3",children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Reset in 7 days"}),r.jsx("p",{className:"text-xl font-semibold text-slate-800",children:h})]})]})]}),r.jsxs("div",{className:"mt-6 flex flex-col gap-4 md:flex-row",children:[r.jsxs("div",{className:"flex-1 flex items-center gap-2 border border-slate-200 rounded-xl px-3 py-2 bg-slate-50",children:[r.jsx(Fs,{size:16,className:"text-slate-400"}),r.jsx("input",{className:"bg-transparent flex-1 text-sm focus:outline-none",placeholder:"Search school or email",value:a,onChange:x=>i(x.target.value)})]}),r.jsx("div",{className:"text-xs text-slate-500",children:"Password policy: 12+ chars, mixed case, number & symbol"})]})]}),r.jsxs("div",{className:"space-y-4",children:[d.map(x=>{const A=$q[x.credential.status]||$q.not_generated,g=o[x.id],b=g?x.credential.password:x.credential.password?"":"";return r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 space-y-4",children:[r.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-slate-800",children:x.schoolName}),r.jsxs("p",{className:"text-sm text-slate-500",children:[x.contactEmail,"  ",x.board]})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${A.classes}`,children:A.label}),x.credential.lastGenerated&&r.jsxs("span",{className:"text-xs text-slate-500",children:["Generated ",new Date(x.credential.lastGenerated).toLocaleString()]}),x.credential.lastReset&&r.jsxs("span",{className:"text-xs text-amber-600",children:["Reset ",new Date(x.credential.lastReset).toLocaleString()]})]})]}),r.jsxs("div",{className:"md:flex md:items-center md:justify-between gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(vde,{className:"text-slate-500",size:20}),r.jsxs("div",{className:"flex items-center gap-2 border border-slate-200 rounded-lg px-3 py-2 bg-slate-50",children:[r.jsx("span",{className:"font-mono text-sm text-slate-800",children:b||"Generate a secure password"}),x.credential.password&&r.jsx("button",{className:"text-slate-500 hover:text-slate-800",onClick:()=>m(x.id),title:g?"Hide password":"Show password",children:g?r.jsx(sx,{size:16}):r.jsx(Es,{size:16})}),x.credential.password&&r.jsx("button",{className:"text-slate-500 hover:text-slate-800",onClick:()=>f(x.credential.password),title:"Copy password",children:r.jsx(eh,{size:16})})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 md:mt-0",children:[r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-700 text-sm",onClick:()=>s(x.id),children:[r.jsx(DP,{size:16}),"Generate"]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500 text-white text-sm",onClick:()=>n(x.id),children:[r.jsx(oh,{size:16}),"Send reset link"]})]})]})]},x.id)}),d.length===0&&r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-10 text-center text-slate-500",children:['No schools found for "',a,'".']})]})]})},jKe={pending:"bg-amber-100 text-amber-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-emerald-100 text-emerald-700"},NKe=({announcements:t,onCreateAnnouncement:e,complianceItems:s,onComplianceUpdate:n,activityFeed:a})=>{const[i,o]=E.useState({title:"",message:"",audience:"All schools"}),[l,c]=E.useState(!1),d=E.useMemo(()=>s.filter(h=>h.status!=="completed").length,[s]),u=h=>{h.preventDefault(),!(!i.title.trim()||!i.message.trim())&&(c(!0),setTimeout(()=>{e(i),o({title:"",message:"",audience:"All schools"}),c(!1)},400))};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Operations"}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Command centre"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"p-3 border border-slate-200 rounded-xl",children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Pending compliance"}),r.jsx("p",{className:"text-xl font-semibold text-slate-800",children:d})]}),r.jsxs("div",{className:"p-3 border border-slate-200 rounded-xl",children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Scheduled broadcasts"}),r.jsx("p",{className:"text-xl font-semibold text-slate-800",children:t.filter(h=>h.status!=="sent").length})]})]})]})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 rounded-lg bg-sky-50 text-sky-500",children:r.jsx(sa,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Broadcasts"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Send announcement"})]})]}),r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs uppercase text-slate-500",children:"Audience"}),r.jsxs("select",{className:"w-full border border-slate-200 rounded-lg px-3 py-2 text-sm mt-1",value:i.audience,onChange:h=>o(m=>({...m,audience:h.target.value})),children:[r.jsx("option",{children:"All schools"}),r.jsx("option",{children:"Premium schools"}),r.jsx("option",{children:"Pending onboarding"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs uppercase text-slate-500",children:"Title"}),r.jsx("input",{className:"w-full border border-slate-200 rounded-lg px-3 py-2 text-sm mt-1",placeholder:"Maintenance alert, feature rollout, etc",value:i.title,onChange:h=>o(m=>({...m,title:h.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs uppercase text-slate-500",children:"Message"}),r.jsx("textarea",{rows:"4",className:"w-full border border-slate-200 rounded-lg px-3 py-2 text-sm mt-1",placeholder:"Share impact, timelines and contact details",value:i.message,onChange:h=>o(m=>({...m,message:h.target.value}))})]}),r.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 w-full rounded-lg bg-emerald-600 text-white py-2 text-sm disabled:opacity-60",disabled:l,children:[r.jsx(hc,{size:16}),l?"Scheduling...":"Schedule broadcast"]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-amber-50 text-amber-500",children:r.jsx(Qv,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Compliance"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Controls tracker"})]})]}),r.jsx("div",{className:"space-y-3",children:s.map(h=>r.jsxs("div",{className:"border border-slate-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-800",children:h.title}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Owner: ",h.owner,"  Due ",h.dueDate]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${jKe[h.status]||"bg-slate-100 text-slate-600"}`,children:h.status.replace("_"," ")})]}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx("button",{className:"text-xs px-3 py-1 border border-slate-200 rounded-lg text-slate-600",onClick:()=>n(h.id,"in_progress"),children:"Progress"}),r.jsx("button",{className:"text-xs px-3 py-1 rounded-lg bg-emerald-50 text-emerald-600",onClick:()=>n(h.id,"completed"),children:"Mark done"})]})]},h.id))})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-violet-50 text-violet-500",children:r.jsx(ei,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Timeline"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Operational heartbeat"})]})]}),r.jsx("div",{className:"space-y-4",children:a.map(h=>r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"w-3 h-3 rounded-full bg-slate-300"}),r.jsx("span",{className:"flex-1 w-px bg-slate-200"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:h.label}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date(h.timestamp).toLocaleString()})]}),r.jsxs("div",{children:[h.type==="incident"&&r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-rose-50 text-rose-600",children:"Incident"}),h.type==="approval"&&r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-emerald-50 text-emerald-600",children:"Approval"}),h.type==="broadcast"&&r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-sky-50 text-sky-600",children:"Broadcast"}),h.type==="compliance"&&r.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-amber-50 text-amber-600",children:"Compliance"})]})]},h.id))})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg bg-emerald-50 text-emerald-500",children:r.jsx(DP,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Broadcast log"}),r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Recent announcements"})]})]}),r.jsxs("div",{className:"space-y-3",children:[t.map(h=>r.jsxs("div",{className:"border border-slate-100 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-semibold text-slate-800",children:h.title}),r.jsx("span",{className:"text-xs text-slate-500",children:new Date(h.createdAt).toLocaleString()})]}),r.jsx("p",{className:"text-sm text-slate-600 mt-2",children:h.message}),r.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Audience: ",h.audience]})]},h.id)),t.length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"No broadcasts yet."})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eP=function(t,e){return eP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])},eP(t,e)};function ou(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eP(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var tP=function(){return tP=Object.assign||function(e){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},tP.apply(this,arguments)};function Jo(t,e,s,n){function a(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,[])).next())})}function No(t,e){var s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,a=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){s=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){s.label=d[1];break}if(d[0]===6&&s.label<i[1]){s.label=i[1],i=d;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(d);break}i[2]&&s.ops.pop(),s.trys.pop();continue}d=e.call(t,s)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Lj(t,e,s){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var Df=(function(){function t(e,s,n,a){this.left=e,this.top=s,this.width=n,this.height=a}return t.prototype.add=function(e,s,n,a){return new t(this.left+e,this.top+s,this.width+n,this.height+a)},t.fromClientRect=function(e,s){return new t(s.left+e.windowBounds.left,s.top+e.windowBounds.top,s.width,s.height)},t.fromDOMRectList=function(e,s){var n=Array.from(s).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),B4=function(t,e){return Df.fromClientRect(t,e.getBoundingClientRect())},SKe=function(t){var e=t.body,s=t.documentElement;if(!e||!s)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,s.scrollWidth),Math.max(e.offsetWidth,s.offsetWidth),Math.max(e.clientWidth,s.clientWidth)),a=Math.max(Math.max(e.scrollHeight,s.scrollHeight),Math.max(e.offsetHeight,s.offsetHeight),Math.max(e.clientHeight,s.clientHeight));return new Df(0,0,n,a)},M4=function(t){for(var e=[],s=0,n=t.length;s<n;){var a=t.charCodeAt(s++);if(a>=55296&&a<=56319&&s<n){var i=t.charCodeAt(s++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),s--)}else e.push(a)}return e},Pa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var s=t.length;if(!s)return"";for(var n=[],a=-1,i="";++a<s;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===s||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},zq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CKe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Dj=0;Dj<zq.length;Dj++)CKe[zq.charCodeAt(Dj)]=Dj;var Gq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rj=0;Rj<Gq.length;Rj++)tv[Gq.charCodeAt(Rj)]=Rj;var _Ke=function(t){var e=t.length*.75,s=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<s;n+=4)i=tv[t.charCodeAt(n)],o=tv[t.charCodeAt(n+1)],l=tv[t.charCodeAt(n+2)],c=tv[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},EKe=function(t){for(var e=t.length,s=[],n=0;n<e;n+=2)s.push(t[n+1]<<8|t[n]);return s},kKe=function(t){for(var e=t.length,s=[],n=0;n<e;n+=4)s.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return s},tx=5,bD=11,ET=2,TKe=bD-tx,rae=65536>>tx,BKe=1<<tx,kT=BKe-1,MKe=1024>>tx,FKe=rae+MKe,PKe=FKe,IKe=32,LKe=PKe+IKe,DKe=65536>>bD,RKe=1<<TKe,OKe=RKe-1,Vq=function(t,e,s){return t.slice?t.slice(e,s):new Uint16Array(Array.prototype.slice.call(t,e,s))},UKe=function(t,e,s){return t.slice?t.slice(e,s):new Uint32Array(Array.prototype.slice.call(t,e,s))},HKe=function(t,e){var s=_Ke(t),n=Array.isArray(s)?kKe(s):new Uint32Array(s),a=Array.isArray(s)?EKe(s):new Uint16Array(s),i=24,o=Vq(a,i/2,n[4]/2),l=n[5]===2?Vq(a,(i+n[4])/2):UKe(n,Math.ceil((i+n[4])/4));return new QKe(n[0],n[1],n[2],n[3],o,l)},QKe=(function(){function t(e,s,n,a,i,o){this.initialValue=e,this.errorValue=s,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var s;if(e>=0){if(e<55296||e>56319&&e<=65535)return s=this.index[e>>tx],s=(s<<ET)+(e&kT),this.data[s];if(e<=65535)return s=this.index[rae+(e-55296>>tx)],s=(s<<ET)+(e&kT),this.data[s];if(e<this.highStart)return s=LKe-DKe+(e>>bD),s=this.index[s],s+=e>>tx&OKe,s=this.index[s],s=(s<<ET)+(e&kT),this.data[s];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),Wq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$Ke=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Oj=0;Oj<Wq.length;Oj++)$Ke[Wq.charCodeAt(Oj)]=Oj;var zKe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",qq=50,GKe=1,sae=2,nae=3,VKe=4,WKe=5,Kq=7,aae=8,Xq=9,Ym=10,rP=11,Yq=12,sP=13,qKe=14,rv=15,nP=16,Uj=17,Dy=18,KKe=19,Jq=20,aP=21,Ry=22,TT=23,IA=24,tc=25,sv=26,nv=27,LA=28,XKe=29,Tp=30,YKe=31,Hj=32,Qj=33,iP=34,oP=35,lP=36,W1=37,cP=38,jN=39,NN=40,BT=41,iae=42,JKe=43,ZKe=[9001,65288],oae="!",_s="",$j="",dP=HKe(zKe),rf=[Tp,lP],uP=[GKe,sae,nae,WKe],lae=[Ym,aae],Zq=[nv,sv],eXe=uP.concat(lae),eK=[cP,jN,NN,iP,oP],tXe=[rv,sP],rXe=function(t,e){e===void 0&&(e="strict");var s=[],n=[],a=[];return t.forEach(function(i,o){var l=dP.get(i);if(l>qq?(a.push(!0),l-=qq):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),s.push(nP);if(l===VKe||l===rP){if(o===0)return n.push(o),s.push(Tp);var c=s[o-1];return eXe.indexOf(c)===-1?(n.push(n[o-1]),s.push(c)):(n.push(o),s.push(Tp))}if(n.push(o),l===YKe)return s.push(e==="strict"?aP:W1);if(l===iae||l===XKe)return s.push(Tp);if(l===JKe)return i>=131072&&i<=196605||i>=196608&&i<=262141?s.push(W1):s.push(Tp);s.push(l)}),[n,s,a]},MT=function(t,e,s,n){var a=n[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=s;i<=n.length;){i++;var o=n[i];if(o===e)return!0;if(o!==Ym)break}if(a===Ym)for(var i=s;i>0;){i--;var l=n[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=s;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==Ym)break}if(l!==Ym)break}return!1},tK=function(t,e){for(var s=t;s>=0;){var n=e[s];if(n===Ym)s--;else return n}return 0},sXe=function(t,e,s,n,a){if(s[n]===0)return _s;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return _s;var o=i-1,l=i+1,c=e[i],d=o>=0?e[o]:0,u=e[l];if(c===sae&&u===nae)return _s;if(uP.indexOf(c)!==-1)return oae;if(uP.indexOf(u)!==-1||lae.indexOf(u)!==-1)return _s;if(tK(i,e)===aae)return $j;if(dP.get(t[i])===rP||(c===Hj||c===Qj)&&dP.get(t[l])===rP||c===Kq||u===Kq||c===Xq||[Ym,sP,rv].indexOf(c)===-1&&u===Xq||[Uj,Dy,KKe,IA,LA].indexOf(u)!==-1||tK(i,e)===Ry||MT(TT,Ry,i,e)||MT([Uj,Dy],aP,i,e)||MT(Yq,Yq,i,e))return _s;if(c===Ym)return $j;if(c===TT||u===TT)return _s;if(u===nP||c===nP)return $j;if([sP,rv,aP].indexOf(u)!==-1||c===qKe||d===lP&&tXe.indexOf(c)!==-1||c===LA&&u===lP||u===Jq||rf.indexOf(u)!==-1&&c===tc||rf.indexOf(c)!==-1&&u===tc||c===nv&&[W1,Hj,Qj].indexOf(u)!==-1||[W1,Hj,Qj].indexOf(c)!==-1&&u===sv||rf.indexOf(c)!==-1&&Zq.indexOf(u)!==-1||Zq.indexOf(c)!==-1&&rf.indexOf(u)!==-1||[nv,sv].indexOf(c)!==-1&&(u===tc||[Ry,rv].indexOf(u)!==-1&&e[l+1]===tc)||[Ry,rv].indexOf(c)!==-1&&u===tc||c===tc&&[tc,LA,IA].indexOf(u)!==-1)return _s;if([tc,LA,IA,Uj,Dy].indexOf(u)!==-1)for(var h=i;h>=0;){var m=e[h];if(m===tc)return _s;if([LA,IA].indexOf(m)!==-1)h--;else break}if([nv,sv].indexOf(u)!==-1)for(var h=[Uj,Dy].indexOf(c)!==-1?o:i;h>=0;){var m=e[h];if(m===tc)return _s;if([LA,IA].indexOf(m)!==-1)h--;else break}if(cP===c&&[cP,jN,iP,oP].indexOf(u)!==-1||[jN,iP].indexOf(c)!==-1&&[jN,NN].indexOf(u)!==-1||[NN,oP].indexOf(c)!==-1&&u===NN||eK.indexOf(c)!==-1&&[Jq,sv].indexOf(u)!==-1||eK.indexOf(u)!==-1&&c===nv||rf.indexOf(c)!==-1&&rf.indexOf(u)!==-1||c===IA&&rf.indexOf(u)!==-1||rf.concat(tc).indexOf(c)!==-1&&u===Ry&&ZKe.indexOf(t[l])===-1||rf.concat(tc).indexOf(u)!==-1&&c===Dy)return _s;if(c===BT&&u===BT){for(var f=s[i],x=1;f>0&&(f--,e[f]===BT);)x++;if(x%2!==0)return _s}return c===Hj&&u===Qj?_s:$j},nXe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var s=rXe(t,e.lineBreak),n=s[0],a=s[1],i=s[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[tc,Tp,iae].indexOf(l)!==-1?W1:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},aXe=(function(){function t(e,s,n,a){this.codePoints=e,this.required=s===oae,this.start=n,this.end=a}return t.prototype.slice=function(){return Pa.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),iXe=function(t,e){var s=M4(t),n=nXe(s,e),a=n[0],i=n[1],o=n[2],l=s.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=_s;d<l&&(u=sXe(s,i,a,++d,o))===_s;);if(u!==_s||d===l){var h=new aXe(s,u,c,d);return c=d,{value:h,done:!1}}return{done:!0,value:null}}}},oXe=1,lXe=2,Tw=4,rK=8,mS=10,sK=47,Pv=92,cXe=9,dXe=32,zj=34,Oy=61,uXe=35,hXe=36,fXe=37,Gj=39,Vj=40,Uy=41,mXe=95,kl=45,pXe=33,xXe=60,AXe=62,gXe=64,bXe=91,yXe=93,vXe=61,wXe=123,Wj=63,jXe=125,nK=124,NXe=126,SXe=128,aK=65533,FT=42,Hp=43,CXe=44,_Xe=58,EXe=59,q1=46,kXe=0,TXe=8,BXe=11,MXe=14,FXe=31,PXe=127,ku=-1,cae=48,dae=97,uae=101,IXe=102,LXe=117,DXe=122,hae=65,fae=69,mae=70,RXe=85,OXe=90,ko=function(t){return t>=cae&&t<=57},UXe=function(t){return t>=55296&&t<=57343},DA=function(t){return ko(t)||t>=hae&&t<=mae||t>=dae&&t<=IXe},HXe=function(t){return t>=dae&&t<=DXe},QXe=function(t){return t>=hae&&t<=OXe},$Xe=function(t){return HXe(t)||QXe(t)},zXe=function(t){return t>=SXe},qj=function(t){return t===mS||t===cXe||t===dXe},pS=function(t){return $Xe(t)||zXe(t)||t===mXe},iK=function(t){return pS(t)||ko(t)||t===kl},GXe=function(t){return t>=kXe&&t<=TXe||t===BXe||t>=MXe&&t<=FXe||t===PXe},Im=function(t,e){return t!==Pv?!1:e!==mS},Kj=function(t,e,s){return t===kl?pS(e)||Im(e,s):pS(t)?!0:!!(t===Pv&&Im(t,e))},PT=function(t,e,s){return t===Hp||t===kl?ko(e)?!0:e===q1&&ko(s):ko(t===q1?e:t)},VXe=function(t){var e=0,s=1;(t[e]===Hp||t[e]===kl)&&(t[e]===kl&&(s=-1),e++);for(var n=[];ko(t[e]);)n.push(t[e++]);var a=n.length?parseInt(Pa.apply(void 0,n),10):0;t[e]===q1&&e++;for(var i=[];ko(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(Pa.apply(void 0,i),10):0;(t[e]===fae||t[e]===uae)&&e++;var c=1;(t[e]===Hp||t[e]===kl)&&(t[e]===kl&&(c=-1),e++);for(var d=[];ko(t[e]);)d.push(t[e++]);var u=d.length?parseInt(Pa.apply(void 0,d),10):0;return s*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},WXe={type:2},qXe={type:3},KXe={type:4},XXe={type:13},YXe={type:8},JXe={type:21},ZXe={type:9},eYe={type:10},tYe={type:11},rYe={type:12},sYe={type:14},Xj={type:23},nYe={type:1},aYe={type:25},iYe={type:24},oYe={type:26},lYe={type:27},cYe={type:28},dYe={type:29},uYe={type:31},hP={type:32},pae=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(M4(e))},t.prototype.read=function(){for(var e=[],s=this.consumeToken();s!==hP;)e.push(s),s=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case zj:return this.consumeStringToken(zj);case uXe:var s=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(iK(s)||Im(n,a)){var i=Kj(s,n,a)?lXe:oXe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case hXe:if(this.peekCodePoint(0)===Oy)return this.consumeCodePoint(),XXe;break;case Gj:return this.consumeStringToken(Gj);case Vj:return WXe;case Uy:return qXe;case FT:if(this.peekCodePoint(0)===Oy)return this.consumeCodePoint(),sYe;break;case Hp:if(PT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case CXe:return KXe;case kl:var l=e,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(PT(l,c,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Kj(l,c,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===kl&&d===AXe)return this.consumeCodePoint(),this.consumeCodePoint(),iYe;break;case q1:if(PT(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case sK:if(this.peekCodePoint(0)===FT)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===FT&&(u=this.consumeCodePoint(),u===sK))return this.consumeToken();if(u===ku)return this.consumeToken()}break;case _Xe:return oYe;case EXe:return lYe;case xXe:if(this.peekCodePoint(0)===pXe&&this.peekCodePoint(1)===kl&&this.peekCodePoint(2)===kl)return this.consumeCodePoint(),this.consumeCodePoint(),aYe;break;case gXe:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Kj(h,m,f)){var o=this.consumeName();return{type:7,value:o}}break;case bXe:return cYe;case Pv:if(Im(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case yXe:return dYe;case vXe:if(this.peekCodePoint(0)===Oy)return this.consumeCodePoint(),YXe;break;case wXe:return tYe;case jXe:return rYe;case LXe:case RXe:var x=this.peekCodePoint(0),A=this.peekCodePoint(1);return x===Hp&&(DA(A)||A===Wj)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case nK:if(this.peekCodePoint(0)===Oy)return this.consumeCodePoint(),ZXe;if(this.peekCodePoint(0)===nK)return this.consumeCodePoint(),JXe;break;case NXe:if(this.peekCodePoint(0)===Oy)return this.consumeCodePoint(),eYe;break;case ku:return hP}return qj(e)?(this.consumeWhiteSpace(),uYe):ko(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):pS(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Pa(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],s=this.consumeCodePoint();DA(s)&&e.length<6;)e.push(s),s=this.consumeCodePoint();for(var n=!1;s===Wj&&e.length<6;)e.push(s),s=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Pa.apply(void 0,e.map(function(c){return c===Wj?cae:c})),16),i=parseInt(Pa.apply(void 0,e.map(function(c){return c===Wj?mae:c})),16);return{type:30,start:a,end:i}}var o=parseInt(Pa.apply(void 0,e),16);if(this.peekCodePoint(0)===kl&&DA(this.peekCodePoint(1))){this.consumeCodePoint(),s=this.consumeCodePoint();for(var l=[];DA(s)&&l.length<6;)l.push(s),s=this.consumeCodePoint();var i=parseInt(Pa.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Vj?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Vj?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ku)return{type:22,value:""};var s=this.peekCodePoint(0);if(s===Gj||s===zj){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ku||this.peekCodePoint(0)===Uy)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Xj)}for(;;){var a=this.consumeCodePoint();if(a===ku||a===Uy)return{type:22,value:Pa.apply(void 0,e)};if(qj(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ku||this.peekCodePoint(0)===Uy?(this.consumeCodePoint(),{type:22,value:Pa.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Xj);if(a===zj||a===Gj||a===Vj||GXe(a))return this.consumeBadUrlRemnants(),Xj;if(a===Pv)if(Im(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Xj;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;qj(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Uy||e===ku)return;Im(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var s=5e4,n="";e>0;){var a=Math.min(s,e);n+=Pa.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var s="",n=0;do{var a=this._value[n];if(a===ku||a===void 0||a===e)return s+=this.consumeStringSlice(n),{type:0,value:s};if(a===mS)return this._value.splice(0,n),nYe;if(a===Pv){var i=this._value[n+1];i!==ku&&i!==void 0&&(i===mS?(s+=this.consumeStringSlice(n),n=-1,this._value.shift()):Im(a,i)&&(s+=this.consumeStringSlice(n),s+=Pa(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],s=Tw,n=this.peekCodePoint(0);for((n===Hp||n===kl)&&e.push(this.consumeCodePoint());ko(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===q1&&ko(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),s=rK;ko(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===fae||n===uae)&&((a===Hp||a===kl)&&ko(i)||ko(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),s=rK;ko(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[VXe(e),s]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),s=e[0],n=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Kj(a,i,o)){var l=this.consumeName();return{type:15,number:s,flags:n,unit:l}}return a===fXe?(this.consumeCodePoint(),{type:16,number:s,flags:n}):{type:17,number:s,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(DA(e)){for(var s=Pa(e);DA(this.peekCodePoint(0))&&s.length<6;)s+=Pa(this.consumeCodePoint());qj(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(s,16);return n===0||UXe(n)||n>1114111?aK:n}return e===ku?aK:e},t.prototype.consumeName=function(){for(var e="";;){var s=this.consumeCodePoint();if(iK(s))e+=Pa(s);else if(Im(s,this.peekCodePoint(0)))e+=Pa(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(s),e}},t})(),xae=(function(){function t(e){this._tokens=e}return t.create=function(e){var s=new pae;return s.write(e),new t(s.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var s=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return s;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var s=this.consumeComponentValue();if(s.type===32)return e;e.push(s),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var s={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||fYe(n,e))return s;this.reconsumeToken(n),s.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var s={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return s;this.reconsumeToken(n),s.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?hP:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),Bw=function(t){return t.type===15},Rb=function(t){return t.type===17},wn=function(t){return t.type===20},hYe=function(t){return t.type===0},fP=function(t,e){return wn(t)&&t.value===e},Aae=function(t){return t.type!==31},ub=function(t){return t.type!==31&&t.type!==4},fh=function(t){var e=[],s=[];return t.forEach(function(n){if(n.type===4){if(s.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(s),s=[];return}n.type!==31&&s.push(n)}),s.length&&e.push(s),e},fYe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},x0=function(t){return t.type===17||t.type===15},Ya=function(t){return t.type===16||x0(t)},gae=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ji={type:17,number:0,flags:Tw},yD={type:16,number:50,flags:Tw},Jm={type:16,number:100,flags:Tw},av=function(t,e,s){var n=t[0],a=t[1];return[Rn(n,e),Rn(typeof a<"u"?a:n,s)]},Rn=function(t,e){if(t.type===16)return t.number/100*e;if(Bw(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},bae="deg",yae="grad",vae="rad",wae="turn",F4={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case bae:return Math.PI*e.number/180;case yae:return Math.PI/200*e.number;case vae:return e.number;case wae:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},jae=function(t){return t.type===15&&(t.unit===bae||t.unit===yae||t.unit===vae||t.unit===wae)},Nae=function(t){var e=t.filter(wn).map(function(s){return s.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ji,Ji];case"to top":case"bottom":return td(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ji,Jm];case"to right":case"left":return td(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Jm,Jm];case"to bottom":case"top":return td(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Jm,Ji];case"to left":case"right":return td(270)}return 0},td=function(t){return Math.PI*t/180},o0={name:"color",parse:function(t,e){if(e.type===18){var s=mYe[e.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return s(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return Zm(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return Zm(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return Zm(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return Zm(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=_f[e.value.toUpperCase()];if(typeof l<"u")return l}return _f.TRANSPARENT}},l0=function(t){return(255&t)===0},Ei=function(t){var e=255&t,s=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+s+","+e/255+")":"rgb("+a+","+n+","+s+")"},Zm=function(t,e,s,n){return(t<<24|e<<16|s<<8|Math.round(n*255)<<0)>>>0},oK=function(t,e){if(t.type===17)return t.number;if(t.type===16){var s=e===3?1:255;return e===3?t.number/100*s:Math.round(t.number/100*s)}return 0},lK=function(t,e){var s=e.filter(ub);if(s.length===3){var n=s.map(oK),a=n[0],i=n[1],o=n[2];return Zm(a,i,o,1)}if(s.length===4){var l=s.map(oK),a=l[0],i=l[1],o=l[2],c=l[3];return Zm(a,i,o,c)}return 0};function IT(t,e,s){return s<0&&(s+=1),s>=1&&(s-=1),s<1/6?(e-t)*s*6+t:s<1/2?e:s<2/3?(e-t)*6*(2/3-s)+t:t}var cK=function(t,e){var s=e.filter(ub),n=s[0],a=s[1],i=s[2],o=s[3],l=(n.type===17?td(n.number):F4.parse(t,n))/(Math.PI*2),c=Ya(a)?a.number/100:0,d=Ya(i)?i.number/100:0,u=typeof o<"u"&&Ya(o)?Rn(o,1):1;if(c===0)return Zm(d*255,d*255,d*255,1);var h=d<=.5?d*(c+1):d+c-d*c,m=d*2-h,f=IT(m,h,l+1/3),x=IT(m,h,l),A=IT(m,h,l-1/3);return Zm(f*255,x*255,A*255,u)},mYe={hsl:cK,hsla:cK,rgb:lK,rgba:lK},Iv=function(t,e){return o0.parse(t,xae.create(e).parseComponentValue())},_f={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},pYe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(s){if(wn(s))switch(s.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xYe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},P4=function(t,e){var s=o0.parse(t,e[0]),n=e[1];return n&&Ya(n)?{color:s,stop:n}:{color:s,stop:null}},dK=function(t,e){var s=t[0],n=t[t.length-1];s.stop===null&&(s.stop=Ji),n.stop===null&&(n.stop=Jm);for(var a=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=Rn(l,e);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,m=a[d-1],f=(u-m)/(h+1),x=1;x<=h;x++)a[d+x-1]=f*x;d=null}}return t.map(function(A,g){var b=A.color;return{color:b,stop:Math.max(Math.min(1,a[g]/e),0)}})},AYe=function(t,e,s){var n=e/2,a=s/2,i=Rn(t[0],e)-n,o=a-Rn(t[1],s);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},gYe=function(t,e,s){var n=typeof t=="number"?t:AYe(t,e,s),a=Math.abs(e*Math.sin(n))+Math.abs(s*Math.cos(n)),i=e/2,o=s/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},Id=function(t,e){return Math.sqrt(t*t+e*e)},uK=function(t,e,s,n,a){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=Id(s-c,n-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},bYe=function(t,e,s,n,a){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(s),Math.abs(s-a)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(s),Math.abs(s-a)));break;case 2:if(t.shape===0)i=o=Math.min(Id(e,s),Id(e,s-a),Id(e-n,s),Id(e-n,s-a));else if(t.shape===1){var l=Math.min(Math.abs(s),Math.abs(s-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=uK(n,a,e,s,!0),d=c[0],u=c[1];i=Id(d-e,(u-s)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(s),Math.abs(s-a)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(s),Math.abs(s-a)));break;case 3:if(t.shape===0)i=o=Math.max(Id(e,s),Id(e,s-a),Id(e-n,s),Id(e-n,s-a));else if(t.shape===1){var l=Math.max(Math.abs(s),Math.abs(s-a))/Math.max(Math.abs(e),Math.abs(e-n)),h=uK(n,a,e,s,!1),d=h[0],u=h[1];i=Id(d-e,(u-s)/l),o=l*i}break}return Array.isArray(t.size)&&(i=Rn(t.size[0],n),o=t.size.length===2?Rn(t.size[1],a):i),[i,o]},yYe=function(t,e){var s=td(180),n=[];return fh(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){s=Nae(a);return}else if(jae(o)){s=F4.parse(t,o);return}}var l=P4(t,a);n.push(l)}),{angle:s,stops:n,type:1}},Yj=function(t,e){var s=td(180),n=[];return fh(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){s=Nae(a);return}else if(jae(o)){s=(F4.parse(t,o)+td(270))%td(360);return}}var l=P4(t,a);n.push(l)}),{angle:s,stops:n,type:1}},vYe=function(t,e){var s=td(180),n=[],a=1,i=0,o=3,l=[];return fh(e).forEach(function(c,d){var u=c[0];if(d===0){if(wn(u)&&u.value==="linear"){a=1;return}else if(wn(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var h=o0.parse(t,u.values[0]);n.push({stop:Ji,color:h})}else if(u.name==="to"){var h=o0.parse(t,u.values[0]);n.push({stop:Jm,color:h})}else if(u.name==="color-stop"){var m=u.values.filter(ub);if(m.length===2){var h=o0.parse(t,m[1]),f=m[0];Rb(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:h})}}}}),a===1?{angle:(s+td(180))%td(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},Sae="closest-side",Cae="farthest-side",_ae="closest-corner",Eae="farthest-corner",kae="circle",Tae="ellipse",Bae="cover",Mae="contain",wYe=function(t,e){var s=0,n=3,a=[],i=[];return fh(e).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(h,m){if(d)if(wn(m))switch(m.value){case"center":return i.push(yD),h;case"top":case"left":return i.push(Ji),h;case"right":case"bottom":return i.push(Jm),h}else(Ya(m)||x0(m))&&i.push(m);else if(wn(m))switch(m.value){case kae:return s=0,!1;case Tae:return s=1,!1;case"at":return d=!0,!1;case Sae:return n=0,!1;case Bae:case Cae:return n=1,!1;case Mae:case _ae:return n=2,!1;case Eae:return n=3,!1}else if(x0(m)||Ya(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return h},c)}if(c){var u=P4(t,o);a.push(u)}}),{size:n,shape:s,stops:a,position:i,type:2}},Jj=function(t,e){var s=0,n=3,a=[],i=[];return fh(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,h){if(wn(h))switch(h.value){case"center":return i.push(yD),!1;case"top":case"left":return i.push(Ji),!1;case"right":case"bottom":return i.push(Jm),!1}else if(Ya(h)||x0(h))return i.push(h),!1;return u},c):l===1&&(c=o.reduce(function(u,h){if(wn(h))switch(h.value){case kae:return s=0,!1;case Tae:return s=1,!1;case Mae:case Sae:return n=0,!1;case Cae:return n=1,!1;case _ae:return n=2,!1;case Bae:case Eae:return n=3,!1}else if(x0(h)||Ya(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return u},c)),c){var d=P4(t,o);a.push(d)}}),{size:n,shape:s,stops:a,position:i,type:2}},jYe=function(t){return t.type===1},NYe=function(t){return t.type===2},vD={name:"image",parse:function(t,e){if(e.type===22){var s={url:e.value,type:0};return t.cache.addImage(e.value),s}if(e.type===18){var n=Fae[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function SYe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Fae[t.name])}var Fae={"linear-gradient":yYe,"-moz-linear-gradient":Yj,"-ms-linear-gradient":Yj,"-o-linear-gradient":Yj,"-webkit-linear-gradient":Yj,"radial-gradient":wYe,"-moz-radial-gradient":Jj,"-ms-radial-gradient":Jj,"-o-radial-gradient":Jj,"-webkit-radial-gradient":Jj,"-webkit-gradient":vYe},CYe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var s=e[0];return s.type===20&&s.value==="none"?[]:e.filter(function(n){return ub(n)&&SYe(n)}).map(function(n){return vD.parse(t,n)})}},_Ye={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(s){if(wn(s))switch(s.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},EYe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return fh(e).map(function(s){return s.filter(Ya)}).map(gae)}},kYe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return fh(e).map(function(s){return s.filter(wn).map(function(n){return n.value}).join(" ")}).map(TYe)}},TYe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},yg;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(yg||(yg={}));var BYe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return fh(e).map(function(s){return s.filter(MYe)})}},MYe=function(t){return wn(t)||Ya(t)},I4=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},FYe=I4("top"),PYe=I4("right"),IYe=I4("bottom"),LYe=I4("left"),L4=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,s){return gae(s.filter(Ya))}}},DYe=L4("top-left"),RYe=L4("top-right"),OYe=L4("bottom-right"),UYe=L4("bottom-left"),D4=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,s){switch(s){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},HYe=D4("top"),QYe=D4("right"),$Ye=D4("bottom"),zYe=D4("left"),R4=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,s){return Bw(s)?s.number:0}}},GYe=R4("top"),VYe=R4("right"),WYe=R4("bottom"),qYe=R4("left"),KYe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},XYe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},YYe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(wn).reduce(function(s,n){return s|JYe(n.value)},0)}},JYe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ZYe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},eJe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},xS;(function(t){t.NORMAL="normal",t.STRICT="strict"})(xS||(xS={}));var tJe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return xS.STRICT;case"normal":default:return xS.NORMAL}}},rJe={name:"line-height",initialValue:"normal",prefix:!1,type:4},hK=function(t,e){return wn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ya(t)?Rn(t,e):e},sJe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:vD.parse(t,e)}},nJe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},mP={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},O4=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},aJe=O4("top"),iJe=O4("right"),oJe=O4("bottom"),lJe=O4("left"),cJe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(wn).map(function(s){switch(s.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},dJe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},U4=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},uJe=U4("top"),hJe=U4("right"),fJe=U4("bottom"),mJe=U4("left"),pJe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},xJe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},AJe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&fP(e[0],"none")?[]:fh(e).map(function(s){for(var n={color:_f.TRANSPARENT,offsetX:Ji,offsetY:Ji,blur:Ji},a=0,i=0;i<s.length;i++){var o=s[i];x0(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=o0.parse(t,o)}return n})}},gJe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},bJe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var s=wJe[e.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return s(e.values)}return null}},yJe=function(t){var e=t.filter(function(s){return s.type===17}).map(function(s){return s.number});return e.length===6?e:null},vJe=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),s=e[0],n=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[s,n,a,i,o,l]:null},wJe={matrix:yJe,matrix3d:vJe},fK={type:16,number:50,flags:Tw},jJe=[fK,fK],NJe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var s=e.filter(Ya);return s.length!==2?jJe:[s[0],s[1]]}},SJe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Lv;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Lv||(Lv={}));var CJe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Lv.BREAK_ALL;case"keep-all":return Lv.KEEP_ALL;case"normal":default:return Lv.NORMAL}}},_Je={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Rb(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Pae={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},EJe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Rb(e)?e.number:1}},kJe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},TJe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(wn).map(function(s){switch(s.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(s){return s!==0})}},BJe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var s=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:s.push(a.value);break;case 17:s.push(a.number.toString());break;case 4:n.push(s.join(" ")),s.length=0;break}}),s.length&&n.push(s.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},MJe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},FJe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Rb(e))return e.number;if(wn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},PJe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(wn).map(function(s){return s.value})}},IJe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ui=function(t,e){return(t&e)!==0},LJe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var s=e[0];return s.type===20&&s.value==="none"?[]:e}},DJe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var s=e[0];if(s.type===20&&s.value==="none")return null;for(var n=[],a=e.filter(Aae),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&Rb(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},RJe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var s=[],n=e.filter(Aae),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(wn(i)&&i.value!=="none"){var l=o&&Rb(o)?o.number:0;s.push({counter:i.value,reset:l})}}return s}},OJe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Bw).map(function(s){return Pae.parse(t,s)})}},UJe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var s=e[0];if(s.type===20&&s.value==="none")return null;var n=[],a=e.filter(hYe);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},mK=function(t,e,s){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?s?n.open:n.close:""},HJe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&fP(e[0],"none")?[]:fh(e).map(function(s){for(var n={color:255,offsetX:Ji,offsetY:Ji,blur:Ji,spread:Ji,inset:!1},a=0,i=0;i<s.length;i++){var o=s[i];fP(o,"inset")?n.inset=!0:x0(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=o0.parse(t,o)}return n})}},QJe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var s=[0,1,2],n=[];return e.filter(wn).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),s.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},$Je={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},zJe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Bw(e)?e.number:0}},GJe=(function(){function t(e,s){var n,a;this.animationDuration=wr(e,OJe,s.animationDuration),this.backgroundClip=wr(e,pYe,s.backgroundClip),this.backgroundColor=wr(e,xYe,s.backgroundColor),this.backgroundImage=wr(e,CYe,s.backgroundImage),this.backgroundOrigin=wr(e,_Ye,s.backgroundOrigin),this.backgroundPosition=wr(e,EYe,s.backgroundPosition),this.backgroundRepeat=wr(e,kYe,s.backgroundRepeat),this.backgroundSize=wr(e,BYe,s.backgroundSize),this.borderTopColor=wr(e,FYe,s.borderTopColor),this.borderRightColor=wr(e,PYe,s.borderRightColor),this.borderBottomColor=wr(e,IYe,s.borderBottomColor),this.borderLeftColor=wr(e,LYe,s.borderLeftColor),this.borderTopLeftRadius=wr(e,DYe,s.borderTopLeftRadius),this.borderTopRightRadius=wr(e,RYe,s.borderTopRightRadius),this.borderBottomRightRadius=wr(e,OYe,s.borderBottomRightRadius),this.borderBottomLeftRadius=wr(e,UYe,s.borderBottomLeftRadius),this.borderTopStyle=wr(e,HYe,s.borderTopStyle),this.borderRightStyle=wr(e,QYe,s.borderRightStyle),this.borderBottomStyle=wr(e,$Ye,s.borderBottomStyle),this.borderLeftStyle=wr(e,zYe,s.borderLeftStyle),this.borderTopWidth=wr(e,GYe,s.borderTopWidth),this.borderRightWidth=wr(e,VYe,s.borderRightWidth),this.borderBottomWidth=wr(e,WYe,s.borderBottomWidth),this.borderLeftWidth=wr(e,qYe,s.borderLeftWidth),this.boxShadow=wr(e,HJe,s.boxShadow),this.color=wr(e,KYe,s.color),this.direction=wr(e,XYe,s.direction),this.display=wr(e,YYe,s.display),this.float=wr(e,ZYe,s.cssFloat),this.fontFamily=wr(e,BJe,s.fontFamily),this.fontSize=wr(e,MJe,s.fontSize),this.fontStyle=wr(e,IJe,s.fontStyle),this.fontVariant=wr(e,PJe,s.fontVariant),this.fontWeight=wr(e,FJe,s.fontWeight),this.letterSpacing=wr(e,eJe,s.letterSpacing),this.lineBreak=wr(e,tJe,s.lineBreak),this.lineHeight=wr(e,rJe,s.lineHeight),this.listStyleImage=wr(e,sJe,s.listStyleImage),this.listStylePosition=wr(e,nJe,s.listStylePosition),this.listStyleType=wr(e,mP,s.listStyleType),this.marginTop=wr(e,aJe,s.marginTop),this.marginRight=wr(e,iJe,s.marginRight),this.marginBottom=wr(e,oJe,s.marginBottom),this.marginLeft=wr(e,lJe,s.marginLeft),this.opacity=wr(e,EJe,s.opacity);var i=wr(e,cJe,s.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=wr(e,dJe,s.overflowWrap),this.paddingTop=wr(e,uJe,s.paddingTop),this.paddingRight=wr(e,hJe,s.paddingRight),this.paddingBottom=wr(e,fJe,s.paddingBottom),this.paddingLeft=wr(e,mJe,s.paddingLeft),this.paintOrder=wr(e,QJe,s.paintOrder),this.position=wr(e,xJe,s.position),this.textAlign=wr(e,pJe,s.textAlign),this.textDecorationColor=wr(e,kJe,(n=s.textDecorationColor)!==null&&n!==void 0?n:s.color),this.textDecorationLine=wr(e,TJe,(a=s.textDecorationLine)!==null&&a!==void 0?a:s.textDecoration),this.textShadow=wr(e,AJe,s.textShadow),this.textTransform=wr(e,gJe,s.textTransform),this.transform=wr(e,bJe,s.transform),this.transformOrigin=wr(e,NJe,s.transformOrigin),this.visibility=wr(e,SJe,s.visibility),this.webkitTextStrokeColor=wr(e,$Je,s.webkitTextStrokeColor),this.webkitTextStrokeWidth=wr(e,zJe,s.webkitTextStrokeWidth),this.wordBreak=wr(e,CJe,s.wordBreak),this.zIndex=wr(e,_Je,s.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return l0(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ui(this.display,4)||ui(this.display,33554432)||ui(this.display,268435456)||ui(this.display,536870912)||ui(this.display,67108864)||ui(this.display,134217728)},t})(),VJe=(function(){function t(e,s){this.content=wr(e,LJe,s.content),this.quotes=wr(e,UJe,s.quotes)}return t})(),pK=(function(){function t(e,s){this.counterIncrement=wr(e,DJe,s.counterIncrement),this.counterReset=wr(e,RJe,s.counterReset)}return t})(),wr=function(t,e,s){var n=new pae,a=s!==null&&typeof s<"u"?s.toString():e.initialValue;n.write(a);var i=new xae(n.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,wn(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return F4.parse(t,i.parseComponentValue());case"color":return o0.parse(t,i.parseComponentValue());case"image":return vD.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return x0(l)?l:Ji;case"length-percentage":var c=i.parseComponentValue();return Ya(c)?c:Ji;case"time":return Pae.parse(t,i.parseComponentValue())}break}},WJe="data-html2canvas-debug",qJe=function(t){var e=t.getAttribute(WJe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},pP=function(t,e){var s=qJe(t);return s===1||e===s},mh=(function(){function t(e,s){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,pP(s,3))debugger;this.styles=new GJe(e,window.getComputedStyle(s,null)),gP(s)&&(this.styles.animationDuration.some(function(n){return n>0})&&(s.style.animationDuration="0s"),this.styles.transform!==null&&(s.style.transform="none")),this.bounds=B4(this.context,s),pP(s,4)&&(this.flags|=16)}return t})(),KJe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",xK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zj=0;Zj<xK.length;Zj++)iv[xK.charCodeAt(Zj)]=Zj;var XJe=function(t){var e=t.length*.75,s=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<s;n+=4)i=iv[t.charCodeAt(n)],o=iv[t.charCodeAt(n+1)],l=iv[t.charCodeAt(n+2)],c=iv[t.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},YJe=function(t){for(var e=t.length,s=[],n=0;n<e;n+=2)s.push(t[n+1]<<8|t[n]);return s},JJe=function(t){for(var e=t.length,s=[],n=0;n<e;n+=4)s.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return s},rx=5,wD=11,LT=2,ZJe=wD-rx,Iae=65536>>rx,eZe=1<<rx,DT=eZe-1,tZe=1024>>rx,rZe=Iae+tZe,sZe=rZe,nZe=32,aZe=sZe+nZe,iZe=65536>>wD,oZe=1<<ZJe,lZe=oZe-1,AK=function(t,e,s){return t.slice?t.slice(e,s):new Uint16Array(Array.prototype.slice.call(t,e,s))},cZe=function(t,e,s){return t.slice?t.slice(e,s):new Uint32Array(Array.prototype.slice.call(t,e,s))},dZe=function(t,e){var s=XJe(t),n=Array.isArray(s)?JJe(s):new Uint32Array(s),a=Array.isArray(s)?YJe(s):new Uint16Array(s),i=24,o=AK(a,i/2,n[4]/2),l=n[5]===2?AK(a,(i+n[4])/2):cZe(n,Math.ceil((i+n[4])/4));return new uZe(n[0],n[1],n[2],n[3],o,l)},uZe=(function(){function t(e,s,n,a,i,o){this.initialValue=e,this.errorValue=s,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var s;if(e>=0){if(e<55296||e>56319&&e<=65535)return s=this.index[e>>rx],s=(s<<LT)+(e&DT),this.data[s];if(e<=65535)return s=this.index[Iae+(e-55296>>rx)],s=(s<<LT)+(e&DT),this.data[s];if(e<this.highStart)return s=aZe-iZe+(e>>wD),s=this.index[s],s+=e>>rx&lZe,s=this.index[s],s=(s<<LT)+(e&DT),this.data[s];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),gK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hZe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var eN=0;eN<gK.length;eN++)hZe[gK.charCodeAt(eN)]=eN;var fZe=1,RT=2,OT=3,bK=4,yK=5,mZe=7,vK=8,UT=9,HT=10,wK=11,jK=12,NK=13,SK=14,QT=15,pZe=function(t){for(var e=[],s=0,n=t.length;s<n;){var a=t.charCodeAt(s++);if(a>=55296&&a<=56319&&s<n){var i=t.charCodeAt(s++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),s--)}else e.push(a)}return e},xZe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var s=t.length;if(!s)return"";for(var n=[],a=-1,i="";++a<s;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===s||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},AZe=dZe(KJe),qc="",$T="",gZe=function(t){return AZe.get(t)},bZe=function(t,e,s){var n=s-2,a=e[n],i=e[s-1],o=e[s];if(i===RT&&o===OT)return qc;if(i===RT||i===OT||i===bK||o===RT||o===OT||o===bK)return $T;if(i===vK&&[vK,UT,wK,jK].indexOf(o)!==-1||(i===wK||i===UT)&&(o===UT||o===HT)||(i===jK||i===HT)&&o===HT||o===NK||o===yK||o===mZe||i===fZe)return qc;if(i===NK&&o===SK){for(;a===yK;)a=e[--n];if(a===SK)return qc}if(i===QT&&o===QT){for(var l=0;a===QT;)l++,a=e[--n];if(l%2===0)return qc}return $T},yZe=function(t){var e=pZe(t),s=e.length,n=0,a=0,i=e.map(gZe);return{next:function(){if(n>=s)return{done:!0,value:null};for(var o=qc;n<s&&(o=bZe(e,i,++n))===qc;);if(o!==qc||n===s){var l=xZe.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},vZe=function(t){for(var e=yZe(t),s=[],n;!(n=e.next()).done;)n.value&&s.push(n.value.slice());return s},wZe=function(t){var e=123;if(t.createRange){var s=t.createRange();if(s.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),s.selectNode(n);var a=s.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(n),i===e)return!0}}return!1},jZe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var s=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=M4(n.data).map(function(c){return Pa(c)}),i=0,o={},l=a.every(function(c,d){s.setStart(n,i),s.setEnd(n,i+c.length);var u=s.getBoundingClientRect();i+=c.length;var h=u.x>o.x||u.y>o.y;return o=u,d===0?!0:h});return t.body.removeChild(e),l},NZe=function(){return typeof new Image().crossOrigin<"u"},SZe=function(){return typeof new XMLHttpRequest().responseType=="string"},CZe=function(t){var e=new Image,s=t.createElement("canvas"),n=s.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),s.toDataURL()}catch{return!1}return!0},CK=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},_Ze=function(t){var e=t.createElement("canvas"),s=100;e.width=s,e.height=s;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,s,s);var a=new Image,i=e.toDataURL();a.src=i;var o=xP(s,s,0,0,a);return n.fillStyle="red",n.fillRect(0,0,s,s),_K(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,s,s).data;n.fillStyle="red",n.fillRect(0,0,s,s);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=s+"px",CK(c)?_K(xP(s,s,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),CK(n.getImageData(0,0,s,s).data)}).catch(function(){return!1})},xP=function(t,e,s,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",s.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},_K=function(t){return new Promise(function(e,s){var n=new Image;n.onload=function(){return e(n)},n.onerror=s,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},qi={get SUPPORT_RANGE_BOUNDS(){var t=wZe(document);return Object.defineProperty(qi,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=qi.SUPPORT_RANGE_BOUNDS&&jZe(document);return Object.defineProperty(qi,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=CZe(document);return Object.defineProperty(qi,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?_Ze(document):Promise.resolve(!1);return Object.defineProperty(qi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=NZe();return Object.defineProperty(qi,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=SZe();return Object.defineProperty(qi,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(qi,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(qi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Dv=(function(){function t(e,s){this.text=e,this.bounds=s}return t})(),EZe=function(t,e,s,n){var a=BZe(e,s),i=[],o=0;return a.forEach(function(l){if(s.textDecorationLine.length||l.trim().length>0)if(qi.SUPPORT_RANGE_BOUNDS){var c=EK(n,o,l.length).getClientRects();if(c.length>1){var d=jD(l),u=0;d.forEach(function(m){i.push(new Dv(m,Df.fromDOMRectList(t,EK(n,u+o,m.length).getClientRects()))),u+=m.length})}else i.push(new Dv(l,Df.fromDOMRectList(t,c)))}else{var h=n.splitText(l.length);i.push(new Dv(l,kZe(t,n))),n=h}else qi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},kZe=function(t,e){var s=e.ownerDocument;if(s){var n=s.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var i=B4(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return Df.EMPTY},EK=function(t,e,s){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+s),a},jD=function(t){if(qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(s){return s.segment})}return vZe(t)},TZe=function(t,e){if(qi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var s=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(s.segment(t)).map(function(n){return n.segment})}return FZe(t,e)},BZe=function(t,e){return e.letterSpacing!==0?jD(t):TZe(t,e)},MZe=[32,160,4961,65792,65793,4153,4241],FZe=function(t,e){for(var s=iXe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=M4(o),c="";l.forEach(function(d){MZe.indexOf(d)===-1?c+=Pa(d):(c.length&&n.push(c),n.push(Pa(d)),c="")}),c.length&&n.push(c)}};!(a=s.next()).done;)i();return n},PZe=(function(){function t(e,s,n){this.text=IZe(s.data,n.textTransform),this.textBounds=EZe(e,this.text,n,s)}return t})(),IZe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(LZe,DZe);case 2:return t.toUpperCase();default:return t}},LZe=/(^|\s|:|-|\(|\))([a-z])/g,DZe=function(t,e,s){return t.length>0?e+s.toUpperCase():t},Lae=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e})(mh),Dae=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e})(mh),Rae=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this,i=new XMLSerializer,o=B4(s,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(mh),Oae=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;return a.value=n.value,a}return e})(mh),AP=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e})(mh),RZe=[{type:15,flags:0,unit:"px",number:3}],OZe=[{type:16,flags:0,number:50}],UZe=function(t){return t.width>t.height?new Df(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Df(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},HZe=function(t){var e=t.type===QZe?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},AS="checkbox",gS="radio",QZe="password",kK=707406591,ND=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=HZe(n),(a.type===AS||a.type===gS)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=UZe(a.bounds)),a.type){case AS:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=RZe;break;case gS:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=OZe;break}return a}return e})(mh),Uae=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return e})(mh),Hae=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;return a.value=n.value,a}return e})(mh),Qae=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=zae(s,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Iv(s,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):_f.TRANSPARENT,o=n.contentWindow.document.body?Iv(s,getComputedStyle(n.contentWindow.document.body).backgroundColor):_f.TRANSPARENT;a.backgroundColor=l0(i)?l0(o)?a.styles.backgroundColor:o:i}}catch{}return a}return e})(mh),$Ze=["OL","UL","MENU"],SN=function(t,e,s,n){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,Gae(a)&&a.data.trim().length>0)s.textNodes.push(new PZe(t,a,s.styles));else if(rg(a))if(Kae(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return SN(t,l,s,n)});else{var o=$ae(t,a);o.styles.isVisible()&&(zZe(a,o,n)?o.flags|=4:GZe(o.styles)&&(o.flags|=2),$Ze.indexOf(a.tagName)!==-1&&(o.flags|=8),s.elements.push(o),a.slot,a.shadowRoot?SN(t,a.shadowRoot,o,n):!bS(a)&&!Vae(a)&&!yS(a)&&SN(t,a,o,n))}},$ae=function(t,e){return bP(e)?new Lae(t,e):Wae(e)?new Dae(t,e):Vae(e)?new Rae(t,e):VZe(e)?new Oae(t,e):WZe(e)?new AP(t,e):qZe(e)?new ND(t,e):yS(e)?new Uae(t,e):bS(e)?new Hae(t,e):qae(e)?new Qae(t,e):new mh(t,e)},zae=function(t,e){var s=$ae(t,e);return s.flags|=4,SN(t,e,s,s),s},zZe=function(t,e,s){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||SD(t)&&s.styles.isTransparent()},GZe=function(t){return t.isPositioned()||t.isFloating()},Gae=function(t){return t.nodeType===Node.TEXT_NODE},rg=function(t){return t.nodeType===Node.ELEMENT_NODE},gP=function(t){return rg(t)&&typeof t.style<"u"&&!CN(t)},CN=function(t){return typeof t.className=="object"},VZe=function(t){return t.tagName==="LI"},WZe=function(t){return t.tagName==="OL"},qZe=function(t){return t.tagName==="INPUT"},KZe=function(t){return t.tagName==="HTML"},Vae=function(t){return t.tagName==="svg"},SD=function(t){return t.tagName==="BODY"},Wae=function(t){return t.tagName==="CANVAS"},TK=function(t){return t.tagName==="VIDEO"},bP=function(t){return t.tagName==="IMG"},qae=function(t){return t.tagName==="IFRAME"},BK=function(t){return t.tagName==="STYLE"},XZe=function(t){return t.tagName==="SCRIPT"},bS=function(t){return t.tagName==="TEXTAREA"},yS=function(t){return t.tagName==="SELECT"},Kae=function(t){return t.tagName==="SLOT"},MK=function(t){return t.tagName.indexOf("-")>0},YZe=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var s=this.counters[e];return s&&s.length?s[s.length-1]:1},t.prototype.getCounterValues=function(e){var s=this.counters[e];return s||[]},t.prototype.pop=function(e){var s=this;e.forEach(function(n){return s.counters[n].pop()})},t.prototype.parse=function(e){var s=this,n=e.counterIncrement,a=e.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=s.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=s.counters[l.counter];o.push(l.counter),c||(c=s.counters[l.counter]=[]),c.push(l.reset)}),o},t})(),FK={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},PK={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},JZe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ZZe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},RA=function(t,e,s,n,a,i){return t<e||t>s?K1(t,a,i.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+i},Xae=function(t,e,s,n){var a="";do s||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},Ba=function(t,e,s,n,a){var i=s-e+1;return(t<0?"-":"")+(Xae(Math.abs(t),i,n,function(o){return Pa(Math.floor(o%i)+e)})+a)},bp=function(t,e,s){s===void 0&&(s=". ");var n=e.length;return Xae(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+s},VA=1,Bm=2,Mm=4,ov=8,sf=function(t,e,s,n,a,i){if(t<-9999||t>9999)return K1(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&ui(i,VA)&&l!==""?l=e[d]+l:d>1||d===1&&c===0||d===1&&c===1&&ui(i,Bm)||d===1&&c===1&&ui(i,Mm)&&t>100||d===1&&c>1&&ui(i,ov)?l=e[d]+(c>0?s[c-1]:"")+l:d===1&&c>0&&(l=s[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},IK="",LK="",DK="",zT="",K1=function(t,e,s){var n=s?". ":"",a=s?"":"",i=s?", ":"",o=s?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Ba(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return bp(t,"",a);case 6:return RA(t,1,3999,FK,3,n).toLowerCase();case 7:return RA(t,1,3999,FK,3,n);case 8:return Ba(t,945,969,!1,n);case 9:return Ba(t,97,122,!1,n);case 10:return Ba(t,65,90,!1,n);case 11:return Ba(t,1632,1641,!0,n);case 12:case 49:return RA(t,1,9999,PK,3,n);case 35:return RA(t,1,9999,PK,3,n).toLowerCase();case 13:return Ba(t,2534,2543,!0,n);case 14:case 30:return Ba(t,6112,6121,!0,n);case 15:return bp(t,"",a);case 16:return bp(t,"",a);case 17:case 48:return sf(t,"",IK,"",a,Bm|Mm|ov);case 47:return sf(t,"",LK,"",a,VA|Bm|Mm|ov);case 42:return sf(t,"",IK,"",a,Bm|Mm|ov);case 41:return sf(t,"",LK,"",a,VA|Bm|Mm|ov);case 26:return sf(t,"","",DK,a,0);case 25:return sf(t,"","",DK,a,VA|Bm|Mm);case 31:return sf(t,"","",zT,i,VA|Bm|Mm);case 33:return sf(t,"","",zT,i,0);case 32:return sf(t,"","",zT,i,VA|Bm|Mm);case 18:return Ba(t,2406,2415,!0,n);case 20:return RA(t,1,19999,ZZe,3,n);case 21:return Ba(t,2790,2799,!0,n);case 22:return Ba(t,2662,2671,!0,n);case 22:return RA(t,1,10999,JZe,3,n);case 23:return bp(t,"");case 24:return bp(t,"");case 27:return Ba(t,3302,3311,!0,n);case 28:return bp(t,"",a);case 29:return bp(t,"",a);case 34:return Ba(t,3792,3801,!0,n);case 37:return Ba(t,6160,6169,!0,n);case 38:return Ba(t,4160,4169,!0,n);case 39:return Ba(t,2918,2927,!0,n);case 40:return Ba(t,1776,1785,!0,n);case 43:return Ba(t,3046,3055,!0,n);case 44:return Ba(t,3174,3183,!0,n);case 45:return Ba(t,3664,3673,!0,n);case 46:return Ba(t,3872,3881,!0,n);case 3:default:return Ba(t,48,57,!0,n)}},Yae="data-html2canvas-ignore",RK=(function(){function t(e,s,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=s,this.counters=new YZe,this.quoteDepth=0,!s.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(s.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,s){var n=this,a=eet(e,s);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=set(a).then(function(){return Jo(n,void 0,void 0,function(){var u,h;return No(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(oet),l&&(l.scrollTo(s.left,s.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==s.top||l.scrollX!==s.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-s.left,l.scrollY-s.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ret(c)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(aet(document.doctype)+"<html></html>"),iet(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(e){if(pP(e,2))debugger;if(Wae(e))return this.createCanvasClone(e);if(TK(e))return this.createVideoClone(e);if(BK(e))return this.createStyleClone(e);var s=e.cloneNode(!1);return bP(s)&&(bP(e)&&e.currentSrc&&e.currentSrc!==e.src&&(s.src=e.currentSrc,s.srcset=""),s.loading==="lazy"&&(s.loading="eager")),MK(s)?this.createCustomElementClone(s):s},t.prototype.createCustomElementClone=function(e){var s=document.createElement("html2canvascustomelement");return GT(e.style,s),s},t.prototype.createStyleClone=function(e){try{var s=e.sheet;if(s&&s.cssRules){var n=[].slice.call(s.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var s;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(s=e.getContext("webgl2"))!==null&&s!==void 0?s:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var s=e.ownerDocument.createElement("canvas");s.width=e.offsetWidth,s.height=e.offsetHeight;var n=s.getContext("2d");try{return n&&(n.drawImage(e,0,0,s.width,s.height),this.options.allowTaint||n.getImageData(0,0,s.width,s.height)),s}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,s,n){(!rg(s)||!XZe(s)&&!s.hasAttribute(Yae)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(s)))&&(!this.options.copyStyles||!rg(s)||!BK(s))&&e.appendChild(this.cloneNode(s,n))},t.prototype.cloneChildNodes=function(e,s,n){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(rg(i)&&Kae(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(s,l,n)})}else this.appendChildNode(s,i,n)},t.prototype.cloneNode=function(e,s){if(Gae(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&rg(e)&&(gP(e)||CN(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&gP(a)&&(this.clonedReferenceElement=a),SD(a)&&uet(a);var c=this.counters.parse(new pK(this.context,i)),d=this.resolvePseudoContent(e,a,o,Rv.BEFORE);MK(e)&&(s=!0),TK(e)||this.cloneChildNodes(e,a,s),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(e,a,l,Rv.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||CN(e))&&!qae(e)||s)&&GT(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(bS(e)||yS(e))&&(bS(a)||yS(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,s,n,a){var i=this;if(n){var o=n.content,l=s.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new pK(this.context,n));var c=new VJe(this.context,n),d=l.createElement("html2canvaspseudoelement");GT(n,d),c.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var m=l.createElement("img");m.src=h.value,m.style.opacity="1",d.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var f=h.values.filter(wn);f.length&&d.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(h.name==="counter"){var x=h.values.filter(ub),A=x[0],g=x[1];if(A&&wn(A)){var b=i.counters.getCounterValue(A.value),w=g&&wn(g)?mP.parse(i.context,g.value):3;d.appendChild(l.createTextNode(K1(b,w,!1)))}}else if(h.name==="counters"){var v=h.values.filter(ub),A=v[0],j=v[1],g=v[2];if(A&&wn(A)){var N=i.counters.getCounterValues(A.value),S=g&&wn(g)?mP.parse(i.context,g.value):3,T=j&&j.type===0?j.value:"",I=N.map(function(C){return K1(C,S,!1)}).join(T);d.appendChild(l.createTextNode(I))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(mK(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(mK(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=yP+" "+vP;var u=a===Rv.BEFORE?" "+yP:" "+vP;return CN(s)?s.className.baseValue+=u:s.className+=u,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),Rv;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Rv||(Rv={}));var eet=function(t,e){var s=t.createElement("iframe");return s.className="html2canvas-container",s.style.visibility="hidden",s.style.position="fixed",s.style.left="-10000px",s.style.top="0px",s.style.border="0",s.width=e.width.toString(),s.height=e.height.toString(),s.scrolling="no",s.setAttribute(Yae,"true"),t.body.appendChild(s),s},tet=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},ret=function(t){return Promise.all([].slice.call(t.images,0).map(tet))},set=function(t){return new Promise(function(e,s){var n=t.contentWindow;if(!n)return s("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},net=["all","d","content"],GT=function(t,e){for(var s=t.length-1;s>=0;s--){var n=t.item(s);net.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},aet=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},iet=function(t,e,s){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||s!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,s)},oet=function(t){var e=t[0],s=t[1],n=t[2];e.scrollLeft=s,e.scrollTop=n},cet=":before",det=":after",yP="___html2canvas___pseudoelement_before",vP="___html2canvas___pseudoelement_after",OK=`{
    content: "" !important;
    display: none !important;
}`,uet=function(t){het(t,"."+yP+cet+OK+`
         .`+vP+det+OK)},het=function(t,e){var s=t.ownerDocument;if(s){var n=s.createElement("style");n.textContent=e,t.appendChild(n)}},Jae=(function(){function t(){}return t.getOrigin=function(e){var s=t._link;return s?(s.href=e,s.href=s.href,s.protocol+s.hostname+s.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),fet=(function(){function t(e,s){this.context=e,this._options=s,this._cache={}}return t.prototype.addImage=function(e){var s=Promise.resolve();return this.has(e)||(WT(e)||Aet(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),s},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Jo(this,void 0,void 0,function(){var s,n,a,i,o=this;return No(this,function(l){switch(l.label){case 0:return s=Jae.isSameOrigin(e),n=!VT(e)&&this._options.useCORS===!0&&qi.SUPPORT_CORS_IMAGES&&!s,a=!VT(e)&&!s&&!WT(e)&&typeof this._options.proxy=="string"&&qi.SUPPORT_CORS_XHR&&!n,!s&&this._options.allowTaint===!1&&!VT(e)&&!WT(e)&&!a&&!n?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(get(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var s=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,o){var l=qi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),s._options.imageTimeout){var u=s._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},t})(),met=/^data:image\/svg\+xml/i,pet=/^data:image\/.*;base64,/i,xet=/^data:image\/.*/i,Aet=function(t){return qi.SUPPORT_SVG_DRAWING||!bet(t)},VT=function(t){return xet.test(t)},get=function(t){return pet.test(t)},WT=function(t){return t.substr(0,4)==="blob"},bet=function(t){return t.substr(-3).toLowerCase()==="svg"||met.test(t)},gr=(function(){function t(e,s){this.type=0,this.x=e,this.y=s}return t.prototype.add=function(e,s){return new t(this.x+e,this.y+s)},t})(),OA=function(t,e,s){return new gr(t.x+(e.x-t.x)*s,t.y+(e.y-t.y)*s)},tN=(function(){function t(e,s,n,a){this.type=1,this.start=e,this.startControl=s,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,s){var n=OA(this.start,this.startControl,e),a=OA(this.startControl,this.endControl,e),i=OA(this.endControl,this.end,e),o=OA(n,a,e),l=OA(a,i,e),c=OA(o,l,e);return s?new t(this.start,n,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,s){return new t(this.start.add(e,s),this.startControl.add(e,s),this.endControl.add(e,s),this.end.add(e,s))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Yc=function(t){return t.type===1},yet=(function(){function t(e){var s=e.styles,n=e.bounds,a=av(s.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=av(s.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=av(s.borderBottomRightRadius,n.width,n.height),h=u[0],m=u[1],f=av(s.borderBottomLeftRadius,n.width,n.height),x=f[0],A=f[1],g=[];g.push((i+c)/n.width),g.push((x+h)/n.width),g.push((o+A)/n.height),g.push((d+m)/n.height);var b=Math.max.apply(Math,g);b>1&&(i/=b,o/=b,c/=b,d/=b,h/=b,m/=b,x/=b,A/=b);var w=n.width-c,v=n.height-m,j=n.width-h,N=n.height-A,S=s.borderTopWidth,T=s.borderRightWidth,I=s.borderBottomWidth,_=s.borderLeftWidth,M=Rn(s.paddingTop,e.bounds.width),C=Rn(s.paddingRight,e.bounds.width),B=Rn(s.paddingBottom,e.bounds.width),P=Rn(s.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?ea(n.left+_/3,n.top+S/3,i-_/3,o-S/3,on.TOP_LEFT):new gr(n.left+_/3,n.top+S/3),this.topRightBorderDoubleOuterBox=i>0||o>0?ea(n.left+w,n.top+S/3,c-T/3,d-S/3,on.TOP_RIGHT):new gr(n.left+n.width-T/3,n.top+S/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?ea(n.left+j,n.top+v,h-T/3,m-I/3,on.BOTTOM_RIGHT):new gr(n.left+n.width-T/3,n.top+n.height-I/3),this.bottomLeftBorderDoubleOuterBox=x>0||A>0?ea(n.left+_/3,n.top+N,x-_/3,A-I/3,on.BOTTOM_LEFT):new gr(n.left+_/3,n.top+n.height-I/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?ea(n.left+_*2/3,n.top+S*2/3,i-_*2/3,o-S*2/3,on.TOP_LEFT):new gr(n.left+_*2/3,n.top+S*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?ea(n.left+w,n.top+S*2/3,c-T*2/3,d-S*2/3,on.TOP_RIGHT):new gr(n.left+n.width-T*2/3,n.top+S*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?ea(n.left+j,n.top+v,h-T*2/3,m-I*2/3,on.BOTTOM_RIGHT):new gr(n.left+n.width-T*2/3,n.top+n.height-I*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||A>0?ea(n.left+_*2/3,n.top+N,x-_*2/3,A-I*2/3,on.BOTTOM_LEFT):new gr(n.left+_*2/3,n.top+n.height-I*2/3),this.topLeftBorderStroke=i>0||o>0?ea(n.left+_/2,n.top+S/2,i-_/2,o-S/2,on.TOP_LEFT):new gr(n.left+_/2,n.top+S/2),this.topRightBorderStroke=i>0||o>0?ea(n.left+w,n.top+S/2,c-T/2,d-S/2,on.TOP_RIGHT):new gr(n.left+n.width-T/2,n.top+S/2),this.bottomRightBorderStroke=h>0||m>0?ea(n.left+j,n.top+v,h-T/2,m-I/2,on.BOTTOM_RIGHT):new gr(n.left+n.width-T/2,n.top+n.height-I/2),this.bottomLeftBorderStroke=x>0||A>0?ea(n.left+_/2,n.top+N,x-_/2,A-I/2,on.BOTTOM_LEFT):new gr(n.left+_/2,n.top+n.height-I/2),this.topLeftBorderBox=i>0||o>0?ea(n.left,n.top,i,o,on.TOP_LEFT):new gr(n.left,n.top),this.topRightBorderBox=c>0||d>0?ea(n.left+w,n.top,c,d,on.TOP_RIGHT):new gr(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||m>0?ea(n.left+j,n.top+v,h,m,on.BOTTOM_RIGHT):new gr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||A>0?ea(n.left,n.top+N,x,A,on.BOTTOM_LEFT):new gr(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?ea(n.left+_,n.top+S,Math.max(0,i-_),Math.max(0,o-S),on.TOP_LEFT):new gr(n.left+_,n.top+S),this.topRightPaddingBox=c>0||d>0?ea(n.left+Math.min(w,n.width-T),n.top+S,w>n.width+T?0:Math.max(0,c-T),Math.max(0,d-S),on.TOP_RIGHT):new gr(n.left+n.width-T,n.top+S),this.bottomRightPaddingBox=h>0||m>0?ea(n.left+Math.min(j,n.width-_),n.top+Math.min(v,n.height-I),Math.max(0,h-T),Math.max(0,m-I),on.BOTTOM_RIGHT):new gr(n.left+n.width-T,n.top+n.height-I),this.bottomLeftPaddingBox=x>0||A>0?ea(n.left+_,n.top+Math.min(N,n.height-I),Math.max(0,x-_),Math.max(0,A-I),on.BOTTOM_LEFT):new gr(n.left+_,n.top+n.height-I),this.topLeftContentBox=i>0||o>0?ea(n.left+_+P,n.top+S+M,Math.max(0,i-(_+P)),Math.max(0,o-(S+M)),on.TOP_LEFT):new gr(n.left+_+P,n.top+S+M),this.topRightContentBox=c>0||d>0?ea(n.left+Math.min(w,n.width+_+P),n.top+S+M,w>n.width+_+P?0:c-_+P,d-(S+M),on.TOP_RIGHT):new gr(n.left+n.width-(T+C),n.top+S+M),this.bottomRightContentBox=h>0||m>0?ea(n.left+Math.min(j,n.width-(_+P)),n.top+Math.min(v,n.height+S+M),Math.max(0,h-(T+C)),m-(I+B),on.BOTTOM_RIGHT):new gr(n.left+n.width-(T+C),n.top+n.height-(I+B)),this.bottomLeftContentBox=x>0||A>0?ea(n.left+_+P,n.top+N,Math.max(0,x-(_+P)),A-(I+B),on.BOTTOM_LEFT):new gr(n.left+_+P,n.top+n.height-(I+B))}return t})(),on;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(on||(on={}));var ea=function(t,e,s,n,a){var i=4*((Math.sqrt(2)-1)/3),o=s*i,l=n*i,c=t+s,d=e+n;switch(a){case on.TOP_LEFT:return new tN(new gr(t,d),new gr(t,d-l),new gr(c-o,e),new gr(c,e));case on.TOP_RIGHT:return new tN(new gr(t,e),new gr(t+o,e),new gr(c,d-l),new gr(c,d));case on.BOTTOM_RIGHT:return new tN(new gr(c,e),new gr(c,e+l),new gr(t+o,d),new gr(t,d));case on.BOTTOM_LEFT:default:return new tN(new gr(c,d),new gr(c-o,d),new gr(t,e+l),new gr(t,e))}},vS=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},vet=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},wS=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},wet=(function(){function t(e,s,n){this.offsetX=e,this.offsetY=s,this.matrix=n,this.type=0,this.target=6}return t})(),rN=(function(){function t(e,s){this.path=e,this.target=s,this.type=1}return t})(),jet=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),Net=function(t){return t.type===0},Zae=function(t){return t.type===1},Cet=function(t){return t.type===2},UK=function(t,e){return t.length===e.length?t.some(function(s,n){return s===e[n]}):!1},_et=function(t,e,s,n,a){return t.map(function(i,o){switch(o){case 0:return i.add(e,s);case 1:return i.add(e+n,s);case 2:return i.add(e+n,s+a);case 3:return i.add(e,s+a)}return i})},eie=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),tie=(function(){function t(e,s){if(this.container=e,this.parent=s,this.effects=[],this.curves=new yet(this.container),this.container.styles.opacity<1&&this.effects.push(new jet(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new wet(n,a,i))}if(this.container.styles.overflowX!==0){var o=vS(this.curves),l=wS(this.curves);UK(o,l)?this.effects.push(new rN(o,6)):(this.effects.push(new rN(o,2)),this.effects.push(new rN(l,4)))}}return t.prototype.getEffects=function(e){for(var s=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!Zae(c)});if(s||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),s=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=vS(n.curves),l=wS(n.curves);UK(o,l)||a.unshift(new rN(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return ui(c.target,e)})},t})(),wP=function(t,e,s,n){t.container.elements.forEach(function(a){var i=ui(a.flags,4),o=ui(a.flags,2),l=new tie(a,t);ui(a.styles.display,2048)&&n.push(l);var c=ui(a.flags,8)?[]:n;if(i||o){var d=i||a.styles.isPositioned()?s:e,u=new eie(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var m=0;d.negativeZIndex.some(function(x,A){return h>x.element.container.styles.zIndex.order?(m=A,!1):m>0}),d.negativeZIndex.splice(m,0,u)}else if(h>0){var f=0;d.positiveZIndex.some(function(x,A){return h>=x.element.container.styles.zIndex.order?(f=A+1,!1):f>0}),d.positiveZIndex.splice(f,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);wP(l,u,i?u:s,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),wP(l,e,s,c);ui(a.flags,8)&&rie(a,c)})},rie=function(t,e){for(var s=t instanceof AP?t.start:1,n=t instanceof AP?t.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof Oae&&typeof i.container.value=="number"&&i.container.value!==0&&(s=i.container.value),i.listValue=K1(s,i.container.styles.listStyleType,!0),s+=n?-1:1}},Eet=function(t){var e=new tie(t,null),s=new eie(e),n=[];return wP(e,s,s,n),rie(e.container,n),s},HK=function(t,e){switch(e){case 0:return rd(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return rd(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return rd(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return rd(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},ket=function(t,e){switch(e){case 0:return rd(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return rd(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return rd(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return rd(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Tet=function(t,e){switch(e){case 0:return rd(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return rd(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return rd(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return rd(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Bet=function(t,e){switch(e){case 0:return sN(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return sN(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return sN(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return sN(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},sN=function(t,e){var s=[];return Yc(t)?s.push(t.subdivide(.5,!1)):s.push(t),Yc(e)?s.push(e.subdivide(.5,!0)):s.push(e),s},rd=function(t,e,s,n){var a=[];return Yc(t)?a.push(t.subdivide(.5,!1)):a.push(t),Yc(s)?a.push(s.subdivide(.5,!0)):a.push(s),Yc(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),Yc(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},sie=function(t){var e=t.bounds,s=t.styles;return e.add(s.borderLeftWidth,s.borderTopWidth,-(s.borderRightWidth+s.borderLeftWidth),-(s.borderTopWidth+s.borderBottomWidth))},jS=function(t){var e=t.styles,s=t.bounds,n=Rn(e.paddingLeft,s.width),a=Rn(e.paddingRight,s.width),i=Rn(e.paddingTop,s.width),o=Rn(e.paddingBottom,s.width);return s.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+i+o))},Met=function(t,e){return t===0?e.bounds:t===2?jS(e):sie(e)},Fet=function(t,e){return t===0?e.bounds:t===2?jS(e):sie(e)},qT=function(t,e,s){var n=Met(WA(t.styles.backgroundOrigin,e),t),a=Fet(WA(t.styles.backgroundClip,e),t),i=Pet(WA(t.styles.backgroundSize,e),s,n),o=i[0],l=i[1],c=av(WA(t.styles.backgroundPosition,e),n.width-o,n.height-l),d=Iet(WA(t.styles.backgroundRepeat,e),c,i,n,a),u=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[d,u,h,o,l]},UA=function(t){return wn(t)&&t.value===yg.AUTO},nN=function(t){return typeof t=="number"},Pet=function(t,e,s){var n=e[0],a=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Ya(o)&&l&&Ya(l))return[Rn(o,s.width),Rn(l,s.height)];var c=nN(i);if(wn(o)&&(o.value===yg.CONTAIN||o.value===yg.COVER)){if(nN(i)){var d=s.width/s.height;return d<i!=(o.value===yg.COVER)?[s.width,s.width/i]:[s.height*i,s.height]}return[s.width,s.height]}var u=nN(n),h=nN(a),m=u||h;if(UA(o)&&(!l||UA(l))){if(u&&h)return[n,a];if(!c&&!m)return[s.width,s.height];if(m&&c){var f=u?n:a*i,x=h?a:n/i;return[f,x]}var A=u?n:s.width,g=h?a:s.height;return[A,g]}if(c){var b=0,w=0;return Ya(o)?b=Rn(o,s.width):Ya(l)&&(w=Rn(l,s.height)),UA(o)?b=w*i:(!l||UA(l))&&(w=b/i),[b,w]}var v=null,j=null;if(Ya(o)?v=Rn(o,s.width):l&&Ya(l)&&(j=Rn(l,s.height)),v!==null&&(!l||UA(l))&&(j=u&&h?v/n*a:s.height),j!==null&&UA(o)&&(v=u&&h?j/a*n:s.width),v!==null&&j!==null)return[v,j];throw new Error("Unable to calculate background-size for element")},WA=function(t,e){var s=t[e];return typeof s>"u"?t[0]:s},Iet=function(t,e,s,n,a){var i=e[0],o=e[1],l=s[0],c=s[1];switch(t){case 2:return[new gr(Math.round(n.left),Math.round(n.top+o)),new gr(Math.round(n.left+n.width),Math.round(n.top+o)),new gr(Math.round(n.left+n.width),Math.round(c+n.top+o)),new gr(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new gr(Math.round(n.left+i),Math.round(n.top)),new gr(Math.round(n.left+i+l),Math.round(n.top)),new gr(Math.round(n.left+i+l),Math.round(n.height+n.top)),new gr(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new gr(Math.round(n.left+i),Math.round(n.top+o)),new gr(Math.round(n.left+i+l),Math.round(n.top+o)),new gr(Math.round(n.left+i+l),Math.round(n.top+o+c)),new gr(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new gr(Math.round(a.left),Math.round(a.top)),new gr(Math.round(a.left+a.width),Math.round(a.top)),new gr(Math.round(a.left+a.width),Math.round(a.height+a.top)),new gr(Math.round(a.left),Math.round(a.height+a.top))]}},Let="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",QK="Hidden Text",Det=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,s){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=s,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=Let,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=s,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(QK)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(QK)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,s){var n=e+" "+s;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,s)),this._data[n]},t})(),nie=(function(){function t(e,s){this.context=e,this.options=s}return t})(),Ret=1e4,Oet=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Det(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(s){for(var n=this;this._activeEffects.length;)this.popEffect();s.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(s){this.ctx.save(),Cet(s)&&(this.ctx.globalAlpha=s.opacity),Net(s)&&(this.ctx.translate(s.offsetX,s.offsetY),this.ctx.transform(s.matrix[0],s.matrix[1],s.matrix[2],s.matrix[3],s.matrix[4],s.matrix[5]),this.ctx.translate(-s.offsetX,-s.offsetY)),Zae(s)&&(this.path(s.path),this.ctx.clip()),this._activeEffects.push(s)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(s){return Jo(this,void 0,void 0,function(){var n;return No(this,function(a){switch(a.label){case 0:return n=s.element.container.styles,n.isVisible()?[4,this.renderStackContent(s)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(s){return Jo(this,void 0,void 0,function(){return No(this,function(n){switch(n.label){case 0:if(ui(s.container.flags,16))debugger;return s.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(s)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(s)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(s,n,a){var i=this;if(n===0)this.ctx.fillText(s.text,s.bounds.left,s.bounds.top+a);else{var o=jD(s.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,s.bounds.top+a),l+i.ctx.measureText(c).width},s.bounds.left)}},e.prototype.createFontStyle=function(s){var n=s.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=zet(s.fontFamily).join(", "),i=Bw(s.fontSize)?""+s.fontSize.number+s.fontSize.unit:s.fontSize.number+"px";return[[s.fontStyle,n,s.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(s,n){return Jo(this,void 0,void 0,function(){var a,i,o,l,c,d,u,h,m=this;return No(this,function(f){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,h=n.paintOrder,s.textBounds.forEach(function(x){h.forEach(function(A){switch(A){case 0:m.ctx.fillStyle=Ei(n.color),m.renderTextWithLetterSpacing(x,n.letterSpacing,d);var g=n.textShadow;g.length&&x.text.trim().length&&(g.slice(0).reverse().forEach(function(b){m.ctx.shadowColor=Ei(b.color),m.ctx.shadowOffsetX=b.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=b.offsetY.number*m.options.scale,m.ctx.shadowBlur=b.blur.number,m.renderTextWithLetterSpacing(x,n.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),n.textDecorationLine.length&&(m.ctx.fillStyle=Ei(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(b){switch(b){case 1:m.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+d),x.bounds.width,1);break;case 2:m.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:m.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+u),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(m.ctx.strokeStyle=Ei(n.webkitTextStrokeColor),m.ctx.lineWidth=n.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(s,n,a){if(a&&s.intrinsicWidth>0&&s.intrinsicHeight>0){var i=jS(s),o=wS(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,s.intrinsicWidth,s.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(s){return Jo(this,void 0,void 0,function(){var n,a,i,o,l,c,w,w,d,u,h,m,j,f,x,N,A,g,b,w,v,j,N;return No(this,function(S){switch(S.label){case 0:this.applyEffects(s.getEffects(4)),n=s.container,a=s.curves,i=n.styles,o=0,l=n.textNodes,S.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:S.sent(),S.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof Lae))return[3,8];S.label=5;case 5:return S.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=S.sent(),this.renderReplacedElement(n,a,w),[3,8];case 7:return S.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Dae&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof Rae))return[3,12];S.label=9;case 9:return S.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=S.sent(),this.renderReplacedElement(n,a,w),[3,12];case 11:return S.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Qae&&n.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=S.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),S.label=14;case 14:if(n instanceof ND&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===AS?n.checked&&(this.ctx.save(),this.path([new gr(n.bounds.left+h*.39363,n.bounds.top+h*.79),new gr(n.bounds.left+h*.16,n.bounds.top+h*.5549),new gr(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new gr(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new gr(n.bounds.left+h*.72983,n.bounds.top+h*.23),new gr(n.bounds.left+h*.84,n.bounds.top+h*.34085),new gr(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=Ei(kK),this.ctx.fill(),this.ctx.restore()):n.type===gS&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ei(kK),this.ctx.fill(),this.ctx.restore())),Uet(n)&&n.value.length){switch(m=this.createFontStyle(i),j=m[0],f=m[1],x=this.fontMetrics.getMetrics(j,f).baseline,this.ctx.font=j,this.ctx.fillStyle=Ei(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Qet(n.styles.textAlign),N=jS(n),A=0,n.styles.textAlign){case 1:A+=N.width/2;break;case 2:A+=N.width;break}g=N.add(A,0,0,-N.height/2+1),this.ctx.save(),this.path([new gr(N.left,N.top),new gr(N.left+N.width,N.top),new gr(N.left+N.width,N.top+N.height),new gr(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Dv(n.value,g),i.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ui(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(b=n.styles.listStyleImage,b.type!==0)return[3,18];w=void 0,v=b.url,S.label=15;case 15:return S.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return w=S.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return S.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:s.listValue&&n.styles.listStyleType!==-1&&(j=this.createFontStyle(i)[0],this.ctx.font=j,this.ctx.fillStyle=Ei(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new Df(n.bounds.left,n.bounds.top+Rn(n.styles.paddingTop,n.bounds.width),n.bounds.width,hK(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Dv(s.listValue,N),i.letterSpacing,hK(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),S.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(s){return Jo(this,void 0,void 0,function(){var n,a,b,i,o,b,l,c,b,d,u,b,h,m,b,f,x,b,A,g,b;return No(this,function(w){switch(w.label){case 0:if(ui(s.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(s.element)];case 1:w.sent(),n=0,a=s.negativeZIndex,w.label=2;case 2:return n<a.length?(b=a[n],[4,this.renderStack(b)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(s.element)];case 6:w.sent(),i=0,o=s.nonInlineLevel,w.label=7;case 7:return i<o.length?(b=o[i],[4,this.renderNode(b)]):[3,10];case 8:w.sent(),w.label=9;case 9:return i++,[3,7];case 10:l=0,c=s.nonPositionedFloats,w.label=11;case 11:return l<c.length?(b=c[l],[4,this.renderStack(b)]):[3,14];case 12:w.sent(),w.label=13;case 13:return l++,[3,11];case 14:d=0,u=s.nonPositionedInlineLevel,w.label=15;case 15:return d<u.length?(b=u[d],[4,this.renderStack(b)]):[3,18];case 16:w.sent(),w.label=17;case 17:return d++,[3,15];case 18:h=0,m=s.inlineLevel,w.label=19;case 19:return h<m.length?(b=m[h],[4,this.renderNode(b)]):[3,22];case 20:w.sent(),w.label=21;case 21:return h++,[3,19];case 22:f=0,x=s.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return f<x.length?(b=x[f],[4,this.renderStack(b)]):[3,26];case 24:w.sent(),w.label=25;case 25:return f++,[3,23];case 26:A=0,g=s.positiveZIndex,w.label=27;case 27:return A<g.length?(b=g[A],[4,this.renderStack(b)]):[3,30];case 28:w.sent(),w.label=29;case 29:return A++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(s){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(s.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(s){this.ctx.beginPath(),this.formatPath(s),this.ctx.closePath()},e.prototype.formatPath=function(s){var n=this;s.forEach(function(a,i){var o=Yc(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Yc(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(s,n,a,i){this.path(s),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(s,n,a){var i;if(s.width===n&&s.height===a)return s;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(s,0,0,s.width,s.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(s){return Jo(this,void 0,void 0,function(){var n,a,i,o,l,c;return No(this,function(d){switch(d.label){case 0:n=s.styles.backgroundImage.length-1,a=function(u){var h,m,f,M,G,O,P,H,I,x,M,G,O,P,H,A,g,b,w,v,j,N,S,T,I,_,M,C,B,P,H,D,G,O,Q,ee,q,Z,F,z,V,W;return No(this,function(ne){switch(ne.label){case 0:if(u.type!==0)return[3,5];h=void 0,m=u.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=ne.sent(),[3,4];case 3:return ne.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(f=qT(s,n,[h.width,h.height,h.width/h.height]),M=f[0],G=f[1],O=f[2],P=f[3],H=f[4],I=i.ctx.createPattern(i.resizeImage(h,P,H),"repeat"),i.renderRepeat(M,I,G,O)),[3,6];case 5:jYe(u)?(x=qT(s,n,[null,null,null]),M=x[0],G=x[1],O=x[2],P=x[3],H=x[4],A=gYe(u.angle,P,H),g=A[0],b=A[1],w=A[2],v=A[3],j=A[4],N=document.createElement("canvas"),N.width=P,N.height=H,S=N.getContext("2d"),T=S.createLinearGradient(b,v,w,j),dK(u.stops,g).forEach(function(ie){return T.addColorStop(ie.stop,Ei(ie.color))}),S.fillStyle=T,S.fillRect(0,0,P,H),P>0&&H>0&&(I=i.ctx.createPattern(N,"repeat"),i.renderRepeat(M,I,G,O))):NYe(u)&&(_=qT(s,n,[null,null,null]),M=_[0],C=_[1],B=_[2],P=_[3],H=_[4],D=u.position.length===0?[yD]:u.position,G=Rn(D[0],P),O=Rn(D[D.length-1],H),Q=bYe(u,G,O,P,H),ee=Q[0],q=Q[1],ee>0&&q>0&&(Z=i.ctx.createRadialGradient(C+G,B+O,0,C+G,B+O,ee),dK(u.stops,ee*2).forEach(function(ie){return Z.addColorStop(ie.stop,Ei(ie.color))}),i.path(M),i.ctx.fillStyle=Z,ee!==q?(F=s.bounds.left+.5*s.bounds.width,z=s.bounds.top+.5*s.bounds.height,V=q/ee,W=1/V,i.ctx.save(),i.ctx.translate(F,z),i.ctx.transform(1,0,0,V,0,0),i.ctx.translate(-F,-z),i.ctx.fillRect(C,W*(B-z)+z,P,H*W),i.ctx.restore()):i.ctx.fill())),ne.label=6;case 6:return n--,[2]}})},i=this,o=0,l=s.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(s,n,a){return Jo(this,void 0,void 0,function(){return No(this,function(i){return this.path(HK(a,n)),this.ctx.fillStyle=Ei(s),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(s,n,a,i){return Jo(this,void 0,void 0,function(){var o,l;return No(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(s,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=ket(i,a),this.path(o),this.ctx.fillStyle=Ei(s),this.ctx.fill(),l=Tet(i,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(s){return Jo(this,void 0,void 0,function(){var n,a,i,o,l,c,d,u,h=this;return No(this,function(m){switch(m.label){case 0:return this.applyEffects(s.getEffects(2)),n=s.container.styles,a=!l0(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Het(WA(n.backgroundClip,0),s.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),l0(n.backgroundColor)||(this.ctx.fillStyle=Ei(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(s.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){h.ctx.save();var x=vS(s.curves),A=f.inset?0:Ret,g=_et(x,-A+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(h.path(x),h.ctx.clip(),h.mask(g)):(h.mask(x),h.ctx.clip(),h.path(g)),h.ctx.shadowOffsetX=f.offsetX.number+A,h.ctx.shadowOffsetY=f.offsetY.number,h.ctx.shadowColor=Ei(f.color),h.ctx.shadowBlur=f.blur.number,h.ctx.fillStyle=f.inset?Ei(f.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:l=0,c=0,d=i,m.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!l0(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,s.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,s.curves,3)];case 6:return m.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,s.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,s.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(s,n,a,i,o){return Jo(this,void 0,void 0,function(){var l,c,d,u,h,m,f,x,A,g,b,w,v,j,N,S,N,S;return No(this,function(T){return this.ctx.save(),l=Bet(i,a),c=HK(i,a),o===2&&(this.path(c),this.ctx.clip()),Yc(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),Yc(c[1])?(h=c[1].end.x,m=c[1].end.y):(h=c[1].x,m=c[1].y),a===0||a===2?f=Math.abs(d-h):f=Math.abs(u-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,A=n<3?n*2:n,o===3&&(x=n,A=n),g=!0,f<=x*2?g=!1:f<=x*2+A?(b=f/(2*x+A),x*=b,A*=b):(w=Math.floor((f+A)/(x+A)),v=(f-w*x)/(w-1),j=(f-(w+1)*x)/w,A=j<=0||Math.abs(A-v)<Math.abs(A-j)?v:j),g&&(o===3?this.ctx.setLineDash([0,x+A]):this.ctx.setLineDash([x,A])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ei(s),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Yc(c[0])&&(N=c[3],S=c[0],this.ctx.beginPath(),this.formatPath([new gr(N.end.x,N.end.y),new gr(S.start.x,S.start.y)]),this.ctx.stroke()),Yc(c[1])&&(N=c[1],S=c[2],this.ctx.beginPath(),this.formatPath([new gr(N.end.x,N.end.y),new gr(S.start.x,S.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(s){return Jo(this,void 0,void 0,function(){var n;return No(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ei(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Eet(s),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(nie),Uet=function(t){return t instanceof Hae||t instanceof Uae?!0:t instanceof ND&&t.type!==gS&&t.type!==AS},Het=function(t,e){switch(t){case 0:return vS(e);case 2:return vet(e);case 1:default:return wS(e)}},Qet=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},$et=["-apple-system","system-ui"],zet=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return $et.indexOf(e)===-1}):t},Get=(function(t){ou(e,t);function e(s,n){var a=t.call(this,s,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(s){return Jo(this,void 0,void 0,function(){var n,a;return No(this,function(i){switch(i.label){case 0:return n=xP(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,s),[4,Vet(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ei(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(nie),Vet=function(t){return new Promise(function(e,s){var n=new Image;n.onload=function(){e(n)},n.onerror=s,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Wet=(function(){function t(e){var s=e.id,n=e.enabled;this.id=s,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Lj([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Lj([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Lj([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Lj([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),qet=(function(){function t(e,s){var n;this.windowBounds=s,this.instanceName="#"+t.instanceCount++,this.logger=new Wet({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new fet(this,e)}return t.instanceCount=1,t})(),aie=function(t,e){return e===void 0&&(e={}),Ket(t,e)};typeof window<"u"&&Jae.setContext(window);var Ket=function(t,e){return Jo(void 0,void 0,void 0,function(){var s,n,a,i,o,l,c,d,u,h,m,f,x,A,g,b,w,v,j,N,T,S,T,I,_,M,C,B,P,H,D,G,O,Q,ee,q,Z,F,z,V;return No(this,function(W){switch(W.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(s=t.ownerDocument,!s)throw new Error("Element is not attached to a Document");if(n=s.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(I=e.allowTaint)!==null&&I!==void 0?I:!1,imageTimeout:(_=e.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:e.proxy,useCORS:(M=e.useCORS)!==null&&M!==void 0?M:!1},i=tP({logging:(C=e.logging)!==null&&C!==void 0?C:!0,cache:e.cache},a),o={windowWidth:(B=e.windowWidth)!==null&&B!==void 0?B:n.innerWidth,windowHeight:(P=e.windowHeight)!==null&&P!==void 0?P:n.innerHeight,scrollX:(H=e.scrollX)!==null&&H!==void 0?H:n.pageXOffset,scrollY:(D=e.scrollY)!==null&&D!==void 0?D:n.pageYOffset},l=new Df(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new qet(i,l),d=(G=e.foreignObjectRendering)!==null&&G!==void 0?G:!1,u={allowTaint:(O=e.allowTaint)!==null&&O!==void 0?O:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new RK(c,t,u),m=h.clonedReferenceElement,m?[4,h.toIFrame(s,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=W.sent(),x=SD(m)||KZe(m)?SKe(m.ownerDocument):B4(c,m),A=x.width,g=x.height,b=x.left,w=x.top,v=Xet(c,m,e.backgroundColor),j={canvas:e.canvas,backgroundColor:v,scale:(ee=(Q=e.scale)!==null&&Q!==void 0?Q:n.devicePixelRatio)!==null&&ee!==void 0?ee:1,x:((q=e.x)!==null&&q!==void 0?q:0)+b,y:((Z=e.y)!==null&&Z!==void 0?Z:0)+w,width:(F=e.width)!==null&&F!==void 0?F:Math.ceil(A),height:(z=e.height)!==null&&z!==void 0?z:Math.ceil(g)},d?(c.logger.debug("Document cloned, using foreign object rendering"),T=new Get(c,j),[4,T.render(m)]):[3,3];case 2:return N=W.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+b+","+w+" with size "+A+"x"+g+" using computed rendering"),c.logger.debug("Starting DOM parsing"),S=zae(c,m),v===S.styles.backgroundColor&&(S.styles.backgroundColor=_f.TRANSPARENT),c.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),T=new Oet(c,j),[4,T.render(S)];case 4:N=W.sent(),W.label=5;case 5:return(!((V=e.removeContainer)!==null&&V!==void 0)||V)&&(RK.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},Xet=function(t,e,s){var n=e.ownerDocument,a=n.documentElement?Iv(t,getComputedStyle(n.documentElement).backgroundColor):_f.TRANSPARENT,i=n.body?Iv(t,getComputedStyle(n.body).backgroundColor):_f.TRANSPARENT,o=typeof s=="string"?Iv(t,s):s===null?_f.TRANSPARENT:4294967295;return e===n.documentElement?l0(a)?l0(i)?o:i:a:o};const Yet=Object.freeze(Object.defineProperty({__proto__:null,default:aie},Symbol.toStringTag,{value:"Module"})),$K=()=>{const t=Math.floor(1e5+Math.random()*9e5),e=Math.floor(1e5+Math.random()*9e5).toString();return{id:`EEC-SA-${t}`,accessPin:e,issuedAt:new Date().toISOString()}},Jet=({profile:t})=>{const[e,s]=E.useState(()=>$K()),n=E.useRef(null),a=E.useMemo(()=>new Date(e.issuedAt).toLocaleString(),[e.issuedAt]),i=()=>{s($K())},o=async()=>{if(!n.current)return;const c=await aie(n.current,{backgroundColor:"#f8fafc",scale:2}),d=document.createElement("a");d.href=c.toDataURL("image/png"),d.download=`${e.id}.png`,d.click()},l=async c=>{try{await navigator.clipboard.writeText(c)}catch(d){console.error("Unable to copy",d)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex items-center justify-between flex-wrap gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Identity"}),r.jsx("h1",{className:"text-2xl font-semibold text-slate-800",children:"Super Admin ID Pass"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Use this secure ID while accessing the dedicated portal."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:i,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm text-slate-700",children:[r.jsx(oh,{size:16}),"Generate new pass"]}),r.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm text-white",children:[r.jsx(bs,{size:16}),"Download card"]})]})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{ref:n,className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-3xl text-white p-6 shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-white/10 rounded-2xl",children:r.jsx(Xd,{size:28})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-200",children:"EEC PLATFORM"}),r.jsx("p",{className:"text-lg font-semibold",children:"Super Admin Access"})]})]}),r.jsx(jg,{className:"text-emerald-400",size:32})]}),r.jsxs("div",{className:"mt-8 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-300",children:"Name"}),r.jsx("p",{className:"text-xl font-semibold",children:t.name})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-300",children:"Role"}),r.jsx("p",{className:"text-base font-semibold",children:t.role})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-300",children:"Portal"}),r.jsx("p",{className:"text-base font-semibold",children:"super-admin.eec.in"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-300",children:"Super Admin ID"}),r.jsx("p",{className:"text-lg font-semibold tracking-wider",children:e.id})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-300",children:"One-Time Access PIN"}),r.jsx("p",{className:"text-xl font-semibold tracking-[0.3em]",children:e.accessPin})]}),r.jsxs("div",{className:"text-right text-xs text-slate-400",children:[r.jsx("p",{children:"Issued"}),r.jsx("p",{children:a})]})]})]}),r.jsx("div",{className:"mt-8 text-[11px] text-slate-400",children:"Valid only for verified Super Admins  Rotate pins after every session  Contact support@eec.in for revocation"})]})}),r.jsxs("div",{className:"lg:w-80 space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 space-y-3",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Secure Sharing"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{className:"w-full flex items-center justify-between text-sm border border-slate-200 rounded-lg px-3 py-2",onClick:()=>l(e.id),children:[r.jsxs("span",{children:["ID: ",e.id]}),r.jsx(eh,{size:14,className:"text-slate-500"})]}),r.jsxs("button",{className:"w-full flex items-center justify-between text-sm border border-slate-200 rounded-lg px-3 py-2",onClick:()=>l(e.accessPin),children:[r.jsxs("span",{children:["PIN: ",e.accessPin]}),r.jsx(eh,{size:14,className:"text-slate-500"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-5 space-y-3",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-800",children:"Best Practices"}),r.jsxs("ul",{className:"text-sm text-slate-600 list-disc pl-4 space-y-1",children:[r.jsx("li",{children:"Store the ID pass in an encrypted vault."}),r.jsx("li",{children:"Rotate the access PIN each login."}),r.jsx("li",{children:"Restrict sharing to trusted devices."}),r.jsx("li",{children:"Contact platform security if compromised."})]})]})]})]})]})},Zet=({fetchActiveSchools:t,fetchSchoolAdmins:e,loading:s,error:n,schools:a=[],admins:i=[]})=>{const[o,l]=E.useState(""),[c,d]=E.useState(null),[u,h]=E.useState(!1),[m,f]=E.useState({});E.useEffect(()=>{t==null||t(),e==null||e()},[t,e]);const x=E.useMemo(()=>{const v=new Map;return i.forEach(j=>{var S;const N=((S=j.schoolId)==null?void 0:S._id)||j.schoolId;if(N){const T=String(N),I=v.get(T)||[];v.set(T,[...I,j])}}),v},[i]),A=E.useMemo(()=>{if(!o.trim())return a;const v=o.toLowerCase();return a.filter(j=>[j.name,j.code,j.contactEmail,j.contactPhone,j.address].filter(Boolean).some(N=>String(N).toLowerCase().includes(v)))},[a,o]),g=v=>v?Array.isArray(v.campuses)&&v.campuses.length>0?v.campuses:v.campusName?[{name:v.campusName,campusType:"Main"}]:[]:[],b=v=>{if(!v)return"active";const j=String(v._id||v.id||"");return m[j]||v.status||"active"},w=async(v,j)=>{if(!v||!window.confirm(`Set ${v.name} to ${j}?`))return;const S=localStorage.getItem("token");if(!S)return;const T=String(v._id||v.id||"");f(I=>({...I,[T]:j})),h(!0);try{const I=await fetch(`http://localhost:5000/api/super-admin/schools/${v._id||v.id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:`Bearer ${S}`},body:JSON.stringify({status:j})});if(!I.ok){const _=await I.json().catch(()=>({}));throw new Error((_==null?void 0:_.error)||"Unable to update status")}await(t==null?void 0:t()),d(_=>_&&{..._,school:{..._.school,status:j}})}catch(I){console.error("Failed to update status",I),f(_=>{const M={..._};return delete M[T],M})}finally{h(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Active schools"}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Registered institutions"})]}),r.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 text-sm text-slate-600",onClick:t,children:[r.jsx(oh,{size:16}),"Refresh"]})]}),r.jsxs("div",{className:"mt-6 flex items-center gap-2 border border-slate-200 rounded-xl px-3 py-2 bg-slate-50",children:[r.jsx(Fs,{size:16,className:"text-slate-400"}),r.jsx("input",{type:"text",className:"bg-transparent flex-1 text-sm focus:outline-none",placeholder:"Search by name, code, email, phone, or address",value:o,onChange:v=>l(v.target.value)})]})]}),n&&r.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 text-sm rounded-xl p-4 flex items-center justify-between",children:[r.jsx("span",{children:n}),r.jsx("button",{onClick:t,className:"px-3 py-1 rounded-lg bg-rose-600 text-white text-xs",children:"Retry"})]}),s&&r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-8 text-center text-slate-500",children:"Loading active schools"}),!s&&r.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs tracking-wide",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 font-semibold",children:"Name"}),r.jsx("th",{className:"px-4 py-3 font-semibold",children:"Code"}),r.jsx("th",{className:"px-4 py-3 font-semibold",children:"Email"}),r.jsx("th",{className:"px-4 py-3 font-semibold",children:"Phone"}),r.jsx("th",{className:"px-4 py-3 font-semibold",children:"Address"}),r.jsx("th",{className:"px-4 py-3 font-semibold",children:"Status"}),r.jsx("th",{className:"px-4 py-3 font-semibold"})]})}),r.jsxs("tbody",{className:"divide-y divide-slate-100",children:[A.map(v=>r.jsx("tr",{className:"text-slate-700",children:(()=>{const j=b(v);return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:v.name}),r.jsx("td",{className:"px-4 py-3",children:v.code||""}),r.jsx("td",{className:"px-4 py-3",children:v.contactEmail||""}),r.jsx("td",{className:"px-4 py-3",children:v.contactPhone||""}),r.jsx("td",{className:"px-4 py-3",children:v.address||""}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${j==="inactive"?"bg-rose-100 text-rose-700":"bg-emerald-100 text-emerald-700"}`,children:j||"active"})}),r.jsxs("td",{className:"px-4 py-3 text-right",children:[r.jsx("button",{className:"text-xs font-semibold text-amber-700 hover:text-amber-800 px-3 py-1 rounded-full bg-amber-50 border border-amber-200",onClick:()=>{const N=x.get(String(v._id||v.id))||[];d({school:v,admins:N})},children:"View"}),r.jsx("button",{className:`ml-2 text-xs font-semibold px-3 py-1 rounded-full border ${j==="inactive"?"text-emerald-700 bg-emerald-50 border-emerald-200":"text-rose-700 bg-rose-50 border-rose-200"}`,disabled:u,onClick:()=>w(v,j==="inactive"?"active":"inactive"),children:j==="inactive"?"Activate":"Deactivate"})]})]})})()},v._id||v.id)),A.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-slate-500",children:"No active schools found."})})]})]})})}),c&&r.jsx("div",{className:"fixed inset-0 bg-slate-900/40 flex items-center justify-center z-50 px-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl border border-slate-200",children:[r.jsxs("div",{className:"flex items-start justify-between px-6 py-4 border-b border-slate-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"School details"}),r.jsx("h3",{className:"text-xl font-semibold text-slate-800",children:c.school.name})]}),r.jsx("button",{className:"text-sm text-slate-500 hover:text-slate-700",onClick:()=>d(null),children:"Close"})]}),r.jsxs("div",{className:"px-6 py-5 grid gap-6 md:grid-cols-2 text-sm text-slate-700",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"School"}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Name:"})," ",c.school.name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Status:"})," ",b(c.school)]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Code:"})," ",c.school.code||""]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Email:"})," ",c.school.contactEmail||""]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Phone:"})," ",c.school.contactPhone||""]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-semibold",children:"Address:"})," ",c.school.address||""]}),r.jsxs("div",{className:"pt-2",children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Campuses"}),g(c.school).length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"No campus details available."}),g(c.school).length>0&&r.jsx("div",{className:"mt-2 space-y-2",children:g(c.school).map((v,j)=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"font-semibold text-slate-700",children:v.name||`Campus ${j+1}`}),r.jsx("p",{className:"text-xs text-slate-500",children:v.campusType||"Campus"}),v.address&&r.jsxs("p",{className:"text-xs text-slate-600",children:["Address: ",v.address]}),v.contactPerson&&r.jsxs("p",{className:"text-xs text-slate-600",children:["Contact: ",v.contactPerson]}),v.contactPhone&&r.jsxs("p",{className:"text-xs text-slate-600",children:["Phone: ",v.contactPhone]})]},`${v.name||"campus"}-${j}`))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Admin"}),(c.admins||[]).length===0&&r.jsx("p",{className:"text-sm text-slate-500",children:"No admin accounts found."}),(c.admins||[]).length>0&&r.jsx("div",{className:"space-y-2",children:(c.admins||[]).map(v=>r.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3",children:[r.jsx("p",{className:"font-semibold text-slate-700",children:v.campusName||"Campus"}),r.jsx("p",{className:"text-xs text-slate-500",children:v.campusType||"Campus"}),r.jsxs("p",{className:"text-xs text-slate-700",children:[r.jsx("span",{className:"font-semibold",children:"Username:"})," ",v.username]}),r.jsxs("p",{className:"text-xs text-slate-600",children:[r.jsx("span",{className:"font-semibold",children:"Name:"})," ",v.name||""]}),r.jsxs("p",{className:"text-xs text-slate-600",children:[r.jsx("span",{className:"font-semibold",children:"Email:"})," ",v.email||""]}),r.jsxs("p",{className:"text-xs text-slate-600",children:[r.jsx("span",{className:"font-semibold",children:"Status:"})," ",v.status||""]}),r.jsxs("p",{className:"text-xs text-slate-600",children:[r.jsx("span",{className:"font-semibold",children:"Role:"})," ",v.role||""]})]},v._id||v.username))}),r.jsx("div",{className:"pt-2",children:r.jsx("button",{className:`text-xs font-semibold px-3 py-2 rounded-lg border ${b(c.school)==="inactive"?"text-emerald-700 bg-emerald-50 border-emerald-200":"text-rose-700 bg-rose-50 border-rose-200"}`,disabled:u,onClick:()=>w(c.school,b(c.school)==="inactive"?"active":"inactive"),children:b(c.school)==="inactive"?"Activate school":"Deactivate school"})})]})]})]})})]})},KT=[{id:"REQ-101",schoolName:"Delhi Public School",board:"CBSE",studentCount:"1200+",contactPerson:"Rajesh Kumar",contactEmail:"admin@dps.edu",submittedAt:"2024-01-15T10:30:00Z",status:"pending",notes:"Verified documents, awaiting final approval.",campuses:3,campusList:[{name:"Delhi Public School - Main",campusType:"Main"},{name:"Delhi Public School - North",campusType:"Branch"},{name:"Delhi Public School - South",campusType:"Branch"}]},{id:"REQ-102",schoolName:"International School of Mumbai",board:"IB",studentCount:"800",contactPerson:"Priya Sharma",contactEmail:"contact@ismumbai.edu",submittedAt:"2024-01-10T14:20:00Z",status:"approved",notes:"Activated Premium subscription.",campuses:1},{id:"REQ-103",schoolName:"Cambridge Academy Bangalore",board:"ICSE",studentCount:"1500+",contactPerson:"Anil Reddy",contactEmail:"info@cambridge-blr.edu",submittedAt:"2023-12-20T09:15:00Z",status:"approved",notes:"Onboarding complete, awaiting payment confirmation.",campuses:2,campusList:[{name:"Cambridge Academy - Main",campusType:"Main"},{name:"Cambridge Academy - Whitefield",campusType:"Branch"}]},{id:"REQ-104",schoolName:"Springfield Public School",board:"State Board",studentCount:"650",contactPerson:"Sneha Joshi",contactEmail:"principal@springfield.edu",submittedAt:"2024-02-02T08:00:00Z",status:"pending",notes:"Need clarification on transport integration.",campuses:1},{id:"REQ-105",schoolName:"Heritage Valley School",board:"Cambridge",studentCount:"500",contactPerson:"Vikram Malhotra",contactEmail:"hello@heritagevalley.edu",submittedAt:"2024-02-05T11:45:00Z",status:"review",notes:"Uploaded revised compliance certificate.",campuses:1}],zK=[{id:"TCK-801",schoolName:"Heritage Valley School",category:"Access",subject:"Principal login locked",openedAt:"2024-02-05T06:00:00Z",status:"open",owner:"Support Team A",priority:"high"},{id:"TCK-802",schoolName:"International School of Mumbai",category:"Integration",subject:"Need ERP API credentials",openedAt:"2024-02-03T15:20:00Z",status:"in_progress",owner:"Solutions Desk",priority:"medium"},{id:"TCK-803",schoolName:"Cambridge Academy Bangalore",category:"Billing",subject:"GST update for invoices",openedAt:"2024-02-01T08:10:00Z",status:"resolved",owner:"Finance Ops",priority:"low"}],ett=[{id:"BC-201",title:"Infrastructure maintenance window",message:"Scheduled downtime on 8 Feb, 11pm-12am IST for database upgrades.",audience:"All schools",createdAt:"2024-02-05T04:45:00Z",owner:"Platform Ops",status:"scheduled"},{id:"BC-202",title:"New transport analytics beta",message:"Enroll to test bus route optimization engine. Seats limited.",audience:"Premium schools",createdAt:"2024-02-02T10:15:00Z",owner:"Product",status:"sent"}],ttt=[{id:"CMP-401",title:"Data residency attestation",status:"pending",owner:"Legal",dueDate:"2024-02-10"},{id:"CMP-402",title:"SOC2 quarterly backup drill",status:"in_progress",owner:"Security",dueDate:"2024-02-08"},{id:"CMP-403",title:"GDPR DPIA update",status:"completed",owner:"Privacy Office",dueDate:"2024-01-28"}],rtt=[{id:"ACT-601",label:"Approved Heritage Valley onboarding",timestamp:"2024-02-05T07:30:00Z",type:"approval"},{id:"ACT-602",label:"Escalated payment webhook issue to DevOps",timestamp:"2024-02-04T10:20:00Z",type:"incident"},{id:"ACT-603",label:"Broadcast transport analytics beta invite",timestamp:"2024-02-02T11:15:00Z",type:"broadcast"}],Ma="http://localhost:5000",GK="superAdminSchoolCredentials",stt=(t={})=>Array.isArray(t.campuses)&&t.campuses.length>0?t.campuses:t.campusName?[{name:t.campusName,campusType:"Main"}]:[],VK=(t={},e=0)=>{const s=t.id||t._id||t.campusId||t.name||`campus-${e}`;return String(s)},ntt=(t={})=>!t||typeof t!="object"?{}:Object.entries(t).reduce((e,[s,n])=>!n||typeof n!="object"?e:n.campuses&&typeof n.campuses=="object"?(e[s]=n,e):n.code||n.password?(e[s]={campuses:{default:n}},e):(e[s]=n,e),{}),att=(t={})=>{const e=stt(t);return{id:t._id||t.id||`REQ-${Date.now()}`,schoolName:t.name||"New School",board:t.boardOther||t.board||"Not specified",studentCount:t.estimatedUsers||"Pending",contactPerson:t.contactPersonName||t.contactPerson||"Registrar",contactEmail:t.officialEmail||t.contactEmail||"N/A",contactPhone:t.contactPhone,submittedAt:t.submittedAt||t.createdAt||new Date().toISOString(),status:t.registrationStatus||"pending",notes:t.adminNotes||t.rejectionReason||"Awaiting review",campuses:e.length||t.campusCount||0,campusList:e,schoolType:t.schoolType,academicYearStructure:t.academicYearStructure,estimatedUsers:t.estimatedUsers,address:t.address,verificationDocs:t.verificationDocs,logo:t.logo,source:"api"}},itt=()=>{const[t,e]=E.useState({name:"Platform Control",role:"Super Administrator",email:"superadmin@eec.in",avatar:""}),[s,n]=E.useState(!1),[a,i]=E.useState(KT),[o,l]=E.useState(!1),[c,d]=E.useState(null),[u,h]=E.useState([]),[m,f]=E.useState(!1),[x,A]=E.useState(null),[g,b]=E.useState([]),[w,v]=E.useState(null),[j,N]=E.useState([]),[S,T]=E.useState(!1),[I,_]=E.useState(null),[M,C]=E.useState([]),[B,P]=E.useState(!1),[H,D]=E.useState(null),[G,O]=E.useState(zK),[Q,ee]=E.useState(!1),[q,Z]=E.useState(null),[F,z]=E.useState(ett),[V,W]=E.useState(ttt),[ne,ie]=E.useState(rtt),[be,ue]=E.useState(()=>{if(typeof window>"u")return{};try{const tt=localStorage.getItem(GK),Ze=tt?JSON.parse(tt):{};return ntt(Ze&&typeof Ze=="object"?Ze:{})}catch(tt){return console.error("Failed to parse stored school credentials",tt),{}}}),[je,Be]=E.useState(()=>KT.reduce((tt,Ze)=>(tt[Ze.id]={password:"",status:"not_generated",lastGenerated:null,lastReset:null},tt),{})),oe=E.useCallback(tt=>tt?{id:tt.id||tt._id,ticketNumber:tt.ticketNumber,schoolName:tt.schoolName||"Unknown school",category:tt.category||tt.supportType,subject:tt.subject||tt.message||"Support request",openedAt:tt.createdAt||tt.openedAt,status:tt.status||"open",owner:tt.owner||"Support Desk",priority:tt.priority||"low",supportType:tt.supportType,requestDetails:tt.requestDetails||{},resolutionNotes:tt.resolutionNotes,passwordReset:tt.passwordReset,contactEmail:tt.contactEmail,contactPhone:tt.contactPhone}:null,[]),lt=()=>{const tt="ABCDEFGHJKLMNPQRSTUVWXYZ",Ze="abcdefghijkmnopqrstuvwxyz",ye="23456789",fe="!@$%&*";let Le=[tt,Ze,ye,fe].map(ct=>ct[Math.floor(Math.random()*ct.length)]).join("");const Ge=`${tt}${Ze}${ye}${fe}`;for(;Le.length<12;)Le+=Ge[Math.floor(Math.random()*Ge.length)];return Le.split("").sort(()=>Math.random()-.5).join("")},se=E.useCallback(tt=>tt?Array.isArray(tt.campusList)&&tt.campusList.length>0?tt.campusList:Array.isArray(tt.campuses)&&tt.campuses.length>0?tt.campuses:tt.campusName?[{name:tt.campusName,campusType:"Main"}]:[{name:tt.schoolName||tt.name||"Main Campus",campusType:"Main"}]:[],[]),J=E.useMemo(()=>{const tt=a.filter(Me=>Me.status==="pending").length,Ze=u.length,ye=G.filter(Me=>Me.status!=="resolved").length,fe=M.filter(Me=>Me.status!=="resolved").length;return[{label:"Pending approvals",value:tt,change:tt?`+${tt} awaiting`:"Up to date"},{label:"Active schools",value:Ze,change:`${Ze} active`},{label:"Open tickets",value:ye,change:"SLA 4h"},{label:"Issues to resolve",value:fe,change:fe?"Prioritise today":"All clear"}]},[a,u.length,G,M]),Pe=E.useCallback(tt=>{try{localStorage.setItem(GK,JSON.stringify(tt))}catch(Ze){console.error("Failed to persist school credentials",Ze)}},[]),xe=E.useCallback(async()=>{const tt=localStorage.getItem("token");if(!tt||!Ma){i(KT);return}l(!0),d(null);try{const Ze=await fetch(`${Ma}/api/schools/registrations/pending`,{headers:{Authorization:`Bearer ${tt}`}});if(!Ze.ok)throw new Error("Unable to load school registrations");const ye=await Ze.json(),fe=Array.isArray(ye)?ye.map(att):[];i(fe)}catch(Ze){console.error("Failed to fetch registrations",Ze),d(Ze.message||"Unable to load registrations")}finally{l(!1)}},[]),He=E.useCallback(async()=>{const tt=localStorage.getItem("token");if(!tt||!Ma){h([]);return}f(!0),A(null);try{const Ze=await fetch(`${Ma}/api/schools`,{headers:{Authorization:`Bearer ${tt}`}});if(!Ze.ok)throw new Error("Unable to load active schools");const ye=await Ze.json(),fe=Array.isArray(ye)?ye:[];h(fe)}catch(Ze){console.error("Failed to load active schools",Ze),A(Ze.message||"Unable to load active schools")}finally{f(!1)}},[]),$e=E.useCallback(async()=>{const tt=localStorage.getItem("token");if(!tt||!Ma){b([]);return}v(null);try{const Ze=await fetch(`${Ma}/api/admin/auth/school-admins`,{headers:{Authorization:`Bearer ${tt}`}});if(!Ze.ok)throw new Error("Unable to load school admins");const ye=await Ze.json();b(Array.isArray(ye)?ye:[])}catch(Ze){console.error("Failed to load school admins",Ze),v(Ze.message||"Unable to load school admins")}},[]),Xe=E.useCallback(async()=>{const tt=localStorage.getItem("token");if(!tt||!Ma){O(zK);return}ee(!0),Z(null);try{const Ze=await fetch(`${Ma}/api/support/requests`,{headers:{Authorization:`Bearer ${tt}`}});if(!Ze.ok)throw new Error("Failed to load support requests");const ye=await Ze.json();O(Array.isArray(ye)?ye.map(fe=>oe(fe)):[])}catch(Ze){console.error("Failed to fetch support tickets",Ze),Z(Ze.message||"Unable to fetch support tickets")}finally{ee(!1)}},[oe]),he=E.useCallback(async()=>{const tt=localStorage.getItem("token");if(!tt||!Ma){N([]);return}T(!0),_(null);try{const Ze=await fetch(`${Ma}/api/feedback/fetch`,{headers:{Authorization:`Bearer ${tt}`}});if(!Ze.ok)throw new Error("Failed to load feedback");const ye=await Ze.json();N(Array.isArray(ye)?ye:[])}catch(Ze){console.error("Failed to fetch feedback",Ze),_(Ze.message||"Unable to fetch feedback")}finally{T(!1)}},[]),ce=E.useCallback(async()=>{const tt=localStorage.getItem("token");if(!tt||!Ma){C([]);return}P(!0),D(null);try{const Ze=await fetch(`${Ma}/api/issues`,{headers:{Authorization:`Bearer ${tt}`}});if(!Ze.ok)throw new Error("Failed to load issues");const ye=await Ze.json();C(Array.isArray(ye)?ye:[])}catch(Ze){console.error("Failed to fetch issues",Ze),D(Ze.message||"Unable to fetch issues")}finally{P(!1)}},[]),_e=E.useCallback(async(tt,Ze={})=>{O(fe=>fe.map(Me=>Me.id===tt?{...Me,...Ze,updatedAt:new Date().toISOString()}:Me));const ye=localStorage.getItem("token");if(!(!ye||!Ma))try{const fe=await fetch(`${Ma}/api/support/requests/${tt}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ye}`},body:JSON.stringify(Ze)});if(!fe.ok)throw new Error("Failed to update ticket");const Me=await fe.json();O(Le=>Le.map(Ge=>Ge.id===tt?oe(Me):Ge))}catch(fe){console.error("Failed to update ticket",fe),Xe()}},[Xe,oe]);E.useEffect(()=>{Be(tt=>{const Ze={...tt};return a.forEach(ye=>{Ze[ye.id]||(Ze[ye.id]={password:"",status:"not_generated",lastGenerated:null,lastReset:null})}),Ze})},[a]),E.useEffect(()=>{xe()},[xe]),E.useEffect(()=>{Xe()},[Xe]),E.useEffect(()=>{He()},[He]),E.useEffect(()=>{he()},[he]),E.useEffect(()=>{ce()},[ce]),E.useEffect(()=>{const tt=()=>xe();return window.addEventListener("super-admin-refresh-requests",tt),()=>window.removeEventListener("super-admin-refresh-requests",tt)},[xe]),E.useEffect(()=>{Pe(be)},[be,Pe]);const Ke=(tt="")=>{const Ze=tt.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,3).padEnd(3,"X"),ye=Math.floor(1e3+Math.random()*9e3);return`EEC-${Ze}-${ye}`},et=()=>{const tt="ABCDEFGHJKLMNPQRSTUVWXYZ",Ze="abcdefghijkmnopqrstuvwxyz",ye="23456789",fe="!@$%&*",Me=`${tt}${Ze}${ye}${fe}`;let Le=[tt[Math.floor(Math.random()*tt.length)],Ze[Math.floor(Math.random()*Ze.length)],ye[Math.floor(Math.random()*ye.length)],fe[Math.floor(Math.random()*fe.length)]].join("");for(;Le.length<12;)Le+=Me[Math.floor(Math.random()*Me.length)];return Le.split("").sort(()=>Math.random()-.5).join("")},st=E.useCallback(async(tt,Ze,ye,fe="active",Me=null)=>{const Le=localStorage.getItem("token");if(!Le||!Ma)return;const Ge=(Me==null?void 0:Me.id)||(Me==null?void 0:Me._id)||(Me==null?void 0:Me.campusId),ct={username:Ze,password:ye,name:tt.schoolName||tt.name,email:tt.contactEmail||tt.officialEmail||"",avatar:tt.logo||tt.avatar||"",schoolId:tt.schoolId||tt.id,status:fe,campusId:Ge,campusName:Me==null?void 0:Me.name,campusType:Me==null?void 0:Me.campusType},ft=await fetch(`${Ma}/api/admin/auth/school-admins`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Le}`},body:JSON.stringify(ct)});if(!ft.ok){let Ut="Unable to create school admin";try{const Wt=await ft.json();Ut=(Wt==null?void 0:Wt.error)||Ut}catch{}throw new Error(Ut)}},[]),ot=async(tt,Ze,ye=0,fe="active")=>{if(!(tt!=null&&tt.id))return;const Me=(Ze==null?void 0:Ze.name)||`Campus ${ye+1}`,Le=VK(Ze,ye),Ge=Ke(`${tt.schoolName||tt.name}-${Me}`),ct=et(),ft={code:Ge,password:ct,generatedAt:new Date().toISOString(),schoolName:tt.schoolName||tt.name,campusName:Me,campusType:(Ze==null?void 0:Ze.campusType)||"Campus",campusId:(Ze==null?void 0:Ze.id)||(Ze==null?void 0:Ze._id)||(Ze==null?void 0:Ze.campusId)};ue(Ut=>{const Wt=Ut[tt.id]&&typeof Ut[tt.id]=="object"?Ut[tt.id]:{},ur=Wt.campuses&&typeof Wt.campuses=="object"?{...Wt.campuses}:{};return ur[Le]=ft,{...Ut,[tt.id]:{...Wt,campuses:ur}}});try{await st(tt,Ge,ct,fe,Ze)}catch(Ut){console.error("Failed to create school admin",Ut),d(Ut.message||"Unable to create school admin")}return ft},mt=async(tt,Ze,ye)=>{i(Me=>Me.map(Le=>Le.id===tt?{...Le,status:Ze,notes:ye??Le.notes,updatedAt:new Date().toISOString()}:Le));const fe=localStorage.getItem("token");if(!(!fe||!Ma)){if(Ze==="approved"||Ze==="rejected")try{const Me=Ze==="approved"?`${Ma}/api/schools/registrations/${tt}/approve`:`${Ma}/api/schools/registrations/${tt}/reject`,Le=Ze==="approved"?{adminNotes:ye||""}:{rejectionReason:ye||"Rejected by admin"},Ge=await fetch(Me,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${fe}`},body:JSON.stringify(Le)});if(!Ge.ok){const ct=await Ge.json().catch(()=>({}));throw new Error((ct==null?void 0:ct.error)||"Unable to update registration")}}catch(Me){console.error("Failed to update registration",Me),d(Me.message||"Unable to update registration")}if(Ze==="approved"){const Me=a.find(Ut=>Ut.id===tt);if(!Me)return;const Le=se(Me),Ge=be[tt]||{},ct=Ge.campuses&&typeof Ge.campuses=="object"?Ge.campuses:{},ft=[];for(let Ut=0;Ut<Le.length;Ut+=1){const Wt=Le[Ut],ur=VK(Wt,Ut),mr=ct[ur]||ct.default||(Ut===0&&(Ge!=null&&Ge.code)&&(Ge!=null&&Ge.password)?Ge:null);if(mr!=null&&mr.code&&(mr!=null&&mr.password)){ft.push({code:mr.code,password:mr.password,campusName:mr.campusName||(Wt==null?void 0:Wt.name)||`Campus ${Ut+1}`,campusType:mr.campusType||(Wt==null?void 0:Wt.campusType)||"Campus",campusId:mr.campusId||(Wt==null?void 0:Wt.id)||(Wt==null?void 0:Wt._id)||(Wt==null?void 0:Wt.campusId)});try{await st(Me,mr.code,mr.password,"active",Wt);continue}catch(Jr){console.error("Failed to create school admin",Jr),d(Jr.message||"Unable to create school admin")}}const or=await ot(Me,Wt,Ut,"active");or&&ft.push(or)}if(ft.length>0)try{const Ut=localStorage.getItem("token");Ut&&Ma&&await fetch(`${Ma}/api/admin/auth/school-admins/notify-credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ut}`},body:JSON.stringify({schoolId:Me.schoolId||Me.id,schoolName:Me.schoolName||Me.name,contactEmail:Me.contactEmail||Me.officialEmail,campuses:ft.map(Wt=>({campusName:Wt.campusName,campusType:Wt.campusType,username:Wt.code,password:Wt.password}))})})}catch(Ut){console.error("Failed to send approval email",Ut)}}}},At=(tt,Ze)=>{N(ye=>ye.map(fe=>fe.id===tt?{...fe,...Ze,updatedAt:new Date().toISOString()}:fe))},Tt=(tt,Ze)=>{C(ye=>ye.map(fe=>fe.id===tt?{...fe,...Ze,updatedAt:new Date().toISOString()}:fe))},rt=tt=>{ie(Ze=>[{id:`ACT-${Date.now()}`,timestamp:new Date().toISOString(),...tt},...Ze])},Dt=({title:tt,message:Ze,audience:ye})=>{const fe={id:`BC-${Date.now()}`,title:tt,message:Ze,audience:ye,createdAt:new Date().toISOString(),owner:t.name,status:"scheduled"};z(Me=>[fe,...Me]),rt({label:`Broadcast scheduled: ${tt}`,type:"broadcast"})},Qt=(tt,Ze)=>{W(ye=>{const fe=ye.map(Le=>Le.id===tt?{...Le,status:Ze}:Le),Me=ye.find(Le=>Le.id===tt);return Me&&rt({label:`Compliance ${Ze}: ${Me.title}`,type:"compliance"}),fe})},Yt=tt=>{const Ze=lt();Be(ye=>({...ye,[tt]:{...ye[tt],password:Ze,status:"generated",lastGenerated:new Date().toISOString()}}))},kt=tt=>{Be(Ze=>({...Ze,[tt]:{...Ze[tt],status:"reset_sent",lastReset:new Date().toISOString()}}))};return E.useEffect(()=>{(async()=>{const Ze=localStorage.getItem("token");if(Ze)try{const ye=await fetch("http://localhost:5000/api/admin/auth/profile",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${Ze}`}});if(!ye.ok)return;const fe=await ye.json();e(Me=>({...Me,name:fe.name||fe.username||Me.name,email:fe.email||fe.username||Me.email,avatar:fe.avatar||""}))}catch(ye){console.error("Failed to load super admin profile",ye)}})()},[]),r.jsx(lKe,{sidebarCollapsed:s,onToggleSidebar:()=>n(tt=>!tt),insights:J,profile:t,children:r.jsxs(J1,{children:[r.jsx(sr,{path:"overview",element:r.jsx(dKe,{requests:a,feedbackItems:j,issues:M,tickets:G,onRequestAction:mt,onIssueUpdate:Tt,onTicketUpdate:_e,onFeedbackUpdate:At})}),r.jsx(sr,{path:"requests",element:r.jsx(hKe,{requests:a,onRequestAction:mt,loading:o,error:c,onRefresh:xe,schoolCredentials:be,onGenerateSchoolCredentials:ot})}),r.jsx(sr,{path:"feedback",element:r.jsx(pKe,{feedbackItems:j,onFeedbackUpdate:At})}),r.jsx(sr,{path:"issues",element:r.jsx(gKe,{issues:M,onIssueUpdate:Tt})}),r.jsx(sr,{path:"tickets",element:r.jsx(vKe,{tickets:G,onTicketUpdate:_e,loading:Q,error:q,onRefresh:Xe})}),r.jsx(sr,{path:"credentials",element:r.jsx(wKe,{requests:a,credentialState:je,onGenerateCredential:Yt,onResetCredential:kt})}),r.jsx(sr,{path:"operations",element:r.jsx(NKe,{announcements:F,onCreateAnnouncement:Dt,complianceItems:V,onComplianceUpdate:Qt,activityFeed:ne})}),r.jsx(sr,{path:"id-pass",element:r.jsx(Jet,{profile:t})}),r.jsx(sr,{path:"active-schools",element:r.jsx(Zet,{fetchActiveSchools:He,fetchSchoolAdmins:$e,loading:m,error:x||w,schools:u,admins:g})}),r.jsx(sr,{index:!0,element:r.jsx(Uv,{to:"/super-admin/overview",replace:!0})}),r.jsx(sr,{path:"*",element:r.jsx(Uv,{to:"/super-admin/overview",replace:!0})})]})})},WK="http://localhost:5000",ott=()=>{const[t,e]=E.useState([]),[s,n]=E.useState(!1),a=async()=>{try{n(!0);const l=await(await fetch(`${WK}/api/nif/students/archived`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}})).json();e(Array.isArray(l)?l:[])}catch(o){console.error("Failed to load archived students:",o),alert("Failed to load archived students.")}finally{n(!1)}};E.useEffect(()=>{a()},[]);const i=()=>{window.location.href=`${WK}/api/nif/students/archived/export`};return r.jsx("div",{className:"min-h-screen p-8 bg-yellow-50",children:r.jsxs("div",{className:"max-w-6xl mx-auto bg-white p-6 rounded-xl shadow",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Archived Students"}),r.jsxs("button",{onClick:i,className:"bg-amber-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[r.jsx(rB,{size:16}),"Download CSV"]})]}),r.jsxs("table",{className:"w-full border border-yellow-200 rounded-lg",children:[r.jsx("thead",{className:"bg-yellow-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 text-left",children:"Name"}),r.jsx("th",{className:"p-3 text-left",children:"Course"}),r.jsx("th",{className:"p-3 text-left",children:"Batch"}),r.jsx("th",{className:"p-3 text-left",children:"Passed Out"}),r.jsx("th",{className:"p-3 text-left",children:"Paid"}),r.jsx("th",{className:"p-3 text-left",children:"Archived At"})]})}),r.jsxs("tbody",{children:[s&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Loading archived students..."})}),!s&&t.map(o=>{var l;return r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"p-3",children:o.studentName}),r.jsx("td",{className:"p-3",children:o.course}),r.jsx("td",{className:"p-3",children:o.batchCode}),r.jsx("td",{className:"p-3",children:o.passedOutYear}),r.jsxs("td",{className:"p-3",children:["",(l=o.feeSummary)==null?void 0:l.totalPaid]}),r.jsx("td",{className:"p-3",children:o.archivedAt?new Date(o.archivedAt).toLocaleDateString():"-"})]},o._id)}),!s&&t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"text-center py-6 text-gray-500",children:"No archived students yet."})})]})]})]})})},Xo=Object.freeze({STUDENT:"Student",PARENT:"Parent",TEACHER:"Teacher",SCHOOL_ADMIN:"Admin",PRINCIPAL:"Principal",SUPER_ADMIN:"SuperAdmin"}),Ko=(t,e)=>r.jsx(zge,{allowedRoles:t,children:e}),ltt=Object.values(Xo),ctt=["home","ai-learning","ai-learning-courses","ai-learning-tutor","academics","assignments","assignments-journal","assignments-academic-alcove","results","schedule","routine","attendance","communication","chat","teacherfeedback","excuse-letter","noticeboard","wellness","wellbeing","achievements","profile","themecustomizer"],dtt=["/student","/dashboard"],utt=dtt.flatMap(t=>[t,`${t}/*`,...ctt.map(e=>`${t}/${e}`)]);function htt(){return r.jsxs(lle,{children:[r.jsxs(J1,{children:[r.jsx(sr,{path:"/",element:r.jsx(vhe,{})}),r.jsx(sr,{path:"/signup",element:r.jsx(whe,{})}),r.jsx(sr,{path:"/complaint",element:r.jsx(iY,{})}),r.jsx(sr,{path:"/profile",element:Ko(ltt,r.jsx(nY,{}))}),r.jsx(sr,{path:"/feedback",element:r.jsx(Qqe,{})}),r.jsx(sr,{path:"/feedback/thank-you",element:r.jsx($qe,{})}),r.jsx(sr,{path:"/school-registration",element:r.jsx(Gqe,{})}),r.jsx(sr,{path:"/school-registration/success",element:r.jsx(Vqe,{})}),r.jsx(sr,{path:"/meet-the-developer",element:r.jsx(zqe,{})}),utt.map(t=>r.jsx(sr,{path:t,element:Ko([Xo.STUDENT],r.jsx(Qge,{}))},t)),r.jsx(sr,{path:"/student/games",element:Ko([Xo.STUDENT],r.jsx(Ij,{}))}),r.jsx(sr,{path:"/student/games/:gameKey",element:Ko([Xo.STUDENT],r.jsx(Ij,{}))}),r.jsx(sr,{path:"/dashboard/games",element:Ko([Xo.STUDENT],r.jsx(Ij,{}))}),r.jsx(sr,{path:"/dashboard/games/:gameKey",element:Ko([Xo.STUDENT],r.jsx(Ij,{}))}),r.jsx(sr,{path:"/admin/*",element:Ko([Xo.SCHOOL_ADMIN],r.jsx(cW,{}))}),r.jsx(sr,{path:"/school-admin/*",element:Ko([Xo.SCHOOL_ADMIN],r.jsx(cW,{}))}),r.jsx(sr,{path:"/admin/archived-students",element:Ko([Xo.SCHOOL_ADMIN],r.jsx(ott,{}))}),r.jsx(sr,{path:"/principal",element:Ko([Xo.PRINCIPAL],r.jsx(VWe,{}))}),r.jsx(sr,{path:"/super-admin/*",element:Ko([Xo.SUPER_ADMIN],r.jsx(itt,{}))}),r.jsx(sr,{path:"/parents/*",element:Ko([Xo.PARENT],r.jsx(wq,{}))}),r.jsx(sr,{path:"/parent/*",element:Ko([Xo.PARENT],r.jsx(wq,{}))}),r.jsx(sr,{path:"/teachers/*",element:Ko([Xo.TEACHER],r.jsx(Oq,{}))}),r.jsx(sr,{path:"/teacher/*",element:Ko([Xo.TEACHER],r.jsx(Oq,{}))})]}),r.jsx(iKe,{})]})}qie.createRoot(document.getElementById("root")).render(r.jsx(htt,{}));export{fn as _,u2 as c,xn as g};
