var DZ=Object.defineProperty;var RZ=(t,e,r)=>e in t?DZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zt=(t,e,r)=>RZ(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var l2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ns(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AS={exports:{}},Av={},CS={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD;function LZ(){if(mD)return fn;mD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function m(K){return K===null||typeof K!="object"?null:(K=h&&K[h]||K["@@iterator"],typeof K=="function"?K:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function g(K,re,U){this.props=K,this.context=re,this.refs=v,this.updater=U||f}g.prototype.isReactComponent={},g.prototype.setState=function(K,re){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,re,"setState")},g.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function b(){}b.prototype=g.prototype;function N(K,re,U){this.props=K,this.context=re,this.refs=v,this.updater=U||f}var w=N.prototype=new b;w.constructor=N,x(w,g.prototype),w.isPureReactComponent=!0;var A=Array.isArray,j=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(K,re,U){var Y,V={},Z=null,ce=null;if(re!=null)for(Y in re.ref!==void 0&&(ce=re.ref),re.key!==void 0&&(Z=""+re.key),re)j.call(re,Y)&&!E.hasOwnProperty(Y)&&(V[Y]=re[Y]);var fe=arguments.length-2;if(fe===1)V.children=U;else if(1<fe){for(var ye=Array(fe),ge=0;ge<fe;ge++)ye[ge]=arguments[ge+2];V.children=ye}if(K&&K.defaultProps)for(Y in fe=K.defaultProps,fe)V[Y]===void 0&&(V[Y]=fe[Y]);return{$$typeof:t,type:K,key:Z,ref:ce,props:V,_owner:S.current}}function C(K,re){return{$$typeof:t,type:K.type,key:re,ref:K.ref,props:K.props,_owner:K._owner}}function T(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function k(K){var re={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(U){return re[U]})}var P=/\/+/g;function D(K,re){return typeof K=="object"&&K!==null&&K.key!=null?k(""+K.key):re.toString(36)}function H(K,re,U,Y,V){var Z=typeof K;(Z==="undefined"||Z==="boolean")&&(K=null);var ce=!1;if(K===null)ce=!0;else switch(Z){case"string":case"number":ce=!0;break;case"object":switch(K.$$typeof){case t:case e:ce=!0}}if(ce)return ce=K,V=V(ce),K=Y===""?"."+D(ce,0):Y,A(V)?(U="",K!=null&&(U=K.replace(P,"$&/")+"/"),H(V,re,U,"",function(ge){return ge})):V!=null&&(T(V)&&(V=C(V,U+(!V.key||ce&&ce.key===V.key?"":(""+V.key).replace(P,"$&/")+"/")+K)),re.push(V)),1;if(ce=0,Y=Y===""?".":Y+":",A(K))for(var fe=0;fe<K.length;fe++){Z=K[fe];var ye=Y+D(Z,fe);ce+=H(Z,re,U,ye,V)}else if(ye=m(K),typeof ye=="function")for(K=ye.call(K),fe=0;!(Z=K.next()).done;)Z=Z.value,ye=Y+D(Z,fe++),ce+=H(Z,re,U,ye,V);else if(Z==="object")throw re=String(K),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return ce}function F(K,re,U){if(K==null)return K;var Y=[],V=0;return H(K,Y,"","",function(Z){return re.call(U,Z,V++)}),Y}function z(K){if(K._status===-1){var re=K._result;re=re(),re.then(function(U){(K._status===0||K._status===-1)&&(K._status=1,K._result=U)},function(U){(K._status===0||K._status===-1)&&(K._status=2,K._result=U)}),K._status===-1&&(K._status=0,K._result=re)}if(K._status===1)return K._result.default;throw K._result}var O={current:null},W={transition:null},ee={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:W,ReactCurrentOwner:S};return fn.Children={map:F,forEach:function(K,re,U){F(K,function(){re.apply(this,arguments)},U)},count:function(K){var re=0;return F(K,function(){re++}),re},toArray:function(K){return F(K,function(re){return re})||[]},only:function(K){if(!T(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},fn.Component=g,fn.Fragment=r,fn.Profiler=a,fn.PureComponent=N,fn.StrictMode=s,fn.Suspense=c,fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,fn.cloneElement=function(K,re,U){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Y=x({},K.props),V=K.key,Z=K.ref,ce=K._owner;if(re!=null){if(re.ref!==void 0&&(Z=re.ref,ce=S.current),re.key!==void 0&&(V=""+re.key),K.type&&K.type.defaultProps)var fe=K.type.defaultProps;for(ye in re)j.call(re,ye)&&!E.hasOwnProperty(ye)&&(Y[ye]=re[ye]===void 0&&fe!==void 0?fe[ye]:re[ye])}var ye=arguments.length-2;if(ye===1)Y.children=U;else if(1<ye){fe=Array(ye);for(var ge=0;ge<ye;ge++)fe[ge]=arguments[ge+2];Y.children=fe}return{$$typeof:t,type:K.type,key:V,ref:Z,props:Y,_owner:ce}},fn.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},fn.createElement=R,fn.createFactory=function(K){var re=R.bind(null,K);return re.type=K,re},fn.createRef=function(){return{current:null}},fn.forwardRef=function(K){return{$$typeof:l,render:K}},fn.isValidElement=T,fn.lazy=function(K){return{$$typeof:u,_payload:{_status:-1,_result:K},_init:z}},fn.memo=function(K,re){return{$$typeof:d,type:K,compare:re===void 0?null:re}},fn.startTransition=function(K){var re=W.transition;W.transition={};try{K()}finally{W.transition=re}},fn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},fn.useCallback=function(K,re){return O.current.useCallback(K,re)},fn.useContext=function(K){return O.current.useContext(K)},fn.useDebugValue=function(){},fn.useDeferredValue=function(K){return O.current.useDeferredValue(K)},fn.useEffect=function(K,re){return O.current.useEffect(K,re)},fn.useId=function(){return O.current.useId()},fn.useImperativeHandle=function(K,re,U){return O.current.useImperativeHandle(K,re,U)},fn.useInsertionEffect=function(K,re){return O.current.useInsertionEffect(K,re)},fn.useLayoutEffect=function(K,re){return O.current.useLayoutEffect(K,re)},fn.useMemo=function(K,re){return O.current.useMemo(K,re)},fn.useReducer=function(K,re,U){return O.current.useReducer(K,re,U)},fn.useRef=function(K){return O.current.useRef(K)},fn.useState=function(K){return O.current.useState(K)},fn.useSyncExternalStore=function(K,re,U){return O.current.useSyncExternalStore(K,re,U)},fn.useTransition=function(){return O.current.useTransition()},fn.version="18.2.0",fn}var pD;function gT(){return pD||(pD=1,CS.exports=LZ()),CS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xD;function OZ(){if(xD)return Av;xD=1;var t=gT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},m=null,f=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(f=c.ref);for(u in c)s.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:m,ref:f,props:h,_owner:a.current}}return Av.Fragment=r,Av.jsx=o,Av.jsxs=o,Av}var gD;function IZ(){return gD||(gD=1,AS.exports=OZ()),AS.exports}var n=IZ(),c2={},kS={exports:{}},Go={},ES={exports:{}},TS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vD;function FZ(){return vD||(vD=1,(function(t){function e(W,ee){var K=W.length;W.push(ee);e:for(;0<K;){var re=K-1>>>1,U=W[re];if(0<a(U,ee))W[re]=ee,W[K]=U,K=re;else break e}}function r(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ee=W[0],K=W.pop();if(K!==ee){W[0]=K;e:for(var re=0,U=W.length,Y=U>>>1;re<Y;){var V=2*(re+1)-1,Z=W[V],ce=V+1,fe=W[ce];if(0>a(Z,K))ce<U&&0>a(fe,Z)?(W[re]=fe,W[ce]=K,re=ce):(W[re]=Z,W[V]=K,re=V);else if(ce<U&&0>a(fe,K))W[re]=fe,W[ce]=K,re=ce;else break e}}return ee}function a(W,ee){var K=W.sortIndex-ee.sortIndex;return K!==0?K:W.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,x=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var ee=r(d);ee!==null;){if(ee.callback===null)s(d);else if(ee.startTime<=W)s(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=r(d)}}function A(W){if(v=!1,w(W),!x)if(r(c)!==null)x=!0,z(j);else{var ee=r(d);ee!==null&&O(A,ee.startTime-W)}}function j(W,ee){x=!1,v&&(v=!1,b(R),R=-1),f=!0;var K=m;try{for(w(ee),h=r(c);h!==null&&(!(h.expirationTime>ee)||W&&!k());){var re=h.callback;if(typeof re=="function"){h.callback=null,m=h.priorityLevel;var U=re(h.expirationTime<=ee);ee=t.unstable_now(),typeof U=="function"?h.callback=U:h===r(c)&&s(c),w(ee)}else s(c);h=r(c)}if(h!==null)var Y=!0;else{var V=r(d);V!==null&&O(A,V.startTime-ee),Y=!1}return Y}finally{h=null,m=K,f=!1}}var S=!1,E=null,R=-1,C=5,T=-1;function k(){return!(t.unstable_now()-T<C)}function P(){if(E!==null){var W=t.unstable_now();T=W;var ee=!0;try{ee=E(!0,W)}finally{ee?D():(S=!1,E=null)}}else S=!1}var D;if(typeof N=="function")D=function(){N(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=P,D=function(){F.postMessage(null)}}else D=function(){g(P,0)};function z(W){E=W,S||(S=!0,D())}function O(W,ee){R=g(function(){W(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){x||f||(x=!0,z(j))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var K=m;m=ee;try{return W()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var K=m;m=W;try{return ee()}finally{m=K}},t.unstable_scheduleCallback=function(W,ee,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=K+U,W={id:u++,callback:ee,priorityLevel:W,startTime:K,expirationTime:U,sortIndex:-1},K>re?(W.sortIndex=K,e(d,W),r(c)===null&&W===r(d)&&(v?(b(R),R=-1):v=!0,O(A,K-re))):(W.sortIndex=U,e(c,W),x||f||(x=!0,z(j))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var ee=m;return function(){var K=m;m=ee;try{return W.apply(this,arguments)}finally{m=K}}}})(TS)),TS}var yD;function BZ(){return yD||(yD=1,ES.exports=FZ()),ES.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD;function UZ(){if(bD)return Go;bD=1;var t=gT(),e=BZ();function r(p){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+p,_=1;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(p,y){o(p,y),o(p+"Capture",y)}function o(p,y){for(a[p]=y,p=0;p<y.length;p++)s.add(y[p])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function m(p){return c.call(h,p)?!0:c.call(u,p)?!1:d.test(p)?h[p]=!0:(u[p]=!0,!1)}function f(p,y,_,I){if(_!==null&&_.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return I?!1:_!==null?!_.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,y,_,I){if(y===null||typeof y>"u"||f(p,y,_,I))return!0;if(I)return!1;if(_!==null)switch(_.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function v(p,y,_,I,q,te,pe){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=I,this.attributeNamespace=q,this.mustUseProperty=_,this.propertyName=p,this.type=y,this.sanitizeURL=te,this.removeEmptyString=pe}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){g[p]=new v(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var y=p[0];g[y]=new v(y,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){g[p]=new v(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){g[p]=new v(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){g[p]=new v(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){g[p]=new v(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){g[p]=new v(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){g[p]=new v(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){g[p]=new v(p,5,!1,p.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function N(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var y=p.replace(b,N);g[y]=new v(y,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var y=p.replace(b,N);g[y]=new v(y,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var y=p.replace(b,N);g[y]=new v(y,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){g[p]=new v(p,1,!1,p.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){g[p]=new v(p,1,!1,p.toLowerCase(),null,!0,!0)});function w(p,y,_,I){var q=g.hasOwnProperty(y)?g[y]:null;(q!==null?q.type!==0:I||!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(x(y,_,q,I)&&(_=null),I||q===null?m(y)&&(_===null?p.removeAttribute(y):p.setAttribute(y,""+_)):q.mustUseProperty?p[q.propertyName]=_===null?q.type===3?!1:"":_:(y=q.attributeName,I=q.attributeNamespace,_===null?p.removeAttribute(y):(q=q.type,_=q===3||q===4&&_===!0?"":""+_,I?p.setAttributeNS(I,y,_):p.setAttribute(y,_))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),W=Symbol.iterator;function ee(p){return p===null||typeof p!="object"?null:(p=W&&p[W]||p["@@iterator"],typeof p=="function"?p:null)}var K=Object.assign,re;function U(p){if(re===void 0)try{throw Error()}catch(_){var y=_.stack.trim().match(/\n( *(at )?)/);re=y&&y[1]||""}return`
`+re+p}var Y=!1;function V(p,y){if(!p||Y)return"";Y=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(vt){var I=vt}Reflect.construct(p,[],y)}else{try{y.call()}catch(vt){I=vt}p.call(y.prototype)}else{try{throw Error()}catch(vt){I=vt}p()}}catch(vt){if(vt&&I&&typeof vt.stack=="string"){for(var q=vt.stack.split(`
`),te=I.stack.split(`
`),pe=q.length-1,Be=te.length-1;1<=pe&&0<=Be&&q[pe]!==te[Be];)Be--;for(;1<=pe&&0<=Be;pe--,Be--)if(q[pe]!==te[Be]){if(pe!==1||Be!==1)do if(pe--,Be--,0>Be||q[pe]!==te[Be]){var Ye=`
`+q[pe].replace(" at new "," at ");return p.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",p.displayName)),Ye}while(1<=pe&&0<=Be);break}}}finally{Y=!1,Error.prepareStackTrace=_}return(p=p?p.displayName||p.name:"")?U(p):""}function Z(p){switch(p.tag){case 5:return U(p.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return p=V(p.type,!1),p;case 11:return p=V(p.type.render,!1),p;case 1:return p=V(p.type,!0),p;default:return""}}function ce(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case E:return"Fragment";case S:return"Portal";case C:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case H:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case k:return(p.displayName||"Context")+".Consumer";case T:return(p._context.displayName||"Context")+".Provider";case P:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case F:return y=p.displayName||null,y!==null?y:ce(p.type)||"Memo";case z:y=p._payload,p=p._init;try{return ce(p(y))}catch{}}return null}function fe(p){var y=p.type;switch(p.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=y.render,p=p.displayName||p.name||"",y.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(y);case 8:return y===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function ye(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function ge(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function we(p){var y=ge(p)?"checked":"value",_=Object.getOwnPropertyDescriptor(p.constructor.prototype,y),I=""+p[y];if(!p.hasOwnProperty(y)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var q=_.get,te=_.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return q.call(this)},set:function(pe){I=""+pe,te.call(this,pe)}}),Object.defineProperty(p,y,{enumerable:_.enumerable}),{getValue:function(){return I},setValue:function(pe){I=""+pe},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function Re(p){p._valueTracker||(p._valueTracker=we(p))}function oe(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var _=y.getValue(),I="";return p&&(I=ge(p)?p.checked?"true":"false":p.value),p=I,p!==_?(y.setValue(p),!0):!1}function ut(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function se(p,y){var _=y.checked;return K({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??p._wrapperState.initialChecked})}function J(p,y){var _=y.defaultValue==null?"":y.defaultValue,I=y.checked!=null?y.checked:y.defaultChecked;_=ye(y.value!=null?y.value:_),p._wrapperState={initialChecked:I,initialValue:_,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function ie(p,y){y=y.checked,y!=null&&w(p,"checked",y,!1)}function Ae(p,y){ie(p,y);var _=ye(y.value),I=y.type;if(_!=null)I==="number"?(_===0&&p.value===""||p.value!=_)&&(p.value=""+_):p.value!==""+_&&(p.value=""+_);else if(I==="submit"||I==="reset"){p.removeAttribute("value");return}y.hasOwnProperty("value")?Ie(p,y.type,_):y.hasOwnProperty("defaultValue")&&Ie(p,y.type,ye(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(p.defaultChecked=!!y.defaultChecked)}function Fe(p,y,_){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var I=y.type;if(!(I!=="submit"&&I!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+p._wrapperState.initialValue,_||y===p.value||(p.value=y),p.defaultValue=y}_=p.name,_!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,_!==""&&(p.name=_)}function Ie(p,y,_){(y!=="number"||ut(p.ownerDocument)!==p)&&(_==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+_&&(p.defaultValue=""+_))}var $e=Array.isArray;function le(p,y,_,I){if(p=p.options,y){y={};for(var q=0;q<_.length;q++)y["$"+_[q]]=!0;for(_=0;_<p.length;_++)q=y.hasOwnProperty("$"+p[_].value),p[_].selected!==q&&(p[_].selected=q),q&&I&&(p[_].defaultSelected=!0)}else{for(_=""+ye(_),y=null,q=0;q<p.length;q++){if(p[q].value===_){p[q].selected=!0,I&&(p[q].defaultSelected=!0);return}y!==null||p[q].disabled||(y=p[q])}y!==null&&(y.selected=!0)}}function ae(p,y){if(y.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},y,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function _e(p,y){var _=y.value;if(_==null){if(_=y.children,y=y.defaultValue,_!=null){if(y!=null)throw Error(r(92));if($e(_)){if(1<_.length)throw Error(r(93));_=_[0]}y=_}y==null&&(y=""),_=y}p._wrapperState={initialValue:ye(_)}}function qe(p,y){var _=ye(y.value),I=ye(y.defaultValue);_!=null&&(_=""+_,_!==p.value&&(p.value=_),y.defaultValue==null&&p.defaultValue!==_&&(p.defaultValue=_)),I!=null&&(p.defaultValue=""+I)}function Ke(p){var y=p.textContent;y===p._wrapperState.initialValue&&y!==""&&y!==null&&(p.value=y)}function et(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(p,y){return p==null||p==="http://www.w3.org/1999/xhtml"?et(y):p==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var ft,gt=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,_,I,q){MSApp.execUnsafeLocalFunction(function(){return p(y,_,I,q)})}:p})(function(p,y){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=y;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=ft.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;y.firstChild;)p.appendChild(y.firstChild)}});function At(p,y){if(y){var _=p.firstChild;if(_&&_===p.lastChild&&_.nodeType===3){_.nodeValue=y;return}}p.textContent=y}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dt=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(p){Dt.forEach(function(y){y=y+p.charAt(0).toUpperCase()+p.substring(1),rt[y]=rt[p]})});function Rt(p,y,_){return y==null||typeof y=="boolean"||y===""?"":_||typeof y!="number"||y===0||rt.hasOwnProperty(p)&&rt[p]?(""+y).trim():y+"px"}function $t(p,y){p=p.style;for(var _ in y)if(y.hasOwnProperty(_)){var I=_.indexOf("--")===0,q=Rt(_,y[_],I);_==="float"&&(_="cssFloat"),I?p.setProperty(_,q):p[_]=q}}var Lt=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function or(p,y){if(y){if(Lt[p]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(r(137,p));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(r(60));if(typeof y.dangerouslySetInnerHTML!="object"||!("__html"in y.dangerouslySetInnerHTML))throw Error(r(61))}if(y.style!=null&&typeof y.style!="object")throw Error(r(62))}}function Bt(p,y){if(p.indexOf("-")===-1)return typeof y.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ge=null;function Ne(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Qe=null,Ve=null,tt=null;function at(p){if(p=ef(p)){if(typeof Qe!="function")throw Error(r(280));var y=p.stateNode;y&&(y=A0(y),Qe(p.stateNode,p.type,y))}}function Nt(p){Ve?tt?tt.push(p):tt=[p]:Ve=p}function qt(){if(Ve){var p=Ve,y=tt;if(tt=Ve=null,at(p),y)for(p=0;p<y.length;p++)at(y[p])}}function Ht(p,y){return p(y)}function Ar(){}var Jt=!1;function er(p,y,_){if(Jt)return p(y,_);Jt=!0;try{return Ht(p,y,_)}finally{Jt=!1,(Ve!==null||tt!==null)&&(Ar(),qt())}}function bn(p,y){var _=p.stateNode;if(_===null)return null;var I=A0(_);if(I===null)return null;_=I[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(p=p.type,I=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!I;break e;default:p=!1}if(p)return null;if(_&&typeof _!="function")throw Error(r(231,y,typeof _));return _}var js=!1;if(l)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){js=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{js=!1}function ss(p,y,_,I,q,te,pe,Be,Ye){var vt=Array.prototype.slice.call(arguments,3);try{y.apply(_,vt)}catch(zt){this.onError(zt)}}var sn=!1,Bn=null,me=!1,Ee=null,Se={onError:function(p){sn=!0,Bn=p}};function Ce(p,y,_,I,q,te,pe,Be,Ye){sn=!1,Bn=null,ss.apply(Se,arguments)}function Pe(p,y,_,I,q,te,pe,Be,Ye){if(Ce.apply(this,arguments),sn){if(sn){var vt=Bn;sn=!1,Bn=null}else throw Error(r(198));me||(me=!0,Ee=vt)}}function Te(p){var y=p,_=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,(y.flags&4098)!==0&&(_=y.return),p=y.return;while(p)}return y.tag===3?_:null}function it(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function bt(p){if(Te(p)!==p)throw Error(r(188))}function lt(p){var y=p.alternate;if(!y){if(y=Te(p),y===null)throw Error(r(188));return y!==p?null:p}for(var _=p,I=y;;){var q=_.return;if(q===null)break;var te=q.alternate;if(te===null){if(I=q.return,I!==null){_=I;continue}break}if(q.child===te.child){for(te=q.child;te;){if(te===_)return bt(q),p;if(te===I)return bt(q),y;te=te.sibling}throw Error(r(188))}if(_.return!==I.return)_=q,I=te;else{for(var pe=!1,Be=q.child;Be;){if(Be===_){pe=!0,_=q,I=te;break}if(Be===I){pe=!0,I=q,_=te;break}Be=Be.sibling}if(!pe){for(Be=te.child;Be;){if(Be===_){pe=!0,_=te,I=q;break}if(Be===I){pe=!0,I=te,_=q;break}Be=Be.sibling}if(!pe)throw Error(r(189))}}if(_.alternate!==I)throw Error(r(190))}if(_.tag!==3)throw Error(r(188));return _.stateNode.current===_?p:y}function ct(p){return p=lt(p),p!==null?mt(p):null}function mt(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var y=mt(p);if(y!==null)return y;p=p.sibling}return null}var de=e.unstable_scheduleCallback,Oe=e.unstable_cancelCallback,We=e.unstable_shouldYield,ze=e.unstable_requestPaint,Le=e.unstable_now,yt=e.unstable_getCurrentPriorityLevel,It=e.unstable_ImmediatePriority,Ft=e.unstable_UserBlockingPriority,Vt=e.unstable_NormalPriority,Nr=e.unstable_LowPriority,wr=e.unstable_IdlePriority,lr=null,_r=null;function rn(p){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(lr,p,void 0,(p.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:rr,Un=Math.log,ln=Math.LN2;function rr(p){return p>>>=0,p===0?32:31-(Un(p)/ln|0)|0}var us=64,zr=4194304;function Us(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Mi(p,y){var _=p.pendingLanes;if(_===0)return 0;var I=0,q=p.suspendedLanes,te=p.pingedLanes,pe=_&268435455;if(pe!==0){var Be=pe&~q;Be!==0?I=Us(Be):(te&=pe,te!==0&&(I=Us(te)))}else pe=_&~q,pe!==0?I=Us(pe):te!==0&&(I=Us(te));if(I===0)return 0;if(y!==0&&y!==I&&(y&q)===0&&(q=I&-I,te=y&-y,q>=te||q===16&&(te&4194240)!==0))return y;if((I&4)!==0&&(I|=_&16),y=p.entangledLanes,y!==0)for(p=p.entanglements,y&=I;0<y;)_=31-Er(y),q=1<<_,I|=p[_],y&=~q;return I}function as(p,y){switch(p){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hs(p,y){for(var _=p.suspendedLanes,I=p.pingedLanes,q=p.expirationTimes,te=p.pendingLanes;0<te;){var pe=31-Er(te),Be=1<<pe,Ye=q[pe];Ye===-1?((Be&_)===0||(Be&I)!==0)&&(q[pe]=as(Be,y)):Ye<=y&&(p.expiredLanes|=Be),te&=~Be}}function cn(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Sa(){var p=us;return us<<=1,(us&4194240)===0&&(us=64),p}function _a(p){for(var y=[],_=0;31>_;_++)y.push(p);return y}function Ds(p,y,_){p.pendingLanes|=y,y!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,y=31-Er(y),p[y]=_}function fs(p,y){var _=p.pendingLanes&~y;p.pendingLanes=y,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=y,p.mutableReadLanes&=y,p.entangledLanes&=y,y=p.entanglements;var I=p.eventTimes;for(p=p.expirationTimes;0<_;){var q=31-Er(_),te=1<<q;y[q]=0,I[q]=-1,p[q]=-1,_&=~te}}function Fl(p,y){var _=p.entangledLanes|=y;for(p=p.entanglements;_;){var I=31-Er(_),q=1<<I;q&y|p[I]&y&&(p[I]|=y),_&=~q}}var Jr=0;function vu(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var wd,d0,wp,jp,Ih,Fh=!1,Pi=[],Bl=null,Di=null,Mo=null,yu=new Map,Rr=new Map,Ul=[],tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Np(p,y){switch(p){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":yu.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(y.pointerId)}}function ho(p,y,_,I,q,te){return p===null||p.nativeEvent!==te?(p={blockedOn:y,domEventName:_,eventSystemFlags:I,nativeEvent:te,targetContainers:[q]},y!==null&&(y=ef(y),y!==null&&d0(y)),p):(p.eventSystemFlags|=I,y=p.targetContainers,q!==null&&y.indexOf(q)===-1&&y.push(q),p)}function Cc(p,y,_,I,q){switch(y){case"focusin":return Bl=ho(Bl,p,y,_,I,q),!0;case"dragenter":return Di=ho(Di,p,y,_,I,q),!0;case"mouseover":return Mo=ho(Mo,p,y,_,I,q),!0;case"pointerover":var te=q.pointerId;return yu.set(te,ho(yu.get(te)||null,p,y,_,I,q)),!0;case"gotpointercapture":return te=q.pointerId,Rr.set(te,ho(Rr.get(te)||null,p,y,_,I,q)),!0}return!1}function Sp(p){var y=Pd(p.target);if(y!==null){var _=Te(y);if(_!==null){if(y=_.tag,y===13){if(y=it(_),y!==null){p.blockedOn=y,Ih(p.priority,function(){wp(_)});return}}else if(y===3&&_.stateNode.current.memoizedState.isDehydrated){p.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Bh(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var _=ju(p.domEventName,p.eventSystemFlags,y[0],p.nativeEvent);if(_===null){_=p.nativeEvent;var I=new _.constructor(_.type,_);Ge=I,_.target.dispatchEvent(I),Ge=null}else return y=ef(_),y!==null&&d0(y),p.blockedOn=_,!1;y.shift()}return!0}function bu(p,y,_){Bh(p)&&_.delete(y)}function u0(){Fh=!1,Bl!==null&&Bh(Bl)&&(Bl=null),Di!==null&&Bh(Di)&&(Di=null),Mo!==null&&Bh(Mo)&&(Mo=null),yu.forEach(bu),Rr.forEach(bu)}function cl(p,y){p.blockedOn===y&&(p.blockedOn=null,Fh||(Fh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,u0)))}function wu(p){function y(q){return cl(q,p)}if(0<Pi.length){cl(Pi[0],p);for(var _=1;_<Pi.length;_++){var I=Pi[_];I.blockedOn===p&&(I.blockedOn=null)}}for(Bl!==null&&cl(Bl,p),Di!==null&&cl(Di,p),Mo!==null&&cl(Mo,p),yu.forEach(y),Rr.forEach(y),_=0;_<Ul.length;_++)I=Ul[_],I.blockedOn===p&&(I.blockedOn=null);for(;0<Ul.length&&(_=Ul[0],_.blockedOn===null);)Sp(_),_.blockedOn===null&&Ul.shift()}var Ri=A.ReactCurrentBatchConfig,Uh=!0;function h0(p,y,_,I){var q=Jr,te=Ri.transition;Ri.transition=null;try{Jr=1,zh(p,y,_,I)}finally{Jr=q,Ri.transition=te}}function f0(p,y,_,I){var q=Jr,te=Ri.transition;Ri.transition=null;try{Jr=4,zh(p,y,_,I)}finally{Jr=q,Ri.transition=te}}function zh(p,y,_,I){if(Uh){var q=ju(p,y,_,I);if(q===null)N0(p,y,I,Po,_),Np(p,I);else if(Cc(q,p,y,_,I))I.stopPropagation();else if(Np(p,I),y&4&&-1<tv.indexOf(p)){for(;q!==null;){var te=ef(q);if(te!==null&&wd(te),te=ju(p,y,_,I),te===null&&N0(p,y,I,Po,_),te===q)break;q=te}q!==null&&I.stopPropagation()}else N0(p,y,I,null,_)}}var Po=null;function ju(p,y,_,I){if(Po=null,p=Ne(I),p=Pd(p),p!==null)if(y=Te(p),y===null)p=null;else if(_=y.tag,_===13){if(p=it(y),p!==null)return p;p=null}else if(_===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null);return Po=p,null}function Nu(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yt()){case It:return 1;case Ft:return 4;case Vt:case Nr:return 16;case wr:return 536870912;default:return 16}default:return 16}}var Do=null,kc=null,jd=null;function m0(){if(jd)return jd;var p,y=kc,_=y.length,I,q="value"in Do?Do.value:Do.textContent,te=q.length;for(p=0;p<_&&y[p]===q[p];p++);var pe=_-p;for(I=1;I<=pe&&y[_-I]===q[te-I];I++);return jd=q.slice(p,1<I?1-I:void 0)}function Su(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function Ro(){return!0}function zl(){return!1}function ri(p){function y(_,I,q,te,pe){this._reactName=_,this._targetInst=q,this.type=I,this.nativeEvent=te,this.target=pe,this.currentTarget=null;for(var Be in p)p.hasOwnProperty(Be)&&(_=p[Be],this[Be]=_?_(te):te[Be]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?Ro:zl,this.isPropagationStopped=zl,this}return K(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),y}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$h=ri(Lo),G=K({},Lo,{view:0,detail:0}),he=ri(G),De,He,nt,kt=K({},G,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==nt&&(nt&&p.type==="mousemove"?(De=p.screenX-nt.screenX,He=p.screenY-nt.screenY):He=De=0,nt=p),De)},movementY:function(p){return"movementY"in p?p.movementY:He}}),Ot=ri(kt),fr=K({},kt,{dataTransfer:0}),vr=ri(fr),Ir=K({},G,{relatedTarget:0}),$r=ri(Ir),xn=K({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Rs=ri(xn),sa=K({},Lo,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),is=ri(sa),ma=K({},Lo,{data:0}),Ks=ri(ma),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tc(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=dl[p])?!!y[p]:!1}function _u(){return Tc}var Hh=K({},G,{key:function(p){if(p.key){var y=Ia[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=Su(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Ec[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(p){return p.type==="keypress"?Su(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Su(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Nd=ri(Hh),Au=K({},kt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=ri(Au),_d=K({},G,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Fa=ri(_d),Cu=K({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=ri(Cu),p0=K({},kt,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=ri(p0),vi=[9,13,27,32],ul=l&&"CompositionEvent"in window,$l=null;l&&"documentMode"in document&&($l=document.documentMode);var _p=l&&"TextEvent"in window&&!$l,fo=l&&(!ul||$l&&8<$l&&11>=$l),Ad=" ",Wh=!1;function qh(p,y){switch(p){case"keyup":return vi.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Oo=!1;function mo(p,y){switch(p){case"compositionend":return Mc(y);case"keypress":return y.which!==32?null:(Wh=!0,Ad);case"textInput":return p=y.data,p===Ad&&Wh?null:p;default:return null}}function po(p,y){if(Oo)return p==="compositionend"||!ul&&qh(p,y)?(p=m0(),jd=kc=Do=null,Oo=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return fo&&y.locale!=="ko"?null:y.data;default:return null}}var Cd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hl(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!Cd[p.type]:y==="textarea"}function Pc(p,y,_,I){Nt(I),y=Tp(y,"onChange"),0<y.length&&(_=new $h("onChange","change",null,_,I),p.push({event:_,listeners:y}))}var Dc=null,Wl=null;function Js(p){w0(p,0)}function Eu(p){var y=Bu(p);if(oe(y))return p}function ql(p,y){if(p==="change")return y}var hl=!1;if(l){var Tu;if(l){var Mu="oninput"in document;if(!Mu){var Gh=document.createElement("div");Gh.setAttribute("oninput","return;"),Mu=typeof Gh.oninput=="function"}Tu=Mu}else Tu=!1;hl=Tu&&(!document.documentMode||9<document.documentMode)}function Vh(){Dc&&(Dc.detachEvent("onpropertychange",Rc),Wl=Dc=null)}function Rc(p){if(p.propertyName==="value"&&Eu(Wl)){var y=[];Pc(y,Wl,p,Ne(p)),er(Js,y)}}function kd(p,y,_){p==="focusin"?(Vh(),Dc=y,Wl=_,Dc.attachEvent("onpropertychange",Rc)):p==="focusout"&&Vh()}function Ed(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Eu(Wl)}function Pu(p,y){if(p==="click")return Eu(y)}function Td(p,y){if(p==="input"||p==="change")return Eu(y)}function Du(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var zs=typeof Object.is=="function"?Object.is:Du;function Li(p,y){if(zs(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var _=Object.keys(p),I=Object.keys(y);if(_.length!==I.length)return!1;for(I=0;I<_.length;I++){var q=_[I];if(!c.call(y,q)||!zs(p[q],y[q]))return!1}return!0}function Nn(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Wn(p,y){var _=Nn(p);p=0;for(var I;_;){if(_.nodeType===3){if(I=p+_.textContent.length,p<=y&&I>=y)return{node:_,offset:y-p};p=I}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Nn(_)}}function $s(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?$s(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function aa(){for(var p=window,y=ut();y instanceof p.HTMLIFrameElement;){try{var _=typeof y.contentWindow.location.href=="string"}catch{_=!1}if(_)p=y.contentWindow;else break;y=ut(p.document)}return y}function fl(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}function g0(p){var y=aa(),_=p.focusedElem,I=p.selectionRange;if(y!==_&&_&&_.ownerDocument&&$s(_.ownerDocument.documentElement,_)){if(I!==null&&fl(_)){if(y=I.start,p=I.end,p===void 0&&(p=y),"selectionStart"in _)_.selectionStart=y,_.selectionEnd=Math.min(p,_.value.length);else if(p=(y=_.ownerDocument||document)&&y.defaultView||window,p.getSelection){p=p.getSelection();var q=_.textContent.length,te=Math.min(I.start,q);I=I.end===void 0?te:Math.min(I.end,q),!p.extend&&te>I&&(q=I,I=te,te=q),q=Wn(_,te);var pe=Wn(_,I);q&&pe&&(p.rangeCount!==1||p.anchorNode!==q.node||p.anchorOffset!==q.offset||p.focusNode!==pe.node||p.focusOffset!==pe.offset)&&(y=y.createRange(),y.setStart(q.node,q.offset),p.removeAllRanges(),te>I?(p.addRange(y),p.extend(pe.node,pe.offset)):(y.setEnd(pe.node,pe.offset),p.addRange(y)))}}for(y=[],p=_;p=p.parentNode;)p.nodeType===1&&y.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<y.length;_++)p=y[_],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var Xh=l&&"documentMode"in document&&11>=document.documentMode,Lc=null,Ap=null,Yh=null,Cp=!1;function rv(p,y,_){var I=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Cp||Lc==null||Lc!==ut(I)||(I=Lc,"selectionStart"in I&&fl(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),Yh&&Li(Yh,I)||(Yh=I,I=Tp(Ap,"onSelect"),0<I.length&&(y=new $h("onSelect","select",null,y,_),p.push({event:y,listeners:I}),y.target=Lc)))}function v0(p,y){var _={};return _[p.toLowerCase()]=y.toLowerCase(),_["Webkit"+p]="webkit"+y,_["Moz"+p]="moz"+y,_}var Ru={animationend:v0("Animation","AnimationEnd"),animationiteration:v0("Animation","AnimationIteration"),animationstart:v0("Animation","AnimationStart"),transitionend:v0("Transition","TransitionEnd")},Lu={},nv={};l&&(nv=document.createElement("div").style,"AnimationEvent"in window||(delete Ru.animationend.animation,delete Ru.animationiteration.animation,delete Ru.animationstart.animation),"TransitionEvent"in window||delete Ru.transitionend.transition);function y0(p){if(Lu[p])return Lu[p];if(!Ru[p])return p;var y=Ru[p],_;for(_ in y)if(y.hasOwnProperty(_)&&_ in nv)return Lu[p]=y[_];return p}var sv=y0("animationend"),av=y0("animationiteration"),iv=y0("animationstart"),ov=y0("transitionend"),lv=new Map,cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gl(p,y){lv.set(p,y),i(y,[p])}for(var Kh=0;Kh<cv.length;Kh++){var yi=cv[Kh],Io=yi.toLowerCase(),kp=yi[0].toUpperCase()+yi.slice(1);Gl(Io,"on"+kp)}Gl(sv,"onAnimationEnd"),Gl(av,"onAnimationIteration"),Gl(iv,"onAnimationStart"),Gl("dblclick","onDoubleClick"),Gl("focusin","onFocus"),Gl("focusout","onBlur"),Gl(ov,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Md));function b0(p,y,_){var I=p.type||"unknown-event";p.currentTarget=_,Pe(I,y,void 0,p),p.currentTarget=null}function w0(p,y){y=(y&4)!==0;for(var _=0;_<p.length;_++){var I=p[_],q=I.event;I=I.listeners;e:{var te=void 0;if(y)for(var pe=I.length-1;0<=pe;pe--){var Be=I[pe],Ye=Be.instance,vt=Be.currentTarget;if(Be=Be.listener,Ye!==te&&q.isPropagationStopped())break e;b0(q,Be,vt),te=Ye}else for(pe=0;pe<I.length;pe++){if(Be=I[pe],Ye=Be.instance,vt=Be.currentTarget,Be=Be.listener,Ye!==te&&q.isPropagationStopped())break e;b0(q,Be,vt),te=Ye}}}if(me)throw p=Ee,me=!1,Ee=null,p}function Qn(p,y){var _=y[Ii];_===void 0&&(_=y[Ii]=new Set);var I=p+"__bubble";_.has(I)||(j0(y,p,2,!1),_.add(I))}function Ep(p,y,_){var I=0;y&&(I|=4),j0(_,p,I,y)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Ou(p){if(!p[Jh]){p[Jh]=!0,s.forEach(function(_){_!=="selectionchange"&&(E1.has(_)||Ep(_,!1,p),Ep(_,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[Jh]||(y[Jh]=!0,Ep("selectionchange",!1,y))}}function j0(p,y,_,I){switch(Nu(y)){case 1:var q=h0;break;case 4:q=f0;break;default:q=zh}_=q.bind(null,y,_,p),q=void 0,!js||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(q=!0),I?q!==void 0?p.addEventListener(y,_,{capture:!0,passive:q}):p.addEventListener(y,_,!0):q!==void 0?p.addEventListener(y,_,{passive:q}):p.addEventListener(y,_,!1)}function N0(p,y,_,I,q){var te=I;if((y&1)===0&&(y&2)===0&&I!==null)e:for(;;){if(I===null)return;var pe=I.tag;if(pe===3||pe===4){var Be=I.stateNode.containerInfo;if(Be===q||Be.nodeType===8&&Be.parentNode===q)break;if(pe===4)for(pe=I.return;pe!==null;){var Ye=pe.tag;if((Ye===3||Ye===4)&&(Ye=pe.stateNode.containerInfo,Ye===q||Ye.nodeType===8&&Ye.parentNode===q))return;pe=pe.return}for(;Be!==null;){if(pe=Pd(Be),pe===null)return;if(Ye=pe.tag,Ye===5||Ye===6){I=te=pe;continue e}Be=Be.parentNode}}I=I.return}er(function(){var vt=te,zt=Ne(_),Wt=[];e:{var Ut=lv.get(p);if(Ut!==void 0){var ar=$h,xr=p;switch(p){case"keypress":if(Su(_)===0)break e;case"keydown":case"keyup":ar=Nd;break;case"focusin":xr="focus",ar=$r;break;case"focusout":xr="blur",ar=$r;break;case"beforeblur":case"afterblur":ar=$r;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ar=Ot;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ar=vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ar=Fa;break;case sv:case av:case iv:ar=Rs;break;case ov:ar=ku;break;case"scroll":ar=he;break;case"wheel":ar=x0;break;case"copy":case"cut":case"paste":ar=is;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ar=Sd}var gr=(y&4)!==0,pa=!gr&&p==="scroll",dt=gr?Ut!==null?Ut+"Capture":null:Ut;gr=[];for(var Ze=vt,xt;Ze!==null;){xt=Ze;var Xt=xt.stateNode;if(xt.tag===5&&Xt!==null&&(xt=Xt,dt!==null&&(Xt=bn(Ze,dt),Xt!=null&&gr.push(S0(Ze,Xt,xt)))),pa)break;Ze=Ze.return}0<gr.length&&(Ut=new ar(Ut,xr,null,_,zt),Wt.push({event:Ut,listeners:gr}))}}if((y&7)===0){e:{if(Ut=p==="mouseover"||p==="pointerover",ar=p==="mouseout"||p==="pointerout",Ut&&_!==Ge&&(xr=_.relatedTarget||_.fromElement)&&(Pd(xr)||xr[ni]))break e;if((ar||Ut)&&(Ut=zt.window===zt?zt:(Ut=zt.ownerDocument)?Ut.defaultView||Ut.parentWindow:window,ar?(xr=_.relatedTarget||_.toElement,ar=vt,xr=xr?Pd(xr):null,xr!==null&&(pa=Te(xr),xr!==pa||xr.tag!==5&&xr.tag!==6)&&(xr=null)):(ar=null,xr=vt),ar!==xr)){if(gr=Ot,Xt="onMouseLeave",dt="onMouseEnter",Ze="mouse",(p==="pointerout"||p==="pointerover")&&(gr=Sd,Xt="onPointerLeave",dt="onPointerEnter",Ze="pointer"),pa=ar==null?Ut:Bu(ar),xt=xr==null?Ut:Bu(xr),Ut=new gr(Xt,Ze+"leave",ar,_,zt),Ut.target=pa,Ut.relatedTarget=xt,Xt=null,Pd(zt)===vt&&(gr=new gr(dt,Ze+"enter",xr,_,zt),gr.target=xt,gr.relatedTarget=pa,Xt=gr),pa=Xt,ar&&xr)t:{for(gr=ar,dt=xr,Ze=0,xt=gr;xt;xt=Iu(xt))Ze++;for(xt=0,Xt=dt;Xt;Xt=Iu(Xt))xt++;for(;0<Ze-xt;)gr=Iu(gr),Ze--;for(;0<xt-Ze;)dt=Iu(dt),xt--;for(;Ze--;){if(gr===dt||dt!==null&&gr===dt.alternate)break t;gr=Iu(gr),dt=Iu(dt)}gr=null}else gr=null;ar!==null&&T1(Wt,Ut,ar,gr,!1),xr!==null&&pa!==null&&T1(Wt,pa,xr,gr,!0)}}e:{if(Ut=vt?Bu(vt):window,ar=Ut.nodeName&&Ut.nodeName.toLowerCase(),ar==="select"||ar==="input"&&Ut.type==="file")var br=ql;else if(Hl(Ut))if(hl)br=Td;else{br=Ed;var Tr=kd}else(ar=Ut.nodeName)&&ar.toLowerCase()==="input"&&(Ut.type==="checkbox"||Ut.type==="radio")&&(br=Pu);if(br&&(br=br(p,vt))){Pc(Wt,br,_,zt);break e}Tr&&Tr(p,Ut,vt),p==="focusout"&&(Tr=Ut._wrapperState)&&Tr.controlled&&Ut.type==="number"&&Ie(Ut,"number",Ut.value)}switch(Tr=vt?Bu(vt):window,p){case"focusin":(Hl(Tr)||Tr.contentEditable==="true")&&(Lc=Tr,Ap=vt,Yh=null);break;case"focusout":Yh=Ap=Lc=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,rv(Wt,_,zt);break;case"selectionchange":if(Xh)break;case"keydown":case"keyup":rv(Wt,_,zt)}var Mr;if(ul)e:{switch(p){case"compositionstart":var Br="onCompositionStart";break e;case"compositionend":Br="onCompositionEnd";break e;case"compositionupdate":Br="onCompositionUpdate";break e}Br=void 0}else Oo?qh(p,_)&&(Br="onCompositionEnd"):p==="keydown"&&_.keyCode===229&&(Br="onCompositionStart");Br&&(fo&&_.locale!=="ko"&&(Oo||Br!=="onCompositionStart"?Br==="onCompositionEnd"&&Oo&&(Mr=m0()):(Do=zt,kc="value"in Do?Do.value:Do.textContent,Oo=!0)),Tr=Tp(vt,Br),0<Tr.length&&(Br=new Ks(Br,p,null,_,zt),Wt.push({event:Br,listeners:Tr}),Mr?Br.data=Mr:(Mr=Mc(_),Mr!==null&&(Br.data=Mr)))),(Mr=_p?mo(p,_):po(p,_))&&(vt=Tp(vt,"onBeforeInput"),0<vt.length&&(zt=new Ks("onBeforeInput","beforeinput",null,_,zt),Wt.push({event:zt,listeners:vt}),zt.data=Mr))}w0(Wt,y)})}function S0(p,y,_){return{instance:p,listener:y,currentTarget:_}}function Tp(p,y){for(var _=y+"Capture",I=[];p!==null;){var q=p,te=q.stateNode;q.tag===5&&te!==null&&(q=te,te=bn(p,_),te!=null&&I.unshift(S0(p,te,q)),te=bn(p,y),te!=null&&I.push(S0(p,te,q))),p=p.return}return I}function Iu(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function T1(p,y,_,I,q){for(var te=y._reactName,pe=[];_!==null&&_!==I;){var Be=_,Ye=Be.alternate,vt=Be.stateNode;if(Ye!==null&&Ye===I)break;Be.tag===5&&vt!==null&&(Be=vt,q?(Ye=bn(_,te),Ye!=null&&pe.unshift(S0(_,Ye,Be))):q||(Ye=bn(_,te),Ye!=null&&pe.push(S0(_,Ye,Be)))),_=_.return}pe.length!==0&&p.push({event:y,listeners:pe})}var $5=/\r\n?/g,H5=/\u0000|\uFFFD/g;function M1(p){return(typeof p=="string"?p:""+p).replace($5,`
`).replace(H5,"")}function Mp(p,y,_){if(y=M1(y),M1(p)!==y&&_)throw Error(r(425))}function Qh(){}var _0=null,Fu=null;function dv(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var uv=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,D1=typeof Promise=="function"?Promise:void 0,W5=typeof queueMicrotask=="function"?queueMicrotask:typeof D1<"u"?function(p){return D1.resolve(null).then(p).catch(q5)}:uv;function q5(p){setTimeout(function(){throw p})}function hv(p,y){var _=y,I=0;do{var q=_.nextSibling;if(p.removeChild(_),q&&q.nodeType===8)if(_=q.data,_==="/$"){if(I===0){p.removeChild(q),wu(y);return}I--}else _!=="$"&&_!=="$?"&&_!=="$!"||I++;_=q}while(_);wu(y)}function bi(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?")break;if(y==="/$")return null}}return p}function Fo(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var _=p.data;if(_==="$"||_==="$!"||_==="$?"){if(y===0)return p;y--}else _==="/$"&&y++}p=p.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Vl="__reactFiber$"+Oi,Zh="__reactProps$"+Oi,ni="__reactContainer$"+Oi,Ii="__reactEvents$"+Oi,G5="__reactListeners$"+Oi,V5="__reactHandles$"+Oi;function Pd(p){var y=p[Vl];if(y)return y;for(var _=p.parentNode;_;){if(y=_[ni]||_[Vl]){if(_=y.alternate,y.child!==null||_!==null&&_.child!==null)for(p=Fo(p);p!==null;){if(_=p[Vl])return _;p=Fo(p)}return y}p=_,_=p.parentNode}return null}function ef(p){return p=p[Vl]||p[ni],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Bu(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(r(33))}function A0(p){return p[Zh]||null}var fv=[],Oc=-1;function ml(p){return{current:p}}function zn(p){0>Oc||(p.current=fv[Oc],fv[Oc]=null,Oc--)}function qn(p,y){Oc++,fv[Oc]=p.current,p.current=y}var Dd={},Ba=ml(Dd),Fi=ml(!1),Uu=Dd;function tf(p,y){var _=p.type.contextTypes;if(!_)return Dd;var I=p.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===y)return I.__reactInternalMemoizedMaskedChildContext;var q={},te;for(te in _)q[te]=y[te];return I&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=y,p.__reactInternalMemoizedMaskedChildContext=q),q}function Bi(p){return p=p.childContextTypes,p!=null}function Pp(){zn(Fi),zn(Ba)}function R1(p,y,_){if(Ba.current!==Dd)throw Error(r(168));qn(Ba,y),qn(Fi,_)}function mv(p,y,_){var I=p.stateNode;if(y=y.childContextTypes,typeof I.getChildContext!="function")return _;I=I.getChildContext();for(var q in I)if(!(q in y))throw Error(r(108,fe(p)||"Unknown",q));return K({},_,I)}function zu(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Dd,Uu=Ba.current,qn(Ba,p),qn(Fi,Fi.current),!0}function L1(p,y,_){var I=p.stateNode;if(!I)throw Error(r(169));_?(p=mv(p,y,Uu),I.__reactInternalMemoizedMergedChildContext=p,zn(Fi),zn(Ba),qn(Ba,p)):zn(Fi),qn(Fi,_)}var Ic=null,C0=!1,M=!1;function B(p){Ic===null?Ic=[p]:Ic.push(p)}function Q(p){C0=!0,B(p)}function ne(){if(!M&&Ic!==null){M=!0;var p=0,y=Jr;try{var _=Ic;for(Jr=1;p<_.length;p++){var I=_[p];do I=I(!0);while(I!==null)}Ic=null,C0=!1}catch(q){throw Ic!==null&&(Ic=Ic.slice(p+1)),de(It,ne),q}finally{Jr=y,M=!1}}return null}var ue=[],xe=0,ve=null,be=0,je=[],ke=0,Xe=null,ot=1,Me="";function Je(p,y){ue[xe++]=be,ue[xe++]=ve,ve=p,be=y}function st(p,y,_){je[ke++]=ot,je[ke++]=Me,je[ke++]=Xe,Xe=p;var I=ot;p=Me;var q=32-Er(I)-1;I&=~(1<<q),_+=1;var te=32-Er(y)+q;if(30<te){var pe=q-q%5;te=(I&(1<<pe)-1).toString(32),I>>=pe,q-=pe,ot=1<<32-Er(y)+q|_<<q|I,Me=te+p}else ot=1<<te|_<<q|I,Me=p}function Ct(p){p.return!==null&&(Je(p,1),st(p,1,0))}function ht(p){for(;p===ve;)ve=ue[--xe],ue[xe]=null,be=ue[--xe],ue[xe]=null;for(;p===Xe;)Xe=je[--ke],je[ke]=null,Me=je[--ke],je[ke]=null,ot=je[--ke],je[ke]=null}var jt=null,St=null,Mt=!1,Pt=null;function yr(p,y){var _=Ql(5,null,null,0);_.elementType="DELETED",_.stateNode=y,_.return=p,y=p.deletions,y===null?(p.deletions=[_],p.flags|=16):y.push(_)}function cr(p,y){switch(p.tag){case 5:var _=p.type;return y=y.nodeType!==1||_.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(p.stateNode=y,jt=p,St=bi(y.firstChild),!0):!1;case 6:return y=p.pendingProps===""||y.nodeType!==3?null:y,y!==null?(p.stateNode=y,jt=p,St=null,!0):!1;case 13:return y=y.nodeType!==8?null:y,y!==null?(_=Xe!==null?{id:ot,overflow:Me}:null,p.memoizedState={dehydrated:y,treeContext:_,retryLane:1073741824},_=Ql(18,null,null,0),_.stateNode=y,_.return=p,p.child=_,jt=p,St=null,!0):!1;default:return!1}}function Wr(p){return(p.mode&1)!==0&&(p.flags&128)===0}function mr(p){if(Mt){var y=St;if(y){var _=y;if(!cr(p,y)){if(Wr(p))throw Error(r(418));y=bi(_.nextSibling);var I=jt;y&&cr(p,y)?yr(I,_):(p.flags=p.flags&-4097|2,Mt=!1,jt=p)}}else{if(Wr(p))throw Error(r(418));p.flags=p.flags&-4097|2,Mt=!1,jt=p}}}function dn(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;jt=p}function Hs(p){if(p!==jt)return!1;if(!Mt)return dn(p),Mt=!0,!1;var y;if((y=p.tag!==3)&&!(y=p.tag!==5)&&(y=p.type,y=y!=="head"&&y!=="body"&&!dv(p.type,p.memoizedProps)),y&&(y=St)){if(Wr(p))throw Gr(),Error(r(418));for(;y;)yr(p,y),y=bi(y.nextSibling)}if(dn(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,y=0;p;){if(p.nodeType===8){var _=p.data;if(_==="/$"){if(y===0){St=bi(p.nextSibling);break e}y--}else _!=="$"&&_!=="$!"&&_!=="$?"||y++}p=p.nextSibling}St=null}}else St=jt?bi(p.stateNode.nextSibling):null;return!0}function Gr(){for(var p=St;p;)p=bi(p.nextSibling)}function dr(){St=jt=null,Mt=!1}function Qt(p){Pt===null?Pt=[p]:Pt.push(p)}var Qs=A.ReactCurrentBatchConfig;function Cr(p,y){if(p&&p.defaultProps){y=K({},y),p=p.defaultProps;for(var _ in p)y[_]===void 0&&(y[_]=p[_]);return y}return y}var on=ml(null),Gn=null,Ws=null,Ua=null;function Ns(){Ua=Ws=Gn=null}function Aa(p){var y=on.current;zn(on),p._currentValue=y}function za(p,y,_){for(;p!==null;){var I=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,I!==null&&(I.childLanes|=y)):I!==null&&(I.childLanes&y)!==y&&(I.childLanes|=y),p===_)break;p=p.return}}function Ss(p,y){Gn=p,Ua=Ws=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&y)!==0&&(Ho=!0),p.firstContext=null)}function Hr(p){var y=p._currentValue;if(Ua!==p)if(p={context:p,memoizedValue:y,next:null},Ws===null){if(Gn===null)throw Error(r(308));Ws=p,Gn.dependencies={lanes:0,firstContext:p}}else Ws=Ws.next=p;return y}var un=null;function _s(p){un===null?un=[p]:un.push(p)}function kn(p,y,_,I){var q=y.interleaved;return q===null?(_.next=_,_s(y)):(_.next=q.next,q.next=_),y.interleaved=_,ms(p,I)}function ms(p,y){p.lanes|=y;var _=p.alternate;for(_!==null&&(_.lanes|=y),_=p,p=p.return;p!==null;)p.childLanes|=y,_=p.alternate,_!==null&&(_.childLanes|=y),_=p,p=p.return;return _.tag===3?_.stateNode:null}var Ca=!1;function Ls(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wi(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function hn(p,y){return{eventTime:p,lane:y,tag:0,payload:null,callback:null,next:null}}function os(p,y,_){var I=p.updateQueue;if(I===null)return null;if(I=I.shared,(Sn&2)!==0){var q=I.pending;return q===null?y.next=y:(y.next=q.next,q.next=y),I.pending=y,ms(p,_)}return q=I.interleaved,q===null?(y.next=y,_s(I)):(y.next=q.next,q.next=y),I.interleaved=y,ms(p,_)}function si(p,y,_){if(y=y.updateQueue,y!==null&&(y=y.shared,(_&4194240)!==0)){var I=y.lanes;I&=p.pendingLanes,_|=I,y.lanes=_,Fl(p,_)}}function ai(p,y){var _=p.updateQueue,I=p.alternate;if(I!==null&&(I=I.updateQueue,_===I)){var q=null,te=null;if(_=_.firstBaseUpdate,_!==null){do{var pe={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};te===null?q=te=pe:te=te.next=pe,_=_.next}while(_!==null);te===null?q=te=y:te=te.next=y}else q=te=y;_={baseState:I.baseState,firstBaseUpdate:q,lastBaseUpdate:te,shared:I.shared,effects:I.effects},p.updateQueue=_;return}p=_.lastBaseUpdate,p===null?_.firstBaseUpdate=y:p.next=y,_.lastBaseUpdate=y}function ii(p,y,_,I){var q=p.updateQueue;Ca=!1;var te=q.firstBaseUpdate,pe=q.lastBaseUpdate,Be=q.shared.pending;if(Be!==null){q.shared.pending=null;var Ye=Be,vt=Ye.next;Ye.next=null,pe===null?te=vt:pe.next=vt,pe=Ye;var zt=p.alternate;zt!==null&&(zt=zt.updateQueue,Be=zt.lastBaseUpdate,Be!==pe&&(Be===null?zt.firstBaseUpdate=vt:Be.next=vt,zt.lastBaseUpdate=Ye))}if(te!==null){var Wt=q.baseState;pe=0,zt=vt=Ye=null,Be=te;do{var Ut=Be.lane,ar=Be.eventTime;if((I&Ut)===Ut){zt!==null&&(zt=zt.next={eventTime:ar,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var xr=p,gr=Be;switch(Ut=y,ar=_,gr.tag){case 1:if(xr=gr.payload,typeof xr=="function"){Wt=xr.call(ar,Wt,Ut);break e}Wt=xr;break e;case 3:xr.flags=xr.flags&-65537|128;case 0:if(xr=gr.payload,Ut=typeof xr=="function"?xr.call(ar,Wt,Ut):xr,Ut==null)break e;Wt=K({},Wt,Ut);break e;case 2:Ca=!0}}Be.callback!==null&&Be.lane!==0&&(p.flags|=64,Ut=q.effects,Ut===null?q.effects=[Be]:Ut.push(Be))}else ar={eventTime:ar,lane:Ut,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},zt===null?(vt=zt=ar,Ye=Wt):zt=zt.next=ar,pe|=Ut;if(Be=Be.next,Be===null){if(Be=q.shared.pending,Be===null)break;Ut=Be,Be=Ut.next,Ut.next=null,q.lastBaseUpdate=Ut,q.shared.pending=null}}while(!0);if(zt===null&&(Ye=Wt),q.baseState=Ye,q.firstBaseUpdate=vt,q.lastBaseUpdate=zt,y=q.shared.interleaved,y!==null){q=y;do pe|=q.lane,q=q.next;while(q!==y)}else te===null&&(q.shared.lanes=0);F0|=pe,p.lanes=pe,p.memoizedState=Wt}}function Ui(p,y,_){if(p=y.effects,y.effects=null,p!==null)for(y=0;y<p.length;y++){var I=p[y],q=I.callback;if(q!==null){if(I.callback=null,I=_,typeof q!="function")throw Error(r(191,q));q.call(I)}}}var ji=new t.Component().refs;function Ni(p,y,_,I){y=p.memoizedState,_=_(I,y),_=_==null?y:K({},y,_),p.memoizedState=_,p.lanes===0&&(p.updateQueue.baseState=_)}var $n={isMounted:function(p){return(p=p._reactInternals)?Te(p)===p:!1},enqueueSetState:function(p,y,_){p=p._reactInternals;var I=go(),q=lf(p),te=hn(I,q);te.payload=y,_!=null&&(te.callback=_),y=os(p,te,q),y!==null&&(Hc(y,p,q,I),si(y,p,q))},enqueueReplaceState:function(p,y,_){p=p._reactInternals;var I=go(),q=lf(p),te=hn(I,q);te.tag=1,te.payload=y,_!=null&&(te.callback=_),y=os(p,te,q),y!==null&&(Hc(y,p,q,I),si(y,p,q))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var _=go(),I=lf(p),q=hn(_,I);q.tag=2,y!=null&&(q.callback=y),y=os(p,q,I),y!==null&&(Hc(y,p,I,_),si(y,p,I))}};function zi(p,y,_,I,q,te,pe){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(I,te,pe):y.prototype&&y.prototype.isPureReactComponent?!Li(_,I)||!Li(q,te):!0}function Bo(p,y,_){var I=!1,q=Dd,te=y.contextType;return typeof te=="object"&&te!==null?te=Hr(te):(q=Bi(y)?Uu:Ba.current,I=y.contextTypes,te=(I=I!=null)?tf(p,q):Dd),y=new y(_,te),p.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=$n,p.stateNode=y,y._reactInternals=p,I&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=q,p.__reactInternalMemoizedMaskedChildContext=te),y}function Rd(p,y,_,I){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(_,I),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(_,I),y.state!==p&&$n.enqueueReplaceState(y,y.state,null)}function pl(p,y,_,I){var q=p.stateNode;q.props=_,q.state=p.memoizedState,q.refs=ji,Ls(p);var te=y.contextType;typeof te=="object"&&te!==null?q.context=Hr(te):(te=Bi(y)?Uu:Ba.current,q.context=tf(p,te)),q.state=p.memoizedState,te=y.getDerivedStateFromProps,typeof te=="function"&&(Ni(p,y,te,_),q.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(y=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),y!==q.state&&$n.enqueueReplaceState(q,q.state,null),ii(p,_,q,I),q.state=p.memoizedState),typeof q.componentDidMount=="function"&&(p.flags|=4194308)}function Zs(p,y,_){if(p=_.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(r(309));var I=_.stateNode}if(!I)throw Error(r(147,p));var q=I,te=""+p;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===te?y.ref:(y=function(pe){var Be=q.refs;Be===ji&&(Be=q.refs={}),pe===null?delete Be[te]:Be[te]=pe},y._stringRef=te,y)}if(typeof p!="string")throw Error(r(284));if(!_._owner)throw Error(r(290,p))}return p}function $u(p,y){throw p=Object.prototype.toString.call(y),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p))}function Dp(p){var y=p._init;return y(p._payload)}function k0(p){function y(dt,Ze){if(p){var xt=dt.deletions;xt===null?(dt.deletions=[Ze],dt.flags|=16):xt.push(Ze)}}function _(dt,Ze){if(!p)return null;for(;Ze!==null;)y(dt,Ze),Ze=Ze.sibling;return null}function I(dt,Ze){for(dt=new Map;Ze!==null;)Ze.key!==null?dt.set(Ze.key,Ze):dt.set(Ze.index,Ze),Ze=Ze.sibling;return dt}function q(dt,Ze){return dt=df(dt,Ze),dt.index=0,dt.sibling=null,dt}function te(dt,Ze,xt){return dt.index=xt,p?(xt=dt.alternate,xt!==null?(xt=xt.index,xt<Ze?(dt.flags|=2,Ze):xt):(dt.flags|=2,Ze)):(dt.flags|=1048576,Ze)}function pe(dt){return p&&dt.alternate===null&&(dt.flags|=2),dt}function Be(dt,Ze,xt,Xt){return Ze===null||Ze.tag!==6?(Ze=bS(xt,dt.mode,Xt),Ze.return=dt,Ze):(Ze=q(Ze,xt),Ze.return=dt,Ze)}function Ye(dt,Ze,xt,Xt){var br=xt.type;return br===E?zt(dt,Ze,xt.props.children,Xt,xt.key):Ze!==null&&(Ze.elementType===br||typeof br=="object"&&br!==null&&br.$$typeof===z&&Dp(br)===Ze.type)?(Xt=q(Ze,xt.props),Xt.ref=Zs(dt,Ze,xt),Xt.return=dt,Xt):(Xt=e2(xt.type,xt.key,xt.props,null,dt.mode,Xt),Xt.ref=Zs(dt,Ze,xt),Xt.return=dt,Xt)}function vt(dt,Ze,xt,Xt){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==xt.containerInfo||Ze.stateNode.implementation!==xt.implementation?(Ze=wS(xt,dt.mode,Xt),Ze.return=dt,Ze):(Ze=q(Ze,xt.children||[]),Ze.return=dt,Ze)}function zt(dt,Ze,xt,Xt,br){return Ze===null||Ze.tag!==7?(Ze=$0(xt,dt.mode,Xt,br),Ze.return=dt,Ze):(Ze=q(Ze,xt),Ze.return=dt,Ze)}function Wt(dt,Ze,xt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return Ze=bS(""+Ze,dt.mode,xt),Ze.return=dt,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case j:return xt=e2(Ze.type,Ze.key,Ze.props,null,dt.mode,xt),xt.ref=Zs(dt,null,Ze),xt.return=dt,xt;case S:return Ze=wS(Ze,dt.mode,xt),Ze.return=dt,Ze;case z:var Xt=Ze._init;return Wt(dt,Xt(Ze._payload),xt)}if($e(Ze)||ee(Ze))return Ze=$0(Ze,dt.mode,xt,null),Ze.return=dt,Ze;$u(dt,Ze)}return null}function Ut(dt,Ze,xt,Xt){var br=Ze!==null?Ze.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return br!==null?null:Be(dt,Ze,""+xt,Xt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case j:return xt.key===br?Ye(dt,Ze,xt,Xt):null;case S:return xt.key===br?vt(dt,Ze,xt,Xt):null;case z:return br=xt._init,Ut(dt,Ze,br(xt._payload),Xt)}if($e(xt)||ee(xt))return br!==null?null:zt(dt,Ze,xt,Xt,null);$u(dt,xt)}return null}function ar(dt,Ze,xt,Xt,br){if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number")return dt=dt.get(xt)||null,Be(Ze,dt,""+Xt,br);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case j:return dt=dt.get(Xt.key===null?xt:Xt.key)||null,Ye(Ze,dt,Xt,br);case S:return dt=dt.get(Xt.key===null?xt:Xt.key)||null,vt(Ze,dt,Xt,br);case z:var Tr=Xt._init;return ar(dt,Ze,xt,Tr(Xt._payload),br)}if($e(Xt)||ee(Xt))return dt=dt.get(xt)||null,zt(Ze,dt,Xt,br,null);$u(Ze,Xt)}return null}function xr(dt,Ze,xt,Xt){for(var br=null,Tr=null,Mr=Ze,Br=Ze=0,li=null;Mr!==null&&Br<xt.length;Br++){Mr.index>Br?(li=Mr,Mr=null):li=Mr.sibling;var En=Ut(dt,Mr,xt[Br],Xt);if(En===null){Mr===null&&(Mr=li);break}p&&Mr&&En.alternate===null&&y(dt,Mr),Ze=te(En,Ze,Br),Tr===null?br=En:Tr.sibling=En,Tr=En,Mr=li}if(Br===xt.length)return _(dt,Mr),Mt&&Je(dt,Br),br;if(Mr===null){for(;Br<xt.length;Br++)Mr=Wt(dt,xt[Br],Xt),Mr!==null&&(Ze=te(Mr,Ze,Br),Tr===null?br=Mr:Tr.sibling=Mr,Tr=Mr);return Mt&&Je(dt,Br),br}for(Mr=I(dt,Mr);Br<xt.length;Br++)li=ar(Mr,dt,Br,xt[Br],Xt),li!==null&&(p&&li.alternate!==null&&Mr.delete(li.key===null?Br:li.key),Ze=te(li,Ze,Br),Tr===null?br=li:Tr.sibling=li,Tr=li);return p&&Mr.forEach(function(uf){return y(dt,uf)}),Mt&&Je(dt,Br),br}function gr(dt,Ze,xt,Xt){var br=ee(xt);if(typeof br!="function")throw Error(r(150));if(xt=br.call(xt),xt==null)throw Error(r(151));for(var Tr=br=null,Mr=Ze,Br=Ze=0,li=null,En=xt.next();Mr!==null&&!En.done;Br++,En=xt.next()){Mr.index>Br?(li=Mr,Mr=null):li=Mr.sibling;var uf=Ut(dt,Mr,En.value,Xt);if(uf===null){Mr===null&&(Mr=li);break}p&&Mr&&uf.alternate===null&&y(dt,Mr),Ze=te(uf,Ze,Br),Tr===null?br=uf:Tr.sibling=uf,Tr=uf,Mr=li}if(En.done)return _(dt,Mr),Mt&&Je(dt,Br),br;if(Mr===null){for(;!En.done;Br++,En=xt.next())En=Wt(dt,En.value,Xt),En!==null&&(Ze=te(En,Ze,Br),Tr===null?br=En:Tr.sibling=En,Tr=En);return Mt&&Je(dt,Br),br}for(Mr=I(dt,Mr);!En.done;Br++,En=xt.next())En=ar(Mr,dt,Br,En.value,Xt),En!==null&&(p&&En.alternate!==null&&Mr.delete(En.key===null?Br:En.key),Ze=te(En,Ze,Br),Tr===null?br=En:Tr.sibling=En,Tr=En);return p&&Mr.forEach(function(PZ){return y(dt,PZ)}),Mt&&Je(dt,Br),br}function pa(dt,Ze,xt,Xt){if(typeof xt=="object"&&xt!==null&&xt.type===E&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case j:e:{for(var br=xt.key,Tr=Ze;Tr!==null;){if(Tr.key===br){if(br=xt.type,br===E){if(Tr.tag===7){_(dt,Tr.sibling),Ze=q(Tr,xt.props.children),Ze.return=dt,dt=Ze;break e}}else if(Tr.elementType===br||typeof br=="object"&&br!==null&&br.$$typeof===z&&Dp(br)===Tr.type){_(dt,Tr.sibling),Ze=q(Tr,xt.props),Ze.ref=Zs(dt,Tr,xt),Ze.return=dt,dt=Ze;break e}_(dt,Tr);break}else y(dt,Tr);Tr=Tr.sibling}xt.type===E?(Ze=$0(xt.props.children,dt.mode,Xt,xt.key),Ze.return=dt,dt=Ze):(Xt=e2(xt.type,xt.key,xt.props,null,dt.mode,Xt),Xt.ref=Zs(dt,Ze,xt),Xt.return=dt,dt=Xt)}return pe(dt);case S:e:{for(Tr=xt.key;Ze!==null;){if(Ze.key===Tr)if(Ze.tag===4&&Ze.stateNode.containerInfo===xt.containerInfo&&Ze.stateNode.implementation===xt.implementation){_(dt,Ze.sibling),Ze=q(Ze,xt.children||[]),Ze.return=dt,dt=Ze;break e}else{_(dt,Ze);break}else y(dt,Ze);Ze=Ze.sibling}Ze=wS(xt,dt.mode,Xt),Ze.return=dt,dt=Ze}return pe(dt);case z:return Tr=xt._init,pa(dt,Ze,Tr(xt._payload),Xt)}if($e(xt))return xr(dt,Ze,xt,Xt);if(ee(xt))return gr(dt,Ze,xt,Xt);$u(dt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,Ze!==null&&Ze.tag===6?(_(dt,Ze.sibling),Ze=q(Ze,xt),Ze.return=dt,dt=Ze):(_(dt,Ze),Ze=bS(xt,dt.mode,Xt),Ze.return=dt,dt=Ze),pe(dt)):_(dt,Ze)}return pa}var Xl=k0(!0),O1=k0(!1),E0={},Uo=ml(E0),zo=ml(E0),T0=ml(E0);function Hu(p){if(p===E0)throw Error(r(174));return p}function pv(p,y){switch(qn(T0,y),qn(zo,p),qn(Uo,E0),p=y.nodeType,p){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:Tt(null,"");break;default:p=p===8?y.parentNode:y,y=p.namespaceURI||null,p=p.tagName,y=Tt(y,p)}zn(Uo),qn(Uo,y)}function Wu(){zn(Uo),zn(zo),zn(T0)}function M0(p){Hu(T0.current);var y=Hu(Uo.current),_=Tt(y,p.type);y!==_&&(qn(zo,p),qn(Uo,_))}function Rp(p){zo.current===p&&(zn(Uo),zn(zo))}var As=ml(0);function qu(p){for(var y=p;y!==null;){if(y.tag===13){var _=y.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var P0=[];function Gu(){for(var p=0;p<P0.length;p++)P0[p]._workInProgressVersionPrimary=null;P0.length=0}var D0=A.ReactCurrentDispatcher,xv=A.ReactCurrentBatchConfig,Yl=0,Cs=null,ea=null,ps=null,R0=!1,rf=!1,L0=0,I1=0;function ta(){throw Error(r(321))}function gv(p,y){if(y===null)return!1;for(var _=0;_<y.length&&_<p.length;_++)if(!zs(p[_],y[_]))return!1;return!0}function Lp(p,y,_,I,q,te){if(Yl=te,Cs=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,D0.current=p===null||p.memoizedState===null?sZ:aZ,p=_(I,q),rf){te=0;do{if(rf=!1,L0=0,25<=te)throw Error(r(301));te+=1,ps=ea=null,y.updateQueue=null,D0.current=iZ,p=_(I,q)}while(rf)}if(D0.current=z1,y=ea!==null&&ea.next!==null,Yl=0,ps=ea=Cs=null,R0=!1,y)throw Error(r(300));return p}function vv(){var p=L0!==0;return L0=0,p}function xl(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ps===null?Cs.memoizedState=ps=p:ps=ps.next=p,ps}function $o(){if(ea===null){var p=Cs.alternate;p=p!==null?p.memoizedState:null}else p=ea.next;var y=ps===null?Cs.memoizedState:ps.next;if(y!==null)ps=y,ea=p;else{if(p===null)throw Error(r(310));ea=p,p={memoizedState:ea.memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},ps===null?Cs.memoizedState=ps=p:ps=ps.next=p}return ps}function Fc(p,y){return typeof y=="function"?y(p):y}function O0(p){var y=$o(),_=y.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=p;var I=ea,q=I.baseQueue,te=_.pending;if(te!==null){if(q!==null){var pe=q.next;q.next=te.next,te.next=pe}I.baseQueue=q=te,_.pending=null}if(q!==null){te=q.next,I=I.baseState;var Be=pe=null,Ye=null,vt=te;do{var zt=vt.lane;if((Yl&zt)===zt)Ye!==null&&(Ye=Ye.next={lane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),I=vt.hasEagerState?vt.eagerState:p(I,vt.action);else{var Wt={lane:zt,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null};Ye===null?(Be=Ye=Wt,pe=I):Ye=Ye.next=Wt,Cs.lanes|=zt,F0|=zt}vt=vt.next}while(vt!==null&&vt!==te);Ye===null?pe=I:Ye.next=Be,zs(I,y.memoizedState)||(Ho=!0),y.memoizedState=I,y.baseState=pe,y.baseQueue=Ye,_.lastRenderedState=I}if(p=_.interleaved,p!==null){q=p;do te=q.lane,Cs.lanes|=te,F0|=te,q=q.next;while(q!==p)}else q===null&&(_.lanes=0);return[y.memoizedState,_.dispatch]}function nf(p){var y=$o(),_=y.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=p;var I=_.dispatch,q=_.pending,te=y.memoizedState;if(q!==null){_.pending=null;var pe=q=q.next;do te=p(te,pe.action),pe=pe.next;while(pe!==q);zs(te,y.memoizedState)||(Ho=!0),y.memoizedState=te,y.baseQueue===null&&(y.baseState=te),_.lastRenderedState=te}return[te,I]}function Kl(){}function Bc(p,y){var _=Cs,I=$o(),q=y(),te=!zs(I.memoizedState,q);if(te&&(I.memoizedState=q,Ho=!0),I=I.queue,X5(Op.bind(null,_,I,p),[p]),I.getSnapshot!==y||te||ps!==null&&ps.memoizedState.tag&1){if(_.flags|=2048,Vu(9,I0.bind(null,_,I,q,y),void 0,null),oi===null)throw Error(r(349));(Yl&30)!==0||Uc(_,y,q)}return q}function Uc(p,y,_){p.flags|=16384,p={getSnapshot:y,value:_},y=Cs.updateQueue,y===null?(y={lastEffect:null,stores:null},Cs.updateQueue=y,y.stores=[p]):(_=y.stores,_===null?y.stores=[p]:_.push(p))}function I0(p,y,_,I){y.value=_,y.getSnapshot=I,yv(y)&&F1(p)}function Op(p,y,_){return _(function(){yv(y)&&F1(p)})}function yv(p){var y=p.getSnapshot;p=p.value;try{var _=y();return!zs(p,_)}catch{return!0}}function F1(p){var y=ms(p,1);y!==null&&Hc(y,p,1,-1)}function Ip(p){var y=xl();return typeof p=="function"&&(p=p()),y.memoizedState=y.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:p},y.queue=p,p=p.dispatch=nZ.bind(null,Cs,p),[y.memoizedState,p]}function Vu(p,y,_,I){return p={tag:p,create:y,destroy:_,deps:I,next:null},y=Cs.updateQueue,y===null?(y={lastEffect:null,stores:null},Cs.updateQueue=y,y.lastEffect=p.next=p):(_=y.lastEffect,_===null?y.lastEffect=p.next=p:(I=_.next,_.next=p,p.next=I,y.lastEffect=p)),p}function d8(){return $o().memoizedState}function B1(p,y,_,I){var q=xl();Cs.flags|=p,q.memoizedState=Vu(1|y,_,void 0,I===void 0?null:I)}function U1(p,y,_,I){var q=$o();I=I===void 0?null:I;var te=void 0;if(ea!==null){var pe=ea.memoizedState;if(te=pe.destroy,I!==null&&gv(I,pe.deps)){q.memoizedState=Vu(y,_,te,I);return}}Cs.flags|=p,q.memoizedState=Vu(1|y,_,te,I)}function u8(p,y){return B1(8390656,8,p,y)}function X5(p,y){return U1(2048,8,p,y)}function h8(p,y){return U1(4,2,p,y)}function f8(p,y){return U1(4,4,p,y)}function m8(p,y){if(typeof y=="function")return p=p(),y(p),function(){y(null)};if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function p8(p,y,_){return _=_!=null?_.concat([p]):null,U1(4,4,m8.bind(null,y,p),_)}function Y5(){}function x8(p,y){var _=$o();y=y===void 0?null:y;var I=_.memoizedState;return I!==null&&y!==null&&gv(y,I[1])?I[0]:(_.memoizedState=[p,y],p)}function g8(p,y){var _=$o();y=y===void 0?null:y;var I=_.memoizedState;return I!==null&&y!==null&&gv(y,I[1])?I[0]:(p=p(),_.memoizedState=[p,y],p)}function v8(p,y,_){return(Yl&21)===0?(p.baseState&&(p.baseState=!1,Ho=!0),p.memoizedState=_):(zs(_,y)||(_=Sa(),Cs.lanes|=_,F0|=_,p.baseState=!0),y)}function tZ(p,y){var _=Jr;Jr=_!==0&&4>_?_:4,p(!0);var I=xv.transition;xv.transition={};try{p(!1),y()}finally{Jr=_,xv.transition=I}}function y8(){return $o().memoizedState}function rZ(p,y,_){var I=lf(p);if(_={lane:I,action:_,hasEagerState:!1,eagerState:null,next:null},b8(p))w8(y,_);else if(_=kn(p,y,_,I),_!==null){var q=go();Hc(_,p,I,q),j8(_,y,I)}}function nZ(p,y,_){var I=lf(p),q={lane:I,action:_,hasEagerState:!1,eagerState:null,next:null};if(b8(p))w8(y,q);else{var te=p.alternate;if(p.lanes===0&&(te===null||te.lanes===0)&&(te=y.lastRenderedReducer,te!==null))try{var pe=y.lastRenderedState,Be=te(pe,_);if(q.hasEagerState=!0,q.eagerState=Be,zs(Be,pe)){var Ye=y.interleaved;Ye===null?(q.next=q,_s(y)):(q.next=Ye.next,Ye.next=q),y.interleaved=q;return}}catch{}finally{}_=kn(p,y,q,I),_!==null&&(q=go(),Hc(_,p,I,q),j8(_,y,I))}}function b8(p){var y=p.alternate;return p===Cs||y!==null&&y===Cs}function w8(p,y){rf=R0=!0;var _=p.pending;_===null?y.next=y:(y.next=_.next,_.next=y),p.pending=y}function j8(p,y,_){if((_&4194240)!==0){var I=y.lanes;I&=p.pendingLanes,_|=I,y.lanes=_,Fl(p,_)}}var z1={readContext:Hr,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useInsertionEffect:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useSyncExternalStore:ta,useId:ta,unstable_isNewReconciler:!1},sZ={readContext:Hr,useCallback:function(p,y){return xl().memoizedState=[p,y===void 0?null:y],p},useContext:Hr,useEffect:u8,useImperativeHandle:function(p,y,_){return _=_!=null?_.concat([p]):null,B1(4194308,4,m8.bind(null,y,p),_)},useLayoutEffect:function(p,y){return B1(4194308,4,p,y)},useInsertionEffect:function(p,y){return B1(4,2,p,y)},useMemo:function(p,y){var _=xl();return y=y===void 0?null:y,p=p(),_.memoizedState=[p,y],p},useReducer:function(p,y,_){var I=xl();return y=_!==void 0?_(y):y,I.memoizedState=I.baseState=y,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:y},I.queue=p,p=p.dispatch=rZ.bind(null,Cs,p),[I.memoizedState,p]},useRef:function(p){var y=xl();return p={current:p},y.memoizedState=p},useState:Ip,useDebugValue:Y5,useDeferredValue:function(p){return xl().memoizedState=p},useTransition:function(){var p=Ip(!1),y=p[0];return p=tZ.bind(null,p[1]),xl().memoizedState=p,[y,p]},useMutableSource:function(){},useSyncExternalStore:function(p,y,_){var I=Cs,q=xl();if(Mt){if(_===void 0)throw Error(r(407));_=_()}else{if(_=y(),oi===null)throw Error(r(349));(Yl&30)!==0||Uc(I,y,_)}q.memoizedState=_;var te={value:_,getSnapshot:y};return q.queue=te,u8(Op.bind(null,I,te,p),[p]),I.flags|=2048,Vu(9,I0.bind(null,I,te,_,y),void 0,null),_},useId:function(){var p=xl(),y=oi.identifierPrefix;if(Mt){var _=Me,I=ot;_=(I&~(1<<32-Er(I)-1)).toString(32)+_,y=":"+y+"R"+_,_=L0++,0<_&&(y+="H"+_.toString(32)),y+=":"}else _=I1++,y=":"+y+"r"+_.toString(32)+":";return p.memoizedState=y},unstable_isNewReconciler:!1},aZ={readContext:Hr,useCallback:x8,useContext:Hr,useEffect:X5,useImperativeHandle:p8,useInsertionEffect:h8,useLayoutEffect:f8,useMemo:g8,useReducer:O0,useRef:d8,useState:function(){return O0(Fc)},useDebugValue:Y5,useDeferredValue:function(p){var y=$o();return v8(y,ea.memoizedState,p)},useTransition:function(){var p=O0(Fc)[0],y=$o().memoizedState;return[p,y]},useMutableSource:Kl,useSyncExternalStore:Bc,useId:y8,unstable_isNewReconciler:!1},iZ={readContext:Hr,useCallback:x8,useContext:Hr,useEffect:X5,useImperativeHandle:p8,useInsertionEffect:h8,useLayoutEffect:f8,useMemo:g8,useReducer:nf,useRef:d8,useState:function(){return nf(Fc)},useDebugValue:Y5,useDeferredValue:function(p){var y=$o();return ea===null?y.memoizedState=p:v8(y,ea.memoizedState,p)},useTransition:function(){var p=nf(Fc)[0],y=$o().memoizedState;return[p,y]},useMutableSource:Kl,useSyncExternalStore:Bc,useId:y8,unstable_isNewReconciler:!1};function Fp(p,y){try{var _="",I=y;do _+=Z(I),I=I.return;while(I);var q=_}catch(te){q=`
Error generating stack: `+te.message+`
`+te.stack}return{value:p,source:y,stack:q,digest:null}}function K5(p,y,_){return{value:p,source:null,stack:_??null,digest:y??null}}function J5(p,y){try{console.error(y.value)}catch(_){setTimeout(function(){throw _})}}var oZ=typeof WeakMap=="function"?WeakMap:Map;function N8(p,y,_){_=hn(-1,_),_.tag=3,_.payload={element:null};var I=y.value;return _.callback=function(){X1||(X1=!0,hS=I),J5(p,y)},_}function S8(p,y,_){_=hn(-1,_),_.tag=3;var I=p.type.getDerivedStateFromError;if(typeof I=="function"){var q=y.value;_.payload=function(){return I(q)},_.callback=function(){J5(p,y)}}var te=p.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(_.callback=function(){J5(p,y),typeof I!="function"&&(af===null?af=new Set([this]):af.add(this));var pe=y.stack;this.componentDidCatch(y.value,{componentStack:pe!==null?pe:""})}),_}function _8(p,y,_){var I=p.pingCache;if(I===null){I=p.pingCache=new oZ;var q=new Set;I.set(y,q)}else q=I.get(y),q===void 0&&(q=new Set,I.set(y,q));q.has(_)||(q.add(_),p=wZ.bind(null,p,y,_),y.then(p,p))}function A8(p){do{var y;if((y=p.tag===13)&&(y=p.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return p;p=p.return}while(p!==null);return null}function C8(p,y,_,I,q){return(p.mode&1)===0?(p===y?p.flags|=65536:(p.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(y=hn(-1,1),y.tag=2,os(_,y,1))),_.lanes|=1),p):(p.flags|=65536,p.lanes=q,p)}var lZ=A.ReactCurrentOwner,Ho=!1;function xo(p,y,_,I){y.child=p===null?O1(y,null,_,I):Xl(y,p.child,_,I)}function k8(p,y,_,I,q){_=_.render;var te=y.ref;return Ss(y,q),I=Lp(p,y,_,I,te,q),_=vv(),p!==null&&!Ho?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~q,Xu(p,y,q)):(Mt&&_&&Ct(y),y.flags|=1,xo(p,y,I,q),y.child)}function E8(p,y,_,I,q){if(p===null){var te=_.type;return typeof te=="function"&&!yS(te)&&te.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(y.tag=15,y.type=te,T8(p,y,te,I,q)):(p=e2(_.type,null,I,y,y.mode,q),p.ref=y.ref,p.return=y,y.child=p)}if(te=p.child,(p.lanes&q)===0){var pe=te.memoizedProps;if(_=_.compare,_=_!==null?_:Li,_(pe,I)&&p.ref===y.ref)return Xu(p,y,q)}return y.flags|=1,p=df(te,I),p.ref=y.ref,p.return=y,y.child=p}function T8(p,y,_,I,q){if(p!==null){var te=p.memoizedProps;if(Li(te,I)&&p.ref===y.ref)if(Ho=!1,y.pendingProps=I=te,(p.lanes&q)!==0)(p.flags&131072)!==0&&(Ho=!0);else return y.lanes=p.lanes,Xu(p,y,q)}return Q5(p,y,_,I,q)}function M8(p,y,_){var I=y.pendingProps,q=I.children,te=p!==null?p.memoizedState:null;if(I.mode==="hidden")if((y.mode&1)===0)y.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Up,gl),gl|=_;else{if((_&1073741824)===0)return p=te!==null?te.baseLanes|_:_,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:p,cachePool:null,transitions:null},y.updateQueue=null,qn(Up,gl),gl|=p,null;y.memoizedState={baseLanes:0,cachePool:null,transitions:null},I=te!==null?te.baseLanes:_,qn(Up,gl),gl|=I}else te!==null?(I=te.baseLanes|_,y.memoizedState=null):I=_,qn(Up,gl),gl|=I;return xo(p,y,q,_),y.child}function P8(p,y){var _=y.ref;(p===null&&_!==null||p!==null&&p.ref!==_)&&(y.flags|=512,y.flags|=2097152)}function Q5(p,y,_,I,q){var te=Bi(_)?Uu:Ba.current;return te=tf(y,te),Ss(y,q),_=Lp(p,y,_,I,te,q),I=vv(),p!==null&&!Ho?(y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~q,Xu(p,y,q)):(Mt&&I&&Ct(y),y.flags|=1,xo(p,y,_,q),y.child)}function D8(p,y,_,I,q){if(Bi(_)){var te=!0;zu(y)}else te=!1;if(Ss(y,q),y.stateNode===null)H1(p,y),Bo(y,_,I),pl(y,_,I,q),I=!0;else if(p===null){var pe=y.stateNode,Be=y.memoizedProps;pe.props=Be;var Ye=pe.context,vt=_.contextType;typeof vt=="object"&&vt!==null?vt=Hr(vt):(vt=Bi(_)?Uu:Ba.current,vt=tf(y,vt));var zt=_.getDerivedStateFromProps,Wt=typeof zt=="function"||typeof pe.getSnapshotBeforeUpdate=="function";Wt||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Be!==I||Ye!==vt)&&Rd(y,pe,I,vt),Ca=!1;var Ut=y.memoizedState;pe.state=Ut,ii(y,I,pe,q),Ye=y.memoizedState,Be!==I||Ut!==Ye||Fi.current||Ca?(typeof zt=="function"&&(Ni(y,_,zt,I),Ye=y.memoizedState),(Be=Ca||zi(y,_,Be,I,Ut,Ye,vt))?(Wt||typeof pe.UNSAFE_componentWillMount!="function"&&typeof pe.componentWillMount!="function"||(typeof pe.componentWillMount=="function"&&pe.componentWillMount(),typeof pe.UNSAFE_componentWillMount=="function"&&pe.UNSAFE_componentWillMount()),typeof pe.componentDidMount=="function"&&(y.flags|=4194308)):(typeof pe.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=I,y.memoizedState=Ye),pe.props=I,pe.state=Ye,pe.context=vt,I=Be):(typeof pe.componentDidMount=="function"&&(y.flags|=4194308),I=!1)}else{pe=y.stateNode,wi(p,y),Be=y.memoizedProps,vt=y.type===y.elementType?Be:Cr(y.type,Be),pe.props=vt,Wt=y.pendingProps,Ut=pe.context,Ye=_.contextType,typeof Ye=="object"&&Ye!==null?Ye=Hr(Ye):(Ye=Bi(_)?Uu:Ba.current,Ye=tf(y,Ye));var ar=_.getDerivedStateFromProps;(zt=typeof ar=="function"||typeof pe.getSnapshotBeforeUpdate=="function")||typeof pe.UNSAFE_componentWillReceiveProps!="function"&&typeof pe.componentWillReceiveProps!="function"||(Be!==Wt||Ut!==Ye)&&Rd(y,pe,I,Ye),Ca=!1,Ut=y.memoizedState,pe.state=Ut,ii(y,I,pe,q);var xr=y.memoizedState;Be!==Wt||Ut!==xr||Fi.current||Ca?(typeof ar=="function"&&(Ni(y,_,ar,I),xr=y.memoizedState),(vt=Ca||zi(y,_,vt,I,Ut,xr,Ye)||!1)?(zt||typeof pe.UNSAFE_componentWillUpdate!="function"&&typeof pe.componentWillUpdate!="function"||(typeof pe.componentWillUpdate=="function"&&pe.componentWillUpdate(I,xr,Ye),typeof pe.UNSAFE_componentWillUpdate=="function"&&pe.UNSAFE_componentWillUpdate(I,xr,Ye)),typeof pe.componentDidUpdate=="function"&&(y.flags|=4),typeof pe.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof pe.componentDidUpdate!="function"||Be===p.memoizedProps&&Ut===p.memoizedState||(y.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Be===p.memoizedProps&&Ut===p.memoizedState||(y.flags|=1024),y.memoizedProps=I,y.memoizedState=xr),pe.props=I,pe.state=xr,pe.context=Ye,I=vt):(typeof pe.componentDidUpdate!="function"||Be===p.memoizedProps&&Ut===p.memoizedState||(y.flags|=4),typeof pe.getSnapshotBeforeUpdate!="function"||Be===p.memoizedProps&&Ut===p.memoizedState||(y.flags|=1024),I=!1)}return Z5(p,y,_,I,te,q)}function Z5(p,y,_,I,q,te){P8(p,y);var pe=(y.flags&128)!==0;if(!I&&!pe)return q&&L1(y,_,!1),Xu(p,y,te);I=y.stateNode,lZ.current=y;var Be=pe&&typeof _.getDerivedStateFromError!="function"?null:I.render();return y.flags|=1,p!==null&&pe?(y.child=Xl(y,p.child,null,te),y.child=Xl(y,null,Be,te)):xo(p,y,Be,te),y.memoizedState=I.state,q&&L1(y,_,!0),y.child}function R8(p){var y=p.stateNode;y.pendingContext?R1(p,y.pendingContext,y.pendingContext!==y.context):y.context&&R1(p,y.context,!1),pv(p,y.containerInfo)}function L8(p,y,_,I,q){return dr(),Qt(q),y.flags|=256,xo(p,y,_,I),y.child}var eS={dehydrated:null,treeContext:null,retryLane:0};function tS(p){return{baseLanes:p,cachePool:null,transitions:null}}function O8(p,y,_){var I=y.pendingProps,q=As.current,te=!1,pe=(y.flags&128)!==0,Be;if((Be=pe)||(Be=p!==null&&p.memoizedState===null?!1:(q&2)!==0),Be?(te=!0,y.flags&=-129):(p===null||p.memoizedState!==null)&&(q|=1),qn(As,q&1),p===null)return mr(y),p=y.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((y.mode&1)===0?y.lanes=1:p.data==="$!"?y.lanes=8:y.lanes=1073741824,null):(pe=I.children,p=I.fallback,te?(I=y.mode,te=y.child,pe={mode:"hidden",children:pe},(I&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=pe):te=t2(pe,I,0,null),p=$0(p,I,_,null),te.return=y,p.return=y,te.sibling=p,y.child=te,y.child.memoizedState=tS(_),y.memoizedState=eS,p):rS(y,pe));if(q=p.memoizedState,q!==null&&(Be=q.dehydrated,Be!==null))return cZ(p,y,pe,I,Be,q,_);if(te){te=I.fallback,pe=y.mode,q=p.child,Be=q.sibling;var Ye={mode:"hidden",children:I.children};return(pe&1)===0&&y.child!==q?(I=y.child,I.childLanes=0,I.pendingProps=Ye,y.deletions=null):(I=df(q,Ye),I.subtreeFlags=q.subtreeFlags&14680064),Be!==null?te=df(Be,te):(te=$0(te,pe,_,null),te.flags|=2),te.return=y,I.return=y,I.sibling=te,y.child=I,I=te,te=y.child,pe=p.child.memoizedState,pe=pe===null?tS(_):{baseLanes:pe.baseLanes|_,cachePool:null,transitions:pe.transitions},te.memoizedState=pe,te.childLanes=p.childLanes&~_,y.memoizedState=eS,I}return te=p.child,p=te.sibling,I=df(te,{mode:"visible",children:I.children}),(y.mode&1)===0&&(I.lanes=_),I.return=y,I.sibling=null,p!==null&&(_=y.deletions,_===null?(y.deletions=[p],y.flags|=16):_.push(p)),y.child=I,y.memoizedState=null,I}function rS(p,y){return y=t2({mode:"visible",children:y},p.mode,0,null),y.return=p,p.child=y}function $1(p,y,_,I){return I!==null&&Qt(I),Xl(y,p.child,null,_),p=rS(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function cZ(p,y,_,I,q,te,pe){if(_)return y.flags&256?(y.flags&=-257,I=K5(Error(r(422))),$1(p,y,pe,I)):y.memoizedState!==null?(y.child=p.child,y.flags|=128,null):(te=I.fallback,q=y.mode,I=t2({mode:"visible",children:I.children},q,0,null),te=$0(te,q,pe,null),te.flags|=2,I.return=y,te.return=y,I.sibling=te,y.child=I,(y.mode&1)!==0&&Xl(y,p.child,null,pe),y.child.memoizedState=tS(pe),y.memoizedState=eS,te);if((y.mode&1)===0)return $1(p,y,pe,null);if(q.data==="$!"){if(I=q.nextSibling&&q.nextSibling.dataset,I)var Be=I.dgst;return I=Be,te=Error(r(419)),I=K5(te,I,void 0),$1(p,y,pe,I)}if(Be=(pe&p.childLanes)!==0,Ho||Be){if(I=oi,I!==null){switch(pe&-pe){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}q=(q&(I.suspendedLanes|pe))!==0?0:q,q!==0&&q!==te.retryLane&&(te.retryLane=q,ms(p,q),Hc(I,p,q,-1))}return vS(),I=K5(Error(r(421))),$1(p,y,pe,I)}return q.data==="$?"?(y.flags|=128,y.child=p.child,y=jZ.bind(null,p),q._reactRetry=y,null):(p=te.treeContext,St=bi(q.nextSibling),jt=y,Mt=!0,Pt=null,p!==null&&(je[ke++]=ot,je[ke++]=Me,je[ke++]=Xe,ot=p.id,Me=p.overflow,Xe=y),y=rS(y,I.children),y.flags|=4096,y)}function I8(p,y,_){p.lanes|=y;var I=p.alternate;I!==null&&(I.lanes|=y),za(p.return,y,_)}function nS(p,y,_,I,q){var te=p.memoizedState;te===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:I,tail:_,tailMode:q}:(te.isBackwards=y,te.rendering=null,te.renderingStartTime=0,te.last=I,te.tail=_,te.tailMode=q)}function F8(p,y,_){var I=y.pendingProps,q=I.revealOrder,te=I.tail;if(xo(p,y,I.children,_),I=As.current,(I&2)!==0)I=I&1|2,y.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&I8(p,_,y);else if(p.tag===19)I8(p,_,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}I&=1}if(qn(As,I),(y.mode&1)===0)y.memoizedState=null;else switch(q){case"forwards":for(_=y.child,q=null;_!==null;)p=_.alternate,p!==null&&qu(p)===null&&(q=_),_=_.sibling;_=q,_===null?(q=y.child,y.child=null):(q=_.sibling,_.sibling=null),nS(y,!1,q,_,te);break;case"backwards":for(_=null,q=y.child,y.child=null;q!==null;){if(p=q.alternate,p!==null&&qu(p)===null){y.child=q;break}p=q.sibling,q.sibling=_,_=q,q=p}nS(y,!0,_,null,te);break;case"together":nS(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function H1(p,y){(y.mode&1)===0&&p!==null&&(p.alternate=null,y.alternate=null,y.flags|=2)}function Xu(p,y,_){if(p!==null&&(y.dependencies=p.dependencies),F0|=y.lanes,(_&y.childLanes)===0)return null;if(p!==null&&y.child!==p.child)throw Error(r(153));if(y.child!==null){for(p=y.child,_=df(p,p.pendingProps),y.child=_,_.return=y;p.sibling!==null;)p=p.sibling,_=_.sibling=df(p,p.pendingProps),_.return=y;_.sibling=null}return y.child}function dZ(p,y,_){switch(y.tag){case 3:R8(y),dr();break;case 5:M0(y);break;case 1:Bi(y.type)&&zu(y);break;case 4:pv(y,y.stateNode.containerInfo);break;case 10:var I=y.type._context,q=y.memoizedProps.value;qn(on,I._currentValue),I._currentValue=q;break;case 13:if(I=y.memoizedState,I!==null)return I.dehydrated!==null?(qn(As,As.current&1),y.flags|=128,null):(_&y.child.childLanes)!==0?O8(p,y,_):(qn(As,As.current&1),p=Xu(p,y,_),p!==null?p.sibling:null);qn(As,As.current&1);break;case 19:if(I=(_&y.childLanes)!==0,(p.flags&128)!==0){if(I)return F8(p,y,_);y.flags|=128}if(q=y.memoizedState,q!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),qn(As,As.current),I)break;return null;case 22:case 23:return y.lanes=0,M8(p,y,_)}return Xu(p,y,_)}var B8,sS,U8,z8;B8=function(p,y){for(var _=y.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===y)break;for(;_.sibling===null;){if(_.return===null||_.return===y)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},sS=function(){},U8=function(p,y,_,I){var q=p.memoizedProps;if(q!==I){p=y.stateNode,Hu(Uo.current);var te=null;switch(_){case"input":q=se(p,q),I=se(p,I),te=[];break;case"select":q=K({},q,{value:void 0}),I=K({},I,{value:void 0}),te=[];break;case"textarea":q=ae(p,q),I=ae(p,I),te=[];break;default:typeof q.onClick!="function"&&typeof I.onClick=="function"&&(p.onclick=Qh)}or(_,I);var pe;_=null;for(vt in q)if(!I.hasOwnProperty(vt)&&q.hasOwnProperty(vt)&&q[vt]!=null)if(vt==="style"){var Be=q[vt];for(pe in Be)Be.hasOwnProperty(pe)&&(_||(_={}),_[pe]="")}else vt!=="dangerouslySetInnerHTML"&&vt!=="children"&&vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&vt!=="autoFocus"&&(a.hasOwnProperty(vt)?te||(te=[]):(te=te||[]).push(vt,null));for(vt in I){var Ye=I[vt];if(Be=q!=null?q[vt]:void 0,I.hasOwnProperty(vt)&&Ye!==Be&&(Ye!=null||Be!=null))if(vt==="style")if(Be){for(pe in Be)!Be.hasOwnProperty(pe)||Ye&&Ye.hasOwnProperty(pe)||(_||(_={}),_[pe]="");for(pe in Ye)Ye.hasOwnProperty(pe)&&Be[pe]!==Ye[pe]&&(_||(_={}),_[pe]=Ye[pe])}else _||(te||(te=[]),te.push(vt,_)),_=Ye;else vt==="dangerouslySetInnerHTML"?(Ye=Ye?Ye.__html:void 0,Be=Be?Be.__html:void 0,Ye!=null&&Be!==Ye&&(te=te||[]).push(vt,Ye)):vt==="children"?typeof Ye!="string"&&typeof Ye!="number"||(te=te||[]).push(vt,""+Ye):vt!=="suppressContentEditableWarning"&&vt!=="suppressHydrationWarning"&&(a.hasOwnProperty(vt)?(Ye!=null&&vt==="onScroll"&&Qn("scroll",p),te||Be===Ye||(te=[])):(te=te||[]).push(vt,Ye))}_&&(te=te||[]).push("style",_);var vt=te;(y.updateQueue=vt)&&(y.flags|=4)}},z8=function(p,y,_,I){_!==I&&(y.flags|=4)};function bv(p,y){if(!Mt)switch(p.tailMode){case"hidden":y=p.tail;for(var _=null;y!==null;)y.alternate!==null&&(_=y),y=y.sibling;_===null?p.tail=null:_.sibling=null;break;case"collapsed":_=p.tail;for(var I=null;_!==null;)_.alternate!==null&&(I=_),_=_.sibling;I===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:I.sibling=null}}function $i(p){var y=p.alternate!==null&&p.alternate.child===p.child,_=0,I=0;if(y)for(var q=p.child;q!==null;)_|=q.lanes|q.childLanes,I|=q.subtreeFlags&14680064,I|=q.flags&14680064,q.return=p,q=q.sibling;else for(q=p.child;q!==null;)_|=q.lanes|q.childLanes,I|=q.subtreeFlags,I|=q.flags,q.return=p,q=q.sibling;return p.subtreeFlags|=I,p.childLanes=_,y}function uZ(p,y,_){var I=y.pendingProps;switch(ht(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(y),null;case 1:return Bi(y.type)&&Pp(),$i(y),null;case 3:return I=y.stateNode,Wu(),zn(Fi),zn(Ba),Gu(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(p===null||p.child===null)&&(Hs(y)?y.flags|=4:p===null||p.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,Pt!==null&&(pS(Pt),Pt=null))),sS(p,y),$i(y),null;case 5:Rp(y);var q=Hu(T0.current);if(_=y.type,p!==null&&y.stateNode!=null)U8(p,y,_,I,q),p.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!I){if(y.stateNode===null)throw Error(r(166));return $i(y),null}if(p=Hu(Uo.current),Hs(y)){I=y.stateNode,_=y.type;var te=y.memoizedProps;switch(I[Vl]=y,I[Zh]=te,p=(y.mode&1)!==0,_){case"dialog":Qn("cancel",I),Qn("close",I);break;case"iframe":case"object":case"embed":Qn("load",I);break;case"video":case"audio":for(q=0;q<Md.length;q++)Qn(Md[q],I);break;case"source":Qn("error",I);break;case"img":case"image":case"link":Qn("error",I),Qn("load",I);break;case"details":Qn("toggle",I);break;case"input":J(I,te),Qn("invalid",I);break;case"select":I._wrapperState={wasMultiple:!!te.multiple},Qn("invalid",I);break;case"textarea":_e(I,te),Qn("invalid",I)}or(_,te),q=null;for(var pe in te)if(te.hasOwnProperty(pe)){var Be=te[pe];pe==="children"?typeof Be=="string"?I.textContent!==Be&&(te.suppressHydrationWarning!==!0&&Mp(I.textContent,Be,p),q=["children",Be]):typeof Be=="number"&&I.textContent!==""+Be&&(te.suppressHydrationWarning!==!0&&Mp(I.textContent,Be,p),q=["children",""+Be]):a.hasOwnProperty(pe)&&Be!=null&&pe==="onScroll"&&Qn("scroll",I)}switch(_){case"input":Re(I),Fe(I,te,!0);break;case"textarea":Re(I),Ke(I);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(I.onclick=Qh)}I=q,y.updateQueue=I,I!==null&&(y.flags|=4)}else{pe=q.nodeType===9?q:q.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=et(_)),p==="http://www.w3.org/1999/xhtml"?_==="script"?(p=pe.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof I.is=="string"?p=pe.createElement(_,{is:I.is}):(p=pe.createElement(_),_==="select"&&(pe=p,I.multiple?pe.multiple=!0:I.size&&(pe.size=I.size))):p=pe.createElementNS(p,_),p[Vl]=y,p[Zh]=I,B8(p,y,!1,!1),y.stateNode=p;e:{switch(pe=Bt(_,I),_){case"dialog":Qn("cancel",p),Qn("close",p),q=I;break;case"iframe":case"object":case"embed":Qn("load",p),q=I;break;case"video":case"audio":for(q=0;q<Md.length;q++)Qn(Md[q],p);q=I;break;case"source":Qn("error",p),q=I;break;case"img":case"image":case"link":Qn("error",p),Qn("load",p),q=I;break;case"details":Qn("toggle",p),q=I;break;case"input":J(p,I),q=se(p,I),Qn("invalid",p);break;case"option":q=I;break;case"select":p._wrapperState={wasMultiple:!!I.multiple},q=K({},I,{value:void 0}),Qn("invalid",p);break;case"textarea":_e(p,I),q=ae(p,I),Qn("invalid",p);break;default:q=I}or(_,q),Be=q;for(te in Be)if(Be.hasOwnProperty(te)){var Ye=Be[te];te==="style"?$t(p,Ye):te==="dangerouslySetInnerHTML"?(Ye=Ye?Ye.__html:void 0,Ye!=null&&gt(p,Ye)):te==="children"?typeof Ye=="string"?(_!=="textarea"||Ye!=="")&&At(p,Ye):typeof Ye=="number"&&At(p,""+Ye):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(a.hasOwnProperty(te)?Ye!=null&&te==="onScroll"&&Qn("scroll",p):Ye!=null&&w(p,te,Ye,pe))}switch(_){case"input":Re(p),Fe(p,I,!1);break;case"textarea":Re(p),Ke(p);break;case"option":I.value!=null&&p.setAttribute("value",""+ye(I.value));break;case"select":p.multiple=!!I.multiple,te=I.value,te!=null?le(p,!!I.multiple,te,!1):I.defaultValue!=null&&le(p,!!I.multiple,I.defaultValue,!0);break;default:typeof q.onClick=="function"&&(p.onclick=Qh)}switch(_){case"button":case"input":case"select":case"textarea":I=!!I.autoFocus;break e;case"img":I=!0;break e;default:I=!1}}I&&(y.flags|=4)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return $i(y),null;case 6:if(p&&y.stateNode!=null)z8(p,y,p.memoizedProps,I);else{if(typeof I!="string"&&y.stateNode===null)throw Error(r(166));if(_=Hu(T0.current),Hu(Uo.current),Hs(y)){if(I=y.stateNode,_=y.memoizedProps,I[Vl]=y,(te=I.nodeValue!==_)&&(p=jt,p!==null))switch(p.tag){case 3:Mp(I.nodeValue,_,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Mp(I.nodeValue,_,(p.mode&1)!==0)}te&&(y.flags|=4)}else I=(_.nodeType===9?_:_.ownerDocument).createTextNode(I),I[Vl]=y,y.stateNode=I}return $i(y),null;case 13:if(zn(As),I=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(Mt&&St!==null&&(y.mode&1)!==0&&(y.flags&128)===0)Gr(),dr(),y.flags|=98560,te=!1;else if(te=Hs(y),I!==null&&I.dehydrated!==null){if(p===null){if(!te)throw Error(r(318));if(te=y.memoizedState,te=te!==null?te.dehydrated:null,!te)throw Error(r(317));te[Vl]=y}else dr(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;$i(y),te=!1}else Pt!==null&&(pS(Pt),Pt=null),te=!0;if(!te)return y.flags&65536?y:null}return(y.flags&128)!==0?(y.lanes=_,y):(I=I!==null,I!==(p!==null&&p.memoizedState!==null)&&I&&(y.child.flags|=8192,(y.mode&1)!==0&&(p===null||(As.current&1)!==0?$a===0&&($a=3):vS())),y.updateQueue!==null&&(y.flags|=4),$i(y),null);case 4:return Wu(),sS(p,y),p===null&&Ou(y.stateNode.containerInfo),$i(y),null;case 10:return Aa(y.type._context),$i(y),null;case 17:return Bi(y.type)&&Pp(),$i(y),null;case 19:if(zn(As),te=y.memoizedState,te===null)return $i(y),null;if(I=(y.flags&128)!==0,pe=te.rendering,pe===null)if(I)bv(te,!1);else{if($a!==0||p!==null&&(p.flags&128)!==0)for(p=y.child;p!==null;){if(pe=qu(p),pe!==null){for(y.flags|=128,bv(te,!1),I=pe.updateQueue,I!==null&&(y.updateQueue=I,y.flags|=4),y.subtreeFlags=0,I=_,_=y.child;_!==null;)te=_,p=I,te.flags&=14680066,pe=te.alternate,pe===null?(te.childLanes=0,te.lanes=p,te.child=null,te.subtreeFlags=0,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=pe.childLanes,te.lanes=pe.lanes,te.child=pe.child,te.subtreeFlags=0,te.deletions=null,te.memoizedProps=pe.memoizedProps,te.memoizedState=pe.memoizedState,te.updateQueue=pe.updateQueue,te.type=pe.type,p=pe.dependencies,te.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),_=_.sibling;return qn(As,As.current&1|2),y.child}p=p.sibling}te.tail!==null&&Le()>zp&&(y.flags|=128,I=!0,bv(te,!1),y.lanes=4194304)}else{if(!I)if(p=qu(pe),p!==null){if(y.flags|=128,I=!0,_=p.updateQueue,_!==null&&(y.updateQueue=_,y.flags|=4),bv(te,!0),te.tail===null&&te.tailMode==="hidden"&&!pe.alternate&&!Mt)return $i(y),null}else 2*Le()-te.renderingStartTime>zp&&_!==1073741824&&(y.flags|=128,I=!0,bv(te,!1),y.lanes=4194304);te.isBackwards?(pe.sibling=y.child,y.child=pe):(_=te.last,_!==null?_.sibling=pe:y.child=pe,te.last=pe)}return te.tail!==null?(y=te.tail,te.rendering=y,te.tail=y.sibling,te.renderingStartTime=Le(),y.sibling=null,_=As.current,qn(As,I?_&1|2:_&1),y):($i(y),null);case 22:case 23:return gS(),I=y.memoizedState!==null,p!==null&&p.memoizedState!==null!==I&&(y.flags|=8192),I&&(y.mode&1)!==0?(gl&1073741824)!==0&&($i(y),y.subtreeFlags&6&&(y.flags|=8192)):$i(y),null;case 24:return null;case 25:return null}throw Error(r(156,y.tag))}function hZ(p,y){switch(ht(y),y.tag){case 1:return Bi(y.type)&&Pp(),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return Wu(),zn(Fi),zn(Ba),Gu(),p=y.flags,(p&65536)!==0&&(p&128)===0?(y.flags=p&-65537|128,y):null;case 5:return Rp(y),null;case 13:if(zn(As),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(r(340));dr()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return zn(As),null;case 4:return Wu(),null;case 10:return Aa(y.type._context),null;case 22:case 23:return gS(),null;case 24:return null;default:return null}}var W1=!1,Hi=!1,fZ=typeof WeakSet=="function"?WeakSet:Set,ur=null;function Bp(p,y){var _=p.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(I){ia(p,y,I)}else _.current=null}function aS(p,y,_){try{_()}catch(I){ia(p,y,I)}}var $8=!1;function mZ(p,y){if(_0=Uh,p=aa(),fl(p)){if("selectionStart"in p)var _={start:p.selectionStart,end:p.selectionEnd};else e:{_=(_=p.ownerDocument)&&_.defaultView||window;var I=_.getSelection&&_.getSelection();if(I&&I.rangeCount!==0){_=I.anchorNode;var q=I.anchorOffset,te=I.focusNode;I=I.focusOffset;try{_.nodeType,te.nodeType}catch{_=null;break e}var pe=0,Be=-1,Ye=-1,vt=0,zt=0,Wt=p,Ut=null;t:for(;;){for(var ar;Wt!==_||q!==0&&Wt.nodeType!==3||(Be=pe+q),Wt!==te||I!==0&&Wt.nodeType!==3||(Ye=pe+I),Wt.nodeType===3&&(pe+=Wt.nodeValue.length),(ar=Wt.firstChild)!==null;)Ut=Wt,Wt=ar;for(;;){if(Wt===p)break t;if(Ut===_&&++vt===q&&(Be=pe),Ut===te&&++zt===I&&(Ye=pe),(ar=Wt.nextSibling)!==null)break;Wt=Ut,Ut=Wt.parentNode}Wt=ar}_=Be===-1||Ye===-1?null:{start:Be,end:Ye}}else _=null}_=_||{start:0,end:0}}else _=null;for(Fu={focusedElem:p,selectionRange:_},Uh=!1,ur=y;ur!==null;)if(y=ur,p=y.child,(y.subtreeFlags&1028)!==0&&p!==null)p.return=y,ur=p;else for(;ur!==null;){y=ur;try{var xr=y.alternate;if((y.flags&1024)!==0)switch(y.tag){case 0:case 11:case 15:break;case 1:if(xr!==null){var gr=xr.memoizedProps,pa=xr.memoizedState,dt=y.stateNode,Ze=dt.getSnapshotBeforeUpdate(y.elementType===y.type?gr:Cr(y.type,gr),pa);dt.__reactInternalSnapshotBeforeUpdate=Ze}break;case 3:var xt=y.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Xt){ia(y,y.return,Xt)}if(p=y.sibling,p!==null){p.return=y.return,ur=p;break}ur=y.return}return xr=$8,$8=!1,xr}function wv(p,y,_){var I=y.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var q=I=I.next;do{if((q.tag&p)===p){var te=q.destroy;q.destroy=void 0,te!==void 0&&aS(y,_,te)}q=q.next}while(q!==I)}}function q1(p,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var _=y=y.next;do{if((_.tag&p)===p){var I=_.create;_.destroy=I()}_=_.next}while(_!==y)}}function iS(p){var y=p.ref;if(y!==null){var _=p.stateNode;switch(p.tag){case 5:p=_;break;default:p=_}typeof y=="function"?y(p):y.current=p}}function H8(p){var y=p.alternate;y!==null&&(p.alternate=null,H8(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&(delete y[Vl],delete y[Zh],delete y[Ii],delete y[G5],delete y[V5])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function W8(p){return p.tag===5||p.tag===3||p.tag===4}function q8(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||W8(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function oS(p,y,_){var I=p.tag;if(I===5||I===6)p=p.stateNode,y?_.nodeType===8?_.parentNode.insertBefore(p,y):_.insertBefore(p,y):(_.nodeType===8?(y=_.parentNode,y.insertBefore(p,_)):(y=_,y.appendChild(p)),_=_._reactRootContainer,_!=null||y.onclick!==null||(y.onclick=Qh));else if(I!==4&&(p=p.child,p!==null))for(oS(p,y,_),p=p.sibling;p!==null;)oS(p,y,_),p=p.sibling}function lS(p,y,_){var I=p.tag;if(I===5||I===6)p=p.stateNode,y?_.insertBefore(p,y):_.appendChild(p);else if(I!==4&&(p=p.child,p!==null))for(lS(p,y,_),p=p.sibling;p!==null;)lS(p,y,_),p=p.sibling}var Si=null,zc=!1;function sf(p,y,_){for(_=_.child;_!==null;)G8(p,y,_),_=_.sibling}function G8(p,y,_){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(lr,_)}catch{}switch(_.tag){case 5:Hi||Bp(_,y);case 6:var I=Si,q=zc;Si=null,sf(p,y,_),Si=I,zc=q,Si!==null&&(zc?(p=Si,_=_.stateNode,p.nodeType===8?p.parentNode.removeChild(_):p.removeChild(_)):Si.removeChild(_.stateNode));break;case 18:Si!==null&&(zc?(p=Si,_=_.stateNode,p.nodeType===8?hv(p.parentNode,_):p.nodeType===1&&hv(p,_),wu(p)):hv(Si,_.stateNode));break;case 4:I=Si,q=zc,Si=_.stateNode.containerInfo,zc=!0,sf(p,y,_),Si=I,zc=q;break;case 0:case 11:case 14:case 15:if(!Hi&&(I=_.updateQueue,I!==null&&(I=I.lastEffect,I!==null))){q=I=I.next;do{var te=q,pe=te.destroy;te=te.tag,pe!==void 0&&((te&2)!==0||(te&4)!==0)&&aS(_,y,pe),q=q.next}while(q!==I)}sf(p,y,_);break;case 1:if(!Hi&&(Bp(_,y),I=_.stateNode,typeof I.componentWillUnmount=="function"))try{I.props=_.memoizedProps,I.state=_.memoizedState,I.componentWillUnmount()}catch(Be){ia(_,y,Be)}sf(p,y,_);break;case 21:sf(p,y,_);break;case 22:_.mode&1?(Hi=(I=Hi)||_.memoizedState!==null,sf(p,y,_),Hi=I):sf(p,y,_);break;default:sf(p,y,_)}}function V8(p){var y=p.updateQueue;if(y!==null){p.updateQueue=null;var _=p.stateNode;_===null&&(_=p.stateNode=new fZ),y.forEach(function(I){var q=NZ.bind(null,p,I);_.has(I)||(_.add(I),I.then(q,q))})}}function $c(p,y){var _=y.deletions;if(_!==null)for(var I=0;I<_.length;I++){var q=_[I];try{var te=p,pe=y,Be=pe;e:for(;Be!==null;){switch(Be.tag){case 5:Si=Be.stateNode,zc=!1;break e;case 3:Si=Be.stateNode.containerInfo,zc=!0;break e;case 4:Si=Be.stateNode.containerInfo,zc=!0;break e}Be=Be.return}if(Si===null)throw Error(r(160));G8(te,pe,q),Si=null,zc=!1;var Ye=q.alternate;Ye!==null&&(Ye.return=null),q.return=null}catch(vt){ia(q,y,vt)}}if(y.subtreeFlags&12854)for(y=y.child;y!==null;)X8(y,p),y=y.sibling}function X8(p,y){var _=p.alternate,I=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if($c(y,p),Ld(p),I&4){try{wv(3,p,p.return),q1(3,p)}catch(gr){ia(p,p.return,gr)}try{wv(5,p,p.return)}catch(gr){ia(p,p.return,gr)}}break;case 1:$c(y,p),Ld(p),I&512&&_!==null&&Bp(_,_.return);break;case 5:if($c(y,p),Ld(p),I&512&&_!==null&&Bp(_,_.return),p.flags&32){var q=p.stateNode;try{At(q,"")}catch(gr){ia(p,p.return,gr)}}if(I&4&&(q=p.stateNode,q!=null)){var te=p.memoizedProps,pe=_!==null?_.memoizedProps:te,Be=p.type,Ye=p.updateQueue;if(p.updateQueue=null,Ye!==null)try{Be==="input"&&te.type==="radio"&&te.name!=null&&ie(q,te),Bt(Be,pe);var vt=Bt(Be,te);for(pe=0;pe<Ye.length;pe+=2){var zt=Ye[pe],Wt=Ye[pe+1];zt==="style"?$t(q,Wt):zt==="dangerouslySetInnerHTML"?gt(q,Wt):zt==="children"?At(q,Wt):w(q,zt,Wt,vt)}switch(Be){case"input":Ae(q,te);break;case"textarea":qe(q,te);break;case"select":var Ut=q._wrapperState.wasMultiple;q._wrapperState.wasMultiple=!!te.multiple;var ar=te.value;ar!=null?le(q,!!te.multiple,ar,!1):Ut!==!!te.multiple&&(te.defaultValue!=null?le(q,!!te.multiple,te.defaultValue,!0):le(q,!!te.multiple,te.multiple?[]:"",!1))}q[Zh]=te}catch(gr){ia(p,p.return,gr)}}break;case 6:if($c(y,p),Ld(p),I&4){if(p.stateNode===null)throw Error(r(162));q=p.stateNode,te=p.memoizedProps;try{q.nodeValue=te}catch(gr){ia(p,p.return,gr)}}break;case 3:if($c(y,p),Ld(p),I&4&&_!==null&&_.memoizedState.isDehydrated)try{wu(y.containerInfo)}catch(gr){ia(p,p.return,gr)}break;case 4:$c(y,p),Ld(p);break;case 13:$c(y,p),Ld(p),q=p.child,q.flags&8192&&(te=q.memoizedState!==null,q.stateNode.isHidden=te,!te||q.alternate!==null&&q.alternate.memoizedState!==null||(uS=Le())),I&4&&V8(p);break;case 22:if(zt=_!==null&&_.memoizedState!==null,p.mode&1?(Hi=(vt=Hi)||zt,$c(y,p),Hi=vt):$c(y,p),Ld(p),I&8192){if(vt=p.memoizedState!==null,(p.stateNode.isHidden=vt)&&!zt&&(p.mode&1)!==0)for(ur=p,zt=p.child;zt!==null;){for(Wt=ur=zt;ur!==null;){switch(Ut=ur,ar=Ut.child,Ut.tag){case 0:case 11:case 14:case 15:wv(4,Ut,Ut.return);break;case 1:Bp(Ut,Ut.return);var xr=Ut.stateNode;if(typeof xr.componentWillUnmount=="function"){I=Ut,_=Ut.return;try{y=I,xr.props=y.memoizedProps,xr.state=y.memoizedState,xr.componentWillUnmount()}catch(gr){ia(I,_,gr)}}break;case 5:Bp(Ut,Ut.return);break;case 22:if(Ut.memoizedState!==null){J8(Wt);continue}}ar!==null?(ar.return=Ut,ur=ar):J8(Wt)}zt=zt.sibling}e:for(zt=null,Wt=p;;){if(Wt.tag===5){if(zt===null){zt=Wt;try{q=Wt.stateNode,vt?(te=q.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none"):(Be=Wt.stateNode,Ye=Wt.memoizedProps.style,pe=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null,Be.style.display=Rt("display",pe))}catch(gr){ia(p,p.return,gr)}}}else if(Wt.tag===6){if(zt===null)try{Wt.stateNode.nodeValue=vt?"":Wt.memoizedProps}catch(gr){ia(p,p.return,gr)}}else if((Wt.tag!==22&&Wt.tag!==23||Wt.memoizedState===null||Wt===p)&&Wt.child!==null){Wt.child.return=Wt,Wt=Wt.child;continue}if(Wt===p)break e;for(;Wt.sibling===null;){if(Wt.return===null||Wt.return===p)break e;zt===Wt&&(zt=null),Wt=Wt.return}zt===Wt&&(zt=null),Wt.sibling.return=Wt.return,Wt=Wt.sibling}}break;case 19:$c(y,p),Ld(p),I&4&&V8(p);break;case 21:break;default:$c(y,p),Ld(p)}}function Ld(p){var y=p.flags;if(y&2){try{e:{for(var _=p.return;_!==null;){if(W8(_)){var I=_;break e}_=_.return}throw Error(r(160))}switch(I.tag){case 5:var q=I.stateNode;I.flags&32&&(At(q,""),I.flags&=-33);var te=q8(p);lS(p,te,q);break;case 3:case 4:var pe=I.stateNode.containerInfo,Be=q8(p);oS(p,Be,pe);break;default:throw Error(r(161))}}catch(Ye){ia(p,p.return,Ye)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function pZ(p,y,_){ur=p,Y8(p)}function Y8(p,y,_){for(var I=(p.mode&1)!==0;ur!==null;){var q=ur,te=q.child;if(q.tag===22&&I){var pe=q.memoizedState!==null||W1;if(!pe){var Be=q.alternate,Ye=Be!==null&&Be.memoizedState!==null||Hi;Be=W1;var vt=Hi;if(W1=pe,(Hi=Ye)&&!vt)for(ur=q;ur!==null;)pe=ur,Ye=pe.child,pe.tag===22&&pe.memoizedState!==null?Q8(q):Ye!==null?(Ye.return=pe,ur=Ye):Q8(q);for(;te!==null;)ur=te,Y8(te),te=te.sibling;ur=q,W1=Be,Hi=vt}K8(p)}else(q.subtreeFlags&8772)!==0&&te!==null?(te.return=q,ur=te):K8(p)}}function K8(p){for(;ur!==null;){var y=ur;if((y.flags&8772)!==0){var _=y.alternate;try{if((y.flags&8772)!==0)switch(y.tag){case 0:case 11:case 15:Hi||q1(5,y);break;case 1:var I=y.stateNode;if(y.flags&4&&!Hi)if(_===null)I.componentDidMount();else{var q=y.elementType===y.type?_.memoizedProps:Cr(y.type,_.memoizedProps);I.componentDidUpdate(q,_.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var te=y.updateQueue;te!==null&&Ui(y,te,I);break;case 3:var pe=y.updateQueue;if(pe!==null){if(_=null,y.child!==null)switch(y.child.tag){case 5:_=y.child.stateNode;break;case 1:_=y.child.stateNode}Ui(y,pe,_)}break;case 5:var Be=y.stateNode;if(_===null&&y.flags&4){_=Be;var Ye=y.memoizedProps;switch(y.type){case"button":case"input":case"select":case"textarea":Ye.autoFocus&&_.focus();break;case"img":Ye.src&&(_.src=Ye.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(y.memoizedState===null){var vt=y.alternate;if(vt!==null){var zt=vt.memoizedState;if(zt!==null){var Wt=zt.dehydrated;Wt!==null&&wu(Wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Hi||y.flags&512&&iS(y)}catch(Ut){ia(y,y.return,Ut)}}if(y===p){ur=null;break}if(_=y.sibling,_!==null){_.return=y.return,ur=_;break}ur=y.return}}function J8(p){for(;ur!==null;){var y=ur;if(y===p){ur=null;break}var _=y.sibling;if(_!==null){_.return=y.return,ur=_;break}ur=y.return}}function Q8(p){for(;ur!==null;){var y=ur;try{switch(y.tag){case 0:case 11:case 15:var _=y.return;try{q1(4,y)}catch(Ye){ia(y,_,Ye)}break;case 1:var I=y.stateNode;if(typeof I.componentDidMount=="function"){var q=y.return;try{I.componentDidMount()}catch(Ye){ia(y,q,Ye)}}var te=y.return;try{iS(y)}catch(Ye){ia(y,te,Ye)}break;case 5:var pe=y.return;try{iS(y)}catch(Ye){ia(y,pe,Ye)}}}catch(Ye){ia(y,y.return,Ye)}if(y===p){ur=null;break}var Be=y.sibling;if(Be!==null){Be.return=y.return,ur=Be;break}ur=y.return}}var xZ=Math.ceil,G1=A.ReactCurrentDispatcher,cS=A.ReactCurrentOwner,Jl=A.ReactCurrentBatchConfig,Sn=0,oi=null,ka=null,_i=0,gl=0,Up=ml(0),$a=0,jv=null,F0=0,V1=0,dS=0,Nv=null,Wo=null,uS=0,zp=1/0,Yu=null,X1=!1,hS=null,af=null,Y1=!1,of=null,K1=0,Sv=0,fS=null,J1=-1,Q1=0;function go(){return(Sn&6)!==0?Le():J1!==-1?J1:J1=Le()}function lf(p){return(p.mode&1)===0?1:(Sn&2)!==0&&_i!==0?_i&-_i:Qs.transition!==null?(Q1===0&&(Q1=Sa()),Q1):(p=Jr,p!==0||(p=window.event,p=p===void 0?16:Nu(p.type)),p)}function Hc(p,y,_,I){if(50<Sv)throw Sv=0,fS=null,Error(r(185));Ds(p,_,I),((Sn&2)===0||p!==oi)&&(p===oi&&((Sn&2)===0&&(V1|=_),$a===4&&cf(p,_i)),qo(p,I),_===1&&Sn===0&&(y.mode&1)===0&&(zp=Le()+500,C0&&ne()))}function qo(p,y){var _=p.callbackNode;hs(p,y);var I=Mi(p,p===oi?_i:0);if(I===0)_!==null&&Oe(_),p.callbackNode=null,p.callbackPriority=0;else if(y=I&-I,p.callbackPriority!==y){if(_!=null&&Oe(_),y===1)p.tag===0?Q(eD.bind(null,p)):B(eD.bind(null,p)),W5(function(){(Sn&6)===0&&ne()}),_=null;else{switch(vu(I)){case 1:_=It;break;case 4:_=Ft;break;case 16:_=Vt;break;case 536870912:_=wr;break;default:_=Vt}_=lD(_,Z8.bind(null,p))}p.callbackPriority=y,p.callbackNode=_}}function Z8(p,y){if(J1=-1,Q1=0,(Sn&6)!==0)throw Error(r(327));var _=p.callbackNode;if($p()&&p.callbackNode!==_)return null;var I=Mi(p,p===oi?_i:0);if(I===0)return null;if((I&30)!==0||(I&p.expiredLanes)!==0||y)y=Z1(p,I);else{y=I;var q=Sn;Sn|=2;var te=rD();(oi!==p||_i!==y)&&(Yu=null,zp=Le()+500,U0(p,y));do try{yZ();break}catch(Be){tD(p,Be)}while(!0);Ns(),G1.current=te,Sn=q,ka!==null?y=0:(oi=null,_i=0,y=$a)}if(y!==0){if(y===2&&(q=cn(p),q!==0&&(I=q,y=mS(p,q))),y===1)throw _=jv,U0(p,0),cf(p,I),qo(p,Le()),_;if(y===6)cf(p,I);else{if(q=p.current.alternate,(I&30)===0&&!gZ(q)&&(y=Z1(p,I),y===2&&(te=cn(p),te!==0&&(I=te,y=mS(p,te))),y===1))throw _=jv,U0(p,0),cf(p,I),qo(p,Le()),_;switch(p.finishedWork=q,p.finishedLanes=I,y){case 0:case 1:throw Error(r(345));case 2:z0(p,Wo,Yu);break;case 3:if(cf(p,I),(I&130023424)===I&&(y=uS+500-Le(),10<y)){if(Mi(p,0)!==0)break;if(q=p.suspendedLanes,(q&I)!==I){go(),p.pingedLanes|=p.suspendedLanes&q;break}p.timeoutHandle=uv(z0.bind(null,p,Wo,Yu),y);break}z0(p,Wo,Yu);break;case 4:if(cf(p,I),(I&4194240)===I)break;for(y=p.eventTimes,q=-1;0<I;){var pe=31-Er(I);te=1<<pe,pe=y[pe],pe>q&&(q=pe),I&=~te}if(I=q,I=Le()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*xZ(I/1960))-I,10<I){p.timeoutHandle=uv(z0.bind(null,p,Wo,Yu),I);break}z0(p,Wo,Yu);break;case 5:z0(p,Wo,Yu);break;default:throw Error(r(329))}}}return qo(p,Le()),p.callbackNode===_?Z8.bind(null,p):null}function mS(p,y){var _=Nv;return p.current.memoizedState.isDehydrated&&(U0(p,y).flags|=256),p=Z1(p,y),p!==2&&(y=Wo,Wo=_,y!==null&&pS(y)),p}function pS(p){Wo===null?Wo=p:Wo.push.apply(Wo,p)}function gZ(p){for(var y=p;;){if(y.flags&16384){var _=y.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var I=0;I<_.length;I++){var q=_[I],te=q.getSnapshot;q=q.value;try{if(!zs(te(),q))return!1}catch{return!1}}}if(_=y.child,y.subtreeFlags&16384&&_!==null)_.return=y,y=_;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function cf(p,y){for(y&=~dS,y&=~V1,p.suspendedLanes|=y,p.pingedLanes&=~y,p=p.expirationTimes;0<y;){var _=31-Er(y),I=1<<_;p[_]=-1,y&=~I}}function eD(p){if((Sn&6)!==0)throw Error(r(327));$p();var y=Mi(p,0);if((y&1)===0)return qo(p,Le()),null;var _=Z1(p,y);if(p.tag!==0&&_===2){var I=cn(p);I!==0&&(y=I,_=mS(p,I))}if(_===1)throw _=jv,U0(p,0),cf(p,y),qo(p,Le()),_;if(_===6)throw Error(r(345));return p.finishedWork=p.current.alternate,p.finishedLanes=y,z0(p,Wo,Yu),qo(p,Le()),null}function xS(p,y){var _=Sn;Sn|=1;try{return p(y)}finally{Sn=_,Sn===0&&(zp=Le()+500,C0&&ne())}}function B0(p){of!==null&&of.tag===0&&(Sn&6)===0&&$p();var y=Sn;Sn|=1;var _=Jl.transition,I=Jr;try{if(Jl.transition=null,Jr=1,p)return p()}finally{Jr=I,Jl.transition=_,Sn=y,(Sn&6)===0&&ne()}}function gS(){gl=Up.current,zn(Up)}function U0(p,y){p.finishedWork=null,p.finishedLanes=0;var _=p.timeoutHandle;if(_!==-1&&(p.timeoutHandle=-1,P1(_)),ka!==null)for(_=ka.return;_!==null;){var I=_;switch(ht(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&Pp();break;case 3:Wu(),zn(Fi),zn(Ba),Gu();break;case 5:Rp(I);break;case 4:Wu();break;case 13:zn(As);break;case 19:zn(As);break;case 10:Aa(I.type._context);break;case 22:case 23:gS()}_=_.return}if(oi=p,ka=p=df(p.current,null),_i=gl=y,$a=0,jv=null,dS=V1=F0=0,Wo=Nv=null,un!==null){for(y=0;y<un.length;y++)if(_=un[y],I=_.interleaved,I!==null){_.interleaved=null;var q=I.next,te=_.pending;if(te!==null){var pe=te.next;te.next=q,I.next=pe}_.pending=I}un=null}return p}function tD(p,y){do{var _=ka;try{if(Ns(),D0.current=z1,R0){for(var I=Cs.memoizedState;I!==null;){var q=I.queue;q!==null&&(q.pending=null),I=I.next}R0=!1}if(Yl=0,ps=ea=Cs=null,rf=!1,L0=0,cS.current=null,_===null||_.return===null){$a=1,jv=y,ka=null;break}e:{var te=p,pe=_.return,Be=_,Ye=y;if(y=_i,Be.flags|=32768,Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var vt=Ye,zt=Be,Wt=zt.tag;if((zt.mode&1)===0&&(Wt===0||Wt===11||Wt===15)){var Ut=zt.alternate;Ut?(zt.updateQueue=Ut.updateQueue,zt.memoizedState=Ut.memoizedState,zt.lanes=Ut.lanes):(zt.updateQueue=null,zt.memoizedState=null)}var ar=A8(pe);if(ar!==null){ar.flags&=-257,C8(ar,pe,Be,te,y),ar.mode&1&&_8(te,vt,y),y=ar,Ye=vt;var xr=y.updateQueue;if(xr===null){var gr=new Set;gr.add(Ye),y.updateQueue=gr}else xr.add(Ye);break e}else{if((y&1)===0){_8(te,vt,y),vS();break e}Ye=Error(r(426))}}else if(Mt&&Be.mode&1){var pa=A8(pe);if(pa!==null){(pa.flags&65536)===0&&(pa.flags|=256),C8(pa,pe,Be,te,y),Qt(Fp(Ye,Be));break e}}te=Ye=Fp(Ye,Be),$a!==4&&($a=2),Nv===null?Nv=[te]:Nv.push(te),te=pe;do{switch(te.tag){case 3:te.flags|=65536,y&=-y,te.lanes|=y;var dt=N8(te,Ye,y);ai(te,dt);break e;case 1:Be=Ye;var Ze=te.type,xt=te.stateNode;if((te.flags&128)===0&&(typeof Ze.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(af===null||!af.has(xt)))){te.flags|=65536,y&=-y,te.lanes|=y;var Xt=S8(te,Be,y);ai(te,Xt);break e}}te=te.return}while(te!==null)}sD(_)}catch(br){y=br,ka===_&&_!==null&&(ka=_=_.return);continue}break}while(!0)}function rD(){var p=G1.current;return G1.current=z1,p===null?z1:p}function vS(){($a===0||$a===3||$a===2)&&($a=4),oi===null||(F0&268435455)===0&&(V1&268435455)===0||cf(oi,_i)}function Z1(p,y){var _=Sn;Sn|=2;var I=rD();(oi!==p||_i!==y)&&(Yu=null,U0(p,y));do try{vZ();break}catch(q){tD(p,q)}while(!0);if(Ns(),Sn=_,G1.current=I,ka!==null)throw Error(r(261));return oi=null,_i=0,$a}function vZ(){for(;ka!==null;)nD(ka)}function yZ(){for(;ka!==null&&!We();)nD(ka)}function nD(p){var y=oD(p.alternate,p,gl);p.memoizedProps=p.pendingProps,y===null?sD(p):ka=y,cS.current=null}function sD(p){var y=p;do{var _=y.alternate;if(p=y.return,(y.flags&32768)===0){if(_=uZ(_,y,gl),_!==null){ka=_;return}}else{if(_=hZ(_,y),_!==null){_.flags&=32767,ka=_;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{$a=6,ka=null;return}}if(y=y.sibling,y!==null){ka=y;return}ka=y=p}while(y!==null);$a===0&&($a=5)}function z0(p,y,_){var I=Jr,q=Jl.transition;try{Jl.transition=null,Jr=1,bZ(p,y,_,I)}finally{Jl.transition=q,Jr=I}return null}function bZ(p,y,_,I){do $p();while(of!==null);if((Sn&6)!==0)throw Error(r(327));_=p.finishedWork;var q=p.finishedLanes;if(_===null)return null;if(p.finishedWork=null,p.finishedLanes=0,_===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0;var te=_.lanes|_.childLanes;if(fs(p,te),p===oi&&(ka=oi=null,_i=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||Y1||(Y1=!0,lD(Vt,function(){return $p(),null})),te=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||te){te=Jl.transition,Jl.transition=null;var pe=Jr;Jr=1;var Be=Sn;Sn|=4,cS.current=null,mZ(p,_),X8(_,p),g0(Fu),Uh=!!_0,Fu=_0=null,p.current=_,pZ(_),ze(),Sn=Be,Jr=pe,Jl.transition=te}else p.current=_;if(Y1&&(Y1=!1,of=p,K1=q),te=p.pendingLanes,te===0&&(af=null),rn(_.stateNode),qo(p,Le()),y!==null)for(I=p.onRecoverableError,_=0;_<y.length;_++)q=y[_],I(q.value,{componentStack:q.stack,digest:q.digest});if(X1)throw X1=!1,p=hS,hS=null,p;return(K1&1)!==0&&p.tag!==0&&$p(),te=p.pendingLanes,(te&1)!==0?p===fS?Sv++:(Sv=0,fS=p):Sv=0,ne(),null}function $p(){if(of!==null){var p=vu(K1),y=Jl.transition,_=Jr;try{if(Jl.transition=null,Jr=16>p?16:p,of===null)var I=!1;else{if(p=of,of=null,K1=0,(Sn&6)!==0)throw Error(r(331));var q=Sn;for(Sn|=4,ur=p.current;ur!==null;){var te=ur,pe=te.child;if((ur.flags&16)!==0){var Be=te.deletions;if(Be!==null){for(var Ye=0;Ye<Be.length;Ye++){var vt=Be[Ye];for(ur=vt;ur!==null;){var zt=ur;switch(zt.tag){case 0:case 11:case 15:wv(8,zt,te)}var Wt=zt.child;if(Wt!==null)Wt.return=zt,ur=Wt;else for(;ur!==null;){zt=ur;var Ut=zt.sibling,ar=zt.return;if(H8(zt),zt===vt){ur=null;break}if(Ut!==null){Ut.return=ar,ur=Ut;break}ur=ar}}}var xr=te.alternate;if(xr!==null){var gr=xr.child;if(gr!==null){xr.child=null;do{var pa=gr.sibling;gr.sibling=null,gr=pa}while(gr!==null)}}ur=te}}if((te.subtreeFlags&2064)!==0&&pe!==null)pe.return=te,ur=pe;else e:for(;ur!==null;){if(te=ur,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:wv(9,te,te.return)}var dt=te.sibling;if(dt!==null){dt.return=te.return,ur=dt;break e}ur=te.return}}var Ze=p.current;for(ur=Ze;ur!==null;){pe=ur;var xt=pe.child;if((pe.subtreeFlags&2064)!==0&&xt!==null)xt.return=pe,ur=xt;else e:for(pe=Ze;ur!==null;){if(Be=ur,(Be.flags&2048)!==0)try{switch(Be.tag){case 0:case 11:case 15:q1(9,Be)}}catch(br){ia(Be,Be.return,br)}if(Be===pe){ur=null;break e}var Xt=Be.sibling;if(Xt!==null){Xt.return=Be.return,ur=Xt;break e}ur=Be.return}}if(Sn=q,ne(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(lr,p)}catch{}I=!0}return I}finally{Jr=_,Jl.transition=y}}return!1}function aD(p,y,_){y=Fp(_,y),y=N8(p,y,1),p=os(p,y,1),y=go(),p!==null&&(Ds(p,1,y),qo(p,y))}function ia(p,y,_){if(p.tag===3)aD(p,p,_);else for(;y!==null;){if(y.tag===3){aD(y,p,_);break}else if(y.tag===1){var I=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(af===null||!af.has(I))){p=Fp(_,p),p=S8(y,p,1),y=os(y,p,1),p=go(),y!==null&&(Ds(y,1,p),qo(y,p));break}}y=y.return}}function wZ(p,y,_){var I=p.pingCache;I!==null&&I.delete(y),y=go(),p.pingedLanes|=p.suspendedLanes&_,oi===p&&(_i&_)===_&&($a===4||$a===3&&(_i&130023424)===_i&&500>Le()-uS?U0(p,0):dS|=_),qo(p,y)}function iD(p,y){y===0&&((p.mode&1)===0?y=1:(y=zr,zr<<=1,(zr&130023424)===0&&(zr=4194304)));var _=go();p=ms(p,y),p!==null&&(Ds(p,y,_),qo(p,_))}function jZ(p){var y=p.memoizedState,_=0;y!==null&&(_=y.retryLane),iD(p,_)}function NZ(p,y){var _=0;switch(p.tag){case 13:var I=p.stateNode,q=p.memoizedState;q!==null&&(_=q.retryLane);break;case 19:I=p.stateNode;break;default:throw Error(r(314))}I!==null&&I.delete(y),iD(p,_)}var oD;oD=function(p,y,_){if(p!==null)if(p.memoizedProps!==y.pendingProps||Fi.current)Ho=!0;else{if((p.lanes&_)===0&&(y.flags&128)===0)return Ho=!1,dZ(p,y,_);Ho=(p.flags&131072)!==0}else Ho=!1,Mt&&(y.flags&1048576)!==0&&st(y,be,y.index);switch(y.lanes=0,y.tag){case 2:var I=y.type;H1(p,y),p=y.pendingProps;var q=tf(y,Ba.current);Ss(y,_),q=Lp(null,y,I,p,q,_);var te=vv();return y.flags|=1,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,Bi(I)?(te=!0,zu(y)):te=!1,y.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,Ls(y),q.updater=$n,y.stateNode=q,q._reactInternals=y,pl(y,I,p,_),y=Z5(null,y,I,!0,te,_)):(y.tag=0,Mt&&te&&Ct(y),xo(null,y,q,_),y=y.child),y;case 16:I=y.elementType;e:{switch(H1(p,y),p=y.pendingProps,q=I._init,I=q(I._payload),y.type=I,q=y.tag=_Z(I),p=Cr(I,p),q){case 0:y=Q5(null,y,I,p,_);break e;case 1:y=D8(null,y,I,p,_);break e;case 11:y=k8(null,y,I,p,_);break e;case 14:y=E8(null,y,I,Cr(I.type,p),_);break e}throw Error(r(306,I,""))}return y;case 0:return I=y.type,q=y.pendingProps,q=y.elementType===I?q:Cr(I,q),Q5(p,y,I,q,_);case 1:return I=y.type,q=y.pendingProps,q=y.elementType===I?q:Cr(I,q),D8(p,y,I,q,_);case 3:e:{if(R8(y),p===null)throw Error(r(387));I=y.pendingProps,te=y.memoizedState,q=te.element,wi(p,y),ii(y,I,null,_);var pe=y.memoizedState;if(I=pe.element,te.isDehydrated)if(te={element:I,isDehydrated:!1,cache:pe.cache,pendingSuspenseBoundaries:pe.pendingSuspenseBoundaries,transitions:pe.transitions},y.updateQueue.baseState=te,y.memoizedState=te,y.flags&256){q=Fp(Error(r(423)),y),y=L8(p,y,I,_,q);break e}else if(I!==q){q=Fp(Error(r(424)),y),y=L8(p,y,I,_,q);break e}else for(St=bi(y.stateNode.containerInfo.firstChild),jt=y,Mt=!0,Pt=null,_=O1(y,null,I,_),y.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(dr(),I===q){y=Xu(p,y,_);break e}xo(p,y,I,_)}y=y.child}return y;case 5:return M0(y),p===null&&mr(y),I=y.type,q=y.pendingProps,te=p!==null?p.memoizedProps:null,pe=q.children,dv(I,q)?pe=null:te!==null&&dv(I,te)&&(y.flags|=32),P8(p,y),xo(p,y,pe,_),y.child;case 6:return p===null&&mr(y),null;case 13:return O8(p,y,_);case 4:return pv(y,y.stateNode.containerInfo),I=y.pendingProps,p===null?y.child=Xl(y,null,I,_):xo(p,y,I,_),y.child;case 11:return I=y.type,q=y.pendingProps,q=y.elementType===I?q:Cr(I,q),k8(p,y,I,q,_);case 7:return xo(p,y,y.pendingProps,_),y.child;case 8:return xo(p,y,y.pendingProps.children,_),y.child;case 12:return xo(p,y,y.pendingProps.children,_),y.child;case 10:e:{if(I=y.type._context,q=y.pendingProps,te=y.memoizedProps,pe=q.value,qn(on,I._currentValue),I._currentValue=pe,te!==null)if(zs(te.value,pe)){if(te.children===q.children&&!Fi.current){y=Xu(p,y,_);break e}}else for(te=y.child,te!==null&&(te.return=y);te!==null;){var Be=te.dependencies;if(Be!==null){pe=te.child;for(var Ye=Be.firstContext;Ye!==null;){if(Ye.context===I){if(te.tag===1){Ye=hn(-1,_&-_),Ye.tag=2;var vt=te.updateQueue;if(vt!==null){vt=vt.shared;var zt=vt.pending;zt===null?Ye.next=Ye:(Ye.next=zt.next,zt.next=Ye),vt.pending=Ye}}te.lanes|=_,Ye=te.alternate,Ye!==null&&(Ye.lanes|=_),za(te.return,_,y),Be.lanes|=_;break}Ye=Ye.next}}else if(te.tag===10)pe=te.type===y.type?null:te.child;else if(te.tag===18){if(pe=te.return,pe===null)throw Error(r(341));pe.lanes|=_,Be=pe.alternate,Be!==null&&(Be.lanes|=_),za(pe,_,y),pe=te.sibling}else pe=te.child;if(pe!==null)pe.return=te;else for(pe=te;pe!==null;){if(pe===y){pe=null;break}if(te=pe.sibling,te!==null){te.return=pe.return,pe=te;break}pe=pe.return}te=pe}xo(p,y,q.children,_),y=y.child}return y;case 9:return q=y.type,I=y.pendingProps.children,Ss(y,_),q=Hr(q),I=I(q),y.flags|=1,xo(p,y,I,_),y.child;case 14:return I=y.type,q=Cr(I,y.pendingProps),q=Cr(I.type,q),E8(p,y,I,q,_);case 15:return T8(p,y,y.type,y.pendingProps,_);case 17:return I=y.type,q=y.pendingProps,q=y.elementType===I?q:Cr(I,q),H1(p,y),y.tag=1,Bi(I)?(p=!0,zu(y)):p=!1,Ss(y,_),Bo(y,I,q),pl(y,I,q,_),Z5(null,y,I,!0,p,_);case 19:return F8(p,y,_);case 22:return M8(p,y,_)}throw Error(r(156,y.tag))};function lD(p,y){return de(p,y)}function SZ(p,y,_,I){this.tag=p,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ql(p,y,_,I){return new SZ(p,y,_,I)}function yS(p){return p=p.prototype,!(!p||!p.isReactComponent)}function _Z(p){if(typeof p=="function")return yS(p)?1:0;if(p!=null){if(p=p.$$typeof,p===P)return 11;if(p===F)return 14}return 2}function df(p,y){var _=p.alternate;return _===null?(_=Ql(p.tag,y,p.key,p.mode),_.elementType=p.elementType,_.type=p.type,_.stateNode=p.stateNode,_.alternate=p,p.alternate=_):(_.pendingProps=y,_.type=p.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=p.flags&14680064,_.childLanes=p.childLanes,_.lanes=p.lanes,_.child=p.child,_.memoizedProps=p.memoizedProps,_.memoizedState=p.memoizedState,_.updateQueue=p.updateQueue,y=p.dependencies,_.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},_.sibling=p.sibling,_.index=p.index,_.ref=p.ref,_}function e2(p,y,_,I,q,te){var pe=2;if(I=p,typeof p=="function")yS(p)&&(pe=1);else if(typeof p=="string")pe=5;else e:switch(p){case E:return $0(_.children,q,te,y);case R:pe=8,q|=8;break;case C:return p=Ql(12,_,y,q|2),p.elementType=C,p.lanes=te,p;case D:return p=Ql(13,_,y,q),p.elementType=D,p.lanes=te,p;case H:return p=Ql(19,_,y,q),p.elementType=H,p.lanes=te,p;case O:return t2(_,q,te,y);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case T:pe=10;break e;case k:pe=9;break e;case P:pe=11;break e;case F:pe=14;break e;case z:pe=16,I=null;break e}throw Error(r(130,p==null?p:typeof p,""))}return y=Ql(pe,_,y,q),y.elementType=p,y.type=I,y.lanes=te,y}function $0(p,y,_,I){return p=Ql(7,p,I,y),p.lanes=_,p}function t2(p,y,_,I){return p=Ql(22,p,I,y),p.elementType=O,p.lanes=_,p.stateNode={isHidden:!1},p}function bS(p,y,_){return p=Ql(6,p,null,y),p.lanes=_,p}function wS(p,y,_){return y=Ql(4,p.children!==null?p.children:[],p.key,y),y.lanes=_,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}function AZ(p,y,_,I,q){this.tag=y,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_a(0),this.expirationTimes=_a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.identifierPrefix=I,this.onRecoverableError=q,this.mutableSourceEagerHydrationData=null}function jS(p,y,_,I,q,te,pe,Be,Ye){return p=new AZ(p,y,_,Be,Ye),y===1?(y=1,te===!0&&(y|=8)):y=0,te=Ql(3,null,null,y),p.current=te,te.stateNode=p,te.memoizedState={element:I,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(te),p}function CZ(p,y,_){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:I==null?null:""+I,children:p,containerInfo:y,implementation:_}}function cD(p){if(!p)return Dd;p=p._reactInternals;e:{if(Te(p)!==p||p.tag!==1)throw Error(r(170));var y=p;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(Bi(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(r(171))}if(p.tag===1){var _=p.type;if(Bi(_))return mv(p,_,y)}return y}function dD(p,y,_,I,q,te,pe,Be,Ye){return p=jS(_,I,!0,p,q,te,pe,Be,Ye),p.context=cD(null),_=p.current,I=go(),q=lf(_),te=hn(I,q),te.callback=y??null,os(_,te,q),p.current.lanes=q,Ds(p,q,I),qo(p,I),p}function r2(p,y,_,I){var q=y.current,te=go(),pe=lf(q);return _=cD(_),y.context===null?y.context=_:y.pendingContext=_,y=hn(te,pe),y.payload={element:p},I=I===void 0?null:I,I!==null&&(y.callback=I),p=os(q,y,pe),p!==null&&(Hc(p,q,pe,te),si(p,q,pe)),pe}function n2(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function uD(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var _=p.retryLane;p.retryLane=_!==0&&_<y?_:y}}function NS(p,y){uD(p,y),(p=p.alternate)&&uD(p,y)}function kZ(){return null}var hD=typeof reportError=="function"?reportError:function(p){console.error(p)};function SS(p){this._internalRoot=p}s2.prototype.render=SS.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(r(409));r2(p,y,null,null)},s2.prototype.unmount=SS.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;B0(function(){r2(null,p,null,null)}),y[ni]=null}};function s2(p){this._internalRoot=p}s2.prototype.unstable_scheduleHydration=function(p){if(p){var y=jp();p={blockedOn:null,target:p,priority:y};for(var _=0;_<Ul.length&&y!==0&&y<Ul[_].priority;_++);Ul.splice(_,0,p),_===0&&Sp(p)}};function _S(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function a2(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function fD(){}function EZ(p,y,_,I,q){if(q){if(typeof I=="function"){var te=I;I=function(){var vt=n2(pe);te.call(vt)}}var pe=dD(y,I,p,0,null,!1,!1,"",fD);return p._reactRootContainer=pe,p[ni]=pe.current,Ou(p.nodeType===8?p.parentNode:p),B0(),pe}for(;q=p.lastChild;)p.removeChild(q);if(typeof I=="function"){var Be=I;I=function(){var vt=n2(Ye);Be.call(vt)}}var Ye=jS(p,0,!1,null,null,!1,!1,"",fD);return p._reactRootContainer=Ye,p[ni]=Ye.current,Ou(p.nodeType===8?p.parentNode:p),B0(function(){r2(y,Ye,_,I)}),Ye}function i2(p,y,_,I,q){var te=_._reactRootContainer;if(te){var pe=te;if(typeof q=="function"){var Be=q;q=function(){var Ye=n2(pe);Be.call(Ye)}}r2(y,pe,p,q)}else pe=EZ(_,y,p,q,I);return n2(pe)}wd=function(p){switch(p.tag){case 3:var y=p.stateNode;if(y.current.memoizedState.isDehydrated){var _=Us(y.pendingLanes);_!==0&&(Fl(y,_|1),qo(y,Le()),(Sn&6)===0&&(zp=Le()+500,ne()))}break;case 13:B0(function(){var I=ms(p,1);if(I!==null){var q=go();Hc(I,p,1,q)}}),NS(p,1)}},d0=function(p){if(p.tag===13){var y=ms(p,134217728);if(y!==null){var _=go();Hc(y,p,134217728,_)}NS(p,134217728)}},wp=function(p){if(p.tag===13){var y=lf(p),_=ms(p,y);if(_!==null){var I=go();Hc(_,p,y,I)}NS(p,y)}},jp=function(){return Jr},Ih=function(p,y){var _=Jr;try{return Jr=p,y()}finally{Jr=_}},Qe=function(p,y,_){switch(y){case"input":if(Ae(p,_),y=_.name,_.type==="radio"&&y!=null){for(_=p;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<_.length;y++){var I=_[y];if(I!==p&&I.form===p.form){var q=A0(I);if(!q)throw Error(r(90));oe(I),Ae(I,q)}}}break;case"textarea":qe(p,_);break;case"select":y=_.value,y!=null&&le(p,!!_.multiple,y,!1)}},Ht=xS,Ar=B0;var TZ={usingClientEntryPoint:!1,Events:[ef,Bu,A0,Nt,qt,xS]},_v={findFiberByHostInstance:Pd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MZ={bundleType:_v.bundleType,version:_v.version,rendererPackageName:_v.rendererPackageName,rendererConfig:_v.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=ct(p),p===null?null:p.stateNode},findFiberByHostInstance:_v.findFiberByHostInstance||kZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o2.isDisabled&&o2.supportsFiber)try{lr=o2.inject(MZ),_r=o2}catch{}}return Go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TZ,Go.createPortal=function(p,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_S(y))throw Error(r(200));return CZ(p,y,null,_)},Go.createRoot=function(p,y){if(!_S(p))throw Error(r(299));var _=!1,I="",q=hD;return y!=null&&(y.unstable_strictMode===!0&&(_=!0),y.identifierPrefix!==void 0&&(I=y.identifierPrefix),y.onRecoverableError!==void 0&&(q=y.onRecoverableError)),y=jS(p,1,!1,null,null,_,!1,I,q),p[ni]=y.current,Ou(p.nodeType===8?p.parentNode:p),new SS(y)},Go.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=ct(y),p=p===null?null:p.stateNode,p},Go.flushSync=function(p){return B0(p)},Go.hydrate=function(p,y,_){if(!a2(y))throw Error(r(200));return i2(null,p,y,!0,_)},Go.hydrateRoot=function(p,y,_){if(!_S(p))throw Error(r(405));var I=_!=null&&_.hydratedSources||null,q=!1,te="",pe=hD;if(_!=null&&(_.unstable_strictMode===!0&&(q=!0),_.identifierPrefix!==void 0&&(te=_.identifierPrefix),_.onRecoverableError!==void 0&&(pe=_.onRecoverableError)),y=dD(y,null,p,1,_??null,q,!1,te,pe),p[ni]=y.current,Ou(p),I)for(p=0;p<I.length;p++)_=I[p],q=_._getVersion,q=q(_._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[_,q]:y.mutableSourceEagerHydrationData.push(_,q);return new s2(y)},Go.render=function(p,y,_){if(!a2(y))throw Error(r(200));return i2(null,p,y,!1,_)},Go.unmountComponentAtNode=function(p){if(!a2(p))throw Error(r(40));return p._reactRootContainer?(B0(function(){i2(null,null,p,!1,function(){p._reactRootContainer=null,p[ni]=null})}),!0):!1},Go.unstable_batchedUpdates=xS,Go.unstable_renderSubtreeIntoContainer=function(p,y,_,I){if(!a2(_))throw Error(r(200));if(p==null||p._reactInternals===void 0)throw Error(r(38));return i2(p,y,_,!1,I)},Go.version="18.2.0-next-9e3b772b8-20220608",Go}var wD;function zZ(){if(wD)return kS.exports;wD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kS.exports=UZ(),kS.exports}var jD;function $Z(){if(jD)return c2;jD=1;var t=zZ();return c2.createRoot=t.createRoot,c2.hydrateRoot=t.hydrateRoot,c2}var HZ=$Z(),L=gT();const Ue=ns(L);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ND="popstate";function WZ(t={}){function e(s,a){let{pathname:i,search:o,hash:l}=s.location;return b6("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Fy(a)}return GZ(e,r,null,t)}function Ys(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qZ(){return Math.random().toString(36).substring(2,10)}function SD(t,e){return{usr:t.state,key:t.key,idx:e}}function b6(t,e,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?kg(e):e,state:r,key:e&&e.key||s||qZ()}}function Fy({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kg(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function GZ(t,e,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let g=u(),b=g==null?null:g-d;d=g,c&&c({action:l,location:v.location,delta:b})}function m(g,b){l="PUSH";let N=b6(v.location,g,b);d=u()+1;let w=SD(N,d),A=v.createHref(N);try{o.pushState(w,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(A)}i&&c&&c({action:l,location:v.location,delta:1})}function f(g,b){l="REPLACE";let N=b6(v.location,g,b);d=u();let w=SD(N,d),A=v.createHref(N);o.replaceState(w,"",A),i&&c&&c({action:l,location:v.location,delta:0})}function x(g){return VZ(g)}let v={get action(){return l},get location(){return t(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ND,h),c=g,()=>{a.removeEventListener(ND,h),c=null}},createHref(g){return e(a,g)},createURL:x,encodeLocation(g){let b=x(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:f,go(g){return o.go(g)}};return v}function VZ(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ys(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Fy(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function ZH(t,e,r="/"){return XZ(t,e,r,!1)}function XZ(t,e,r,s){let a=typeof e=="string"?kg(e):e,i=Ch(a.pathname||"/",r);if(i==null)return null;let o=eW(t);YZ(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=iee(i);l=see(o[c],d,s)}return l}function eW(t,e=[],r=[],s="",a=!1){let i=(o,l,c=a,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;Ys(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let h=yh([s,u.relativePath]),m=r.concat(u);o.children&&o.children.length>0&&(Ys(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),eW(o.children,e,m,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:ree(h,o.index),routesMeta:m})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of tW(o.path))i(o,l,!0,d)}),e}function tW(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=tW(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function YZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:nee(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var KZ=/^:[\w-]+$/,JZ=3,QZ=2,ZZ=1,eee=10,tee=-2,_D=t=>t==="*";function ree(t,e){let r=t.split("/"),s=r.length;return r.some(_D)&&(s+=tee),e&&(s+=QZ),r.filter(a=>!_D(a)).reduce((a,i)=>a+(KZ.test(i)?JZ:i===""?ZZ:eee),s)}function nee(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function see(t,e,r=!1){let{routesMeta:s}=t,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Yw({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!s[s.length-1].route.index&&(h=Yw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:yh([i,h.pathname]),pathnameBase:uee(yh([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=yh([i,h.pathnameBase]))}return o}function Yw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=aee(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:h},m)=>{if(u==="*"){let x=l[m]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const f=l[m];return h&&!f?d[u]=void 0:d[u]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function aee(t,e=!1,r=!0){Dl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function iee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ch(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}var oee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lee=t=>oee.test(t);function cee(t,e="/"){let{pathname:r,search:s="",hash:a=""}=typeof t=="string"?kg(t):t,i;if(r)if(lee(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Dl(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=AD(r.substring(1),"/"):i=AD(r,e)}else i=e;return{pathname:i,search:hee(s),hash:fee(a)}}function AD(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function MS(t,e,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dee(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vT(t){let e=dee(t);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function yT(t,e,r,s=!1){let a;typeof t=="string"?a=kg(t):(a={...t},Ys(!a.pathname||!a.pathname.includes("?"),MS("?","pathname","search",a)),Ys(!a.pathname||!a.pathname.includes("#"),MS("#","pathname","hash",a)),Ys(!a.search||!a.search.includes("#"),MS("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=cee(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var yh=t=>t.join("/").replace(/\/\/+/g,"/"),uee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rW=["POST","PUT","PATCH","DELETE"];new Set(rW);var pee=["GET",...rW];new Set(pee);var Eg=L.createContext(null);Eg.displayName="DataRouter";var ON=L.createContext(null);ON.displayName="DataRouterState";L.createContext(!1);var nW=L.createContext({isTransitioning:!1});nW.displayName="ViewTransition";var xee=L.createContext(new Map);xee.displayName="Fetchers";var gee=L.createContext(null);gee.displayName="Await";var md=L.createContext(null);md.displayName="Navigation";var Vb=L.createContext(null);Vb.displayName="Location";var pd=L.createContext({outlet:null,matches:[],isDataRoute:!1});pd.displayName="Route";var bT=L.createContext(null);bT.displayName="RouteError";function vee(t,{relative:e}={}){Ys(Tg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=L.useContext(md),{hash:a,pathname:i,search:o}=Xb(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:yh([r,i])),s.createHref({pathname:l,search:o,hash:a})}function Tg(){return L.useContext(Vb)!=null}function Nc(){return Ys(Tg(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Vb).location}var sW="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aW(t){L.useContext(md).static||L.useLayoutEffect(t)}function xi(){let{isDataRoute:t}=L.useContext(pd);return t?Mee():yee()}function yee(){Ys(Tg(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Eg),{basename:e,navigator:r}=L.useContext(md),{matches:s}=L.useContext(pd),{pathname:a}=Nc(),i=JSON.stringify(vT(s)),o=L.useRef(!1);return aW(()=>{o.current=!0}),L.useCallback((c,d={})=>{if(Dl(o.current,sW),!o.current)return;if(typeof c=="number"){r.go(c);return}let u=yT(c,JSON.parse(i),a,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:yh([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,i,a,t])}L.createContext(null);function iW(){let{matches:t}=L.useContext(pd),e=t[t.length-1];return e?e.params:{}}function Xb(t,{relative:e}={}){let{matches:r}=L.useContext(pd),{pathname:s}=Nc(),a=JSON.stringify(vT(r));return L.useMemo(()=>yT(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function bee(t,e){return oW(t,e)}function oW(t,e,r,s,a){var N;Ys(Tg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(md),{matches:o}=L.useContext(pd),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let w=h&&h.path||"";lW(d,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=Nc(),f;if(e){let w=typeof e=="string"?kg(e):e;Ys(u==="/"||((N=w.pathname)==null?void 0:N.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),f=w}else f=m;let x=f.pathname||"/",v=x;if(u!=="/"){let w=u.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=ZH(t,{pathname:v});Dl(h||g!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Dl(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=_ee(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:yh([u,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:yh([u,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,s,a);return e&&b?L.createElement(Vb.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},b):b}function wee(){let t=Tee(),e=mee(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:i},"ErrorBoundary")," or"," ",L.createElement("code",{style:i},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),r?L.createElement("pre",{style:a},r):null,o)}var jee=L.createElement(wee,null),Nee=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?L.createElement(pd.Provider,{value:this.props.routeContext},L.createElement(bT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function See({routeContext:t,match:e,children:r}){let s=L.useContext(Eg);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(pd.Provider,{value:t},r)}function _ee(t,e=[],r=null,s=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ys(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:f}=r,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=r&&s?(u,h)=>{var m,f;s(u,{location:r.location,params:((f=(m=r.matches)==null?void 0:m[0])==null?void 0:f.params)??{},errorInfo:h})}:void 0;return i.reduceRight((u,h,m)=>{let f,x=!1,v=null,g=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||jee,l&&(c<0&&m===0?(lW("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,g=null):c===m&&(x=!0,g=h.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,m+1)),N=()=>{let w;return f?w=v:x?w=g:h.route.Component?w=L.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,L.createElement(See,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?L.createElement(Nee,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:d}):N()},null)}function wT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aee(t){let e=L.useContext(Eg);return Ys(e,wT(t)),e}function Cee(t){let e=L.useContext(ON);return Ys(e,wT(t)),e}function kee(t){let e=L.useContext(pd);return Ys(e,wT(t)),e}function jT(t){let e=kee(t),r=e.matches[e.matches.length-1];return Ys(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Eee(){return jT("useRouteId")}function Tee(){var s;let t=L.useContext(bT),e=Cee("useRouteError"),r=jT("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[r]}function Mee(){let{router:t}=Aee("useNavigate"),e=jT("useNavigate"),r=L.useRef(!1);return aW(()=>{r.current=!0}),L.useCallback(async(a,i={})=>{Dl(r.current,sW),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var CD={};function lW(t,e,r){!e&&!CD[t]&&(CD[t]=!0,Dl(!1,r))}L.memo(Pee);function Pee({routes:t,future:e,state:r,unstable_onError:s}){return oW(t,void 0,r,s,e)}function kD({to:t,replace:e,state:r,relative:s}){Ys(Tg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(md);Dl(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=L.useContext(pd),{pathname:o}=Nc(),l=xi(),c=yT(t,vT(i),o,s==="path"),d=JSON.stringify(c);return L.useEffect(()=>{l(JSON.parse(d),{replace:e,state:r,relative:s})},[l,d,s,e,r]),null}function Yt(t){Ys(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dee({basename:t="/",children:e=null,location:r,navigationType:s="POP",navigator:a,static:i=!1}){Ys(!Tg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=kg(r));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:m="default"}=r,f=L.useMemo(()=>{let x=Ch(c,o);return x==null?null:{location:{pathname:x,search:d,hash:u,state:h,key:m},navigationType:s}},[o,c,d,u,h,m,s]);return Dl(f!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:L.createElement(md.Provider,{value:l},L.createElement(Vb.Provider,{children:e,value:f}))}function IN({children:t,location:e}){return bee(w6(t),e)}function w6(t,e=[]){let r=[];return L.Children.forEach(t,(s,a)=>{if(!L.isValidElement(s))return;let i=[...e,a];if(s.type===L.Fragment){r.push.apply(r,w6(s.props.children,i));return}Ys(s.type===Yt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ys(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=w6(s.props.children,i)),r.push(o)}),r}var Tw="get",Mw="application/x-www-form-urlencoded";function FN(t){return t!=null&&typeof t.tagName=="string"}function Ree(t){return FN(t)&&t.tagName.toLowerCase()==="button"}function Lee(t){return FN(t)&&t.tagName.toLowerCase()==="form"}function Oee(t){return FN(t)&&t.tagName.toLowerCase()==="input"}function Iee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Fee(t,e){return t.button===0&&(!e||e==="_self")&&!Iee(t)}function j6(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Bee(t,e){let r=j6(t);return e&&e.forEach((s,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}var d2=null;function Uee(){if(d2===null)try{new FormData(document.createElement("form"),0),d2=!1}catch{d2=!0}return d2}var zee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function PS(t){return t!=null&&!zee.has(t)?(Dl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mw}"`),null):t}function $ee(t,e){let r,s,a,i,o;if(Lee(t)){let l=t.getAttribute("action");s=l?Ch(l,e):null,r=t.getAttribute("method")||Tw,a=PS(t.getAttribute("enctype"))||Mw,i=new FormData(t)}else if(Ree(t)||Oee(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(s=c?Ch(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Tw,a=PS(t.getAttribute("formenctype"))||PS(l.getAttribute("enctype"))||Mw,i=new FormData(l,t),!Uee()){let{name:d,type:u,value:h}=t;if(u==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,h)}}else{if(FN(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Tw,s=null,a=Mw,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function NT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hee(t,e,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${r}`:e&&Ch(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function Wee(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qee(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Gee(t,e,r){let s=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await Wee(i,r);return o.links?o.links():[]}return[]}));return Kee(s.flat(1).filter(qee).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ED(t,e,r,s,a,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var h;let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Vee(t,e,{includeHydrateFallback:r}={}){return Xee(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Xee(t){return[...new Set(t)]}function Yee(t){let e={},r=Object.keys(t).sort();for(let s of r)e[s]=t[s];return e}function Kee(t,e){let r=new Set;return new Set(e),t.reduce((s,a)=>{let i=JSON.stringify(Yee(a));return r.has(i)||(r.add(i),s.push({key:i,link:a})),s},[])}function cW(){let t=L.useContext(Eg);return NT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Jee(){let t=L.useContext(ON);return NT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ST=L.createContext(void 0);ST.displayName="FrameworkContext";function dW(){let t=L.useContext(ST);return NT(t,"You must render this element inside a <HydratedRouter> element"),t}function Qee(t,e){let r=L.useContext(ST),[s,a]=L.useState(!1),[i,o]=L.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,m=L.useRef(null);L.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=b=>{b.forEach(N=>{o(N.isIntersecting)})},g=new IntersectionObserver(v,{threshold:.5});return m.current&&g.observe(m.current),()=>{g.disconnect()}}},[t]),L.useEffect(()=>{if(s){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[s]);let f=()=>{a(!0)},x=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,m,{}]:[i,m,{onFocus:Cv(l,f),onBlur:Cv(c,x),onMouseEnter:Cv(d,f),onMouseLeave:Cv(u,x),onTouchStart:Cv(h,f)}]:[!1,m,{}]}function Cv(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Zee({page:t,...e}){let{router:r}=cW(),s=L.useMemo(()=>ZH(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?L.createElement(tte,{page:t,matches:s,...e}):null}function ete(t){let{manifest:e,routeModules:r}=dW(),[s,a]=L.useState([]);return L.useEffect(()=>{let i=!1;return Gee(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),s}function tte({page:t,matches:e,...r}){let s=Nc(),{manifest:a,routeModules:i}=dW(),{basename:o}=cW(),{loaderData:l,matches:c}=Jee(),d=L.useMemo(()=>ED(t,e,c,a,s,"data"),[t,e,c,a,s]),u=L.useMemo(()=>ED(t,e,c,a,s,"assets"),[t,e,c,a,s]),h=L.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let x=new Set,v=!1;if(e.forEach(b=>{var w;let N=a.routes[b.route.id];!N||!N.hasLoader||(!d.some(A=>A.route.id===b.route.id)&&b.route.id in l&&((w=i[b.route.id])!=null&&w.shouldRevalidate)||N.hasClientLoader?v=!0:x.add(b.route.id))}),x.size===0)return[];let g=Hee(t,o,"data");return v&&x.size>0&&g.searchParams.set("_routes",e.filter(b=>x.has(b.route.id)).map(b=>b.route.id).join(",")),[g.pathname+g.search]},[o,l,s,a,d,e,t,i]),m=L.useMemo(()=>Vee(u,a),[u,a]),f=ete(u);return L.createElement(L.Fragment,null,h.map(x=>L.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),m.map(x=>L.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),f.map(({key:x,link:v})=>L.createElement("link",{key:x,nonce:r.nonce,...v})))}function rte(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var uW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uW&&(window.__reactRouterVersion="7.9.6")}catch{}function nte({basename:t,children:e,window:r}){let s=L.useRef();s.current==null&&(s.current=WZ({window:r,v5Compat:!0}));let a=s.current,[i,o]=L.useState({action:a.action,location:a.location}),l=L.useCallback(c=>{L.startTransition(()=>o(c))},[o]);return L.useLayoutEffect(()=>a.listen(l),[a,l]),L.createElement(Dee,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var hW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ux=L.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...m},f){let{basename:x}=L.useContext(md),v=typeof d=="string"&&hW.test(d),g,b=!1;if(typeof d=="string"&&v&&(g=d,uW))try{let C=new URL(window.location.href),T=d.startsWith("//")?new URL(C.protocol+d):new URL(d),k=Ch(T.pathname,x);T.origin===C.origin&&k!=null?d=k+T.search+T.hash:b=!0}catch{Dl(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=vee(d,{relative:a}),[w,A,j]=Qee(s,m),S=ite(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function E(C){e&&e(C),C.defaultPrevented||S(C)}let R=L.createElement("a",{...m,...j,href:g||N,onClick:b||i?e:E,ref:rte(f,A),target:c,"data-discover":!v&&r==="render"?"true":void 0});return w&&!v?L.createElement(L.Fragment,null,R,L.createElement(Zee,{page:N})):R});Ux.displayName="Link";var N6=L.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let h=Xb(o,{relative:d.relative}),m=Nc(),f=L.useContext(ON),{navigator:x,basename:v}=L.useContext(md),g=f!=null&&hte(h)&&l===!0,b=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,N=m.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(N=N.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&v&&(w=Ch(w,v)||w);const A=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=N===b||!a&&N.startsWith(b)&&N.charAt(A)==="/",S=w!=null&&(w===b||!a&&w.startsWith(b)&&w.charAt(b.length)==="/"),E={isActive:j,isPending:S,isTransitioning:g},R=j?e:void 0,C;typeof s=="function"?C=s(E):C=[s,j?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(E):i;return L.createElement(Ux,{...d,"aria-current":R,className:C,ref:u,style:T,to:o,viewTransition:l},typeof c=="function"?c(E):c)});N6.displayName="NavLink";var ste=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:a,state:i,method:o=Tw,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...m},f)=>{let x=dte(),v=ute(l,{relative:d}),g=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&hW.test(l),N=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let A=w.nativeEvent.submitter,j=(A==null?void 0:A.getAttribute("formmethod"))||o;x(A||w.currentTarget,{fetcherKey:e,method:j,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:h})};return L.createElement("form",{ref:f,method:g,action:v,onSubmit:s?c:N,...m,"data-discover":!b&&t==="render"?"true":void 0})});ste.displayName="Form";function ate(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fW(t){let e=L.useContext(Eg);return Ys(e,ate(t)),e}function ite(t,{target:e,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=xi(),c=Nc(),d=Xb(t,{relative:i});return L.useCallback(u=>{if(Fee(u,e)){u.preventDefault();let h=r!==void 0?r:Fy(c)===Fy(d);l(t,{replace:h,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,s,e,t,a,i,o])}function ote(t){Dl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(j6(t)),r=L.useRef(!1),s=Nc(),a=L.useMemo(()=>Bee(s.search,r.current?null:e.current),[s.search]),i=xi(),o=L.useCallback((l,c)=>{const d=j6(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var lte=0,cte=()=>`__${String(++lte)}__`;function dte(){let{router:t}=fW("useSubmit"),{basename:e}=L.useContext(md),r=Eee();return L.useCallback(async(s,a={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=$ee(s,e);if(a.navigate===!1){let u=a.fetcherKey||cte();await t.fetch(u,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function ute(t,{relative:e}={}){let{basename:r}=L.useContext(md),s=L.useContext(pd);Ys(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...Xb(t||".",{relative:e})},o=Nc();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:yh([r,i.pathname])),Fy(i)}function hte(t,{relative:e}={}){let r=L.useContext(nW);Ys(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fW("useViewTransitionState"),a=Xb(t,{relative:e});if(!r.isTransitioning)return!1;let i=Ch(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=Ch(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Yw(a.pathname,o)!=null||Yw(a.pathname,i)!=null}/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mte=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),TD=t=>{const e=mte(t);return e.charAt(0).toUpperCase()+e.slice(1)},mW=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),pte=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>L.createElement("svg",{ref:c,...xte,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:mW("lucide",a),...!i&&!pte(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>L.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const r=L.forwardRef(({className:s,...a},i)=>L.createElement(gte,{ref:i,iconNode:e,className:mW(`lucide-${fte(TD(t))}`,`lucide-${t}`,s),...a}));return r.displayName=TD(t),r};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Qa=pt("activity",vte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],S6=pt("archive",yte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],_6=pt("arrow-down",bte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],MD=pt("arrow-left-right",wte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],al=pt("arrow-left",jte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],By=pt("arrow-right",Nte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],PD=pt("arrow-up-right",Ste);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],zx=pt("arrow-up",_te);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Cte=pt("at-sign",Ate);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Kn=pt("award",kte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],Tte=pt("baby",Ete);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DD=pt("badge-check",Mte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Dte=pt("battery",Pte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Lte=pt("bell-ring",Rte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bs=pt("bell",Ote);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],kr=pt("book-open",Ite);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],BN=pt("book",Fte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],Ute=pt("bookmark-check",Bte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Kw=pt("bookmark",zte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],pW=pt("bot",$te);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Pn=pt("brain",Hte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_T=pt("briefcase",Wte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],A6=pt("building-2",qte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Vte=pt("building",Gte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],xW=pt("bus",Xte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],UN=pt("calculator",Yte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Jte=pt("calendar-check",Kte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Zte=pt("calendar-days",Qte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kt=pt("calendar",ere);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],AT=pt("camera",tre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nre=pt("chart-column-increasing",rre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ds=pt("chart-column",sre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],ire=pt("chart-no-axes-column",are);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],gW=pt("chart-pie",ore);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],cre=pt("check-check",lre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Uy=pt("check",dre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bs=pt("chevron-down",ure);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xd=pt("chevron-left",hre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vs=pt("chevron-right",fre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pre=pt("chevron-up",mre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zr=pt("circle-alert",xre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dr=pt("circle-check-big",gre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pw=pt("circle-check",vre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bre=pt("circle-help",yre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],jre=pt("circle-plus",wre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Sre=pt("circle-user",Nre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ti=pt("circle-x",_re);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Dw=pt("clipboard-check",Are);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],C6=pt("clipboard-list",Cre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],nr=pt("clock",kre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],RD=pt("coffee",Ere);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],CT=pt("coins",Tre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zy=pt("copy",Mre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Cl=pt("credit-card",Pre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],iu=pt("dollar-sign",Dre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tn=pt("download",Rre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],fc=pt("ellipsis-vertical",Lre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ire=pt("ellipsis",Ore);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Bre=pt("external-link",Fre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$y=pt("eye-off",Ure);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rn=pt("eye",zre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],Hre=pt("file-chart-column-increasing",$re);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],qre=pt("file-check",Wre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],vW=pt("file-down",Gre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jr=pt("file-text",Vre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Yre=pt("file",Xre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],LD=pt("flag",Kre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Hy=pt("frown",Jre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],co=pt("funnel",Qre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],ene=pt("gamepad-2",Zre);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fm=pt("globe",tne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],na=pt("graduation-cap",rne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zN=pt("grid-3x3",nne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ane=pt("hash",sne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],il=pt("heart",ine);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Mg=pt("house",one);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],_f=pt("indian-rupee",lne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Yb=pt("info",cne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],une=pt("key-round",dne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Kb=pt("layers",hne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Jb=pt("lightbulb",fne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],pne=pt("list-ordered",mne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],$N=pt("list",xne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$x=pt("loader-circle",gne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yf=pt("lock",vne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wy=pt("log-out",yne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mc=pt("mail",bne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ld=pt("map-pin",wne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],k6=pt("maximize-2",jne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],yW=pt("medal",Nne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Jw=pt("meh",Sne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],HN=pt("menu",_ne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ou=pt("message-circle",Ane);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],vs=pt("message-square",Cne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],bW=pt("mic",kne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Tne=pt("minimize-2",Ene);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M5 12h14",key:"1ays0h"}]],Pne=pt("minus",Mne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Rne=pt("monitor",Dne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],One=pt("moon",Lne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Fne=pt("network",Ine);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],kT=pt("paperclip",Bne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],zne=pt("pause",Une);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Ao=pt("pen-line",$ne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Zd=pt("pen-tool",Hne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qb=pt("pen",Wne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Sc=pt("phone",qne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Vne=pt("piggy-bank",Gne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],OD=pt("pin",Xne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],mi=pt("play",Yne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dn=pt("plus",Kne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Qne=pt("printer",Jne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],wW=pt("receipt",Zne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],tse=pt("refresh-ccw",ese);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pg=pt("refresh-cw",rse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],sse=pt("rocket",nse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],io=pt("rotate-ccw",ase);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],jW=pt("ruler",ise);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ET=pt("save",ose);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],zf=pt("school",lse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],In=pt("search",cse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],np=pt("send",dse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kf=pt("settings",use);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Zb=pt("share-2",hse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],mse=pt("share",fse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rw=pt("shield-check",pse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qw=pt("shield",xse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],vse=pt("shopping-cart",gse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],NW=pt("shuffle",yse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Xd=pt("smile",bse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],SW=pt("sparkles",wse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],TT=pt("square-pen",jse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kr=pt("star",Nse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Zw=pt("sun",Sse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rs=pt("target",_se);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],pc=pt("trash-2",Ase);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],ID=pt("trash",Cse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Ese=pt("tree-pine",kse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],MT=pt("trending-down",Tse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jo=pt("triangle-alert",Mse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Yr=pt("trending-up",Pse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],el=pt("trophy",Dse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WN=pt("upload",Rse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xc=pt("user-check",Lse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],PT=pt("user-plus",Ose);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]],Fse=pt("user-search",Ise);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Use=pt("user-x",Bse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pn=pt("user",zse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Hse=pt("users-round",$se);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sr=pt("users",Wse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Bm=pt("video",qse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Vse=pt("volume-2",Gse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Yse=pt("volume-x",Xse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Jse=pt("wallet",Kse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],Zse=pt("weight",Qse);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],tae=pt("wifi",eae);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ts=pt("x",rae);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lu=pt("zap",nae),sae=()=>{const[t,e]=L.useState(!1),[r,s]=L.useState("Student"),[a,i]=L.useState({username:"",password:"",rememberMe:!1}),[o,l]=L.useState({}),[c,d]=L.useState(!1),u=xi(),h=x=>{const{name:v,value:g,type:b,checked:N}=x.target;i(w=>({...w,[v]:b==="checkbox"?N:g})),o[v]&&l(w=>({...w,[v]:""}))},m=()=>{const x={};return a.username.trim()||(x.username="Username is required"),a.password?a.password.length<6&&(x.password="Password must be at least 6 characters"):x.password="Password is required",l(x),Object.keys(x).length===0},f=async x=>{if(x.preventDefault(),!!m()){d(!0);try{let v="";switch(r){case"Student":v="/api/student/auth/login";break;case"Teacher":v="/api/teacher/auth/login";break;case"Parent":v="/api/parent/auth/login";break;case"Principal":v="/api/principal/auth/login";break;case"Admin":v="/api/admin/auth/login";break;default:break}const g=await fetch(`http://localhost:5000${v}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.username,password:a.password})});if(!g.ok)throw new Error("Login failed");const b=await g.json();switch(localStorage.setItem("token",b.token),localStorage.setItem("userType",r),r){case"Student":u("/dashboard");break;case"Teacher":u("/teachers");break;case"Parent":u("/parents");break;case"Principal":u("/principal");break;case"Admin":u("/admin/dashboard");break;default:u("/dashboard");break}}catch(v){console.error("Login failed:",v)}finally{d(!1)}}};return n.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-[url('/xavier.jpeg')] bg-no-repeat bg-cover bg-center",children:n.jsxs("div",{className:"bg-white/90  backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full mx-auto space-y-6 border border-purple-600",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center mb-4",children:n.jsx(Yf,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-500 to-amber-600 bg-clip-text text-transparent",children:"Welcome to EEC"}),n.jsx("p",{className:"text-gray-600",children:"Please sign in to your account"})]}),n.jsxs("form",{onSubmit:f,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"User Type"}),n.jsxs("select",{name:"userType",value:r,onChange:x=>s(x.target.value),className:"w-full pl-3 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none border-gray-300 hover:border-gray-400 focus:bg-white",children:[n.jsx("option",{value:"Student",children:"Student"}),n.jsx("option",{value:"Teacher",children:"Teacher"}),n.jsx("option",{value:"Parent",children:"Parent"}),n.jsx("option",{value:"Principal",children:"Principal"}),n.jsx("option",{value:"Admin",children:"Admin"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx(pn,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",name:"username",value:a.username,onChange:h,placeholder:"Enter your username",className:`w-full pl-10 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.username?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),o.username&&n.jsx("p",{className:"text-red-500 text-sm",children:o.username})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Password"}),n.jsx("button",{type:"button",className:"text-sm text-yellow-600 hover:text-amber-700 transition-colors duration-200",children:"Forgot password?"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Yf,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:t?"text":"password",name:"password",value:a.password,onChange:h,placeholder:"Enter your password",className:`w-full pl-10 pr-12 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.password?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),n.jsx("button",{type:"button",className:"absolute right-3 top-1 text-gray-400 hover:text-gray-600",onClick:()=>e(!t),children:t?n.jsx($y,{size:20}):n.jsx(Rn,{size:20})})]}),o.password&&n.jsx("p",{className:"text-red-500 text-sm ",children:o.password})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"remember",name:"rememberMe",checked:a.rememberMe,onChange:h,className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),n.jsx("label",{htmlFor:"remember",className:"ml-2 text-sm text-gray-700",children:"Remember me for 30 days"})]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 text-white py-3 rounded-xl hover:from-yellow-600 hover:to-amber-600 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center justify-center gap-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]})]})})},aae=()=>{const[t,e]=L.useState(!1),[r,s]=L.useState(!1),[a,i]=L.useState({username:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[o,l]=L.useState({}),[c,d]=L.useState(!1),u=v=>{const{name:g,value:b,type:N,checked:w}=v.target;i(A=>({...A,[g]:N==="checkbox"?w:b})),o[g]&&l(A=>({...A,[g]:""}))},h=()=>{const v={};return a.username.trim()?a.username.length<3&&(v.username="Username must be at least 3 characters"):v.username="Username is required",a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(v.email="Please enter a valid email address"):v.email="Email is required",a.password?a.password.length<8?v.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(a.password)||(v.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):v.password="Password is required",a.confirmPassword?a.password!==a.confirmPassword&&(v.confirmPassword="Passwords do not match"):v.confirmPassword="Please confirm your password",a.agreeToTerms||(v.agreeToTerms="You must agree to the terms and conditions"),l(v),Object.keys(v).length===0},m=async v=>{if(v.preventDefault(),!!h()){d(!0);try{await new Promise(g=>setTimeout(g,2e3)),console.log("Registration attempt:",{username:a.username,email:a.email,password:a.password})}catch(g){console.error("Registration failed:",g)}finally{d(!1)}}},f=()=>{console.log("Redirect to Google OAuth for signup")},x=()=>{console.log("Redirect to login page")};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 px-4 py-8",children:n.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-8 max-w-md w-full space-y-6 border border-white/20",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-yellow-500 to-amber-600 rounded-full flex items-center justify-center mb-4",children:n.jsx(PT,{className:"w-8 h-8 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-yellow-600 to-amber-600 bg-clip-text text-transparent",children:"Join EEC"}),n.jsx("p",{className:"text-gray-600",children:"Create your account to get started"})]}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx(pn,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",name:"username",value:a.username,onChange:u,placeholder:"Choose a username",className:`w-full pl-10 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.username?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),o.username&&n.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.username})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(mc,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"email",name:"email",value:a.email,onChange:u,placeholder:"Enter your email",className:`w-full pl-10 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.email?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`})]}),o.email&&n.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Yf,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:t?"text":"password",name:"password",value:a.password,onChange:u,placeholder:"Create a strong password",className:`w-full pl-10 pr-12 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.password?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),n.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>e(!t),children:t?n.jsx($y,{size:20}):n.jsx(Rn,{size:20})})]}),o.password&&n.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.password})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 text-left",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Yf,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:u,placeholder:"Confirm your password",className:`w-full pl-10 pr-12 py-3 border rounded-xl shadow-sm transition-all duration-200 focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none ${o.confirmPassword?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400 focus:bg-white"}`}),n.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>s(!r),children:r?n.jsx($y,{size:20}):n.jsx(Rn,{size:20})})]}),o.confirmPassword&&n.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.confirmPassword})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("input",{type:"checkbox",id:"terms",name:"agreeToTerms",checked:a.agreeToTerms,onChange:u,className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500 mt-1"}),n.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-700 leading-5",children:["I agree to the"," ",n.jsx("button",{type:"button",className:"text-yellow-600 hover:text-yellow-800 underline font-medium",children:"Terms of Service"})," ","and"," ",n.jsx("button",{type:"button",className:"text-yellow-600 hover:text-yellow-800 underline font-medium",children:"Privacy Policy"})]})]}),o.agreeToTerms&&n.jsx("p",{className:"text-red-500 text-sm flex items-center gap-1",children:o.agreeToTerms})]}),n.jsx("button",{type:"submit",disabled:c,onClick:m,className:"w-full bg-gradient-to-r from-yellow-600 to-amber-600 text-white py-3 rounded-xl hover:from-yellow-700 hover:to-amber-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Account..."]}):"Create Account"}),n.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Already have an account?"," ",n.jsx("button",{type:"button",onClick:x,className:"text-yellow-600 hover:text-yellow-800 font-semibold transition-colors duration-200",children:"Sign In"})]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-white px-4 text-gray-500 font-medium",children:"or continue with"})})]}),n.jsxs("button",{type:"button",onClick:f,className:"w-full flex items-center justify-center gap-3 border border-gray-300 py-3 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 group",children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"Sign up with Google"})]})]})]})})},iae=({activeView:t,isOpen:e,setIsOpen:r})=>{const s=xi(),[a,i]=L.useState({}),o=!e,[l,c]=L.useState({name:"Student",username:"",grade:"",section:""});L.useEffect(()=>{(async()=>{try{const x=localStorage.getItem("token"),v=localStorage.getItem("userType");if(console.log("Fetching profile - Token:",x?"exists":"missing"),console.log("User Type:",v),!x||v!=="Student"){console.log("Skipping profile fetch - no token or not a student");return}const g="http://localhost:5000/api/student/auth/profile";console.log("Fetching from:",g);const b=await fetch(g,{headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(console.log("Response status:",b.status),b.ok){const N=await b.json();console.log("Profile data received:",N),c({name:N.name||"Student",username:N.username||"",grade:N.grade||"",section:N.section||""})}else{const N=await b.text();console.error("Profile fetch failed:",b.status,N)}}catch(x){console.error("Failed to fetch student profile:",x)}})()},[]);const d=f=>{const x=f==="dashboard"?"/dashboard":`/dashboard/${f}`;s(x)},u=f=>{d(f),typeof window<"u"&&window.innerWidth<768&&r(!1)},h=[{id:"dashboard",name:"Dashboard",icon:Mg,gradient:"from-blue-500 to-blue-600",description:"Overview & Analytics"},{id:"ai-learning",name:"AI Learning",icon:Pn,gradient:"from-purple-500 to-purple-600",description:"Smart Learning Hub",children:[{id:"ai-learning-courses",name:"AI Courses",icon:na},{id:"ai-learning-tutor",name:"AI Tutor",icon:Pn}]},{id:"academics",name:"Academics",icon:kr,gradient:"from-emerald-500 to-emerald-600",description:"Learning Materials",children:[{id:"assignments",name:"Assignments",icon:jr},{id:"assignments-journal",name:"Journal",icon:Yre},{id:"assignments-academic-alcove",name:"Study Hub",icon:rs},{id:"results",name:"Results",icon:ds}]},{id:"schedule",name:"Schedule",icon:Kt,gradient:"from-orange-500 to-orange-600",description:"Time Management",children:[{id:"routine",name:"Daily Routine",icon:Kt},{id:"attendance",name:"Attendance",icon:sr}]},{id:"communication",name:"Communication",icon:vs,gradient:"from-indigo-500 to-indigo-600",description:"Connect & Collaborate",children:[{id:"chat",name:"Messages",icon:ou},{id:"teacherfeedback",name:"Teacher Feedback",icon:Kr},{id:"excuse-letter",name:"Excuse Letter",icon:jr},{id:"noticeboard",name:"Notice Board",icon:Bs}]},{id:"wellness",name:"Wellness",icon:il,gradient:"from-pink-500 to-pink-600",description:"Health & Wellbeing",children:[{id:"wellbeing",name:"Mental Health",icon:il},{id:"achievements",name:"Achievements",icon:el}]}],m=()=>{localStorage.removeItem("token"),s("/")};return L.useEffect(()=>{const f=x=>{window.innerWidth<768&&e&&!x.target.closest(".sidebar")&&r(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[e,r]),n.jsxs(n.Fragment,{children:[e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden transition-opacity duration-300",onClick:()=>r(!1)}),n.jsxs("div",{className:`sidebar fixed md:relative h-screen bg-white shadow-2xl transition-all duration-500 ease-in-out z-50 flex flex-col border-r border-gray-200 overflow-x-hidden ${e?"w-80":"w-20"} ${e?"translate-x-0":"-translate-x-full md:translate-x-0"} ${e?"":"overflow-hidden"}`,style:{transitionProperty:"width, transform, box-shadow",transitionDuration:"0.4s",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"},"aria-label":"Sidebar",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsxs("div",{className:`transition-all duration-400 ease-in-out ${e?"opacity-100 transform translate-x-0":"opacity-0 transform -translate-x-4 pointer-events-none absolute inset-0"}`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-600 via-yellow-600 to-yellow-500 opacity-90"}),n.jsx("div",{className:"relative p-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center shadow-lg border border-white/30",children:n.jsx("img",{src:"/harrow-hall-school.png",className:"w-6 h-6 rounded-lg",alt:"School Logo"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"font-bold text-lg",children:l.name}),n.jsx("div",{className:"text-white/80 text-xs",children:l.grade&&l.section?`${l.grade} - Section ${l.section}`:`${l.name}'s Portal`})]})]}),n.jsx("button",{onClick:()=>r(!e),className:"md:hidden p-2 rounded-lg bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 transition-colors border border-white/30",children:n.jsx(ts,{size:20})})]})})]}),n.jsx("div",{className:`transition-all duration-400 ease-in-out ${e?"opacity-0 transform translate-x-4 pointer-events-none absolute inset-0":"opacity-100 transform translate-x-0"}`,children:n.jsx("div",{className:"p-2 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center shadow-md",children:n.jsx("img",{src:"/harrow-hall-school.png",className:"w-6 h-6 rounded-lg",alt:"School Logo"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),n.jsx("div",{className:"w-8 h-px bg-gray-300"})]})})})]}),n.jsx("nav",{className:`flex-1 overflow-y-auto overflow-x-hidden modern-scrollbar ${e?"px-4 py-6":"px-1 py-2"}`,children:n.jsx("div",{className:`${e?"space-y-2":"space-y-1"}`,children:h.map(f=>{var j,S;const x=f.icon,v=!!((j=f.children)!=null&&j.length),g=t===f.id||v&&t.startsWith(`${f.id}-`)||v&&((S=f.children)==null?void 0:S.some(E=>E.id===t)),b=v&&g,N=a[f.id]===void 0?b:a[f.id],w=v&&N&&!o,A=E=>{if(E.preventDefault(),E.stopPropagation(),v){if(o){u(f.id);return}i(R=>({...R,[f.id]:!N}))}else u(f.id)};return n.jsxs("div",{className:"mb-1",children:[n.jsxs("button",{onClick:A,className:`
                      ${v?"w-full flex items-center space-x-3 px-3 py-3 rounded-lg":"w-full flex items-center space-x-3 px-4 py-3 rounded-lg"}
                      group transition-all duration-300 ease-out transform
                      ${v?"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 active:scale-95":g?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 shadow-md border-l-4 border-yellow-500":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 active:scale-95 hover:border-l-4 hover:border-blue-300"}
                    `,children:[n.jsx(x,{size:20,className:`flex-shrink-0 transition-all duration-300 ${!v&&g?"text-yellow-600":"text-gray-600 group-hover:text-blue-600 group-hover:scale-110"}`}),!o&&n.jsx("span",{className:"font-medium flex-1 text-left transition-all duration-300",children:f.name}),!o&&v&&(w?n.jsx(bs,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-all duration-300 group-hover:rotate-180"}):n.jsx(Vs,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-all duration-300 group-hover:translate-x-1"}))]}),w&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:f.children.map(E=>{const R=E.icon,C=t===E.id;return n.jsxs("button",{onClick:T=>{T.preventDefault(),T.stopPropagation(),u(E.id)},className:`
                              w-full flex items-center space-x-3 px-4 py-2 rounded-lg
                              group transition-all duration-300 ease-out transform
                              ${C?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 border-l-2 border-yellow-500 shadow-sm":"text-gray-500 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 hover:text-gray-700 hover:shadow-sm hover:scale-105 active:scale-95 hover:border-l-2 hover:border-blue-200"}
                            `,children:[n.jsx(R,{size:16,className:`flex-shrink-0 transition-all duration-300 ${C?"text-yellow-600":"group-hover:text-blue-600 group-hover:scale-110"}`}),n.jsx("span",{className:"text-sm font-medium transition-all duration-300",children:E.name})]},E.id)})})]},f.id)})})}),n.jsx("div",{className:`border-t border-gray-200 ${e?"p-4":"p-2"}`,children:n.jsxs("div",{className:`${e?"space-y-2":"space-y-1"}`,children:[e?n.jsxs("button",{className:"group relative w-full flex items-center px-4 py-3 rounded-xl text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-md hover:scale-105 transition-all duration-300 ease-out transform active:scale-95",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gray-100 text-gray-600 group-hover:bg-blue-100 group-hover:text-blue-600 group-hover:scale-110 transition-all duration-300",children:n.jsx(Kf,{size:20,className:"flex-shrink-0 transition-all duration-300"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("div",{className:"font-medium text-sm transition-all duration-300",children:"Settings"}),n.jsx("div",{className:"text-xs text-gray-500 group-hover:text-blue-600 transition-all duration-300",children:"Preferences & Config"})]})]}):n.jsxs("button",{className:"group relative w-full h-12 flex items-center justify-center rounded-xl text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:scale-105 hover:shadow-md hover:text-gray-900 transition-all duration-300 ease-out transform active:scale-95",children:[n.jsx("div",{className:"relative flex items-center justify-center w-6 h-6 transition-all duration-300 text-gray-600 group-hover:text-blue-600 group-hover:scale-110",children:n.jsx(Kf,{size:18,strokeWidth:1.8,className:"flex-shrink-0 transition-all duration-300"})}),n.jsx("div",{className:"absolute left-full ml-3 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out transform translate-x-2 group-hover:translate-x-0 pointer-events-none z-50",children:n.jsxs("div",{className:"bg-gray-900 text-white px-4 py-3 rounded-xl shadow-2xl border border-gray-700 min-w-max",children:[n.jsx("div",{className:"font-semibold text-sm",children:"Settings"}),n.jsx("div",{className:"text-xs text-gray-300 mt-1",children:"Preferences & Config"}),n.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2",children:n.jsx("div",{className:"w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"})})]})}),n.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-transparent group-hover:ring-gray-300/30 transition-all duration-300"})]}),e?n.jsxs("button",{onClick:m,className:"group relative w-full flex items-center px-4 py-3 rounded-xl text-red-600 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:text-red-700 hover:shadow-md hover:scale-105 transition-all duration-300 ease-out transform active:scale-95",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-red-100 text-red-600 group-hover:bg-red-200 group-hover:scale-110 transition-all duration-300",children:n.jsx(Wy,{size:20,className:"flex-shrink-0 transition-all duration-300"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("div",{className:"font-medium text-sm transition-all duration-300",children:"Logout"}),n.jsx("div",{className:"text-xs text-red-500 group-hover:text-red-600 transition-all duration-300",children:"Sign out securely"})]})]}):n.jsxs("button",{onClick:m,className:"group relative w-full h-12 flex items-center justify-center rounded-xl text-red-500 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:scale-105 hover:shadow-md hover:text-red-600 transition-all duration-300 ease-out transform active:scale-95",children:[n.jsx("div",{className:"relative flex items-center justify-center w-6 h-6 transition-all duration-300 text-red-500 group-hover:text-red-600 group-hover:scale-110",children:n.jsx(Wy,{size:18,strokeWidth:1.8,className:"flex-shrink-0 transition-all duration-300"})}),n.jsx("div",{className:"absolute left-full ml-3 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-out transform translate-x-2 group-hover:translate-x-0 pointer-events-none z-50",children:n.jsxs("div",{className:"bg-gray-900 text-white px-4 py-3 rounded-xl shadow-2xl border border-gray-700 min-w-max",children:[n.jsx("div",{className:"font-semibold text-sm",children:"Logout"}),n.jsx("div",{className:"text-xs text-gray-300 mt-1",children:"Sign out securely"}),n.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-1 -translate-y-1/2",children:n.jsx("div",{className:"w-2 h-2 bg-gray-900 border-l border-t border-gray-700 rotate-45"})})]})}),n.jsx("div",{className:"absolute inset-0 rounded-xl ring-1 ring-transparent group-hover:ring-red-300/30 transition-all duration-300"})]})]})})]})]})},oae=({sidebarOpen:t,setSidebarOpen:e,onOpenProfile:r})=>{const s=xi(),[a]=L.useState(3),[i,o]=L.useState(!1),l=[{id:1,type:"assignment",message:"Math Assignment due tomorrow!",time:"2 hours ago"},{id:2,type:"exam",message:"Science Exam scheduled for Friday.",time:"1 day ago"},{id:3,type:"general",message:"School will be closed next Monday.",time:"3 days ago"}],[c,d]=L.useState(!1),[u,h]=L.useState({name:"Student",avatar:null,grade:"",section:""});L.useEffect(()=>{(async()=>{try{const g=localStorage.getItem("token"),b=localStorage.getItem("userType");if(console.log("Header - Token:",g?"exists":"missing","UserType:",b),!g||b!=="Student")return;const N="http://localhost:5000/api/student/auth/profile";console.log("Header - Fetching from:",N);const w=await fetch(N,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(console.log("Header - Response status:",w.status),w.ok){const A=await w.json();console.log("Header - Profile data received:",A),h({name:A.name||"Student",avatar:A.profilePic||null,grade:A.grade||"",section:A.section||""})}else{const A=await w.text();console.error("Header - Profile fetch failed:",w.status,A)}}catch(g){console.error("Header - Failed to fetch student profile:",g)}})()},[]);const{greeting:m,dateLabel:f}=L.useMemo(()=>{const v=new Date,g=v.getHours(),b=g<12?"Good morning":g<18?"Good afternoon":"Good evening",N=v.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"});return{greeting:b,dateLabel:N}},[]),x=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),s("/")};return n.jsx("header",{className:"sticky top-0 z-40 w-full backdrop-blur supports-[backdrop-filter]:bg-white/70 bg-white/80 border-b border-gray-200",children:n.jsx("div",{className:"px-2 sm:px-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-3 py-2 sm:py-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors","aria-label":"Toggle sidebar",children:n.jsx(HN,{size:22,className:"text-gray-700"})}),n.jsxs("div",{className:"hidden xs:block",children:[n.jsxs("div",{className:"text-sm sm:text-base font-semibold text-gray-900 truncate",children:[m,", ",u.name.split(" ")[0]]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(Zte,{size:14}),n.jsx("span",{children:f})]})]})]}),n.jsx("div",{className:"flex-1 max-w-xl",children:n.jsxs("div",{className:"relative flex items-center",children:[n.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search courses, assignments, or results",className:"w-full pl-9 pr-24 py-2 rounded-lg border border-gray-300 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none shadow-sm"}),n.jsx("button",{className:"absolute right-2 px-4 py-1.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium rounded-md transition-colors","aria-label":"Search",children:"Search"})]})}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",onClick:()=>o(v=>!v),"aria-label":"Show notifications",children:[n.jsx(Bs,{size:20,className:"text-gray-700"}),a>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] rounded-full min-w-[18px] h-[18px] px-1 flex items-center justify-center",children:a})]}),i&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-xs bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[n.jsx("div",{className:"p-3 border-b bg-gray-50 font-semibold text-gray-800",children:"Notifications"}),n.jsx("ul",{className:"divide-y divide-gray-100 max-h-64 overflow-y-auto",children:l.map(v=>n.jsxs("li",{className:"px-4 py-3 flex items-start gap-3 hover:bg-gray-50 transition-colors",children:[n.jsx("span",{className:`mt-1 w-2 h-2 rounded-full ${v.type==="assignment"?"bg-yellow-500":v.type==="exam"?"bg-blue-500":"bg-gray-400"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-sm text-gray-800 truncate",children:v.message}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:v.time})]})]},v.id))}),l.length===0&&n.jsx("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No new notifications"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{className:"flex items-center gap-2 rounded-lg p-1 hover:bg-gray-100",onClick:()=>d(!c),"aria-label":"Open profile menu",children:[n.jsx("img",{src:u.avatar,alt:"Profile",className:"w-9 h-9 rounded-full border-2 border-gray-200",onError:v=>{v.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),n.jsxs("div",{className:"hidden sm:block text-left",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900 leading-tight",children:u.name}),n.jsx("div",{className:"text-[11px] text-gray-500 -mt-0.5",children:"Student"})]})]}),c&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[n.jsxs("div",{className:"px-4 py-3 border-b",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900",children:u.name}),n.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]}),n.jsxs("div",{className:"py-1",children:[n.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>{r&&r(),d(!1)},children:"Profile"}),n.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Settings"})]}),n.jsx("button",{onClick:x,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50 border-t",children:"Logout"})]})]})]})]})})})},lae=()=>{const[t,e]=L.useState({name:"Student",username:"",grade:"",section:"",avatar:null});L.useEffect(()=>{(async()=>{try{const N=localStorage.getItem("token"),w=localStorage.getItem("userType");if(console.log("WelcomeCard - Token:",N?"exists":"missing","UserType:",w),!N||w!=="Student")return;const A="http://localhost:5000/api/student/auth/profile";console.log("WelcomeCard - Fetching from:",A);const j=await fetch(A,{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json"}});if(console.log("WelcomeCard - Response status:",j.status),j.ok){const S=await j.json();console.log("WelcomeCard - Profile data received:",S),e({name:S.name||"Student",username:S.username||"",grade:S.grade||"",section:S.section||"",avatar:S.profilePic||null})}else{const S=await j.text();console.error("WelcomeCard - Profile fetch failed:",j.status,S)}}catch(N){console.error("WelcomeCard - Failed to fetch student profile:",N)}})()},[]);const s=(()=>{const b=new Date().getHours();return b<12?{text:"Good Morning",icon:Zw}:b<17?{text:"Good Afternoon",icon:Zw}:{text:"Good Evening",icon:One}})(),a=s.icon,i=[{text:"Success is the sum of small efforts repeated day in and day out. Keep up the great work!",emoji:"",icon:sse,color:"text-yellow-200"},{text:"The future belongs to those who believe in the beauty of their dreams. Dream big today!",emoji:"",icon:Kr,color:"text-purple-200"},{text:"Learning never exhausts the mind. Every new thing you discover makes you stronger!",emoji:"",icon:kr,color:"text-blue-200"},{text:"Your potential is endless. Go do what you were created to do!",emoji:"",icon:lu,color:"text-orange-200"},{text:"Believe in yourself and all that you are. You're capable of amazing things!",emoji:"",icon:il,color:"text-pink-200"},{text:"Champions are made from something deep inside them - desire, dream, and vision!",emoji:"",icon:el,color:"text-gold-200"},{text:"Every expert was once a beginner. Every pro was once an amateur. Keep learning!",emoji:"",icon:rs,color:"text-green-200"},{text:"The only way to do great work is to love what you do. Find your passion!",emoji:"",icon:il,color:"text-red-200"},{text:"Innovation distinguishes between a leader and a follower. Think differently!",emoji:"",icon:Jb,color:"text-yellow-200"},{text:"Don't watch the clock; do what it does. Keep going and make every moment count!",emoji:"",icon:lu,color:"text-cyan-200"},{text:"The beautiful thing about learning is nobody can take it away from you!",emoji:"",icon:kr,color:"text-indigo-200"},{text:"Your limitationit's only your imagination. Break through and achieve more!",emoji:"",icon:Kr,color:"text-violet-200"}],[o,l]=L.useState(0),[c,d]=L.useState(!1),[u,h]=L.useState(!1);L.useEffect(()=>{if(c)return;const b=setInterval(()=>{h(!0),setTimeout(()=>{l(N=>(N+1)%i.length),h(!1)},200)},1e4);return()=>clearInterval(b)},[c]);const m=()=>{h(!0),setTimeout(()=>{l(b=>(b+1)%i.length),h(!1)},200)},f=()=>{h(!0),setTimeout(()=>{l(b=>(b-1+i.length)%i.length),h(!1)},200)},x=()=>{d(!c)},v=i[o],g=v.icon;return n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 rounded-2xl p-6 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-4 right-4 w-32 h-32 bg-white rounded-full"}),n.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-white rounded-full"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-white rounded-full transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:t.avatar,alt:"Profile",className:"w-16 h-16 rounded-full border-4 border-white/20 shadow-lg",onError:b=>{b.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),n.jsx("div",{className:"absolute bottom-1 right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(a,{size:20,className:"text-yellow-100"}),n.jsxs("span",{className:"text-lg font-medium opacity-90",children:[s.text,","]})]}),n.jsxs("h1",{className:"text-2xl font-bold mb-1",children:[t.name,"!"]}),n.jsxs("p",{className:"text-yellow-100 text-sm",children:[t.username&&`Student ID: ${t.username}`,t.grade&&t.section&&`  ${t.grade} - Section ${t.section}`]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-yellow-100 text-sm mb-2",children:"Today's Date"}),n.jsx("p",{className:"text-xl font-semibold",children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),n.jsxs("div",{className:"mt-6 p-4 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20 relative overflow-hidden group hover:bg-white/15 transition-all duration-300",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -skew-x-12 transform translate-x-full animate-pulse"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(g,{size:16,className:`${v.color} transition-colors duration-300`}),n.jsx("p",{className:"text-sm text-yellow-100 font-semibold",children:"Quick Tip"}),n.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full text-white/80",children:[o+1,"/",i.length]})]}),n.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[n.jsx("button",{onClick:f,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Previous tip",children:n.jsx(xd,{size:14,className:"text-white/80"})}),n.jsx("button",{onClick:x,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:c?"Resume auto-change":"Pause auto-change",children:c?n.jsx(mi,{size:14,className:"text-white/80"}):n.jsx(zne,{size:14,className:"text-white/80"})}),n.jsx("button",{onClick:m,className:"p-1 hover:bg-white/20 rounded-full transition-colors",title:"Next tip",children:n.jsx(Vs,{size:14,className:"text-white/80"})})]})]}),n.jsx("div",{className:"flex items-start gap-3",children:n.jsx("div",{className:`flex-1 transition-all duration-500 ${u?"opacity-0 translate-x-2":"opacity-100 translate-x-0"}`,children:n.jsxs("p",{className:"text-white font-medium leading-relaxed",children:['"',v.text,'" ',v.emoji]})},o)}),n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"w-full bg-white/20 rounded-full h-1.5",children:n.jsx("div",{className:`bg-gradient-to-r from-white/60 to-white/80 h-1.5 rounded-full transition-all duration-500 ${c?"":"animate-pulse"}`,style:{width:`${(o+1)/i.length*100}%`}})}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsx("p",{className:"text-xs text-white/60",children:c?"Auto-change paused":"Changes every 10 seconds"}),n.jsx("div",{className:"flex gap-1",children:i.map((b,N)=>n.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${N===o?"bg-white/80 scale-125":"bg-white/30"}`},N))})]})]})]}),n.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:n.jsx("div",{className:"text-xs text-white/60 bg-black/20 px-2 py-1 rounded",children:"Hover to control"})})]})]})]})},cae=()=>{const[t,e]=L.useState(null),[r,s]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const i=localStorage.getItem("token"),o=localStorage.getItem("userType");if(!i||o!=="Student")return;const l=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(l.ok){const c=await l.json();console.log("Course data received:",c.course),e(c.course)}}catch(i){console.error("Failed to fetch course data:",i)}finally{s(!1)}})()},[]),r?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Course"})})}),n.jsx("div",{className:"p-6",children:t?n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"group hover:bg-gray-50 rounded-lg p-4 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-yellow-500 to-amber-500 flex items-center justify-center shadow-md",children:n.jsx(na,{size:24,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:t.name}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(kr,{size:14}),n.jsx("span",{children:t.grade})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(pn,{size:14}),n.jsxs("span",{children:["Section ",t.section]})]}),t.duration&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(nr,{size:14}),n.jsx("span",{children:t.duration})]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${t.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.status||"Active"}),t.batchCode&&n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Batch: ",t.batchCode]})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.grade}),n.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Grade"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.section}),n.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Section"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.status==="Active"?"":""}),n.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Status"})]})]})]})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(na,{size:48,className:"mx-auto text-gray-300 mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No Course Assigned"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please contact your administrator"})]})})]})},_W=[{id:"attendance-75",title:"Attendance Star",description:"Maintain attendance above 75%.",icon:"",points:120,target:75,metric:t=>t.attendancePercentage||0,unit:"%"},{id:"attendance-90",title:"Consistency Champ",description:"Keep attendance at 90% or higher.",icon:"",points:200,target:90,metric:t=>t.attendancePercentage||0,unit:"%"},{id:"streak-5",title:"Presence Streak",description:"Attend 5 classes in a row.",icon:"",points:150,target:5,metric:(t,e)=>e.attendanceStreak,unit:"days"},{id:"present-20",title:"On-Time Hero",description:"Be present for 20 classes.",icon:"",points:180,target:20,metric:t=>t.presentDays||0,unit:"classes"},{id:"course-active",title:"Course Explorer",description:"Enroll in an active course.",icon:"",points:100,target:1,metric:t=>t.activeCourses||0,unit:"course"}],dae=()=>{const[t,e]=L.useState({earned:[],upcoming:[]}),[r,s]=L.useState(!0),[a,i]=L.useState(null),[o,l]=L.useState(null);L.useEffect(()=>{(async()=>{try{s(!0),i(null);const h=localStorage.getItem("token"),m=localStorage.getItem("userType");if(!h||m!=="Student"){s(!1),e({earned:[],upcoming:[]});return}const f=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(!f.ok)throw new Error("Unable to load dashboard achievements");const x=await f.json(),v=uae(x.recentAttendance||[]),g=hae(x.stats||{},v);e({earned:g.filter(b=>b.earned),upcoming:g.filter(b=>!b.earned)}),l(new Date)}catch(h){console.error("Failed to load achievements:",h),i(h.message)}finally{s(!1)}})()},[]);const c=t.earned.length,d=L.useMemo(()=>_W.length,[]);return r?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((u,h)=>n.jsx("div",{className:"h-24 bg-gray-100 rounded-lg"},h))})]})}):a?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 text-red-600",children:[n.jsx(Zr,{size:20}),n.jsx("p",{className:"font-medium",children:"Unable to load achievements right now."})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:a})]}):n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kn,{className:"text-yellow-500",size:24}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Achievements"})]}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-2",children:[n.jsxs("span",{children:[c," of ",d," earned"]}),o&&n.jsxs("span",{className:"inline-flex items-center text-xs text-gray-400",children:[n.jsx(tse,{size:12,className:"mr-1"}),"Updated ",o.toLocaleDateString()]})]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(Kr,{className:"text-yellow-500",size:20}),n.jsx("span",{children:"Recent Achievements"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.earned.length===0&&n.jsx("div",{className:"col-span-full text-sm text-gray-500",children:"No milestones unlocked yet. Keep progressing!"}),t.earned.slice(0,4).map(u=>n.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center",children:n.jsx(Kn,{size:14,className:"text-white"})})}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"text-2xl",children:u.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:u.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-1 rounded-full",children:["+",u.points," points"]}),n.jsx("span",{className:"text-xs text-gray-500",children:u.achievedOn?new Date(u.achievedOn).toLocaleDateString():"Recently"})]})]})]})]},u.id))]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center space-x-2",children:[n.jsx(Yf,{className:"text-gray-400",size:20}),n.jsx("span",{children:"Upcoming Achievements"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.upcoming.length===0&&n.jsx("div",{className:"col-span-full text-sm text-gray-500",children:"You're all caught up. New goals will appear here soon."}),t.upcoming.map(u=>n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center",children:n.jsx(Yf,{size:14,className:"text-white"})})}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"text-2xl",children:u.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:u.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:n.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${u.progress}%`}})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xs text-yellow-700 bg-yellow-100 px-2 py-1 rounded-full",children:["+",u.points," points"]}),n.jsxs("span",{className:"text-xs text-gray-500",children:[u.currentValue,u.unit?` / ${u.target} ${u.unit}`:""]})]})]})]})]},u.id))]})]})]})]})};function uae(t=[]){var i;if(!t.length)return 0;const e=[...t].sort((o,l)=>new Date(l.date)-new Date(o.date));let r=0;const s=new Date;let a=new Date(((i=e[0])==null?void 0:i.date)||s);for(const o of e){const l=new Date(o.date);if(o.status!=="present"){if(l.toDateString()===a.toDateString())break;break}if(r===0){r=1,a=l;continue}const c=new Date(a);if(c.setDate(c.getDate()-1),l.toDateString()===c.toDateString())r+=1,a=l;else break}return r}function hae(t,e){return _W.map(r=>{const s=r.metric(t,{attendanceStreak:e})||0,a=s>=r.target,i=r.target?Math.min(100,Math.round(s/r.target*100)):a?100:0;return{...r,earned:a,progress:i,currentValue:s,target:r.target,achievedOn:a?new Date().toISOString():null}})}const E6={present:{label:"Present",color:"bg-green-500"},absent:{label:"Absent",color:"bg-red-500"},late:{label:"Late",color:"bg-yellow-500"},leave:{label:"Leave",color:"bg-yellow-500"}},fae=[{value:"quiz",label:"Quiz",color:"bg-red-500"},{value:"assignment",label:"Assignment",color:"bg-blue-500"},{value:"class",label:"Class",color:"bg-green-500"},{value:"meeting",label:"Meeting",color:"bg-purple-500"},{value:"exam",label:"Exam",color:"bg-orange-500"},{value:"project",label:"Project",color:"bg-indigo-500"}],mae=Object.entries(E6).map(([t,e])=>({value:t,label:e.label,color:e.color})),FD=[...fae,...mae],DS={title:"",date:"",time:"",type:"assignment",description:"",color:"bg-blue-500"},pae=()=>{const[t,e]=L.useState(new Date),[r,s]=L.useState(null),[a,i]=L.useState(!1),[o,l]=L.useState(null),[c,d]=L.useState([]),[u,h]=L.useState(DS),[m,f]=L.useState(!0),[x,v]=L.useState(null),[g,b]=L.useState(null);L.useEffect(()=>{(async()=>{try{f(!0),v(null);const z=localStorage.getItem("token"),O=localStorage.getItem("userType");if(!z||O!=="Student"){f(!1);return}const W=await fetch("http://localhost:5000/api/student/auth/attendance",{headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"}});if(!W.ok)throw new Error("Unable to load attendance calendar.");const K=((await W.json()).attendance||[]).map((re,U)=>{const Y=E6[re.status]||{color:"bg-blue-500",label:"Class"};return{id:re._id||`attendance-${U}`,title:Y.label,date:new Date(re.date).toISOString().split("T")[0],time:re.time||"",type:re.status||"class",color:Y.color,description:re.subject?re.subject:"Attendance entry",notes:re.notes,readOnly:!0}});d(K),b(new Date)}catch(z){console.error("Failed to fetch attendance calendar:",z),v(z.message)}finally{f(!1)}})()},[]);const N=L.useMemo(()=>["January","February","March","April","May","June","July","August","September","October","November","December"],[]),w=L.useMemo(()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],[]),A=F=>{const z=F.getFullYear(),O=F.getMonth(),W=new Date(z,O,1),ee=new Date(W);ee.setDate(ee.getDate()-W.getDay());const K=[],re=new Date(ee);for(let U=0;U<42;U++){const Y=c.filter(V=>new Date(V.date).toDateString()===re.toDateString());K.push({date:new Date(re),isCurrentMonth:re.getMonth()===O,isToday:re.toDateString()===new Date().toDateString(),events:Y}),re.setDate(re.getDate()+1)}return K},j=F=>{var z,O;return((z=E6[F])==null?void 0:z.color)||((O=FD.find(W=>W.value===F))==null?void 0:O.color)||"bg-blue-500"},S=F=>{const z=new Date(t);z.setMonth(z.getMonth()+F),e(z)},E=F=>{s(F.date);const z=F.date.toISOString().split("T")[0];h(O=>({...O,date:z}))},R=()=>{i(!0),l(null),h({...DS,date:r?r.toISOString().split("T")[0]:""})},C=F=>{F.readOnly||(l(F),h({...F}),i(!0))},T=F=>{const z=c.find(O=>O.id===F);z!=null&&z.readOnly||d(c.filter(O=>O.id!==F))},k=()=>{if(!u.title||!u.date||!u.time)return;const F={...u,color:j(u.type),id:o?o.id:Date.now(),readOnly:!1};d(o?c.map(z=>z.id===o.id?F:z):[...c,F]),i(!1),h(DS)},P=()=>{const F=new Date;return c.filter(z=>new Date(z.date)>=F).sort((z,O)=>new Date(z.date)-new Date(O.date)).slice(0,5)},D=A(t),H=P();return n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-sm border border-purple-200 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"p-6 border-b border-purple-200",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kt,{className:"text-purple-500",size:20}),n.jsx("h2",{className:"text-lg font-semibold text-purple-900",children:"Calendar"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[g&&n.jsxs("span",{className:"text-xs text-purple-800 bg-purple-100 px-2 py-1 rounded-full",children:["Synced ",g.toLocaleDateString()]}),n.jsxs("button",{onClick:R,className:"flex items-center space-x-2 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors",children:[n.jsx(Dn,{size:16}),n.jsx("span",{children:"Add Event"})]})]})]}),x&&n.jsxs("div",{className:"mt-3 flex items-center text-sm text-red-600 bg-white border border-red-100 rounded-lg px-3 py-2",children:[n.jsx(Zr,{size:16,className:"mr-2"}),x]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:()=>S(-1),className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:n.jsx(xd,{size:20,className:"text-purple-700"})}),n.jsxs("h3",{className:"text-lg font-semibold text-purple-900",children:[N[t.getMonth()]," ",t.getFullYear()]}),n.jsx("button",{onClick:()=>S(1),className:"p-2 hover:bg-purple-100 rounded-lg transition-colors",children:n.jsx(Vs,{size:20,className:"text-purple-900"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:w.map(F=>n.jsx("div",{className:"text-center text-xs font-medium text-purple-600 py-2",children:F},F))}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-6",children:D.map((F,z)=>n.jsxs("button",{onClick:()=>E(F),className:`
                aspect-square flex flex-col items-center justify-center text-sm rounded-lg transition-colors relative p-1
                ${F.isCurrentMonth?F.isToday?"bg-purple-500 text-black font-semibold hover:bg-purple-600":"text-purple-900 hover:bg-purple-100":"text-purple-300 hover:bg-purple-50"}
                ${r&&F.date.toDateString()===r.toDateString()?"ring-2 ring-purple-400":""}
              `,children:[n.jsx("span",{className:"text-xs",children:F.date.getDate()}),F.events.length>0&&n.jsxs("div",{className:"flex space-x-1 mt-1",children:[F.events.slice(0,2).map((O,W)=>n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${O.color}`,title:O.title},`${O.id}-${W}`)),F.events.length>2&&n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400",title:`+${F.events.length-2} more`})]})]},`${F.date.toISOString()}-${z}`))}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-purple-900 mb-3 flex items-center space-x-2",children:[n.jsx(nr,{size:16,className:"text-purple-600"}),n.jsx("span",{children:"Upcoming Events"})]}),n.jsxs("div",{className:"space-y-3",children:[m&&n.jsx("div",{className:"space-y-2",children:[...Array(3)].map((F,z)=>n.jsx("div",{className:"h-16 bg-white border border-purple-100 rounded-lg animate-pulse"},z))}),!m&&H.length===0&&!x&&n.jsx("p",{className:"text-sm text-purple-500 text-center py-4",children:"No upcoming classes or events recorded yet."}),!m&&H.map(F=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-purple-50/50 hover:bg-purple-100/50 transition-colors rounded-lg border border-purple-100 group",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${F.color} mt-1.5 flex-shrink-0`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-purple-900 truncate",children:F.title}),n.jsxs("p",{className:"text-xs text-purple-600",children:[new Date(F.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),F.time&&` at ${F.time}`]}),F.description&&n.jsxs("p",{className:"text-xs text-purple-500 mt-1 truncate",children:[F.description,F.notes?`  ${F.notes}`:""]})]}),!F.readOnly&&n.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>C(F),className:"p-1 text-purple-600 hover:text-purple-800 hover:bg-purple-200 rounded",children:n.jsx(Ao,{size:12})}),n.jsx("button",{onClick:()=>T(F.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded",children:n.jsx(pc,{size:12})})]})]},F.id))]})]})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?"Edit Event":"Add New Event"}),n.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(ts,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title"}),n.jsx("input",{type:"text",value:u.title,onChange:F=>h({...u,title:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",placeholder:"Enter event title"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",value:u.date,onChange:F=>h({...u,date:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),n.jsx("input",{type:"time",value:u.time,onChange:F=>h({...u,time:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type"}),n.jsx("select",{value:u.type,onChange:F=>h({...u,type:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",children:FD.map(F=>n.jsx("option",{value:F.value,children:F.label},F.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),n.jsx("textarea",{value:u.description,onChange:F=>h({...u,description:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",rows:"3",placeholder:"Enter event description"})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:k,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save Event"})]})]})})]})},xae=()=>{const[t,e]=L.useState([{title:"Active Courses",value:"0",change:"Loading...",changeType:"neutral",icon:kr,color:"bg-blue-500"},{title:"Achievements",value:"0",change:"Loading...",changeType:"neutral",icon:el,color:"bg-yellow-500"},{title:"Attendance",value:"0%",change:"Loading...",changeType:"neutral",icon:nr,color:"bg-green-500"},{title:"Overall Progress",value:"0%",change:"Loading...",changeType:"neutral",icon:Yr,color:"bg-purple-500"}]);return L.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("token"),a=localStorage.getItem("userType");if(!s||a!=="Student")return;const i=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(i.ok){const o=await i.json();console.log("Dashboard data received:",o);const l=o.stats.attendancePercentage>=75?"Good attendance":o.stats.attendancePercentage>=50?"Needs improvement":"Low attendance",c=o.stats.attendancePercentage>=75?"positive":o.stats.attendancePercentage>=50?"neutral":"negative";e([{title:"Active Courses",value:o.stats.activeCourses.toString(),change:o.course?o.course.name:"No course assigned",changeType:o.stats.activeCourses>0?"positive":"neutral",icon:kr,color:"bg-blue-500"},{title:"Achievements",value:o.stats.achievements.toString(),change:"Keep learning!",changeType:"neutral",icon:el,color:"bg-yellow-500"},{title:"Attendance",value:`${o.stats.attendancePercentage}%`,change:`${o.stats.presentDays}/${o.stats.totalClasses} days`,changeType:c,icon:nr,color:"bg-green-500"},{title:"Overall Progress",value:`${o.stats.overallProgress}%`,change:l,changeType:c,icon:Yr,color:"bg-purple-500"}])}}catch(s){console.error("Failed to fetch dashboard data:",s)}})()},[]),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((r,s)=>{const a=r.icon;return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-purple-400 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${r.color}`,children:n.jsx(a,{size:24,className:"text-white"})}),n.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${r.changeType==="positive"?"text-green-700 bg-green-100":r.changeType==="negative"?"text-red-700 bg-red-100":"text-gray-700 bg-gray-100"}`,children:r.change})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:r.value}),n.jsx("p",{className:"text-sm text-gray-600",children:r.title})]})]},s)})})},gae=({onAddPet:t,activePets:e=[]})=>null,vae=({pet:t,onRemove:e,containerBounds:r})=>{const[s,a]=L.useState({x:100,y:100}),[i,o]=L.useState({x:1,y:1}),[l,c]=L.useState(!1),[d,u]=L.useState(!1),[h,m]=L.useState({x:0,y:0}),[f,x]=L.useState(!1),[v,g]=L.useState("happy"),b=L.useRef(),N=L.useRef(),w=60,A=.5,j=()=>{const T={puppy:{happy:"",sleeping:"",playing:"",excited:""},cat:{happy:"",sleeping:"",playing:"",excited:""}};return T[t.type][v]||T[t.type].happy};L.useEffect(()=>{const T=setInterval(()=>{const k=["happy","sleeping","playing"],P=k[Math.floor(Math.random()*k.length)];g(P)},8e3);return()=>clearInterval(T)},[]),L.useEffect(()=>{if(d)return;const T=()=>{a(k=>{let P=k.x+i.x*A,D=k.y+i.y*A,H=i.x,F=i.y;return(P<=0||P>=r.width-w)&&(H=-i.x,P=Math.max(0,Math.min(P,r.width-w))),(D<=0||D>=r.height-w)&&(F=-i.y,D=Math.max(0,Math.min(D,r.height-w))),Math.random()<.02&&(H=(Math.random()-.5)*2,F=(Math.random()-.5)*2),o({x:H,y:F}),{x:P,y:D}}),b.current=requestAnimationFrame(T)};return b.current=requestAnimationFrame(T),()=>{b.current&&cancelAnimationFrame(b.current)}},[i,r,d,v]);const S=T=>{u(!0),g("excited");const k=N.current.getBoundingClientRect();m({x:T.clientX-k.left,y:T.clientY-k.top})},E=T=>{if(!d)return;const k=Math.max(0,Math.min(T.clientX-h.x,r.width-w)),P=Math.max(0,Math.min(T.clientY-h.y,r.height-w));a({x:k,y:P})},R=()=>{u(!1),setTimeout(()=>g("happy"),1e3)},C=()=>{x(!0),g("excited"),setTimeout(()=>{x(!1),g("happy")},1500)};return L.useEffect(()=>{if(d)return document.addEventListener("mousemove",E),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",R)}},[d,h,r]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{ref:N,className:`absolute cursor-pointer select-none transition-transform duration-200 ${l?"scale-110":"scale-100"} ${d?"z-50":"z-40"}`,style:{left:`${s.x}px`,top:`${s.y}px`,width:`${w}px`,height:`${w}px`},onMouseDown:S,onClick:C,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[n.jsxs("div",{className:`relative w-full h-full flex items-center justify-center text-4xl ${v==="sleeping"?"animate-pulse":v==="playing"?"animate-bounce":"animate-none"}`,children:[j(),l&&n.jsx("button",{onClick:T=>{T.stopPropagation(),e(t.id)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors shadow-lg",children:n.jsx(ts,{className:"w-3 h-3"})}),f&&n.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(3)].map((T,k)=>n.jsx(il,{className:"absolute w-4 h-4 text-pink-500 animate-ping",style:{left:`${Math.random()*40+10}px`,top:`${Math.random()*40+10}px`,animationDelay:`${k*200}ms`,animationDuration:"1s"}},k))})]}),n.jsx("div",{className:"absolute bottom-0 w-8 h-2 bg-gray-400 rounded-full opacity-20 left-1/2 transform -translate-x-1/2",style:{filter:"blur(2px)"}}),l&&n.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:t.name})]}),!d&&v==="sleeping"&&n.jsx("div",{className:"absolute text-xl opacity-60 animate-bounce pointer-events-none z-30",style:{left:`${s.x+w+10}px`,top:`${s.y}px`},children:""})]})},RS=()=>{const[t,e]=L.useState([]),[r,s]=L.useState({width:0,height:0}),a=L.useRef();L.useEffect(()=>{const c=()=>{if(a.current){const u=a.current.getBoundingClientRect();s({width:u.width,height:u.height})}};c(),window.addEventListener("resize",c);const d=new ResizeObserver(c);return a.current&&d.observe(a.current),()=>{window.removeEventListener("resize",c),d.disconnect()}},[]);const i={puppy:["Buddy","Max","Luna","Charlie","Bailey","Rocky","Bella","Duke"],cat:["Whiskers","Shadow","Mittens","Luna","Simba","Chloe","Tiger","Princess"]},o=c=>{console.log("DashboardHome addPet called with:",c);const d=i[c],u=d[Math.floor(Math.random()*d.length)],h={id:Date.now()+Math.random(),type:c,name:u,createdAt:Date.now()};console.log("Creating new pet:",h),e(m=>{const f=[...m,h];return console.log("Updated pets array:",f),f})},l=c=>{e(d=>d.filter(u=>u.id!==c))};return n.jsxs("div",{ref:a,className:"relative space-y-4 sm:space-y-6 p-2 sm:p-0 min-h-screen",children:[n.jsx(lae,{}),n.jsx(xae,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[n.jsx(cae,{}),n.jsx(dae,{})]}),n.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.jsx(pae,{})})]}),t.map(c=>n.jsx(vae,{pet:c,onRemove:l,containerBounds:r},c.id)),n.jsx(gae,{onAddPet:o,activePets:t})]})},yae=()=>{const[t,e]=L.useState("thisMonth"),[r,s]=L.useState(new Date),[a,i]=L.useState(null),[o,l]=L.useState(!1),[c,d]=L.useState(null),[u,h]=L.useState(!0),[m,f]=L.useState({totalClasses:0,attended:0,absent:0,late:0,percentage:0}),[x,v]=L.useState([]);L.useEffect(()=>{(async()=>{try{const W=localStorage.getItem("token"),ee=localStorage.getItem("userType");if(!W||ee!=="Student"){h(!1);return}const K=await fetch("http://localhost:5000/api/student/auth/attendance",{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(K.ok){const re=await K.json();console.log("Attendance data received:",re),f({totalClasses:re.summary.totalClasses,attended:re.summary.presentDays,absent:re.summary.absentDays,late:re.summary.leaveDays,percentage:re.summary.attendancePercentage});const U=re.attendance.map((Y,V)=>({id:V+1,date:new Date(Y.date).toISOString().split("T")[0],course:Y.subject||"General",status:Y.status||"present",time:Y.time||"N/A",description:Y.notes||""}));v(U)}else console.error("Failed to fetch attendance:",K.status)}catch(W){console.error("Error fetching attendance:",W)}finally{h(!1)}})()},[]);const[g,b]=L.useState({course:"",date:"",time:"",status:"present",description:""}),N=["January","February","March","April","May","June","July","August","September","October","November","December"],w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=["JavaScript Fundamentals","React Development","Database Design","UI/UX Design","Node.js Backend","Python Programming"],j=[{value:"present",label:"Present",color:"bg-green-500",textColor:"text-green-800",bgColor:"bg-green-100"},{value:"absent",label:"Absent",color:"bg-red-500",textColor:"text-red-800",bgColor:"bg-red-100"},{value:"late",label:"Late",color:"bg-yellow-500",textColor:"text-yellow-800",bgColor:"bg-yellow-100"}],S=O=>{const W=O.getFullYear(),ee=O.getMonth(),K=new Date(W,ee,1),re=new Date(K);re.setDate(re.getDate()-K.getDay());const U=[],Y=new Date(re);for(let V=0;V<42;V++){const Z=x.filter(ce=>new Date(ce.date).toDateString()===Y.toDateString());U.push({date:new Date(Y),isCurrentMonth:Y.getMonth()===ee,isToday:Y.toDateString()===new Date().toDateString(),records:Z}),Y.setDate(Y.getDate()+1)}return U},E=O=>{const W=new Date(r);W.setMonth(W.getMonth()+O),s(W)},R=O=>{i(O.date);const W=O.date.toISOString().split("T")[0];b(ee=>({...ee,date:W}))},C=O=>{d(O),b({...O}),l(!0)},T=O=>{v(x.filter(W=>W.id!==O))},k=()=>{if(!g.course||!g.date||!g.time)return;const O={...g,id:c?c.id:Date.now()};v(c?x.map(W=>W.id===c.id?O:W):[...x,O]),l(!1),b({course:"",date:"",time:"",status:"present",description:""})},P=O=>{switch(O){case"present":return n.jsx(Dr,{className:"text-green-500",size:20});case"absent":return n.jsx(Ti,{className:"text-red-500",size:20});case"late":return n.jsx(nr,{className:"text-yellow-500",size:20});default:return null}},D=O=>{const W=j.find(ee=>ee.value===O);return W?n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${W.bgColor} ${W.textColor}`,children:W.label}):null},H=()=>x.sort((O,W)=>new Date(W.date)-new Date(O.date)).slice(0,8),F=S(r),z=H();return n.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-6 bg-gray-50 min-h-screen w-full overflow-x-hidden",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(sr,{className:"text-blue-600",size:24})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Attendance Tracker"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Track your class attendance and patterns"})]})]}),n.jsxs("select",{value:t,onChange:O=>e(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent mt-2 sm:mt-0",children:[n.jsx("option",{value:"thisWeek",children:"This Week"}),n.jsx("option",{value:"thisMonth",children:"This Month"}),n.jsx("option",{value:"semester",children:"This Semester"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Classes"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m.totalClasses})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(Kt,{className:"text-blue-600",size:20})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Attended"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.attended})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(Dr,{className:"text-green-600",size:20})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Absent"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:m.absent})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:n.jsx(Ti,{className:"text-red-600",size:20})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Attendance Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[m.percentage,"%"]})]}),n.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:n.jsx(Yr,{className:"text-indigo-600",size:20})})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kt,{className:"text-indigo-500",size:20}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Attendance Calendar"})]})})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xd,{size:20,className:"text-gray-700"})}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[N[r.getMonth()]," ",r.getFullYear()]}),n.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Vs,{size:20,className:"text-gray-700"})})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:w.map(O=>n.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-2",children:O},O))}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-6",children:F.map((O,W)=>n.jsxs("button",{onClick:()=>R(O),className:`
                  aspect-square flex flex-col items-center justify-center text-sm rounded-lg transition-colors relative p-1
                  ${O.isCurrentMonth?O.isToday?"bg-indigo-500 text-white font-semibold hover:bg-indigo-600":"text-gray-900 hover:bg-gray-100":"text-gray-300 hover:bg-gray-50"}
                  ${a&&O.date.toDateString()===a.toDateString()?"ring-2 ring-indigo-400":""}
                `,children:[n.jsx("span",{className:"text-xs",children:O.date.getDate()}),O.records.length>0&&n.jsxs("div",{className:"flex flex-wrap justify-center gap-0.5 mt-1",children:[O.records.slice(0,3).map((ee,K)=>{const re=j.find(U=>U.value===ee.status);return n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${(re==null?void 0:re.color)||"bg-gray-400"}`,title:`${ee.course} - ${re==null?void 0:re.label}`},K)}),O.records.length>3&&n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400",title:`+${O.records.length-3} more`})]})]},W))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Attendance"})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:z.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[P(O.status),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:O.course}),n.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(O.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",O.time]}),O.description&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:O.description})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[D(O.status),n.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>C(O),className:"p-1 text-indigo-600 hover:text-indigo-800 hover:bg-indigo-100 rounded",children:n.jsx(Ao,{size:12})}),n.jsx("button",{onClick:()=>T(O.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded",children:n.jsx(pc,{size:12})})]})]})]},O.id))})})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c?"Edit Attendance Record":"Add Attendance Record"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(ts,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),n.jsxs("select",{value:g.course,onChange:O=>b({...g,course:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:[n.jsx("option",{value:"",children:"Select a course"}),A.map(O=>n.jsx("option",{value:O,children:O},O))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",value:g.date,onChange:O=>b({...g,date:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),n.jsx("input",{type:"time",value:g.time,onChange:O=>b({...g,time:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attendance Status"}),n.jsx("select",{value:g.status,onChange:O=>b({...g,status:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",children:j.map(O=>n.jsx("option",{value:O.value,children:O.label},O.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),n.jsx("textarea",{value:g.description,onChange:O=>b({...g,description:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none",rows:"3",placeholder:"Enter class topic or notes"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:c?"Update Record":"Add Record"})]})]})})]})},am=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],LS={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},BD=()=>{const[t,e]=L.useState({}),[r,s]=L.useState(am[0]),[a,i]=L.useState(!0),[o,l]=L.useState(null),[c,d]=L.useState(null);L.useEffect(()=>{(async()=>{try{i(!0),l(null);const f=localStorage.getItem("token"),x=localStorage.getItem("userType");if(!f||x!=="Student"){i(!1);return}const v=await fetch("http://localhost:5000/api/student/auth/schedule",{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(!v.ok)throw new Error("Unable to load routine.");const g=await v.json(),b=bae(g.schedule);e(b);const N=am.find(w=>{var A;return(A=b[w])==null?void 0:A.length})||am[0];s(N),d(new Date)}catch(f){console.error("Failed to fetch schedule:",f),l(f.message)}finally{i(!1)}})()},[]);const u=t[r]||[],h=L.useMemo(()=>am.reduce((m,f)=>{var x;return m+(((x=t[f])==null?void 0:x.length)||0)},0),[t]);return a?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-purple-50 p-4 sm:p-6 space-y-4",children:[n.jsx("div",{className:"h-32 bg-white rounded-2xl shadow animate-pulse"}),n.jsx("div",{className:"h-48 bg-white rounded-2xl shadow animate-pulse"})]}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-purple-50 p-4 sm:p-6 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-yellow-200 p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Kt,{className:"w-6 h-6 text-amber-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Weekly Routine"})]}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Synced with your timetable from the school portal"})]}),n.jsxs("div",{className:"text-right text-sm text-gray-500",children:[n.jsxs("p",{children:["Total sessions this week: ",n.jsx("span",{className:"font-semibold text-gray-900",children:h})]}),c&&n.jsxs("p",{children:["Updated ",c.toLocaleDateString()]})]})]}),o&&n.jsxs("div",{className:"mt-4 flex items-center text-sm text-red-600 bg-red-50 border border-red-100 rounded-lg px-3 py-2",children:[n.jsx(Zr,{size:16,className:"mr-2"}),o]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-4",children:[n.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:am.map(m=>{var f;return n.jsxs("button",{onClick:()=>s(m),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all ${r===m?"bg-purple-600 text-white shadow":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[LS[m],(f=t[m])!=null&&f.length?n.jsx("span",{className:"ml-2 text-xs text-purple-100 bg-purple-500 rounded-full px-2 py-0.5",children:t[m].length}):null]},m)})}),u.length>0?n.jsx("div",{className:"space-y-4",children:u.map((m,f)=>n.jsxs("div",{className:"p-4 border border-purple-100 rounded-2xl bg-gradient-to-r from-white to-purple-50 shadow-sm flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase font-medium text-purple-500",children:m.type||"Session"}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(kr,{size:16,className:"text-purple-500"}),m.course||m.subject||m.title||"Class"]}),m.instructor&&n.jsxs("p",{className:"text-sm text-gray-500",children:["By ",m.instructor]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(nr,{size:16,className:"text-purple-500"}),n.jsx("span",{children:m.time||`${m.startTime||"--"}${m.endTime?` - ${m.endTime}`:""}`})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ld,{size:16,className:"text-purple-500"}),n.jsx("span",{children:m.room||m.location||"TBD"})]})]})]},m.id||`${r}-${f}`))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No classes scheduled for ",LS[r],". Enjoy your day!"]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Week At a Glance"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:am.map(m=>{var f,x;return n.jsxs("div",{className:"border border-gray-100 rounded-xl p-4 bg-gray-50",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:LS[m]}),n.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[((f=t[m])==null?void 0:f.length)||0," sessions"]}),n.jsxs("ul",{className:"space-y-2",children:[(t[m]||[]).slice(0,3).map((v,g)=>n.jsxs("li",{className:"text-sm text-gray-600 flex justify-between",children:[n.jsx("span",{className:"truncate mr-2",children:v.course||v.subject||"Class"}),n.jsx("span",{className:"text-xs text-gray-400",children:v.time||v.startTime||""})]},`${m}-session-${g}`)),(((x=t[m])==null?void 0:x.length)||0)>3&&n.jsxs("li",{className:"text-xs text-gray-400",children:["+",t[m].length-3," more"]})]})]},`overview-${m}`)})})]})]})},bae=t=>t?Array.isArray(t)?t.reduce((e,r)=>{const s=UD(r.day||r.weekday||r.dayOfWeek);return s&&(e[s]=e[s]||[],e[s].push(r)),e},{}):typeof t=="object"?Object.entries(t).reduce((e,[r,s])=>{const a=UD(r);return a&&(e[a]=Array.isArray(s)?s:[]),e},{}):{}:{},UD=t=>{if(!t)return null;const e=String(t).trim().toLowerCase();return am.includes(e)?e:null},AW="eec_points_total";function Hx(){try{const t=localStorage.getItem(AW),e=parseInt(t||"0",10);return Number.isNaN(e)?0:e}catch{return 0}}function wae(t){try{const e=Math.max(0,Math.floor(t||0));return localStorage.setItem(AW,String(e)),window.dispatchEvent(new CustomEvent("points:update",{detail:{total:e}})),e}catch{return 0}}function CW(t){const e=Math.max(0,Math.floor(t||0));if(!e)return Hx();const r=Hx()+e;return wae(r)}function jae(t){try{return localStorage.getItem(`eec_points_awarded_${t}`)==="1"}catch{return!1}}function Nae(t){try{localStorage.setItem(`eec_points_awarded_${t}`,"1")}catch{}}const Sae=({className:t=""})=>{const[e,r]=L.useState(0);return L.useEffect(()=>{r(Hx());const s=a=>{var i;return r(((i=a==null?void 0:a.detail)==null?void 0:i.total)??Hx())};return window.addEventListener("points:update",s),()=>window.removeEventListener("points:update",s)},[]),n.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-100 border border-amber-300 text-amber-800 text-sm font-semibold shadow-sm ${t}`,children:[n.jsx(CT,{className:"w-4 h-4 text-amber-600"}),n.jsx("span",{children:e}),n.jsx("span",{className:"hidden sm:inline",children:"Points"})]})},_ae="modulepreload",Aae=function(t){return"/"+t},zD={},Lw=function(e,r,s){let a=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(d=>{if(d=Aae(d),d in zD)return;zD[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":_ae,u||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((f,x)=>{m.addEventListener("load",f),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const DT="171",Cae=0,$D=1,kae=2,kW=1,EW=2,ah=3,Jf=0,tl=1,uh=2,$f=0,_x=1,HD=2,WD=3,qD=4,Eae=5,hm=100,Tae=101,Mae=102,Pae=103,Dae=104,Rae=200,Lae=201,Oae=202,Iae=203,T6=204,M6=205,Fae=206,Bae=207,Uae=208,zae=209,$ae=210,Hae=211,Wae=212,qae=213,Gae=214,P6=0,D6=1,R6=2,Wx=3,L6=4,O6=5,I6=6,F6=7,RT=0,Vae=1,Xae=2,Hf=0,Yae=1,Kae=2,Jae=3,Qae=4,Zae=5,eie=6,tie=7,TW=300,qx=301,Gx=302,B6=303,U6=304,qN=306,z6=1e3,xm=1001,$6=1002,cd=1003,rie=1004,u2=1005,Yd=1006,OS=1007,gm=1008,kh=1009,MW=1010,PW=1011,qy=1012,LT=1013,Um=1014,hh=1015,e1=1016,OT=1017,IT=1018,Vx=1020,DW=35902,RW=1021,LW=1022,nd=1023,OW=1024,IW=1025,Ax=1026,Xx=1027,FW=1028,FT=1029,BW=1030,BT=1031,UT=1033,Ow=33776,Iw=33777,Fw=33778,Bw=33779,H6=35840,W6=35841,q6=35842,G6=35843,V6=36196,X6=37492,Y6=37496,K6=37808,J6=37809,Q6=37810,Z6=37811,ek=37812,tk=37813,rk=37814,nk=37815,sk=37816,ak=37817,ik=37818,ok=37819,lk=37820,ck=37821,Uw=36492,dk=36494,uk=36495,UW=36283,hk=36284,fk=36285,mk=36286,nie=3200,sie=3201,zW=0,aie=1,Cf="",lc="srgb",Yx="srgb-linear",ej="linear",ls="srgb",Hp=7680,GD=519,iie=512,oie=513,lie=514,$W=515,cie=516,die=517,uie=518,hie=519,VD=35044,XD="300 es",fh=2e3,tj=2001;class Dg{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(r)===-1&&s[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const i=a.indexOf(r);i!==-1&&a.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const a=s.slice(0);for(let i=0,o=a.length;i<o;i++)a[i].call(this,e);e.target=null}}}const Wi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],IS=Math.PI/180,pk=180/Math.PI;function t1(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Wi[t&255]+Wi[t>>8&255]+Wi[t>>16&255]+Wi[t>>24&255]+"-"+Wi[e&255]+Wi[e>>8&255]+"-"+Wi[e>>16&15|64]+Wi[e>>24&255]+"-"+Wi[r&63|128]+Wi[r>>8&255]+"-"+Wi[r>>16&255]+Wi[r>>24&255]+Wi[s&255]+Wi[s>>8&255]+Wi[s>>16&255]+Wi[s>>24&255]).toLowerCase()}function vn(t,e,r){return Math.max(e,Math.min(r,t))}function fie(t,e){return(t%e+e)%e}function FS(t,e,r){return(1-r)*t+r*e}function kv(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Vo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class Jn{constructor(e=0,r=0){Jn.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,s=this.y,a=e.elements;return this.x=a[0]*r+a[3]*s+a[6],this.y=a[1]*r+a[4]*s+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=vn(this.x,e.x,r.x),this.y=vn(this.y,e.y,r.y),this}clampScalar(e,r){return this.x=vn(this.x,e,r),this.y=vn(this.y,e,r),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(vn(s,e,r))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const s=this.dot(e)/r;return Math.acos(vn(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,s=this.y-e.y;return r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const s=Math.cos(r),a=Math.sin(r),i=this.x-e.x,o=this.y-e.y;return this.x=i*s-o*a+e.x,this.y=i*a+o*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class nn{constructor(e,r,s,a,i,o,l,c,d){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,r,s,a,i,o,l,c,d)}set(e,r,s,a,i,o,l,c,d){const u=this.elements;return u[0]=e,u[1]=a,u[2]=l,u[3]=r,u[4]=i,u[5]=c,u[6]=s,u[7]=o,u[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,s=e.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this}extractBasis(e,r,s){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const s=e.elements,a=r.elements,i=this.elements,o=s[0],l=s[3],c=s[6],d=s[1],u=s[4],h=s[7],m=s[2],f=s[5],x=s[8],v=a[0],g=a[3],b=a[6],N=a[1],w=a[4],A=a[7],j=a[2],S=a[5],E=a[8];return i[0]=o*v+l*N+c*j,i[3]=o*g+l*w+c*S,i[6]=o*b+l*A+c*E,i[1]=d*v+u*N+h*j,i[4]=d*g+u*w+h*S,i[7]=d*b+u*A+h*E,i[2]=m*v+f*N+x*j,i[5]=m*g+f*w+x*S,i[8]=m*b+f*A+x*E,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],s=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8];return r*o*u-r*l*d-s*i*u+s*l*c+a*i*d-a*o*c}invert(){const e=this.elements,r=e[0],s=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=u*o-l*d,m=l*c-u*i,f=d*i-o*c,x=r*h+s*m+a*f;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/x;return e[0]=h*v,e[1]=(a*d-u*s)*v,e[2]=(l*s-a*o)*v,e[3]=m*v,e[4]=(u*r-a*c)*v,e[5]=(a*i-l*r)*v,e[6]=f*v,e[7]=(s*c-d*r)*v,e[8]=(o*r-s*i)*v,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,s,a,i,o,l){const c=Math.cos(i),d=Math.sin(i);return this.set(s*c,s*d,-s*(c*o+d*l)+o+e,-a*d,a*c,-a*(-d*o+c*l)+l+r,0,0,1),this}scale(e,r){return this.premultiply(BS.makeScale(e,r)),this}rotate(e){return this.premultiply(BS.makeRotation(-e)),this}translate(e,r){return this.premultiply(BS.makeTranslation(e,r)),this}makeTranslation(e,r){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,r,0,0,1),this}makeRotation(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,-s,0,s,r,0,0,0,1),this}makeScale(e,r){return this.set(e,0,0,0,r,0,0,0,1),this}equals(e){const r=this.elements,s=e.elements;for(let a=0;a<9;a++)if(r[a]!==s[a])return!1;return!0}fromArray(e,r=0){for(let s=0;s<9;s++)this.elements[s]=e[s+r];return this}toArray(e=[],r=0){const s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const BS=new nn;function HW(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function rj(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function mie(){const t=rj("canvas");return t.style.display="block",t}const YD={};function fx(t){t in YD||(YD[t]=!0,console.warn(t))}function pie(t,e,r){return new Promise(function(s,a){function i(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:a();break;case t.TIMEOUT_EXPIRED:setTimeout(i,r);break;default:s()}}setTimeout(i,r)})}function xie(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function gie(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const KD=new nn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),JD=new nn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function vie(){const t={enabled:!0,workingColorSpace:Yx,spaces:{},convert:function(a,i,o){return this.enabled===!1||i===o||!i||!o||(this.spaces[i].transfer===ls&&(a.r=bh(a.r),a.g=bh(a.g),a.b=bh(a.b)),this.spaces[i].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[i].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===ls&&(a.r=Cx(a.r),a.g=Cx(a.g),a.b=Cx(a.b))),a},fromWorkingColorSpace:function(a,i){return this.convert(a,this.workingColorSpace,i)},toWorkingColorSpace:function(a,i){return this.convert(a,i,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Cf?ej:this.spaces[a].transfer},getLuminanceCoefficients:function(a,i=this.workingColorSpace){return a.fromArray(this.spaces[i].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,i,o){return a.copy(this.spaces[i].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],r=[.2126,.7152,.0722],s=[.3127,.329];return t.define({[Yx]:{primaries:e,whitePoint:s,transfer:ej,toXYZ:KD,fromXYZ:JD,luminanceCoefficients:r,workingColorSpaceConfig:{unpackColorSpace:lc},outputColorSpaceConfig:{drawingBufferColorSpace:lc}},[lc]:{primaries:e,whitePoint:s,transfer:ls,toXYZ:KD,fromXYZ:JD,luminanceCoefficients:r,outputColorSpaceConfig:{drawingBufferColorSpace:lc}}}),t}const Tn=vie();function bh(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Cx(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Wp;class yie{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Wp===void 0&&(Wp=rj("canvas")),Wp.width=e.width,Wp.height=e.height;const s=Wp.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),r=Wp}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=rj("canvas");r.width=e.width,r.height=e.height;const s=r.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const a=s.getImageData(0,0,e.width,e.height),i=a.data;for(let o=0;o<i.length;o++)i[o]=bh(i[o]/255)*255;return s.putImageData(a,0,0),r}else if(e.data){const r=e.data.slice(0);for(let s=0;s<r.length;s++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[s]=Math.floor(bh(r[s]/255)*255):r[s]=bh(r[s]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let bie=0;class WW{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bie++}),this.uuid=t1(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},a=this.data;if(a!==null){let i;if(Array.isArray(a)){i=[];for(let o=0,l=a.length;o<l;o++)a[o].isDataTexture?i.push(US(a[o].image)):i.push(US(a[o]))}else i=US(a);s.url=i}return r||(e.images[this.uuid]=s),s}}function US(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?yie.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let wie=0;class rl extends Dg{constructor(e=rl.DEFAULT_IMAGE,r=rl.DEFAULT_MAPPING,s=xm,a=xm,i=Yd,o=gm,l=nd,c=kh,d=rl.DEFAULT_ANISOTROPY,u=Cf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wie++}),this.uuid=t1(),this.name="",this.source=new WW(e),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=s,this.wrapT=a,this.magFilter=i,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Jn(0,0),this.repeat=new Jn(1,1),this.center=new Jn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),r||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==TW)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case z6:e.x=e.x-Math.floor(e.x);break;case xm:e.x=e.x<0?0:1;break;case $6:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case z6:e.y=e.y-Math.floor(e.y);break;case xm:e.y=e.y<0?0:1;break;case $6:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}rl.DEFAULT_IMAGE=null;rl.DEFAULT_MAPPING=TW;rl.DEFAULT_ANISOTROPY=1;class ua{constructor(e=0,r=0,s=0,a=1){ua.prototype.isVector4=!0,this.x=e,this.y=r,this.z=s,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,s,a){return this.x=e,this.y=r,this.z=s,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,s=this.y,a=this.z,i=this.w,o=e.elements;return this.x=o[0]*r+o[4]*s+o[8]*a+o[12]*i,this.y=o[1]*r+o[5]*s+o[9]*a+o[13]*i,this.z=o[2]*r+o[6]*s+o[10]*a+o[14]*i,this.w=o[3]*r+o[7]*s+o[11]*a+o[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,s,a,i;const c=e.elements,d=c[0],u=c[4],h=c[8],m=c[1],f=c[5],x=c[9],v=c[2],g=c[6],b=c[10];if(Math.abs(u-m)<.01&&Math.abs(h-v)<.01&&Math.abs(x-g)<.01){if(Math.abs(u+m)<.1&&Math.abs(h+v)<.1&&Math.abs(x+g)<.1&&Math.abs(d+f+b-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const w=(d+1)/2,A=(f+1)/2,j=(b+1)/2,S=(u+m)/4,E=(h+v)/4,R=(x+g)/4;return w>A&&w>j?w<.01?(s=0,a=.707106781,i=.707106781):(s=Math.sqrt(w),a=S/s,i=E/s):A>j?A<.01?(s=.707106781,a=0,i=.707106781):(a=Math.sqrt(A),s=S/a,i=R/a):j<.01?(s=.707106781,a=.707106781,i=0):(i=Math.sqrt(j),s=E/i,a=R/i),this.set(s,a,i,r),this}let N=Math.sqrt((g-x)*(g-x)+(h-v)*(h-v)+(m-u)*(m-u));return Math.abs(N)<.001&&(N=1),this.x=(g-x)/N,this.y=(h-v)/N,this.z=(m-u)/N,this.w=Math.acos((d+f+b-1)/2),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this.w=r[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=vn(this.x,e.x,r.x),this.y=vn(this.y,e.y,r.y),this.z=vn(this.z,e.z,r.z),this.w=vn(this.w,e.w,r.w),this}clampScalar(e,r){return this.x=vn(this.x,e,r),this.y=vn(this.y,e,r),this.z=vn(this.z,e,r),this.w=vn(this.w,e,r),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(vn(s,e,r))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this.w=e.w+(r.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class jie extends Dg{constructor(e=1,r=1,s={}){super(),this.isRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new ua(0,0,e,r),this.scissorTest=!1,this.viewport=new ua(0,0,e,r);const a={width:e,height:r,depth:1};s=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Yd,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},s);const i=new rl(a,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace);i.flipY=!1,i.generateMipmaps=s.generateMipmaps,i.internalFormat=s.internalFormat,this.textures=[];const o=s.count;for(let l=0;l<o;l++)this.textures[l]=i.clone(),this.textures[l].isRenderTargetTexture=!0;this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.resolveDepthBuffer=s.resolveDepthBuffer,this.resolveStencilBuffer=s.resolveStencilBuffer,this.depthTexture=s.depthTexture,this.samples=s.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,r,s=1){if(this.width!==e||this.height!==r||this.depth!==s){this.width=e,this.height=r,this.depth=s;for(let a=0,i=this.textures.length;a<i;a++)this.textures[a].image.width=e,this.textures[a].image.height=r,this.textures[a].image.depth=s;this.dispose()}this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let s=0,a=e.textures.length;s<a;s++)this.textures[s]=e.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new WW(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class zm extends jie{constructor(e=1,r=1,s={}){super(e,r,s),this.isWebGLRenderTarget=!0}}class qW extends rl{constructor(e=null,r=1,s=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:s,depth:a},this.magFilter=cd,this.minFilter=cd,this.wrapR=xm,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Nie extends rl{constructor(e=null,r=1,s=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:s,depth:a},this.magFilter=cd,this.minFilter=cd,this.wrapR=xm,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class r1{constructor(e=0,r=0,s=0,a=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=s,this._w=a}static slerpFlat(e,r,s,a,i,o,l){let c=s[a+0],d=s[a+1],u=s[a+2],h=s[a+3];const m=i[o+0],f=i[o+1],x=i[o+2],v=i[o+3];if(l===0){e[r+0]=c,e[r+1]=d,e[r+2]=u,e[r+3]=h;return}if(l===1){e[r+0]=m,e[r+1]=f,e[r+2]=x,e[r+3]=v;return}if(h!==v||c!==m||d!==f||u!==x){let g=1-l;const b=c*m+d*f+u*x+h*v,N=b>=0?1:-1,w=1-b*b;if(w>Number.EPSILON){const j=Math.sqrt(w),S=Math.atan2(j,b*N);g=Math.sin(g*S)/j,l=Math.sin(l*S)/j}const A=l*N;if(c=c*g+m*A,d=d*g+f*A,u=u*g+x*A,h=h*g+v*A,g===1-l){const j=1/Math.sqrt(c*c+d*d+u*u+h*h);c*=j,d*=j,u*=j,h*=j}}e[r]=c,e[r+1]=d,e[r+2]=u,e[r+3]=h}static multiplyQuaternionsFlat(e,r,s,a,i,o){const l=s[a],c=s[a+1],d=s[a+2],u=s[a+3],h=i[o],m=i[o+1],f=i[o+2],x=i[o+3];return e[r]=l*x+u*h+c*f-d*m,e[r+1]=c*x+u*m+d*h-l*f,e[r+2]=d*x+u*f+l*m-c*h,e[r+3]=u*x-l*h-c*m-d*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,s,a){return this._x=e,this._y=r,this._z=s,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r=!0){const s=e._x,a=e._y,i=e._z,o=e._order,l=Math.cos,c=Math.sin,d=l(s/2),u=l(a/2),h=l(i/2),m=c(s/2),f=c(a/2),x=c(i/2);switch(o){case"XYZ":this._x=m*u*h+d*f*x,this._y=d*f*h-m*u*x,this._z=d*u*x+m*f*h,this._w=d*u*h-m*f*x;break;case"YXZ":this._x=m*u*h+d*f*x,this._y=d*f*h-m*u*x,this._z=d*u*x-m*f*h,this._w=d*u*h+m*f*x;break;case"ZXY":this._x=m*u*h-d*f*x,this._y=d*f*h+m*u*x,this._z=d*u*x+m*f*h,this._w=d*u*h-m*f*x;break;case"ZYX":this._x=m*u*h-d*f*x,this._y=d*f*h+m*u*x,this._z=d*u*x-m*f*h,this._w=d*u*h+m*f*x;break;case"YZX":this._x=m*u*h+d*f*x,this._y=d*f*h+m*u*x,this._z=d*u*x-m*f*h,this._w=d*u*h-m*f*x;break;case"XZY":this._x=m*u*h-d*f*x,this._y=d*f*h-m*u*x,this._z=d*u*x+m*f*h,this._w=d*u*h+m*f*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return r===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const s=r/2,a=Math.sin(s);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,s=r[0],a=r[4],i=r[8],o=r[1],l=r[5],c=r[9],d=r[2],u=r[6],h=r[10],m=s+l+h;if(m>0){const f=.5/Math.sqrt(m+1);this._w=.25/f,this._x=(u-c)*f,this._y=(i-d)*f,this._z=(o-a)*f}else if(s>l&&s>h){const f=2*Math.sqrt(1+s-l-h);this._w=(u-c)/f,this._x=.25*f,this._y=(a+o)/f,this._z=(i+d)/f}else if(l>h){const f=2*Math.sqrt(1+l-s-h);this._w=(i-d)/f,this._x=(a+o)/f,this._y=.25*f,this._z=(c+u)/f}else{const f=2*Math.sqrt(1+h-s-l);this._w=(o-a)/f,this._x=(i+d)/f,this._y=(c+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let s=e.dot(r)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vn(this.dot(e),-1,1)))}rotateTowards(e,r){const s=this.angleTo(e);if(s===0)return this;const a=Math.min(1,r/s);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const s=e._x,a=e._y,i=e._z,o=e._w,l=r._x,c=r._y,d=r._z,u=r._w;return this._x=s*u+o*l+a*d-i*c,this._y=a*u+o*c+i*l-s*d,this._z=i*u+o*d+s*c-a*l,this._w=o*u-s*l-a*c-i*d,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const s=this._x,a=this._y,i=this._z,o=this._w;let l=o*e._w+s*e._x+a*e._y+i*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=s,this._y=a,this._z=i,this;const c=1-l*l;if(c<=Number.EPSILON){const f=1-r;return this._w=f*o+r*this._w,this._x=f*s+r*this._x,this._y=f*a+r*this._y,this._z=f*i+r*this._z,this.normalize(),this}const d=Math.sqrt(c),u=Math.atan2(d,l),h=Math.sin((1-r)*u)/d,m=Math.sin(r*u)/d;return this._w=o*h+this._w*m,this._x=s*h+this._x*m,this._y=a*h+this._y*m,this._z=i*h+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,r,s){return this.copy(e).slerp(r,s)}random(){const e=2*Math.PI*Math.random(),r=2*Math.PI*Math.random(),s=Math.random(),a=Math.sqrt(1-s),i=Math.sqrt(s);return this.set(a*Math.sin(e),a*Math.cos(e),i*Math.sin(r),i*Math.cos(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class wt{constructor(e=0,r=0,s=0){wt.prototype.isVector3=!0,this.x=e,this.y=r,this.z=s}set(e,r,s){return s===void 0&&(s=this.z),this.x=e,this.y=r,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(QD.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(QD.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,s=this.y,a=this.z,i=e.elements;return this.x=i[0]*r+i[3]*s+i[6]*a,this.y=i[1]*r+i[4]*s+i[7]*a,this.z=i[2]*r+i[5]*s+i[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,s=this.y,a=this.z,i=e.elements,o=1/(i[3]*r+i[7]*s+i[11]*a+i[15]);return this.x=(i[0]*r+i[4]*s+i[8]*a+i[12])*o,this.y=(i[1]*r+i[5]*s+i[9]*a+i[13])*o,this.z=(i[2]*r+i[6]*s+i[10]*a+i[14])*o,this}applyQuaternion(e){const r=this.x,s=this.y,a=this.z,i=e.x,o=e.y,l=e.z,c=e.w,d=2*(o*a-l*s),u=2*(l*r-i*a),h=2*(i*s-o*r);return this.x=r+c*d+o*h-l*u,this.y=s+c*u+l*d-i*h,this.z=a+c*h+i*u-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,s=this.y,a=this.z,i=e.elements;return this.x=i[0]*r+i[4]*s+i[8]*a,this.y=i[1]*r+i[5]*s+i[9]*a,this.z=i[2]*r+i[6]*s+i[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=vn(this.x,e.x,r.x),this.y=vn(this.y,e.y,r.y),this.z=vn(this.z,e.z,r.z),this}clampScalar(e,r){return this.x=vn(this.x,e,r),this.y=vn(this.y,e,r),this.z=vn(this.z,e,r),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(vn(s,e,r))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const s=e.x,a=e.y,i=e.z,o=r.x,l=r.y,c=r.z;return this.x=a*c-i*l,this.y=i*o-s*c,this.z=s*l-a*o,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const s=e.dot(this)/r;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return zS.copy(this).projectOnVector(e),this.sub(zS)}reflect(e){return this.sub(zS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const s=this.dot(e)/r;return Math.acos(vn(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,s=this.y-e.y,a=this.z-e.z;return r*r+s*s+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,s){const a=Math.sin(r)*e;return this.x=a*Math.sin(s),this.y=Math.cos(r)*e,this.z=a*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,s){return this.x=e*Math.sin(r),this.y=s,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=s,this.z=a,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,r=Math.random()*2-1,s=Math.sqrt(1-r*r);return this.x=s*Math.cos(e),this.y=r,this.z=s*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const zS=new wt,QD=new r1;class n1{constructor(e=new wt(1/0,1/0,1/0),r=new wt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){this.makeEmpty();for(let r=0,s=e.length;r<s;r+=3)this.expandByPoint(Wc.fromArray(e,r));return this}setFromBufferAttribute(e){this.makeEmpty();for(let r=0,s=e.count;r<s;r++)this.expandByPoint(Wc.fromBufferAttribute(e,r));return this}setFromPoints(e){this.makeEmpty();for(let r=0,s=e.length;r<s;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const s=Wc.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){e.updateWorldMatrix(!1,!1);const s=e.geometry;if(s!==void 0){const i=s.getAttribute("position");if(r===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=i.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Wc):Wc.fromBufferAttribute(i,o),Wc.applyMatrix4(e.matrixWorld),this.expandByPoint(Wc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),h2.copy(e.boundingBox)):(s.boundingBox===null&&s.computeBoundingBox(),h2.copy(s.boundingBox)),h2.applyMatrix4(e.matrixWorld),this.union(h2)}const a=e.children;for(let i=0,o=a.length;i<o;i++)this.expandByObject(a[i],r);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Wc),Wc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,s;return e.normal.x>0?(r=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),r<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ev),f2.subVectors(this.max,Ev),qp.subVectors(e.a,Ev),Gp.subVectors(e.b,Ev),Vp.subVectors(e.c,Ev),hf.subVectors(Gp,qp),ff.subVectors(Vp,Gp),H0.subVectors(qp,Vp);let r=[0,-hf.z,hf.y,0,-ff.z,ff.y,0,-H0.z,H0.y,hf.z,0,-hf.x,ff.z,0,-ff.x,H0.z,0,-H0.x,-hf.y,hf.x,0,-ff.y,ff.x,0,-H0.y,H0.x,0];return!$S(r,qp,Gp,Vp,f2)||(r=[1,0,0,0,1,0,0,0,1],!$S(r,qp,Gp,Vp,f2))?!1:(m2.crossVectors(hf,ff),r=[m2.x,m2.y,m2.z],$S(r,qp,Gp,Vp,f2))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Wc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Wc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ku[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ku[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ku[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ku[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ku[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ku[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ku[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ku[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ku),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ku=[new wt,new wt,new wt,new wt,new wt,new wt,new wt,new wt],Wc=new wt,h2=new n1,qp=new wt,Gp=new wt,Vp=new wt,hf=new wt,ff=new wt,H0=new wt,Ev=new wt,f2=new wt,m2=new wt,W0=new wt;function $S(t,e,r,s,a){for(let i=0,o=t.length-3;i<=o;i+=3){W0.fromArray(t,i);const l=a.x*Math.abs(W0.x)+a.y*Math.abs(W0.y)+a.z*Math.abs(W0.z),c=e.dot(W0),d=r.dot(W0),u=s.dot(W0);if(Math.max(-Math.max(c,d,u),Math.min(c,d,u))>l)return!1}return!0}const Sie=new n1,Tv=new wt,HS=new wt;class zT{constructor(e=new wt,r=-1){this.isSphere=!0,this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const s=this.center;r!==void 0?s.copy(r):Sie.setFromPoints(e).getCenter(s);let a=0;for(let i=0,o=e.length;i<o;i++)a=Math.max(a,s.distanceToSquared(e[i]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const s=this.center.distanceToSquared(e);return r.copy(e),s>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Tv.subVectors(e,this.center);const r=Tv.lengthSq();if(r>this.radius*this.radius){const s=Math.sqrt(r),a=(s-this.radius)*.5;this.center.addScaledVector(Tv,a/s),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(HS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Tv.copy(e.center).add(HS)),this.expandByPoint(Tv.copy(e.center).sub(HS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ju=new wt,WS=new wt,p2=new wt,mf=new wt,qS=new wt,x2=new wt,GS=new wt;class _ie{constructor(e=new wt,r=new wt(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ju)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const s=r.dot(this.direction);return s<0?r.copy(this.origin):r.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=Ju.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(Ju.copy(this.origin).addScaledVector(this.direction,r),Ju.distanceToSquared(e))}distanceSqToSegment(e,r,s,a){WS.copy(e).add(r).multiplyScalar(.5),p2.copy(r).sub(e).normalize(),mf.copy(this.origin).sub(WS);const i=e.distanceTo(r)*.5,o=-this.direction.dot(p2),l=mf.dot(this.direction),c=-mf.dot(p2),d=mf.lengthSq(),u=Math.abs(1-o*o);let h,m,f,x;if(u>0)if(h=o*c-l,m=o*l-c,x=i*u,h>=0)if(m>=-x)if(m<=x){const v=1/u;h*=v,m*=v,f=h*(h+o*m+2*l)+m*(o*h+m+2*c)+d}else m=i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;else m=-i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;else m<=-x?(h=Math.max(0,-(-o*i+l)),m=h>0?-i:Math.min(Math.max(-i,-c),i),f=-h*h+m*(m+2*c)+d):m<=x?(h=0,m=Math.min(Math.max(-i,-c),i),f=m*(m+2*c)+d):(h=Math.max(0,-(o*i+l)),m=h>0?i:Math.min(Math.max(-i,-c),i),f=-h*h+m*(m+2*c)+d);else m=o>0?-i:i,h=Math.max(0,-(o*m+l)),f=-h*h+m*(m+2*c)+d;return s&&s.copy(this.origin).addScaledVector(this.direction,h),a&&a.copy(WS).addScaledVector(p2,m),f}intersectSphere(e,r){Ju.subVectors(e.center,this.origin);const s=Ju.dot(this.direction),a=Ju.dot(Ju)-s*s,i=e.radius*e.radius;if(a>i)return null;const o=Math.sqrt(i-a),l=s-o,c=s+o;return c<0?null:l<0?this.at(c,r):this.at(l,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/r;return s>=0?s:null}intersectPlane(e,r){const s=this.distanceToPlane(e);return s===null?null:this.at(s,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let s,a,i,o,l,c;const d=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,m=this.origin;return d>=0?(s=(e.min.x-m.x)*d,a=(e.max.x-m.x)*d):(s=(e.max.x-m.x)*d,a=(e.min.x-m.x)*d),u>=0?(i=(e.min.y-m.y)*u,o=(e.max.y-m.y)*u):(i=(e.max.y-m.y)*u,o=(e.min.y-m.y)*u),s>o||i>a||((i>s||isNaN(s))&&(s=i),(o<a||isNaN(a))&&(a=o),h>=0?(l=(e.min.z-m.z)*h,c=(e.max.z-m.z)*h):(l=(e.max.z-m.z)*h,c=(e.min.z-m.z)*h),s>c||l>a)||((l>s||s!==s)&&(s=l),(c<a||a!==a)&&(a=c),a<0)?null:this.at(s>=0?s:a,r)}intersectsBox(e){return this.intersectBox(e,Ju)!==null}intersectTriangle(e,r,s,a,i){qS.subVectors(r,e),x2.subVectors(s,e),GS.crossVectors(qS,x2);let o=this.direction.dot(GS),l;if(o>0){if(a)return null;l=1}else if(o<0)l=-1,o=-o;else return null;mf.subVectors(this.origin,e);const c=l*this.direction.dot(x2.crossVectors(mf,x2));if(c<0)return null;const d=l*this.direction.dot(qS.cross(mf));if(d<0||c+d>o)return null;const u=-l*mf.dot(GS);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ha{constructor(e,r,s,a,i,o,l,c,d,u,h,m,f,x,v,g){ha.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,r,s,a,i,o,l,c,d,u,h,m,f,x,v,g)}set(e,r,s,a,i,o,l,c,d,u,h,m,f,x,v,g){const b=this.elements;return b[0]=e,b[4]=r,b[8]=s,b[12]=a,b[1]=i,b[5]=o,b[9]=l,b[13]=c,b[2]=d,b[6]=u,b[10]=h,b[14]=m,b[3]=f,b[7]=x,b[11]=v,b[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ha().fromArray(this.elements)}copy(e){const r=this.elements,s=e.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],this}copyPosition(e){const r=this.elements,s=e.elements;return r[12]=s[12],r[13]=s[13],r[14]=s[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,s){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,r,s){return this.set(e.x,r.x,s.x,0,e.y,r.y,s.y,0,e.z,r.z,s.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,s=e.elements,a=1/Xp.setFromMatrixColumn(e,0).length(),i=1/Xp.setFromMatrixColumn(e,1).length(),o=1/Xp.setFromMatrixColumn(e,2).length();return r[0]=s[0]*a,r[1]=s[1]*a,r[2]=s[2]*a,r[3]=0,r[4]=s[4]*i,r[5]=s[5]*i,r[6]=s[6]*i,r[7]=0,r[8]=s[8]*o,r[9]=s[9]*o,r[10]=s[10]*o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,s=e.x,a=e.y,i=e.z,o=Math.cos(s),l=Math.sin(s),c=Math.cos(a),d=Math.sin(a),u=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){const m=o*u,f=o*h,x=l*u,v=l*h;r[0]=c*u,r[4]=-c*h,r[8]=d,r[1]=f+x*d,r[5]=m-v*d,r[9]=-l*c,r[2]=v-m*d,r[6]=x+f*d,r[10]=o*c}else if(e.order==="YXZ"){const m=c*u,f=c*h,x=d*u,v=d*h;r[0]=m+v*l,r[4]=x*l-f,r[8]=o*d,r[1]=o*h,r[5]=o*u,r[9]=-l,r[2]=f*l-x,r[6]=v+m*l,r[10]=o*c}else if(e.order==="ZXY"){const m=c*u,f=c*h,x=d*u,v=d*h;r[0]=m-v*l,r[4]=-o*h,r[8]=x+f*l,r[1]=f+x*l,r[5]=o*u,r[9]=v-m*l,r[2]=-o*d,r[6]=l,r[10]=o*c}else if(e.order==="ZYX"){const m=o*u,f=o*h,x=l*u,v=l*h;r[0]=c*u,r[4]=x*d-f,r[8]=m*d+v,r[1]=c*h,r[5]=v*d+m,r[9]=f*d-x,r[2]=-d,r[6]=l*c,r[10]=o*c}else if(e.order==="YZX"){const m=o*c,f=o*d,x=l*c,v=l*d;r[0]=c*u,r[4]=v-m*h,r[8]=x*h+f,r[1]=h,r[5]=o*u,r[9]=-l*u,r[2]=-d*u,r[6]=f*h+x,r[10]=m-v*h}else if(e.order==="XZY"){const m=o*c,f=o*d,x=l*c,v=l*d;r[0]=c*u,r[4]=-h,r[8]=d*u,r[1]=m*h+v,r[5]=o*u,r[9]=f*h-x,r[2]=x*h-f,r[6]=l*u,r[10]=v*h+m}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Aie,e,Cie)}lookAt(e,r,s){const a=this.elements;return vl.subVectors(e,r),vl.lengthSq()===0&&(vl.z=1),vl.normalize(),pf.crossVectors(s,vl),pf.lengthSq()===0&&(Math.abs(s.z)===1?vl.x+=1e-4:vl.z+=1e-4,vl.normalize(),pf.crossVectors(s,vl)),pf.normalize(),g2.crossVectors(vl,pf),a[0]=pf.x,a[4]=g2.x,a[8]=vl.x,a[1]=pf.y,a[5]=g2.y,a[9]=vl.y,a[2]=pf.z,a[6]=g2.z,a[10]=vl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const s=e.elements,a=r.elements,i=this.elements,o=s[0],l=s[4],c=s[8],d=s[12],u=s[1],h=s[5],m=s[9],f=s[13],x=s[2],v=s[6],g=s[10],b=s[14],N=s[3],w=s[7],A=s[11],j=s[15],S=a[0],E=a[4],R=a[8],C=a[12],T=a[1],k=a[5],P=a[9],D=a[13],H=a[2],F=a[6],z=a[10],O=a[14],W=a[3],ee=a[7],K=a[11],re=a[15];return i[0]=o*S+l*T+c*H+d*W,i[4]=o*E+l*k+c*F+d*ee,i[8]=o*R+l*P+c*z+d*K,i[12]=o*C+l*D+c*O+d*re,i[1]=u*S+h*T+m*H+f*W,i[5]=u*E+h*k+m*F+f*ee,i[9]=u*R+h*P+m*z+f*K,i[13]=u*C+h*D+m*O+f*re,i[2]=x*S+v*T+g*H+b*W,i[6]=x*E+v*k+g*F+b*ee,i[10]=x*R+v*P+g*z+b*K,i[14]=x*C+v*D+g*O+b*re,i[3]=N*S+w*T+A*H+j*W,i[7]=N*E+w*k+A*F+j*ee,i[11]=N*R+w*P+A*z+j*K,i[15]=N*C+w*D+A*O+j*re,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],s=e[4],a=e[8],i=e[12],o=e[1],l=e[5],c=e[9],d=e[13],u=e[2],h=e[6],m=e[10],f=e[14],x=e[3],v=e[7],g=e[11],b=e[15];return x*(+i*c*h-a*d*h-i*l*m+s*d*m+a*l*f-s*c*f)+v*(+r*c*f-r*d*m+i*o*m-a*o*f+a*d*u-i*c*u)+g*(+r*d*h-r*l*f-i*o*h+s*o*f+i*l*u-s*d*u)+b*(-a*l*u-r*c*h+r*l*m+a*o*h-s*o*m+s*c*u)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,s){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=r,a[14]=s),this}invert(){const e=this.elements,r=e[0],s=e[1],a=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],m=e[10],f=e[11],x=e[12],v=e[13],g=e[14],b=e[15],N=h*g*d-v*m*d+v*c*f-l*g*f-h*c*b+l*m*b,w=x*m*d-u*g*d-x*c*f+o*g*f+u*c*b-o*m*b,A=u*v*d-x*h*d+x*l*f-o*v*f-u*l*b+o*h*b,j=x*h*c-u*v*c-x*l*m+o*v*m+u*l*g-o*h*g,S=r*N+s*w+a*A+i*j;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/S;return e[0]=N*E,e[1]=(v*m*i-h*g*i-v*a*f+s*g*f+h*a*b-s*m*b)*E,e[2]=(l*g*i-v*c*i+v*a*d-s*g*d-l*a*b+s*c*b)*E,e[3]=(h*c*i-l*m*i-h*a*d+s*m*d+l*a*f-s*c*f)*E,e[4]=w*E,e[5]=(u*g*i-x*m*i+x*a*f-r*g*f-u*a*b+r*m*b)*E,e[6]=(x*c*i-o*g*i-x*a*d+r*g*d+o*a*b-r*c*b)*E,e[7]=(o*m*i-u*c*i+u*a*d-r*m*d-o*a*f+r*c*f)*E,e[8]=A*E,e[9]=(x*h*i-u*v*i-x*s*f+r*v*f+u*s*b-r*h*b)*E,e[10]=(o*v*i-x*l*i+x*s*d-r*v*d-o*s*b+r*l*b)*E,e[11]=(u*l*i-o*h*i-u*s*d+r*h*d+o*s*f-r*l*f)*E,e[12]=j*E,e[13]=(u*v*a-x*h*a+x*s*m-r*v*m-u*s*g+r*h*g)*E,e[14]=(x*l*a-o*v*a-x*s*c+r*v*c+o*s*g-r*l*g)*E,e[15]=(o*h*a-u*l*a+u*s*c-r*h*c-o*s*m+r*l*m)*E,this}scale(e){const r=this.elements,s=e.x,a=e.y,i=e.z;return r[0]*=s,r[4]*=a,r[8]*=i,r[1]*=s,r[5]*=a,r[9]*=i,r[2]*=s,r[6]*=a,r[10]*=i,r[3]*=s,r[7]*=a,r[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,s,a))}makeTranslation(e,r,s){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,r,0,0,1,s,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,r,-s,0,0,s,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,0,s,0,0,1,0,0,-s,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const s=Math.cos(r),a=Math.sin(r),i=1-s,o=e.x,l=e.y,c=e.z,d=i*o,u=i*l;return this.set(d*o+s,d*l-a*c,d*c+a*l,0,d*l+a*c,u*l+s,u*c-a*o,0,d*c-a*l,u*c+a*o,i*c*c+s,0,0,0,0,1),this}makeScale(e,r,s){return this.set(e,0,0,0,0,r,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,r,s,a,i,o){return this.set(1,s,i,0,e,1,o,0,r,a,1,0,0,0,0,1),this}compose(e,r,s){const a=this.elements,i=r._x,o=r._y,l=r._z,c=r._w,d=i+i,u=o+o,h=l+l,m=i*d,f=i*u,x=i*h,v=o*u,g=o*h,b=l*h,N=c*d,w=c*u,A=c*h,j=s.x,S=s.y,E=s.z;return a[0]=(1-(v+b))*j,a[1]=(f+A)*j,a[2]=(x-w)*j,a[3]=0,a[4]=(f-A)*S,a[5]=(1-(m+b))*S,a[6]=(g+N)*S,a[7]=0,a[8]=(x+w)*E,a[9]=(g-N)*E,a[10]=(1-(m+v))*E,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,r,s){const a=this.elements;let i=Xp.set(a[0],a[1],a[2]).length();const o=Xp.set(a[4],a[5],a[6]).length(),l=Xp.set(a[8],a[9],a[10]).length();this.determinant()<0&&(i=-i),e.x=a[12],e.y=a[13],e.z=a[14],qc.copy(this);const d=1/i,u=1/o,h=1/l;return qc.elements[0]*=d,qc.elements[1]*=d,qc.elements[2]*=d,qc.elements[4]*=u,qc.elements[5]*=u,qc.elements[6]*=u,qc.elements[8]*=h,qc.elements[9]*=h,qc.elements[10]*=h,r.setFromRotationMatrix(qc),s.x=i,s.y=o,s.z=l,this}makePerspective(e,r,s,a,i,o,l=fh){const c=this.elements,d=2*i/(r-e),u=2*i/(s-a),h=(r+e)/(r-e),m=(s+a)/(s-a);let f,x;if(l===fh)f=-(o+i)/(o-i),x=-2*o*i/(o-i);else if(l===tj)f=-o/(o-i),x=-o*i/(o-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=d,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=u,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=f,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,r,s,a,i,o,l=fh){const c=this.elements,d=1/(r-e),u=1/(s-a),h=1/(o-i),m=(r+e)*d,f=(s+a)*u;let x,v;if(l===fh)x=(o+i)*h,v=-2*h;else if(l===tj)x=i*h,v=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-f,c[2]=0,c[6]=0,c[10]=v,c[14]=-x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const r=this.elements,s=e.elements;for(let a=0;a<16;a++)if(r[a]!==s[a])return!1;return!0}fromArray(e,r=0){for(let s=0;s<16;s++)this.elements[s]=e[s+r];return this}toArray(e=[],r=0){const s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e[r+9]=s[9],e[r+10]=s[10],e[r+11]=s[11],e[r+12]=s[12],e[r+13]=s[13],e[r+14]=s[14],e[r+15]=s[15],e}}const Xp=new wt,qc=new ha,Aie=new wt(0,0,0),Cie=new wt(1,1,1),pf=new wt,g2=new wt,vl=new wt,ZD=new ha,eR=new r1;class cu{constructor(e=0,r=0,s=0,a=cu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=r,this._z=s,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,s,a=this._order){return this._x=e,this._y=r,this._z=s,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,s=!0){const a=e.elements,i=a[0],o=a[4],l=a[8],c=a[1],d=a[5],u=a[9],h=a[2],m=a[6],f=a[10];switch(r){case"XYZ":this._y=Math.asin(vn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-vn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,f),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(vn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-vn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,f),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(vn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(l,f));break;case"XZY":this._z=Math.asin(-vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,s){return ZD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ZD,r,s)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return eR.setFromEuler(this),this.setFromQuaternion(eR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cu.DEFAULT_ORDER="XYZ";class GW{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let kie=0;const tR=new wt,Yp=new r1,Qu=new ha,v2=new wt,Mv=new wt,Eie=new wt,Tie=new r1,rR=new wt(1,0,0),nR=new wt(0,1,0),sR=new wt(0,0,1),aR={type:"added"},Mie={type:"removed"},Kp={type:"childadded",child:null},VS={type:"childremoved",child:null};class so extends Dg{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kie++}),this.uuid=t1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=so.DEFAULT_UP.clone();const e=new wt,r=new cu,s=new r1,a=new wt(1,1,1);function i(){s.setFromEuler(r,!1)}function o(){r.setFromQuaternion(s,void 0,!1)}r._onChange(i),s._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new ha},normalMatrix:{value:new nn}}),this.matrix=new ha,this.matrixWorld=new ha,this.matrixAutoUpdate=so.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=so.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new GW,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return Yp.setFromAxisAngle(e,r),this.quaternion.multiply(Yp),this}rotateOnWorldAxis(e,r){return Yp.setFromAxisAngle(e,r),this.quaternion.premultiply(Yp),this}rotateX(e){return this.rotateOnAxis(rR,e)}rotateY(e){return this.rotateOnAxis(nR,e)}rotateZ(e){return this.rotateOnAxis(sR,e)}translateOnAxis(e,r){return tR.copy(e).applyQuaternion(this.quaternion),this.position.add(tR.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(rR,e)}translateY(e){return this.translateOnAxis(nR,e)}translateZ(e){return this.translateOnAxis(sR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qu.copy(this.matrixWorld).invert())}lookAt(e,r,s){e.isVector3?v2.copy(e):v2.set(e,r,s);const a=this.parent;this.updateWorldMatrix(!0,!1),Mv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qu.lookAt(Mv,v2,this.up):Qu.lookAt(v2,Mv,this.up),this.quaternion.setFromRotationMatrix(Qu),a&&(Qu.extractRotation(a.matrixWorld),Yp.setFromRotationMatrix(Qu),this.quaternion.premultiply(Yp.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(aR),Kp.child=e,this.dispatchEvent(Kp),Kp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(Mie),VS.child=e,this.dispatchEvent(VS),VS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(aR),Kp.child=e,this.dispatchEvent(Kp),Kp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let s=0,a=this.children.length;s<a;s++){const o=this.children[s].getObjectByProperty(e,r);if(o!==void 0)return o}}getObjectsByProperty(e,r,s=[]){this[e]===r&&s.push(this);const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].getObjectsByProperty(e,r,s);return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mv,e,Eie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mv,Tie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateMatrixWorld(e)}updateWorldMatrix(e,r){const s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),r===!0){const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].updateWorldMatrix(!1,!0)}}toJSON(e){const r=e===void 0||typeof e=="string",s={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=i(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let d=0,u=c.length;d<u;d++){const h=c[d];i(e.shapes,h)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(i(e.materials,this.material[c]));a.material=l}else a.material=i(e.materials,this.material);if(this.children.length>0){a.children=[];for(let l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];a.animations.push(i(e.animations,c))}}if(r){const l=o(e.geometries),c=o(e.materials),d=o(e.textures),u=o(e.images),h=o(e.shapes),m=o(e.skeletons),f=o(e.animations),x=o(e.nodes);l.length>0&&(s.geometries=l),c.length>0&&(s.materials=c),d.length>0&&(s.textures=d),u.length>0&&(s.images=u),h.length>0&&(s.shapes=h),m.length>0&&(s.skeletons=m),f.length>0&&(s.animations=f),x.length>0&&(s.nodes=x)}return s.object=a,s;function o(l){const c=[];for(const d in l){const u=l[d];delete u.metadata,c.push(u)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let s=0;s<e.children.length;s++){const a=e.children[s];this.add(a.clone())}return this}}so.DEFAULT_UP=new wt(0,1,0);so.DEFAULT_MATRIX_AUTO_UPDATE=!0;so.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Gc=new wt,Zu=new wt,XS=new wt,eh=new wt,Jp=new wt,Qp=new wt,iR=new wt,YS=new wt,KS=new wt,JS=new wt,QS=new ua,ZS=new ua,e_=new ua;class ed{constructor(e=new wt,r=new wt,s=new wt){this.a=e,this.b=r,this.c=s}static getNormal(e,r,s,a){a.subVectors(s,r),Gc.subVectors(e,r),a.cross(Gc);const i=a.lengthSq();return i>0?a.multiplyScalar(1/Math.sqrt(i)):a.set(0,0,0)}static getBarycoord(e,r,s,a,i){Gc.subVectors(a,r),Zu.subVectors(s,r),XS.subVectors(e,r);const o=Gc.dot(Gc),l=Gc.dot(Zu),c=Gc.dot(XS),d=Zu.dot(Zu),u=Zu.dot(XS),h=o*d-l*l;if(h===0)return i.set(0,0,0),null;const m=1/h,f=(d*c-l*u)*m,x=(o*u-l*c)*m;return i.set(1-f-x,x,f)}static containsPoint(e,r,s,a){return this.getBarycoord(e,r,s,a,eh)===null?!1:eh.x>=0&&eh.y>=0&&eh.x+eh.y<=1}static getInterpolation(e,r,s,a,i,o,l,c){return this.getBarycoord(e,r,s,a,eh)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(i,eh.x),c.addScaledVector(o,eh.y),c.addScaledVector(l,eh.z),c)}static getInterpolatedAttribute(e,r,s,a,i,o){return QS.setScalar(0),ZS.setScalar(0),e_.setScalar(0),QS.fromBufferAttribute(e,r),ZS.fromBufferAttribute(e,s),e_.fromBufferAttribute(e,a),o.setScalar(0),o.addScaledVector(QS,i.x),o.addScaledVector(ZS,i.y),o.addScaledVector(e_,i.z),o}static isFrontFacing(e,r,s,a){return Gc.subVectors(s,r),Zu.subVectors(e,r),Gc.cross(Zu).dot(a)<0}set(e,r,s){return this.a.copy(e),this.b.copy(r),this.c.copy(s),this}setFromPointsAndIndices(e,r,s,a){return this.a.copy(e[r]),this.b.copy(e[s]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,r,s,a){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Gc.subVectors(this.c,this.b),Zu.subVectors(this.a,this.b),Gc.cross(Zu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ed.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return ed.getBarycoord(e,this.a,this.b,this.c,r)}getInterpolation(e,r,s,a,i){return ed.getInterpolation(e,this.a,this.b,this.c,r,s,a,i)}containsPoint(e){return ed.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ed.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const s=this.a,a=this.b,i=this.c;let o,l;Jp.subVectors(a,s),Qp.subVectors(i,s),YS.subVectors(e,s);const c=Jp.dot(YS),d=Qp.dot(YS);if(c<=0&&d<=0)return r.copy(s);KS.subVectors(e,a);const u=Jp.dot(KS),h=Qp.dot(KS);if(u>=0&&h<=u)return r.copy(a);const m=c*h-u*d;if(m<=0&&c>=0&&u<=0)return o=c/(c-u),r.copy(s).addScaledVector(Jp,o);JS.subVectors(e,i);const f=Jp.dot(JS),x=Qp.dot(JS);if(x>=0&&f<=x)return r.copy(i);const v=f*d-c*x;if(v<=0&&d>=0&&x<=0)return l=d/(d-x),r.copy(s).addScaledVector(Qp,l);const g=u*x-f*h;if(g<=0&&h-u>=0&&f-x>=0)return iR.subVectors(i,a),l=(h-u)/(h-u+(f-x)),r.copy(a).addScaledVector(iR,l);const b=1/(g+v+m);return o=v*b,l=m*b,r.copy(s).addScaledVector(Jp,o).addScaledVector(Qp,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const VW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xf={h:0,s:0,l:0},y2={h:0,s:0,l:0};function t_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*6*(2/3-r):t}let Mn=class{constructor(e,r,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,r,s)}set(e,r,s){if(r===void 0&&s===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,r,s);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=lc){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Tn.toWorkingColorSpace(this,r),this}setRGB(e,r,s,a=Tn.workingColorSpace){return this.r=e,this.g=r,this.b=s,Tn.toWorkingColorSpace(this,a),this}setHSL(e,r,s,a=Tn.workingColorSpace){if(e=fie(e,1),r=vn(r,0,1),s=vn(s,0,1),r===0)this.r=this.g=this.b=s;else{const i=s<=.5?s*(1+r):s+r-s*r,o=2*s-i;this.r=t_(o,i,e+1/3),this.g=t_(o,i,e),this.b=t_(o,i,e-1/3)}return Tn.toWorkingColorSpace(this,a),this}setStyle(e,r=lc){function s(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=a[1],l=a[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return s(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,r);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return s(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,r);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return s(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=a[1],o=i.length;if(o===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,r);if(o===6)return this.setHex(parseInt(i,16),r);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,r);return this}setColorName(e,r=lc){const s=VW[e.toLowerCase()];return s!==void 0?this.setHex(s,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=bh(e.r),this.g=bh(e.g),this.b=bh(e.b),this}copyLinearToSRGB(e){return this.r=Cx(e.r),this.g=Cx(e.g),this.b=Cx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=lc){return Tn.fromWorkingColorSpace(qi.copy(this),e),Math.round(vn(qi.r*255,0,255))*65536+Math.round(vn(qi.g*255,0,255))*256+Math.round(vn(qi.b*255,0,255))}getHexString(e=lc){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=Tn.workingColorSpace){Tn.fromWorkingColorSpace(qi.copy(this),r);const s=qi.r,a=qi.g,i=qi.b,o=Math.max(s,a,i),l=Math.min(s,a,i);let c,d;const u=(l+o)/2;if(l===o)c=0,d=0;else{const h=o-l;switch(d=u<=.5?h/(o+l):h/(2-o-l),o){case s:c=(a-i)/h+(a<i?6:0);break;case a:c=(i-s)/h+2;break;case i:c=(s-a)/h+4;break}c/=6}return e.h=c,e.s=d,e.l=u,e}getRGB(e,r=Tn.workingColorSpace){return Tn.fromWorkingColorSpace(qi.copy(this),r),e.r=qi.r,e.g=qi.g,e.b=qi.b,e}getStyle(e=lc){Tn.fromWorkingColorSpace(qi.copy(this),e);const r=qi.r,s=qi.g,a=qi.b;return e!==lc?`color(${e} ${r.toFixed(3)} ${s.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(r*255)},${Math.round(s*255)},${Math.round(a*255)})`}offsetHSL(e,r,s){return this.getHSL(xf),this.setHSL(xf.h+e,xf.s+r,xf.l+s)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,s){return this.r=e.r+(r.r-e.r)*s,this.g=e.g+(r.g-e.g)*s,this.b=e.b+(r.b-e.b)*s,this}lerpHSL(e,r){this.getHSL(xf),e.getHSL(y2);const s=FS(xf.h,y2.h,r),a=FS(xf.s,y2.s,r),i=FS(xf.l,y2.l,r);return this.setHSL(s,a,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const r=this.r,s=this.g,a=this.b,i=e.elements;return this.r=i[0]*r+i[3]*s+i[6]*a,this.g=i[1]*r+i[4]*s+i[7]*a,this.b=i[2]*r+i[5]*s+i[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const qi=new Mn;Mn.NAMES=VW;let Pie=0;class s1 extends Dg{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Pie++}),this.uuid=t1(),this.name="",this.type="Material",this.blending=_x,this.side=Jf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=T6,this.blendDst=M6,this.blendEquation=hm,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Mn(0,0,0),this.blendAlpha=0,this.depthFunc=Wx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=GD,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hp,this.stencilZFail=Hp,this.stencilZPass=Hp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const s=e[r];if(s===void 0){console.warn(`THREE.Material: parameter '${r}' has value of undefined.`);continue}const a=this[r];if(a===void 0){console.warn(`THREE.Material: '${r}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(s):a&&a.isVector3&&s&&s.isVector3?a.copy(s):this[r]=s}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(s.dispersion=this.dispersion),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapRotation!==void 0&&(s.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==_x&&(s.blending=this.blending),this.side!==Jf&&(s.side=this.side),this.vertexColors===!0&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=!0),this.blendSrc!==T6&&(s.blendSrc=this.blendSrc),this.blendDst!==M6&&(s.blendDst=this.blendDst),this.blendEquation!==hm&&(s.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(s.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(s.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(s.blendAlpha=this.blendAlpha),this.depthFunc!==Wx&&(s.depthFunc=this.depthFunc),this.depthTest===!1&&(s.depthTest=this.depthTest),this.depthWrite===!1&&(s.depthWrite=this.depthWrite),this.colorWrite===!1&&(s.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(s.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==GD&&(s.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(s.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Hp&&(s.stencilFail=this.stencilFail),this.stencilZFail!==Hp&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==Hp&&(s.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(s.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=!0),this.alphaToCoverage===!0&&(s.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=!0),this.forceSinglePass===!0&&(s.forceSinglePass=!0),this.wireframe===!0&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=!0),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function a(i){const o=[];for(const l in i){const c=i[l];delete c.metadata,o.push(c)}return o}if(r){const i=a(e.textures),o=a(e.images);i.length>0&&(s.textures=i),o.length>0&&(s.images=o)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let s=null;if(r!==null){const a=r.length;s=new Array(a);for(let i=0;i!==a;++i)s[i]=r[i].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class XW extends s1{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cu,this.combine=RT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ea=new wt,b2=new Jn;class eu{constructor(e,r,s=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=s,this.usage=VD,this.updateRanges=[],this.gpuType=hh,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,r){this.updateRanges.push({start:e,count:r})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,r,s){e*=this.itemSize,s*=r.itemSize;for(let a=0,i=this.itemSize;a<i;a++)this.array[e+a]=r.array[s+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,s=this.count;r<s;r++)b2.fromBufferAttribute(this,r),b2.applyMatrix3(e),this.setXY(r,b2.x,b2.y);else if(this.itemSize===3)for(let r=0,s=this.count;r<s;r++)Ea.fromBufferAttribute(this,r),Ea.applyMatrix3(e),this.setXYZ(r,Ea.x,Ea.y,Ea.z);return this}applyMatrix4(e){for(let r=0,s=this.count;r<s;r++)Ea.fromBufferAttribute(this,r),Ea.applyMatrix4(e),this.setXYZ(r,Ea.x,Ea.y,Ea.z);return this}applyNormalMatrix(e){for(let r=0,s=this.count;r<s;r++)Ea.fromBufferAttribute(this,r),Ea.applyNormalMatrix(e),this.setXYZ(r,Ea.x,Ea.y,Ea.z);return this}transformDirection(e){for(let r=0,s=this.count;r<s;r++)Ea.fromBufferAttribute(this,r),Ea.transformDirection(e),this.setXYZ(r,Ea.x,Ea.y,Ea.z);return this}set(e,r=0){return this.array.set(e,r),this}getComponent(e,r){let s=this.array[e*this.itemSize+r];return this.normalized&&(s=kv(s,this.array)),s}setComponent(e,r,s){return this.normalized&&(s=Vo(s,this.array)),this.array[e*this.itemSize+r]=s,this}getX(e){let r=this.array[e*this.itemSize];return this.normalized&&(r=kv(r,this.array)),r}setX(e,r){return this.normalized&&(r=Vo(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return this.normalized&&(r=kv(r,this.array)),r}setY(e,r){return this.normalized&&(r=Vo(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return this.normalized&&(r=kv(r,this.array)),r}setZ(e,r){return this.normalized&&(r=Vo(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return this.normalized&&(r=kv(r,this.array)),r}setW(e,r){return this.normalized&&(r=Vo(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,s){return e*=this.itemSize,this.normalized&&(r=Vo(r,this.array),s=Vo(s,this.array)),this.array[e+0]=r,this.array[e+1]=s,this}setXYZ(e,r,s,a){return e*=this.itemSize,this.normalized&&(r=Vo(r,this.array),s=Vo(s,this.array),a=Vo(a,this.array)),this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=a,this}setXYZW(e,r,s,a,i){return e*=this.itemSize,this.normalized&&(r=Vo(r,this.array),s=Vo(s,this.array),a=Vo(a,this.array),i=Vo(i,this.array)),this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=a,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==VD&&(e.usage=this.usage),e}}class YW extends eu{constructor(e,r,s){super(new Uint16Array(e),r,s)}}class KW extends eu{constructor(e,r,s){super(new Uint32Array(e),r,s)}}class Am extends eu{constructor(e,r,s){super(new Float32Array(e),r,s)}}let Die=0;const Zl=new ha,r_=new so,Zp=new wt,yl=new n1,Pv=new n1,ci=new wt;class sp extends Dg{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Die++}),this.uuid=t1(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(HW(e)?KW:YW)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,s=0){this.groups.push({start:e,count:r,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const i=new nn().getNormalMatrix(e);s.applyNormalMatrix(i),s.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Zl.makeRotationFromQuaternion(e),this.applyMatrix4(Zl),this}rotateX(e){return Zl.makeRotationX(e),this.applyMatrix4(Zl),this}rotateY(e){return Zl.makeRotationY(e),this.applyMatrix4(Zl),this}rotateZ(e){return Zl.makeRotationZ(e),this.applyMatrix4(Zl),this}translate(e,r,s){return Zl.makeTranslation(e,r,s),this.applyMatrix4(Zl),this}scale(e,r,s){return Zl.makeScale(e,r,s),this.applyMatrix4(Zl),this}lookAt(e){return r_.lookAt(e),r_.updateMatrix(),this.applyMatrix4(r_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Zp).negate(),this.translate(Zp.x,Zp.y,Zp.z),this}setFromPoints(e){const r=this.getAttribute("position");if(r===void 0){const s=[];for(let a=0,i=e.length;a<i;a++){const o=e[a];s.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Am(s,3))}else{const s=Math.min(e.length,r.count);for(let a=0;a<s;a++){const i=e[a];r.setXYZ(a,i.x,i.y,i.z||0)}e.length>r.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),r.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new n1);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new wt(-1/0,-1/0,-1/0),new wt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let s=0,a=r.length;s<a;s++){const i=r[s];yl.setFromBufferAttribute(i),this.morphTargetsRelative?(ci.addVectors(this.boundingBox.min,yl.min),this.boundingBox.expandByPoint(ci),ci.addVectors(this.boundingBox.max,yl.max),this.boundingBox.expandByPoint(ci)):(this.boundingBox.expandByPoint(yl.min),this.boundingBox.expandByPoint(yl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new zT);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new wt,1/0);return}if(e){const s=this.boundingSphere.center;if(yl.setFromBufferAttribute(e),r)for(let i=0,o=r.length;i<o;i++){const l=r[i];Pv.setFromBufferAttribute(l),this.morphTargetsRelative?(ci.addVectors(yl.min,Pv.min),yl.expandByPoint(ci),ci.addVectors(yl.max,Pv.max),yl.expandByPoint(ci)):(yl.expandByPoint(Pv.min),yl.expandByPoint(Pv.max))}yl.getCenter(s);let a=0;for(let i=0,o=e.count;i<o;i++)ci.fromBufferAttribute(e,i),a=Math.max(a,s.distanceToSquared(ci));if(r)for(let i=0,o=r.length;i<o;i++){const l=r[i],c=this.morphTargetsRelative;for(let d=0,u=l.count;d<u;d++)ci.fromBufferAttribute(l,d),c&&(Zp.fromBufferAttribute(e,d),ci.add(Zp)),a=Math.max(a,s.distanceToSquared(ci))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=r.position,a=r.normal,i=r.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new eu(new Float32Array(4*s.count),4));const o=this.getAttribute("tangent"),l=[],c=[];for(let R=0;R<s.count;R++)l[R]=new wt,c[R]=new wt;const d=new wt,u=new wt,h=new wt,m=new Jn,f=new Jn,x=new Jn,v=new wt,g=new wt;function b(R,C,T){d.fromBufferAttribute(s,R),u.fromBufferAttribute(s,C),h.fromBufferAttribute(s,T),m.fromBufferAttribute(i,R),f.fromBufferAttribute(i,C),x.fromBufferAttribute(i,T),u.sub(d),h.sub(d),f.sub(m),x.sub(m);const k=1/(f.x*x.y-x.x*f.y);isFinite(k)&&(v.copy(u).multiplyScalar(x.y).addScaledVector(h,-f.y).multiplyScalar(k),g.copy(h).multiplyScalar(f.x).addScaledVector(u,-x.x).multiplyScalar(k),l[R].add(v),l[C].add(v),l[T].add(v),c[R].add(g),c[C].add(g),c[T].add(g))}let N=this.groups;N.length===0&&(N=[{start:0,count:e.count}]);for(let R=0,C=N.length;R<C;++R){const T=N[R],k=T.start,P=T.count;for(let D=k,H=k+P;D<H;D+=3)b(e.getX(D+0),e.getX(D+1),e.getX(D+2))}const w=new wt,A=new wt,j=new wt,S=new wt;function E(R){j.fromBufferAttribute(a,R),S.copy(j);const C=l[R];w.copy(C),w.sub(j.multiplyScalar(j.dot(C))).normalize(),A.crossVectors(S,C);const k=A.dot(c[R])<0?-1:1;o.setXYZW(R,w.x,w.y,w.z,k)}for(let R=0,C=N.length;R<C;++R){const T=N[R],k=T.start,P=T.count;for(let D=k,H=k+P;D<H;D+=3)E(e.getX(D+0)),E(e.getX(D+1)),E(e.getX(D+2))}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new eu(new Float32Array(r.count*3),3),this.setAttribute("normal",s);else for(let m=0,f=s.count;m<f;m++)s.setXYZ(m,0,0,0);const a=new wt,i=new wt,o=new wt,l=new wt,c=new wt,d=new wt,u=new wt,h=new wt;if(e)for(let m=0,f=e.count;m<f;m+=3){const x=e.getX(m+0),v=e.getX(m+1),g=e.getX(m+2);a.fromBufferAttribute(r,x),i.fromBufferAttribute(r,v),o.fromBufferAttribute(r,g),u.subVectors(o,i),h.subVectors(a,i),u.cross(h),l.fromBufferAttribute(s,x),c.fromBufferAttribute(s,v),d.fromBufferAttribute(s,g),l.add(u),c.add(u),d.add(u),s.setXYZ(x,l.x,l.y,l.z),s.setXYZ(v,c.x,c.y,c.z),s.setXYZ(g,d.x,d.y,d.z)}else for(let m=0,f=r.count;m<f;m+=3)a.fromBufferAttribute(r,m+0),i.fromBufferAttribute(r,m+1),o.fromBufferAttribute(r,m+2),u.subVectors(o,i),h.subVectors(a,i),u.cross(h),s.setXYZ(m+0,u.x,u.y,u.z),s.setXYZ(m+1,u.x,u.y,u.z),s.setXYZ(m+2,u.x,u.y,u.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let r=0,s=e.count;r<s;r++)ci.fromBufferAttribute(e,r),ci.normalize(),e.setXYZ(r,ci.x,ci.y,ci.z)}toNonIndexed(){function e(l,c){const d=l.array,u=l.itemSize,h=l.normalized,m=new d.constructor(c.length*u);let f=0,x=0;for(let v=0,g=c.length;v<g;v++){l.isInterleavedBufferAttribute?f=c[v]*l.data.stride+l.offset:f=c[v]*u;for(let b=0;b<u;b++)m[x++]=d[f++]}return new eu(m,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new sp,s=this.index.array,a=this.attributes;for(const l in a){const c=a[l],d=e(c,s);r.setAttribute(l,d)}const i=this.morphAttributes;for(const l in i){const c=[],d=i[l];for(let u=0,h=d.length;u<h;u++){const m=d[u],f=e(m,s);c.push(f)}r.morphAttributes[l]=c}r.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const d=o[l];r.addGroup(d.start,d.count,d.materialIndex)}return r}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const s=this.attributes;for(const c in s){const d=s[c];e.data.attributes[c]=d.toJSON(e.data)}const a={};let i=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],u=[];for(let h=0,m=d.length;h<m;h++){const f=d[h];u.push(f.toJSON(e.data))}u.length>0&&(a[c]=u,i=!0)}i&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(r));const a=e.attributes;for(const d in a){const u=a[d];this.setAttribute(d,u.clone(r))}const i=e.morphAttributes;for(const d in i){const u=[],h=i[d];for(let m=0,f=h.length;m<f;m++)u.push(h[m].clone(r));this.morphAttributes[d]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,u=o.length;d<u;d++){const h=o[d];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const oR=new ha,q0=new _ie,w2=new zT,lR=new wt,j2=new wt,N2=new wt,S2=new wt,n_=new wt,_2=new wt,cR=new wt,A2=new wt;class sd extends so{constructor(e=new sp,r=new XW){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,s=Object.keys(r);if(s.length>0){const a=r[s[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){const l=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,r){const s=this.geometry,a=s.attributes.position,i=s.morphAttributes.position,o=s.morphTargetsRelative;r.fromBufferAttribute(a,e);const l=this.morphTargetInfluences;if(i&&l){_2.set(0,0,0);for(let c=0,d=i.length;c<d;c++){const u=l[c],h=i[c];u!==0&&(n_.fromBufferAttribute(h,e),o?_2.addScaledVector(n_,u):_2.addScaledVector(n_.sub(r),u))}r.add(_2)}return r}raycast(e,r){const s=this.geometry,a=this.material,i=this.matrixWorld;a!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),w2.copy(s.boundingSphere),w2.applyMatrix4(i),q0.copy(e.ray).recast(e.near),!(w2.containsPoint(q0.origin)===!1&&(q0.intersectSphere(w2,lR)===null||q0.origin.distanceToSquared(lR)>(e.far-e.near)**2))&&(oR.copy(i).invert(),q0.copy(e.ray).applyMatrix4(oR),!(s.boundingBox!==null&&q0.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(e,r,q0)))}_computeIntersections(e,r,s){let a;const i=this.geometry,o=this.material,l=i.index,c=i.attributes.position,d=i.attributes.uv,u=i.attributes.uv1,h=i.attributes.normal,m=i.groups,f=i.drawRange;if(l!==null)if(Array.isArray(o))for(let x=0,v=m.length;x<v;x++){const g=m[x],b=o[g.materialIndex],N=Math.max(g.start,f.start),w=Math.min(l.count,Math.min(g.start+g.count,f.start+f.count));for(let A=N,j=w;A<j;A+=3){const S=l.getX(A),E=l.getX(A+1),R=l.getX(A+2);a=C2(this,b,e,s,d,u,h,S,E,R),a&&(a.faceIndex=Math.floor(A/3),a.face.materialIndex=g.materialIndex,r.push(a))}}else{const x=Math.max(0,f.start),v=Math.min(l.count,f.start+f.count);for(let g=x,b=v;g<b;g+=3){const N=l.getX(g),w=l.getX(g+1),A=l.getX(g+2);a=C2(this,o,e,s,d,u,h,N,w,A),a&&(a.faceIndex=Math.floor(g/3),r.push(a))}}else if(c!==void 0)if(Array.isArray(o))for(let x=0,v=m.length;x<v;x++){const g=m[x],b=o[g.materialIndex],N=Math.max(g.start,f.start),w=Math.min(c.count,Math.min(g.start+g.count,f.start+f.count));for(let A=N,j=w;A<j;A+=3){const S=A,E=A+1,R=A+2;a=C2(this,b,e,s,d,u,h,S,E,R),a&&(a.faceIndex=Math.floor(A/3),a.face.materialIndex=g.materialIndex,r.push(a))}}else{const x=Math.max(0,f.start),v=Math.min(c.count,f.start+f.count);for(let g=x,b=v;g<b;g+=3){const N=g,w=g+1,A=g+2;a=C2(this,o,e,s,d,u,h,N,w,A),a&&(a.faceIndex=Math.floor(g/3),r.push(a))}}}}function Rie(t,e,r,s,a,i,o,l){let c;if(e.side===tl?c=s.intersectTriangle(o,i,a,!0,l):c=s.intersectTriangle(a,i,o,e.side===Jf,l),c===null)return null;A2.copy(l),A2.applyMatrix4(t.matrixWorld);const d=r.ray.origin.distanceTo(A2);return d<r.near||d>r.far?null:{distance:d,point:A2.clone(),object:t}}function C2(t,e,r,s,a,i,o,l,c,d){t.getVertexPosition(l,j2),t.getVertexPosition(c,N2),t.getVertexPosition(d,S2);const u=Rie(t,e,r,s,j2,N2,S2,cR);if(u){const h=new wt;ed.getBarycoord(cR,j2,N2,S2,h),a&&(u.uv=ed.getInterpolatedAttribute(a,l,c,d,h,new Jn)),i&&(u.uv1=ed.getInterpolatedAttribute(i,l,c,d,h,new Jn)),o&&(u.normal=ed.getInterpolatedAttribute(o,l,c,d,h,new wt),u.normal.dot(s.direction)>0&&u.normal.multiplyScalar(-1));const m={a:l,b:c,c:d,normal:new wt,materialIndex:0};ed.getNormal(j2,N2,S2,m.normal),u.face=m,u.barycoord=h}return u}class Rg extends sp{constructor(e=1,r=1,s=1,a=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:s,widthSegments:a,heightSegments:i,depthSegments:o};const l=this;a=Math.floor(a),i=Math.floor(i),o=Math.floor(o);const c=[],d=[],u=[],h=[];let m=0,f=0;x("z","y","x",-1,-1,s,r,e,o,i,0),x("z","y","x",1,-1,s,r,-e,o,i,1),x("x","z","y",1,1,e,s,r,a,o,2),x("x","z","y",1,-1,e,s,-r,a,o,3),x("x","y","z",1,-1,e,r,s,a,i,4),x("x","y","z",-1,-1,e,r,-s,a,i,5),this.setIndex(c),this.setAttribute("position",new Am(d,3)),this.setAttribute("normal",new Am(u,3)),this.setAttribute("uv",new Am(h,2));function x(v,g,b,N,w,A,j,S,E,R,C){const T=A/E,k=j/R,P=A/2,D=j/2,H=S/2,F=E+1,z=R+1;let O=0,W=0;const ee=new wt;for(let K=0;K<z;K++){const re=K*k-D;for(let U=0;U<F;U++){const Y=U*T-P;ee[v]=Y*N,ee[g]=re*w,ee[b]=H,d.push(ee.x,ee.y,ee.z),ee[v]=0,ee[g]=0,ee[b]=S>0?1:-1,u.push(ee.x,ee.y,ee.z),h.push(U/E),h.push(1-K/R),O+=1}}for(let K=0;K<R;K++)for(let re=0;re<E;re++){const U=m+re+F*K,Y=m+re+F*(K+1),V=m+(re+1)+F*(K+1),Z=m+(re+1)+F*K;c.push(U,Y,Z),c.push(Y,V,Z),W+=6}l.addGroup(f,W,C),f+=W,m+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kx(t){const e={};for(const r in t){e[r]={};for(const s in t[r]){const a=t[r][s];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[r][s]=null):e[r][s]=a.clone():Array.isArray(a)?e[r][s]=a.slice():e[r][s]=a}}return e}function yo(t){const e={};for(let r=0;r<t.length;r++){const s=Kx(t[r]);for(const a in s)e[a]=s[a]}return e}function Lie(t){const e=[];for(let r=0;r<t.length;r++)e.push(t[r].clone());return e}function JW(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Tn.workingColorSpace}const Oie={clone:Kx,merge:yo};var Iie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Fie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Qf extends s1{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Iie,this.fragmentShader=Fie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kx(e.uniforms),this.uniformsGroups=Lie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?r.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?r.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?r.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?r.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?r.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?r.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?r.uniforms[a]={type:"m4",value:o.toArray()}:r.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r.lights=this.lights,r.clipping=this.clipping;const s={};for(const a in this.extensions)this.extensions[a]===!0&&(s[a]=!0);return Object.keys(s).length>0&&(r.extensions=s),r}}class QW extends so{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ha,this.projectionMatrix=new ha,this.projectionMatrixInverse=new ha,this.coordinateSystem=fh}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const gf=new wt,dR=new Jn,uR=new Jn;class cc extends QW{constructor(e=50,r=1,s=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=a,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=pk*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(IS*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return pk*2*Math.atan(Math.tan(IS*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,r,s){gf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(gf.x,gf.y).multiplyScalar(-e/gf.z),gf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(gf.x,gf.y).multiplyScalar(-e/gf.z)}getViewSize(e,r){return this.getViewBounds(e,dR,uR),r.subVectors(uR,dR)}setViewOffset(e,r,s,a,i,o){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=s,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan(IS*.5*this.fov)/this.zoom,s=2*r,a=this.aspect*s,i=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,d=o.fullHeight;i+=o.offsetX*a/c,r-=o.offsetY*s/d,a*=o.width/c,s*=o.height/d}const l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+a,r,r-s,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const ex=-90,tx=1;class Bie extends so{constructor(e,r,s){super(),this.type="CubeCamera",this.renderTarget=s,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new cc(ex,tx,e,r);a.layers=this.layers,this.add(a);const i=new cc(ex,tx,e,r);i.layers=this.layers,this.add(i);const o=new cc(ex,tx,e,r);o.layers=this.layers,this.add(o);const l=new cc(ex,tx,e,r);l.layers=this.layers,this.add(l);const c=new cc(ex,tx,e,r);c.layers=this.layers,this.add(c);const d=new cc(ex,tx,e,r);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,r=this.children.concat(),[s,a,i,o,l,c]=r;for(const d of r)this.remove(d);if(e===fh)s.up.set(0,1,0),s.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===tj)s.up.set(0,-1,0),s.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of r)this.add(d),d.updateMatrixWorld()}update(e,r){this.parent===null&&this.updateMatrixWorld();const{renderTarget:s,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,l,c,d,u]=this.children,h=e.getRenderTarget(),m=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const v=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0,a),e.render(r,i),e.setRenderTarget(s,1,a),e.render(r,o),e.setRenderTarget(s,2,a),e.render(r,l),e.setRenderTarget(s,3,a),e.render(r,c),e.setRenderTarget(s,4,a),e.render(r,d),s.texture.generateMipmaps=v,e.setRenderTarget(s,5,a),e.render(r,u),e.setRenderTarget(h,m,f),e.xr.enabled=x,s.texture.needsPMREMUpdate=!0}}class ZW extends rl{constructor(e,r,s,a,i,o,l,c,d,u){e=e!==void 0?e:[],r=r!==void 0?r:qx,super(e,r,s,a,i,o,l,c,d,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Uie extends zm{constructor(e=1,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const s={width:e,height:e,depth:1},a=[s,s,s,s,s,s];this.texture=new ZW(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Yd}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.colorSpace=r.colorSpace,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Rg(5,5,5),i=new Qf({name:"CubemapFromEquirect",uniforms:Kx(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:tl,blending:$f});i.uniforms.tEquirect.value=r;const o=new sd(a,i),l=r.minFilter;return r.minFilter===gm&&(r.minFilter=Yd),new Bie(1,10,this).update(e,o),r.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,r,s,a){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(r,s,a);e.setRenderTarget(i)}}class zie extends so{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new cu,this.environmentIntensity=1,this.environmentRotation=new cu,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(r.object.backgroundIntensity=this.backgroundIntensity),r.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(r.object.environmentIntensity=this.environmentIntensity),r.object.environmentRotation=this.environmentRotation.toArray(),r}}const s_=new wt,$ie=new wt,Hie=new nn;class im{constructor(e=new wt(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,s,a){return this.normal.set(e,r,s),this.constant=a,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,s){const a=s_.subVectors(s,r).cross($ie.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,r){const s=e.delta(s_),a=this.normal.dot(s);if(a===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/a;return i<0||i>1?null:r.copy(e.start).addScaledVector(s,i)}intersectsLine(e){const r=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return r<0&&s>0||s<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const s=r||Hie.getNormalMatrix(e),a=this.coplanarPoint(s_).applyMatrix4(e),i=this.normal.applyMatrix3(s).normalize();return this.constant=-a.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const G0=new zT,k2=new wt;class $T{constructor(e=new im,r=new im,s=new im,a=new im,i=new im,o=new im){this.planes=[e,r,s,a,i,o]}set(e,r,s,a,i,o){const l=this.planes;return l[0].copy(e),l[1].copy(r),l[2].copy(s),l[3].copy(a),l[4].copy(i),l[5].copy(o),this}copy(e){const r=this.planes;for(let s=0;s<6;s++)r[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e,r=fh){const s=this.planes,a=e.elements,i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],h=a[6],m=a[7],f=a[8],x=a[9],v=a[10],g=a[11],b=a[12],N=a[13],w=a[14],A=a[15];if(s[0].setComponents(c-i,m-d,g-f,A-b).normalize(),s[1].setComponents(c+i,m+d,g+f,A+b).normalize(),s[2].setComponents(c+o,m+u,g+x,A+N).normalize(),s[3].setComponents(c-o,m-u,g-x,A-N).normalize(),s[4].setComponents(c-l,m-h,g-v,A-w).normalize(),r===fh)s[5].setComponents(c+l,m+h,g+v,A+w).normalize();else if(r===tj)s[5].setComponents(l,h,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+r);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),G0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const r=e.geometry;r.boundingSphere===null&&r.computeBoundingSphere(),G0.copy(r.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(G0)}intersectsSprite(e){return G0.center.set(0,0,0),G0.radius=.7071067811865476,G0.applyMatrix4(e.matrixWorld),this.intersectsSphere(G0)}intersectsSphere(e){const r=this.planes,s=e.center,a=-e.radius;for(let i=0;i<6;i++)if(r[i].distanceToPoint(s)<a)return!1;return!0}intersectsBox(e){const r=this.planes;for(let s=0;s<6;s++){const a=r[s];if(k2.x=a.normal.x>0?e.max.x:e.min.x,k2.y=a.normal.y>0?e.max.y:e.min.y,k2.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(k2)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let s=0;s<6;s++)if(r[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class E2 extends so{constructor(){super(),this.isGroup=!0,this.type="Group"}}class eq extends rl{constructor(e,r,s,a,i,o,l,c,d,u=Ax){if(u!==Ax&&u!==Xx)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&u===Ax&&(s=Um),s===void 0&&u===Xx&&(s=Vx),super(null,a,i,o,l,c,u,s,d),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=l!==void 0?l:cd,this.minFilter=c!==void 0?c:cd,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const r=super.toJSON(e);return this.compareFunction!==null&&(r.compareFunction=this.compareFunction),r}}class a1 extends sp{constructor(e=1,r=1,s=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:s,heightSegments:a};const i=e/2,o=r/2,l=Math.floor(s),c=Math.floor(a),d=l+1,u=c+1,h=e/l,m=r/c,f=[],x=[],v=[],g=[];for(let b=0;b<u;b++){const N=b*m-o;for(let w=0;w<d;w++){const A=w*h-i;x.push(A,-N,0),v.push(0,0,1),g.push(w/l),g.push(1-b/c)}}for(let b=0;b<c;b++)for(let N=0;N<l;N++){const w=N+d*b,A=N+d*(b+1),j=N+1+d*(b+1),S=N+1+d*b;f.push(w,A,S),f.push(A,j,S)}this.setIndex(f),this.setAttribute("position",new Am(x,3)),this.setAttribute("normal",new Am(v,3)),this.setAttribute("uv",new Am(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a1(e.width,e.height,e.widthSegments,e.heightSegments)}}class hR extends s1{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Mn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zW,this.normalScale=new Jn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cu,this.combine=RT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Wie extends s1{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=nie,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class qie extends s1{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class tq extends so{constructor(e,r=1){super(),this.isLight=!0,this.type="Light",this.color=new Mn(e),this.intensity=r}dispose(){}copy(e,r){return super.copy(e,r),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const r=super.toJSON(e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(r.object.target=this.target.uuid),r}}const a_=new ha,fR=new wt,mR=new wt;class Gie{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Jn(512,512),this.map=null,this.mapPass=null,this.matrix=new ha,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $T,this._frameExtents=new Jn(1,1),this._viewportCount=1,this._viewports=[new ua(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const r=this.camera,s=this.matrix;fR.setFromMatrixPosition(e.matrixWorld),r.position.copy(fR),mR.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(mR),r.updateMatrixWorld(),a_.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a_),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(a_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class rq extends QW{constructor(e=-1,r=1,s=1,a=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=s,this.bottom=a,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,s,a,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=s,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let i=s-e,o=s+e,l=a+r,c=a-r;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=d*this.view.offsetX,o=i+d*this.view.width,l-=u*this.view.offsetY,c=l-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}class Vie extends Gie{constructor(){super(new rq(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Xie extends tq{constructor(e,r){super(e,r),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(so.DEFAULT_UP),this.updateMatrix(),this.target=new so,this.shadow=new Vie}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Yie extends tq{constructor(e,r){super(e,r),this.isAmbientLight=!0,this.type="AmbientLight"}}class Kie extends cc{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}function pR(t,e,r,s){const a=Jie(s);switch(r){case RW:return t*e;case OW:return t*e;case IW:return t*e*2;case FW:return t*e/a.components*a.byteLength;case FT:return t*e/a.components*a.byteLength;case BW:return t*e*2/a.components*a.byteLength;case BT:return t*e*2/a.components*a.byteLength;case LW:return t*e*3/a.components*a.byteLength;case nd:return t*e*4/a.components*a.byteLength;case UT:return t*e*4/a.components*a.byteLength;case Ow:case Iw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Fw:case Bw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case W6:case G6:return Math.max(t,16)*Math.max(e,8)/4;case H6:case q6:return Math.max(t,8)*Math.max(e,8)/2;case V6:case X6:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Y6:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case K6:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case J6:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Q6:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Z6:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case ek:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case tk:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case rk:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case nk:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case sk:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case ak:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case ik:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case ok:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case lk:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case ck:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Uw:case dk:case uk:return Math.ceil(t/4)*Math.ceil(e/4)*16;case UW:case hk:return Math.ceil(t/4)*Math.ceil(e/4)*8;case fk:case mk:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${r} format.`)}function Jie(t){switch(t){case kh:case MW:return{byteLength:1,components:1};case qy:case PW:case e1:return{byteLength:2,components:1};case OT:case IT:return{byteLength:2,components:4};case Um:case LT:case hh:return{byteLength:4,components:1};case DW:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:DT}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=DT);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function nq(){let t=null,e=!1,r=null,s=null;function a(i,o){r(i,o),s=t.requestAnimationFrame(a)}return{start:function(){e!==!0&&r!==null&&(s=t.requestAnimationFrame(a),e=!0)},stop:function(){t.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(i){r=i},setContext:function(i){t=i}}}function Qie(t){const e=new WeakMap;function r(l,c){const d=l.array,u=l.usage,h=d.byteLength,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,d,u),l.onUploadCallback();let f;if(d instanceof Float32Array)f=t.FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?f=t.HALF_FLOAT:f=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)f=t.SHORT;else if(d instanceof Uint32Array)f=t.UNSIGNED_INT;else if(d instanceof Int32Array)f=t.INT;else if(d instanceof Int8Array)f=t.BYTE;else if(d instanceof Uint8Array)f=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)f=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:f,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:h}}function s(l,c,d){const u=c.array,h=c.updateRanges;if(t.bindBuffer(d,l),h.length===0)t.bufferSubData(d,0,u);else{h.sort((f,x)=>f.start-x.start);let m=0;for(let f=1;f<h.length;f++){const x=h[m],v=h[f];v.start<=x.start+x.count+1?x.count=Math.max(x.count,v.start+v.count-x.start):(++m,h[m]=v)}h.length=m+1;for(let f=0,x=h.length;f<x;f++){const v=h[f];t.bufferSubData(d,v.start*u.BYTES_PER_ELEMENT,u,v.start,v.count)}c.clearUpdateRanges()}c.onUploadCallback()}function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function i(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function o(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const u=e.get(l);(!u||u.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=e.get(l);if(d===void 0)e.set(l,r(l,c));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(d.buffer,l,c),d.version=l.version}}return{get:a,remove:i,update:o}}var Zie=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,eoe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,toe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,roe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,noe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,soe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aoe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ioe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,ooe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,loe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,coe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,doe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,uoe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,hoe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,foe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,moe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,poe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xoe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,goe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,voe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,yoe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,boe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,woe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,joe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Noe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Soe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_oe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Aoe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Coe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,koe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Eoe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Toe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Moe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Poe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Doe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Roe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Loe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ooe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ioe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Foe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Boe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Uoe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zoe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,$oe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Hoe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Woe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,qoe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Goe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Voe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Xoe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Yoe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Koe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Joe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Qoe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Zoe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ele=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,tle=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,rle=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nle=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sle=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,ale=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ile=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ole=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,lle=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cle=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dle=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ule=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,hle=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,fle=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,mle=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,ple=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,xle=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,gle=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,vle=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yle=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ble=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,wle=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,jle=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Nle=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Sle=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,_le=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ale=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Cle=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,kle=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ele=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Tle=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Mle=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ple=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Dle=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Rle=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Lle=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ole=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ile=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Fle=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Ble=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Ule=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,zle=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,$le=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Hle=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Wle=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qle=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Gle=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Vle=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Xle=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Yle=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Kle=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Jle=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Qle=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Zle=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ece=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nce=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ace=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ice=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,oce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,lce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,cce=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dce=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uce=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fce=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mce=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pce=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xce=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gce=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vce=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,yce=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,bce=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wce=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jce=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Nce=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sce=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_ce=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ace=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Cce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kce=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ece=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Tce=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Mce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,an={alphahash_fragment:Zie,alphahash_pars_fragment:eoe,alphamap_fragment:toe,alphamap_pars_fragment:roe,alphatest_fragment:noe,alphatest_pars_fragment:soe,aomap_fragment:aoe,aomap_pars_fragment:ioe,batching_pars_vertex:ooe,batching_vertex:loe,begin_vertex:coe,beginnormal_vertex:doe,bsdfs:uoe,iridescence_fragment:hoe,bumpmap_pars_fragment:foe,clipping_planes_fragment:moe,clipping_planes_pars_fragment:poe,clipping_planes_pars_vertex:xoe,clipping_planes_vertex:goe,color_fragment:voe,color_pars_fragment:yoe,color_pars_vertex:boe,color_vertex:woe,common:joe,cube_uv_reflection_fragment:Noe,defaultnormal_vertex:Soe,displacementmap_pars_vertex:_oe,displacementmap_vertex:Aoe,emissivemap_fragment:Coe,emissivemap_pars_fragment:koe,colorspace_fragment:Eoe,colorspace_pars_fragment:Toe,envmap_fragment:Moe,envmap_common_pars_fragment:Poe,envmap_pars_fragment:Doe,envmap_pars_vertex:Roe,envmap_physical_pars_fragment:qoe,envmap_vertex:Loe,fog_vertex:Ooe,fog_pars_vertex:Ioe,fog_fragment:Foe,fog_pars_fragment:Boe,gradientmap_pars_fragment:Uoe,lightmap_pars_fragment:zoe,lights_lambert_fragment:$oe,lights_lambert_pars_fragment:Hoe,lights_pars_begin:Woe,lights_toon_fragment:Goe,lights_toon_pars_fragment:Voe,lights_phong_fragment:Xoe,lights_phong_pars_fragment:Yoe,lights_physical_fragment:Koe,lights_physical_pars_fragment:Joe,lights_fragment_begin:Qoe,lights_fragment_maps:Zoe,lights_fragment_end:ele,logdepthbuf_fragment:tle,logdepthbuf_pars_fragment:rle,logdepthbuf_pars_vertex:nle,logdepthbuf_vertex:sle,map_fragment:ale,map_pars_fragment:ile,map_particle_fragment:ole,map_particle_pars_fragment:lle,metalnessmap_fragment:cle,metalnessmap_pars_fragment:dle,morphinstance_vertex:ule,morphcolor_vertex:hle,morphnormal_vertex:fle,morphtarget_pars_vertex:mle,morphtarget_vertex:ple,normal_fragment_begin:xle,normal_fragment_maps:gle,normal_pars_fragment:vle,normal_pars_vertex:yle,normal_vertex:ble,normalmap_pars_fragment:wle,clearcoat_normal_fragment_begin:jle,clearcoat_normal_fragment_maps:Nle,clearcoat_pars_fragment:Sle,iridescence_pars_fragment:_le,opaque_fragment:Ale,packing:Cle,premultiplied_alpha_fragment:kle,project_vertex:Ele,dithering_fragment:Tle,dithering_pars_fragment:Mle,roughnessmap_fragment:Ple,roughnessmap_pars_fragment:Dle,shadowmap_pars_fragment:Rle,shadowmap_pars_vertex:Lle,shadowmap_vertex:Ole,shadowmask_pars_fragment:Ile,skinbase_vertex:Fle,skinning_pars_vertex:Ble,skinning_vertex:Ule,skinnormal_vertex:zle,specularmap_fragment:$le,specularmap_pars_fragment:Hle,tonemapping_fragment:Wle,tonemapping_pars_fragment:qle,transmission_fragment:Gle,transmission_pars_fragment:Vle,uv_pars_fragment:Xle,uv_pars_vertex:Yle,uv_vertex:Kle,worldpos_vertex:Jle,background_vert:Qle,background_frag:Zle,backgroundCube_vert:ece,backgroundCube_frag:tce,cube_vert:rce,cube_frag:nce,depth_vert:sce,depth_frag:ace,distanceRGBA_vert:ice,distanceRGBA_frag:oce,equirect_vert:lce,equirect_frag:cce,linedashed_vert:dce,linedashed_frag:uce,meshbasic_vert:hce,meshbasic_frag:fce,meshlambert_vert:mce,meshlambert_frag:pce,meshmatcap_vert:xce,meshmatcap_frag:gce,meshnormal_vert:vce,meshnormal_frag:yce,meshphong_vert:bce,meshphong_frag:wce,meshphysical_vert:jce,meshphysical_frag:Nce,meshtoon_vert:Sce,meshtoon_frag:_ce,points_vert:Ace,points_frag:Cce,shadow_vert:kce,shadow_frag:Ece,sprite_vert:Tce,sprite_frag:Mce},tr={common:{diffuse:{value:new Mn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nn}},envmap:{envMap:{value:null},envMapRotation:{value:new nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nn},normalScale:{value:new Jn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new Mn(16777215)},opacity:{value:1},center:{value:new Jn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}}},Gd={basic:{uniforms:yo([tr.common,tr.specularmap,tr.envmap,tr.aomap,tr.lightmap,tr.fog]),vertexShader:an.meshbasic_vert,fragmentShader:an.meshbasic_frag},lambert:{uniforms:yo([tr.common,tr.specularmap,tr.envmap,tr.aomap,tr.lightmap,tr.emissivemap,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.fog,tr.lights,{emissive:{value:new Mn(0)}}]),vertexShader:an.meshlambert_vert,fragmentShader:an.meshlambert_frag},phong:{uniforms:yo([tr.common,tr.specularmap,tr.envmap,tr.aomap,tr.lightmap,tr.emissivemap,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.fog,tr.lights,{emissive:{value:new Mn(0)},specular:{value:new Mn(1118481)},shininess:{value:30}}]),vertexShader:an.meshphong_vert,fragmentShader:an.meshphong_frag},standard:{uniforms:yo([tr.common,tr.envmap,tr.aomap,tr.lightmap,tr.emissivemap,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.roughnessmap,tr.metalnessmap,tr.fog,tr.lights,{emissive:{value:new Mn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:an.meshphysical_vert,fragmentShader:an.meshphysical_frag},toon:{uniforms:yo([tr.common,tr.aomap,tr.lightmap,tr.emissivemap,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.gradientmap,tr.fog,tr.lights,{emissive:{value:new Mn(0)}}]),vertexShader:an.meshtoon_vert,fragmentShader:an.meshtoon_frag},matcap:{uniforms:yo([tr.common,tr.bumpmap,tr.normalmap,tr.displacementmap,tr.fog,{matcap:{value:null}}]),vertexShader:an.meshmatcap_vert,fragmentShader:an.meshmatcap_frag},points:{uniforms:yo([tr.points,tr.fog]),vertexShader:an.points_vert,fragmentShader:an.points_frag},dashed:{uniforms:yo([tr.common,tr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:an.linedashed_vert,fragmentShader:an.linedashed_frag},depth:{uniforms:yo([tr.common,tr.displacementmap]),vertexShader:an.depth_vert,fragmentShader:an.depth_frag},normal:{uniforms:yo([tr.common,tr.bumpmap,tr.normalmap,tr.displacementmap,{opacity:{value:1}}]),vertexShader:an.meshnormal_vert,fragmentShader:an.meshnormal_frag},sprite:{uniforms:yo([tr.sprite,tr.fog]),vertexShader:an.sprite_vert,fragmentShader:an.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:an.background_vert,fragmentShader:an.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new nn}},vertexShader:an.backgroundCube_vert,fragmentShader:an.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:an.cube_vert,fragmentShader:an.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:an.equirect_vert,fragmentShader:an.equirect_frag},distanceRGBA:{uniforms:yo([tr.common,tr.displacementmap,{referencePosition:{value:new wt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:an.distanceRGBA_vert,fragmentShader:an.distanceRGBA_frag},shadow:{uniforms:yo([tr.lights,tr.fog,{color:{value:new Mn(0)},opacity:{value:1}}]),vertexShader:an.shadow_vert,fragmentShader:an.shadow_frag}};Gd.physical={uniforms:yo([Gd.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nn},clearcoatNormalScale:{value:new Jn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nn},sheen:{value:0},sheenColor:{value:new Mn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nn},transmissionSamplerSize:{value:new Jn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nn},attenuationDistance:{value:0},attenuationColor:{value:new Mn(0)},specularColor:{value:new Mn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nn},anisotropyVector:{value:new Jn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nn}}]),vertexShader:an.meshphysical_vert,fragmentShader:an.meshphysical_frag};const T2={r:0,b:0,g:0},V0=new cu,Pce=new ha;function Dce(t,e,r,s,a,i,o){const l=new Mn(0);let c=i===!0?0:1,d,u,h=null,m=0,f=null;function x(w){let A=w.isScene===!0?w.background:null;return A&&A.isTexture&&(A=(w.backgroundBlurriness>0?r:e).get(A)),A}function v(w){let A=!1;const j=x(w);j===null?b(l,c):j&&j.isColor&&(b(j,1),A=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?s.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&s.buffers.color.setClear(0,0,0,0,o),(t.autoClear||A)&&(s.buffers.depth.setTest(!0),s.buffers.depth.setMask(!0),s.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function g(w,A){const j=x(A);j&&(j.isCubeTexture||j.mapping===qN)?(u===void 0&&(u=new sd(new Rg(1,1,1),new Qf({name:"BackgroundCubeMaterial",uniforms:Kx(Gd.backgroundCube.uniforms),vertexShader:Gd.backgroundCube.vertexShader,fragmentShader:Gd.backgroundCube.fragmentShader,side:tl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(S,E,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(u)),V0.copy(A.backgroundRotation),V0.x*=-1,V0.y*=-1,V0.z*=-1,j.isCubeTexture&&j.isRenderTargetTexture===!1&&(V0.y*=-1,V0.z*=-1),u.material.uniforms.envMap.value=j,u.material.uniforms.flipEnvMap.value=j.isCubeTexture&&j.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Pce.makeRotationFromEuler(V0)),u.material.toneMapped=Tn.getTransfer(j.colorSpace)!==ls,(h!==j||m!==j.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,h=j,m=j.version,f=t.toneMapping),u.layers.enableAll(),w.unshift(u,u.geometry,u.material,0,0,null)):j&&j.isTexture&&(d===void 0&&(d=new sd(new a1(2,2),new Qf({name:"BackgroundMaterial",uniforms:Kx(Gd.background.uniforms),vertexShader:Gd.background.vertexShader,fragmentShader:Gd.background.fragmentShader,side:Jf,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(d)),d.material.uniforms.t2D.value=j,d.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,d.material.toneMapped=Tn.getTransfer(j.colorSpace)!==ls,j.matrixAutoUpdate===!0&&j.updateMatrix(),d.material.uniforms.uvTransform.value.copy(j.matrix),(h!==j||m!==j.version||f!==t.toneMapping)&&(d.material.needsUpdate=!0,h=j,m=j.version,f=t.toneMapping),d.layers.enableAll(),w.unshift(d,d.geometry,d.material,0,0,null))}function b(w,A){w.getRGB(T2,JW(t)),s.buffers.color.setClear(T2.r,T2.g,T2.b,A,o)}function N(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),d!==void 0&&(d.geometry.dispose(),d.material.dispose())}return{getClearColor:function(){return l},setClearColor:function(w,A=1){l.set(w),c=A,b(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(w){c=w,b(l,c)},render:v,addToRenderList:g,dispose:N}}function Rce(t,e){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),s={},a=m(null);let i=a,o=!1;function l(T,k,P,D,H){let F=!1;const z=h(D,P,k);i!==z&&(i=z,d(i.object)),F=f(T,D,P,H),F&&x(T,D,P,H),H!==null&&e.update(H,t.ELEMENT_ARRAY_BUFFER),(F||o)&&(o=!1,A(T,k,P,D),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(H).buffer))}function c(){return t.createVertexArray()}function d(T){return t.bindVertexArray(T)}function u(T){return t.deleteVertexArray(T)}function h(T,k,P){const D=P.wireframe===!0;let H=s[T.id];H===void 0&&(H={},s[T.id]=H);let F=H[k.id];F===void 0&&(F={},H[k.id]=F);let z=F[D];return z===void 0&&(z=m(c()),F[D]=z),z}function m(T){const k=[],P=[],D=[];for(let H=0;H<r;H++)k[H]=0,P[H]=0,D[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:P,attributeDivisors:D,object:T,attributes:{},index:null}}function f(T,k,P,D){const H=i.attributes,F=k.attributes;let z=0;const O=P.getAttributes();for(const W in O)if(O[W].location>=0){const K=H[W];let re=F[W];if(re===void 0&&(W==="instanceMatrix"&&T.instanceMatrix&&(re=T.instanceMatrix),W==="instanceColor"&&T.instanceColor&&(re=T.instanceColor)),K===void 0||K.attribute!==re||re&&K.data!==re.data)return!0;z++}return i.attributesNum!==z||i.index!==D}function x(T,k,P,D){const H={},F=k.attributes;let z=0;const O=P.getAttributes();for(const W in O)if(O[W].location>=0){let K=F[W];K===void 0&&(W==="instanceMatrix"&&T.instanceMatrix&&(K=T.instanceMatrix),W==="instanceColor"&&T.instanceColor&&(K=T.instanceColor));const re={};re.attribute=K,K&&K.data&&(re.data=K.data),H[W]=re,z++}i.attributes=H,i.attributesNum=z,i.index=D}function v(){const T=i.newAttributes;for(let k=0,P=T.length;k<P;k++)T[k]=0}function g(T){b(T,0)}function b(T,k){const P=i.newAttributes,D=i.enabledAttributes,H=i.attributeDivisors;P[T]=1,D[T]===0&&(t.enableVertexAttribArray(T),D[T]=1),H[T]!==k&&(t.vertexAttribDivisor(T,k),H[T]=k)}function N(){const T=i.newAttributes,k=i.enabledAttributes;for(let P=0,D=k.length;P<D;P++)k[P]!==T[P]&&(t.disableVertexAttribArray(P),k[P]=0)}function w(T,k,P,D,H,F,z){z===!0?t.vertexAttribIPointer(T,k,P,H,F):t.vertexAttribPointer(T,k,P,D,H,F)}function A(T,k,P,D){v();const H=D.attributes,F=P.getAttributes(),z=k.defaultAttributeValues;for(const O in F){const W=F[O];if(W.location>=0){let ee=H[O];if(ee===void 0&&(O==="instanceMatrix"&&T.instanceMatrix&&(ee=T.instanceMatrix),O==="instanceColor"&&T.instanceColor&&(ee=T.instanceColor)),ee!==void 0){const K=ee.normalized,re=ee.itemSize,U=e.get(ee);if(U===void 0)continue;const Y=U.buffer,V=U.type,Z=U.bytesPerElement,ce=V===t.INT||V===t.UNSIGNED_INT||ee.gpuType===LT;if(ee.isInterleavedBufferAttribute){const fe=ee.data,ye=fe.stride,ge=ee.offset;if(fe.isInstancedInterleavedBuffer){for(let we=0;we<W.locationSize;we++)b(W.location+we,fe.meshPerAttribute);T.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let we=0;we<W.locationSize;we++)g(W.location+we);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let we=0;we<W.locationSize;we++)w(W.location+we,re/W.locationSize,V,K,ye*Z,(ge+re/W.locationSize*we)*Z,ce)}else{if(ee.isInstancedBufferAttribute){for(let fe=0;fe<W.locationSize;fe++)b(W.location+fe,ee.meshPerAttribute);T.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let fe=0;fe<W.locationSize;fe++)g(W.location+fe);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let fe=0;fe<W.locationSize;fe++)w(W.location+fe,re/W.locationSize,V,K,re*Z,re/W.locationSize*fe*Z,ce)}}else if(z!==void 0){const K=z[O];if(K!==void 0)switch(K.length){case 2:t.vertexAttrib2fv(W.location,K);break;case 3:t.vertexAttrib3fv(W.location,K);break;case 4:t.vertexAttrib4fv(W.location,K);break;default:t.vertexAttrib1fv(W.location,K)}}}}N()}function j(){R();for(const T in s){const k=s[T];for(const P in k){const D=k[P];for(const H in D)u(D[H].object),delete D[H];delete k[P]}delete s[T]}}function S(T){if(s[T.id]===void 0)return;const k=s[T.id];for(const P in k){const D=k[P];for(const H in D)u(D[H].object),delete D[H];delete k[P]}delete s[T.id]}function E(T){for(const k in s){const P=s[k];if(P[T.id]===void 0)continue;const D=P[T.id];for(const H in D)u(D[H].object),delete D[H];delete P[T.id]}}function R(){C(),o=!0,i!==a&&(i=a,d(i.object))}function C(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:l,reset:R,resetDefaultState:C,dispose:j,releaseStatesOfGeometry:S,releaseStatesOfProgram:E,initAttributes:v,enableAttribute:g,disableUnusedAttributes:N}}function Lce(t,e,r){let s;function a(d){s=d}function i(d,u){t.drawArrays(s,d,u),r.update(u,s,1)}function o(d,u,h){h!==0&&(t.drawArraysInstanced(s,d,u,h),r.update(u,s,h))}function l(d,u,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(s,d,0,u,0,h);let f=0;for(let x=0;x<h;x++)f+=u[x];r.update(f,s,1)}function c(d,u,h,m){if(h===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let x=0;x<d.length;x++)o(d[x],u[x],m[x]);else{f.multiDrawArraysInstancedWEBGL(s,d,0,u,0,m,0,h);let x=0;for(let v=0;v<h;v++)x+=u[v]*m[v];r.update(x,s,1)}}this.setMode=a,this.render=i,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function Oce(t,e,r,s){let a;function i(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");a=t.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(E){return!(E!==nd&&s.convert(E)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(E){const R=E===e1&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(E!==kh&&s.convert(E)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&E!==hh&&!R)}function c(E){if(E==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=r.precision!==void 0?r.precision:"highp";const u=c(d);u!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",u,"instead."),d=u);const h=r.logarithmicDepthBuffer===!0,m=r.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),N=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),A=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),j=x>0,S=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:h,reverseDepthBuffer:m,maxTextures:f,maxVertexTextures:x,maxTextureSize:v,maxCubemapSize:g,maxAttributes:b,maxVertexUniforms:N,maxVaryings:w,maxFragmentUniforms:A,vertexTextures:j,maxSamples:S}}function Ice(t){const e=this;let r=null,s=0,a=!1,i=!1;const o=new im,l=new nn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,m){const f=h.length!==0||m||s!==0||a;return a=m,s=h.length,f},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(h,m){r=u(h,m,0)},this.setState=function(h,m,f){const x=h.clippingPlanes,v=h.clipIntersection,g=h.clipShadows,b=t.get(h);if(!a||x===null||x.length===0||i&&!g)i?u(null):d();else{const N=i?0:s,w=N*4;let A=b.clippingState||null;c.value=A,A=u(x,m,w,f);for(let j=0;j!==w;++j)A[j]=r[j];b.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=N}};function d(){c.value!==r&&(c.value=r,c.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function u(h,m,f,x){const v=h!==null?h.length:0;let g=null;if(v!==0){if(g=c.value,x!==!0||g===null){const b=f+v*4,N=m.matrixWorldInverse;l.getNormalMatrix(N),(g===null||g.length<b)&&(g=new Float32Array(b));for(let w=0,A=f;w!==v;++w,A+=4)o.copy(h[w]).applyMatrix4(N,l),o.normal.toArray(g,A),g[A+3]=o.constant}c.value=g,c.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,g}}function Fce(t){let e=new WeakMap;function r(o,l){return l===B6?o.mapping=qx:l===U6&&(o.mapping=Gx),o}function s(o){if(o&&o.isTexture){const l=o.mapping;if(l===B6||l===U6)if(e.has(o)){const c=e.get(o).texture;return r(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const d=new Uie(c.height);return d.fromEquirectangularTexture(t,o),e.set(o,d),o.addEventListener("dispose",a),r(d.texture,o.mapping)}else return null}}return o}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function i(){e=new WeakMap}return{get:s,dispose:i}}const gx=4,xR=[.125,.215,.35,.446,.526,.582],fm=20,i_=new rq,gR=new Mn;let o_=null,l_=0,c_=0,d_=!1;const om=(1+Math.sqrt(5))/2,rx=1/om,vR=[new wt(-om,rx,0),new wt(om,rx,0),new wt(-rx,0,om),new wt(rx,0,om),new wt(0,om,-rx),new wt(0,om,rx),new wt(-1,1,-1),new wt(1,1,-1),new wt(-1,1,1),new wt(1,1,1)];class yR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,s=.1,a=100){o_=this._renderer.getRenderTarget(),l_=this._renderer.getActiveCubeFace(),c_=this._renderer.getActiveMipmapLevel(),d_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,s,a,i),r>0&&this._blur(i,0,0,r),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(o_,l_,c_),this._renderer.xr.enabled=d_,e.scissorTest=!1,M2(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===qx||e.mapping===Gx?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),o_=this._renderer.getRenderTarget(),l_=this._renderer.getActiveCubeFace(),c_=this._renderer.getActiveMipmapLevel(),d_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const s=r||this._allocateTargets();return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,s={magFilter:Yd,minFilter:Yd,generateMipmaps:!1,type:e1,format:nd,colorSpace:Yx,depthBuffer:!1},a=bR(e,r,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==r){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bR(e,r,s);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Bce(i)),this._blurMaterial=Uce(i,e,r)}return a}_compileMaterial(e){const r=new sd(this._lodPlanes[0],e);this._renderer.compile(r,i_)}_sceneToCubeUV(e,r,s,a){const l=new cc(90,1,r,s),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,m=u.toneMapping;u.getClearColor(gR),u.toneMapping=Hf,u.autoClear=!1;const f=new XW({name:"PMREM.Background",side:tl,depthWrite:!1,depthTest:!1}),x=new sd(new Rg,f);let v=!1;const g=e.background;g?g.isColor&&(f.color.copy(g),e.background=null,v=!0):(f.color.copy(gR),v=!0);for(let b=0;b<6;b++){const N=b%3;N===0?(l.up.set(0,c[b],0),l.lookAt(d[b],0,0)):N===1?(l.up.set(0,0,c[b]),l.lookAt(0,d[b],0)):(l.up.set(0,c[b],0),l.lookAt(0,0,d[b]));const w=this._cubeSize;M2(a,N*w,b>2?w:0,w,w),u.setRenderTarget(a),v&&u.render(x,l),u.render(e,l)}x.geometry.dispose(),x.material.dispose(),u.toneMapping=m,u.autoClear=h,e.background=g}_textureToCubeUV(e,r){const s=this._renderer,a=e.mapping===qx||e.mapping===Gx;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=jR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wR());const i=a?this._cubemapMaterial:this._equirectMaterial,o=new sd(this._lodPlanes[0],i),l=i.uniforms;l.envMap.value=e;const c=this._cubeSize;M2(r,0,0,3*c,2*c),s.setRenderTarget(r),s.render(o,i_)}_applyPMREM(e){const r=this._renderer,s=r.autoClear;r.autoClear=!1;const a=this._lodPlanes.length;for(let i=1;i<a;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),l=vR[(a-i-1)%vR.length];this._blur(e,i-1,i,o,l)}r.autoClear=s}_blur(e,r,s,a,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,r,s,a,"latitudinal",i),this._halfBlur(o,e,s,s,a,"longitudinal",i)}_halfBlur(e,r,s,a,i,o,l){const c=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new sd(this._lodPlanes[a],d),m=d.uniforms,f=this._sizeLods[s]-1,x=isFinite(i)?Math.PI/(2*f):2*Math.PI/(2*fm-1),v=i/x,g=isFinite(i)?1+Math.floor(u*v):fm;g>fm&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${fm}`);const b=[];let N=0;for(let E=0;E<fm;++E){const R=E/v,C=Math.exp(-R*R/2);b.push(C),E===0?N+=C:E<g&&(N+=2*C)}for(let E=0;E<b.length;E++)b[E]=b[E]/N;m.envMap.value=e.texture,m.samples.value=g,m.weights.value=b,m.latitudinal.value=o==="latitudinal",l&&(m.poleAxis.value=l);const{_lodMax:w}=this;m.dTheta.value=x,m.mipInt.value=w-s;const A=this._sizeLods[a],j=3*A*(a>w-gx?a-w+gx:0),S=4*(this._cubeSize-A);M2(r,j,S,3*A,2*A),c.setRenderTarget(r),c.render(h,i_)}}function Bce(t){const e=[],r=[],s=[];let a=t;const i=t-gx+1+xR.length;for(let o=0;o<i;o++){const l=Math.pow(2,a);r.push(l);let c=1/l;o>t-gx?c=xR[o-t+gx-1]:o===0&&(c=0),s.push(c);const d=1/(l-2),u=-d,h=1+d,m=[u,u,h,u,h,h,u,u,h,h,u,h],f=6,x=6,v=3,g=2,b=1,N=new Float32Array(v*x*f),w=new Float32Array(g*x*f),A=new Float32Array(b*x*f);for(let S=0;S<f;S++){const E=S%3*2/3-1,R=S>2?0:-1,C=[E,R,0,E+2/3,R,0,E+2/3,R+1,0,E,R,0,E+2/3,R+1,0,E,R+1,0];N.set(C,v*x*S),w.set(m,g*x*S);const T=[S,S,S,S,S,S];A.set(T,b*x*S)}const j=new sp;j.setAttribute("position",new eu(N,v)),j.setAttribute("uv",new eu(w,g)),j.setAttribute("faceIndex",new eu(A,b)),e.push(j),a>gx&&a--}return{lodPlanes:e,sizeLods:r,sigmas:s}}function bR(t,e,r){const s=new zm(t,e,r);return s.texture.mapping=qN,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function M2(t,e,r,s,a){t.viewport.set(e,r,s,a),t.scissor.set(e,r,s,a)}function Uce(t,e,r){const s=new Float32Array(fm),a=new wt(0,1,0);return new Qf({name:"SphericalGaussianBlur",defines:{n:fm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:HT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:$f,depthTest:!1,depthWrite:!1})}function wR(){return new Qf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:HT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:$f,depthTest:!1,depthWrite:!1})}function jR(){return new Qf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:HT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:$f,depthTest:!1,depthWrite:!1})}function HT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zce(t){let e=new WeakMap,r=null;function s(l){if(l&&l.isTexture){const c=l.mapping,d=c===B6||c===U6,u=c===qx||c===Gx;if(d||u){let h=e.get(l);const m=h!==void 0?h.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==m)return r===null&&(r=new yR(t)),h=d?r.fromEquirectangular(l,h):r.fromCubemap(l,h),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),h.texture;if(h!==void 0)return h.texture;{const f=l.image;return d&&f&&f.height>0||u&&f&&a(f)?(r===null&&(r=new yR(t)),h=d?r.fromEquirectangular(l):r.fromCubemap(l),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),l.addEventListener("dispose",i),h.texture):null}}}return l}function a(l){let c=0;const d=6;for(let u=0;u<d;u++)l[u]!==void 0&&c++;return c===d}function i(l){const c=l.target;c.removeEventListener("dispose",i);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function o(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:s,dispose:o}}function $ce(t){const e={};function r(s){if(e[s]!==void 0)return e[s];let a;switch(s){case"WEBGL_depth_texture":a=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=t.getExtension(s)}return e[s]=a,a}return{has:function(s){return r(s)!==null},init:function(){r("EXT_color_buffer_float"),r("WEBGL_clip_cull_distance"),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture"),r("WEBGL_render_shared_exponent")},get:function(s){const a=r(s);return a===null&&fx("THREE.WebGLRenderer: "+s+" extension not supported."),a}}}function Hce(t,e,r,s){const a={},i=new WeakMap;function o(h){const m=h.target;m.index!==null&&e.remove(m.index);for(const x in m.attributes)e.remove(m.attributes[x]);m.removeEventListener("dispose",o),delete a[m.id];const f=i.get(m);f&&(e.remove(f),i.delete(m)),s.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,r.memory.geometries--}function l(h,m){return a[m.id]===!0||(m.addEventListener("dispose",o),a[m.id]=!0,r.memory.geometries++),m}function c(h){const m=h.attributes;for(const f in m)e.update(m[f],t.ARRAY_BUFFER)}function d(h){const m=[],f=h.index,x=h.attributes.position;let v=0;if(f!==null){const N=f.array;v=f.version;for(let w=0,A=N.length;w<A;w+=3){const j=N[w+0],S=N[w+1],E=N[w+2];m.push(j,S,S,E,E,j)}}else if(x!==void 0){const N=x.array;v=x.version;for(let w=0,A=N.length/3-1;w<A;w+=3){const j=w+0,S=w+1,E=w+2;m.push(j,S,S,E,E,j)}}else return;const g=new(HW(m)?KW:YW)(m,1);g.version=v;const b=i.get(h);b&&e.remove(b),i.set(h,g)}function u(h){const m=i.get(h);if(m){const f=h.index;f!==null&&m.version<f.version&&d(h)}else d(h);return i.get(h)}return{get:l,update:c,getWireframeAttribute:u}}function Wce(t,e,r){let s;function a(m){s=m}let i,o;function l(m){i=m.type,o=m.bytesPerElement}function c(m,f){t.drawElements(s,f,i,m*o),r.update(f,s,1)}function d(m,f,x){x!==0&&(t.drawElementsInstanced(s,f,i,m*o,x),r.update(f,s,x))}function u(m,f,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(s,f,0,i,m,0,x);let g=0;for(let b=0;b<x;b++)g+=f[b];r.update(g,s,1)}function h(m,f,x,v){if(x===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let b=0;b<m.length;b++)d(m[b]/o,f[b],v[b]);else{g.multiDrawElementsInstancedWEBGL(s,f,0,i,m,0,v,0,x);let b=0;for(let N=0;N<x;N++)b+=f[N]*v[N];r.update(b,s,1)}}this.setMode=a,this.setIndex=l,this.render=c,this.renderInstances=d,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function qce(t){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function s(i,o,l){switch(r.calls++,o){case t.TRIANGLES:r.triangles+=l*(i/3);break;case t.LINES:r.lines+=l*(i/2);break;case t.LINE_STRIP:r.lines+=l*(i-1);break;case t.LINE_LOOP:r.lines+=l*i;break;case t.POINTS:r.points+=l*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function a(){r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:a,update:s}}function Gce(t,e,r){const s=new WeakMap,a=new ua;function i(o,l,c){const d=o.morphTargetInfluences,u=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=u!==void 0?u.length:0;let m=s.get(l);if(m===void 0||m.count!==h){let C=function(){E.dispose(),s.delete(l),l.removeEventListener("dispose",C)};m!==void 0&&m.texture.dispose();const f=l.morphAttributes.position!==void 0,x=l.morphAttributes.normal!==void 0,v=l.morphAttributes.color!==void 0,g=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],N=l.morphAttributes.color||[];let w=0;f===!0&&(w=1),x===!0&&(w=2),v===!0&&(w=3);let A=l.attributes.position.count*w,j=1;A>e.maxTextureSize&&(j=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const S=new Float32Array(A*j*4*h),E=new qW(S,A,j,h);E.type=hh,E.needsUpdate=!0;const R=w*4;for(let T=0;T<h;T++){const k=g[T],P=b[T],D=N[T],H=A*j*4*T;for(let F=0;F<k.count;F++){const z=F*R;f===!0&&(a.fromBufferAttribute(k,F),S[H+z+0]=a.x,S[H+z+1]=a.y,S[H+z+2]=a.z,S[H+z+3]=0),x===!0&&(a.fromBufferAttribute(P,F),S[H+z+4]=a.x,S[H+z+5]=a.y,S[H+z+6]=a.z,S[H+z+7]=0),v===!0&&(a.fromBufferAttribute(D,F),S[H+z+8]=a.x,S[H+z+9]=a.y,S[H+z+10]=a.z,S[H+z+11]=D.itemSize===4?a.w:1)}}m={count:h,texture:E,size:new Jn(A,j)},s.set(l,m),l.addEventListener("dispose",C)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",o.morphTexture,r);else{let f=0;for(let v=0;v<d.length;v++)f+=d[v];const x=l.morphTargetsRelative?1:1-f;c.getUniforms().setValue(t,"morphTargetBaseInfluence",x),c.getUniforms().setValue(t,"morphTargetInfluences",d)}c.getUniforms().setValue(t,"morphTargetsTexture",m.texture,r),c.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}return{update:i}}function Vce(t,e,r,s){let a=new WeakMap;function i(c){const d=s.render.frame,u=c.geometry,h=e.get(c,u);if(a.get(h)!==d&&(e.update(h),a.set(h,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),a.get(c)!==d&&(r.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&r.update(c.instanceColor,t.ARRAY_BUFFER),a.set(c,d))),c.isSkinnedMesh){const m=c.skeleton;a.get(m)!==d&&(m.update(),a.set(m,d))}return h}function o(){a=new WeakMap}function l(c){const d=c.target;d.removeEventListener("dispose",l),r.remove(d.instanceMatrix),d.instanceColor!==null&&r.remove(d.instanceColor)}return{update:i,dispose:o}}const sq=new rl,NR=new eq(1,1),aq=new qW,iq=new Nie,oq=new ZW,SR=[],_R=[],AR=new Float32Array(16),CR=new Float32Array(9),kR=new Float32Array(4);function Lg(t,e,r){const s=t[0];if(s<=0||s>0)return t;const a=e*r;let i=SR[a];if(i===void 0&&(i=new Float32Array(a),SR[a]=i),e!==0){s.toArray(i,0);for(let o=1,l=0;o!==e;++o)l+=r,t[o].toArray(i,l)}return i}function Za(t,e){if(t.length!==e.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==e[r])return!1;return!0}function ei(t,e){for(let r=0,s=e.length;r<s;r++)t[r]=e[r]}function GN(t,e){let r=_R[e];r===void 0&&(r=new Int32Array(e),_R[e]=r);for(let s=0;s!==e;++s)r[s]=t.allocateTextureUnit();return r}function Xce(t,e){const r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function Yce(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Za(r,e))return;t.uniform2fv(this.addr,e),ei(r,e)}}function Kce(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(Za(r,e))return;t.uniform3fv(this.addr,e),ei(r,e)}}function Jce(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Za(r,e))return;t.uniform4fv(this.addr,e),ei(r,e)}}function Qce(t,e){const r=this.cache,s=e.elements;if(s===void 0){if(Za(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),ei(r,e)}else{if(Za(r,s))return;kR.set(s),t.uniformMatrix2fv(this.addr,!1,kR),ei(r,s)}}function Zce(t,e){const r=this.cache,s=e.elements;if(s===void 0){if(Za(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),ei(r,e)}else{if(Za(r,s))return;CR.set(s),t.uniformMatrix3fv(this.addr,!1,CR),ei(r,s)}}function ede(t,e){const r=this.cache,s=e.elements;if(s===void 0){if(Za(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),ei(r,e)}else{if(Za(r,s))return;AR.set(s),t.uniformMatrix4fv(this.addr,!1,AR),ei(r,s)}}function tde(t,e){const r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function rde(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Za(r,e))return;t.uniform2iv(this.addr,e),ei(r,e)}}function nde(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Za(r,e))return;t.uniform3iv(this.addr,e),ei(r,e)}}function sde(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Za(r,e))return;t.uniform4iv(this.addr,e),ei(r,e)}}function ade(t,e){const r=this.cache;r[0]!==e&&(t.uniform1ui(this.addr,e),r[0]=e)}function ide(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Za(r,e))return;t.uniform2uiv(this.addr,e),ei(r,e)}}function ode(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(Za(r,e))return;t.uniform3uiv(this.addr,e),ei(r,e)}}function lde(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Za(r,e))return;t.uniform4uiv(this.addr,e),ei(r,e)}}function cde(t,e,r){const s=this.cache,a=r.allocateTextureUnit();s[0]!==a&&(t.uniform1i(this.addr,a),s[0]=a);let i;this.type===t.SAMPLER_2D_SHADOW?(NR.compareFunction=$W,i=NR):i=sq,r.setTexture2D(e||i,a)}function dde(t,e,r){const s=this.cache,a=r.allocateTextureUnit();s[0]!==a&&(t.uniform1i(this.addr,a),s[0]=a),r.setTexture3D(e||iq,a)}function ude(t,e,r){const s=this.cache,a=r.allocateTextureUnit();s[0]!==a&&(t.uniform1i(this.addr,a),s[0]=a),r.setTextureCube(e||oq,a)}function hde(t,e,r){const s=this.cache,a=r.allocateTextureUnit();s[0]!==a&&(t.uniform1i(this.addr,a),s[0]=a),r.setTexture2DArray(e||aq,a)}function fde(t){switch(t){case 5126:return Xce;case 35664:return Yce;case 35665:return Kce;case 35666:return Jce;case 35674:return Qce;case 35675:return Zce;case 35676:return ede;case 5124:case 35670:return tde;case 35667:case 35671:return rde;case 35668:case 35672:return nde;case 35669:case 35673:return sde;case 5125:return ade;case 36294:return ide;case 36295:return ode;case 36296:return lde;case 35678:case 36198:case 36298:case 36306:case 35682:return cde;case 35679:case 36299:case 36307:return dde;case 35680:case 36300:case 36308:case 36293:return ude;case 36289:case 36303:case 36311:case 36292:return hde}}function mde(t,e){t.uniform1fv(this.addr,e)}function pde(t,e){const r=Lg(e,this.size,2);t.uniform2fv(this.addr,r)}function xde(t,e){const r=Lg(e,this.size,3);t.uniform3fv(this.addr,r)}function gde(t,e){const r=Lg(e,this.size,4);t.uniform4fv(this.addr,r)}function vde(t,e){const r=Lg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,r)}function yde(t,e){const r=Lg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,r)}function bde(t,e){const r=Lg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,r)}function wde(t,e){t.uniform1iv(this.addr,e)}function jde(t,e){t.uniform2iv(this.addr,e)}function Nde(t,e){t.uniform3iv(this.addr,e)}function Sde(t,e){t.uniform4iv(this.addr,e)}function _de(t,e){t.uniform1uiv(this.addr,e)}function Ade(t,e){t.uniform2uiv(this.addr,e)}function Cde(t,e){t.uniform3uiv(this.addr,e)}function kde(t,e){t.uniform4uiv(this.addr,e)}function Ede(t,e,r){const s=this.cache,a=e.length,i=GN(r,a);Za(s,i)||(t.uniform1iv(this.addr,i),ei(s,i));for(let o=0;o!==a;++o)r.setTexture2D(e[o]||sq,i[o])}function Tde(t,e,r){const s=this.cache,a=e.length,i=GN(r,a);Za(s,i)||(t.uniform1iv(this.addr,i),ei(s,i));for(let o=0;o!==a;++o)r.setTexture3D(e[o]||iq,i[o])}function Mde(t,e,r){const s=this.cache,a=e.length,i=GN(r,a);Za(s,i)||(t.uniform1iv(this.addr,i),ei(s,i));for(let o=0;o!==a;++o)r.setTextureCube(e[o]||oq,i[o])}function Pde(t,e,r){const s=this.cache,a=e.length,i=GN(r,a);Za(s,i)||(t.uniform1iv(this.addr,i),ei(s,i));for(let o=0;o!==a;++o)r.setTexture2DArray(e[o]||aq,i[o])}function Dde(t){switch(t){case 5126:return mde;case 35664:return pde;case 35665:return xde;case 35666:return gde;case 35674:return vde;case 35675:return yde;case 35676:return bde;case 5124:case 35670:return wde;case 35667:case 35671:return jde;case 35668:case 35672:return Nde;case 35669:case 35673:return Sde;case 5125:return _de;case 36294:return Ade;case 36295:return Cde;case 36296:return kde;case 35678:case 36198:case 36298:case 36306:case 35682:return Ede;case 35679:case 36299:case 36307:return Tde;case 35680:case 36300:case 36308:case 36293:return Mde;case 36289:case 36303:case 36311:case 36292:return Pde}}class Rde{constructor(e,r,s){this.id=e,this.addr=s,this.cache=[],this.type=r.type,this.setValue=fde(r.type)}}class Lde{constructor(e,r,s){this.id=e,this.addr=s,this.cache=[],this.type=r.type,this.size=r.size,this.setValue=Dde(r.type)}}class Ode{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,s){const a=this.seq;for(let i=0,o=a.length;i!==o;++i){const l=a[i];l.setValue(e,r[l.id],s)}}}const u_=/(\w+)(\])?(\[|\.)?/g;function ER(t,e){t.seq.push(e),t.map[e.id]=e}function Ide(t,e,r){const s=t.name,a=s.length;for(u_.lastIndex=0;;){const i=u_.exec(s),o=u_.lastIndex;let l=i[1];const c=i[2]==="]",d=i[3];if(c&&(l=l|0),d===void 0||d==="["&&o+2===a){ER(r,d===void 0?new Rde(l,t,e):new Lde(l,t,e));break}else{let h=r.map[l];h===void 0&&(h=new Ode(l),ER(r,h)),r=h}}}class zw{constructor(e,r){this.seq=[],this.map={};const s=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let a=0;a<s;++a){const i=e.getActiveUniform(r,a),o=e.getUniformLocation(r,i.name);Ide(i,o,this)}}setValue(e,r,s,a){const i=this.map[r];i!==void 0&&i.setValue(e,s,a)}setOptional(e,r,s){const a=r[s];a!==void 0&&this.setValue(e,s,a)}static upload(e,r,s,a){for(let i=0,o=r.length;i!==o;++i){const l=r[i],c=s[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,a)}}static seqWithValue(e,r){const s=[];for(let a=0,i=e.length;a!==i;++a){const o=e[a];o.id in r&&s.push(o)}return s}}function TR(t,e,r){const s=t.createShader(e);return t.shaderSource(s,r),t.compileShader(s),s}const Fde=37297;let Bde=0;function Ude(t,e){const r=t.split(`
`),s=[],a=Math.max(e-6,0),i=Math.min(e+6,r.length);for(let o=a;o<i;o++){const l=o+1;s.push(`${l===e?">":" "} ${l}: ${r[o]}`)}return s.join(`
`)}const MR=new nn;function zde(t){Tn._getMatrix(MR,Tn.workingColorSpace,t);const e=`mat3( ${MR.elements.map(r=>r.toFixed(4))} )`;switch(Tn.getTransfer(t)){case ej:return[e,"LinearTransferOETF"];case ls:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function PR(t,e,r){const s=t.getShaderParameter(e,t.COMPILE_STATUS),a=t.getShaderInfoLog(e).trim();if(s&&a==="")return"";const i=/ERROR: 0:(\d+)/.exec(a);if(i){const o=parseInt(i[1]);return r.toUpperCase()+`

`+a+`

`+Ude(t.getShaderSource(e),o)}else return a}function $de(t,e){const r=zde(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${r[1]}( vec4( value.rgb * ${r[0]}, value.a ) );`,"}"].join(`
`)}function Hde(t,e){let r;switch(e){case Yae:r="Linear";break;case Kae:r="Reinhard";break;case Jae:r="Cineon";break;case Qae:r="ACESFilmic";break;case eie:r="AgX";break;case tie:r="Neutral";break;case Zae:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}const P2=new wt;function Wde(){Tn.getLuminanceCoefficients(P2);const t=P2.x.toFixed(4),e=P2.y.toFixed(4),r=P2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${r} );`,"	return dot( weights, rgb );","}"].join(`
`)}function qde(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Zv).join(`
`)}function Gde(t){const e=[];for(const r in t){const s=t[r];s!==!1&&e.push("#define "+r+" "+s)}return e.join(`
`)}function Vde(t,e){const r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let a=0;a<s;a++){const i=t.getActiveAttrib(e,a),o=i.name;let l=1;i.type===t.FLOAT_MAT2&&(l=2),i.type===t.FLOAT_MAT3&&(l=3),i.type===t.FLOAT_MAT4&&(l=4),r[o]={type:i.type,location:t.getAttribLocation(e,o),locationSize:l}}return r}function Zv(t){return t!==""}function DR(t,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function RR(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Xde=/^[ \t]*#include +<([\w\d./]+)>/gm;function xk(t){return t.replace(Xde,Kde)}const Yde=new Map;function Kde(t,e){let r=an[e];if(r===void 0){const s=Yde.get(e);if(s!==void 0)r=an[s],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,s);else throw new Error("Can not resolve #include <"+e+">")}return xk(r)}const Jde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function LR(t){return t.replace(Jde,Qde)}function Qde(t,e,r,s){let a="";for(let i=parseInt(e);i<parseInt(r);i++)a+=s.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function OR(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Zde(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===kW?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===EW?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ah&&(e="SHADOWMAP_TYPE_VSM"),e}function eue(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case qx:case Gx:e="ENVMAP_TYPE_CUBE";break;case qN:e="ENVMAP_TYPE_CUBE_UV";break}return e}function tue(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Gx:e="ENVMAP_MODE_REFRACTION";break}return e}function rue(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case RT:e="ENVMAP_BLENDING_MULTIPLY";break;case Vae:e="ENVMAP_BLENDING_MIX";break;case Xae:e="ENVMAP_BLENDING_ADD";break}return e}function nue(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:s,maxMip:r}}function sue(t,e,r,s){const a=t.getContext(),i=r.defines;let o=r.vertexShader,l=r.fragmentShader;const c=Zde(r),d=eue(r),u=tue(r),h=rue(r),m=nue(r),f=qde(r),x=Gde(i),v=a.createProgram();let g,b,N=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(g=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,x].filter(Zv).join(`
`),g.length>0&&(g+=`
`),b=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,x].filter(Zv).join(`
`),b.length>0&&(b+=`
`)):(g=[OR(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,x,r.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",r.batching?"#define USE_BATCHING":"",r.batchingColor?"#define USE_BATCHING_COLOR":"",r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.instancingMorph?"#define USE_INSTANCING_MORPH":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+r.anisotropyMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Zv).join(`
`),b=[OR(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,x,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.envMap?"#define "+u:"",r.envMap?"#define "+h:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.dispersion?"#define USE_DISPERSION":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor||r.batchingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==Hf?"#define TONE_MAPPING":"",r.toneMapping!==Hf?an.tonemapping_pars_fragment:"",r.toneMapping!==Hf?Hde("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",an.colorspace_pars_fragment,$de("linearToOutputTexel",r.outputColorSpace),Wde(),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(Zv).join(`
`)),o=xk(o),o=DR(o,r),o=RR(o,r),l=xk(l),l=DR(l,r),l=RR(l,r),o=LR(o),l=LR(l),r.isRawShaderMaterial!==!0&&(N=`#version 300 es
`,g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,b=["#define varying in",r.glslVersion===XD?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===XD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const w=N+g+o,A=N+b+l,j=TR(a,a.VERTEX_SHADER,w),S=TR(a,a.FRAGMENT_SHADER,A);a.attachShader(v,j),a.attachShader(v,S),r.index0AttributeName!==void 0?a.bindAttribLocation(v,0,r.index0AttributeName):r.morphTargets===!0&&a.bindAttribLocation(v,0,"position"),a.linkProgram(v);function E(k){if(t.debug.checkShaderErrors){const P=a.getProgramInfoLog(v).trim(),D=a.getShaderInfoLog(j).trim(),H=a.getShaderInfoLog(S).trim();let F=!0,z=!0;if(a.getProgramParameter(v,a.LINK_STATUS)===!1)if(F=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(a,v,j,S);else{const O=PR(a,j,"vertex"),W=PR(a,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(v,a.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+P+`
`+O+`
`+W)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(D===""||H==="")&&(z=!1);z&&(k.diagnostics={runnable:F,programLog:P,vertexShader:{log:D,prefix:g},fragmentShader:{log:H,prefix:b}})}a.deleteShader(j),a.deleteShader(S),R=new zw(a,v),C=Vde(a,v)}let R;this.getUniforms=function(){return R===void 0&&E(this),R};let C;this.getAttributes=function(){return C===void 0&&E(this),C};let T=r.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return T===!1&&(T=a.getProgramParameter(v,Fde)),T},this.destroy=function(){s.releaseStatesOfProgram(this),a.deleteProgram(v),this.program=void 0},this.type=r.shaderType,this.name=r.shaderName,this.id=Bde++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=j,this.fragmentShader=S,this}let aue=0;class iue{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,s=e.fragmentShader,a=this._getShaderStage(r),i=this._getShaderStage(s),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const s of r)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;let s=r.get(e);return s===void 0&&(s=new Set,r.set(e,s)),s}_getShaderStage(e){const r=this.shaderCache;let s=r.get(e);return s===void 0&&(s=new oue(e),r.set(e,s)),s}}class oue{constructor(e){this.id=aue++,this.code=e,this.usedTimes=0}}function lue(t,e,r,s,a,i,o){const l=new GW,c=new iue,d=new Set,u=[],h=a.logarithmicDepthBuffer,m=a.vertexTextures;let f=a.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(C){return d.add(C),C===0?"uv":`uv${C}`}function g(C,T,k,P,D){const H=P.fog,F=D.geometry,z=C.isMeshStandardMaterial?P.environment:null,O=(C.isMeshStandardMaterial?r:e).get(C.envMap||z),W=O&&O.mapping===qN?O.image.height:null,ee=x[C.type];C.precision!==null&&(f=a.getMaxPrecision(C.precision),f!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",f,"instead."));const K=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,re=K!==void 0?K.length:0;let U=0;F.morphAttributes.position!==void 0&&(U=1),F.morphAttributes.normal!==void 0&&(U=2),F.morphAttributes.color!==void 0&&(U=3);let Y,V,Z,ce;if(ee){const Jt=Gd[ee];Y=Jt.vertexShader,V=Jt.fragmentShader}else Y=C.vertexShader,V=C.fragmentShader,c.update(C),Z=c.getVertexShaderID(C),ce=c.getFragmentShaderID(C);const fe=t.getRenderTarget(),ye=t.state.buffers.depth.getReversed(),ge=D.isInstancedMesh===!0,we=D.isBatchedMesh===!0,Re=!!C.map,oe=!!C.matcap,ut=!!O,se=!!C.aoMap,J=!!C.lightMap,ie=!!C.bumpMap,Ae=!!C.normalMap,Fe=!!C.displacementMap,Ie=!!C.emissiveMap,$e=!!C.metalnessMap,le=!!C.roughnessMap,ae=C.anisotropy>0,_e=C.clearcoat>0,qe=C.dispersion>0,Ke=C.iridescence>0,et=C.sheen>0,Tt=C.transmission>0,ft=ae&&!!C.anisotropyMap,gt=_e&&!!C.clearcoatMap,At=_e&&!!C.clearcoatNormalMap,rt=_e&&!!C.clearcoatRoughnessMap,Dt=Ke&&!!C.iridescenceMap,Rt=Ke&&!!C.iridescenceThicknessMap,$t=et&&!!C.sheenColorMap,Lt=et&&!!C.sheenRoughnessMap,or=!!C.specularMap,Bt=!!C.specularColorMap,Ge=!!C.specularIntensityMap,Ne=Tt&&!!C.transmissionMap,Qe=Tt&&!!C.thicknessMap,Ve=!!C.gradientMap,tt=!!C.alphaMap,at=C.alphaTest>0,Nt=!!C.alphaHash,qt=!!C.extensions;let Ht=Hf;C.toneMapped&&(fe===null||fe.isXRRenderTarget===!0)&&(Ht=t.toneMapping);const Ar={shaderID:ee,shaderType:C.type,shaderName:C.name,vertexShader:Y,fragmentShader:V,defines:C.defines,customVertexShaderID:Z,customFragmentShaderID:ce,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:f,batching:we,batchingColor:we&&D._colorsTexture!==null,instancing:ge,instancingColor:ge&&D.instanceColor!==null,instancingMorph:ge&&D.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:fe===null?t.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Yx,alphaToCoverage:!!C.alphaToCoverage,map:Re,matcap:oe,envMap:ut,envMapMode:ut&&O.mapping,envMapCubeUVHeight:W,aoMap:se,lightMap:J,bumpMap:ie,normalMap:Ae,displacementMap:m&&Fe,emissiveMap:Ie,normalMapObjectSpace:Ae&&C.normalMapType===aie,normalMapTangentSpace:Ae&&C.normalMapType===zW,metalnessMap:$e,roughnessMap:le,anisotropy:ae,anisotropyMap:ft,clearcoat:_e,clearcoatMap:gt,clearcoatNormalMap:At,clearcoatRoughnessMap:rt,dispersion:qe,iridescence:Ke,iridescenceMap:Dt,iridescenceThicknessMap:Rt,sheen:et,sheenColorMap:$t,sheenRoughnessMap:Lt,specularMap:or,specularColorMap:Bt,specularIntensityMap:Ge,transmission:Tt,transmissionMap:Ne,thicknessMap:Qe,gradientMap:Ve,opaque:C.transparent===!1&&C.blending===_x&&C.alphaToCoverage===!1,alphaMap:tt,alphaTest:at,alphaHash:Nt,combine:C.combine,mapUv:Re&&v(C.map.channel),aoMapUv:se&&v(C.aoMap.channel),lightMapUv:J&&v(C.lightMap.channel),bumpMapUv:ie&&v(C.bumpMap.channel),normalMapUv:Ae&&v(C.normalMap.channel),displacementMapUv:Fe&&v(C.displacementMap.channel),emissiveMapUv:Ie&&v(C.emissiveMap.channel),metalnessMapUv:$e&&v(C.metalnessMap.channel),roughnessMapUv:le&&v(C.roughnessMap.channel),anisotropyMapUv:ft&&v(C.anisotropyMap.channel),clearcoatMapUv:gt&&v(C.clearcoatMap.channel),clearcoatNormalMapUv:At&&v(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:rt&&v(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&v(C.iridescenceMap.channel),iridescenceThicknessMapUv:Rt&&v(C.iridescenceThicknessMap.channel),sheenColorMapUv:$t&&v(C.sheenColorMap.channel),sheenRoughnessMapUv:Lt&&v(C.sheenRoughnessMap.channel),specularMapUv:or&&v(C.specularMap.channel),specularColorMapUv:Bt&&v(C.specularColorMap.channel),specularIntensityMapUv:Ge&&v(C.specularIntensityMap.channel),transmissionMapUv:Ne&&v(C.transmissionMap.channel),thicknessMapUv:Qe&&v(C.thicknessMap.channel),alphaMapUv:tt&&v(C.alphaMap.channel),vertexTangents:!!F.attributes.tangent&&(Ae||ae),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,pointsUvs:D.isPoints===!0&&!!F.attributes.uv&&(Re||tt),fog:!!H,useFog:C.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:h,reverseDepthBuffer:ye,skinning:D.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:U,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ht,decodeVideoTexture:Re&&C.map.isVideoTexture===!0&&Tn.getTransfer(C.map.colorSpace)===ls,decodeVideoTextureEmissive:Ie&&C.emissiveMap.isVideoTexture===!0&&Tn.getTransfer(C.emissiveMap.colorSpace)===ls,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===uh,flipSided:C.side===tl,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:qt&&C.extensions.clipCullDistance===!0&&s.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(qt&&C.extensions.multiDraw===!0||we)&&s.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:s.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return Ar.vertexUv1s=d.has(1),Ar.vertexUv2s=d.has(2),Ar.vertexUv3s=d.has(3),d.clear(),Ar}function b(C){const T=[];if(C.shaderID?T.push(C.shaderID):(T.push(C.customVertexShaderID),T.push(C.customFragmentShaderID)),C.defines!==void 0)for(const k in C.defines)T.push(k),T.push(C.defines[k]);return C.isRawShaderMaterial===!1&&(N(T,C),w(T,C),T.push(t.outputColorSpace)),T.push(C.customProgramCacheKey),T.join()}function N(C,T){C.push(T.precision),C.push(T.outputColorSpace),C.push(T.envMapMode),C.push(T.envMapCubeUVHeight),C.push(T.mapUv),C.push(T.alphaMapUv),C.push(T.lightMapUv),C.push(T.aoMapUv),C.push(T.bumpMapUv),C.push(T.normalMapUv),C.push(T.displacementMapUv),C.push(T.emissiveMapUv),C.push(T.metalnessMapUv),C.push(T.roughnessMapUv),C.push(T.anisotropyMapUv),C.push(T.clearcoatMapUv),C.push(T.clearcoatNormalMapUv),C.push(T.clearcoatRoughnessMapUv),C.push(T.iridescenceMapUv),C.push(T.iridescenceThicknessMapUv),C.push(T.sheenColorMapUv),C.push(T.sheenRoughnessMapUv),C.push(T.specularMapUv),C.push(T.specularColorMapUv),C.push(T.specularIntensityMapUv),C.push(T.transmissionMapUv),C.push(T.thicknessMapUv),C.push(T.combine),C.push(T.fogExp2),C.push(T.sizeAttenuation),C.push(T.morphTargetsCount),C.push(T.morphAttributeCount),C.push(T.numDirLights),C.push(T.numPointLights),C.push(T.numSpotLights),C.push(T.numSpotLightMaps),C.push(T.numHemiLights),C.push(T.numRectAreaLights),C.push(T.numDirLightShadows),C.push(T.numPointLightShadows),C.push(T.numSpotLightShadows),C.push(T.numSpotLightShadowsWithMaps),C.push(T.numLightProbes),C.push(T.shadowMapType),C.push(T.toneMapping),C.push(T.numClippingPlanes),C.push(T.numClipIntersection),C.push(T.depthPacking)}function w(C,T){l.disableAll(),T.supportsVertexTextures&&l.enable(0),T.instancing&&l.enable(1),T.instancingColor&&l.enable(2),T.instancingMorph&&l.enable(3),T.matcap&&l.enable(4),T.envMap&&l.enable(5),T.normalMapObjectSpace&&l.enable(6),T.normalMapTangentSpace&&l.enable(7),T.clearcoat&&l.enable(8),T.iridescence&&l.enable(9),T.alphaTest&&l.enable(10),T.vertexColors&&l.enable(11),T.vertexAlphas&&l.enable(12),T.vertexUv1s&&l.enable(13),T.vertexUv2s&&l.enable(14),T.vertexUv3s&&l.enable(15),T.vertexTangents&&l.enable(16),T.anisotropy&&l.enable(17),T.alphaHash&&l.enable(18),T.batching&&l.enable(19),T.dispersion&&l.enable(20),T.batchingColor&&l.enable(21),C.push(l.mask),l.disableAll(),T.fog&&l.enable(0),T.useFog&&l.enable(1),T.flatShading&&l.enable(2),T.logarithmicDepthBuffer&&l.enable(3),T.reverseDepthBuffer&&l.enable(4),T.skinning&&l.enable(5),T.morphTargets&&l.enable(6),T.morphNormals&&l.enable(7),T.morphColors&&l.enable(8),T.premultipliedAlpha&&l.enable(9),T.shadowMapEnabled&&l.enable(10),T.doubleSided&&l.enable(11),T.flipSided&&l.enable(12),T.useDepthPacking&&l.enable(13),T.dithering&&l.enable(14),T.transmission&&l.enable(15),T.sheen&&l.enable(16),T.opaque&&l.enable(17),T.pointsUvs&&l.enable(18),T.decodeVideoTexture&&l.enable(19),T.decodeVideoTextureEmissive&&l.enable(20),T.alphaToCoverage&&l.enable(21),C.push(l.mask)}function A(C){const T=x[C.type];let k;if(T){const P=Gd[T];k=Oie.clone(P.uniforms)}else k=C.uniforms;return k}function j(C,T){let k;for(let P=0,D=u.length;P<D;P++){const H=u[P];if(H.cacheKey===T){k=H,++k.usedTimes;break}}return k===void 0&&(k=new sue(t,T,C,i),u.push(k)),k}function S(C){if(--C.usedTimes===0){const T=u.indexOf(C);u[T]=u[u.length-1],u.pop(),C.destroy()}}function E(C){c.remove(C)}function R(){c.dispose()}return{getParameters:g,getProgramCacheKey:b,getUniforms:A,acquireProgram:j,releaseProgram:S,releaseShaderCache:E,programs:u,dispose:R}}function cue(){let t=new WeakMap;function e(o){return t.has(o)}function r(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function s(o){t.delete(o)}function a(o,l,c){t.get(o)[l]=c}function i(){t=new WeakMap}return{has:e,get:r,remove:s,update:a,dispose:i}}function due(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function IR(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function FR(){const t=[];let e=0;const r=[],s=[],a=[];function i(){e=0,r.length=0,s.length=0,a.length=0}function o(h,m,f,x,v,g){let b=t[e];return b===void 0?(b={id:h.id,object:h,geometry:m,material:f,groupOrder:x,renderOrder:h.renderOrder,z:v,group:g},t[e]=b):(b.id=h.id,b.object=h,b.geometry=m,b.material=f,b.groupOrder=x,b.renderOrder=h.renderOrder,b.z=v,b.group=g),e++,b}function l(h,m,f,x,v,g){const b=o(h,m,f,x,v,g);f.transmission>0?s.push(b):f.transparent===!0?a.push(b):r.push(b)}function c(h,m,f,x,v,g){const b=o(h,m,f,x,v,g);f.transmission>0?s.unshift(b):f.transparent===!0?a.unshift(b):r.unshift(b)}function d(h,m){r.length>1&&r.sort(h||due),s.length>1&&s.sort(m||IR),a.length>1&&a.sort(m||IR)}function u(){for(let h=e,m=t.length;h<m;h++){const f=t[h];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:r,transmissive:s,transparent:a,init:i,push:l,unshift:c,finish:u,sort:d}}function uue(){let t=new WeakMap;function e(s,a){const i=t.get(s);let o;return i===void 0?(o=new FR,t.set(s,[o])):a>=i.length?(o=new FR,i.push(o)):o=i[a],o}function r(){t=new WeakMap}return{get:e,dispose:r}}function hue(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new wt,color:new Mn};break;case"SpotLight":r={position:new wt,direction:new wt,color:new Mn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new wt,color:new Mn,distance:0,decay:0};break;case"HemisphereLight":r={direction:new wt,skyColor:new Mn,groundColor:new Mn};break;case"RectAreaLight":r={color:new Mn,position:new wt,halfWidth:new wt,halfHeight:new wt};break}return t[e.id]=r,r}}}function fue(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Jn};break;case"SpotLight":r={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Jn};break;case"PointLight":r={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Jn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=r,r}}}let mue=0;function pue(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function xue(t){const e=new hue,r=fue(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)s.probe.push(new wt);const a=new wt,i=new ha,o=new ha;function l(d){let u=0,h=0,m=0;for(let C=0;C<9;C++)s.probe[C].set(0,0,0);let f=0,x=0,v=0,g=0,b=0,N=0,w=0,A=0,j=0,S=0,E=0;d.sort(pue);for(let C=0,T=d.length;C<T;C++){const k=d[C],P=k.color,D=k.intensity,H=k.distance,F=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)u+=P.r*D,h+=P.g*D,m+=P.b*D;else if(k.isLightProbe){for(let z=0;z<9;z++)s.probe[z].addScaledVector(k.sh.coefficients[z],D);E++}else if(k.isDirectionalLight){const z=e.get(k);if(z.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const O=k.shadow,W=r.get(k);W.shadowIntensity=O.intensity,W.shadowBias=O.bias,W.shadowNormalBias=O.normalBias,W.shadowRadius=O.radius,W.shadowMapSize=O.mapSize,s.directionalShadow[f]=W,s.directionalShadowMap[f]=F,s.directionalShadowMatrix[f]=k.shadow.matrix,N++}s.directional[f]=z,f++}else if(k.isSpotLight){const z=e.get(k);z.position.setFromMatrixPosition(k.matrixWorld),z.color.copy(P).multiplyScalar(D),z.distance=H,z.coneCos=Math.cos(k.angle),z.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),z.decay=k.decay,s.spot[v]=z;const O=k.shadow;if(k.map&&(s.spotLightMap[j]=k.map,j++,O.updateMatrices(k),k.castShadow&&S++),s.spotLightMatrix[v]=O.matrix,k.castShadow){const W=r.get(k);W.shadowIntensity=O.intensity,W.shadowBias=O.bias,W.shadowNormalBias=O.normalBias,W.shadowRadius=O.radius,W.shadowMapSize=O.mapSize,s.spotShadow[v]=W,s.spotShadowMap[v]=F,A++}v++}else if(k.isRectAreaLight){const z=e.get(k);z.color.copy(P).multiplyScalar(D),z.halfWidth.set(k.width*.5,0,0),z.halfHeight.set(0,k.height*.5,0),s.rectArea[g]=z,g++}else if(k.isPointLight){const z=e.get(k);if(z.color.copy(k.color).multiplyScalar(k.intensity),z.distance=k.distance,z.decay=k.decay,k.castShadow){const O=k.shadow,W=r.get(k);W.shadowIntensity=O.intensity,W.shadowBias=O.bias,W.shadowNormalBias=O.normalBias,W.shadowRadius=O.radius,W.shadowMapSize=O.mapSize,W.shadowCameraNear=O.camera.near,W.shadowCameraFar=O.camera.far,s.pointShadow[x]=W,s.pointShadowMap[x]=F,s.pointShadowMatrix[x]=k.shadow.matrix,w++}s.point[x]=z,x++}else if(k.isHemisphereLight){const z=e.get(k);z.skyColor.copy(k.color).multiplyScalar(D),z.groundColor.copy(k.groundColor).multiplyScalar(D),s.hemi[b]=z,b++}}g>0&&(t.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=tr.LTC_FLOAT_1,s.rectAreaLTC2=tr.LTC_FLOAT_2):(s.rectAreaLTC1=tr.LTC_HALF_1,s.rectAreaLTC2=tr.LTC_HALF_2)),s.ambient[0]=u,s.ambient[1]=h,s.ambient[2]=m;const R=s.hash;(R.directionalLength!==f||R.pointLength!==x||R.spotLength!==v||R.rectAreaLength!==g||R.hemiLength!==b||R.numDirectionalShadows!==N||R.numPointShadows!==w||R.numSpotShadows!==A||R.numSpotMaps!==j||R.numLightProbes!==E)&&(s.directional.length=f,s.spot.length=v,s.rectArea.length=g,s.point.length=x,s.hemi.length=b,s.directionalShadow.length=N,s.directionalShadowMap.length=N,s.pointShadow.length=w,s.pointShadowMap.length=w,s.spotShadow.length=A,s.spotShadowMap.length=A,s.directionalShadowMatrix.length=N,s.pointShadowMatrix.length=w,s.spotLightMatrix.length=A+j-S,s.spotLightMap.length=j,s.numSpotLightShadowsWithMaps=S,s.numLightProbes=E,R.directionalLength=f,R.pointLength=x,R.spotLength=v,R.rectAreaLength=g,R.hemiLength=b,R.numDirectionalShadows=N,R.numPointShadows=w,R.numSpotShadows=A,R.numSpotMaps=j,R.numLightProbes=E,s.version=mue++)}function c(d,u){let h=0,m=0,f=0,x=0,v=0;const g=u.matrixWorldInverse;for(let b=0,N=d.length;b<N;b++){const w=d[b];if(w.isDirectionalLight){const A=s.directional[h];A.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(a),A.direction.transformDirection(g),h++}else if(w.isSpotLight){const A=s.spot[f];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(g),A.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(a),A.direction.transformDirection(g),f++}else if(w.isRectAreaLight){const A=s.rectArea[x];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(g),o.identity(),i.copy(w.matrixWorld),i.premultiply(g),o.extractRotation(i),A.halfWidth.set(w.width*.5,0,0),A.halfHeight.set(0,w.height*.5,0),A.halfWidth.applyMatrix4(o),A.halfHeight.applyMatrix4(o),x++}else if(w.isPointLight){const A=s.point[m];A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(g),m++}else if(w.isHemisphereLight){const A=s.hemi[v];A.direction.setFromMatrixPosition(w.matrixWorld),A.direction.transformDirection(g),v++}}}return{setup:l,setupView:c,state:s}}function BR(t){const e=new xue(t),r=[],s=[];function a(u){d.camera=u,r.length=0,s.length=0}function i(u){r.push(u)}function o(u){s.push(u)}function l(){e.setup(r)}function c(u){e.setupView(r,u)}const d={lightsArray:r,shadowsArray:s,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:d,setupLights:l,setupLightsView:c,pushLight:i,pushShadow:o}}function gue(t){let e=new WeakMap;function r(a,i=0){const o=e.get(a);let l;return o===void 0?(l=new BR(t),e.set(a,[l])):i>=o.length?(l=new BR(t),o.push(l)):l=o[i],l}function s(){e=new WeakMap}return{get:r,dispose:s}}const vue=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,yue=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function bue(t,e,r){let s=new $T;const a=new Jn,i=new Jn,o=new ua,l=new Wie({depthPacking:sie}),c=new qie,d={},u=r.maxTextureSize,h={[Jf]:tl,[tl]:Jf,[uh]:uh},m=new Qf({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Jn},radius:{value:4}},vertexShader:vue,fragmentShader:yue}),f=m.clone();f.defines.HORIZONTAL_PASS=1;const x=new sp;x.setAttribute("position",new eu(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new sd(x,m),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kW;let b=this.type;this.render=function(S,E,R){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||S.length===0)return;const C=t.getRenderTarget(),T=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),P=t.state;P.setBlending($f),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);const D=b!==ah&&this.type===ah,H=b===ah&&this.type!==ah;for(let F=0,z=S.length;F<z;F++){const O=S[F],W=O.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;a.copy(W.mapSize);const ee=W.getFrameExtents();if(a.multiply(ee),i.copy(W.mapSize),(a.x>u||a.y>u)&&(a.x>u&&(i.x=Math.floor(u/ee.x),a.x=i.x*ee.x,W.mapSize.x=i.x),a.y>u&&(i.y=Math.floor(u/ee.y),a.y=i.y*ee.y,W.mapSize.y=i.y)),W.map===null||D===!0||H===!0){const re=this.type!==ah?{minFilter:cd,magFilter:cd}:{};W.map!==null&&W.map.dispose(),W.map=new zm(a.x,a.y,re),W.map.texture.name=O.name+".shadowMap",W.camera.updateProjectionMatrix()}t.setRenderTarget(W.map),t.clear();const K=W.getViewportCount();for(let re=0;re<K;re++){const U=W.getViewport(re);o.set(i.x*U.x,i.y*U.y,i.x*U.z,i.y*U.w),P.viewport(o),W.updateMatrices(O,re),s=W.getFrustum(),A(E,R,W.camera,O,this.type)}W.isPointLightShadow!==!0&&this.type===ah&&N(W,R),W.needsUpdate=!1}b=this.type,g.needsUpdate=!1,t.setRenderTarget(C,T,k)};function N(S,E){const R=e.update(v);m.defines.VSM_SAMPLES!==S.blurSamples&&(m.defines.VSM_SAMPLES=S.blurSamples,f.defines.VSM_SAMPLES=S.blurSamples,m.needsUpdate=!0,f.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new zm(a.x,a.y)),m.uniforms.shadow_pass.value=S.map.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,t.setRenderTarget(S.mapPass),t.clear(),t.renderBufferDirect(E,null,R,m,v,null),f.uniforms.shadow_pass.value=S.mapPass.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,t.setRenderTarget(S.map),t.clear(),t.renderBufferDirect(E,null,R,f,v,null)}function w(S,E,R,C){let T=null;const k=R.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(k!==void 0)T=k;else if(T=R.isPointLight===!0?c:l,t.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const P=T.uuid,D=E.uuid;let H=d[P];H===void 0&&(H={},d[P]=H);let F=H[D];F===void 0&&(F=T.clone(),H[D]=F,E.addEventListener("dispose",j)),T=F}if(T.visible=E.visible,T.wireframe=E.wireframe,C===ah?T.side=E.shadowSide!==null?E.shadowSide:E.side:T.side=E.shadowSide!==null?E.shadowSide:h[E.side],T.alphaMap=E.alphaMap,T.alphaTest=E.alphaTest,T.map=E.map,T.clipShadows=E.clipShadows,T.clippingPlanes=E.clippingPlanes,T.clipIntersection=E.clipIntersection,T.displacementMap=E.displacementMap,T.displacementScale=E.displacementScale,T.displacementBias=E.displacementBias,T.wireframeLinewidth=E.wireframeLinewidth,T.linewidth=E.linewidth,R.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const P=t.properties.get(T);P.light=R}return T}function A(S,E,R,C,T){if(S.visible===!1)return;if(S.layers.test(E.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&T===ah)&&(!S.frustumCulled||s.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,S.matrixWorld);const D=e.update(S),H=S.material;if(Array.isArray(H)){const F=D.groups;for(let z=0,O=F.length;z<O;z++){const W=F[z],ee=H[W.materialIndex];if(ee&&ee.visible){const K=w(S,ee,C,T);S.onBeforeShadow(t,S,E,R,D,K,W),t.renderBufferDirect(R,null,D,K,S,W),S.onAfterShadow(t,S,E,R,D,K,W)}}}else if(H.visible){const F=w(S,H,C,T);S.onBeforeShadow(t,S,E,R,D,F,null),t.renderBufferDirect(R,null,D,F,S,null),S.onAfterShadow(t,S,E,R,D,F,null)}}const P=S.children;for(let D=0,H=P.length;D<H;D++)A(P[D],E,R,C,T)}function j(S){S.target.removeEventListener("dispose",j);for(const R in d){const C=d[R],T=S.target.uuid;T in C&&(C[T].dispose(),delete C[T])}}}const wue={[P6]:D6,[R6]:I6,[L6]:F6,[Wx]:O6,[D6]:P6,[I6]:R6,[F6]:L6,[O6]:Wx};function jue(t,e){function r(){let Ne=!1;const Qe=new ua;let Ve=null;const tt=new ua(0,0,0,0);return{setMask:function(at){Ve!==at&&!Ne&&(t.colorMask(at,at,at,at),Ve=at)},setLocked:function(at){Ne=at},setClear:function(at,Nt,qt,Ht,Ar){Ar===!0&&(at*=Ht,Nt*=Ht,qt*=Ht),Qe.set(at,Nt,qt,Ht),tt.equals(Qe)===!1&&(t.clearColor(at,Nt,qt,Ht),tt.copy(Qe))},reset:function(){Ne=!1,Ve=null,tt.set(-1,0,0,0)}}}function s(){let Ne=!1,Qe=!1,Ve=null,tt=null,at=null;return{setReversed:function(Nt){if(Qe!==Nt){const qt=e.get("EXT_clip_control");Qe?qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.ZERO_TO_ONE_EXT):qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.NEGATIVE_ONE_TO_ONE_EXT);const Ht=at;at=null,this.setClear(Ht)}Qe=Nt},getReversed:function(){return Qe},setTest:function(Nt){Nt?fe(t.DEPTH_TEST):ye(t.DEPTH_TEST)},setMask:function(Nt){Ve!==Nt&&!Ne&&(t.depthMask(Nt),Ve=Nt)},setFunc:function(Nt){if(Qe&&(Nt=wue[Nt]),tt!==Nt){switch(Nt){case P6:t.depthFunc(t.NEVER);break;case D6:t.depthFunc(t.ALWAYS);break;case R6:t.depthFunc(t.LESS);break;case Wx:t.depthFunc(t.LEQUAL);break;case L6:t.depthFunc(t.EQUAL);break;case O6:t.depthFunc(t.GEQUAL);break;case I6:t.depthFunc(t.GREATER);break;case F6:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}tt=Nt}},setLocked:function(Nt){Ne=Nt},setClear:function(Nt){at!==Nt&&(Qe&&(Nt=1-Nt),t.clearDepth(Nt),at=Nt)},reset:function(){Ne=!1,Ve=null,tt=null,at=null,Qe=!1}}}function a(){let Ne=!1,Qe=null,Ve=null,tt=null,at=null,Nt=null,qt=null,Ht=null,Ar=null;return{setTest:function(Jt){Ne||(Jt?fe(t.STENCIL_TEST):ye(t.STENCIL_TEST))},setMask:function(Jt){Qe!==Jt&&!Ne&&(t.stencilMask(Jt),Qe=Jt)},setFunc:function(Jt,er,bn){(Ve!==Jt||tt!==er||at!==bn)&&(t.stencilFunc(Jt,er,bn),Ve=Jt,tt=er,at=bn)},setOp:function(Jt,er,bn){(Nt!==Jt||qt!==er||Ht!==bn)&&(t.stencilOp(Jt,er,bn),Nt=Jt,qt=er,Ht=bn)},setLocked:function(Jt){Ne=Jt},setClear:function(Jt){Ar!==Jt&&(t.clearStencil(Jt),Ar=Jt)},reset:function(){Ne=!1,Qe=null,Ve=null,tt=null,at=null,Nt=null,qt=null,Ht=null,Ar=null}}}const i=new r,o=new s,l=new a,c=new WeakMap,d=new WeakMap;let u={},h={},m=new WeakMap,f=[],x=null,v=!1,g=null,b=null,N=null,w=null,A=null,j=null,S=null,E=new Mn(0,0,0),R=0,C=!1,T=null,k=null,P=null,D=null,H=null;const F=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,O=0;const W=t.getParameter(t.VERSION);W.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(W)[1]),z=O>=1):W.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),z=O>=2);let ee=null,K={};const re=t.getParameter(t.SCISSOR_BOX),U=t.getParameter(t.VIEWPORT),Y=new ua().fromArray(re),V=new ua().fromArray(U);function Z(Ne,Qe,Ve,tt){const at=new Uint8Array(4),Nt=t.createTexture();t.bindTexture(Ne,Nt),t.texParameteri(Ne,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Ne,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let qt=0;qt<Ve;qt++)Ne===t.TEXTURE_3D||Ne===t.TEXTURE_2D_ARRAY?t.texImage3D(Qe,0,t.RGBA,1,1,tt,0,t.RGBA,t.UNSIGNED_BYTE,at):t.texImage2D(Qe+qt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,at);return Nt}const ce={};ce[t.TEXTURE_2D]=Z(t.TEXTURE_2D,t.TEXTURE_2D,1),ce[t.TEXTURE_CUBE_MAP]=Z(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[t.TEXTURE_2D_ARRAY]=Z(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ce[t.TEXTURE_3D]=Z(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),l.setClear(0),fe(t.DEPTH_TEST),o.setFunc(Wx),ie(!1),Ae($D),fe(t.CULL_FACE),se($f);function fe(Ne){u[Ne]!==!0&&(t.enable(Ne),u[Ne]=!0)}function ye(Ne){u[Ne]!==!1&&(t.disable(Ne),u[Ne]=!1)}function ge(Ne,Qe){return h[Ne]!==Qe?(t.bindFramebuffer(Ne,Qe),h[Ne]=Qe,Ne===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Qe),Ne===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Qe),!0):!1}function we(Ne,Qe){let Ve=f,tt=!1;if(Ne){Ve=m.get(Qe),Ve===void 0&&(Ve=[],m.set(Qe,Ve));const at=Ne.textures;if(Ve.length!==at.length||Ve[0]!==t.COLOR_ATTACHMENT0){for(let Nt=0,qt=at.length;Nt<qt;Nt++)Ve[Nt]=t.COLOR_ATTACHMENT0+Nt;Ve.length=at.length,tt=!0}}else Ve[0]!==t.BACK&&(Ve[0]=t.BACK,tt=!0);tt&&t.drawBuffers(Ve)}function Re(Ne){return x!==Ne?(t.useProgram(Ne),x=Ne,!0):!1}const oe={[hm]:t.FUNC_ADD,[Tae]:t.FUNC_SUBTRACT,[Mae]:t.FUNC_REVERSE_SUBTRACT};oe[Pae]=t.MIN,oe[Dae]=t.MAX;const ut={[Rae]:t.ZERO,[Lae]:t.ONE,[Oae]:t.SRC_COLOR,[T6]:t.SRC_ALPHA,[$ae]:t.SRC_ALPHA_SATURATE,[Uae]:t.DST_COLOR,[Fae]:t.DST_ALPHA,[Iae]:t.ONE_MINUS_SRC_COLOR,[M6]:t.ONE_MINUS_SRC_ALPHA,[zae]:t.ONE_MINUS_DST_COLOR,[Bae]:t.ONE_MINUS_DST_ALPHA,[Hae]:t.CONSTANT_COLOR,[Wae]:t.ONE_MINUS_CONSTANT_COLOR,[qae]:t.CONSTANT_ALPHA,[Gae]:t.ONE_MINUS_CONSTANT_ALPHA};function se(Ne,Qe,Ve,tt,at,Nt,qt,Ht,Ar,Jt){if(Ne===$f){v===!0&&(ye(t.BLEND),v=!1);return}if(v===!1&&(fe(t.BLEND),v=!0),Ne!==Eae){if(Ne!==g||Jt!==C){if((b!==hm||A!==hm)&&(t.blendEquation(t.FUNC_ADD),b=hm,A=hm),Jt)switch(Ne){case _x:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case HD:t.blendFunc(t.ONE,t.ONE);break;case WD:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case qD:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne);break}else switch(Ne){case _x:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case HD:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case WD:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case qD:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ne);break}N=null,w=null,j=null,S=null,E.set(0,0,0),R=0,g=Ne,C=Jt}return}at=at||Qe,Nt=Nt||Ve,qt=qt||tt,(Qe!==b||at!==A)&&(t.blendEquationSeparate(oe[Qe],oe[at]),b=Qe,A=at),(Ve!==N||tt!==w||Nt!==j||qt!==S)&&(t.blendFuncSeparate(ut[Ve],ut[tt],ut[Nt],ut[qt]),N=Ve,w=tt,j=Nt,S=qt),(Ht.equals(E)===!1||Ar!==R)&&(t.blendColor(Ht.r,Ht.g,Ht.b,Ar),E.copy(Ht),R=Ar),g=Ne,C=!1}function J(Ne,Qe){Ne.side===uh?ye(t.CULL_FACE):fe(t.CULL_FACE);let Ve=Ne.side===tl;Qe&&(Ve=!Ve),ie(Ve),Ne.blending===_x&&Ne.transparent===!1?se($f):se(Ne.blending,Ne.blendEquation,Ne.blendSrc,Ne.blendDst,Ne.blendEquationAlpha,Ne.blendSrcAlpha,Ne.blendDstAlpha,Ne.blendColor,Ne.blendAlpha,Ne.premultipliedAlpha),o.setFunc(Ne.depthFunc),o.setTest(Ne.depthTest),o.setMask(Ne.depthWrite),i.setMask(Ne.colorWrite);const tt=Ne.stencilWrite;l.setTest(tt),tt&&(l.setMask(Ne.stencilWriteMask),l.setFunc(Ne.stencilFunc,Ne.stencilRef,Ne.stencilFuncMask),l.setOp(Ne.stencilFail,Ne.stencilZFail,Ne.stencilZPass)),Ie(Ne.polygonOffset,Ne.polygonOffsetFactor,Ne.polygonOffsetUnits),Ne.alphaToCoverage===!0?fe(t.SAMPLE_ALPHA_TO_COVERAGE):ye(t.SAMPLE_ALPHA_TO_COVERAGE)}function ie(Ne){T!==Ne&&(Ne?t.frontFace(t.CW):t.frontFace(t.CCW),T=Ne)}function Ae(Ne){Ne!==Cae?(fe(t.CULL_FACE),Ne!==k&&(Ne===$D?t.cullFace(t.BACK):Ne===kae?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ye(t.CULL_FACE),k=Ne}function Fe(Ne){Ne!==P&&(z&&t.lineWidth(Ne),P=Ne)}function Ie(Ne,Qe,Ve){Ne?(fe(t.POLYGON_OFFSET_FILL),(D!==Qe||H!==Ve)&&(t.polygonOffset(Qe,Ve),D=Qe,H=Ve)):ye(t.POLYGON_OFFSET_FILL)}function $e(Ne){Ne?fe(t.SCISSOR_TEST):ye(t.SCISSOR_TEST)}function le(Ne){Ne===void 0&&(Ne=t.TEXTURE0+F-1),ee!==Ne&&(t.activeTexture(Ne),ee=Ne)}function ae(Ne,Qe,Ve){Ve===void 0&&(ee===null?Ve=t.TEXTURE0+F-1:Ve=ee);let tt=K[Ve];tt===void 0&&(tt={type:void 0,texture:void 0},K[Ve]=tt),(tt.type!==Ne||tt.texture!==Qe)&&(ee!==Ve&&(t.activeTexture(Ve),ee=Ve),t.bindTexture(Ne,Qe||ce[Ne]),tt.type=Ne,tt.texture=Qe)}function _e(){const Ne=K[ee];Ne!==void 0&&Ne.type!==void 0&&(t.bindTexture(Ne.type,null),Ne.type=void 0,Ne.texture=void 0)}function qe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function Ke(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function et(){try{t.texSubImage2D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function Tt(){try{t.texSubImage3D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function ft(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function gt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function At(){try{t.texStorage2D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function rt(){try{t.texStorage3D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function Dt(){try{t.texImage2D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function Rt(){try{t.texImage3D.apply(t,arguments)}catch(Ne){console.error("THREE.WebGLState:",Ne)}}function $t(Ne){Y.equals(Ne)===!1&&(t.scissor(Ne.x,Ne.y,Ne.z,Ne.w),Y.copy(Ne))}function Lt(Ne){V.equals(Ne)===!1&&(t.viewport(Ne.x,Ne.y,Ne.z,Ne.w),V.copy(Ne))}function or(Ne,Qe){let Ve=d.get(Qe);Ve===void 0&&(Ve=new WeakMap,d.set(Qe,Ve));let tt=Ve.get(Ne);tt===void 0&&(tt=t.getUniformBlockIndex(Qe,Ne.name),Ve.set(Ne,tt))}function Bt(Ne,Qe){const tt=d.get(Qe).get(Ne);c.get(Qe)!==tt&&(t.uniformBlockBinding(Qe,tt,Ne.__bindingPointIndex),c.set(Qe,tt))}function Ge(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},ee=null,K={},h={},m=new WeakMap,f=[],x=null,v=!1,g=null,b=null,N=null,w=null,A=null,j=null,S=null,E=new Mn(0,0,0),R=0,C=!1,T=null,k=null,P=null,D=null,H=null,Y.set(0,0,t.canvas.width,t.canvas.height),V.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),l.reset()}return{buffers:{color:i,depth:o,stencil:l},enable:fe,disable:ye,bindFramebuffer:ge,drawBuffers:we,useProgram:Re,setBlending:se,setMaterial:J,setFlipSided:ie,setCullFace:Ae,setLineWidth:Fe,setPolygonOffset:Ie,setScissorTest:$e,activeTexture:le,bindTexture:ae,unbindTexture:_e,compressedTexImage2D:qe,compressedTexImage3D:Ke,texImage2D:Dt,texImage3D:Rt,updateUBOMapping:or,uniformBlockBinding:Bt,texStorage2D:At,texStorage3D:rt,texSubImage2D:et,texSubImage3D:Tt,compressedTexSubImage2D:ft,compressedTexSubImage3D:gt,scissor:$t,viewport:Lt,reset:Ge}}function Nue(t,e,r,s,a,i,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new Jn,u=new WeakMap;let h;const m=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(le,ae){return f?new OffscreenCanvas(le,ae):rj("canvas")}function v(le,ae,_e){let qe=1;const Ke=$e(le);if((Ke.width>_e||Ke.height>_e)&&(qe=_e/Math.max(Ke.width,Ke.height)),qe<1)if(typeof HTMLImageElement<"u"&&le instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&le instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&le instanceof ImageBitmap||typeof VideoFrame<"u"&&le instanceof VideoFrame){const et=Math.floor(qe*Ke.width),Tt=Math.floor(qe*Ke.height);h===void 0&&(h=x(et,Tt));const ft=ae?x(et,Tt):h;return ft.width=et,ft.height=Tt,ft.getContext("2d").drawImage(le,0,0,et,Tt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ke.width+"x"+Ke.height+") to ("+et+"x"+Tt+")."),ft}else return"data"in le&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ke.width+"x"+Ke.height+")."),le;return le}function g(le){return le.generateMipmaps}function b(le){t.generateMipmap(le)}function N(le){return le.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:le.isWebGL3DRenderTarget?t.TEXTURE_3D:le.isWebGLArrayRenderTarget||le.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function w(le,ae,_e,qe,Ke=!1){if(le!==null){if(t[le]!==void 0)return t[le];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+le+"'")}let et=ae;if(ae===t.RED&&(_e===t.FLOAT&&(et=t.R32F),_e===t.HALF_FLOAT&&(et=t.R16F),_e===t.UNSIGNED_BYTE&&(et=t.R8)),ae===t.RED_INTEGER&&(_e===t.UNSIGNED_BYTE&&(et=t.R8UI),_e===t.UNSIGNED_SHORT&&(et=t.R16UI),_e===t.UNSIGNED_INT&&(et=t.R32UI),_e===t.BYTE&&(et=t.R8I),_e===t.SHORT&&(et=t.R16I),_e===t.INT&&(et=t.R32I)),ae===t.RG&&(_e===t.FLOAT&&(et=t.RG32F),_e===t.HALF_FLOAT&&(et=t.RG16F),_e===t.UNSIGNED_BYTE&&(et=t.RG8)),ae===t.RG_INTEGER&&(_e===t.UNSIGNED_BYTE&&(et=t.RG8UI),_e===t.UNSIGNED_SHORT&&(et=t.RG16UI),_e===t.UNSIGNED_INT&&(et=t.RG32UI),_e===t.BYTE&&(et=t.RG8I),_e===t.SHORT&&(et=t.RG16I),_e===t.INT&&(et=t.RG32I)),ae===t.RGB_INTEGER&&(_e===t.UNSIGNED_BYTE&&(et=t.RGB8UI),_e===t.UNSIGNED_SHORT&&(et=t.RGB16UI),_e===t.UNSIGNED_INT&&(et=t.RGB32UI),_e===t.BYTE&&(et=t.RGB8I),_e===t.SHORT&&(et=t.RGB16I),_e===t.INT&&(et=t.RGB32I)),ae===t.RGBA_INTEGER&&(_e===t.UNSIGNED_BYTE&&(et=t.RGBA8UI),_e===t.UNSIGNED_SHORT&&(et=t.RGBA16UI),_e===t.UNSIGNED_INT&&(et=t.RGBA32UI),_e===t.BYTE&&(et=t.RGBA8I),_e===t.SHORT&&(et=t.RGBA16I),_e===t.INT&&(et=t.RGBA32I)),ae===t.RGB&&_e===t.UNSIGNED_INT_5_9_9_9_REV&&(et=t.RGB9_E5),ae===t.RGBA){const Tt=Ke?ej:Tn.getTransfer(qe);_e===t.FLOAT&&(et=t.RGBA32F),_e===t.HALF_FLOAT&&(et=t.RGBA16F),_e===t.UNSIGNED_BYTE&&(et=Tt===ls?t.SRGB8_ALPHA8:t.RGBA8),_e===t.UNSIGNED_SHORT_4_4_4_4&&(et=t.RGBA4),_e===t.UNSIGNED_SHORT_5_5_5_1&&(et=t.RGB5_A1)}return(et===t.R16F||et===t.R32F||et===t.RG16F||et===t.RG32F||et===t.RGBA16F||et===t.RGBA32F)&&e.get("EXT_color_buffer_float"),et}function A(le,ae){let _e;return le?ae===null||ae===Um||ae===Vx?_e=t.DEPTH24_STENCIL8:ae===hh?_e=t.DEPTH32F_STENCIL8:ae===qy&&(_e=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ae===null||ae===Um||ae===Vx?_e=t.DEPTH_COMPONENT24:ae===hh?_e=t.DEPTH_COMPONENT32F:ae===qy&&(_e=t.DEPTH_COMPONENT16),_e}function j(le,ae){return g(le)===!0||le.isFramebufferTexture&&le.minFilter!==cd&&le.minFilter!==Yd?Math.log2(Math.max(ae.width,ae.height))+1:le.mipmaps!==void 0&&le.mipmaps.length>0?le.mipmaps.length:le.isCompressedTexture&&Array.isArray(le.image)?ae.mipmaps.length:1}function S(le){const ae=le.target;ae.removeEventListener("dispose",S),R(ae),ae.isVideoTexture&&u.delete(ae)}function E(le){const ae=le.target;ae.removeEventListener("dispose",E),T(ae)}function R(le){const ae=s.get(le);if(ae.__webglInit===void 0)return;const _e=le.source,qe=m.get(_e);if(qe){const Ke=qe[ae.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&C(le),Object.keys(qe).length===0&&m.delete(_e)}s.remove(le)}function C(le){const ae=s.get(le);t.deleteTexture(ae.__webglTexture);const _e=le.source,qe=m.get(_e);delete qe[ae.__cacheKey],o.memory.textures--}function T(le){const ae=s.get(le);if(le.depthTexture&&(le.depthTexture.dispose(),s.remove(le.depthTexture)),le.isWebGLCubeRenderTarget)for(let qe=0;qe<6;qe++){if(Array.isArray(ae.__webglFramebuffer[qe]))for(let Ke=0;Ke<ae.__webglFramebuffer[qe].length;Ke++)t.deleteFramebuffer(ae.__webglFramebuffer[qe][Ke]);else t.deleteFramebuffer(ae.__webglFramebuffer[qe]);ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer[qe])}else{if(Array.isArray(ae.__webglFramebuffer))for(let qe=0;qe<ae.__webglFramebuffer.length;qe++)t.deleteFramebuffer(ae.__webglFramebuffer[qe]);else t.deleteFramebuffer(ae.__webglFramebuffer);if(ae.__webglDepthbuffer&&t.deleteRenderbuffer(ae.__webglDepthbuffer),ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ae.__webglMultisampledFramebuffer),ae.__webglColorRenderbuffer)for(let qe=0;qe<ae.__webglColorRenderbuffer.length;qe++)ae.__webglColorRenderbuffer[qe]&&t.deleteRenderbuffer(ae.__webglColorRenderbuffer[qe]);ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ae.__webglDepthRenderbuffer)}const _e=le.textures;for(let qe=0,Ke=_e.length;qe<Ke;qe++){const et=s.get(_e[qe]);et.__webglTexture&&(t.deleteTexture(et.__webglTexture),o.memory.textures--),s.remove(_e[qe])}s.remove(le)}let k=0;function P(){k=0}function D(){const le=k;return le>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+le+" texture units while this GPU supports only "+a.maxTextures),k+=1,le}function H(le){const ae=[];return ae.push(le.wrapS),ae.push(le.wrapT),ae.push(le.wrapR||0),ae.push(le.magFilter),ae.push(le.minFilter),ae.push(le.anisotropy),ae.push(le.internalFormat),ae.push(le.format),ae.push(le.type),ae.push(le.generateMipmaps),ae.push(le.premultiplyAlpha),ae.push(le.flipY),ae.push(le.unpackAlignment),ae.push(le.colorSpace),ae.join()}function F(le,ae){const _e=s.get(le);if(le.isVideoTexture&&Fe(le),le.isRenderTargetTexture===!1&&le.version>0&&_e.__version!==le.version){const qe=le.image;if(qe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(qe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{V(_e,le,ae);return}}r.bindTexture(t.TEXTURE_2D,_e.__webglTexture,t.TEXTURE0+ae)}function z(le,ae){const _e=s.get(le);if(le.version>0&&_e.__version!==le.version){V(_e,le,ae);return}r.bindTexture(t.TEXTURE_2D_ARRAY,_e.__webglTexture,t.TEXTURE0+ae)}function O(le,ae){const _e=s.get(le);if(le.version>0&&_e.__version!==le.version){V(_e,le,ae);return}r.bindTexture(t.TEXTURE_3D,_e.__webglTexture,t.TEXTURE0+ae)}function W(le,ae){const _e=s.get(le);if(le.version>0&&_e.__version!==le.version){Z(_e,le,ae);return}r.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture,t.TEXTURE0+ae)}const ee={[z6]:t.REPEAT,[xm]:t.CLAMP_TO_EDGE,[$6]:t.MIRRORED_REPEAT},K={[cd]:t.NEAREST,[rie]:t.NEAREST_MIPMAP_NEAREST,[u2]:t.NEAREST_MIPMAP_LINEAR,[Yd]:t.LINEAR,[OS]:t.LINEAR_MIPMAP_NEAREST,[gm]:t.LINEAR_MIPMAP_LINEAR},re={[iie]:t.NEVER,[hie]:t.ALWAYS,[oie]:t.LESS,[$W]:t.LEQUAL,[lie]:t.EQUAL,[uie]:t.GEQUAL,[cie]:t.GREATER,[die]:t.NOTEQUAL};function U(le,ae){if(ae.type===hh&&e.has("OES_texture_float_linear")===!1&&(ae.magFilter===Yd||ae.magFilter===OS||ae.magFilter===u2||ae.magFilter===gm||ae.minFilter===Yd||ae.minFilter===OS||ae.minFilter===u2||ae.minFilter===gm)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(le,t.TEXTURE_WRAP_S,ee[ae.wrapS]),t.texParameteri(le,t.TEXTURE_WRAP_T,ee[ae.wrapT]),(le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY)&&t.texParameteri(le,t.TEXTURE_WRAP_R,ee[ae.wrapR]),t.texParameteri(le,t.TEXTURE_MAG_FILTER,K[ae.magFilter]),t.texParameteri(le,t.TEXTURE_MIN_FILTER,K[ae.minFilter]),ae.compareFunction&&(t.texParameteri(le,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(le,t.TEXTURE_COMPARE_FUNC,re[ae.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ae.magFilter===cd||ae.minFilter!==u2&&ae.minFilter!==gm||ae.type===hh&&e.has("OES_texture_float_linear")===!1)return;if(ae.anisotropy>1||s.get(ae).__currentAnisotropy){const _e=e.get("EXT_texture_filter_anisotropic");t.texParameterf(le,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ae.anisotropy,a.getMaxAnisotropy())),s.get(ae).__currentAnisotropy=ae.anisotropy}}}function Y(le,ae){let _e=!1;le.__webglInit===void 0&&(le.__webglInit=!0,ae.addEventListener("dispose",S));const qe=ae.source;let Ke=m.get(qe);Ke===void 0&&(Ke={},m.set(qe,Ke));const et=H(ae);if(et!==le.__cacheKey){Ke[et]===void 0&&(Ke[et]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,_e=!0),Ke[et].usedTimes++;const Tt=Ke[le.__cacheKey];Tt!==void 0&&(Ke[le.__cacheKey].usedTimes--,Tt.usedTimes===0&&C(ae)),le.__cacheKey=et,le.__webglTexture=Ke[et].texture}return _e}function V(le,ae,_e){let qe=t.TEXTURE_2D;(ae.isDataArrayTexture||ae.isCompressedArrayTexture)&&(qe=t.TEXTURE_2D_ARRAY),ae.isData3DTexture&&(qe=t.TEXTURE_3D);const Ke=Y(le,ae),et=ae.source;r.bindTexture(qe,le.__webglTexture,t.TEXTURE0+_e);const Tt=s.get(et);if(et.version!==Tt.__version||Ke===!0){r.activeTexture(t.TEXTURE0+_e);const ft=Tn.getPrimaries(Tn.workingColorSpace),gt=ae.colorSpace===Cf?null:Tn.getPrimaries(ae.colorSpace),At=ae.colorSpace===Cf||ft===gt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ae.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ae.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,At);let rt=v(ae.image,!1,a.maxTextureSize);rt=Ie(ae,rt);const Dt=i.convert(ae.format,ae.colorSpace),Rt=i.convert(ae.type);let $t=w(ae.internalFormat,Dt,Rt,ae.colorSpace,ae.isVideoTexture);U(qe,ae);let Lt;const or=ae.mipmaps,Bt=ae.isVideoTexture!==!0,Ge=Tt.__version===void 0||Ke===!0,Ne=et.dataReady,Qe=j(ae,rt);if(ae.isDepthTexture)$t=A(ae.format===Xx,ae.type),Ge&&(Bt?r.texStorage2D(t.TEXTURE_2D,1,$t,rt.width,rt.height):r.texImage2D(t.TEXTURE_2D,0,$t,rt.width,rt.height,0,Dt,Rt,null));else if(ae.isDataTexture)if(or.length>0){Bt&&Ge&&r.texStorage2D(t.TEXTURE_2D,Qe,$t,or[0].width,or[0].height);for(let Ve=0,tt=or.length;Ve<tt;Ve++)Lt=or[Ve],Bt?Ne&&r.texSubImage2D(t.TEXTURE_2D,Ve,0,0,Lt.width,Lt.height,Dt,Rt,Lt.data):r.texImage2D(t.TEXTURE_2D,Ve,$t,Lt.width,Lt.height,0,Dt,Rt,Lt.data);ae.generateMipmaps=!1}else Bt?(Ge&&r.texStorage2D(t.TEXTURE_2D,Qe,$t,rt.width,rt.height),Ne&&r.texSubImage2D(t.TEXTURE_2D,0,0,0,rt.width,rt.height,Dt,Rt,rt.data)):r.texImage2D(t.TEXTURE_2D,0,$t,rt.width,rt.height,0,Dt,Rt,rt.data);else if(ae.isCompressedTexture)if(ae.isCompressedArrayTexture){Bt&&Ge&&r.texStorage3D(t.TEXTURE_2D_ARRAY,Qe,$t,or[0].width,or[0].height,rt.depth);for(let Ve=0,tt=or.length;Ve<tt;Ve++)if(Lt=or[Ve],ae.format!==nd)if(Dt!==null)if(Bt){if(Ne)if(ae.layerUpdates.size>0){const at=pR(Lt.width,Lt.height,ae.format,ae.type);for(const Nt of ae.layerUpdates){const qt=Lt.data.subarray(Nt*at/Lt.data.BYTES_PER_ELEMENT,(Nt+1)*at/Lt.data.BYTES_PER_ELEMENT);r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,Nt,Lt.width,Lt.height,1,Dt,qt)}ae.clearLayerUpdates()}else r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,0,Lt.width,Lt.height,rt.depth,Dt,Lt.data)}else r.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ve,$t,Lt.width,Lt.height,rt.depth,0,Lt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Bt?Ne&&r.texSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,0,Lt.width,Lt.height,rt.depth,Dt,Rt,Lt.data):r.texImage3D(t.TEXTURE_2D_ARRAY,Ve,$t,Lt.width,Lt.height,rt.depth,0,Dt,Rt,Lt.data)}else{Bt&&Ge&&r.texStorage2D(t.TEXTURE_2D,Qe,$t,or[0].width,or[0].height);for(let Ve=0,tt=or.length;Ve<tt;Ve++)Lt=or[Ve],ae.format!==nd?Dt!==null?Bt?Ne&&r.compressedTexSubImage2D(t.TEXTURE_2D,Ve,0,0,Lt.width,Lt.height,Dt,Lt.data):r.compressedTexImage2D(t.TEXTURE_2D,Ve,$t,Lt.width,Lt.height,0,Lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bt?Ne&&r.texSubImage2D(t.TEXTURE_2D,Ve,0,0,Lt.width,Lt.height,Dt,Rt,Lt.data):r.texImage2D(t.TEXTURE_2D,Ve,$t,Lt.width,Lt.height,0,Dt,Rt,Lt.data)}else if(ae.isDataArrayTexture)if(Bt){if(Ge&&r.texStorage3D(t.TEXTURE_2D_ARRAY,Qe,$t,rt.width,rt.height,rt.depth),Ne)if(ae.layerUpdates.size>0){const Ve=pR(rt.width,rt.height,ae.format,ae.type);for(const tt of ae.layerUpdates){const at=rt.data.subarray(tt*Ve/rt.data.BYTES_PER_ELEMENT,(tt+1)*Ve/rt.data.BYTES_PER_ELEMENT);r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,tt,rt.width,rt.height,1,Dt,Rt,at)}ae.clearLayerUpdates()}else r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,rt.width,rt.height,rt.depth,Dt,Rt,rt.data)}else r.texImage3D(t.TEXTURE_2D_ARRAY,0,$t,rt.width,rt.height,rt.depth,0,Dt,Rt,rt.data);else if(ae.isData3DTexture)Bt?(Ge&&r.texStorage3D(t.TEXTURE_3D,Qe,$t,rt.width,rt.height,rt.depth),Ne&&r.texSubImage3D(t.TEXTURE_3D,0,0,0,0,rt.width,rt.height,rt.depth,Dt,Rt,rt.data)):r.texImage3D(t.TEXTURE_3D,0,$t,rt.width,rt.height,rt.depth,0,Dt,Rt,rt.data);else if(ae.isFramebufferTexture){if(Ge)if(Bt)r.texStorage2D(t.TEXTURE_2D,Qe,$t,rt.width,rt.height);else{let Ve=rt.width,tt=rt.height;for(let at=0;at<Qe;at++)r.texImage2D(t.TEXTURE_2D,at,$t,Ve,tt,0,Dt,Rt,null),Ve>>=1,tt>>=1}}else if(or.length>0){if(Bt&&Ge){const Ve=$e(or[0]);r.texStorage2D(t.TEXTURE_2D,Qe,$t,Ve.width,Ve.height)}for(let Ve=0,tt=or.length;Ve<tt;Ve++)Lt=or[Ve],Bt?Ne&&r.texSubImage2D(t.TEXTURE_2D,Ve,0,0,Dt,Rt,Lt):r.texImage2D(t.TEXTURE_2D,Ve,$t,Dt,Rt,Lt);ae.generateMipmaps=!1}else if(Bt){if(Ge){const Ve=$e(rt);r.texStorage2D(t.TEXTURE_2D,Qe,$t,Ve.width,Ve.height)}Ne&&r.texSubImage2D(t.TEXTURE_2D,0,0,0,Dt,Rt,rt)}else r.texImage2D(t.TEXTURE_2D,0,$t,Dt,Rt,rt);g(ae)&&b(qe),Tt.__version=et.version,ae.onUpdate&&ae.onUpdate(ae)}le.__version=ae.version}function Z(le,ae,_e){if(ae.image.length!==6)return;const qe=Y(le,ae),Ke=ae.source;r.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture,t.TEXTURE0+_e);const et=s.get(Ke);if(Ke.version!==et.__version||qe===!0){r.activeTexture(t.TEXTURE0+_e);const Tt=Tn.getPrimaries(Tn.workingColorSpace),ft=ae.colorSpace===Cf?null:Tn.getPrimaries(ae.colorSpace),gt=ae.colorSpace===Cf||Tt===ft?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,ae.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,ae.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);const At=ae.isCompressedTexture||ae.image[0].isCompressedTexture,rt=ae.image[0]&&ae.image[0].isDataTexture,Dt=[];for(let tt=0;tt<6;tt++)!At&&!rt?Dt[tt]=v(ae.image[tt],!0,a.maxCubemapSize):Dt[tt]=rt?ae.image[tt].image:ae.image[tt],Dt[tt]=Ie(ae,Dt[tt]);const Rt=Dt[0],$t=i.convert(ae.format,ae.colorSpace),Lt=i.convert(ae.type),or=w(ae.internalFormat,$t,Lt,ae.colorSpace),Bt=ae.isVideoTexture!==!0,Ge=et.__version===void 0||qe===!0,Ne=Ke.dataReady;let Qe=j(ae,Rt);U(t.TEXTURE_CUBE_MAP,ae);let Ve;if(At){Bt&&Ge&&r.texStorage2D(t.TEXTURE_CUBE_MAP,Qe,or,Rt.width,Rt.height);for(let tt=0;tt<6;tt++){Ve=Dt[tt].mipmaps;for(let at=0;at<Ve.length;at++){const Nt=Ve[at];ae.format!==nd?$t!==null?Bt?Ne&&r.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,at,0,0,Nt.width,Nt.height,$t,Nt.data):r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,at,or,Nt.width,Nt.height,0,Nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Bt?Ne&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,at,0,0,Nt.width,Nt.height,$t,Lt,Nt.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,at,or,Nt.width,Nt.height,0,$t,Lt,Nt.data)}}}else{if(Ve=ae.mipmaps,Bt&&Ge){Ve.length>0&&Qe++;const tt=$e(Dt[0]);r.texStorage2D(t.TEXTURE_CUBE_MAP,Qe,or,tt.width,tt.height)}for(let tt=0;tt<6;tt++)if(rt){Bt?Ne&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,Dt[tt].width,Dt[tt].height,$t,Lt,Dt[tt].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,or,Dt[tt].width,Dt[tt].height,0,$t,Lt,Dt[tt].data);for(let at=0;at<Ve.length;at++){const qt=Ve[at].image[tt].image;Bt?Ne&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,at+1,0,0,qt.width,qt.height,$t,Lt,qt.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,at+1,or,qt.width,qt.height,0,$t,Lt,qt.data)}}else{Bt?Ne&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,$t,Lt,Dt[tt]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,or,$t,Lt,Dt[tt]);for(let at=0;at<Ve.length;at++){const Nt=Ve[at];Bt?Ne&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,at+1,0,0,$t,Lt,Nt.image[tt]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+tt,at+1,or,$t,Lt,Nt.image[tt])}}}g(ae)&&b(t.TEXTURE_CUBE_MAP),et.__version=Ke.version,ae.onUpdate&&ae.onUpdate(ae)}le.__version=ae.version}function ce(le,ae,_e,qe,Ke,et){const Tt=i.convert(_e.format,_e.colorSpace),ft=i.convert(_e.type),gt=w(_e.internalFormat,Tt,ft,_e.colorSpace),At=s.get(ae),rt=s.get(_e);if(rt.__renderTarget=ae,!At.__hasExternalTextures){const Dt=Math.max(1,ae.width>>et),Rt=Math.max(1,ae.height>>et);Ke===t.TEXTURE_3D||Ke===t.TEXTURE_2D_ARRAY?r.texImage3D(Ke,et,gt,Dt,Rt,ae.depth,0,Tt,ft,null):r.texImage2D(Ke,et,gt,Dt,Rt,0,Tt,ft,null)}r.bindFramebuffer(t.FRAMEBUFFER,le),Ae(ae)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,qe,Ke,rt.__webglTexture,0,ie(ae)):(Ke===t.TEXTURE_2D||Ke>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ke<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,qe,Ke,rt.__webglTexture,et),r.bindFramebuffer(t.FRAMEBUFFER,null)}function fe(le,ae,_e){if(t.bindRenderbuffer(t.RENDERBUFFER,le),ae.depthBuffer){const qe=ae.depthTexture,Ke=qe&&qe.isDepthTexture?qe.type:null,et=A(ae.stencilBuffer,Ke),Tt=ae.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ft=ie(ae);Ae(ae)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ft,et,ae.width,ae.height):_e?t.renderbufferStorageMultisample(t.RENDERBUFFER,ft,et,ae.width,ae.height):t.renderbufferStorage(t.RENDERBUFFER,et,ae.width,ae.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Tt,t.RENDERBUFFER,le)}else{const qe=ae.textures;for(let Ke=0;Ke<qe.length;Ke++){const et=qe[Ke],Tt=i.convert(et.format,et.colorSpace),ft=i.convert(et.type),gt=w(et.internalFormat,Tt,ft,et.colorSpace),At=ie(ae);_e&&Ae(ae)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,At,gt,ae.width,ae.height):Ae(ae)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,At,gt,ae.width,ae.height):t.renderbufferStorage(t.RENDERBUFFER,gt,ae.width,ae.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ye(le,ae){if(ae&&ae.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(t.FRAMEBUFFER,le),!(ae.depthTexture&&ae.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const qe=s.get(ae.depthTexture);qe.__renderTarget=ae,(!qe.__webglTexture||ae.depthTexture.image.width!==ae.width||ae.depthTexture.image.height!==ae.height)&&(ae.depthTexture.image.width=ae.width,ae.depthTexture.image.height=ae.height,ae.depthTexture.needsUpdate=!0),F(ae.depthTexture,0);const Ke=qe.__webglTexture,et=ie(ae);if(ae.depthTexture.format===Ax)Ae(ae)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ke,0,et):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ke,0);else if(ae.depthTexture.format===Xx)Ae(ae)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ke,0,et):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ke,0);else throw new Error("Unknown depthTexture format")}function ge(le){const ae=s.get(le),_e=le.isWebGLCubeRenderTarget===!0;if(ae.__boundDepthTexture!==le.depthTexture){const qe=le.depthTexture;if(ae.__depthDisposeCallback&&ae.__depthDisposeCallback(),qe){const Ke=()=>{delete ae.__boundDepthTexture,delete ae.__depthDisposeCallback,qe.removeEventListener("dispose",Ke)};qe.addEventListener("dispose",Ke),ae.__depthDisposeCallback=Ke}ae.__boundDepthTexture=qe}if(le.depthTexture&&!ae.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");ye(ae.__webglFramebuffer,le)}else if(_e){ae.__webglDepthbuffer=[];for(let qe=0;qe<6;qe++)if(r.bindFramebuffer(t.FRAMEBUFFER,ae.__webglFramebuffer[qe]),ae.__webglDepthbuffer[qe]===void 0)ae.__webglDepthbuffer[qe]=t.createRenderbuffer(),fe(ae.__webglDepthbuffer[qe],le,!1);else{const Ke=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,et=ae.__webglDepthbuffer[qe];t.bindRenderbuffer(t.RENDERBUFFER,et),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ke,t.RENDERBUFFER,et)}}else if(r.bindFramebuffer(t.FRAMEBUFFER,ae.__webglFramebuffer),ae.__webglDepthbuffer===void 0)ae.__webglDepthbuffer=t.createRenderbuffer(),fe(ae.__webglDepthbuffer,le,!1);else{const qe=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ke=ae.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ke),t.framebufferRenderbuffer(t.FRAMEBUFFER,qe,t.RENDERBUFFER,Ke)}r.bindFramebuffer(t.FRAMEBUFFER,null)}function we(le,ae,_e){const qe=s.get(le);ae!==void 0&&ce(qe.__webglFramebuffer,le,le.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),_e!==void 0&&ge(le)}function Re(le){const ae=le.texture,_e=s.get(le),qe=s.get(ae);le.addEventListener("dispose",E);const Ke=le.textures,et=le.isWebGLCubeRenderTarget===!0,Tt=Ke.length>1;if(Tt||(qe.__webglTexture===void 0&&(qe.__webglTexture=t.createTexture()),qe.__version=ae.version,o.memory.textures++),et){_e.__webglFramebuffer=[];for(let ft=0;ft<6;ft++)if(ae.mipmaps&&ae.mipmaps.length>0){_e.__webglFramebuffer[ft]=[];for(let gt=0;gt<ae.mipmaps.length;gt++)_e.__webglFramebuffer[ft][gt]=t.createFramebuffer()}else _e.__webglFramebuffer[ft]=t.createFramebuffer()}else{if(ae.mipmaps&&ae.mipmaps.length>0){_e.__webglFramebuffer=[];for(let ft=0;ft<ae.mipmaps.length;ft++)_e.__webglFramebuffer[ft]=t.createFramebuffer()}else _e.__webglFramebuffer=t.createFramebuffer();if(Tt)for(let ft=0,gt=Ke.length;ft<gt;ft++){const At=s.get(Ke[ft]);At.__webglTexture===void 0&&(At.__webglTexture=t.createTexture(),o.memory.textures++)}if(le.samples>0&&Ae(le)===!1){_e.__webglMultisampledFramebuffer=t.createFramebuffer(),_e.__webglColorRenderbuffer=[],r.bindFramebuffer(t.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let ft=0;ft<Ke.length;ft++){const gt=Ke[ft];_e.__webglColorRenderbuffer[ft]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,_e.__webglColorRenderbuffer[ft]);const At=i.convert(gt.format,gt.colorSpace),rt=i.convert(gt.type),Dt=w(gt.internalFormat,At,rt,gt.colorSpace,le.isXRRenderTarget===!0),Rt=ie(le);t.renderbufferStorageMultisample(t.RENDERBUFFER,Rt,Dt,le.width,le.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ft,t.RENDERBUFFER,_e.__webglColorRenderbuffer[ft])}t.bindRenderbuffer(t.RENDERBUFFER,null),le.depthBuffer&&(_e.__webglDepthRenderbuffer=t.createRenderbuffer(),fe(_e.__webglDepthRenderbuffer,le,!0)),r.bindFramebuffer(t.FRAMEBUFFER,null)}}if(et){r.bindTexture(t.TEXTURE_CUBE_MAP,qe.__webglTexture),U(t.TEXTURE_CUBE_MAP,ae);for(let ft=0;ft<6;ft++)if(ae.mipmaps&&ae.mipmaps.length>0)for(let gt=0;gt<ae.mipmaps.length;gt++)ce(_e.__webglFramebuffer[ft][gt],le,ae,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ft,gt);else ce(_e.__webglFramebuffer[ft],le,ae,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ft,0);g(ae)&&b(t.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(Tt){for(let ft=0,gt=Ke.length;ft<gt;ft++){const At=Ke[ft],rt=s.get(At);r.bindTexture(t.TEXTURE_2D,rt.__webglTexture),U(t.TEXTURE_2D,At),ce(_e.__webglFramebuffer,le,At,t.COLOR_ATTACHMENT0+ft,t.TEXTURE_2D,0),g(At)&&b(t.TEXTURE_2D)}r.unbindTexture()}else{let ft=t.TEXTURE_2D;if((le.isWebGL3DRenderTarget||le.isWebGLArrayRenderTarget)&&(ft=le.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),r.bindTexture(ft,qe.__webglTexture),U(ft,ae),ae.mipmaps&&ae.mipmaps.length>0)for(let gt=0;gt<ae.mipmaps.length;gt++)ce(_e.__webglFramebuffer[gt],le,ae,t.COLOR_ATTACHMENT0,ft,gt);else ce(_e.__webglFramebuffer,le,ae,t.COLOR_ATTACHMENT0,ft,0);g(ae)&&b(ft),r.unbindTexture()}le.depthBuffer&&ge(le)}function oe(le){const ae=le.textures;for(let _e=0,qe=ae.length;_e<qe;_e++){const Ke=ae[_e];if(g(Ke)){const et=N(le),Tt=s.get(Ke).__webglTexture;r.bindTexture(et,Tt),b(et),r.unbindTexture()}}}const ut=[],se=[];function J(le){if(le.samples>0){if(Ae(le)===!1){const ae=le.textures,_e=le.width,qe=le.height;let Ke=t.COLOR_BUFFER_BIT;const et=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Tt=s.get(le),ft=ae.length>1;if(ft)for(let gt=0;gt<ae.length;gt++)r.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,null),r.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,null,0);r.bindFramebuffer(t.READ_FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,Tt.__webglFramebuffer);for(let gt=0;gt<ae.length;gt++){if(le.resolveDepthBuffer&&(le.depthBuffer&&(Ke|=t.DEPTH_BUFFER_BIT),le.stencilBuffer&&le.resolveStencilBuffer&&(Ke|=t.STENCIL_BUFFER_BIT)),ft){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Tt.__webglColorRenderbuffer[gt]);const At=s.get(ae[gt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,At,0)}t.blitFramebuffer(0,0,_e,qe,0,0,_e,qe,Ke,t.NEAREST),c===!0&&(ut.length=0,se.length=0,ut.push(t.COLOR_ATTACHMENT0+gt),le.depthBuffer&&le.resolveDepthBuffer===!1&&(ut.push(et),se.push(et),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,se)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ut))}if(r.bindFramebuffer(t.READ_FRAMEBUFFER,null),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ft)for(let gt=0;gt<ae.length;gt++){r.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,Tt.__webglColorRenderbuffer[gt]);const At=s.get(ae[gt]).__webglTexture;r.bindFramebuffer(t.FRAMEBUFFER,Tt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,At,0)}r.bindFramebuffer(t.DRAW_FRAMEBUFFER,Tt.__webglMultisampledFramebuffer)}else if(le.depthBuffer&&le.resolveDepthBuffer===!1&&c){const ae=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ae])}}}function ie(le){return Math.min(a.maxSamples,le.samples)}function Ae(le){const ae=s.get(le);return le.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ae.__useRenderToTexture!==!1}function Fe(le){const ae=o.render.frame;u.get(le)!==ae&&(u.set(le,ae),le.update())}function Ie(le,ae){const _e=le.colorSpace,qe=le.format,Ke=le.type;return le.isCompressedTexture===!0||le.isVideoTexture===!0||_e!==Yx&&_e!==Cf&&(Tn.getTransfer(_e)===ls?(qe!==nd||Ke!==kh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",_e)),ae}function $e(le){return typeof HTMLImageElement<"u"&&le instanceof HTMLImageElement?(d.width=le.naturalWidth||le.width,d.height=le.naturalHeight||le.height):typeof VideoFrame<"u"&&le instanceof VideoFrame?(d.width=le.displayWidth,d.height=le.displayHeight):(d.width=le.width,d.height=le.height),d}this.allocateTextureUnit=D,this.resetTextureUnits=P,this.setTexture2D=F,this.setTexture2DArray=z,this.setTexture3D=O,this.setTextureCube=W,this.rebindTextures=we,this.setupRenderTarget=Re,this.updateRenderTargetMipmap=oe,this.updateMultisampleRenderTarget=J,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=Ae}function Sue(t,e){function r(s,a=Cf){let i;const o=Tn.getTransfer(a);if(s===kh)return t.UNSIGNED_BYTE;if(s===OT)return t.UNSIGNED_SHORT_4_4_4_4;if(s===IT)return t.UNSIGNED_SHORT_5_5_5_1;if(s===DW)return t.UNSIGNED_INT_5_9_9_9_REV;if(s===MW)return t.BYTE;if(s===PW)return t.SHORT;if(s===qy)return t.UNSIGNED_SHORT;if(s===LT)return t.INT;if(s===Um)return t.UNSIGNED_INT;if(s===hh)return t.FLOAT;if(s===e1)return t.HALF_FLOAT;if(s===RW)return t.ALPHA;if(s===LW)return t.RGB;if(s===nd)return t.RGBA;if(s===OW)return t.LUMINANCE;if(s===IW)return t.LUMINANCE_ALPHA;if(s===Ax)return t.DEPTH_COMPONENT;if(s===Xx)return t.DEPTH_STENCIL;if(s===FW)return t.RED;if(s===FT)return t.RED_INTEGER;if(s===BW)return t.RG;if(s===BT)return t.RG_INTEGER;if(s===UT)return t.RGBA_INTEGER;if(s===Ow||s===Iw||s===Fw||s===Bw)if(o===ls)if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(s===Ow)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Iw)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Fw)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Bw)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=e.get("WEBGL_compressed_texture_s3tc"),i!==null){if(s===Ow)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Iw)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Fw)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Bw)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===H6||s===W6||s===q6||s===G6)if(i=e.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(s===H6)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===W6)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===q6)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===G6)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===V6||s===X6||s===Y6)if(i=e.get("WEBGL_compressed_texture_etc"),i!==null){if(s===V6||s===X6)return o===ls?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(s===Y6)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===K6||s===J6||s===Q6||s===Z6||s===ek||s===tk||s===rk||s===nk||s===sk||s===ak||s===ik||s===ok||s===lk||s===ck)if(i=e.get("WEBGL_compressed_texture_astc"),i!==null){if(s===K6)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===J6)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Q6)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Z6)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===ek)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===tk)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===rk)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===nk)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===sk)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===ak)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ik)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===ok)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===lk)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===ck)return o===ls?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Uw||s===dk||s===uk)if(i=e.get("EXT_texture_compression_bptc"),i!==null){if(s===Uw)return o===ls?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===dk)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===uk)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===UW||s===hk||s===fk||s===mk)if(i=e.get("EXT_texture_compression_rgtc"),i!==null){if(s===Uw)return i.COMPRESSED_RED_RGTC1_EXT;if(s===hk)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===fk)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===mk)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Vx?t.UNSIGNED_INT_24_8:t[s]!==void 0?t[s]:null}return{convert:r}}const _ue={type:"move"};class h_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new E2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new E2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new wt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new wt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new E2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new wt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new wt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const r=this._hand;if(r)for(const s of e.hand.values())this._getHandJoint(r,s)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,s){let a=null,i=null,o=null;const l=this._targetRay,c=this._grip,d=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const v of e.hand.values()){const g=r.getJointPose(v,s),b=this._getHandJoint(d,v);g!==null&&(b.matrix.fromArray(g.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=g.radius),b.visible=g!==null}const u=d.joints["index-finger-tip"],h=d.joints["thumb-tip"],m=u.position.distanceTo(h.position),f=.02,x=.005;d.inputState.pinching&&m>f+x?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&m<=f-x&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=r.getPose(e.gripSpace,s),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(a=r.getPose(e.targetRaySpace,s),a===null&&i!==null&&(a=i),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(_ue)))}return l!==null&&(l.visible=a!==null),c!==null&&(c.visible=i!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,r){if(e.joints[r.jointName]===void 0){const s=new E2;s.matrixAutoUpdate=!1,s.visible=!1,e.joints[r.jointName]=s,e.add(s)}return e.joints[r.jointName]}}const Aue=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Cue=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class kue{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,r,s){if(this.texture===null){const a=new rl,i=e.properties.get(a);i.__webglTexture=r.texture,(r.depthNear!=s.depthNear||r.depthFar!=s.depthFar)&&(this.depthNear=r.depthNear,this.depthFar=r.depthFar),this.texture=a}}getMesh(e){if(this.texture!==null&&this.mesh===null){const r=e.cameras[0].viewport,s=new Qf({vertexShader:Aue,fragmentShader:Cue,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new sd(new a1(20,20),s)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Eue extends Dg{constructor(e,r){super();const s=this;let a=null,i=1,o=null,l="local-floor",c=1,d=null,u=null,h=null,m=null,f=null,x=null;const v=new kue,g=r.getContextAttributes();let b=null,N=null;const w=[],A=[],j=new Jn;let S=null;const E=new cc;E.viewport=new ua;const R=new cc;R.viewport=new ua;const C=[E,R],T=new Kie;let k=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let Z=w[V];return Z===void 0&&(Z=new h_,w[V]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(V){let Z=w[V];return Z===void 0&&(Z=new h_,w[V]=Z),Z.getGripSpace()},this.getHand=function(V){let Z=w[V];return Z===void 0&&(Z=new h_,w[V]=Z),Z.getHandSpace()};function D(V){const Z=A.indexOf(V.inputSource);if(Z===-1)return;const ce=w[Z];ce!==void 0&&(ce.update(V.inputSource,V.frame,d||o),ce.dispatchEvent({type:V.type,data:V.inputSource}))}function H(){a.removeEventListener("select",D),a.removeEventListener("selectstart",D),a.removeEventListener("selectend",D),a.removeEventListener("squeeze",D),a.removeEventListener("squeezestart",D),a.removeEventListener("squeezeend",D),a.removeEventListener("end",H),a.removeEventListener("inputsourceschange",F);for(let V=0;V<w.length;V++){const Z=A[V];Z!==null&&(A[V]=null,w[V].disconnect(Z))}k=null,P=null,v.reset(),e.setRenderTarget(b),f=null,m=null,h=null,a=null,N=null,Y.stop(),s.isPresenting=!1,e.setPixelRatio(S),e.setSize(j.width,j.height,!1),s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){i=V,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){l=V,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(V){d=V},this.getBaseLayer=function(){return m!==null?m:f},this.getBinding=function(){return h},this.getFrame=function(){return x},this.getSession=function(){return a},this.setSession=async function(V){if(a=V,a!==null){if(b=e.getRenderTarget(),a.addEventListener("select",D),a.addEventListener("selectstart",D),a.addEventListener("selectend",D),a.addEventListener("squeeze",D),a.addEventListener("squeezestart",D),a.addEventListener("squeezeend",D),a.addEventListener("end",H),a.addEventListener("inputsourceschange",F),g.xrCompatible!==!0&&await r.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(j),a.renderState.layers===void 0){const Z={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(a,r,Z),a.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),N=new zm(f.framebufferWidth,f.framebufferHeight,{format:nd,type:kh,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let Z=null,ce=null,fe=null;g.depth&&(fe=g.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,Z=g.stencil?Xx:Ax,ce=g.stencil?Vx:Um);const ye={colorFormat:r.RGBA8,depthFormat:fe,scaleFactor:i};h=new XRWebGLBinding(a,r),m=h.createProjectionLayer(ye),a.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),N=new zm(m.textureWidth,m.textureHeight,{format:nd,type:kh,depthTexture:new eq(m.textureWidth,m.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(c),d=null,o=await a.requestReferenceSpace(l),Y.setContext(a),Y.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function F(V){for(let Z=0;Z<V.removed.length;Z++){const ce=V.removed[Z],fe=A.indexOf(ce);fe>=0&&(A[fe]=null,w[fe].disconnect(ce))}for(let Z=0;Z<V.added.length;Z++){const ce=V.added[Z];let fe=A.indexOf(ce);if(fe===-1){for(let ge=0;ge<w.length;ge++)if(ge>=A.length){A.push(ce),fe=ge;break}else if(A[ge]===null){A[ge]=ce,fe=ge;break}if(fe===-1)break}const ye=w[fe];ye&&ye.connect(ce)}}const z=new wt,O=new wt;function W(V,Z,ce){z.setFromMatrixPosition(Z.matrixWorld),O.setFromMatrixPosition(ce.matrixWorld);const fe=z.distanceTo(O),ye=Z.projectionMatrix.elements,ge=ce.projectionMatrix.elements,we=ye[14]/(ye[10]-1),Re=ye[14]/(ye[10]+1),oe=(ye[9]+1)/ye[5],ut=(ye[9]-1)/ye[5],se=(ye[8]-1)/ye[0],J=(ge[8]+1)/ge[0],ie=we*se,Ae=we*J,Fe=fe/(-se+J),Ie=Fe*-se;if(Z.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(Ie),V.translateZ(Fe),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert(),ye[10]===-1)V.projectionMatrix.copy(Z.projectionMatrix),V.projectionMatrixInverse.copy(Z.projectionMatrixInverse);else{const $e=we+Fe,le=Re+Fe,ae=ie-Ie,_e=Ae+(fe-Ie),qe=oe*Re/le*$e,Ke=ut*Re/le*$e;V.projectionMatrix.makePerspective(ae,_e,qe,Ke,$e,le),V.projectionMatrixInverse.copy(V.projectionMatrix).invert()}}function ee(V,Z){Z===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(Z.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(a===null)return;let Z=V.near,ce=V.far;v.texture!==null&&(v.depthNear>0&&(Z=v.depthNear),v.depthFar>0&&(ce=v.depthFar)),T.near=R.near=E.near=Z,T.far=R.far=E.far=ce,(k!==T.near||P!==T.far)&&(a.updateRenderState({depthNear:T.near,depthFar:T.far}),k=T.near,P=T.far),E.layers.mask=V.layers.mask|2,R.layers.mask=V.layers.mask|4,T.layers.mask=E.layers.mask|R.layers.mask;const fe=V.parent,ye=T.cameras;ee(T,fe);for(let ge=0;ge<ye.length;ge++)ee(ye[ge],fe);ye.length===2?W(T,E,R):T.projectionMatrix.copy(E.projectionMatrix),K(V,T,fe)};function K(V,Z,ce){ce===null?V.matrix.copy(Z.matrixWorld):(V.matrix.copy(ce.matrixWorld),V.matrix.invert(),V.matrix.multiply(Z.matrixWorld)),V.matrix.decompose(V.position,V.quaternion,V.scale),V.updateMatrixWorld(!0),V.projectionMatrix.copy(Z.projectionMatrix),V.projectionMatrixInverse.copy(Z.projectionMatrixInverse),V.isPerspectiveCamera&&(V.fov=pk*2*Math.atan(1/V.projectionMatrix.elements[5]),V.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(m===null&&f===null))return c},this.setFoveation=function(V){c=V,m!==null&&(m.fixedFoveation=V),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=V)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(T)};let re=null;function U(V,Z){if(u=Z.getViewerPose(d||o),x=Z,u!==null){const ce=u.views;f!==null&&(e.setRenderTargetFramebuffer(N,f.framebuffer),e.setRenderTarget(N));let fe=!1;ce.length!==T.cameras.length&&(T.cameras.length=0,fe=!0);for(let ge=0;ge<ce.length;ge++){const we=ce[ge];let Re=null;if(f!==null)Re=f.getViewport(we);else{const ut=h.getViewSubImage(m,we);Re=ut.viewport,ge===0&&(e.setRenderTargetTextures(N,ut.colorTexture,m.ignoreDepthValues?void 0:ut.depthStencilTexture),e.setRenderTarget(N))}let oe=C[ge];oe===void 0&&(oe=new cc,oe.layers.enable(ge),oe.viewport=new ua,C[ge]=oe),oe.matrix.fromArray(we.transform.matrix),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale),oe.projectionMatrix.fromArray(we.projectionMatrix),oe.projectionMatrixInverse.copy(oe.projectionMatrix).invert(),oe.viewport.set(Re.x,Re.y,Re.width,Re.height),ge===0&&(T.matrix.copy(oe.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),fe===!0&&T.cameras.push(oe)}const ye=a.enabledFeatures;if(ye&&ye.includes("depth-sensing")){const ge=h.getDepthInformation(ce[0]);ge&&ge.isValid&&ge.texture&&v.init(e,ge,a.renderState)}}for(let ce=0;ce<w.length;ce++){const fe=A[ce],ye=w[ce];fe!==null&&ye!==void 0&&ye.update(fe,Z,d||o)}re&&re(V,Z),Z.detectedPlanes&&s.dispatchEvent({type:"planesdetected",data:Z}),x=null}const Y=new nq;Y.setAnimationLoop(U),this.setAnimationLoop=function(V){re=V},this.dispose=function(){}}}const X0=new cu,Tue=new ha;function Mue(t,e){function r(g,b){g.matrixAutoUpdate===!0&&g.updateMatrix(),b.value.copy(g.matrix)}function s(g,b){b.color.getRGB(g.fogColor.value,JW(t)),b.isFog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b.isFogExp2&&(g.fogDensity.value=b.density)}function a(g,b,N,w,A){b.isMeshBasicMaterial||b.isMeshLambertMaterial?i(g,b):b.isMeshToonMaterial?(i(g,b),h(g,b)):b.isMeshPhongMaterial?(i(g,b),u(g,b)):b.isMeshStandardMaterial?(i(g,b),m(g,b),b.isMeshPhysicalMaterial&&f(g,b,A)):b.isMeshMatcapMaterial?(i(g,b),x(g,b)):b.isMeshDepthMaterial?i(g,b):b.isMeshDistanceMaterial?(i(g,b),v(g,b)):b.isMeshNormalMaterial?i(g,b):b.isLineBasicMaterial?(o(g,b),b.isLineDashedMaterial&&l(g,b)):b.isPointsMaterial?c(g,b,N,w):b.isSpriteMaterial?d(g,b):b.isShadowMaterial?(g.color.value.copy(b.color),g.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function i(g,b){g.opacity.value=b.opacity,b.color&&g.diffuse.value.copy(b.color),b.emissive&&g.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(g.map.value=b.map,r(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,r(b.alphaMap,g.alphaMapTransform)),b.bumpMap&&(g.bumpMap.value=b.bumpMap,r(b.bumpMap,g.bumpMapTransform),g.bumpScale.value=b.bumpScale,b.side===tl&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,r(b.normalMap,g.normalMapTransform),g.normalScale.value.copy(b.normalScale),b.side===tl&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,r(b.displacementMap,g.displacementMapTransform),g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap,r(b.emissiveMap,g.emissiveMapTransform)),b.specularMap&&(g.specularMap.value=b.specularMap,r(b.specularMap,g.specularMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest);const N=e.get(b),w=N.envMap,A=N.envMapRotation;w&&(g.envMap.value=w,X0.copy(A),X0.x*=-1,X0.y*=-1,X0.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(X0.y*=-1,X0.z*=-1),g.envMapRotation.value.setFromMatrix4(Tue.makeRotationFromEuler(X0)),g.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=b.reflectivity,g.ior.value=b.ior,g.refractionRatio.value=b.refractionRatio),b.lightMap&&(g.lightMap.value=b.lightMap,g.lightMapIntensity.value=b.lightMapIntensity,r(b.lightMap,g.lightMapTransform)),b.aoMap&&(g.aoMap.value=b.aoMap,g.aoMapIntensity.value=b.aoMapIntensity,r(b.aoMap,g.aoMapTransform))}function o(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,b.map&&(g.map.value=b.map,r(b.map,g.mapTransform))}function l(g,b){g.dashSize.value=b.dashSize,g.totalSize.value=b.dashSize+b.gapSize,g.scale.value=b.scale}function c(g,b,N,w){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.size.value=b.size*N,g.scale.value=w*.5,b.map&&(g.map.value=b.map,r(b.map,g.uvTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,r(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}function d(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.rotation.value=b.rotation,b.map&&(g.map.value=b.map,r(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,r(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}function u(g,b){g.specular.value.copy(b.specular),g.shininess.value=Math.max(b.shininess,1e-4)}function h(g,b){b.gradientMap&&(g.gradientMap.value=b.gradientMap)}function m(g,b){g.metalness.value=b.metalness,b.metalnessMap&&(g.metalnessMap.value=b.metalnessMap,r(b.metalnessMap,g.metalnessMapTransform)),g.roughness.value=b.roughness,b.roughnessMap&&(g.roughnessMap.value=b.roughnessMap,r(b.roughnessMap,g.roughnessMapTransform)),b.envMap&&(g.envMapIntensity.value=b.envMapIntensity)}function f(g,b,N){g.ior.value=b.ior,b.sheen>0&&(g.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),g.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(g.sheenColorMap.value=b.sheenColorMap,r(b.sheenColorMap,g.sheenColorMapTransform)),b.sheenRoughnessMap&&(g.sheenRoughnessMap.value=b.sheenRoughnessMap,r(b.sheenRoughnessMap,g.sheenRoughnessMapTransform))),b.clearcoat>0&&(g.clearcoat.value=b.clearcoat,g.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(g.clearcoatMap.value=b.clearcoatMap,r(b.clearcoatMap,g.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,r(b.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(g.clearcoatNormalMap.value=b.clearcoatNormalMap,r(b.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===tl&&g.clearcoatNormalScale.value.negate())),b.dispersion>0&&(g.dispersion.value=b.dispersion),b.iridescence>0&&(g.iridescence.value=b.iridescence,g.iridescenceIOR.value=b.iridescenceIOR,g.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(g.iridescenceMap.value=b.iridescenceMap,r(b.iridescenceMap,g.iridescenceMapTransform)),b.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=b.iridescenceThicknessMap,r(b.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),b.transmission>0&&(g.transmission.value=b.transmission,g.transmissionSamplerMap.value=N.texture,g.transmissionSamplerSize.value.set(N.width,N.height),b.transmissionMap&&(g.transmissionMap.value=b.transmissionMap,r(b.transmissionMap,g.transmissionMapTransform)),g.thickness.value=b.thickness,b.thicknessMap&&(g.thicknessMap.value=b.thicknessMap,r(b.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=b.attenuationDistance,g.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(g.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(g.anisotropyMap.value=b.anisotropyMap,r(b.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=b.specularIntensity,g.specularColor.value.copy(b.specularColor),b.specularColorMap&&(g.specularColorMap.value=b.specularColorMap,r(b.specularColorMap,g.specularColorMapTransform)),b.specularIntensityMap&&(g.specularIntensityMap.value=b.specularIntensityMap,r(b.specularIntensityMap,g.specularIntensityMapTransform))}function x(g,b){b.matcap&&(g.matcap.value=b.matcap)}function v(g,b){const N=e.get(b).light;g.referencePosition.value.setFromMatrixPosition(N.matrixWorld),g.nearDistance.value=N.shadow.camera.near,g.farDistance.value=N.shadow.camera.far}return{refreshFogUniforms:s,refreshMaterialUniforms:a}}function Pue(t,e,r,s){let a={},i={},o=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(N,w){const A=w.program;s.uniformBlockBinding(N,A)}function d(N,w){let A=a[N.id];A===void 0&&(x(N),A=u(N),a[N.id]=A,N.addEventListener("dispose",g));const j=w.program;s.updateUBOMapping(N,j);const S=e.render.frame;i[N.id]!==S&&(m(N),i[N.id]=S)}function u(N){const w=h();N.__bindingPointIndex=w;const A=t.createBuffer(),j=N.__size,S=N.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,j,S),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,A),A}function h(){for(let N=0;N<l;N++)if(o.indexOf(N)===-1)return o.push(N),N;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(N){const w=a[N.id],A=N.uniforms,j=N.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let S=0,E=A.length;S<E;S++){const R=Array.isArray(A[S])?A[S]:[A[S]];for(let C=0,T=R.length;C<T;C++){const k=R[C];if(f(k,S,C,j)===!0){const P=k.__offset,D=Array.isArray(k.value)?k.value:[k.value];let H=0;for(let F=0;F<D.length;F++){const z=D[F],O=v(z);typeof z=="number"||typeof z=="boolean"?(k.__data[0]=z,t.bufferSubData(t.UNIFORM_BUFFER,P+H,k.__data)):z.isMatrix3?(k.__data[0]=z.elements[0],k.__data[1]=z.elements[1],k.__data[2]=z.elements[2],k.__data[3]=0,k.__data[4]=z.elements[3],k.__data[5]=z.elements[4],k.__data[6]=z.elements[5],k.__data[7]=0,k.__data[8]=z.elements[6],k.__data[9]=z.elements[7],k.__data[10]=z.elements[8],k.__data[11]=0):(z.toArray(k.__data,H),H+=O.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,P,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(N,w,A,j){const S=N.value,E=w+"_"+A;if(j[E]===void 0)return typeof S=="number"||typeof S=="boolean"?j[E]=S:j[E]=S.clone(),!0;{const R=j[E];if(typeof S=="number"||typeof S=="boolean"){if(R!==S)return j[E]=S,!0}else if(R.equals(S)===!1)return R.copy(S),!0}return!1}function x(N){const w=N.uniforms;let A=0;const j=16;for(let E=0,R=w.length;E<R;E++){const C=Array.isArray(w[E])?w[E]:[w[E]];for(let T=0,k=C.length;T<k;T++){const P=C[T],D=Array.isArray(P.value)?P.value:[P.value];for(let H=0,F=D.length;H<F;H++){const z=D[H],O=v(z),W=A%j,ee=W%O.boundary,K=W+ee;A+=ee,K!==0&&j-K<O.storage&&(A+=j-K),P.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=A,A+=O.storage}}}const S=A%j;return S>0&&(A+=j-S),N.__size=A,N.__cache={},this}function v(N){const w={boundary:0,storage:0};return typeof N=="number"||typeof N=="boolean"?(w.boundary=4,w.storage=4):N.isVector2?(w.boundary=8,w.storage=8):N.isVector3||N.isColor?(w.boundary=16,w.storage=12):N.isVector4?(w.boundary=16,w.storage=16):N.isMatrix3?(w.boundary=48,w.storage=48):N.isMatrix4?(w.boundary=64,w.storage=64):N.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",N),w}function g(N){const w=N.target;w.removeEventListener("dispose",g);const A=o.indexOf(w.__bindingPointIndex);o.splice(A,1),t.deleteBuffer(a[w.id]),delete a[w.id],delete i[w.id]}function b(){for(const N in a)t.deleteBuffer(a[N]);o=[],a={},i={}}return{bind:c,update:d,dispose:b}}class Due{constructor(e={}){const{canvas:r=mie(),context:s=null,depth:a=!0,stencil:i=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1,reverseDepthBuffer:m=!1}=e;this.isWebGLRenderer=!0;let f;if(s!==null){if(typeof WebGLRenderingContext<"u"&&s instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=s.getContextAttributes().alpha}else f=o;const x=new Uint32Array(4),v=new Int32Array(4);let g=null,b=null;const N=[],w=[];this.domElement=r,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=lc,this.toneMapping=Hf,this.toneMappingExposure=1;const A=this;let j=!1,S=0,E=0,R=null,C=-1,T=null;const k=new ua,P=new ua;let D=null;const H=new Mn(0);let F=0,z=r.width,O=r.height,W=1,ee=null,K=null;const re=new ua(0,0,z,O),U=new ua(0,0,z,O);let Y=!1;const V=new $T;let Z=!1,ce=!1;const fe=new ha,ye=new ha,ge=new wt,we=new ua,Re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let oe=!1;function ut(){return R===null?W:1}let se=s;function J(de,Oe){return r.getContext(de,Oe)}try{const de={alpha:!0,depth:a,stencil:i,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in r&&r.setAttribute("data-engine",`three.js r${DT}`),r.addEventListener("webglcontextlost",tt,!1),r.addEventListener("webglcontextrestored",at,!1),r.addEventListener("webglcontextcreationerror",Nt,!1),se===null){const Oe="webgl2";if(se=J(Oe,de),se===null)throw J(Oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(de){throw console.error("THREE.WebGLRenderer: "+de.message),de}let ie,Ae,Fe,Ie,$e,le,ae,_e,qe,Ke,et,Tt,ft,gt,At,rt,Dt,Rt,$t,Lt,or,Bt,Ge,Ne;function Qe(){ie=new $ce(se),ie.init(),Bt=new Sue(se,ie),Ae=new Oce(se,ie,e,Bt),Fe=new jue(se,ie),Ae.reverseDepthBuffer&&m&&Fe.buffers.depth.setReversed(!0),Ie=new qce(se),$e=new cue,le=new Nue(se,ie,Fe,$e,Ae,Bt,Ie),ae=new Fce(A),_e=new zce(A),qe=new Qie(se),Ge=new Rce(se,qe),Ke=new Hce(se,qe,Ie,Ge),et=new Vce(se,Ke,qe,Ie),$t=new Gce(se,Ae,le),rt=new Ice($e),Tt=new lue(A,ae,_e,ie,Ae,Ge,rt),ft=new Mue(A,$e),gt=new uue,At=new gue(ie),Rt=new Dce(A,ae,_e,Fe,et,f,c),Dt=new bue(A,et,Ae),Ne=new Pue(se,Ie,Ae,Fe),Lt=new Lce(se,ie,Ie),or=new Wce(se,ie,Ie),Ie.programs=Tt.programs,A.capabilities=Ae,A.extensions=ie,A.properties=$e,A.renderLists=gt,A.shadowMap=Dt,A.state=Fe,A.info=Ie}Qe();const Ve=new Eue(A,se);this.xr=Ve,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const de=ie.get("WEBGL_lose_context");de&&de.loseContext()},this.forceContextRestore=function(){const de=ie.get("WEBGL_lose_context");de&&de.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(de){de!==void 0&&(W=de,this.setSize(z,O,!1))},this.getSize=function(de){return de.set(z,O)},this.setSize=function(de,Oe,We=!0){if(Ve.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=de,O=Oe,r.width=Math.floor(de*W),r.height=Math.floor(Oe*W),We===!0&&(r.style.width=de+"px",r.style.height=Oe+"px"),this.setViewport(0,0,de,Oe)},this.getDrawingBufferSize=function(de){return de.set(z*W,O*W).floor()},this.setDrawingBufferSize=function(de,Oe,We){z=de,O=Oe,W=We,r.width=Math.floor(de*We),r.height=Math.floor(Oe*We),this.setViewport(0,0,de,Oe)},this.getCurrentViewport=function(de){return de.copy(k)},this.getViewport=function(de){return de.copy(re)},this.setViewport=function(de,Oe,We,ze){de.isVector4?re.set(de.x,de.y,de.z,de.w):re.set(de,Oe,We,ze),Fe.viewport(k.copy(re).multiplyScalar(W).round())},this.getScissor=function(de){return de.copy(U)},this.setScissor=function(de,Oe,We,ze){de.isVector4?U.set(de.x,de.y,de.z,de.w):U.set(de,Oe,We,ze),Fe.scissor(P.copy(U).multiplyScalar(W).round())},this.getScissorTest=function(){return Y},this.setScissorTest=function(de){Fe.setScissorTest(Y=de)},this.setOpaqueSort=function(de){ee=de},this.setTransparentSort=function(de){K=de},this.getClearColor=function(de){return de.copy(Rt.getClearColor())},this.setClearColor=function(){Rt.setClearColor.apply(Rt,arguments)},this.getClearAlpha=function(){return Rt.getClearAlpha()},this.setClearAlpha=function(){Rt.setClearAlpha.apply(Rt,arguments)},this.clear=function(de=!0,Oe=!0,We=!0){let ze=0;if(de){let Le=!1;if(R!==null){const yt=R.texture.format;Le=yt===UT||yt===BT||yt===FT}if(Le){const yt=R.texture.type,It=yt===kh||yt===Um||yt===qy||yt===Vx||yt===OT||yt===IT,Ft=Rt.getClearColor(),Vt=Rt.getClearAlpha(),Nr=Ft.r,wr=Ft.g,lr=Ft.b;It?(x[0]=Nr,x[1]=wr,x[2]=lr,x[3]=Vt,se.clearBufferuiv(se.COLOR,0,x)):(v[0]=Nr,v[1]=wr,v[2]=lr,v[3]=Vt,se.clearBufferiv(se.COLOR,0,v))}else ze|=se.COLOR_BUFFER_BIT}Oe&&(ze|=se.DEPTH_BUFFER_BIT),We&&(ze|=se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se.clear(ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",tt,!1),r.removeEventListener("webglcontextrestored",at,!1),r.removeEventListener("webglcontextcreationerror",Nt,!1),Rt.dispose(),gt.dispose(),At.dispose(),$e.dispose(),ae.dispose(),_e.dispose(),et.dispose(),Ge.dispose(),Ne.dispose(),Tt.dispose(),Ve.dispose(),Ve.removeEventListener("sessionstart",js),Ve.removeEventListener("sessionend",Fn),ss.stop()};function tt(de){de.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),j=!0}function at(){console.log("THREE.WebGLRenderer: Context Restored."),j=!1;const de=Ie.autoReset,Oe=Dt.enabled,We=Dt.autoUpdate,ze=Dt.needsUpdate,Le=Dt.type;Qe(),Ie.autoReset=de,Dt.enabled=Oe,Dt.autoUpdate=We,Dt.needsUpdate=ze,Dt.type=Le}function Nt(de){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",de.statusMessage)}function qt(de){const Oe=de.target;Oe.removeEventListener("dispose",qt),Ht(Oe)}function Ht(de){Ar(de),$e.remove(de)}function Ar(de){const Oe=$e.get(de).programs;Oe!==void 0&&(Oe.forEach(function(We){Tt.releaseProgram(We)}),de.isShaderMaterial&&Tt.releaseShaderCache(de))}this.renderBufferDirect=function(de,Oe,We,ze,Le,yt){Oe===null&&(Oe=Re);const It=Le.isMesh&&Le.matrixWorld.determinant()<0,Ft=it(de,Oe,We,ze,Le);Fe.setMaterial(ze,It);let Vt=We.index,Nr=1;if(ze.wireframe===!0){if(Vt=Ke.getWireframeAttribute(We),Vt===void 0)return;Nr=2}const wr=We.drawRange,lr=We.attributes.position;let _r=wr.start*Nr,rn=(wr.start+wr.count)*Nr;yt!==null&&(_r=Math.max(_r,yt.start*Nr),rn=Math.min(rn,(yt.start+yt.count)*Nr)),Vt!==null?(_r=Math.max(_r,0),rn=Math.min(rn,Vt.count)):lr!=null&&(_r=Math.max(_r,0),rn=Math.min(rn,lr.count));const Er=rn-_r;if(Er<0||Er===1/0)return;Ge.setup(Le,ze,Ft,We,Vt);let Un,ln=Lt;if(Vt!==null&&(Un=qe.get(Vt),ln=or,ln.setIndex(Un)),Le.isMesh)ze.wireframe===!0?(Fe.setLineWidth(ze.wireframeLinewidth*ut()),ln.setMode(se.LINES)):ln.setMode(se.TRIANGLES);else if(Le.isLine){let rr=ze.linewidth;rr===void 0&&(rr=1),Fe.setLineWidth(rr*ut()),Le.isLineSegments?ln.setMode(se.LINES):Le.isLineLoop?ln.setMode(se.LINE_LOOP):ln.setMode(se.LINE_STRIP)}else Le.isPoints?ln.setMode(se.POINTS):Le.isSprite&&ln.setMode(se.TRIANGLES);if(Le.isBatchedMesh)if(Le._multiDrawInstances!==null)ln.renderMultiDrawInstances(Le._multiDrawStarts,Le._multiDrawCounts,Le._multiDrawCount,Le._multiDrawInstances);else if(ie.get("WEBGL_multi_draw"))ln.renderMultiDraw(Le._multiDrawStarts,Le._multiDrawCounts,Le._multiDrawCount);else{const rr=Le._multiDrawStarts,us=Le._multiDrawCounts,zr=Le._multiDrawCount,Us=Vt?qe.get(Vt).bytesPerElement:1,Mi=$e.get(ze).currentProgram.getUniforms();for(let as=0;as<zr;as++)Mi.setValue(se,"_gl_DrawID",as),ln.render(rr[as]/Us,us[as])}else if(Le.isInstancedMesh)ln.renderInstances(_r,Er,Le.count);else if(We.isInstancedBufferGeometry){const rr=We._maxInstanceCount!==void 0?We._maxInstanceCount:1/0,us=Math.min(We.instanceCount,rr);ln.renderInstances(_r,Er,us)}else ln.render(_r,Er)};function Jt(de,Oe,We){de.transparent===!0&&de.side===uh&&de.forceSinglePass===!1?(de.side=tl,de.needsUpdate=!0,Ce(de,Oe,We),de.side=Jf,de.needsUpdate=!0,Ce(de,Oe,We),de.side=uh):Ce(de,Oe,We)}this.compile=function(de,Oe,We=null){We===null&&(We=de),b=At.get(We),b.init(Oe),w.push(b),We.traverseVisible(function(Le){Le.isLight&&Le.layers.test(Oe.layers)&&(b.pushLight(Le),Le.castShadow&&b.pushShadow(Le))}),de!==We&&de.traverseVisible(function(Le){Le.isLight&&Le.layers.test(Oe.layers)&&(b.pushLight(Le),Le.castShadow&&b.pushShadow(Le))}),b.setupLights();const ze=new Set;return de.traverse(function(Le){if(!(Le.isMesh||Le.isPoints||Le.isLine||Le.isSprite))return;const yt=Le.material;if(yt)if(Array.isArray(yt))for(let It=0;It<yt.length;It++){const Ft=yt[It];Jt(Ft,We,Le),ze.add(Ft)}else Jt(yt,We,Le),ze.add(yt)}),w.pop(),b=null,ze},this.compileAsync=function(de,Oe,We=null){const ze=this.compile(de,Oe,We);return new Promise(Le=>{function yt(){if(ze.forEach(function(It){$e.get(It).currentProgram.isReady()&&ze.delete(It)}),ze.size===0){Le(de);return}setTimeout(yt,10)}ie.get("KHR_parallel_shader_compile")!==null?yt():setTimeout(yt,10)})};let er=null;function bn(de){er&&er(de)}function js(){ss.stop()}function Fn(){ss.start()}const ss=new nq;ss.setAnimationLoop(bn),typeof self<"u"&&ss.setContext(self),this.setAnimationLoop=function(de){er=de,Ve.setAnimationLoop(de),de===null?ss.stop():ss.start()},Ve.addEventListener("sessionstart",js),Ve.addEventListener("sessionend",Fn),this.render=function(de,Oe){if(Oe!==void 0&&Oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(j===!0)return;if(de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),Oe.parent===null&&Oe.matrixWorldAutoUpdate===!0&&Oe.updateMatrixWorld(),Ve.enabled===!0&&Ve.isPresenting===!0&&(Ve.cameraAutoUpdate===!0&&Ve.updateCamera(Oe),Oe=Ve.getCamera()),de.isScene===!0&&de.onBeforeRender(A,de,Oe,R),b=At.get(de,w.length),b.init(Oe),w.push(b),ye.multiplyMatrices(Oe.projectionMatrix,Oe.matrixWorldInverse),V.setFromProjectionMatrix(ye),ce=this.localClippingEnabled,Z=rt.init(this.clippingPlanes,ce),g=gt.get(de,N.length),g.init(),N.push(g),Ve.enabled===!0&&Ve.isPresenting===!0){const yt=A.xr.getDepthSensingMesh();yt!==null&&sn(yt,Oe,-1/0,A.sortObjects)}sn(de,Oe,0,A.sortObjects),g.finish(),A.sortObjects===!0&&g.sort(ee,K),oe=Ve.enabled===!1||Ve.isPresenting===!1||Ve.hasDepthSensing()===!1,oe&&Rt.addToRenderList(g,de),this.info.render.frame++,Z===!0&&rt.beginShadows();const We=b.state.shadowsArray;Dt.render(We,de,Oe),Z===!0&&rt.endShadows(),this.info.autoReset===!0&&this.info.reset();const ze=g.opaque,Le=g.transmissive;if(b.setupLights(),Oe.isArrayCamera){const yt=Oe.cameras;if(Le.length>0)for(let It=0,Ft=yt.length;It<Ft;It++){const Vt=yt[It];me(ze,Le,de,Vt)}oe&&Rt.render(de);for(let It=0,Ft=yt.length;It<Ft;It++){const Vt=yt[It];Bn(g,de,Vt,Vt.viewport)}}else Le.length>0&&me(ze,Le,de,Oe),oe&&Rt.render(de),Bn(g,de,Oe);R!==null&&(le.updateMultisampleRenderTarget(R),le.updateRenderTargetMipmap(R)),de.isScene===!0&&de.onAfterRender(A,de,Oe),Ge.resetDefaultState(),C=-1,T=null,w.pop(),w.length>0?(b=w[w.length-1],Z===!0&&rt.setGlobalState(A.clippingPlanes,b.state.camera)):b=null,N.pop(),N.length>0?g=N[N.length-1]:g=null};function sn(de,Oe,We,ze){if(de.visible===!1)return;if(de.layers.test(Oe.layers)){if(de.isGroup)We=de.renderOrder;else if(de.isLOD)de.autoUpdate===!0&&de.update(Oe);else if(de.isLight)b.pushLight(de),de.castShadow&&b.pushShadow(de);else if(de.isSprite){if(!de.frustumCulled||V.intersectsSprite(de)){ze&&we.setFromMatrixPosition(de.matrixWorld).applyMatrix4(ye);const It=et.update(de),Ft=de.material;Ft.visible&&g.push(de,It,Ft,We,we.z,null)}}else if((de.isMesh||de.isLine||de.isPoints)&&(!de.frustumCulled||V.intersectsObject(de))){const It=et.update(de),Ft=de.material;if(ze&&(de.boundingSphere!==void 0?(de.boundingSphere===null&&de.computeBoundingSphere(),we.copy(de.boundingSphere.center)):(It.boundingSphere===null&&It.computeBoundingSphere(),we.copy(It.boundingSphere.center)),we.applyMatrix4(de.matrixWorld).applyMatrix4(ye)),Array.isArray(Ft)){const Vt=It.groups;for(let Nr=0,wr=Vt.length;Nr<wr;Nr++){const lr=Vt[Nr],_r=Ft[lr.materialIndex];_r&&_r.visible&&g.push(de,It,_r,We,we.z,lr)}}else Ft.visible&&g.push(de,It,Ft,We,we.z,null)}}const yt=de.children;for(let It=0,Ft=yt.length;It<Ft;It++)sn(yt[It],Oe,We,ze)}function Bn(de,Oe,We,ze){const Le=de.opaque,yt=de.transmissive,It=de.transparent;b.setupLightsView(We),Z===!0&&rt.setGlobalState(A.clippingPlanes,We),ze&&Fe.viewport(k.copy(ze)),Le.length>0&&Ee(Le,Oe,We),yt.length>0&&Ee(yt,Oe,We),It.length>0&&Ee(It,Oe,We),Fe.buffers.depth.setTest(!0),Fe.buffers.depth.setMask(!0),Fe.buffers.color.setMask(!0),Fe.setPolygonOffset(!1)}function me(de,Oe,We,ze){if((We.isScene===!0?We.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[ze.id]===void 0&&(b.state.transmissionRenderTarget[ze.id]=new zm(1,1,{generateMipmaps:!0,type:ie.has("EXT_color_buffer_half_float")||ie.has("EXT_color_buffer_float")?e1:kh,minFilter:gm,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Tn.workingColorSpace}));const yt=b.state.transmissionRenderTarget[ze.id],It=ze.viewport||k;yt.setSize(It.z,It.w);const Ft=A.getRenderTarget();A.setRenderTarget(yt),A.getClearColor(H),F=A.getClearAlpha(),F<1&&A.setClearColor(16777215,.5),A.clear(),oe&&Rt.render(We);const Vt=A.toneMapping;A.toneMapping=Hf;const Nr=ze.viewport;if(ze.viewport!==void 0&&(ze.viewport=void 0),b.setupLightsView(ze),Z===!0&&rt.setGlobalState(A.clippingPlanes,ze),Ee(de,We,ze),le.updateMultisampleRenderTarget(yt),le.updateRenderTargetMipmap(yt),ie.has("WEBGL_multisampled_render_to_texture")===!1){let wr=!1;for(let lr=0,_r=Oe.length;lr<_r;lr++){const rn=Oe[lr],Er=rn.object,Un=rn.geometry,ln=rn.material,rr=rn.group;if(ln.side===uh&&Er.layers.test(ze.layers)){const us=ln.side;ln.side=tl,ln.needsUpdate=!0,Se(Er,We,ze,Un,ln,rr),ln.side=us,ln.needsUpdate=!0,wr=!0}}wr===!0&&(le.updateMultisampleRenderTarget(yt),le.updateRenderTargetMipmap(yt))}A.setRenderTarget(Ft),A.setClearColor(H,F),Nr!==void 0&&(ze.viewport=Nr),A.toneMapping=Vt}function Ee(de,Oe,We){const ze=Oe.isScene===!0?Oe.overrideMaterial:null;for(let Le=0,yt=de.length;Le<yt;Le++){const It=de[Le],Ft=It.object,Vt=It.geometry,Nr=ze===null?It.material:ze,wr=It.group;Ft.layers.test(We.layers)&&Se(Ft,Oe,We,Vt,Nr,wr)}}function Se(de,Oe,We,ze,Le,yt){de.onBeforeRender(A,Oe,We,ze,Le,yt),de.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,de.matrixWorld),de.normalMatrix.getNormalMatrix(de.modelViewMatrix),Le.onBeforeRender(A,Oe,We,ze,de,yt),Le.transparent===!0&&Le.side===uh&&Le.forceSinglePass===!1?(Le.side=tl,Le.needsUpdate=!0,A.renderBufferDirect(We,Oe,ze,Le,de,yt),Le.side=Jf,Le.needsUpdate=!0,A.renderBufferDirect(We,Oe,ze,Le,de,yt),Le.side=uh):A.renderBufferDirect(We,Oe,ze,Le,de,yt),de.onAfterRender(A,Oe,We,ze,Le,yt)}function Ce(de,Oe,We){Oe.isScene!==!0&&(Oe=Re);const ze=$e.get(de),Le=b.state.lights,yt=b.state.shadowsArray,It=Le.state.version,Ft=Tt.getParameters(de,Le.state,yt,Oe,We),Vt=Tt.getProgramCacheKey(Ft);let Nr=ze.programs;ze.environment=de.isMeshStandardMaterial?Oe.environment:null,ze.fog=Oe.fog,ze.envMap=(de.isMeshStandardMaterial?_e:ae).get(de.envMap||ze.environment),ze.envMapRotation=ze.environment!==null&&de.envMap===null?Oe.environmentRotation:de.envMapRotation,Nr===void 0&&(de.addEventListener("dispose",qt),Nr=new Map,ze.programs=Nr);let wr=Nr.get(Vt);if(wr!==void 0){if(ze.currentProgram===wr&&ze.lightsStateVersion===It)return Te(de,Ft),wr}else Ft.uniforms=Tt.getUniforms(de),de.onBeforeCompile(Ft,A),wr=Tt.acquireProgram(Ft,Vt),Nr.set(Vt,wr),ze.uniforms=Ft.uniforms;const lr=ze.uniforms;return(!de.isShaderMaterial&&!de.isRawShaderMaterial||de.clipping===!0)&&(lr.clippingPlanes=rt.uniform),Te(de,Ft),ze.needsLights=lt(de),ze.lightsStateVersion=It,ze.needsLights&&(lr.ambientLightColor.value=Le.state.ambient,lr.lightProbe.value=Le.state.probe,lr.directionalLights.value=Le.state.directional,lr.directionalLightShadows.value=Le.state.directionalShadow,lr.spotLights.value=Le.state.spot,lr.spotLightShadows.value=Le.state.spotShadow,lr.rectAreaLights.value=Le.state.rectArea,lr.ltc_1.value=Le.state.rectAreaLTC1,lr.ltc_2.value=Le.state.rectAreaLTC2,lr.pointLights.value=Le.state.point,lr.pointLightShadows.value=Le.state.pointShadow,lr.hemisphereLights.value=Le.state.hemi,lr.directionalShadowMap.value=Le.state.directionalShadowMap,lr.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,lr.spotShadowMap.value=Le.state.spotShadowMap,lr.spotLightMatrix.value=Le.state.spotLightMatrix,lr.spotLightMap.value=Le.state.spotLightMap,lr.pointShadowMap.value=Le.state.pointShadowMap,lr.pointShadowMatrix.value=Le.state.pointShadowMatrix),ze.currentProgram=wr,ze.uniformsList=null,wr}function Pe(de){if(de.uniformsList===null){const Oe=de.currentProgram.getUniforms();de.uniformsList=zw.seqWithValue(Oe.seq,de.uniforms)}return de.uniformsList}function Te(de,Oe){const We=$e.get(de);We.outputColorSpace=Oe.outputColorSpace,We.batching=Oe.batching,We.batchingColor=Oe.batchingColor,We.instancing=Oe.instancing,We.instancingColor=Oe.instancingColor,We.instancingMorph=Oe.instancingMorph,We.skinning=Oe.skinning,We.morphTargets=Oe.morphTargets,We.morphNormals=Oe.morphNormals,We.morphColors=Oe.morphColors,We.morphTargetsCount=Oe.morphTargetsCount,We.numClippingPlanes=Oe.numClippingPlanes,We.numIntersection=Oe.numClipIntersection,We.vertexAlphas=Oe.vertexAlphas,We.vertexTangents=Oe.vertexTangents,We.toneMapping=Oe.toneMapping}function it(de,Oe,We,ze,Le){Oe.isScene!==!0&&(Oe=Re),le.resetTextureUnits();const yt=Oe.fog,It=ze.isMeshStandardMaterial?Oe.environment:null,Ft=R===null?A.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Yx,Vt=(ze.isMeshStandardMaterial?_e:ae).get(ze.envMap||It),Nr=ze.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,wr=!!We.attributes.tangent&&(!!ze.normalMap||ze.anisotropy>0),lr=!!We.morphAttributes.position,_r=!!We.morphAttributes.normal,rn=!!We.morphAttributes.color;let Er=Hf;ze.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Er=A.toneMapping);const Un=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,ln=Un!==void 0?Un.length:0,rr=$e.get(ze),us=b.state.lights;if(Z===!0&&(ce===!0||de!==T)){const Ds=de===T&&ze.id===C;rt.setState(ze,de,Ds)}let zr=!1;ze.version===rr.__version?(rr.needsLights&&rr.lightsStateVersion!==us.state.version||rr.outputColorSpace!==Ft||Le.isBatchedMesh&&rr.batching===!1||!Le.isBatchedMesh&&rr.batching===!0||Le.isBatchedMesh&&rr.batchingColor===!0&&Le.colorTexture===null||Le.isBatchedMesh&&rr.batchingColor===!1&&Le.colorTexture!==null||Le.isInstancedMesh&&rr.instancing===!1||!Le.isInstancedMesh&&rr.instancing===!0||Le.isSkinnedMesh&&rr.skinning===!1||!Le.isSkinnedMesh&&rr.skinning===!0||Le.isInstancedMesh&&rr.instancingColor===!0&&Le.instanceColor===null||Le.isInstancedMesh&&rr.instancingColor===!1&&Le.instanceColor!==null||Le.isInstancedMesh&&rr.instancingMorph===!0&&Le.morphTexture===null||Le.isInstancedMesh&&rr.instancingMorph===!1&&Le.morphTexture!==null||rr.envMap!==Vt||ze.fog===!0&&rr.fog!==yt||rr.numClippingPlanes!==void 0&&(rr.numClippingPlanes!==rt.numPlanes||rr.numIntersection!==rt.numIntersection)||rr.vertexAlphas!==Nr||rr.vertexTangents!==wr||rr.morphTargets!==lr||rr.morphNormals!==_r||rr.morphColors!==rn||rr.toneMapping!==Er||rr.morphTargetsCount!==ln)&&(zr=!0):(zr=!0,rr.__version=ze.version);let Us=rr.currentProgram;zr===!0&&(Us=Ce(ze,Oe,Le));let Mi=!1,as=!1,hs=!1;const cn=Us.getUniforms(),Sa=rr.uniforms;if(Fe.useProgram(Us.program)&&(Mi=!0,as=!0,hs=!0),ze.id!==C&&(C=ze.id,as=!0),Mi||T!==de){Fe.buffers.depth.getReversed()?(fe.copy(de.projectionMatrix),xie(fe),gie(fe),cn.setValue(se,"projectionMatrix",fe)):cn.setValue(se,"projectionMatrix",de.projectionMatrix),cn.setValue(se,"viewMatrix",de.matrixWorldInverse);const fs=cn.map.cameraPosition;fs!==void 0&&fs.setValue(se,ge.setFromMatrixPosition(de.matrixWorld)),Ae.logarithmicDepthBuffer&&cn.setValue(se,"logDepthBufFC",2/(Math.log(de.far+1)/Math.LN2)),(ze.isMeshPhongMaterial||ze.isMeshToonMaterial||ze.isMeshLambertMaterial||ze.isMeshBasicMaterial||ze.isMeshStandardMaterial||ze.isShaderMaterial)&&cn.setValue(se,"isOrthographic",de.isOrthographicCamera===!0),T!==de&&(T=de,as=!0,hs=!0)}if(Le.isSkinnedMesh){cn.setOptional(se,Le,"bindMatrix"),cn.setOptional(se,Le,"bindMatrixInverse");const Ds=Le.skeleton;Ds&&(Ds.boneTexture===null&&Ds.computeBoneTexture(),cn.setValue(se,"boneTexture",Ds.boneTexture,le))}Le.isBatchedMesh&&(cn.setOptional(se,Le,"batchingTexture"),cn.setValue(se,"batchingTexture",Le._matricesTexture,le),cn.setOptional(se,Le,"batchingIdTexture"),cn.setValue(se,"batchingIdTexture",Le._indirectTexture,le),cn.setOptional(se,Le,"batchingColorTexture"),Le._colorsTexture!==null&&cn.setValue(se,"batchingColorTexture",Le._colorsTexture,le));const _a=We.morphAttributes;if((_a.position!==void 0||_a.normal!==void 0||_a.color!==void 0)&&$t.update(Le,We,Us),(as||rr.receiveShadow!==Le.receiveShadow)&&(rr.receiveShadow=Le.receiveShadow,cn.setValue(se,"receiveShadow",Le.receiveShadow)),ze.isMeshGouraudMaterial&&ze.envMap!==null&&(Sa.envMap.value=Vt,Sa.flipEnvMap.value=Vt.isCubeTexture&&Vt.isRenderTargetTexture===!1?-1:1),ze.isMeshStandardMaterial&&ze.envMap===null&&Oe.environment!==null&&(Sa.envMapIntensity.value=Oe.environmentIntensity),as&&(cn.setValue(se,"toneMappingExposure",A.toneMappingExposure),rr.needsLights&&bt(Sa,hs),yt&&ze.fog===!0&&ft.refreshFogUniforms(Sa,yt),ft.refreshMaterialUniforms(Sa,ze,W,O,b.state.transmissionRenderTarget[de.id]),zw.upload(se,Pe(rr),Sa,le)),ze.isShaderMaterial&&ze.uniformsNeedUpdate===!0&&(zw.upload(se,Pe(rr),Sa,le),ze.uniformsNeedUpdate=!1),ze.isSpriteMaterial&&cn.setValue(se,"center",Le.center),cn.setValue(se,"modelViewMatrix",Le.modelViewMatrix),cn.setValue(se,"normalMatrix",Le.normalMatrix),cn.setValue(se,"modelMatrix",Le.matrixWorld),ze.isShaderMaterial||ze.isRawShaderMaterial){const Ds=ze.uniformsGroups;for(let fs=0,Fl=Ds.length;fs<Fl;fs++){const Jr=Ds[fs];Ne.update(Jr,Us),Ne.bind(Jr,Us)}}return Us}function bt(de,Oe){de.ambientLightColor.needsUpdate=Oe,de.lightProbe.needsUpdate=Oe,de.directionalLights.needsUpdate=Oe,de.directionalLightShadows.needsUpdate=Oe,de.pointLights.needsUpdate=Oe,de.pointLightShadows.needsUpdate=Oe,de.spotLights.needsUpdate=Oe,de.spotLightShadows.needsUpdate=Oe,de.rectAreaLights.needsUpdate=Oe,de.hemisphereLights.needsUpdate=Oe}function lt(de){return de.isMeshLambertMaterial||de.isMeshToonMaterial||de.isMeshPhongMaterial||de.isMeshStandardMaterial||de.isShadowMaterial||de.isShaderMaterial&&de.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(de,Oe,We){$e.get(de.texture).__webglTexture=Oe,$e.get(de.depthTexture).__webglTexture=We;const ze=$e.get(de);ze.__hasExternalTextures=!0,ze.__autoAllocateDepthBuffer=We===void 0,ze.__autoAllocateDepthBuffer||ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ze.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(de,Oe){const We=$e.get(de);We.__webglFramebuffer=Oe,We.__useDefaultFramebuffer=Oe===void 0},this.setRenderTarget=function(de,Oe=0,We=0){R=de,S=Oe,E=We;let ze=!0,Le=null,yt=!1,It=!1;if(de){const Vt=$e.get(de);if(Vt.__useDefaultFramebuffer!==void 0)Fe.bindFramebuffer(se.FRAMEBUFFER,null),ze=!1;else if(Vt.__webglFramebuffer===void 0)le.setupRenderTarget(de);else if(Vt.__hasExternalTextures)le.rebindTextures(de,$e.get(de.texture).__webglTexture,$e.get(de.depthTexture).__webglTexture);else if(de.depthBuffer){const lr=de.depthTexture;if(Vt.__boundDepthTexture!==lr){if(lr!==null&&$e.has(lr)&&(de.width!==lr.image.width||de.height!==lr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");le.setupDepthRenderbuffer(de)}}const Nr=de.texture;(Nr.isData3DTexture||Nr.isDataArrayTexture||Nr.isCompressedArrayTexture)&&(It=!0);const wr=$e.get(de).__webglFramebuffer;de.isWebGLCubeRenderTarget?(Array.isArray(wr[Oe])?Le=wr[Oe][We]:Le=wr[Oe],yt=!0):de.samples>0&&le.useMultisampledRTT(de)===!1?Le=$e.get(de).__webglMultisampledFramebuffer:Array.isArray(wr)?Le=wr[We]:Le=wr,k.copy(de.viewport),P.copy(de.scissor),D=de.scissorTest}else k.copy(re).multiplyScalar(W).floor(),P.copy(U).multiplyScalar(W).floor(),D=Y;if(Fe.bindFramebuffer(se.FRAMEBUFFER,Le)&&ze&&Fe.drawBuffers(de,Le),Fe.viewport(k),Fe.scissor(P),Fe.setScissorTest(D),yt){const Vt=$e.get(de.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,Vt.__webglTexture,We)}else if(It){const Vt=$e.get(de.texture),Nr=Oe||0;se.framebufferTextureLayer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,Vt.__webglTexture,We||0,Nr)}C=-1},this.readRenderTargetPixels=function(de,Oe,We,ze,Le,yt,It){if(!(de&&de.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ft=$e.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&It!==void 0&&(Ft=Ft[It]),Ft){Fe.bindFramebuffer(se.FRAMEBUFFER,Ft);try{const Vt=de.texture,Nr=Vt.format,wr=Vt.type;if(!Ae.textureFormatReadable(Nr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ae.textureTypeReadable(wr)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Oe>=0&&Oe<=de.width-ze&&We>=0&&We<=de.height-Le&&se.readPixels(Oe,We,ze,Le,Bt.convert(Nr),Bt.convert(wr),yt)}finally{const Vt=R!==null?$e.get(R).__webglFramebuffer:null;Fe.bindFramebuffer(se.FRAMEBUFFER,Vt)}}},this.readRenderTargetPixelsAsync=async function(de,Oe,We,ze,Le,yt,It){if(!(de&&de.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ft=$e.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&It!==void 0&&(Ft=Ft[It]),Ft){const Vt=de.texture,Nr=Vt.format,wr=Vt.type;if(!Ae.textureFormatReadable(Nr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ae.textureTypeReadable(wr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Oe>=0&&Oe<=de.width-ze&&We>=0&&We<=de.height-Le){Fe.bindFramebuffer(se.FRAMEBUFFER,Ft);const lr=se.createBuffer();se.bindBuffer(se.PIXEL_PACK_BUFFER,lr),se.bufferData(se.PIXEL_PACK_BUFFER,yt.byteLength,se.STREAM_READ),se.readPixels(Oe,We,ze,Le,Bt.convert(Nr),Bt.convert(wr),0);const _r=R!==null?$e.get(R).__webglFramebuffer:null;Fe.bindFramebuffer(se.FRAMEBUFFER,_r);const rn=se.fenceSync(se.SYNC_GPU_COMMANDS_COMPLETE,0);return se.flush(),await pie(se,rn,4),se.bindBuffer(se.PIXEL_PACK_BUFFER,lr),se.getBufferSubData(se.PIXEL_PACK_BUFFER,0,yt),se.deleteBuffer(lr),se.deleteSync(rn),yt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(de,Oe=null,We=0){de.isTexture!==!0&&(fx("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Oe=arguments[0]||null,de=arguments[1]);const ze=Math.pow(2,-We),Le=Math.floor(de.image.width*ze),yt=Math.floor(de.image.height*ze),It=Oe!==null?Oe.x:0,Ft=Oe!==null?Oe.y:0;le.setTexture2D(de,0),se.copyTexSubImage2D(se.TEXTURE_2D,We,0,0,It,Ft,Le,yt),Fe.unbindTexture()};const ct=se.createFramebuffer(),mt=se.createFramebuffer();this.copyTextureToTexture=function(de,Oe,We=null,ze=null,Le=0,yt=null){de.isTexture!==!0&&(fx("WebGLRenderer: copyTextureToTexture function signature has changed."),ze=arguments[0]||null,de=arguments[1],Oe=arguments[2],yt=arguments[3]||0,We=null),yt===null&&(Le!==0?(fx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),yt=Le,Le=0):yt=0);let It,Ft,Vt,Nr,wr,lr,_r,rn,Er;const Un=de.isCompressedTexture?de.mipmaps[yt]:de.image;if(We!==null)It=We.max.x-We.min.x,Ft=We.max.y-We.min.y,Vt=We.isBox3?We.max.z-We.min.z:1,Nr=We.min.x,wr=We.min.y,lr=We.isBox3?We.min.z:0;else{const _a=Math.pow(2,-Le);It=Math.floor(Un.width*_a),Ft=Math.floor(Un.height*_a),de.isDataArrayTexture?Vt=Un.depth:de.isData3DTexture?Vt=Math.floor(Un.depth*_a):Vt=1,Nr=0,wr=0,lr=0}ze!==null?(_r=ze.x,rn=ze.y,Er=ze.z):(_r=0,rn=0,Er=0);const ln=Bt.convert(Oe.format),rr=Bt.convert(Oe.type);let us;Oe.isData3DTexture?(le.setTexture3D(Oe,0),us=se.TEXTURE_3D):Oe.isDataArrayTexture||Oe.isCompressedArrayTexture?(le.setTexture2DArray(Oe,0),us=se.TEXTURE_2D_ARRAY):(le.setTexture2D(Oe,0),us=se.TEXTURE_2D),se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,Oe.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Oe.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,Oe.unpackAlignment);const zr=se.getParameter(se.UNPACK_ROW_LENGTH),Us=se.getParameter(se.UNPACK_IMAGE_HEIGHT),Mi=se.getParameter(se.UNPACK_SKIP_PIXELS),as=se.getParameter(se.UNPACK_SKIP_ROWS),hs=se.getParameter(se.UNPACK_SKIP_IMAGES);se.pixelStorei(se.UNPACK_ROW_LENGTH,Un.width),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Un.height),se.pixelStorei(se.UNPACK_SKIP_PIXELS,Nr),se.pixelStorei(se.UNPACK_SKIP_ROWS,wr),se.pixelStorei(se.UNPACK_SKIP_IMAGES,lr);const cn=de.isDataArrayTexture||de.isData3DTexture,Sa=Oe.isDataArrayTexture||Oe.isData3DTexture;if(de.isDepthTexture){const _a=$e.get(de),Ds=$e.get(Oe),fs=$e.get(_a.__renderTarget),Fl=$e.get(Ds.__renderTarget);Fe.bindFramebuffer(se.READ_FRAMEBUFFER,fs.__webglFramebuffer),Fe.bindFramebuffer(se.DRAW_FRAMEBUFFER,Fl.__webglFramebuffer);for(let Jr=0;Jr<Vt;Jr++)cn&&(se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,$e.get(de).__webglTexture,Le,lr+Jr),se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,$e.get(Oe).__webglTexture,yt,Er+Jr)),se.blitFramebuffer(Nr,wr,It,Ft,_r,rn,It,Ft,se.DEPTH_BUFFER_BIT,se.NEAREST);Fe.bindFramebuffer(se.READ_FRAMEBUFFER,null),Fe.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else if(Le!==0||de.isRenderTargetTexture||$e.has(de)){const _a=$e.get(de),Ds=$e.get(Oe);Fe.bindFramebuffer(se.READ_FRAMEBUFFER,ct),Fe.bindFramebuffer(se.DRAW_FRAMEBUFFER,mt);for(let fs=0;fs<Vt;fs++)cn?se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,_a.__webglTexture,Le,lr+fs):se.framebufferTexture2D(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,_a.__webglTexture,Le),Sa?se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,Ds.__webglTexture,yt,Er+fs):se.framebufferTexture2D(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,Ds.__webglTexture,yt),Le!==0?se.blitFramebuffer(Nr,wr,It,Ft,_r,rn,It,Ft,se.COLOR_BUFFER_BIT,se.NEAREST):Sa?se.copyTexSubImage3D(us,yt,_r,rn,Er+fs,Nr,wr,It,Ft):se.copyTexSubImage2D(us,yt,_r,rn,Nr,wr,It,Ft);Fe.bindFramebuffer(se.READ_FRAMEBUFFER,null),Fe.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else Sa?de.isDataTexture||de.isData3DTexture?se.texSubImage3D(us,yt,_r,rn,Er,It,Ft,Vt,ln,rr,Un.data):Oe.isCompressedArrayTexture?se.compressedTexSubImage3D(us,yt,_r,rn,Er,It,Ft,Vt,ln,Un.data):se.texSubImage3D(us,yt,_r,rn,Er,It,Ft,Vt,ln,rr,Un):de.isDataTexture?se.texSubImage2D(se.TEXTURE_2D,yt,_r,rn,It,Ft,ln,rr,Un.data):de.isCompressedTexture?se.compressedTexSubImage2D(se.TEXTURE_2D,yt,_r,rn,Un.width,Un.height,ln,Un.data):se.texSubImage2D(se.TEXTURE_2D,yt,_r,rn,It,Ft,ln,rr,Un);se.pixelStorei(se.UNPACK_ROW_LENGTH,zr),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Us),se.pixelStorei(se.UNPACK_SKIP_PIXELS,Mi),se.pixelStorei(se.UNPACK_SKIP_ROWS,as),se.pixelStorei(se.UNPACK_SKIP_IMAGES,hs),yt===0&&Oe.generateMipmaps&&se.generateMipmap(us),Fe.unbindTexture()},this.copyTextureToTexture3D=function(de,Oe,We=null,ze=null,Le=0){return de.isTexture!==!0&&(fx("WebGLRenderer: copyTextureToTexture3D function signature has changed."),We=arguments[0]||null,ze=arguments[1]||null,de=arguments[2],Oe=arguments[3],Le=arguments[4]||0),fx('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(de,Oe,We,ze,Le)},this.initRenderTarget=function(de){$e.get(de).__webglFramebuffer===void 0&&le.setupRenderTarget(de)},this.initTexture=function(de){de.isCubeTexture?le.setTextureCube(de,0):de.isData3DTexture?le.setTexture3D(de,0):de.isDataArrayTexture||de.isCompressedArrayTexture?le.setTexture2DArray(de,0):le.setTexture2D(de,0),Fe.unbindTexture()},this.resetState=function(){S=0,E=0,R=null,Fe.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return fh}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const r=this.getContext();r.drawingBufferColorspace=Tn._getDrawingBufferColorSpace(e),r.unpackColorSpace=Tn._getUnpackColorSpace()}}const Rue=({assignmentType:t,filter:e,setFilter:r})=>{var oe,ut;const[s,a]=L.useState(""),[i,o]=L.useState("due_asc"),[l,c]=L.useState([]),[d,u]=L.useState(0),[h,m]=L.useState(!1),[f,x]=L.useState({}),[v,g]=L.useState(!1),[b,N]=L.useState("6"),[w,A]=L.useState("math"),[j,S]=L.useState("mcq"),[E,R]=L.useState({}),[C,T]=L.useState(null),[k,P]=L.useState(!1),D=L.useRef(null),H=L.useRef(null),F=L.useRef(null),z=L.useRef(null),O=L.useRef(null),[W,ee]=L.useState({rotation:0,zoom:1,lightIntensity:1}),K=[{id:1,title:"Geometry Project",course:"Mathematics",dueDate:"2025-06-20",status:"pending",priority:"high",description:"Design and explain properties of different types of triangles",submissionType:"file",maxMarks:100},{id:2,title:"Essay Writing Assignment",course:"English",dueDate:"2025-06-18",status:"completed",priority:"medium",description:"Write an essay on the importance of environmental conservation",submissionType:"text",maxMarks:80},{id:3,title:"Science Lab Report",course:"Chemistry",dueDate:"2025-06-15",status:"overdue",priority:"high",description:"Analyze the results of the acid-base titration experiment",submissionType:"file",maxMarks:90}],re={6:{math:{mcq:[{q:"What is 7+5?",o:["10","11","12","13"],a:"12",e:"Simple addition"},{q:"What is 8*6?",o:["42","48","54","56"],a:"48",e:"Multiplication"}],blank:[{q:"Fill in the blank: 9 - 4 = ___",a:"5",e:"Simple subtraction"}]},science:{mcq:[{q:"What planet is closest to the Sun?",o:["Venus","Mercury","Earth","Mars"],a:"Mercury",e:"Mercury is the closest planet to the Sun"}],blank:[{q:"The process by which plants make food is called ___",a:"photosynthesis",e:"Plants use sunlight to make food"}]}},7:{math:{mcq:[{q:"What is 12*7?",o:["82","84","86","88"],a:"84",e:"Multiplication"},{q:"What is 15/3?",o:["3","4","5","6"],a:"5",e:"Division"}],blank:[{q:"Fill in the blank: 16 + 9 = ___",a:"25",e:"Simple addition"}]},science:{mcq:[{q:"What is the chemical symbol for gold?",o:["Go","Gd","Au","Ag"],a:"Au",e:"Gold has the chemical symbol Au"}],blank:[{q:"The largest organ in the human body is the ___",a:"skin",e:"Skin is the largest organ"}]}}},U=se=>{switch(se){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"overdue":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},Y=se=>{switch(se){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-green-500";default:return"border-l-gray-500"}},V=se=>{switch(se){case"completed":return n.jsx(Dr,{className:"w-5 h-5 text-green-600"});case"overdue":return n.jsx(Zr,{className:"w-5 h-5 text-red-600"});default:return n.jsx(nr,{className:"w-5 h-5 text-yellow-600"})}},Z=se=>new Date(se).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ce=se=>{const J=new Date,Ae=new Date(se)-J;return Math.ceil(Ae/(1e3*60*60*24))},fe=K.filter(se=>se.title.toLowerCase().includes(s.toLowerCase())||se.course.toLowerCase().includes(s.toLowerCase())||se.description.toLowerCase().includes(s.toLowerCase())?e==="all"?!0:e==="pending"?se.status==="pending":e==="completed"?se.status==="completed":e==="overdue"?se.status==="overdue":!0:!1).sort((se,J)=>{const ie={high:3,medium:2,low:1},Ae={overdue:3,pending:2,completed:1};return i==="due_asc"?new Date(se.dueDate)-new Date(J.dueDate):i==="due_desc"?new Date(J.dueDate)-new Date(se.dueDate):i==="priority"?(ie[J.priority]||0)-(ie[se.priority]||0):i==="status"?(Ae[J.status]||0)-(Ae[se.status]||0):0});L.useEffect(()=>{if(t!=="lab"){O.current&&cancelAnimationFrame(O.current),H.current&&(H.current.dispose(),H.current=null);return}if(!D.current)return;const se=new zie;se.background=new Mn(16119285),F.current=se;const J=new cc(75,D.current.clientWidth/D.current.clientHeight,.1,1e3);J.position.set(0,5,10),z.current=J;const ie=new Due({antialias:!0});ie.setSize(D.current.clientWidth,D.current.clientHeight),ie.shadowMap.enabled=!0,ie.shadowMap.type=EW,H.current=ie,D.current.appendChild(ie.domElement);const Ae=new Yie(4210752,.6);se.add(Ae);const Fe=new Xie(16777215,W.lightIntensity);Fe.position.set(5,10,5),Fe.castShadow=!0,se.add(Fe);const Ie=new Rg(2,2,2),$e=new hR({color:65280}),le=new sd(Ie,$e);le.castShadow=!0,se.add(le);const ae=new a1(20,20),_e=new hR({color:13421772}),qe=new sd(ae,_e);qe.rotation.x=-Math.PI/2,qe.position.y=-2,qe.receiveShadow=!0,se.add(qe);const Ke=()=>{O.current=requestAnimationFrame(Ke),le.rotation.x+=.01,le.rotation.y+=.01,le.rotation.z=W.rotation*Math.PI/180,J.position.z=10/W.zoom,Fe.intensity=W.lightIntensity,ie.render(se,J)};Ke();const et=()=>{if(!D.current)return;const Tt=D.current.clientWidth,ft=D.current.clientHeight;J.aspect=Tt/ft,J.updateProjectionMatrix(),ie.setSize(Tt,ft)};return window.addEventListener("resize",et),()=>{var Tt;window.removeEventListener("resize",et),O.current&&cancelAnimationFrame(O.current),H.current&&((Tt=D.current)==null||Tt.removeChild(ie.domElement),H.current.dispose())}},[t,W]);const ye=(se,J)=>{R(ie=>({...ie,[se]:J}))},ge=()=>{var Fe,Ie;const se=((Ie=(Fe=re[b])==null?void 0:Fe[w])==null?void 0:Ie[j])||[];let J=0;const ie={};if(se.forEach(($e,le)=>{const _e=(E[le]||"").toLowerCase().trim()===$e.a.toLowerCase().trim();ie[le]=_e,_e&&J++}),T(ie),Math.round(J/se.length*100)>=70){CW(10);const $e=document.createElement("div");$e.className="fixed top-20 right-6 bg-emerald-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce z-50",$e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 10.05a7 7 0 0 1 9.9 0l10 10"></path><path d="M13 13h8"></path></svg><span>+10 Points</span>',document.body.appendChild($e),setTimeout(()=>document.body.removeChild($e),1800)}};L.useEffect(()=>{if(t!=="flashcard")return;const se=J=>{J.key===" "&&(J.preventDefault(),m(!h))};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[h,t]);const we=({array:se=[],insight:J,setInsight:ie})=>{const[Ae,Fe]=L.useState({}),[Ie,$e]=L.useState(!1);return n.jsxs("div",{className:"space-y-6",children:[se.map((le,ae)=>n.jsx("div",{className:"mb-5",children:n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"shrink-0 w-7 h-7 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-sm font-semibold",children:ae+1}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:le.q}),n.jsx("div",{className:"mt-4 space-y-2",children:le.o.map((_e,qe)=>n.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[n.jsx("input",{type:"radio",name:`q${ae}`,value:_e,checked:Ae[ae]===_e,onChange:Ke=>Fe(et=>({...et,[ae]:Ke.target.value})),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-gray-700",children:_e})]},qe))}),Ie&&Ae[ae]&&n.jsxs("div",{className:`mt-3 rounded-lg border p-3 text-sm ${Ae[ae]===le.a?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[n.jsxs("div",{className:Ae[ae]===le.a?"text-green-800":"text-red-800",children:[n.jsx("span",{className:"font-semibold",children:"Your answer:"})," ",Ae[ae]," ",Ae[ae]===le.a?"":""]}),Ae[ae]!==le.a&&n.jsxs("div",{className:"text-green-800 mt-1",children:[n.jsx("span",{className:"font-semibold",children:"Correct answer:"})," ",le.a]}),le.e&&n.jsxs("div",{className:"text-gray-700 mt-1",children:[n.jsx("span",{className:"font-semibold",children:"Explanation:"})," ",le.e]})]})]})]})})})},ae)),n.jsx("div",{className:"flex gap-3",children:n.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:()=>$e(!Ie),children:Ie?"Hide Results":"Check Answers"})})]})},Re=({array:se=[],insight:J,setInsight:ie})=>n.jsx("div",{className:"space-y-6",children:se.map((Ae,Fe)=>n.jsx("div",{className:"mb-5",children:n.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"shrink-0 w-7 h-7 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-sm font-semibold",children:Fe+1}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:Ae.q}),n.jsx("div",{className:"mt-3",children:n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Type your answer here...",value:E[Fe]||"",onChange:Ie=>ye(Fe,Ie.target.value)})}),k&&n.jsxs("div",{className:"mt-3 rounded-lg bg-green-50 border border-green-200 p-3 text-sm",children:[n.jsxs("div",{className:"text-green-800",children:[n.jsx("span",{className:"font-semibold",children:"Answer:"})," ",Ae.a]}),Ae.e&&n.jsxs("div",{className:"text-green-700 mt-1",children:[n.jsx("span",{className:"font-semibold",children:"Explanation:"})," ",Ae.e]})]})]})]})})})},Fe))});return t==="school"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-3",children:[n.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[n.jsx(In,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),n.jsx("input",{value:s,onChange:se=>a(se.target.value),placeholder:"Search title, course, or description...",className:"w-full pl-9 pr-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),n.jsxs("select",{value:i,onChange:se=>o(se.target.value),className:"w-full md:w-auto px-3 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[n.jsx("option",{value:"due_asc",children:"Sort by Due (Earliest)"}),n.jsx("option",{value:"due_desc",children:"Sort by Due (Latest)"}),n.jsx("option",{value:"priority",children:"Sort by Priority"}),n.jsx("option",{value:"status",children:"Sort by Status"})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["all","pending","completed","overdue"].map(se=>n.jsx("button",{onClick:()=>r(se),className:`px-3 py-1.5 rounded-full text-sm font-medium capitalize border transition ${e===se?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:se},se))})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6",children:[n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.length})]}),n.jsx(jr,{className:"w-8 h-8 text-blue-600"})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:K.filter(se=>se.status==="pending").length})]}),n.jsx(nr,{className:"w-8 h-8 text-yellow-600"})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:K.filter(se=>se.status==="completed").length})]}),n.jsx(Dr,{className:"w-8 h-8 text-green-600"})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:K.filter(se=>se.status==="overdue").length})]}),n.jsx(Zr,{className:"w-8 h-8 text-red-600"})]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:fe.map(se=>{const J=ce(se.dueDate),ie=J<0?`${Math.abs(J)} days overdue`:`${J} days remaining`,Ae=J<0?"text-red-600 bg-red-50 border-red-200":J<=3?"text-amber-700 bg-amber-50 border-amber-200":"text-green-700 bg-green-50 border-green-200";return n.jsxs("div",{className:`bg-white rounded-xl border shadow-sm hover:shadow-md transition overflow-hidden ${Y(se.priority)}`,children:[n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[V(se.status),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:se.title})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize border ${U(se.status)}`,children:se.status})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-sm text-gray-700",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(BN,{className:"w-4 h-4"}),se.course]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(Kt,{className:"w-4 h-4"}),"Due: ",Z(se.dueDate)]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:["Max Marks: ",se.maxMarks]})]}),n.jsx("p",{className:"mt-3 text-gray-700 line-clamp-3",children:se.description})]}),n.jsx("div",{className:"px-5 pb-5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded border text-xs font-medium ${Ae}`,children:ie}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Submission: ",se.submissionType]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[se.status==="pending"&&n.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Submit"}),n.jsxs("button",{className:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm inline-flex items-center gap-1",children:[n.jsx(tn,{className:"w-4 h-4"}),"Download"]})]})]})})]},se.id)})}),fe.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No assignments found."})})]}):t==="flashcard"?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-3",children:[n.jsx("label",{htmlFor:"fcClass",className:"font-medium text-gray-700",children:"Class:"}),n.jsxs("select",{id:"fcClass",value:b,onChange:se=>N(se.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"6",children:"Class 6"}),n.jsx("option",{value:"7",children:"Class 7"}),n.jsx("option",{value:"8",children:"Class 8"}),n.jsx("option",{value:"9",children:"Class 9"}),n.jsx("option",{value:"10",children:"Class 10"})]})]}),n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-gray-600",children:"Flashcard functionality coming soon!"})})]}):t==="eec"?n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative",children:[n.jsx("div",{className:"p-6 sm:p-7 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"EEC Practice Paper"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Challenge yourself with curated questions"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{value:b,onChange:se=>N(se.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[n.jsx("option",{value:"6",children:"Class 6"}),n.jsx("option",{value:"7",children:"Class 7"})]}),n.jsx("select",{value:w,onChange:se=>A(se.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:n.jsx("option",{value:"math",children:"Math"})}),n.jsxs("select",{value:j,onChange:se=>S(se.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[n.jsx("option",{value:"mcq",children:"Multiple Choice"}),n.jsx("option",{value:"blank",children:"Fill in the Blank"})]})]})]})}),n.jsx("div",{className:"p-6 sm:p-7",children:j==="mcq"?n.jsx(we,{array:(oe=re[b][w])==null?void 0:oe.mcq}):n.jsx(Re,{array:(ut=re[b][w])==null?void 0:ut.blank})}),n.jsxs("div",{className:"p-6 sm:p-7 bg-gray-50 border-t border-gray-200 flex flex-wrap gap-3",children:[n.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",onClick:ge,children:"Submit Answers"}),n.jsx("button",{className:`px-4 py-2 rounded-lg border ${k?"border-green-600 text-green-700 hover:bg-green-50":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,onClick:()=>{T(null),P(!k)},children:k?"Hide Explanations":"Show Explanations"})]})]}):t==="lab"?n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Virtual Lab"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Explore interactive 3D models and simulations for enhanced learning"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"3D Model Viewer"}),n.jsx("div",{ref:D,className:"w-full h-96 bg-gray-50 rounded-lg border border-gray-200 overflow-hidden"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lab Controls"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Model Rotation (",Math.round(W.rotation),")"]}),n.jsx("input",{type:"range",min:"0",max:"360",value:W.rotation,onChange:se=>ee(J=>({...J,rotation:parseInt(se.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Zoom Level (",W.zoom.toFixed(1),"x)"]}),n.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:W.zoom,onChange:se=>ee(J=>({...J,zoom:parseFloat(se.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Light Intensity (",W.lightIntensity.toFixed(1),")"]}),n.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:W.lightIntensity,onChange:se=>ee(J=>({...J,lightIntensity:parseFloat(se.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Lab Instructions"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:" Use the controls to manipulate the 3D model"}),n.jsx("li",{children:" Adjust rotation to view from different angles"}),n.jsx("li",{children:" Change zoom to examine details closely"}),n.jsx("li",{children:" Modify lighting for better visibility"})]})]})]})]})]}):null},UR=["The sky is blue.","Cats can fly.","Water boils at 100C.","The earth is flat.","West Bengal is a country.","The sun rises in the east.","Fish can breathe underwater.","Mount Everest is the tallest mountain."];function Lue(){const[t,e]=L.useState(Array(UR.length).fill(null)),r=(s,a)=>{e(i=>{const o=[...i];return o[s]=a,o})};return n.jsxs("div",{className:"max-w-2xl mx-auto mt-10 bg-white-100 rounded-xl shadow-lg p-8 border border-purple-500",children:[n.jsx("h2",{className:"text-2xl font-bold text-black mb-6 text-center",children:"Choice Matrix"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2 px-4 text-black text-lg",children:"Statement"}),n.jsx("th",{className:"py-2 px-4 text-black text-lg text-center",children:"True"}),n.jsx("th",{className:"py-2 px-4 text-black text-lg text-center",children:"False"})]})}),n.jsx("tbody",{children:UR.map((s,a)=>n.jsxs("tr",{className:"border-b border-purple-100",children:[n.jsx("td",{className:"py-3 px-4 text-black",children:s}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("input",{type:"radio",id:`true-${a}`,name:`choice-${a}`,checked:t[a]===!0,onChange:()=>r(a,!0),className:"accent-purple-500 w-5 h-5"})}),n.jsx("td",{className:"py-3 px-4 text-center",children:n.jsx("input",{type:"radio",id:`false-${a}`,name:`choice-${a}`,checked:t[a]===!1,onChange:()=>r(a,!1),className:"accent-purple-500 w-5 h-5"})})]},a))})]})})]})}function Oue(){const[t,e]=L.useState([{question:"There are several different types of drums. The ${{blank}} drum is a long bodied drum typically held between the knees and played with the fingers. A drum with small metal disc around the edge played by being shaken is a ${{blank}}. Many years ago, a ${{blank}} drum was used to announce an army's arrival onto a battlefield. Finally, the biggest drum in a marching band is called a ${{blank}} drum.",options:["snare","bass","tom-tom","cymbal"],hint:["hint1","hint2","hint3","hint4"]}]),[r,s]=L.useState("down");return n.jsxs("section",{className:`${r=="left"||r=="right"?"w-[80vw]":"w-[60vw]"} m-auto flex flex-col items-center gap-3 pt-10`,children:[n.jsxs("div",{className:" top-2 right-2 flex gap-2 items-center",children:[n.jsx("label",{className:"text-purple-500",children:"Option Position:"}),n.jsxs("select",{name:"",id:"",className:"border-2 border-purple-500 p-2 rounded-xl",onChange:a=>s(a.target.value),children:[n.jsx("option",{value:"",hidden:!0,children:"Select Option Position"}),n.jsx("option",{value:"up",children:"Up"}),n.jsx("option",{value:"down",children:"Down"}),n.jsx("option",{value:"left",children:"Left"}),n.jsx("option",{value:"right",children:"Right"})]})]}),t.map((a,i)=>n.jsx(Iue,{question:a,optionPos:r},i))]})}function Iue({question:t,optionPos:e}){const r=t.question.split("${{blank}}"),[s,a]=L.useState(t.options),i=L.useRef([]),[o,l]=L.useState(s.map(()=>({show:!1,value:"",showHint:!1})));return n.jsxs("div",{className:`w-3/4 border flex ${e=="down"?"flex-col":e=="left"?"flex-row-reverse":e=="right"?"flex-row":"flex-col-reverse"} items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-l`,children:[n.jsx("div",{children:r.map((m,f)=>n.jsxs(Ue.Fragment,{children:[n.jsx("span",{className:"select-none text-black",children:m}),f<r.length-1?n.jsx("span",{ref:x=>i.current[f]=x,onDragOver:x=>x.preventDefault(),onDrop:x=>{const v=x.dataTransfer.getData("text"),g=[...o];g[f].show||(g[f].show=!0,g[f].value=v,l([...g]),a(s.filter(b=>b!==v)))},className:`inline-block px-4 py-1 min-w-15 min-h-7 border-dashed border-3 border-black ${o[f].show?"border-purple-400":""}`,children:o[f].show?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"text-black",children:o[f].value}),n.jsx("button",{onClick:()=>{const x=[...o];x[f].show=!1,l([...x]),a([...s,o[f].value])},className:"bg-gray-200 px-2 rounded-md cursor-pointer",children:"x"})]}):n.jsxs("div",{className:"relative",children:[n.jsx(Yb,{className:"w-4 m-auto cursor-pointer",onClick:()=>{const x=[...o];x[f].showHint=!x[f].showHint,l([...x])}}),o[f].showHint&&n.jsxs("div",{className:"bg-yellow-100 p-2 absolute left-1/2 -translate-x-1/2 top-full z-10 border-1 border-black min-w-50 rounded-lg",children:[n.jsx("div",{className:"w-0 h-0 border-b-[15px] border-l-[7px] border-r-[7px] border-b-yellow-100 border-l-transparent border-r-transparent absolute left-1/2 -translate-x-1/2 bottom-full"}),n.jsx("p",{className:"text-xs",children:t.hint[f]})]})]})}):""]},f))}),n.jsxs("div",{className:"w-full relative",children:[n.jsx("div",{className:`absolute ${e=="up"?"-bottom-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-t-[30px] border-t-yellow-100 border-b-0":e=="left"?"-right-4 top-1/2 -translate-y-1/2 border-t-[15px] border-t-transparent border-b-[15px] border-b-transparent border-l-[30px] border-l-yellow-100 border-r-0":e=="right"?"-left-4 top-1/2 -translate-y-1/2 border-t-[15px] border-t-transparent border-b-[15px] border-b-transparent border-r-[30px] border-r-yellow-100 border-l-0":"-top-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-b-[30px] border-b-yellow-100 border-t-0"} w-5 h-5`}),n.jsx("div",{className:`bg-yellow-100 w-full flex ${e!="up"&&e!="down"?"flex-col":""} items-center justify-center gap-2 p-5 rounded-xl`,children:s.map((m,f)=>n.jsx("div",{draggable:!0,onDragStart:x=>x.dataTransfer.setData("text",x.currentTarget.innerText),className:"bg-gray-200 px-5 py-2 rounded-lg cursor-grab border border-purple-300 hover:border-purple-500 text-black",children:m},f))})]})]})}function Fue(){const[t,e]=L.useState([{question:"Yesterday, we ${{input}} to the store. Tomorrow we ${{input}} to school.",options:[["go","went","gone"],["go","will go","going"]]}]);return n.jsx("section",{className:"m-auto flex flex-col items-center gap-3 pt-10",children:t.map((r,s)=>n.jsx(Bue,{question:r.question,options:r.options},s))})}function Bue({question:t,options:e}){const r=t.split("${{input}}");return n.jsxs("div",{className:"w-3/4 border flex flex-col items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-black self-start",children:"Fill in the blanks from the drop down:"}),n.jsx("div",{children:r.map((s,a)=>n.jsxs(Ue.Fragment,{children:[n.jsx("span",{className:"select-none text-black",children:s}),a<r.length-1&&n.jsxs("select",{className:"border-2 p-2 border-purple-500 focus:outline-none w-24 text-black",children:[n.jsx("option",{value:"",hidden:!0}),e[a].map((i,o)=>n.jsx("option",{value:i,className:"text-black",children:i},o))]})]},a))})]})}function Uue(){const[t,e]=L.useState(["We the ${{input}} of the United States, in order to form a more ${{input}}, establish justice, insure domestic tranquility, provide for the common defense, promote the ${{input}}, and secure the blessings of liberty to ourselves and our posterity, do ordain and establish ${{input}} for the United States of America."]);return n.jsx("section",{className:"m-auto flex flex-col items-center gap-3 pt-10",children:t.map((r,s)=>n.jsx(zue,{question:r},s))})}function zue({question:t}){const e=t.split("${{input}}");return n.jsxs("div",{className:"w-3/4 border flex flex-col items-center justify-center gap-5 border-purple-500 p-8 rounded-xl shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-black self-start",children:"Fill in the blanks to complete the passage:"}),n.jsx("div",{children:e.map((r,s)=>n.jsxs(Ue.Fragment,{children:[n.jsx("span",{className:"select-none text-black",children:r}),s<e.length-1&&n.jsx("input",{type:"text",className:"border-2 pl-2 border-purple-500 focus:outline-none w-24 text-black"})]},s))})]})}function $ue(){const[t,e]=L.useState(null),[r,s]=L.useState(null),a=o=>{const l=o.target.files[0];if(e(l),l&&l.type.startsWith("image")){const c=new FileReader;c.onloadend=()=>{s(c.result)},c.readAsDataURL(l)}else s(null)},i=o=>{if(o.preventDefault(),!t){alert("Please select a file first!");return}alert(`Selected file: ${t.name}`)};return n.jsxs("div",{className:"max-w-lg mx-auto mt-12 bg-white p-8 rounded-xl shadow-md border border-purple-300",children:[n.jsx("h2",{className:"text-2xl font-bold text-center text-black mb-6",children:"Upload a File"}),n.jsxs("form",{onSubmit:i,className:"space-y-6",children:[n.jsxs("div",{className:"border-2 border-dashed border-purple-400 rounded-lg p-6 text-center hover:bg-purple-50 transition cursor-pointer",children:[n.jsxs("label",{htmlFor:"fileInput",className:"block cursor-pointer",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-purple-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4a2 2 0 012-2h6a2 2 0 012 2v12m-5 4h.01M12 20v-4"})}),n.jsx("span",{className:"text-sm text-black",children:"Click to browse or drag & drop a file"})]}),n.jsx("input",{id:"fileInput",type:"file",onChange:a,className:"hidden"})]}),t&&n.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-3 rounded-md text-sm text-black",children:[n.jsx("span",{className:"font-medium",children:t.name}),n.jsxs("span",{className:"text-black text-xs",children:[(t.size/1024).toFixed(2)," KB"]})]}),r&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm text-black mb-1",children:"Preview:"}),n.jsx("img",{src:r,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border"})]}),n.jsx("div",{children:n.jsx("h3",{className:"text-sm text-black text-center mt-2",children:"JPG, GIF, PNG, and PDF files are supported."})}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"submit",className:"px-6 py-2 bg-purple-600 text-white font-semibold rounded-md hover:bg-purple-700 transition",children:"Upload File"})})]})]})}function Hue(){const[t,e]=L.useState(null),[r,s]=L.useState("#22c55e"),[a,i]=L.useState([]),[o,l]=L.useState([]),[c,d]=L.useState([]),u=L.useRef(null),h=L.useRef(null),m=L.useRef(!1),f=L.useRef([]),x=()=>{const C=h.current;console.log(C);const T=u.current;C&&T&&(T.width=C.width,T.height=C.height)};L.useEffect(()=>{t&&h.current&&(h.current.onload=()=>{x()})},[t]);const v=C=>{const T=C.target.files[0];if(!T||!T.type.startsWith("image"))return;const k=new FileReader;k.onloadend=()=>e(k.result),k.readAsDataURL(T)},g=C=>{const T=u.current.getBoundingClientRect();return{x:C.clientX-T.left,y:C.clientY-T.top}},b=C=>{m.current=!0,f.current=[];const{x:T,y:k}=g(C);f.current.push({x:T,y:k,color:r})},N=C=>{if(!m.current)return;const{x:T,y:k}=g(C);f.current.push({x:T,y:k,color:r}),A([...c,f.current])},w=()=>{m.current&&(m.current=!1,d(C=>{const T=[...C,f.current];return i(T),l([]),T}))},A=C=>{const T=u.current,k=T.getContext("2d");k.clearRect(0,0,T.width,T.height),C.forEach(P=>{if(!(P.length<2)){k.beginPath(),k.moveTo(P[0].x,P[0].y);for(let D=1;D<P.length;D++)k.lineTo(P[D].x,P[D].y);k.strokeStyle=P[0].color,k.lineWidth=4,k.lineCap="round",k.lineJoin="round",k.shadowColor="rgba(0,0,0,0.1)",k.shadowBlur=1,k.stroke()}})},j=()=>{if(c.length===0)return;const C=[...c],T=C.pop();d(C),l(k=>[...k,T]),i(C),A(C)},S=()=>{if(o.length===0)return;const C=[...o],T=C.pop(),k=[...c,T];d(k),l(C),i(k),A(k)},E=()=>{d([]),i([]),l([]),u.current.getContext("2d").clearRect(0,0,u.current.width,u.current.height)},R=()=>{const C=document.createElement("canvas"),T=u.current.width,k=u.current.height;C.width=T,C.height=k;const P=C.getContext("2d"),D=new Image;D.src=t,D.onload=()=>{P.drawImage(D,0,0,T,k),P.drawImage(u.current,0,0);const H=document.createElement("a");H.download="highlighted-image.png",H.href=C.toDataURL(),H.click()}};return n.jsxs("div",{className:"max-w-lg mx-auto mt-5 bg-white p-8 rounded-xl shadow-md border border-purple-300",children:[n.jsx("h2",{className:"text-3xl font-bold text-black text-center mb-6",children:"Student Image Highlighter"}),n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"block w-full max-w-sm text-sm border rounded-md file:bg-purple-600 file:text-white file:px-4 file:py-2 file:border-0 file:rounded-lg file:cursor-pointer hover:file:bg-purple-700"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-black text-lg font-semibold",children:"Draw on the image:"}),n.jsxs("p",{children:[n.jsx("span",{className:"text-black font-medium",children:"Green"})," = Healthy,",n.jsx("span",{className:"text-black font-medium ml-2",children:"Red"})," = Unhealthy"]})]}),t&&n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>s("#22c55e"),className:`px-4 py-2 rounded ${r==="#22c55e"?"bg-green-600 text-white":"bg-green-100 text-green-800 hover:bg-green-200"}`,children:" Green"}),n.jsx("button",{onClick:()=>s("#ef4444"),className:`px-4 py-2 rounded ${r==="#ef4444"?"bg-red-600 text-white":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:" Red"})]}),t&&n.jsxs("div",{className:"relative border-2 border-purple-400 rounded-xl shadow-xl overflow-hidden",children:[n.jsx("img",{ref:h,src:t,alt:"To annotate",width:300,height:400,className:"block h-auto",onLoad:x}),n.jsx("canvas",{ref:u,className:"absolute top-0 left-0",onMouseDown:b,onMouseMove:N,onMouseUp:w,onMouseLeave:w})]}),t&&n.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[n.jsx("button",{onClick:j,className:"px-4 py-2 bg-yellow-300 hover:bg-yellow-400 rounded shadow",children:" Undo"}),n.jsx("button",{onClick:S,className:"px-4 py-2 bg-yellow-300 hover:bg-yellow-400 rounded shadow",children:" Redo"}),n.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded shadow",children:" Clear"}),n.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded shadow",children:" Save"})]})]})]})}function Wue(){const[t,e]=Ue.useState([{items:["Car","Plane","Lake"],pairs:["Drive","Fly","Swim"]}]);return n.jsx("section",{className:"w-[60vw] flex flex-col m-auto mt-10",children:t.map((r,s)=>n.jsx(que,{items:r.items,pairs:r.pairs},s))})}function que({items:t,pairs:e}){const[r,s]=L.useState(e),[a,i]=L.useState(t.map(()=>({show:!1,value:""})));return n.jsxs("div",{className:"w-full flex flex-col items-center gap-5",children:[n.jsx("h2",{className:"font-bold text-2xl text-black",children:"Match Items"}),n.jsx("div",{className:`w-3/4 grid grid-cols-3 grid-rows-${t.length} gap-y-3`,children:t.map((o,l)=>n.jsxs("div",{className:"contents",children:[n.jsx("p",{className:"min-h-10 p-2 min-w-10 rounded-lg border box-border border-purple-500 text-black",children:o}),n.jsx("hr",{className:"self-center"},`line-${l}`),n.jsx("p",{className:`min-h-10 p-2 min-w-10 rounded-lg border border-gray-300 box-border ${a[l].show?"bg-yellow-100 flex justify-between border-purple-500":""} text-black`,onDragOver:c=>c.preventDefault(),onDrop:c=>{const d=c.dataTransfer.getData("text"),u=[...a];u[l].show=!0,u[l].value=d,i([...u]),s(r.filter(h=>h!==d))},children:a[l].show?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-black",children:a[l].value}),n.jsx("button",{onClick:()=>{const c=[...a];c[l].show=!1,s([...r,c[l].value]),i([...c])},className:"bg-gray-200 px-2 rounded-md cursor-pointer",children:"x"})]}):""})]},l))}),n.jsxs("div",{className:"w-full relative",children:[n.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-b-[30px] border-b-yellow-100 border-t-0 w-5 h-5"}),n.jsx("div",{className:"bg-yellow-100 w-full flex items-center justify-center gap-2 p-5 rounded-xl",children:r.map((o,l)=>n.jsx("div",{draggable:!0,onDragStart:c=>c.dataTransfer.setData("text",c.currentTarget.innerText),className:"bg-gray-200 px-5 py-2 rounded-lg cursor-grab border border-purple-300 hover:border-purple-500 text-black",children:o},l))})]})]})}const zR=[{question:"What is the capital of France?",options:["Berlin","Madrid","Paris","Rome"],answer:2},{question:"Which planet is known as the Red Planet?",options:["Earth","Mars","Jupiter","Saturn"],answer:1},{question:"Who wrote 'To Kill a Mockingbird'?",options:["Harper Lee","Mark Twain","J.K. Rowling","Jane Austen"],answer:0}],Gue=["A","B","C","D"];function Vue(){const[t,e]=L.useState(0),[r,s]=L.useState(null),[a,i]=L.useState("standard"),o=u=>{s(u)},l=()=>{e(u=>u+1),s(null)},c=u=>{i(u.target.value),s(null)},d=zR[t];return n.jsxs("div",{className:"max-w-xl mx-auto mt-10 bg-white-100 rounded-xl shadow-lg p-8 border border-purple-500",children:[n.jsxs("div",{className:"flex justify-end mb-4",children:[n.jsx("label",{className:"mr-2 text-purple-700 font-medium",children:"Theme:"}),n.jsxs("select",{value:a,onChange:c,className:"border border-purple-300 rounded px-2 py-1 focus:outline-none",children:[n.jsx("option",{value:"standard",children:"Standard"}),n.jsx("option",{value:"block",children:"Block"}),n.jsx("option",{value:"radio",children:"Radio Button"})]})]}),n.jsx("h2",{className:"text-2xl font-bold text-black mb-6 text-center",children:"MCQ"}),n.jsxs("div",{className:`mb-4 w-full flex ${a==="radio"?"justify-center":"justify-start"} items-center`,children:[n.jsxs("span",{className:"text-lg font-medium text-black",children:["Q",t+1,":"]}),n.jsx("span",{className:"ml-2 text-lg text-black",children:d.question})]}),a==="standard"?n.jsx("ul",{className:"space-y-3 mb-6 list-disc list-inside",children:d.options.map((u,h)=>{const m=r===h;return n.jsxs("li",{className:`flex items-center ${m?"bg-yellow-100":""} p-3 rounded-lg`,children:[n.jsx("input",{type:"radio",id:`option-${h}`,name:"mcq-option",checked:m,onChange:()=>o(h),className:"accent-purple-500 mr-3 w-5 h-5"}),n.jsx("label",{htmlFor:`option-${h}`,className:`cursor-pointer text-lg ${m?"font-semibold":""} text-black`,children:u})]},h)})}):a==="block"?n.jsx("div",{className:"space-y-3 mb-6",children:d.options.map((u,h)=>{const m=r===h;return n.jsxs("button",{onClick:()=>o(h),className:`w-full flex items-center text-left px-5 py-3 rounded-lg border transition-all duration-200 focus:outline-none
                  bg-gray-50 border-gray-200
                  ${m?"bg-yellow-100 border-yellow-300 font-semibold":"hover:bg-purple-50 hover:border-purple-300"}
                `,children:[n.jsxs("span",{className:"mr-4 font-bold text-black",children:[Gue[h],"."]}),u]},h)})}):n.jsx("ul",{className:"space-y-3 mb-6 list-disc list-inside ou",children:d.options.map((u,h)=>{const m=r===h;return n.jsxs("li",{className:`flex flex-col-reverse items-center ${m?"bg-yellow-100":""} p-3 rounded-lg`,children:[n.jsx("input",{type:"radio",id:`option-${h}`,name:"mcq-option",checked:m,onChange:()=>o(h),className:"accent-purple-500 mr-3 w-5 h-5"}),n.jsx("label",{htmlFor:`option-${h}`,className:`cursor-pointer text-lg ${m?"font-semibold":""} text-black`,children:u})]},h)})}),n.jsx("div",{className:"flex justify-end",children:t<zR.length-1?n.jsx("button",{onClick:l,className:"px-6 py-2 bg-purple-500 text-white rounded-lg shadow hover:bg-purple-600 transition-all disabled:opacity-50",children:"Next"}):r!==null&&n.jsx("span",{className:"text-xl font-semibold text-purple-700"})})]})}const f_=1e4,Xue=()=>{const[t,e]=L.useState(""),[r,s]=L.useState(!1),a=L.useRef(null),i=u=>u.trim().length===0?0:u.trim().split(/\s+/).length,o=u=>{const h=u.target.value;i(h)<=f_&&e(h)},l=()=>{a.current&&(a.current.select(),navigator.clipboard.writeText(a.current.value),s(!0),setTimeout(()=>s(!1),2e3))},c=()=>{a.current&&(a.current.select(),navigator.clipboard.writeText(a.current.value),e(""))},d=async()=>{const u=await navigator.clipboard.readText(),h=t+" "+u;i(h)<=f_?e(h):alert("Pasting this text will exceed the 10,000 word limit.")};return n.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-black",children:"Text Editor"}),n.jsxs("div",{className:"flex gap-2 mb-3",children:[n.jsx("button",{onClick:l,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Copy"}),n.jsx("button",{onClick:c,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Cut"}),n.jsx("button",{onClick:d,className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Paste"})]}),n.jsx("textarea",{ref:a,value:t,onChange:o,rows:12,className:"w-full border rounded p-3 text-sm resize-none focus:outline-none focus:ring-1 focus:ring-gray-400 text-black",placeholder:"Type something..."}),n.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:[n.jsxs("div",{children:["Word Count: ",i(t)," / ",f_]}),n.jsxs("div",{children:["Character Count: ",t.length]})]}),r&&n.jsx("div",{className:"mt-2 text-green-600 text-sm",children:"Copied to clipboard!"})]})};function Yue(){const[t,e]=L.useState([{question:"Sort the countries in ascending order based on their population:",list:["USA","India","China","Brazil","Russia"]}]);return n.jsxs("section",{className:"w-[60vw] flex flex-col items-center m-auto mt-10",children:[n.jsx("h2",{className:"font-bold text-2xl text-black",children:"Sort List"}),t.map((r,s)=>n.jsx(Kue,{questionIndex:s,setQuestionSet:e,questionSet:t},s))]})}function Kue({questionIndex:t,questionSet:e,setQuestionSet:r}){const s=L.useRef(null),a=L.useRef(null),{question:i,list:o}=e[t],[l,c]=L.useState(o.map(()=>!1));function d(u,h){const m=o[s.current];o[s.current]=o[a.current],o[a.current]=m;const f=[...e];f[t]={question:i,list:o},r([...f]),c(x=>{const v=[...x];return v[h]=!1,v})}return n.jsxs("div",{className:"w-3/4 flex flex-col gap-5 items-center border border-purple-500 rounded-lg shadow-lg p-5",children:[n.jsx("h2",{className:"text-black",children:i}),n.jsx("div",{className:"w-1/2 flex flex-col items-center justify-center",children:o.map((u,h)=>n.jsx("p",{className:`w-full p-3 text-center border border-gray-300 rounded-md cursor-pointer ${l[h]?"bg-yellow-100":"bg-purple-500"} text-black`,draggable:!0,onDragStart:m=>s.current=h,onDragEnter:m=>{a.current=h,c(f=>{const x=[...f];return x[h]=!0,x})},onDragLeave:m=>{c(f=>{const x=[...f];return x[h]=!1,x})},onDragOver:m=>m.preventDefault(),onDrop:m=>d(m,h),children:u},h))})]})}const Jue=()=>{const[t,e]=L.useState("names"),[r,s]=L.useState("basic"),a=[{value:"basic",label:"Basic",className:"bg-emerald-500/15 text-emerald-700 border-emerald-200 hover:bg-emerald-500/25 hover:text-emerald-800",activeClass:"ring-emerald-400 bg-emerald-500/25 text-emerald-900"},{value:"intermediate",label:"Intermediate",className:"bg-amber-500/15 text-amber-700 border-amber-200 hover:bg-amber-500/25 hover:text-amber-800",activeClass:"ring-amber-400 bg-amber-500/25 text-amber-900"},{value:"advanced",label:"Advanced",className:"bg-rose-500/15 text-rose-700 border-rose-200 hover:bg-rose-500/25 hover:text-rose-800",activeClass:"ring-rose-400 bg-rose-500/25 text-rose-900"}],i="px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-150 shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-1 border ring-1 ring-transparent",o=()=>{const l=`tryout_${t}`;if(!jae(l)){CW(5),Nae(l);const c=document.createElement("div");c.className="fixed top-20 right-6 bg-emerald-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center gap-2 animate-bounce z-50",c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"></circle><circle cx="19" cy="21" r="1"></circle><path d="M2.05 10.05a7 7 0 0 1 9.9 0l10 10"></path><path d="M13 13h8"></path></svg><span>+5 Points</span>',document.body.appendChild(c),setTimeout(()=>document.body.removeChild(c),1800)}};return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 relative",children:[n.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-3 justify-left",children:[n.jsx("label",{htmlFor:"tryoutType",className:"font-medium text-gray-700",children:"Tryout Type:"}),n.jsxs("select",{id:"tryoutType",value:t,onChange:l=>e(l.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"choice_matrix",children:"Choice Matrix"}),n.jsx("option",{value:"cloze_drag_drop",children:"Cloze Drag Drop"}),n.jsx("option",{value:"cloze_drop_down",children:"Cloze Drop Down"}),n.jsx("option",{value:"cloze_text",children:"Cloze Text"}),n.jsx("option",{value:"file_upload",children:"File Upload"}),n.jsx("option",{value:"image_highlighter",children:"Image Highlighter"}),n.jsx("option",{value:"match_list",children:"Match List"}),n.jsx("option",{value:"mcq",children:"MCQ"}),n.jsx("option",{value:"plain_txt",children:"Plain Text"}),n.jsx("option",{value:"sort_list",children:"Sort List"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"font-medium text-gray-700",children:"Difficulty:"}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-3",children:a.map(l=>{const c=r===l.value;return n.jsx("button",{type:"button",onClick:()=>s(l.value),className:`${i} ${l.className} ${c?l.activeClass+" ring-2":""}`,"aria-pressed":c,children:l.label},l.value)})})]}),n.jsxs("div",{children:[t==="choice_matrix"&&n.jsx(Lue,{}),t==="cloze_drag_drop"&&n.jsx(Oue,{}),t==="cloze_drop_down"&&n.jsx(Fue,{}),t==="cloze_text"&&n.jsx(Uue,{}),t==="file_upload"&&n.jsx($ue,{}),t==="image_highlighter"&&n.jsx(Hue,{}),t==="match_list"&&n.jsx(Wue,{}),t==="mcq"&&n.jsx(Vue,{}),t==="plain_txt"&&n.jsx(Xue,{}),t==="sort_list"&&n.jsx(Yue,{}),t==="names"&&n.jsx("div",{className:"text-gray-500 text-center py-8",children:"Select The Tryout From The Drop Down Menu."}),t==="rich_text"&&n.jsx("div",{className:"text-gray-500 text-center py-8",children:"Rich Text tryout is not available. Please check the file name or implementation."}),!["choice_matrix","cloze_drag_drop","cloze_drop_down","cloze_text","file_upload","image_highlighter","match_list","mcq","plain_txt","rich_text","sort_list","names"].includes(t)&&n.jsx("div",{className:"text-gray-500 text-center py-8",children:"Select a tryout type to begin."})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500 hover:bg-amber-600 text-white shadow",children:[n.jsx(CT,{className:"w-4 h-4"}),"Mark Tryout Completed & Collect +5"]})})]})},Dv={9:{math:{mcq:[{q:"What is 2+2?",o:["3","4","5","6"],a:"4",e:"Simple addition"},{q:"What is 5*3?",o:["10","15","20","25"],a:"15",e:"Multiplication"}],blank:[{q:"Fill in the blank: 2 + 2 = ___",a:"4",e:"Simple addition"}]},science:{mcq:[{q:"What is H2O?",o:["Water","Hydrogen","Oxygen","Salt"],a:"Water",e:"Chemical formula for water"}],blank:[{q:"H2O is the chemical formula for ___",a:"water",e:"Chemical formula"}]}}},m_=({defaultType:t="school"})=>{const[e,r]=L.useState("all"),[s,a]=L.useState(t),[i,o]=L.useState(""),[l,c]=L.useState(""),[d,u]=L.useState(""),[h,m]=L.useState("Neutral"),[f,x]=L.useState([]),[v,g]=L.useState(null),[b,N]=L.useState(""),[w,A]=L.useState("Saved"),[j,S]=L.useState("9"),[E,R]=L.useState("math"),[C,T]=L.useState("mcq"),[k,P]=L.useState({}),[D,H]=L.useState([]),[F,z]=L.useState(0),[O,W]=L.useState({}),[ee,K]=L.useState(!1),[re,U]=L.useState(!1),[Y,V]=L.useState(""),[Z,ce]=L.useState("due_asc"),[fe,ye]=L.useState([]),[ge,we]=L.useState("names"),[Re,oe]=L.useState("easy"),[ut,se]=L.useState({rotation:0,zoom:1,animationSpeed:1,isAnimating:!1});L.useRef(null),L.useRef(null),L.useRef(null),L.useRef(null),L.useEffect(()=>{a(t)},[t]),L.useEffect(()=>{try{const le=JSON.parse(localStorage.getItem("journalEntries")||"[]");Array.isArray(le)&&x(le)}catch{}},[]);const J=le=>{x(le);try{localStorage.setItem("journalEntries",JSON.stringify(le))}catch{}},ie=()=>{g(null),o(""),c(""),u(""),m("Neutral")},Ae=()=>{const le=new Date;if(!(!i.trim()&&!l.trim())){if(v){const ae=f.map(_e=>_e.id===v?{..._e,title:i.trim()||"Untitled",content:l,tags:(d||"").split(",").map(qe=>qe.trim()).filter(Boolean),mood:h,updatedAt:le.toISOString()}:_e);J(ae)}else{const ae={id:Date.now(),title:i.trim()||"Untitled",content:l,tags:(d||"").split(",").map(_e=>_e.trim()).filter(Boolean),mood:h,createdAt:le.toISOString(),updatedAt:le.toISOString()};J([ae,...f]),g(ae.id)}A("Saved")}},Fe=()=>{ie()},Ie=le=>{const ae=f.filter(_e=>_e.id!==le);J(ae),v===le&&ie()},$e=le=>{g(le.id),o(le.title||""),c(le.content||""),u((le.tags||[]).join(", ")),m(le.mood||"Neutral")};return L.useEffect(()=>{if(s!=="journal")return;A("Saving");const le=setTimeout(()=>{Ae()},1200);return()=>clearTimeout(le)},[i,l,d,h,s]),L.useEffect(()=>{!j||!Dv[j]||R(Object.keys(Dv[j])[0])},[j]),L.useEffect(()=>{P({studentClass:j,subject:E,questionType:C,startTime:new Date,endTime:null,correct:0,incorrect:0})},[j,E,C]),L.useEffect(()=>{var _e;if(!Dv[j]||!Dv[j][E]){H([]),z(0),W({}),K(!1);return}let ae=(((_e=Dv[j][E])==null?void 0:_e.mcq)||[]).map(qe=>({front:qe.q,back:`${qe.a?`Answer: ${qe.a}`:""}${qe.e?`
${qe.e}`:""}`.trim()}));if(re)for(let qe=ae.length-1;qe>0;qe--){const Ke=Math.floor(Math.random()*(qe+1));[ae[qe],ae[Ke]]=[ae[Ke],ae[qe]]}H(ae),z(0),W({}),K(!1)},[j,E,re]),L.useEffect(()=>{if(s!=="flashcard")return;const le=ae=>{ae.key===" "?(ae.preventDefault(),K(_e=>!_e)):ae.key==="ArrowRight"?(K(!1),z(_e=>D.length?Math.min(_e+1,D.length-1):0)):ae.key==="ArrowLeft"&&(K(!1),z(_e=>_e>0?_e-1:0))};return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[s,D.length]),fe.filter(le=>{const ae=Y.toLowerCase(),_e=le.title.toLowerCase().includes(ae)||le.course.toLowerCase().includes(ae)||le.description.toLowerCase().includes(ae);return e==="all"?_e:_e&&le.status===e}).sort((le,ae)=>{switch(Z){case"due_asc":return new Date(le.dueDate)-new Date(ae.dueDate);case"due_desc":return new Date(ae.dueDate)-new Date(le.dueDate);case"priority":{const _e={high:3,medium:2,low:1};return _e[ae.priority]-_e[le.priority]}case"status":return le.status.localeCompare(ae.status);default:return 0}}),n.jsxs("div",{className:"w-full min-h-screen bg-white px-1 sm:px-4 md:px-8 py-4 sm:py-6 space-y-4 sm:space-y-6 overflow-x-hidden",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2 sm:gap-4",children:[s!=="journal"&&n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Assignments"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Manage your assignments and submissions"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[s!=="journal"&&n.jsx(Sae,{}),s!=="journal"&&n.jsxs(n.Fragment,{children:[n.jsx("label",{htmlFor:"assignmentType",className:"font-medium text-gray-700",children:"Type:"}),n.jsxs("select",{id:"assignmentType",value:s,onChange:le=>a(le.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"school",children:"School Assignment"}),n.jsx("option",{value:"eec",children:"Practice Paper"}),n.jsx("option",{value:"tryout",children:"Tryout"}),n.jsx("option",{value:"lab",children:"Lab"}),n.jsx("option",{value:"flashcard",children:"FlashCard"})]})]})]})]}),s==="journal"&&n.jsxs("div",{className:"relative bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 p-2 sm:p-4 lg:p-6 rounded-2xl shadow-2xl max-w-7xl mx-auto",style:{background:"linear-gradient(135deg, #f3e8d7 0%, #e8dcc6 50%, #ddd0bb 100%)"},children:[n.jsxs("div",{className:"text-center mb-3 sm:mb-4 lg:mb-6",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-brown-800",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"My Learning Journal"}),n.jsx("div",{className:"w-20 sm:w-24 lg:w-32 h-0.5 sm:h-1 bg-brown-400 mx-auto mt-1 sm:mt-2 rounded",style:{backgroundColor:"#D2691E"}})]}),n.jsxs("div",{className:"relative bg-white border-2 sm:border-3 lg:border-4 border-gray-300 rounded-lg shadow-inner overflow-hidden",style:{backgroundColor:"#fefcf8",borderColor:"#8B7355",height:"calc(100vh - 200px)",minHeight:"500px",maxHeight:"800px"},children:[n.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-0 bottom-0 w-4 sm:w-6 lg:w-8 z-10",style:{background:"linear-gradient(to right, #666 0%, #999 50%, #666 100%)"},children:[...Array(Math.min(20,Math.floor(window.innerHeight/40)))].map((le,ae)=>n.jsx("div",{className:"absolute w-3 h-2 sm:w-4 sm:h-2 lg:w-6 lg:h-3 border border-gray-500 rounded-full left-1/2 transform -translate-x-1/2",style:{top:`${ae*5+2}%`,borderColor:"#555"}},ae))}),n.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-2 h-full relative",children:[n.jsxs("div",{className:"border-b lg:border-b-0 lg:border-r-2 border-gray-300 p-3 sm:p-4 lg:p-6 relative overflow-hidden flex-1 lg:flex-none",style:{borderColor:"#8B7355"},children:[n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-center mb-3 sm:mb-4 lg:mb-6 underline",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Timeline"}),n.jsx("div",{className:"mb-3 sm:mb-4",children:n.jsxs("button",{onClick:Fe,className:"w-full px-3 py-2 sm:px-4 sm:py-2 border-2 border-dashed border-gray-400 rounded-lg hover:bg-yellow-50 transition-colors text-sm sm:text-base",style:{borderColor:"#B8860B",color:"#8B4513"},children:[n.jsx(Dn,{className:"w-3 h-3 sm:w-4 sm:h-4 inline mr-2"})," Add New Day"]})}),n.jsxs("div",{className:"space-y-2 sm:space-y-3 overflow-y-auto pr-1 sm:pr-2 lg:max-h-none lg:h-auto lg:flex-1",style:{height:"calc(100% - 100px)",maxHeight:"300px"},children:[f.map((le,ae)=>n.jsx("div",{onClick:()=>$e(le),className:`p-2 sm:p-3 rounded-lg cursor-pointer transition-all border ${v===le.id?"bg-yellow-100 border-yellow-400":"bg-yellow-50 border-yellow-200 hover:bg-yellow-100"}`,style:{backgroundColor:v===le.id?"#fef3c7":"#fffbeb",borderColor:v===le.id?"#f59e0b":"#fbbf24"},children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"font-semibold text-sm sm:text-base text-brown-800",style:{color:"#8B4513"},children:["Day ",f.length-ae]}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:new Date(le.updatedAt||le.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:le.title||"Untitled"})]}),n.jsx("button",{title:"Delete",onClick:_e=>{_e.stopPropagation(),Ie(le.id)},className:"p-1 rounded hover:bg-red-100 text-red-500",children:n.jsx(pc,{className:"w-3 h-3"})})]})},le.id)),f.length===0&&n.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",style:{color:"#8B7355"},children:[n.jsx("p",{className:"text-sm sm:text-base",children:"No entries yet."}),n.jsx("p",{className:"text-xs sm:text-sm mt-2",children:"Start by adding your first day!"})]})]})]}),n.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 relative overflow-hidden flex flex-col flex-1",children:[n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-center mb-3 sm:mb-4 lg:mb-6 underline",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Notes"}),n.jsx("div",{className:"text-center text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",style:{color:"#8B7355"},children:new Date().toLocaleDateString("en-US",{weekday:window.innerWidth>640?"long":"short",year:"numeric",month:window.innerWidth>640?"long":"short",day:"numeric"})}),n.jsxs("div",{className:"flex-1 flex flex-col space-y-2 sm:space-y-3 lg:space-y-4 overflow-hidden min-h-0",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("input",{type:"text",value:i,onChange:le=>o(le.target.value),placeholder:"Today I learned...",className:"w-full bg-transparent border-0 border-b border-gray-300 px-0 py-1 sm:py-2 text-base sm:text-lg placeholder-gray-400 focus:ring-0 focus:border-brown-500",style:{borderBottomColor:"#B8860B",color:"#8B4513",fontFamily:"Georgia, serif"}})}),n.jsx("div",{className:"flex-1 min-h-0",children:n.jsx("textarea",{value:l.replace(/<[^>]*>/g,""),onChange:le=>c(le.target.value),placeholder:`Today Susan hit me with her car but she claimed I hit her car with my body.

Before the lights went out, I saw a deer near the headlight. Seems like it wasn't her first time.

Should she still have a license?

My head hurts, too.`,className:"w-full h-full bg-transparent border-0 resize-none p-0 text-gray-700 placeholder-gray-400 focus:ring-0 text-sm sm:text-base leading-5 sm:leading-6",style:{color:"#4B5563",fontFamily:"Georgia, serif",backgroundImage:"repeating-linear-gradient(transparent, transparent 19px, #e5e7eb 19px, #e5e7eb 20px)",lineHeight:"20px"}})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 flex-shrink-0",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-600 mb-1",style:{color:"#8B7355"},children:"Tags"}),n.jsx("input",{type:"text",value:d,onChange:le=>u(le.target.value),placeholder:"learning, reflection",className:"w-full border border-gray-300 rounded px-2 py-1 text-xs sm:text-sm focus:ring-1 focus:ring-yellow-400 focus:border-yellow-400",style:{backgroundColor:"#fffbeb"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-600 mb-1",style:{color:"#8B7355"},children:"Mood"}),n.jsxs("select",{value:h,onChange:le=>m(le.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 text-xs sm:text-sm focus:ring-1 focus:ring-yellow-400 focus:border-yellow-400",style:{backgroundColor:"#fffbeb"},children:[n.jsx("option",{children:"Happy"}),n.jsx("option",{children:"Neutral"}),n.jsx("option",{children:"Curious"}),n.jsx("option",{children:"Challenged"}),n.jsx("option",{children:"Excited"})]})]})]}),n.jsxs("div",{className:"text-right pt-2 sm:pt-4 flex-shrink-0",children:[n.jsx("button",{onClick:Ae,className:"px-4 py-1.5 sm:px-6 sm:py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 shadow-lg text-sm sm:text-base font-medium transition-colors",style:{backgroundColor:"#D97706"},children:"Save Entry"}),n.jsx("div",{className:"text-xs text-gray-500 mt-1 sm:mt-2",children:w})]})]})]})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 sm:h-3 lg:h-4 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200",style:{backgroundColor:"#E5E5E5"},children:n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 sm:h-2",style:{background:"repeating-linear-gradient(90deg, transparent 0px, transparent 8px, rgba(0,0,0,0.1) 8px, rgba(0,0,0,0.1) 12px)"}})})]}),n.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-2xl opacity-30 sm:opacity-50",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.02'%3E%3Cpath d='m20 20v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),["school","eec","lab","flashcard"].includes(s)&&n.jsx(Rue,{assignmentType:s,filter:e,setFilter:r}),s==="tryout"&&n.jsx(Jue,{})]})},$R=()=>{const[t,e]=L.useState(null),[r,s]=L.useState(null),[a,i]=L.useState([]),[o,l]=L.useState(!0),[c,d]=L.useState(null),[u,h]=L.useState(null);L.useEffect(()=>{(async()=>{try{l(!0),d(null);const v=localStorage.getItem("token"),g=localStorage.getItem("userType");if(!v||g!=="Student"){l(!1);return}const b=await fetch("http://localhost:5000/api/student/auth/dashboard",{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(!b.ok)throw new Error("Unable to load course overview.");const N=await b.json();e(N.course||null),s(N.stats||null),i((N.recentAttendance||[]).slice(0,5)),h(new Date)}catch(v){console.error("Failed to fetch course data:",v),d(v.message)}finally{l(!1)}})()},[]);const m=[{title:"Active Courses",value:(r==null?void 0:r.activeCourses)??0,icon:BN,description:(t==null?void 0:t.name)||"No active course",color:"text-blue-600",bg:"bg-blue-50"},{title:"Attendance",value:`${(r==null?void 0:r.attendancePercentage)??0}%`,icon:nr,description:`${(r==null?void 0:r.presentDays)??0}/${(r==null?void 0:r.totalClasses)??0} classes`,color:"text-green-600",bg:"bg-green-50"},{title:"Classes Attended",value:(r==null?void 0:r.presentDays)??0,icon:Kt,description:`Absent ${(r==null?void 0:r.absentDays)??0} days`,color:"text-purple-600",bg:"bg-purple-50"},{title:"Overall Progress",value:`${(r==null?void 0:r.overallProgress)??0}%`,icon:Yr,description:"Based on attendance",color:"text-amber-600",bg:"bg-amber-50"}],f=(t==null?void 0:t.status)==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700";return o?n.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-0",children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 animate-pulse"}),n.jsx("div",{className:"h-4 bg-gray-100 rounded w-64 animate-pulse"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((x,v)=>n.jsx("div",{className:"h-32 bg-white rounded-xl border border-gray-100 shadow-sm animate-pulse"},v))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"}),n.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"})]})]}):n.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-0",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Courses"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Current academic overview synced from your dashboard"})]}),u&&n.jsxs("span",{className:"text-sm text-gray-500",children:["Updated ",u.toLocaleDateString()]})]}),c&&n.jsx("div",{className:"bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-lg text-sm",children:c}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:m.map(x=>{const v=x.icon;return n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:x.title}),n.jsx("p",{className:`text-2xl font-bold ${x.color}`,children:x.value})]}),n.jsx("div",{className:`p-3 rounded-full ${x.bg}`,children:n.jsx(v,{className:x.color})})]}),n.jsx("p",{className:"text-sm text-gray-500",children:x.description})]},x.title)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 lg:col-span-2",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Current Course"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Details pulled from the NIF student record"})]}),t&&n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f}`,children:t.status||"Active"})]}),t?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Course Name"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.name}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Batch Code: ",t.batchCode||"N/A"]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[{label:"Grade",value:t.grade||"-"},{label:"Section",value:t.section||"-"},{label:"Duration",value:t.duration||"TBD"},{label:"Status",value:t.status||"Active"}].map(x=>n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-500",children:x.label}),n.jsx("p",{className:"text-lg font-semibold text-purple-800",children:x.value})]},x.label))})]}):n.jsxs("div",{className:"text-center py-10",children:[n.jsx(na,{size:48,className:"mx-auto text-gray-300 mb-3"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"No course assigned"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please contact your administrator for enrollment details"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Kb,{size:18,className:"text-purple-500"}),"Recent Attendance"]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Last 5 records"})]}),a.length>0?n.jsx("div",{className:"space-y-3",children:a.map((x,v)=>{var g,b;return n.jsxs("div",{className:"flex items-center justify-between border border-purple-100 rounded-lg px-3 py-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.subject||"Class"}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.date).toLocaleDateString()})]}),n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x.status==="present"?"bg-green-100 text-green-700":x.status==="absent"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:((g=x.status)==null?void 0:g.charAt(0).toUpperCase())+((b=x.status)==null?void 0:b.slice(1))})]},x._id||v)})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No attendance records available."})]})]})]})},Que=()=>{var x,v;const[t,e]=L.useState([]),[r,s]=L.useState(!0),[a,i]=L.useState(null),[o,l]=L.useState("all"),[c,d]=L.useState({averagePercentage:0,examsTaken:0,topScore:null,recentExam:null}),[u,h]=L.useState(null);L.useEffect(()=>{(async()=>{try{s(!0),i(null);const b=localStorage.getItem("token"),N=localStorage.getItem("userType");if(!b||N!=="Student"){s(!1);return}const w=await fetch("http://localhost:5000/api/student/auth/results",{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(!w.ok)throw new Error("Unable to load results.");const A=await w.json(),j=Array.isArray(A.results)?A.results:[];e(j),d(the(j)),h(new Date)}catch(b){console.error("Failed to fetch results:",b),i(b.message)}finally{s(!1)}})()},[]);const m=L.useMemo(()=>{const g=new Set(t.map(b=>b.type||"general"));return["all",...Array.from(g)]},[t]),f=L.useMemo(()=>o==="all"?t:t.filter(g=>(g.type||"general")===o),[t,o]);return r?n.jsxs("div",{className:"space-y-6 p-4",children:[n.jsx("div",{className:"h-36 bg-gradient-to-r from-yellow-200 to-orange-200 rounded-2xl animate-pulse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((g,b)=>n.jsx("div",{className:"h-32 bg-white rounded-xl shadow-sm border border-gray-100 animate-pulse"},b))}),n.jsx("div",{className:"bg-white rounded-xl h-64 border border-gray-100 animate-pulse"})]}):n.jsxs("div",{className:"space-y-6 p-4",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 rounded-2xl p-6 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-4 right-4 w-32 h-32 bg-white rounded-full"}),n.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-white rounded-full"})]}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(el,{className:"w-8 h-8 text-yellow-200"}),n.jsx("h1",{className:"text-3xl font-bold",children:"My Results"})]}),n.jsx("p",{className:"text-yellow-100",children:"Live academic performance pulled from your student profile"})]}),n.jsx("div",{className:"text-right",children:u&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-yellow-100 text-sm mb-1",children:"Last Synced"}),n.jsx("p",{className:"text-xl font-semibold",children:u.toLocaleDateString()})]})})]})})]}),a&&n.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[n.jsx(Zr,{size:16}),a]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(D2,{icon:rs,title:"Average Score",value:`${c.averagePercentage.toFixed(1)}%`,accent:"bg-yellow-100 text-yellow-600"}),n.jsx(D2,{icon:Kn,title:"Exams Taken",value:c.examsTaken,accent:"bg-blue-100 text-blue-600"}),n.jsx(D2,{icon:Yr,title:"Best Exam",value:((x=c.topScore)==null?void 0:x.examName)||"N/A",subtitle:c.topScore?`${c.topScore.percentage.toFixed(1)}%`:"Awaiting data",accent:"bg-green-100 text-green-600"}),n.jsx(D2,{icon:Kt,title:"Recent Exam",value:((v=c.recentExam)==null?void 0:v.examName)||"N/A",subtitle:c.recentExam?new Date(c.recentExam.date).toLocaleDateString():"No records",accent:"bg-purple-100 text-purple-600"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Filter by exam type:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(g=>n.jsx("button",{onClick:()=>l(g),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===g?"bg-indigo-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:g==="all"?"All Exams":g.replace(/^\w/,b=>b.toUpperCase())},g))})]}),n.jsx("div",{className:"space-y-4",children:f.length===0?n.jsx("div",{className:"bg-white border border-dashed border-gray-200 rounded-xl p-8 text-center text-gray-500",children:"No exam records available. Once your school publishes results they will appear here automatically."}):f.map((g,b)=>n.jsx(Zue,{exam:g},g._id||b))})]})},D2=({icon:t,title:e,value:r,subtitle:s,accent:a})=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${a}`,children:n.jsx(t,{className:"w-6 h-6"})}),n.jsx("span",{className:"text-2xl",children:""})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r}),s&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s})]})]}),Zue=({exam:t})=>{const e=t.percentage??(t.obtainedMarks&&t.totalMarks?t.obtainedMarks/t.totalMarks*100:null);return n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.examName||"Exam"}),n.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[n.jsx(Kt,{size:14}),t.date?new Date(t.date).toLocaleDateString():"Date not available",t.type&&n.jsxs(n.Fragment,{children:[" ",t.type.replace(/^\w/,r=>r.toUpperCase())]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[e!==null&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Score"}),n.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[e.toFixed(1),"%"]})]}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(tn,{size:16}),"Download"]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[n.jsx(R2,{label:"Total Marks",value:t.totalMarks??"-"}),n.jsx(R2,{label:"Obtained",value:t.obtainedMarks??"-"}),n.jsx(R2,{label:"Status",value:t.status||"Not available"}),n.jsx(R2,{label:"Result",value:t.grade||(e?`${e.toFixed(1)}%`:"-")})]}),Array.isArray(t.subjects)&&t.subjects.length>0&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marks"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grade"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:t.subjects.map((r,s)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 text-sm text-gray-700",children:r.name||"Subject"}),n.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[r.marks??"-",r.maxMarks?` / ${r.maxMarks}`:""]}),n.jsx("td",{className:"px-4 py-2 text-sm",children:n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-semibold ${ehe(r.grade)}`,children:r.grade||"N/A"})}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:r.remarks||"-"})]},`${r.name}-${s}`))})]})})]})]})},R2=({label:t,value:e})=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-gray-500",children:t}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e})]}),ehe=(t="")=>t.startsWith("A")?"bg-green-100 text-green-700":t.startsWith("B")?"bg-blue-100 text-blue-700":t.startsWith("C")?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700",the=(t=[])=>{if(!t.length)return{averagePercentage:0,examsTaken:0,topScore:null,recentExam:null};const e=t.map(i=>{const o=i.percentage??(i.obtainedMarks&&i.totalMarks?i.obtainedMarks/i.totalMarks*100:0);return{...i,percentage:o||0}}),r=e.reduce((i,o)=>i+o.percentage,0),s=e.reduce((i,o)=>o.percentage>((i==null?void 0:i.percentage)||0)?o:i,null),a=e.reduce((i,o)=>o.date?i?new Date(o.date)>new Date(i.date)?o:i:o:i,null);return{averagePercentage:r/e.length,examsTaken:e.length,topScore:s,recentExam:a}},rhe=()=>{const[t,e]=L.useState("earned"),r=[{id:1,title:"First Assignment Submitted",description:"Submit your first assignment successfully",category:"academic",type:"milestone",icon:Dr,earned:!0,earnedDate:"2025-03-15",points:50,rarity:"common",progress:100,requirement:"Submit 1 assignment"},{id:2,title:"Perfect Attendance",description:"Attend all classes for a full month",category:"attendance",type:"streak",icon:Kt,earned:!0,earnedDate:"2025-04-01",points:100,rarity:"uncommon",progress:100,requirement:"100% attendance for 30 days"},{id:3,title:"High Achiever",description:"Score 90% or above in 5 assignments",category:"academic",type:"performance",icon:el,earned:!1,points:200,rarity:"rare",progress:60,requirement:"Score 90%+ in 5 assignments",currentProgress:"3/5 assignments"},{id:4,title:"Course Completion Master",description:"Complete 3 courses with distinction",category:"academic",type:"milestone",icon:Kn,earned:!1,points:300,rarity:"epic",progress:33,requirement:"Complete 3 courses with distinction",currentProgress:"1/3 courses"},{id:5,title:"Early Bird",description:"Join 10 classes 5 minutes early",category:"attendance",type:"habit",icon:nr,earned:!0,earnedDate:"2025-05-10",points:75,rarity:"common",progress:100,requirement:"Join 10 classes early"},{id:6,title:"Study Streak",description:"Study for 7 consecutive days",category:"study",type:"streak",icon:Yr,earned:!1,points:150,rarity:"uncommon",progress:71,requirement:"Study 7 days in a row",currentProgress:"5/7 days"},{id:7,title:"Collaboration Champion",description:"Participate in 5 group projects",category:"social",type:"collaboration",icon:sr,earned:!1,points:120,rarity:"uncommon",progress:40,requirement:"Complete 5 group projects",currentProgress:"2/5 projects"},{id:8,title:"Knowledge Seeker",description:"Read 50 course materials",category:"study",type:"exploration",icon:BN,earned:!1,points:100,rarity:"common",progress:86,requirement:"Read 50 course materials",currentProgress:"43/50 materials"}],s=h=>{switch(h){case"common":return"text-gray-600 bg-gray-100 border-gray-300";case"uncommon":return"text-green-600 bg-green-100 border-green-300";case"rare":return"text-blue-600 bg-blue-100 border-blue-300";case"epic":return"text-purple-600 bg-purple-100 border-purple-300";case"legendary":return"text-yellow-600 bg-yellow-100 border-yellow-300";default:return"text-gray-600 bg-gray-100 border-gray-300"}},a=h=>{switch(h){case"academic":return"text-blue-600 bg-blue-100";case"attendance":return"text-green-600 bg-green-100";case"study":return"text-purple-600 bg-purple-100";case"social":return"text-pink-600 bg-pink-100";default:return"text-gray-600 bg-gray-100"}},i=r.filter(h=>h.earned),o=r.filter(h=>!h.earned),l=r.filter(h=>!h.earned&&h.progress>0),c=()=>{switch(t){case"earned":return i;case"available":return o;case"progress":return l;default:return r}},d=i.reduce((h,m)=>h+m.points,0),u=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Achievements"}),n.jsx("p",{className:"text-gray-600",children:"Track your progress and unlock new achievements"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Achievements"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),n.jsx(el,{className:"w-8 h-8 text-yellow-600"})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Earned"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length})]}),n.jsx(Kn,{className:"w-8 h-8 text-green-600"})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.length})]}),n.jsx(rs,{className:"w-8 h-8 text-blue-600"})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o.length})]}),n.jsx(yW,{className:"w-8 h-8 text-purple-600"})]})})]}),n.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[{id:"earned",label:"Earned",count:i.length},{id:"progress",label:"In Progress",count:l.length},{id:"available",label:"Available",count:o.length}].map(h=>n.jsxs("button",{onClick:()=>e(h.id),className:`flex-1 px-4 py-2 rounded-md font-medium transition-colors ${t===h.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[h.label," (",h.count,")"]},h.id))}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c().map(h=>{const m=h.icon;return n.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 relative overflow-hidden ${h.earned?"":"opacity-90"}`,children:[n.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 ${h.rarity==="common"?"bg-gray-400":h.rarity==="uncommon"?"bg-green-400":h.rarity==="rare"?"bg-blue-400":h.rarity==="epic"?"bg-purple-400":"bg-yellow-400"}`}),n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${h.earned?"bg-blue-100":"bg-gray-100"}`,children:h.earned?n.jsx(m,{className:"w-6 h-6 text-blue-600"}):n.jsx(Yf,{className:"w-6 h-6 text-gray-400"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${s(h.rarity)}`,children:h.rarity}),n.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[h.points," pts"]})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),n.jsx("p",{className:"text-gray-600 text-sm mb-3",children:h.description}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(h.category)}`,children:h.category}),n.jsx("span",{className:"text-xs text-gray-500",children:h.type})]})]}),!h.earned&&h.progress>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Progress"}),n.jsxs("span",{className:"font-medium",children:[h.progress,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h.progress}%`}})}),h.currentProgress&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.currentProgress})]}),h.earned&&h.earnedDate&&n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 border-t border-gray-100 pt-3",children:[n.jsx("span",{children:"Earned on"}),n.jsx("span",{className:"font-medium",children:u(h.earnedDate)})]}),!h.earned&&n.jsxs("div",{className:"text-sm text-gray-600 border-t border-gray-100 pt-3",children:[n.jsx("p",{className:"font-medium",children:"Requirement:"}),n.jsx("p",{children:h.requirement})]})]},h.id)})}),c().length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(el,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No achievements found"}),n.jsx("p",{className:"text-gray-600",children:"No achievements match your current filter."})]})]})},nhe=({onThemeChange:t})=>{const[e,r]=L.useState(!1),[s,a]=L.useState("light"),[i,o]=L.useState("full"),[l,c]=L.useState("vertical"),[d,u]=L.useState(!1),[h,m]=L.useState(!1),[f,x]=L.useState(!1),[v,g]=L.useState("#6366f1"),b=["#6366f1","#6b7280","#10b981","#ef4444","#06b6d4","#f59e0b","#374151"];L.useEffect(()=>{t&&t({skin:s,contentWidth:i,menuLayout:l,menuCollapsed:d,menuHidden:h,rtlEnabled:f,navbarColor:v})},[s,i,l,d,h,f,v,t]);const N=C=>{a(C)},w=C=>{o(C)},A=C=>{c(C)},j=()=>{u(C=>!C)},S=()=>{m(C=>!C)},E=()=>{x(C=>!C)},R=C=>{g(C)};return n.jsxs(n.Fragment,{children:[e&&n.jsxs("div",{className:"fixed right-0 top-0 w-80 h-full bg-white shadow-2xl border-l border-yellow-100 flex flex-col z-50",children:[n.jsx("div",{className:"p-4 border-b border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Theme Customizer"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Customize & Preview in Real Time"})]}),n.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-yellow-100 rounded-lg transition-colors","aria-label":"Close Theme Customizer",children:n.jsx(ts,{size:20,className:"text-gray-500"})})]})}),n.jsxs("div",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Skin"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["light","bordered","dark","semi-dark"].map(C=>n.jsx("button",{onClick:()=>N(C),className:`px-3 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${s===C?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":s===C,children:C.replace("-"," ")},C))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Content Width"}),n.jsx("div",{className:"flex space-x-3",children:["full","boxed"].map(C=>n.jsxs("button",{onClick:()=>w(C),className:`flex-1 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${i===C?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":i===C,children:[C," Width"]},C))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"RTL"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:E,className:`w-12 h-6 rounded-full relative transition-colors ${f?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle RTL ${f?"off":"on"}`,"aria-checked":f,children:n.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${f?"translate-x-6":"translate-x-0.5"}`})}),n.jsx("span",{className:"ml-3 text-sm text-gray-600",children:f?"Enabled":"Disabled"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Layout"}),n.jsx("div",{className:"flex space-x-3",children:["vertical","horizontal"].map(C=>n.jsx("button",{onClick:()=>A(C),className:`flex-1 py-2 rounded-lg text-sm font-medium capitalize transition-colors ${l===C?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-yellow-200"}`,"aria-pressed":l===C,children:C},C))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Collapsed"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:j,className:`w-12 h-6 rounded-full relative transition-colors ${d?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle Menu Collapsed ${d?"off":"on"}`,"aria-checked":d,children:n.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${d?"translate-x-6":"translate-x-0.5"}`})}),n.jsx("span",{className:"ml-3 text-sm text-gray-600",children:d?"Collapsed":"Expanded"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Menu Hidden"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:S,className:`w-12 h-6 rounded-full relative transition-colors ${h?"bg-yellow-500":"bg-gray-200"}`,"aria-label":`Toggle Menu Hidden ${h?"off":"on"}`,"aria-checked":h,children:n.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform shadow-sm ${h?"translate-x-6":"translate-x-0.5"}`})}),n.jsx("span",{className:"ml-3 text-sm text-gray-600",children:h?"Hidden":"Visible"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Navbar Color"}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:b.map((C,T)=>n.jsx("button",{onClick:()=>R(C),className:`w-8 h-8 rounded-lg transition-all hover:scale-110 relative ${v===C?"ring-2 ring-yellow-500 ring-offset-2":""}`,style:{backgroundColor:C},title:`Color ${T+1}`,"aria-label":`Select Navbar Color ${T+1}`,children:v===C&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(Uy,{size:16,className:"text-white"})})},T))})]})]})]}),!e&&n.jsx("button",{onClick:()=>r(!0),className:"fixed right-4 top-1/2 transform -translate-y-1/2 bg-yellow-500 text-black p-3 rounded-l-lg shadow-lg hover:bg-yellow-600 transition-colors z-40",title:"Open Theme Customizer","aria-label":"Open Theme Customizer",children:n.jsx(Kf,{size:20})}),e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:()=>r(!1),"aria-hidden":"true"})]})},she={name:"Student",email:"",username:"",password:"",phone:"",address:"",dob:"",education:"",studentId:"",semester:"",profilePic:"",grade:"",section:"",roll:"",mobile:""},lq=()=>{const[t,e]=L.useState(she),[r,s]=L.useState(""),[a,i]=L.useState(!1),[o,l]=L.useState(!1),[c,d]=L.useState(!0),[u,h]=L.useState({}),[m,f]=L.useState("personal"),x=L.useRef(null),[v,g]=L.useState(0);L.useEffect(()=>{(async()=>{try{const E=localStorage.getItem("token"),R=localStorage.getItem("userType");if(!E||R!=="Student"){d(!1);return}const C=await fetch("http://localhost:5000/api/student/auth/profile",{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(C.ok){const T=await C.json();console.log("Profile data loaded:",T);const k=P=>P?new Date(P).toISOString().split("T")[0]:"";e({name:T.name||"",email:T.email||"",username:T.username||"",password:"",phone:T.mobile||"",address:T.address||"",dob:k(T.dob),education:T.grade||"",studentId:T.username||"",semester:T.nifStudent?`${T.nifStudent.grade} - Section ${T.nifStudent.section}`:"",profilePic:T.profilePic||"",grade:T.grade||"",section:T.section||"",roll:T.roll||"",mobile:T.mobile||""}),T.profilePic&&s(T.profilePic)}else console.error("Failed to fetch profile:",C.status)}catch(E){console.error("Error fetching profile:",E)}finally{d(!1)}})()},[]),L.useEffect(()=>{g(Hx());const S=E=>{var R;return g(((R=E==null?void 0:E.detail)==null?void 0:R.total)??Hx())};return window.addEventListener("points:update",S),()=>window.removeEventListener("points:update",S)},[]);const b=(S,E)=>{const R={...u};switch(S){case"name":E.length<2?R[S]="Name must be at least 2 characters":delete R[S];break;case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)?delete R[S]:R[S]="Please enter a valid email address";break;case"username":E.length<3?R[S]="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(E)?delete R[S]:R[S]="Username can only contain letters, numbers, and underscores";break;case"password":E&&E.length<6?R[S]="Password must be at least 6 characters":delete R[S];break;case"phone":/^\+?[\d\s()-]+$/.test(E)?delete R[S]:R[S]="Please enter a valid phone number";break}h(R)},N=S=>{const{name:E,value:R}=S.target;e(C=>({...C,[E]:R})),b(E,R)},w=S=>{const E=S.target.files[0];if(E){if(E.size>5*1024*1024){h(C=>({...C,profilePic:"Image size must be less than 5MB"}));return}e(C=>({...C,profilePic:E}));const R=new FileReader;R.onloadend=()=>s(R.result),R.readAsDataURL(E),u.profilePic&&h(C=>{const T={...C};return delete T.profilePic,T})}},A=async S=>{S.preventDefault(),Object.keys(t).forEach(E=>{E!=="profilePic"&&b(E,t[E])}),!(Object.keys(u).length>0)&&(l(!0),i(!1),setTimeout(()=>{i(!0),l(!1),setTimeout(()=>i(!1),3e3)},1500))},j=S=>`w-full pl-12 pr-4 py-3 border rounded-xl shadow-sm transition-all duration-200 outline-none ${u[S]?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 hover:border-yellow-400 focus:border-yellow-500 focus:ring-yellow-100"} focus:ring-4 bg-white`;return c?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your profile..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50",children:[n.jsx("header",{className:"bg-white shadow-sm",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-yellow-500 flex items-center justify-center",children:n.jsx(pn,{className:"h-6 w-6 text-white"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Portal"})]}),n.jsxs("nav",{className:"flex space-x-6",children:[n.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Dashboard"}),n.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Messages"}),n.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Settings"})]})]})}),n.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-yellow-100 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-400 px-8 py-6 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-white",children:"Profile Settings"}),n.jsx("p",{className:"text-yellow-100",children:"Manage your personal and account information"})]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-200/80 text-amber-900 font-semibold shadow-sm",children:[n.jsx(CT,{className:"w-5 h-5 text-amber-700"}),n.jsxs("span",{children:[v," Points"]})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row w-full overflow-x-hidden",children:[n.jsxs("div",{className:"w-full md:w-64 bg-gray-50 border-r border-gray-200 p-4 md:p-6",children:[n.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-8",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-yellow-300 shadow-lg bg-gray-100",children:r?n.jsx("img",{src:r,alt:"Profile Preview",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-yellow-100 to-amber-100",children:n.jsx(pn,{className:"w-16 h-16 text-yellow-600"})})}),n.jsx("button",{type:"button",onClick:()=>{var S;return(S=x.current)==null?void 0:S.click()},className:"absolute -bottom-2 -right-2 bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded-full shadow-lg transition-all duration-200 hover:shadow-xl hover:scale-105",title:"Change profile picture",children:n.jsx(AT,{className:"w-5 h-5"})}),n.jsx("input",{type:"file",accept:"image/*",ref:x,onChange:w,className:"hidden"})]}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.name}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Student Account"})]}),n.jsxs("nav",{className:"space-y-2",children:[n.jsx("button",{onClick:()=>f("personal"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="personal"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Personal Information"}),n.jsx("button",{onClick:()=>f("account"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="account"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Account Settings"}),n.jsx("button",{onClick:()=>f("security"),className:`w-full text-left px-4 py-3 rounded-lg transition-colors ${m==="security"?"bg-yellow-100 text-yellow-700 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:"Security"})]})]}),n.jsxs("div",{className:"flex-1 w-full p-4 md:p-8",children:[m==="personal"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Personal Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(pn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",name:"name",value:t.name,onChange:N,className:j("name"),placeholder:"Enter your full name",required:!0})]}),u.name&&n.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[n.jsx(Zr,{className:"w-4 h-4"}),u.name]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Student ID"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",name:"studentId",value:t.studentId,onChange:N,className:j("studentId"),placeholder:"Enter your student ID"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx(mc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"email",name:"email",value:t.email,onChange:N,className:j("email"),placeholder:"Enter your email address",required:!0})]}),u.email&&n.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[n.jsx(Zr,{className:"w-4 h-4"}),u.email]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Grade & Section"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",name:"semester",value:t.semester,onChange:N,className:j("semester"),placeholder:"Not assigned",readOnly:!0})]})]}),t.roll&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Roll Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",value:t.roll,className:j("roll"),readOnly:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:N,className:j("phone"),placeholder:"Enter your phone number"})]}),u.phone&&n.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[n.jsx(Zr,{className:"w-4 h-4"}),u.phone]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(ld,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",name:"address",value:t.address,onChange:N,className:j("address"),placeholder:"Enter your address"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth"}),n.jsxs("div",{className:"relative",children:[n.jsx(Kt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"date",name:"dob",value:t.dob,onChange:N,className:j("dob")})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Grade"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",name:"education",value:t.education||"Not assigned",className:j("education"),readOnly:!0})]})]})]})]}),m==="account"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Account Settings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cte,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",name:"username",value:t.username,onChange:N,className:j("username"),placeholder:"Choose a unique username",required:!0})]}),u.username&&n.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[n.jsx(Zr,{className:"w-4 h-4"}),u.username]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Language Preference"}),n.jsx("div",{className:"relative",children:n.jsxs("select",{className:j("language"),children:[n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Bengali"}),n.jsx("option",{value:"fr",children:"Hindi"}),n.jsx("option",{value:"de",children:"Tamil"})]})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Notification Preferences"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"email-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded",defaultChecked:!0}),n.jsx("label",{htmlFor:"email-notifications",className:"ml-2 block text-sm text-gray-700",children:"Email Notifications"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"sms-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"sms-notifications",className:"ml-2 block text-sm text-gray-700",children:"SMS Notifications"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"push-notifications",className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded",defaultChecked:!0}),n.jsx("label",{htmlFor:"push-notifications",className:"ml-2 block text-sm text-gray-700",children:"Push Notifications"})]})]})]})]})]}),m==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-2xl font-semibold text-gray-800 border-b pb-3",children:"Security Settings"}),n.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Change Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Yf,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"password",name:"password",value:t.password,onChange:N,className:j("password"),placeholder:"Enter new password",autoComplete:"new-password"})]}),u.password&&n.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[n.jsx(Zr,{className:"w-4 h-4"}),u.password]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Qw,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"password",className:j("confirmPassword"),placeholder:"Confirm your new password",autoComplete:"new-password"})]})]}),n.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Two-Factor Authentication"}),n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800",children:"SMS Authentication"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),n.jsx("button",{className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors",children:"Enable"})]})]})]})]}),m!=="children"&&n.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-200",children:[n.jsx("button",{type:"submit",onClick:A,disabled:o||Object.keys(u).length>0,className:"w-full md:w-auto px-8 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-300 disabled:to-gray-400 text-white py-3 rounded-xl transition-all duration-200 font-semibold shadow-lg hover:shadow-xl disabled:cursor-not-allowed disabled:hover:shadow-lg transform hover:scale-[1.02] active:scale-[0.98]",children:o?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving Changes..."]}):"Save Changes"}),a&&n.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[n.jsx("div",{className:"bg-green-500 rounded-full p-1",children:n.jsx(Uy,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-800 font-semibold",children:"Profile Updated Successfully!"}),n.jsx("p",{className:"text-green-700 text-sm",children:"Your changes have been saved."})]})]})]})]})]})]})}),n.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-yellow-500 flex items-center justify-center",children:n.jsx(pn,{className:"h-5 w-5 text-white"})}),n.jsx("p",{className:"text-gray-600",children:" 2025 Student Portal. All rights reserved to EEC."})]}),n.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[n.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Terms"}),n.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Privacy"}),n.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Help Center"}),n.jsx("a",{href:"#",className:"text-gray-600 hover:text-yellow-600 transition-colors",children:"Contact"})]})]})})})]})},ahe=()=>{const[t,e]=L.useState(""),[r,s]=L.useState("all"),[a,i]=L.useState("all"),[o,l]=L.useState([]),[c,d]=L.useState([]),[u,h]=L.useState(!0),[m,f]=L.useState(null),[x,v]=L.useState(null);L.useEffect(()=>{(async()=>{try{h(!0),f(null);const D=localStorage.getItem("token"),H=localStorage.getItem("userType");if(!D||H!=="Student"){h(!1);return}const F=await fetch("http://localhost:5000/api/notifications/user",{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}});if(!F.ok)throw new Error("Unable to load notices at the moment.");const z=await F.json();d(Array.isArray(z)?z:[]),v(new Date)}catch(D){console.error("Failed to fetch notices:",D),f(D.message)}finally{h(!1)}})()},[]);const b=[...c.filter(P=>{const D=(P.title||"").toLowerCase(),H=(P.message||"").toLowerCase(),F=(P.author||"School Administration").toLowerCase(),z=D.includes(t.toLowerCase())||H.includes(t.toLowerCase())||F.includes(t.toLowerCase()),O=E(P),W=R(P);return z&&(r==="all"||O===r)&&(a==="all"||W===a)})].sort((P,D)=>{const H=!!P.pinned,F=!!D.pinned;return H&&!F?-1:!H&&F?1:new Date(C(D)||0)-new Date(C(P)||0)}),N=P=>{l(D=>D.includes(P)?D.filter(H=>H!==P):[...D,P])},w=P=>{console.log(`Marked notice ${P} as read`)},A=P=>{switch(P){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-amber-100 text-amber-700 border-amber-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},j=P=>{switch(P){case"high":return Zr;case"medium":return Yb;case"low":return Dr;default:return Bs}},S=P=>{switch(P){case"academic":return"bg-blue-100 text-blue-700 border-blue-200";case"events":return"bg-purple-100 text-purple-700 border-purple-200";case"transport":return"bg-orange-100 text-orange-700 border-orange-200";case"general":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},E=P=>((P==null?void 0:P.priority)||"general").toLowerCase(),R=P=>((P==null?void 0:P.category)||(P==null?void 0:P.audience)||"general").toLowerCase(),C=P=>(P==null?void 0:P.date)||(P==null?void 0:P.createdAt)||(P==null?void 0:P.updatedAt)||null,T=P=>(P==null?void 0:P.author)||(P==null?void 0:P.createdByName)||"School Administration",k=P=>(P==null?void 0:P._id)||(P==null?void 0:P.id);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[n.jsx(Bs,{className:"w-8 h-8"}),"Notice Board"]}),n.jsx("p",{className:"text-yellow-100 text-lg",children:"Stay updated with latest school announcements and important notices"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[n.jsx("div",{className:"text-3xl font-bold",children:u?"...":c.length}),n.jsx("div",{className:"text-sm text-yellow-100",children:"Total Notices"})]}),x&&!u&&n.jsxs("p",{className:"text-xs text-yellow-100 mt-2",children:["Updated ",x.toLocaleDateString()]})]})]}),m&&n.jsxs("div",{className:"mt-4 bg-white/10 border border-red-200/30 text-white px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:[n.jsx(Zr,{size:16}),m]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 border border-yellow-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-amber-400"}),n.jsx("input",{type:"text",placeholder:"Search notices by title, content, or author...",value:t,onChange:P=>e(P.target.value),className:"w-full pl-10 pr-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-amber-500"}),n.jsxs("select",{value:r,onChange:P=>s(P.target.value),className:"pl-10 pr-8 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent appearance-none bg-white",children:[n.jsx("option",{value:"all",children:"All Priorities"}),n.jsx("option",{value:"high",children:"High Priority"}),n.jsx("option",{value:"medium",children:"Medium Priority"}),n.jsx("option",{value:"low",children:"Low Priority"})]})]}),n.jsxs("select",{value:a,onChange:P=>i(P.target.value),className:"px-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent appearance-none bg-white",children:[n.jsx("option",{value:"all",children:"All Categories"}),n.jsx("option",{value:"academic",children:"Academic"}),n.jsx("option",{value:"events",children:"Events"}),n.jsx("option",{value:"transport",children:"Transport"}),n.jsx("option",{value:"general",children:"General"})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.filter(P=>E(P)==="high").length}),n.jsx("div",{className:"text-sm text-amber-600",children:"High Priority"})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:n.jsx(Zr,{className:"w-6 h-6 text-red-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.filter(P=>!!P.pinned).length}),n.jsx("div",{className:"text-sm text-amber-600",children:"Pinned Notices"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(OD,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:o.length}),n.jsx("div",{className:"text-sm text-amber-600",children:"Bookmarked"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:n.jsx(Kw,{className:"w-6 h-6 text-amber-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:u?"":c.reduce((P,D)=>P+(Number(D.views)||0),0)}),n.jsx("div",{className:"text-sm text-amber-600",children:"Total Views"})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:n.jsx(Rn,{className:"w-6 h-6 text-yellow-600"})})]})})]}),n.jsx("div",{className:"space-y-6",children:u?n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((P,D)=>n.jsx("div",{className:"h-40 bg-white rounded-xl shadow-lg border border-yellow-100 animate-pulse"},D))}):b.length===0?n.jsxs("div",{className:"bg-white rounded-xl p-12 text-center shadow-lg border border-yellow-100",children:[n.jsx(Bs,{className:"w-16 h-16 mx-auto text-amber-300 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-amber-900 mb-2",children:"No notices found"}),n.jsx("p",{className:"text-amber-600",children:"Try adjusting your search or filter criteria"})]}):b.map(P=>{const D=k(P),H=E(P),F=R(P),z=C(P),O=T(P),W=Number(P.views)||0,ee=Array.isArray(P.attachments)?P.attachments:[],K=j(H),re=o.includes(D),U=!!P.pinned;return n.jsx("div",{className:`bg-white rounded-xl shadow-lg border transition-all duration-200 hover:shadow-xl ${U?"border-purple-200 ring-2 ring-purple-100":"border-yellow-100"} hover:border-amber-200`,children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[U&&n.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[n.jsx(OD,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Pinned"})]}),n.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full border text-xs font-medium ${A(H)}`,children:[n.jsx(K,{className:"w-3 h-3"}),H.toUpperCase()]}),n.jsx("div",{className:`px-2 py-1 rounded-full border text-xs font-medium ${S(F)}`,children:F.toUpperCase()})]}),n.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2 leading-tight",children:P.title}),n.jsx("p",{className:"text-amber-700 leading-relaxed mb-4",children:P.message}),ee.length>0&&n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map((Y,V)=>n.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 border border-yellow-200 rounded-lg px-3 py-2 text-sm cursor-pointer hover:bg-yellow-100 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4 text-amber-600"}),n.jsx("span",{className:"text-amber-800",children:Y})]},V))})})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("button",{onClick:()=>N(D),className:`p-2 rounded-lg transition-colors ${re?"bg-amber-100 text-amber-600 hover:bg-amber-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:re?"Remove bookmark":"Add bookmark",children:re?n.jsx(Ute,{className:"w-5 h-5"}):n.jsx(Kw,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 rounded-lg bg-purple-100 text-purple-600 hover:bg-purple-200 transition-colors",title:"Share notice",children:n.jsx(Zb,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-yellow-100",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-amber-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pn,{className:"w-4 h-4"}),n.jsx("span",{children:O})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"w-4 h-4"}),n.jsx("span",{children:z?new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Date TBA"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Rn,{className:"w-4 h-4"}),n.jsxs("span",{children:[W," views"]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{onClick:()=>w(D),className:"px-4 py-2 bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors text-sm font-medium",children:"Mark as Read"})})]})]})},D)})})]})},ihe=()=>{var D;const[t,e]=L.useState(""),[r,s]=L.useState(""),[a,i]=L.useState({}),[o,l]=L.useState({}),[c,d]=L.useState(""),[u,h]=L.useState(!1),[m,f]=L.useState(""),[x,v]=L.useState("all"),[g,b]=L.useState(!1),N=[{id:"mathematics",name:"Mathematics",teacher:"Dr. Sarah Johnson",teacherImage:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",code:"MATH-101",schedule:"Mon, Wed, Fri - 9:00 AM"},{id:"physics",name:"Physics",teacher:"Prof. Michael Chen",teacherImage:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",code:"PHY-201",schedule:"Tue, Thu - 11:00 AM"},{id:"chemistry",name:"Chemistry",teacher:"Dr. Emily Rodriguez",teacherImage:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",code:"CHEM-201",schedule:"Mon, Wed, Fri - 2:00 PM"},{id:"english",name:"English Literature",teacher:"Ms. Jennifer Davis",teacherImage:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face",code:"ENG-301",schedule:"Tue, Thu - 10:00 AM"},{id:"history",name:"World History",teacher:"Mr. David Thompson",teacherImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",code:"HIST-201",schedule:"Mon, Wed - 1:00 PM"},{id:"biology",name:"Biology",teacher:"Dr. Lisa Anderson",teacherImage:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=150&h=150&fit=crop&crop=face",code:"BIO-201",schedule:"Tue, Fri - 9:00 AM"}],w=[{id:"teaching_quality",label:"Teaching Quality",description:"How well does the teacher explain concepts?",icon:Kn},{id:"communication",label:"Communication",description:"How clear and effective is the teacher's communication?",icon:ou},{id:"engagement",label:"Student Engagement",description:"How well does the teacher engage students in learning?",icon:sr},{id:"preparation",label:"Class Preparation",description:"How well-prepared is the teacher for each class?",icon:kr},{id:"availability",label:"Availability & Support",description:"How accessible is the teacher for questions and help?",icon:il},{id:"fairness",label:"Fair Assessment",description:"How fair and consistent is the teacher's grading?",icon:rs}],A=[{id:1,subject:"Mathematics",teacher:"Dr. Sarah Johnson",date:"2024-07-15",rating:4.5,feedback:"Excellent teacher! Very clear explanations and always willing to help.",categories:{teaching_quality:5,communication:4,engagement:5,preparation:4,availability:5,fairness:4}},{id:2,subject:"Physics",teacher:"Prof. Michael Chen",date:"2024-07-10",rating:4,feedback:"Great practical demonstrations. Could improve on explaining complex theories.",categories:{teaching_quality:4,communication:3,engagement:5,preparation:4,availability:4,fairness:4}}],j=(H,F)=>{i(z=>({...z,[H]:F}))},S=(H,F)=>{l(z=>({...z,[H]:F}))},E=H=>{l(F=>({...F,[H]:0}))},R=()=>{const H=Object.values(a);return H.length===0?0:(H.reduce((F,z)=>F+z,0)/H.length).toFixed(1)},C=()=>{if(!t||Object.keys(a).length===0){alert("Please select a subject and provide ratings before submitting.");return}console.log("Feedback submitted:",{subject:t,ratings:a,feedback:c,averageRating:R()}),h(!0),setTimeout(()=>{h(!1),i({}),d(""),e(""),s("")},3e3)},T=()=>{i({}),d(""),e(""),s("")},k=N.filter(H=>H.name.toLowerCase().includes(m.toLowerCase())||H.teacher.toLowerCase().includes(m.toLowerCase())),P=A.filter(H=>x==="all"||H.subject.toLowerCase().includes(x.toLowerCase()));return u?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 flex items-center justify-center p-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center border border-yellow-200 max-w-md mx-auto",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Dr,{className:"w-8 h-8 text-green-600"})}),n.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-2",children:"Feedback Submitted!"}),n.jsx("p",{className:"text-amber-600 mb-4",children:"Thank you for your valuable feedback. Your input helps us improve the learning experience."}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-amber-700",children:[n.jsx("strong",{children:"Subject:"})," ",(D=N.find(H=>H.id===t))==null?void 0:D.name,n.jsx("br",{}),n.jsx("strong",{children:"Average Rating:"})," ",R(),"/5 stars"]})})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-amber-50 to-purple-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[n.jsx(ou,{className:"w-8 h-8"}),"Teacher Feedback"]}),n.jsx("p",{className:"text-yellow-100 text-lg",children:"Share your thoughts about your teachers and help improve the learning experience"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[n.jsx("div",{className:"text-3xl font-bold",children:N.length}),n.jsx("div",{className:"text-sm text-yellow-100",children:"Subjects Available"})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(kr,{className:"w-6 h-6 text-purple-600"}),n.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Select Subject & Teacher"})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-amber-400"}),n.jsx("input",{type:"text",placeholder:"Search subjects or teachers...",value:m,onChange:H=>f(H.target.value),className:"w-full pl-10 pr-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent"})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(H=>n.jsxs("div",{onClick:()=>{e(H.id),s(H.teacher)},className:`p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 hover:shadow-md ${t===H.id?"border-purple-400 bg-purple-50 ring-2 ring-purple-100":"border-yellow-200 bg-white hover:border-amber-300"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("img",{src:H.teacherImage,alt:H.teacher,className:"w-10 h-10 rounded-full object-cover border-2 border-white shadow-sm",onError:F=>{F.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-amber-900",children:H.name}),n.jsx("p",{className:"text-sm text-amber-600",children:H.code})]})]}),n.jsxs("div",{className:"text-sm text-amber-700",children:[n.jsx("p",{className:"font-medium",children:H.teacher}),n.jsx("p",{className:"text-xs text-amber-600",children:H.schedule})]})]},H.id))})]}),t&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kr,{className:"w-6 h-6 text-amber-500"}),n.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Rate Your Teacher"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:R()}),n.jsx("div",{className:"text-sm text-amber-600",children:"Average Rating"})]})]}),n.jsx("div",{className:"space-y-6",children:w.map(H=>{const F=H.icon;return n.jsx("div",{className:"border-b border-yellow-100 pb-4 last:border-b-0",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:n.jsx(F,{className:"w-5 h-5 text-amber-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-amber-900 mb-1",children:H.label}),n.jsx("p",{className:"text-sm text-amber-600 mb-3",children:H.description}),n.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(z=>n.jsx("button",{type:"button",className:"focus:outline-none transition-transform hover:scale-110",onMouseEnter:()=>S(H.id,z),onMouseLeave:()=>E(H.id),onClick:()=>j(H.id,z),children:n.jsx(Kr,{className:`w-6 h-6 transition-colors ${z<=(o[H.id]||a[H.id]||0)?"fill-yellow-400 text-yellow-500":"text-gray-300 hover:text-gray-400"}`})},z)),a[H.id]&&n.jsxs("span",{className:"ml-2 text-sm font-medium text-amber-700",children:[a[H.id],"/5"]})]})]})]})},H.id)})})]}),t&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Ao,{className:"w-6 h-6 text-green-600"}),n.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Additional Comments"})]}),n.jsx("textarea",{rows:"5",placeholder:"Share specific feedback, suggestions, or what you appreciate about this teacher's teaching style...",value:c,onChange:H=>d(H.target.value),className:"w-full px-4 py-3 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent resize-none"}),n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-amber-600",children:[c.length,"/500 characters"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(io,{className:"w-4 h-4"}),"Reset"]}),n.jsxs("button",{onClick:C,disabled:!t||Object.keys(a).length===0,className:"flex items-center gap-2 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(np,{className:"w-4 h-4"}),"Submit Feedback"]})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-yellow-100",children:[n.jsxs("h3",{className:"text-lg font-bold text-amber-900 mb-4 flex items-center gap-2",children:[n.jsx(Yr,{className:"w-5 h-5 text-purple-600"}),"Your Feedback Stats"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[n.jsx("span",{className:"text-amber-700",children:"Total Feedback Given"}),n.jsx("span",{className:"font-bold text-amber-900",children:"12"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[n.jsx("span",{className:"text-purple-700",children:"Average Rating Given"}),n.jsx("span",{className:"font-bold text-purple-900",children:"4.2/5"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsx("span",{className:"text-green-700",children:"Response Rate"}),n.jsx("span",{className:"font-bold text-green-900",children:"89%"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-yellow-100",children:[n.jsxs("div",{className:"p-6 border-b border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-bold text-amber-900 flex items-center gap-2",children:[n.jsx(Rn,{className:"w-5 h-5 text-blue-600"}),"Previous Feedback"]}),n.jsxs("button",{onClick:()=>b(!g),className:"flex items-center gap-1 text-purple-600 hover:text-purple-700",children:[g?n.jsx(bs,{className:"w-4 h-4"}):n.jsx(Vs,{className:"w-4 h-4"}),g?"Hide":"Show"]})]}),g&&n.jsx("div",{className:"mt-4",children:n.jsxs("select",{value:x,onChange:H=>v(H.target.value),className:"w-full px-3 py-2 border border-yellow-200 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Subjects"}),N.map(H=>n.jsx("option",{value:H.name,children:H.name},H.id))]})})]}),g&&n.jsx("div",{className:"max-h-96 overflow-y-auto",children:P.map(H=>n.jsxs("div",{className:"p-4 border-b border-yellow-100 last:border-b-0 hover:bg-yellow-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-amber-900",children:H.subject}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kr,{className:"w-4 h-4 fill-yellow-400 text-yellow-500"}),n.jsx("span",{className:"text-sm font-medium text-amber-700",children:H.rating})]})]}),n.jsx("p",{className:"text-sm text-amber-600 mb-2",children:H.teacher}),n.jsxs("p",{className:"text-sm text-amber-700 mb-2",children:['"',H.feedback,'"']}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-amber-600",children:[n.jsx("span",{children:new Date(H.date).toLocaleDateString()}),n.jsx("span",{children:"6 categories rated"})]})]},H.id))})]})]})]})]})},cq="eec_student_chat_v2",p_=[{id:"class-group",name:"Class 10-A Group",type:"class",unread:1,lastMessage:"Anyone finished Q5 of the assignment?",lastTime:Date.now()-34e5,members:32,avatarColor:"bg-amber-500"},{id:"math-teacher",name:"Ms. Johnson - Math",type:"teacher",unread:0,lastMessage:"Reminder: submit by 6 PM today.",lastTime:Date.now()-72e5,members:2,avatarColor:"bg-blue-500",isOnline:!0},{id:"office",name:"School Office",type:"admin",unread:0,lastMessage:"PTM next Monday at 10 AM.",lastTime:Date.now()-54e5,members:4,avatarColor:"bg-purple-500"},{id:"study-group",name:"Science Study Group",type:"group",unread:3,lastMessage:"Let's meet at the library tomorrow",lastTime:Date.now()-18e5,members:5,avatarColor:"bg-green-500"}],x_={"class-group":[{id:"m1",sender:"student-other",senderName:"Alex Kim",text:"Anyone finished Q5 of the assignment?",ts:Date.now()-36e5},{id:"m2",sender:"student-other",senderName:"Maria Lopez",text:"Still working on it. It's tricky!",ts:Date.now()-34e5},{id:"m3",sender:"student-other",senderName:"James Wilson",text:"I think I got it. The answer should be 42.",ts:Date.now()-32e5},{id:"m4",sender:"student",senderName:"You",text:"Thanks James! That helps a lot.",ts:Date.now()-3e6}],"math-teacher":[{id:"m5",sender:"teacher",senderName:"Ms. Johnson",text:"Reminder: Assignment due by 6 PM today.",ts:Date.now()-72e5},{id:"m6",sender:"student",senderName:"You",text:"Understood, I'll submit it soon.",ts:Date.now()-7e6}],office:[{id:"m7",sender:"admin",senderName:"School Office",text:"Parent-Teacher Meeting next Monday at 10 AM.",ts:Date.now()-54e5},{id:"m8",sender:"student",senderName:"You",text:"Noted, I'll inform my parents.",ts:Date.now()-52e5}],"study-group":[{id:"m9",sender:"student-other",senderName:"Tom Chen",text:"Does anyone understand Newton's Third Law?",ts:Date.now()-108e5},{id:"m10",sender:"student-other",senderName:"Lisa Park",text:"I can explain it during our study session.",ts:Date.now()-106e5},{id:"m11",sender:"student",senderName:"You",text:"When are we meeting next?",ts:Date.now()-104e5},{id:"m12",sender:"student-other",senderName:"Tom Chen",text:"Let's meet at the library tomorrow after school",ts:Date.now()-102e5},{id:"m13",sender:"student-other",senderName:"Maria Lopez",text:"Works for me! I'll bring snacks.",ts:Date.now()-1e7}]};function ohe(){var t;try{const e=localStorage.getItem(cq);if(!e)return{conversations:p_,messages:x_};const r=JSON.parse(e);return{conversations:(t=r.conversations)!=null&&t.length?r.conversations:p_,messages:r.messages||x_}}catch{return{conversations:p_,messages:x_}}}function lhe(t){try{localStorage.setItem(cq,JSON.stringify(t))}catch{}}const che=({message:t,isMine:e,showSender:r})=>{const s=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return n.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} mb-4`,children:n.jsxs("div",{className:`max-w-[80%] flex flex-col ${e?"items-end":"items-start"}`,children:[!e&&r&&n.jsx("span",{className:"text-xs text-gray-500 mb-1 ml-1",children:t.senderName}),n.jsxs("div",{className:`rounded-2xl px-4 py-2 text-sm ${e?"bg-amber-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[t.type==="file"?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kT,{className:`h-4 w-4 ${e?"text-amber-100":"text-gray-600"}`}),n.jsx("span",{className:"underline break-all",children:t.fileName||"Attachment"})]}):t.type==="voice"?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bW,{className:`h-4 w-4 ${e?"text-amber-100":"text-gray-600"}`}),n.jsx("span",{children:"Voice message"})]}):n.jsx("div",{className:"whitespace-pre-wrap",children:t.text}),n.jsx("div",{className:`text-xs mt-1 ${e?"text-amber-100":"text-gray-500"} text-right`,children:s(t.ts)})]})]})})},dhe=({conversation:t,isActive:e,onClick:r})=>{const s=a=>{const o=Date.now()-a,l=Math.floor(o/(1e3*60*60*24));return l===0?new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):l===1?"Yesterday":new Date(a).toLocaleDateString([],{month:"short",day:"numeric"})};return n.jsxs("button",{onClick:r,className:`w-full text-left p-3 flex items-center gap-3 transition-colors ${e?"bg-amber-50":"hover:bg-gray-50"} border-b`,children:[n.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center text-white ${t.avatarColor}`,children:t.type==="class"||t.type==="group"?n.jsx(sr,{className:"h-5 w-5"}):n.jsx(vs,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-gray-800 truncate",children:t.name}),t.unread>0&&n.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-amber-500 text-white text-xs",children:t.unread})]}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:t.lastMessage}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:"text-xs text-gray-400",children:s(t.lastTime)}),t.type==="teacher"&&t.isOnline&&n.jsxs("span",{className:"text-xs text-green-500 flex items-center",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-1"}),"Online"]})]})]})]})},HR=()=>{var S;const[{conversations:t,messages:e},r]=L.useState(ohe),[s,a]=L.useState(((S=t[0])==null?void 0:S.id)||null),[i,o]=L.useState(""),[l,c]=L.useState(""),[d,u]=L.useState("text"),[h,m]=L.useState(null),[f,x]=L.useState(!1),[v,g]=L.useState(!1);L.useRef(null);const b=L.useRef(null),N=L.useMemo(()=>e[s]||[],[e,s]),w=L.useMemo(()=>t.find(E=>E.id===s),[t,s]);L.useEffect(()=>{lhe({conversations:t,messages:e})},[t,e]),L.useEffect(()=>{s&&r(E=>({...E,conversations:E.conversations.map(R=>R.id===s?{...R,unread:0}:R)}))},[s]),L.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[N]);const A=L.useMemo(()=>{const E=i.trim().toLowerCase();return E?t.filter(R=>R.name.toLowerCase().includes(E)||R.lastMessage.toLowerCase().includes(E)):t},[t,i]),j=()=>{if(!s)return;let E;if(d==="text"){const C=l.trim();if(!C)return;E={id:crypto.randomUUID(),sender:"student",senderName:"You",text:C,ts:Date.now(),type:"text"}}else if(d==="file"){if(!h)return;E={id:crypto.randomUUID(),sender:"student",senderName:"You",ts:Date.now(),type:"file",fileName:h.name}}else d==="voice"&&(E={id:crypto.randomUUID(),sender:"student",senderName:"You",ts:Date.now(),type:"voice"});const R=E.type==="text"?E.text||"":E.type==="file"?`[File] ${E.fileName}`:"[Voice message]";r(C=>({conversations:C.conversations.map(T=>T.id===s?{...T,lastMessage:R,lastTime:Date.now()}:T),messages:{...C.messages,[s]:[...C.messages[s]||[],E]}})),c(""),m(null),x(!1)};return L.useEffect(()=>{const E=()=>g(window.innerWidth<768);return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),n.jsxs("div",{className:"h-full min-h-0 bg-gray-50 flex w-full",children:[n.jsxs("div",{className:`w-full md:w-80 bg-white border-r flex flex-col h-full min-h-0 ${v&&s?"hidden":"flex"}`,children:[n.jsxs("div",{className:"p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:n.jsx(vs,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold text-gray-800",children:"Student Chat"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Connect with classmates and teachers"})]})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[n.jsx(In,{className:"h-4 w-4 text-gray-500"}),n.jsx("input",{value:i,onChange:E=>o(E.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-500"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:n.jsxs("div",{className:"px-3 py-2",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider px-2 mb-1",children:"Conversations"}),A.map(E=>n.jsx(dhe,{conversation:E,isActive:s===E.id,onClick:()=>{a(E.id)}},E.id)),A.length===0&&n.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No conversations found"})]})}),n.jsx("div",{className:"p-4 border-t bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-amber-200 flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-amber-800",children:"You"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Student"})]}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Online"})]})})]}),n.jsx("div",{className:`flex-1 flex flex-col h-full min-h-0 ${v&&!s?"hidden":"flex"}`,children:s?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"px-6 py-4 border-b bg-white flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[v&&n.jsx("button",{onClick:()=>a(null),className:"md:hidden h-10 w-10 rounded-full flex items-center justify-center hover:bg-gray-100",children:n.jsx(xd,{className:"h-5 w-5 text-gray-600"})}),n.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:w.type==="class"||w.type==="group"?n.jsx(sr,{className:"h-5 w-5 text-amber-600"}):n.jsx(vs,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-800",children:w.name}),n.jsx("div",{className:"text-xs text-gray-500 capitalize",children:w.type==="teacher"&&w.isOnline?n.jsxs("span",{className:"text-green-500 flex items-center",children:[n.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-1"}),"Online"]}):`${w.members} members`})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[w.type==="teacher"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:n.jsx(Sc,{className:"h-5 w-5 text-gray-600"})}),n.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:n.jsx(Bm,{className:"h-5 w-5 text-gray-600"})})]}),n.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:n.jsx(Yb,{className:"h-5 w-5 text-gray-600"})})]})]}),n.jsx("div",{ref:b,className:"flex-1 overflow-y-auto p-6 bg-gray-50 flex flex-col-reverse custom-scrollbar",style:{display:"flex",flexDirection:"column-reverse"},children:N.length?n.jsx("div",{children:N.map((E,R)=>{const C=E.sender==="student",T=!C&&(R===0||N[R-1].sender!==E.sender||E.ts-N[R-1].ts>6e5);return n.jsx(che,{message:E,isMine:C,showSender:T},E.id)})}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(vs,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.jsx("p",{className:"font-medium",children:"No messages yet"}),n.jsx("p",{className:"text-sm mt-1",children:"Send a message to start the conversation"})]})})}),n.jsx("div",{className:"border-t bg-white p-4",children:n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsxs("div",{className:"flex-1 bg-gray-100 rounded-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between px-3 pt-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("span",{className:"text-gray-500",children:"Type:"}),n.jsx("div",{className:"inline-flex rounded-md overflow-hidden border border-gray-300",children:["text","voice","file"].map(E=>n.jsx("button",{onClick:()=>u(E),className:`px-2 py-1 ${d===E?"bg-white text-gray-800":"text-gray-600 hover:bg-white/60"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[d==="voice"&&n.jsx("button",{onClick:()=>x(E=>!E),className:`px-2 py-1 rounded-md ${f?"bg-red-500 text-white":"bg-white text-gray-700"}`,children:f?"Stop Recording":"Record"}),d==="file"&&n.jsxs("label",{className:"px-2 py-1 rounded-md bg-white text-gray-700 cursor-pointer",children:[n.jsx("input",{type:"file",className:"hidden",onChange:E=>{var R;return m(((R=E.target.files)==null?void 0:R[0])||null)}}),"Choose File"]})]})]}),n.jsxs("div",{className:"flex items-end",children:[d==="text"&&n.jsx("textarea",{rows:1,value:l,onChange:E=>c(E.target.value),onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),j())},placeholder:"Type your message...",className:"flex-1 resize-none bg-transparent px-3 py-3 text-sm focus:outline-none min-h-[44px] max-h-32"}),d==="file"&&n.jsx("div",{className:"flex-1 px-3 py-3 text-sm text-gray-700",children:h?`Selected: ${h.name}`:"No file selected"}),d==="voice"&&n.jsx("div",{className:"flex-1 px-3 py-3 text-sm text-gray-700",children:f?"Recording...":"Press Record to capture voice message"})]})]}),n.jsx("button",{onClick:j,disabled:d==="text"&&!l.trim()||d==="file"&&!h,className:"h-12 w-12 rounded-full bg-amber-600 text-white flex items-center justify-center hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(np,{className:"h-5 w-5"})})]})})]}):n.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 p-6",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx(vs,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Welcome to Student Chat"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Select a conversation from the sidebar to start messaging with your classmates, teachers, or school administration."})]})})})]})},uhe=()=>{const[t,e]=L.useState({studentName:"",rollNumber:"",class:"",section:"",parentName:"",parentEmail:"",parentPhone:"",dateFrom:"",dateTo:"",reason:"",reasonType:"illness",additionalNotes:"",emergencyContact:""}),[r,s]=L.useState([{id:1,studentName:"John Doe",class:"10-A",reason:"Medical appointment",dateFrom:"2025-01-15",dateTo:"2025-01-15",status:"approved",submittedOn:"2025-01-12",approvedBy:"Ms. Johnson"},{id:2,studentName:"John Doe",class:"10-A",reason:"Family emergency",dateFrom:"2025-01-08",dateTo:"2025-01-10",status:"pending",submittedOn:"2025-01-07",approvedBy:null}]),[a,i]=L.useState("new"),[o,l]=L.useState(null),c=[{value:"illness",label:"Illness/Medical",icon:""},{value:"family",label:"Family Emergency",icon:""},{value:"personal",label:"Personal Reasons",icon:""},{value:"travel",label:"Travel/Vacation",icon:""},{value:"appointment",label:"Medical Appointment",icon:""},{value:"other",label:"Other",icon:""}],d=f=>{const{name:x,value:v}=f.target;e(g=>({...g,[x]:v}))},u=f=>{f.preventDefault();const x={id:r.length+1,studentName:t.studentName,class:`${t.class}-${t.section}`,reason:t.reason,dateFrom:t.dateFrom,dateTo:t.dateTo,status:"pending",submittedOn:new Date().toISOString().split("T")[0],approvedBy:null,formData:{...t}};s(v=>[x,...v]),e({studentName:"",rollNumber:"",class:"",section:"",parentName:"",parentEmail:"",parentPhone:"",dateFrom:"",dateTo:"",reason:"",reasonType:"illness",additionalNotes:"",emergencyContact:""}),alert("Excuse letter submitted successfully!"),i("history")},h=f=>{var v;const x=f.formData||t;return{date:new Date().toLocaleDateString(),content:`
Date: ${new Date().toLocaleDateString()}

To,
The Principal/Class Teacher
Electronic Educare

Subject: Request for Leave of Absence

Dear Sir/Madam,

I am writing to inform you that my ward, ${x.studentName}, studying in Class ${x.class}-${x.section}, Roll Number: ${x.rollNumber}, will not be able to attend school from ${new Date(x.dateFrom).toLocaleDateString()} to ${new Date(x.dateTo).toLocaleDateString()}.

Reason for absence: ${x.reason}
Type: ${((v=c.find(g=>g.value===x.reasonType))==null?void 0:v.label)||x.reasonType}

${x.additionalNotes?`Additional Information: ${x.additionalNotes}`:""}

I kindly request you to grant permission for the leave and excuse the absence.

Thank you for your consideration.

Yours sincerely,
${x.parentName}
(Parent/Guardian)

Contact Details:
Email: ${x.parentEmail}
Phone: ${x.parentPhone}
Emergency Contact: ${x.emergencyContact}
      `}},m=f=>{const x=h(f),v=document.createElement("a"),g=new Blob([x.content],{type:"text/plain"});v.href=URL.createObjectURL(g),v.download=`excuse_letter_${f.studentName}_${f.dateFrom}.txt`,document.body.appendChild(v),v.click(),document.body.removeChild(v)};return n.jsxs("div",{className:"h-full bg-gray-50 flex flex-col",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(jr,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Excuse Letters"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Submit and manage leave applications"})]})]})})}),n.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:n.jsxs("div",{className:"flex space-x-8",children:[n.jsx("button",{onClick:()=>i("new"),className:`py-3 px-1 border-b-2 font-medium text-sm ${a==="new"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"New Letter"}),n.jsxs("button",{onClick:()=>i("history"),className:`py-3 px-1 border-b-2 font-medium text-sm ${a==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["History (",r.length,")"]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a==="new"?n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(pn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Student Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name *"}),n.jsx("input",{type:"text",name:"studentName",value:t.studentName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Roll Number *"}),n.jsx("input",{type:"text",name:"rollNumber",value:t.rollNumber,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsxs("select",{name:"class",value:t.class,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Select Class"}),Array.from({length:12},(f,x)=>x+1).map(f=>n.jsxs("option",{value:f,children:["Class ",f]},f))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),n.jsxs("select",{name:"section",value:t.section,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Select Section"}),["A","B","C","D"].map(f=>n.jsxs("option",{value:f,children:["Section ",f]},f))]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(mc,{className:"h-5 w-5 mr-2 text-green-600"}),"Parent/Guardian Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent/Guardian Name *"}),n.jsx("input",{type:"text",name:"parentName",value:t.parentName,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),n.jsx("input",{type:"email",name:"parentEmail",value:t.parentEmail,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),n.jsx("input",{type:"tel",name:"parentPhone",value:t.parentPhone,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact"}),n.jsx("input",{type:"tel",name:"emergencyContact",value:t.emergencyContact,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Kt,{className:"h-5 w-5 mr-2 text-purple-600"}),"Leave Details"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date *"}),n.jsx("input",{type:"date",name:"dateFrom",value:t.dateFrom,onChange:d,min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date *"}),n.jsx("input",{type:"date",name:"dateTo",value:t.dateTo,onChange:d,min:t.dateFrom||new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason Type *"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:c.map(f=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"reasonType",value:f.value,checked:t.reasonType===f.value,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),n.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[f.icon," ",f.label]})]},f.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detailed Reason *"}),n.jsx("textarea",{name:"reason",value:t.reason,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide specific details about the reason for absence...",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),n.jsx("textarea",{name:"additionalNotes",value:t.additionalNotes,onChange:d,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional information you'd like to share..."})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsxs("button",{type:"button",onClick:()=>l(h({formData:t})),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors flex items-center",children:[n.jsx(Rn,{className:"h-4 w-4 mr-2"}),"Preview Letter"]}),n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[n.jsx(np,{className:"h-4 w-4 mr-2"}),"Submit Excuse Letter"]})]})]})}):n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Submitted Excuse Letters"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Period"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.studentName}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Class ",f.class]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[new Date(f.dateFrom).toLocaleDateString()," - ",new Date(f.dateTo).toLocaleDateString()]}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:f.reason})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[f.status==="approved"&&n.jsx(Dr,{className:"h-3 w-3 mr-1"}),f.status==="pending"&&n.jsx(nr,{className:"h-3 w-3 mr-1"}),f.status==="rejected"&&n.jsx(Zr,{className:"h-3 w-3 mr-1"}),f.status.charAt(0).toUpperCase()+f.status.slice(1)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.submittedOn).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>l(h(f)),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[n.jsx(Rn,{className:"h-4 w-4 mr-1"}),"View"]}),n.jsxs("button",{onClick:()=>m(f),className:"text-green-600 hover:text-green-900 flex items-center",children:[n.jsx(tn,{className:"h-4 w-4 mr-1"}),"Download"]})]})})]},f.id))})]})})]})})}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Letter Preview"}),n.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.jsx("div",{className:"p-6",children:n.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 bg-gray-50 p-4 rounded-lg border",children:o.content})}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Close"}),n.jsxs("button",{onClick:()=>{const f=document.createElement("a"),x=new Blob([o.content],{type:"text/plain"});f.href=URL.createObjectURL(x),f.download=`excuse_letter_${o.date}.txt`,document.body.appendChild(f),f.click(),document.body.removeChild(f)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[n.jsx(tn,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})},hhe=({subject:t})=>{const[e,r]=L.useState(""),[s,a]=L.useState("medium"),[i,o]=L.useState(""),[l,c]=L.useState(!1),[d,u]=L.useState(!1),[h,m]=L.useState(!1),f=[{id:"basic",name:"Basic",description:"Simple explanations for beginners",color:"green"},{id:"medium",name:"Intermediate",description:"Balanced depth and clarity",color:"blue"},{id:"advanced",name:"Advanced",description:"Comprehensive and detailed",color:"red"}],x=async()=>{if(e){c(!0);try{const A=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"summary",difficulty:s})});if(A.ok){const j=await A.json();o(j.content),v("summary")}else o(WR[e]||`AI-generated summary for ${e} in ${t.name} at ${s} level.`)}catch(A){console.error("Error generating summary:",A),o(WR[e]||`AI-generated summary for ${e} in ${t.name} at ${s} level.`)}finally{c(!1)}}},v=async A=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:A,timeSpent:Math.floor(Math.random()*20)+5,completed:!0})})}catch(j){console.error("Error logging activity:",j)}},g=async()=>{try{await navigator.clipboard.writeText(i),u(!0),setTimeout(()=>u(!1),2e3)}catch(A){console.error("Error copying to clipboard:",A)}},b=()=>{const A=document.createElement("a"),j=new Blob([i],{type:"text/plain"});A.href=URL.createObjectURL(j),A.download=`${e}_summary.txt`,document.body.appendChild(A),A.click(),document.body.removeChild(A)},N=()=>{if(h)speechSynthesis.cancel(),m(!1);else{const A=new SpeechSynthesisUtterance(i);A.rate=.8,A.pitch=1,A.onend=()=>m(!1),speechSynthesis.speak(A),m(!0)}},w=A=>{const j={basic:"text-green-600 bg-green-100 border-green-200",medium:"text-blue-600 bg-blue-100 border-blue-200",advanced:"text-red-600 bg-red-100 border-red-200"};return j[A]||j.medium};return n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[n.jsx(Zd,{className:"w-7 h-7 mr-3"}),"AI Summary Generator"]}),n.jsx("p",{className:"text-green-100 mt-1",children:"Get intelligent summaries tailored to your learning level"})]}),n.jsx("div",{className:"bg-green-400 p-3 rounded-xl",children:n.jsx(Pn,{className:"w-8 h-8"})})]})}),n.jsxs("div",{className:"p-6 border-b border-gray-100",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic"}),n.jsxs("select",{value:e,onChange:A=>r(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((A,j)=>n.jsx("option",{value:A,children:A},j))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map(A=>n.jsx("button",{onClick:()=>a(A.id),className:`p-3 rounded-lg border text-sm font-medium transition-all ${s===A.id?w(A.id):"text-gray-600 bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-semibold",children:A.name}),n.jsx("div",{className:"text-xs mt-1 opacity-75",children:A.description})]})},A.id))})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:x,disabled:!e||l,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:l?n.jsxs(n.Fragment,{children:[n.jsx($x,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Generating AI Summary..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(lu,{className:"w-5 h-5"}),n.jsx("span",{children:"Generate Summary"})]})})})]}),i&&n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(jr,{className:"w-5 h-5 mr-2 text-green-600"}),"Summary: ",e,n.jsx("span",{className:`ml-3 px-2 py-1 rounded-full text-xs font-medium ${w(s)}`,children:s})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:N,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:h?"Stop reading":"Read aloud",children:h?n.jsx(Yse,{className:"w-5 h-5"}):n.jsx(Vse,{className:"w-5 h-5"})}),n.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Copy to clipboard",children:d?n.jsx(Dr,{className:"w-5 h-5 text-green-600"}):n.jsx(zy,{className:"w-5 h-5"})}),n.jsx("button",{onClick:b,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download as text file",children:n.jsx(tn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:x,className:"p-2 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Regenerate summary",children:n.jsx(Pg,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:n.jsx("div",{className:"prose prose-green max-w-none",children:n.jsx("div",{className:"text-gray-800 leading-relaxed whitespace-pre-line",children:i})})}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Word Count"}),n.jsx("p",{className:"text-2xl font-bold text-blue-800",children:i.split(" ").length})]}),n.jsx(kr,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Reading Time"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-800",children:[Math.ceil(i.split(" ").length/200)," min"]})]}),n.jsx(nr,{className:"w-8 h-8 text-purple-500"})]})}),n.jsx("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Difficulty"}),n.jsx("p",{className:"text-2xl font-bold text-orange-800 capitalize",children:s})]}),n.jsx(Kr,{className:"w-8 h-8 text-orange-500"})]})})]}),n.jsx("div",{className:"mt-6 bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Zr,{className:"w-5 h-5 text-yellow-600 mt-1 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Learning Tips"}),n.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Read the summary multiple times for better retention"}),n.jsx("li",{children:" Try explaining the concepts in your own words"}),n.jsx("li",{children:" Use the mind map feature to visualize connections"}),n.jsx("li",{children:" Test your understanding with the AI quiz"})]})]})]})})]}),!i&&!l&&n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Zd,{className:"w-8 h-8 text-green-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Generate"}),n.jsx("p",{className:"text-gray-600 mb-4",children:'Select a topic and difficulty level, then click "Generate Summary" to get started.'}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"AI Summary Features:"}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 text-left",children:[n.jsx("li",{children:" Personalized difficulty levels"}),n.jsx("li",{children:" Topic-specific content"}),n.jsx("li",{children:" Text-to-speech support"}),n.jsx("li",{children:" Download and share options"}),n.jsx("li",{children:" Learning progress tracking"})]})]})]})]})})},WR={Algebra:`Algebra is a branch of mathematics that uses symbols and letters to represent numbers and quantities in formulas and equations. It's like arithmetic with unknown values that we need to find.

Key Concepts:
- Variables: Letters (like x, y, z) that represent unknown numbers
- Equations: Mathematical statements showing that two expressions are equal
- Operations: Addition, subtraction, multiplication, and division with variables

Basic Rules:
1. Whatever you do to one side of an equation, you must do to the other side
2. Combine like terms (terms with the same variable)
3. Use inverse operations to isolate variables

Applications:
Algebra is used in everyday life for calculating costs, determining distances, solving word problems, and forms the foundation for advanced mathematics like calculus and statistics.`,"Quadratic Equations":`Quadratic equations are mathematical expressions of the form ax + bx + c = 0, where a, b, and c are constants and a  0. They represent parabolic curves when graphed.

Key Components:
- The term ax makes it quadratic (second-degree)
- These equations can have 0, 1, or 2 real solutions
- The graph is always a parabola

Solving Methods:
1. Factoring: Breaking down the equation into simpler parts
2. Quadratic Formula: x = (-b  (b - 4ac)) / 2a
3. Completing the Square: Converting to perfect square form
4. Graphing: Finding x-intercepts visually

The Discriminant (b - 4ac):
- Positive: Two different real solutions
- Zero: One repeated real solution  
- Negative: Two complex solutions

Real-world applications include projectile motion, optimization problems, and modeling parabolic shapes in architecture and engineering.`},fhe=({subject:t})=>{const[e,r]=L.useState(""),[s,a]=L.useState(null),[i,o]=L.useState(!1),[l,c]=L.useState(new Set),[d,u]=L.useState(!1),h=L.useRef(null),m=async()=>{if(e){o(!0);try{const A=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"mindmap",difficulty:"medium"})});if(A.ok){const j=await A.json();a(j.content),c(new Set([j.content.center]))}else a(qR[e]||w(e)),c(new Set([e]));f("mindmap")}catch(A){console.error("Error generating mind map:",A),a(qR[e]||w(e)),c(new Set([e]))}finally{o(!1)}}},f=async A=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:A,timeSpent:Math.floor(Math.random()*15)+5,completed:!0})})}catch(j){console.error("Error logging activity:",j)}},x=A=>{const j=new Set(l);j.has(A)?j.delete(A):j.add(A),c(j)},v=()=>{const A=h.current;if(A){const j=document.createElement("a");j.download=`${e}_mindmap.png`,j.href=A.toDataURL(),j.click()}},g=A=>{const j=["bg-blue-500 text-white","bg-green-500 text-white","bg-purple-500 text-white","bg-orange-500 text-white","bg-red-500 text-white","bg-indigo-500 text-white","bg-pink-500 text-white","bg-yellow-500 text-white"];return j[A%j.length]},b=(A,j=0,S=0)=>{const E=j===0,R=`${A}-${j}-${S}`,C=l.has(R);return n.jsx("div",{className:`
          ${E?"mind-map-center":"mind-map-branch"}
          ${E?"text-xl font-bold":"text-sm"}
        `,style:{marginLeft:j>0?`${j*30}px`:"0",marginTop:j>0?"8px":"0"},children:n.jsxs("div",{className:`
            ${E?"px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white":`px-4 py-2 ${g(S)}`}
            rounded-xl shadow-lg cursor-pointer transform transition-all hover:scale-105
            flex items-center space-x-2
          `,onClick:()=>x(R),children:[!E&&n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),n.jsx("span",{children:typeof A=="string"?A:A.name}),!E&&n.jsx("div",{className:`ml-2 ${C?"rotate-90":""} transition-transform`,children:n.jsx(Ese,{className:"w-3 h-3"})})]})},R)},N=()=>s?n.jsx("div",{className:"mind-map-container p-8",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mb-8",children:b(s.center,0)}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl",children:s.branches.map((A,j)=>n.jsxs("div",{className:"mind-map-branch-container",children:[n.jsx("div",{className:"mb-4",children:b(A.name,1,j)}),l.has(`${A.name}-1-${j}`)&&n.jsx("div",{className:"ml-6 space-y-2 animate-fadeIn",children:A.children.map((S,E)=>n.jsx("div",{className:`
                          px-3 py-2 rounded-lg text-xs
                          ${g(j).replace("500","100").replace("text-white","text-gray-800")}
                          border-l-2 border-current transform transition-all hover:translate-x-1
                        `,children:S},E))})]},j))})]})}):null,w=A=>({center:A,branches:[{name:"Key Concepts",children:["Concept 1","Concept 2","Concept 3"]},{name:"Applications",children:["Application 1","Application 2"]},{name:"Examples",children:["Example 1","Example 2"]}]});return n.jsxs("div",{className:`${d?"fixed inset-0 z-50 bg-white":"max-w-6xl mx-auto"}`,children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden h-full",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[n.jsx(Fm,{className:"w-7 h-7 mr-3"}),"AI Mind Map Generator"]}),n.jsx("p",{className:"text-purple-100 mt-1",children:"Visualize concepts and their connections"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>u(!d),className:"p-2 bg-purple-400 hover:bg-purple-300 rounded-lg transition-colors",title:d?"Exit fullscreen":"Enter fullscreen",children:d?n.jsx(Tne,{className:"w-5 h-5"}):n.jsx(k6,{className:"w-5 h-5"})}),n.jsx("div",{className:"bg-purple-400 p-3 rounded-xl",children:n.jsx(Pn,{className:"w-8 h-8"})})]})]})}),n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[n.jsxs("div",{className:"flex-1 max-w-md",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic for Mind Map"}),n.jsxs("select",{value:e,onChange:A=>r(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((A,j)=>n.jsx("option",{value:A,children:A},j))]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:m,disabled:!e||i,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg font-medium hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:i?n.jsxs(n.Fragment,{children:[n.jsx($x,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Generating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(lu,{className:"w-5 h-5"}),n.jsx("span",{children:"Generate"})]})}),s&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:v,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download mind map",children:n.jsx(tn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:m,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Regenerate mind map",children:n.jsx(Pg,{className:"w-5 h-5"})})]})]})]})}),n.jsx("div",{className:`${d?"h-full overflow-auto":"min-h-96"}`,children:s?n.jsxs("div",{className:"relative",children:[N(),n.jsxs("div",{className:"absolute top-4 left-4 bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[n.jsxs("h4",{className:"font-medium text-gray-800 mb-2 flex items-center",children:[n.jsx(Fne,{className:"w-4 h-4 mr-2"}),"Mind Map Guide"]}),n.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[n.jsx("p",{children:" Click branches to expand/collapse"}),n.jsx("p",{children:" Central topic connects to main concepts"}),n.jsx("p",{children:" Colors represent different categories"}),n.jsx("p",{children:" Use fullscreen for better viewing"})]})]}),n.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Map Statistics"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("p",{children:["Branches: ",s.branches.length]}),n.jsxs("p",{children:["Total Nodes: ",s.branches.reduce((A,j)=>A+j.children.length,s.branches.length+1)]}),n.jsxs("p",{children:["Expanded: ",l.size]})]})]})]}):n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Fm,{className:"w-8 h-8 text-purple-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Create Your Mind Map"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Select a topic and generate an interactive mind map to visualize concepts and connections."}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 max-w-md mx-auto",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Mind Map Features:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),n.jsx("span",{children:"Interactive nodes"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{children:"Color-coded branches"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{children:"Expandable sections"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),n.jsx("span",{children:"Download support"})]})]})]})]})})]}),n.jsx("canvas",{ref:h,style:{display:"none"},width:1200,height:800}),n.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        
        .mind-map-center {
          position: relative;
        }
        
        .mind-map-center::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 120%;
          height: 120%;
          border: 2px dashed rgba(59, 130, 246, 0.3);
          border-radius: 50%;
          z-index: -1;
        }
        
        .mind-map-branch-container {
          position: relative;
        }
        
        .mind-map-branch-container::before {
          content: '';
          position: absolute;
          top: 20px;
          left: -20px;
          width: 20px;
          height: 2px;
          background: linear-gradient(to right, rgba(147, 51, 234, 0.3), rgba(147, 51, 234, 0.1));
        }
      `})]})},qR={Algebra:{center:"Algebra",branches:[{name:"Basic Operations",children:["Addition (+)","Subtraction (-)","Multiplication ()","Division ()","Order of Operations (PEMDAS)","Distributive Property"]},{name:"Variables & Expressions",children:["Variables (x, y, z)","Constants","Coefficients","Terms","Like Terms","Combining Terms","Algebraic Expressions"]},{name:"Equations & Inequalities",children:["Linear Equations","Quadratic Equations","System of Equations","Inequalities","Absolute Value","Rational Equations"]},{name:"Functions",children:["Function Notation f(x)","Domain & Range","Linear Functions","Quadratic Functions","Exponential Functions","Graphing"]},{name:"Factoring",children:["Common Factors","Difference of Squares","Perfect Square Trinomials","Factoring Trinomials","Grouping Method"]},{name:"Applications",children:["Word Problems","Rate Problems","Mixture Problems","Geometry Applications","Physics Applications","Economics"]}]},Geometry:{center:"Geometry",branches:[{name:"Basic Elements",children:["Points","Lines","Rays","Segments","Planes","Angles","Parallel Lines","Perpendicular Lines"]},{name:"Triangles",children:["Types (Scalene, Isosceles, Equilateral)","Right Triangles","Pythagorean Theorem","Similar Triangles","Congruent Triangles","Area Formulas"]},{name:"Quadrilaterals",children:["Squares","Rectangles","Parallelograms","Rhombus","Trapezoids","Properties","Area & Perimeter"]},{name:"Circles",children:["Radius & Diameter","Circumference","Area","Chords","Tangents","Arcs","Central Angles","Inscribed Angles"]},{name:"Solid Geometry",children:["Cubes","Rectangular Prisms","Cylinders","Spheres","Cones","Pyramids","Surface Area","Volume"]},{name:"Coordinate Geometry",children:["Cartesian Plane","Distance Formula","Midpoint Formula","Slope","Equation of a Line","Graphing"]}]},Trigonometry:{center:"Trigonometry",branches:[{name:"Basic Functions",children:["Sine (sin)","Cosine (cos)","Tangent (tan)","Cosecant (csc)","Secant (sec)","Cotangent (cot)"]},{name:"Unit Circle",children:["Angles in Radians","Angles in Degrees","Special Angles","Reference Angles","Quadrants","Signs of Functions"]},{name:"Identities",children:["Pythagorean Identity","Reciprocal Identities","Quotient Identities","Co-function Identities","Double Angle","Half Angle"]},{name:"Graphs",children:["Sine Wave","Cosine Wave","Tangent Graph","Amplitude","Period","Phase Shift","Vertical Shift"]},{name:"Applications",children:["Right Triangle Problems","Law of Sines","Law of Cosines","Navigation","Physics Applications","Engineering"]}]},Mechanics:{center:"Mechanics",branches:[{name:"Kinematics",children:["Position","Velocity","Acceleration","Motion Graphs","Equations of Motion","Projectile Motion","Circular Motion"]},{name:"Forces",children:["Newton's Laws","Gravity","Normal Force","Friction","Tension","Applied Force","Net Force","Free Body Diagrams"]},{name:"Energy",children:["Kinetic Energy","Potential Energy","Work","Power","Conservation of Energy","Energy Transformations"]},{name:"Momentum",children:["Linear Momentum","Impulse","Conservation of Momentum","Collisions","Elastic Collisions","Inelastic Collisions"]},{name:"Rotational Motion",children:["Angular Velocity","Angular Acceleration","Torque","Moment of Inertia","Angular Momentum","Rolling Motion"]}]},Thermodynamics:{center:"Thermodynamics",branches:[{name:"Heat & Temperature",children:["Temperature Scales","Heat Transfer","Conduction","Convection","Radiation","Thermal Expansion","Specific Heat"]},{name:"Laws of Thermodynamics",children:["Zeroth Law","First Law (Energy Conservation)","Second Law (Entropy)","Third Law","Thermal Equilibrium"]},{name:"Ideal Gas",children:["Ideal Gas Law","Boyle's Law","Charles's Law","Gay-Lussac's Law","Avogadro's Law","Kinetic Theory"]},{name:"Processes",children:["Isothermal","Adiabatic","Isobaric","Isochoric","Cyclic Processes","Reversible vs Irreversible"]},{name:"Applications",children:["Heat Engines","Refrigerators","Heat Pumps","Carnot Cycle","Efficiency","Entropy Changes"]}]},"Atomic Structure":{center:"Atomic Structure",branches:[{name:"Subatomic Particles",children:["Protons","Neutrons","Electrons","Mass & Charge","Quarks","Atomic Number","Mass Number"]},{name:"Atomic Models",children:["Dalton Model","Thomson Model","Rutherford Model","Bohr Model","Quantum Mechanical Model","Electron Cloud"]},{name:"Electron Configuration",children:["Orbitals (s, p, d, f)","Aufbau Principle","Pauli Exclusion","Hund's Rule","Electron Shells","Valence Electrons"]},{name:"Periodic Trends",children:["Atomic Radius","Ionization Energy","Electronegativity","Metallic Character","Electron Affinity"]},{name:"Isotopes",children:["Same Element","Different Mass","Radioactivity","Half-life","Nuclear Reactions","Carbon Dating"]}]},"Chemical Bonding":{center:"Chemical Bonding",branches:[{name:"Ionic Bonding",children:["Metal + Non-metal","Electron Transfer","Cations & Anions","Lattice Energy","Crystal Structures","Properties"]},{name:"Covalent Bonding",children:["Non-metal + Non-metal","Electron Sharing","Single Bonds","Double Bonds","Triple Bonds","Polar vs Non-polar"]},{name:"Molecular Geometry",children:["VSEPR Theory","Linear","Trigonal Planar","Tetrahedral","Trigonal Bipyramidal","Octahedral"]},{name:"Intermolecular Forces",children:["Van der Waals","Dipole-Dipole","Hydrogen Bonding","London Dispersion","Ion-Dipole"]},{name:"Properties",children:["Melting Point","Boiling Point","Solubility","Conductivity","Hardness","Brittleness"]}]},"Cell Biology":{center:"Cell Biology",branches:[{name:"Cell Types",children:["Prokaryotic","Eukaryotic","Plant Cells","Animal Cells","Bacteria","Archaea","Protists"]},{name:"Cell Organelles",children:["Nucleus","Mitochondria","Ribosomes","ER","Golgi Apparatus","Lysosomes","Chloroplasts","Vacuoles"]},{name:"Cell Membrane",children:["Phospholipid Bilayer","Membrane Proteins","Selective Permeability","Transport","Osmosis","Diffusion"]},{name:"Cell Division",children:["Mitosis","Meiosis","Cell Cycle","Interphase","Prophase","Metaphase","Anaphase","Telophase"]},{name:"Cellular Processes",children:["Photosynthesis","Cellular Respiration","Protein Synthesis","DNA Replication","Enzyme Function"]}]},Photosynthesis:{center:"Photosynthesis",branches:[{name:"Light Reactions",children:["Photosystem I","Photosystem II","Electron Transport Chain","ATP Synthesis","NADPH Formation","Water Splitting","Oxygen Release"]},{name:"Calvin Cycle (Dark Reactions)",children:["Carbon Fixation","RuBisCO Enzyme","CO + RuBP","Reduction Phase","Regeneration","3-Carbon Compounds","Glucose Formation"]},{name:"Requirements",children:["Sunlight (Energy)","Carbon Dioxide (CO)","Water (HO)","Chlorophyll","Chloroplasts","Optimal Temperature","Proper pH"]},{name:"Products",children:["Glucose (CHO)","Oxygen Gas (O)","ATP (Energy)","NADPH","Starch (Storage)","Cellulose"]},{name:"Factors Affecting Rate",children:["Light Intensity","CO Concentration","Temperature","Water Availability","Chlorophyll Content","Enzyme Activity"]},{name:"Types",children:["C3 Plants","C4 Plants","CAM Plants","Adaptations","Efficiency Differences","Environmental Conditions"]}]},Genetics:{center:"Genetics",branches:[{name:"DNA Structure",children:["Double Helix","Nucleotides","Base Pairs (A-T, G-C)","Sugar-Phosphate Backbone","Antiparallel Strands","Major/Minor Grooves"]},{name:"Gene Expression",children:["Transcription","Translation","mRNA","tRNA","rRNA","Ribosomes","Genetic Code","Protein Synthesis"]},{name:"Inheritance Patterns",children:["Mendel's Laws","Dominant/Recessive","Codominance","Multiple Alleles","Sex-linked","Polygenic Traits"]},{name:"Mutations",children:["Point Mutations","Chromosomal Changes","Silent Mutations","Missense","Nonsense","Frameshift","Causes & Effects"]},{name:"Applications",children:["Genetic Engineering","CRISPR","Gene Therapy","Cloning","GMOs","Forensics","Medicine"]}]},"Poetry Analysis":{center:"Poetry Analysis",branches:[{name:"Literary Devices",children:["Metaphor","Simile","Alliteration","Personification","Symbolism","Imagery","Rhyme Scheme","Meter"]},{name:"Poetic Forms",children:["Sonnet","Haiku","Free Verse","Blank Verse","Ballad","Epic","Lyric","Narrative"]},{name:"Themes & Meaning",children:["Love","Nature","Death","Time","Identity","Society","Spirituality","Human Experience"]},{name:"Analysis Techniques",children:["Close Reading","Context Analysis","Biographical Criticism","Historical Context","Comparative Analysis","Thematic Study"]}]},"World War I":{center:"World War I",branches:[{name:"Causes",children:["Imperialism","Alliance System","Nationalism","Militarism","Assassination of Archduke Franz Ferdinand","Arms Race"]},{name:"Major Battles",children:["Battle of Verdun","Somme Offensive","Battle of Jutland","Gallipoli Campaign","Battle of Tannenberg","Passchendaele"]},{name:"New Technologies",children:["Machine Guns","Poison Gas","Tanks","Aircraft","Submarines","Artillery","Trench Warfare"]},{name:"Consequences",children:["Treaty of Versailles","Russian Revolution","Ottoman Empire Collapse","League of Nations","Economic Impact","Social Changes"]}]},"Physical Geography":{center:"Physical Geography",branches:[{name:"Landforms",children:["Mountains","Plains","Plateaus","Valleys","Deserts","Coasts","Rivers","Lakes"]},{name:"Climate Systems",children:["Temperature Patterns","Precipitation","Wind Systems","Climate Zones","Weather Patterns","Seasonal Variations"]},{name:"Geological Processes",children:["Plate Tectonics","Erosion","Weathering","Volcanism","Earthquakes","Rock Cycle","Glaciation"]},{name:"Natural Resources",children:["Minerals","Fossil Fuels","Water Resources","Forests","Agricultural Land","Renewable Energy","Conservation"]}]},"Supply and Demand":{center:"Supply and Demand",branches:[{name:"Demand Factors",children:["Consumer Income","Price of Substitutes","Consumer Preferences","Population Size","Future Expectations","Seasonal Factors"]},{name:"Supply Factors",children:["Production Costs","Technology","Number of Sellers","Government Regulations","Resource Availability","Weather Conditions"]},{name:"Market Equilibrium",children:["Equilibrium Price","Equilibrium Quantity","Market Clearing","Shortage","Surplus","Price Adjustments"]},{name:"Elasticity",children:["Price Elasticity of Demand","Income Elasticity","Cross-Price Elasticity","Price Elasticity of Supply","Factors Affecting Elasticity"]}]},"Programming Basics":{center:"Programming Basics",branches:[{name:"Data Types",children:["Integers","Floats","Strings","Booleans","Arrays","Objects","Null/Undefined","Constants"]},{name:"Control Structures",children:["If/Else Statements","Switch Statements","For Loops","While Loops","Do-While Loops","Break/Continue","Nested Loops"]},{name:"Functions",children:["Function Declaration","Parameters","Return Values","Scope","Recursion","Higher-Order Functions","Anonymous Functions"]},{name:"Best Practices",children:["Code Comments","Variable Naming","Error Handling","Code Organization","Testing","Documentation","Version Control"]}]},"Cognitive Psychology":{center:"Cognitive Psychology",branches:[{name:"Memory Systems",children:["Sensory Memory","Short-term Memory","Long-term Memory","Working Memory","Encoding","Storage","Retrieval","Forgetting"]},{name:"Attention & Perception",children:["Selective Attention","Divided Attention","Visual Perception","Auditory Perception","Pattern Recognition","Perceptual Organization"]},{name:"Learning & Thinking",children:["Problem Solving","Decision Making","Language Processing","Concept Formation","Reasoning","Creativity","Metacognition"]},{name:"Research Methods",children:["Experiments","Neuroimaging","Eye Tracking","Reaction Time","Case Studies","Observational Studies","Statistical Analysis"]}]}},mhe=({subject:t})=>{var R,C;const[e,r]=L.useState(""),[s,a]=L.useState([]),[i,o]=L.useState(0),[l,c]=L.useState(!1),[d,u]=L.useState(!1),[h,m]=L.useState(new Set),[f,x]=L.useState("medium"),v=async()=>{if(e){u(!0);try{const T=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"flashcards",difficulty:f})});if(T.ok){const k=await T.json();a(k.content)}else a(GR[e]||S(e));o(0),c(!1),m(new Set),g("flashcards")}catch(T){console.error("Error generating flashcards:",T),a(GR[e]||S(e))}finally{u(!1)}}},g=async T=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:T,timeSpent:Math.floor(Math.random()*20)+10,completed:h.size===s.length})})}catch(k){console.error("Error logging activity:",k)}},b=()=>{i<s.length-1&&(o(i+1),c(!1))},N=()=>{i>0&&(o(i-1),c(!1))},w=()=>{m(T=>new Set([...T,i])),i<s.length-1&&setTimeout(b,300)},A=()=>{const T=[...s].sort(()=>Math.random()-.5);a(T),o(0),c(!1)},j=()=>{o(0),c(!1),m(new Set)},S=T=>[{id:1,front:`What is the main concept of ${T}?`,back:`${T} is a fundamental concept in ${t.name} that involves key principles and applications.`},{id:2,front:`How is ${T} applied in real life?`,back:`${T} has practical applications in various fields and everyday situations.`}],E=()=>s.length>0?Math.round(h.size/s.length*100):0;return n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[n.jsx(Kr,{className:"w-7 h-7 mr-3"}),"AI Flashcards"]}),n.jsx("p",{className:"text-yellow-100 mt-1",children:"Interactive flashcards for effective memorization"})]}),n.jsx("div",{className:"bg-yellow-400 p-3 rounded-xl",children:n.jsx(Pn,{className:"w-8 h-8"})})]})}),n.jsxs("div",{className:"p-6 border-b border-gray-100",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[n.jsxs("div",{className:"flex-1 max-w-md",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic for Flashcards"}),n.jsxs("select",{value:e,onChange:T=>r(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((T,k)=>n.jsx("option",{value:T,children:T},k))]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:v,disabled:!e||d,className:"px-6 py-2 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-lg font-medium hover:from-yellow-600 hover:to-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-all",children:d?n.jsxs(n.Fragment,{children:[n.jsx($x,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Generating..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(lu,{className:"w-5 h-5"}),n.jsx("span",{children:"Generate"})]})}),s.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:A,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Shuffle cards",children:n.jsx(NW,{className:"w-5 h-5"})}),n.jsx("button",{onClick:j,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Reset session",children:n.jsx(io,{className:"w-5 h-5"})})]})]})]}),s.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[h.size," of ",s.length," cards studied"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${E()}%`}})})]})]}),s.length>0?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("div",{className:"text-center mb-6",children:n.jsxs("span",{className:"inline-block px-4 py-2 bg-gray-100 rounded-full text-sm font-medium text-gray-700",children:["Card ",i+1," of ",s.length]})}),n.jsx("div",{className:"relative w-full h-80 cursor-pointer",onClick:()=>c(!l),children:n.jsxs("div",{className:`
                  absolute inset-0 w-full h-full rounded-xl shadow-lg transform transition-all duration-500 preserve-3d
                  ${l?"rotate-y-180":""}
                `,children:[n.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 flex items-center justify-center p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Rn,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Question"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:(R=s[i])==null?void 0:R.front}),n.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click to reveal answer"})]})}),n.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 rounded-xl bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-200 flex items-center justify-center p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx($y,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Answer"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:(C=s[i])==null?void 0:C.back}),h.has(i)&&n.jsx("div",{className:"mt-3",children:n.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[n.jsx(Dr,{className:"w-3 h-3 mr-1"}),"Studied"]})})]})})]})}),l&&n.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[n.jsxs("button",{onClick:w,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:[n.jsx(Dr,{className:"w-4 h-4"}),n.jsx("span",{children:"Got it!"})]}),n.jsxs("button",{onClick:b,disabled:i===s.length-1,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[n.jsx("span",{children:"Next"}),n.jsx(By,{className:"w-4 h-4"})]})]}),n.jsxs("div",{className:"flex justify-between items-center mt-8",children:[n.jsxs("button",{onClick:N,disabled:i===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(al,{className:"w-4 h-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"text-sm text-gray-500",children:h.size===s.length&&n.jsx("span",{className:"text-green-600 font-medium",children:" All cards completed!"})}),n.jsxs("button",{onClick:b,disabled:i===s.length-1,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx("span",{children:"Next"}),n.jsx(By,{className:"w-4 h-4"})]})]})]})}):n.jsxs("div",{className:"p-12 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Kr,{className:"w-8 h-8 text-yellow-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Study"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Select a topic and generate AI-powered flashcards for effective learning."}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Flashcard Features:"}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 text-left",children:[n.jsx("li",{children:" AI-generated questions"}),n.jsx("li",{children:" Interactive flip cards"}),n.jsx("li",{children:" Progress tracking"}),n.jsx("li",{children:" Shuffle & repeat options"}),n.jsx("li",{children:" Study completion tracking"})]})]})]})]}),n.jsx("style",{jsx:!0,children:`
        .preserve-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
      `})]})},GR={Algebra:[{id:1,front:"What is a variable in algebra?",back:"A variable is a letter or symbol (like x, y, z) that represents an unknown number or value that can change. Variables allow us to write general mathematical relationships."},{id:2,front:"What is the difference between an equation and an expression?",back:"An equation has an equals sign (=) and states that two things are equal (e.g., 2x + 3 = 7), while an expression is a mathematical phrase without an equals sign (e.g., 2x + 3)."},{id:3,front:"How do you solve for x in the equation 2x + 5 = 15?",back:`Step 1: Subtract 5 from both sides: 2x = 10
Step 2: Divide both sides by 2: x = 5
Always check: 2(5) + 5 = 15 `},{id:4,front:"What is the distributive property?",back:"The distributive property states that a(b + c) = ab + ac. For example: 3(x + 4) = 3x + 12. You multiply the number outside the parentheses by each term inside."},{id:5,front:"What are like terms?",back:"Like terms have the same variables raised to the same powers. Examples: 3x and 5x are like terms, but 3x and 5x are not. You can only combine like terms."},{id:6,front:"How do you solve a system of equations by substitution?",back:`1. Solve one equation for one variable
2. Substitute that expression into the other equation
3. Solve for the remaining variable
4. Substitute back to find the other variable`}],Geometry:[{id:1,front:"What is the Pythagorean Theorem?",back:"In a right triangle, a + b = c, where c is the hypotenuse (longest side) and a and b are the other two sides. This only works for right triangles!"},{id:2,front:"What is the sum of interior angles in any triangle?",back:"The sum of interior angles in any triangle is always 180. This is true for all triangles: equilateral, isosceles, scalene, right, acute, or obtuse."},{id:3,front:"How do you find the area of a circle?",back:"Area = r, where r is the radius. Remember: radius is half the diameter. If diameter = 6, then radius = 3, so Area = (3) = 9"},{id:4,front:"What makes two triangles congruent?",back:"Triangles are congruent if: SSS (all sides equal), SAS (two sides and included angle), ASA (two angles and included side), AAS (two angles and non-included side), or HL (hypotenuse-leg for right triangles)."},{id:5,front:"What is the difference between area and perimeter?",back:"Perimeter is the distance around the outside of a shape (measured in units like cm, m). Area is the space inside a shape (measured in square units like cm, m)."}],Trigonometry:[{id:1,front:"What are the three basic trigonometric ratios?",back:`SOH-CAH-TOA:
Sin = Opposite/Hypotenuse
Cos = Adjacent/Hypotenuse
Tan = Opposite/Adjacent
(In a right triangle)`},{id:2,front:"What is the unit circle?",back:"The unit circle is a circle with radius 1 centered at the origin. It's used to define trig functions for all angles. Key angles: 0, 30, 45, 60, 90."},{id:3,front:"What is the Pythagorean identity in trigonometry?",back:`sin + cos = 1
This is true for any angle  and comes from the Pythagorean theorem applied to the unit circle.`},{id:4,front:"What are the values of sin, cos, and tan at 30?",back:`At 30:
sin(30) = 1/2
cos(30) = 3/2
tan(30) = 1/3 = 3/3`}],Mechanics:[{id:1,front:"What is Newton's First Law of Motion?",back:"An object at rest stays at rest, and an object in motion stays in motion at constant velocity, unless acted upon by a net external force. Also called the Law of Inertia."},{id:2,front:"What is the equation for kinetic energy?",back:"KE = mv, where m is mass (kg) and v is velocity (m/s). Kinetic energy is the energy of motion and is always positive."},{id:3,front:"What is acceleration?",back:"Acceleration is the rate of change of velocity. a = (v_final - v_initial)/time = v/t. Units are m/s. Can be positive (speeding up) or negative (slowing down)."},{id:4,front:"What is the difference between mass and weight?",back:"Mass is the amount of matter in an object (kg) - constant everywhere. Weight is the gravitational force on an object (N) - changes with gravity. Weight = mg."}],Thermodynamics:[{id:1,front:"What is the First Law of Thermodynamics?",back:"Energy cannot be created or destroyed, only converted from one form to another. U = Q - W (change in internal energy = heat added - work done by system)."},{id:2,front:"What is the ideal gas law?",back:"PV = nRT, where P = pressure, V = volume, n = moles of gas, R = gas constant, T = temperature (in Kelvin). Describes behavior of ideal gases."},{id:3,front:"What is specific heat capacity?",back:"The amount of heat energy needed to raise the temperature of 1 kg of a substance by 1C. Q = mcT, where c is specific heat capacity."}],"Atomic Structure":[{id:1,front:"What are the three main subatomic particles?",back:"Protons (positive charge, in nucleus), Neutrons (no charge, in nucleus), Electrons (negative charge, in electron shells around nucleus)."},{id:2,front:"What is atomic number?",back:"The number of protons in an atom's nucleus. This defines what element it is. For example, all carbon atoms have 6 protons, so carbon's atomic number is 6."},{id:3,front:"What is an isotope?",back:"Atoms of the same element with different numbers of neutrons. They have the same atomic number but different mass numbers. Example: Carbon-12 and Carbon-14."},{id:4,front:"What is electron configuration?",back:"The arrangement of electrons in an atom's shells and subshells. Follows the Aufbau principle (fill lowest energy first), Pauli exclusion, and Hund's rule."}],"Chemical Bonding":[{id:1,front:"What is an ionic bond?",back:"A bond formed when electrons are transferred from a metal to a non-metal, creating oppositely charged ions that attract each other. Example: NaCl in table salt."},{id:2,front:"What is a covalent bond?",back:"A bond formed when two non-metal atoms share electrons. Can be single (2e), double (4e), or triple (6e) bonds. Example: H-H in hydrogen gas."},{id:3,front:"What is electronegativity?",back:"The ability of an atom to attract electrons in a bond. Fluorine is most electronegative (4.0). Difference in electronegativity determines bond type: <0.5 = nonpolar covalent, 0.5-1.7 = polar covalent, >1.7 = ionic."},{id:4,front:"What is VSEPR theory?",back:"Valence Shell Electron Pair Repulsion theory. Electron pairs around a central atom repel each other and arrange to minimize repulsion, determining molecular geometry."}],"Cell Biology":[{id:1,front:"What is the difference between prokaryotic and eukaryotic cells?",back:"Prokaryotic: No nucleus, DNA free in cytoplasm (bacteria, archaea). Eukaryotic: Has nucleus, DNA in nucleus, membrane-bound organelles (plants, animals, fungi, protists)."},{id:2,front:"What is the function of mitochondria?",back:"The 'powerhouse' of the cell - produces ATP through cellular respiration. Has double membrane, contains its own DNA, found in eukaryotic cells."},{id:3,front:"What is the cell membrane made of?",back:"Phospholipid bilayer with embedded proteins. Selectively permeable - controls what enters and leaves the cell. Has hydrophilic heads and hydrophobic tails."},{id:4,front:"What is the difference between mitosis and meiosis?",back:"Mitosis: Produces 2 identical diploid cells for growth/repair. Meiosis: Produces 4 genetically different haploid gametes for reproduction."}],Photosynthesis:[{id:1,front:"What is the overall equation for photosynthesis?",back:`6CO + 6HO + light energy  CHO + 6O + ATP
(Carbon dioxide + water + light  glucose + oxygen + energy)`},{id:2,front:"Where do the light reactions occur?",back:"In the thylakoid membranes of chloroplasts. Here, light energy is captured by chlorophyll and converted to chemical energy (ATP and NADPH)."},{id:3,front:"What happens in the Calvin cycle?",back:"Takes place in the stroma. Uses ATP and NADPH from light reactions to convert CO into glucose through carbon fixation. Also called the dark reactions."},{id:4,front:"Why is photosynthesis important?",back:"Produces oxygen for breathing, glucose for food, removes CO from atmosphere, forms the base of most food chains, and converts light energy to chemical energy."}],Genetics:[{id:1,front:"What is DNA?",back:"Deoxyribonucleic acid - the hereditary material in living organisms. Double helix structure with four bases: A, T, G, C. A pairs with T, G pairs with C."},{id:2,front:"What is the central dogma of molecular biology?",back:"DNA  RNA  Protein. Information flows from DNA (genes) to RNA (transcription) to proteins (translation). This is how genes control traits."},{id:3,front:"What is the difference between genotype and phenotype?",back:"Genotype: The genetic makeup (actual genes/alleles). Phenotype: The observable characteristics (what you see). Example: Bb is genotype, brown eyes is phenotype."},{id:4,front:"What is a mutation?",back:"A change in the DNA sequence. Can be beneficial, harmful, or neutral. Types include point mutations, insertions, deletions, and chromosomal changes."}],"Poetry Analysis":[{id:1,front:"What is a metaphor?",back:"A direct comparison between two unlike things without using 'like' or 'as'. Example: 'Life is a journey' - comparing life to a journey to show life's progression and challenges."},{id:2,front:"What is the difference between a simile and a metaphor?",back:"A simile uses 'like' or 'as' to compare (e.g., 'brave as a lion'), while a metaphor makes a direct comparison without these words (e.g., 'he is a lion in battle')."},{id:3,front:"What is iambic pentameter?",back:"A rhythmic pattern with 5 iambs per line (10 syllables total), where each iamb has an unstressed syllable followed by a stressed one. Common in Shakespeare's sonnets."},{id:4,front:"What makes a sonnet?",back:"A 14-line poem with a specific rhyme scheme. Shakespearean sonnets follow ABAB CDCD EFEF GG pattern, while Petrarchan sonnets use ABBAABBA CDECDE or similar."}],"World War I":[{id:1,front:"What were the main causes of World War I?",back:"MAIN causes: Militarism (arms race), Alliances (entangling agreements), Imperialism (competition for colonies), Nationalism (ethnic tensions). The immediate trigger was Archduke Franz Ferdinand's assassination."},{id:2,front:"What was trench warfare?",back:"A type of combat where opposing armies fought from networks of trenches. Characterized by stalemate, terrible conditions, high casualties for little territorial gain. Dominated the Western Front."},{id:3,front:"What was the Treaty of Versailles?",back:"The 1919 peace treaty ending WWI. Imposed harsh terms on Germany: war guilt clause, massive reparations, military restrictions, territorial losses. Created resentment that contributed to WWII."},{id:4,front:"How did WWI end?",back:"Germany signed an armistice on November 11, 1918, at 11 AM. This ended fighting, followed by peace negotiations. The war officially ended with various treaties, primarily the Treaty of Versailles in 1919."}],"Physical Geography":[{id:1,front:"What is plate tectonics?",back:"The theory that Earth's outer shell consists of large moving plates. These plates interact at boundaries, causing earthquakes, volcanoes, and mountain formation. Explains continental drift and seafloor spreading."},{id:2,front:"What are the three main types of rocks?",back:"1) Igneous (formed from cooled magma/lava), 2) Sedimentary (formed from compressed sediments), 3) Metamorphic (existing rocks changed by heat/pressure). They cycle through the rock cycle."},{id:3,front:"What causes different climate zones?",back:"Mainly latitude (distance from equator), which affects sun angle and solar energy received. Also influenced by altitude, ocean currents, distance from water bodies, and topography."},{id:4,front:"What is erosion vs. weathering?",back:"Weathering is the breakdown of rocks in place (chemical or physical). Erosion is the transport of weathered material by wind, water, ice, or gravity. Both shape Earth's surface over time."}],"Supply and Demand":[{id:1,front:"What is the law of demand?",back:"As price increases, quantity demanded decreases (and vice versa), all else being equal. This creates a downward-sloping demand curve, reflecting consumer behavior and purchasing power."},{id:2,front:"What is the law of supply?",back:"As price increases, quantity supplied increases (and vice versa), all else being equal. This creates an upward-sloping supply curve, as higher prices incentivize more production."},{id:3,front:"What is market equilibrium?",back:"The point where quantity demanded equals quantity supplied, determining market price and quantity. At equilibrium, there's no shortage or surplus - the market clears."},{id:4,front:"What is price elasticity of demand?",back:"Measures how responsive quantity demanded is to price changes. Elastic demand (>1) means large quantity changes from small price changes. Inelastic demand (<1) means small quantity changes."}],"Programming Basics":[{id:1,front:"What is a variable?",back:"A named storage location that holds data. Variables can store different types of data (numbers, text, etc.) and their values can change during program execution. Example: age = 25"},{id:2,front:"What is the difference between = and == in programming?",back:"= is assignment (assigns a value to a variable). == is comparison (checks if two values are equal). Example: x = 5 assigns 5 to x, while x == 5 checks if x equals 5."},{id:3,front:"What is a loop?",back:"A programming construct that repeats a block of code. Common types: for loops (known number of iterations), while loops (condition-based), do-while loops (executes at least once)."},{id:4,front:"What is debugging?",back:"The process of finding and fixing errors in code. Involves identifying bugs (logic errors, syntax errors, runtime errors), understanding their causes, and implementing corrections."}],"Cognitive Psychology":[{id:1,front:"What is working memory?",back:"A limited-capacity system for temporarily holding and processing information. Includes the central executive (control), phonological loop (verbal), and visuospatial sketchpad (visual). Capacity ~72 items."},{id:2,front:"What is selective attention?",back:"The ability to focus on relevant information while filtering out irrelevant stimuli. Example: cocktail party effect - hearing your name in a crowded room despite focusing on a conversation."},{id:3,front:"What are schemas in psychology?",back:"Mental frameworks that organize knowledge and guide information processing. Help interpret new experiences based on existing knowledge, but can also lead to biases and stereotypes."},{id:4,front:"What is the difference between recognition and recall?",back:"Recognition: identifying previously learned information when presented (multiple choice). Recall: retrieving information from memory without cues (essay questions). Recognition is typically easier."}]},phe=({subject:t})=>{const[e,r]=L.useState(""),[s,a]=L.useState(null),[i,o]=L.useState(0),[l,c]=L.useState({}),[d,u]=L.useState(!1),[h,m]=L.useState(!1),[f,x]=L.useState(!1),[v,g]=L.useState(0),[b,N]=L.useState("medium");L.useEffect(()=>{let O;return f&&v>0&&!d&&(O=setInterval(()=>{g(W=>W<=1?(C(),0):W-1)},1e3)),()=>clearInterval(O)},[f,v,d]);const w=async()=>{if(e){m(!0);try{const O=await fetch("/api/student-ai-learning/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:e,subject:t.name,contentType:"quiz",difficulty:b,questionCount:10})});if(O.ok){const W=await O.json();a(W.content)}else a(VR[e]||D(e));o(0),c({}),u(!1),x(!1),g(0),A("quiz")}catch(O){console.error("Error generating quiz:",O),a(VR[e]||D(e))}finally{m(!1)}}},A=async O=>{try{await fetch("/api/student-ai-learning/activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:"mock-student-id",topic:e,subject:t.name,activityType:O,timeSpent:Math.floor(Math.random()*30)+15,completed:d})})}catch(W){console.error("Error logging activity:",W)}},j=()=>{x(!0),g(s.timeLimit*60),o(0),c({}),u(!1)},S=(O,W)=>{d||c(ee=>({...ee,[O]:W}))},E=()=>{i<s.questions.length-1&&o(i+1)},R=()=>{i>0&&o(i-1)},C=()=>{u(!0),x(!1),g(0)},T=()=>{let O=0;return s.questions.forEach((W,ee)=>{l[ee]===W.correctAnswer&&O++}),{correct:O,total:s.questions.length,percentage:Math.round(O/s.questions.length*100)}},k=()=>{o(0),c({}),u(!1),x(!1),g(0)},P=O=>{const W=Math.floor(O/60),ee=O%60;return`${W}:${ee.toString().padStart(2,"0")}`},D=O=>({title:`${O} Quiz`,description:`Test your knowledge on ${O}`,timeLimit:15,questions:[{id:1,question:`What is the main concept behind ${O}?`,options:["Option A - Basic understanding","Option B - Advanced application","Option C - Fundamental principles","Option D - Complex theories"],correctAnswer:2,explanation:`${O} is based on fundamental principles that form the foundation of the subject.`}]}),H=O=>O>=90?"text-green-600 bg-green-50":O>=75?"text-blue-600 bg-blue-50":O>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50";if(!s)return n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[n.jsx(Dr,{className:"w-7 h-7 mr-3"}),"AI Quiz Generator"]}),n.jsx("p",{className:"text-red-100 mt-1",children:"Test your knowledge with AI-generated questions"})]}),n.jsx("div",{className:"bg-red-400 p-3 rounded-xl",children:n.jsx(Pn,{className:"w-8 h-8"})})]})}),n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Your Quiz"}),n.jsx("p",{className:"text-gray-600",children:"Select a topic and difficulty level to generate a personalized quiz"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Topic"}),n.jsxs("select",{value:e,onChange:O=>r(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Choose a topic..."}),t.topics.map((O,W)=>n.jsx("option",{value:O,children:O},W))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:["easy","medium","hard"].map(O=>n.jsx("button",{onClick:()=>N(O),className:`p-3 rounded-lg border-2 font-medium capitalize transition-colors ${b===O?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:O},O))})]}),n.jsx("button",{onClick:w,disabled:!e||h,className:"px-8 py-4 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 mx-auto",children:h?n.jsxs(n.Fragment,{children:[n.jsx($x,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Generating Quiz..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(lu,{className:"w-5 h-5"}),n.jsx("span",{children:"Generate Quiz"})]})})]}),n.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(rs,{className:"w-6 h-6 text-red-600"})}),n.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Adaptive Questions"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Questions tailored to your learning level"})]}),n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(nr,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Timed Challenges"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Improve your speed and accuracy"})]}),n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Kn,{className:"w-6 h-6 text-green-600"})}),n.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Instant Feedback"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Detailed explanations for each answer"})]})]})]})})]})});if(d){const O=T();return n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:`p-6 text-white ${O.percentage>=75?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-red-500 to-pink-600"}`,children:n.jsxs("div",{className:"text-center",children:[n.jsx(el,{className:"w-16 h-16 mx-auto mb-4"}),n.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Quiz Complete!"}),n.jsx("p",{className:"text-lg opacity-90",children:O.percentage>=90?"Excellent work!":O.percentage>=75?"Great job!":O.percentage>=60?"Good effort!":"Keep practicing!"})]})}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:`text-center p-6 rounded-xl ${H(O.percentage)}`,children:[n.jsxs("div",{className:"text-3xl font-bold mb-2",children:[O.percentage,"%"]}),n.jsx("p",{className:"font-medium",children:"Final Score"})]}),n.jsxs("div",{className:"text-center p-6 rounded-xl bg-blue-50",children:[n.jsx("div",{className:"text-3xl font-bold mb-2 text-blue-600",children:O.correct}),n.jsx("p",{className:"font-medium text-blue-800",children:"Correct Answers"})]}),n.jsxs("div",{className:"text-center p-6 rounded-xl bg-gray-50",children:[n.jsx("div",{className:"text-3xl font-bold mb-2 text-gray-600",children:O.total-O.correct}),n.jsx("p",{className:"font-medium text-gray-800",children:"Incorrect Answers"})]})]}),n.jsxs("div",{className:"space-y-4 mb-8",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Review Your Answers"}),s.questions.map((W,ee)=>{const K=l[ee],re=K===W.correctAnswer;return n.jsx("div",{className:`p-4 rounded-lg border-2 ${re?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[re?n.jsx(Dr,{className:"w-5 h-5 text-green-600 mt-1"}):n.jsx(ts,{className:"w-5 h-5 text-red-600 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:"font-medium text-gray-800 mb-2",children:[ee+1,". ",W.question]}),n.jsx("div",{className:"space-y-1 mb-3",children:W.options.map((U,Y)=>n.jsxs("div",{className:`text-sm p-2 rounded ${Y===W.correctAnswer?"bg-green-100 text-green-800 font-medium":Y===K&&!re?"bg-red-100 text-red-800":"text-gray-600"}`,children:[U,Y===W.correctAnswer&&" ",Y===K&&Y!==W.correctAnswer&&" "]},Y))}),W.explanation&&n.jsxs("div",{className:"text-sm text-gray-600 bg-white p-3 rounded border",children:[n.jsx("strong",{children:"Explanation:"})," ",W.explanation]})]})]})},ee)})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs("button",{onClick:k,className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-2",children:[n.jsx(io,{className:"w-4 h-4"}),n.jsx("span",{children:"Retake Quiz"})]}),n.jsxs("button",{onClick:()=>a(null),className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors flex items-center justify-center space-x-2",children:[n.jsx(kr,{className:"w-4 h-4"}),n.jsx("span",{children:"New Topic"})]})]})]})]})})}if(!f)return n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-6 text-white",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:s.title}),n.jsx("p",{className:"text-red-100",children:s.description})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx(kr,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),n.jsx("div",{className:"font-bold text-lg text-blue-800",children:s.questions.length}),n.jsx("p",{className:"text-blue-600 text-sm",children:"Questions"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx(nr,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),n.jsx("div",{className:"font-bold text-lg text-green-800",children:s.timeLimit}),n.jsx("p",{className:"text-green-600 text-sm",children:"Minutes"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx(rs,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),n.jsx("div",{className:"font-bold text-lg text-purple-800 capitalize",children:b}),n.jsx("p",{className:"text-purple-600 text-sm",children:"Difficulty"})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Ready to Start?"}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["You'll have ",s.timeLimit," minutes to complete ",s.questions.length," questions. Make sure you're in a quiet environment and ready to focus."]}),n.jsxs("button",{onClick:j,className:"px-8 py-4 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-lg font-semibold hover:from-red-600 hover:to-pink-700 transition-colors flex items-center justify-center space-x-2 mx-auto",children:[n.jsx(Kr,{className:"w-5 h-5"}),n.jsx("span",{children:"Start Quiz"})]})]})]})]})});const F=s.questions[i],z=(i+1)/s.questions.length*100;return n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-4 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold",children:s.title}),n.jsxs("p",{className:"text-red-100 text-sm",children:["Question ",i+1," of ",s.questions.length]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold",children:P(v)}),n.jsx("p",{className:"text-red-100 text-sm",children:"Time Remaining"})]})]}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:"w-full bg-red-400 rounded-full h-2",children:n.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${z}%`}})})})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-6",children:F.question}),n.jsx("div",{className:"space-y-3",children:F.options.map((O,W)=>n.jsx("button",{onClick:()=>S(i,W),className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${l[i]===W?"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${l[i]===W?"border-red-500 bg-red-500":"border-gray-300"}`,children:l[i]===W&&n.jsx(Dr,{className:"w-3 h-3 text-white"})}),n.jsxs("span",{className:"font-medium",children:[String.fromCharCode(65+W),"."]}),n.jsx("span",{children:O})]})},W))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:R,disabled:i===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(xd,{className:"w-4 h-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"flex space-x-4",children:i===s.questions.length-1?n.jsx("button",{onClick:C,className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:"Submit Quiz"}):n.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium",children:[n.jsx("span",{children:"Next"}),n.jsx(Vs,{className:"w-4 h-4"})]})})]}),n.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:s.questions.map((O,W)=>n.jsx("button",{onClick:()=>o(W),className:`w-3 h-3 rounded-full transition-colors ${W===i?"bg-red-500":l[W]!==void 0?"bg-green-500":"bg-gray-300 hover:bg-gray-400"}`},W))})]})]})})},VR={Algebra:{title:"Algebra Mastery Quiz",description:"Test your understanding of algebraic concepts",timeLimit:15,questions:[{id:1,question:"What is the value of x in the equation 2x + 5 = 15?",options:["x = 5","x = 10","x = 7.5","x = 20"],correctAnswer:0,explanation:"Subtract 5 from both sides: 2x = 10, then divide by 2: x = 5"},{id:2,question:"Which property is demonstrated by a(b + c) = ab + ac?",options:["Commutative Property","Associative Property","Distributive Property","Identity Property"],correctAnswer:2,explanation:"The distributive property allows you to multiply a term by each term inside parentheses"},{id:3,question:"What are like terms?",options:["Terms with the same coefficient","Terms with the same variables and exponents","Terms that are equal","Terms in the same equation"],correctAnswer:1,explanation:"Like terms have identical variables raised to the same powers, allowing them to be combined"},{id:4,question:"Solve for y: 3y - 7 = 2y + 5",options:["y = 12","y = -2","y = 2","y = -12"],correctAnswer:0,explanation:"Subtract 2y from both sides: y - 7 = 5, then add 7: y = 12"},{id:5,question:"What is the slope of the line y = -3x + 4?",options:["3","-3","4","-4"],correctAnswer:1,explanation:"In slope-intercept form y = mx + b, the coefficient of x (m) is the slope"}]},Geometry:{title:"Geometry Knowledge Quiz",description:"Test your spatial reasoning and geometric principles",timeLimit:20,questions:[{id:1,question:"In a right triangle with legs of 3 and 4, what is the length of the hypotenuse?",options:["5","7","25","12"],correctAnswer:0,explanation:"Using Pythagorean theorem: 3 + 4 = 9 + 16 = 25, so c = 25 = 5"},{id:2,question:"What is the sum of interior angles in any triangle?",options:["90","180","360","270"],correctAnswer:1,explanation:"The sum of interior angles in any triangle is always 180"},{id:3,question:"What is the area of a circle with radius 6?",options:["36","12","6","18"],correctAnswer:0,explanation:"Area = r = (6) = 36"},{id:4,question:"How many sides does a hexagon have?",options:["5","6","7","8"],correctAnswer:1,explanation:"A hexagon is a polygon with 6 sides"},{id:5,question:"What makes two triangles congruent?",options:["Same area","Same perimeter","Same corresponding sides and angles","Same shape"],correctAnswer:2,explanation:"Congruent triangles have all corresponding sides and angles equal"}]},Trigonometry:{title:"Trigonometry Challenge",description:"Master the relationships between angles and sides",timeLimit:25,questions:[{id:1,question:"What does SOH in SOH-CAH-TOA stand for?",options:["Sine = Opposite/Hypotenuse","Sine = Opposite/Height","Side = Opposite/Hypotenuse","Sum = Opposite/Hypotenuse"],correctAnswer:0,explanation:"SOH means Sine = Opposite/Hypotenuse in a right triangle"},{id:2,question:"What is sin(30)?",options:["1/2","3/2","2/2","1"],correctAnswer:0,explanation:"sin(30) = 1/2, one of the common angle values"},{id:3,question:"What is the Pythagorean identity?",options:["sin + cos = 1","sin - cos = 1","sin + cos = 1","sin  cos = 1"],correctAnswer:0,explanation:"The fundamental trigonometric identity: sin + cos = 1"},{id:4,question:"What is the period of the sine function?",options:["","2","/2","4"],correctAnswer:1,explanation:"The sine function repeats every 2 radians (360)"},{id:5,question:"In which quadrant are both sine and cosine positive?",options:["Quadrant I","Quadrant II","Quadrant III","Quadrant IV"],correctAnswer:0,explanation:"In Quadrant I (0 to 90), both sine and cosine values are positive"}]},Mechanics:{title:"Physics Mechanics Quiz",description:"Test your knowledge of motion and forces",timeLimit:18,questions:[{id:1,question:"What is Newton's First Law of Motion?",options:["F = ma","Objects at rest stay at rest unless acted upon by force","For every action, there is an equal and opposite reaction","Energy cannot be created or destroyed"],correctAnswer:1,explanation:"Newton's First Law states that objects at rest stay at rest, and objects in motion stay in motion, unless acted upon by a net external force"},{id:2,question:"What is the formula for kinetic energy?",options:["KE = mgh","KE = mv","KE = mv","KE = mv"],correctAnswer:1,explanation:"Kinetic energy is the energy of motion: KE = mv"},{id:3,question:"What is acceleration?",options:["Rate of change of position","Rate of change of velocity","Rate of change of force","Rate of change of energy"],correctAnswer:1,explanation:"Acceleration is the rate of change of velocity with respect to time"},{id:4,question:"What is the difference between mass and weight?",options:["No difference","Mass is heavier than weight","Mass is constant, weight depends on gravity","Weight is constant, mass depends on gravity"],correctAnswer:2,explanation:"Mass is the amount of matter (constant), while weight is the gravitational force acting on that mass"},{id:5,question:"What is the acceleration due to gravity on Earth?",options:["9.8 m/s","10 m/s","8.9 m/s","9.8 m/s"],correctAnswer:0,explanation:"The acceleration due to gravity on Earth is approximately 9.8 m/s"}]},Photosynthesis:{title:"Photosynthesis Quiz",description:"Understand how plants convert light into energy",timeLimit:15,questions:[{id:1,question:"What is the overall equation for photosynthesis?",options:["6CO + 6HO + light  CHO + 6O","CHO + 6O  6CO + 6HO + ATP","CO + HO  glucose","Light + water  oxygen"],correctAnswer:0,explanation:"The complete photosynthesis equation shows reactants (CO + HO + light energy) producing glucose and oxygen"},{id:2,question:"Where do the light reactions occur?",options:["Stroma","Thylakoid membranes","Cell wall","Nucleus"],correctAnswer:1,explanation:"Light reactions occur in the thylakoid membranes of chloroplasts"},{id:3,question:"What is produced in the Calvin cycle?",options:["Oxygen","Water","Glucose","Light energy"],correctAnswer:2,explanation:"The Calvin cycle (dark reactions) produces glucose using CO and energy from light reactions"},{id:4,question:"What pigment is primarily responsible for photosynthesis?",options:["Chlorophyll a","Chlorophyll b","Carotenoids","Anthocyanins"],correctAnswer:0,explanation:"Chlorophyll a is the primary pigment that captures light energy for photosynthesis"},{id:5,question:"Which factor does NOT directly affect photosynthesis rate?",options:["Light intensity","CO concentration","Temperature","Soil pH"],correctAnswer:3,explanation:"While soil pH affects plant health, it doesn't directly impact the rate of photosynthesis like light, CO, and temperature do"}]},"Poetry Analysis":{title:"Literature & Poetry Quiz",description:"Test your understanding of literary analysis and poetry",timeLimit:20,questions:[{id:1,question:"What is the difference between a metaphor and a simile?",options:["No difference",`Metaphors use "like" or "as", similes don't`,`Similes use "like" or "as", metaphors don't`,"Metaphors are longer than similes"],correctAnswer:2,explanation:'Similes make comparisons using "like" or "as" (e.g., "brave as a lion"), while metaphors make direct comparisons without these words (e.g., "he is a lion")'},{id:2,question:"How many lines does a traditional sonnet have?",options:["12","14","16","18"],correctAnswer:1,explanation:"A sonnet is a 14-line poem with specific rhyme schemes, popularized by Shakespeare and Petrarch"},{id:3,question:"What is iambic pentameter?",options:["5 stressed syllables per line","10 syllables with unstressed-stressed pattern","5 rhyming words per line","10 lines per stanza"],correctAnswer:1,explanation:"Iambic pentameter has 10 syllables per line in an unstressed-stressed pattern, creating 5 iambic feet"},{id:4,question:"What literary device gives human characteristics to non-human things?",options:["Metaphor","Alliteration","Personification","Symbolism"],correctAnswer:2,explanation:'Personification attributes human qualities to non-human entities, like "the wind whispered"'}]},"World War I":{title:"World War I History Quiz",description:"Test your knowledge of the Great War",timeLimit:18,questions:[{id:1,question:"What event is considered the immediate trigger of World War I?",options:["Sinking of Lusitania","German invasion of Belgium","Assassination of Archduke Franz Ferdinand","Russian Revolution"],correctAnswer:2,explanation:"The assassination of Archduke Franz Ferdinand of Austria-Hungary in Sarajevo on June 28, 1914, triggered the war"},{id:2,question:"What were the MAIN causes of WWI?",options:["Militarism, Alliances, Imperialism, Nationalism","Money, Arms, Industry, Nations","Monarchy, Artillery, Infantry, Navy","Markets, Agriculture, Immigration, Navy"],correctAnswer:0,explanation:"MAIN stands for Militarism, Alliances, Imperialism, and Nationalism - the four main underlying causes of WWI"},{id:3,question:"What characterized trench warfare?",options:["Quick decisive battles","Stalemate and high casualties","Naval supremacy","Aerial combat"],correctAnswer:1,explanation:"Trench warfare led to stalemate on the Western Front, with high casualties for minimal territorial gains"},{id:4,question:"When did World War I end?",options:["November 11, 1917","November 11, 1918","December 25, 1918","January 1, 1919"],correctAnswer:1,explanation:"The armistice was signed on November 11, 1918, at 11 AM, ending the fighting in WWI"}]},"Physical Geography":{title:"Physical Geography Quiz",description:"Test your knowledge of Earth's physical features and processes",timeLimit:16,questions:[{id:1,question:"What theory explains continental drift?",options:["Plate tectonics","Rock cycle","Water cycle","Climate theory"],correctAnswer:0,explanation:"Plate tectonics theory explains how Earth's lithosphere moves, causing continental drift, earthquakes, and volcanism"},{id:2,question:"What are the three main types of rocks?",options:["Hard, soft, medium","Igneous, sedimentary, metamorphic","Old, new, recycled","Surface, underground, underwater"],correctAnswer:1,explanation:"The three rock types are igneous (from magma), sedimentary (from layers), and metamorphic (changed by heat/pressure)"},{id:3,question:"What primarily determines climate zones?",options:["Ocean currents","Mountain ranges","Latitude","Vegetation"],correctAnswer:2,explanation:"Latitude (distance from equator) primarily determines climate by affecting the angle and intensity of solar radiation"},{id:4,question:"What is the difference between weathering and erosion?",options:["No difference","Weathering breaks down rock, erosion moves it","Erosion breaks down rock, weathering moves it","Weathering is faster than erosion"],correctAnswer:1,explanation:"Weathering breaks down rocks in place, while erosion transports the weathered material to new locations"}]},"Supply and Demand":{title:"Economics: Supply & Demand Quiz",description:"Test your understanding of market forces",timeLimit:15,questions:[{id:1,question:"According to the law of demand, what happens when price increases?",options:["Quantity demanded increases","Quantity demanded decreases","Demand increases","Supply decreases"],correctAnswer:1,explanation:"The law of demand states that as price increases, quantity demanded decreases, all else being equal"},{id:2,question:"What is market equilibrium?",options:["When supply equals zero","When demand equals zero","When quantity supplied equals quantity demanded","When prices are fixed"],correctAnswer:2,explanation:"Market equilibrium occurs where quantity supplied equals quantity demanded, determining the market price"},{id:3,question:"What does elastic demand mean?",options:["Demand changes little with price changes","Demand changes significantly with price changes","Demand never changes","Demand is unpredictable"],correctAnswer:1,explanation:"Elastic demand means consumers are very responsive to price changes, causing large changes in quantity demanded"},{id:4,question:"What shifts the demand curve to the right?",options:["Decrease in consumer income","Increase in price","Increase in consumer income","Decrease in population"],correctAnswer:2,explanation:"An increase in consumer income typically shifts the demand curve right, increasing demand at all price levels"}]},"Programming Basics":{title:"Computer Science Fundamentals Quiz",description:"Test your basic programming knowledge",timeLimit:17,questions:[{id:1,question:"What is the difference between = and == in programming?",options:["No difference","= assigns, == compares","= compares, == assigns","Both assign values"],correctAnswer:1,explanation:"= is the assignment operator (assigns values), while == is the comparison operator (checks equality)"},{id:2,question:"What is a loop in programming?",options:["A bug in code","A repeated block of code","A type of variable","A programming language"],correctAnswer:1,explanation:"A loop is a programming construct that repeats a block of code multiple times based on conditions"},{id:3,question:"What are the main data types in most programming languages?",options:["Big, small, medium","Integer, string, boolean, float","Fast, slow, normal","Input, output, process"],correctAnswer:1,explanation:"Common data types include integer (whole numbers), string (text), boolean (true/false), and float (decimals)"},{id:4,question:"What is debugging?",options:["Writing new code","Deleting code","Finding and fixing errors","Running code"],correctAnswer:2,explanation:"Debugging is the process of finding, analyzing, and fixing bugs (errors) in computer programs"}]},"Cognitive Psychology":{title:"Psychology: Cognitive Processes Quiz",description:"Test your knowledge of how the mind works",timeLimit:19,questions:[{id:1,question:"What is working memory?",options:["Long-term storage of memories","Temporary storage and processing system","Muscle memory","Subconscious memory"],correctAnswer:1,explanation:"Working memory temporarily holds and manipulates information for cognitive tasks, with limited capacity (~72 items)"},{id:2,question:"What is selective attention?",options:["Paying attention to everything","Focusing on specific information while filtering distractions","Short attention span","Inability to focus"],correctAnswer:1,explanation:"Selective attention is the ability to focus on relevant information while ignoring irrelevant stimuli"},{id:3,question:"What is the difference between recognition and recall?",options:["No difference","Recognition identifies, recall retrieves from memory","Recall identifies, recognition retrieves","Both are the same process"],correctAnswer:1,explanation:"Recognition involves identifying previously learned information when presented; recall involves retrieving information from memory without cues"},{id:4,question:"What are schemas in psychology?",options:["Memory disorders","Mental frameworks for organizing knowledge","Types of therapy","Brain structures"],correctAnswer:1,explanation:"Schemas are cognitive frameworks that help organize and interpret information based on prior knowledge and experience"}]}},XR=()=>{var m;const[t,e]=L.useState(null),[r,s]=L.useState(null),[a,i]=L.useState([]),[o,l]=L.useState([]),[c,d]=L.useState(!0);L.useEffect(()=>{u()},[]);const u=async()=>{try{d(!0);const f="mock-student-id",[x,v,g]=await Promise.all([fetch(`/api/student-ai-learning/courses/${f}`),fetch(`/api/student-ai-learning/progress/${f}`),fetch(`/api/student-ai-learning/recommendations/${f}`)]);if(x.ok){const b=await x.json();i(b)}else i(YR);if(v.ok){const b=await v.json();s(b)}else s(KR);if(g.ok){const b=await g.json();l(b)}else l(JR)}catch(f){console.error("Error fetching learning data:",f),i(YR),s(KR),l(JR)}finally{d(!1)}},h=f=>{const x={blue:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",green:"from-green-500 to-green-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"};return x[f]||x.blue};return c?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Pn,{className:"w-16 h-16 text-blue-600 animate-pulse mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your AI Learning Dashboard..."})]})}):t?n.jsx(xhe,{subject:t,onBack:()=>e(null)}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 mb-6 text-white shadow-xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[n.jsx(Pn,{className:"w-8 h-8 mr-3"}),"AI Learning Center"]}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Personalized learning powered by artificial intelligence"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"bg-blue-500 px-6 py-3 rounded-xl",children:[n.jsx("p",{className:"text-2xl font-bold",children:(r==null?void 0:r.currentStreak)||0}),n.jsx("p",{className:"text-sm text-blue-100",children:"Day Streak"})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Topics Studied"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(r==null?void 0:r.totalTopicsStudied)||0})]}),n.jsx(kr,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Completed Courses"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:(r==null?void 0:r.completedCourses)||0})]}),n.jsx(Kn,{className:"w-8 h-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-purple-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Weekly Progress"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(r==null?void 0:r.weeklyProgress)||0,"/",(r==null?void 0:r.weeklyGoal)||5]})]}),n.jsx(rs,{className:"w-8 h-8 text-purple-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Learning Streak"}),n.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[(r==null?void 0:r.currentStreak)||0," days"]})]}),n.jsx(Yr,{className:"w-8 h-8 text-orange-500"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[n.jsx(lu,{className:"w-6 h-6 mr-2 text-yellow-500"}),"AI-Powered Learning"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(f=>{var x,v,g,b;return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-shadow border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:`h-2 bg-gradient-to-r ${h(f.color)}`}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f.name}),n.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${h(f.color)} bg-opacity-10`,children:n.jsx(kr,{className:`w-5 h-5 text-${f.color}-600`})})]}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:f.description}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[((v=(x=r==null?void 0:r.subjectProgress)==null?void 0:x[f.name])==null?void 0:v.percentage)||0,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${h(f.color)}`,style:{width:`${((b=(g=r==null?void 0:r.subjectProgress)==null?void 0:g[f.name])==null?void 0:b.percentage)||0}%`}})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.topics.slice(0,3).map((N,w)=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:N},w)),f.topics.length>3&&n.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",f.topics.length-3," more"]})]}),n.jsxs("button",{onClick:()=>e(f),className:`w-full py-3 px-4 bg-gradient-to-r ${h(f.color)} text-white rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center space-x-2 font-medium`,children:[n.jsx(mi,{className:"w-4 h-4"}),n.jsx("span",{children:"Start Learning"})]})]})]},f.id)})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(Jb,{className:"w-5 h-5 mr-2 text-yellow-500"}),"AI Recommendations"]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"space-y-4",children:o.map(f=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:f.title}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.type==="review"?"bg-red-100 text-red-700":f.type==="preview"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:f.type})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-3",children:f.reason}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsx(nr,{className:"w-3 h-3"}),n.jsxs("span",{children:[f.estimatedTime," min"]}),n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:f.difficulty})]}),n.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-xs font-medium",children:"Start "})]})]},f.id))})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(ds,{className:"w-5 h-5 mr-2 text-green-500"}),"Recent Activity"]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:(m=r==null?void 0:r.recentActivity)==null?void 0:m.map((f,x)=>n.jsxs("div",{className:"flex items-center space-x-3 p-2",children:[n.jsxs("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:[f.type==="summary"&&n.jsx(Zd,{className:"w-4 h-4 text-blue-600"}),f.type==="mindmap"&&n.jsx(Fm,{className:"w-4 h-4 text-blue-600"}),f.type==="quiz"&&n.jsx(Dr,{className:"w-4 h-4 text-blue-600"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:f.topic}),n.jsx("p",{className:"text-xs text-gray-500",children:f.subject})]}),n.jsx("div",{className:"text-xs text-gray-400",children:new Date(f.date).toLocaleDateString()})]},x))})})]})]})]})]})},xhe=({subject:t,onBack:e})=>{const[r,s]=L.useState("dashboard"),[a,i]=L.useState(null),o=[{id:"dashboard",name:"Dashboard",icon:ds,color:"blue"},{id:"summary",name:"AI Summary",icon:Zd,color:"green"},{id:"mindmap",name:"Mind Map",icon:Fm,color:"purple"},{id:"flashcards",name:"Flashcards",icon:Kr,color:"yellow"},{id:"quiz",name:"AI Quiz",icon:Dr,color:"red"}],l=()=>{switch(r){case"summary":return n.jsx(hhe,{subject:t,topic:a});case"mindmap":return n.jsx(fhe,{subject:t,topic:a});case"flashcards":return n.jsx(mhe,{subject:t,topic:a});case"quiz":return n.jsx(phe,{subject:t,topic:a});default:return n.jsx(ghe,{subject:t,onSelectTopic:c=>{i(c),s("summary")}})}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:`bg-gradient-to-r ${vhe(t.color)} p-6 text-white shadow-lg`,children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors",children:n.jsx(By,{className:"w-5 h-5 rotate-180"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold",children:[t.name," Learning"]}),n.jsx("p",{className:"text-blue-100",children:"AI-powered interactive learning experience"})]})]})})}),n.jsx("div",{className:"bg-white border-b border-gray-200 px-6",children:n.jsx("div",{className:"flex space-x-8",children:o.map(c=>{const d=c.icon;return n.jsxs("button",{onClick:()=>s(c.id),className:`flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm transition-colors ${r===c.id?`border-${c.color}-500 text-${c.color}-600`:"border-transparent text-gray-500 hover:text-gray-700"}`,children:[n.jsx(d,{className:"w-4 h-4"}),n.jsx("span",{children:c.name})]},c.id)})})}),n.jsx("div",{className:"p-6",children:l()})]})},ghe=({subject:t,onSelectTopic:e})=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Available Topics"}),n.jsx("div",{className:"space-y-2",children:t.topics.map((r,s)=>n.jsxs("button",{onClick:()=>e&&e(r),className:"w-full flex items-center justify-between p-2 hover:bg-blue-50 rounded-lg border border-transparent hover:border-blue-200 transition",children:[n.jsx("span",{className:"text-gray-700 text-left",children:r}),n.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-600 text-sm",children:[n.jsx(mi,{className:"w-3.5 h-3.5"}),"Start"]})]},s))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Learning Progress"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[n.jsx("span",{children:"Overall Progress"}),n.jsx("span",{children:"75%"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:"75%"}})})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{className:"w-full text-left p-2 hover:bg-gray-50 rounded-lg flex items-center space-x-2",children:[n.jsx(mi,{className:"w-4 h-4 text-blue-500"}),n.jsx("span",{children:"Continue Learning"})]}),n.jsxs("button",{className:"w-full text-left p-2 hover:bg-gray-50 rounded-lg flex items-center space-x-2",children:[n.jsx(io,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{children:"Review Previous"})]})]})]})]}),vhe=t=>{const e={blue:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",green:"from-green-500 to-green-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600"};return e[t]||e.blue},YR=[{id:"math",name:"Mathematics",description:"Advanced mathematical concepts including algebra, geometry, and calculus",topics:["Algebra","Geometry","Trigonometry","Statistics","Probability","Calculus Basics"],color:"blue"},{id:"physics",name:"Physics",description:"Fundamental principles of physics including mechanics, electricity, and optics",topics:["Mechanics","Heat and Thermodynamics","Light","Sound","Electricity","Magnetism"],color:"purple"},{id:"chemistry",name:"Chemistry",description:"Explore the composition, structure, and properties of matter and chemical reactions",topics:["Atomic Structure","Chemical Bonding","Periodic Table","Stoichiometry","Organic Chemistry","Acids and Bases"],color:"green"},{id:"biology",name:"Biology",description:"Study of living organisms, their structure, function, and interactions",topics:["Cell Biology","Genetics","Photosynthesis","Evolution","Ecology","Human Anatomy"],color:"orange"},{id:"english",name:"English Literature",description:"Analyze literary works, improve writing skills, and master language arts",topics:["Poetry Analysis","Novel Studies","Grammar & Syntax","Creative Writing","Literary Devices","Essay Writing"],color:"red"},{id:"history",name:"History",description:"Explore historical events, civilizations, and their impact on the modern world",topics:["World War I","World War II","Ancient Civilizations","Industrial Revolution","Cold War","Renaissance"],color:"blue"},{id:"geography",name:"Geography",description:"Study the Earth's landscapes, environments, and spatial relationships",topics:["Physical Geography","Climate Change","Population Studies","Natural Resources","Cartography","Urban Planning"],color:"green"},{id:"economics",name:"Economics",description:"Understand economic principles, markets, and financial systems",topics:["Supply and Demand","Market Structures","Macroeconomics","International Trade","Banking Systems","Economic Policy"],color:"purple"},{id:"computer-science",name:"Computer Science",description:"Learn programming, algorithms, and computational thinking",topics:["Programming Basics","Data Structures","Algorithms","Web Development","Database Systems","Artificial Intelligence"],color:"orange"},{id:"psychology",name:"Psychology",description:"Explore human behavior, mental processes, and psychological theories",topics:["Cognitive Psychology","Behavioral Psychology","Developmental Psychology","Social Psychology","Research Methods","Mental Health"],color:"red"}],KR={totalTopicsStudied:45,completedCourses:6,currentStreak:7,weeklyGoal:5,weeklyProgress:4,subjectProgress:{Mathematics:{completed:15,total:20,percentage:75},Physics:{completed:8,total:15,percentage:53},Chemistry:{completed:12,total:18,percentage:67},Biology:{completed:10,total:16,percentage:63},"English Literature":{completed:14,total:20,percentage:70},History:{completed:9,total:15,percentage:60},Geography:{completed:7,total:12,percentage:58},Economics:{completed:6,total:14,percentage:43},"Computer Science":{completed:8,total:18,percentage:44},Psychology:{completed:5,total:12,percentage:42}},recentActivity:[{topic:"Quadratic Equations",subject:"Mathematics",date:new Date,type:"summary"},{topic:"Laws of Motion",subject:"Physics",date:new Date(Date.now()-864e5),type:"mindmap"},{topic:"Chemical Bonding",subject:"Chemistry",date:new Date(Date.now()-1728e5),type:"flashcards"},{topic:"Cell Division",subject:"Biology",date:new Date(Date.now()-2592e5),type:"quiz"},{topic:"Shakespeare Analysis",subject:"English Literature",date:new Date(Date.now()-3456e5),type:"summary"}]},JR=[{id:1,title:"Review Quadratic Functions",subject:"Mathematics",reason:"You struggled with this topic in recent assignments",difficulty:"medium",estimatedTime:30,type:"review"}],g_="http://localhost:5000";function yhe(){const[t,e]=L.useState([]),[r,s]=L.useState(0),[a,i]=L.useState(1),[o]=L.useState(12),[l,c]=L.useState(!1),[d,u]=L.useState(null),[h,m]=L.useState(""),[f,x]=L.useState(""),[v,g]=L.useState(""),[b,N]=L.useState(""),[w,A]=L.useState(null),[j,S]=L.useState([]),[E,R]=L.useState(""),[C,T]=L.useState(!1),[k,P]=L.useState("problems"),[D,H]=L.useState([]),[F,z]=L.useState(""),[O,W]=L.useState(""),[ee,K]=L.useState("medium"),[re,U]=L.useState(!1),[Y,V]=L.useState(!1),Z=async()=>{c(!0),u(null);try{const se=new URLSearchParams;h&&se.append("subject",h),f&&se.append("chapter",f),v&&se.append("difficulty",v),b&&se.append("q",b),se.append("page",String(a)),se.append("limit",String(o));const J=await fetch(`${g_}/api/alcove/posts?${se.toString()}`);if(!J.ok)throw new Error("Failed to load posts");const ie=await J.json();e(ie.items||[]),s(ie.total||0)}catch(se){u(se.message||"Error")}finally{c(!1)}};L.useEffect(()=>{Z()},[h,f,v,b,a,o]);const ce=L.useMemo(()=>Array.from(new Set(t.map(se=>se.subject))).filter(Boolean),[t]),fe=L.useMemo(()=>Array.from(new Set(t.map(se=>se.chapter))).filter(Boolean),[t]),ye=async se=>{A(se),S([]);try{const J=await fetch(`${g_}/api/alcove/posts/${se._id}/comments`);if(J.ok){const ie=await J.json();S(ie)}}catch{}},ge=async()=>{if(!(!w||!E.trim())){T(!0);try{const se=await fetch(`${g_}/api/alcove/posts/${w._id}/comments`,{method:"POST",headers:{"Content-Type":"application/json",...localStorage.getItem("token")?{Authorization:`Bearer ${localStorage.getItem("token")}`}:{}},body:JSON.stringify({text:E,authorName:localStorage.getItem("username")||void 0})});if(!se.ok)throw new Error("Failed to post comment");const J=await se.json();S(ie=>[...ie,J]),R("")}catch(se){alert(se.message||"Could not post comment")}finally{T(!1)}}},we=Math.max(1,Math.ceil(r/o));L.useEffect(()=>{k==="wall"&&H([{id:1,teacherName:"Prof. Sarah Johnson",teacherAvatar:"SJ",subject:"Mathematics",difficulty:"hard",content:"Looking for creative ways to explain quadratic equations to my Grade 10 students. Anyone have interactive methods that worked well? The traditional approach isn't clicking with this batch.",timestamp:new Date(Date.now()-7200*1e3),likes:12,comments:5,isLiked:!1},{id:2,teacherName:"Dr. Michael Chen",teacherAvatar:"MC",subject:"Physics",difficulty:"medium",content:"Just solved an interesting projectile motion problem involving a basketball shot. The trajectory calculation shows some beautiful parabolic curves. Would love to share this with the community!",timestamp:new Date(Date.now()-14400*1e3),likes:18,comments:8,isLiked:!0},{id:3,teacherName:"Ms. Emily Rodriguez",teacherAvatar:"ER",subject:"Chemistry",difficulty:"easy",content:"Created a simple experiment to demonstrate chemical reactions using household items. Students were amazed by the color changes! Perfect for remote learning setups.",timestamp:new Date(Date.now()-360*60*1e3),likes:25,comments:12,isLiked:!1},{id:4,teacherName:"Prof. David Kumar",teacherAvatar:"DK",subject:"Biology",difficulty:"medium",content:"Working on a challenging genetics problem involving multiple alleles and inheritance patterns. The Punnett squares are getting complex, but the results are fascinating!",timestamp:new Date(Date.now()-480*60*1e3),likes:15,comments:6,isLiked:!0},{id:5,teacherName:"Ms. Lisa Thompson",teacherAvatar:"LT",subject:"English",difficulty:"hard",content:"Exploring Shakespeare's use of metaphors in Hamlet. Found some incredible linguistic patterns that connect to modern literature. Anyone interested in collaborating on a cross-curricular approach?",timestamp:new Date(Date.now()-720*60*1e3),likes:20,comments:15,isLiked:!1}])},[k]);const Re=se=>{H(J=>J.map(ie=>ie.id===se?{...ie,isLiked:!ie.isLiked,likes:ie.isLiked?ie.likes-1:ie.likes+1}:ie))},oe=()=>{var J;if(!F.trim())return;V(!0);const se={id:Date.now(),teacherName:localStorage.getItem("username")||"Anonymous Teacher",teacherAvatar:(localStorage.getItem("username")||"AT")[0].toUpperCase()+((J=(localStorage.getItem("username")||"AT")[1])==null?void 0:J.toUpperCase())||"",subject:O||"General",difficulty:ee,content:F,timestamp:new Date,likes:0,comments:0,isLiked:!1};setTimeout(()=>{H(ie=>[se,...ie]),z(""),W(""),K("medium"),U(!1),V(!1)},1e3)},ut=se=>{const ie=Math.floor((new Date-se)/(1e3*60));return ie<60?`${ie}m ago`:ie<1440?`${Math.floor(ie/60)}h ago`:`${Math.floor(ie/1440)}d ago`};return n.jsxs("div",{className:"w-full min-h-screen px-2 sm:px-4 md:px-8 py-4 sm:py-6",style:{background:"linear-gradient(135deg, #f3e8d7 0%, #e8dcc6 50%, #ddd0bb 100%)"},children:[n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl p-6 sm:p-8 mb-6 overflow-hidden",style:{backgroundColor:"#fefcf8",border:"3px solid #8B7355"},children:[n.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-3",style:{color:"#8B4513",fontFamily:"Georgia, serif"},children:"Academic Alcove"}),n.jsx("div",{className:"w-32 h-1 bg-amber-600 mx-auto mb-4 rounded"}),n.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto leading-relaxed",style:{color:"#8B7355"},children:k==="problems"?"Discover challenging problems and detailed solutions curated by expert educators.":"Connect with fellow educators, share insights, and collaborate on academic challenges."}),n.jsx("div",{className:"flex justify-center mt-6",children:n.jsxs("div",{className:"bg-white rounded-full p-2 shadow-lg border-2",style:{borderColor:"#D97706"},children:[n.jsxs("button",{onClick:()=>P("problems"),className:`px-6 py-2 rounded-full font-semibold transition-all ${k==="problems"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-amber-700 hover:bg-amber-50"}`,children:[n.jsx(kr,{className:"w-4 h-4 inline mr-2"}),"Problem Library"]}),n.jsxs("button",{onClick:()=>P("wall"),className:`px-6 py-2 rounded-full font-semibold transition-all ${k==="wall"?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-amber-700 hover:bg-amber-50"}`,children:[n.jsx(vs,{className:"w-4 h-4 inline mr-2"}),"Teacher's Wall"]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4 border-2",style:{borderColor:"#F59E0B"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Total Problems"}),n.jsx("p",{className:"text-2xl font-bold text-amber-900",children:r||"---"})]}),n.jsx(kr,{className:"w-8 h-8 text-amber-600"})]})}),n.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-xl p-4 border-2",style:{borderColor:"#EAB308"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Expert Solutions"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:t.length||"---"})]}),n.jsx(Kn,{className:"w-8 h-8 text-yellow-600"})]})}),n.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-4 border-2",style:{borderColor:"#F97316"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Active Discussions"}),n.jsx("p",{className:"text-2xl font-bold text-orange-900",children:Math.floor(r*.3)||"---"})]}),n.jsx(sr,{className:"w-8 h-8 text-orange-600"})]})})]})]})]}),k==="problems"&&n.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-2",style:{backgroundColor:"#fefcf8",borderColor:"#B8860B"},children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-5 h-5 text-amber-600 absolute left-4 top-1/2 -translate-y-1/2"}),n.jsx("input",{value:b,onChange:se=>{i(1),N(se.target.value)},placeholder:"Search for problems, solutions, or topics...",className:"w-full pl-12 pr-4 py-3 rounded-xl border-2 text-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all",style:{borderColor:"#D97706",backgroundColor:"#fffbeb",color:"#8B4513"}})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-amber-50 to-yellow-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#F59E0B"},children:[n.jsx(kr,{className:"w-4 h-4 text-amber-700"}),n.jsxs("select",{value:h,onChange:se=>{i(1),m(se.target.value)},className:"bg-transparent border-0 text-amber-800 font-medium focus:ring-0 cursor-pointer",children:[n.jsx("option",{value:"",children:"All Subjects"}),ce.map(se=>n.jsx("option",{value:se,children:se},se))]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-orange-50 to-amber-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#F97316"},children:[n.jsx(Kb,{className:"w-4 h-4 text-orange-700"}),n.jsxs("select",{value:f,onChange:se=>{i(1),x(se.target.value)},className:"bg-transparent border-0 text-orange-800 font-medium focus:ring-0 cursor-pointer",children:[n.jsx("option",{value:"",children:"All Chapters"}),fe.map(se=>n.jsx("option",{value:se,children:se},se))]})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-yellow-50 to-orange-50 px-4 py-2 rounded-full border-2",style:{borderColor:"#EAB308"},children:[n.jsx(Yr,{className:"w-4 h-4 text-yellow-700"}),n.jsxs("select",{value:v,onChange:se=>{i(1),g(se.target.value)},className:"bg-transparent border-0 text-yellow-800 font-medium focus:ring-0 cursor-pointer",children:[n.jsx("option",{value:"",children:"All Levels"}),n.jsx("option",{value:"easy",children:"Easy"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"hard",children:"Hard"})]})]})]})]})}),k==="wall"&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-2",style:{backgroundColor:"#fefcf8",borderColor:"#B8860B"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-xl font-bold text-amber-800",style:{fontFamily:"Georgia, serif"},children:"Teacher's Discussion Wall"}),n.jsxs("button",{onClick:()=>U(!re),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full hover:from-amber-600 hover:to-orange-600 transition-all font-medium shadow-lg hover:scale-105",children:[n.jsx(jre,{className:"w-4 h-4"}),"Share Problem"]})]}),re&&n.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border-2 mb-4",style:{borderColor:"#F59E0B"},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Subject"}),n.jsx("input",{value:O,onChange:se=>W(se.target.value),placeholder:"e.g., Mathematics, Physics...",className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Difficulty"}),n.jsxs("select",{value:ee,onChange:se=>K(se.target.value),className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"},children:[n.jsx("option",{value:"easy",children:"Easy"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"hard",children:"Hard"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Problem or Discussion"}),n.jsx("textarea",{value:F,onChange:se=>z(se.target.value),placeholder:"Share an interesting problem, ask for help, or start a discussion...",rows:4,className:"w-full px-3 py-2 border-2 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 resize-none",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 rounded-lg border-2 border-amber-300 text-amber-800 hover:bg-amber-50 font-medium transition-all",children:"Cancel"}),n.jsx("button",{onClick:oe,disabled:Y||!F.trim(),className:`px-6 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${Y||!F.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg hover:scale-105"}`,children:Y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Posting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(np,{className:"w-4 h-4"}),"Post to Wall"]})})]})]})})]}),d&&n.jsx("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border-2 border-red-200 text-red-800 font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),d]})}),k==="problems"&&n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[l&&Array.from({length:6}).map((se,J)=>n.jsx("div",{className:"h-64 rounded-2xl border-2 animate-pulse",style:{backgroundColor:"#f3e8d7",borderColor:"#D97706"}},J)),!l&&t.map(se=>n.jsxs("div",{className:"group bg-white rounded-2xl border-2 shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",style:{backgroundColor:"#fefcf8",borderColor:"#D97706"},children:[n.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-4 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/5"}),n.jsxs("div",{className:"relative flex items-start justify-between gap-2",children:[n.jsx("h3",{className:"font-bold text-white text-lg line-clamp-2 leading-tight",style:{fontFamily:"Georgia, serif"},children:se.title}),se.highlighted&&n.jsx("div",{className:"flex-shrink-0 bg-yellow-300 rounded-full p-1",children:n.jsx(Kr,{className:"w-4 h-4 text-yellow-800",title:"Highlighted"})})]})]}),n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-300",children:se.subject}),n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-800 border border-orange-300",children:se.chapter}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize border ${se.difficulty==="easy"?"bg-green-100 text-green-800 border-green-300":se.difficulty==="medium"?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300"}`,children:se.difficulty})]}),n.jsx("p",{className:"text-gray-700 line-clamp-4 leading-relaxed mb-4 text-sm",children:se.problemText}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-amber-200",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-700",children:[n.jsx(Kt,{className:"w-3 h-3"}),new Date(se.createdAt).toLocaleDateString()]}),n.jsx("button",{onClick:()=>ye(se),className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-full hover:from-amber-600 hover:to-orange-600 transition-all font-medium text-sm group-hover:scale-105",children:"Explore Solution"})]})]})]},se._id))]}),k==="wall"&&n.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[D.map(se=>n.jsxs("div",{className:"bg-white rounded-2xl border-2 shadow-lg hover:shadow-xl transition-all duration-300",style:{backgroundColor:"#fefcf8",borderColor:"#D97706"},children:[n.jsx("div",{className:"p-6 border-b border-amber-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:se.teacherAvatar}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-amber-800 text-lg",style:{fontFamily:"Georgia, serif"},children:se.teacherName}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 border border-amber-300",children:se.subject}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold capitalize border ${se.difficulty==="easy"?"bg-green-100 text-green-800 border-green-300":se.difficulty==="medium"?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300"}`,children:se.difficulty}),n.jsx("span",{className:"text-xs text-gray-500",children:ut(se.timestamp)})]})]})})})]})}),n.jsx("div",{className:"p-6",children:n.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap text-base",children:se.content})}),n.jsxs("div",{className:"px-6 pb-6 flex items-center justify-between border-t border-amber-200 pt-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{onClick:()=>Re(se.id),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all font-medium ${se.isLiked?"bg-red-100 text-red-600 border-2 border-red-300":"bg-gray-100 text-gray-600 border-2 border-gray-300 hover:bg-red-50 hover:text-red-500"}`,children:[n.jsx(il,{className:`w-4 h-4 ${se.isLiked?"fill-current":""}`}),se.likes]}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-blue-100 text-blue-600 border-2 border-blue-300 hover:bg-blue-50 transition-all font-medium",children:[n.jsx(vs,{className:"w-4 h-4"}),se.comments]})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[n.jsx(Kt,{className:"w-3 h-3 inline mr-1"}),se.timestamp.toLocaleDateString()]})]})]},se.id)),D.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No posts yet"}),n.jsx("p",{className:"text-gray-600",children:"Be the first to share a problem or start a discussion!"})]})]}),k==="problems"&&we>1&&n.jsxs("div",{className:"mt-8 flex items-center justify-center gap-3",children:[n.jsx("button",{disabled:a<=1,onClick:()=>i(se=>Math.max(1,se-1)),className:`px-6 py-3 rounded-full font-medium transition-all ${a<=1?"text-gray-400 border-2 border-gray-200 bg-gray-50":"text-amber-800 border-2 border-amber-300 bg-amber-50 hover:bg-amber-100 hover:scale-105"}`,children:"Previous"}),n.jsxs("div",{className:"px-6 py-3 rounded-full bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold shadow-lg",children:["Page ",a," of ",we]}),n.jsx("button",{disabled:a>=we,onClick:()=>i(se=>Math.min(we,se+1)),className:`px-6 py-3 rounded-full font-medium transition-all ${a>=we?"text-gray-400 border-2 border-gray-200 bg-gray-50":"text-amber-800 border-2 border-amber-300 bg-amber-50 hover:bg-amber-100 hover:scale-105"}`,children:"Next"})]}),w&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>A(null),children:n.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-2xl shadow-2xl overflow-hidden border-4",style:{backgroundColor:"#fefcf8",borderColor:"#8B7355"},onClick:se=>se.stopPropagation(),children:[n.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-6 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/10"}),n.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight",style:{fontFamily:"Georgia, serif"},children:w.title}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-amber-200 text-amber-800 border border-amber-400",children:w.subject}),n.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-orange-200 text-orange-800 border border-orange-400",children:w.chapter}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold capitalize border ${w.difficulty==="easy"?"bg-green-200 text-green-800 border-green-400":w.difficulty==="medium"?"bg-yellow-200 text-yellow-800 border-yellow-400":"bg-red-200 text-red-800 border-red-400"}`,children:w.difficulty})]})]}),w.highlighted&&n.jsx("div",{className:"flex-shrink-0 bg-yellow-300 rounded-full p-2 shadow-lg",children:n.jsx(Kr,{className:"w-6 h-6 text-yellow-800"})})]})]}),n.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-5 border-2",style:{borderColor:"#F59E0B"},children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),n.jsx("h4",{className:"text-lg font-bold text-amber-800",style:{fontFamily:"Georgia, serif"},children:"Problem Statement"})]}),n.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 leading-relaxed whitespace-pre-wrap bg-white rounded-lg p-4 border border-amber-200 shadow-sm",children:w.problemText})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-5 border-2",style:{borderColor:"#10B981"},children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.jsx("h4",{className:"text-lg font-bold text-green-800",style:{fontFamily:"Georgia, serif"},children:"Expert Solution"})]}),n.jsx("div",{className:"prose prose-sm max-w-none text-gray-800 leading-relaxed whitespace-pre-wrap bg-white rounded-lg p-4 border border-green-200 shadow-sm",children:w.solutionText})]})]}),n.jsxs("div",{className:"border-t-4 border-amber-200 bg-gradient-to-br from-orange-50 to-amber-50 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(vs,{className:"w-6 h-6 text-orange-600"}),n.jsx("h4",{className:"text-xl font-bold text-orange-800",style:{fontFamily:"Georgia, serif"},children:"Discussion Forum"})]}),n.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-3 mb-4 bg-white rounded-xl p-4 border-2 border-orange-200",children:[j.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(vs,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{children:"No comments yet. Be the first to ask or share insight!"})]}),j.map(se=>n.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 rounded-xl p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-400 to-orange-400 rounded-full flex items-center justify-center text-white font-bold text-sm",children:(se.authorName||"A")[0].toUpperCase()}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-amber-800",children:se.authorName||"Anonymous"}),n.jsx("div",{className:"text-xs text-amber-600",children:new Date(se.createdAt).toLocaleString()})]})]}),n.jsx("div",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed",children:se.text})]},se._id))]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{value:E,onChange:se=>R(se.target.value),placeholder:"Share your thoughts or ask a question...",className:"flex-1 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition-all text-lg",style:{borderColor:"#F59E0B",backgroundColor:"#fffbeb"}}),n.jsx("button",{disabled:C||!E.trim(),onClick:ge,className:`px-6 py-3 rounded-xl font-semibold transition-all ${C||!E.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg hover:scale-105"}`,children:C?"Posting...":"Post Comment"}),n.jsx("button",{onClick:()=>A(null),className:"px-6 py-3 rounded-xl border-2 border-amber-300 text-amber-800 hover:bg-amber-50 font-semibold transition-all hover:scale-105",children:"Close"})]})]})]})})]})}const QR=()=>{const[t,e]=L.useState(""),[r,s]=L.useState(5),[a,i]=L.useState(5),[o,l]=L.useState(!1),[c,d]=L.useState(""),[u,h]=L.useState([]),[m,f]=L.useState(!1);L.useEffect(()=>{h([{date:"2024-01-15",mood:"good",stressLevel:4,socialEngagement:7,notes:"Feeling positive about upcoming exams"},{date:"2024-01-10",mood:"neutral",stressLevel:6,socialEngagement:6,notes:"Normal day, focused on assignments"},{date:"2024-01-05",mood:"excellent",stressLevel:3,socialEngagement:8,notes:"Great day! Enjoyed group project work"}])},[]);const x=b=>{const N={excellent:{icon:Xd,color:"text-green-600",bg:"bg-green-100"},good:{icon:Xd,color:"text-blue-600",bg:"bg-blue-100"},neutral:{icon:Jw,color:"text-yellow-600",bg:"bg-yellow-100"},concerning:{icon:Hy,color:"text-orange-600",bg:"bg-orange-100"},critical:{icon:Zr,color:"text-red-600",bg:"bg-red-100"}};return N[b]||N.neutral},v=b=>{b.preventDefault();const N={date:new Date().toISOString().split("T")[0],mood:t,stressLevel:r,socialEngagement:a,behaviorChanges:o,notes:c};h([N,...u]),e(""),s(5),i(5),l(!1),d(""),f(!1),console.log("Wellbeing entry saved:",N)},g=u[0];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 p-4 sm:p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"flex justify-center items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:n.jsx(Pn,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"My Wellbeing"})]}),n.jsx("p",{className:"text-gray-600",children:"Track your emotional wellbeing and mental health journey"})]}),g&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(il,{className:"w-5 h-5 text-purple-600"}),"Current Wellbeing Status"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"text-center",children:(()=>{const b=x(g.mood),N=b.icon;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${b.bg} mb-3`,children:n.jsx(N,{className:`w-8 h-8 ${b.color}`})}),n.jsx("h3",{className:"font-medium text-gray-900",children:"Current Mood"}),n.jsx("p",{className:`text-sm font-medium ${b.color}`,children:g.mood.charAt(0).toUpperCase()+g.mood.slice(1)})]})})()}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 mb-3",children:n.jsx(Yr,{className:"w-8 h-8 text-orange-600"})}),n.jsx("h3",{className:"font-medium text-gray-900",children:"Stress Level"}),n.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[g.stressLevel,"/10"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-3",children:n.jsx(sr,{className:"w-8 h-8 text-blue-600"})}),n.jsx("h3",{className:"font-medium text-gray-900",children:"Social Engagement"}),n.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[g.socialEngagement,"/10"]})]})]}),g.notes&&n.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Latest note:"})," ",g.notes]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(Dn,{className:"w-5 h-5 text-purple-600"}),"Daily Check-in"]}),!m&&n.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(Ao,{size:16}),"New Entry"]})]}),m&&n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"How are you feeling today?"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:["excellent","good","neutral","concerning","critical"].map(b=>{const N=x(b),w=N.icon;return n.jsxs("button",{type:"button",onClick:()=>e(b),className:`p-4 rounded-xl border-2 transition-all ${t===b?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[n.jsx("div",{className:`w-8 h-8 mx-auto mb-2 rounded-full ${N.bg} flex items-center justify-center`,children:n.jsx(w,{className:`w-5 h-5 ${N.color}`})}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:b.charAt(0).toUpperCase()+b.slice(1)})]},b)})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Stress Level: ",r,"/10"]}),n.jsx("input",{type:"range",min:"1",max:"10",value:r,onChange:b=>s(parseInt(b.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[n.jsx("span",{children:"Low Stress"}),n.jsx("span",{children:"High Stress"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Social Engagement: ",a,"/10"]}),n.jsx("input",{type:"range",min:"1",max:"10",value:a,onChange:b=>i(parseInt(b.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[n.jsx("span",{children:"Low Engagement"}),n.jsx("span",{children:"High Engagement"})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"behaviorChanges",checked:o,onChange:b=>l(b.target.checked),className:"h-4 w-4 text-purple-600 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"behaviorChanges",className:"ml-2 text-sm text-gray-700",children:"I've noticed changes in my behavior or mood patterns"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),n.jsx("textarea",{value:c,onChange:b=>d(b.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"How was your day? Any thoughts or feelings you'd like to note..."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{type:"submit",disabled:!t,className:"flex-1 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[n.jsx(ET,{size:16}),"Save Check-in"]}),n.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-purple-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[n.jsx(Kt,{className:"w-5 h-5 text-purple-600"}),"Wellbeing History"]}),u.length>0?n.jsx("div",{className:"space-y-4",children:u.map((b,N)=>{const w=x(b.mood),A=w.icon;return n.jsxs("div",{className:"flex items-start gap-4 p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx("div",{className:`w-10 h-10 rounded-full ${w.bg} flex items-center justify-center flex-shrink-0`,children:n.jsx(A,{className:`w-5 h-5 ${w.color}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("div",{children:n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${w.bg} ${w.color}`,children:b.mood.charAt(0).toUpperCase()+b.mood.slice(1)})}),n.jsx("span",{className:"text-sm text-gray-500",children:b.date})]}),n.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mb-2",children:[n.jsxs("span",{children:["Stress: ",b.stressLevel,"/10"]}),n.jsxs("span",{children:["Social: ",b.socialEngagement,"/10"]})]}),b.notes&&n.jsx("p",{className:"text-sm text-gray-700",children:b.notes})]})]},N)})}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Pn,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"No wellbeing entries yet. Start your first check-in!"})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-6 border border-purple-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(Kr,{className:"w-5 h-5 text-purple-600"}),"Support & Resources"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx(ou,{className:"w-8 h-8 text-blue-600 mb-3"}),n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Counseling Services"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Talk to our professional counselors"}),n.jsx("button",{className:"text-blue-600 text-sm font-medium hover:text-blue-700",children:"Schedule Session "})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx(sr,{className:"w-8 h-8 text-green-600 mb-3"}),n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Peer Support"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Connect with other students"}),n.jsx("button",{className:"text-green-600 text-sm font-medium hover:text-green-700",children:"Join Groups "})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx(il,{className:"w-8 h-8 text-purple-600 mb-3"}),n.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Mental Health Tips"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Learn coping strategies"}),n.jsx("button",{className:"text-purple-600 text-sm font-medium hover:text-purple-700",children:"View Resources "})]})]})]})]})})},ra=()=>{const t=Nc(),e=xi(),[r,s]=L.useState(!1),i=(d=>{if(d==="/dashboard"||d==="/dashboard/")return"dashboard";const u=d.match(/^\/dashboard\/(.+)$/);return u?u[1]:"dashboard"})(t.pathname),o=d=>{const u=d==="dashboard"?"/dashboard":`/dashboard/${d}`;e(u)},l={dashboard:d=>n.jsx(RS,{...d,setActiveView:o}),home:d=>n.jsx(RS,{...d,setActiveView:o}),"ai-learning":XR,"ai-learning-courses":$R,"ai-learning-tutor":XR,academics:d=>n.jsx(m_,{...d,defaultType:"school"}),attendance:yae,routine:BD,schedule:BD,assignments:d=>n.jsx(m_,{...d,defaultType:"school"}),"assignments-journal":d=>n.jsx(m_,{...d,defaultType:"journal"}),"assignments-academic-alcove":d=>n.jsx(yhe,{...d}),courses:$R,results:Que,communication:HR,noticeboard:ahe,teacherfeedback:ihe,chat:HR,"excuse-letter":uhe,wellness:QR,wellbeing:QR,achievements:rhe,profile:lq,themecustomizer:nhe},c=()=>{const d=l[i];return d?typeof d=="function"?n.jsx(d,{}):n.jsx(d,{setActiveView:o}):n.jsx(RS,{setActiveView:o})};return n.jsxs("div",{className:"min-h-screen w-full bg-gray-50 flex relative overflow-hidden",children:[n.jsx(iae,{activeView:i,isOpen:r,setIsOpen:s}),n.jsxs("div",{className:`flex-1 flex flex-col h-screen transition-all duration-300  ${i==="chat"||i==="excuse-letter"?"overflow-hidden":"overflow-y-auto custom-scrollbar"}`,children:[n.jsx(oae,{sidebarOpen:r,setSidebarOpen:s,onOpenProfile:()=>e("/dashboard/profile")}),n.jsx("main",{className:`flex-1 min-h-0 ${i==="chat"||i==="excuse-letter"?"p-0":"p-2 sm:p-4 md:p-6"} w-full flex flex-col`,children:c()})]})]})},bhe={Student:"/dashboard",Teacher:"/teachers",Parent:"/parents",Principal:"/principal",Admin:"/admin/dashboard"},Vn=({allowedRoles:t,children:e})=>{const r=localStorage.getItem("token"),s=localStorage.getItem("userType");return!r||!s?n.jsx(kD,{to:"/",replace:!0}):s==="Admin"?e:Array.isArray(t)&&!t.includes(s)?n.jsx(kD,{to:bhe[s]||"/",replace:!0}):e},dq=()=>{const[t,e]=L.useState({role:"student",id:1,name:"Koushik Bala",email:"koushik@example.com"}),[r,s]=L.useState("dashboard"),[a,i]=L.useState([{id:1,title:"Login Issues",description:"Unable to access my course materials after password reset",category:"Technical",priority:"High",status:"Open",submittedBy:"Swapnanil Dutta",submittedDate:"2024-06-10",assignedTo:"IT Support",lastUpdated:"2024-06-11"},{id:2,title:"Grade Discrepancy",description:"My final grade for Mathematics course seems incorrect",category:"Academic",priority:"Medium",status:"In Progress",submittedBy:"Souvik Chakraborty",submittedDate:"2024-06-08",assignedTo:"Academic Office",lastUpdated:"2024-06-12"},{id:3,title:"Course Material Missing",description:"Week 5 lecture materials are not available in the system",category:"Content",priority:"Medium",status:"Resolved",submittedBy:"Koushik Bala",submittedDate:"2024-06-05",assignedTo:"Course Coordinator",lastUpdated:"2024-06-13"}]),[o,l]=L.useState({title:"",description:"",category:"Technical",priority:"Medium"}),[c,d]=L.useState(""),[u,h]=L.useState("All"),[m,f]=L.useState("All"),[x,v]=L.useState(!1),g=["Technical","Academic","Content","Administrative","Other"],b=["Low","Medium","High","Critical"],N=["Open","In Progress","Resolved","Closed"],w=D=>{D.preventDefault();const H={id:a.length+1,...o,status:"Open",submittedBy:t.name,submittedDate:new Date().toISOString().split("T")[0],assignedTo:"Pending Assignment",lastUpdated:new Date().toISOString().split("T")[0]};i([...a,H]),l({title:"",description:"",category:"Technical",priority:"Medium"}),s("my-complaints")},A=(D,H)=>{i(a.map(F=>F.id===D?{...F,status:H,lastUpdated:new Date().toISOString().split("T")[0]}:F))},j=D=>{switch(D){case"Open":return n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"});case"In Progress":return n.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"});case"Resolved":return n.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"});case"Closed":return n.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"});default:return n.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})}},S=D=>{switch(D){case"Low":return"bg-green-100 text-green-800 border border-green-200";case"Medium":return"bg-yellow-100 text-yellow-800 border border-yellow-200";case"High":return"bg-orange-100 text-orange-800 border border-orange-200";case"Critical":return"bg-red-100 text-red-800 border border-red-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},E=a.filter(D=>{const H=D.title.toLowerCase().includes(c.toLowerCase())||D.description.toLowerCase().includes(c.toLowerCase()),F=u==="All"||D.status===u,z=m==="All"||D.category===m;return H&&F&&z}),C=(()=>{const D=a.length,H=a.filter(O=>O.status==="Open").length,F=a.filter(O=>O.status==="In Progress").length,z=a.filter(O=>O.status==="Resolved"||O.status==="Closed").length;return{total:D,open:H,inProgress:F,resolved:z}})(),T=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[n.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Complaints"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:C.total})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:n.jsx(jr,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Open"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:C.open})]}),n.jsx("div",{className:"bg-red-50 p-3 rounded-lg",children:n.jsx(Zr,{className:"w-6 h-6 text-red-600"})})]})}),n.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:C.inProgress})]}),n.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:n.jsx(nr,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Resolved"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:C.resolved})]}),n.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:n.jsx(Dr,{className:"w-6 h-6 text-green-600"})})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Complaints"}),n.jsx("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-800",children:"View all"})]}),n.jsx("div",{className:"space-y-4",children:a.slice(0,3).map(D=>n.jsxs("div",{className:"flex items-start p-4 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0 mt-1 mr-4",children:j(D.status)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium text-gray-800",children:D.title}),n.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${S(D.priority)}`,children:D.priority})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-1",children:D.description}),n.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[n.jsxs("span",{className:"mr-3",children:["By ",D.submittedBy]}),n.jsxs("span",{children:["On ",D.submittedDate]})]})]})]},D.id))})]})]}),k=()=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Submit New Complaint"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Report an issue you're experiencing"}),n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complaint Title"}),n.jsx("input",{type:"text",required:!0,value:o.title,onChange:D=>l({...o,title:D.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your issue"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{required:!0,rows:5,value:o.description,onChange:D=>l({...o,description:D.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide detailed information about your complaint"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsx("select",{value:o.category,onChange:D=>l({...o,category:D.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:g.map(D=>n.jsx("option",{value:D,children:D},D))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsx("select",{value:o.priority,onChange:D=>l({...o,priority:D.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:b.map(D=>n.jsx("option",{value:D,children:D},D))})]})]}),n.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2 font-medium",children:[n.jsx(Dn,{className:"w-5 h-5"}),n.jsx("span",{children:"Submit Complaint"})]})]})]}),P=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"All Complaints"}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage and track your complaints"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search complaints...",value:c,onChange:D=>d(D.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),n.jsxs("select",{value:u,onChange:D=>h(D.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"All",children:"All Status"}),N.map(D=>n.jsx("option",{value:D,children:D},D))]}),n.jsxs("select",{value:m,onChange:D=>f(D.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"All",children:"All Categories"}),g.map(D=>n.jsx("option",{value:D,children:D},D))]})]})]})}),n.jsx("div",{className:"space-y-4",children:E.map(D=>n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",D.id]}),n.jsxs("div",{className:"flex items-center",children:[j(D.status),n.jsx("span",{className:"text-sm font-medium text-gray-700 ml-2",children:D.status})]}),n.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${S(D.priority)}`,children:D.priority})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:D.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:D.description}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-medium mr-2",children:"Category:"}),n.jsx("span",{className:"bg-gray-100 px-2.5 py-1 rounded-md",children:D.category})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Submitted by:"})," ",D.submittedBy]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",D.submittedDate]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Assigned to:"})," ",D.assignedTo]})]})]}),t.role==="admin"&&n.jsx("div",{className:"ml-4",children:n.jsx("select",{value:D.status,onChange:H=>A(D.id,H.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:N.map(H=>n.jsx("option",{value:H,children:H},H))})})]})},D.id))})]});return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-xs border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:n.jsx(jr,{className:"w-6 h-6 text-white"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Complaint Portal"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(Bs,{className:"w-5 h-5 text-gray-500"})}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>v(!x),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(pn,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{className:"text-left hidden md:block",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:t.name}),n.jsx("p",{className:"text-xs text-gray-500",children:t.role})]}),n.jsx(bs,{className:"w-4 h-4 text-gray-500"})]}),x&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[n.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:t.name}),n.jsx("p",{className:"text-xs text-gray-500",children:t.email})]}),n.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[n.jsx(Kf,{className:"w-4 h-4 mr-2"}),"Settings"]}),n.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>e({...t,role:t.role==="student"?"admin":"student"}),children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),"Switch to ",t.role==="student"?"Admin":"Student"," View"]}),n.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-50",children:[n.jsx(Wy,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("nav",{className:"mb-8",children:n.jsx("div",{className:"flex space-x-1 bg-white rounded-xl p-1.5 shadow-sm border border-gray-200",children:[{id:"dashboard",label:"Dashboard",icon:jr},{id:"submit",label:"Submit Complaint",icon:Dn},{id:"my-complaints",label:"My Complaints",icon:pn},...t.role==="admin"?[{id:"all-complaints",label:"All Complaints",icon:jr}]:[]].map(D=>{const H=D.icon;return n.jsxs("button",{onClick:()=>s(D.id),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-colors ${r===D.id?"bg-blue-50 text-blue-700 border border-blue-100":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[n.jsx(H,{className:"w-4 h-4"}),n.jsx("span",{children:D.label})]},D.id)})})}),n.jsxs("main",{children:[r==="dashboard"&&T(),r==="submit"&&k(),r==="my-complaints"&&P(),r==="all-complaints"&&t.role==="admin"&&P()]})]})]})},whe=({adminUser:t})=>{var d;const[e,r]=L.useState(!1),[s,a]=L.useState(!1),i=xi(),[o,l]=L.useState(new Date);L.useEffect(()=>{const u=setInterval(()=>l(new Date),1e3);return()=>clearInterval(u)},[]);const c=()=>{localStorage.removeItem("token"),i("/")};return n.jsx("div",{className:"border-b  border-gray-200 shadow-sm bg-white",children:n.jsx("header",{className:" w-full box-border p-[13px]",children:n.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsx("div",{className:"hidden md:flex items-center flex-1",children:n.jsxs("div",{className:"relative w-full max-w-md flex items-center",children:[n.jsx(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-24 py-2 border border-gray-200 rounded-2xl w-full focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent bg-gray-50"}),n.jsx("button",{className:"absolute right-2 px-4 py-1.5 bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-medium rounded-xl transition-colors","aria-label":"Search",children:"Search"})]})})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-xl bg-gray-50",children:[n.jsx(nr,{size:18,className:"text-gray-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:o.toLocaleDateString(void 0,{weekday:"long"})}),n.jsx("span",{className:"text-sm text-gray-500",children:o.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),n.jsx("span",{className:"text-sm text-gray-500",children:o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{className:"p-3 hover:bg-gray-100 rounded-xl text-gray-600 relative border border-gray-100",onClick:()=>a(!s),children:[n.jsx(Bs,{size:20}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[n.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:n.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),n.jsxs("div",{className:"max-h-[300px] overflow-y-auto",children:[n.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer",children:[n.jsx("p",{className:"text-sm text-gray-800",children:"New student registration request"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 minutes ago"})]}),n.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer",children:[n.jsx("p",{className:"text-sm text-gray-800",children:"Teacher leave application"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1 hour ago"})]})]})]})]}),n.jsxs("button",{className:"p- hover:bg-gray-100 rounded-xl text-gray-600 relative border border-gray-100",children:[n.jsx(vs,{size:20}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-500 rounded-full"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-50 rounded-2xl py-2 px-3 border border-gray-100",onClick:()=>r(!e),children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center",children:n.jsx("span",{className:"text-yellow-700 font-semibold text-sm",children:((d=t==null?void 0:t.name)==null?void 0:d.charAt(0))||"A"})}),n.jsxs("div",{className:"hidden md:block text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:(t==null?void 0:t.name)||"Admin User"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),n.jsx(bs,{size:16,className:"text-gray-400"})]}),e&&n.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",children:[n.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(Kf,{size:16,className:"text-gray-400"}),"Settings"]}),n.jsx("div",{className:"border-t border-gray-200 my-1"}),n.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",onClick:c,children:[n.jsx(Wy,{size:16}),"Logout"]})]})]})]})]})})})},jhe=[{icon:Mg,label:"Dashboard",path:"/admin/dashboard",active:!0},{icon:ds,label:"Analytics",path:"/admin/analytics"},{icon:sr,label:"Teachers",path:"/admin/teachers"},{icon:PT,label:"Staff",path:"/admin/staff"},{icon:na,label:"Students",path:"/admin/students"},{icon:Pn,label:"Student Wellbeing",path:"/admin/wellbeing"},{icon:xc,label:"Parents",path:"/admin/parents"},{icon:Kb,label:"Academic Setup",path:"/admin/academics"},{icon:kr,label:"Course Management",path:"/admin/courses"},{icon:Kt,label:"Subjects",path:"/admin/subjects"},{icon:C6,label:"Student Attendance",path:"/admin/attendance"},{icon:Kt,label:"Examination Management",path:"/admin/examination"},{icon:Kt,label:"Routines",path:"/admin/routines"},{icon:Kt,label:"Teacher Timetable",path:"/admin/timetable"},{icon:C6,label:"Lesson Plan",path:"/admin/lesson-plans"},{icon:jr,label:"Result",path:"/admin/result"},{icon:_f,label:"Fees Collection",path:"/admin/fees",hasSubmenu:!0,submenu:[{icon:nre,label:"Fees Dashboard",path:"/admin/fees/dashboard"},{icon:wW,label:"Fee Collection",path:"/admin/fees"},{icon:Fse,label:"Student Fee Details",path:"/admin/fees/student-details"}]},{icon:_T,label:"HR",path:"/admin/hr"}],Nhe=({onMenuItemClick:t,collapsed:e=!1,onToggleSidebar:r})=>{const[s,a]=L.useState({}),i=o=>{e||a(l=>({...l,[o]:!l[o]}))};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:`
        ${e?"w-20":"w-72"}
        bg-white border-r border-gray-200
        flex flex-col h-full shadow-lg flex-shrink-0
        transition-all duration-300 ease-in-out
      `,style:{willChange:"width"},children:[n.jsx("div",{className:"p-4 border-b border-gray-200 relative",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`${e?"w-8 h-8":"w-12 h-12"} bg-gradient-to-br from-blue-900 to-yellow-500 rounded-lg flex items-center justify-center shadow-md transition-all duration-300`,children:n.jsx("span",{className:"text-white text-xl font-bold",children:"EEC"})}),!e&&n.jsxs("div",{className:"flex flex-col opacity-100 transition-opacity duration-300",children:[n.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Electronic Educare"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Admin Portal"})]})]}),n.jsxs("button",{onClick:r,className:`absolute ${e?"top-2 right-[-7px]":"top-4 right-[-5px]"} p-4 bg-transparent rounded-lg text-gray-500 hover:text-gray-700 transition-colors duration-200`,"aria-label":e?"Open sidebar":"Collapse sidebar",title:e?"Open sidebar":"Collapse sidebar",children:[e&&n.jsx(Vs,{size:16,className:"transition-transform duration-200"}),!e&&n.jsx(xd,{size:16,className:"transition-transform duration-200"})]})]})}),n.jsx("nav",{className:"flex-1 px-4 py-4 overflow-y-auto sidebar-scroll",children:jhe.map((o,l)=>{const c=o.icon,d=s[o.label];return n.jsxs("div",{className:"mb-1",children:[o.hasSubmenu?n.jsxs("button",{onClick:()=>i(o.label),className:`
                      w-full flex items-center space-x-3 px-3 py-3 rounded-lg
                      group transition-all duration-200 ease-out
                      text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50
                      hover:text-gray-900 hover:shadow-sm
                    `,children:[n.jsx(c,{size:20,className:"flex-shrink-0 transition-colors duration-200 group-hover:text-blue-600"}),!e&&n.jsx("span",{className:"font-medium flex-1 text-left opacity-100 transition-opacity duration-200",children:o.label}),!e&&(d?n.jsx(bs,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-colors duration-200"}):n.jsx(Vs,{size:16,className:"text-gray-400 group-hover:text-blue-600 transition-colors duration-200"}))]}):n.jsx(N6,{to:o.path,onClick:()=>t(o.label),children:({isActive:u})=>n.jsxs("div",{className:`
                        flex items-center space-x-3 px-4 py-3 rounded-lg
                        group transition-all duration-200 ease-out
                        ${u?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 shadow-sm border-l-4 border-yellow-500":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-yellow-50 hover:text-gray-900 hover:shadow-sm hover:border-l-4 hover:border-blue-300"}
                      `,children:[n.jsx(c,{size:20,className:`flex-shrink-0 transition-colors duration-200 ${u?"text-yellow-600":"group-hover:text-blue-600"}`}),!e&&n.jsx("span",{className:"font-medium flex-1 opacity-100 transition-opacity duration-200",children:o.label})]})}),o.hasSubmenu&&d&&!e&&n.jsx("div",{className:"ml-6 mt-1 space-y-1",children:o.submenu.map((u,h)=>{const m=u.icon;return n.jsx(N6,{to:u.path,onClick:()=>t(u.label),children:({isActive:f})=>n.jsxs("div",{className:`
                              flex items-center space-x-3 px-4 py-2 rounded-lg
                              group transition-all duration-200 ease-out
                              ${f?"bg-gradient-to-r from-yellow-100 to-yellow-50 text-yellow-700 border-l-2 border-yellow-500 shadow-sm":"text-gray-500 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 hover:text-gray-700 hover:shadow-sm hover:border-l-2 hover:border-blue-200"}
                            `,children:[n.jsx(m,{size:16,className:`flex-shrink-0 transition-colors duration-200 ${f?"text-yellow-600":"group-hover:text-blue-600"}`}),n.jsx("span",{className:"text-sm font-medium opacity-100 transition-opacity duration-200",children:u.label})]})},h)})})]},l)})}),n.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 transition-all duration-200 cursor-pointer group",children:n.jsxs("div",{className:`flex items-center ${e?"justify-center space-x-0":"space-x-3"}`,children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 group-hover:bg-blue-100 flex items-center justify-center transition-all duration-200 group-hover:shadow-sm",children:n.jsx("span",{className:"text-yellow-600 group-hover:text-blue-600 font-semibold transition-colors duration-200",children:"A"})}),!e&&n.jsxs("div",{className:"opacity-100 transition-opacity duration-200",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900 transition-colors duration-200",children:"Admin User"}),n.jsx("p",{className:"text-xs text-gray-500 group-hover:text-blue-600 transition-colors duration-200",children:"administrator@eec.edu"})]})]})})]})})},She=({children:t,activeMenuItem:e,onMenuItemClick:r,sidebarCollapsed:s,onToggleSidebar:a,adminUser:i,breadcrumbs:o=[],showAdminHeader:l,showBreadcrumb:c=!0})=>{const d=[{label:"Admin",path:"/admin"},{label:"Dashboard",path:"/admin/dashboard"},{label:e,current:!0}];return o.length>0,n.jsxs("div",{className:"flex w-full h-screen bg-gray-50 overflow-hidden",children:[n.jsx(Nhe,{activeMenuItem:e,onMenuItemClick:r,collapsed:s,onToggleSidebar:a}),n.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[l&&n.jsx(whe,{adminUser:i}),c&&n.jsx("div",{className:"px-4 lg:px-8 bg-white border-b"}),n.jsx("main",{className:"flex-1 overflow-auto",children:t})]})]})};function uq(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=uq(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function en(){for(var t,e,r=0,s="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=uq(t))&&(s&&(s+=" "),s+=e);return s}var v_,ZR;function ol(){if(ZR)return v_;ZR=1;var t=Array.isArray;return v_=t,v_}var y_,eL;function hq(){if(eL)return y_;eL=1;var t=typeof l2=="object"&&l2&&l2.Object===Object&&l2;return y_=t,y_}var b_,tL;function fu(){if(tL)return b_;tL=1;var t=hq(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return b_=r,b_}var w_,rL;function i1(){if(rL)return w_;rL=1;var t=fu(),e=t.Symbol;return w_=e,w_}var j_,nL;function _he(){if(nL)return j_;nL=1;var t=i1(),e=Object.prototype,r=e.hasOwnProperty,s=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var u=s.call(o);return d&&(l?o[a]=c:delete o[a]),u}return j_=i,j_}var N_,sL;function Ahe(){if(sL)return N_;sL=1;var t=Object.prototype,e=t.toString;function r(s){return e.call(s)}return N_=r,N_}var S_,aL;function Dh(){if(aL)return S_;aL=1;var t=i1(),e=_he(),r=Ahe(),s="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:s:i&&i in Object(l)?e(l):r(l)}return S_=o,S_}var __,iL;function Rh(){if(iL)return __;iL=1;function t(e){return e!=null&&typeof e=="object"}return __=t,__}var A_,oL;function Og(){if(oL)return A_;oL=1;var t=Dh(),e=Rh(),r="[object Symbol]";function s(a){return typeof a=="symbol"||e(a)&&t(a)==r}return A_=s,A_}var C_,lL;function WT(){if(lL)return C_;lL=1;var t=ol(),e=Og(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:s.test(i)||!r.test(i)||o!=null&&i in Object(o)}return C_=a,C_}var k_,cL;function s0(){if(cL)return k_;cL=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return k_=t,k_}var E_,dL;function qT(){if(dL)return E_;dL=1;var t=Dh(),e=s0(),r="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==s||c==a||c==r||c==i}return E_=o,E_}var T_,uL;function Che(){if(uL)return T_;uL=1;var t=fu(),e=t["__core-js_shared__"];return T_=e,T_}var M_,hL;function khe(){if(hL)return M_;hL=1;var t=Che(),e=(function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function r(s){return!!e&&e in s}return M_=r,M_}var P_,fL;function fq(){if(fL)return P_;fL=1;var t=Function.prototype,e=t.toString;function r(s){if(s!=null){try{return e.call(s)}catch{}try{return s+""}catch{}}return""}return P_=r,P_}var D_,mL;function Ehe(){if(mL)return D_;mL=1;var t=qT(),e=khe(),r=s0(),s=fq(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||e(m))return!1;var f=t(m)?u:i;return f.test(s(m))}return D_=h,D_}var R_,pL;function The(){if(pL)return R_;pL=1;function t(e,r){return e==null?void 0:e[r]}return R_=t,R_}var L_,xL;function ap(){if(xL)return L_;xL=1;var t=Ehe(),e=The();function r(s,a){var i=e(s,a);return t(i)?i:void 0}return L_=r,L_}var O_,gL;function VN(){if(gL)return O_;gL=1;var t=ap(),e=t(Object,"create");return O_=e,O_}var I_,vL;function Mhe(){if(vL)return I_;vL=1;var t=VN();function e(){this.__data__=t?t(null):{},this.size=0}return I_=e,I_}var F_,yL;function Phe(){if(yL)return F_;yL=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return F_=t,F_}var B_,bL;function Dhe(){if(bL)return B_;bL=1;var t=VN(),e="__lodash_hash_undefined__",r=Object.prototype,s=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return s.call(o,i)?o[i]:void 0}return B_=a,B_}var U_,wL;function Rhe(){if(wL)return U_;wL=1;var t=VN(),e=Object.prototype,r=e.hasOwnProperty;function s(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return U_=s,U_}var z_,jL;function Lhe(){if(jL)return z_;jL=1;var t=VN(),e="__lodash_hash_undefined__";function r(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=t&&a===void 0?e:a,this}return z_=r,z_}var $_,NL;function Ohe(){if(NL)return $_;NL=1;var t=Mhe(),e=Phe(),r=Dhe(),s=Rhe(),a=Lhe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,$_=i,$_}var H_,SL;function Ihe(){if(SL)return H_;SL=1;function t(){this.__data__=[],this.size=0}return H_=t,H_}var W_,_L;function GT(){if(_L)return W_;_L=1;function t(e,r){return e===r||e!==e&&r!==r}return W_=t,W_}var q_,AL;function XN(){if(AL)return q_;AL=1;var t=GT();function e(r,s){for(var a=r.length;a--;)if(t(r[a][0],s))return a;return-1}return q_=e,q_}var G_,CL;function Fhe(){if(CL)return G_;CL=1;var t=XN(),e=Array.prototype,r=e.splice;function s(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return G_=s,G_}var V_,kL;function Bhe(){if(kL)return V_;kL=1;var t=XN();function e(r){var s=this.__data__,a=t(s,r);return a<0?void 0:s[a][1]}return V_=e,V_}var X_,EL;function Uhe(){if(EL)return X_;EL=1;var t=XN();function e(r){return t(this.__data__,r)>-1}return X_=e,X_}var Y_,TL;function zhe(){if(TL)return Y_;TL=1;var t=XN();function e(r,s){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,s])):a[i][1]=s,this}return Y_=e,Y_}var K_,ML;function YN(){if(ML)return K_;ML=1;var t=Ihe(),e=Fhe(),r=Bhe(),s=Uhe(),a=zhe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,K_=i,K_}var J_,PL;function VT(){if(PL)return J_;PL=1;var t=ap(),e=fu(),r=t(e,"Map");return J_=r,J_}var Q_,DL;function $he(){if(DL)return Q_;DL=1;var t=Ohe(),e=YN(),r=VT();function s(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Q_=s,Q_}var Z_,RL;function Hhe(){if(RL)return Z_;RL=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Z_=t,Z_}var e4,LL;function KN(){if(LL)return e4;LL=1;var t=Hhe();function e(r,s){var a=r.__data__;return t(s)?a[typeof s=="string"?"string":"hash"]:a.map}return e4=e,e4}var t4,OL;function Whe(){if(OL)return t4;OL=1;var t=KN();function e(r){var s=t(this,r).delete(r);return this.size-=s?1:0,s}return t4=e,t4}var r4,IL;function qhe(){if(IL)return r4;IL=1;var t=KN();function e(r){return t(this,r).get(r)}return r4=e,r4}var n4,FL;function Ghe(){if(FL)return n4;FL=1;var t=KN();function e(r){return t(this,r).has(r)}return n4=e,n4}var s4,BL;function Vhe(){if(BL)return s4;BL=1;var t=KN();function e(r,s){var a=t(this,r),i=a.size;return a.set(r,s),this.size+=a.size==i?0:1,this}return s4=e,s4}var a4,UL;function XT(){if(UL)return a4;UL=1;var t=$he(),e=Whe(),r=qhe(),s=Ghe(),a=Vhe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,a4=i,a4}var i4,zL;function mq(){if(zL)return i4;zL=1;var t=XT(),e="Expected a function";function r(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=s.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,i4=r,i4}var o4,$L;function Xhe(){if($L)return o4;$L=1;var t=mq(),e=500;function r(s){var a=t(s,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return o4=r,o4}var l4,HL;function Yhe(){if(HL)return l4;HL=1;var t=Xhe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return l4=s,l4}var c4,WL;function YT(){if(WL)return c4;WL=1;function t(e,r){for(var s=-1,a=e==null?0:e.length,i=Array(a);++s<a;)i[s]=r(e[s],s,e);return i}return c4=t,c4}var d4,qL;function Khe(){if(qL)return d4;qL=1;var t=i1(),e=YT(),r=ol(),s=Og(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(s(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return d4=o,d4}var u4,GL;function pq(){if(GL)return u4;GL=1;var t=Khe();function e(r){return r==null?"":t(r)}return u4=e,u4}var h4,VL;function xq(){if(VL)return h4;VL=1;var t=ol(),e=WT(),r=Yhe(),s=pq();function a(i,o){return t(i)?i:e(i,o)?[i]:r(s(i))}return h4=a,h4}var f4,XL;function JN(){if(XL)return f4;XL=1;var t=Og();function e(r){if(typeof r=="string"||t(r))return r;var s=r+"";return s=="0"&&1/r==-1/0?"-0":s}return f4=e,f4}var m4,YL;function KT(){if(YL)return m4;YL=1;var t=xq(),e=JN();function r(s,a){a=t(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[e(a[i++])];return i&&i==o?s:void 0}return m4=r,m4}var p4,KL;function gq(){if(KL)return p4;KL=1;var t=KT();function e(r,s,a){var i=r==null?void 0:t(r,s);return i===void 0?a:i}return p4=e,p4}var Jhe=gq();const El=ns(Jhe);var x4,JL;function Qhe(){if(JL)return x4;JL=1;function t(e){return e==null}return x4=t,x4}var Zhe=Qhe();const qr=ns(Zhe);var g4,QL;function efe(){if(QL)return g4;QL=1;var t=Dh(),e=ol(),r=Rh(),s="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==s}return g4=a,g4}var tfe=efe();const o1=ns(tfe);var rfe=qT();const Or=ns(rfe);var nfe=s0();const Ig=ns(nfe);var v4={exports:{}},Xn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZL;function sfe(){if(ZL)return Xn;ZL=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function v(g){if(typeof g=="object"&&g!==null){var b=g.$$typeof;switch(b){case t:switch(g=g.type,g){case r:case a:case s:case d:case u:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case m:case h:case i:return g;default:return b}}case e:return b}}}return Xn.ContextConsumer=o,Xn.ContextProvider=i,Xn.Element=t,Xn.ForwardRef=c,Xn.Fragment=r,Xn.Lazy=m,Xn.Memo=h,Xn.Portal=e,Xn.Profiler=a,Xn.StrictMode=s,Xn.Suspense=d,Xn.SuspenseList=u,Xn.isAsyncMode=function(){return!1},Xn.isConcurrentMode=function(){return!1},Xn.isContextConsumer=function(g){return v(g)===o},Xn.isContextProvider=function(g){return v(g)===i},Xn.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},Xn.isForwardRef=function(g){return v(g)===c},Xn.isFragment=function(g){return v(g)===r},Xn.isLazy=function(g){return v(g)===m},Xn.isMemo=function(g){return v(g)===h},Xn.isPortal=function(g){return v(g)===e},Xn.isProfiler=function(g){return v(g)===a},Xn.isStrictMode=function(g){return v(g)===s},Xn.isSuspense=function(g){return v(g)===d},Xn.isSuspenseList=function(g){return v(g)===u},Xn.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===a||g===s||g===d||g===u||g===f||typeof g=="object"&&g!==null&&(g.$$typeof===m||g.$$typeof===h||g.$$typeof===i||g.$$typeof===o||g.$$typeof===c||g.$$typeof===x||g.getModuleId!==void 0)},Xn.typeOf=v,Xn}var eO;function afe(){return eO||(eO=1,v4.exports=sfe()),v4.exports}var ife=afe(),y4,tO;function vq(){if(tO)return y4;tO=1;var t=Dh(),e=Rh(),r="[object Number]";function s(a){return typeof a=="number"||e(a)&&t(a)==r}return y4=s,y4}var b4,rO;function ofe(){if(rO)return b4;rO=1;var t=vq();function e(r){return t(r)&&r!=+r}return b4=e,b4}var lfe=ofe();const Fg=ns(lfe);var cfe=vq();const dfe=ns(cfe);var jo=function(e){return e===0?0:e>0?1:-1},vm=function(e){return o1(e)&&e.indexOf("%")===e.length-1},Gt=function(e){return dfe(e)&&!Fg(e)},Xa=function(e){return Gt(e)||o1(e)},ufe=0,ip=function(e){var r=++ufe;return"".concat(e||"").concat(r)},No=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Gt(e)&&!o1(e))return s;var i;if(vm(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Fg(i)&&(i=s),a&&i>r&&(i=r),i},kf=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},hfe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1},Ga=function(e,r){return Gt(e)&&Gt(r)?function(s){return e+s*(r-e)}:function(){return r}};function nj(t,e,r){return!t||!t.length?null:t.find(function(s){return s&&(typeof e=="function"?e(s):El(s,e))===r})}function kx(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var s in e)if({}.hasOwnProperty.call(e,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function gk(t){"@babel/helpers - typeof";return gk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gk(t)}var ffe=["viewBox","children"],mfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nO=["points","pathLength"],w4={svg:ffe,polygon:nO,polyline:nO},JT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sj=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(L.isValidElement(e)&&(s=e.props),!Ig(s))return null;var a={};return Object.keys(s).forEach(function(i){JT.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},pfe=function(e,r,s){return function(a){return e(r,s,a),null}},$m=function(e,r,s){if(!Ig(e)||gk(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];JT.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=pfe(o,r,s))}),a},xfe=["children"],gfe=["children"];function sO(t,e){if(t==null)return{};var r=vfe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function vfe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function vk(t){"@babel/helpers - typeof";return vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vk(t)}var aO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wh=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},iO=null,j4=null,QT=function t(e){if(e===iO&&Array.isArray(j4))return j4;var r=[];return L.Children.forEach(e,function(s){qr(s)||(ife.isFragment(s)?r=r.concat(t(s.props.children)):r.push(s))}),j4=r,iO=e,r};function Tl(t,e){var r=[],s=[];return Array.isArray(e)?s=e.map(function(a){return wh(a)}):s=[wh(e)],QT(t).forEach(function(a){var i=El(a,"type.displayName")||El(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function Nl(t,e){var r=Tl(t,e);return r&&r[0]}var oO=function(e){if(!e||!e.props)return!1;var r=e.props,s=r.width,a=r.height;return!(!Gt(s)||s<=0||!Gt(a)||a<=0)},yfe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],bfe=function(e){return e&&e.type&&o1(e.type)&&yfe.indexOf(e.type)>=0},yq=function(e){return e&&vk(e)==="object"&&"clipDot"in e},wfe=function(e,r,s,a){var i,o=(i=w4==null?void 0:w4[a])!==null&&i!==void 0?i:[];return!Or(e)&&(a&&o.includes(r)||mfe.includes(r))||s&&JT.includes(r)},Sr=function(e,r,s){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(L.isValidElement(e)&&(a=e.props),!Ig(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;wfe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},yk=function t(e,r){if(e===r)return!0;var s=L.Children.count(e);if(s!==L.Children.count(r))return!1;if(s===0)return!0;if(s===1)return lO(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!lO(i,o))return!1}return!0},lO=function(e,r){if(qr(e)&&qr(r))return!0;if(!qr(e)&&!qr(r)){var s=e.props||{},a=s.children,i=sO(s,xfe),o=r.props||{},l=o.children,c=sO(o,gfe);return a&&l?kx(i,c)&&yk(a,l):!a&&!l?kx(i,c):!1}return!1},cO=function(e,r){var s=[],a={};return QT(e).forEach(function(i,o){if(bfe(i))s.push(i);else if(i){var l=wh(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);s.push(h),a[l]=!0}}}),s},jfe=function(e){var r=e&&e.type;return r&&aO[r]?aO[r]:null},Nfe=function(e,r){return QT(r).indexOf(e)},Sfe=["children","width","height","viewBox","className","style","title","desc"];function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bk.apply(this,arguments)}function _fe(t,e){if(t==null)return{};var r=Afe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Afe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function wk(t){var e=t.children,r=t.width,s=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=_fe(t,Sfe),u=a||{width:r,height:s,x:0,y:0},h=en("recharts-surface",i);return Ue.createElement("svg",bk({},Sr(d,!0,"svg"),{className:h,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ue.createElement("title",null,l),Ue.createElement("desc",null,c),e)}var Cfe=["children","className"];function jk(){return jk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jk.apply(this,arguments)}function kfe(t,e){if(t==null)return{};var r=Efe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Efe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var mn=Ue.forwardRef(function(t,e){var r=t.children,s=t.className,a=kfe(t,Cfe),i=en("recharts-layer",s);return Ue.createElement("g",jk({className:i},Sr(a,!0),{ref:e}),r)}),dd=function(e,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},N4,dO;function Tfe(){if(dO)return N4;dO=1;function t(e,r,s){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),s=s>i?i:s,s<0&&(s+=i),i=r>s?0:s-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return N4=t,N4}var S4,uO;function Mfe(){if(uO)return S4;uO=1;var t=Tfe();function e(r,s,a){var i=r.length;return a=a===void 0?i:a,!s&&a>=i?r:t(r,s,a)}return S4=e,S4}var _4,hO;function bq(){if(hO)return _4;hO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=e+r+s,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(d){return l.test(d)}return _4=c,_4}var A4,fO;function Pfe(){if(fO)return A4;fO=1;function t(e){return e.split("")}return A4=t,A4}var C4,mO;function Dfe(){if(mO)return C4;mO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=e+r+s,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",x=d+"?",v="["+i+"]?",g="(?:"+f+"(?:"+[u,h,m].join("|")+")"+v+x+")*",b=v+x+g,N="(?:"+[u+l+"?",l,h,m,o].join("|")+")",w=RegExp(c+"(?="+c+")|"+N+b,"g");function A(j){return j.match(w)||[]}return C4=A,C4}var k4,pO;function Rfe(){if(pO)return k4;pO=1;var t=Pfe(),e=bq(),r=Dfe();function s(a){return e(a)?r(a):t(a)}return k4=s,k4}var E4,xO;function Lfe(){if(xO)return E4;xO=1;var t=Mfe(),e=bq(),r=Rfe(),s=pq();function a(i){return function(o){o=s(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return E4=a,E4}var T4,gO;function Ofe(){if(gO)return T4;gO=1;var t=Lfe(),e=t("toUpperCase");return T4=e,T4}var Ife=Ofe();const QN=ns(Ife);function Es(t){return function(){return t}}const wq=Math.cos,aj=Math.sin,gd=Math.sqrt,ij=Math.PI,ZN=2*ij,Nk=Math.PI,Sk=2*Nk,lm=1e-6,Ffe=Sk-lm;function jq(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Bfe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jq;const r=10**e;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class Ufe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jq:Bfe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,s,a){this._append`Q${+e},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(e,r,s,a,i,o){this._append`C${+e},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,s,a,i){if(e=+e,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-e,d=a-r,u=o-e,h=l-r,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>lm)if(!(Math.abs(h*c-d*u)>lm)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let f=s-o,x=a-l,v=c*c+d*d,g=f*f+x*x,b=Math.sqrt(v),N=Math.sqrt(m),w=i*Math.tan((Nk-Math.acos((v+m-g)/(2*b*N)))/2),A=w/N,j=w/b;Math.abs(A-1)>lm&&this._append`L${e+A*u},${r+A*h}`,this._append`A${i},${i},0,0,${+(h*f>u*x)},${this._x1=e+j*c},${this._y1=r+j*d}`}}arc(e,r,s,a,i,o){if(e=+e,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=e+l,u=r+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>lm||Math.abs(this._y1-u)>lm)&&this._append`L${d},${u}`,s&&(m<0&&(m=m%Sk+Sk),m>Ffe?this._append`A${s},${s},0,1,${h},${e-l},${r-c}A${s},${s},0,1,${h},${this._x1=d},${this._y1=u}`:m>lm&&this._append`A${s},${s},0,${+(m>=Nk)},${h},${this._x1=e+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(e,r,s,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function ZT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);e=s}return t},()=>new Ufe(e)}function eM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nq(t){this._context=t}Nq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function e5(t){return new Nq(t)}function Sq(t){return t[0]}function _q(t){return t[1]}function Aq(t,e){var r=Es(!0),s=null,a=e5,i=null,o=ZT(l);t=typeof t=="function"?t:t===void 0?Sq:Es(t),e=typeof e=="function"?e:e===void 0?_q:Es(e);function l(c){var d,u=(c=eM(c)).length,h,m=!1,f;for(s==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(h,d,c),+e(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Es(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Es(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Es(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function L2(t,e,r){var s=null,a=Es(!0),i=null,o=e5,l=null,c=ZT(d);t=typeof t=="function"?t:t===void 0?Sq:Es(+t),e=typeof e=="function"?e:Es(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?_q:Es(+r);function d(h){var m,f,x,v=(h=eM(h)).length,g,b=!1,N,w=new Array(v),A=new Array(v);for(i==null&&(l=o(N=c())),m=0;m<=v;++m){if(!(m<v&&a(g=h[m],m,h))===b)if(b=!b)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=f;--x)l.point(w[x],A[x]);l.lineEnd(),l.areaEnd()}b&&(w[m]=+t(g,m,h),A[m]=+e(g,m,h),l.point(s?+s(g,m,h):w[m],r?+r(g,m,h):A[m]))}if(N)return l=null,N+""||null}function u(){return Aq().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Es(+h),s=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Es(+h),d):t},d.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:Es(+h),d):s},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Es(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Es(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Es(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(s).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Es(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class Cq{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function zfe(t){return new Cq(t,!0)}function $fe(t){return new Cq(t,!1)}const tM={draw(t,e){const r=gd(e/ij);t.moveTo(r,0),t.arc(0,0,r,0,ZN)}},Hfe={draw(t,e){const r=gd(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},kq=gd(1/3),Wfe=kq*2,qfe={draw(t,e){const r=gd(e/Wfe),s=r*kq;t.moveTo(0,-r),t.lineTo(s,0),t.lineTo(0,r),t.lineTo(-s,0),t.closePath()}},Gfe={draw(t,e){const r=gd(e),s=-r/2;t.rect(s,s,r,r)}},Vfe=.8908130915292852,Eq=aj(ij/10)/aj(7*ij/10),Xfe=aj(ZN/10)*Eq,Yfe=-wq(ZN/10)*Eq,Kfe={draw(t,e){const r=gd(e*Vfe),s=Xfe*r,a=Yfe*r;t.moveTo(0,-r),t.lineTo(s,a);for(let i=1;i<5;++i){const o=ZN*i/5,l=wq(o),c=aj(o);t.lineTo(c*r,-l*r),t.lineTo(l*s-c*a,c*s+l*a)}t.closePath()}},M4=gd(3),Jfe={draw(t,e){const r=-gd(e/(M4*3));t.moveTo(0,r*2),t.lineTo(-M4*r,-r),t.lineTo(M4*r,-r),t.closePath()}},ec=-.5,tc=gd(3)/2,_k=1/gd(12),Qfe=(_k/2+1)*3,Zfe={draw(t,e){const r=gd(e/Qfe),s=r/2,a=r*_k,i=s,o=r*_k+r,l=-i,c=o;t.moveTo(s,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(ec*s-tc*a,tc*s+ec*a),t.lineTo(ec*i-tc*o,tc*i+ec*o),t.lineTo(ec*l-tc*c,tc*l+ec*c),t.lineTo(ec*s+tc*a,ec*a-tc*s),t.lineTo(ec*i+tc*o,ec*o-tc*i),t.lineTo(ec*l+tc*c,ec*c-tc*l),t.closePath()}};function e0e(t,e){let r=null,s=ZT(a);t=typeof t=="function"?t:Es(t||tM),e=typeof e=="function"?e:Es(e===void 0?64:+e);function a(){let i;if(r||(r=i=s()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Es(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Es(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function oj(){}function lj(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Tq(t){this._context=t}Tq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t0e(t){return new Tq(t)}function Mq(t){this._context=t}Mq.prototype={areaStart:oj,areaEnd:oj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function r0e(t){return new Mq(t)}function Pq(t){this._context=t}Pq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:lj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n0e(t){return new Pq(t)}function Dq(t){this._context=t}Dq.prototype={areaStart:oj,areaEnd:oj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function s0e(t){return new Dq(t)}function vO(t){return t<0?-1:1}function yO(t,e,r){var s=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(s||a<0&&-0),o=(r-t._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(vO(i)+vO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function bO(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function P4(t,e,r){var s=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-s)/3;t._context.bezierCurveTo(s+l,a+l*e,i-l,o-l*r,i,o)}function cj(t){this._context=t}cj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:P4(this,this._t0,bO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,P4(this,bO(this,r=yO(this,t,e)),r);break;default:P4(this,this._t0,r=yO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Rq(t){this._context=new Lq(t)}(Rq.prototype=Object.create(cj.prototype)).point=function(t,e){cj.prototype.point.call(this,e,t)};function Lq(t){this._context=t}Lq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,s,a,i){this._context.bezierCurveTo(e,t,s,r,i,a)}};function a0e(t){return new cj(t)}function i0e(t){return new Rq(t)}function Oq(t){this._context=t}Oq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var s=wO(t),a=wO(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wO(t){var e,r=t.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)s=a[e]/i[e-1],i[e]-=s,o[e]-=s*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function o0e(t){return new Oq(t)}function t5(t,e){this._context=t,this._t=e}t5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function l0e(t){return new t5(t,.5)}function c0e(t){return new t5(t,0)}function d0e(t){return new t5(t,1)}function Jx(t,e){if((o=t.length)>1)for(var r=1,s,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function Ak(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function u0e(t,e){return t[e]}function h0e(t){const e=[];return e.key=t,e}function f0e(){var t=Es([]),e=Ak,r=Jx,s=u0e;function a(i){var o=Array.from(t.apply(this,arguments),h0e),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(h,o[l].key,d,i)]).data=h;for(l=0,u=eM(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Es(Array.from(i)),a):t},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Es(+i),a):s},a.order=function(i){return arguments.length?(e=i==null?Ak:typeof i=="function"?i:Es(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Jx,a):r},a}function m0e(t,e){if((s=t.length)>0){for(var r,s,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<s;++r)t[r][a][1]/=o}Jx(t,e)}}function p0e(t,e){if((a=t.length)>0){for(var r=0,s=t[e[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}Jx(t,e)}}function x0e(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[s][1]||0,m=u[s-1][1]||0,f=(h-m)/2,x=0;x<l;++x){var v=t[e[x]],g=v[s][1]||0,b=v[s-1][1]||0;f+=g-b}c+=h,d+=f*h}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,Jx(t,e)}}function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}var g0e=["type","size","sizeType"];function Ck(){return Ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ck.apply(this,arguments)}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function NO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(s){v0e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function v0e(t,e,r){return e=y0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y0e(t){var e=b0e(t,"string");return Gy(e)=="symbol"?e:e+""}function b0e(t,e){if(Gy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Gy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w0e(t,e){if(t==null)return{};var r=j0e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function j0e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var Iq={symbolCircle:tM,symbolCross:Hfe,symbolDiamond:qfe,symbolSquare:Gfe,symbolStar:Kfe,symbolTriangle:Jfe,symbolWye:Zfe},N0e=Math.PI/180,S0e=function(e){var r="symbol".concat(QN(e));return Iq[r]||tM},_0e=function(e,r,s){if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*N0e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},A0e=function(e,r){Iq["symbol".concat(QN(e))]=r},rM=function(e){var r=e.type,s=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=w0e(e,g0e),d=NO(NO({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=S0e(s),b=e0e().type(g).size(_0e(i,l,s));return b()},h=d.className,m=d.cx,f=d.cy,x=Sr(d,!0);return m===+m&&f===+f&&i===+i?Ue.createElement("path",Ck({},x,{className:en("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(f,")"),d:u()})):null};rM.registerSymbol=A0e;function Qx(t){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(t)}function kk(){return kk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},kk.apply(this,arguments)}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function C0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(s){Vy(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function k0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E0e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Bq(s.key),s)}}function T0e(t,e,r){return e&&E0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M0e(t,e,r){return e=dj(e),P0e(t,Fq()?Reflect.construct(e,r||[],dj(t).constructor):e.apply(t,r))}function P0e(t,e){if(e&&(Qx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D0e(t)}function D0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!t})()}function dj(t){return dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dj(t)}function R0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ek(t,e)}function Ek(t,e){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Ek(t,e)}function Vy(t,e,r){return e=Bq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bq(t){var e=L0e(t,"string");return Qx(e)=="symbol"?e:e+""}function L0e(t,e){if(Qx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Qx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rc=32,nM=(function(t){function e(){return k0e(this,e),M0e(this,e,arguments)}return R0e(e,t),T0e(e,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=rc/2,o=rc/6,l=rc/3,c=s.inactive?a:s.color;if(s.type==="plainline")return Ue.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:rc,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return Ue.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(rc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return Ue.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(rc/8,"h").concat(rc,"v").concat(rc*3/4,"h").concat(-rc,"z"),className:"recharts-legend-icon"});if(Ue.isValidElement(s.legendIcon)){var d=C0e({},s);return delete d.legendIcon,Ue.cloneElement(s.legendIcon,d)}return Ue.createElement(rM,{fill:c,cx:i,cy:i,size:rc,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:rc,height:rc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,x){var v=f.formatter||c,g=en(Vy(Vy({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=Or(f.value)?null:f.value;dd(!Or(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=f.inactive?d:f.color;return Ue.createElement("li",kk({className:g,style:h,key:"legend-item-".concat(x)},$m(s.props,f,x)),Ue.createElement(wk,{width:o,height:o,viewBox:u,style:m},s.renderIcon(f)),Ue.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},v?v(b,f,x):b))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ue.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(L.PureComponent);Vy(nM,"displayName","Legend");Vy(nM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var D4,_O;function O0e(){if(_O)return D4;_O=1;var t=YN();function e(){this.__data__=new t,this.size=0}return D4=e,D4}var R4,AO;function I0e(){if(AO)return R4;AO=1;function t(e){var r=this.__data__,s=r.delete(e);return this.size=r.size,s}return R4=t,R4}var L4,CO;function F0e(){if(CO)return L4;CO=1;function t(e){return this.__data__.get(e)}return L4=t,L4}var O4,kO;function B0e(){if(kO)return O4;kO=1;function t(e){return this.__data__.has(e)}return O4=t,O4}var I4,EO;function U0e(){if(EO)return I4;EO=1;var t=YN(),e=VT(),r=XT(),s=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<s-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return I4=a,I4}var F4,TO;function Uq(){if(TO)return F4;TO=1;var t=YN(),e=O0e(),r=I0e(),s=F0e(),a=B0e(),i=U0e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,F4=o,F4}var B4,MO;function z0e(){if(MO)return B4;MO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return B4=e,B4}var U4,PO;function $0e(){if(PO)return U4;PO=1;function t(e){return this.__data__.has(e)}return U4=t,U4}var z4,DO;function zq(){if(DO)return z4;DO=1;var t=XT(),e=z0e(),r=$0e();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=e,s.prototype.has=r,z4=s,z4}var $4,RO;function $q(){if(RO)return $4;RO=1;function t(e,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(e[s],s,e))return!0;return!1}return $4=t,$4}var H4,LO;function Hq(){if(LO)return H4;LO=1;function t(e,r){return e.has(r)}return H4=t,H4}var W4,OO;function Wq(){if(OO)return W4;OO=1;var t=zq(),e=$q(),r=Hq(),s=1,a=2;function i(o,l,c,d,u,h){var m=c&s,f=o.length,x=l.length;if(f!=x&&!(m&&x>f))return!1;var v=h.get(o),g=h.get(l);if(v&&g)return v==l&&g==o;var b=-1,N=!0,w=c&a?new t:void 0;for(h.set(o,l),h.set(l,o);++b<f;){var A=o[b],j=l[b];if(d)var S=m?d(j,A,b,l,o,h):d(A,j,b,o,l,h);if(S!==void 0){if(S)continue;N=!1;break}if(w){if(!e(l,function(E,R){if(!r(w,R)&&(A===E||u(A,E,c,d,h)))return w.push(R)})){N=!1;break}}else if(!(A===j||u(A,j,c,d,h))){N=!1;break}}return h.delete(o),h.delete(l),N}return W4=i,W4}var q4,IO;function H0e(){if(IO)return q4;IO=1;var t=fu(),e=t.Uint8Array;return q4=e,q4}var G4,FO;function W0e(){if(FO)return G4;FO=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(a,i){s[++r]=[i,a]}),s}return G4=t,G4}var V4,BO;function sM(){if(BO)return V4;BO=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(a){s[++r]=a}),s}return V4=t,V4}var X4,UO;function q0e(){if(UO)return X4;UO=1;var t=i1(),e=H0e(),r=GT(),s=Wq(),a=W0e(),i=sM(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Map]",m="[object Number]",f="[object RegExp]",x="[object Set]",v="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",N="[object DataView]",w=t?t.prototype:void 0,A=w?w.valueOf:void 0;function j(S,E,R,C,T,k,P){switch(R){case N:if(S.byteLength!=E.byteLength||S.byteOffset!=E.byteOffset)return!1;S=S.buffer,E=E.buffer;case b:return!(S.byteLength!=E.byteLength||!k(new e(S),new e(E)));case c:case d:case m:return r(+S,+E);case u:return S.name==E.name&&S.message==E.message;case f:case v:return S==E+"";case h:var D=a;case x:var H=C&o;if(D||(D=i),S.size!=E.size&&!H)return!1;var F=P.get(S);if(F)return F==E;C|=l,P.set(S,E);var z=s(D(S),D(E),C,T,k,P);return P.delete(S),z;case g:if(A)return A.call(S)==A.call(E)}return!1}return X4=j,X4}var Y4,zO;function qq(){if(zO)return Y4;zO=1;function t(e,r){for(var s=-1,a=r.length,i=e.length;++s<a;)e[i+s]=r[s];return e}return Y4=t,Y4}var K4,$O;function G0e(){if($O)return K4;$O=1;var t=qq(),e=ol();function r(s,a,i){var o=a(s);return e(s)?o:t(o,i(s))}return K4=r,K4}var J4,HO;function V0e(){if(HO)return J4;HO=1;function t(e,r){for(var s=-1,a=e==null?0:e.length,i=0,o=[];++s<a;){var l=e[s];r(l,s,e)&&(o[i++]=l)}return o}return J4=t,J4}var Q4,WO;function X0e(){if(WO)return Q4;WO=1;function t(){return[]}return Q4=t,Q4}var Z4,qO;function Y0e(){if(qO)return Z4;qO=1;var t=V0e(),e=X0e(),r=Object.prototype,s=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return s.call(o,l)}))}:e;return Z4=i,Z4}var e3,GO;function K0e(){if(GO)return e3;GO=1;function t(e,r){for(var s=-1,a=Array(e);++s<e;)a[s]=r(s);return a}return e3=t,e3}var t3,VO;function J0e(){if(VO)return t3;VO=1;var t=Dh(),e=Rh(),r="[object Arguments]";function s(a){return e(a)&&t(a)==r}return t3=s,t3}var r3,XO;function aM(){if(XO)return r3;XO=1;var t=J0e(),e=Rh(),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return r3=i,r3}var ey={exports:{}},n3,YO;function Q0e(){if(YO)return n3;YO=1;function t(){return!1}return n3=t,n3}ey.exports;var KO;function Gq(){return KO||(KO=1,(function(t,e){var r=fu(),s=Q0e(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;t.exports=d})(ey,ey.exports)),ey.exports}var s3,JO;function iM(){if(JO)return s3;JO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(s,a){var i=typeof s;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(s))&&s>-1&&s%1==0&&s<a}return s3=r,s3}var a3,QO;function oM(){if(QO)return a3;QO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return a3=e,a3}var i3,ZO;function Z0e(){if(ZO)return i3;ZO=1;var t=Dh(),e=oM(),r=Rh(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",m="[object RegExp]",f="[object Set]",x="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",N="[object Float32Array]",w="[object Float64Array]",A="[object Int8Array]",j="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",R="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]",k={};k[N]=k[w]=k[A]=k[j]=k[S]=k[E]=k[R]=k[C]=k[T]=!0,k[s]=k[a]=k[g]=k[i]=k[b]=k[o]=k[l]=k[c]=k[d]=k[u]=k[h]=k[m]=k[f]=k[x]=k[v]=!1;function P(D){return r(D)&&e(D.length)&&!!k[t(D)]}return i3=P,i3}var o3,eI;function Vq(){if(eI)return o3;eI=1;function t(e){return function(r){return e(r)}}return o3=t,o3}var ty={exports:{}};ty.exports;var tI;function eme(){return tI||(tI=1,(function(t,e){var r=hq(),s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(ty,ty.exports)),ty.exports}var l3,rI;function Xq(){if(rI)return l3;rI=1;var t=Z0e(),e=Vq(),r=eme(),s=r&&r.isTypedArray,a=s?e(s):t;return l3=a,l3}var c3,nI;function tme(){if(nI)return c3;nI=1;var t=K0e(),e=aM(),r=ol(),s=Gq(),a=iM(),i=Xq(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var h=r(d),m=!h&&e(d),f=!h&&!m&&s(d),x=!h&&!m&&!f&&i(d),v=h||m||f||x,g=v?t(d.length,String):[],b=g.length;for(var N in d)(u||l.call(d,N))&&!(v&&(N=="length"||f&&(N=="offset"||N=="parent")||x&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||a(N,b)))&&g.push(N);return g}return c3=c,c3}var d3,sI;function rme(){if(sI)return d3;sI=1;var t=Object.prototype;function e(r){var s=r&&r.constructor,a=typeof s=="function"&&s.prototype||t;return r===a}return d3=e,d3}var u3,aI;function Yq(){if(aI)return u3;aI=1;function t(e,r){return function(s){return e(r(s))}}return u3=t,u3}var h3,iI;function nme(){if(iI)return h3;iI=1;var t=Yq(),e=t(Object.keys,Object);return h3=e,h3}var f3,oI;function sme(){if(oI)return f3;oI=1;var t=rme(),e=nme(),r=Object.prototype,s=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))s.call(i,l)&&l!="constructor"&&o.push(l);return o}return f3=a,f3}var m3,lI;function l1(){if(lI)return m3;lI=1;var t=qT(),e=oM();function r(s){return s!=null&&e(s.length)&&!t(s)}return m3=r,m3}var p3,cI;function r5(){if(cI)return p3;cI=1;var t=tme(),e=sme(),r=l1();function s(a){return r(a)?t(a):e(a)}return p3=s,p3}var x3,dI;function ame(){if(dI)return x3;dI=1;var t=G0e(),e=Y0e(),r=r5();function s(a){return t(a,r,e)}return x3=s,x3}var g3,uI;function ime(){if(uI)return g3;uI=1;var t=ame(),e=1,r=Object.prototype,s=r.hasOwnProperty;function a(i,o,l,c,d,u){var h=l&e,m=t(i),f=m.length,x=t(o),v=x.length;if(f!=v&&!h)return!1;for(var g=f;g--;){var b=m[g];if(!(h?b in o:s.call(o,b)))return!1}var N=u.get(i),w=u.get(o);if(N&&w)return N==o&&w==i;var A=!0;u.set(i,o),u.set(o,i);for(var j=h;++g<f;){b=m[g];var S=i[b],E=o[b];if(c)var R=h?c(E,S,b,o,i,u):c(S,E,b,i,o,u);if(!(R===void 0?S===E||d(S,E,l,c,u):R)){A=!1;break}j||(j=b=="constructor")}if(A&&!j){var C=i.constructor,T=o.constructor;C!=T&&"constructor"in i&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof T=="function"&&T instanceof T)&&(A=!1)}return u.delete(i),u.delete(o),A}return g3=a,g3}var v3,hI;function ome(){if(hI)return v3;hI=1;var t=ap(),e=fu(),r=t(e,"DataView");return v3=r,v3}var y3,fI;function lme(){if(fI)return y3;fI=1;var t=ap(),e=fu(),r=t(e,"Promise");return y3=r,y3}var b3,mI;function Kq(){if(mI)return b3;mI=1;var t=ap(),e=fu(),r=t(e,"Set");return b3=r,b3}var w3,pI;function cme(){if(pI)return w3;pI=1;var t=ap(),e=fu(),r=t(e,"WeakMap");return w3=r,w3}var j3,xI;function dme(){if(xI)return j3;xI=1;var t=ome(),e=VT(),r=lme(),s=Kq(),a=cme(),i=Dh(),o=fq(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",m="[object DataView]",f=o(t),x=o(e),v=o(r),g=o(s),b=o(a),N=i;return(t&&N(new t(new ArrayBuffer(1)))!=m||e&&N(new e)!=l||r&&N(r.resolve())!=d||s&&N(new s)!=u||a&&N(new a)!=h)&&(N=function(w){var A=i(w),j=A==c?w.constructor:void 0,S=j?o(j):"";if(S)switch(S){case f:return m;case x:return l;case v:return d;case g:return u;case b:return h}return A}),j3=N,j3}var N3,gI;function ume(){if(gI)return N3;gI=1;var t=Uq(),e=Wq(),r=q0e(),s=ime(),a=dme(),i=ol(),o=Gq(),l=Xq(),c=1,d="[object Arguments]",u="[object Array]",h="[object Object]",m=Object.prototype,f=m.hasOwnProperty;function x(v,g,b,N,w,A){var j=i(v),S=i(g),E=j?u:a(v),R=S?u:a(g);E=E==d?h:E,R=R==d?h:R;var C=E==h,T=R==h,k=E==R;if(k&&o(v)){if(!o(g))return!1;j=!0,C=!1}if(k&&!C)return A||(A=new t),j||l(v)?e(v,g,b,N,w,A):r(v,g,E,b,N,w,A);if(!(b&c)){var P=C&&f.call(v,"__wrapped__"),D=T&&f.call(g,"__wrapped__");if(P||D){var H=P?v.value():v,F=D?g.value():g;return A||(A=new t),w(H,F,b,N,A)}}return k?(A||(A=new t),s(v,g,b,N,w,A)):!1}return N3=x,N3}var S3,vI;function lM(){if(vI)return S3;vI=1;var t=ume(),e=Rh();function r(s,a,i,o,l){return s===a?!0:s==null||a==null||!e(s)&&!e(a)?s!==s&&a!==a:t(s,a,i,o,r,l)}return S3=r,S3}var _3,yI;function hme(){if(yI)return _3;yI=1;var t=Uq(),e=lM(),r=1,s=2;function a(i,o,l,c){var d=l.length,u=d,h=!c;if(i==null)return!u;for(i=Object(i);d--;){var m=l[d];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++d<u;){m=l[d];var f=m[0],x=i[f],v=m[1];if(h&&m[2]){if(x===void 0&&!(f in i))return!1}else{var g=new t;if(c)var b=c(x,v,f,i,o,g);if(!(b===void 0?e(v,x,r|s,c,g):b))return!1}}return!0}return _3=a,_3}var A3,bI;function Jq(){if(bI)return A3;bI=1;var t=s0();function e(r){return r===r&&!t(r)}return A3=e,A3}var C3,wI;function fme(){if(wI)return C3;wI=1;var t=Jq(),e=r5();function r(s){for(var a=e(s),i=a.length;i--;){var o=a[i],l=s[o];a[i]=[o,l,t(l)]}return a}return C3=r,C3}var k3,jI;function Qq(){if(jI)return k3;jI=1;function t(e,r){return function(s){return s==null?!1:s[e]===r&&(r!==void 0||e in Object(s))}}return k3=t,k3}var E3,NI;function mme(){if(NI)return E3;NI=1;var t=hme(),e=fme(),r=Qq();function s(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return E3=s,E3}var T3,SI;function pme(){if(SI)return T3;SI=1;function t(e,r){return e!=null&&r in Object(e)}return T3=t,T3}var M3,_I;function xme(){if(_I)return M3;_I=1;var t=xq(),e=aM(),r=ol(),s=iM(),a=oM(),i=JN();function o(l,c,d){c=t(c,l);for(var u=-1,h=c.length,m=!1;++u<h;){var f=i(c[u]);if(!(m=l!=null&&d(l,f)))break;l=l[f]}return m||++u!=h?m:(h=l==null?0:l.length,!!h&&a(h)&&s(f,h)&&(r(l)||e(l)))}return M3=o,M3}var P3,AI;function gme(){if(AI)return P3;AI=1;var t=pme(),e=xme();function r(s,a){return s!=null&&e(s,a,t)}return P3=r,P3}var D3,CI;function vme(){if(CI)return D3;CI=1;var t=lM(),e=gq(),r=gme(),s=WT(),a=Jq(),i=Qq(),o=JN(),l=1,c=2;function d(u,h){return s(u)&&a(h)?i(o(u),h):function(m){var f=e(m,u);return f===void 0&&f===h?r(m,u):t(h,f,l|c)}}return D3=d,D3}var R3,kI;function Bg(){if(kI)return R3;kI=1;function t(e){return e}return R3=t,R3}var L3,EI;function yme(){if(EI)return L3;EI=1;function t(e){return function(r){return r==null?void 0:r[e]}}return L3=t,L3}var O3,TI;function bme(){if(TI)return O3;TI=1;var t=KT();function e(r){return function(s){return t(s,r)}}return O3=e,O3}var I3,MI;function wme(){if(MI)return I3;MI=1;var t=yme(),e=bme(),r=WT(),s=JN();function a(i){return r(i)?t(s(i)):e(i)}return I3=a,I3}var F3,PI;function mu(){if(PI)return F3;PI=1;var t=mme(),e=vme(),r=Bg(),s=ol(),a=wme();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?s(o)?e(o[0],o[1]):t(o):a(o)}return F3=i,F3}var B3,DI;function Zq(){if(DI)return B3;DI=1;function t(e,r,s,a){for(var i=e.length,o=s+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return B3=t,B3}var U3,RI;function jme(){if(RI)return U3;RI=1;function t(e){return e!==e}return U3=t,U3}var z3,LI;function Nme(){if(LI)return z3;LI=1;function t(e,r,s){for(var a=s-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return z3=t,z3}var $3,OI;function Sme(){if(OI)return $3;OI=1;var t=Zq(),e=jme(),r=Nme();function s(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return $3=s,$3}var H3,II;function _me(){if(II)return H3;II=1;var t=Sme();function e(r,s){var a=r==null?0:r.length;return!!a&&t(r,s,0)>-1}return H3=e,H3}var W3,FI;function Ame(){if(FI)return W3;FI=1;function t(e,r,s){for(var a=-1,i=e==null?0:e.length;++a<i;)if(s(r,e[a]))return!0;return!1}return W3=t,W3}var q3,BI;function Cme(){if(BI)return q3;BI=1;function t(){}return q3=t,q3}var G3,UI;function kme(){if(UI)return G3;UI=1;var t=Kq(),e=Cme(),r=sM(),s=1/0,a=t&&1/r(new t([,-0]))[1]==s?function(i){return new t(i)}:e;return G3=a,G3}var V3,zI;function Eme(){if(zI)return V3;zI=1;var t=zq(),e=_me(),r=Ame(),s=Hq(),a=kme(),i=sM(),o=200;function l(c,d,u){var h=-1,m=e,f=c.length,x=!0,v=[],g=v;if(u)x=!1,m=r;else if(f>=o){var b=d?null:a(c);if(b)return i(b);x=!1,m=s,g=new t}else g=d?[]:v;e:for(;++h<f;){var N=c[h],w=d?d(N):N;if(N=u||N!==0?N:0,x&&w===w){for(var A=g.length;A--;)if(g[A]===w)continue e;d&&g.push(w),v.push(N)}else m(g,w,u)||(g!==v&&g.push(w),v.push(N))}return v}return V3=l,V3}var X3,$I;function Tme(){if($I)return X3;$I=1;var t=mu(),e=Eme();function r(s,a){return s&&s.length?e(s,t(a,2)):[]}return X3=r,X3}var Mme=Tme();const HI=ns(Mme);function eG(t,e,r){return e===!0?HI(t,r):Or(e)?HI(t,e):t}function Zx(t){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(t)}var Pme=["ref"];function WI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function th(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(r),!0).forEach(function(s){n5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,rG(s.key),s)}}function Rme(t,e,r){return e&&qI(t.prototype,e),r&&qI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lme(t,e,r){return e=uj(e),Ome(t,tG()?Reflect.construct(e,r||[],uj(t).constructor):e.apply(t,r))}function Ome(t,e){if(e&&(Zx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ime(t)}function Ime(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!t})()}function uj(t){return uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uj(t)}function Fme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tk(t,e)}function Tk(t,e){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Tk(t,e)}function n5(t,e,r){return e=rG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rG(t){var e=Bme(t,"string");return Zx(e)=="symbol"?e:e+""}function Bme(t,e){if(Zx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Zx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ume(t,e){if(t==null)return{};var r=zme(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function zme(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function $me(t){return t.value}function Hme(t,e){if(Ue.isValidElement(t))return Ue.cloneElement(t,e);if(typeof t=="function")return Ue.createElement(t,e);e.ref;var r=Ume(e,Pme);return Ue.createElement(nM,r)}var GI=1,tu=(function(t){function e(){var r;Dme(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=Lme(this,e,[].concat(a)),n5(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fme(e,t),Rme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>GI||Math.abs(a.height-this.lastBoundingBox.height)>GI)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?th({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();h={left:((d||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((u||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return th(th({},h),m)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=th(th({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ue.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){s.wrapperNode=f}},Hme(i,th(th({},this.props),{},{payload:eG(u,d,$me)})))}}],[{key:"getWithHeight",value:function(s,a){var i=th(th({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Gt(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(L.PureComponent);n5(tu,"displayName","Legend");n5(tu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Y3,VI;function Wme(){if(VI)return Y3;VI=1;var t=i1(),e=aM(),r=ol(),s=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(s&&i&&i[s])}return Y3=a,Y3}var K3,XI;function nG(){if(XI)return K3;XI=1;var t=qq(),e=Wme();function r(s,a,i,o,l){var c=-1,d=s.length;for(i||(i=e),l||(l=[]);++c<d;){var u=s[c];a>0&&i(u)?a>1?r(u,a-1,i,o,l):t(l,u):o||(l[l.length]=u)}return l}return K3=r,K3}var J3,YI;function qme(){if(YI)return J3;YI=1;function t(e){return function(r,s,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var d=l[e?c:++i];if(s(o[d],d,o)===!1)break}return r}}return J3=t,J3}var Q3,KI;function Gme(){if(KI)return Q3;KI=1;var t=qme(),e=t();return Q3=e,Q3}var Z3,JI;function sG(){if(JI)return Z3;JI=1;var t=Gme(),e=r5();function r(s,a){return s&&t(s,a,e)}return Z3=r,Z3}var eA,QI;function Vme(){if(QI)return eA;QI=1;var t=l1();function e(r,s){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=s?o:-1,c=Object(a);(s?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return eA=e,eA}var tA,ZI;function cM(){if(ZI)return tA;ZI=1;var t=sG(),e=Vme(),r=e(t);return tA=r,tA}var rA,eF;function aG(){if(eF)return rA;eF=1;var t=cM(),e=l1();function r(s,a){var i=-1,o=e(s)?Array(s.length):[];return t(s,function(l,c,d){o[++i]=a(l,c,d)}),o}return rA=r,rA}var nA,tF;function Xme(){if(tF)return nA;tF=1;function t(e,r){var s=e.length;for(e.sort(r);s--;)e[s]=e[s].value;return e}return nA=t,nA}var sA,rF;function Yme(){if(rF)return sA;rF=1;var t=Og();function e(r,s){if(r!==s){var a=r!==void 0,i=r===null,o=r===r,l=t(r),c=s!==void 0,d=s===null,u=s===s,h=t(s);if(!d&&!h&&!l&&r>s||l&&c&&u&&!d&&!h||i&&c&&u||!a&&u||!o)return 1;if(!i&&!l&&!h&&r<s||h&&a&&o&&!i&&!l||d&&a&&o||!c&&o||!u)return-1}return 0}return sA=e,sA}var aA,nF;function Kme(){if(nF)return aA;nF=1;var t=Yme();function e(r,s,a){for(var i=-1,o=r.criteria,l=s.criteria,c=o.length,d=a.length;++i<c;){var u=t(o[i],l[i]);if(u){if(i>=d)return u;var h=a[i];return u*(h=="desc"?-1:1)}}return r.index-s.index}return aA=e,aA}var iA,sF;function Jme(){if(sF)return iA;sF=1;var t=YT(),e=KT(),r=mu(),s=aG(),a=Xme(),i=Vq(),o=Kme(),l=Bg(),c=ol();function d(u,h,m){h.length?h=t(h,function(v){return c(v)?function(g){return e(g,v.length===1?v[0]:v)}:v}):h=[l];var f=-1;h=t(h,i(r));var x=s(u,function(v,g,b){var N=t(h,function(w){return w(v)});return{criteria:N,index:++f,value:v}});return a(x,function(v,g){return o(v,g,m)})}return iA=d,iA}var oA,aF;function Qme(){if(aF)return oA;aF=1;function t(e,r,s){switch(s.length){case 0:return e.call(r);case 1:return e.call(r,s[0]);case 2:return e.call(r,s[0],s[1]);case 3:return e.call(r,s[0],s[1],s[2])}return e.apply(r,s)}return oA=t,oA}var lA,iF;function Zme(){if(iF)return lA;iF=1;var t=Qme(),e=Math.max;function r(s,a,i){return a=e(a===void 0?s.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),d=Array(c);++l<c;)d[l]=o[a+l];l=-1;for(var u=Array(a+1);++l<a;)u[l]=o[l];return u[a]=i(d),t(s,this,u)}}return lA=r,lA}var cA,oF;function epe(){if(oF)return cA;oF=1;function t(e){return function(){return e}}return cA=t,cA}var dA,lF;function iG(){if(lF)return dA;lF=1;var t=ap(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return dA=e,dA}var uA,cF;function tpe(){if(cF)return uA;cF=1;var t=epe(),e=iG(),r=Bg(),s=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return uA=s,uA}var hA,dF;function rpe(){if(dF)return hA;dF=1;var t=800,e=16,r=Date.now;function s(a){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return hA=s,hA}var fA,uF;function npe(){if(uF)return fA;uF=1;var t=tpe(),e=rpe(),r=e(t);return fA=r,fA}var mA,hF;function spe(){if(hF)return mA;hF=1;var t=Bg(),e=Zme(),r=npe();function s(a,i){return r(e(a,i,t),a+"")}return mA=s,mA}var pA,fF;function s5(){if(fF)return pA;fF=1;var t=GT(),e=l1(),r=iM(),s=s0();function a(i,o,l){if(!s(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return pA=a,pA}var xA,mF;function ape(){if(mF)return xA;mF=1;var t=nG(),e=Jme(),r=spe(),s=s5(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&s(i,o[0],o[1])?o=[]:l>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return xA=a,xA}var ipe=ape();const dM=ns(ipe);function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function Mk(){return Mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mk.apply(this,arguments)}function ope(t,e){return upe(t)||dpe(t,e)||cpe(t,e)||lpe()}function lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cpe(t,e){if(t){if(typeof t=="string")return pF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pF(t,e)}}function pF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function dpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function upe(t){if(Array.isArray(t))return t}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function gA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(s){hpe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function hpe(t,e,r){return e=fpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fpe(t){var e=mpe(t,"string");return Xy(e)=="symbol"?e:e+""}function mpe(t,e){if(Xy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Xy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ppe(t){return Array.isArray(t)&&Xa(t[0])&&Xa(t[1])?t.join(" ~ "):t}var xpe=function(e){var r=e.separator,s=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,m=e.itemSorter,f=e.wrapperClassName,x=e.labelClassName,v=e.label,g=e.labelFormatter,b=e.accessibilityLayer,N=b===void 0?!1:b,w=function(){if(u&&u.length){var P={padding:0,margin:0},D=(m?dM(u,m):u).map(function(H,F){if(H.type==="none")return null;var z=gA({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),O=H.formatter||h||ppe,W=H.value,ee=H.name,K=W,re=ee;if(O&&K!=null&&re!=null){var U=O(W,ee,H,F,u);if(Array.isArray(U)){var Y=ope(U,2);K=Y[0],re=Y[1]}else K=U}return Ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:z},Xa(re)?Ue.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Xa(re)?Ue.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,Ue.createElement("span",{className:"recharts-tooltip-item-value"},K),Ue.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Ue.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},A=gA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=gA({margin:0},d),S=!qr(v),E=S?v:"",R=en("recharts-default-tooltip",f),C=en("recharts-tooltip-label",x);S&&g&&u!==void 0&&u!==null&&(E=g(v,u));var T=N?{role:"status","aria-live":"assertive"}:{};return Ue.createElement("div",Mk({className:R,style:A},T),Ue.createElement("p",{className:C,style:j},Ue.isValidElement(E)?E:"".concat(E)),w())};function Yy(t){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function O2(t,e,r){return e=gpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gpe(t){var e=vpe(t,"string");return Yy(e)=="symbol"?e:e+""}function vpe(t,e){if(Yy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Yy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rv="recharts-tooltip-wrapper",ype={visibility:"hidden"};function bpe(t){var e=t.coordinate,r=t.translateX,s=t.translateY;return en(Rv,O2(O2(O2(O2({},"".concat(Rv,"-right"),Gt(r)&&e&&Gt(e.x)&&r>=e.x),"".concat(Rv,"-left"),Gt(r)&&e&&Gt(e.x)&&r<e.x),"".concat(Rv,"-bottom"),Gt(s)&&e&&Gt(e.y)&&s>=e.y),"".concat(Rv,"-top"),Gt(s)&&e&&Gt(e.y)&&s<e.y))}function gF(t){var e=t.allowEscapeViewBox,r=t.coordinate,s=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&Gt(i[s]))return i[s];var u=r[s]-l-a,h=r[s]+a;if(e[s])return o[s]?u:h;if(o[s]){var m=u,f=c[s];return m<f?Math.max(h,c[s]):Math.max(u,c[s])}var x=h+l,v=c[s]+d;return x>v?Math.max(u,c[s]):Math.max(h,c[s])}function wpe(t){var e=t.translateX,r=t.translateY,s=t.useTranslate3d;return{transform:s?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function jpe(t){var e=t.allowEscapeViewBox,r=t.coordinate,s=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=gF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=gF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=wpe({translateX:u,translateY:h,useTranslate3d:l})):d=ype,{cssProperties:d,cssClasses:bpe({translateX:u,translateY:h,coordinate:r})}}function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function yF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(s){Dk(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Spe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,lG(s.key),s)}}function _pe(t,e,r){return e&&Spe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ape(t,e,r){return e=hj(e),Cpe(t,oG()?Reflect.construct(e,r||[],hj(t).constructor):e.apply(t,r))}function Cpe(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kpe(t)}function kpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!t})()}function hj(t){return hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hj(t)}function Epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pk(t,e)}function Pk(t,e){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Pk(t,e)}function Dk(t,e,r){return e=lG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lG(t){var e=Tpe(t,"string");return eg(e)=="symbol"?e:e+""}function Tpe(t,e){if(eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(eg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bF=1,Mpe=(function(t){function e(){var r;Npe(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=Ape(this,e,[].concat(a)),Dk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Dk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return Epe(e,t),_pe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>bF||Math.abs(s.height-this.state.lastBoundingBox.height)>bF)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,m=a.isAnimationActive,f=a.offset,x=a.position,v=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,N=a.wrapperStyle,w=jpe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),A=w.cssClasses,j=w.cssProperties,S=yF(yF({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},N);return Ue.createElement("div",{tabIndex:-1,className:A,style:S,ref:function(R){s.wrapperNode=R}},d)}}])})(L.PureComponent),Ppe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},a0={isSsr:Ppe()};function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function jF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(s){uM(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rpe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,dG(s.key),s)}}function Lpe(t,e,r){return e&&Rpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ope(t,e,r){return e=fj(e),Ipe(t,cG()?Reflect.construct(e,r||[],fj(t).constructor):e.apply(t,r))}function Ipe(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fpe(t)}function Fpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cG=function(){return!!t})()}function fj(t){return fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fj(t)}function Bpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rk(t,e)}function Rk(t,e){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Rk(t,e)}function uM(t,e,r){return e=dG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dG(t){var e=Upe(t,"string");return tg(e)=="symbol"?e:e+""}function Upe(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(tg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zpe(t){return t.dataKey}function $pe(t,e){return Ue.isValidElement(t)?Ue.cloneElement(t,e):typeof t=="function"?Ue.createElement(t,e):Ue.createElement(xpe,e)}var Ra=(function(t){function e(){return Dpe(this,e),Ope(this,e,arguments)}return Bpe(e,t),Lpe(e,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,m=a.isAnimationActive,f=a.offset,x=a.payload,v=a.payloadUniqBy,g=a.position,b=a.reverseDirection,N=a.useTranslate3d,w=a.viewBox,A=a.wrapperStyle,j=x??[];h&&j.length&&(j=eG(x.filter(function(E){return E.value!=null&&(E.hide!==!0||s.props.includeHidden)}),v,zpe));var S=j.length>0;return Ue.createElement(Mpe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:S,offset:f,position:g,reverseDirection:b,useTranslate3d:N,viewBox:w,wrapperStyle:A},$pe(d,jF(jF({},this.props),{},{payload:j})))}}])})(L.PureComponent);uM(Ra,"displayName","Tooltip");uM(Ra,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!a0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vA,NF;function Hpe(){if(NF)return vA;NF=1;var t=fu(),e=function(){return t.Date.now()};return vA=e,vA}var yA,SF;function Wpe(){if(SF)return yA;SF=1;var t=/\s/;function e(r){for(var s=r.length;s--&&t.test(r.charAt(s)););return s}return yA=e,yA}var bA,_F;function qpe(){if(_F)return bA;_F=1;var t=Wpe(),e=/^\s+/;function r(s){return s&&s.slice(0,t(s)+1).replace(e,"")}return bA=r,bA}var wA,AF;function uG(){if(AF)return wA;AF=1;var t=qpe(),e=s0(),r=Og(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return s;if(e(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=e(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):a.test(d)?s:+d}return wA=c,wA}var jA,CF;function Gpe(){if(CF)return jA;CF=1;var t=s0(),e=Hpe(),r=uG(),s="Expected a function",a=Math.max,i=Math.min;function o(l,c,d){var u,h,m,f,x,v,g=0,b=!1,N=!1,w=!0;if(typeof l!="function")throw new TypeError(s);c=r(c)||0,t(d)&&(b=!!d.leading,N="maxWait"in d,m=N?a(r(d.maxWait)||0,c):m,w="trailing"in d?!!d.trailing:w);function A(D){var H=u,F=h;return u=h=void 0,g=D,f=l.apply(F,H),f}function j(D){return g=D,x=setTimeout(R,c),b?A(D):f}function S(D){var H=D-v,F=D-g,z=c-H;return N?i(z,m-F):z}function E(D){var H=D-v,F=D-g;return v===void 0||H>=c||H<0||N&&F>=m}function R(){var D=e();if(E(D))return C(D);x=setTimeout(R,S(D))}function C(D){return x=void 0,w&&u?A(D):(u=h=void 0,f)}function T(){x!==void 0&&clearTimeout(x),g=0,u=v=h=x=void 0}function k(){return x===void 0?f:C(e())}function P(){var D=e(),H=E(D);if(u=arguments,h=this,v=D,H){if(x===void 0)return j(v);if(N)return clearTimeout(x),x=setTimeout(R,c),A(v)}return x===void 0&&(x=setTimeout(R,c)),f}return P.cancel=T,P.flush=k,P}return jA=o,jA}var NA,kF;function Vpe(){if(kF)return NA;kF=1;var t=Gpe(),e=s0(),r="Expected a function";function s(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return NA=s,NA}var Xpe=Vpe();const hG=ns(Xpe);function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function I2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(s){Ype(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Ype(t,e,r){return e=Kpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kpe(t){var e=Jpe(t,"string");return Ky(e)=="symbol"?e:e+""}function Jpe(t,e){if(Ky(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ky(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qpe(t,e){return rxe(t)||txe(t,e)||exe(t,e)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function exe(t,e){if(t){if(typeof t=="string")return TF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TF(t,e)}}function TF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function txe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function rxe(t){if(Array.isArray(t))return t}var ad=L.forwardRef(function(t,e){var r=t.aspect,s=t.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,m=t.maxHeight,f=t.children,x=t.debounce,v=x===void 0?0:x,g=t.id,b=t.className,N=t.onResize,w=t.style,A=w===void 0?{}:w,j=L.useRef(null),S=L.useRef();S.current=N,L.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var E=L.useState({containerWidth:a.width,containerHeight:a.height}),R=Qpe(E,2),C=R[0],T=R[1],k=L.useCallback(function(D,H){T(function(F){var z=Math.round(D),O=Math.round(H);return F.containerWidth===z&&F.containerHeight===O?F:{containerWidth:z,containerHeight:O}})},[]);L.useEffect(function(){var D=function(ee){var K,re=ee[0].contentRect,U=re.width,Y=re.height;k(U,Y),(K=S.current)===null||K===void 0||K.call(S,U,Y)};v>0&&(D=hG(D,v,{trailing:!0,leading:!1}));var H=new ResizeObserver(D),F=j.current.getBoundingClientRect(),z=F.width,O=F.height;return k(z,O),H.observe(j.current),function(){H.disconnect()}},[k,v]);var P=L.useMemo(function(){var D=C.containerWidth,H=C.containerHeight;if(D<0||H<0)return null;dd(vm(o)||vm(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),dd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=vm(o)?D:o,z=vm(c)?H:c;r&&r>0&&(F?z=F/r:z&&(F=z*r),m&&z>m&&(z=m)),dd(F>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,z,o,c,u,h,r);var O=!Array.isArray(f)&&wh(f.type).endsWith("Chart");return Ue.Children.map(f,function(W){return Ue.isValidElement(W)?L.cloneElement(W,I2({width:F,height:z},O?{style:I2({height:"100%",width:"100%",maxHeight:z,maxWidth:F},W.props.style)}:{})):W})},[r,f,c,m,h,u,C,o]);return Ue.createElement("div",{id:g?"".concat(g):void 0,className:en("recharts-responsive-container",b),style:I2(I2({},A),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:j},P)}),Zf=function(e){return null};Zf.displayName="Cell";function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(s){nxe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function nxe(t,e,r){return e=sxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sxe(t){var e=axe(t,"string");return Jy(e)=="symbol"?e:e+""}function axe(t,e){if(Jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Jy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nx={widthCache:{},cacheCount:0},ixe=2e3,oxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PF="recharts_measurement_span";function lxe(t){var e=Lk({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var fy=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||a0.isSsr)return{width:0,height:0};var s=lxe(r),a=JSON.stringify({text:e,copyStyle:s});if(nx.widthCache[a])return nx.widthCache[a];try{var i=document.getElementById(PF);i||(i=document.createElement("span"),i.setAttribute("id",PF),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Lk(Lk({},oxe),s);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return nx.widthCache[a]=c,++nx.cacheCount>ixe&&(nx.cacheCount=0,nx.widthCache={}),c}catch{return{width:0,height:0}}},cxe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function mj(t,e){return fxe(t)||hxe(t,e)||uxe(t,e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uxe(t,e){if(t){if(typeof t=="string")return DF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DF(t,e)}}function DF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function hxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function fxe(t){if(Array.isArray(t))return t}function mxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,xxe(s.key),s)}}function pxe(t,e,r){return e&&RF(t.prototype,e),r&&RF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xxe(t){var e=gxe(t,"string");return Qy(e)=="symbol"?e:e+""}function gxe(t,e){if(Qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Qy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bxe=Object.keys(fG),vx="NaN";function wxe(t,e){return t*fG[e]}var F2=(function(){function t(e,r){mxe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!vxe.test(r)&&(this.num=NaN,this.unit=""),bxe.includes(r)&&(this.num=wxe(e,r),this.unit="px")}return pxe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=yxe.exec(r))!==null&&s!==void 0?s:[],i=mj(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function mG(t){if(t.includes(vx))return vx;for(var e=t;e.includes("*")||e.includes("/");){var r,s=(r=LF.exec(e))!==null&&r!==void 0?r:[],a=mj(s,4),i=a[1],o=a[2],l=a[3],c=F2.parse(i??""),d=F2.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return vx;e=e.replace(LF,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=OF.exec(e))!==null&&h!==void 0?h:[],f=mj(m,4),x=f[1],v=f[2],g=f[3],b=F2.parse(x??""),N=F2.parse(g??""),w=v==="+"?b.add(N):b.subtract(N);if(w.isNaN())return vx;e=e.replace(OF,w.toString())}return e}var IF=/\(([^()]*)\)/;function jxe(t){for(var e=t;e.includes("(");){var r=IF.exec(e),s=mj(r,2),a=s[1];e=e.replace(IF,mG(a))}return e}function Nxe(t){var e=t.replace(/\s+/g,"");return e=jxe(e),e=mG(e),e}function Sxe(t){try{return Nxe(t)}catch{return vx}}function SA(t){var e=Sxe(t.slice(5,-1));return e===vx?"":e}var _xe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Axe=["dx","dy","angle","className","breakAll"];function Ok(){return Ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ok.apply(this,arguments)}function FF(t,e){if(t==null)return{};var r=Cxe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Cxe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function BF(t,e){return Mxe(t)||Txe(t,e)||Exe(t,e)||kxe()}function kxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t,e){if(t){if(typeof t=="string")return UF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UF(t,e)}}function UF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Txe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Mxe(t){if(Array.isArray(t))return t}var pG=/[ \f\n\r\t\v\u2028\u2029]+/,xG=function(e){var r=e.children,s=e.breakAll,a=e.style;try{var i=[];qr(r)||(s?i=r.toString().split(""):i=r.toString().split(pG));var o=i.map(function(c){return{word:c,width:fy(c,a).width}}),l=s?0:fy("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Pxe=function(e,r,s,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=Gt(o),h=l,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(z,O){var W=O.word,ee=O.width,K=z[z.length-1];if(K&&(a==null||i||K.width+ee+s<Number(a)))K.words.push(W),K.width+=ee+s;else{var re={words:[W],width:ee};z.push(re)}return z},[])},f=m(r),x=function(F){return F.reduce(function(z,O){return z.width>O.width?z:O})};if(!u)return f;for(var v="",g=function(F){var z=h.slice(0,F),O=xG({breakAll:d,style:c,children:z+v}).wordsWithComputedWidth,W=m(O),ee=W.length>o||x(W).width>Number(a);return[ee,W]},b=0,N=h.length-1,w=0,A;b<=N&&w<=h.length-1;){var j=Math.floor((b+N)/2),S=j-1,E=g(S),R=BF(E,2),C=R[0],T=R[1],k=g(j),P=BF(k,1),D=P[0];if(!C&&!D&&(b=j+1),C&&D&&(N=j-1),!C&&D){A=T;break}w++}return A||f},zF=function(e){var r=qr(e)?[]:e.toString().split(pG);return[{words:r}]},Dxe=function(e){var r=e.width,s=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||s)&&!a0.isSsr){var c,d,u=xG({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return zF(a);return Pxe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return zF(a)},$F="#808080",Hm=function(e){var r=e.x,s=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,m=e.textAnchor,f=m===void 0?"start":m,x=e.verticalAnchor,v=x===void 0?"end":x,g=e.fill,b=g===void 0?$F:g,N=FF(e,_xe),w=L.useMemo(function(){return Dxe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:h,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,h,N.style,N.width]),A=N.dx,j=N.dy,S=N.angle,E=N.className,R=N.breakAll,C=FF(N,Axe);if(!Xa(s)||!Xa(i))return null;var T=s+(Gt(A)?A:0),k=i+(Gt(j)?j:0),P;switch(v){case"start":P=SA("calc(".concat(d,")"));break;case"middle":P=SA("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:P=SA("calc(".concat(w.length-1," * -").concat(l,")"));break}var D=[];if(h){var H=w[0].width,F=N.width;D.push("scale(".concat((Gt(F)?F/H:1)/H,")"))}return S&&D.push("rotate(".concat(S,", ").concat(T,", ").concat(k,")")),D.length&&(C.transform=D.join(" ")),Ue.createElement("text",Ok({},Sr(C,!0),{x:T,y:k,className:en("recharts-text",E),textAnchor:f,fill:b.includes("url")?$F:b}),w.map(function(z,O){var W=z.words.join(R?"":" ");return Ue.createElement("tspan",{x:T,dy:O===0?P:l,key:"".concat(W,"-").concat(O)},W)}))};function Wf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hM(t){let e,r,s;t.length!==2?(e=Wf,r=(l,c)=>Wf(t(l),c),s=(l,c)=>t(l)-c):(e=t===Wf||t===Rxe?t:Lxe,r=t,s=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function Lxe(){return 0}function gG(t){return t===null?NaN:+t}function*Oxe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Ixe=hM(Wf),c1=Ixe.right;hM(gG).center;class HF extends Map{constructor(e,r=Uxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[s,a]of e)this.set(s,a)}get(e){return super.get(WF(this,e))}has(e){return super.has(WF(this,e))}set(e,r){return super.set(Fxe(this,e),r)}delete(e){return super.delete(Bxe(this,e))}}function WF({_intern:t,_key:e},r){const s=e(r);return t.has(s)?t.get(s):r}function Fxe({_intern:t,_key:e},r){const s=e(r);return t.has(s)?t.get(s):(t.set(s,r),r)}function Bxe({_intern:t,_key:e},r){const s=e(r);return t.has(s)&&(r=t.get(s),t.delete(s)),r}function Uxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zxe(t=Wf){if(t===Wf)return vG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const s=t(e,r);return s||s===0?s:(t(r,r)===0)-(t(e,e)===0)}}function vG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $xe=Math.sqrt(50),Hxe=Math.sqrt(10),Wxe=Math.sqrt(2);function pj(t,e,r){const s=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=$xe?10:i>=Hxe?5:i>=Wxe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?pj(t,e,r*2):[l,c,d]}function Ik(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const s=e<t,[a,i,o]=s?pj(e,t,r):pj(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function Fk(t,e,r){return e=+e,t=+t,r=+r,pj(t,e,r)[2]}function Bk(t,e,r){e=+e,t=+t,r=+r;const s=e<t,a=s?Fk(e,t,r):Fk(t,e,r);return(s?-1:1)*(a<0?1/-a:a)}function qF(t,e){let r;for(const s of t)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function GF(t,e){let r;for(const s of t)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function yG(t,e,r=0,s=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(t.length-1,s)),!(r<=e&&e<=s))return t;for(a=a===void 0?vG:zxe(a);s>r;){if(s-r>600){const c=s-r+1,d=e-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(e-d*h/c+m)),x=Math.min(s,Math.floor(e+(c-d)*h/c+m));yG(t,e,f,x,a)}const i=t[e];let o=r,l=s;for(Lv(t,r,e),a(t[s],i)>0&&Lv(t,r,s);o<l;){for(Lv(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Lv(t,r,l):(++l,Lv(t,l,s)),l<=e&&(r=l+1),e<=l&&(s=l-1)}return t}function Lv(t,e,r){const s=t[e];t[e]=t[r],t[r]=s}function qxe(t,e,r){if(t=Float64Array.from(Oxe(t)),!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return GF(t);if(e>=1)return qF(t);var s,a=(s-1)*e,i=Math.floor(a),o=qF(yG(t,i).subarray(0,i+1)),l=GF(t.subarray(i+1));return o+(l-o)*(a-i)}}function Gxe(t,e,r=gG){if(!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return+r(t[0],0,t);if(e>=1)return+r(t[s-1],s-1,t);var s,a=(s-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function Vxe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++s<a;)i[s]=t+s*r;return i}function _c(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Lh(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Uk=Symbol("implicit");function fM(){var t=new HF,e=[],r=[],s=Uk;function a(i){let o=t.get(i);if(o===void 0){if(s!==Uk)return s;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new HF;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return fM(e,r).unknown(s)},_c.apply(a,arguments),a}function Zy(){var t=fM().unknown(void 0),e=t.domain,r=t.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var m=e().length,f=a<s,x=f?a:s,v=f?s:a;i=(v-x)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),x+=(v-x-i*(m-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=Vxe(m).map(function(b){return x+i*b});return r(f?g.reverse():g)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,h()):[s,a]},t.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(m){return arguments.length?(l=!!m,h()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},t.copy=function(){return Zy(e(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},_c.apply(h(),arguments)}function bG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bG(e())},t}function my(){return bG(Zy.apply(null,arguments).paddingInner(1))}function mM(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function wG(t,e){var r=Object.create(t.prototype);for(var s in e)r[s]=e[s];return r}function d1(){}var eb=.7,xj=1/eb,Ex="\\s*([+-]?\\d+)\\s*",tb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xxe=/^#([0-9a-f]{3,8})$/,Yxe=new RegExp(`^rgb\\(${Ex},${Ex},${Ex}\\)$`),Kxe=new RegExp(`^rgb\\(${ru},${ru},${ru}\\)$`),Jxe=new RegExp(`^rgba\\(${Ex},${Ex},${Ex},${tb}\\)$`),Qxe=new RegExp(`^rgba\\(${ru},${ru},${ru},${tb}\\)$`),Zxe=new RegExp(`^hsl\\(${tb},${ru},${ru}\\)$`),ege=new RegExp(`^hsla\\(${tb},${ru},${ru},${tb}\\)$`),VF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mM(d1,rb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XF,formatHex:XF,formatHex8:tge,formatHsl:rge,formatRgb:YF,toString:YF});function XF(){return this.rgb().formatHex()}function tge(){return this.rgb().formatHex8()}function rge(){return jG(this).formatHsl()}function YF(){return this.rgb().formatRgb()}function rb(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Xxe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?KF(e):r===3?new Qo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?B2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?B2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yxe.exec(t))?new Qo(e[1],e[2],e[3],1):(e=Kxe.exec(t))?new Qo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jxe.exec(t))?B2(e[1],e[2],e[3],e[4]):(e=Qxe.exec(t))?B2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zxe.exec(t))?ZF(e[1],e[2]/100,e[3]/100,1):(e=ege.exec(t))?ZF(e[1],e[2]/100,e[3]/100,e[4]):VF.hasOwnProperty(t)?KF(VF[t]):t==="transparent"?new Qo(NaN,NaN,NaN,0):null}function KF(t){return new Qo(t>>16&255,t>>8&255,t&255,1)}function B2(t,e,r,s){return s<=0&&(t=e=r=NaN),new Qo(t,e,r,s)}function nge(t){return t instanceof d1||(t=rb(t)),t?(t=t.rgb(),new Qo(t.r,t.g,t.b,t.opacity)):new Qo}function zk(t,e,r,s){return arguments.length===1?nge(t):new Qo(t,e,r,s??1)}function Qo(t,e,r,s){this.r=+t,this.g=+e,this.b=+r,this.opacity=+s}mM(Qo,zk,wG(d1,{brighter(t){return t=t==null?xj:Math.pow(xj,t),new Qo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?eb:Math.pow(eb,t),new Qo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qo(Cm(this.r),Cm(this.g),Cm(this.b),gj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JF,formatHex:JF,formatHex8:sge,formatRgb:QF,toString:QF}));function JF(){return`#${ym(this.r)}${ym(this.g)}${ym(this.b)}`}function sge(){return`#${ym(this.r)}${ym(this.g)}${ym(this.b)}${ym((isNaN(this.opacity)?1:this.opacity)*255)}`}function QF(){const t=gj(this.opacity);return`${t===1?"rgb(":"rgba("}${Cm(this.r)}, ${Cm(this.g)}, ${Cm(this.b)}${t===1?")":`, ${t})`}`}function gj(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ym(t){return t=Cm(t),(t<16?"0":"")+t.toString(16)}function ZF(t,e,r,s){return s<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new td(t,e,r,s)}function jG(t){if(t instanceof td)return new td(t.h,t.s,t.l,t.opacity);if(t instanceof d1||(t=rb(t)),!t)return new td;if(t instanceof td)return t;t=t.rgb();var e=t.r/255,r=t.g/255,s=t.b/255,a=Math.min(e,r,s),i=Math.max(e,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new td(o,l,c,t.opacity)}function age(t,e,r,s){return arguments.length===1?jG(t):new td(t,e,r,s??1)}function td(t,e,r,s){this.h=+t,this.s=+e,this.l=+r,this.opacity=+s}mM(td,age,wG(d1,{brighter(t){return t=t==null?xj:Math.pow(xj,t),new td(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?eb:Math.pow(eb,t),new td(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*e,a=2*r-s;return new Qo(_A(t>=240?t-240:t+120,a,s),_A(t,a,s),_A(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new td(e7(this.h),U2(this.s),U2(this.l),gj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gj(this.opacity);return`${t===1?"hsl(":"hsla("}${e7(this.h)}, ${U2(this.s)*100}%, ${U2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function e7(t){return t=(t||0)%360,t<0?t+360:t}function U2(t){return Math.max(0,Math.min(1,t||0))}function _A(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const pM=t=>()=>t;function ige(t,e){return function(r){return t+r*e}}function oge(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(s){return Math.pow(t+s*e,r)}}function lge(t){return(t=+t)==1?NG:function(e,r){return r-e?oge(e,r,t):pM(isNaN(e)?r:e)}}function NG(t,e){var r=e-t;return r?ige(t,r):pM(isNaN(t)?e:t)}const t7=(function t(e){var r=lge(e);function s(a,i){var o=r((a=zk(a)).r,(i=zk(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=NG(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=t,s})(1);function cge(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,s=e.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=t[a]*(1-i)+e[a]*i;return s}}function dge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uge(t,e){var r=e?e.length:0,s=t?Math.min(r,t.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Ug(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function hge(t,e){var r=new Date;return t=+t,e=+e,function(s){return r.setTime(t*(1-s)+e*s),r}}function vj(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function fge(t,e){var r={},s={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Ug(t[a],e[a]):s[a]=e[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var $k=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AA=new RegExp($k.source,"g");function mge(t){return function(){return t}}function pge(t){return function(e){return t(e)+""}}function xge(t,e){var r=$k.lastIndex=AA.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(s=$k.exec(t))&&(a=AA.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:vj(s,a)})),r=AA.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?pge(c[0].x):mge(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Ug(t,e){var r=typeof e,s;return e==null||r==="boolean"?pM(e):(r==="number"?vj:r==="string"?(s=rb(e))?(e=s,t7):xge:e instanceof rb?t7:e instanceof Date?hge:dge(e)?cge:Array.isArray(e)?uge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fge:vj)(t,e)}function xM(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function gge(t,e){e===void 0&&(e=t,t=Ug);for(var r=0,s=e.length-1,a=e[0],i=new Array(s<0?0:s);r<s;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function vge(t){return function(){return t}}function yj(t){return+t}var r7=[0,1];function So(t){return t}function Hk(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:vge(isNaN(e)?NaN:.5)}function yge(t,e){var r;return t>e&&(r=t,t=e,e=r),function(s){return Math.max(t,Math.min(e,s))}}function bge(t,e,r){var s=t[0],a=t[1],i=e[0],o=e[1];return a<s?(s=Hk(a,s),i=r(o,i)):(s=Hk(s,a),i=r(i,o)),function(l){return i(s(l))}}function wge(t,e,r){var s=Math.min(t.length,e.length)-1,a=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<s;)a[o]=Hk(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=c1(t,l,1,s)-1;return i[c](a[c](l))}}function u1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function a5(){var t=r7,e=r7,r=Ug,s,a,i,o=So,l,c,d;function u(){var m=Math.min(t.length,e.length);return o!==So&&(o=yge(t[0],t[m-1])),l=m>2?wge:bge,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(t.map(s),e,r)))(s(o(m)))}return h.invert=function(m){return o(a((d||(d=l(e,t.map(s),vj)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,yj),u()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),r=xM,u()},h.clamp=function(m){return arguments.length?(o=m?!0:So,u()):o!==So},h.interpolate=function(m){return arguments.length?(r=m,u()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,f){return s=m,a=f,u()}}function gM(){return a5()(So,So)}function jge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bj(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,s=t.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+t.slice(r+1)]}function rg(t){return t=bj(Math.abs(t)),t?t[1]:NaN}function Nge(t,e){return function(r,s){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function Sge(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var _ge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nb(t){if(!(e=_ge.exec(t)))throw new Error("invalid format: "+t);var e;return new vM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nb.prototype=vM.prototype;function vM(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Age(t){e:for(var e=t.length,r=1,s=-1,a;r<e;++r)switch(t[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+t[r])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(a+1):t}var SG;function Cge(t,e){var r=bj(t,e);if(!r)return t+"";var s=r[0],a=r[1],i=a-(SG=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+bj(t,Math.max(0,e+i-1))[0]}function n7(t,e){var r=bj(t,e);if(!r)return t+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const s7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>n7(t*100,e),r:n7,s:Cge,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function a7(t){return t}var i7=Array.prototype.map,o7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kge(t){var e=t.grouping===void 0||t.thousands===void 0?a7:Nge(i7.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?a7:Sge(i7.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=nb(h);var m=h.fill,f=h.align,x=h.sign,v=h.symbol,g=h.zero,b=h.width,N=h.comma,w=h.precision,A=h.trim,j=h.type;j==="n"?(N=!0,j="g"):s7[j]||(w===void 0&&(w=12),A=!0,j="g"),(g||m==="0"&&f==="=")&&(g=!0,m="0",f="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",E=v==="$"?s:/[%p]/.test(j)?o:"",R=s7[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(k){var P=S,D=E,H,F,z;if(j==="c")D=R(k)+D,k="";else{k=+k;var O=k<0||1/k<0;if(k=isNaN(k)?c:R(Math.abs(k),w),A&&(k=Age(k)),O&&+k==0&&x!=="+"&&(O=!1),P=(O?x==="("?x:l:x==="-"||x==="("?"":x)+P,D=(j==="s"?o7[8+SG/3]:"")+D+(O&&x==="("?")":""),C){for(H=-1,F=k.length;++H<F;)if(z=k.charCodeAt(H),48>z||z>57){D=(z===46?a+k.slice(H+1):k.slice(H))+D,k=k.slice(0,H);break}}}N&&!g&&(k=e(k,1/0));var W=P.length+k.length+D.length,ee=W<b?new Array(b-W+1).join(m):"";switch(N&&g&&(k=e(ee+k,ee.length?b-D.length:1/0),ee=""),f){case"<":k=P+k+D+ee;break;case"=":k=P+ee+k+D;break;case"^":k=ee.slice(0,W=ee.length>>1)+P+k+D+ee.slice(W);break;default:k=ee+P+k+D;break}return i(k)}return T.toString=function(){return h+""},T}function u(h,m){var f=d((h=nb(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(rg(m)/3)))*3,v=Math.pow(10,-x),g=o7[8+x/3];return function(b){return f(v*b)+g}}return{format:d,formatPrefix:u}}var z2,yM,_G;Ege({thousands:",",grouping:[3],currency:["$",""]});function Ege(t){return z2=kge(t),yM=z2.format,_G=z2.formatPrefix,z2}function Tge(t){return Math.max(0,-rg(Math.abs(t)))}function Mge(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rg(e)/3)))*3-rg(Math.abs(t)))}function Pge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rg(e)-rg(t))+1}function AG(t,e,r,s){var a=Bk(t,e,r),i;switch(s=nb(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return s.precision==null&&!isNaN(i=Mge(a,o))&&(s.precision=i),_G(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=Pge(a,Math.max(Math.abs(t),Math.abs(e))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=Tge(a))&&(s.precision=i-(s.type==="%")*2);break}}return yM(s)}function i0(t){var e=t.domain;return t.ticks=function(r){var s=e();return Ik(s[0],s[s.length-1],r??10)},t.tickFormat=function(r,s){var a=e();return AG(a[0],a[a.length-1],r??10,s)},t.nice=function(r){r==null&&(r=10);var s=e(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=Fk(o,l,r),d===c)return s[a]=o,s[i]=l,e(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function wj(){var t=gM();return t.copy=function(){return u1(t,wj())},_c.apply(t,arguments),i0(t)}function CG(t){var e;function r(s){return s==null||isNaN(s=+s)?e:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(t=Array.from(s,yj),r):t.slice()},r.unknown=function(s){return arguments.length?(e=s,r):e},r.copy=function(){return CG(t).unknown(e)},t=arguments.length?Array.from(t,yj):[0,1],i0(r)}function kG(t,e){t=t.slice();var r=0,s=t.length-1,a=t[r],i=t[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),t[r]=e.floor(a),t[s]=e.ceil(i),t}function l7(t){return Math.log(t)}function c7(t){return Math.exp(t)}function Dge(t){return-Math.log(-t)}function Rge(t){return-Math.exp(-t)}function Lge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Oge(t){return t===10?Lge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ige(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function d7(t){return(e,r)=>-t(-e,r)}function bM(t){const e=t(l7,c7),r=e.domain;let s=10,a,i;function o(){return a=Ige(s),i=Oge(s),r()[0]<0?(a=d7(a),i=d7(i),t(Dge,Rge)):t(l7,c7),e}return e.base=function(l){return arguments.length?(s=+l,o()):s},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=a(d),f=a(u),x,v;const g=l==null?10:+l;let b=[];if(!(s%1)&&f-m<g){if(m=Math.floor(m),f=Math.ceil(f),d>0){for(;m<=f;++m)for(x=1;x<s;++x)if(v=m<0?x/i(-m):x*i(m),!(v<d)){if(v>u)break;b.push(v)}}else for(;m<=f;++m)for(x=s-1;x>=1;--x)if(v=m>0?x/i(-m):x*i(m),!(v<d)){if(v>u)break;b.push(v)}b.length*2<g&&(b=Ik(d,u,g))}else b=Ik(m,f,Math.min(f-m,g)).map(i);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=nb(c)).precision==null&&(c.trim=!0),c=yM(c)),l===1/0)return c;const d=Math.max(1,s*l/e.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*s<s-.5&&(h*=s),h<=d?c(u):""}},e.nice=()=>r(kG(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function EG(){const t=bM(a5()).domain([1,10]);return t.copy=()=>u1(t,EG()).base(t.base()),_c.apply(t,arguments),t}function u7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function h7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wM(t){var e=1,r=t(u7(e),h7(e));return r.constant=function(s){return arguments.length?t(u7(e=+s),h7(e)):e},i0(r)}function TG(){var t=wM(a5());return t.copy=function(){return u1(t,TG()).constant(t.constant())},_c.apply(t,arguments)}function f7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Fge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Bge(t){return t<0?-t*t:t*t}function jM(t){var e=t(So,So),r=1;function s(){return r===1?t(So,So):r===.5?t(Fge,Bge):t(f7(r),f7(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,s()):r},i0(e)}function NM(){var t=jM(a5());return t.copy=function(){return u1(t,NM()).exponent(t.exponent())},_c.apply(t,arguments),t}function Uge(){return NM.apply(null,arguments).exponent(.5)}function m7(t){return Math.sign(t)*t*t}function zge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MG(){var t=gM(),e=[0,1],r=!1,s;function a(i){var o=zge(t(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return t.invert(m7(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,yj)).map(m7)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return MG(t.domain(),e).round(r).clamp(t.clamp()).unknown(s)},_c.apply(a,arguments),i0(a)}function PG(){var t=[],e=[],r=[],s;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Gxe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:e[c1(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Wf),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return PG().domain(t).range(e).unknown(s)},_c.apply(i,arguments)}function DG(){var t=0,e=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[c1(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,s[0]]:d>=r?[s[r-1],e]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return DG().domain([t,e]).range(a).unknown(i)},_c.apply(i0(o),arguments)}function RG(){var t=[.5],e=[0,1],r,s=1;function a(i){return i!=null&&i<=i?e[c1(t,i,0,s)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),s=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return RG().domain(t).range(e).unknown(r)},_c.apply(a,arguments)}const CA=new Date,kA=new Date;function ti(t,e,r,s){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>ti(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(CA.setTime(+i),kA.setTime(+o),t(CA),t(kA),Math.floor(r(CA,kA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const jj=ti(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jj.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ti(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):jj);jj.range;const mh=1e3,uc=mh*60,ph=uc*60,Eh=ph*24,SM=Eh*7,p7=Eh*30,EA=Eh*365,bm=ti(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mh)},(t,e)=>(e-t)/mh,t=>t.getUTCSeconds());bm.range;const _M=ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mh)},(t,e)=>{t.setTime(+t+e*uc)},(t,e)=>(e-t)/uc,t=>t.getMinutes());_M.range;const AM=ti(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*uc)},(t,e)=>(e-t)/uc,t=>t.getUTCMinutes());AM.range;const CM=ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mh-t.getMinutes()*uc)},(t,e)=>{t.setTime(+t+e*ph)},(t,e)=>(e-t)/ph,t=>t.getHours());CM.range;const kM=ti(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ph)},(t,e)=>(e-t)/ph,t=>t.getUTCHours());kM.range;const h1=ti(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*uc)/Eh,t=>t.getDate()-1);h1.range;const i5=ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Eh,t=>t.getUTCDate()-1);i5.range;const LG=ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Eh,t=>Math.floor(t/Eh));LG.range;function op(t){return ti(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*uc)/SM)}const o5=op(0),Nj=op(1),$ge=op(2),Hge=op(3),ng=op(4),Wge=op(5),qge=op(6);o5.range;Nj.range;$ge.range;Hge.range;ng.range;Wge.range;qge.range;function lp(t){return ti(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/SM)}const l5=lp(0),Sj=lp(1),Gge=lp(2),Vge=lp(3),sg=lp(4),Xge=lp(5),Yge=lp(6);l5.range;Sj.range;Gge.range;Vge.range;sg.range;Xge.range;Yge.range;const EM=ti(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());EM.range;const TM=ti(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());TM.range;const Th=ti(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Th.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ti(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Th.range;const Mh=ti(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mh.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ti(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Mh.range;function OG(t,e,r,s,a,i){const o=[[bm,1,mh],[bm,5,5*mh],[bm,15,15*mh],[bm,30,30*mh],[i,1,uc],[i,5,5*uc],[i,15,15*uc],[i,30,30*uc],[a,1,ph],[a,3,3*ph],[a,6,6*ph],[a,12,12*ph],[s,1,Eh],[s,2,2*Eh],[r,1,SM],[e,1,p7],[e,3,3*p7],[t,1,EA]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),x=f?f.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,h){const m=Math.abs(u-d)/h,f=hM(([,,g])=>g).right(o,m);if(f===o.length)return t.every(Bk(d/EA,u/EA,h));if(f===0)return jj.every(Math.max(Bk(d,u,h),1));const[x,v]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return x.every(v)}return[l,c]}const[Kge,Jge]=OG(Mh,TM,l5,LG,kM,AM),[Qge,Zge]=OG(Th,EM,o5,h1,CM,_M);function TA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function MA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ov(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function eve(t){var e=t.dateTime,r=t.date,s=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Iv(a),u=Fv(a),h=Iv(i),m=Fv(i),f=Iv(o),x=Fv(o),v=Iv(l),g=Fv(l),b=Iv(c),N=Fv(c),w={a:O,A:W,b:ee,B:K,c:null,d:w7,e:w7,f:Nve,g:Dve,G:Lve,H:bve,I:wve,j:jve,L:IG,m:Sve,M:_ve,p:re,q:U,Q:S7,s:_7,S:Ave,u:Cve,U:kve,V:Eve,w:Tve,W:Mve,x:null,X:null,y:Pve,Y:Rve,Z:Ove,"%":N7},A={a:Y,A:V,b:Z,B:ce,c:null,d:j7,e:j7,f:Uve,g:Kve,G:Qve,H:Ive,I:Fve,j:Bve,L:BG,m:zve,M:$ve,p:fe,q:ye,Q:S7,s:_7,S:Hve,u:Wve,U:qve,V:Gve,w:Vve,W:Xve,x:null,X:null,y:Yve,Y:Jve,Z:Zve,"%":N7},j={a:T,A:k,b:P,B:D,c:H,d:y7,e:y7,f:xve,g:v7,G:g7,H:b7,I:b7,j:hve,L:pve,m:uve,M:fve,p:C,q:dve,Q:vve,s:yve,S:mve,u:ave,U:ive,V:ove,w:sve,W:lve,x:F,X:z,y:v7,Y:g7,Z:cve,"%":gve};w.x=S(r,w),w.X=S(s,w),w.c=S(e,w),A.x=S(r,A),A.X=S(s,A),A.c=S(e,A);function S(ge,we){return function(Re){var oe=[],ut=-1,se=0,J=ge.length,ie,Ae,Fe;for(Re instanceof Date||(Re=new Date(+Re));++ut<J;)ge.charCodeAt(ut)===37&&(oe.push(ge.slice(se,ut)),(Ae=x7[ie=ge.charAt(++ut)])!=null?ie=ge.charAt(++ut):Ae=ie==="e"?" ":"0",(Fe=we[ie])&&(ie=Fe(Re,Ae)),oe.push(ie),se=ut+1);return oe.push(ge.slice(se,ut)),oe.join("")}}function E(ge,we){return function(Re){var oe=Ov(1900,void 0,1),ut=R(oe,ge,Re+="",0),se,J;if(ut!=Re.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(we&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(se=MA(Ov(oe.y,0,1)),J=se.getUTCDay(),se=J>4||J===0?Sj.ceil(se):Sj(se),se=i5.offset(se,(oe.V-1)*7),oe.y=se.getUTCFullYear(),oe.m=se.getUTCMonth(),oe.d=se.getUTCDate()+(oe.w+6)%7):(se=TA(Ov(oe.y,0,1)),J=se.getDay(),se=J>4||J===0?Nj.ceil(se):Nj(se),se=h1.offset(se,(oe.V-1)*7),oe.y=se.getFullYear(),oe.m=se.getMonth(),oe.d=se.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),J="Z"in oe?MA(Ov(oe.y,0,1)).getUTCDay():TA(Ov(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(J+5)%7:oe.w+oe.U*7-(J+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,MA(oe)):TA(oe)}}function R(ge,we,Re,oe){for(var ut=0,se=we.length,J=Re.length,ie,Ae;ut<se;){if(oe>=J)return-1;if(ie=we.charCodeAt(ut++),ie===37){if(ie=we.charAt(ut++),Ae=j[ie in x7?we.charAt(ut++):ie],!Ae||(oe=Ae(ge,Re,oe))<0)return-1}else if(ie!=Re.charCodeAt(oe++))return-1}return oe}function C(ge,we,Re){var oe=d.exec(we.slice(Re));return oe?(ge.p=u.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function T(ge,we,Re){var oe=f.exec(we.slice(Re));return oe?(ge.w=x.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function k(ge,we,Re){var oe=h.exec(we.slice(Re));return oe?(ge.w=m.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function P(ge,we,Re){var oe=b.exec(we.slice(Re));return oe?(ge.m=N.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function D(ge,we,Re){var oe=v.exec(we.slice(Re));return oe?(ge.m=g.get(oe[0].toLowerCase()),Re+oe[0].length):-1}function H(ge,we,Re){return R(ge,e,we,Re)}function F(ge,we,Re){return R(ge,r,we,Re)}function z(ge,we,Re){return R(ge,s,we,Re)}function O(ge){return o[ge.getDay()]}function W(ge){return i[ge.getDay()]}function ee(ge){return c[ge.getMonth()]}function K(ge){return l[ge.getMonth()]}function re(ge){return a[+(ge.getHours()>=12)]}function U(ge){return 1+~~(ge.getMonth()/3)}function Y(ge){return o[ge.getUTCDay()]}function V(ge){return i[ge.getUTCDay()]}function Z(ge){return c[ge.getUTCMonth()]}function ce(ge){return l[ge.getUTCMonth()]}function fe(ge){return a[+(ge.getUTCHours()>=12)]}function ye(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var we=S(ge+="",w);return we.toString=function(){return ge},we},parse:function(ge){var we=E(ge+="",!1);return we.toString=function(){return ge},we},utcFormat:function(ge){var we=S(ge+="",A);return we.toString=function(){return ge},we},utcParse:function(ge){var we=E(ge+="",!0);return we.toString=function(){return ge},we}}}var x7={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,tve=/^%/,rve=/[\\^$*+?|[\]().{}]/g;function On(t,e,r){var s=t<0?"-":"",a=(s?-t:t)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(e)+a:a)}function nve(t){return t.replace(rve,"\\$&")}function Iv(t){return new RegExp("^(?:"+t.map(nve).join("|")+")","i")}function Fv(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function sve(t,e,r){var s=gi.exec(e.slice(r,r+1));return s?(t.w=+s[0],r+s[0].length):-1}function ave(t,e,r){var s=gi.exec(e.slice(r,r+1));return s?(t.u=+s[0],r+s[0].length):-1}function ive(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.U=+s[0],r+s[0].length):-1}function ove(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.V=+s[0],r+s[0].length):-1}function lve(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.W=+s[0],r+s[0].length):-1}function g7(t,e,r){var s=gi.exec(e.slice(r,r+4));return s?(t.y=+s[0],r+s[0].length):-1}function v7(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function cve(t,e,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function dve(t,e,r){var s=gi.exec(e.slice(r,r+1));return s?(t.q=s[0]*3-3,r+s[0].length):-1}function uve(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.m=s[0]-1,r+s[0].length):-1}function y7(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.d=+s[0],r+s[0].length):-1}function hve(t,e,r){var s=gi.exec(e.slice(r,r+3));return s?(t.m=0,t.d=+s[0],r+s[0].length):-1}function b7(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.H=+s[0],r+s[0].length):-1}function fve(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.M=+s[0],r+s[0].length):-1}function mve(t,e,r){var s=gi.exec(e.slice(r,r+2));return s?(t.S=+s[0],r+s[0].length):-1}function pve(t,e,r){var s=gi.exec(e.slice(r,r+3));return s?(t.L=+s[0],r+s[0].length):-1}function xve(t,e,r){var s=gi.exec(e.slice(r,r+6));return s?(t.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function gve(t,e,r){var s=tve.exec(e.slice(r,r+1));return s?r+s[0].length:-1}function vve(t,e,r){var s=gi.exec(e.slice(r));return s?(t.Q=+s[0],r+s[0].length):-1}function yve(t,e,r){var s=gi.exec(e.slice(r));return s?(t.s=+s[0],r+s[0].length):-1}function w7(t,e){return On(t.getDate(),e,2)}function bve(t,e){return On(t.getHours(),e,2)}function wve(t,e){return On(t.getHours()%12||12,e,2)}function jve(t,e){return On(1+h1.count(Th(t),t),e,3)}function IG(t,e){return On(t.getMilliseconds(),e,3)}function Nve(t,e){return IG(t,e)+"000"}function Sve(t,e){return On(t.getMonth()+1,e,2)}function _ve(t,e){return On(t.getMinutes(),e,2)}function Ave(t,e){return On(t.getSeconds(),e,2)}function Cve(t){var e=t.getDay();return e===0?7:e}function kve(t,e){return On(o5.count(Th(t)-1,t),e,2)}function FG(t){var e=t.getDay();return e>=4||e===0?ng(t):ng.ceil(t)}function Eve(t,e){return t=FG(t),On(ng.count(Th(t),t)+(Th(t).getDay()===4),e,2)}function Tve(t){return t.getDay()}function Mve(t,e){return On(Nj.count(Th(t)-1,t),e,2)}function Pve(t,e){return On(t.getFullYear()%100,e,2)}function Dve(t,e){return t=FG(t),On(t.getFullYear()%100,e,2)}function Rve(t,e){return On(t.getFullYear()%1e4,e,4)}function Lve(t,e){var r=t.getDay();return t=r>=4||r===0?ng(t):ng.ceil(t),On(t.getFullYear()%1e4,e,4)}function Ove(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+On(e/60|0,"0",2)+On(e%60,"0",2)}function j7(t,e){return On(t.getUTCDate(),e,2)}function Ive(t,e){return On(t.getUTCHours(),e,2)}function Fve(t,e){return On(t.getUTCHours()%12||12,e,2)}function Bve(t,e){return On(1+i5.count(Mh(t),t),e,3)}function BG(t,e){return On(t.getUTCMilliseconds(),e,3)}function Uve(t,e){return BG(t,e)+"000"}function zve(t,e){return On(t.getUTCMonth()+1,e,2)}function $ve(t,e){return On(t.getUTCMinutes(),e,2)}function Hve(t,e){return On(t.getUTCSeconds(),e,2)}function Wve(t){var e=t.getUTCDay();return e===0?7:e}function qve(t,e){return On(l5.count(Mh(t)-1,t),e,2)}function UG(t){var e=t.getUTCDay();return e>=4||e===0?sg(t):sg.ceil(t)}function Gve(t,e){return t=UG(t),On(sg.count(Mh(t),t)+(Mh(t).getUTCDay()===4),e,2)}function Vve(t){return t.getUTCDay()}function Xve(t,e){return On(Sj.count(Mh(t)-1,t),e,2)}function Yve(t,e){return On(t.getUTCFullYear()%100,e,2)}function Kve(t,e){return t=UG(t),On(t.getUTCFullYear()%100,e,2)}function Jve(t,e){return On(t.getUTCFullYear()%1e4,e,4)}function Qve(t,e){var r=t.getUTCDay();return t=r>=4||r===0?sg(t):sg.ceil(t),On(t.getUTCFullYear()%1e4,e,4)}function Zve(){return"+0000"}function N7(){return"%"}function S7(t){return+t}function _7(t){return Math.floor(+t/1e3)}var sx,zG,$G;eye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eye(t){return sx=eve(t),zG=sx.format,sx.parse,$G=sx.utcFormat,sx.utcParse,sx}function tye(t){return new Date(t)}function rye(t){return t instanceof Date?+t:+new Date(+t)}function MM(t,e,r,s,a,i,o,l,c,d){var u=gM(),h=u.invert,m=u.domain,f=d(".%L"),x=d(":%S"),v=d("%I:%M"),g=d("%I %p"),b=d("%a %d"),N=d("%b %d"),w=d("%B"),A=d("%Y");function j(S){return(c(S)<S?f:l(S)<S?x:o(S)<S?v:i(S)<S?g:s(S)<S?a(S)<S?b:N:r(S)<S?w:A)(S)}return u.invert=function(S){return new Date(h(S))},u.domain=function(S){return arguments.length?m(Array.from(S,rye)):m().map(tye)},u.ticks=function(S){var E=m();return t(E[0],E[E.length-1],S??10)},u.tickFormat=function(S,E){return E==null?j:d(E)},u.nice=function(S){var E=m();return(!S||typeof S.range!="function")&&(S=e(E[0],E[E.length-1],S??10)),S?m(kG(E,S)):u},u.copy=function(){return u1(u,MM(t,e,r,s,a,i,o,l,c,d))},u}function nye(){return _c.apply(MM(Qge,Zge,Th,EM,o5,h1,CM,_M,bm,zG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sye(){return _c.apply(MM(Kge,Jge,Mh,TM,l5,i5,kM,AM,bm,$G).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c5(){var t=0,e=1,r,s,a,i,o=So,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),s=i(e=+e),a=r===s?0:1/(s-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var f,x;return arguments.length?([f,x]=m,o=h(f,x),d):[o(0),o(1)]}}return d.range=u(Ug),d.rangeRound=u(xM),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(t),s=h(e),a=r===s?0:1/(s-r),d}}function o0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function HG(){var t=i0(c5()(So));return t.copy=function(){return o0(t,HG())},Lh.apply(t,arguments)}function WG(){var t=bM(c5()).domain([1,10]);return t.copy=function(){return o0(t,WG()).base(t.base())},Lh.apply(t,arguments)}function qG(){var t=wM(c5());return t.copy=function(){return o0(t,qG()).constant(t.constant())},Lh.apply(t,arguments)}function PM(){var t=jM(c5());return t.copy=function(){return o0(t,PM()).exponent(t.exponent())},Lh.apply(t,arguments)}function aye(){return PM.apply(null,arguments).exponent(.5)}function GG(){var t=[],e=So;function r(s){if(s!=null&&!isNaN(s=+s))return e((c1(t,s,1)-1)/(t.length-1))}return r.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Wf),r},r.interpolator=function(s){return arguments.length?(e=s,r):e},r.range=function(){return t.map((s,a)=>e(a/(t.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>qxe(t,i/s))},r.copy=function(){return GG(e).domain(t)},Lh.apply(r,arguments)}function d5(){var t=0,e=.5,r=1,s=1,a,i,o,l,c,d=So,u,h=!1,m;function f(v){return isNaN(v=+v)?m:(v=.5+((v=+u(v))-i)*(s*v<s*i?l:c),d(h?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([t,e,r]=v,a=u(t=+t),i=u(e=+e),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f):[t,e,r]},f.clamp=function(v){return arguments.length?(h=!!v,f):h},f.interpolator=function(v){return arguments.length?(d=v,f):d};function x(v){return function(g){var b,N,w;return arguments.length?([b,N,w]=g,d=gge(v,[b,N,w]),f):[d(0),d(.5),d(1)]}}return f.range=x(Ug),f.rangeRound=x(xM),f.unknown=function(v){return arguments.length?(m=v,f):m},function(v){return u=v,a=v(t),i=v(e),o=v(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f}}function VG(){var t=i0(d5()(So));return t.copy=function(){return o0(t,VG())},Lh.apply(t,arguments)}function XG(){var t=bM(d5()).domain([.1,1,10]);return t.copy=function(){return o0(t,XG()).base(t.base())},Lh.apply(t,arguments)}function YG(){var t=wM(d5());return t.copy=function(){return o0(t,YG()).constant(t.constant())},Lh.apply(t,arguments)}function DM(){var t=jM(d5());return t.copy=function(){return o0(t,DM()).exponent(t.exponent())},Lh.apply(t,arguments)}function iye(){return DM.apply(null,arguments).exponent(.5)}const A7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zy,scaleDiverging:VG,scaleDivergingLog:XG,scaleDivergingPow:DM,scaleDivergingSqrt:iye,scaleDivergingSymlog:YG,scaleIdentity:CG,scaleImplicit:Uk,scaleLinear:wj,scaleLog:EG,scaleOrdinal:fM,scalePoint:my,scalePow:NM,scaleQuantile:PG,scaleQuantize:DG,scaleRadial:MG,scaleSequential:HG,scaleSequentialLog:WG,scaleSequentialPow:PM,scaleSequentialQuantile:GG,scaleSequentialSqrt:aye,scaleSequentialSymlog:qG,scaleSqrt:Uge,scaleSymlog:TG,scaleThreshold:RG,scaleTime:nye,scaleUtc:sye,tickFormat:AG},Symbol.toStringTag,{value:"Module"}));var PA,C7;function u5(){if(C7)return PA;C7=1;var t=Og();function e(r,s,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=s(l);if(c!=null&&(d===void 0?c===c&&!t(c):a(c,d)))var d=c,u=l}return u}return PA=e,PA}var DA,k7;function KG(){if(k7)return DA;k7=1;function t(e,r){return e>r}return DA=t,DA}var RA,E7;function oye(){if(E7)return RA;E7=1;var t=u5(),e=KG(),r=Bg();function s(a){return a&&a.length?t(a,r,e):void 0}return RA=s,RA}var lye=oye();const Mf=ns(lye);var LA,T7;function JG(){if(T7)return LA;T7=1;function t(e,r){return e<r}return LA=t,LA}var OA,M7;function cye(){if(M7)return OA;M7=1;var t=u5(),e=JG(),r=Bg();function s(a){return a&&a.length?t(a,r,e):void 0}return OA=s,OA}var dye=cye();const h5=ns(dye);var IA,P7;function uye(){if(P7)return IA;P7=1;var t=YT(),e=mu(),r=aG(),s=ol();function a(i,o){var l=s(i)?t:r;return l(i,e(o,3))}return IA=a,IA}var FA,D7;function hye(){if(D7)return FA;D7=1;var t=nG(),e=uye();function r(s,a){return t(e(s,a),1)}return FA=r,FA}var fye=hye();const mye=ns(fye);var BA,R7;function pye(){if(R7)return BA;R7=1;var t=lM();function e(r,s){return t(r,s)}return BA=e,BA}var xye=pye();const Wm=ns(xye);var zg=1e9,gye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LM,Xs=!0,gc="[DecimalError] ",km=gc+"Invalid argument: ",RM=gc+"Exponent out of range: ",$g=Math.floor,cm=Math.pow,vye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_l,di=1e7,Is=7,QG=9007199254740991,_j=$g(QG/Is),hr={};hr.absoluteValue=hr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};hr.comparedTo=hr.cmp=function(t){var e,r,s,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,a=t.d.length,e=0,r=s<a?s:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};hr.decimalPlaces=hr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Is;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};hr.dividedBy=hr.div=function(t){return jh(this,new this.constructor(t))};hr.dividedToIntegerBy=hr.idiv=function(t){var e=this,r=e.constructor;return ws(jh(e,new r(t),0,1),r.precision)};hr.equals=hr.eq=function(t){return!this.cmp(t)};hr.exponent=function(){return Oa(this)};hr.greaterThan=hr.gt=function(t){return this.cmp(t)>0};hr.greaterThanOrEqualTo=hr.gte=function(t){return this.cmp(t)>=0};hr.isInteger=hr.isint=function(){return this.e>this.d.length-2};hr.isNegative=hr.isneg=function(){return this.s<0};hr.isPositive=hr.ispos=function(){return this.s>0};hr.isZero=function(){return this.s===0};hr.lessThan=hr.lt=function(t){return this.cmp(t)<0};hr.lessThanOrEqualTo=hr.lte=function(t){return this.cmp(t)<1};hr.logarithm=hr.log=function(t){var e,r=this,s=r.constructor,a=s.precision,i=a+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(_l))throw Error(gc+"NaN");if(r.s<1)throw Error(gc+(r.s?"NaN":"-Infinity"));return r.eq(_l)?new s(0):(Xs=!1,e=jh(sb(r,i),sb(t,i),i),Xs=!0,ws(e,a))};hr.minus=hr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tV(e,t):ZG(e,(t.s=-t.s,t))};hr.modulo=hr.mod=function(t){var e,r=this,s=r.constructor,a=s.precision;if(t=new s(t),!t.s)throw Error(gc+"NaN");return r.s?(Xs=!1,e=jh(r,t,0,1).times(t),Xs=!0,r.minus(e)):ws(new s(r),a)};hr.naturalExponential=hr.exp=function(){return eV(this)};hr.naturalLogarithm=hr.ln=function(){return sb(this)};hr.negated=hr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};hr.plus=hr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZG(e,t):tV(e,(t.s=-t.s,t))};hr.precision=hr.sd=function(t){var e,r,s,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(km+t);if(e=Oa(a)+1,s=a.d.length-1,r=s*Is+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return t&&e>r?e:r};hr.squareRoot=hr.sqrt=function(){var t,e,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(gc+"NaN")}for(t=Oa(l),Xs=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Kd(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=$g((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),s=new c(e)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(jh(l,i,o+2)).times(.5),Kd(i.d).slice(0,o)===(e=Kd(s.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(ws(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(e!="9999")break;o+=4}return Xs=!0,ws(s,r)};hr.times=hr.mul=function(t){var e,r,s,a,i,o,l,c,d,u=this,h=u.constructor,m=u.d,f=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,r=u.e+t.e,c=m.length,d=f.length,c<d&&(i=m,m=f,f=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(e=0,a=c+s;a>s;)l=i[a]+f[s]*m[a-s-1]+e,i[a--]=l%di|0,e=l/di|0;i[a]=(i[a]+e)%di|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Xs?ws(t,h.precision):t};hr.toDecimalPlaces=hr.todp=function(t,e){var r=this,s=r.constructor;return r=new s(r),t===void 0?r:(du(t,0,zg),e===void 0?e=s.rounding:du(e,0,8),ws(r,t+Oa(r)+1,e))};hr.toExponential=function(t,e){var r,s=this,a=s.constructor;return t===void 0?r=qm(s,!0):(du(t,0,zg),e===void 0?e=a.rounding:du(e,0,8),s=ws(new a(s),t+1,e),r=qm(s,!0,t+1)),r};hr.toFixed=function(t,e){var r,s,a=this,i=a.constructor;return t===void 0?qm(a):(du(t,0,zg),e===void 0?e=i.rounding:du(e,0,8),s=ws(new i(a),t+Oa(a)+1,e),r=qm(s.abs(),!1,t+Oa(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};hr.toInteger=hr.toint=function(){var t=this,e=t.constructor;return ws(new e(t),Oa(t)+1,e.rounding)};hr.toNumber=function(){return+this};hr.toPower=hr.pow=function(t){var e,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(_l);if(l=new c(l),!l.s){if(t.s<1)throw Error(gc+"Infinity");return l}if(l.eq(_l))return l;if(s=c.precision,t.eq(_l))return ws(l,s);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=QG){for(a=new c(_l),e=Math.ceil(s/Is+4),Xs=!1;r%2&&(a=a.times(l),O7(a.d,e)),r=$g(r/2),r!==0;)l=l.times(l),O7(l.d,e);return Xs=!0,t.s<0?new c(_l).div(a):ws(a,s)}}else if(i<0)throw Error(gc+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Xs=!1,a=t.times(sb(l,s+d)),Xs=!0,a=eV(a),a.s=i,a};hr.toPrecision=function(t,e){var r,s,a=this,i=a.constructor;return t===void 0?(r=Oa(a),s=qm(a,r<=i.toExpNeg||r>=i.toExpPos)):(du(t,1,zg),e===void 0?e=i.rounding:du(e,0,8),a=ws(new i(a),t,e),r=Oa(a),s=qm(a,t<=r||r<=i.toExpNeg,t)),s};hr.toSignificantDigits=hr.tosd=function(t,e){var r=this,s=r.constructor;return t===void 0?(t=s.precision,e=s.rounding):(du(t,1,zg),e===void 0?e=s.rounding:du(e,0,8)),ws(new s(r),t,e)};hr.toString=hr.valueOf=hr.val=hr.toJSON=hr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Oa(t),r=t.constructor;return qm(t,e<=r.toExpNeg||e>=r.toExpPos)};function ZG(t,e){var r,s,a,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Xs?ws(e,h):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(h/Is),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/di|0,c[i]%=di;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Xs?ws(e,h):e}function du(t,e,r){if(t!==~~t||t<e||t>r)throw Error(km+t)}function Kd(t){var e,r,s,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)s=t[e]+"",r=Is-s.length,r&&(i+=Af(r)),i+=s;o=t[e],s=o+"",r=Is-s.length,r&&(i+=Af(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var jh=(function(){function t(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%di|0,o=i/di|0;return o&&s.unshift(o),s}function e(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*di+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,h,m,f,x,v,g,b,N,w,A,j,S,E,R,C=s.constructor,T=s.s==a.s?1:-1,k=s.d,P=a.d;if(!s.s)return new C(s);if(!a.s)throw Error(gc+"Division by zero");for(c=s.e-a.e,E=P.length,j=k.length,f=new C(T),x=f.d=[],d=0;P[d]==(k[d]||0);)++d;if(P[d]>(k[d]||0)&&--c,i==null?N=i=C.precision:o?N=i+(Oa(s)-Oa(a))+1:N=i,N<0)return new C(0);if(N=N/Is+2|0,d=0,E==1)for(u=0,P=P[0],N++;(d<j||u)&&N--;d++)w=u*di+(k[d]||0),x[d]=w/P|0,u=w%P|0;else{for(u=di/(P[0]+1)|0,u>1&&(P=t(P,u),k=t(k,u),E=P.length,j=k.length),A=E,v=k.slice(0,E),g=v.length;g<E;)v[g++]=0;R=P.slice(),R.unshift(0),S=P[0],P[1]>=di/2&&++S;do u=0,l=e(P,v,E,g),l<0?(b=v[0],E!=g&&(b=b*di+(v[1]||0)),u=b/S|0,u>1?(u>=di&&(u=di-1),h=t(P,u),m=h.length,g=v.length,l=e(h,v,m,g),l==1&&(u--,r(h,E<m?R:P,m))):(u==0&&(l=u=1),h=P.slice()),m=h.length,m<g&&h.unshift(0),r(v,h,g),l==-1&&(g=v.length,l=e(P,v,E,g),l<1&&(u++,r(v,E<g?R:P,g))),g=v.length):l===0&&(u++,v=[0]),x[d++]=u,l&&v[0]?v[g++]=k[A]||0:(v=[k[A]],g=1);while((A++<j||v[0]!==void 0)&&N--)}return x[0]||x.shift(),f.e=c,ws(f,o?i+Oa(f)+1:i)}})();function eV(t,e){var r,s,a,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(Oa(t)>16)throw Error(RM+Oa(t));if(!t.s)return new u(_l);for(Xs=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(s=Math.log(cm(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(_l),u.precision=l;;){if(a=ws(a.times(t),l),r=r.times(++c),o=i.plus(jh(a,r,l)),Kd(o.d).slice(0,l)===Kd(i.d).slice(0,l)){for(;d--;)i=ws(i.times(i),l);return u.precision=h,e==null?(Xs=!0,ws(i,h)):i}i=o}}function Oa(t){for(var e=t.e*Is,r=t.d[0];r>=10;r/=10)e++;return e}function UA(t,e,r){if(e>t.LN10.sd())throw Xs=!0,r&&(t.precision=r),Error(gc+"LN10 precision limit exceeded");return ws(new t(t.LN10),e)}function Af(t){for(var e="";t--;)e+="0";return e}function sb(t,e){var r,s,a,i,o,l,c,d,u,h=1,m=10,f=t,x=f.d,v=f.constructor,g=v.precision;if(f.s<1)throw Error(gc+(f.s?"NaN":"-Infinity"));if(f.eq(_l))return new v(0);if(e==null?(Xs=!1,d=g):d=e,f.eq(10))return e==null&&(Xs=!0),UA(v,d);if(d+=m,v.precision=d,r=Kd(x),s=r.charAt(0),i=Oa(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)f=f.times(t),r=Kd(f.d),s=r.charAt(0),h++;i=Oa(f),s>1?(f=new v("0."+r),i++):f=new v(s+"."+r.slice(1))}else return c=UA(v,d+2,g).times(i+""),f=sb(new v(s+"."+r.slice(1)),d-m).plus(c),v.precision=g,e==null?(Xs=!0,ws(f,g)):f;for(l=o=f=jh(f.minus(_l),f.plus(_l),d),u=ws(f.times(f),d),a=3;;){if(o=ws(o.times(u),d),c=l.plus(jh(o,new v(a),d)),Kd(c.d).slice(0,d)===Kd(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(UA(v,d+2,g).times(i+""))),l=jh(l,new v(h),d),v.precision=g,e==null?(Xs=!0,ws(l,g)):l;l=c,a+=2}}function L7(t,e){var r,s,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charCodeAt(s)===48;)++s;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(s,a),e){if(a-=s,r=r-s-1,t.e=$g(r/Is),t.d=[],s=(r+1)%Is,r<0&&(s+=Is),s<a){for(s&&t.d.push(+e.slice(0,s)),a-=Is;s<a;)t.d.push(+e.slice(s,s+=Is));e=e.slice(s),s=Is-e.length}else s-=a;for(;s--;)e+="0";if(t.d.push(+e),Xs&&(t.e>_j||t.e<-_j))throw Error(RM+r)}else t.s=0,t.e=0,t.d=[0];return t}function ws(t,e,r){var s,a,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=e-o,s<0)s+=Is,a=e,d=h[u=0];else{if(u=Math.ceil((s+1)/Is),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;s%=Is,a=s-Is+o}if(r!==void 0&&(i=cm(10,o-a-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/cm(10,o-a):0:h[u-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=Oa(t),h.length=1,e=e-i-1,h[0]=cm(10,(Is-e%Is)%Is),t.e=$g(-e/Is)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(s==0?(h.length=u,i=1,u--):(h.length=u+1,i=cm(10,Is-s),h[u]=a>0?(d/cm(10,o-a)%cm(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==di&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=di)break;h[u--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(Xs&&(t.e>_j||t.e<-_j))throw Error(RM+Oa(t));return t}function tV(t,e){var r,s,a,i,o,l,c,d,u,h,m=t.constructor,f=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Xs?ws(e,f):e;if(c=t.d,h=e.d,s=e.e,d=t.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,s=d,l=c.length),a=Math.max(Math.ceil(f/Is),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=di-1;--c[i],c[a]+=di}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(e.d=c,e.e=s,Xs?ws(e,f):e):new m(0)}function qm(t,e,r){var s,a=Oa(t),i=Kd(t.d),o=i.length;return e?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Af(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Af(-a-1)+i,r&&(s=r-o)>0&&(i+=Af(s))):a>=o?(i+=Af(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Af(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Af(s))),t.s<0?"-"+i:i}function O7(t,e){if(t.length>e)return t.length=e,!0}function rV(t){var e,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(km+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return L7(o,i.toString())}else if(typeof i!="string")throw Error(km+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,vye.test(i))L7(o,i);else throw Error(km+i)}if(a.prototype=hr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rV,a.config=a.set=yye,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<s.length;)t.hasOwnProperty(r=s[e++])||(t[r]=this[r]);return a.config(t),a}function yye(t){if(!t||typeof t!="object")throw Error(gc+"Object expected");var e,r,s,a=["precision",1,zg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((s=t[r=a[e]])!==void 0)if($g(s)===s&&s>=a[e+1]&&s<=a[e+2])this[r]=s;else throw Error(km+r+": "+s);if((s=t[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(km+r+": "+s);return this}var LM=rV(gye);_l=new LM(1);const cs=LM;function bye(t){return Sye(t)||Nye(t)||jye(t)||wye()}function wye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jye(t,e){if(t){if(typeof t=="string")return Wk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(t,e)}}function Nye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sye(t){if(Array.isArray(t))return Wk(t)}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var _ye=function(e){return e},nV={},sV=function(e){return e===nV},I7=function(e){return function r(){return arguments.length===0||arguments.length===1&&sV(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Aye=function t(e,r){return e===1?r:I7(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==nV}).length;return o>=e?r.apply(void 0,a):t(e-o,I7(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return sV(h)?c.shift():h});return r.apply(void 0,bye(u).concat(c))}))})},f5=function(e){return Aye(e.length,e)},qk=function(e,r){for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},Cye=f5(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),kye=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];if(!r.length)return _ye;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Gk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},aV=function(e){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=e.apply(void 0,i)),s}};function Eye(t){var e;return t===0?e=1:e=Math.floor(new cs(t).abs().log(10).toNumber())+1,e}function Tye(t,e,r){for(var s=new cs(t),a=0,i=[];s.lt(e)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var Mye=f5(function(t,e,r){var s=+t,a=+e;return s+r*(a-s)}),Pye=f5(function(t,e,r){var s=e-+t;return s=s||1/0,(r-t)/s}),Dye=f5(function(t,e,r){var s=e-+t;return s=s||1/0,Math.max(0,Math.min(1,(r-t)/s))});const m5={rangeStep:Tye,getDigitCount:Eye,interpolateNumber:Mye,uninterpolateNumber:Pye,uninterpolateTruncation:Dye};function Vk(t){return Oye(t)||Lye(t)||iV(t)||Rye()}function Rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Oye(t){if(Array.isArray(t))return Xk(t)}function ab(t,e){return Bye(t)||Fye(t,e)||iV(t,e)||Iye()}function Iye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iV(t,e){if(t){if(typeof t=="string")return Xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(t,e)}}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Fye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Bye(t){if(Array.isArray(t))return t}function oV(t){var e=ab(t,2),r=e[0],s=e[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function lV(t,e,r){if(t.lte(0))return new cs(0);var s=m5.getDigitCount(t.toNumber()),a=new cs(10).pow(s),i=t.div(a),o=s!==1?.05:.1,l=new cs(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new cs(Math.ceil(c))}function Uye(t,e,r){var s=1,a=new cs(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(s=new cs(10).pow(m5.getDigitCount(t)-1),a=new cs(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new cs(Math.floor(t)))}else t===0?a=new cs(Math.floor((e-1)/2)):r||(a=new cs(Math.floor(t)));var o=Math.floor((e-1)/2),l=kye(Cye(function(c){return a.add(new cs(c-o).mul(s)).toNumber()}),qk);return l(0,e)}function cV(t,e,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new cs(0),tickMin:new cs(0),tickMax:new cs(0)};var i=lV(new cs(e).sub(t).div(r-1),s,a),o;t<=0&&e>=0?o=new cs(0):(o=new cs(t).add(e).div(2),o=o.sub(new cs(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new cs(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?cV(t,e,r,s,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new cs(l).mul(i)),tickMax:o.add(new cs(c).mul(i))})}function zye(t){var e=ab(t,2),r=e[0],s=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=oV([r,s]),c=ab(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(Vk(qk(0,a-1).map(function(){return 1/0}))):[].concat(Vk(qk(0,a-1).map(function(){return-1/0})),[u]);return r>s?Gk(h):h}if(d===u)return Uye(d,a,i);var m=cV(d,u,o,i),f=m.step,x=m.tickMin,v=m.tickMax,g=m5.rangeStep(x,v.add(new cs(.1).mul(f)),f);return r>s?Gk(g):g}function $ye(t,e){var r=ab(t,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=oV([s,a]),l=ab(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(e,2),h=lV(new cs(d).sub(c).div(u-1),i,0),m=[].concat(Vk(m5.rangeStep(new cs(c),new cs(d).sub(new cs(.99).mul(h)),h)),[d]);return s>a?Gk(m):m}var Hye=aV(zye),Wye=aV($ye),qye="Invariant failed";function Gm(t,e){throw new Error(qye)}var Gye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function Aj(){return Aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Aj.apply(this,arguments)}function Vye(t,e){return Jye(t)||Kye(t,e)||Yye(t,e)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(t,e){if(t){if(typeof t=="string")return F7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F7(t,e)}}function F7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Kye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Jye(t){if(Array.isArray(t))return t}function Qye(t,e){if(t==null)return{};var r=Zye(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Zye(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function ebe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tbe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,hV(s.key),s)}}function rbe(t,e,r){return e&&tbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nbe(t,e,r){return e=Cj(e),sbe(t,dV()?Reflect.construct(e,r||[],Cj(t).constructor):e.apply(t,r))}function sbe(t,e){if(e&&(ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return abe(t)}function abe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dV=function(){return!!t})()}function Cj(t){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cj(t)}function ibe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yk(t,e)}function Yk(t,e){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Yk(t,e)}function uV(t,e,r){return e=hV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hV(t){var e=obe(t,"string");return ag(e)=="symbol"?e:e+""}function obe(t,e){if(ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ag(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f1=(function(t){function e(){return ebe(this,e),nbe(this,e,arguments)}return ibe(e,t),rbe(e,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,h=s.yAxis,m=Qye(s,Gye),f=Sr(m,!1);this.props.direction==="x"&&u.type!=="number"&&Gm();var x=c.map(function(v){var g=d(v,l),b=g.x,N=g.y,w=g.value,A=g.errorVal;if(!A)return null;var j=[],S,E;if(Array.isArray(A)){var R=Vye(A,2);S=R[0],E=R[1]}else S=E=A;if(i==="vertical"){var C=u.scale,T=N+a,k=T+o,P=T-o,D=C(w-S),H=C(w+E);j.push({x1:H,y1:k,x2:H,y2:P}),j.push({x1:D,y1:T,x2:H,y2:T}),j.push({x1:D,y1:k,x2:D,y2:P})}else if(i==="horizontal"){var F=h.scale,z=b+a,O=z-o,W=z+o,ee=F(w-S),K=F(w+E);j.push({x1:O,y1:K,x2:W,y2:K}),j.push({x1:z,y1:ee,x2:z,y2:K}),j.push({x1:O,y1:ee,x2:W,y2:ee})}return Ue.createElement(mn,Aj({className:"recharts-errorBar",key:"bar-".concat(j.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},f),j.map(function(re){return Ue.createElement("line",Aj({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return Ue.createElement(mn,{className:"recharts-errorBars"},x)}}])})(Ue.Component);uV(f1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uV(f1,"displayName","ErrorBar");function ib(t){"@babel/helpers - typeof";return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(t)}function B7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B7(Object(r),!0).forEach(function(s){lbe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function lbe(t,e,r){return e=cbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cbe(t){var e=dbe(t,"string");return ib(e)=="symbol"?e:e+""}function dbe(t,e){if(ib(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ib(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fV=function(e){var r=e.children,s=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=Nl(r,tu);if(!o)return null;var l=tu.defaultProps,c=l!==void 0?Y0(Y0({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,h){var m=h.item,f=h.props,x=f.sectors||f.data||[];return u.concat(x.map(function(v){return{type:o.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):d=(s||[]).map(function(u){var h=u.item,m=h.type.defaultProps,f=m!==void 0?Y0(Y0({},m),h.props):{},x=f.dataKey,v=f.name,g=f.legendType,b=f.hide;return{inactive:b,dataKey:x,type:c.iconType||g||"square",color:OM(h),value:v||x,payload:f}}),Y0(Y0(Y0({},c),tu.getWithHeight(o,a)),{},{payload:d,item:o})};function ob(t){"@babel/helpers - typeof";return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(t)}function U7(t){return mbe(t)||fbe(t)||hbe(t)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(t,e){if(t){if(typeof t=="string")return Kk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kk(t,e)}}function fbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mbe(t){if(Array.isArray(t))return Kk(t)}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function z7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z7(Object(r),!0).forEach(function(s){Tx(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Tx(t,e,r){return e=pbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pbe(t){var e=xbe(t,"string");return ob(e)=="symbol"?e:e+""}function xbe(t,e){if(ob(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ob(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wa(t,e,r){return qr(t)||qr(e)?r:Xa(e)?El(t,e,r):Or(e)?e(t):r}function py(t,e,r,s){var a=mye(t,function(l){return wa(l,e)});if(r==="number"){var i=a.filter(function(l){return Gt(l)||parseFloat(l)});return i.length?[h5(i),Mf(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!qr(l)}):a;return o.map(function(l){return Xa(l)||l instanceof Date?l:""})}var gbe=function(e){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(jo(h-u)!==jo(m-h)){var x=[];if(jo(m-h)===jo(c[1]-c[0])){f=m;var v=h+c[1]-c[0];x[0]=Math.min(v,(v+u)/2),x[1]=Math.max(v,(v+u)/2)}else{f=u;var g=m+c[1]-c[0];x[0]=Math.min(h,(g+h)/2),x[1]=Math.max(h,(g+h)/2)}var b=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){o=a[d].index;break}}else{var N=Math.min(u,m),w=Math.max(u,m);if(e>(N+h)/2&&e<=(w+h)/2){o=a[d].index;break}}}else for(var A=0;A<l;A++)if(A===0&&e<=(s[A].coordinate+s[A+1].coordinate)/2||A>0&&A<l-1&&e>(s[A].coordinate+s[A-1].coordinate)/2&&e<=(s[A].coordinate+s[A+1].coordinate)/2||A===l-1&&e>(s[A].coordinate+s[A-1].coordinate)/2){o=s[A].index;break}return o},OM=function(e){var r,s=e,a=s.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ca(ca({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},vbe=function(e){var r=e.barSize,s=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),m=0,f=h.length;m<f;m++){var x=u[h[m]],v=x.items,g=x.cateAxisId,b=v.filter(function(E){return wh(E.type).indexOf("Bar")>=0});if(b&&b.length){var N=b[0].type.defaultProps,w=N!==void 0?ca(ca({},N),b[0].props):b[0].props,A=w.barSize,j=w[g];o[j]||(o[j]=[]);var S=qr(A)?r:A;o[j].push({item:b[0],stackList:b.slice(1),barSize:qr(S)?void 0:No(S,s,0)})}}return o},ybe=function(e){var r=e.barGap,s=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=No(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,f=a/c,x=o.reduce(function(A,j){return A+j.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&f>0&&(m=!0,f*=.9,x=c*f);var v=(a-x)/2>>0,g={offset:v-d,size:0};u=o.reduce(function(A,j){var S={item:j.item,position:{offset:g.offset+g.size+d,size:m?f:j.barSize}},E=[].concat(U7(A),[S]);return g=E[E.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(R){E.push({item:R,position:g})}),E},h)}else{var b=No(s,a,0,!0);a-2*b-(c-1)*d<=0&&(d=0);var N=(a-2*b-(c-1)*d)/c;N>1&&(N>>=0);var w=l===+l?Math.min(N,l):N;u=o.reduce(function(A,j,S){var E=[].concat(U7(A),[{item:j.item,position:{offset:b+(N+d)*S+(N-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(R){E.push({item:R,position:E[E.length-1].position})}),E},h)}return u},bbe=function(e,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=fV({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,m=u.height,f=d.align,x=d.verticalAlign,v=d.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&f!=="center"&&Gt(e[f]))return ca(ca({},e),{},Tx({},f,e[f]+(h||0)));if((v==="horizontal"||v==="vertical"&&f==="center")&&x!=="middle"&&Gt(e[x]))return ca(ca({},e),{},Tx({},x,e[x]+(m||0)))}return e},wbe=function(e,r,s){return qr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},mV=function(e,r,s,a,i){var o=r.props.children,l=Tl(o,f1).filter(function(d){return wbe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=wa(u,s);if(qr(h))return d;var m=Array.isArray(h)?[h5(h),Mf(h)]:[h,h],f=c.reduce(function(x,v){var g=wa(u,v,0),b=m[0]-Math.abs(Array.isArray(g)?g[0]:g),N=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,x[0]),Math.max(N,x[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},jbe=function(e,r,s,a,i){var o=r.map(function(l){return mV(e,l,s,i,a)}).filter(function(l){return!qr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},pV=function(e,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&mV(e,c,d,a)||py(e,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},xV=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},gV=function(e,r,s,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},xh=function(e,r,s){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?jo(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:a(m)+d,value:h,offset:d}});return u.filter(function(h){return!Fg(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:a(h)+d,value:h,index:m,offset:d}}):a.ticks&&!s?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,m){return{coordinate:a(h)+d,value:i?i[h]:h,index:m,offset:d}})},zA=new WeakMap,$2=function(e,r){if(typeof r!="function")return e;zA.has(e)||zA.set(e,new WeakMap);var s=zA.get(e);if(s.has(r))return s.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},vV=function(e,r,s){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Zy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:wj(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:my(),realScaleType:"point"}:i==="category"?{scale:Zy(),realScaleType:"band"}:{scale:wj(),realScaleType:"linear"};if(o1(a)){var c="scale".concat(QN(a));return{scale:(A7[c]||my)(),realScaleType:A7[c]?c:"point"}}return Or(a)?{scale:a}:{scale:my(),realScaleType:"point"}},$7=1e-4,yV=function(e){var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),i=Math.min(a[0],a[1])-$7,o=Math.max(a[0],a[1])+$7,l=e(r[0]),c=e(r[s-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[s-1]])}},Nbe=function(e,r){if(!e)return null;for(var s=0,a=e.length;s<a;s++)if(e[s].item===r)return e[s].position;return null},Sbe=function(e,r){if(!r||r.length!==2||!Gt(r[0])||!Gt(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Gt(e[0])||e[0]<s)&&(i[0]=s),(!Gt(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},_be=function(e){var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=Fg(e[l][s][1])?e[l][s][0]:e[l][s][1];c>=0?(e[l][s][0]=i,e[l][s][1]=i+c,i=e[l][s][1]):(e[l][s][0]=o,e[l][s][1]=o+c,o=e[l][s][1])}},Abe=function(e){var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=Fg(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1]):(e[o][s][0]=0,e[o][s][1]=0)}},Cbe={sign:_be,expand:m0e,none:Jx,silhouette:p0e,wiggle:x0e,positive:Abe},kbe=function(e,r,s){var a=r.map(function(l){return l.props.dataKey}),i=Cbe[s],o=f0e().keys(a).value(function(l,c){return+wa(l,c,0)}).order(Ak).offset(i);return o(e)},Ebe=function(e,r,s,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,m){var f,x=(f=m.type)!==null&&f!==void 0&&f.defaultProps?ca(ca({},m.type.defaultProps),m.props):m.props,v=x.stackId,g=x.hide;if(g)return h;var b=x[s],N=h[b]||{hasStack:!1,stackGroups:{}};if(Xa(v)){var w=N.stackGroups[v]||{numericAxisId:s,cateAxisId:a,items:[]};w.items.push(m),N.hasStack=!0,N.stackGroups[v]=w}else N.stackGroups[ip("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[m]};return ca(ca({},h),{},Tx({},b,N))},c),u={};return Object.keys(d).reduce(function(h,m){var f=d[m];if(f.hasStack){var x={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(v,g){var b=f.stackGroups[g];return ca(ca({},v),{},Tx({},g,{numericAxisId:s,cateAxisId:a,items:b.items,stackedData:kbe(e,b.items,i)}))},x)}return ca(ca({},h),{},Tx({},m,f))},u)},bV=function(e,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=Hye(d,i,l);return e.domain([h5(u),Mf(u)]),{niceTicks:u}}if(i&&a==="number"){var h=e.domain(),m=Wye(h,i,l);return{niceTicks:m}}return null};function kj(t){var e=t.axis,r=t.ticks,s=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qr(a[e.dataKey])){var l=nj(r,"value",a[e.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=wa(a,qr(o)?e.dataKey:o);return qr(c)?null:e.scale(c)}var H7=function(e){var r=e.axis,s=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=wa(o,r.dataKey,r.domain[l]);return qr(c)?null:r.scale(c)-i/2+a},Tbe=function(e){var r=e.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},Mbe=function(e,r){var s,a=(s=e.type)!==null&&s!==void 0&&s.defaultProps?ca(ca({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Xa(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Pbe=function(e){return e.reduce(function(r,s){return[h5(s.concat([r[0]]).filter(Gt)),Mf(s.concat([r[1]]).filter(Gt))]},[1/0,-1/0])},wV=function(e,r,s){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=Pbe(u.slice(r,s+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},W7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jk=function(e,r,s){if(Or(e))return e(r,s);if(!Array.isArray(e))return r;var a=[];if(Gt(e[0]))a[0]=s?e[0]:Math.min(e[0],r[0]);else if(W7.test(e[0])){var i=+W7.exec(e[0])[1];a[0]=r[0]-i}else Or(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Gt(e[1]))a[1]=s?e[1]:Math.max(e[1],r[1]);else if(q7.test(e[1])){var o=+q7.exec(e[1])[1];a[1]=r[1]+o}else Or(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Ej=function(e,r,s){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var i=dM(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},G7=function(e,r,s){return!e||!e.length||Wm(e,El(s,"type.defaultProps.domain"))?r:e},jV=function(e,r){var s=e.type.defaultProps?ca(ca({},e.type.defaultProps),e.props):e.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return ca(ca({},Sr(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:OM(e),value:wa(r,a),type:c,payload:r,chartType:d,hide:u})};function lb(t){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(t)}function V7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function lh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(r),!0).forEach(function(s){NV(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function NV(t,e,r){return e=Dbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dbe(t){var e=Rbe(t,"string");return lb(e)=="symbol"?e:e+""}function Rbe(t,e){if(lb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(lb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lbe(t,e){return Bbe(t)||Fbe(t,e)||Ibe(t,e)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ibe(t,e){if(t){if(typeof t=="string")return X7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X7(t,e)}}function X7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Fbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Bbe(t){if(Array.isArray(t))return t}var Tj=Math.PI/180,Ube=function(e){return e*180/Math.PI},Ts=function(e,r,s,a){return{x:e+Math.cos(-Tj*a)*s,y:r+Math.sin(-Tj*a)*s}},SV=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},zbe=function(e,r,s,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=No(e.cx,o,o/2),h=No(e.cy,l,l/2),m=SV(o,l,s),f=No(e.innerRadius,m,0),x=No(e.outerRadius,m,m*.8),v=Object.keys(r);return v.reduce(function(g,b){var N=r[b],w=N.domain,A=N.reversed,j;if(qr(N.range))a==="angleAxis"?j=[c,d]:a==="radiusAxis"&&(j=[f,x]),A&&(j=[j[1],j[0]]);else{j=N.range;var S=j,E=Lbe(S,2);c=E[0],d=E[1]}var R=vV(N,i),C=R.realScaleType,T=R.scale;T.domain(w).range(j),yV(T);var k=bV(T,lh(lh({},N),{},{realScaleType:C})),P=lh(lh(lh({},N),k),{},{range:j,radius:x,realScaleType:C,scale:T,cx:u,cy:h,innerRadius:f,outerRadius:x,startAngle:c,endAngle:d});return lh(lh({},g),{},NV({},b,P))},{})},$be=function(e,r){var s=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},Hbe=function(e,r){var s=e.x,a=e.y,i=r.cx,o=r.cy,l=$be({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:Ube(d),angleInRadian:d}},Wbe=function(e){var r=e.startAngle,s=e.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},qbe=function(e,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},Y7=function(e,r){var s=e.x,a=e.y,i=Hbe({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=Wbe(r),h=u.startAngle,m=u.endAngle,f=l,x;if(h<=m){for(;f>m;)f-=360;for(;f<h;)f+=360;x=f>=h&&f<=m}else{for(;f>h;)f-=360;for(;f<m;)f+=360;x=f>=m&&f<=h}return x?lh(lh({},r),{},{radius:o,angle:qbe(f,r)}):null},_V=function(e){return!L.isValidElement(e)&&!Or(e)&&typeof e!="boolean"?e.className:""};function cb(t){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(t)}var Gbe=["offset"];function Vbe(t){return Jbe(t)||Kbe(t)||Ybe(t)||Xbe()}function Xbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybe(t,e){if(t){if(typeof t=="string")return Qk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qk(t,e)}}function Kbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jbe(t){if(Array.isArray(t))return Qk(t)}function Qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Qbe(t,e){if(t==null)return{};var r=Zbe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Zbe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function K7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K7(Object(r),!0).forEach(function(s){e1e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function e1e(t,e,r){return e=t1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t1e(t){var e=r1e(t,"string");return cb(e)=="symbol"?e:e+""}function r1e(t,e){if(cb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(cb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},db.apply(this,arguments)}var n1e=function(e){var r=e.value,s=e.formatter,a=qr(e.children)?r:e.children;return Or(s)?s(a):a},s1e=function(e,r){var s=jo(r-e),a=Math.min(Math.abs(r-e),360);return s*a},a1e=function(e,r,s){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,f=c.startAngle,x=c.endAngle,v=c.clockWise,g=(h+m)/2,b=s1e(f,x),N=b>=0?1:-1,w,A;a==="insideStart"?(w=f+N*o,A=v):a==="insideEnd"?(w=x-N*o,A=!v):a==="end"&&(w=x+N*o,A=v),A=b<=0?A:!A;var j=Ts(d,u,g,w),S=Ts(d,u,g,w+(A?1:-1)*359),E="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(A?0:1,`,
    `).concat(S.x,",").concat(S.y),R=qr(e.id)?ip("recharts-radial-line-"):e.id;return Ue.createElement("text",db({},s,{dominantBaseline:"central",className:en("recharts-radial-bar-label",l)}),Ue.createElement("defs",null,Ue.createElement("path",{id:R,d:E})),Ue.createElement("textPath",{xlinkHref:"#".concat(R)},r))},i1e=function(e){var r=e.viewBox,s=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,m=(u+h)/2;if(a==="outside"){var f=Ts(o,l,d+s,m),x=f.x,v=f.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,b=Ts(o,l,g,m),N=b.x,w=b.y;return{x:N,y:w,textAnchor:"middle",verticalAnchor:"middle"}},o1e=function(e){var r=e.viewBox,s=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*a,f=h>0?"end":"start",x=h>0?"start":"end",v=d>=0?1:-1,g=v*a,b=v>0?"end":"start",N=v>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:f};return Ha(Ha({},w),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var A={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:x};return Ha(Ha({},A),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var j={x:l-g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Ha(Ha({},j),s?{width:Math.max(j.x-s.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+g,y:c+u/2,textAnchor:N,verticalAnchor:"middle"};return Ha(Ha({},S),s?{width:Math.max(s.x+s.width-S.x,0),height:u}:{})}var E=s?{width:d,height:u}:{};return i==="insideLeft"?Ha({x:l+g,y:c+u/2,textAnchor:N,verticalAnchor:"middle"},E):i==="insideRight"?Ha({x:l+d-g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideTop"?Ha({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:x},E):i==="insideBottom"?Ha({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:f},E):i==="insideTopLeft"?Ha({x:l+g,y:c+m,textAnchor:N,verticalAnchor:x},E):i==="insideTopRight"?Ha({x:l+d-g,y:c+m,textAnchor:b,verticalAnchor:x},E):i==="insideBottomLeft"?Ha({x:l+g,y:c+u-m,textAnchor:N,verticalAnchor:f},E):i==="insideBottomRight"?Ha({x:l+d-g,y:c+u-m,textAnchor:b,verticalAnchor:f},E):Ig(i)&&(Gt(i.x)||vm(i.x))&&(Gt(i.y)||vm(i.y))?Ha({x:l+No(i.x,d),y:c+No(i.y,u),textAnchor:"end",verticalAnchor:"end"},E):Ha({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},l1e=function(e){return"cx"in e&&Gt(e.cx)};function hi(t){var e=t.offset,r=e===void 0?5:e,s=Qbe(t,Gbe),a=Ha({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,m=a.textBreakAll;if(!i||qr(l)&&qr(c)&&!L.isValidElement(d)&&!Or(d))return null;if(L.isValidElement(d))return L.cloneElement(d,a);var f;if(Or(d)){if(f=L.createElement(d,a),L.isValidElement(f))return f}else f=n1e(a);var x=l1e(i),v=Sr(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return a1e(a,f,v);var g=x?i1e(a):o1e(a);return Ue.createElement(Hm,db({className:en("recharts-label",h)},v,g,{breakAll:m}),f)}hi.displayName="Label";var AV=function(e){var r=e.cx,s=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,m=e.y,f=e.top,x=e.left,v=e.width,g=e.height,b=e.clockWise,N=e.labelViewBox;if(N)return N;if(Gt(v)&&Gt(g)){if(Gt(h)&&Gt(m))return{x:h,y:m,width:v,height:g};if(Gt(f)&&Gt(x))return{x:f,y:x,width:v,height:g}}return Gt(h)&&Gt(m)?{x:h,y:m,width:0,height:0}:Gt(r)&&Gt(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},c1e=function(e,r){return e?e===!0?Ue.createElement(hi,{key:"label-implicit",viewBox:r}):Xa(e)?Ue.createElement(hi,{key:"label-implicit",viewBox:r,value:e}):L.isValidElement(e)?e.type===hi?L.cloneElement(e,{key:"label-implicit",viewBox:r}):Ue.createElement(hi,{key:"label-implicit",content:e,viewBox:r}):Or(e)?Ue.createElement(hi,{key:"label-implicit",content:e,viewBox:r}):Ig(e)?Ue.createElement(hi,db({viewBox:r},e,{key:"label-implicit"})):null:null},d1e=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var a=e.children,i=AV(e),o=Tl(a,hi).map(function(c,d){return L.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=c1e(e.label,r||i);return[l].concat(Vbe(o))};hi.parseViewBox=AV;hi.renderCallByParent=d1e;var $A,J7;function u1e(){if(J7)return $A;J7=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return $A=t,$A}var h1e=u1e();const f1e=ns(h1e);function ub(t){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}var m1e=["valueAccessor"],p1e=["data","dataKey","clockWise","id","textBreakAll"];function x1e(t){return b1e(t)||y1e(t)||v1e(t)||g1e()}function g1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1e(t,e){if(t){if(typeof t=="string")return Zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(t,e)}}function y1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b1e(t){if(Array.isArray(t))return Zk(t)}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Mj(){return Mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mj.apply(this,arguments)}function Q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Z7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q7(Object(r),!0).forEach(function(s){w1e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function w1e(t,e,r){return e=j1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j1e(t){var e=N1e(t,"string");return ub(e)=="symbol"?e:e+""}function N1e(t,e){if(ub(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ub(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eB(t,e){if(t==null)return{};var r=S1e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function S1e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var _1e=function(e){return Array.isArray(e.value)?f1e(e.value):e.value};function nu(t){var e=t.valueAccessor,r=e===void 0?_1e:e,s=eB(t,m1e),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=eB(s,p1e);return!a||!a.length?null:Ue.createElement(mn,{className:"recharts-label-list"},a.map(function(u,h){var m=qr(i)?r(u,h):wa(u&&u.payload,i),f=qr(l)?{}:{id:"".concat(l,"-").concat(h)};return Ue.createElement(hi,Mj({},Sr(u,!0),d,f,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:hi.parseViewBox(qr(o)?u:Z7(Z7({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}nu.displayName="LabelList";function A1e(t,e){return t?t===!0?Ue.createElement(nu,{key:"labelList-implicit",data:e}):Ue.isValidElement(t)||Or(t)?Ue.createElement(nu,{key:"labelList-implicit",data:e,content:t}):Ig(t)?Ue.createElement(nu,Mj({data:e},t,{key:"labelList-implicit"})):null:null}function C1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=Tl(s,nu).map(function(o,l){return L.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=A1e(t.label,e);return[i].concat(x1e(a))}nu.renderCallByParent=C1e;function hb(t){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},eE.apply(this,arguments)}function tB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function rB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(r),!0).forEach(function(s){k1e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function k1e(t,e,r){return e=E1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E1e(t){var e=T1e(t,"string");return hb(e)=="symbol"?e:e+""}function T1e(t,e){if(hb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(hb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M1e=function(e,r){var s=jo(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},H2=function(e){var r=e.cx,s=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/Tj,m=d?i:i+o*h,f=Ts(r,s,u,m),x=Ts(r,s,a,m),v=d?i-o*h:i,g=Ts(r,s,u*Math.cos(h*Tj),v);return{center:f,circleTangency:x,lineTangency:g,theta:h}},CV=function(e){var r=e.cx,s=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=M1e(o,l),d=o+c,u=Ts(r,s,i,o),h=Ts(r,s,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var f=Ts(r,s,a,o),x=Ts(r,s,a,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},P1e=function(e){var r=e.cx,s=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=jo(u-d),m=H2({cx:r,cy:s,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),f=m.circleTangency,x=m.lineTangency,v=m.theta,g=H2({cx:r,cy:s,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,N=g.lineTangency,w=g.theta,A=c?Math.abs(d-u):Math.abs(d-u)-v-w;if(A<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):CV({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
  `);if(a>0){var S=H2({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=S.circleTangency,R=S.lineTangency,C=S.theta,T=H2({cx:r,cy:s,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=T.circleTangency,P=T.lineTangency,D=T.theta,H=c?Math.abs(d-u):Math.abs(d-u)-C-D;if(H<0&&o===0)return"".concat(j,"L").concat(r,",").concat(s,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else j+="L".concat(r,",").concat(s,"Z");return j},D1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kV=function(e){var r=rB(rB({},D1e),e),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,m=r.className;if(o<i||u===h)return null;var f=en("recharts-sector",m),x=o-i,v=No(l,x,0,!0),g;return v>0&&Math.abs(u-h)<360?g=P1e({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):g=CV({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),Ue.createElement("path",eE({},Sr(r,!0),{className:f,d:g,role:"img"}))};function fb(t){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},tE.apply(this,arguments)}function nB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function sB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(r),!0).forEach(function(s){R1e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function R1e(t,e,r){return e=L1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L1e(t){var e=O1e(t,"string");return fb(e)=="symbol"?e:e+""}function O1e(t,e){if(fb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(fb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aB={curveBasisClosed:r0e,curveBasisOpen:n0e,curveBasis:t0e,curveBumpX:zfe,curveBumpY:$fe,curveLinearClosed:s0e,curveLinear:e5,curveMonotoneX:a0e,curveMonotoneY:i0e,curveNatural:o0e,curveStep:l0e,curveStepAfter:d0e,curveStepBefore:c0e},W2=function(e){return e.x===+e.x&&e.y===+e.y},Bv=function(e){return e.x},Uv=function(e){return e.y},I1e=function(e,r){if(Or(e))return e;var s="curve".concat(QN(e));return(s==="curveMonotone"||s==="curveBump")&&r?aB["".concat(s).concat(r==="vertical"?"Y":"X")]:aB[s]||e5},F1e=function(e){var r=e.type,s=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=I1e(s,l),h=d?i.filter(function(v){return W2(v)}):i,m;if(Array.isArray(o)){var f=d?o.filter(function(v){return W2(v)}):o,x=h.map(function(v,g){return sB(sB({},v),{},{base:f[g]})});return l==="vertical"?m=L2().y(Uv).x1(Bv).x0(function(v){return v.base.x}):m=L2().x(Bv).y1(Uv).y0(function(v){return v.base.y}),m.defined(W2).curve(u),m(x)}return l==="vertical"&&Gt(o)?m=L2().y(Uv).x1(Bv).x0(o):Gt(o)?m=L2().x(Bv).y1(Uv).y0(o):m=Aq().x(Bv).y(Uv),m.defined(W2).curve(u),m(h)},Em=function(e){var r=e.className,s=e.points,a=e.path,i=e.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?F1e(e):a;return Ue.createElement("path",tE({},Sr(e,!1),sj(e),{className:en("recharts-curve",r),d:o,ref:i}))},HA={exports:{}},WA,iB;function B1e(){if(iB)return WA;iB=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return WA=t,WA}var qA,oB;function U1e(){if(oB)return qA;oB=1;var t=B1e();function e(){}function r(){}return r.resetWarningCache=e,qA=function(){function s(o,l,c,d,u,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},qA}var lB;function z1e(){return lB||(lB=1,HA.exports=U1e()()),HA.exports}var $1e=z1e();const Yn=ns($1e),{getOwnPropertyNames:H1e,getOwnPropertySymbols:W1e}=Object,{hasOwnProperty:q1e}=Object.prototype;function GA(t,e){return function(s,a,i){return t(s,a,i)&&e(s,a,i)}}function q2(t){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return t(r,s,a);const{cache:i}=a,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);const c=t(r,s,a);return i.delete(r),i.delete(s),c}}function G1e(t){return t!=null?t[Symbol.toStringTag]:void 0}function cB(t){return H1e(t).concat(W1e(t))}const V1e=Object.hasOwn||((t,e)=>q1e.call(t,e));function cp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const X1e="__v",Y1e="__o",K1e="_owner",{getOwnPropertyDescriptor:dB,keys:uB}=Object;function J1e(t,e){return t.byteLength===e.byteLength&&Pj(new Uint8Array(t),new Uint8Array(e))}function Q1e(t,e,r){let s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function Z1e(t,e){return t.byteLength===e.byteLength&&Pj(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function e2e(t,e){return cp(t.getTime(),e.getTime())}function t2e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function r2e(t,e){return t===e}function hB(t,e,r){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const a=new Array(s),i=t.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const d=e.entries();let u=!1,h=0;for(;(l=d.next())&&!l.done;){if(a[h]){h++;continue}const m=o.value,f=l.value;if(r.equals(m[0],f[0],c,h,t,e,r)&&r.equals(m[1],f[1],m[0],f[0],t,e,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}const n2e=cp;function s2e(t,e,r){const s=uB(t);let a=s.length;if(uB(e).length!==a)return!1;for(;a-- >0;)if(!EV(t,e,r,s[a]))return!1;return!0}function zv(t,e,r){const s=cB(t);let a=s.length;if(cB(e).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=s[a],!EV(t,e,r,i)||(o=dB(t,i),l=dB(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function a2e(t,e){return cp(t.valueOf(),e.valueOf())}function i2e(t,e){return t.source===e.source&&t.flags===e.flags}function fB(t,e,r){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const a=new Array(s),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const c=e.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function Pj(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function o2e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function EV(t,e,r,s){return(s===K1e||s===Y1e||s===X1e)&&(t.$$typeof||e.$$typeof)?!0:V1e(e,s)&&r.equals(t[s],e[s],s,s,t,e,r)}const l2e="[object ArrayBuffer]",c2e="[object Arguments]",d2e="[object Boolean]",u2e="[object DataView]",h2e="[object Date]",f2e="[object Error]",m2e="[object Map]",p2e="[object Number]",x2e="[object Object]",g2e="[object RegExp]",v2e="[object Set]",y2e="[object String]",b2e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},w2e="[object URL]",j2e=Object.prototype.toString;function N2e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:s,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:f,unknownTagComparators:x}){return function(g,b,N){if(g===b)return!0;if(g==null||b==null)return!1;const w=typeof g;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(g,b,N):w==="function"?i(g,b,N):!1;const A=g.constructor;if(A!==b.constructor)return!1;if(A===Object)return c(g,b,N);if(Array.isArray(g))return e(g,b,N);if(A===Date)return s(g,b,N);if(A===RegExp)return u(g,b,N);if(A===Map)return o(g,b,N);if(A===Set)return h(g,b,N);const j=j2e.call(g);if(j===h2e)return s(g,b,N);if(j===g2e)return u(g,b,N);if(j===m2e)return o(g,b,N);if(j===v2e)return h(g,b,N);if(j===x2e)return typeof g.then!="function"&&typeof b.then!="function"&&c(g,b,N);if(j===w2e)return f(g,b,N);if(j===f2e)return a(g,b,N);if(j===c2e)return c(g,b,N);if(b2e[j])return m(g,b,N);if(j===l2e)return t(g,b,N);if(j===u2e)return r(g,b,N);if(j===d2e||j===p2e||j===y2e)return d(g,b,N);if(x){let S=x[j];if(!S){const E=G1e(g);E&&(S=x[E])}if(S)return S(g,b,N)}return!1}}function S2e({circular:t,createCustomConfig:e,strict:r}){let s={areArrayBuffersEqual:J1e,areArraysEqual:r?zv:Q1e,areDataViewsEqual:Z1e,areDatesEqual:e2e,areErrorsEqual:t2e,areFunctionsEqual:r2e,areMapsEqual:r?GA(hB,zv):hB,areNumbersEqual:n2e,areObjectsEqual:r?zv:s2e,arePrimitiveWrappersEqual:a2e,areRegExpsEqual:i2e,areSetsEqual:r?GA(fB,zv):fB,areTypedArraysEqual:r?GA(Pj,zv):Pj,areUrlsEqual:o2e,unknownTagComparators:void 0};if(e&&(s=Object.assign({},s,e(s))),t){const a=q2(s.areArraysEqual),i=q2(s.areMapsEqual),o=q2(s.areObjectsEqual),l=q2(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return s}function _2e(t){return function(e,r,s,a,i,o,l){return t(e,r,l)}}function A2e({circular:t,comparator:e,createState:r,equals:s,strict:a}){if(r)return function(l,c){const{cache:d=t?new WeakMap:void 0,meta:u}=r();return e(l,c,{cache:d,equals:s,meta:u,strict:a})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};const i={cache:void 0,equals:s,meta:void 0,strict:a};return function(l,c){return e(l,c,i)}}const C2e=l0();l0({strict:!0});l0({circular:!0});l0({circular:!0,strict:!0});l0({createInternalComparator:()=>cp});l0({strict:!0,createInternalComparator:()=>cp});l0({circular:!0,createInternalComparator:()=>cp});l0({circular:!0,createInternalComparator:()=>cp,strict:!0});function l0(t={}){const{circular:e=!1,createInternalComparator:r,createState:s,strict:a=!1}=t,i=S2e(t),o=N2e(i),l=r?r(o):_2e(o);return A2e({circular:e,comparator:o,createState:s,equals:l,strict:a})}function k2e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function mB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):k2e(a)};requestAnimationFrame(s)}function rE(t){"@babel/helpers - typeof";return rE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rE(t)}function E2e(t){return D2e(t)||P2e(t)||M2e(t)||T2e()}function T2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(t,e){if(t){if(typeof t=="string")return pB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pB(t,e)}}function pB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function P2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D2e(t){if(Array.isArray(t))return t}function R2e(){var t={},e=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=E2e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){mB(a.bind(null,d),c);return}a(c),mB(a.bind(null,d));return}rE(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function mb(t){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(t)}function xB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function gB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(r),!0).forEach(function(s){TV(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function TV(t,e,r){return e=L2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L2e(t){var e=O2e(t,"string");return mb(e)==="symbol"?e:String(e)}function O2e(t,e){if(mb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(mb(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I2e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},F2e=function(e){return e},B2e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xy=function(e,r){return Object.keys(r).reduce(function(s,a){return gB(gB({},s),{},TV({},a,e(a,r[a])))},{})},vB=function(e,r,s){return e.map(function(a){return"".concat(B2e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function U2e(t,e){return H2e(t)||$2e(t,e)||MV(t,e)||z2e()}function z2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function H2e(t){if(Array.isArray(t))return t}function W2e(t){return V2e(t)||G2e(t)||MV(t)||q2e()}function q2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MV(t,e){if(t){if(typeof t=="string")return nE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(t,e)}}function G2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V2e(t){if(Array.isArray(t))return nE(t)}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var Dj=1e-4,PV=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},DV=function(e,r){return e.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},yB=function(e,r){return function(s){var a=PV(e,r);return DV(a,s)}},X2e=function(e,r){return function(s){var a=PV(e,r),i=[].concat(W2e(a.map(function(o,l){return o*l}).slice(1)),[0]);return DV(i,s)}},bB=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=U2e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=yB(a,o),m=yB(i,l),f=X2e(a,o),x=function(b){return b>1?1:b<0?0:b},v=function(b){for(var N=b>1?1:b,w=N,A=0;A<8;++A){var j=h(w)-N,S=f(w);if(Math.abs(j-N)<Dj||S<Dj)return m(w);w=x(w-j/S)}return m(w)};return v.isStepper=!1,v},Y2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,s=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,h,m){var f=-(u-h)*s,x=m*i,v=m+(f-x)*l/1e3,g=m*l/1e3+u;return Math.abs(g-h)<Dj&&Math.abs(v)<Dj?[h,0]:[g,v]};return c.isStepper=!0,c.dt=l,c},K2e=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bB(a);case"spring":return Y2e();default:if(a.split("(")[0]==="cubic-bezier")return bB(a)}return typeof a=="function"?a:null};function pb(t){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}function wB(t){return Z2e(t)||Q2e(t)||RV(t)||J2e()}function J2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z2e(t){if(Array.isArray(t))return aE(t)}function jB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(r),!0).forEach(function(s){sE(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function sE(t,e,r){return e=ewe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ewe(t){var e=twe(t,"string");return pb(e)==="symbol"?e:String(e)}function twe(t,e){if(pb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(pb(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rwe(t,e){return awe(t)||swe(t,e)||RV(t,e)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function swe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function awe(t){if(Array.isArray(t))return t}var Rj=function(e,r,s){return e+(r-e)*s},iE=function(e){var r=e.from,s=e.to;return r!==s},iwe=function t(e,r,s){var a=xy(function(i,o){if(iE(o)){var l=e(o.from,o.to,o.velocity),c=rwe(l,2),d=c[0],u=c[1];return Ai(Ai({},o),{},{from:d,velocity:u})}return o},r);return s<1?xy(function(i,o){return iE(o)?Ai(Ai({},o),{},{velocity:Rj(o.velocity,a[i].velocity,s),from:Rj(o.from,a[i].from,s)}):o},r):t(e,a,s-1)};const owe=(function(t,e,r,s,a){var i=I2e(t,e),o=i.reduce(function(g,b){return Ai(Ai({},g),{},sE({},b,[t[b],e[b]]))},{}),l=i.reduce(function(g,b){return Ai(Ai({},g),{},sE({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return xy(function(b,N){return N.from},l)},f=function(){return!Object.values(l).filter(iE).length},x=function(b){d||(d=b);var N=b-d,w=N/r.dt;l=iwe(r,l,w),a(Ai(Ai(Ai({},t),e),m())),d=b,f()||(c=requestAnimationFrame(h))},v=function(b){u||(u=b);var N=(b-u)/s,w=xy(function(j,S){return Rj.apply(void 0,wB(S).concat([r(N)]))},o);if(a(Ai(Ai(Ai({},t),e),w)),N<1)c=requestAnimationFrame(h);else{var A=xy(function(j,S){return Rj.apply(void 0,wB(S).concat([r(1)]))},o);a(Ai(Ai(Ai({},t),e),A))}};return h=r.isStepper?x:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}var lwe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cwe(t,e){if(t==null)return{};var r=dwe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function dwe(t,e){if(t==null)return{};var r={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function VA(t){return mwe(t)||fwe(t)||hwe(t)||uwe()}function uwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hwe(t,e){if(t){if(typeof t=="string")return oE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oE(t,e)}}function fwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mwe(t){if(Array.isArray(t))return oE(t)}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function NB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Vc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(r),!0).forEach(function(s){ry(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function ry(t,e,r){return e=LV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xwe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,LV(s.key),s)}}function gwe(t,e,r){return e&&xwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LV(t){var e=vwe(t,"string");return ig(e)==="symbol"?e:String(e)}function vwe(t,e){if(ig(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ig(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ywe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},lE(t,e)}function bwe(t){var e=wwe();return function(){var s=Lj(t),a;if(e){var i=Lj(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return cE(this,a)}}function cE(t,e){if(e&&(ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dE(t)}function dE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lj(t){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lj(t)}var hd=(function(t){ywe(r,t);var e=bwe(r);function r(s,a){var i;pwe(this,r),i=e.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(dE(i)),i.changeStyle=i.changeStyle.bind(dE(i)),!l||f<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),cE(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},cE(i);i.state={style:c?ry({},c,d):d}}else i.state={style:{}};return i}return gwe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,m=this.state.style;if(l){if(!o){var f={style:c?ry({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(f);return}if(!(C2e(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||d?h:a.to;if(this.state&&m){var g={style:c?ry({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(g)}this.runAnimation(Vc(Vc({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,m=a.onAnimationStart,f=owe(o,l,K2e(d),c,this.changeStyle),x=function(){i.stopJSAnimation=f()};this.manager.start([m,u,x,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,f=function(v,g,b){if(b===0)return v;var N=g.duration,w=g.easing,A=w===void 0?"ease":w,j=g.style,S=g.properties,E=g.onAnimationEnd,R=b>0?o[b-1]:g,C=S||Object.keys(j);if(typeof A=="function"||A==="spring")return[].concat(VA(v),[i.runJSAnimation.bind(i,{from:R.style,to:j,duration:N,easing:A}),N]);var T=vB(C,N,A),k=Vc(Vc(Vc({},R.style),j),{},{transition:T});return[].concat(VA(v),[k,N,E]).filter(F2e)};return this.manager.start([c].concat(VA(o.reduce(f,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=R2e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,m=a.steps,f=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var v=l?ry({},l,c):c,g=vB(Object.keys(v),o,d);x.start([u,i,Vc(Vc({},v),{},{transition:g}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=cwe(a,lwe),d=L.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(f){var x=f.props,v=x.style,g=v===void 0?{}:v,b=x.className,N=L.cloneElement(f,Vc(Vc({},c),{},{style:Vc(Vc({},g),u),className:b}));return N};return d===1?h(L.Children.only(i)):Ue.createElement("div",null,L.Children.map(i,function(m){return h(m)}))}}]),r})(L.PureComponent);hd.displayName="Animate";hd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hd.propTypes={from:Yn.oneOfType([Yn.object,Yn.string]),to:Yn.oneOfType([Yn.object,Yn.string]),attributeName:Yn.string,duration:Yn.number,begin:Yn.number,easing:Yn.oneOfType([Yn.string,Yn.func]),steps:Yn.arrayOf(Yn.shape({duration:Yn.number.isRequired,style:Yn.object.isRequired,easing:Yn.oneOfType([Yn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yn.func]),properties:Yn.arrayOf("string"),onAnimationEnd:Yn.func})),children:Yn.oneOfType([Yn.node,Yn.func]),isActive:Yn.bool,canBegin:Yn.bool,onAnimationEnd:Yn.func,shouldReAnimate:Yn.bool,onAnimationStart:Yn.func,onAnimationReStart:Yn.func};function xb(t){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function Oj(){return Oj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Oj.apply(this,arguments)}function jwe(t,e){return Awe(t)||_we(t,e)||Swe(t,e)||Nwe()}function Nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Swe(t,e){if(t){if(typeof t=="string")return SB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SB(t,e)}}function SB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function _we(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Awe(t){if(Array.isArray(t))return t}function _B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function AB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(r),!0).forEach(function(s){Cwe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Cwe(t,e,r){return e=kwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kwe(t){var e=Ewe(t,"string");return xb(e)=="symbol"?e:e+""}function Ewe(t,e){if(xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(xb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CB=function(e,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,f=4;m<f;m++)h[m]=i[m]>o?o:i[m];u="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),u+="L ".concat(e+s-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+l*h[1])),u+="L ".concat(e+s,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-c*h[2],",").concat(r+a)),u+="L ".concat(e+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(e,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+s-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+s,",").concat(r+l*x,`
            L `).concat(e+s,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+s-c*x,",").concat(r+a,`
            L `).concat(e+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*x," Z")}else u="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},Twe=function(e,r){if(!e||!r)return!1;var s=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return s>=d&&s<=u&&a>=h&&a<=m}return!1},Mwe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IM=function(e){var r=AB(AB({},Mwe),e),s=L.useRef(),a=L.useState(-1),i=jwe(a,2),o=i[0],l=i[1];L.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var A=s.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,m=r.radius,f=r.className,x=r.animationEasing,v=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,N=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var w=en("recharts-rectangle",f);return N?Ue.createElement(hd,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:v,animationEasing:x,isActive:N},function(A){var j=A.width,S=A.height,E=A.x,R=A.y;return Ue.createElement(hd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,isActive:b,easing:x},Ue.createElement("path",Oj({},Sr(r,!0),{className:w,d:CB(E,R,j,S,m),ref:s})))}):Ue.createElement("path",Oj({},Sr(r,!0),{className:w,d:CB(c,d,u,h,m)}))},Pwe=["points","className","baseLinePoints","connectNulls"];function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},yx.apply(this,arguments)}function Dwe(t,e){if(t==null)return{};var r=Rwe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Rwe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function kB(t){return Fwe(t)||Iwe(t)||Owe(t)||Lwe()}function Lwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Owe(t,e){if(t){if(typeof t=="string")return uE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uE(t,e)}}function Iwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fwe(t){if(Array.isArray(t))return uE(t)}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var EB=function(e){return e&&e.x===+e.x&&e.y===+e.y},Bwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(s){EB(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),EB(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},gy=function(e,r){var s=Bwe(e);r&&(s=[s.reduce(function(i,o){return[].concat(kB(i),kB(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},Uwe=function(e,r,s){var a=gy(e,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(gy(r.reverse(),s).slice(1))},zwe=function(e){var r=e.points,s=e.className,a=e.baseLinePoints,i=e.connectNulls,o=Dwe(e,Pwe);if(!r||!r.length)return null;var l=en("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=Uwe(r,a,i);return Ue.createElement("g",{className:l},Ue.createElement("path",yx({},Sr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Ue.createElement("path",yx({},Sr(o,!0),{fill:"none",d:gy(r,i)})):null,c?Ue.createElement("path",yx({},Sr(o,!0),{fill:"none",d:gy(a,i)})):null)}var u=gy(r,i);return Ue.createElement("path",yx({},Sr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},hE.apply(this,arguments)}var m1=function(e){var r=e.cx,s=e.cy,a=e.r,i=e.className,o=en("recharts-dot",i);return r===+r&&s===+s&&a===+a?Ue.createElement("circle",hE({},Sr(e,!1),sj(e),{className:o,cx:r,cy:s,r:a})):null};function gb(t){"@babel/helpers - typeof";return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}var $we=["x","y","top","left","width","height","className"];function fE(){return fE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},fE.apply(this,arguments)}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Hwe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(s){Wwe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Wwe(t,e,r){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qwe(t){var e=Gwe(t,"string");return gb(e)=="symbol"?e:e+""}function Gwe(t,e){if(gb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(gb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vwe(t,e){if(t==null)return{};var r=Xwe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Xwe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var Ywe=function(e,r,s,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},Kwe=function(e){var r=e.x,s=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,m=e.height,f=m===void 0?0:m,x=e.className,v=Vwe(e,$we),g=Hwe({x:s,y:i,top:l,left:d,width:h,height:f},v);return!Gt(s)||!Gt(i)||!Gt(h)||!Gt(f)||!Gt(l)||!Gt(d)?null:Ue.createElement("path",fE({},Sr(g,!0),{className:en("recharts-cross",x),d:Ywe(s,i,h,f,l,d)}))},XA,MB;function Jwe(){if(MB)return XA;MB=1;var t=u5(),e=KG(),r=mu();function s(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return XA=s,XA}var Qwe=Jwe();const Zwe=ns(Qwe);var YA,PB;function eje(){if(PB)return YA;PB=1;var t=u5(),e=mu(),r=JG();function s(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return YA=s,YA}var tje=eje();const rje=ns(tje);var nje=["cx","cy","angle","ticks","axisLine"],sje=["ticks","tick","angle","tickFormatter","stroke"];function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vy.apply(this,arguments)}function DB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function K0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(r),!0).forEach(function(s){p5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function RB(t,e){if(t==null)return{};var r=aje(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function aje(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function ije(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,IV(s.key),s)}}function oje(t,e,r){return e&&LB(t.prototype,e),r&&LB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lje(t,e,r){return e=Ij(e),cje(t,OV()?Reflect.construct(e,r||[],Ij(t).constructor):e.apply(t,r))}function cje(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dje(t)}function dje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OV=function(){return!!t})()}function Ij(t){return Ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ij(t)}function uje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},mE(t,e)}function p5(t,e,r){return e=IV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IV(t){var e=hje(t,"string");return og(e)=="symbol"?e:e+""}function hje(t,e){if(og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(og(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x5=(function(t){function e(){return ije(this,e),lje(this,e,arguments)}return uje(e,t),oje(e,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ts(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=Zwe(l,function(u){return u.coordinate||0}),d=rje(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=RB(s,nje),u=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),h=Ts(a,i,u[0],o),m=Ts(a,i,u[1],o),f=K0(K0(K0({},Sr(d,!1)),{},{fill:"none"},Sr(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return Ue.createElement("line",vy({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=RB(a,sje),h=this.getTickTextAnchor(),m=Sr(u,!1),f=Sr(o,!1),x=i.map(function(v,g){var b=s.getTickValueCoord(v),N=K0(K0(K0(K0({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:d},f),{},{index:g},b),{},{payload:v});return Ue.createElement(mn,vy({className:en("recharts-polar-radius-axis-tick",_V(o)),key:"tick-".concat(v.coordinate)},$m(s.props,v,g)),e.renderTickItem(o,N,c?c(v.value,g):v.value))});return Ue.createElement(mn,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:Ue.createElement(mn,{className:en("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),hi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return Ue.isValidElement(s)?o=Ue.cloneElement(s,a):Or(s)?o=s(a):o=Ue.createElement(Hm,vy({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(L.PureComponent);p5(x5,"displayName","PolarRadiusAxis");p5(x5,"axisType","radiusAxis");p5(x5,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},mm.apply(this,arguments)}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function J0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(s){g5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function fje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,BV(s.key),s)}}function mje(t,e,r){return e&&IB(t.prototype,e),r&&IB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pje(t,e,r){return e=Fj(e),xje(t,FV()?Reflect.construct(e,r||[],Fj(t).constructor):e.apply(t,r))}function xje(t,e){if(e&&(lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gje(t)}function gje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!t})()}function Fj(t){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fj(t)}function vje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},pE(t,e)}function g5(t,e,r){return e=BV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BV(t){var e=yje(t,"string");return lg(e)=="symbol"?e:e+""}function yje(t,e){if(lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(lg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bje=Math.PI/180,FB=1e-5,v5=(function(t){function e(){return fje(this,e),pje(this,e,arguments)}return vje(e,t),mje(e,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=Ts(i,o,l,s.coordinate),m=Ts(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*bje),o;return i>FB?o=a==="outer"?"start":"end":i<-FB?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=J0(J0({},Sr(this.props,!1)),{},{fill:"none"},Sr(l,!1));if(c==="circle")return Ue.createElement(m1,mm({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(m){return Ts(a,i,o,m.coordinate)});return Ue.createElement(zwe,mm({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Sr(this.props,!1),h=Sr(o,!1),m=J0(J0({},u),{},{fill:"none"},Sr(l,!1)),f=i.map(function(x,v){var g=s.getTickLineCoord(x),b=s.getTickTextAnchor(x),N=J0(J0(J0({textAnchor:b},u),{},{stroke:"none",fill:d},h),{},{index:v,payload:x,x:g.x2,y:g.y2});return Ue.createElement(mn,mm({className:en("recharts-polar-angle-axis-tick",_V(o)),key:"tick-".concat(x.coordinate)},$m(s.props,x,v)),l&&Ue.createElement("line",mm({className:"recharts-polar-angle-axis-tick-line"},m,g)),o&&e.renderTickItem(o,N,c?c(x.value,v):x.value))});return Ue.createElement(mn,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:Ue.createElement(mn,{className:en("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return Ue.isValidElement(s)?o=Ue.cloneElement(s,a):Or(s)?o=s(a):o=Ue.createElement(Hm,mm({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(L.PureComponent);g5(v5,"displayName","PolarAngleAxis");g5(v5,"axisType","angleAxis");g5(v5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var KA,BB;function wje(){if(BB)return KA;BB=1;var t=Yq(),e=t(Object.getPrototypeOf,Object);return KA=e,KA}var JA,UB;function jje(){if(UB)return JA;UB=1;var t=Dh(),e=wje(),r=Rh(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!r(u)||t(u)!=s)return!1;var h=e(u);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return JA=d,JA}var Nje=jje();const Sje=ns(Nje);var QA,zB;function _je(){if(zB)return QA;zB=1;var t=Dh(),e=Rh(),r="[object Boolean]";function s(a){return a===!0||a===!1||e(a)&&t(a)==r}return QA=s,QA}var Aje=_je();const Cje=ns(Aje);function vb(t){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}function Bj(){return Bj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Bj.apply(this,arguments)}function kje(t,e){return Pje(t)||Mje(t,e)||Tje(t,e)||Eje()}function Eje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tje(t,e){if(t){if(typeof t=="string")return $B(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $B(t,e)}}function $B(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Mje(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Pje(t){if(Array.isArray(t))return t}function HB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function WB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(r),!0).forEach(function(s){Dje(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Dje(t,e,r){return e=Rje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rje(t){var e=Lje(t,"string");return vb(e)=="symbol"?e:e+""}function Lje(t,e){if(vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(vb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qB=function(e,r,s,a,i){var o=s-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+s,",").concat(r),l+="L ".concat(e+s-o/2,",").concat(r+i),l+="L ".concat(e+s-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},Oje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ije=function(e){var r=WB(WB({},Oje),e),s=L.useRef(),a=L.useState(-1),i=kje(a,2),o=i[0],l=i[1];L.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,m=r.height,f=r.className,x=r.animationEasing,v=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var N=en("recharts-trapezoid",f);return b?Ue.createElement(hd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:v,animationEasing:x,isActive:b},function(w){var A=w.upperWidth,j=w.lowerWidth,S=w.height,E=w.x,R=w.y;return Ue.createElement(hd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:v,easing:x},Ue.createElement("path",Bj({},Sr(r,!0),{className:N,d:qB(E,R,A,j,S),ref:s})))}):Ue.createElement("g",null,Ue.createElement("path",Bj({},Sr(r,!0),{className:N,d:qB(c,d,u,h,m)})))},Fje=["option","shapeType","propTransformer","activeClassName","isActive"];function yb(t){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}function Bje(t,e){if(t==null)return{};var r=Uje(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Uje(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function GB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Uj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(r),!0).forEach(function(s){zje(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function zje(t,e,r){return e=$je(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $je(t){var e=Hje(t,"string");return yb(e)=="symbol"?e:e+""}function Hje(t,e){if(yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(yb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wje(t,e){return Uj(Uj({},e),t)}function qje(t,e){return t==="symbols"}function VB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Ue.createElement(IM,r);case"trapezoid":return Ue.createElement(Ije,r);case"sector":return Ue.createElement(kV,r);case"symbols":if(qje(e))return Ue.createElement(rM,r);break;default:return null}}function Gje(t){return L.isValidElement(t)?t.props:t}function UV(t){var e=t.option,r=t.shapeType,s=t.propTransformer,a=s===void 0?Wje:s,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Bje(t,Fje),d;if(L.isValidElement(e))d=L.cloneElement(e,Uj(Uj({},c),Gje(e)));else if(Or(e))d=e(c);else if(Sje(e)&&!Cje(e)){var u=a(e,c);d=Ue.createElement(VB,{shapeType:r,elementProps:u})}else{var h=c;d=Ue.createElement(VB,{shapeType:r,elementProps:h})}return l?Ue.createElement(mn,{className:o},d):d}function y5(t,e){return e!=null&&"trapezoids"in t.props}function b5(t,e){return e!=null&&"sectors"in t.props}function bb(t,e){return e!=null&&"points"in t.props}function Vje(t,e){var r,s,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(s=e.labelViewBox)===null||s===void 0?void 0:s.y)||t.y===e.y;return a&&i}function Xje(t,e){var r=t.endAngle===e.endAngle,s=t.startAngle===e.startAngle;return r&&s}function Yje(t,e){var r=t.x===e.x,s=t.y===e.y,a=t.z===e.z;return r&&s&&a}function Kje(t,e){var r;return y5(t,e)?r=Vje:b5(t,e)?r=Xje:bb(t,e)&&(r=Yje),r}function Jje(t,e){var r;return y5(t,e)?r="trapezoids":b5(t,e)?r="sectors":bb(t,e)&&(r="points"),r}function Qje(t,e){if(y5(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(b5(t,e)){var s;return(s=e.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return bb(t,e)?e.payload:{}}function Zje(t){var e=t.activeTooltipItem,r=t.graphicalItem,s=t.itemData,a=Jje(r,e),i=Qje(r,e),o=s.filter(function(c,d){var u=Wm(i,c),h=r.props[a].filter(function(x){var v=Kje(r,e);return v(x,e)}),m=r.props[a].indexOf(h[h.length-1]),f=d===m;return u&&f}),l=s.indexOf(o[o.length-1]);return l}var $w;function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bx.apply(this,arguments)}function XB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(r),!0).forEach(function(s){dc(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function eNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YB(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,$V(s.key),s)}}function tNe(t,e,r){return e&&YB(t.prototype,e),r&&YB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rNe(t,e,r){return e=zj(e),nNe(t,zV()?Reflect.construct(e,r||[],zj(t).constructor):e.apply(t,r))}function nNe(t,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sNe(t)}function sNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zV=function(){return!!t})()}function zj(t){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zj(t)}function aNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xE(t,e)}function dc(t,e,r){return e=$V(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $V(t){var e=iNe(t,"string");return cg(e)=="symbol"?e:e+""}function iNe(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(cg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vd=(function(t){function e(r){var s;return eNe(this,e),s=rNe(this,e,[r]),dc(s,"pieRef",null),dc(s,"sectorRefs",[]),dc(s,"id",ip("recharts-pie-")),dc(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Or(a)&&a()}),dc(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Or(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return aNe(e,t),tNe(e,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Sr(this.props,!1),h=Sr(o,!1),m=Sr(l,!1),f=o&&o.offsetRadius||20,x=s.map(function(v,g){var b=(v.startAngle+v.endAngle)/2,N=Ts(v.cx,v.cy,v.outerRadius+f,b),w=ks(ks(ks(ks({},u),v),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(N.x,v.cx)},N),A=ks(ks(ks(ks({},u),v),{},{fill:"none",stroke:v.fill},m),{},{index:g,points:[Ts(v.cx,v.cy,v.outerRadius,b),N]}),j=c;return qr(c)&&qr(d)?j="value":qr(c)&&(j=d),Ue.createElement(mn,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,A,"line"),e.renderLabelItem(o,w,wa(v,j)))});return Ue.createElement(mn,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var h=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,f=h?o:m,x=ks(ks({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Ue.createElement(mn,bx({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},$m(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),Ue.createElement(UV,bx({option:f,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,m=h.prevSectors,f=h.prevIsAnimationActive;return Ue.createElement(hd,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,g=[],b=i&&i[0],N=b.startAngle;return i.forEach(function(w,A){var j=m&&m[A],S=A>0?El(w,"paddingAngle",0):0;if(j){var E=Ga(j.endAngle-j.startAngle,w.endAngle-w.startAngle),R=ks(ks({},w),{},{startAngle:N+S,endAngle:N+E(v)+S});g.push(R),N=R.endAngle}else{var C=w.endAngle,T=w.startAngle,k=Ga(0,C-T),P=k(v),D=ks(ks({},w),{},{startAngle:N+S,endAngle:N+P+S});g.push(D),N=D.endAngle}}),Ue.createElement(mn,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Wm(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,m=a.outerRadius,f=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Gt(d)||!Gt(u)||!Gt(h)||!Gt(m))return null;var v=en("recharts-pie",l);return Ue.createElement(mn,{tabIndex:this.props.rootTabIndex,className:v,ref:function(b){s.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),hi.renderCallByParent(this.props,null,!1),(!f||x)&&nu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(Ue.isValidElement(s))return Ue.cloneElement(s,a);if(Or(s))return s(a);var o=en("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return Ue.createElement(Em,bx({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(Ue.isValidElement(s))return Ue.cloneElement(s,a);var o=i;if(Or(s)&&(o=s(a),Ue.isValidElement(o)))return o;var l=en("recharts-pie-label-text",typeof s!="boolean"&&!Or(s)?s.className:"");return Ue.createElement(Hm,bx({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(L.PureComponent);$w=vd;dc(vd,"displayName","Pie");dc(vd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!a0.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dc(vd,"parseDeltaAngle",function(t,e){var r=jo(e-t),s=Math.min(Math.abs(e-t),360);return r*s});dc(vd,"getRealPieData",function(t){var e=t.data,r=t.children,s=Sr(t,!1),a=Tl(r,Zf);return e&&e.length?e.map(function(i,o){return ks(ks(ks({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return ks(ks({},s),i.props)}):[]});dc(vd,"parseCoordinateOfPie",function(t,e){var r=e.top,s=e.left,a=e.width,i=e.height,o=SV(a,i),l=s+No(t.cx,a,a/2),c=r+No(t.cy,i,i/2),d=No(t.innerRadius,o,0),u=No(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});dc(vd,"getComposedData",function(t){var e=t.item,r=t.offset,s=e.type.defaultProps!==void 0?ks(ks({},e.type.defaultProps),e.props):e.props,a=$w.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,h=s.valueKey,m=s.tooltipType,f=Math.abs(s.minAngle),x=$w.parseCoordinateOfPie(s,r),v=$w.parseDeltaAngle(o,l),g=Math.abs(v),b=d;qr(d)&&qr(h)?(dd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):qr(d)&&(dd(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var N=a.filter(function(R){return wa(R,b,0)!==0}).length,w=(g>=360?N:N-1)*c,A=g-N*f-w,j=a.reduce(function(R,C){var T=wa(C,b,0);return R+(Gt(T)?T:0)},0),S;if(j>0){var E;S=a.map(function(R,C){var T=wa(R,b,0),k=wa(R,u,C),P=(Gt(T)?T:0)/j,D;C?D=E.endAngle+jo(v)*c*(T!==0?1:0):D=o;var H=D+jo(v)*((T!==0?f:0)+P*A),F=(D+H)/2,z=(x.innerRadius+x.outerRadius)/2,O=[{name:k,value:T,payload:R,dataKey:b,type:m}],W=Ts(x.cx,x.cy,z,F);return E=ks(ks(ks({percent:P,cornerRadius:i,name:k,tooltipPayload:O,midAngle:F,middleRadius:z,tooltipPosition:W},R),x),{},{value:wa(R,b),startAngle:D,endAngle:H,payload:R,paddingAngle:jo(v)*c}),E})}return ks(ks({},x),{},{sectors:S,data:a})});var ZA,KB;function oNe(){if(KB)return ZA;KB=1;var t=Math.ceil,e=Math.max;function r(s,a,i,o){for(var l=-1,c=e(t((a-s)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=s,s+=i;return d}return ZA=r,ZA}var eC,JB;function HV(){if(JB)return eC;JB=1;var t=uG(),e=1/0,r=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return eC=s,eC}var tC,QB;function lNe(){if(QB)return tC;QB=1;var t=oNe(),e=s5(),r=HV();function s(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return tC=s,tC}var rC,ZB;function cNe(){if(ZB)return rC;ZB=1;var t=lNe(),e=t();return rC=e,rC}var dNe=cNe();const $j=ns(dNe);function wb(t){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}function e9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function t9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(r),!0).forEach(function(s){WV(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function WV(t,e,r){return e=uNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uNe(t){var e=hNe(t,"string");return wb(e)=="symbol"?e:e+""}function hNe(t,e){if(wb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(wb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fNe=["Webkit","Moz","O","ms"],mNe=function(e,r){var s=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=fNe.reduce(function(i,o){return t9(t9({},i),{},WV({},o+s,r))},{});return a[e]=r,a};function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Hj.apply(this,arguments)}function r9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function nC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(r),!0).forEach(function(s){jl(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function pNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n9(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,GV(s.key),s)}}function xNe(t,e,r){return e&&n9(t.prototype,e),r&&n9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gNe(t,e,r){return e=Wj(e),vNe(t,qV()?Reflect.construct(e,r||[],Wj(t).constructor):e.apply(t,r))}function vNe(t,e){if(e&&(dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yNe(t)}function yNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function Wj(t){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(t)}function bNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},gE(t,e)}function jl(t,e,r){return e=GV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GV(t){var e=wNe(t,"string");return dg(e)=="symbol"?e:e+""}function wNe(t,e){if(dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(dg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jNe=function(e){var r=e.data,s=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=my().domain($j(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},s9=function(e){return e.changedTouches&&!!e.changedTouches.length},ug=(function(t){function e(r){var s;return pNe(this,e),s=gNe(this,e,[r]),jl(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),jl(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),jl(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),jl(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),jl(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),jl(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),jl(s,"handleSlideDragStart",function(a){var i=s9(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return bNe(e,t),xNe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),m=Math.max(a,i),f=e.getIndexInRange(o,h),x=e.getIndexInRange(o,m);return{startIndex:f-f%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=wa(i[s],l,s);return Or(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,f=c.endIndex,x=c.onChange,v=s.pageX-i;v>0?v=Math.min(v,d+u-h-l,d+u-h-o):v<0&&(v=Math.max(v,d-o,d-l));var g=this.getIndex({startX:o+v,endX:l+v});(g.startIndex!==m||g.endIndex!==f)&&x&&x(g),this.setState({startX:o+v,endX:l+v,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=s9(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,f=u.travellerWidth,x=u.onChange,v=u.gap,g=u.data,b={startX:this.state.startX,endX:this.state.endX},N=s.pageX-i;N>0?N=Math.min(N,h+m-f-d):N<0&&(N=Math.max(N,h-d)),b[o]=d+N;var w=this.getIndex(b),A=w.startIndex,j=w.endIndex,S=function(){var R=g.length-1;return o==="startX"&&(l>c?A%v===0:j%v===0)||l<c&&j===R||o==="endX"&&(l>c?j%v===0:A%v===0)||l>c&&j===R};this.setState(jl(jl({},o,d+N),"brushMoveStartX",s.pageX),function(){x&&S()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var m=h+s;if(!(m===-1||m>=l.length)){var f=l[m];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(jl({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return Ue.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,h=L.Children.only(d);return h?Ue.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,f=c.ariaLabel,x=c.data,v=c.startIndex,g=c.endIndex,b=Math.max(s,this.props.x),N=nC(nC({},Sr(this.props,!1)),{},{x:b,y:d,width:u,height:h}),w=f||"Min value: ".concat((i=x[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return Ue.createElement(mn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,N))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,h=Math.max(Math.abs(a-s)-d,0);return Ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,h=u.startX,m=u.endX,f=5,x={pointerEvents:"none",fill:d};return Ue.createElement(mn,{className:"recharts-brush-texts"},Ue.createElement(Hm,Hj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-f,y:o+l/2},x),this.getTextOfTick(a)),Ue.createElement(Hm,Hj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+f,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,h=s.alwaysShowText,m=this.state,f=m.startX,x=m.endX,v=m.isTextActive,g=m.isSlideMoving,b=m.isTravellerMoving,N=m.isTravellerFocused;if(!a||!a.length||!Gt(l)||!Gt(c)||!Gt(d)||!Gt(u)||d<=0||u<=0)return null;var w=en("recharts-brush",i),A=Ue.Children.count(o)===1,j=mNe("userSelect","none");return Ue.createElement(mn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(f,x),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(x,"endX"),(v||g||b||N||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return Ue.createElement(Ue.Fragment,null,Ue.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ue.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),Ue.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return Ue.isValidElement(s)?i=Ue.cloneElement(s,a):Or(s)?i=s(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,h=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return nC({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?jNe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])})(L.PureComponent);jl(ug,"displayName","Brush");jl(ug,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sC,a9;function NNe(){if(a9)return sC;a9=1;var t=cM();function e(r,s){var a;return t(r,function(i,o,l){return a=s(i,o,l),!a}),!!a}return sC=e,sC}var aC,i9;function SNe(){if(i9)return aC;i9=1;var t=$q(),e=mu(),r=NNe(),s=ol(),a=s5();function i(o,l,c){var d=s(o)?t:r;return c&&a(o,l,c)&&(l=void 0),d(o,e(l,3))}return aC=i,aC}var _Ne=SNe();const ANe=ns(_Ne);var su=function(e,r){var s=e.alwaysShow,a=e.ifOverflow;return s&&(a="extendDomain"),a===r},iC,o9;function CNe(){if(o9)return iC;o9=1;var t=iG();function e(r,s,a){s=="__proto__"&&t?t(r,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[s]=a}return iC=e,iC}var oC,l9;function kNe(){if(l9)return oC;l9=1;var t=CNe(),e=sG(),r=mu();function s(a,i){var o={};return i=r(i,3),e(a,function(l,c,d){t(o,c,i(l,c,d))}),o}return oC=s,oC}var ENe=kNe();const TNe=ns(ENe);var lC,c9;function MNe(){if(c9)return lC;c9=1;function t(e,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(!r(e[s],s,e))return!1;return!0}return lC=t,lC}var cC,d9;function PNe(){if(d9)return cC;d9=1;var t=cM();function e(r,s){var a=!0;return t(r,function(i,o,l){return a=!!s(i,o,l),a}),a}return cC=e,cC}var dC,u9;function DNe(){if(u9)return dC;u9=1;var t=MNe(),e=PNe(),r=mu(),s=ol(),a=s5();function i(o,l,c){var d=s(o)?t:e;return c&&a(o,l,c)&&(l=void 0),d(o,r(l,3))}return dC=i,dC}var RNe=DNe();const VV=ns(RNe);var LNe=["x","y"];function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vE.apply(this,arguments)}function h9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function $v(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(r),!0).forEach(function(s){ONe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function ONe(t,e,r){return e=INe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function INe(t){var e=FNe(t,"string");return jb(e)=="symbol"?e:e+""}function FNe(t,e){if(jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(jb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BNe(t,e){if(t==null)return{};var r=UNe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function UNe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function zNe(t,e){var r=t.x,s=t.y,a=BNe(t,LNe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),h="".concat(e.width||a.width),m=parseInt(h,10);return $v($v($v($v($v({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:e.name,radius:e.radius})}function f9(t){return Ue.createElement(UV,vE({shapeType:"rectangle",propTransformer:zNe,activeClassName:"recharts-active-bar"},t))}var $Ne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof e=="number")return e;var i=typeof s=="number";return i?e(s,a):(i||Gm(),r)}},HNe=["value","background"],XV;function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function WNe(t,e){if(t==null)return{};var r=qNe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function qNe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function qj(){return qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qj.apply(this,arguments)}function m9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(r),!0).forEach(function(s){Pf(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function GNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p9(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,KV(s.key),s)}}function VNe(t,e,r){return e&&p9(t.prototype,e),r&&p9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XNe(t,e,r){return e=Gj(e),YNe(t,YV()?Reflect.construct(e,r||[],Gj(t).constructor):e.apply(t,r))}function YNe(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KNe(t)}function KNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YV=function(){return!!t})()}function Gj(t){return Gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gj(t)}function JNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},yE(t,e)}function Pf(t,e,r){return e=KV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KV(t){var e=QNe(t,"string");return hg(e)=="symbol"?e:e+""}function QNe(t,e){if(hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nl=(function(t){function e(){var r;GNe(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=XNe(this,e,[].concat(a)),Pf(r,"state",{isAnimationFinished:!1}),Pf(r,"id",ip("recharts-bar-")),Pf(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Pf(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return JNe(e,t),VNe(e,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Sr(this.props,!1);return s&&s.map(function(h,m){var f=m===c,x=f?d:o,v=Ma(Ma(Ma({},u),h),{},{isActive:f,option:x,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ue.createElement(mn,qj({className:"recharts-bar-rectangle"},$m(a.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),Ue.createElement(f9,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state.prevData;return Ue.createElement(hd,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var x=f.t,v=i.map(function(g,b){var N=m&&m[b];if(N){var w=Ga(N.x,g.x),A=Ga(N.y,g.y),j=Ga(N.width,g.width),S=Ga(N.height,g.height);return Ma(Ma({},g),{},{x:w(x),y:A(x),width:j(x),height:S(x)})}if(o==="horizontal"){var E=Ga(0,g.height),R=E(x);return Ma(Ma({},g),{},{y:g.y+g.height-R,height:R})}var C=Ga(0,g.width),T=C(x);return Ma(Ma({},g),{},{width:T})});return Ue.createElement(mn,null,s.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Wm(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Sr(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,m=WNe(d,HNe);if(!h)return null;var f=Ma(Ma(Ma(Ma(Ma({},m),{},{fill:"#eee"},h),c),$m(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Ue.createElement(f9,qj({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Tl(u,f1);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,f=function(g,b){var N=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:N,errorVal:wa(g,b)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return Ue.createElement(mn,x,h.map(function(v){return Ue.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:f})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,h=s.width,m=s.height,f=s.isAnimationActive,x=s.background,v=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=en("recharts-bar",o),N=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,A=N||w,j=qr(v)?this.id:v;return Ue.createElement(mn,{className:b},N||w?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(j)},Ue.createElement("rect",{x:N?d:d-h/2,y:w?u:u-m/2,width:N?h:h*2,height:w?m:m*2}))):null,Ue.createElement(mn,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(j,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,j),(!f||g)&&nu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(L.PureComponent);XV=nl;Pf(nl,"displayName","Bar");Pf(nl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!a0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Pf(nl,"getComposedData",function(t){var e=t.props,r=t.item,s=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,m=t.offset,f=Nbe(s,r);if(!f)return null;var x=e.layout,v=r.type.defaultProps,g=v!==void 0?Ma(Ma({},v),r.props):r.props,b=g.dataKey,N=g.children,w=g.minPointSize,A=x==="horizontal"?o:i,j=d?A.scale.domain():null,S=Tbe({numericAxis:A}),E=Tl(N,Zf),R=h.map(function(C,T){var k,P,D,H,F,z;d?k=Sbe(d[u+T],j):(k=wa(C,b),Array.isArray(k)||(k=[S,k]));var O=$Ne(w,XV.defaultProps.minPointSize)(k[1],T);if(x==="horizontal"){var W,ee=[o.scale(k[0]),o.scale(k[1])],K=ee[0],re=ee[1];P=H7({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:C,index:T}),D=(W=re??K)!==null&&W!==void 0?W:void 0,H=f.size;var U=K-re;if(F=Number.isNaN(U)?0:U,z={x:P,y:o.y,width:H,height:o.height},Math.abs(O)>0&&Math.abs(F)<Math.abs(O)){var Y=jo(F||O)*(Math.abs(O)-Math.abs(F));D-=Y,F+=Y}}else{var V=[i.scale(k[0]),i.scale(k[1])],Z=V[0],ce=V[1];if(P=Z,D=H7({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:C,index:T}),H=ce-Z,F=f.size,z={x:i.x,y:D,width:i.width,height:F},Math.abs(O)>0&&Math.abs(H)<Math.abs(O)){var fe=jo(H||O)*(Math.abs(O)-Math.abs(H));H+=fe}}return Ma(Ma(Ma({},C),{},{x:P,y:D,width:H,height:F,value:d?k:k[1],payload:C,background:z},E&&E[T]&&E[T].props),{},{tooltipPayload:[jV(r,C)],tooltipPosition:{x:P+H/2,y:D+F/2}})});return Ma({data:R,layout:x},m)});function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function ZNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x9(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,JV(s.key),s)}}function e5e(t,e,r){return e&&x9(t.prototype,e),r&&x9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Qc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(r),!0).forEach(function(s){w5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function w5(t,e,r){return e=JV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JV(t){var e=t5e(t,"string");return Nb(e)=="symbol"?e:e+""}function t5e(t,e){if(Nb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Nb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FM=function(e,r,s,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!Nl(d,nl);return u.reduce(function(f,x){var v=r[x],g=v.orientation,b=v.domain,N=v.padding,w=N===void 0?{}:N,A=v.mirror,j=v.reversed,S="".concat(g).concat(A?"Mirror":""),E,R,C,T,k;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var P=b[1]-b[0],D=1/0,H=v.categoricalDomain.sort();if(H.forEach(function(V,Z){Z>0&&(D=Math.min((V||0)-(H[Z-1]||0),D))}),Number.isFinite(D)){var F=D/P,z=v.layout==="vertical"?s.height:s.width;if(v.padding==="gap"&&(E=F*z/2),v.padding==="no-gap"){var O=No(e.barCategoryGap,F*z),W=F*z/2;E=W-O-(W-O)/z*O}}}a==="xAxis"?R=[s.left+(w.left||0)+(E||0),s.left+s.width-(w.right||0)-(E||0)]:a==="yAxis"?R=c==="horizontal"?[s.top+s.height-(w.bottom||0),s.top+(w.top||0)]:[s.top+(w.top||0)+(E||0),s.top+s.height-(w.bottom||0)-(E||0)]:R=v.range,j&&(R=[R[1],R[0]]);var ee=vV(v,i,m),K=ee.scale,re=ee.realScaleType;K.domain(b).range(R),yV(K);var U=bV(K,Qc(Qc({},v),{},{realScaleType:re}));a==="xAxis"?(k=g==="top"&&!A||g==="bottom"&&A,C=s.left,T=h[S]-k*v.height):a==="yAxis"&&(k=g==="left"&&!A||g==="right"&&A,C=h[S]-k*v.width,T=s.top);var Y=Qc(Qc(Qc({},v),U),{},{realScaleType:re,x:C,y:T,scale:K,width:a==="xAxis"?s.width:v.width,height:a==="yAxis"?s.height:v.height});return Y.bandSize=Ej(Y,U),!v.hide&&a==="xAxis"?h[S]+=(k?-1:1)*Y.height:v.hide||(h[S]+=(k?-1:1)*Y.width),Qc(Qc({},f),{},w5({},x,Y))},{})},QV=function(e,r){var s=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},r5e=function(e){var r=e.x1,s=e.y1,a=e.x2,i=e.y2;return QV({x:r,y:s},{x:a,y:i})},ZV=(function(){function t(e){ZNe(this,t),this.scale=e}return e5e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();w5(ZV,"EPS",1e-4);var BM=function(e){var r=Object.keys(e).reduce(function(s,a){return Qc(Qc({},s),{},w5({},a,ZV.create(e[a])))},{});return Qc(Qc({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return TNe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return VV(a,function(i,o){return r[o].isInRange(i)})}})};function n5e(t){return(t%180+180)%180}var s5e=function(e){var r=e.width,s=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=n5e(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},uC,v9;function a5e(){if(v9)return uC;v9=1;var t=mu(),e=l1(),r=r5();function s(a){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(h){return d(c[h],h,c)}}var u=a(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return uC=s,uC}var hC,y9;function i5e(){if(y9)return hC;y9=1;var t=HV();function e(r){var s=t(r),a=s%1;return s===s?a?s-a:s:0}return hC=e,hC}var fC,b9;function o5e(){if(b9)return fC;b9=1;var t=Zq(),e=mu(),r=i5e(),s=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=s(c+d,0)),t(i,e(o,3),d)}return fC=a,fC}var mC,w9;function l5e(){if(w9)return mC;w9=1;var t=a5e(),e=o5e(),r=t(e);return mC=r,mC}var c5e=l5e();const d5e=ns(c5e);var u5e=mq();const h5e=ns(u5e);var f5e=h5e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),UM=L.createContext(void 0),zM=L.createContext(void 0),eX=L.createContext(void 0),tX=L.createContext({}),rX=L.createContext(void 0),nX=L.createContext(0),sX=L.createContext(0),j9=function(e){var r=e.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=f5e(i);return Ue.createElement(UM.Provider,{value:s},Ue.createElement(zM.Provider,{value:a},Ue.createElement(tX.Provider,{value:i},Ue.createElement(eX.Provider,{value:u},Ue.createElement(rX.Provider,{value:o},Ue.createElement(nX.Provider,{value:d},Ue.createElement(sX.Provider,{value:c},l)))))))},m5e=function(){return L.useContext(rX)},aX=function(e){var r=L.useContext(UM);r==null&&Gm();var s=r[e];return s==null&&Gm(),s},p5e=function(){var e=L.useContext(UM);return kf(e)},x5e=function(){var e=L.useContext(zM),r=d5e(e,function(s){return VV(s.domain,Number.isFinite)});return r||kf(e)},iX=function(e){var r=L.useContext(zM);r==null&&Gm();var s=r[e];return s==null&&Gm(),s},g5e=function(){var e=L.useContext(eX);return e},v5e=function(){return L.useContext(tX)},$M=function(){return L.useContext(sX)},HM=function(){return L.useContext(nX)};function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function y5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b5e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,lX(s.key),s)}}function w5e(t,e,r){return e&&b5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j5e(t,e,r){return e=Vj(e),N5e(t,oX()?Reflect.construct(e,r||[],Vj(t).constructor):e.apply(t,r))}function N5e(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S5e(t)}function S5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oX=function(){return!!t})()}function Vj(t){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vj(t)}function _5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bE(t,e)}function bE(t,e){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},bE(t,e)}function N9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function S9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N9(Object(r),!0).forEach(function(s){WM(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function WM(t,e,r){return e=lX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lX(t){var e=A5e(t,"string");return fg(e)=="symbol"?e:e+""}function A5e(t,e){if(fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(fg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function C5e(t,e){return M5e(t)||T5e(t,e)||E5e(t,e)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E5e(t,e){if(t){if(typeof t=="string")return _9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _9(t,e)}}function _9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function T5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function M5e(t){if(Array.isArray(t))return t}function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},wE.apply(this,arguments)}var P5e=function(e,r){var s;return Ue.isValidElement(e)?s=Ue.cloneElement(e,r):Or(e)?s=e(r):s=Ue.createElement("line",wE({},r,{className:"recharts-reference-line-line"})),s},D5e=function(e,r,s,a,i,o,l,c,d){var u=i.x,h=i.y,m=i.width,f=i.height;if(s){var x=d.y,v=e.y.apply(x,{position:o});if(su(d,"discard")&&!e.y.isInRange(v))return null;var g=[{x:u+m,y:v},{x:u,y:v}];return c==="left"?g.reverse():g}if(r){var b=d.x,N=e.x.apply(b,{position:o});if(su(d,"discard")&&!e.x.isInRange(N))return null;var w=[{x:N,y:h+f},{x:N,y:h}];return l==="top"?w.reverse():w}if(a){var A=d.segment,j=A.map(function(S){return e.apply(S,{position:o})});return su(d,"discard")&&ANe(j,function(S){return!e.isInRange(S)})?null:j}return null};function R5e(t){var e=t.x,r=t.y,s=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=m5e(),u=aX(a),h=iX(i),m=g5e();if(!d||!m)return null;dd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=BM({x:u.scale,y:h.scale}),x=Xa(e),v=Xa(r),g=s&&s.length===2,b=D5e(f,x,v,g,m,t.position,u.orientation,h.orientation,t);if(!b)return null;var N=C5e(b,2),w=N[0],A=w.x,j=w.y,S=N[1],E=S.x,R=S.y,C=su(t,"hidden")?"url(#".concat(d,")"):void 0,T=S9(S9({clipPath:C},Sr(t,!0)),{},{x1:A,y1:j,x2:E,y2:R});return Ue.createElement(mn,{className:en("recharts-reference-line",l)},P5e(o,T),hi.renderCallByParent(t,r5e({x1:A,y1:j,x2:E,y2:R})))}var qM=(function(t){function e(){return y5e(this,e),j5e(this,e,arguments)}return _5e(e,t),w5e(e,[{key:"render",value:function(){return Ue.createElement(R5e,this.props)}}])})(Ue.Component);WM(qM,"displayName","ReferenceLine");WM(qM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jE.apply(this,arguments)}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function A9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function C9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(r),!0).forEach(function(s){j5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function L5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O5e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,dX(s.key),s)}}function I5e(t,e,r){return e&&O5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F5e(t,e,r){return e=Xj(e),B5e(t,cX()?Reflect.construct(e,r||[],Xj(t).constructor):e.apply(t,r))}function B5e(t,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U5e(t)}function U5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cX=function(){return!!t})()}function Xj(t){return Xj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xj(t)}function z5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},NE(t,e)}function j5(t,e,r){return e=dX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dX(t){var e=$5e(t,"string");return mg(e)=="symbol"?e:e+""}function $5e(t,e){if(mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(mg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H5e=function(e){var r=e.x,s=e.y,a=e.xAxis,i=e.yAxis,o=BM({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return su(e,"discard")&&!o.isInRange(l)?null:l},N5=(function(t){function e(){return L5e(this,e),F5e(this,e,arguments)}return z5e(e,t),I5e(e,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=Xa(a),u=Xa(i);if(dd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=H5e(this.props);if(!h)return null;var m=h.x,f=h.y,x=this.props,v=x.shape,g=x.className,b=su(this.props,"hidden")?"url(#".concat(c,")"):void 0,N=C9(C9({clipPath:b},Sr(this.props,!0)),{},{cx:m,cy:f});return Ue.createElement(mn,{className:en("recharts-reference-dot",g)},e.renderDot(v,N),hi.renderCallByParent(this.props,{x:m-o,y:f-o,width:2*o,height:2*o}))}}])})(Ue.Component);j5(N5,"displayName","ReferenceDot");j5(N5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});j5(N5,"renderDot",function(t,e){var r;return Ue.isValidElement(t)?r=Ue.cloneElement(t,e):Or(t)?r=t(e):r=Ue.createElement(m1,jE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},SE.apply(this,arguments)}function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function k9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function E9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k9(Object(r),!0).forEach(function(s){S5(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function W5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q5e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,hX(s.key),s)}}function G5e(t,e,r){return e&&q5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V5e(t,e,r){return e=Yj(e),X5e(t,uX()?Reflect.construct(e,r||[],Yj(t).constructor):e.apply(t,r))}function X5e(t,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y5e(t)}function Y5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uX=function(){return!!t})()}function Yj(t){return Yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yj(t)}function K5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_E(t,e)}function S5(t,e,r){return e=hX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hX(t){var e=J5e(t,"string");return pg(e)=="symbol"?e:e+""}function J5e(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(pg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q5e=function(e,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var m=BM({x:u.scale,y:h.scale}),f={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return su(i,"discard")&&(!m.isInRange(f)||!m.isInRange(x))?null:QV(f,x)},_5=(function(t){function e(){return W5e(this,e),V5e(this,e,arguments)}return K5e(e,t),G5e(e,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;dd(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Xa(a),m=Xa(i),f=Xa(o),x=Xa(l),v=this.props.shape;if(!h&&!m&&!f&&!x&&!v)return null;var g=Q5e(h,m,f,x,this.props);if(!g&&!v)return null;var b=su(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ue.createElement(mn,{className:en("recharts-reference-area",c)},e.renderRect(v,E9(E9({clipPath:b},Sr(this.props,!0)),g)),hi.renderCallByParent(this.props,g))}}])})(Ue.Component);S5(_5,"displayName","ReferenceArea");S5(_5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});S5(_5,"renderRect",function(t,e){var r;return Ue.isValidElement(t)?r=Ue.cloneElement(t,e):Or(t)?r=t(e):r=Ue.createElement(IM,SE({},e,{className:"recharts-reference-area-rect"})),r});function fX(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var s=[],a=0;a<t.length;a+=e)s.push(t[a]);return s}function Z5e(t,e,r){var s={width:t.width+e.width,height:t.height+e.height};return s5e(s,r)}function eSe(t,e,r){var s=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function Kj(t,e,r,s,a){if(t*e<t*s||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-s)>=0&&t*(e+t*i/2-a)<=0}function tSe(t,e){return fX(t,e+1)}function rSe(t,e,r,s,a){for(var i=(s||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:fX(s,d)};var v=c,g,b=function(){return g===void 0&&(g=r(x,v)),g},N=x.coordinate,w=c===0||Kj(t,N,b,u,l);w||(c=0,u=o,d+=1),w&&(u=N+t*(b()/2+a),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}function T9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T9(Object(r),!0).forEach(function(s){nSe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function nSe(t,e,r){return e=sSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sSe(t){var e=aSe(t,"string");return Sb(e)=="symbol"?e:e+""}function aSe(t,e){if(Sb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Sb(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iSe(t,e,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(m){var f=i[m],x,v=function(){return x===void 0&&(x=r(f,m)),x};if(m===o-1){var g=t*(f.coordinate+t*v()/2-c);i[m]=f=Qi(Qi({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate})}else i[m]=f=Qi(Qi({},f),{},{tickCoord:f.coordinate});var b=Kj(t,f.tickCoord,v,l,c);b&&(c=f.tickCoord-t*(v()/2+a),i[m]=Qi(Qi({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function oSe(t,e,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=s[l-1],h=r(u,l-1),m=t*(u.coordinate+t*h/2-d);o[l-1]=u=Qi(Qi({},u),{},{tickCoord:m>0?u.coordinate-m*t:u.coordinate});var f=Kj(t,u.tickCoord,function(){return h},c,d);f&&(d=u.tickCoord-t*(h/2+a),o[l-1]=Qi(Qi({},u),{},{isShow:!0}))}for(var x=i?l-1:l,v=function(N){var w=o[N],A,j=function(){return A===void 0&&(A=r(w,N)),A};if(N===0){var S=t*(w.coordinate-t*j()/2-c);o[N]=w=Qi(Qi({},w),{},{tickCoord:S<0?w.coordinate-S*t:w.coordinate})}else o[N]=w=Qi(Qi({},w),{},{tickCoord:w.coordinate});var E=Kj(t,w.tickCoord,j,c,d);E&&(c=w.tickCoord+t*(j()/2+a),o[N]=Qi(Qi({},w),{},{isShow:!0}))},g=0;g<x;g++)v(g);return o}function GM(t,e,r){var s=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!a||!a.length||!s)return[];if(Gt(c)||a0.isSsr)return tSe(a,typeof c=="number"&&Gt(c)?c:0);var m=[],f=l==="top"||l==="bottom"?"width":"height",x=u&&f==="width"?fy(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(w,A){var j=Or(d)?d(w.value,A):w.value;return f==="width"?Z5e(fy(j,{fontSize:e,letterSpacing:r}),x,h):fy(j,{fontSize:e,letterSpacing:r})[f]},g=a.length>=2?jo(a[1].coordinate-a[0].coordinate):1,b=eSe(i,g,f);return c==="equidistantPreserveStart"?rSe(g,b,v,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=oSe(g,b,v,a,o,c==="preserveStartEnd"):m=iSe(g,b,v,a,o),m.filter(function(N){return N.isShow}))}var lSe=["viewBox"],cSe=["viewBox"],dSe=["ticks"];function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},wx.apply(this,arguments)}function M9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(r),!0).forEach(function(s){VM(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function pC(t,e){if(t==null)return{};var r=uSe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function uSe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function hSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P9(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,pX(s.key),s)}}function fSe(t,e,r){return e&&P9(t.prototype,e),r&&P9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mSe(t,e,r){return e=Jj(e),pSe(t,mX()?Reflect.construct(e,r||[],Jj(t).constructor):e.apply(t,r))}function pSe(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(t)}function xSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mX=function(){return!!t})()}function Jj(t){return Jj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jj(t)}function gSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},AE(t,e)}function VM(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=vSe(t,"string");return xg(e)=="symbol"?e:e+""}function vSe(t,e){if(xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hg=(function(t){function e(r){var s;return hSe(this,e),s=mSe(this,e,[r]),s.state={fontSize:"",letterSpacing:""},s}return gSe(e,t),fSe(e,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=pC(s,lSe),l=this.props,c=l.viewBox,d=pC(l,cSe);return!kx(i,c)||!kx(o,d)||!kx(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,m=a.tickMargin,f,x,v,g,b,N,w=h?-1:1,A=s.tickSize||u,j=Gt(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":f=x=s.coordinate,g=o+ +!h*c,v=g-w*A,N=v-w*m,b=j;break;case"left":v=g=s.coordinate,x=i+ +!h*l,f=x-w*A,b=f-w*m,N=j;break;case"right":v=g=s.coordinate,x=i+ +h*l,f=x+w*A,b=f+w*m,N=j;break;default:f=x=s.coordinate,g=o+ +h*c,v=g+w*A,N=v+w*m,b=j;break}return{line:{x1:f,y1:v,x2:x,y2:g},tick:{x:b,y:N}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,h=vo(vo(vo({},Sr(this.props,!1)),Sr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=vo(vo({},h),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);h=vo(vo({},h),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return Ue.createElement("line",wx({},h,{className:en("recharts-cartesian-axis-line",El(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,f=GM(vo(vo({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),g=Sr(this.props,!1),b=Sr(u,!1),N=vo(vo({},g),{},{fill:"none"},Sr(c,!1)),w=f.map(function(A,j){var S=o.getTickLineCoord(A),E=S.line,R=S.tick,C=vo(vo(vo(vo({textAnchor:x,verticalAnchor:v},g),{},{stroke:"none",fill:d},b),R),{},{index:j,payload:A,visibleTicksCount:f.length,tickFormatter:h});return Ue.createElement(mn,wx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},$m(o.props,A,j)),c&&Ue.createElement("line",wx({},N,E,{className:en("recharts-cartesian-axis-tick-line",El(c,"className"))})),u&&e.renderTickItem(u,C,"".concat(Or(h)?h(A.value,j):A.value).concat(m||"")))});return Ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,m=h.ticks,f=pC(h,dSe),x=m;return Or(c)&&(x=m&&m.length>0?c(this.props):c(f)),o<=0||l<=0||!x||!x.length?null:Ue.createElement(mn,{className:en("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),hi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return Ue.isValidElement(s)?o=Ue.cloneElement(s,a):Or(s)?o=s(a):o=Ue.createElement(Hm,wx({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(L.Component);VM(Hg,"displayName","CartesianAxis");VM(Hg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ySe=["x1","y1","x2","y2","key"],bSe=["offset"];function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function D9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(r),!0).forEach(function(s){wSe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function wSe(t,e,r){return e=jSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jSe(t){var e=NSe(t,"string");return Vm(e)=="symbol"?e:e+""}function NSe(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Vm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},wm.apply(this,arguments)}function R9(t,e){if(t==null)return{};var r=SSe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function SSe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var _Se=function(e){var r=e.fill;if(!r||r==="none")return null;var s=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return Ue.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function xX(t,e){var r;if(Ue.isValidElement(t))r=Ue.cloneElement(t,e);else if(Or(t))r=t(e);else{var s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=R9(e,ySe),d=Sr(c,!1);d.offset;var u=R9(d,bSe);r=Ue.createElement("line",wm({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function ASe(t){var e=t.x,r=t.width,s=t.horizontal,a=s===void 0?!0:s,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=eo(eo({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return xX(a,d)});return Ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function CSe(t){var e=t.y,r=t.height,s=t.vertical,a=s===void 0?!0:s,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=eo(eo({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return xX(a,d)});return Ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kSe(t){var e=t.horizontalFill,r=t.fillOpacity,s=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,f){return m-f});a!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var x=!u[f+1],v=x?a+o-m:u[f+1]-m;if(v<=0)return null;var g=f%e.length;return Ue.createElement("rect",{key:"react-".concat(f),y:m,x:s,height:v,width:i,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ESe(t){var e=t.vertical,r=e===void 0?!0:e,s=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,f){return m-f});i!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var x=!u[f+1],v=x?i+l-m:u[f+1]-m;if(v<=0)return null;var g=f%s.length;return Ue.createElement("rect",{key:"react-".concat(f),x:m,y:o,width:v,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var TSe=function(e,r){var s=e.xAxis,a=e.width,i=e.height,o=e.offset;return gV(GM(eo(eo(eo({},Hg.defaultProps),s),{},{ticks:xh(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},MSe=function(e,r){var s=e.yAxis,a=e.width,i=e.height,o=e.offset;return gV(GM(eo(eo(eo({},Hg.defaultProps),s),{},{ticks:xh(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ax={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Nh(t){var e,r,s,a,i,o,l=$M(),c=HM(),d=v5e(),u=eo(eo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ax.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ax.fill,horizontal:(s=t.horizontal)!==null&&s!==void 0?s:ax.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:ax.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:ax.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ax.verticalFill,x:Gt(t.x)?t.x:d.left,y:Gt(t.y)?t.y:d.top,width:Gt(t.width)?t.width:d.width,height:Gt(t.height)?t.height:d.height}),h=u.x,m=u.y,f=u.width,x=u.height,v=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,N=p5e(),w=x5e();if(!Gt(f)||f<=0||!Gt(x)||x<=0||!Gt(h)||h!==+h||!Gt(m)||m!==+m)return null;var A=u.verticalCoordinatesGenerator||TSe,j=u.horizontalCoordinatesGenerator||MSe,S=u.horizontalPoints,E=u.verticalPoints;if((!S||!S.length)&&Or(j)){var R=g&&g.length,C=j({yAxis:w?eo(eo({},w),{},{ticks:R?g:w.ticks}):void 0,width:l,height:c,offset:d},R?!0:v);dd(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vm(C),"]")),Array.isArray(C)&&(S=C)}if((!E||!E.length)&&Or(A)){var T=b&&b.length,k=A({xAxis:N?eo(eo({},N),{},{ticks:T?b:N.ticks}):void 0,width:l,height:c,offset:d},T?!0:v);dd(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vm(k),"]")),Array.isArray(k)&&(E=k)}return Ue.createElement("g",{className:"recharts-cartesian-grid"},Ue.createElement(_Se,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ue.createElement(ASe,wm({},u,{offset:d,horizontalPoints:S,xAxis:N,yAxis:w})),Ue.createElement(CSe,wm({},u,{offset:d,verticalPoints:E,xAxis:N,yAxis:w})),Ue.createElement(kSe,wm({},u,{horizontalPoints:S})),Ue.createElement(ESe,wm({},u,{verticalPoints:E})))}Nh.displayName="CartesianGrid";var PSe=["type","layout","connectNulls","ref"],DSe=["key"];function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function L9(t,e){if(t==null)return{};var r=RSe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function RSe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},yy.apply(this,arguments)}function O9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function wl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(r),!0).forEach(function(s){Zc(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function ix(t){return FSe(t)||ISe(t)||OSe(t)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OSe(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function ISe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FSe(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function BSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I9(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,vX(s.key),s)}}function USe(t,e,r){return e&&I9(t.prototype,e),r&&I9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zSe(t,e,r){return e=Qj(e),$Se(t,gX()?Reflect.construct(e,r||[],Qj(t).constructor):e.apply(t,r))}function $Se(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSe(t)}function HSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gX=function(){return!!t})()}function Qj(t){return Qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qj(t)}function WSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},kE(t,e)}function Zc(t,e,r){return e=vX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vX(t){var e=qSe(t,"string");return gg(e)=="symbol"?e:e+""}function qSe(t,e){if(gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(gg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xm=(function(t){function e(){var r;BSe(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=zSe(this,e,[].concat(a)),Zc(r,"state",{isAnimationFinished:!0,totalLength:0}),Zc(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Zc(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,N){return b+N});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,m=l-o,f=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>h){f=[].concat(ix(c.slice(0,x)),[h-v]);break}var g=f.length%2===0?[0,m]:[m];return[].concat(ix(e.repeat(c,u)),ix(f),g).map(function(b){return"".concat(b,"px")}).join(", ")}),Zc(r,"id",ip("recharts-line-")),Zc(r,"pathRef",function(o){r.mainCurve=o}),Zc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Zc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return WSe(e,t),USe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Tl(u,f1);if(!h)return null;var m=function(v,g){return{x:v.x,y:v.y,value:v.value,errorVal:wa(v.payload,g)}},f={clipPath:s?"url(#clipPath-".concat(a,")"):null};return Ue.createElement(mn,f,h.map(function(x){return Ue.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Sr(this.props,!1),m=Sr(c,!0),f=d.map(function(v,g){var b=wl(wl(wl({key:"dot-".concat(g),r:3},h),m),{},{value:v.value,dataKey:u,cx:v.x,cy:v.y,index:g,payload:v.payload});return e.renderDotItem(c,b)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ue.createElement(mn,yy({className:"recharts-line-dots",key:"dots"},x),f)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=L9(l,PSe),m=wl(wl(wl({},Sr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return Ue.createElement(Em,yy({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,f=o.animationId,x=o.animateNewValues,v=o.width,g=o.height,b=this.state,N=b.prevPoints,w=b.totalLength;return Ue.createElement(hd,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var j=A.t;if(N){var S=N.length/l.length,E=l.map(function(P,D){var H=Math.floor(D*S);if(N[H]){var F=N[H],z=Ga(F.x,P.x),O=Ga(F.y,P.y);return wl(wl({},P),{},{x:z(j),y:O(j)})}if(x){var W=Ga(v*2,P.x),ee=Ga(g/2,P.y);return wl(wl({},P),{},{x:W(j),y:ee(j)})}return wl(wl({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(E,s,a)}var R=Ga(0,w),C=R(j),T;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});T=i.getStrokeDasharray(C,w,k)}else T=i.generateSimpleStrokeDasharray(w,C);return i.renderCurveStatically(l,s,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Wm(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,h=a.top,m=a.left,f=a.width,x=a.height,v=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,N=l.length===1,w=en("recharts-line",c),A=d&&d.allowDataOverflow,j=u&&u.allowDataOverflow,S=A||j,E=qr(g)?this.id:g,R=(s=Sr(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},C=R.r,T=C===void 0?3:C,k=R.strokeWidth,P=k===void 0?2:k,D=yq(o)?o:{},H=D.clipDot,F=H===void 0?!0:H,z=T*2+P;return Ue.createElement(mn,{className:w},A||j?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(E)},Ue.createElement("rect",{x:A?m:m-f/2,y:j?h:h-x/2,width:A?f:f*2,height:j?x:x*2})),!F&&Ue.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Ue.createElement("rect",{x:m-z/2,y:h-z/2,width:f+z,height:x+z}))):null,!N&&this.renderCurve(S,E),this.renderErrorBar(S,E),(N||o)&&this.renderDots(S,F,E),(!v||b)&&nu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(ix(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(ix(o),ix(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(Ue.isValidElement(s))i=Ue.cloneElement(s,a);else if(Or(s))i=s(a);else{var o=a.key,l=L9(a,DSe),c=en("recharts-line-dot",typeof s!="boolean"?s.className:"");i=Ue.createElement(m1,yy({key:o},l,{className:c}))}return i}}])})(L.PureComponent);Zc(Xm,"displayName","Line");Zc(Xm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!a0.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zc(Xm,"getComposedData",function(t){var e=t.props,r=t.xAxis,s=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,u=e.layout,h=c.map(function(m,f){var x=wa(m,o);return u==="horizontal"?{x:kj({axis:r,ticks:a,bandSize:l,entry:m,index:f}),y:qr(x)?null:s.scale(x),value:x,payload:m}:{x:qr(x)?null:r.scale(x),y:kj({axis:s,ticks:i,bandSize:l,entry:m,index:f}),value:x,payload:m}});return wl({points:h,layout:u},d)});var GSe=["layout","type","stroke","connectNulls","isRange","ref"],VSe=["key"],yX;function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function bX(t,e){if(t==null)return{};var r=XSe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function XSe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jm.apply(this,arguments)}function F9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Nf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F9(Object(r),!0).forEach(function(s){Jd(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function YSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B9(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,jX(s.key),s)}}function KSe(t,e,r){return e&&B9(t.prototype,e),r&&B9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JSe(t,e,r){return e=Zj(e),QSe(t,wX()?Reflect.construct(e,r||[],Zj(t).constructor):e.apply(t,r))}function QSe(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(t)}function ZSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wX=function(){return!!t})()}function Zj(t){return Zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zj(t)}function e_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},EE(t,e)}function Jd(t,e,r){return e=jX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jX(t){var e=t_e(t,"string");return vg(e)=="symbol"?e:e+""}function t_e(t,e){if(vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var au=(function(t){function e(){var r;YSe(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=JSe(this,e,[].concat(a)),Jd(r,"state",{isAnimationFinished:!0}),Jd(r,"id",ip("recharts-area-")),Jd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Or(o)&&o()}),Jd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Or(o)&&o()}),r}return e_e(e,t),KSe(e,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,m=Sr(this.props,!1),f=Sr(d,!0),x=u.map(function(g,b){var N=Nf(Nf(Nf({key:"dot-".concat(b),r:3},m),f),{},{index:b,cx:g.x,cy:g.y,dataKey:h,value:g.value,payload:g.payload,points:u});return e.renderDotItem(d,N)}),v={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ue.createElement(mn,jm({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),h=Mf(o.map(function(m){return m.y||0}));return Gt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Mf(i.map(function(m){return m.y||0})),h)),Gt(h)?Ue.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),h=Mf(o.map(function(m){return m.x||0}));return Gt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Mf(i.map(function(m){return m.x||0})),h)),Gt(h)?Ue.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,m=l.isRange;l.ref;var f=bX(l,GSe);return Ue.createElement(mn,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Ue.createElement(Em,jm({},Sr(f,!0),{points:s,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Ue.createElement(Em,jm({},Sr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:s})),u!=="none"&&m&&Ue.createElement(Em,jm({},Sr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,m=o.animationEasing,f=o.animationId,x=this.state,v=x.prevPoints,g=x.prevBaseLine;return Ue.createElement(hd,{begin:u,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var N=b.t;if(v){var w=v.length/l.length,A=l.map(function(R,C){var T=Math.floor(C*w);if(v[T]){var k=v[T],P=Ga(k.x,R.x),D=Ga(k.y,R.y);return Nf(Nf({},R),{},{x:P(N),y:D(N)})}return R}),j;if(Gt(c)&&typeof c=="number"){var S=Ga(g,c);j=S(N)}else if(qr(c)||Fg(c)){var E=Ga(g,0);j=E(N)}else j=c.map(function(R,C){var T=Math.floor(C*w);if(g[T]){var k=g[T],P=Ga(k.x,R.x),D=Ga(k.y,R.y);return Nf(Nf({},R),{},{x:P(N),y:D(N)})}return R});return i.renderAreaStatically(A,j,s,a)}return Ue.createElement(mn,null,Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(N))),Ue.createElement(mn,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!Wm(u,o)||!Wm(h,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,m=a.yAxis,f=a.width,x=a.height,v=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,N=l.length===1,w=en("recharts-area",c),A=h&&h.allowDataOverflow,j=m&&m.allowDataOverflow,S=A||j,E=qr(g)?this.id:g,R=(s=Sr(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},C=R.r,T=C===void 0?3:C,k=R.strokeWidth,P=k===void 0?2:k,D=yq(o)?o:{},H=D.clipDot,F=H===void 0?!0:H,z=T*2+P;return Ue.createElement(mn,{className:w},A||j?Ue.createElement("defs",null,Ue.createElement("clipPath",{id:"clipPath-".concat(E)},Ue.createElement("rect",{x:A?u:u-f/2,y:j?d:d-x/2,width:A?f:f*2,height:j?x:x*2})),!F&&Ue.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Ue.createElement("rect",{x:u-z/2,y:d-z/2,width:f+z,height:x+z}))):null,N?null:this.renderArea(S,E),(o||N)&&this.renderDots(S,F,E),(!v||b)&&nu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])})(L.PureComponent);yX=au;Jd(au,"displayName","Area");Jd(au,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!a0.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Jd(au,"getBaseValue",function(t,e,r,s){var a=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(Gt(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Jd(au,"getComposedData",function(t){var e=t.props,r=t.item,s=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,m=t.offset,f=e.layout,x=d&&d.length,v=yX.getBaseValue(e,r,s,a),g=f==="horizontal",b=!1,N=h.map(function(A,j){var S;x?S=d[u+j]:(S=wa(A,c),Array.isArray(S)?b=!0:S=[v,S]);var E=S[1]==null||x&&wa(A,c)==null;return g?{x:kj({axis:s,ticks:i,bandSize:l,entry:A,index:j}),y:E?null:a.scale(S[1]),value:S,payload:A}:{x:E?null:s.scale(S[1]),y:kj({axis:a,ticks:o,bandSize:l,entry:A,index:j}),value:S,payload:A}}),w;return x||b?w=N.map(function(A){var j=Array.isArray(A.value)?A.value[0]:null;return g?{x:A.x,y:j!=null&&A.y!=null?a.scale(j):null}:{x:j!=null?s.scale(j):null,y:A.y}}):w=g?a.scale(v):s.scale(v),Nf({points:N,baseLine:w,layout:f,isRange:b},m)});Jd(au,"renderDotItem",function(t,e){var r;if(Ue.isValidElement(t))r=Ue.cloneElement(t,e);else if(Or(t))r=t(e);else{var s=en("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=bX(e,VSe);r=Ue.createElement(m1,jm({},i,{key:a,className:s}))}return r});function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function r_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n_e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,_X(s.key),s)}}function s_e(t,e,r){return e&&n_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a_e(t,e,r){return e=eN(e),i_e(t,NX()?Reflect.construct(e,r||[],eN(t).constructor):e.apply(t,r))}function i_e(t,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o_e(t)}function o_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NX=function(){return!!t})()}function eN(t){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eN(t)}function l_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},TE(t,e)}function SX(t,e,r){return e=_X(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _X(t){var e=c_e(t,"string");return yg(e)=="symbol"?e:e+""}function c_e(t,e){if(yg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ME.apply(this,arguments)}function d_e(t){var e=t.xAxisId,r=$M(),s=HM(),a=aX(e);return a==null?null:Ue.createElement(Hg,ME({},a,{className:en("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return xh(o,!0)}}))}var Ml=(function(t){function e(){return r_e(this,e),a_e(this,e,arguments)}return l_e(e,t),s_e(e,[{key:"render",value:function(){return Ue.createElement(d_e,this.props)}}])})(Ue.Component);SX(Ml,"displayName","XAxis");SX(Ml,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function u_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h_e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,kX(s.key),s)}}function f_e(t,e,r){return e&&h_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m_e(t,e,r){return e=tN(e),p_e(t,AX()?Reflect.construct(e,r||[],tN(t).constructor):e.apply(t,r))}function p_e(t,e){if(e&&(bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x_e(t)}function x_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AX=function(){return!!t})()}function tN(t){return tN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tN(t)}function g_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},PE(t,e)}function CX(t,e,r){return e=kX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kX(t){var e=v_e(t,"string");return bg(e)=="symbol"?e:e+""}function v_e(t,e){if(bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},DE.apply(this,arguments)}var y_e=function(e){var r=e.yAxisId,s=$M(),a=HM(),i=iX(r);return i==null?null:Ue.createElement(Hg,DE({},i,{className:en("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return xh(l,!0)}}))},Pl=(function(t){function e(){return u_e(this,e),m_e(this,e,arguments)}return g_e(e,t),f_e(e,[{key:"render",value:function(){return Ue.createElement(y_e,this.props)}}])})(Ue.Component);CX(Pl,"displayName","YAxis");CX(Pl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function U9(t){return N_e(t)||j_e(t)||w_e(t)||b_e()}function b_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(t,e){if(t){if(typeof t=="string")return RE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(t,e)}}function j_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N_e(t){if(Array.isArray(t))return RE(t)}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var LE=function(e,r,s,a,i){var o=Tl(e,qM),l=Tl(e,N5),c=[].concat(U9(o),U9(l)),d=Tl(e,_5),u="".concat(a,"Id"),h=a[0],m=r;if(c.length&&(m=c.reduce(function(v,g){if(g.props[u]===s&&su(g.props,"extendDomain")&&Gt(g.props[h])){var b=g.props[h];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},m)),d.length){var f="".concat(h,"1"),x="".concat(h,"2");m=d.reduce(function(v,g){if(g.props[u]===s&&su(g.props,"extendDomain")&&Gt(g.props[f])&&Gt(g.props[x])){var b=g.props[f],N=g.props[x];return[Math.min(v[0],b,N),Math.max(v[1],b,N)]}return v},m)}return i&&i.length&&(m=i.reduce(function(v,g){return Gt(g)?[Math.min(v[0],g),Math.max(v[1],g)]:v},m)),m},xC={exports:{}},z9;function S_e(){return z9||(z9=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,m),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],f]:c._events[x].push(f):(c._events[x]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,x=new Array(f);m<f;m++)x[m]=h[m].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,f,x){var v=r?r+d:d;if(!this._events[v])return!1;var g=this._events[v],b=arguments.length,N,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,m),!0;case 5:return g.fn.call(g.context,u,h,m,f),!0;case 6:return g.fn.call(g.context,u,h,m,f,x),!0}for(w=1,N=new Array(b-1);w<b;w++)N[w-1]=arguments[w];g.fn.apply(g.context,N)}else{var A=g.length,j;for(w=0;w<A;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),b){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,h);break;case 4:g[w].fn.call(g[w].context,u,h,m);break;default:if(!N)for(j=1,N=new Array(b-1);j<b;j++)N[j-1]=arguments[j];g[w].fn.apply(g[w].context,N)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var x=this._events[f];if(x.fn)x.fn===u&&(!m||x.once)&&(!h||x.context===h)&&o(this,f);else{for(var v=0,g=[],b=x.length;v<b;v++)(x[v].fn!==u||m&&!x[v].once||h&&x[v].context!==h)&&g.push(x[v]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(xC)),xC.exports}var __e=S_e();const A_e=ns(__e);var gC=new A_e,vC="recharts.syncMouseEvents";function _b(t){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function C_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k_e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,EX(s.key),s)}}function E_e(t,e,r){return e&&k_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yC(t,e,r){return e=EX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EX(t){var e=T_e(t,"string");return _b(e)=="symbol"?e:e+""}function T_e(t,e){if(_b(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(_b(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M_e=(function(){function t(){C_e(this,t),yC(this,"activeIndex",0),yC(this,"coordinateList",[]),yC(this,"layout","horizontal")}return E_e(t,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,m=r.mouseHandlerCallback,f=m===void 0?null:m;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function P_e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var s=t==null?void 0:t[0],a=t==null?void 0:t[1];if(s&&a&&Gt(s)&&Gt(a))return!0}return!1}function D_e(t,e,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?s:r.width-1,height:t==="horizontal"?r.height-1:s}}function TX(t){var e=t.cx,r=t.cy,s=t.radius,a=t.startAngle,i=t.endAngle,o=Ts(e,r,s,a),l=Ts(e,r,s,i);return{points:[o,l],cx:e,cy:r,radius:s,startAngle:a,endAngle:i}}function R_e(t,e,r){var s,a,i,o;if(t==="horizontal")s=e.x,i=s,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,s=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,m=Ts(l,c,d,h),f=Ts(l,c,u,h);s=m.x,a=m.y,i=f.x,o=f.y}else return TX(e);return[{x:s,y:a},{x:i,y:o}]}function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}function $9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function G2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(r),!0).forEach(function(s){L_e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function L_e(t,e,r){return e=O_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O_e(t){var e=I_e(t,"string");return Ab(e)=="symbol"?e:e+""}function I_e(t,e){if(Ab(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ab(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F_e(t){var e,r,s=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,f=(e=s.props.cursor)!==null&&e!==void 0?e:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!f||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var x,v=Em;if(m==="ScatterChart")x=o,v=Kwe;else if(m==="BarChart")x=D_e(h,o,c,u),v=IM;else if(h==="radial"){var g=TX(o),b=g.cx,N=g.cy,w=g.radius,A=g.startAngle,j=g.endAngle;x={cx:b,cy:N,startAngle:A,endAngle:j,innerRadius:w,outerRadius:w},v=kV}else x={points:R_e(h,o,c)},v=Em;var S=G2(G2(G2(G2({stroke:"#ccc",pointerEvents:"none"},c),x),Sr(f,!1)),{},{payload:l,payloadIndex:d,className:en("recharts-tooltip-cursor",f.className)});return L.isValidElement(f)?L.cloneElement(f,S):L.createElement(v,S)}var B_e=["item"],U_e=["children","className","width","height","style","compact","title","desc"];function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jx.apply(this,arguments)}function H9(t,e){return H_e(t)||$_e(t,e)||PX(t,e)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function H_e(t){if(Array.isArray(t))return t}function W9(t,e){if(t==null)return{};var r=W_e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function W_e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function q_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G_e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,DX(s.key),s)}}function V_e(t,e,r){return e&&G_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X_e(t,e,r){return e=rN(e),Y_e(t,MX()?Reflect.construct(e,r||[],rN(t).constructor):e.apply(t,r))}function Y_e(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K_e(t)}function K_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!t})()}function rN(t){return rN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rN(t)}function J_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},OE(t,e)}function jg(t){return e4e(t)||Z_e(t)||PX(t)||Q_e()}function Q_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PX(t,e){if(t){if(typeof t=="string")return IE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(t,e)}}function Z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e4e(t){if(Array.isArray(t))return IE(t)}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function q9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(r),!0).forEach(function(s){Lr(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q9(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Lr(t,e,r){return e=DX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DX(t){var e=t4e(t,"string");return wg(e)=="symbol"?e:e+""}function t4e(t,e){if(wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r4e={xAxis:["bottom","top"],yAxis:["left","right"]},n4e={width:"100%",height:"100%"},RX={x:0,y:0};function V2(t){return t}var s4e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},a4e=function(e,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return Et(Et(Et({},a),Ts(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Et(Et(Et({},a),Ts(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return RX},A5=function(e,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(jg(l),jg(d)):l},[]);return o.length>0?o:e&&e.length&&Gt(a)&&Gt(i)?e.slice(a,i+1):[]};function LX(t){return t==="number"?[0,"auto"]:void 0}var FE=function(e,r,s,a){var i=e.graphicalItems,o=e.tooltipAxis,l=A5(r,e);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=s&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;m=nj(f,o.dataKey,a)}else m=h&&h[s]||l[s];return m?[].concat(jg(c),[jV(d,m)]):c},[])},G9=function(e,r,s,a){var i=a||{x:e.chartX,y:e.chartY},o=s4e(i,s),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=gbe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=FE(e,r,u,h),f=a4e(s,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:f}}return null},i4e=function(e,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,m=e.stackOffset,f=xV(u,i);return s.reduce(function(x,v){var g,b=v.type.defaultProps!==void 0?Et(Et({},v.type.defaultProps),v.props):v.props,N=b.type,w=b.dataKey,A=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,E=b.ticks,R=b.includeHidden,C=b[o];if(x[C])return x;var T=A5(e.data,{graphicalItems:a.filter(function(U){var Y,V=o in U.props?U.props[o]:(Y=U.type.defaultProps)===null||Y===void 0?void 0:Y[o];return V===C}),dataStartIndex:c,dataEndIndex:d}),k=T.length,P,D,H;P_e(b.domain,A,N)&&(P=Jk(b.domain,null,A),f&&(N==="number"||S!=="auto")&&(H=py(T,w,"category")));var F=LX(N);if(!P||P.length===0){var z,O=(z=b.domain)!==null&&z!==void 0?z:F;if(w){if(P=py(T,w,N),N==="category"&&f){var W=hfe(P);j&&W?(D=P,P=$j(0,k)):j||(P=G7(O,P,v).reduce(function(U,Y){return U.indexOf(Y)>=0?U:[].concat(jg(U),[Y])},[]))}else if(N==="category")j?P=P.filter(function(U){return U!==""&&!qr(U)}):P=G7(O,P,v).reduce(function(U,Y){return U.indexOf(Y)>=0||Y===""||qr(Y)?U:[].concat(jg(U),[Y])},[]);else if(N==="number"){var ee=jbe(T,a.filter(function(U){var Y,V,Z=o in U.props?U.props[o]:(Y=U.type.defaultProps)===null||Y===void 0?void 0:Y[o],ce="hide"in U.props?U.props.hide:(V=U.type.defaultProps)===null||V===void 0?void 0:V.hide;return Z===C&&(R||!ce)}),w,i,u);ee&&(P=ee)}f&&(N==="number"||S!=="auto")&&(H=py(T,w,"category"))}else f?P=$j(0,k):l&&l[C]&&l[C].hasStack&&N==="number"?P=m==="expand"?[0,1]:wV(l[C].stackGroups,c,d):P=pV(T,a.filter(function(U){var Y=o in U.props?U.props[o]:U.type.defaultProps[o],V="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return Y===C&&(R||!V)}),N,u,!0);if(N==="number")P=LE(h,P,C,i,E),O&&(P=Jk(O,P,A));else if(N==="category"&&O){var K=O,re=P.every(function(U){return K.indexOf(U)>=0});re&&(P=K)}}return Et(Et({},x),{},Lr({},C,Et(Et({},b),{},{axisType:i,domain:P,categoricalDomain:H,duplicateDomain:D,originalDomain:(g=b.domain)!==null&&g!==void 0?g:F,isCategorical:f,layout:u})))},{})},o4e=function(e,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,m=A5(e.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),f=m.length,x=xV(u,i),v=-1;return s.reduce(function(g,b){var N=b.type.defaultProps!==void 0?Et(Et({},b.type.defaultProps),b.props):b.props,w=N[o],A=LX("number");if(!g[w]){v++;var j;return x?j=$j(0,f):l&&l[w]&&l[w].hasStack?(j=wV(l[w].stackGroups,c,d),j=LE(h,j,w,i)):(j=Jk(A,pV(m,s.filter(function(S){var E,R,C=o in S.props?S.props[o]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[o],T="hide"in S.props?S.props.hide:(R=S.type.defaultProps)===null||R===void 0?void 0:R.hide;return C===w&&!T}),"number",u),a.defaultProps.allowDataOverflow),j=LE(h,j,w,i)),Et(Et({},g),{},Lr({},w,Et(Et({axisType:i},a.defaultProps),{},{hide:!0,orientation:El(r4e,"".concat(i,".").concat(v%2),null),domain:j,originalDomain:A,isCategorical:x,layout:u})))}return g},{})},l4e=function(e,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,h="".concat(a,"Id"),m=Tl(u,i),f={};return m&&m.length?f=i4e(e,{axes:m,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=o4e(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},c4e=function(e){var r=kf(e),s=xh(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:dM(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ej(r,s)}},V9=function(e){var r=e.children,s=e.defaultShowTooltip,a=Nl(r,ug),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},d4e=function(e){return!e||!e.length?!1:e.some(function(r){var s=wh(r&&r.type);return s&&s.indexOf("Bar")>=0})},X9=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},u4e=function(e,r){var s=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,h=s.children,m=s.margin||{},f=Nl(h,ug),x=Nl(h,tu),v=Object.keys(c).reduce(function(j,S){var E=c[S],R=E.orientation;return!E.mirror&&!E.hide?Et(Et({},j),{},Lr({},R,j[R]+E.width)):j},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(j,S){var E=o[S],R=E.orientation;return!E.mirror&&!E.hide?Et(Et({},j),{},Lr({},R,El(j,"".concat(R))+E.height)):j},{top:m.top||0,bottom:m.bottom||0}),b=Et(Et({},g),v),N=b.bottom;f&&(b.bottom+=f.props.height||ug.defaultProps.height),x&&r&&(b=bbe(b,a,s,r));var w=d-b.left-b.right,A=u-b.top-b.bottom;return Et(Et({brushBottom:N},b),{},{width:Math.max(w,0),height:Math.max(A,0)})},h4e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},C5=function(e){var r=e.chartName,s=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,m=function(b,N){var w=N.graphicalItems,A=N.stackGroups,j=N.offset,S=N.updateId,E=N.dataStartIndex,R=N.dataEndIndex,C=b.barSize,T=b.layout,k=b.barGap,P=b.barCategoryGap,D=b.maxBarSize,H=X9(T),F=H.numericAxisName,z=H.cateAxisName,O=d4e(w),W=[];return w.forEach(function(ee,K){var re=A5(b.data,{graphicalItems:[ee],dataStartIndex:E,dataEndIndex:R}),U=ee.type.defaultProps!==void 0?Et(Et({},ee.type.defaultProps),ee.props):ee.props,Y=U.dataKey,V=U.maxBarSize,Z=U["".concat(F,"Id")],ce=U["".concat(z,"Id")],fe={},ye=c.reduce(function(le,ae){var _e=N["".concat(ae.axisType,"Map")],qe=U["".concat(ae.axisType,"Id")];_e&&_e[qe]||ae.axisType==="zAxis"||Gm();var Ke=_e[qe];return Et(Et({},le),{},Lr(Lr({},ae.axisType,Ke),"".concat(ae.axisType,"Ticks"),xh(Ke)))},fe),ge=ye[z],we=ye["".concat(z,"Ticks")],Re=A&&A[Z]&&A[Z].hasStack&&Mbe(ee,A[Z].stackGroups),oe=wh(ee.type).indexOf("Bar")>=0,ut=Ej(ge,we),se=[],J=O&&vbe({barSize:C,stackGroups:A,totalSize:h4e(ye,z)});if(oe){var ie,Ae,Fe=qr(V)?D:V,Ie=(ie=(Ae=Ej(ge,we,!0))!==null&&Ae!==void 0?Ae:Fe)!==null&&ie!==void 0?ie:0;se=ybe({barGap:k,barCategoryGap:P,bandSize:Ie!==ut?Ie:ut,sizeList:J[ce],maxBarSize:Fe}),Ie!==ut&&(se=se.map(function(le){return Et(Et({},le),{},{position:Et(Et({},le.position),{},{offset:le.position.offset-Ie/2})})}))}var $e=ee&&ee.type&&ee.type.getComposedData;$e&&W.push({props:Et(Et({},$e(Et(Et({},ye),{},{displayedData:re,props:b,dataKey:Y,item:ee,bandSize:ut,barPosition:se,offset:j,stackedData:Re,layout:T,dataStartIndex:E,dataEndIndex:R}))),{},Lr(Lr(Lr({key:ee.key||"item-".concat(K)},F,ye[F]),z,ye[z]),"animationId",S)),childIndex:Nfe(ee,b.children),item:ee})}),W},f=function(b,N){var w=b.props,A=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!oO({props:w}))return null;var E=w.children,R=w.layout,C=w.stackOffset,T=w.data,k=w.reverseStackOrder,P=X9(R),D=P.numericAxisName,H=P.cateAxisName,F=Tl(E,s),z=Ebe(T,F,"".concat(D,"Id"),"".concat(H,"Id"),C,k),O=c.reduce(function(U,Y){var V="".concat(Y.axisType,"Map");return Et(Et({},U),{},Lr({},V,l4e(w,Et(Et({},Y),{},{graphicalItems:F,stackGroups:Y.axisType===D&&z,dataStartIndex:A,dataEndIndex:j}))))},{}),W=u4e(Et(Et({},O),{},{props:w,graphicalItems:F}),N==null?void 0:N.legendBBox);Object.keys(O).forEach(function(U){O[U]=u(w,O[U],W,U.replace("Map",""),r)});var ee=O["".concat(H,"Map")],K=c4e(ee),re=m(w,Et(Et({},O),{},{dataStartIndex:A,dataEndIndex:j,updateId:S,graphicalItems:F,stackGroups:z,offset:W}));return Et(Et({formattedGraphicalItems:re,graphicalItems:F,offset:W,stackGroups:z},K),O)},x=(function(g){function b(N){var w,A,j;return q_e(this,b),j=X_e(this,b,[N]),Lr(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Lr(j,"accessibilityManager",new M_e),Lr(j,"handleLegendBBoxUpdate",function(S){if(S){var E=j.state,R=E.dataStartIndex,C=E.dataEndIndex,T=E.updateId;j.setState(Et({legendBBox:S},f({props:j.props,dataStartIndex:R,dataEndIndex:C,updateId:T},Et(Et({},j.state),{},{legendBBox:S}))))}}),Lr(j,"handleReceiveSyncEvent",function(S,E,R){if(j.props.syncId===S){if(R===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(E)}}),Lr(j,"handleBrushChange",function(S){var E=S.startIndex,R=S.endIndex;if(E!==j.state.dataStartIndex||R!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return Et({dataStartIndex:E,dataEndIndex:R},f({props:j.props,dataStartIndex:E,dataEndIndex:R,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:E,dataEndIndex:R})}}),Lr(j,"handleMouseEnter",function(S){var E=j.getMouseInfo(S);if(E){var R=Et(Et({},E),{},{isTooltipActive:!0});j.setState(R),j.triggerSyncEvent(R);var C=j.props.onMouseEnter;Or(C)&&C(R,S)}}),Lr(j,"triggeredAfterMouseMove",function(S){var E=j.getMouseInfo(S),R=E?Et(Et({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(R),j.triggerSyncEvent(R);var C=j.props.onMouseMove;Or(C)&&C(R,S)}),Lr(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Lr(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Lr(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Lr(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var R=j.props.onMouseLeave;Or(R)&&R(E,S)}),Lr(j,"handleOuterEvent",function(S){var E=jfe(S),R=El(j.props,"".concat(E));if(E&&Or(R)){var C,T;/.*touch.*/i.test(E)?T=j.getMouseInfo(S.changedTouches[0]):T=j.getMouseInfo(S),R((C=T)!==null&&C!==void 0?C:{},S)}}),Lr(j,"handleClick",function(S){var E=j.getMouseInfo(S);if(E){var R=Et(Et({},E),{},{isTooltipActive:!0});j.setState(R),j.triggerSyncEvent(R);var C=j.props.onClick;Or(C)&&C(R,S)}}),Lr(j,"handleMouseDown",function(S){var E=j.props.onMouseDown;if(Or(E)){var R=j.getMouseInfo(S);E(R,S)}}),Lr(j,"handleMouseUp",function(S){var E=j.props.onMouseUp;if(Or(E)){var R=j.getMouseInfo(S);E(R,S)}}),Lr(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Lr(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Lr(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Lr(j,"handleDoubleClick",function(S){var E=j.props.onDoubleClick;if(Or(E)){var R=j.getMouseInfo(S);E(R,S)}}),Lr(j,"handleContextMenu",function(S){var E=j.props.onContextMenu;if(Or(E)){var R=j.getMouseInfo(S);E(R,S)}}),Lr(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&gC.emit(vC,j.props.syncId,S,j.eventEmitterSymbol)}),Lr(j,"applySyncEvent",function(S){var E=j.props,R=E.layout,C=E.syncMethod,T=j.state.updateId,k=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(Et({dataStartIndex:k,dataEndIndex:P},f({props:j.props,dataStartIndex:k,dataEndIndex:P,updateId:T},j.state)));else if(S.activeTooltipIndex!==void 0){var D=S.chartX,H=S.chartY,F=S.activeTooltipIndex,z=j.state,O=z.offset,W=z.tooltipTicks;if(!O)return;if(typeof C=="function")F=C(W,S);else if(C==="value"){F=-1;for(var ee=0;ee<W.length;ee++)if(W[ee].value===S.activeLabel){F=ee;break}}var K=Et(Et({},O),{},{x:O.left,y:O.top}),re=Math.min(D,K.x+K.width),U=Math.min(H,K.y+K.height),Y=W[F]&&W[F].value,V=FE(j.state,j.props.data,F),Z=W[F]?{x:R==="horizontal"?W[F].coordinate:re,y:R==="horizontal"?U:W[F].coordinate}:RX;j.setState(Et(Et({},S),{},{activeLabel:Y,activeCoordinate:Z,activePayload:V,activeTooltipIndex:F}))}else j.setState(S)}),Lr(j,"renderCursor",function(S){var E,R=j.state,C=R.isTooltipActive,T=R.activeCoordinate,k=R.activePayload,P=R.offset,D=R.activeTooltipIndex,H=R.tooltipAxisBandSize,F=j.getTooltipEventType(),z=(E=S.props.active)!==null&&E!==void 0?E:C,O=j.props.layout,W=S.key||"_recharts-cursor";return Ue.createElement(F_e,{key:W,activeCoordinate:T,activePayload:k,activeTooltipIndex:D,chartName:r,element:S,isActive:z,layout:O,offset:P,tooltipAxisBandSize:H,tooltipEventType:F})}),Lr(j,"renderPolarAxis",function(S,E,R){var C=El(S,"type.axisType"),T=El(j.state,"".concat(C,"Map")),k=S.type.defaultProps,P=k!==void 0?Et(Et({},k),S.props):S.props,D=T&&T[P["".concat(C,"Id")]];return L.cloneElement(S,Et(Et({},D),{},{className:en(C,D.className),key:S.key||"".concat(E,"-").concat(R),ticks:xh(D,!0)}))}),Lr(j,"renderPolarGrid",function(S){var E=S.props,R=E.radialLines,C=E.polarAngles,T=E.polarRadius,k=j.state,P=k.radiusAxisMap,D=k.angleAxisMap,H=kf(P),F=kf(D),z=F.cx,O=F.cy,W=F.innerRadius,ee=F.outerRadius;return L.cloneElement(S,{polarAngles:Array.isArray(C)?C:xh(F,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(T)?T:xh(H,!0).map(function(K){return K.coordinate}),cx:z,cy:O,innerRadius:W,outerRadius:ee,key:S.key||"polar-grid",radialLines:R})}),Lr(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,E=j.props,R=E.children,C=E.width,T=E.height,k=j.props.margin||{},P=C-(k.left||0)-(k.right||0),D=fV({children:R,formattedGraphicalItems:S,legendWidth:P,legendContent:d});if(!D)return null;var H=D.item,F=W9(D,B_e);return L.cloneElement(H,Et(Et({},F),{},{chartWidth:C,chartHeight:T,margin:k,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Lr(j,"renderTooltip",function(){var S,E=j.props,R=E.children,C=E.accessibilityLayer,T=Nl(R,Ra);if(!T)return null;var k=j.state,P=k.isTooltipActive,D=k.activeCoordinate,H=k.activePayload,F=k.activeLabel,z=k.offset,O=(S=T.props.active)!==null&&S!==void 0?S:P;return L.cloneElement(T,{viewBox:Et(Et({},z),{},{x:z.left,y:z.top}),active:O,label:F,payload:O?H:[],coordinate:D,accessibilityLayer:C})}),Lr(j,"renderBrush",function(S){var E=j.props,R=E.margin,C=E.data,T=j.state,k=T.offset,P=T.dataStartIndex,D=T.dataEndIndex,H=T.updateId;return L.cloneElement(S,{key:S.key||"_recharts-brush",onChange:$2(j.handleBrushChange,S.props.onChange),data:C,x:Gt(S.props.x)?S.props.x:k.left,y:Gt(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(R.bottom||0),width:Gt(S.props.width)?S.props.width:k.width,startIndex:P,endIndex:D,updateId:"brush-".concat(H)})}),Lr(j,"renderReferenceElement",function(S,E,R){if(!S)return null;var C=j,T=C.clipPathId,k=j.state,P=k.xAxisMap,D=k.yAxisMap,H=k.offset,F=S.type.defaultProps||{},z=S.props,O=z.xAxisId,W=O===void 0?F.xAxisId:O,ee=z.yAxisId,K=ee===void 0?F.yAxisId:ee;return L.cloneElement(S,{key:S.key||"".concat(E,"-").concat(R),xAxis:P[W],yAxis:D[K],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:T})}),Lr(j,"renderActivePoints",function(S){var E=S.item,R=S.activePoint,C=S.basePoint,T=S.childIndex,k=S.isRange,P=[],D=E.props.key,H=E.item.type.defaultProps!==void 0?Et(Et({},E.item.type.defaultProps),E.item.props):E.item.props,F=H.activeDot,z=H.dataKey,O=Et(Et({index:T,dataKey:z,cx:R.x,cy:R.y,r:4,fill:OM(E.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Sr(F,!1)),sj(F));return P.push(b.renderActiveDot(F,O,"".concat(D,"-activePoint-").concat(T))),C?P.push(b.renderActiveDot(F,Et(Et({},O),{},{cx:C.x,cy:C.y}),"".concat(D,"-basePoint-").concat(T))):k&&P.push(null),P}),Lr(j,"renderGraphicChild",function(S,E,R){var C=j.filterFormatItem(S,E,R);if(!C)return null;var T=j.getTooltipEventType(),k=j.state,P=k.isTooltipActive,D=k.tooltipAxis,H=k.activeTooltipIndex,F=k.activeLabel,z=j.props.children,O=Nl(z,Ra),W=C.props,ee=W.points,K=W.isRange,re=W.baseLine,U=C.item.type.defaultProps!==void 0?Et(Et({},C.item.type.defaultProps),C.item.props):C.item.props,Y=U.activeDot,V=U.hide,Z=U.activeBar,ce=U.activeShape,fe=!!(!V&&P&&O&&(Y||Z||ce)),ye={};T!=="axis"&&O&&O.props.trigger==="click"?ye={onClick:$2(j.handleItemMouseEnter,S.props.onClick)}:T!=="axis"&&(ye={onMouseLeave:$2(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:$2(j.handleItemMouseEnter,S.props.onMouseEnter)});var ge=L.cloneElement(S,Et(Et({},C.props),ye));function we(ae){return typeof D.dataKey=="function"?D.dataKey(ae.payload):null}if(fe)if(H>=0){var Re,oe;if(D.dataKey&&!D.allowDuplicatedCategory){var ut=typeof D.dataKey=="function"?we:"payload.".concat(D.dataKey.toString());Re=nj(ee,ut,F),oe=K&&re&&nj(re,ut,F)}else Re=ee==null?void 0:ee[H],oe=K&&re&&re[H];if(ce||Z){var se=S.props.activeIndex!==void 0?S.props.activeIndex:H;return[L.cloneElement(S,Et(Et(Et({},C.props),ye),{},{activeIndex:se})),null,null]}if(!qr(Re))return[ge].concat(jg(j.renderActivePoints({item:C,activePoint:Re,basePoint:oe,childIndex:H,isRange:K})))}else{var J,ie=(J=j.getItemByXY(j.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:ge},Ae=ie.graphicalItem,Fe=Ae.item,Ie=Fe===void 0?S:Fe,$e=Ae.childIndex,le=Et(Et(Et({},C.props),ye),{},{activeIndex:$e});return[L.cloneElement(Ie,le),null,null]}return K?[ge,null,null]:[ge,null]}),Lr(j,"renderCustomized",function(S,E,R){return L.cloneElement(S,Et(Et({key:"recharts-customized-".concat(R)},j.props),j.state))}),Lr(j,"renderMap",{CartesianGrid:{handler:V2,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:V2},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:V2},YAxis:{handler:V2},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=N.id)!==null&&w!==void 0?w:ip("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=hG(j.triggeredAfterMouseMove,(A=N.throttleDelay)!==null&&A!==void 0?A:1e3/60),j.state={},j}return J_e(b,g),V_e(b,[{key:"componentDidMount",value:function(){var w,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,A=w.children,j=w.data,S=w.height,E=w.layout,R=Nl(A,Ra);if(R){var C=R.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,k=FE(this.state,j,C,T),P=this.state.tooltipTicks[C].coordinate,D=(this.state.offset.top+S)/2,H=E==="horizontal",F=H?{x:P,y:D}:{y:P,x:D},z=this.state.formattedGraphicalItems.find(function(W){var ee=W.item;return ee.type.name==="Scatter"});z&&(F=Et(Et({},F),z.props.points[C].tooltipPosition),k=z.props.points[C].tooltipPayload);var O={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:T,activePayload:k,activeCoordinate:F};this.setState(O),this.renderCursor(R),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){yk([Nl(w.children,Ra)],[Nl(this.props.children,Ra)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Nl(this.props.children,Ra);if(w&&typeof w.props.shared=="boolean"){var A=w.props.shared?"axis":"item";return l.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var A=this.container,j=A.getBoundingClientRect(),S=cxe(j),E={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},R=j.width/A.offsetWidth||1,C=this.inRange(E.chartX,E.chartY,R);if(!C)return null;var T=this.state,k=T.xAxisMap,P=T.yAxisMap,D=this.getTooltipEventType();if(D!=="axis"&&k&&P){var H=kf(k).scale,F=kf(P).scale,z=H&&H.invert?H.invert(E.chartX):null,O=F&&F.invert?F.invert(E.chartY):null;return Et(Et({},E),{},{xValue:z,yValue:O})}var W=G9(this.state,this.props.data,this.props.layout,C);return W?Et(Et({},E),W):null}},{key:"inRange",value:function(w,A){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=w/j,R=A/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,T=E>=C.left&&E<=C.left+C.width&&R>=C.top&&R<=C.top+C.height;return T?{x:E,y:R}:null}var k=this.state,P=k.angleAxisMap,D=k.radiusAxisMap;if(P&&D){var H=kf(P);return Y7({x:E,y:R},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,A=this.getTooltipEventType(),j=Nl(w,Ra),S={};j&&A==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=sj(this.props,this.handleOuterEvent);return Et(Et({},E),S)}},{key:"addListener",value:function(){gC.on(vC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gC.removeListener(vC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,A,j){for(var S=this.state.formattedGraphicalItems,E=0,R=S.length;E<R;E++){var C=S[E];if(C.item===w||C.props.key===w.key||A===wh(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,A=this.state.offset,j=A.left,S=A.top,E=A.height,R=A.width;return Ue.createElement("defs",null,Ue.createElement("clipPath",{id:w},Ue.createElement("rect",{x:j,y:S,height:E,width:R})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(A,j){var S=H9(j,2),E=S[0],R=S[1];return Et(Et({},A),{},Lr({},E,R.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(A,j){var S=H9(j,2),E=S[0],R=S[1];return Et(Et({},A),{},Lr({},E,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(w){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(w){var A=this.state,j=A.formattedGraphicalItems,S=A.activeItem;if(j&&j.length)for(var E=0,R=j.length;E<R;E++){var C=j[E],T=C.props,k=C.item,P=k.type.defaultProps!==void 0?Et(Et({},k.type.defaultProps),k.props):k.props,D=wh(k.type);if(D==="Bar"){var H=(T.data||[]).find(function(W){return Twe(w,W)});if(H)return{graphicalItem:C,payload:H}}else if(D==="RadialBar"){var F=(T.data||[]).find(function(W){return Y7(w,W)});if(F)return{graphicalItem:C,payload:F}}else if(y5(C,S)||b5(C,S)||bb(C,S)){var z=Zje({graphicalItem:C,activeTooltipItem:S,itemData:P.data}),O=P.activeIndex===void 0?z:P.activeIndex;return{graphicalItem:Et(Et({},C),{},{childIndex:O}),payload:bb(C,S)?P.data[z]:C.props.data[z]}}}return null}},{key:"render",value:function(){var w=this;if(!oO(this))return null;var A=this.props,j=A.children,S=A.className,E=A.width,R=A.height,C=A.style,T=A.compact,k=A.title,P=A.desc,D=W9(A,U_e),H=Sr(D,!1);if(T)return Ue.createElement(j9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ue.createElement(wk,jx({},H,{width:E,height:R,title:k,desc:P}),this.renderClipPath(),cO(j,this.renderMap)));if(this.props.accessibilityLayer){var F,z;H.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,H.role=(z=this.props.role)!==null&&z!==void 0?z:"application",H.onKeyDown=function(W){w.accessibilityManager.keyboardEvent(W)},H.onFocus=function(){w.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return Ue.createElement(j9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ue.createElement("div",jx({className:en("recharts-wrapper",S),style:Et({position:"relative",cursor:"default",width:E,height:R},C)},O,{ref:function(ee){w.container=ee}}),Ue.createElement(wk,jx({},H,{width:E,height:R,title:k,desc:P,style:n4e}),this.renderClipPath(),cO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(L.Component);Lr(x,"displayName",r),Lr(x,"defaultProps",Et({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Lr(x,"getDerivedStateFromProps",function(g,b){var N=g.dataKey,w=g.data,A=g.children,j=g.width,S=g.height,E=g.layout,R=g.stackOffset,C=g.margin,T=b.dataStartIndex,k=b.dataEndIndex;if(b.updateId===void 0){var P=V9(g);return Et(Et(Et({},P),{},{updateId:0},f(Et(Et({props:g},P),{},{updateId:0}),b)),{},{prevDataKey:N,prevData:w,prevWidth:j,prevHeight:S,prevLayout:E,prevStackOffset:R,prevMargin:C,prevChildren:A})}if(N!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||E!==b.prevLayout||R!==b.prevStackOffset||!kx(C,b.prevMargin)){var D=V9(g),H={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=Et(Et({},G9(b,w,E)),{},{updateId:b.updateId+1}),z=Et(Et(Et({},D),H),F);return Et(Et(Et({},z),f(Et({props:g},z),b)),{},{prevDataKey:N,prevData:w,prevWidth:j,prevHeight:S,prevLayout:E,prevStackOffset:R,prevMargin:C,prevChildren:A})}if(!yk(A,b.prevChildren)){var O,W,ee,K,re=Nl(A,ug),U=re&&(O=(W=re.props)===null||W===void 0?void 0:W.startIndex)!==null&&O!==void 0?O:T,Y=re&&(ee=(K=re.props)===null||K===void 0?void 0:K.endIndex)!==null&&ee!==void 0?ee:k,V=U!==T||Y!==k,Z=!qr(w),ce=Z&&!V?b.updateId:b.updateId+1;return Et(Et({updateId:ce},f(Et(Et({props:g},b),{},{updateId:ce,dataStartIndex:U,dataEndIndex:Y}),b)),{},{prevChildren:A,dataStartIndex:U,dataEndIndex:Y})}return null}),Lr(x,"renderActiveDot",function(g,b,N){var w;return L.isValidElement(g)?w=L.cloneElement(g,b):Or(g)?w=g(b):w=Ue.createElement(m1,b),Ue.createElement(mn,{className:"recharts-active-dot",key:N},w)});var v=L.forwardRef(function(b,N){return Ue.createElement(x,jx({},b,{ref:N}))});return v.displayName=x.displayName,v},OX=C5({chartName:"LineChart",GraphicalChild:Xm,axisComponents:[{axisType:"xAxis",AxisComp:Ml},{axisType:"yAxis",AxisComp:Pl}],formatAxisMap:FM}),Cb=C5({chartName:"BarChart",GraphicalChild:nl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ml},{axisType:"yAxis",AxisComp:Pl}],formatAxisMap:FM}),XM=C5({chartName:"PieChart",GraphicalChild:vd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:v5},{axisType:"radiusAxis",AxisComp:x5}],formatAxisMap:zbe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),f4e=C5({chartName:"AreaChart",GraphicalChild:au,axisComponents:[{axisType:"xAxis",AxisComp:Ml},{axisType:"yAxis",AxisComp:Pl}],formatAxisMap:FM});const IX=1245,FX=85,m4e=Math.round(IX*(FX/100)),BX=82,UX=92,p4e=Math.round(BX*(UX/100)),x4e=[{label:"Students Present",value:m4e,total:IX,percentage:FX,icon:sr,color:"blue",trend:"+5% from yesterday"},{label:"Teachers Present",value:p4e,total:BX,percentage:UX,icon:xc,color:"green",trend:"+2% from yesterday"},{label:"Staff Present",value:8,total:10,percentage:80,icon:pn,color:"purple",trend:"Same as yesterday"},{label:"Buses Available",value:6,total:8,percentage:75,icon:xW,color:"orange",trend:"2 under maintenance"}],g4e=[{label:"Total Teachers",value:82,icon:na,change:"+2",color:"blue"},{label:"Total Students",value:1245,icon:sr,change:"+15",color:"green"},{label:"Active Courses",value:18,icon:kr,change:"+3",color:"purple"},{label:"Total Parents",value:1100,icon:Hse,change:"+8",color:"orange"}],v4e=[{title:"Add Student",action:"student",icon:Dn,color:"blue"},{title:"Create Course",action:"course",icon:kr,color:"green"},{title:"Send Notification",action:"notification",icon:Bs,color:"purple"},{title:"Generate Report",action:"report",icon:Hre,color:"orange"}],Y9=[{month:"Jan",collected:12e4,due:3e4},{month:"Feb",collected:11e4,due:25e3},{month:"Mar",collected:13e4,due:2e4},{month:"Apr",collected:125e3,due:28e3},{month:"May",collected:14e4,due:22e3},{month:"Jun",collected:135e3,due:25e3}],y4e=[{date:"2025-07-05",title:"Annual Sports Day",desc:"All students and staff participate in sports events.",type:"sports"},{date:"2025-07-12",title:"Parent-Teacher Meeting",desc:"Meetings for all classes.",type:"meeting"},{date:"2025-07-20",title:"Science Exhibition",desc:"Student science projects on display.",type:"academic"}],b4e=[{time:"10 mins ago",activity:"New student enrollment completed",type:"info"},{time:"1 hour ago",activity:"Fee payment received from Class 10-A",type:"success"},{time:"2 hours ago",activity:"Teacher leave request pending approval",type:"warning"}],K9=({setShowAdminHeader:t})=>{const[e,r]=L.useState(null),s=i=>{r(i),setTimeout(()=>r(null),2e3)};L.useEffect(()=>{t(!0)},[]);const a=i=>{const o={blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-600",icon:"text-blue-500",hover:"hover:bg-blue-100",progress:"bg-blue-500"},green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-600",icon:"text-green-500",hover:"hover:bg-green-100",progress:"bg-green-500"},purple:{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-600",icon:"text-purple-500",hover:"hover:bg-purple-100",progress:"bg-purple-500"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-600",icon:"text-orange-500",hover:"hover:bg-orange-100",progress:"bg-orange-500"}};return o[i]||o.blue};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening today."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x4e.map(i=>{const o=i.icon,l=a(i.color);return n.jsxs("div",{className:`bg-white rounded-xl p-6 shadow-sm border ${l.border} hover:shadow-md transition-shadow duration-200`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${l.bg}`,children:n.jsx(o,{className:`w-6 h-6 ${l.icon}`})}),n.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${l.bg} ${l.text}`,children:[i.percentage,"%"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:i.label}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i.value}),n.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",i.total]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:`${l.progress} h-2 rounded-full transition-all duration-300`,style:{width:`${i.percentage}%`}})}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:i.trend})]})]},i.label)})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g4e.map(i=>{const o=i.icon,l=a(i.color);return n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:i.label}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:i.value}),n.jsxs("p",{className:`text-xs ${l.text} font-medium mt-2 flex items-center gap-1`,children:[n.jsx(Yr,{className:"w-3 h-3"}),i.change," this month"]})]}),n.jsx("div",{className:`p-3 rounded-lg ${l.bg}`,children:n.jsx(o,{className:`w-6 h-6 ${l.icon}`})})]})},i.label)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(ire,{className:"w-5 h-5 text-gray-700"}),"Fees Collection"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Last 6 months overview"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total Collected"}),n.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",(Y9.reduce((i,o)=>i+o.collected,0)/1e5).toFixed(1),"L"]})]})]}),n.jsx(ad,{width:"100%",height:280,children:n.jsxs(Cb,{data:Y9,children:[n.jsx(Nh,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(Ml,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),n.jsx(Pl,{stroke:"#9ca3af",style:{fontSize:"12px"},tickFormatter:i=>`${i/1e3}k`}),n.jsx(Ra,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:i=>[`${i.toLocaleString()}`,""]}),n.jsx(tu,{wrapperStyle:{fontSize:"12px"}}),n.jsx(nl,{dataKey:"collected",fill:"#3b82f6",radius:[8,8,0,0],name:"Collected"}),n.jsx(nl,{dataKey:"due",fill:"#f59e0b",radius:[8,8,0,0],name:"Due"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsx("div",{className:"space-y-3",children:v4e.map(i=>{const o=i.icon,l=a(i.color);return n.jsxs("button",{onClick:()=>s(i.action),className:`w-full flex items-center gap-3 p-4 rounded-lg border transition-all duration-200 ${e===i.action?`${l.bg} ${l.border} scale-95`:`border-gray-200 hover:border-${i.color}-300 ${l.hover}`}`,children:[n.jsx("div",{className:`p-2 rounded-lg ${l.bg}`,children:n.jsx(o,{className:`w-4 h-4 ${l.icon}`})}),n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:i.title})]},i.action)})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Kt,{className:"w-5 h-5 text-gray-700"}),"Upcoming Events"]}),n.jsx("div",{className:"space-y-4",children:y4e.map((i,o)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-lg bg-gray-50 border border-gray-100 hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[60px] p-3 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("span",{className:"text-lg font-bold text-blue-600",children:new Date(i.date).getDate()}),n.jsx("span",{className:"text-xs text-blue-600 font-medium",children:new Date(i.date).toLocaleString("default",{month:"short"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.title}),n.jsx("p",{className:"text-sm text-gray-600",children:i.desc})]})]},o))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(nr,{className:"w-5 h-5 text-gray-700"}),"Recent Activity"]}),n.jsx("div",{className:"space-y-4",children:b4e.map((i,o)=>n.jsxs("div",{className:"flex gap-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[n.jsx("div",{className:`mt-1 p-1.5 rounded-full ${i.type==="success"?"bg-green-100":i.type==="warning"?"bg-orange-100":"bg-blue-100"}`,children:n.jsx("div",{className:`w-2 h-2 rounded-full ${i.type==="success"?"bg-green-500":i.type==="warning"?"bg-orange-500":"bg-blue-500"}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900 mb-1",children:i.activity}),n.jsx("p",{className:"text-xs text-gray-500",children:i.time})]})]},o))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(xW,{className:"w-5 h-5 text-gray-700"}),"Bus Schedule"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Bus"}),n.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Route"}),n.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Departure"}),n.jsx("th",{className:"text-left py-3 px-2 font-semibold text-gray-700",children:"Arrival"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("td",{className:"py-3 px-2 font-medium text-gray-900",children:"Bus 1"}),n.jsx("td",{className:"py-3 px-2 text-gray-600",children:"Sector 5 - School"}),n.jsx("td",{className:"py-3 px-2 text-gray-600",children:"7:15 AM"}),n.jsx("td",{className:"py-3 px-2 text-gray-600",children:"1:45 PM"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-3 px-2 font-medium text-gray-900",children:"Bus 2"}),n.jsx("td",{className:"py-3 px-2 text-gray-600",children:"Salt Lake - School"}),n.jsx("td",{className:"py-3 px-2 text-gray-600",children:"7:30 AM"}),n.jsx("td",{className:"py-3 px-2 text-gray-600",children:"2:00 PM"})]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(zf,{className:"w-5 h-5 text-gray-700"}),"Classroom Status"]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{room:"Room 101",status:"Occupied"},{room:"Room 102",status:"Empty"},{room:"Room 103",status:"Occupied"},{room:"Room 104",status:"Empty"}].map((i,o)=>n.jsxs("div",{className:`p-4 rounded-lg border-2 ${i.status==="Occupied"?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.room}),n.jsx("p",{className:`text-sm font-medium ${i.status==="Occupied"?"text-green-600":"text-gray-500"}`,children:i.status})]},o))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Zr,{className:"w-5 h-5 text-red-500"}),"Emergency Contacts"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-red-50 border border-red-200",children:[n.jsx("div",{className:"text-3xl",children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Police"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Phone: 100"})]})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-orange-50 border border-orange-200",children:[n.jsx("div",{className:"text-3xl",children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Fire"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Phone: 101"})]})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-blue-50 border border-blue-200",children:[n.jsx("div",{className:"text-3xl",children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Hospital"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Phone: 102"})]})]})]})]}),e&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Yr,{className:"w-5 h-5 text-green-600"})}),n.jsxs("p",{className:"text-sm font-medium text-green-900",children:["Processing ",e," action..."]})]})]})})};function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}var fd=Uint8Array,kl=Uint16Array,YM=Int32Array,KM=new fd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),JM=new fd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),J9=new fd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zX=function(t,e){for(var r=new kl(31),s=0;s<31;++s)r[s]=e+=1<<t[s-1];for(var a=new YM(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},$X=zX(KM,2),w4e=$X.b,BE=$X.r;w4e[28]=258,BE[258]=28;var j4e=zX(JM,0),Q9=j4e.r,UE=new kl(32768);for(var Fs=0;Fs<32768;++Fs){var vf=(Fs&43690)>>1|(Fs&21845)<<1;vf=(vf&52428)>>2|(vf&13107)<<2,vf=(vf&61680)>>4|(vf&3855)<<4,UE[Fs]=((vf&65280)>>8|(vf&255)<<8)>>1}var by=(function(t,e,r){for(var s=t.length,a=0,i=new kl(e);a<s;++a)t[a]&&++i[t[a]-1];var o=new kl(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new kl(1<<e);var c=15-e;for(a=0;a<s;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=o[t[a]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[UE[h]>>c]=d}else for(l=new kl(s),a=0;a<s;++a)t[a]&&(l[a]=UE[o[t[a]-1]++]>>15-t[a]);return l}),Ym=new fd(288);for(var Fs=0;Fs<144;++Fs)Ym[Fs]=8;for(var Fs=144;Fs<256;++Fs)Ym[Fs]=9;for(var Fs=256;Fs<280;++Fs)Ym[Fs]=7;for(var Fs=280;Fs<288;++Fs)Ym[Fs]=8;var nN=new fd(32);for(var Fs=0;Fs<32;++Fs)nN[Fs]=5;var N4e=by(Ym,9,0),S4e=by(nN,5,0),HX=function(t){return(t+7)/8|0},_4e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new fd(t.subarray(e,r))},rh=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8},Hv=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8,t[s+2]|=r>>16},bC=function(t,e){for(var r=[],s=0;s<t.length;++s)t[s]&&r.push({s,f:t[s]});var a=r.length,i=r.slice();if(!a)return{t:qX,l:0};if(a==1){var o=new fd(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(j,S){return j.f-S.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,s=1;s<a;++s)i[s].s>m&&(m=i[s].s);var f=new kl(m+1),x=zE(r[u-1],f,0);if(x>e){var s=0,v=0,g=x-e,b=1<<g;for(i.sort(function(S,E){return f[E.s]-f[S.s]||S.f-E.f});s<a;++s){var N=i[s].s;if(f[N]>e)v+=b-(1<<x-f[N]),f[N]=e;else break}for(v>>=g;v>0;){var w=i[s].s;f[w]<e?v-=1<<e-f[w]++-1:++s}for(;s>=0&&v;--s){var A=i[s].s;f[A]==e&&(--f[A],++v)}x=e}return{t:new fd(f),l:x}},zE=function(t,e,r){return t.s==-1?Math.max(zE(t.l,e,r+1),zE(t.r,e,r+1)):e[t.s]=r},Z9=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new kl(++e),s=0,a=t[0],i=1,o=function(c){r[s++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,s),n:e}},Wv=function(t,e){for(var r=0,s=0;s<e.length;++s)r+=t[s]*e[s];return r},WX=function(t,e,r){var s=r.length,a=HX(e+2);t[a]=s&255,t[a+1]=s>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<s;++i)t[a+i+4]=r[i];return(a+4+s)*8},eU=function(t,e,r,s,a,i,o,l,c,d,u){rh(e,u++,r),++a[256];for(var h=bC(a,15),m=h.t,f=h.l,x=bC(i,15),v=x.t,g=x.l,b=Z9(m),N=b.c,w=b.n,A=Z9(v),j=A.c,S=A.n,E=new kl(19),R=0;R<N.length;++R)++E[N[R]&31];for(var R=0;R<j.length;++R)++E[j[R]&31];for(var C=bC(E,7),T=C.t,k=C.l,P=19;P>4&&!T[J9[P-1]];--P);var D=d+5<<3,H=Wv(a,Ym)+Wv(i,nN)+o,F=Wv(a,m)+Wv(i,v)+o+14+3*P+Wv(E,T)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&D<=H&&D<=F)return WX(e,u,t.subarray(c,c+d));var z,O,W,ee;if(rh(e,u,1+(F<H)),u+=2,F<H){z=by(m,f,0),O=m,W=by(v,g,0),ee=v;var K=by(T,k,0);rh(e,u,w-257),rh(e,u+5,S-1),rh(e,u+10,P-4),u+=14;for(var R=0;R<P;++R)rh(e,u+3*R,T[J9[R]]);u+=3*P;for(var re=[N,j],U=0;U<2;++U)for(var Y=re[U],R=0;R<Y.length;++R){var V=Y[R]&31;rh(e,u,K[V]),u+=T[V],V>15&&(rh(e,u,Y[R]>>5&127),u+=Y[R]>>12)}}else z=N4e,O=Ym,W=S4e,ee=nN;for(var R=0;R<l;++R){var Z=s[R];if(Z>255){var V=Z>>18&31;Hv(e,u,z[V+257]),u+=O[V+257],V>7&&(rh(e,u,Z>>23&31),u+=KM[V]);var ce=Z&31;Hv(e,u,W[ce]),u+=ee[ce],ce>3&&(Hv(e,u,Z>>5&8191),u+=JM[ce])}else Hv(e,u,z[Z]),u+=O[Z]}return Hv(e,u,z[256]),u+O[256]},A4e=new YM([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qX=new fd(0),C4e=function(t,e,r,s,a,i){var o=i.z||t.length,l=new fd(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var h=A4e[e-1],m=h>>13,f=h&8191,x=(1<<r)-1,v=i.p||new kl(32768),g=i.h||new kl(x+1),b=Math.ceil(r/3),N=2*b,w=function(se){return(t[se]^t[se+1]<<b^t[se+2]<<N)&x},A=new YM(25e3),j=new kl(288),S=new kl(32),E=0,R=0,C=i.i||0,T=0,k=i.w||0,P=0;C+2<o;++C){var D=w(C),H=C&32767,F=g[D];if(v[H]=F,g[D]=H,k<=C){var z=o-C;if((E>7e3||T>24576)&&(z>423||!d)){u=eU(t,c,0,A,j,S,R,T,P,C-P,u),T=E=R=0,P=C;for(var O=0;O<286;++O)j[O]=0;for(var O=0;O<30;++O)S[O]=0}var W=2,ee=0,K=f,re=H-F&32767;if(z>2&&D==w(C-re))for(var U=Math.min(m,z)-1,Y=Math.min(32767,C),V=Math.min(258,z);re<=Y&&--K&&H!=F;){if(t[C+W]==t[C+W-re]){for(var Z=0;Z<V&&t[C+Z]==t[C+Z-re];++Z);if(Z>W){if(W=Z,ee=re,Z>U)break;for(var ce=Math.min(re,Z-2),fe=0,O=0;O<ce;++O){var ye=C-re+O&32767,ge=v[ye],we=ye-ge&32767;we>fe&&(fe=we,F=ye)}}}H=F,F=v[H],re+=H-F&32767}if(ee){A[T++]=268435456|BE[W]<<18|Q9[ee];var Re=BE[W]&31,oe=Q9[ee]&31;R+=KM[Re]+JM[oe],++j[257+Re],++S[oe],k=C+W,++E}else A[T++]=t[C],++j[t[C]]}}for(C=Math.max(C,k);C<o;++C)A[T++]=t[C],++j[t[C]];u=eU(t,c,d,A,j,S,R,T,P,C-P,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=g,i.p=v,i.i=C,i.w=k)}else{for(var C=i.w||0;C<o+d;C+=65535){var ut=C+65535;ut>=o&&(c[u/8|0]=d,ut=o),u=WX(c,u+1,t.subarray(C,ut))}i.i=o}return _4e(l,0,s+HX(u)+a)},GX=function(){var t=1,e=0;return{p:function(r){for(var s=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}t=s,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},k4e=function(t,e,r,s,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new fd(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return C4e(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,s,a)},VX=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},E4e=function(t,e){var r=e.level,s=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=s<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=GX();a.p(e.dictionary),VX(t,2,a.d())}};function $E(t,e){e||(e={});var r=GX();r.p(t);var s=k4e(t,e,e.dictionary?6:2,4);return E4e(s,e),VX(s,s.length-4,r.d()),s}var T4e=typeof TextDecoder<"u"&&new TextDecoder,M4e=0;try{T4e.decode(qX,{stream:!0}),M4e=1}catch{}function P4e(t){if(Array.isArray(t))return t}function D4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function tU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=Array(e);r<e;r++)s[r]=t[r];return s}function R4e(t,e){if(t){if(typeof t=="string")return tU(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tU(t,e):void 0}}function L4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rU(t,e){return P4e(t)||D4e(t,e)||R4e(t,e)||L4e()}function nU(t,e="utf8"){return new TextDecoder(e).decode(t)}const O4e=new TextEncoder;function I4e(t){return O4e.encode(t)}const F4e=1024*8,B4e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),wC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class QM{constructor(e=F4e,r={}){Zt(this,"buffer");Zt(this,"byteLength");Zt(this,"byteOffset");Zt(this,"length");Zt(this,"offset");Zt(this,"lastWrittenByte");Zt(this,"littleEndian");Zt(this,"_data");Zt(this,"_mark");Zt(this,"_marks");let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof QM)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const s=wC[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+s);if(this.littleEndian===B4e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+s));l.reverse();const c=new wC[r](l.buffer);return this.offset+=s,c.reverse(),c}const o=new wC[r](i);return this.offset+=s,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let s=0;s<e;s++)r+=this.readChar();return r}readUtf8(e=1){return nU(this.readBytes(e))}decodeText(e=1,r="utf8"){return nU(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(I4e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Wg(t){let e=t.length;for(;--e>=0;)t[e]=0}const U4e=3,z4e=258,XX=29,$4e=256,H4e=$4e+1+XX,YX=30,W4e=512,q4e=new Array((H4e+2)*2);Wg(q4e);const G4e=new Array(YX*2);Wg(G4e);const V4e=new Array(W4e);Wg(V4e);const X4e=new Array(z4e-U4e+1);Wg(X4e);const Y4e=new Array(XX);Wg(Y4e);const K4e=new Array(YX);Wg(K4e);const J4e=(t,e,r,s)=>{let a=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[s++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var HE=J4e;const Q4e=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Z4e=new Uint32Array(Q4e()),e3e=(t,e,r,s)=>{const a=Z4e,i=s+r;t^=-1;for(let o=s;o<i;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var Od=e3e,WE={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},KX={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const t3e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r3e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)t3e(r,s)&&(t[s]=r[s])}}return t},n3e=t=>{let e=0;for(let s=0,a=t.length;s<a;s++)e+=t[s].length;const r=new Uint8Array(e);for(let s=0,a=0,i=t.length;s<i;s++){let o=t[s];r.set(o,a),a+=o.length}return r},JX={assign:r3e,flattenChunks:n3e};let QX=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{QX=!1}const kb=new Uint8Array(256);for(let t=0;t<256;t++)kb[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;kb[254]=kb[254]=1;var s3e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,s,a,i,o=t.length,l=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=t.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,a=0;i<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=t.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const a3e=(t,e)=>{if(e<65534&&t.subarray&&QX)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let s=0;s<e;s++)r+=String.fromCharCode(t[s]);return r};var i3e=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let s,a;const i=new Array(r*2);for(a=0,s=0;s<r;){let o=t[s++];if(o<128){i[a++]=o;continue}let l=kb[o];if(l>4){i[a++]=65533,s+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&s<r;)o=o<<6|t[s++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return a3e(i,a)},o3e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+kb[t[r]]>e?r:e},qE={string2buf:s3e,buf2string:i3e,utf8border:o3e};function l3e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var c3e=l3e;const X2=16209,d3e=16191;var u3e=function(e,r){let s,a,i,o,l,c,d,u,h,m,f,x,v,g,b,N,w,A,j,S,E,R,C,T;const k=e.state;s=e.next_in,C=e.input,a=s+(e.avail_in-5),i=e.next_out,T=e.output,o=i-(r-e.avail_out),l=i+(e.avail_out-257),c=k.dmax,d=k.wsize,u=k.whave,h=k.wnext,m=k.window,f=k.hold,x=k.bits,v=k.lencode,g=k.distcode,b=(1<<k.lenbits)-1,N=(1<<k.distbits)-1;e:do{x<15&&(f+=C[s++]<<x,x+=8,f+=C[s++]<<x,x+=8),w=v[f&b];t:for(;;){if(A=w>>>24,f>>>=A,x-=A,A=w>>>16&255,A===0)T[i++]=w&65535;else if(A&16){j=w&65535,A&=15,A&&(x<A&&(f+=C[s++]<<x,x+=8),j+=f&(1<<A)-1,f>>>=A,x-=A),x<15&&(f+=C[s++]<<x,x+=8,f+=C[s++]<<x,x+=8),w=g[f&N];r:for(;;){if(A=w>>>24,f>>>=A,x-=A,A=w>>>16&255,A&16){if(S=w&65535,A&=15,x<A&&(f+=C[s++]<<x,x+=8,x<A&&(f+=C[s++]<<x,x+=8)),S+=f&(1<<A)-1,S>c){e.msg="invalid distance too far back",k.mode=X2;break e}if(f>>>=A,x-=A,A=i-o,S>A){if(A=S-A,A>u&&k.sane){e.msg="invalid distance too far back",k.mode=X2;break e}if(E=0,R=m,h===0){if(E+=d-A,A<j){j-=A;do T[i++]=m[E++];while(--A);E=i-S,R=T}}else if(h<A){if(E+=d+h-A,A-=h,A<j){j-=A;do T[i++]=m[E++];while(--A);if(E=0,h<j){A=h,j-=A;do T[i++]=m[E++];while(--A);E=i-S,R=T}}}else if(E+=h-A,A<j){j-=A;do T[i++]=m[E++];while(--A);E=i-S,R=T}for(;j>2;)T[i++]=R[E++],T[i++]=R[E++],T[i++]=R[E++],j-=3;j&&(T[i++]=R[E++],j>1&&(T[i++]=R[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],j-=3;while(j>2);j&&(T[i++]=T[E++],j>1&&(T[i++]=T[E++]))}}else if((A&64)===0){w=g[(w&65535)+(f&(1<<A)-1)];continue r}else{e.msg="invalid distance code",k.mode=X2;break e}break}}else if((A&64)===0){w=v[(w&65535)+(f&(1<<A)-1)];continue t}else if(A&32){k.mode=d3e;break e}else{e.msg="invalid literal/length code",k.mode=X2;break e}break}}while(s<a&&i<l);j=x>>3,s-=j,x-=j<<3,f&=(1<<x)-1,e.next_in=s,e.next_out=i,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=i<l?257+(l-i):257-(i-l),k.hold=f,k.bits=x};const ox=15,sU=852,aU=592,iU=0,jC=1,oU=2,h3e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),f3e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),m3e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),p3e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),x3e=(t,e,r,s,a,i,o,l)=>{const c=l.bits;let d=0,u=0,h=0,m=0,f=0,x=0,v=0,g=0,b=0,N=0,w,A,j,S,E,R=null,C;const T=new Uint16Array(ox+1),k=new Uint16Array(ox+1);let P=null,D,H,F;for(d=0;d<=ox;d++)T[d]=0;for(u=0;u<s;u++)T[e[r+u]]++;for(f=c,m=ox;m>=1&&T[m]===0;m--);if(f>m&&(f=m),m===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&T[h]===0;h++);for(f<h&&(f=h),g=1,d=1;d<=ox;d++)if(g<<=1,g-=T[d],g<0)return-1;if(g>0&&(t===iU||m!==1))return-1;for(k[1]=0,d=1;d<ox;d++)k[d+1]=k[d]+T[d];for(u=0;u<s;u++)e[r+u]!==0&&(o[k[e[r+u]]++]=u);if(t===iU?(R=P=o,C=20):t===jC?(R=h3e,P=f3e,C=257):(R=m3e,P=p3e,C=0),N=0,u=0,d=h,E=i,x=f,v=0,j=-1,b=1<<f,S=b-1,t===jC&&b>sU||t===oU&&b>aU)return 1;for(;;){D=d-v,o[u]+1<C?(H=0,F=o[u]):o[u]>=C?(H=P[o[u]-C],F=R[o[u]-C]):(H=96,F=0),w=1<<d-v,A=1<<x,h=A;do A-=w,a[E+(N>>v)+A]=D<<24|H<<16|F|0;while(A!==0);for(w=1<<d-1;N&w;)w>>=1;if(w!==0?(N&=w-1,N+=w):N=0,u++,--T[d]===0){if(d===m)break;d=e[r+o[u]]}if(d>f&&(N&S)!==j){for(v===0&&(v=f),E+=h,x=d-v,g=1<<x;x+v<m&&(g-=T[x+v],!(g<=0));)x++,g<<=1;if(b+=1<<x,t===jC&&b>sU||t===oU&&b>aU)return 1;j=N&S,a[j]=f<<24|x<<16|E-i|0}}return N!==0&&(a[E+N]=d-v<<24|64<<16|0),l.bits=f,0};var wy=x3e;const g3e=0,ZX=1,eY=2,{Z_FINISH:lU,Z_BLOCK:v3e,Z_TREES:Y2,Z_OK:Km,Z_STREAM_END:y3e,Z_NEED_DICT:b3e,Z_STREAM_ERROR:vc,Z_DATA_ERROR:tY,Z_MEM_ERROR:rY,Z_BUF_ERROR:w3e,Z_DEFLATED:cU}=KX,k5=16180,dU=16181,uU=16182,hU=16183,fU=16184,mU=16185,pU=16186,xU=16187,gU=16188,vU=16189,sN=16190,nh=16191,NC=16192,yU=16193,SC=16194,bU=16195,wU=16196,jU=16197,NU=16198,K2=16199,J2=16200,SU=16201,_U=16202,AU=16203,CU=16204,kU=16205,_C=16206,EU=16207,TU=16208,qs=16209,nY=16210,sY=16211,j3e=852,N3e=592,S3e=15,_3e=S3e,MU=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function A3e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const dp=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<k5||e.mode>sY?1:0},aY=t=>{if(dp(t))return vc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=k5,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(j3e),e.distcode=e.distdyn=new Int32Array(N3e),e.sane=1,e.back=-1,Km},iY=t=>{if(dp(t))return vc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,aY(t)},oY=(t,e)=>{let r;if(dp(t))return vc;const s=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?vc:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=r,s.wbits=e,iY(t))},lY=(t,e)=>{if(!t)return vc;const r=new A3e;t.state=r,r.strm=t,r.window=null,r.mode=k5;const s=oY(t,e);return s!==Km&&(t.state=null),s},C3e=t=>lY(t,_3e);let PU=!0,AC,CC;const k3e=t=>{if(PU){AC=new Int32Array(512),CC=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(wy(ZX,t.lens,0,288,AC,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;wy(eY,t.lens,0,32,CC,0,t.work,{bits:5}),PU=!1}t.lencode=AC,t.lenbits=9,t.distcode=CC,t.distbits=5},cY=(t,e,r,s)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>s&&(a=s),i.window.set(e.subarray(r-s,r-s+a),i.wnext),s-=a,s?(i.window.set(e.subarray(r-s,r),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},E3e=(t,e)=>{let r,s,a,i,o,l,c,d,u,h,m,f,x,v,g=0,b,N,w,A,j,S,E,R;const C=new Uint8Array(4);let T,k;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dp(t)||!t.output||!t.input&&t.avail_in!==0)return vc;r=t.state,r.mode===nh&&(r.mode=NC),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,s=t.input,l=t.avail_in,d=r.hold,u=r.bits,h=l,m=c,R=Km;e:for(;;)switch(r.mode){case k5:if(r.wrap===0){r.mode=NC;break}for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=d&255,C[1]=d>>>8&255,r.check=Od(r.check,C,2,0),d=0,u=0,r.mode=dU;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=qs;break}if((d&15)!==cU){t.msg="unknown compression method",r.mode=qs;break}if(d>>>=4,u-=4,E=(d&15)+8,r.wbits===0&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=qs;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=d&512?vU:nh,d=0,u=0;break;case dU:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==cU){t.msg="unknown compression method",r.mode=qs;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=qs;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,r.check=Od(r.check,C,2,0)),d=0,u=0,r.mode=uU;case uU:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,C[2]=d>>>16&255,C[3]=d>>>24&255,r.check=Od(r.check,C,4,0)),d=0,u=0,r.mode=hU;case hU:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,r.check=Od(r.check,C,2,0)),d=0,u=0,r.mode=fU;case fU:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,r.check=Od(r.check,C,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=mU;case mU:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(i,i+f),E)),r.flags&512&&r.wrap&4&&(r.check=Od(r.check,s,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=pU;case pU:if(r.flags&2048){if(l===0)break e;f=0;do E=s[i+f++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Od(r.check,s,f,i)),l-=f,i+=f,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=xU;case xU:if(r.flags&4096){if(l===0)break e;f=0;do E=s[i+f++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Od(r.check,s,f,i)),l-=f,i+=f,E)break e}else r.head&&(r.head.comment=null);r.mode=gU;case gU:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=qs;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=nh;break;case vU:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}t.adler=r.check=MU(d),d=0,u=0,r.mode=sN;case sN:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,b3e;t.adler=r.check=1,r.mode=nh;case nh:if(e===v3e||e===Y2)break e;case NC:if(r.last){d>>>=u&7,u-=u&7,r.mode=_C;break}for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=yU;break;case 1:if(k3e(r),r.mode=K2,e===Y2){d>>>=2,u-=2;break e}break;case 2:r.mode=wU;break;case 3:t.msg="invalid block type",r.mode=qs}d>>>=2,u-=2;break;case yU:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=qs;break}if(r.length=d&65535,d=0,u=0,r.mode=SC,e===Y2)break e;case SC:r.mode=bU;case bU:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(s.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,r.length-=f;break}r.mode=nh;break;case wU:for(;u<14;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=qs;break}r.have=0,r.mode=jU;case jU:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.lens[P[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,T={bits:r.lenbits},R=wy(g3e,r.lens,0,19,r.lencode,0,r.work,T),r.lenbits=T.bits,R){t.msg="invalid code lengths set",r.mode=qs;break}r.have=0,r.mode=NU;case NU:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[d&(1<<r.lenbits)-1],b=g>>>24,N=g>>>16&255,w=g&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(w<16)d>>>=b,u-=b,r.lens[r.have++]=w;else{if(w===16){for(k=b+2;u<k;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(d>>>=b,u-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=qs;break}E=r.lens[r.have-1],f=3+(d&3),d>>>=2,u-=2}else if(w===17){for(k=b+3;u<k;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=b,u-=b,E=0,f=3+(d&7),d>>>=3,u-=3}else{for(k=b+7;u<k;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=b,u-=b,E=0,f=11+(d&127),d>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=qs;break}for(;f--;)r.lens[r.have++]=E}}if(r.mode===qs)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=qs;break}if(r.lenbits=9,T={bits:r.lenbits},R=wy(ZX,r.lens,0,r.nlen,r.lencode,0,r.work,T),r.lenbits=T.bits,R){t.msg="invalid literal/lengths set",r.mode=qs;break}if(r.distbits=6,r.distcode=r.distdyn,T={bits:r.distbits},R=wy(eY,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,T),r.distbits=T.bits,R){t.msg="invalid distances set",r.mode=qs;break}if(r.mode=K2,e===Y2)break e;case K2:r.mode=J2;case J2:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,u3e(t,m),o=t.next_out,a=t.output,c=t.avail_out,i=t.next_in,s=t.input,l=t.avail_in,d=r.hold,u=r.bits,r.mode===nh&&(r.back=-1);break}for(r.back=0;g=r.lencode[d&(1<<r.lenbits)-1],b=g>>>24,N=g>>>16&255,w=g&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(N&&(N&240)===0){for(A=b,j=N,S=w;g=r.lencode[S+((d&(1<<A+j)-1)>>A)],b=g>>>24,N=g>>>16&255,w=g&65535,!(A+b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=A,u-=A,r.back+=A}if(d>>>=b,u-=b,r.back+=b,r.length=w,N===0){r.mode=kU;break}if(N&32){r.back=-1,r.mode=nh;break}if(N&64){t.msg="invalid literal/length code",r.mode=qs;break}r.extra=N&15,r.mode=SU;case SU:if(r.extra){for(k=r.extra;u<k;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=_U;case _U:for(;g=r.distcode[d&(1<<r.distbits)-1],b=g>>>24,N=g>>>16&255,w=g&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((N&240)===0){for(A=b,j=N,S=w;g=r.distcode[S+((d&(1<<A+j)-1)>>A)],b=g>>>24,N=g>>>16&255,w=g&65535,!(A+b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=A,u-=A,r.back+=A}if(d>>>=b,u-=b,r.back+=b,N&64){t.msg="invalid distance code",r.mode=qs;break}r.offset=w,r.extra=N&15,r.mode=AU;case AU:if(r.extra){for(k=r.extra;u<k;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=qs;break}r.mode=CU;case CU:if(c===0)break e;if(f=m-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=qs;break}f>r.wnext?(f-=r.wnext,x=r.wsize-f):x=r.wnext-f,f>r.length&&(f=r.length),v=r.window}else v=a,x=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do a[o++]=v[x++];while(--f);r.length===0&&(r.mode=J2);break;case kU:if(c===0)break e;a[o++]=r.length,c--,r.mode=J2;break;case _C:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=s[i++]<<u,u+=8}if(m-=c,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Od(r.check,a,m,o-m):HE(r.check,a,m,o-m)),m=c,r.wrap&4&&(r.flags?d:MU(d))!==r.check){t.msg="incorrect data check",r.mode=qs;break}d=0,u=0}r.mode=EU;case EU:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=qs;break}d=0,u=0}r.mode=TU;case TU:R=y3e;break e;case qs:R=tY;break e;case nY:return rY;case sY:default:return vc}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=u,(r.wsize||m!==t.avail_out&&r.mode<qs&&(r.mode<_C||e!==lU))&&cY(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Od(r.check,a,m,t.next_out-m):HE(r.check,a,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===nh?128:0)+(r.mode===K2||r.mode===SC?256:0),(h===0&&m===0||e===lU)&&R===Km&&(R=w3e),R},T3e=t=>{if(dp(t))return vc;let e=t.state;return e.window&&(e.window=null),t.state=null,Km},M3e=(t,e)=>{if(dp(t))return vc;const r=t.state;return(r.wrap&2)===0?vc:(r.head=e,e.done=!1,Km)},P3e=(t,e)=>{const r=e.length;let s,a,i;return dp(t)||(s=t.state,s.wrap!==0&&s.mode!==sN)?vc:s.mode===sN&&(a=1,a=HE(a,e,r,0),a!==s.check)?tY:(i=cY(t,e,r,r),i?(s.mode=nY,rY):(s.havedict=1,Km))};var D3e=iY,R3e=oY,L3e=aY,O3e=C3e,I3e=lY,F3e=E3e,B3e=T3e,U3e=M3e,z3e=P3e,$3e="pako inflate (from Nodeca project)",ch={inflateReset:D3e,inflateReset2:R3e,inflateResetKeep:L3e,inflateInit:O3e,inflateInit2:I3e,inflate:F3e,inflateEnd:B3e,inflateGetHeader:U3e,inflateSetDictionary:z3e,inflateInfo:$3e};function H3e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var W3e=H3e;const dY=Object.prototype.toString,{Z_NO_FLUSH:q3e,Z_FINISH:G3e,Z_OK:Eb,Z_STREAM_END:kC,Z_NEED_DICT:EC,Z_STREAM_ERROR:V3e,Z_DATA_ERROR:DU,Z_MEM_ERROR:X3e}=KX;function p1(t){this.options=JX.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c3e,this.strm.avail_out=0;let r=ch.inflateInit2(this.strm,e.windowBits);if(r!==Eb)throw new Error(WE[r]);if(this.header=new W3e,ch.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=qE.string2buf(e.dictionary):dY.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ch.inflateSetDictionary(this.strm,e.dictionary),r!==Eb)))throw new Error(WE[r])}p1.prototype.push=function(t,e){const r=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?G3e:q3e,dY.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),i=ch.inflate(r,o),i===EC&&a&&(i=ch.inflateSetDictionary(r,a),i===Eb?i=ch.inflate(r,o):i===DU&&(i=EC));r.avail_in>0&&i===kC&&r.state.wrap>0&&t[r.next_in]!==0;)ch.inflateReset(r),i=ch.inflate(r,o);switch(i){case V3e:case DU:case EC:case X3e:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===kC))if(this.options.to==="string"){let c=qE.utf8border(r.output,r.next_out),d=r.next_out-c,u=qE.buf2string(r.output,c);r.next_out=d,r.avail_out=s-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Eb&&l===0)){if(i===kC)return i=ch.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};p1.prototype.onData=function(t){this.chunks.push(t)};p1.prototype.onEnd=function(t){t===Eb&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=JX.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Y3e(t,e){const r=new p1(e);if(r.push(t),r.err)throw r.msg||WE[r.err];return r.result}var K3e=p1,J3e=Y3e,Q3e={Inflate:K3e,inflate:J3e};const{Inflate:Z3e,inflate:eAe}=Q3e;var RU=Z3e,tAe=eAe;const uY=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;uY[t]=e}const LU=4294967295;function rAe(t,e,r){let s=t;for(let a=0;a<r;a++)s=uY[(s^e[a])&255]^s>>>8;return s}function nAe(t,e){return(rAe(LU,t,e)^LU)>>>0}function OU(t,e,r){const s=t.readUint32(),a=nAe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${a}`)}function hY(t,e,r){for(let s=0;s<r;s++)e[s]=t[s]}function fY(t,e,r,s){let a=0;for(;a<s;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-s]&255}function mY(t,e,r,s){let a=0;if(r.length===0)for(;a<s;a++)e[a]=t[a];else for(;a<s;a++)e[a]=t[a]+r[a]&255}function pY(t,e,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<s;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<s;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function xY(t,e,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<s;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<s;i++)e[i]=t[i]+sAe(e[i-a],r[i],r[i-a])&255}}function sAe(t,e,r){const s=t+e-r,a=Math.abs(s-t),i=Math.abs(s-e),o=Math.abs(s-r);return a<=i&&a<=o?t:i<=o?e:r}function aAe(t,e,r,s,a,i){switch(t){case 0:hY(e,r,a);break;case 1:fY(e,r,a,i);break;case 2:mY(e,r,s,a);break;case 3:pY(e,r,s,a,i);break;case 4:xY(e,r,s,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const iAe=new Uint16Array([255]),oAe=new Uint8Array(iAe.buffer),lAe=oAe[0]===255;function cAe(t){const{data:e,width:r,height:s,channels:a,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(s*r*l);let d=0;for(let u=0;u<7;u++){const h=o[u],m=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((s-h.y)/h.yStep);if(m<=0||f<=0)continue;const x=m*l,v=new Uint8Array(x);for(let g=0;g<f;g++){const b=e[d++],N=e.subarray(d,d+x);d+=x;const w=new Uint8Array(x);aAe(b,N,w,v,x,l),v.set(w);for(let A=0;A<m;A++){const j=h.x+A*h.xStep,S=h.y+g*h.yStep;if(!(j>=r||S>=s))for(let E=0;E<l;E++)c[(S*r+j)*l+E]=w[A*l+E]}}}if(i===16){const u=new Uint16Array(c.buffer);if(lAe)for(let h=0;h<u.length;h++)u[h]=dAe(u[h]);return u}else return c}function dAe(t){return(t&255)<<8|t>>8&255}const uAe=new Uint16Array([255]),hAe=new Uint8Array(uAe.buffer),fAe=hAe[0]===255,mAe=new Uint8Array(0);function IU(t){const{data:e,width:r,height:s,channels:a,depth:i}=t,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(s*l);let d=mAe,u=0,h,m;for(let f=0;f<s;f++){switch(h=e.subarray(u+1,u+1+l),m=c.subarray(f*l,(f+1)*l),e[u]){case 0:hY(h,m,l);break;case 1:fY(h,m,l,o);break;case 2:mY(h,m,d,l);break;case 3:pY(h,m,d,l,o);break;case 4:xY(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}d=m,u+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(fAe)for(let x=0;x<f.length;x++)f[x]=pAe(f[x]);return f}else return c}function pAe(t){return(t&255)<<8|t>>8&255}const Hw=Uint8Array.of(137,80,78,71,13,10,26,10);function FU(t){if(!xAe(t.readBytes(Hw.length)))throw new Error("wrong PNG signature")}function xAe(t){if(t.length<Hw.length)return!1;for(let e=0;e<Hw.length;e++)if(t[e]!==Hw[e])return!1;return!0}const gAe="tEXt",vAe=0,gY=new TextDecoder("latin1");function yAe(t){if(wAe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const bAe=/^[\u0000-\u00FF]*$/;function wAe(t){if(!bAe.test(t))throw new Error("invalid latin1 text")}function jAe(t,e,r){const s=vY(e);t[s]=NAe(e,r-s.length-1)}function vY(t){for(t.mark();t.readByte()!==vAe;);const e=t.offset;t.reset();const r=gY.decode(t.readBytes(e-t.offset-1));return t.skip(1),yAe(r),r}function NAe(t,e){return gY.decode(t.readBytes(e))}const bl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},TC={UNKNOWN:-1,DEFLATE:0},BU={UNKNOWN:-1,ADAPTIVE:0},MC={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Q2={NONE:0,BACKGROUND:1,PREVIOUS:2},PC={SOURCE:0,OVER:1};class SAe extends QM{constructor(r,s={}){super(r);Zt(this,"_checkCrc");Zt(this,"_inflator");Zt(this,"_png");Zt(this,"_apng");Zt(this,"_end");Zt(this,"_hasPalette");Zt(this,"_palette");Zt(this,"_hasTransparency");Zt(this,"_transparency");Zt(this,"_compressionMethod");Zt(this,"_filterMethod");Zt(this,"_interlaceMethod");Zt(this,"_colorType");Zt(this,"_isAnimated");Zt(this,"_numberOfFrames");Zt(this,"_numberOfPlays");Zt(this,"_frames");Zt(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new RU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=TC.UNKNOWN,this._filterMethod=BU.UNKNOWN,this._interlaceMethod=MC.UNKNOWN,this._colorType=bl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(FU(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeChunk(r,s)}return this.decodeImage(),this._png}decodeApng(){for(FU(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(r,s)}return this.decodeApngImage(),this._apng}decodeChunk(r,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case gAe:jAe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?OU(this,r+4,s):this.skip(4)}decodeApngChunk(r,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,s),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?OU(this,r+4,s):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=_Ae(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case bl.GREYSCALE:a=1;break;case bl.TRUECOLOUR:a=3;break;case bl.INDEXED_COLOUR:a=1;break;case bl.GREYSCALE_ALPHA:a=2;break;case bl.TRUECOLOUR_ALPHA:a=4;break;case bl.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==TC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const s=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<s;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const s=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let s=r,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case bl.GREYSCALE:case bl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let s=0;s<r/2;s++)this._transparency[s]=this.readUint16();break}case bl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let s=0;for(;s<r;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case bl.UNKNOWN:case bl.GREYSCALE_ALPHA:case bl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const s=vY(this),a=this.readUint8();if(a!==TC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:tAe(i)}}decodepHYs(){const r=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const s={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=IU({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(r,s,a){switch(r.disposeOp){case Q2.NONE:break;case Q2.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Q2.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,s){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+s.yOffset)*this._png.width+s.xOffset+l)*this._png.channels,d=(o*s.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(s.blendOp){case PC.SOURCE:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=s.data[d+u]}break;case PC.OVER:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++){const h=s.data[d+this._png.channels-1]/a,m=u%(this._png.channels-1)===0?1:s.data[d+u],f=Math.floor(h*m+(1-h)*r.data[c+u]);r.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==BU.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===MC.NO_INTERLACE)this._png.data=IU({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===MC.ADAM7)this._png.data=cAe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,s=this._frames.at(-1);s?s.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Q2.NONE,blendOp:PC.SOURCE,data:r}),this._inflator=new RU,this._writingDataChunks=!1}}function _Ae(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var UU;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(UU||(UU={}));function AAe(t,e){return new SAe(t,e).decode()}var Ur=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function DC(){Ur.console&&typeof Ur.console.log=="function"&&Ur.console.log.apply(Ur.console,arguments)}var xs={log:DC,warn:function(t){Ur.console&&(typeof Ur.console.warn=="function"?Ur.console.warn.apply(Ur.console,arguments):DC.call(null,arguments))},error:function(t){Ur.console&&(typeof Ur.console.error=="function"?Ur.console.error.apply(Ur.console,arguments):DC(t))}};function RC(t,e,r){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){dm(s.response,e,r)},s.onerror=function(){xs.error("could not download file")},s.send()}function zU(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Z2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var dm=Ur.saveAs||((typeof window>"u"?"undefined":es(window))!=="object"||window!==Ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var s=Ur.URL||Ur.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?zU(a.href)?RC(t,e,r):Z2(a,a.target="_blank"):Z2(a)):(a.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){Z2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(zU(t))RC(t,e,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){Z2(s)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:es(i)!=="object"&&(xs.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return RC(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Ur.HTMLElement)||Ur.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":es(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(t)}else{var c=Ur.URL||Ur.webkitURL,d=c.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yY(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var Ww=Ur.atob.bind(Ur),$U=Ur.btoa.bind(Ur);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function LC(t,e){var r=t[0],s=t[1],a=t[2],i=t[3];r=Gi(r,s,a,i,e[0],7,-680876936),i=Gi(i,r,s,a,e[1],12,-389564586),a=Gi(a,i,r,s,e[2],17,606105819),s=Gi(s,a,i,r,e[3],22,-1044525330),r=Gi(r,s,a,i,e[4],7,-176418897),i=Gi(i,r,s,a,e[5],12,1200080426),a=Gi(a,i,r,s,e[6],17,-1473231341),s=Gi(s,a,i,r,e[7],22,-45705983),r=Gi(r,s,a,i,e[8],7,1770035416),i=Gi(i,r,s,a,e[9],12,-1958414417),a=Gi(a,i,r,s,e[10],17,-42063),s=Gi(s,a,i,r,e[11],22,-1990404162),r=Gi(r,s,a,i,e[12],7,1804603682),i=Gi(i,r,s,a,e[13],12,-40341101),a=Gi(a,i,r,s,e[14],17,-1502002290),r=Vi(r,s=Gi(s,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Vi(i,r,s,a,e[6],9,-1069501632),a=Vi(a,i,r,s,e[11],14,643717713),s=Vi(s,a,i,r,e[0],20,-373897302),r=Vi(r,s,a,i,e[5],5,-701558691),i=Vi(i,r,s,a,e[10],9,38016083),a=Vi(a,i,r,s,e[15],14,-660478335),s=Vi(s,a,i,r,e[4],20,-405537848),r=Vi(r,s,a,i,e[9],5,568446438),i=Vi(i,r,s,a,e[14],9,-1019803690),a=Vi(a,i,r,s,e[3],14,-187363961),s=Vi(s,a,i,r,e[8],20,1163531501),r=Vi(r,s,a,i,e[13],5,-1444681467),i=Vi(i,r,s,a,e[2],9,-51403784),a=Vi(a,i,r,s,e[7],14,1735328473),r=Xi(r,s=Vi(s,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Xi(i,r,s,a,e[8],11,-2022574463),a=Xi(a,i,r,s,e[11],16,1839030562),s=Xi(s,a,i,r,e[14],23,-35309556),r=Xi(r,s,a,i,e[1],4,-1530992060),i=Xi(i,r,s,a,e[4],11,1272893353),a=Xi(a,i,r,s,e[7],16,-155497632),s=Xi(s,a,i,r,e[10],23,-1094730640),r=Xi(r,s,a,i,e[13],4,681279174),i=Xi(i,r,s,a,e[0],11,-358537222),a=Xi(a,i,r,s,e[3],16,-722521979),s=Xi(s,a,i,r,e[6],23,76029189),r=Xi(r,s,a,i,e[9],4,-640364487),i=Xi(i,r,s,a,e[12],11,-421815835),a=Xi(a,i,r,s,e[15],16,530742520),r=Yi(r,s=Xi(s,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Yi(i,r,s,a,e[7],10,1126891415),a=Yi(a,i,r,s,e[14],15,-1416354905),s=Yi(s,a,i,r,e[5],21,-57434055),r=Yi(r,s,a,i,e[12],6,1700485571),i=Yi(i,r,s,a,e[3],10,-1894986606),a=Yi(a,i,r,s,e[10],15,-1051523),s=Yi(s,a,i,r,e[1],21,-2054922799),r=Yi(r,s,a,i,e[8],6,1873313359),i=Yi(i,r,s,a,e[15],10,-30611744),a=Yi(a,i,r,s,e[6],15,-1560198380),s=Yi(s,a,i,r,e[13],21,1309151649),r=Yi(r,s,a,i,e[4],6,-145523070),i=Yi(i,r,s,a,e[11],10,-1120210379),a=Yi(a,i,r,s,e[2],15,718787259),s=Yi(s,a,i,r,e[9],21,-343485551),t[0]=Df(r,t[0]),t[1]=Df(s,t[1]),t[2]=Df(a,t[2]),t[3]=Df(i,t[3])}function E5(t,e,r,s,a,i){return e=Df(Df(e,t),Df(s,i)),Df(e<<a|e>>>32-a,r)}function Gi(t,e,r,s,a,i,o){return E5(e&r|~e&s,t,e,a,i,o)}function Vi(t,e,r,s,a,i,o){return E5(e&s|r&~s,t,e,a,i,o)}function Xi(t,e,r,s,a,i,o){return E5(e^r^s,t,e,a,i,o)}function Yi(t,e,r,s,a,i,o){return E5(r^(e|~s),t,e,a,i,o)}function bY(t){var e,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)LC(s,CAe(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(LC(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,LC(s,a),s}function CAe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var HU="0123456789abcdef".split("");function kAe(t){for(var e="",r=0;r<4;r++)e+=HU[t>>8*r+4&15]+HU[t>>8*r&15];return e}function EAe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function GE(t){return bY(t).map(EAe).join("")}var TAe=(function(t){for(var e=0;e<t.length;e++)t[e]=kAe(t[e]);return t.join("")})(bY("hello"))!="5d41402abc4b2a76b9719d911017c592";function Df(t,e){if(TAe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function VE(t,e){var r,s,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,s=l}else l=s;var h=e.length,m=0,f=0,x="";for(c=0;c<h;c++)f=(f+(u=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=u,o=l[(l[m]+l[f])%256],x+=String.fromCharCode(e.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var WU={print:4,modify:8,copy:16,"annot-forms":32};function mx(t,e,r,s){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(WU.perm!==void 0)throw new Error("Invalid permission: "+l);a+=WU[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=GE(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=VE(this.encryptionKey,this.padding)}function px(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,s=0;s<r;s++){var a=t.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[s]}return e}function qU(t){if(es(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in e)if(e[s][r])return delete e[s][r],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,s)}catch(l){Ur.console&&xs.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Tb(t){if(!(this instanceof Tb))return new Tb(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function wY(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ef(t,e,r,s,a){if(!(this instanceof Ef))return new Ef(t,e,r,s,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,wY.call(this,s,a)}function Nm(t,e,r,s,a){if(!(this instanceof Nm))return new Nm(t,e,r,s,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,wY.call(this,s,a)}function ir(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;es(t=t||{})==="object"&&(r=t.orientation,s=t.unit||s,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=qU;var x="1.3",v=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(G){x=G};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var b=f.__private__.getPageFormat=function(G){return g[G]};a=a||"a4";var N="compat",w="advanced",A=N;function j(){this.saveGraphicsState(),J(new er(At,0,0,-At,0,Lo()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),d="n",A=w}function S(){this.restoreGraphicsState(),d="S",A=N}var E=f.__private__.combineFontStyleAndFontWeight=function(G,he){if(G=="bold"&&he=="normal"||G=="bold"&&he==400||G=="normal"&&he=="italic"||G=="bold"&&he=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return he&&(G=he==400||he==="normal"?G==="italic"?"italic":"normal":he!=700&&he!=="bold"||G!=="normal"?(he==700?"bold":he)+""+G:"bold"),G};f.advancedAPI=function(G){var he=A===N;return he&&j.call(this),typeof G!="function"||(G(this),he&&S.call(this)),this},f.compatAPI=function(G){var he=A===w;return he&&S.call(this),typeof G!="function"||(G(this),he&&j.call(this)),this},f.isAdvancedAPI=function(){return A===w};var R,C=function(G){if(A!==w)throw new Error(G+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=f.roundToPrecision=f.__private__.roundToPrecision=function(G,he){var De=e||he;if(isNaN(G)||isNaN(De))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return G.toFixed(De).replace(/0+$/,"")};R=f.hpf=f.__private__.hpf=typeof c=="number"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return T(G,c)}:c==="smart"?function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return T(G,G>-1&&G<1?16:5)}:function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.hpf");return T(G,16)};var k=f.f2=f.__private__.f2=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f2");return T(G,2)},P=f.__private__.f3=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.f3");return T(G,3)},D=f.scale=f.__private__.scale=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.scale");return A===N?G*At:A===w?G:void 0},H=function(G){return D((function(he){return A===N?Lo()-he:A===w?he:void 0})(G))};f.__private__.setPrecision=f.setPrecision=function(G){typeof parseInt(G,10)=="number"&&(e=parseInt(G,10))};var F,z="00000000000000000000000000000000",O=f.__private__.getFileId=function(){return z},W=f.__private__.setFileId=function(G){return z=G!==void 0&&/^[a-fA-F0-9]{32}$/.test(G)?G.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(hs=new mx(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};f.setFileId=function(G){return W(G),this},f.getFileId=function(){return O()};var ee=f.__private__.convertDateToPDFDate=function(G){var he=G.getTimezoneOffset(),De=he<0?"+":"-",He=Math.floor(Math.abs(he/60)),nt=Math.abs(he%60),kt=[De,V(He),"'",V(nt),"'"].join("");return["D:",G.getFullYear(),V(G.getMonth()+1),V(G.getDate()),V(G.getHours()),V(G.getMinutes()),V(G.getSeconds()),kt].join("")},K=f.__private__.convertPDFDateToDate=function(G){var he=parseInt(G.substr(2,4),10),De=parseInt(G.substr(6,2),10)-1,He=parseInt(G.substr(8,2),10),nt=parseInt(G.substr(10,2),10),kt=parseInt(G.substr(12,2),10),Ot=parseInt(G.substr(14,2),10);return new Date(he,De,He,nt,kt,Ot,0)},re=f.__private__.setCreationDate=function(G){var he;if(G===void 0&&(G=new Date),G instanceof Date)he=ee(G);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(G))throw new Error("Invalid argument passed to jsPDF.setCreationDate");he=G}return F=he},U=f.__private__.getCreationDate=function(G){var he=F;return G==="jsDate"&&(he=K(F)),he};f.setCreationDate=function(G){return re(G),this},f.getCreationDate=function(G){return U(G)};var Y,V=f.__private__.padd2=function(G){return("0"+parseInt(G)).slice(-2)},Z=f.__private__.padd2Hex=function(G){return("00"+(G=G.toString())).substr(G.length)},ce=0,fe=[],ye=[],ge=0,we=[],Re=[],oe=!1,ut=ye;f.__private__.setCustomOutputDestination=function(G){oe=!0,ut=G};var se=function(G){oe||(ut=G)};f.__private__.resetCustomOutputDestination=function(){oe=!1,ut=ye};var J=f.__private__.out=function(G){return G=G.toString(),ge+=G.length+1,ut.push(G),ut},ie=f.__private__.write=function(G){return J(arguments.length===1?G.toString():Array.prototype.join.call(arguments," "))},Ae=f.__private__.getArrayBuffer=function(G){for(var he=G.length,De=new ArrayBuffer(he),He=new Uint8Array(De);he--;)He[he]=G.charCodeAt(he);return De},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Fe};var Ie=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(G){return Ie=A===w?G/At:G,this};var $e,le=f.__private__.getFontSize=f.getFontSize=function(){return A===N?Ie:Ie*At},ae=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(G){return ae=G,this},f.__private__.getR2L=f.getR2L=function(){return ae};var _e,qe=f.__private__.setZoomMode=function(G){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(G))$e=G;else if(isNaN(G)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(G)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+G+'" is not recognized.');$e=G}else $e=parseInt(G,10)};f.__private__.getZoomMode=function(){return $e};var Ke,et=f.__private__.setPageMode=function(G){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(G)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+G+'" is not recognized.');_e=G};f.__private__.getPageMode=function(){return _e};var Tt=f.__private__.setLayoutMode=function(G){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(G)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+G+'" is not recognized.');Ke=G};f.__private__.getLayoutMode=function(){return Ke},f.__private__.setDisplayMode=f.setDisplayMode=function(G,he,De){return qe(G),Tt(he),et(De),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(G){if(Object.keys(ft).indexOf(G)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[G]},f.__private__.getDocumentProperties=function(){return ft},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(G){for(var he in ft)ft.hasOwnProperty(he)&&G[he]&&(ft[he]=G[he]);return this},f.__private__.setDocumentProperty=function(G,he){if(Object.keys(ft).indexOf(G)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[G]=he};var gt,At,rt,Dt,Rt,$t={},Lt={},or=[],Bt={},Ge={},Ne={},Qe={},Ve=null,tt=0,at=[],Nt=new qU(f),qt=t.hotfixes||[],Ht={},Ar={},Jt=[],er=function G(he,De,He,nt,kt,Ot){if(!(this instanceof G))return new G(he,De,He,nt,kt,Ot);isNaN(he)&&(he=1),isNaN(De)&&(De=0),isNaN(He)&&(He=0),isNaN(nt)&&(nt=1),isNaN(kt)&&(kt=0),isNaN(Ot)&&(Ot=0),this._matrix=[he,De,He,nt,kt,Ot]};Object.defineProperty(er.prototype,"sx",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(er.prototype,"shy",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(er.prototype,"shx",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(er.prototype,"sy",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(er.prototype,"tx",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(er.prototype,"ty",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(er.prototype,"a",{get:function(){return this._matrix[0]},set:function(G){this._matrix[0]=G}}),Object.defineProperty(er.prototype,"b",{get:function(){return this._matrix[1]},set:function(G){this._matrix[1]=G}}),Object.defineProperty(er.prototype,"c",{get:function(){return this._matrix[2]},set:function(G){this._matrix[2]=G}}),Object.defineProperty(er.prototype,"d",{get:function(){return this._matrix[3]},set:function(G){this._matrix[3]=G}}),Object.defineProperty(er.prototype,"e",{get:function(){return this._matrix[4]},set:function(G){this._matrix[4]=G}}),Object.defineProperty(er.prototype,"f",{get:function(){return this._matrix[5]},set:function(G){this._matrix[5]=G}}),Object.defineProperty(er.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(er.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(er.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(er.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),er.prototype.join=function(G){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(G)},er.prototype.multiply=function(G){var he=G.sx*this.sx+G.shy*this.shx,De=G.sx*this.shy+G.shy*this.sy,He=G.shx*this.sx+G.sy*this.shx,nt=G.shx*this.shy+G.sy*this.sy,kt=G.tx*this.sx+G.ty*this.shx+this.tx,Ot=G.tx*this.shy+G.ty*this.sy+this.ty;return new er(he,De,He,nt,kt,Ot)},er.prototype.decompose=function(){var G=this.sx,he=this.shy,De=this.shx,He=this.sy,nt=this.tx,kt=this.ty,Ot=Math.sqrt(G*G+he*he),fr=(G/=Ot)*De+(he/=Ot)*He;De-=G*fr,He-=he*fr;var vr=Math.sqrt(De*De+He*He);return fr/=vr,G*(He/=vr)<he*(De/=vr)&&(G=-G,he=-he,fr=-fr,Ot=-Ot),{scale:new er(Ot,0,0,vr,0,0),translate:new er(1,0,0,1,nt,kt),rotate:new er(G,he,-he,G,0,0),skew:new er(1,0,fr,1,0,0)}},er.prototype.toString=function(G){return this.join(" ")},er.prototype.inversed=function(){var G=this.sx,he=this.shy,De=this.shx,He=this.sy,nt=this.tx,kt=this.ty,Ot=1/(G*He-he*De),fr=He*Ot,vr=-he*Ot,Ir=-De*Ot,$r=G*Ot;return new er(fr,vr,Ir,$r,-fr*nt-Ir*kt,-vr*nt-$r*kt)},er.prototype.applyToPoint=function(G){var he=G.x*this.sx+G.y*this.shx+this.tx,De=G.x*this.shy+G.y*this.sy+this.ty;return new Po(he,De)},er.prototype.applyToRectangle=function(G){var he=this.applyToPoint(G),De=this.applyToPoint(new Po(G.x+G.w,G.y+G.h));return new ju(he.x,he.y,De.x-he.x,De.y-he.y)},er.prototype.clone=function(){var G=this.sx,he=this.shy,De=this.shx,He=this.sy,nt=this.tx,kt=this.ty;return new er(G,he,De,He,nt,kt)},f.Matrix=er;var bn=f.matrixMult=function(G,he){return he.multiply(G)},js=new er(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=js;var Fn=function(G,he){if(!Ge[G]){var De=(he instanceof Ef?"Sh":"P")+(Object.keys(Bt).length+1).toString(10);he.id=De,Ge[G]=De,Bt[De]=he,Nt.publish("addPattern",he)}};f.ShadingPattern=Ef,f.TilingPattern=Nm,f.addShadingPattern=function(G,he){return C("addShadingPattern()"),Fn(G,he),this},f.beginTilingPattern=function(G){C("beginTilingPattern()"),Do(G.boundingBox[0],G.boundingBox[1],G.boundingBox[2]-G.boundingBox[0],G.boundingBox[3]-G.boundingBox[1],G.matrix)},f.endTilingPattern=function(G,he){C("endTilingPattern()"),he.stream=Re[Y].join(`
`),Fn(G,he),Nt.publish("endTilingPattern",he),Jt.pop().restore()};var ss,sn=f.__private__.newObject=function(){var G=Bn();return me(G,!0),G},Bn=f.__private__.newObjectDeferred=function(){return ce++,fe[ce]=function(){return ge},ce},me=function(G,he){return he=typeof he=="boolean"&&he,fe[G]=ge,he&&J(G+" 0 obj"),G},Ee=f.__private__.newAdditionalObject=function(){var G={objId:Bn(),content:""};return we.push(G),G},Se=Bn(),Ce=Bn(),Pe=f.__private__.decodeColorString=function(G){var he=G.split(" ");if(he.length!==2||he[1]!=="g"&&he[1]!=="G")he.length!==5||he[4]!=="k"&&he[4]!=="K"||(he=[(1-he[0])*(1-he[3]),(1-he[1])*(1-he[3]),(1-he[2])*(1-he[3]),"r"]);else{var De=parseFloat(he[0]);he=[De,De,De,"r"]}for(var He="#",nt=0;nt<3;nt++)He+=("0"+Math.floor(255*parseFloat(he[nt])).toString(16)).slice(-2);return He},Te=f.__private__.encodeColorString=function(G){var he;typeof G=="string"&&(G={ch1:G});var De=G.ch1,He=G.ch2,nt=G.ch3,kt=G.ch4,Ot=G.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof De=="string"&&De.charAt(0)!=="#"){var fr=new yY(De);if(fr.ok)De=fr.toHex();else if(!/^\d*\.?\d*$/.test(De))throw new Error('Invalid color "'+De+'" passed to jsPDF.encodeColorString.')}if(typeof De=="string"&&/^#[0-9A-Fa-f]{3}$/.test(De)&&(De="#"+De[1]+De[1]+De[2]+De[2]+De[3]+De[3]),typeof De=="string"&&/^#[0-9A-Fa-f]{6}$/.test(De)){var vr=parseInt(De.substr(1),16);De=vr>>16&255,He=vr>>8&255,nt=255&vr}if(He===void 0||kt===void 0&&De===He&&He===nt)he=typeof De=="string"?De+" "+Ot[0]:G.precision===2?k(De/255)+" "+Ot[0]:P(De/255)+" "+Ot[0];else if(kt===void 0||es(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return["1.","1.","1.",Ot[1]].join(" ");he=typeof De=="string"?[De,He,nt,Ot[1]].join(" "):G.precision===2?[k(De/255),k(He/255),k(nt/255),Ot[1]].join(" "):[P(De/255),P(He/255),P(nt/255),Ot[1]].join(" ")}else he=typeof De=="string"?[De,He,nt,kt,Ot[2]].join(" "):G.precision===2?[k(De),k(He),k(nt),k(kt),Ot[2]].join(" "):[P(De),P(He),P(nt),P(kt),Ot[2]].join(" ");return he},it=f.__private__.getFilters=function(){return o},bt=f.__private__.putStream=function(G){var he=(G=G||{}).data||"",De=G.filters||it(),He=G.alreadyAppliedFilters||[],nt=G.addLength1||!1,kt=he.length,Ot=G.objectId,fr=function(ma){return ma};if(u!==null&&Ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(fr=hs.encryptor(Ot,0));var vr={};De===!0&&(De=["FlateEncode"]);var Ir=G.additionalKeyValues||[],$r=(vr=ir.API.processDataByFilters!==void 0?ir.API.processDataByFilters(he,De):{data:he,reverseChain:[]}).reverseChain+(Array.isArray(He)?He.join(" "):He.toString());if(vr.data.length!==0&&(Ir.push({key:"Length",value:vr.data.length}),nt===!0&&Ir.push({key:"Length1",value:kt})),$r.length!=0)if($r.split("/").length-1==1)Ir.push({key:"Filter",value:$r});else{Ir.push({key:"Filter",value:"["+$r+"]"});for(var xn=0;xn<Ir.length;xn+=1)if(Ir[xn].key==="DecodeParms"){for(var Rs=[],sa=0;sa<vr.reverseChain.split("/").length-1;sa+=1)Rs.push("null");Rs.push(Ir[xn].value),Ir[xn].value="["+Rs.join(" ")+"]"}}J("<<");for(var is=0;is<Ir.length;is++)J("/"+Ir[is].key+" "+Ir[is].value);J(">>"),vr.data.length!==0&&(J("stream"),J(fr(vr.data)),J("endstream"))},lt=f.__private__.putPage=function(G){var he=G.number,De=G.data,He=G.objId,nt=G.contentsObjId;me(He,!0),J("<</Type /Page"),J("/Parent "+G.rootDictionaryObjId+" 0 R"),J("/Resources "+G.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(R(G.mediaBox.bottomLeftX))+" "+parseFloat(R(G.mediaBox.bottomLeftY))+" "+R(G.mediaBox.topRightX)+" "+R(G.mediaBox.topRightY)+"]"),G.cropBox!==null&&J("/CropBox ["+R(G.cropBox.bottomLeftX)+" "+R(G.cropBox.bottomLeftY)+" "+R(G.cropBox.topRightX)+" "+R(G.cropBox.topRightY)+"]"),G.bleedBox!==null&&J("/BleedBox ["+R(G.bleedBox.bottomLeftX)+" "+R(G.bleedBox.bottomLeftY)+" "+R(G.bleedBox.topRightX)+" "+R(G.bleedBox.topRightY)+"]"),G.trimBox!==null&&J("/TrimBox ["+R(G.trimBox.bottomLeftX)+" "+R(G.trimBox.bottomLeftY)+" "+R(G.trimBox.topRightX)+" "+R(G.trimBox.topRightY)+"]"),G.artBox!==null&&J("/ArtBox ["+R(G.artBox.bottomLeftX)+" "+R(G.artBox.bottomLeftY)+" "+R(G.artBox.topRightX)+" "+R(G.artBox.topRightY)+"]"),typeof G.userUnit=="number"&&G.userUnit!==1&&J("/UserUnit "+G.userUnit),Nt.publish("putPage",{objId:He,pageContext:at[he],pageNumber:he,page:De}),J("/Contents "+nt+" 0 R"),J(">>"),J("endobj");var kt=De.join(`
`);return A===w&&(kt+=`
Q`),me(nt,!0),bt({data:kt,filters:it(),objectId:nt}),J("endobj"),He},ct=f.__private__.putPages=function(){var G,he,De=[];for(G=1;G<=tt;G++)at[G].objId=Bn(),at[G].contentsObjId=Bn();for(G=1;G<=tt;G++)De.push(lt({number:G,data:Re[G],objId:at[G].objId,contentsObjId:at[G].contentsObjId,mediaBox:at[G].mediaBox,cropBox:at[G].cropBox,bleedBox:at[G].bleedBox,trimBox:at[G].trimBox,artBox:at[G].artBox,userUnit:at[G].userUnit,rootDictionaryObjId:Se,resourceDictionaryObjId:Ce}));me(Se,!0),J("<</Type /Pages");var He="/Kids [";for(he=0;he<tt;he++)He+=De[he]+" 0 R ";J(He+"]"),J("/Count "+tt),J(">>"),J("endobj"),Nt.publish("postPutPages")},mt=function(G){Nt.publish("putFont",{font:G,out:J,newObject:sn,putStream:bt}),G.isAlreadyPutted!==!0&&(G.objectNumber=sn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+px(G.postScriptName)),J("/Subtype /Type1"),typeof G.encoding=="string"&&J("/Encoding /"+G.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},de=function(G){G.objectNumber=sn();var he=[];he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Form"}),he.push({key:"BBox",value:"["+[R(G.x),R(G.y),R(G.x+G.width),R(G.y+G.height)].join(" ")+"]"}),he.push({key:"Matrix",value:"["+G.matrix.toString()+"]"});var De=G.pages[1].join(`
`);bt({data:De,additionalKeyValues:he,objectId:G.objectNumber}),J("endobj")},Oe=function(G,he){he||(he=21);var De=sn(),He=(function(Ot,fr){var vr,Ir=[],$r=1/(fr-1);for(vr=0;vr<1;vr+=$r)Ir.push(vr);if(Ir.push(1),Ot[0].offset!=0){var xn={offset:0,color:Ot[0].color};Ot.unshift(xn)}if(Ot[Ot.length-1].offset!=1){var Rs={offset:1,color:Ot[Ot.length-1].color};Ot.push(Rs)}for(var sa="",is=0,ma=0;ma<Ir.length;ma++){for(vr=Ir[ma];vr>Ot[is+1].offset;)is++;var Ks=Ot[is].offset,Ia=(vr-Ks)/(Ot[is+1].offset-Ks),Ec=Ot[is].color,dl=Ot[is+1].color;sa+=Z(Math.round((1-Ia)*Ec[0]+Ia*dl[0]).toString(16))+Z(Math.round((1-Ia)*Ec[1]+Ia*dl[1]).toString(16))+Z(Math.round((1-Ia)*Ec[2]+Ia*dl[2]).toString(16))}return sa.trim()})(G.colors,he),nt=[];nt.push({key:"FunctionType",value:"0"}),nt.push({key:"Domain",value:"[0.0 1.0]"}),nt.push({key:"Size",value:"["+he+"]"}),nt.push({key:"BitsPerSample",value:"8"}),nt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt({data:He,additionalKeyValues:nt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:De}),J("endobj"),G.objectNumber=sn(),J("<< /ShadingType "+G.type),J("/ColorSpace /DeviceRGB");var kt="/Coords ["+R(parseFloat(G.coords[0]))+" "+R(parseFloat(G.coords[1]))+" ";G.type===2?kt+=R(parseFloat(G.coords[2]))+" "+R(parseFloat(G.coords[3])):kt+=R(parseFloat(G.coords[2]))+" "+R(parseFloat(G.coords[3]))+" "+R(parseFloat(G.coords[4]))+" "+R(parseFloat(G.coords[5])),J(kt+="]"),G.matrix&&J("/Matrix ["+G.matrix.toString()+"]"),J("/Function "+De+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},We=function(G,he){var De=Bn(),He=sn();he.push({resourcesOid:De,objectOid:He}),G.objectNumber=He;var nt=[];nt.push({key:"Type",value:"/Pattern"}),nt.push({key:"PatternType",value:"1"}),nt.push({key:"PaintType",value:"1"}),nt.push({key:"TilingType",value:"1"}),nt.push({key:"BBox",value:"["+G.boundingBox.map(R).join(" ")+"]"}),nt.push({key:"XStep",value:R(G.xStep)}),nt.push({key:"YStep",value:R(G.yStep)}),nt.push({key:"Resources",value:De+" 0 R"}),G.matrix&&nt.push({key:"Matrix",value:"["+G.matrix.toString()+"]"}),bt({data:G.stream,additionalKeyValues:nt,objectId:G.objectNumber}),J("endobj")},ze=function(G){for(var he in G.objectNumber=sn(),J("<<"),G)switch(he){case"opacity":J("/ca "+k(G[he]));break;case"stroke-opacity":J("/CA "+k(G[he]))}J(">>"),J("endobj")},Le=function(G){me(G.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var he in J("/Font <<"),$t)$t.hasOwnProperty(he)&&(h===!1||h===!0&&m.hasOwnProperty(he))&&J("/"+he+" "+$t[he].objectNumber+" 0 R");J(">>")})(),(function(){if(Object.keys(Bt).length>0){for(var he in J("/Shading <<"),Bt)Bt.hasOwnProperty(he)&&Bt[he]instanceof Ef&&Bt[he].objectNumber>=0&&J("/"+he+" "+Bt[he].objectNumber+" 0 R");Nt.publish("putShadingPatternDict"),J(">>")}})(),(function(he){if(Object.keys(Bt).length>0){for(var De in J("/Pattern <<"),Bt)Bt.hasOwnProperty(De)&&Bt[De]instanceof f.TilingPattern&&Bt[De].objectNumber>=0&&Bt[De].objectNumber<he&&J("/"+De+" "+Bt[De].objectNumber+" 0 R");Nt.publish("putTilingPatternDict"),J(">>")}})(G.objectOid),(function(){if(Object.keys(Ne).length>0){var he;for(he in J("/ExtGState <<"),Ne)Ne.hasOwnProperty(he)&&Ne[he].objectNumber>=0&&J("/"+he+" "+Ne[he].objectNumber+" 0 R");Nt.publish("putGStateDict"),J(">>")}})(),(function(){for(var he in J("/XObject <<"),Ht)Ht.hasOwnProperty(he)&&Ht[he].objectNumber>=0&&J("/"+he+" "+Ht[he].objectNumber+" 0 R");Nt.publish("putXobjectDict"),J(">>")})(),J(">>"),J("endobj")},yt=function(G){Lt[G.fontName]=Lt[G.fontName]||{},Lt[G.fontName][G.fontStyle]=G.id},It=function(G,he,De,He,nt){var kt={id:"F"+(Object.keys($t).length+1).toString(10),postScriptName:G,fontName:he,fontStyle:De,encoding:He,isStandardFont:nt||!1,metadata:{}};return Nt.publish("addFont",{font:kt,instance:this}),$t[kt.id]=kt,yt(kt),kt.id},Ft=f.__private__.pdfEscape=f.pdfEscape=function(G,he){return(function(De,He){var nt,kt,Ot,fr,vr,Ir,$r,xn,Rs;if(Ot=(He=He||{}).sourceEncoding||"Unicode",vr=He.outputEncoding,(He.autoencode||vr)&&$t[gt].metadata&&$t[gt].metadata[Ot]&&$t[gt].metadata[Ot].encoding&&(fr=$t[gt].metadata[Ot].encoding,!vr&&$t[gt].encoding&&(vr=$t[gt].encoding),!vr&&fr.codePages&&(vr=fr.codePages[0]),typeof vr=="string"&&(vr=fr[vr]),vr)){for($r=!1,Ir=[],nt=0,kt=De.length;nt<kt;nt++)(xn=vr[De.charCodeAt(nt)])?Ir.push(String.fromCharCode(xn)):Ir.push(De[nt]),Ir[nt].charCodeAt(0)>>8&&($r=!0);De=Ir.join("")}for(nt=De.length;$r===void 0&&nt!==0;)De.charCodeAt(nt-1)>>8&&($r=!0),nt--;if(!$r)return De;for(Ir=He.noBOM?[]:[254,255],nt=0,kt=De.length;nt<kt;nt++){if((Rs=(xn=De.charCodeAt(nt))>>8)>>8)throw new Error("Character at position "+nt+" of string '"+De+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ir.push(Rs),Ir.push(xn-(Rs<<8))}return String.fromCharCode.apply(void 0,Ir)})(G,he).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vt=f.__private__.beginPage=function(G){Re[++tt]=[],at[tt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(G[0]),topRightY:Number(G[1])}},lr(tt),se(Re[Y])},Nr=function(G,he){var De,He,nt;switch(r=he||r,typeof G=="string"&&(De=b(G.toLowerCase()),Array.isArray(De)&&(He=De[0],nt=De[1])),Array.isArray(G)&&(He=G[0]*At,nt=G[1]*At),isNaN(He)&&(He=a[0],nt=a[1]),(He>14400||nt>14400)&&(xs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),He=Math.min(14400,He),nt=Math.min(14400,nt)),a=[He,nt],r.substr(0,1)){case"l":nt>He&&(a=[nt,He]);break;case"p":He>nt&&(a=[nt,He])}Vt(a),Rr(Mo),J(bu),h0!==0&&J(h0+" J"),f0!==0&&J(f0+" j"),Nt.publish("addPage",{pageNumber:tt})},wr=function(G){G>0&&G<=tt&&(Re.splice(G,1),at.splice(G,1),tt--,Y>tt&&(Y=tt),this.setPage(Y))},lr=function(G){G>0&&G<=tt&&(Y=G)},_r=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Re.length-1},rn=function(G,he,De){var He,nt=void 0;return De=De||{},G=G!==void 0?G:$t[gt].fontName,he=he!==void 0?he:$t[gt].fontStyle,He=G.toLowerCase(),Lt[He]!==void 0&&Lt[He][he]!==void 0?nt=Lt[He][he]:Lt[G]!==void 0&&Lt[G][he]!==void 0?nt=Lt[G][he]:De.disableWarning===!1&&xs.warn("Unable to look up font label for font '"+G+"', '"+he+"'. Refer to getFontList() for available fonts."),nt||De.noFallback||(nt=Lt.times[he])==null&&(nt=Lt.times.normal),nt},Er=f.__private__.putInfo=function(){var G=sn(),he=function(He){return He};for(var De in u!==null&&(he=hs.encryptor(G,0)),J("<<"),J("/Producer ("+Ft(he("jsPDF "+ir.version))+")"),ft)ft.hasOwnProperty(De)&&ft[De]&&J("/"+De.substr(0,1).toUpperCase()+De.substr(1)+" ("+Ft(he(ft[De]))+")");J("/CreationDate ("+Ft(he(F))+")"),J(">>"),J("endobj")},Un=f.__private__.putCatalog=function(G){var he=(G=G||{}).rootDictionaryObjId||Se;switch(sn(),J("<<"),J("/Type /Catalog"),J("/Pages "+he+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var De=""+$e;De.substr(De.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&J("/OpenAction [3 0 R /XYZ null null "+k($e)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}_e&&J("/PageMode /"+_e),Nt.publish("putCatalog"),J(">>"),J("endobj")},ln=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ce+1)),J("/Root "+ce+" 0 R"),J("/Info "+(ce-1)+" 0 R"),u!==null&&J("/Encrypt "+hs.oid+" 0 R"),J("/ID [ <"+z+"> <"+z+"> ]"),J(">>")},rr=f.__private__.putHeader=function(){J("%PDF-"+x),J("%")},us=f.__private__.putXRef=function(){var G="0000000000";J("xref"),J("0 "+(ce+1)),J("0000000000 65535 f ");for(var he=1;he<=ce;he++)typeof fe[he]=="function"?J((G+fe[he]()).slice(-10)+" 00000 n "):fe[he]!==void 0?J((G+fe[he]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},zr=f.__private__.buildDocument=function(){var G;ce=0,ge=0,ye=[],fe=[],we=[],Se=Bn(),Ce=Bn(),se(ye),Nt.publish("buildDocument"),rr(),ct(),(function(){Nt.publish("putAdditionalObjects");for(var De=0;De<we.length;De++){var He=we[De];me(He.objId,!0),J(He.content),J("endobj")}Nt.publish("postPutAdditionalObjects")})(),G=[],(function(){for(var De in $t)$t.hasOwnProperty(De)&&(h===!1||h===!0&&m.hasOwnProperty(De))&&mt($t[De])})(),(function(){var De;for(De in Ne)Ne.hasOwnProperty(De)&&ze(Ne[De])})(),(function(){for(var De in Ht)Ht.hasOwnProperty(De)&&de(Ht[De])})(),(function(De){var He;for(He in Bt)Bt.hasOwnProperty(He)&&(Bt[He]instanceof Ef?Oe(Bt[He]):Bt[He]instanceof Nm&&We(Bt[He],De))})(G),Nt.publish("putResources"),G.forEach(Le),Le({resourcesOid:Ce,objectOid:Number.MAX_SAFE_INTEGER}),Nt.publish("postPutResources"),u!==null&&(hs.oid=sn(),J("<<"),J("/Filter /Standard"),J("/V "+hs.v),J("/R "+hs.r),J("/U <"+hs.toHexString(hs.U)+">"),J("/O <"+hs.toHexString(hs.O)+">"),J("/P "+hs.P),J(">>"),J("endobj")),Er(),Un();var he=ge;return us(),ln(),J("startxref"),J(""+he),J("%%EOF"),se(Re[Y]),ye.join(`
`)},Us=f.__private__.getBlob=function(G){return new Blob([Ae(G)],{type:"application/pdf"})},Mi=f.output=f.__private__.output=(ss=function(G,he){switch(typeof(he=he||{})=="string"?he={filename:he}:he.filename=he.filename||"generated.pdf",G){case void 0:return zr();case"save":f.save(he.filename);break;case"arraybuffer":return Ae(zr());case"blob":return Us(zr());case"bloburi":case"bloburl":if(Ur.URL!==void 0&&typeof Ur.URL.createObjectURL=="function")return Ur.URL&&Ur.URL.createObjectURL(Us(zr()))||void 0;xs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var De="",He=zr();try{De=$U(He)}catch{De=$U(unescape(encodeURIComponent(He)))}return"data:application/pdf;filename="+he.filename+";base64,"+De;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ur)==="[object Window]"){var nt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';he.pdfObjectUrl&&(nt=he.pdfObjectUrl,kt="");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nt+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(he)+");<\/script></body></html>",fr=Ur.open();return fr!==null&&fr.document.write(Ot),fr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ur)==="[object Window]"){var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(he.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+he.filename+'" width="500px" height="400px" /></body></html>',Ir=Ur.open();if(Ir!==null){Ir.document.write(vr);var $r=this;Ir.document.documentElement.querySelector("#pdfViewer").onload=function(){Ir.document.title=he.filename,Ir.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($r.output("bloburl"))}}return Ir}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",he)+'"></iframe></body></html>',Rs=Ur.open();if(Rs!==null&&(Rs.document.write(xn),Rs.document.title=he.filename),Rs||typeof safari>"u")return Rs;break;case"datauri":case"dataurl":return Ur.document.location.href=this.output("datauristring",he);default:return null}},ss.foo=function(){try{return ss.apply(this,arguments)}catch(De){var G=De.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var he="Error in function "+G.split(`
`)[0].split("<")[0]+": "+De.message;if(!Ur.console)throw new Error(he);Ur.console.error(he,De),Ur.alert&&alert(he)}},ss.foo.bar=ss,ss.foo),as=function(G){return Array.isArray(qt)===!0&&qt.indexOf(G)>-1};switch(s){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=as("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);At=s}var hs=null;re(),W();var cn=f.__private__.getPageInfo=f.getPageInfo=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:at[G].objId,pageNumber:G,pageContext:at[G]}},Sa=f.__private__.getPageInfoByObjId=function(G){if(isNaN(G)||G%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var he in at)if(at[he].objId===G)break;return cn(he)},_a=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:at[Y].objId,pageNumber:Y,pageContext:at[Y]}};f.addPage=function(){return Nr.apply(this,arguments),this},f.setPage=function(){return lr.apply(this,arguments),se.call(this,Re[Y]),this},f.insertPage=function(G){return this.addPage(),this.movePage(Y,G),this},f.movePage=function(G,he){var De,He;if(G>he){De=Re[G],He=at[G];for(var nt=G;nt>he;nt--)Re[nt]=Re[nt-1],at[nt]=at[nt-1];Re[he]=De,at[he]=He,this.setPage(he)}else if(G<he){De=Re[G],He=at[G];for(var kt=G;kt<he;kt++)Re[kt]=Re[kt+1],at[kt]=at[kt+1];Re[he]=De,at[he]=He,this.setPage(he)}return this},f.deletePage=function(){return wr.apply(this,arguments),this},f.__private__.text=f.text=function(G,he,De,He,nt){var kt,Ot,fr,vr,Ir,$r,xn,Rs,sa,is=(He=He||{}).scope||this;if(typeof G=="number"&&typeof he=="number"&&(typeof De=="string"||Array.isArray(De))){var ma=De;De=he,he=G,G=ma}if(arguments[3]instanceof er==0?(fr=arguments[4],vr=arguments[5],es(xn=arguments[3])==="object"&&xn!==null||(typeof fr=="string"&&(vr=fr,fr=null),typeof xn=="string"&&(vr=xn,xn=null),typeof xn=="number"&&(fr=xn,xn=null),He={flags:xn,angle:fr,align:vr})):(C("The transform parameter of text() with a Matrix value"),sa=nt),isNaN(he)||isNaN(De)||G==null)throw new Error("Invalid arguments passed to jsPDF.text");if(G.length===0)return is;var Ks,Ia="",Ec=typeof He.lineHeightFactor=="number"?He.lineHeightFactor:Di,dl=is.internal.scaleFactor;function Tc(Nn){return Nn=Nn.split("	").join(Array(He.TabLen||9).join(" ")),Ft(Nn,xn)}function _u(Nn){for(var Wn,$s=Nn.concat(),aa=[],fl=$s.length;fl--;)typeof(Wn=$s.shift())=="string"?aa.push(Wn):Array.isArray(Nn)&&(Wn.length===1||Wn[1]===void 0&&Wn[2]===void 0)?aa.push(Wn[0]):aa.push([Wn[0],Wn[1],Wn[2]]);return aa}function Hh(Nn,Wn){var $s;if(typeof Nn=="string")$s=Wn(Nn)[0];else if(Array.isArray(Nn)){for(var aa,fl,g0=Nn.concat(),Xh=[],Lc=g0.length;Lc--;)typeof(aa=g0.shift())=="string"?Xh.push(Wn(aa)[0]):Array.isArray(aa)&&typeof aa[0]=="string"&&(fl=Wn(aa[0],aa[1],aa[2]),Xh.push([fl[0],fl[1],fl[2]]));$s=Xh}return $s}var Nd=!1,Au=!0;if(typeof G=="string")Nd=!0;else if(Array.isArray(G)){var Sd=G.concat();Ot=[];for(var _d,Fa=Sd.length;Fa--;)(typeof(_d=Sd.shift())!="string"||Array.isArray(_d)&&typeof _d[0]!="string")&&(Au=!1);Nd=Au}if(Nd===!1)throw new Error('Type of text must be string or Array. "'+G+'" is not recognized.');typeof G=="string"&&(G=G.match(/[\r?\n]/)?G.split(/\r\n|\r|\n/g):[G]);var Cu=Ie/is.internal.scaleFactor,ku=Cu*(Ec-1);switch(He.baseline){case"bottom":De-=ku;break;case"top":De+=Cu-ku;break;case"hanging":De+=Cu-2*ku;break;case"middle":De+=Cu/2-ku}if(($r=He.maxWidth||0)>0&&(typeof G=="string"?G=is.splitTextToSize(G,$r):Object.prototype.toString.call(G)==="[object Array]"&&(G=G.reduce(function(Nn,Wn){return Nn.concat(is.splitTextToSize(Wn,$r))},[]))),kt={text:G,x:he,y:De,options:He,mutex:{pdfEscape:Ft,activeFontKey:gt,fonts:$t,activeFontSize:Ie}},Nt.publish("preProcessText",kt),G=kt.text,fr=(He=kt.options).angle,sa instanceof er==0&&fr&&typeof fr=="number"){fr*=Math.PI/180,He.rotationDirection===0&&(fr=-fr),A===w&&(fr=-fr);var p0=Math.cos(fr),x0=Math.sin(fr);sa=new er(p0,x0,-x0,p0,0,0)}else fr&&fr instanceof er&&(sa=fr);A!==w||sa||(sa=js),(Ir=He.charSpace||Ri)!==void 0&&(Ia+=R(D(Ir))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Rs=He.horizontalScale)!==void 0&&(Ia+=R(100*Rs)+` Tz
`),He.lang;var vi=-1,ul=He.renderingMode!==void 0?He.renderingMode:He.stroke,$l=is.internal.getCurrentPageInfo().pageContext;switch(ul){case 0:case!1:case"fill":vi=0;break;case 1:case!0:case"stroke":vi=1;break;case 2:case"fillThenStroke":vi=2;break;case 3:case"invisible":vi=3;break;case 4:case"fillAndAddForClipping":vi=4;break;case 5:case"strokeAndAddPathForClipping":vi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vi=6;break;case 7:case"addToPathForClipping":vi=7}var _p=$l.usedRenderingMode!==void 0?$l.usedRenderingMode:-1;vi!==-1?Ia+=vi+` Tr
`:_p!==-1&&(Ia+=`0 Tr
`),vi!==-1&&($l.usedRenderingMode=vi),vr=He.align||"left";var fo,Ad=Ie*Ec,Wh=is.internal.pageSize.getWidth(),qh=$t[gt];Ir=He.charSpace||Ri,$r=He.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},He.flags);var Mc=[],Oo=function(Nn){return is.getStringUnitWidth(Nn,{font:qh,charSpace:Ir,fontSize:Ie,doKerning:!1})*Ie/dl};if(Object.prototype.toString.call(G)==="[object Array]"){var mo;Ot=_u(G),vr!=="left"&&(fo=Ot.map(Oo));var po,Cd=0;if(vr==="right"){he-=fo[0],G=[],Fa=Ot.length;for(var Hl=0;Hl<Fa;Hl++)Hl===0?(po=ho(he),mo=Cc(De)):(po=D(Cd-fo[Hl]),mo=-Ad),G.push([Ot[Hl],po,mo]),Cd=fo[Hl]}else if(vr==="center"){he-=fo[0]/2,G=[],Fa=Ot.length;for(var Pc=0;Pc<Fa;Pc++)Pc===0?(po=ho(he),mo=Cc(De)):(po=D((Cd-fo[Pc])/2),mo=-Ad),G.push([Ot[Pc],po,mo]),Cd=fo[Pc]}else if(vr==="left"){G=[],Fa=Ot.length;for(var Dc=0;Dc<Fa;Dc++)G.push(Ot[Dc])}else if(vr==="justify"&&qh.encoding==="Identity-H"){G=[],Fa=Ot.length,$r=$r!==0?$r:Wh;for(var Wl=0,Js=0;Js<Fa;Js++)if(mo=Js===0?Cc(De):-Ad,po=Js===0?ho(he):Wl,Js<Fa-1){var Eu=D(($r-fo[Js])/(Ot[Js].split(" ").length-1)),ql=Ot[Js].split(" ");G.push([ql[0]+" ",po,mo]),Wl=0;for(var hl=1;hl<ql.length;hl++){var Tu=(Oo(ql[hl-1]+" "+ql[hl])-Oo(ql[hl]))*dl+Eu;hl==ql.length-1?G.push([ql[hl],Tu,0]):G.push([ql[hl]+" ",Tu,0]),Wl-=Tu}}else G.push([Ot[Js],po,mo]);G.push(["",Wl,0])}else{if(vr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(G=[],Fa=Ot.length,$r=$r!==0?$r:Wh,Js=0;Js<Fa;Js++){mo=Js===0?Cc(De):-Ad,po=Js===0?ho(he):0;var Mu=Ot[Js].split(" ").length-1,Gh=Mu>0?($r-fo[Js])/Mu:0;Js<Fa-1?Mc.push(R(D(Gh))):Mc.push(0),G.push([Ot[Js],po,mo])}}}(typeof He.R2L=="boolean"?He.R2L:ae)===!0&&(G=Hh(G,function(Nn,Wn,$s){return[Nn.split("").reverse().join(""),Wn,$s]})),kt={text:G,x:he,y:De,options:He,mutex:{pdfEscape:Ft,activeFontKey:gt,fonts:$t,activeFontSize:Ie}},Nt.publish("postProcessText",kt),G=kt.text,Ks=kt.mutex.isHex||!1;var Vh=$t[gt].encoding;Vh!=="WinAnsiEncoding"&&Vh!=="StandardEncoding"||(G=Hh(G,function(Nn,Wn,$s){return[Tc(Nn),Wn,$s]})),Ot=_u(G),G=[];for(var Rc,kd,Ed,Pu=Array.isArray(Ot[0])?1:0,Td="",Du=function(Nn,Wn,$s){var aa="";return $s instanceof er?($s=typeof He.angle=="number"?bn($s,new er(1,0,0,1,Nn,Wn)):bn(new er(1,0,0,1,Nn,Wn),$s),A===w&&($s=bn(new er(1,0,0,-1,0,0),$s)),aa=$s.join(" ")+` Tm
`):aa=R(Nn)+" "+R(Wn)+` Td
`,aa},zs=0;zs<Ot.length;zs++){switch(Td="",Pu){case 1:Ed=(Ks?"<":"(")+Ot[zs][0]+(Ks?">":")"),Rc=parseFloat(Ot[zs][1]),kd=parseFloat(Ot[zs][2]);break;case 0:Ed=(Ks?"<":"(")+Ot[zs]+(Ks?">":")"),Rc=ho(he),kd=Cc(De)}Mc!==void 0&&Mc[zs]!==void 0&&(Td=Mc[zs]+` Tw
`),zs===0?G.push(Td+Du(Rc,kd,sa)+Ed):Pu===0?G.push(Td+Ed):Pu===1&&G.push(Td+Du(Rc,kd,sa)+Ed)}G=Pu===0?G.join(` Tj
T* `):G.join(` Tj
`),G+=` Tj
`;var Li=`BT
/`;return Li+=gt+" "+Ie+` Tf
`,Li+=R(Ie*Ec)+` TL
`,Li+=cl+`
`,Li+=Ia,Li+=G,J(Li+="ET"),m[gt]=!0,is};var Ds=f.__private__.clip=f.clip=function(G){return J(G==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Ds("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var fs=f.__private__.isValidStyle=function(G){var he=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(G)!==-1&&(he=!0),he};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(G){return fs(G)&&(d=G),this};var Fl=f.__private__.getStyle=f.getStyle=function(G){var he=d;switch(G){case"D":case"S":he="S";break;case"F":he="f";break;case"FD":case"DF":he="B";break;case"f":case"f*":case"B":case"B*":he=G}return he},Jr=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(G){return vu("f",G),this},f.fillEvenOdd=function(G){return vu("f*",G),this},f.fillStroke=function(G){return vu("B",G),this},f.fillStrokeEvenOdd=function(G){return vu("B*",G),this};var vu=function(G,he){es(he)==="object"?wp(he,G):J(G)},wd=function(G){G===null||A===w&&G===void 0||(G=Fl(G),J(G))};function d0(G,he,De,He,nt){var kt=new Nm(he||this.boundingBox,De||this.xStep,He||this.yStep,this.gState,nt||this.matrix);kt.stream=this.stream;var Ot=G+"$$"+this.cloneIndex+++"$$";return Fn(Ot,kt),kt}var wp=function(G,he){var De=Ge[G.key],He=Bt[De];if(He instanceof Ef)J("q"),J(jp(he)),He.gState&&f.setGState(He.gState),J(G.matrix.toString()+" cm"),J("/"+De+" sh"),J("Q");else if(He instanceof Nm){var nt=new er(1,0,0,-1,0,Lo());G.matrix&&(nt=nt.multiply(G.matrix||js),De=d0.call(He,G.key,G.boundingBox,G.xStep,G.yStep,nt).id),J("q"),J("/Pattern cs"),J("/"+De+" scn"),He.gState&&f.setGState(He.gState),J(he),J("Q")}},jp=function(G){switch(G){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ih=f.moveTo=function(G,he){return J(R(D(G))+" "+R(H(he))+" m"),this},Fh=f.lineTo=function(G,he){return J(R(D(G))+" "+R(H(he))+" l"),this},Pi=f.curveTo=function(G,he,De,He,nt,kt){return J([R(D(G)),R(H(he)),R(D(De)),R(H(He)),R(D(nt)),R(H(kt)),"c"].join(" ")),this};f.__private__.line=f.line=function(G,he,De,He,nt){if(isNaN(G)||isNaN(he)||isNaN(De)||isNaN(He)||!fs(nt))throw new Error("Invalid arguments passed to jsPDF.line");return A===N?this.lines([[De-G,He-he]],G,he,[1,1],nt||"S"):this.lines([[De-G,He-he]],G,he,[1,1]).stroke()},f.__private__.lines=f.lines=function(G,he,De,He,nt,kt){var Ot,fr,vr,Ir,$r,xn,Rs,sa,is,ma,Ks,Ia;if(typeof G=="number"&&(Ia=De,De=he,he=G,G=Ia),He=He||[1,1],kt=kt||!1,isNaN(he)||isNaN(De)||!Array.isArray(G)||!Array.isArray(He)||!fs(nt)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ih(he,De),Ot=He[0],fr=He[1],Ir=G.length,ma=he,Ks=De,vr=0;vr<Ir;vr++)($r=G[vr]).length===2?(ma=$r[0]*Ot+ma,Ks=$r[1]*fr+Ks,Fh(ma,Ks)):(xn=$r[0]*Ot+ma,Rs=$r[1]*fr+Ks,sa=$r[2]*Ot+ma,is=$r[3]*fr+Ks,ma=$r[4]*Ot+ma,Ks=$r[5]*fr+Ks,Pi(xn,Rs,sa,is,ma,Ks));return kt&&Jr(),wd(nt),this},f.path=function(G){for(var he=0;he<G.length;he++){var De=G[he],He=De.c;switch(De.op){case"m":Ih(He[0],He[1]);break;case"l":Fh(He[0],He[1]);break;case"c":Pi.apply(this,He);break;case"h":Jr()}}return this},f.__private__.rect=f.rect=function(G,he,De,He,nt){if(isNaN(G)||isNaN(he)||isNaN(De)||isNaN(He)||!fs(nt))throw new Error("Invalid arguments passed to jsPDF.rect");return A===N&&(He=-He),J([R(D(G)),R(H(he)),R(D(De)),R(D(He)),"re"].join(" ")),wd(nt),this},f.__private__.triangle=f.triangle=function(G,he,De,He,nt,kt,Ot){if(isNaN(G)||isNaN(he)||isNaN(De)||isNaN(He)||isNaN(nt)||isNaN(kt)||!fs(Ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[De-G,He-he],[nt-De,kt-He],[G-nt,he-kt]],G,he,[1,1],Ot,!0),this},f.__private__.roundedRect=f.roundedRect=function(G,he,De,He,nt,kt,Ot){if(isNaN(G)||isNaN(he)||isNaN(De)||isNaN(He)||isNaN(nt)||isNaN(kt)||!fs(Ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var fr=4/3*(Math.SQRT2-1);return nt=Math.min(nt,.5*De),kt=Math.min(kt,.5*He),this.lines([[De-2*nt,0],[nt*fr,0,nt,kt-kt*fr,nt,kt],[0,He-2*kt],[0,kt*fr,-nt*fr,kt,-nt,kt],[2*nt-De,0],[-nt*fr,0,-nt,-kt*fr,-nt,-kt],[0,2*kt-He],[0,-kt*fr,nt*fr,-kt,nt,-kt]],G+nt,he,[1,1],Ot,!0),this},f.__private__.ellipse=f.ellipse=function(G,he,De,He,nt){if(isNaN(G)||isNaN(he)||isNaN(De)||isNaN(He)||!fs(nt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*De,Ot=4/3*(Math.SQRT2-1)*He;return Ih(G+De,he),Pi(G+De,he-Ot,G+kt,he-He,G,he-He),Pi(G-kt,he-He,G-De,he-Ot,G-De,he),Pi(G-De,he+Ot,G-kt,he+He,G,he+He),Pi(G+kt,he+He,G+De,he+Ot,G+De,he),wd(nt),this},f.__private__.circle=f.circle=function(G,he,De,He){if(isNaN(G)||isNaN(he)||isNaN(De)||!fs(He))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(G,he,De,De,He)},f.setFont=function(G,he,De){return De&&(he=E(he,De)),gt=rn(G,he,{disableWarning:!1}),this};var Bl=f.__private__.getFont=f.getFont=function(){return $t[rn.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var G,he,De={};for(G in Lt)if(Lt.hasOwnProperty(G))for(he in De[G]=[],Lt[G])Lt[G].hasOwnProperty(he)&&De[G].push(he);return De},f.addFont=function(G,he,De,He,nt){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?nt=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(De=E(De,He)),It.call(this,G,he,De,nt=nt||"Identity-H")};var Di,Mo=t.lineWidth||.200025,yu=f.__private__.getLineWidth=f.getLineWidth=function(){return Mo},Rr=f.__private__.setLineWidth=f.setLineWidth=function(G){return Mo=G,J(R(D(G))+" w"),this};f.__private__.setLineDash=ir.API.setLineDash=ir.API.setLineDashPattern=function(G,he){if(G=G||[],he=he||0,isNaN(he)||!Array.isArray(G))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return G=G.map(function(De){return R(D(De))}).join(" "),he=R(D(he)),J("["+G+"] "+he+" d"),this};var Ul=f.__private__.getLineHeight=f.getLineHeight=function(){return Ie*Di};f.__private__.getLineHeight=f.getLineHeight=function(){return Ie*Di};var tv=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(G){return typeof(G=G||1.15)=="number"&&(Di=G),this},Np=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Di};tv(t.lineHeight);var ho=f.__private__.getHorizontalCoordinate=function(G){return D(G)},Cc=f.__private__.getVerticalCoordinate=function(G){return A===w?G:at[Y].mediaBox.topRightY-at[Y].mediaBox.bottomLeftY-D(G)},Sp=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(G){return R(ho(G))},Bh=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(G){return R(Cc(G))},bu=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Pe(bu)},f.__private__.setStrokeColor=f.setDrawColor=function(G,he,De,He){return bu=Te({ch1:G,ch2:he,ch3:De,ch4:He,pdfColorType:"draw",precision:2}),J(bu),this};var u0=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Pe(u0)},f.__private__.setFillColor=f.setFillColor=function(G,he,De,He){return u0=Te({ch1:G,ch2:he,ch3:De,ch4:He,pdfColorType:"fill",precision:2}),J(u0),this};var cl=t.textColor||"0 g",wu=f.__private__.getTextColor=f.getTextColor=function(){return Pe(cl)};f.__private__.setTextColor=f.setTextColor=function(G,he,De,He){return cl=Te({ch1:G,ch2:he,ch3:De,ch4:He,pdfColorType:"text",precision:3}),this};var Ri=t.charSpace,Uh=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ri||0)};f.__private__.setCharSpace=f.setCharSpace=function(G){if(isNaN(G))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ri=G,this};var h0=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(G){var he=f.CapJoinStyles[G];if(he===void 0)throw new Error("Line cap style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return h0=he,J(he+" J"),this};var f0=0;f.__private__.setLineJoin=f.setLineJoin=function(G){var he=f.CapJoinStyles[G];if(he===void 0)throw new Error("Line join style of '"+G+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return f0=he,J(he+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(G){if(G=G||0,isNaN(G))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(R(D(G))+" M"),this},f.GState=Tb,f.setGState=function(G){(G=typeof G=="string"?Ne[Qe[G]]:zh(null,G)).equals(Ve)||(J("/"+G.id+" gs"),Ve=G)};var zh=function(G,he){if(!G||!Qe[G]){var De=!1;for(var He in Ne)if(Ne.hasOwnProperty(He)&&Ne[He].equals(he)){De=!0;break}if(De)he=Ne[He];else{var nt="GS"+(Object.keys(Ne).length+1).toString(10);Ne[nt]=he,he.id=nt}return G&&(Qe[G]=he.id),Nt.publish("addGState",he),he}};f.addGState=function(G,he){return zh(G,he),this},f.saveGraphicsState=function(){return J("q"),or.push({key:gt,size:Ie,color:cl}),this},f.restoreGraphicsState=function(){J("Q");var G=or.pop();return gt=G.key,Ie=G.size,cl=G.color,Ve=null,this},f.setCurrentTransformationMatrix=function(G){return J(G.toString()+" cm"),this},f.comment=function(G){return J("#"+G),this};var Po=function(G,he){var De=G||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return De},set:function(kt){isNaN(kt)||(De=parseFloat(kt))}});var He=he||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(kt){isNaN(kt)||(He=parseFloat(kt))}});var nt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nt},set:function(kt){nt=kt.toString()}}),this},ju=function(G,he,De,He){Po.call(this,G,he),this.type="rect";var nt=De||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nt},set:function(Ot){isNaN(Ot)||(nt=parseFloat(Ot))}});var kt=He||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(Ot){isNaN(Ot)||(kt=parseFloat(Ot))}}),this},Nu=function(){this.page=tt,this.currentPage=Y,this.pages=Re.slice(0),this.pagesContext=at.slice(0),this.x=rt,this.y=Dt,this.matrix=Rt,this.width=jd(Y),this.height=Su(Y),this.outputDestination=ut,this.id="",this.objectNumber=-1};Nu.prototype.restore=function(){tt=this.page,Y=this.currentPage,at=this.pagesContext,Re=this.pages,rt=this.x,Dt=this.y,Rt=this.matrix,m0(Y,this.width),Ro(Y,this.height),ut=this.outputDestination};var Do=function(G,he,De,He,nt){Jt.push(new Nu),tt=Y=0,Re=[],rt=G,Dt=he,Rt=nt,Vt([De,He])};for(var kc in f.beginFormObject=function(G,he,De,He,nt){return Do(G,he,De,He,nt),this},f.endFormObject=function(G){return(function(he){if(Ar[he])Jt.pop().restore();else{var De=new Nu,He="Xo"+(Object.keys(Ht).length+1).toString(10);De.id=He,Ar[he]=He,Ht[He]=De,Nt.publish("addFormObject",De),Jt.pop().restore()}})(G),this},f.doFormObject=function(G,he){var De=Ht[Ar[G]];return J("q"),J(he.toString()+" cm"),J("/"+De.id+" Do"),J("Q"),this},f.getFormObject=function(G){var he=Ht[Ar[G]];return{x:he.x,y:he.y,width:he.width,height:he.height,matrix:he.matrix}},f.save=function(G,he){return G=G||"generated.pdf",(he=he||{}).returnPromise=he.returnPromise||!1,he.returnPromise===!1?(dm(Us(zr()),G),typeof dm.unload=="function"&&Ur.setTimeout&&setTimeout(dm.unload,911),this):new Promise(function(De,He){try{var nt=dm(Us(zr()),G);typeof dm.unload=="function"&&Ur.setTimeout&&setTimeout(dm.unload,911),De(nt)}catch(kt){He(kt.message)}})},ir.API)ir.API.hasOwnProperty(kc)&&(kc==="events"&&ir.API.events.length?(function(G,he){var De,He,nt;for(nt=he.length-1;nt!==-1;nt--)De=he[nt][0],He=he[nt][1],G.subscribe.apply(G,[De].concat(typeof He=="function"?[He]:He))})(Nt,ir.API.events):f[kc]=ir.API[kc]);function jd(G){return at[G].mediaBox.topRightX-at[G].mediaBox.bottomLeftX}function m0(G,he){at[G].mediaBox.topRightX=he+at[G].mediaBox.bottomLeftX}function Su(G){return at[G].mediaBox.topRightY-at[G].mediaBox.bottomLeftY}function Ro(G,he){at[G].mediaBox.topRightY=he+at[G].mediaBox.bottomLeftY}var zl=f.getPageWidth=function(G){return jd(G=G||Y)/At},ri=f.setPageWidth=function(G,he){m0(G,he*At)},Lo=f.getPageHeight=function(G){return Su(G=G||Y)/At},$h=f.setPageHeight=function(G,he){Ro(G,he*At)};return f.internal={pdfEscape:Ft,getStyle:Fl,getFont:Bl,getFontSize:le,getCharSpace:Uh,getTextColor:wu,getLineHeight:Ul,getLineHeightFactor:Np,getLineWidth:yu,write:ie,getHorizontalCoordinate:ho,getVerticalCoordinate:Cc,getCoordinateString:Sp,getVerticalCoordinateString:Bh,collections:{},newObject:sn,newAdditionalObject:Ee,newObjectDeferred:Bn,newObjectDeferredBegin:me,getFilters:it,putStream:bt,events:Nt,scaleFactor:At,pageSize:{getWidth:function(){return zl(Y)},setWidth:function(G){ri(Y,G)},getHeight:function(){return Lo(Y)},setHeight:function(G){$h(Y,G)}},encryptionOptions:u,encryption:hs,getEncryptor:function(G){return u!==null?hs.encryptor(G,0):function(he){return he}},output:Mi,getNumberOfPages:_r,get pages(){return Re},out:J,f2:k,f3:P,getPageInfo:cn,getPageInfoByObjId:Sa,getCurrentPageInfo:_a,getPDFVersion:v,Point:Po,Rectangle:ju,Matrix:er,hasHotfix:as},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return zl(Y)},set:function(G){ri(Y,G)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Lo(Y)},set:function(G){$h(Y,G)},enumerable:!0,configurable:!0}),(function(G){for(var he=0,De=Fe.length;he<De;he++){var He=It.call(this,G[he][0],G[he][1],G[he][2],Fe[he][3],!0);h===!1&&(m[He]=!0);var nt=G[he][0].split("-");yt({id:He,fontName:nt[0],fontStyle:nt[1]||""})}Nt.publish("addFonts",{fonts:$t,dictionary:Lt})}).call(f,Fe),gt="F1",Nr(a,r),Nt.publish("initialized"),f}mx.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},mx.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mx.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},mx.prototype.processOwnerPassword=function(t,e){return VE(GE(e).substr(0,5),t)},mx.prototype.encryptor=function(t,e){var r=GE(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return VE(r,s)}},Tb.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||es(t)!==es(this))return!1;var s=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;s++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&s--;return s===0},ir.API={events:[]},ir.version="3.0.4";var la=ir.API,ZM=1,up=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lx=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vr=function(t){return t.toFixed(2)},yf=function(t){return t.toFixed(5)};la.__acroform__={};var ll=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},GU=function(t){return t*ZM},Bd=function(t){var e=new NY,r=pr.internal.getHeight(t)||0,s=pr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vr(s)),Number(Vr(r))],e},MAe=la.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},PAe=la.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},DAe=la.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},va=la.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return DAe(t,e-1)},ya=la.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return MAe(t,e-1)},ba=la.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PAe(t,e-1)},RAe=la.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(Vr(c.lowerLeft_X)),Number(Vr(c.lowerLeft_Y)),Number(Vr(c.upperRight_X)),Number(Vr(c.upperRight_Y))]},LAe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,s=XE(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Vr(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Bd(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},XE=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=pr.internal.getHeight(t)||0;o=o<0?-o:o;var l=pr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(k,P,D){if(k+1<a.length){var H=P+" "+a[k+1][0];return ew(H,t,D).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,h=ew("3",t,i).height,m=t.multiline?o-i:(o-h)/2,f=m+=2,x=0,v=0,g=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+ew(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",N=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var A=!1;if(a[w].length!==1&&g!==a[w].length-1){if((h+2)*(N+2)+2>o)continue e;b+=a[w][g],A=!0,v=w,w--}else{b=(b+=a[w][g]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var j=parseInt(w),S=c(j,b,i),E=w>=a.length-1;if(S&&!E){b+=" ",g=0;continue}if(S||E){if(E)v=j;else if(t.multiline&&(h+2)*(N+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(N+2)+2>o)continue e;v=j}}for(var R="",C=x;C<=v;C++){var T=a[C];if(t.multiline){if(C===v){R+=T[g]+" ",g=(g+1)%T.length;continue}if(C===x){R+=T[T.length-1]+" ";continue}}R+=T[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,u=ew(R,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}e+=Vr(d)+" "+Vr(f)+` Td
`,e+="("+up(R)+`) Tj
`,e+=-Vr(d)+` 0 Td
`,f=-(i+2),u=0,x=A?v:v+1,N++,b=""}break}return s.text=e,s.fontSize=i,s},ew=function(t,e,r){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},OAe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},IAe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},FAe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(yd.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(OAe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ZM=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new SY,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&IAe(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=RAe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=pr.createDefaultAppearanceStream(l),es(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=LAe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var x=f[o];typeof x=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&(function(v,g){for(var b in v)if(v.hasOwnProperty(b)){var N=b,w=v[b];g.internal.newObjectDeferredBegin(w.objId,!0),es(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete v[N]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},jY=la.__acroform__.arrayToPdfArray=function(t,e,r){var s=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),es(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(s=r.internal.getEncryptor(e)),a+="("+up(s(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},OC=function(t,e,r){var s=function(a){return a};return e!==void 0&&r&&(s=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+up(s(t))+")"},Qd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qd.prototype.toString=function(){return this.objId+" 0 R"},Qd.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qd.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var s=e[r],a=this[s];a&&(Array.isArray(a)?t.push({key:s,value:jY(a,this.objId,this.scope)}):a instanceof Qd?(a.scope=this.scope,t.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:s,value:a}))}return t};var NY=function(){Qd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ll(NY,Qd);var SY=function(){Qd.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+up(r(t))+")"}},set:function(r){t=r}})};ll(SY,Qd);var yd=function t(){Qd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!va(e,3)},set:function(b){b?this.F=ya(e,3):this.F=ba(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(b){s=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(b){s[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(b){s[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(b){s[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(b){s[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof aN)return;i="FieldObject"+t.FieldNum++}var b=function(N){return N};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+up(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/ZM:d},set:function(b){d=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof aN||this instanceof qf))return OC(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof qa==0?OC(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof qa==0?b.substr(0,1)==="("?lx(b.substr(1,b.length-2)):lx(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof qa==1?lx(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof qa==1?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof qa==0?OC(f,this.objId,this.scope):f},set:function(b){b=b.toString(),f=this instanceof qa==0?b.substr(0,1)==="("?lx(b.substr(1,b.length-2)):lx(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof qa==1?lx(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof qa==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(b){b=!!b,v=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,1)},set:function(b){b?this.Ff=ya(this.Ff,1):this.Ff=ba(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,2)},set:function(b){b?this.Ff=ya(this.Ff,2):this.Ff=ba(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,3)},set:function(b){b?this.Ff=ya(this.Ff,3):this.Ff=ba(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');g=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(g){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};ll(yd,Qd);var Tm=function(){yd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jY(e,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,18)},set:function(r){r?this.Ff=ya(this.Ff,18):this.Ff=ba(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ya(this.Ff,19):this.Ff=ba(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,20)},set:function(r){r?(this.Ff=ya(this.Ff,20),e.sort()):this.Ff=ba(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,22)},set:function(r){r?this.Ff=ya(this.Ff,22):this.Ff=ba(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(r){r?this.Ff=ya(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,27)},set:function(r){r?this.Ff=ya(this.Ff,27):this.Ff=ba(this.Ff,27)}}),this.hasAppearanceStream=!1};ll(Tm,yd);var Mm=function(){Tm.call(this),this.fontName="helvetica",this.combo=!1};ll(Mm,Tm);var Pm=function(){Mm.call(this),this.combo=!0};ll(Pm,Mm);var jy=function(){Pm.call(this),this.edit=!0};ll(jy,Pm);var qa=function(){yd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,15)},set:function(r){r?this.Ff=ya(this.Ff,15):this.Ff=ba(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,16)},set:function(r){r?this.Ff=ya(this.Ff,16):this.Ff=ba(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,17)},set:function(r){r?this.Ff=ya(this.Ff,17):this.Ff=ba(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(r){r?this.Ff=ya(this.Ff,26):this.Ff=ba(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+up(r(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){es(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ll(qa,yd);var Ny=function(){qa.call(this),this.pushButton=!0};ll(Ny,qa);var Dm=function(){qa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ll(Dm,qa);var aN=function(){var t,e;yd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+up(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){es(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ll(aN,yd),Dm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Dm.prototype.createOption=function(t){var e=new aN;return e.Parent=this,e.optionName=t,this.Kids.push(e),BAe.call(this.scope,e),e};var Sy=function(){qa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pr.CheckBox.createAppearanceStream()};ll(Sy,qa);var qf=function(){yd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,13)},set:function(e){e?this.Ff=ya(this.Ff,13):this.Ff=ba(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,21)},set:function(e){e?this.Ff=ya(this.Ff,21):this.Ff=ba(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(e){e?this.Ff=ya(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,24)},set:function(e){e?this.Ff=ya(this.Ff,24):this.Ff=ba(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,25)},set:function(e){e?this.Ff=ya(this.Ff,25):this.Ff=ba(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(e){e?this.Ff=ya(this.Ff,26):this.Ff=ba(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ll(qf,yd);var _y=function(){qf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,14)},set:function(t){t?this.Ff=ya(this.Ff,14):this.Ff=ba(this.Ff,14)}}),this.password=!0};ll(_y,qf);var pr={CheckBox:{createAppearanceStream:function(){return{N:{On:pr.CheckBox.YesNormal},D:{On:pr.CheckBox.YesPushDown,Off:pr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Bd(t);e.scope=t.scope;var r=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=XE(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Vr(pr.internal.getWidth(t))+" "+Vr(pr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+Vr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Bd(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=[],i=pr.internal.getHeight(t),o=pr.internal.getWidth(t),l=XE(t,t.caption);return a.push("1 g"),a.push("0 0 "+Vr(o)+" "+Vr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Vr(o-1)+" "+Vr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Vr(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Bd(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vr(pr.internal.getWidth(t))+" "+Vr(pr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:pr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=pr.RadioButton.Circle.YesNormal,e.D[t]=pr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Bd(t);e.scope=t.scope;var r=[],s=pr.internal.getWidth(t)<=pr.internal.getHeight(t)?pr.internal.getWidth(t)/4:pr.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=pr.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+yf(pr.internal.getWidth(t)/2)+" "+yf(pr.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bd(t);e.scope=t.scope;var r=[],s=pr.internal.getWidth(t)<=pr.internal.getHeight(t)?pr.internal.getWidth(t)/4:pr.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*pr.internal.Bezier_C).toFixed(5)),o=Number((s*pr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yf(pr.internal.getWidth(t)/2)+" "+yf(pr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+yf(pr.internal.getWidth(t)/2)+" "+yf(pr.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Bd(t);e.scope=t.scope;var r=[],s=pr.internal.getWidth(t)<=pr.internal.getHeight(t)?pr.internal.getWidth(t)/4:pr.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*pr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yf(pr.internal.getWidth(t)/2)+" "+yf(pr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:pr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=pr.RadioButton.Cross.YesNormal,e.D[t]=pr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Bd(t);e.scope=t.scope;var r=[],s=pr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Vr(pr.internal.getWidth(t)-2)+" "+Vr(pr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Vr(s.x1.x)+" "+Vr(s.x1.y)+" m"),r.push(Vr(s.x2.x)+" "+Vr(s.x2.y)+" l"),r.push(Vr(s.x4.x)+" "+Vr(s.x4.y)+" m"),r.push(Vr(s.x3.x)+" "+Vr(s.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Bd(t);e.scope=t.scope;var r=pr.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+Vr(pr.internal.getWidth(t))+" "+Vr(pr.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Vr(pr.internal.getWidth(t)-2)+" "+Vr(pr.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(Vr(r.x1.x)+" "+Vr(r.x1.y)+" m"),s.push(Vr(r.x2.x)+" "+Vr(r.x2.y)+" l"),s.push(Vr(r.x4.x)+" "+Vr(r.x4.y)+" m"),s.push(Vr(r.x3.x)+" "+Vr(r.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Bd(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vr(pr.internal.getWidth(t))+" "+Vr(pr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};pr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=pr.internal.getWidth(t),r=pr.internal.getHeight(t),s=Math.min(e,r);return{x1:{x:(e-s)/2,y:(r-s)/2+s},x2:{x:(e-s)/2+s,y:(r-s)/2},x3:{x:(e-s)/2,y:(r-s)/2},x4:{x:(e-s)/2+s,y:(r-s)/2+s}}}},pr.internal.getWidth=function(t){var e=0;return es(t)==="object"&&(e=GU(t.Rect[2])),e},pr.internal.getHeight=function(t){var e=0;return es(t)==="object"&&(e=GU(t.Rect[3])),e};var BAe=la.addField=function(t){if(FAe(this,t),!(t instanceof yd))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};la.AcroFormChoiceField=Tm,la.AcroFormListBox=Mm,la.AcroFormComboBox=Pm,la.AcroFormEditBox=jy,la.AcroFormButton=qa,la.AcroFormPushButton=Ny,la.AcroFormRadioButton=Dm,la.AcroFormCheckBox=Sy,la.AcroFormTextField=qf,la.AcroFormPasswordField=_y,la.AcroFormAppearance=pr,la.AcroForm={ChoiceField:Tm,ListBox:Mm,ComboBox:Pm,EditBox:jy,Button:qa,PushButton:Ny,RadioButton:Dm,CheckBox:Sy,TextField:qf,PasswordField:_y,Appearance:pr},ir.AcroForm={ChoiceField:Tm,ListBox:Mm,ComboBox:Pm,EditBox:jy,Button:qa,PushButton:Ny,RadioButton:Dm,CheckBox:Sy,TextField:qf,PasswordField:_y,Appearance:pr};var UAe=ir.AcroForm;function _Y(t){return t.reduce(function(e,r,s){return e[r]=s,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(k,P){var D,H,F,z,O,W=r;if((P=P||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(S(k))for(O in s)for(F=s[O],D=0;D<F.length;D+=1){for(z=!0,H=0;H<F[D].length;H+=1)if(F[D][H]!==void 0&&F[D][H]!==k[H]){z=!1;break}if(z===!0){W=O;break}}else for(O in s)for(F=s[O],D=0;D<F.length;D+=1){for(z=!0,H=0;H<F[D].length;H+=1)if(F[D][H]!==void 0&&F[D][H]!==k.charCodeAt(H)){z=!1;break}if(z===!0){W=O;break}}return W===r&&P!==r&&(W=P),W},i=function k(P){for(var D=this.internal.write,H=this.internal.putStream,F=(0,this.internal.getFilters)();F.indexOf("FlateEncode")!==-1;)F.splice(F.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:P.width}),z.push({key:"Height",value:P.height}),P.colorSpace===b.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===b.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var O="",W=0,ee=P.transparency.length;W<ee;W++)O+=P.transparency[W]+" "+P.transparency[W]+" ";z.push({key:"Mask",value:"["+O+"]"})}P.sMask!==void 0&&z.push({key:"SMask",value:P.objectId+1+" 0 R"});var K=P.filter!==void 0?["/"+P.filter]:void 0;if(H({data:P.data,additionalKeyValues:z,alreadyAppliedFilters:K,objectId:P.objectId}),D("endobj"),"sMask"in P&&P.sMask!==void 0){var re,U=(re=P.sMaskBitsPerComponent)!==null&&re!==void 0?re:P.bitsPerComponent,Y={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:P.sMask};"filter"in P&&(Y.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(P.width),Y.filter=P.filter),k.call(this,Y)}if(P.colorSpace===b.INDEXED){var V=this.internal.newObject();H({data:R(new Uint8Array(P.palette)),objectId:V}),D("endobj")}},o=function(){var k=this.internal.collections[e+"images"];for(var P in k)i.call(this,k[P])},l=function(){var k,P=this.internal.collections[e+"images"],D=this.internal.write;for(var H in P)D("/I"+(k=P[H]).index,k.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var k=this.internal.collections[e+"images"];return c.call(this),k},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(k){return typeof t["process"+k.toUpperCase()]=="function"},m=function(k){return es(k)==="object"&&k.nodeType===1},f=function(k,P){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var D=""+k.getAttribute("src");if(D.indexOf("data:image/")===0)return Ww(unescape(D).split("base64,").pop());var H=t.loadFile(D,!0);if(H!==void 0)return H}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var F;switch(P){case"PNG":F="image/png";break;case"WEBP":F="image/webp";break;default:F="image/jpeg"}return Ww(k.toDataURL(F,1).split("base64,").pop())}},x=function(k){var P=this.internal.collections[e+"images"];if(P){for(var D in P)if(k===P[D].alias)return P[D]}},v=function(k,P,D){return k||P||(k=-96,P=-96),k<0&&(k=-1*D.width*72/k/this.internal.scaleFactor),P<0&&(P=-1*D.height*72/P/this.internal.scaleFactor),k===0&&(k=P*D.width/D.height),P===0&&(P=k*D.height/D.width),[k,P]},g=function(k,P,D,H,F,z){var O=v.call(this,D,H,F),W=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,K=d.call(this);if(D=O[0],H=O[1],K[F.index]=F,z){z*=Math.PI/180;var re=Math.cos(z),U=Math.sin(z),Y=function(Z){return Z.toFixed(4)},V=[Y(re),Y(U),Y(-1*U),Y(re),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,W(k),ee(P+H),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([W(D),"0","0",W(H),"0","0","cm"].join(" "))):this.internal.write([W(D),"0","0",W(H),W(k),ee(P+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+F.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(k){var P,D,H=0;if(typeof k=="string")for(D=k.length,P=0;P<D;P++)H=(H<<5)-H+k.charCodeAt(P),H|=0;else if(S(k))for(D=k.byteLength/2,P=0;P<D;P++)H=(H<<5)-H+k[P],H|=0;return H},A=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var P=!0;return k.length===0&&(P=!1),k.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(P=!1),P},j=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var P=k.indexOf(",");return P<0?null:k.substring(0,P).trim().endsWith("base64")?k.substring(P+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var S=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},E=t.__addimage__.binaryStringToUint8Array=function(k){for(var P=k.length,D=new Uint8Array(P),H=0;H<P;H++)D[H]=k.charCodeAt(H);return D},R=t.__addimage__.arrayBufferToBinaryString=function(k){for(var P="",D=S(k)?k:new Uint8Array(k),H=0;H<D.length;H+=8192)P+=String.fromCharCode.apply(null,D.subarray(H,H+8192));return P};t.addImage=function(){var k,P,D,H,F,z,O,W,ee;if(typeof arguments[1]=="number"?(P=r,D=arguments[1],H=arguments[2],F=arguments[3],z=arguments[4],O=arguments[5],W=arguments[6],ee=arguments[7]):(P=arguments[1],D=arguments[2],H=arguments[3],F=arguments[4],z=arguments[5],O=arguments[6],W=arguments[7],ee=arguments[8]),es(k=arguments[0])==="object"&&!m(k)&&"imageData"in k){var K=k;k=K.imageData,P=K.format||P||r,D=K.x||D||0,H=K.y||H||0,F=K.w||K.width||F,z=K.h||K.height||z,O=K.alias||O,W=K.compression||W,ee=K.rotation||K.angle||ee}var re=this.internal.getFilters();if(W===void 0&&re.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(D)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=C.call(this,k,P,O,W);return g.call(this,D,H,F,z,U,ee),this};var C=function(k,P,D,H){var F,z,O;if(typeof k=="string"&&a(k)===r){k=unescape(k);var W=T(k,!1);(W!==""||(W=t.loadFile(k,!0))!==void 0)&&(k=W)}if(m(k)&&(k=f(k,P)),P=a(k,P),!h(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((O=D)==null||O.length===0)&&(D=(function(ee){return typeof ee=="string"||S(ee)?w(ee):S(ee.data)?w(ee.data):null})(k)),(F=x.call(this,D))||(k instanceof Uint8Array||P==="RGBA"||(z=k,k=E(k)),F=this["process"+P.toUpperCase()](k,u.call(this),D,(function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:N.NONE})(H),z)),!F)throw new Error("An unknown error occurred whilst processing the image.");return F},T=t.__addimage__.convertBase64ToBinaryString=function(k,P){P=typeof P!="boolean"||P;var D,H="";if(typeof k=="string"){var F;D=(F=j(k))!==null&&F!==void 0?F:k;try{H=Ww(D)}catch(z){if(P)throw A(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(k){var P,D,H="";if(m(k)&&(k=f(k)),typeof k=="string"&&a(k)===r&&((H=T(k,!1))===""&&(H=t.loadFile(k)||""),k=H),D=a(k),!h(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(k instanceof Uint8Array||(k=E(k)),!(P=this["process"+D.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=D,P}})(ir.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ir.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((s=d[h]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){s=d[m];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(v.objId),N=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+f(b(s.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(b(N))+") >>",v.content=i;var w=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+w,s.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(v.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var A=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(x(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var j=this.annotations._nameMap[s.options.name];s.options.pageNumber=j.page,s.options.top=j.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var S=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+S+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},t.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(s),w:c(r+a),h:d(s+i)},options:o,type:"link"})},t.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},t.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(ir.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&a.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&e[v.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(v){var g=0,b=r,N="",w=0;for(g=0;g<v.length;g+=1)b[v.charCodeAt(g)]!==void 0?(w++,typeof(b=b[v.charCodeAt(g)])=="number"&&(N+=String.fromCharCode(b),b=r,w=0),g===v.length-1&&(b=r,N+=v.charAt(g-(w-1)),g-=w-1,w=0)):(b=r,N+=v.charAt(g-w),g-=w,w=0);return N};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&s[v.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(v,g,b){return o(v)?i(v)===!1?-1:!d(v)||!o(g)&&!o(b)||!o(b)&&l(g)||l(v)&&!o(g)||l(v)&&c(g)||l(v)&&l(g)?0:u(v)&&o(g)&&!l(g)&&o(b)&&d(b)?3:l(v)||!o(b)?1:2:-1},f=function(v){var g=0,b=0,N=0,w="",A="",j="",S=(v=v||"").split("\\s+"),E=[];for(g=0;g<S.length;g+=1){for(E.push(""),b=0;b<S[g].length;b+=1)w=S[g][b],A=S[g][b-1],j=S[g][b+1],o(w)?(N=m(w,A,j),E[g]+=N!==-1?String.fromCharCode(e[w.charCodeAt(0)][N]):w):E[g]+=w;E[g]=h(E[g])}return E.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var v,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(g)){var N=0;for(b=[],N=0;N<g.length;N+=1)Array.isArray(g[N])?b.push([f(g[N][0]),g[N][1],g[N][2]]):b.push([f(g[N])]);v=b}else v=f(g);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",x])})(ir.API),ir.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(ir.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,f=0,x=0,v=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=d.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,A){return w.concat(g.splitTextToSize(A,b))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)f<(v=this.getStringUnitWidth(c[N],{font:h})*u)&&(f=v);return f!==0&&(x=c.length),{w:f/=m,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,m){if(s.call(this),!u)throw new Error("No data for PDF table.");var f,x,v,g,b=[],N=[],w=[],A={},j={},S=[],E=[],R=(m=m||{}).autoSize||!1,C=m.printHeaders!==!1,T=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,k=m.margins||Object.assign({width:this.getPageWidth()},e),P=typeof m.padding=="number"?m.padding:3,D=m.headerBackgroundColor||"#c8c8c8",H=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=H,this.setFontSize(T),h==null)N=b=Object.keys(u[0]),w=b.map(function(){return"left"});else if(Array.isArray(h)&&es(h[0])==="object")for(b=h.map(function(K){return K.name}),N=h.map(function(K){return K.prompt||K.name||""}),w=h.map(function(K){return K.align||"left"}),f=0;f<h.length;f+=1)j[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(N=b=h,w=b.map(function(){return"left"}));if(R||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<b.length;f+=1){for(A[g=b[f]]=u.map(function(K){return K[g]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(N[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=A[g],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)S.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[g]=Math.max.apply(null,S)+P+P,S=[]}if(C){var F={};for(f=0;f<b.length;f+=1)F[b[f]]={},F[b[f]].text=N[f],F[b[f]].align=w[f];var z=l.call(this,F,j);E=b.map(function(K){return new i(c,d,j[K],z,F[K].text,void 0,F[K].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var O=h.reduce(function(K,re){return K[re.name]=re.align,K},{});for(f=0;f<u.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:u[f]},this);var W=l.call(this,u[f],j);for(v=0;v<b.length;v+=1){var ee=u[f][b[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:v,data:ee},this),o.call(this,new i(c,d,j[b[v]],W,ee,f+2,O[b[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var x=c[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/m+u+u},this).reduce(function(f,x){return Math.max(f,x)},0)};t.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(ir.API);var AY={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},CY=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],YE=_Y(CY),kY=[100,200,300,400,500,600,700,800,900],zAe=_Y(kY);function IC(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return AY[i=i||"normal"]?i:"normal"})(t.style),s=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof YE[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:s,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,s].join(" ")}}}function VU(t,e,r,s){var a;for(a=r;a>=0&&a<e.length;a+=s)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=s)if(t[e[a]])return t[e[a]]}var $Ae={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},XU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function YU(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function KU(t){return t.trimLeft()}function HAe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function WAe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var tw,JU,QU,cx,rw,ZU,ez,tz,FC=["times"];function rz(t,e,r,s,a){var i=4,o=sz;switch(a){case ir.API.image_compression.FAST:i=1,o=nz;break;case ir.API.image_compression.MEDIUM:i=6,o=az;break;case ir.API.image_compression.SLOW:i=9,o=iz}t=(function(c,d,u,h){for(var m,f=c.length/d,x=new Uint8Array(c.length+f),v=[qAe,nz,sz,az,iz],g=0;g<f;g+=1){var b=g*d,N=c.subarray(b,b+d);if(h)x.set(h(N,u,m),b+g);else{for(var w=v.length,A=[],j=0;j<w;j+=1)A[j]=v[j](N,u,m);var S=VAe(A.concat());x.set(A[S],b+g)}m=N}return x})(t,e,Math.ceil(r*s/8),o);var l=$E(t,{level:i});return ir.API.__addimage__.arrayBufferToBinaryString(l)}function qAe(t){var e=Array.apply([],t);return e.unshift(0),e}function nz(t,e){var r=t.length,s=[];s[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;s[a+1]=t[a]-i+256&255}return s}function sz(t,e,r){var s=t.length,a=[];a[0]=2;for(var i=0;i<s;i+=1){var o=r&&r[i]||0;a[i+1]=t[i]-o+256&255}return a}function az(t,e,r){var s=t.length,a=[];a[0]=3;for(var i=0;i<s;i+=1){var o=t[i-e]||0,l=r&&r[i]||0;a[i+1]=t[i]+256-(o+l>>>1)&255}return a}function iz(t,e,r){var s=t.length,a=[];a[0]=4;for(var i=0;i<s;i+=1){var o=GAe(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-o+256&255}return a}function GAe(t,e,r){if(t===e&&e===r)return t;var s=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return s<=a&&s<=i?t:a<=i?e:r}function VAe(t){var e=t.map(function(r){return r.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function BC(t,e,r){var s=e*r,a=Math.floor(s/8),i=16-(s-8*a+r),o=(1<<r)-1;return EY(t,a)>>i&o}function oz(t,e,r,s){var a=r*s,i=Math.floor(a/8),o=16-(a-8*i+s),l=(1<<s)-1,c=(e&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var m=h>>8&255;d.setUint8(u,m)}})(t,i,EY(t,i)&~(l<<o)&65535|c)}function EY(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function XAe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,m=null,f=0,x=null;for(this.width=r,this.height=s;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],1&v||(m=null),f=v>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,A=t[e++],j=A>>6&1,S=1<<1+(7&A),E=l,R=c,C=!1;A>>7&&(C=!0,E=e,R=S,e+=3*S);var T=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}u.push({x:g,y:b,width:N,height:w,has_local_palette:C,palette_offset:E,palette_size:R,data_offset:T,data_length:e-T,transparent_index:m,interlaced:!!j,delay:h,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,D){var H=this.frameInfo(P),F=H.width*H.height,z=new Uint8Array(F);lz(t,H.data_offset,z,F);var O=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var ee=H.width,K=r-ee,re=ee,U=4*(H.y*r+H.x),Y=4*((H.y+H.height)*r+H.x),V=U,Z=4*K;H.interlaced===!0&&(Z+=4*r*7);for(var ce=8,fe=0,ye=z.length;fe<ye;++fe){var ge=z[fe];if(re===0&&(re=ee,(V+=Z)>=Y&&(Z=4*K+4*r*(ce-1),V=U+(ee+K)*(ce<<1),ce>>=1)),ge===W)V+=4;else{var we=t[O+3*ge],Re=t[O+3*ge+1],oe=t[O+3*ge+2];D[V++]=oe,D[V++]=Re,D[V++]=we,D[V++]=255}--re}},this.decodeAndBlitFrameRGBA=function(P,D){var H=this.frameInfo(P),F=H.width*H.height,z=new Uint8Array(F);lz(t,H.data_offset,z,F);var O=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var ee=H.width,K=r-ee,re=ee,U=4*(H.y*r+H.x),Y=4*((H.y+H.height)*r+H.x),V=U,Z=4*K;H.interlaced===!0&&(Z+=4*r*7);for(var ce=8,fe=0,ye=z.length;fe<ye;++fe){var ge=z[fe];if(re===0&&(re=ee,(V+=Z)>=Y&&(Z=4*K+4*r*(ce-1),V=U+(ee+K)*(ce<<1),ce>>=1)),ge===W)V+=4;else{var we=t[O+3*ge],Re=t[O+3*ge+1],oe=t[O+3*ge+2];D[V++]=we,D[V++]=Re,D[V++]=oe,D[V++]=255}--re}}}function lz(t,e,r,s){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,m=0,f=t[e++],x=new Int32Array(4096),v=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<c)break;var g=h&d;if(h>>=c,u-=c,g!==i){if(g===o)break;for(var b=g<l?g:v,N=0,w=b;w>i;)w=x[w]>>8,++N;var A=w;if(m+N+(b!==g?1:0)>s)return void xs.log("Warning, gif stream longer than expected.");r[m++]=A;var j=m+=N;for(b!==g&&(r[m++]=A),w=b;N--;)w=x[w],r[--j]=255&w,w>>=8;v!==null&&l<4096&&(x[l++]=v<<8|A,l>=d+1&&c<12&&(++c,d=d<<1|1)),v=g}else l=o+1,d=(1<<(c=a+1))-1,v=null}return m!==s&&xs.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function UC(t){var e,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),x=new Array(64),v=[],g=0,b=7,N=new Array(64),w=new Array(64),A=new Array(64),j=new Array(256),S=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(U,Y){for(var V=0,Z=0,ce=new Array,fe=1;fe<=16;fe++){for(var ye=1;ye<=U[fe];ye++)ce[Y[Z]]=[],ce[Y[Z]][0]=V,ce[Y[Z]][1]=fe,Z++,V++;V*=2}return ce}function O(U){for(var Y=U[0],V=U[1]-1;V>=0;)Y&1<<V&&(g|=1<<b),V--,--b<0&&(g==255?(W(255),W(0)):W(g),b=7,g=0)}function W(U){v.push(U)}function ee(U){W(U>>8&255),W(255&U)}function K(U,Y,V,Z,ce){for(var fe,ye=ce[0],ge=ce[240],we=(function(Ie,$e){var le,ae,_e,qe,Ke,et,Tt,ft,gt,At,rt=0;for(gt=0;gt<8;++gt){le=Ie[rt],ae=Ie[rt+1],_e=Ie[rt+2],qe=Ie[rt+3],Ke=Ie[rt+4],et=Ie[rt+5],Tt=Ie[rt+6];var Dt=le+(ft=Ie[rt+7]),Rt=le-ft,$t=ae+Tt,Lt=ae-Tt,or=_e+et,Bt=_e-et,Ge=qe+Ke,Ne=qe-Ke,Qe=Dt+Ge,Ve=Dt-Ge,tt=$t+or,at=$t-or;Ie[rt]=Qe+tt,Ie[rt+4]=Qe-tt;var Nt=.707106781*(at+Ve);Ie[rt+2]=Ve+Nt,Ie[rt+6]=Ve-Nt;var qt=.382683433*((Qe=Ne+Bt)-(at=Lt+Rt)),Ht=.5411961*Qe+qt,Ar=1.306562965*at+qt,Jt=.707106781*(tt=Bt+Lt),er=Rt+Jt,bn=Rt-Jt;Ie[rt+5]=bn+Ht,Ie[rt+3]=bn-Ht,Ie[rt+1]=er+Ar,Ie[rt+7]=er-Ar,rt+=8}for(rt=0,gt=0;gt<8;++gt){le=Ie[rt],ae=Ie[rt+8],_e=Ie[rt+16],qe=Ie[rt+24],Ke=Ie[rt+32],et=Ie[rt+40],Tt=Ie[rt+48];var js=le+(ft=Ie[rt+56]),Fn=le-ft,ss=ae+Tt,sn=ae-Tt,Bn=_e+et,me=_e-et,Ee=qe+Ke,Se=qe-Ke,Ce=js+Ee,Pe=js-Ee,Te=ss+Bn,it=ss-Bn;Ie[rt]=Ce+Te,Ie[rt+32]=Ce-Te;var bt=.707106781*(it+Pe);Ie[rt+16]=Pe+bt,Ie[rt+48]=Pe-bt;var lt=.382683433*((Ce=Se+me)-(it=sn+Fn)),ct=.5411961*Ce+lt,mt=1.306562965*it+lt,de=.707106781*(Te=me+sn),Oe=Fn+de,We=Fn-de;Ie[rt+40]=We+ct,Ie[rt+24]=We-ct,Ie[rt+8]=Oe+mt,Ie[rt+56]=Oe-mt,rt++}for(gt=0;gt<64;++gt)At=Ie[gt]*$e[gt],f[gt]=At>0?At+.5|0:At-.5|0;return f})(U,Y),Re=0;Re<64;++Re)x[E[Re]]=we[Re];var oe=x[0]-V;V=x[0],oe==0?O(Z[0]):(O(Z[m[fe=32767+oe]]),O(h[fe]));for(var ut=63;ut>0&&x[ut]==0;)ut--;if(ut==0)return O(ye),V;for(var se,J=1;J<=ut;){for(var ie=J;x[J]==0&&J<=ut;)++J;var Ae=J-ie;if(Ae>=16){se=Ae>>4;for(var Fe=1;Fe<=se;++Fe)O(ge);Ae&=15}fe=32767+x[J],O(ce[(Ae<<4)+m[fe]]),O(h[fe]),J++}return ut!=63&&O(ye),V}function re(U){U=Math.min(Math.max(U,1),100),i!=U&&((function(Y){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ce=o((V[Z]*Y+50)/100);ce=Math.min(Math.max(ce,1),255),l[E[Z]]=ce}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var ge=o((fe[ye]*Y+50)/100);ge=Math.min(Math.max(ge,1),255),c[E[ye]]=ge}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,oe=0;oe<8;oe++)for(var ut=0;ut<8;ut++)d[Re]=1/(l[E[Re]]*we[oe]*we[ut]*8),u[Re]=1/(c[E[Re]]*we[oe]*we[ut]*8),Re++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,Y){Y&&re(Y),v=new Array,g=0,b=7,ee(65496),ee(65504),ee(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),ee(1),ee(1),W(0),W(0),(function(){ee(65499),ee(132),W(0);for(var ae=0;ae<64;ae++)W(l[ae]);W(1);for(var _e=0;_e<64;_e++)W(c[_e])})(),(function(ae,_e){ee(65472),ee(17),W(8),ee(_e),ee(ae),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)})(U.width,U.height),(function(){ee(65476),ee(418),W(0);for(var ae=0;ae<16;ae++)W(R[ae+1]);for(var _e=0;_e<=11;_e++)W(C[_e]);W(16);for(var qe=0;qe<16;qe++)W(T[qe+1]);for(var Ke=0;Ke<=161;Ke++)W(k[Ke]);W(1);for(var et=0;et<16;et++)W(P[et+1]);for(var Tt=0;Tt<=11;Tt++)W(D[Tt]);W(17);for(var ft=0;ft<16;ft++)W(H[ft+1]);for(var gt=0;gt<=161;gt++)W(F[gt])})(),ee(65498),ee(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var V=0,Z=0,ce=0;g=0,b=7,this.encode.displayName="_encode_";for(var fe,ye,ge,we,Re,oe,ut,se,J,ie=U.data,Ae=U.width,Fe=U.height,Ie=4*Ae,$e=0;$e<Fe;){for(fe=0;fe<Ie;){for(Re=Ie*$e+fe,ut=-1,se=0,J=0;J<64;J++)oe=Re+(se=J>>3)*Ie+(ut=4*(7&J)),$e+se>=Fe&&(oe-=Ie*($e+1+se-Fe)),fe+ut>=Ie&&(oe-=fe+ut-Ie+4),ye=ie[oe++],ge=ie[oe++],we=ie[oe++],N[J]=(S[ye]+S[ge+256|0]+S[we+512|0]>>16)-128,w[J]=(S[ye+768|0]+S[ge+1024|0]+S[we+1280|0]>>16)-128,A[J]=(S[ye+1280|0]+S[ge+1536|0]+S[we+1792|0]>>16)-128;V=K(N,d,V,e,s),Z=K(w,u,Z,r,a),ce=K(A,u,ce,r,a),fe+=32}$e+=8}if(b>=0){var le=[];le[1]=b+1,le[0]=(1<<b+1)-1,O(le)}return ee(65497),new Uint8Array(v)},t=t||50,(function(){for(var U=String.fromCharCode,Y=0;Y<256;Y++)j[Y]=U(Y)})(),e=z(R,C),r=z(P,D),s=z(T,k),a=z(H,F),(function(){for(var U=1,Y=2,V=1;V<=15;V++){for(var Z=U;Z<Y;Z++)m[32767+Z]=V,h[32767+Z]=[],h[32767+Z][1]=V,h[32767+Z][0]=Z;for(var ce=-(Y-1);ce<=-U;ce++)m[32767+ce]=V,h[32767+ce]=[],h[32767+ce][1]=V,h[32767+ce][0]=Y-1+ce;U<<=1,Y<<=1}})(),(function(){for(var U=0;U<256;U++)S[U]=19595*U,S[U+256|0]=38470*U,S[U+512|0]=7471*U+32768,S[U+768|0]=-11059*U,S[U+1024|0]=-21709*U,S[U+1280|0]=32768*U+8421375,S[U+1536|0]=-27439*U,S[U+1792|0]=-5329*U})(),re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cz(t){function e(C){if(!C)throw Error("assert :P")}function r(C,T,k){for(var P=0;4>P;P++)if(C[T+P]!=k.charCodeAt(P))return!0;return!1}function s(C,T,k,P,D){for(var H=0;H<D;H++)C[T+H]=k[P+H]}function a(C,T,k,P){for(var D=0;D<P;D++)C[T+D]=k}function i(C){return new Int32Array(C)}function o(C,T){for(var k=[],P=0;P<C;P++)k.push(new T);return k}function l(C,T){var k=[];return(function P(D,H,F){for(var z=F[H],O=0;O<z&&(D.push(F.length>H+1?[]:new T),!(F.length<H+1));O++)P(D[O],H+1,F)})(k,0,C),k}var c=function(){var C=this;function T(M,B){for(var Q=1<<B-1>>>0;M&Q;)Q>>>=1;return Q?(M&Q-1)+Q:M}function k(M,B,Q,ne,ue){e(!(ne%Q));do M[B+(ne-=Q)]=ue;while(0<ne)}function P(M,B,Q,ne,ue){if(e(2328>=ue),512>=ue)var xe=i(512);else if((xe=i(ue))==null)return 0;return(function(ve,be,je,ke,Xe,ot){var Me,Je,st=be,Ct=1<<je,ht=i(16),jt=i(16);for(e(Xe!=0),e(ke!=null),e(ve!=null),e(0<je),Je=0;Je<Xe;++Je){if(15<ke[Je])return 0;++ht[ke[Je]]}if(ht[0]==Xe)return 0;for(jt[1]=0,Me=1;15>Me;++Me){if(ht[Me]>1<<Me)return 0;jt[Me+1]=jt[Me]+ht[Me]}for(Je=0;Je<Xe;++Je)Me=ke[Je],0<ke[Je]&&(ot[jt[Me]++]=Je);if(jt[15]==1)return(ke=new D).g=0,ke.value=ot[0],k(ve,st,1,Ct,ke),Ct;var St,Mt=-1,Pt=Ct-1,yr=0,cr=1,Wr=1,mr=1<<je;for(Je=0,Me=1,Xe=2;Me<=je;++Me,Xe<<=1){if(cr+=Wr<<=1,0>(Wr-=ht[Me]))return 0;for(;0<ht[Me];--ht[Me])(ke=new D).g=Me,ke.value=ot[Je++],k(ve,st+yr,Xe,mr,ke),yr=T(yr,Me)}for(Me=je+1,Xe=2;15>=Me;++Me,Xe<<=1){if(cr+=Wr<<=1,0>(Wr-=ht[Me]))return 0;for(;0<ht[Me];--ht[Me]){if(ke=new D,(yr&Pt)!=Mt){for(st+=mr,St=1<<(Mt=Me)-je;15>Mt&&!(0>=(St-=ht[Mt]));)++Mt,St<<=1;Ct+=mr=1<<(St=Mt-je),ve[be+(Mt=yr&Pt)].g=St+je,ve[be+Mt].value=st-be-Mt}ke.g=Me-je,ke.value=ot[Je++],k(ve,st+(yr>>je),Xe,mr,ke),yr=T(yr,Me)}}return cr!=2*jt[15]-1?0:Ct})(M,B,Q,ne,ue,xe)}function D(){this.value=this.g=0}function H(){this.value=this.g=0}function F(){this.G=o(5,D),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Oo,H)}function z(M,B,Q,ne){e(M!=null),e(B!=null),e(2147483648>ne),M.Ca=254,M.I=0,M.b=-8,M.Ka=0,M.oa=B,M.pa=Q,M.Jd=B,M.Yc=Q+ne,M.Zc=4<=ne?Q+ne-4+1:Q,ye(M)}function O(M,B){for(var Q=0;0<B--;)Q|=we(M,128)<<B;return Q}function W(M,B){var Q=O(M,B);return ge(M)?-Q:Q}function ee(M,B,Q,ne){var ue,xe=0;for(e(M!=null),e(B!=null),e(4294967288>ne),M.Sb=ne,M.Ra=0,M.u=0,M.h=0,4<ne&&(ne=4),ue=0;ue<ne;++ue)xe+=B[Q+ue]<<8*ue;M.Ra=xe,M.bb=ne,M.oa=B,M.pa=Q}function K(M){for(;8<=M.u&&M.bb<M.Sb;)M.Ra>>>=8,M.Ra+=M.oa[M.pa+M.bb]<<Cd-8>>>0,++M.bb,M.u-=8;Z(M)&&(M.h=1,M.u=0)}function re(M,B){if(e(0<=B),!M.h&&B<=po){var Q=V(M)&mo[B];return M.u+=B,K(M),Q}return M.h=1,M.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(M){return M.Ra>>>(M.u&Cd-1)>>>0}function Z(M){return e(M.bb<=M.Sb),M.h||M.bb==M.Sb&&M.u>Cd}function ce(M,B){M.u=B,M.h=Z(M)}function fe(M){M.u>=Hl&&(e(M.u>=Hl),K(M))}function ye(M){e(M!=null&&M.oa!=null),M.pa<M.Zc?(M.I=(M.oa[M.pa++]|M.I<<8)>>>0,M.b+=8):(e(M!=null&&M.oa!=null),M.pa<M.Yc?(M.b+=8,M.I=M.oa[M.pa++]|M.I<<8):M.Ka?M.b=0:(M.I<<=8,M.b+=8,M.Ka=1))}function ge(M){return O(M,1)}function we(M,B){var Q=M.Ca;0>M.b&&ye(M);var ne=M.b,ue=Q*B>>>8,xe=(M.I>>>ne>ue)+0;for(xe?(Q-=ue,M.I-=ue+1<<ne>>>0):Q=ue+1,ne=Q,ue=0;256<=ne;)ue+=8,ne>>=8;return ne=7^ue+Pc[ne],M.b-=ne,M.Ca=(Q<<ne)-1,xe}function Re(M,B,Q){M[B+0]=Q>>24&255,M[B+1]=Q>>16&255,M[B+2]=Q>>8&255,M[B+3]=255&Q}function oe(M,B){return M[B+0]|M[B+1]<<8}function ut(M,B){return oe(M,B)|M[B+2]<<16}function se(M,B){return oe(M,B)|oe(M,B+2)<<16}function J(M,B){var Q=1<<B;return e(M!=null),e(0<B),M.X=i(Q),M.X==null?0:(M.Mb=32-B,M.Xa=B,1)}function ie(M,B){e(M!=null),e(B!=null),e(M.Xa==B.Xa),s(B.X,0,M.X,0,1<<B.Xa)}function Ae(){this.X=[],this.Xa=this.Mb=0}function Fe(M,B,Q,ne){e(Q!=null),e(ne!=null);var ue=Q[0],xe=ne[0];return ue==0&&(ue=(M*xe+B/2)/B),xe==0&&(xe=(B*ue+M/2)/M),0>=ue||0>=xe?0:(Q[0]=ue,ne[0]=xe,1)}function Ie(M,B){return M+(1<<B)-1>>>B}function $e(M,B){return((4278255360&M)+(4278255360&B)>>>0&4278255360)+((16711935&M)+(16711935&B)>>>0&16711935)>>>0}function le(M,B){C[B]=function(Q,ne,ue,xe,ve,be,je){var ke;for(ke=0;ke<ve;++ke){var Xe=C[M](be[je+ke-1],ue,xe+ke);be[je+ke]=$e(Q[ne+ke],Xe)}}}function ae(){this.ud=this.hd=this.jd=0}function _e(M,B){return((4278124286&(M^B))>>>1)+(M&B)>>>0}function qe(M){return 0<=M&&256>M?M:0>M?0:255<M?255:void 0}function Ke(M,B){return qe(M+(M-B+.5>>1))}function et(M,B,Q){return Math.abs(B-Q)-Math.abs(M-Q)}function Tt(M,B,Q,ne,ue,xe,ve){for(ne=xe[ve-1],Q=0;Q<ue;++Q)xe[ve+Q]=ne=$e(M[B+Q],ne)}function ft(M,B,Q,ne,ue){var xe;for(xe=0;xe<Q;++xe){var ve=M[B+xe],be=ve>>8&255,je=16711935&(je=(je=16711935&ve)+((be<<16)+be));ne[ue+xe]=(4278255360&ve)+je>>>0}}function gt(M,B){B.jd=255&M,B.hd=M>>8&255,B.ud=M>>16&255}function At(M,B,Q,ne,ue,xe){var ve;for(ve=0;ve<ne;++ve){var be=B[Q+ve],je=be>>>8,ke=be,Xe=255&(Xe=(Xe=be>>>16)+((M.jd<<24>>24)*(je<<24>>24)>>>5));ke=255&(ke=(ke+=(M.hd<<24>>24)*(je<<24>>24)>>>5)+((M.ud<<24>>24)*(Xe<<24>>24)>>>5)),ue[xe+ve]=(4278255360&be)+(Xe<<16)+ke}}function rt(M,B,Q,ne,ue){C[B]=function(xe,ve,be,je,ke,Xe,ot,Me,Je){for(je=ot;je<Me;++je)for(ot=0;ot<Je;++ot)ke[Xe++]=ue(be[ne(xe[ve++])])},C[M]=function(xe,ve,be,je,ke,Xe,ot){var Me=8>>xe.b,Je=xe.Ea,st=xe.K[0],Ct=xe.w;if(8>Me)for(xe=(1<<xe.b)-1,Ct=(1<<Me)-1;ve<be;++ve){var ht,jt=0;for(ht=0;ht<Je;++ht)ht&xe||(jt=ne(je[ke++])),Xe[ot++]=ue(st[jt&Ct]),jt>>=Me}else C["VP8LMapColor"+Q](je,ke,st,Ct,Xe,ot,ve,be,Je)}}function Dt(M,B,Q,ne,ue){for(Q=B+Q;B<Q;){var xe=M[B++];ne[ue++]=xe>>16&255,ne[ue++]=xe>>8&255,ne[ue++]=255&xe}}function Rt(M,B,Q,ne,ue){for(Q=B+Q;B<Q;){var xe=M[B++];ne[ue++]=xe>>16&255,ne[ue++]=xe>>8&255,ne[ue++]=255&xe,ne[ue++]=xe>>24&255}}function $t(M,B,Q,ne,ue){for(Q=B+Q;B<Q;){var xe=(ve=M[B++])>>16&240|ve>>12&15,ve=240&ve|ve>>28&15;ne[ue++]=xe,ne[ue++]=ve}}function Lt(M,B,Q,ne,ue){for(Q=B+Q;B<Q;){var xe=(ve=M[B++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;ne[ue++]=xe,ne[ue++]=ve}}function or(M,B,Q,ne,ue){for(Q=B+Q;B<Q;){var xe=M[B++];ne[ue++]=255&xe,ne[ue++]=xe>>8&255,ne[ue++]=xe>>16&255}}function Bt(M,B,Q,ne,ue,xe){if(xe==0)for(Q=B+Q;B<Q;)Re(ne,((xe=M[B++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),ue+=32;else s(ne,ue,M,B,Q)}function Ge(M,B){C[B][0]=C[M+"0"],C[B][1]=C[M+"1"],C[B][2]=C[M+"2"],C[B][3]=C[M+"3"],C[B][4]=C[M+"4"],C[B][5]=C[M+"5"],C[B][6]=C[M+"6"],C[B][7]=C[M+"7"],C[B][8]=C[M+"8"],C[B][9]=C[M+"9"],C[B][10]=C[M+"10"],C[B][11]=C[M+"11"],C[B][12]=C[M+"12"],C[B][13]=C[M+"13"],C[B][14]=C[M+"0"],C[B][15]=C[M+"0"]}function Ne(M){return M==Jh||M==Ou||M==j0||M==N0}function Qe(){this.eb=[],this.size=this.A=this.fb=0}function Ve(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qe,this.f.kb=new Ve,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qt(M){return alert("todo:WebPSamplerProcessPlane"),M.T}function Ht(M,B){var Q=M.T,ne=B.ba.f.RGBA,ue=ne.eb,xe=ne.fb+M.ka*ne.A,ve=Ii[B.ba.S],be=M.y,je=M.O,ke=M.f,Xe=M.N,ot=M.ea,Me=M.W,Je=B.cc,st=B.dc,Ct=B.Mc,ht=B.Nc,jt=M.ka,St=M.ka+M.T,Mt=M.U,Pt=Mt+1>>1;for(jt==0?ve(be,je,null,null,ke,Xe,ot,Me,ke,Xe,ot,Me,ue,xe,null,null,Mt):(ve(B.ec,B.fc,be,je,Je,st,Ct,ht,ke,Xe,ot,Me,ue,xe-ne.A,ue,xe,Mt),++Q);jt+2<St;jt+=2)Je=ke,st=Xe,Ct=ot,ht=Me,Xe+=M.Rc,Me+=M.Rc,xe+=2*ne.A,ve(be,(je+=2*M.fa)-M.fa,be,je,Je,st,Ct,ht,ke,Xe,ot,Me,ue,xe-ne.A,ue,xe,Mt);return je+=M.fa,M.j+St<M.o?(s(B.ec,B.fc,be,je,Mt),s(B.cc,B.dc,ke,Xe,Pt),s(B.Mc,B.Nc,ot,Me,Pt),Q--):1&St||ve(be,je,null,null,ke,Xe,ot,Me,ke,Xe,ot,Me,ue,xe+ne.A,null,null,Mt),Q}function Ar(M,B,Q){var ne=M.F,ue=[M.J];if(ne!=null){var xe=M.U,ve=B.ba.S,be=ve==w0||ve==j0;B=B.ba.f.RGBA;var je=[0],ke=M.ka;je[0]=M.T,M.Kb&&(ke==0?--je[0]:(--ke,ue[0]-=M.width),M.j+M.ka+M.T==M.o&&(je[0]=M.o-M.j-ke));var Xe=B.eb;ke=B.fb+ke*B.A,M=y0(ne,ue[0],M.width,xe,je,Xe,ke+(be?0:3),B.A),e(Q==je),M&&Ne(ve)&&Lu(Xe,ke,be,xe,je,B.A)}return 0}function Jt(M){var B=M.ma,Q=B.ba.S,ne=11>Q,ue=Q==Md||Q==b0||Q==w0||Q==Qn||Q==12||Ne(Q);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!Wh(B.Oa,M,ue?11:12))return 0;if(ue&&Ne(Q)&&_u(),M.da)alert("todo:use_scaling");else{if(ne){if(B.Ib=qt,M.Kb){if(Q=M.U+1>>1,B.memory=i(M.U+2*Q),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+M.U,B.Mc=B.cc,B.Nc=B.dc+Q,B.Ib=Ht,_u()}}else alert("todo:EmitYUV");ue&&(B.Jb=Ar,ne&&dl())}if(ne&&!Ba){for(M=0;256>M;++M)Fi[M]=89858*(M-128)+ml>>Oc,Bi[M]=-22014*(M-128)+ml,tf[M]=-45773*(M-128),Uu[M]=113618*(M-128)+ml>>Oc;for(M=zn;M<qn;++M)B=76283*(M-16)+ml>>Oc,Pp[M-zn]=Er(B,255),R1[M-zn]=Er(B+8>>4,15);Ba=1}return 1}function er(M){var B=M.ma,Q=M.U,ne=M.T;return e(!(1&M.ka)),0>=Q||0>=ne?0:(Q=B.Ib(M,B),B.Jb!=null&&B.Jb(M,B,Q),B.Dc+=Q,1)}function bn(M){M.ma.memory=null}function js(M,B,Q,ne){return re(M,8)!=47?0:(B[0]=re(M,14)+1,Q[0]=re(M,14)+1,ne[0]=re(M,1),re(M,3)!=0?0:!M.h)}function Fn(M,B){if(4>M)return M+1;var Q=M-2>>1;return(2+(1&M)<<Q)+re(B,Q)+1}function ss(M,B){return 120<B?B-120:1<=(Q=((Q=H5[B-1])>>4)*M+(8-(15&Q)))?Q:1;var Q}function sn(M,B,Q){var ne=V(Q),ue=M[B+=255&ne].g-8;return 0<ue&&(ce(Q,Q.u+8),ne=V(Q),B+=M[B].value,B+=ne&(1<<ue)-1),ce(Q,Q.u+M[B].g),M[B].value}function Bn(M,B,Q){return Q.g+=M.g,Q.value+=M.value<<B>>>0,e(8>=Q.g),M.g}function me(M,B,Q){var ne=M.xc;return e((B=ne==0?0:M.vc[M.md*(Q>>ne)+(B>>ne)])<M.Wb),M.Ya[B]}function Ee(M,B,Q,ne){var ue=M.ab,xe=M.c*B,ve=M.C;B=ve+B;var be=Q,je=ne;for(ne=M.Ta,Q=M.Ua;0<ue--;){var ke=M.gc[ue],Xe=ve,ot=B,Me=be,Je=je,st=(je=ne,be=Q,ke.Ea);switch(e(Xe<ot),e(ot<=ke.nc),ke.hc){case 2:Js(Me,Je,(ot-Xe)*st,je,be);break;case 0:var Ct=Xe,ht=ot,jt=je,St=be,Mt=(mr=ke).Ea;Ct==0&&(Dc(Me,Je,null,null,1,jt,St),Tt(Me,Je+1,0,0,Mt-1,jt,St+1),Je+=Mt,St+=Mt,++Ct);for(var Pt=1<<mr.b,yr=Pt-1,cr=Ie(Mt,mr.b),Wr=mr.K,mr=mr.w+(Ct>>mr.b)*cr;Ct<ht;){var dn=Wr,Hs=mr,Gr=1;for(Wl(Me,Je,jt,St-Mt,1,jt,St);Gr<Mt;){var dr=(Gr&~yr)+Pt;dr>Mt&&(dr=Mt),(0,Mu[dn[Hs++]>>8&15])(Me,Je+ +Gr,jt,St+Gr-Mt,dr-Gr,jt,St+Gr),Gr=dr}Je+=Mt,St+=Mt,++Ct&yr||(mr+=cr)}ot!=ke.nc&&s(je,be-st,je,be+(ot-Xe-1)*st,st);break;case 1:for(st=Me,ht=Je,Mt=(Me=ke.Ea)-(St=Me&~(jt=(Je=1<<ke.b)-1)),Ct=Ie(Me,ke.b),Pt=ke.K,ke=ke.w+(Xe>>ke.b)*Ct;Xe<ot;){for(yr=Pt,cr=ke,Wr=new ae,mr=ht+St,dn=ht+Me;ht<mr;)gt(yr[cr++],Wr),Gh(Wr,st,ht,Je,je,be),ht+=Je,be+=Je;ht<dn&&(gt(yr[cr++],Wr),Gh(Wr,st,ht,Mt,je,be),ht+=Mt,be+=Mt),++Xe&jt||(ke+=Ct)}break;case 3:if(Me==je&&Je==be&&0<ke.b){for(ht=je,Me=st=be+(ot-Xe)*st-(St=(ot-Xe)*Ie(ke.Ea,ke.b)),Je=je,jt=be,Ct=[],St=(Mt=St)-1;0<=St;--St)Ct[St]=Je[jt+St];for(St=Mt-1;0<=St;--St)ht[Me+St]=Ct[St];Eu(ke,Xe,ot,je,st,je,be)}else Eu(ke,Xe,ot,Me,Je,je,be)}be=ne,je=Q}je!=Q&&s(ne,Q,be,je,xe)}function Se(M,B){var Q=M.V,ne=M.Ba+M.c*M.C,ue=B-M.C;if(e(B<=M.l.o),e(16>=ue),0<ue){var xe=M.l,ve=M.Ta,be=M.Ua,je=xe.width;if(Ee(M,ue,Q,ne),ue=be=[be],e((Q=M.C)<(ne=B)),e(xe.v<xe.va),ne>xe.o&&(ne=xe.o),Q<xe.j){var ke=xe.j-Q;Q=xe.j,ue[0]+=ke*je}if(Q>=ne?Q=0:(ue[0]+=4*xe.v,xe.ka=Q-xe.j,xe.U=xe.va-xe.v,xe.T=ne-Q,Q=1),Q){if(be=be[0],11>(Q=M.ca).S){var Xe=Q.f.RGBA,ot=(ne=Q.S,ue=xe.U,xe=xe.T,ke=Xe.eb,Xe.A),Me=xe;for(Xe=Xe.fb+M.Ma*Xe.A;0<Me--;){var Je=ve,st=be,Ct=ue,ht=ke,jt=Xe;switch(ne){case kp:Vh(Je,st,Ct,ht,jt);break;case Md:Rc(Je,st,Ct,ht,jt);break;case Jh:Rc(Je,st,Ct,ht,jt),Lu(ht,jt,0,Ct,1,0);break;case E1:Pu(Je,st,Ct,ht,jt);break;case b0:Bt(Je,st,Ct,ht,jt,1);break;case Ou:Bt(Je,st,Ct,ht,jt,1),Lu(ht,jt,0,Ct,1,0);break;case w0:Bt(Je,st,Ct,ht,jt,0);break;case j0:Bt(Je,st,Ct,ht,jt,0),Lu(ht,jt,1,Ct,1,0);break;case Qn:kd(Je,st,Ct,ht,jt);break;case N0:kd(Je,st,Ct,ht,jt),nv(ht,jt,Ct,1,0);break;case Ep:Ed(Je,st,Ct,ht,jt);break;default:e(0)}be+=je,Xe+=ot}M.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");e(M.Ma<=Q.height)}}M.C=B,e(M.C<=M.i)}function Ce(M){var B;if(0<M.ua)return 0;for(B=0;B<M.Wb;++B){var Q=M.Ya[B].G,ne=M.Ya[B].H;if(0<Q[1][ne[1]+0].g||0<Q[2][ne[2]+0].g||0<Q[3][ne[3]+0].g)return 0}return 1}function Pe(M,B,Q,ne,ue,xe){if(M.Z!=0){var ve=M.qd,be=M.rd;for(e(ni[M.Z]!=null);B<Q;++B)ni[M.Z](ve,be,ne,ue,ne,ue,xe),ve=ne,be=ue,ue+=xe;M.qd=ve,M.rd=be}}function Te(M,B){var Q=M.l.ma,ne=Q.Z==0||Q.Z==1?M.l.j:M.C;if(ne=M.C<ne?ne:M.C,e(B<=M.l.o),B>ne){var ue=M.l.width,xe=Q.ca,ve=Q.tb+ue*ne,be=M.V,je=M.Ba+M.c*ne,ke=M.gc;e(M.ab==1),e(ke[0].hc==3),hl(ke[0],ne,B,be,je,xe,ve),Pe(Q,ne,B,xe,ve,ue)}M.C=M.Ma=B}function it(M,B,Q,ne,ue,xe,ve){var be=M.$/ne,je=M.$%ne,ke=M.m,Xe=M.s,ot=Q+M.$,Me=ot;ue=Q+ne*ue;var Je=Q+ne*xe,st=280+Xe.ua,Ct=M.Pb?be:16777216,ht=0<Xe.ua?Xe.Wa:null,jt=Xe.wc,St=ot<Je?me(Xe,je,be):null;e(M.C<xe),e(Je<=ue);var Mt=!1;e:for(;;){for(;Mt||ot<Je;){var Pt=0;if(be>=Ct){var yr=ot-Q;e((Ct=M).Pb),Ct.wd=Ct.m,Ct.xd=yr,0<Ct.s.ua&&ie(Ct.s.Wa,Ct.s.vb),Ct=be+Mp}if(je&jt||(St=me(Xe,je,be)),e(St!=null),St.Qb&&(B[ot]=St.qb,Mt=!0),!Mt)if(fe(ke),St.jc){Pt=ke,yr=B;var cr=ot,Wr=St.pd[V(Pt)&Oo-1];e(St.jc),256>Wr.g?(ce(Pt,Pt.u+Wr.g),yr[cr]=Wr.value,Pt=0):(ce(Pt,Pt.u+Wr.g-256),e(256<=Wr.value),Pt=Wr.value),Pt==0&&(Mt=!0)}else Pt=sn(St.G[0],St.H[0],ke);if(ke.h)break;if(Mt||256>Pt){if(!Mt)if(St.nd)B[ot]=(St.qb|Pt<<8)>>>0;else{if(fe(ke),Mt=sn(St.G[1],St.H[1],ke),fe(ke),yr=sn(St.G[2],St.H[2],ke),cr=sn(St.G[3],St.H[3],ke),ke.h)break;B[ot]=(cr<<24|Mt<<16|Pt<<8|yr)>>>0}if(Mt=!1,++ot,++je>=ne&&(je=0,++be,ve!=null&&be<=xe&&!(be%16)&&ve(M,be),ht!=null))for(;Me<ot;)Pt=B[Me++],ht.X[(506832829*Pt&4294967295)>>>ht.Mb]=Pt}else if(280>Pt){if(Pt=Fn(Pt-256,ke),yr=sn(St.G[4],St.H[4],ke),fe(ke),yr=ss(ne,yr=Fn(yr,ke)),ke.h)break;if(ot-Q<yr||ue-ot<Pt)break e;for(cr=0;cr<Pt;++cr)B[ot+cr]=B[ot+cr-yr];for(ot+=Pt,je+=Pt;je>=ne;)je-=ne,++be,ve!=null&&be<=xe&&!(be%16)&&ve(M,be);if(e(ot<=ue),je&jt&&(St=me(Xe,je,be)),ht!=null)for(;Me<ot;)Pt=B[Me++],ht.X[(506832829*Pt&4294967295)>>>ht.Mb]=Pt}else{if(!(Pt<st))break e;for(Mt=Pt-280,e(ht!=null);Me<ot;)Pt=B[Me++],ht.X[(506832829*Pt&4294967295)>>>ht.Mb]=Pt;Pt=ot,e(!(Mt>>>(yr=ht).Xa)),B[Pt]=yr.X[Mt],Mt=!0}Mt||e(ke.h==Z(ke))}if(M.Pb&&ke.h&&ot<ue)e(M.m.h),M.a=5,M.m=M.wd,M.$=M.xd,0<M.s.ua&&ie(M.s.vb,M.s.Wa);else{if(ke.h)break e;ve!=null&&ve(M,be>xe?xe:be),M.a=0,M.$=ot-Q}return 1}return M.a=3,0}function bt(M){e(M!=null),M.vc=null,M.yc=null,M.Ya=null;var B=M.Wa;B!=null&&(B.X=null),M.vb=null,e(M!=null)}function lt(){var M=new Ir;return M==null?null:(M.a=0,M.xb=Zh,Ge("Predictor","VP8LPredictors"),Ge("Predictor","VP8LPredictors_C"),Ge("PredictorAdd","VP8LPredictorsAdd"),Ge("PredictorAdd","VP8LPredictorsAdd_C"),Js=ft,Gh=At,Vh=Dt,Rc=Rt,kd=$t,Ed=Lt,Pu=or,C.VP8LMapColor32b=ql,C.VP8LMapColor8b=Tu,M)}function ct(M,B,Q,ne,ue){var xe=1,ve=[M],be=[B],je=ne.m,ke=ne.s,Xe=null,ot=0;e:for(;;){if(Q)for(;xe&&re(je,1);){var Me=ve,Je=be,st=ne,Ct=1,ht=st.m,jt=st.gc[st.ab],St=re(ht,2);if(st.Oc&1<<St)xe=0;else{switch(st.Oc|=1<<St,jt.hc=St,jt.Ea=Me[0],jt.nc=Je[0],jt.K=[null],++st.ab,e(4>=st.ab),St){case 0:case 1:jt.b=re(ht,3)+2,Ct=ct(Ie(jt.Ea,jt.b),Ie(jt.nc,jt.b),0,st,jt.K),jt.K=jt.K[0];break;case 3:var Mt,Pt=re(ht,8)+1,yr=16<Pt?0:4<Pt?1:2<Pt?2:3;if(Me[0]=Ie(jt.Ea,yr),jt.b=yr,Mt=Ct=ct(Pt,1,0,st,jt.K)){var cr,Wr=Pt,mr=jt,dn=1<<(8>>mr.b),Hs=i(dn);if(Hs==null)Mt=0;else{var Gr=mr.K[0],dr=mr.w;for(Hs[0]=mr.K[0][0],cr=1;cr<1*Wr;++cr)Hs[cr]=$e(Gr[dr+cr],Hs[cr-1]);for(;cr<4*dn;++cr)Hs[cr]=0;mr.K[0]=null,mr.K[0]=Hs,Mt=1}}Ct=Mt;break;case 2:break;default:e(0)}xe=Ct}}if(ve=ve[0],be=be[0],xe&&re(je,1)&&!(xe=1<=(ot=re(je,4))&&11>=ot)){ne.a=3;break e}var Qt;if(Qt=xe)t:{var Qs,Cr,on,Gn=ne,Ws=ve,Ua=be,Ns=ot,Aa=Q,za=Gn.m,Ss=Gn.s,Hr=[null],un=1,_s=0,kn=M1[Ns];r:for(;;){if(Aa&&re(za,1)){var ms=re(za,3)+2,Ca=Ie(Ws,ms),Ls=Ie(Ua,ms),wi=Ca*Ls;if(!ct(Ca,Ls,0,Gn,Hr))break r;for(Hr=Hr[0],Ss.xc=ms,Qs=0;Qs<wi;++Qs){var hn=Hr[Qs]>>8&65535;Hr[Qs]=hn,hn>=un&&(un=hn+1)}}if(za.h)break r;for(Cr=0;5>Cr;++Cr){var os=Iu[Cr];!Cr&&0<Ns&&(os+=1<<Ns),_s<os&&(_s=os)}var si=o(un*kn,D),ai=un,ii=o(ai,F);if(ii==null)var Ui=null;else e(65536>=ai),Ui=ii;var ji=i(_s);if(Ui==null||ji==null||si==null){Gn.a=1;break r}var Ni=si;for(Qs=on=0;Qs<un;++Qs){var $n=Ui[Qs],zi=$n.G,Bo=$n.H,Rd=0,pl=1,Zs=0;for(Cr=0;5>Cr;++Cr){os=Iu[Cr],zi[Cr]=Ni,Bo[Cr]=on,!Cr&&0<Ns&&(os+=1<<Ns);s:{var $u,Dp=os,k0=Gn,Xl=ji,O1=Ni,E0=on,Uo=0,zo=k0.m,T0=re(zo,1);if(a(Xl,0,0,Dp),T0){var Hu=re(zo,1)+1,pv=re(zo,1),Wu=re(zo,pv==0?1:8);Xl[Wu]=1,Hu==2&&(Xl[Wu=re(zo,8)]=1);var M0=1}else{var Rp=i(19),As=re(zo,4)+4;if(19<As){k0.a=3;var qu=0;break s}for($u=0;$u<As;++$u)Rp[$5[$u]]=re(zo,3);var P0=void 0,Gu=void 0,D0=k0,xv=Rp,Yl=Dp,Cs=Xl,ea=0,ps=D0.m,R0=8,rf=o(128,D);n:for(;P(rf,0,7,xv,19);){if(re(ps,1)){var L0=2+2*re(ps,3);if((P0=2+re(ps,L0))>Yl)break n}else P0=Yl;for(Gu=0;Gu<Yl&&P0--;){fe(ps);var I1=rf[0+(127&V(ps))];ce(ps,ps.u+I1.g);var ta=I1.value;if(16>ta)Cs[Gu++]=ta,ta!=0&&(R0=ta);else{var gv=ta==16,Lp=ta-16,vv=Tp[Lp],xl=re(ps,S0[Lp])+vv;if(Gu+xl>Yl)break n;for(var $o=gv?R0:0;0<xl--;)Cs[Gu++]=$o}}ea=1;break n}ea||(D0.a=3),M0=ea}(M0=M0&&!zo.h)&&(Uo=P(O1,E0,8,Xl,Dp)),M0&&Uo!=0?qu=Uo:(k0.a=3,qu=0)}if(qu==0)break r;if(pl&&T1[Cr]==1&&(pl=Ni[on].g==0),Rd+=Ni[on].g,on+=qu,3>=Cr){var Fc,O0=ji[0];for(Fc=1;Fc<os;++Fc)ji[Fc]>O0&&(O0=ji[Fc]);Zs+=O0}}if($n.nd=pl,$n.Qb=0,pl&&($n.qb=(zi[3][Bo[3]+0].value<<24|zi[1][Bo[1]+0].value<<16|zi[2][Bo[2]+0].value)>>>0,Rd==0&&256>zi[0][Bo[0]+0].value&&($n.Qb=1,$n.qb+=zi[0][Bo[0]+0].value<<8)),$n.jc=!$n.Qb&&6>Zs,$n.jc){var nf,Kl=$n;for(nf=0;nf<Oo;++nf){var Bc=nf,Uc=Kl.pd[Bc],I0=Kl.G[0][Kl.H[0]+Bc];256<=I0.value?(Uc.g=I0.g+256,Uc.value=I0.value):(Uc.g=0,Uc.value=0,Bc>>=Bn(I0,8,Uc),Bc>>=Bn(Kl.G[1][Kl.H[1]+Bc],16,Uc),Bc>>=Bn(Kl.G[2][Kl.H[2]+Bc],0,Uc),Bn(Kl.G[3][Kl.H[3]+Bc],24,Uc))}}}Ss.vc=Hr,Ss.Wb=un,Ss.Ya=Ui,Ss.yc=si,Qt=1;break t}Qt=0}if(!(xe=Qt)){ne.a=3;break e}if(0<ot){if(ke.ua=1<<ot,!J(ke.Wa,ot)){ne.a=1,xe=0;break e}}else ke.ua=0;var Op=ne,yv=ve,F1=be,Ip=Op.s,Vu=Ip.xc;if(Op.c=yv,Op.i=F1,Ip.md=Ie(yv,Vu),Ip.wc=Vu==0?-1:(1<<Vu)-1,Q){ne.xb=Vl;break e}if((Xe=i(ve*be))==null){ne.a=1,xe=0;break e}xe=(xe=it(ne,Xe,0,ve,be,be,null))&&!je.h;break e}return xe?(ue!=null?ue[0]=Xe:(e(Xe==null),e(Q)),ne.$=0,Q||bt(ke)):bt(ke),xe}function mt(M,B){var Q=M.c*M.i,ne=Q+B+16*B;return e(M.c<=B),M.V=i(ne),M.V==null?(M.Ta=null,M.Ua=0,M.a=1,0):(M.Ta=M.V,M.Ua=M.Ba+Q+B,1)}function de(M,B){var Q=M.C,ne=B-Q,ue=M.V,xe=M.Ba+M.c*Q;for(e(B<=M.l.o);0<ne;){var ve=16<ne?16:ne,be=M.l.ma,je=M.l.width,ke=je*ve,Xe=be.ca,ot=be.tb+je*Q,Me=M.Ta,Je=M.Ua;Ee(M,ve,ue,xe),sv(Me,Je,Xe,ot,ke),Pe(be,Q,Q+ve,Xe,ot,je),ne-=ve,ue+=ve*M.c,Q+=ve}e(Q==B),M.C=M.Ma=B}function Oe(){this.ub=this.yd=this.td=this.Rb=0}function We(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ze(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Le(){this.Yb=(function(){var M=[];return(function B(Q,ne,ue){for(var xe=ue[ne],ve=0;ve<xe&&(Q.push(ue.length>ne+1?[]:0),!(ue.length<ne+1));ve++)B(Q[ve],ne+1,ue)})(M,0,[3,11]),M})()}function yt(){this.jb=i(3),this.Wc=l([4,8],Le),this.Xc=l([4,17],Le)}function It(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ft(){this.ld=this.La=this.dd=this.tc=0}function Vt(){this.Na=this.la=0}function Nr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wr(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ft),this.Y=0,this.ya=Array(new wr),this.aa=0,this.l=new Un}function _r(){this.y=i(16),this.f=i(8),this.ea=i(8)}function rn(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new Oe,this.Kc=new We,this.ed=new It,this.Qa=new ze,this.Ic=this.$c=this.Aa=0,this.D=new lr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,Nr),this.Pa=new yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _r),this.Hd=0,this.rb=Array(new Vt),this.sb=0,this.wa=Array(new Ft),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wr),this.L=this.aa=0,this.gd=l([4,2],Ft),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Er(M,B){return 0>M?0:M>B?B:M}function Un(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ln(){var M=new rn;return M!=null&&(M.a=0,M.sc="OK",M.cb=0,M.Xb=0,Fu||(Fu=Us)),M}function rr(M,B,Q){return M.a==0&&(M.a=B,M.sc=Q,M.cb=0),0}function us(M,B,Q){return 3<=Q&&M[B+0]==157&&M[B+1]==1&&M[B+2]==42}function zr(M,B){if(M==null)return 0;if(M.a=0,M.sc="OK",B==null)return rr(M,2,"null VP8Io passed to VP8GetHeaders()");var Q=B.data,ne=B.w,ue=B.ha;if(4>ue)return rr(M,7,"Truncated header.");var xe=Q[ne+0]|Q[ne+1]<<8|Q[ne+2]<<16,ve=M.Od;if(ve.Rb=!(1&xe),ve.td=xe>>1&7,ve.yd=xe>>4&1,ve.ub=xe>>5,3<ve.td)return rr(M,3,"Incorrect keyframe parameters.");if(!ve.yd)return rr(M,4,"Frame not displayable.");ne+=3,ue-=3;var be=M.Kc;if(ve.Rb){if(7>ue)return rr(M,7,"cannot parse picture header");if(!us(Q,ne,ue))return rr(M,3,"Bad code word");be.c=16383&(Q[ne+4]<<8|Q[ne+3]),be.Td=Q[ne+4]>>6,be.i=16383&(Q[ne+6]<<8|Q[ne+5]),be.Ud=Q[ne+6]>>6,ne+=7,ue-=7,M.za=be.c+15>>4,M.Ub=be.i+15>>4,B.width=be.c,B.height=be.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,a((xe=M.Pa).jb,0,255,xe.jb.length),e((xe=M.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,a(xe.Zb,0,0,xe.Zb.length),a(xe.Lb,0,0,xe.Lb)}if(ve.ub>ue)return rr(M,7,"bad partition length");z(xe=M.m,Q,ne,ve.ub),ne+=ve.ub,ue-=ve.ub,ve.Rb&&(be.Ld=ge(xe),be.Kd=ge(xe)),be=M.Qa;var je,ke=M.Pa;if(e(xe!=null),e(be!=null),be.Cb=ge(xe),be.Cb){if(be.Bb=ge(xe),ge(xe)){for(be.Fb=ge(xe),je=0;4>je;++je)be.Zb[je]=ge(xe)?W(xe,7):0;for(je=0;4>je;++je)be.Lb[je]=ge(xe)?W(xe,6):0}if(be.Bb)for(je=0;3>je;++je)ke.jb[je]=ge(xe)?O(xe,8):255}else be.Bb=0;if(xe.Ka)return rr(M,3,"cannot parse segment header");if((be=M.ed).zd=ge(xe),be.Tb=O(xe,6),be.wb=O(xe,3),be.Pc=ge(xe),be.Pc&&ge(xe)){for(ke=0;4>ke;++ke)ge(xe)&&(be.vd[ke]=W(xe,6));for(ke=0;4>ke;++ke)ge(xe)&&(be.od[ke]=W(xe,6))}if(M.L=be.Tb==0?0:be.zd?1:2,xe.Ka)return rr(M,3,"cannot parse filter header");var Xe=ue;if(ue=je=ne,ne=je+Xe,be=Xe,M.Xb=(1<<O(M.m,2))-1,Xe<3*(ke=M.Xb))Q=7;else{for(je+=3*ke,be-=3*ke,Xe=0;Xe<ke;++Xe){var ot=Q[ue+0]|Q[ue+1]<<8|Q[ue+2]<<16;ot>be&&(ot=be),z(M.Jc[+Xe],Q,je,ot),je+=ot,be-=ot,ue+=3}z(M.Jc[+ke],Q,je,be),Q=je<ne?0:5}if(Q!=0)return rr(M,Q,"cannot parse partitions");for(Q=O(je=M.m,7),ue=ge(je)?W(je,4):0,ne=ge(je)?W(je,4):0,be=ge(je)?W(je,4):0,ke=ge(je)?W(je,4):0,je=ge(je)?W(je,4):0,Xe=M.Qa,ot=0;4>ot;++ot){if(Xe.Cb){var Me=Xe.Zb[ot];Xe.Fb||(Me+=Q)}else{if(0<ot){M.pb[ot]=M.pb[0];continue}Me=Q}var Je=M.pb[ot];Je.Sc[0]=Qh[Er(Me+ue,127)],Je.Sc[1]=_0[Er(Me+0,127)],Je.Eb[0]=2*Qh[Er(Me+ne,127)],Je.Eb[1]=101581*_0[Er(Me+be,127)]>>16,8>Je.Eb[1]&&(Je.Eb[1]=8),Je.Qc[0]=Qh[Er(Me+ke,117)],Je.Qc[1]=_0[Er(Me+je,127)],Je.lc=Me+je}if(!ve.Rb)return rr(M,4,"Not a key frame.");for(ge(xe),ve=M.Pa,Q=0;4>Q;++Q){for(ue=0;8>ue;++ue)for(ne=0;3>ne;++ne)for(be=0;11>be;++be)ke=we(xe,q5[Q][ue][ne][be])?O(xe,8):D1[Q][ue][ne][be],ve.Wc[Q][ue].Yb[ne][be]=ke;for(ue=0;17>ue;++ue)ve.Xc[Q][ue]=ve.Wc[Q][hv[ue]]}return M.kc=ge(xe),M.kc&&(M.Bd=O(xe,8)),M.cb=1}function Us(M,B,Q,ne,ue,xe,ve){var be=B[ue].Yb[Q];for(Q=0;16>ue;++ue){if(!we(M,be[Q+0]))return ue;for(;!we(M,be[Q+1]);)if(be=B[++ue].Yb[0],Q=0,ue==16)return 16;var je=B[ue+1].Yb;if(we(M,be[Q+2])){var ke=M,Xe=0;if(we(ke,(Me=be)[(ot=Q)+3]))if(we(ke,Me[ot+6])){for(be=0,ot=2*(Xe=we(ke,Me[ot+8]))+(Me=we(ke,Me[ot+9+Xe])),Xe=0,Me=dv[ot];Me[be];++be)Xe+=Xe+we(ke,Me[be]);Xe+=3+(8<<ot)}else we(ke,Me[ot+7])?(Xe=7+2*we(ke,165),Xe+=we(ke,145)):Xe=5+we(ke,159);else Xe=we(ke,Me[ot+4])?3+we(ke,Me[ot+5]):2;be=je[2]}else Xe=1,be=je[1];je=ve+uv[ue],0>(ke=M).b&&ye(ke);var ot,Me=ke.b,Je=(ot=ke.Ca>>1)-(ke.I>>Me)>>31;--ke.b,ke.Ca+=Je,ke.Ca|=1,ke.I-=(ot+1&Je)<<Me,xe[je]=((Xe^Je)-Je)*ne[(0<ue)+0]}return 16}function Mi(M){var B=M.rb[M.sb-1];B.la=0,B.Na=0,a(M.zc,0,0,M.zc.length),M.ja=0}function as(M,B,Q,ne,ue){ue=M[B+Q+32*ne]+(ue>>3),M[B+Q+32*ne]=-256&ue?0>ue?0:255:ue}function hs(M,B,Q,ne,ue,xe){as(M,B,0,Q,ne+ue),as(M,B,1,Q,ne+xe),as(M,B,2,Q,ne-xe),as(M,B,3,Q,ne-ue)}function cn(M){return(20091*M>>16)+M}function Sa(M,B,Q,ne){var ue,xe=0,ve=i(16);for(ue=0;4>ue;++ue){var be=M[B+0]+M[B+8],je=M[B+0]-M[B+8],ke=(35468*M[B+4]>>16)-cn(M[B+12]),Xe=cn(M[B+4])+(35468*M[B+12]>>16);ve[xe+0]=be+Xe,ve[xe+1]=je+ke,ve[xe+2]=je-ke,ve[xe+3]=be-Xe,xe+=4,B++}for(ue=xe=0;4>ue;++ue)be=(M=ve[xe+0]+4)+ve[xe+8],je=M-ve[xe+8],ke=(35468*ve[xe+4]>>16)-cn(ve[xe+12]),as(Q,ne,0,0,be+(Xe=cn(ve[xe+4])+(35468*ve[xe+12]>>16))),as(Q,ne,1,0,je+ke),as(Q,ne,2,0,je-ke),as(Q,ne,3,0,be-Xe),xe++,ne+=32}function _a(M,B,Q,ne){var ue=M[B+0]+4,xe=35468*M[B+4]>>16,ve=cn(M[B+4]),be=35468*M[B+1]>>16;hs(Q,ne,0,ue+ve,M=cn(M[B+1]),be),hs(Q,ne,1,ue+xe,M,be),hs(Q,ne,2,ue-xe,M,be),hs(Q,ne,3,ue-ve,M,be)}function Ds(M,B,Q,ne,ue){Sa(M,B,Q,ne),ue&&Sa(M,B+16,Q,ne+4)}function fs(M,B,Q,ne){Du(M,B+0,Q,ne,1),Du(M,B+32,Q,ne+128,1)}function Fl(M,B,Q,ne){var ue;for(M=M[B+0]+4,ue=0;4>ue;++ue)for(B=0;4>B;++B)as(Q,ne,B,ue,M)}function Jr(M,B,Q,ne){M[B+0]&&Nn(M,B+0,Q,ne),M[B+16]&&Nn(M,B+16,Q,ne+4),M[B+32]&&Nn(M,B+32,Q,ne+128),M[B+48]&&Nn(M,B+48,Q,ne+128+4)}function vu(M,B,Q,ne){var ue,xe=i(16);for(ue=0;4>ue;++ue){var ve=M[B+0+ue]+M[B+12+ue],be=M[B+4+ue]+M[B+8+ue],je=M[B+4+ue]-M[B+8+ue],ke=M[B+0+ue]-M[B+12+ue];xe[0+ue]=ve+be,xe[8+ue]=ve-be,xe[4+ue]=ke+je,xe[12+ue]=ke-je}for(ue=0;4>ue;++ue)ve=(M=xe[0+4*ue]+3)+xe[3+4*ue],be=xe[1+4*ue]+xe[2+4*ue],je=xe[1+4*ue]-xe[2+4*ue],ke=M-xe[3+4*ue],Q[ne+0]=ve+be>>3,Q[ne+16]=ke+je>>3,Q[ne+32]=ve-be>>3,Q[ne+48]=ke-je>>3,ne+=64}function wd(M,B,Q){var ne,ue=B-32,xe=yi,ve=255-M[ue-1];for(ne=0;ne<Q;++ne){var be,je=xe,ke=ve+M[B-1];for(be=0;be<Q;++be)M[B+be]=je[ke+M[ue+be]];B+=32}}function d0(M,B){wd(M,B,4)}function wp(M,B){wd(M,B,8)}function jp(M,B){wd(M,B,16)}function Ih(M,B){var Q;for(Q=0;16>Q;++Q)s(M,B+32*Q,M,B-32,16)}function Fh(M,B){var Q;for(Q=16;0<Q;--Q)a(M,B,M[B-1],16),B+=32}function Pi(M,B,Q){var ne;for(ne=0;16>ne;++ne)a(B,Q+32*ne,M,16)}function Bl(M,B){var Q,ne=16;for(Q=0;16>Q;++Q)ne+=M[B-1+32*Q]+M[B+Q-32];Pi(ne>>5,M,B)}function Di(M,B){var Q,ne=8;for(Q=0;16>Q;++Q)ne+=M[B-1+32*Q];Pi(ne>>4,M,B)}function Mo(M,B){var Q,ne=8;for(Q=0;16>Q;++Q)ne+=M[B+Q-32];Pi(ne>>4,M,B)}function yu(M,B){Pi(128,M,B)}function Rr(M,B,Q){return M+2*B+Q+2>>2}function Ul(M,B){var Q,ne=B-32;for(ne=new Uint8Array([Rr(M[ne-1],M[ne+0],M[ne+1]),Rr(M[ne+0],M[ne+1],M[ne+2]),Rr(M[ne+1],M[ne+2],M[ne+3]),Rr(M[ne+2],M[ne+3],M[ne+4])]),Q=0;4>Q;++Q)s(M,B+32*Q,ne,0,ne.length)}function tv(M,B){var Q=M[B-1],ne=M[B-1+32],ue=M[B-1+64],xe=M[B-1+96];Re(M,B+0,16843009*Rr(M[B-1-32],Q,ne)),Re(M,B+32,16843009*Rr(Q,ne,ue)),Re(M,B+64,16843009*Rr(ne,ue,xe)),Re(M,B+96,16843009*Rr(ue,xe,xe))}function Np(M,B){var Q,ne=4;for(Q=0;4>Q;++Q)ne+=M[B+Q-32]+M[B-1+32*Q];for(ne>>=3,Q=0;4>Q;++Q)a(M,B+32*Q,ne,4)}function ho(M,B){var Q=M[B-1+0],ne=M[B-1+32],ue=M[B-1+64],xe=M[B-1-32],ve=M[B+0-32],be=M[B+1-32],je=M[B+2-32],ke=M[B+3-32];M[B+0+96]=Rr(ne,ue,M[B-1+96]),M[B+1+96]=M[B+0+64]=Rr(Q,ne,ue),M[B+2+96]=M[B+1+64]=M[B+0+32]=Rr(xe,Q,ne),M[B+3+96]=M[B+2+64]=M[B+1+32]=M[B+0+0]=Rr(ve,xe,Q),M[B+3+64]=M[B+2+32]=M[B+1+0]=Rr(be,ve,xe),M[B+3+32]=M[B+2+0]=Rr(je,be,ve),M[B+3+0]=Rr(ke,je,be)}function Cc(M,B){var Q=M[B+1-32],ne=M[B+2-32],ue=M[B+3-32],xe=M[B+4-32],ve=M[B+5-32],be=M[B+6-32],je=M[B+7-32];M[B+0+0]=Rr(M[B+0-32],Q,ne),M[B+1+0]=M[B+0+32]=Rr(Q,ne,ue),M[B+2+0]=M[B+1+32]=M[B+0+64]=Rr(ne,ue,xe),M[B+3+0]=M[B+2+32]=M[B+1+64]=M[B+0+96]=Rr(ue,xe,ve),M[B+3+32]=M[B+2+64]=M[B+1+96]=Rr(xe,ve,be),M[B+3+64]=M[B+2+96]=Rr(ve,be,je),M[B+3+96]=Rr(be,je,je)}function Sp(M,B){var Q=M[B-1+0],ne=M[B-1+32],ue=M[B-1+64],xe=M[B-1-32],ve=M[B+0-32],be=M[B+1-32],je=M[B+2-32],ke=M[B+3-32];M[B+0+0]=M[B+1+64]=xe+ve+1>>1,M[B+1+0]=M[B+2+64]=ve+be+1>>1,M[B+2+0]=M[B+3+64]=be+je+1>>1,M[B+3+0]=je+ke+1>>1,M[B+0+96]=Rr(ue,ne,Q),M[B+0+64]=Rr(ne,Q,xe),M[B+0+32]=M[B+1+96]=Rr(Q,xe,ve),M[B+1+32]=M[B+2+96]=Rr(xe,ve,be),M[B+2+32]=M[B+3+96]=Rr(ve,be,je),M[B+3+32]=Rr(be,je,ke)}function Bh(M,B){var Q=M[B+0-32],ne=M[B+1-32],ue=M[B+2-32],xe=M[B+3-32],ve=M[B+4-32],be=M[B+5-32],je=M[B+6-32],ke=M[B+7-32];M[B+0+0]=Q+ne+1>>1,M[B+1+0]=M[B+0+64]=ne+ue+1>>1,M[B+2+0]=M[B+1+64]=ue+xe+1>>1,M[B+3+0]=M[B+2+64]=xe+ve+1>>1,M[B+0+32]=Rr(Q,ne,ue),M[B+1+32]=M[B+0+96]=Rr(ne,ue,xe),M[B+2+32]=M[B+1+96]=Rr(ue,xe,ve),M[B+3+32]=M[B+2+96]=Rr(xe,ve,be),M[B+3+64]=Rr(ve,be,je),M[B+3+96]=Rr(be,je,ke)}function bu(M,B){var Q=M[B-1+0],ne=M[B-1+32],ue=M[B-1+64],xe=M[B-1+96];M[B+0+0]=Q+ne+1>>1,M[B+2+0]=M[B+0+32]=ne+ue+1>>1,M[B+2+32]=M[B+0+64]=ue+xe+1>>1,M[B+1+0]=Rr(Q,ne,ue),M[B+3+0]=M[B+1+32]=Rr(ne,ue,xe),M[B+3+32]=M[B+1+64]=Rr(ue,xe,xe),M[B+3+64]=M[B+2+64]=M[B+0+96]=M[B+1+96]=M[B+2+96]=M[B+3+96]=xe}function u0(M,B){var Q=M[B-1+0],ne=M[B-1+32],ue=M[B-1+64],xe=M[B-1+96],ve=M[B-1-32],be=M[B+0-32],je=M[B+1-32],ke=M[B+2-32];M[B+0+0]=M[B+2+32]=Q+ve+1>>1,M[B+0+32]=M[B+2+64]=ne+Q+1>>1,M[B+0+64]=M[B+2+96]=ue+ne+1>>1,M[B+0+96]=xe+ue+1>>1,M[B+3+0]=Rr(be,je,ke),M[B+2+0]=Rr(ve,be,je),M[B+1+0]=M[B+3+32]=Rr(Q,ve,be),M[B+1+32]=M[B+3+64]=Rr(ne,Q,ve),M[B+1+64]=M[B+3+96]=Rr(ue,ne,Q),M[B+1+96]=Rr(xe,ue,ne)}function cl(M,B){var Q;for(Q=0;8>Q;++Q)s(M,B+32*Q,M,B-32,8)}function wu(M,B){var Q;for(Q=0;8>Q;++Q)a(M,B,M[B-1],8),B+=32}function Ri(M,B,Q){var ne;for(ne=0;8>ne;++ne)a(B,Q+32*ne,M,8)}function Uh(M,B){var Q,ne=8;for(Q=0;8>Q;++Q)ne+=M[B+Q-32]+M[B-1+32*Q];Ri(ne>>4,M,B)}function h0(M,B){var Q,ne=4;for(Q=0;8>Q;++Q)ne+=M[B+Q-32];Ri(ne>>3,M,B)}function f0(M,B){var Q,ne=4;for(Q=0;8>Q;++Q)ne+=M[B-1+32*Q];Ri(ne>>3,M,B)}function zh(M,B){Ri(128,M,B)}function Po(M,B,Q){var ne=M[B-Q],ue=M[B+0],xe=3*(ue-ne)+Gl[1020+M[B-2*Q]-M[B+Q]],ve=Kh[112+(xe+4>>3)];M[B-Q]=yi[255+ne+Kh[112+(xe+3>>3)]],M[B+0]=yi[255+ue-ve]}function ju(M,B,Q,ne){var ue=M[B+0],xe=M[B+Q];return Io[255+M[B-2*Q]-M[B-Q]]>ne||Io[255+xe-ue]>ne}function Nu(M,B,Q,ne){return 4*Io[255+M[B-Q]-M[B+0]]+Io[255+M[B-2*Q]-M[B+Q]]<=ne}function Do(M,B,Q,ne,ue){var xe=M[B-3*Q],ve=M[B-2*Q],be=M[B-Q],je=M[B+0],ke=M[B+Q],Xe=M[B+2*Q],ot=M[B+3*Q];return 4*Io[255+be-je]+Io[255+ve-ke]>ne?0:Io[255+M[B-4*Q]-xe]<=ue&&Io[255+xe-ve]<=ue&&Io[255+ve-be]<=ue&&Io[255+ot-Xe]<=ue&&Io[255+Xe-ke]<=ue&&Io[255+ke-je]<=ue}function kc(M,B,Q,ne){var ue=2*ne+1;for(ne=0;16>ne;++ne)Nu(M,B+ne,Q,ue)&&Po(M,B+ne,Q)}function jd(M,B,Q,ne){var ue=2*ne+1;for(ne=0;16>ne;++ne)Nu(M,B+ne*Q,1,ue)&&Po(M,B+ne*Q,1)}function m0(M,B,Q,ne){var ue;for(ue=3;0<ue;--ue)kc(M,B+=4*Q,Q,ne)}function Su(M,B,Q,ne){var ue;for(ue=3;0<ue;--ue)jd(M,B+=4,Q,ne)}function Ro(M,B,Q,ne,ue,xe,ve,be){for(xe=2*xe+1;0<ue--;){if(Do(M,B,Q,xe,ve))if(ju(M,B,Q,be))Po(M,B,Q);else{var je=M,ke=B,Xe=Q,ot=je[ke-2*Xe],Me=je[ke-Xe],Je=je[ke+0],st=je[ke+Xe],Ct=je[ke+2*Xe],ht=27*(St=Gl[1020+3*(Je-Me)+Gl[1020+ot-st]])+63>>7,jt=18*St+63>>7,St=9*St+63>>7;je[ke-3*Xe]=yi[255+je[ke-3*Xe]+St],je[ke-2*Xe]=yi[255+ot+jt],je[ke-Xe]=yi[255+Me+ht],je[ke+0]=yi[255+Je-ht],je[ke+Xe]=yi[255+st-jt],je[ke+2*Xe]=yi[255+Ct-St]}B+=ne}}function zl(M,B,Q,ne,ue,xe,ve,be){for(xe=2*xe+1;0<ue--;){if(Do(M,B,Q,xe,ve))if(ju(M,B,Q,be))Po(M,B,Q);else{var je=M,ke=B,Xe=Q,ot=je[ke-Xe],Me=je[ke+0],Je=je[ke+Xe],st=Kh[112+(4+(Ct=3*(Me-ot))>>3)],Ct=Kh[112+(Ct+3>>3)],ht=st+1>>1;je[ke-2*Xe]=yi[255+je[ke-2*Xe]+ht],je[ke-Xe]=yi[255+ot+Ct],je[ke+0]=yi[255+Me-st],je[ke+Xe]=yi[255+Je-ht]}B+=ne}}function ri(M,B,Q,ne,ue,xe){Ro(M,B,Q,1,16,ne,ue,xe)}function Lo(M,B,Q,ne,ue,xe){Ro(M,B,1,Q,16,ne,ue,xe)}function $h(M,B,Q,ne,ue,xe){var ve;for(ve=3;0<ve;--ve)zl(M,B+=4*Q,Q,1,16,ne,ue,xe)}function G(M,B,Q,ne,ue,xe){var ve;for(ve=3;0<ve;--ve)zl(M,B+=4,1,Q,16,ne,ue,xe)}function he(M,B,Q,ne,ue,xe,ve,be){Ro(M,B,ue,1,8,xe,ve,be),Ro(Q,ne,ue,1,8,xe,ve,be)}function De(M,B,Q,ne,ue,xe,ve,be){Ro(M,B,1,ue,8,xe,ve,be),Ro(Q,ne,1,ue,8,xe,ve,be)}function He(M,B,Q,ne,ue,xe,ve,be){zl(M,B+4*ue,ue,1,8,xe,ve,be),zl(Q,ne+4*ue,ue,1,8,xe,ve,be)}function nt(M,B,Q,ne,ue,xe,ve,be){zl(M,B+4,1,ue,8,xe,ve,be),zl(Q,ne+4,1,ue,8,xe,ve,be)}function kt(){this.ba=new tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ot(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vr(){this.ua=0,this.Wa=new Ae,this.vb=new Ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new D}function Ir(){this.xb=this.a=0,this.l=new Un,this.ca=new tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vr,this.ab=0,this.gc=o(4,fr),this.Oc=0}function $r(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Un,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xn(M,B,Q,ne,ue,xe,ve){for(M=M==null?0:M[B+0],B=0;B<ve;++B)ue[xe+B]=M+Q[ne+B]&255,M=ue[xe+B]}function Rs(M,B,Q,ne,ue,xe,ve){var be;if(M==null)xn(null,null,Q,ne,ue,xe,ve);else for(be=0;be<ve;++be)ue[xe+be]=M[B+be]+Q[ne+be]&255}function sa(M,B,Q,ne,ue,xe,ve){if(M==null)xn(null,null,Q,ne,ue,xe,ve);else{var be,je=M[B+0],ke=je,Xe=je;for(be=0;be<ve;++be)ke=Xe+(je=M[B+be])-ke,Xe=Q[ne+be]+(-256&ke?0>ke?0:255:ke)&255,ke=je,ue[xe+be]=Xe}}function is(M,B,Q,ne){var ue=B.width,xe=B.o;if(e(M!=null&&B!=null),0>Q||0>=ne||Q+ne>xe)return null;if(!M.Cc){if(M.ga==null){var ve;if(M.ga=new $r,(ve=M.ga==null)||(ve=B.width*B.o,e(M.Gb.length==0),M.Gb=i(ve),M.Uc=0,M.Gb==null?ve=0:(M.mb=M.Gb,M.nb=M.Uc,M.rc=null,ve=1),ve=!ve),!ve){ve=M.ga;var be=M.Fa,je=M.P,ke=M.qc,Xe=M.mb,ot=M.nb,Me=je+1,Je=ke-1,st=ve.l;if(e(be!=null&&Xe!=null&&B!=null),ni[0]=null,ni[1]=xn,ni[2]=Rs,ni[3]=sa,ve.ca=Xe,ve.tb=ot,ve.c=B.width,ve.i=B.height,e(0<ve.c&&0<ve.i),1>=ke)B=0;else if(ve.$a=3&be[je+0],ve.Z=be[je+0]>>2&3,ve.Lc=be[je+0]>>4&3,je=be[je+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||je)B=0;else if(st.put=er,st.ac=Jt,st.bc=bn,st.ma=ve,st.width=B.width,st.height=B.height,st.Da=B.Da,st.v=B.v,st.va=B.va,st.j=B.j,st.o=B.o,ve.$a)e:{e(ve.$a==1),B=lt();t:for(;;){if(B==null){B=0;break e}if(e(ve!=null),ve.mc=B,B.c=ve.c,B.i=ve.i,B.l=ve.l,B.l.ma=ve,B.l.width=ve.c,B.l.height=ve.i,B.a=0,ee(B.m,be,Me,Je),!ct(ve.c,ve.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&Ce(B.s)?(ve.ic=1,be=B.c*B.i,B.Ta=null,B.Ua=0,B.V=i(be),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(ve.ic=0,B=mt(B,ve.c)),!B))break t;B=1;break e}ve.mc=null,B=0}else B=Je>=ve.c*ve.i;ve=!B}if(ve)return null;M.ga.Lc!=1?M.Ga=0:ne=xe-Q}e(M.ga!=null),e(Q+ne<=xe);e:{if(B=(be=M.ga).c,xe=be.l.o,be.$a==0){if(Me=M.rc,Je=M.Vc,st=M.Fa,je=M.P+1+Q*B,ke=M.mb,Xe=M.nb+Q*B,e(je<=M.P+M.qc),be.Z!=0)for(e(ni[be.Z]!=null),ve=0;ve<ne;++ve)ni[be.Z](Me,Je,st,je,ke,Xe,B),Me=ke,Je=Xe,Xe+=B,je+=B;else for(ve=0;ve<ne;++ve)s(ke,Xe,st,je,B),Me=ke,Je=Xe,Xe+=B,je+=B;M.rc=Me,M.Vc=Je}else{if(e(be.mc!=null),B=Q+ne,e((ve=be.mc)!=null),e(B<=ve.i),ve.C>=B)B=1;else if(be.ic||dl(),be.ic){be=ve.V,Me=ve.Ba,Je=ve.c;var Ct=ve.i,ht=(st=1,je=ve.$/Je,ke=ve.$%Je,Xe=ve.m,ot=ve.s,ve.$),jt=Je*Ct,St=Je*B,Mt=ot.wc,Pt=ht<St?me(ot,ke,je):null;e(ht<=jt),e(B<=Ct),e(Ce(ot));t:for(;;){for(;!Xe.h&&ht<St;){if(ke&Mt||(Pt=me(ot,ke,je)),e(Pt!=null),fe(Xe),256>(Ct=sn(Pt.G[0],Pt.H[0],Xe)))be[Me+ht]=Ct,++ht,++ke>=Je&&(ke=0,++je<=B&&!(je%16)&&Te(ve,je));else{if(!(280>Ct)){st=0;break t}Ct=Fn(Ct-256,Xe);var yr,cr=sn(Pt.G[4],Pt.H[4],Xe);if(fe(Xe),!(ht>=(cr=ss(Je,cr=Fn(cr,Xe)))&&jt-ht>=Ct)){st=0;break t}for(yr=0;yr<Ct;++yr)be[Me+ht+yr]=be[Me+ht+yr-cr];for(ht+=Ct,ke+=Ct;ke>=Je;)ke-=Je,++je<=B&&!(je%16)&&Te(ve,je);ht<St&&ke&Mt&&(Pt=me(ot,ke,je))}e(Xe.h==Z(Xe))}Te(ve,je>B?B:je);break t}!st||Xe.h&&ht<jt?(st=0,ve.a=Xe.h?5:3):ve.$=ht,B=st}else B=it(ve,ve.V,ve.Ba,ve.c,ve.i,B,de);if(!B){ne=0;break e}}Q+ne>=xe&&(M.Cc=1),ne=1}if(!ne)return null;if(M.Cc&&((ne=M.ga)!=null&&(ne.mc=null),M.ga=null,0<M.Ga))return alert("todo:WebPDequantizeLevels"),null}return M.nb+Q*ue}function ma(M,B,Q,ne,ue,xe){for(;0<ue--;){var ve,be=M,je=B+(Q?1:0),ke=M,Xe=B+(Q?0:3);for(ve=0;ve<ne;++ve){var ot=ke[Xe+4*ve];ot!=255&&(ot*=32897,be[je+4*ve+0]=be[je+4*ve+0]*ot>>23,be[je+4*ve+1]=be[je+4*ve+1]*ot>>23,be[je+4*ve+2]=be[je+4*ve+2]*ot>>23)}B+=xe}}function Ks(M,B,Q,ne,ue){for(;0<ne--;){var xe;for(xe=0;xe<Q;++xe){var ve=M[B+2*xe+0],be=15&(ke=M[B+2*xe+1]),je=4369*be,ke=(240&ke|ke>>4)*je>>16;M[B+2*xe+0]=(240&ve|ve>>4)*je>>16&240|(15&ve|ve<<4)*je>>16>>4&15,M[B+2*xe+1]=240&ke|be}B+=ue}}function Ia(M,B,Q,ne,ue,xe,ve,be){var je,ke,Xe=255;for(ke=0;ke<ue;++ke){for(je=0;je<ne;++je){var ot=M[B+je];xe[ve+4*je]=ot,Xe&=ot}B+=Q,ve+=be}return Xe!=255}function Ec(M,B,Q,ne,ue){var xe;for(xe=0;xe<ue;++xe)Q[ne+xe]=M[B+xe]>>8}function dl(){Lu=ma,nv=Ks,y0=Ia,sv=Ec}function Tc(M,B,Q){C[M]=function(ne,ue,xe,ve,be,je,ke,Xe,ot,Me,Je,st,Ct,ht,jt,St,Mt){var Pt,yr=Mt-1>>1,cr=be[je+0]|ke[Xe+0]<<16,Wr=ot[Me+0]|Je[st+0]<<16;e(ne!=null);var mr=3*cr+Wr+131074>>2;for(B(ne[ue+0],255&mr,mr>>16,Ct,ht),xe!=null&&(mr=3*Wr+cr+131074>>2,B(xe[ve+0],255&mr,mr>>16,jt,St)),Pt=1;Pt<=yr;++Pt){var dn=be[je+Pt]|ke[Xe+Pt]<<16,Hs=ot[Me+Pt]|Je[st+Pt]<<16,Gr=cr+dn+Wr+Hs+524296,dr=Gr+2*(dn+Wr)>>3;mr=dr+cr>>1,cr=(Gr=Gr+2*(cr+Hs)>>3)+dn>>1,B(ne[ue+2*Pt-1],255&mr,mr>>16,Ct,ht+(2*Pt-1)*Q),B(ne[ue+2*Pt-0],255&cr,cr>>16,Ct,ht+(2*Pt-0)*Q),xe!=null&&(mr=Gr+Wr>>1,cr=dr+Hs>>1,B(xe[ve+2*Pt-1],255&mr,mr>>16,jt,St+(2*Pt-1)*Q),B(xe[ve+2*Pt+0],255&cr,cr>>16,jt,St+(2*Pt+0)*Q)),cr=dn,Wr=Hs}1&Mt||(mr=3*cr+Wr+131074>>2,B(ne[ue+Mt-1],255&mr,mr>>16,Ct,ht+(Mt-1)*Q),xe!=null&&(mr=3*Wr+cr+131074>>2,B(xe[ve+Mt-1],255&mr,mr>>16,jt,St+(Mt-1)*Q)))}}function _u(){Ii[kp]=G5,Ii[Md]=Pd,Ii[E1]=V5,Ii[b0]=ef,Ii[w0]=Bu,Ii[Qn]=A0,Ii[Ep]=fv,Ii[Jh]=Pd,Ii[Ou]=ef,Ii[j0]=Bu,Ii[N0]=A0}function Hh(M){return M&-16384?0>M?0:255:M>>Dd}function Nd(M,B){return Hh((19077*M>>8)+(26149*B>>8)-14234)}function Au(M,B,Q){return Hh((19077*M>>8)-(6419*B>>8)-(13320*Q>>8)+8708)}function Sd(M,B){return Hh((19077*M>>8)+(33050*B>>8)-17685)}function _d(M,B,Q,ne,ue){ne[ue+0]=Nd(M,Q),ne[ue+1]=Au(M,B,Q),ne[ue+2]=Sd(M,B)}function Fa(M,B,Q,ne,ue){ne[ue+0]=Sd(M,B),ne[ue+1]=Au(M,B,Q),ne[ue+2]=Nd(M,Q)}function Cu(M,B,Q,ne,ue){var xe=Au(M,B,Q);B=xe<<3&224|Sd(M,B)>>3,ne[ue+0]=248&Nd(M,Q)|xe>>5,ne[ue+1]=B}function ku(M,B,Q,ne,ue){var xe=240&Sd(M,B)|15;ne[ue+0]=240&Nd(M,Q)|Au(M,B,Q)>>4,ne[ue+1]=xe}function p0(M,B,Q,ne,ue){ne[ue+0]=255,_d(M,B,Q,ne,ue+1)}function x0(M,B,Q,ne,ue){Fa(M,B,Q,ne,ue),ne[ue+3]=255}function vi(M,B,Q,ne,ue){_d(M,B,Q,ne,ue),ne[ue+3]=255}function ul(M,B,Q){C[M]=function(ne,ue,xe,ve,be,je,ke,Xe,ot){for(var Me=Xe+(-2&ot)*Q;Xe!=Me;)B(ne[ue+0],xe[ve+0],be[je+0],ke,Xe),B(ne[ue+1],xe[ve+0],be[je+0],ke,Xe+Q),ue+=2,++ve,++je,Xe+=2*Q;1&ot&&B(ne[ue+0],xe[ve+0],be[je+0],ke,Xe)}}function $l(M,B,Q){return Q==0?M==0?B==0?6:5:B==0?4:0:Q}function _p(M,B,Q,ne,ue){switch(M>>>30){case 3:Du(B,Q,ne,ue,0);break;case 2:zs(B,Q,ne,ue);break;case 1:Nn(B,Q,ne,ue)}}function fo(M,B){var Q,ne,ue=B.M,xe=B.Nb,ve=M.oc,be=M.pc+40,je=M.oc,ke=M.pc+584,Xe=M.oc,ot=M.pc+600;for(Q=0;16>Q;++Q)ve[be+32*Q-1]=129;for(Q=0;8>Q;++Q)je[ke+32*Q-1]=129,Xe[ot+32*Q-1]=129;for(0<ue?ve[be-1-32]=je[ke-1-32]=Xe[ot-1-32]=129:(a(ve,be-32-1,127,21),a(je,ke-32-1,127,9),a(Xe,ot-32-1,127,9)),ne=0;ne<M.za;++ne){var Me=B.ya[B.aa+ne];if(0<ne){for(Q=-1;16>Q;++Q)s(ve,be+32*Q-4,ve,be+32*Q+12,4);for(Q=-1;8>Q;++Q)s(je,ke+32*Q-4,je,ke+32*Q+4,4),s(Xe,ot+32*Q-4,Xe,ot+32*Q+4,4)}var Je=M.Gd,st=M.Hd+ne,Ct=Me.ad,ht=Me.Hc;if(0<ue&&(s(ve,be-32,Je[st].y,0,16),s(je,ke-32,Je[st].f,0,8),s(Xe,ot-32,Je[st].ea,0,8)),Me.Za){var jt=ve,St=be-32+16;for(0<ue&&(ne>=M.za-1?a(jt,St,Je[st].y[15],4):s(jt,St,Je[st+1].y,0,4)),Q=0;4>Q;Q++)jt[St+128+Q]=jt[St+256+Q]=jt[St+384+Q]=jt[St+0+Q];for(Q=0;16>Q;++Q,ht<<=2)jt=ve,St=be+mv[Q],Fo[Me.Ob[Q]](jt,St),_p(ht,Ct,16*+Q,jt,St)}else if(jt=$l(ne,ue,Me.Ob[0]),bi[jt](ve,be),ht!=0)for(Q=0;16>Q;++Q,ht<<=2)_p(ht,Ct,16*+Q,ve,be+mv[Q]);for(Q=Me.Gc,jt=$l(ne,ue,Me.Dd),Oi[jt](je,ke),Oi[jt](Xe,ot),ht=Ct,jt=je,St=ke,255&(Me=0|Q)&&(170&Me?Li(ht,256,jt,St):Wn(ht,256,jt,St)),Me=Xe,ht=ot,255&(Q>>=8)&&(170&Q?Li(Ct,320,Me,ht):Wn(Ct,320,Me,ht)),ue<M.Ub-1&&(s(Je[st].y,0,ve,be+480,16),s(Je[st].f,0,je,ke+224,8),s(Je[st].ea,0,Xe,ot+224,8)),Q=8*xe*M.B,Je=M.sa,st=M.ta+16*ne+16*xe*M.R,Ct=M.qa,Me=M.ra+8*ne+Q,ht=M.Ha,jt=M.Ia+8*ne+Q,Q=0;16>Q;++Q)s(Je,st+Q*M.R,ve,be+32*Q,16);for(Q=0;8>Q;++Q)s(Ct,Me+Q*M.B,je,ke+32*Q,8),s(ht,jt+Q*M.B,Xe,ot+32*Q,8)}}function Ad(M,B,Q,ne,ue,xe,ve,be,je){var ke=[0],Xe=[0],ot=0,Me=je!=null?je.kd:0,Je=je??new Ot;if(M==null||12>Q)return 7;Je.data=M,Je.w=B,Je.ha=Q,B=[B],Q=[Q],Je.gb=[Je.gb];e:{var st=B,Ct=Q,ht=Je.gb;if(e(M!=null),e(Ct!=null),e(ht!=null),ht[0]=0,12<=Ct[0]&&!r(M,st[0],"RIFF")){if(r(M,st[0]+8,"WEBP")){ht=3;break e}var jt=se(M,st[0]+4);if(12>jt||4294967286<jt){ht=3;break e}if(Me&&jt>Ct[0]-8){ht=7;break e}ht[0]=jt,st[0]+=12,Ct[0]-=12}ht=0}if(ht!=0)return ht;for(jt=0<Je.gb[0],Q=Q[0];;){e:{var St=M;Ct=B,ht=Q;var Mt=ke,Pt=Xe,yr=st=[0];if((mr=ot=[ot])[0]=0,8>ht[0])ht=7;else{if(!r(St,Ct[0],"VP8X")){if(se(St,Ct[0]+4)!=10){ht=3;break e}if(18>ht[0]){ht=7;break e}var cr=se(St,Ct[0]+8),Wr=1+ut(St,Ct[0]+12);if(2147483648<=Wr*(St=1+ut(St,Ct[0]+15))){ht=3;break e}yr!=null&&(yr[0]=cr),Mt!=null&&(Mt[0]=Wr),Pt!=null&&(Pt[0]=St),Ct[0]+=18,ht[0]-=18,mr[0]=1}ht=0}}if(ot=ot[0],st=st[0],ht!=0)return ht;if(Ct=!!(2&st),!jt&&ot)return 3;if(xe!=null&&(xe[0]=!!(16&st)),ve!=null&&(ve[0]=Ct),be!=null&&(be[0]=0),ve=ke[0],st=Xe[0],ot&&Ct&&je==null){ht=0;break}if(4>Q){ht=7;break}if(jt&&ot||!jt&&!ot&&!r(M,B[0],"ALPH")){Q=[Q],Je.na=[Je.na],Je.P=[Je.P],Je.Sa=[Je.Sa];e:{cr=M,ht=B,jt=Q;var mr=Je.gb;Mt=Je.na,Pt=Je.P,yr=Je.Sa,Wr=22,e(cr!=null),e(jt!=null),St=ht[0];var dn=jt[0];for(e(Mt!=null),e(yr!=null),Mt[0]=null,Pt[0]=null,yr[0]=0;;){if(ht[0]=St,jt[0]=dn,8>dn){ht=7;break e}var Hs=se(cr,St+4);if(4294967286<Hs){ht=3;break e}var Gr=8+Hs+1&-2;if(Wr+=Gr,0<mr&&Wr>mr){ht=3;break e}if(!r(cr,St,"VP8 ")||!r(cr,St,"VP8L")){ht=0;break e}if(dn[0]<Gr){ht=7;break e}r(cr,St,"ALPH")||(Mt[0]=cr,Pt[0]=St+8,yr[0]=Hs),St+=Gr,dn-=Gr}}if(Q=Q[0],Je.na=Je.na[0],Je.P=Je.P[0],Je.Sa=Je.Sa[0],ht!=0)break}Q=[Q],Je.Ja=[Je.Ja],Je.xa=[Je.xa];e:if(mr=M,ht=B,jt=Q,Mt=Je.gb[0],Pt=Je.Ja,yr=Je.xa,cr=ht[0],St=!r(mr,cr,"VP8 "),Wr=!r(mr,cr,"VP8L"),e(mr!=null),e(jt!=null),e(Pt!=null),e(yr!=null),8>jt[0])ht=7;else{if(St||Wr){if(mr=se(mr,cr+4),12<=Mt&&mr>Mt-12){ht=3;break e}if(Me&&mr>jt[0]-8){ht=7;break e}Pt[0]=mr,ht[0]+=8,jt[0]-=8,yr[0]=Wr}else yr[0]=5<=jt[0]&&mr[cr+0]==47&&!(mr[cr+4]>>5),Pt[0]=jt[0];ht=0}if(Q=Q[0],Je.Ja=Je.Ja[0],Je.xa=Je.xa[0],B=B[0],ht!=0)break;if(4294967286<Je.Ja)return 3;if(be==null||Ct||(be[0]=Je.xa?2:1),ve=[ve],st=[st],Je.xa){if(5>Q){ht=7;break}be=ve,Me=st,Ct=xe,M==null||5>Q?M=0:5<=Q&&M[B+0]==47&&!(M[B+4]>>5)?(jt=[0],mr=[0],Mt=[0],ee(Pt=new Y,M,B,Q),js(Pt,jt,mr,Mt)?(be!=null&&(be[0]=jt[0]),Me!=null&&(Me[0]=mr[0]),Ct!=null&&(Ct[0]=Mt[0]),M=1):M=0):M=0}else{if(10>Q){ht=7;break}be=st,M==null||10>Q||!us(M,B+3,Q-3)?M=0:(Me=M[B+0]|M[B+1]<<8|M[B+2]<<16,Ct=16383&(M[B+7]<<8|M[B+6]),M=16383&(M[B+9]<<8|M[B+8]),1&Me||3<(Me>>1&7)||!(Me>>4&1)||Me>>5>=Je.Ja||!Ct||!M?M=0:(ve&&(ve[0]=Ct),be&&(be[0]=M),M=1))}if(!M||(ve=ve[0],st=st[0],ot&&(ke[0]!=ve||Xe[0]!=st)))return 3;je!=null&&(je[0]=Je,je.offset=B-je.w,e(4294967286>B-je.w),e(je.offset==je.ha-Q));break}return ht==0||ht==7&&ot&&je==null?(xe!=null&&(xe[0]|=Je.na!=null&&0<Je.na.length),ne!=null&&(ne[0]=ve),ue!=null&&(ue[0]=st),0):ht}function Wh(M,B,Q){var ne=B.width,ue=B.height,xe=0,ve=0,be=ne,je=ue;if(B.Da=M!=null&&0<M.Da,B.Da&&(be=M.cd,je=M.bd,xe=M.v,ve=M.j,11>Q||(xe&=-2,ve&=-2),0>xe||0>ve||0>=be||0>=je||xe+be>ne||ve+je>ue))return 0;if(B.v=xe,B.j=ve,B.va=xe+be,B.o=ve+je,B.U=be,B.T=je,B.da=M!=null&&0<M.da,B.da){if(!Fe(be,je,Q=[M.ib],xe=[M.hb]))return 0;B.ib=Q[0],B.hb=xe[0]}return B.ob=M!=null&&M.ob,B.Kb=M==null||!M.Sd,B.da&&(B.ob=B.ib<3*ne/4&&B.hb<3*ue/4,B.Kb=0),1}function qh(M){if(M==null)return 2;if(11>M.S){var B=M.f.RGBA;B.fb+=(M.height-1)*B.A,B.A=-B.A}else B=M.f.kb,M=M.height,B.O+=(M-1)*B.fa,B.fa=-B.fa,B.N+=(M-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(M-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(M-1)*B.lb,B.lb=-B.lb);return 0}function Mc(M,B,Q,ne){if(ne==null||0>=M||0>=B)return 2;if(Q!=null){if(Q.Da){var ue=Q.cd,xe=Q.bd,ve=-2&Q.v,be=-2&Q.j;if(0>ve||0>be||0>=ue||0>=xe||ve+ue>M||be+xe>B)return 2;M=ue,B=xe}if(Q.da){if(!Fe(M,B,ue=[Q.ib],xe=[Q.hb]))return 2;M=ue[0],B=xe[0]}}ne.width=M,ne.height=B;e:{var je=ne.width,ke=ne.height;if(M=ne.S,0>=je||0>=ke||!(M>=kp&&13>M))M=2;else{if(0>=ne.Rd&&ne.sd==null){ve=xe=ue=B=0;var Xe=(be=je*C0[M])*ke;if(11>M||(xe=(ke+1)/2*(B=(je+1)/2),M==12&&(ve=(ue=je)*ke)),(ke=i(Xe+2*xe+ve))==null){M=1;break e}ne.sd=ke,11>M?((je=ne.f.RGBA).eb=ke,je.fb=0,je.A=be,je.size=Xe):((je=ne.f.kb).y=ke,je.O=0,je.fa=be,je.Fd=Xe,je.f=ke,je.N=0+Xe,je.Ab=B,je.Cd=xe,je.ea=ke,je.W=0+Xe+xe,je.Db=B,je.Ed=xe,M==12&&(je.F=ke,je.J=0+Xe+2*xe),je.Tc=ve,je.lb=ue)}if(B=1,ue=ne.S,xe=ne.width,ve=ne.height,ue>=kp&&13>ue)if(11>ue)M=ne.f.RGBA,B&=(be=Math.abs(M.A))*(ve-1)+xe<=M.size,B&=be>=xe*C0[ue],B&=M.eb!=null;else{M=ne.f.kb,be=(xe+1)/2,Xe=(ve+1)/2,je=Math.abs(M.fa),ke=Math.abs(M.Ab);var ot=Math.abs(M.Db),Me=Math.abs(M.lb),Je=Me*(ve-1)+xe;B&=je*(ve-1)+xe<=M.Fd,B&=ke*(Xe-1)+be<=M.Cd,B=(B&=ot*(Xe-1)+be<=M.Ed)&je>=xe&ke>=be&ot>=be,B&=M.y!=null,B&=M.f!=null,B&=M.ea!=null,ue==12&&(B&=Me>=xe,B&=Je<=M.Tc,B&=M.F!=null)}else B=0;M=B?0:2}}return M!=0||Q!=null&&Q.fd&&(M=qh(ne)),M}var Oo=64,mo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],po=24,Cd=32,Hl=8,Pc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];le("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(M){return M},C.Predictor2=function(M,B,Q){return B[Q+0]},C.Predictor3=function(M,B,Q){return B[Q+1]},C.Predictor4=function(M,B,Q){return B[Q-1]},C.Predictor5=function(M,B,Q){return _e(_e(M,B[Q+1]),B[Q+0])},C.Predictor6=function(M,B,Q){return _e(M,B[Q-1])},C.Predictor7=function(M,B,Q){return _e(M,B[Q+0])},C.Predictor8=function(M,B,Q){return _e(B[Q-1],B[Q+0])},C.Predictor9=function(M,B,Q){return _e(B[Q+0],B[Q+1])},C.Predictor10=function(M,B,Q){return _e(_e(M,B[Q-1]),_e(B[Q+0],B[Q+1]))},C.Predictor11=function(M,B,Q){var ne=B[Q+0];return 0>=et(ne>>24&255,M>>24&255,(B=B[Q-1])>>24&255)+et(ne>>16&255,M>>16&255,B>>16&255)+et(ne>>8&255,M>>8&255,B>>8&255)+et(255&ne,255&M,255&B)?ne:M},C.Predictor12=function(M,B,Q){var ne=B[Q+0];return(qe((M>>24&255)+(ne>>24&255)-((B=B[Q-1])>>24&255))<<24|qe((M>>16&255)+(ne>>16&255)-(B>>16&255))<<16|qe((M>>8&255)+(ne>>8&255)-(B>>8&255))<<8|qe((255&M)+(255&ne)-(255&B)))>>>0},C.Predictor13=function(M,B,Q){var ne=B[Q-1];return(Ke((M=_e(M,B[Q+0]))>>24&255,ne>>24&255)<<24|Ke(M>>16&255,ne>>16&255)<<16|Ke(M>>8&255,ne>>8&255)<<8|Ke(255&M,255&ne))>>>0};var Dc=C.PredictorAdd0;C.PredictorAdd1=Tt,le("Predictor2","PredictorAdd2"),le("Predictor3","PredictorAdd3"),le("Predictor4","PredictorAdd4"),le("Predictor5","PredictorAdd5"),le("Predictor6","PredictorAdd6"),le("Predictor7","PredictorAdd7"),le("Predictor8","PredictorAdd8"),le("Predictor9","PredictorAdd9"),le("Predictor10","PredictorAdd10"),le("Predictor11","PredictorAdd11"),le("Predictor12","PredictorAdd12"),le("Predictor13","PredictorAdd13");var Wl=C.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(M){return M>>8&255},function(M){return M}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(M){return M},function(M){return M>>8&255});var Js,Eu=C.ColorIndexInverseTransform,ql=C.MapARGB,hl=C.VP8LColorIndexInverseTransformAlpha,Tu=C.MapAlpha,Mu=C.VP8LPredictorsAdd=[];Mu.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Gh,Vh,Rc,kd,Ed,Pu,Td,Du,zs,Li,Nn,Wn,$s,aa,fl,g0,Xh,Lc,Ap,Yh,Cp,rv,v0,Ru,Lu,nv,y0,sv,av=i(511),iv=i(2041),ov=i(225),lv=i(767),cv=0,Gl=iv,Kh=ov,yi=lv,Io=av,kp=0,Md=1,E1=2,b0=3,w0=4,Qn=5,Ep=6,Jh=7,Ou=8,j0=9,N0=10,S0=[2,3,7],Tp=[3,3,11],Iu=[280,256,256,256,40],T1=[0,1,1,1,0],$5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],H5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],M1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mp=8,Qh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fu=null,dv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],uv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],P1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],D1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],W5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],q5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bi=[],Fo=[],Oi=[],Vl=1,Zh=2,ni=[],Ii=[];Tc("UpsampleRgbLinePair",_d,3),Tc("UpsampleBgrLinePair",Fa,3),Tc("UpsampleRgbaLinePair",vi,4),Tc("UpsampleBgraLinePair",x0,4),Tc("UpsampleArgbLinePair",p0,4),Tc("UpsampleRgba4444LinePair",ku,2),Tc("UpsampleRgb565LinePair",Cu,2);var G5=C.UpsampleRgbLinePair,V5=C.UpsampleBgrLinePair,Pd=C.UpsampleRgbaLinePair,ef=C.UpsampleBgraLinePair,Bu=C.UpsampleArgbLinePair,A0=C.UpsampleRgba4444LinePair,fv=C.UpsampleRgb565LinePair,Oc=16,ml=1<<Oc-1,zn=-227,qn=482,Dd=6,Ba=0,Fi=i(256),Uu=i(256),tf=i(256),Bi=i(256),Pp=i(qn-zn),R1=i(qn-zn);ul("YuvToRgbRow",_d,3),ul("YuvToBgrRow",Fa,3),ul("YuvToRgbaRow",vi,4),ul("YuvToBgraRow",x0,4),ul("YuvToArgbRow",p0,4),ul("YuvToRgba4444Row",ku,2),ul("YuvToRgb565Row",Cu,2);var mv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zu=[0,2,8],L1=[8,7,6,4,4,2,2,2,1,1,1,1],Ic=1;this.WebPDecodeRGBA=function(M,B,Q,ne,ue){var xe=Md,ve=new kt,be=new tt;ve.ba=be,be.S=xe,be.width=[be.width],be.height=[be.height];var je=be.width,ke=be.height,Xe=new at;if(Xe==null||M==null)var ot=2;else e(Xe!=null),ot=Ad(M,B,Q,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(ot!=0?je=0:(je!=null&&(je[0]=Xe.width[0]),ke!=null&&(ke[0]=Xe.height[0]),je=1),je){be.width=be.width[0],be.height=be.height[0],ne!=null&&(ne[0]=be.width),ue!=null&&(ue[0]=be.height);e:{if(ne=new Un,(ue=new Ot).data=M,ue.w=B,ue.ha=Q,ue.kd=1,B=[0],e(ue!=null),((M=Ad(ue.data,ue.w,ue.ha,null,null,null,B,null,ue))==0||M==7)&&B[0]&&(M=4),(B=M)==0){if(e(ve!=null),ne.data=ue.data,ne.w=ue.w+ue.offset,ne.ha=ue.ha-ue.offset,ne.put=er,ne.ac=Jt,ne.bc=bn,ne.ma=ve,ue.xa){if((M=lt())==null){ve=1;break e}if((function(Me,Je){var st=[0],Ct=[0],ht=[0];t:for(;;){if(Me==null)return 0;if(Je==null)return Me.a=2,0;if(Me.l=Je,Me.a=0,ee(Me.m,Je.data,Je.w,Je.ha),!js(Me.m,st,Ct,ht)){Me.a=3;break t}if(Me.xb=Zh,Je.width=st[0],Je.height=Ct[0],!ct(st[0],Ct[0],1,Me,null))break t;return 1}return e(Me.a!=0),0})(M,ne)){if(ne=(B=Mc(ne.width,ne.height,ve.Oa,ve.ba))==0){t:{ne=M;r:for(;;){if(ne==null){ne=0;break t}if(e(ne.s.yc!=null),e(ne.s.Ya!=null),e(0<ne.s.Wb),e((Q=ne.l)!=null),e((ue=Q.ma)!=null),ne.xb!=0){if(ne.ca=ue.ba,ne.tb=ue.tb,e(ne.ca!=null),!Wh(ue.Oa,Q,b0)){ne.a=2;break r}if(!mt(ne,Q.width)||Q.da)break r;if((Q.da||Ne(ne.ca.S))&&dl(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&dl()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!J(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!it(ne,ne.V,ne.Ba,ne.c,ne.i,Q.o,Se))break r;ue.Dc=ne.Ma,ne=1;break t}e(ne.a!=0),ne=0}ne=!ne}ne&&(B=M.a)}else B=M.a}else{if((M=new ln)==null){ve=1;break e}if(M.Fa=ue.na,M.P=ue.P,M.qc=ue.Sa,zr(M,ne)){if((B=Mc(ne.width,ne.height,ve.Oa,ve.ba))==0){if(M.Aa=0,Q=ve.Oa,e((ue=M)!=null),Q!=null){if(0<(je=0>(je=Q.Md)?0:100<je?255:255*je/100)){for(ke=Xe=0;4>ke;++ke)12>(ot=ue.pb[ke]).lc&&(ot.ia=je*L1[0>ot.lc?0:ot.lc]>>3),Xe|=ot.ia;Xe&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=Q.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Me,Je){if(Me==null)return 0;if(Je==null)return rr(Me,2,"NULL VP8Io parameter in VP8Decode().");if(!Me.cb&&!zr(Me,Je))return 0;if(e(Me.cb),Je.ac==null||Je.ac(Je)){Je.ob&&(Me.L=0);var st=zu[Me.L];if(Me.L==2?(Me.yb=0,Me.zb=0):(Me.yb=Je.v-st>>4,Me.zb=Je.j-st>>4,0>Me.yb&&(Me.yb=0),0>Me.zb&&(Me.zb=0)),Me.Va=Je.o+15+st>>4,Me.Hb=Je.va+15+st>>4,Me.Hb>Me.za&&(Me.Hb=Me.za),Me.Va>Me.Ub&&(Me.Va=Me.Ub),0<Me.L){var Ct=Me.ed;for(st=0;4>st;++st){var ht;if(Me.Qa.Cb){var jt=Me.Qa.Lb[st];Me.Qa.Fb||(jt+=Ct.Tb)}else jt=Ct.Tb;for(ht=0;1>=ht;++ht){var St=Me.gd[st][ht],Mt=jt;if(Ct.Pc&&(Mt+=Ct.vd[0],ht&&(Mt+=Ct.od[0])),0<(Mt=0>Mt?0:63<Mt?63:Mt)){var Pt=Mt;0<Ct.wb&&(Pt=4<Ct.wb?Pt>>2:Pt>>1)>9-Ct.wb&&(Pt=9-Ct.wb),1>Pt&&(Pt=1),St.dd=Pt,St.tc=2*Mt+Pt,St.ld=40<=Mt?2:15<=Mt?1:0}else St.tc=0;St.La=ht}}}st=0}else rr(Me,6,"Frame setup failed"),st=Me.a;if(st=st==0){if(st){Me.$c=0,0<Me.Aa||(Me.Ic=Ic);t:{st=Me.Ic,Ct=4*(Pt=Me.za);var yr=32*Pt,cr=Pt+1,Wr=0<Me.L?Pt*(0<Me.Aa?2:1):0,mr=(Me.Aa==2?2:1)*Pt;if((St=Ct+832+(ht=3*(16*st+zu[Me.L])/2*yr)+(jt=Me.Fa!=null&&0<Me.Fa.length?Me.Kc.c*Me.Kc.i:0))!=St)st=0;else{if(St>Me.Vb){if(Me.Vb=0,Me.Ec=i(St),Me.Fc=0,Me.Ec==null){st=rr(Me,1,"no memory during frame initialization.");break t}Me.Vb=St}St=Me.Ec,Mt=Me.Fc,Me.Ac=St,Me.Bc=Mt,Mt+=Ct,Me.Gd=o(yr,_r),Me.Hd=0,Me.rb=o(cr+1,Vt),Me.sb=1,Me.wa=Wr?o(Wr,Ft):null,Me.Y=0,Me.D.Nb=0,Me.D.wa=Me.wa,Me.D.Y=Me.Y,0<Me.Aa&&(Me.D.Y+=Pt),e(!0),Me.oc=St,Me.pc=Mt,Mt+=832,Me.ya=o(mr,wr),Me.aa=0,Me.D.ya=Me.ya,Me.D.aa=Me.aa,Me.Aa==2&&(Me.D.aa+=Pt),Me.R=16*Pt,Me.B=8*Pt,Pt=(yr=zu[Me.L])*Me.R,yr=yr/2*Me.B,Me.sa=St,Me.ta=Mt+Pt,Me.qa=Me.sa,Me.ra=Me.ta+16*st*Me.R+yr,Me.Ha=Me.qa,Me.Ia=Me.ra+8*st*Me.B+yr,Me.$c=0,Mt+=ht,Me.mb=jt?St:null,Me.nb=jt?Mt:null,e(Mt+jt<=Me.Fc+Me.Vb),Mi(Me),a(Me.Ac,Me.Bc,0,Ct),st=1}}if(st){if(Je.ka=0,Je.y=Me.sa,Je.O=Me.ta,Je.f=Me.qa,Je.N=Me.ra,Je.ea=Me.Ha,Je.Vd=Me.Ia,Je.fa=Me.R,Je.Rc=Me.B,Je.F=null,Je.J=0,!cv){for(st=-255;255>=st;++st)av[255+st]=0>st?-st:st;for(st=-1020;1020>=st;++st)iv[1020+st]=-128>st?-128:127<st?127:st;for(st=-112;112>=st;++st)ov[112+st]=-16>st?-16:15<st?15:st;for(st=-255;510>=st;++st)lv[255+st]=0>st?0:255<st?255:st;cv=1}Td=vu,Du=Ds,Li=fs,Nn=Fl,Wn=Jr,zs=_a,$s=ri,aa=Lo,fl=he,g0=De,Xh=$h,Lc=G,Ap=He,Yh=nt,Cp=kc,rv=jd,v0=m0,Ru=Su,Fo[0]=Np,Fo[1]=d0,Fo[2]=Ul,Fo[3]=tv,Fo[4]=ho,Fo[5]=Sp,Fo[6]=Cc,Fo[7]=Bh,Fo[8]=u0,Fo[9]=bu,bi[0]=Bl,bi[1]=jp,bi[2]=Ih,bi[3]=Fh,bi[4]=Di,bi[5]=Mo,bi[6]=yu,Oi[0]=Uh,Oi[1]=wp,Oi[2]=cl,Oi[3]=wu,Oi[4]=f0,Oi[5]=h0,Oi[6]=zh,st=1}else st=0}st&&(st=(function(dn,Hs){for(dn.M=0;dn.M<dn.Va;++dn.M){var Gr,dr=dn.Jc[dn.M&dn.Xb],Qt=dn.m,Qs=dn;for(Gr=0;Gr<Qs.za;++Gr){var Cr=Qt,on=Qs,Gn=on.Ac,Ws=on.Bc+4*Gr,Ua=on.zc,Ns=on.ya[on.aa+Gr];if(on.Qa.Bb?Ns.$b=we(Cr,on.Pa.jb[0])?2+we(Cr,on.Pa.jb[2]):we(Cr,on.Pa.jb[1]):Ns.$b=0,on.kc&&(Ns.Ad=we(Cr,on.Bd)),Ns.Za=!we(Cr,145)+0,Ns.Za){var Aa=Ns.Ob,za=0;for(on=0;4>on;++on){var Ss,Hr=Ua[0+on];for(Ss=0;4>Ss;++Ss){Hr=W5[Gn[Ws+Ss]][Hr];for(var un=P1[we(Cr,Hr[0])];0<un;)un=P1[2*un+we(Cr,Hr[un])];Hr=-un,Gn[Ws+Ss]=Hr}s(Aa,za,Gn,Ws,4),za+=4,Ua[0+on]=Hr}}else Hr=we(Cr,156)?we(Cr,128)?1:3:we(Cr,163)?2:0,Ns.Ob[0]=Hr,a(Gn,Ws,Hr,4),a(Ua,0,Hr,4);Ns.Dd=we(Cr,142)?we(Cr,114)?we(Cr,183)?1:3:2:0}if(Qs.m.Ka)return rr(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(Qs=dr,Cr=(Qt=dn).rb[Qt.sb-1],Gn=Qt.rb[Qt.sb+Qt.ja],Gr=Qt.ya[Qt.aa+Qt.ja],Ws=Qt.kc?Gr.Ad:0)Cr.la=Gn.la=0,Gr.Za||(Cr.Na=Gn.Na=0),Gr.Hc=0,Gr.Gc=0,Gr.ia=0;else{var _s,kn;if(Cr=Gn,Gn=Qs,Ws=Qt.Pa.Xc,Ua=Qt.ya[Qt.aa+Qt.ja],Ns=Qt.pb[Ua.$b],on=Ua.ad,Aa=0,za=Qt.rb[Qt.sb-1],Hr=Ss=0,a(on,Aa,0,384),Ua.Za)var ms=0,Ca=Ws[3];else{un=i(16);var Ls=Cr.Na+za.Na;if(Ls=Fu(Gn,Ws[1],Ls,Ns.Eb,0,un,0),Cr.Na=za.Na=(0<Ls)+0,1<Ls)Td(un,0,on,Aa);else{var wi=un[0]+3>>3;for(un=0;256>un;un+=16)on[Aa+un]=wi}ms=1,Ca=Ws[0]}var hn=15&Cr.la,os=15&za.la;for(un=0;4>un;++un){var si=1&os;for(wi=kn=0;4>wi;++wi)hn=hn>>1|(si=(Ls=Fu(Gn,Ca,Ls=si+(1&hn),Ns.Sc,ms,on,Aa))>ms)<<7,kn=kn<<2|(3<Ls?3:1<Ls?2:on[Aa+0]!=0),Aa+=16;hn>>=4,os=os>>1|si<<7,Ss=(Ss<<8|kn)>>>0}for(Ca=hn,ms=os>>4,_s=0;4>_s;_s+=2){for(kn=0,hn=Cr.la>>4+_s,os=za.la>>4+_s,un=0;2>un;++un){for(si=1&os,wi=0;2>wi;++wi)Ls=si+(1&hn),hn=hn>>1|(si=0<(Ls=Fu(Gn,Ws[2],Ls,Ns.Qc,0,on,Aa)))<<3,kn=kn<<2|(3<Ls?3:1<Ls?2:on[Aa+0]!=0),Aa+=16;hn>>=2,os=os>>1|si<<5}Hr|=kn<<4*_s,Ca|=hn<<4<<_s,ms|=(240&os)<<_s}Cr.la=Ca,za.la=ms,Ua.Hc=Ss,Ua.Gc=Hr,Ua.ia=43690&Hr?0:Ns.ia,Ws=!(Ss|Hr)}if(0<Qt.L&&(Qt.wa[Qt.Y+Qt.ja]=Qt.gd[Gr.$b][Gr.Za],Qt.wa[Qt.Y+Qt.ja].La|=!Ws),Qs.Ka)return rr(dn,7,"Premature end-of-file encountered.")}if(Mi(dn),Qt=Hs,Qs=1,Gr=(dr=dn).D,Cr=0<dr.L&&dr.M>=dr.zb&&dr.M<=dr.Va,dr.Aa==0)t:{if(Gr.M=dr.M,Gr.uc=Cr,fo(dr,Gr),Qs=1,Gr=(kn=dr.D).Nb,Cr=(Hr=zu[dr.L])*dr.R,Gn=Hr/2*dr.B,un=16*Gr*dr.R,wi=8*Gr*dr.B,Ws=dr.sa,Ua=dr.ta-Cr+un,Ns=dr.qa,on=dr.ra-Gn+wi,Aa=dr.Ha,za=dr.Ia-Gn+wi,os=(hn=kn.M)==0,Ss=hn>=dr.Va-1,dr.Aa==2&&fo(dr,kn),kn.uc)for(si=(Ls=dr).D.M,e(Ls.D.uc),kn=Ls.yb;kn<Ls.Hb;++kn){ms=kn,Ca=si;var ai=(ii=(Zs=Ls).D).Nb;_s=Zs.R;var ii=ii.wa[ii.Y+ms],Ui=Zs.sa,ji=Zs.ta+16*ai*_s+16*ms,Ni=ii.dd,$n=ii.tc;if($n!=0)if(e(3<=$n),Zs.L==1)0<ms&&rv(Ui,ji,_s,$n+4),ii.La&&Ru(Ui,ji,_s,$n),0<Ca&&Cp(Ui,ji,_s,$n+4),ii.La&&v0(Ui,ji,_s,$n);else{var zi=Zs.B,Bo=Zs.qa,Rd=Zs.ra+8*ai*zi+8*ms,pl=Zs.Ha,Zs=Zs.Ia+8*ai*zi+8*ms;ai=ii.ld,0<ms&&(aa(Ui,ji,_s,$n+4,Ni,ai),g0(Bo,Rd,pl,Zs,zi,$n+4,Ni,ai)),ii.La&&(Lc(Ui,ji,_s,$n,Ni,ai),Yh(Bo,Rd,pl,Zs,zi,$n,Ni,ai)),0<Ca&&($s(Ui,ji,_s,$n+4,Ni,ai),fl(Bo,Rd,pl,Zs,zi,$n+4,Ni,ai)),ii.La&&(Xh(Ui,ji,_s,$n,Ni,ai),Ap(Bo,Rd,pl,Zs,zi,$n,Ni,ai))}}if(dr.ia&&alert("todo:DitherRow"),Qt.put!=null){if(kn=16*hn,hn=16*(hn+1),os?(Qt.y=dr.sa,Qt.O=dr.ta+un,Qt.f=dr.qa,Qt.N=dr.ra+wi,Qt.ea=dr.Ha,Qt.W=dr.Ia+wi):(kn-=Hr,Qt.y=Ws,Qt.O=Ua,Qt.f=Ns,Qt.N=on,Qt.ea=Aa,Qt.W=za),Ss||(hn-=Hr),hn>Qt.o&&(hn=Qt.o),Qt.F=null,Qt.J=null,dr.Fa!=null&&0<dr.Fa.length&&kn<hn&&(Qt.J=is(dr,Qt,kn,hn-kn),Qt.F=dr.mb,Qt.F==null&&Qt.F.length==0)){Qs=rr(dr,3,"Could not decode alpha data.");break t}kn<Qt.j&&(Hr=Qt.j-kn,kn=Qt.j,e(!(1&Hr)),Qt.O+=dr.R*Hr,Qt.N+=dr.B*(Hr>>1),Qt.W+=dr.B*(Hr>>1),Qt.F!=null&&(Qt.J+=Qt.width*Hr)),kn<hn&&(Qt.O+=Qt.v,Qt.N+=Qt.v>>1,Qt.W+=Qt.v>>1,Qt.F!=null&&(Qt.J+=Qt.v),Qt.ka=kn-Qt.j,Qt.U=Qt.va-Qt.v,Qt.T=hn-kn,Qs=Qt.put(Qt))}Gr+1!=dr.Ic||Ss||(s(dr.sa,dr.ta-Cr,Ws,Ua+16*dr.R,Cr),s(dr.qa,dr.ra-Gn,Ns,on+8*dr.B,Gn),s(dr.Ha,dr.Ia-Gn,Aa,za+8*dr.B,Gn))}if(!Qs)return rr(dn,6,"Output aborted.")}return 1})(Me,Je)),Je.bc!=null&&Je.bc(Je),st&=1}return st?(Me.cb=0,st):0})(M,ne)||(B=M.a)}}else B=M.a}B==0&&ve.Oa!=null&&ve.Oa.fd&&(B=qh(ve.ba))}ve=B}xe=ve!=0?null:11>xe?be.f.RGBA.eb:be.f.kb.y}else xe=null;return xe};var C0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,T){for(var k="",P=0;P<4;P++)k+=String.fromCharCode(C[T++]);return k}function u(C,T){return C[T+0]|C[T+1]<<8}function h(C,T){return(C[T+0]|C[T+1]<<8|C[T+2]<<16)>>>0}function m(C,T){return(C[T+0]|C[T+1]<<8|C[T+2]<<16|C[T+3]<<24)>>>0}new c;var f=[0],x=[0],v=[],g=new c,b=t,N=(function(C,T){var k={},P=0,D=!1,H=0,F=0;if(k.frames=[],!(function(U,Y){for(var V=0;V<4;V++)if(U[Y+V]!="RIFF".charCodeAt(V))return!0;return!1})(C,T)){for(m(C,T+=4),T+=8;T<C.length;){var z=d(C,T),O=m(C,T+=4);T+=4;var W=O+(1&O);switch(z){case"VP8 ":case"VP8L":k.frames[P]===void 0&&(k.frames[P]={}),(re=k.frames[P]).src_off=D?F:T-8,re.src_size=H+O+8,P++,D&&(D=!1,H=0,F=0);break;case"VP8X":(re=k.header={}).feature_flags=C[T];var ee=T+4;re.canvas_width=1+h(C,ee),ee+=3,re.canvas_height=1+h(C,ee),ee+=3;break;case"ALPH":D=!0,H=W+8,F=T-8;break;case"ANIM":(re=k.header).bgcolor=m(C,T),ee=T+4,re.loop_count=u(C,ee),ee+=2;break;case"ANMF":var K,re;(re=k.frames[P]={}).offset_x=2*h(C,T),T+=3,re.offset_y=2*h(C,T),T+=3,re.width=1+h(C,T),T+=3,re.height=1+h(C,T),T+=3,re.duration=h(C,T),T+=3,K=C[T++],re.dispose=1&K,re.blend=K>>1&1}z!="ANMF"&&(T+=W)}return k}})(b,0);N.response=b,N.rgbaoutput=!0,N.dataurl=!1;var w=N.header?N.header:null,A=N.frames?N.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],x=[w.canvas_width];for(var j=0;j<A.length&&A[j].blend!=0;j++);}var S=A[0],E=g.WebPDecodeRGBA(b,S.src_off,S.src_size,x,f);S.rgba=E,S.imgwidth=x[0],S.imgheight=f[0];for(var R=0;R<x[0]*f[0]*4;R++)v[R]=E[R];return this.width=x,this.height=f,this.data=v,this}(function(t){var e,r,s,a,i,o,l,c,d,u=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=U;Object.defineProperty(this,"pdf",{get:function(){return Y}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(J){V=!!J}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(J){Z=!!J}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(J){isNaN(J)||(ce=J)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(J){isNaN(J)||(fe=J)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(J){var ie;typeof J=="number"?ie=[J,J,J,J]:((ie=new Array(4))[0]=J[0],ie[1]=J.length>=2?J[1]:ie[0],ie[2]=J.length>=3?J[2]:ie[0],ie[3]=J.length>=4?J[3]:ie[1]),d.margin=ie}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(J){ye=J}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(J){ge=J}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(J){we=J}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(J){J instanceof u&&(d=J)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(J){d.path=J}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(J){Re=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var ie;ie=m(J),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var ie=m(J);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var oe=null,ut=null,se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(J){oe=null,ut=null,se=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var ie;if(this.ctx.font=J,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Ae=ie[1];ie[2];var Fe=ie[3],Ie=ie[4];ie[5];var $e=ie[6],le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(le==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:le==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var ae=(function(rt){var Dt,Rt,$t=[],Lt=rt.trim();if(Lt==="")return FC;if(Lt in XU)return[XU[Lt]];for(;Lt!=="";){switch(Rt=null,Dt=(Lt=KU(Lt)).charAt(0)){case'"':case"'":Rt=HAe(Lt.substring(1),Dt);break;default:Rt=WAe(Lt)}if(Rt===null||($t.push(Rt[0]),(Lt=KU(Rt[1]))!==""&&Lt.charAt(0)!==","))return FC;Lt=Lt.replace(/^,/,"")}return $t})($e);if(this.fontFaces){var _e=(function(rt,Dt){var Rt=rt.getFontList(),$t=JSON.stringify(Rt);if(oe===null||ut!==$t){var Lt=(function(or){var Bt=[];return Object.keys(or).forEach(function(Ge){or[Ge].forEach(function(Ne){var Qe=null;switch(Ne){case"bold":Qe={family:Ge,weight:"bold"};break;case"italic":Qe={family:Ge,style:"italic"};break;case"bolditalic":Qe={family:Ge,weight:"bold",style:"italic"};break;case"":case"normal":Qe={family:Ge}}Qe!==null&&(Qe.ref={name:Ge,style:Ne},Bt.push(Qe))})}),Bt})(Rt);oe=(function(or){for(var Bt={},Ge=0;Ge<or.length;++Ge){var Ne=IC(or[Ge]),Qe=Ne.family,Ve=Ne.stretch,tt=Ne.style,at=Ne.weight;Bt[Qe]=Bt[Qe]||{},Bt[Qe][Ve]=Bt[Qe][Ve]||{},Bt[Qe][Ve][tt]=Bt[Qe][Ve][tt]||{},Bt[Qe][Ve][tt][at]=Ne}return Bt})(Lt.concat(Dt)),ut=$t}return oe})(this.pdf,this.fontFaces),qe=ae.map(function(rt){return{family:rt,stretch:"normal",weight:Fe,style:Ae}}),Ke=(function(rt,Dt,Rt){for(var $t=(Rt=Rt||{}).defaultFontFamily||"times",Lt=Object.assign({},$Ae,Rt.genericFontFamilies||{}),or=null,Bt=null,Ge=0;Ge<Dt.length;++Ge)if(Lt[(or=IC(Dt[Ge])).family]&&(or.family=Lt[or.family]),rt.hasOwnProperty(or.family)){Bt=rt[or.family];break}if(!(Bt=Bt||rt[$t]))throw new Error("Could not find a font-family for the rule '"+YU(or)+"' and default family '"+$t+"'.");if(Bt=(function(Ne,Qe){if(Qe[Ne])return Qe[Ne];var Ve=YE[Ne],tt=Ve<=YE.normal?-1:1,at=VU(Qe,CY,Ve,tt);if(!at)throw new Error("Could not find a matching font-stretch value for "+Ne);return at})(or.stretch,Bt),Bt=(function(Ne,Qe){if(Qe[Ne])return Qe[Ne];for(var Ve=AY[Ne],tt=0;tt<Ve.length;++tt)if(Qe[Ve[tt]])return Qe[Ve[tt]];throw new Error("Could not find a matching font-style for "+Ne)})(or.style,Bt),!(Bt=(function(Ne,Qe){if(Qe[Ne])return Qe[Ne];if(Ne===400&&Qe[500])return Qe[500];if(Ne===500&&Qe[400])return Qe[400];var Ve=zAe[Ne],tt=VU(Qe,kY,Ve,Ne<400?-1:1);if(!tt)throw new Error("Could not find a matching font-weight for value "+Ne);return tt})(or.weight,Bt)))throw new Error("Failed to resolve a font for the rule '"+YU(or)+"'.");return Bt})(_e,qe);this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var et="";(Fe==="bold"||parseInt(Fe,10)>=700||Ae==="bold")&&(et="bold"),Ae==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var Tt="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<ae.length;gt++){if(this.pdf.internal.getFont(ae[gt],et,{noFallback:!0,disableWarning:!0})!==void 0){Tt=ae[gt];break}if(et==="bolditalic"&&this.pdf.internal.getFont(ae[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tt=ae[gt],et="bold";else if(this.pdf.internal.getFont(ae[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tt=ae[gt],et="normal";break}}if(Tt===""){for(var At=0;At<ae.length;At++)if(ft[ae[At]]){Tt=ft[ae[At]];break}}Tt=Tt===""?"Times":Tt,this.pdf.setFont(Tt,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(U){this.lineDash=U},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){A.call(this,"fill",!1)},h.prototype.stroke=function(){A.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw xs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(U,Y)},h.prototype.closePath=function(){var U=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&es(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){U=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},h.prototype.lineTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw xs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},h.prototype.quadraticCurveTo=function(U,Y,V,Z){if(isNaN(V)||isNaN(Z)||isNaN(U)||isNaN(Y))throw xs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(V,Z)),fe=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},h.prototype.bezierCurveTo=function(U,Y,V,Z,ce,fe){if(isNaN(ce)||isNaN(fe)||isNaN(U)||isNaN(Y)||isNaN(V)||isNaN(Z))throw xs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(ce,fe)),ge=this.ctx.transform.applyToPoint(new o(U,Y)),we=this.ctx.transform.applyToPoint(new o(V,Z));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:we.x,y2:we.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},h.prototype.arc=function(U,Y,V,Z,ce,fe){if(isNaN(U)||isNaN(Y)||isNaN(V)||isNaN(Z)||isNaN(ce))throw xs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(U,Y));U=ye.x,Y=ye.y;var ge=this.ctx.transform.applyToPoint(new o(0,V)),we=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(ge.x-we.x,2)+Math.pow(ge.y-we.y,2))}Math.abs(ce-Z)>=2*Math.PI&&(Z=0,ce=2*Math.PI),this.path.push({type:"arc",x:U,y:Y,radius:V,startAngle:Z,endAngle:ce,counterclockwise:fe})},h.prototype.arcTo=function(U,Y,V,Z,ce){throw new Error("arcTo not implemented.")},h.prototype.rect=function(U,Y,V,Z){if(isNaN(U)||isNaN(Y)||isNaN(V)||isNaN(Z))throw xs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,Y),this.lineTo(U+V,Y),this.lineTo(U+V,Y+Z),this.lineTo(U,Y+Z),this.lineTo(U,Y),this.lineTo(U+V,Y),this.lineTo(U,Y)},h.prototype.fillRect=function(U,Y,V,Z){if(isNaN(U)||isNaN(Y)||isNaN(V)||isNaN(Z))throw xs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,Y,V,Z),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},h.prototype.strokeRect=function(U,Y,V,Z){if(isNaN(U)||isNaN(Y)||isNaN(V)||isNaN(Z))throw xs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(U,Y,V,Z),this.stroke())},h.prototype.clearRect=function(U,Y,V,Z){if(isNaN(U)||isNaN(Y)||isNaN(V)||isNaN(Z))throw xs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,Y,V,Z))},h.prototype.save=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(U){var Y,V,Z,ce;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))Y=0,V=0,Z=0,ce=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(fe!==null)Y=parseInt(fe[1]),V=parseInt(fe[2]),Z=parseInt(fe[3]),ce=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)Y=parseInt(fe[1]),V=parseInt(fe[2]),Z=parseInt(fe[3]),ce=parseFloat(fe[4]);else{if(ce=1,typeof U=="string"&&U.charAt(0)!=="#"){var ye=new yY(U);U=ye.ok?ye.toHex():"#000000"}U.length===4?(Y=U.substring(1,2),Y+=Y,V=U.substring(2,3),V+=V,Z=U.substring(3,4),Z+=Z):(Y=U.substring(1,3),V=U.substring(3,5),Z=U.substring(5,7)),Y=parseInt(Y,16),V=parseInt(V,16),Z=parseInt(Z,16)}}return{r:Y,g:V,b:Z,a:ce,style:U}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(U,Y,V,Z){if(isNaN(Y)||isNaN(V)||typeof U!="string")throw xs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var ce=W(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;P.call(this,{text:U,x:Y,y:V,scale:fe,angle:ce,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(U,Y,V,Z){if(isNaN(Y)||isNaN(V)||typeof U!="string")throw xs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){Z=isNaN(Z)?void 0:Z;var ce=W(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;P.call(this,{text:U,x:Y,y:V,scale:fe,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(U){if(typeof U!="string")throw xs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,V=this.pdf.internal.scaleFactor,Z=Y.internal.getFontSize(),ce=Y.getStringUnitWidth(U)*Z/Y.internal.scaleFactor;return new function(fe){var ye=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:ce*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(U,Y){if(isNaN(U)||isNaN(Y))throw xs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(U,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(U){if(isNaN(U))throw xs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(U,Y){if(isNaN(U)||isNaN(Y))throw xs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,U,Y);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(U,Y,V,Z,ce,fe){if(isNaN(U)||isNaN(Y)||isNaN(V)||isNaN(Z)||isNaN(ce)||isNaN(fe))throw xs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(U,Y,V,Z,ce,fe);this.ctx.transform=this.ctx.transform.multiply(ye)},h.prototype.setTransform=function(U,Y,V,Z,ce,fe){U=isNaN(U)?1:U,Y=isNaN(Y)?0:Y,V=isNaN(V)?0:V,Z=isNaN(Z)?1:Z,ce=isNaN(ce)?0:ce,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(U,Y,V,Z,ce,fe)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(U,Y,V,Z,ce,fe,ye,ge,we){var Re=this.pdf.getImageProperties(U),oe=1,ut=1,se=1,J=1;Z!==void 0&&ge!==void 0&&(se=ge/Z,J=we/ce,oe=Re.width/Z*ge/Z,ut=Re.height/ce*we/ce),fe===void 0&&(fe=Y,ye=V,Y=0,V=0),Z!==void 0&&ge===void 0&&(ge=Z,we=ce),Z===void 0&&ge===void 0&&(ge=Re.width,we=Re.height);var ie=this.ctx.transform.decompose(),Ae=W(ie.rotate.shx),Fe=new c,Ie=(Fe=(Fe=(Fe=Fe.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale)).applyToRectangle(new l(fe-Y*se,ye-V*J,Z*oe,ce*ut));if(this.autoPaging){for(var $e,le=g.call(this,Ie),ae=[],_e=0;_e<le.length;_e+=1)ae.indexOf(le[_e])===-1&&ae.push(le[_e]);w(ae);for(var qe=ae[0],Ke=ae[ae.length-1],et=qe;et<Ke+1;et++){this.pdf.setPage(et);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=et===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=et===1?0:gt+(et-2)*At;if(this.ctx.clip_path.length!==0){var Dt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N($e,this.posX+this.margin[3],-rt+ft+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Dt}var Rt=JSON.parse(JSON.stringify(Ie));Rt=N([Rt],this.posX+this.margin[3],-rt+ft+this.ctx.prevPageLastElemOffset)[0];var $t=(et>qe||et<Ke)&&v.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,At,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,Ae),$t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(U,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Ae)};var g=function(U,Y,V){var Z=[];Y=Y||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":Z.push(Math.floor((U.y+ce)/V)+1);break;case"arc":Z.push(Math.floor((U.y+ce-U.radius)/V)+1),Z.push(Math.floor((U.y+ce+U.radius)/V)+1);break;case"qct":var fe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);Z.push(Math.floor((fe.y+ce)/V)+1),Z.push(Math.floor((fe.y+fe.h+ce)/V)+1);break;case"bct":var ye=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);Z.push(Math.floor((ye.y+ce)/V)+1),Z.push(Math.floor((ye.y+ye.h+ce)/V)+1);break;case"rect":Z.push(Math.floor((U.y+ce)/V)+1),Z.push(Math.floor((U.y+U.h+ce)/V)+1)}for(var ge=0;ge<Z.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ge];)b.call(this);return Z},b=function(){var U=this.fillStyle,Y=this.strokeStyle,V=this.font,Z=this.lineCap,ce=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=Y,this.font=V,this.lineCap=Z,this.lineWidth=ce,this.lineJoin=fe},N=function(U,Y,V){for(var Z=0;Z<U.length;Z++)switch(U[Z].type){case"bct":U[Z].x2+=Y,U[Z].y2+=V;case"qct":U[Z].x1+=Y,U[Z].y1+=V;default:U[Z].x+=Y,U[Z].y+=V}return U},w=function(U){return U.sort(function(Y,V){return Y-V})},A=function(U,Y){var V=this.fillStyle,Z=this.strokeStyle,ce=this.lineCap,fe=this.lineWidth,ye=Math.abs(fe*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var we,Re,oe=JSON.parse(JSON.stringify(this.path)),ut=JSON.parse(JSON.stringify(this.path)),se=[],J=0;J<ut.length;J++)if(ut[J].x!==void 0)for(var ie=g.call(this,ut[J]),Ae=0;Ae<ie.length;Ae+=1)se.indexOf(ie[Ae])===-1&&se.push(ie[Ae]);for(var Fe=0;Fe<se.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<se[Fe];)b.call(this);w(se);for(var Ie=se[0],$e=se[se.length-1],le=Ie;le<$e+1;le++){this.pdf.setPage(le),this.fillStyle=V,this.strokeStyle=Z,this.lineCap=ce,this.lineWidth=ye,this.lineJoin=ge;var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=le===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=le===1?0:qe+(le-2)*Ke;if(this.ctx.clip_path.length!==0){var Tt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(we,this.posX+this.margin[3],-et+_e+this.ctx.prevPageLastElemOffset),j.call(this,U,!0),this.path=Tt}if(Re=JSON.parse(JSON.stringify(oe)),this.path=N(Re,this.posX+this.margin[3],-et+_e+this.ctx.prevPageLastElemOffset),Y===!1||le===0){var ft=(le>Ie||le<$e)&&v.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,Ke,null).clip().discardPath()),j.call(this,U,Y),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=oe}else this.lineWidth=ye,j.call(this,U,Y),this.lineWidth=fe},j=function(U,Y){if((U!=="stroke"||Y||!x.call(this))&&(U==="stroke"||Y||!f.call(this))){for(var V,Z,ce=[],fe=this.path,ye=0;ye<fe.length;ye++){var ge=fe[ye];switch(ge.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ge,deltas:[],abs:[]});break;case"lt":var we=ce.length;if(fe[ye-1]&&!isNaN(fe[ye-1].x)&&(V=[ge.x-fe[ye-1].x,ge.y-fe[ye-1].y],we>0)){for(;we>=0;we--)if(ce[we-1].close!==!0&&ce[we-1].begin!==!0){ce[we-1].deltas.push(V),ce[we-1].abs.push(ge);break}}break;case"bct":V=[ge.x1-fe[ye-1].x,ge.y1-fe[ye-1].y,ge.x2-fe[ye-1].x,ge.y2-fe[ye-1].y,ge.x-fe[ye-1].x,ge.y-fe[ye-1].y],ce[ce.length-1].deltas.push(V);break;case"qct":var Re=fe[ye-1].x+2/3*(ge.x1-fe[ye-1].x),oe=fe[ye-1].y+2/3*(ge.y1-fe[ye-1].y),ut=ge.x+2/3*(ge.x1-ge.x),se=ge.y+2/3*(ge.y1-ge.y),J=ge.x,ie=ge.y;V=[Re-fe[ye-1].x,oe-fe[ye-1].y,ut-fe[ye-1].x,se-fe[ye-1].y,J-fe[ye-1].x,ie-fe[ye-1].y],ce[ce.length-1].deltas.push(V);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ge)}}Z=Y?null:U==="stroke"?"stroke":"fill";for(var Ae=!1,Fe=0;Fe<ce.length;Fe++)if(ce[Fe].arc)for(var Ie=ce[Fe].abs,$e=0;$e<Ie.length;$e++){var le=Ie[$e];le.type==="arc"?R.call(this,le.x,le.y,le.radius,le.startAngle,le.endAngle,le.counterclockwise,void 0,Y,!Ae):D.call(this,le.x,le.y),Ae=!0}else if(ce[Fe].close===!0)this.pdf.internal.out("h"),Ae=!1;else if(ce[Fe].begin!==!0){var ae=ce[Fe].start.x,_e=ce[Fe].start.y;H.call(this,ce[Fe].deltas,ae,_e),Ae=!0}Z&&C.call(this,Z),Y&&T.call(this)}},S=function(U){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-V;case"top":return U+Y-V;case"hanging":return U+Y-2*V;case"middle":return U+Y/2-V;default:return U}},E=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(Y,V){this.colorStops.push([Y,V])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(U,Y,V,Z,ce,fe,ye,ge,we){for(var Re=z.call(this,V,Z,ce,fe),oe=0;oe<Re.length;oe++){var ut=Re[oe];oe===0&&(we?k.call(this,ut.x1+U,ut.y1+Y):D.call(this,ut.x1+U,ut.y1+Y)),F.call(this,U,Y,ut.x2,ut.y2,ut.x3,ut.y3,ut.x4,ut.y4)}ge?T.call(this):C.call(this,ye)},C=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(U,Y){this.pdf.internal.out(r(U)+" "+s(Y)+" m")},P=function(U){var Y;switch(U.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var V,Z,ce,fe=this.pdf.getTextDimensions(U.text),ye=S.call(this,U.y),ge=E.call(this,ye)-fe.h,we=this.ctx.transform.applyToPoint(new o(U.x,ye));if(this.autoPaging){var Re=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var ut=this.ctx.transform.applyToRectangle(new l(U.x,ye,fe.w,fe.h)),se=oe.applyToRectangle(new l(U.x,ge,fe.w,fe.h)),J=g.call(this,se),ie=[],Ae=0;Ae<J.length;Ae+=1)ie.indexOf(J[Ae])===-1&&ie.push(J[Ae]);w(ie);for(var Fe=ie[0],Ie=ie[ie.length-1],$e=Fe;$e<Ie+1;$e++){this.pdf.setPage($e);var le=$e===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],qe=_e-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],et=Ke-this.margin[3],Tt=$e===1?0:ae+($e-2)*qe;if(this.ctx.clip_path.length!==0){var ft=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(V,this.posX+this.margin[3],-1*Tt+le),j.call(this,"fill",!0),this.path=ft}var gt=N([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-Tt+le+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*U.scale),ce=this.lineWidth,this.lineWidth=ce*U.scale);var At=this.autoPaging!=="text";if(At||gt.y+gt.h<=_e){if(At||gt.y>=le&&gt.x<=Ke){var rt=At?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Ke-gt.x)[0],Dt=N([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-Tt+le+this.ctx.prevPageLastElemOffset)[0],Rt=At&&($e>Fe||$e<Ie)&&v.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,qe,null).clip().discardPath()),this.pdf.text(rt,Dt.x,Dt.y,{angle:U.angle,align:Y,renderingMode:U.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else gt.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-gt.y);U.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ce)}}else U.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*U.scale),ce=this.lineWidth,this.lineWidth=ce*U.scale),this.pdf.text(U.text,we.x+this.posX,we.y+this.posY,{angle:U.angle,align:Y,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ce)},D=function(U,Y,V,Z){V=V||0,Z=Z||0,this.pdf.internal.out(r(U+V)+" "+s(Y+Z)+" l")},H=function(U,Y,V){return this.pdf.lines(U,Y,V,null,null)},F=function(U,Y,V,Z,ce,fe,ye,ge){this.pdf.internal.out([e(a(V+U)),e(i(Z+Y)),e(a(ce+U)),e(i(fe+Y)),e(a(ye+U)),e(i(ge+Y)),"c"].join(" "))},z=function(U,Y,V,Z){for(var ce=2*Math.PI,fe=Math.PI/2;Y>V;)Y-=ce;var ye=Math.abs(V-Y);ye<ce&&Z&&(ye=ce-ye);for(var ge=[],we=Z?-1:1,Re=Y;ye>1e-5;){var oe=Re+we*Math.min(ye,fe);ge.push(O.call(this,U,Re,oe)),ye-=Math.abs(oe-Re),Re=oe}return ge},O=function(U,Y,V){var Z=(V-Y)/2,ce=U*Math.cos(Z),fe=U*Math.sin(Z),ye=ce,ge=-fe,we=ye*ye+ge*ge,Re=we+ye*ce+ge*fe,oe=4/3*(Math.sqrt(2*we*Re)-Re)/(ye*fe-ge*ce),ut=ye-oe*ge,se=ge+oe*ye,J=ut,ie=-se,Ae=Z+Y,Fe=Math.cos(Ae),Ie=Math.sin(Ae);return{x1:U*Math.cos(Y),y1:U*Math.sin(Y),x2:ut*Fe-se*Ie,y2:ut*Ie+se*Fe,x3:J*Fe-ie*Ie,y3:J*Ie+ie*Fe,x4:U*Math.cos(V),y4:U*Math.sin(V)}},W=function(U){return 180*U/Math.PI},ee=function(U,Y,V,Z,ce,fe){var ye=U+.5*(V-U),ge=Y+.5*(Z-Y),we=ce+.5*(V-ce),Re=fe+.5*(Z-fe),oe=Math.min(U,ce,ye,we),ut=Math.max(U,ce,ye,we),se=Math.min(Y,fe,ge,Re),J=Math.max(Y,fe,ge,Re);return new l(oe,se,ut-oe,J-se)},K=function(U,Y,V,Z,ce,fe,ye,ge){var we,Re,oe,ut,se,J,ie,Ae,Fe,Ie,$e,le,ae,_e,qe=V-U,Ke=Z-Y,et=ce-V,Tt=fe-Z,ft=ye-ce,gt=ge-fe;for(Re=0;Re<41;Re++)Fe=(ie=(oe=U+(we=Re/40)*qe)+we*((se=V+we*et)-oe))+we*(se+we*(ce+we*ft-se)-ie),Ie=(Ae=(ut=Y+we*Ke)+we*((J=Z+we*Tt)-ut))+we*(J+we*(fe+we*gt-J)-Ae),Re==0?($e=Fe,le=Ie,ae=Fe,_e=Ie):($e=Math.min($e,Fe),le=Math.min(le,Ie),ae=Math.max(ae,Fe),_e=Math.max(_e,Ie));return new l(Math.round($e),Math.round(le),Math.round(ae-$e),Math.round(_e-le))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,Y,V=(U=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:Y}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(ir.API),(function(t){var e=function(o){var l,c,d,u,h,m,f,x,v,g;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(g=h%85))/85)-(v=h%85))/85)-(x=h%85))/85)-(f=h%85))/85)%85,c.push(m+33,f+33,x+33,v+33,g+33)):c.push(122);return(function(b,N){for(var w=N;w>0;w--)b.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,h,m=String,f="length",x=255,v="charCodeAt",g="slice",b="replace";for(o[g](-2),o=o[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[g](o[f]%5||5))[f];h>u;u+=5)c=52200625*(o[v](u)-33)+614125*(o[v](u+1)-33)+7225*(o[v](u+2)-33)+85*(o[v](u+3)-33)+(o[v](u+4)-33),d.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(N,w){for(var A=w;A>0;A--)N.pop()})(d,l[f]),m.fromCharCode.apply(m,d)},s=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=$E(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(ir.API),(function(t){t.loadFile=function(e,r,s){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var h=new XMLHttpRequest,m=0,f=function(x){var v=x.length,g=[],b=String.fromCharCode;for(m=0;m<v;m+=1)g.push(b(255&x.charCodeAt(m)));return g.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return f(h.responseText)})(a,i,o)}catch{}return l})(e,r,s)},t.loadImageFile=t.loadFile})(ir.API),(function(t){function e(){return(Ur.html2canvas?Promise.resolve(Ur.html2canvas):Lw(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Ur.DOMPurify?Promise.resolve(Ur.DOMPurify):Lw(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=es(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var x=u[f],v=x.src.find(function(g){return g.format==="truetype"});v&&d.addFont(v.url,x.ref.name,x.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||ir.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,u),m}).then(u,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),m=d.call(h,l,c);return o.convert(m,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ir.getPageSize=function(l,c,d){if(es(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var x,v=0,g=0;if(f.hasOwnProperty(m))v=f[m][1]/h,g=f[m][0]/h;else try{v=d[1],g=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",g>v&&(x=g,g=v,v=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>g&&(x=g,g=v,v=x)}return{width:g,height:v,unit:c,k:h,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(IC):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}})(ir.API),ir.API.addJS=function(t){return QU=t,this.internal.events.subscribe("postPutResources",function(){tw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(tw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),JU=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+QU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){tw!==void 0&&JU!==void 0&&this.internal.out("/Names <</JavaScript "+tw+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])})(ir.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,v={width:0,height:0,numcomponents:1},g=4;g<x;g+=2){if(g+=f,e.indexOf(h.charCodeAt(g+1))!==-1){m=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),v={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:m,numcomponents:h.charCodeAt(g+9)};break}f=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return u}})(ir.API),ir.API.processPNG=function(t,e,r,s){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=AAe(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?(function(R){for(var C=R.width,T=R.height,k=R.data,P=R.palette,D=R.depth,H=!1,F=[],z=[],O=void 0,W=!1,ee=0,K=0;K<P.length;K++){var re=rU(P[K],4),U=re[0],Y=re[1],V=re[2],Z=re[3];F.push(U,Y,V),Z!=null&&(Z===0?(ee++,z.length<1&&z.push(K)):Z<255&&(W=!0))}if(W||ee>1){H=!0,z=void 0;var ce=C*T;O=new Uint8Array(ce);for(var fe=new DataView(k.buffer),ye=0;ye<ce;ye++){var ge=BC(fe,ye,D),we=rU(P[ge],4)[3];O[ye]=we}}else ee===0&&(z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:k,alphaBytes:O,needSMask:H,palette:F,mask:z}})(i):c===2||c===4?(function(R){for(var C=R.data,T=R.width,k=R.height,P=R.channels,D=R.depth,H=P===2?"DeviceGray":"DeviceRGB",F=P-1,z=T*k,O=F,W=z*O,ee=1*z,K=Math.ceil(W*D/8),re=Math.ceil(ee*D/8),U=new Uint8Array(K),Y=new Uint8Array(re),V=new DataView(C.buffer),Z=new DataView(U.buffer),ce=new DataView(Y.buffer),fe=!1,ye=0;ye<z;ye++){for(var ge=ye*P,we=0;we<O;we++)oz(Z,BC(V,ge+we,D),ye*O+we,D);var Re=BC(V,ge+O,D);Re<(1<<D)-1&&(fe=!0),oz(ce,Re,1*ye,D)}return{colorSpace:H,colorsPerPixel:F,sMaskBitsPerComponent:fe?D:void 0,colorBytes:U,alphaBytes:Y,needSMask:fe}})(i):(function(R){var C=R.data,T=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(k){for(var P=k.length,D=new Uint8Array(2*P),H=new DataView(D.buffer,D.byteOffset,D.byteLength),F=0;F<P;F++)H.setUint16(2*F,k[F],!1);return D})(C):C,needSMask:!1}})(i);var h,m,f,x=a,v=x.colorSpace,g=x.colorsPerPixel,b=x.sMaskBitsPerComponent,N=x.colorBytes,w=x.alphaBytes,A=x.needSMask,j=x.palette,S=x.mask,E=null;return s!==ir.API.image_compression.NONE&&typeof $E=="function"?(E=(function(R){var C;switch(R){case ir.API.image_compression.FAST:C=11;break;case ir.API.image_compression.MEDIUM:C=13;break;case ir.API.image_compression.SLOW:C=14;break;default:C=12}return C})(s),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(E," /Colors ").concat(g," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=rz(N,Math.ceil(o*g*u/8),g,u,s),A&&(f=rz(w,Math.ceil(o*b/8),1,b,s))):(h=void 0,m=void 0,t=N,A&&(f=w)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:m,transparency:S,palette:j,sMask:f,predictor:E,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:b,colorSpace:v}}},(function(t){t.processGIF89A=function(e,r,s,a){var i=new XAe(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new UC(100).encode(d,100);return t.processJPEG.call(this,u,r,s,a)},t.processGIF87A=t.processGIF89A})(ir.API),Xc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){xs.log("bit decode error:"+r)}},Xc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Xc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Xc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Xc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},Xc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},Xc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Xc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Xc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,s,a){var i=new Xc(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new UC(100).encode(c,100);return t.processJPEG.call(this,d,r,s,a)}})(ir.API),cz.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,s,a){var i=new cz(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new UC(100).encode(c,100);return t.processJPEG.call(this,d,r,s,a)}})(ir.API),ir.API.processRGBA=function(t,e,r){for(var s=t.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=s[d],h=s[d+1],m=s[d+2],f=s[d+3];i[l++]=u,i[l++]=h,i[l++]=m,o[c++]=f}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ir.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cx=ir.API,rw=cx.getCharWidthsArray=function(t,e){var r,s,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,m=0,f=t.length,x=0,v=l[0]||c,g=[];for(r=0;r<f;r++)s=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(m=h&&es(d[s])==="object"&&!isNaN(parseInt(d[s][x],10))?d[s][x]/u:0,g.push((l[s]||v)/c+m)),x=s;return g},ZU=cx.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return cx.processArabic&&(t=cx.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,r,a)/r:rw.apply(this,arguments).reduce(function(i,o){return i+o},0)},ez=function(t,e,r,s){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>s&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},tz=function(t,e,r){r||(r={});var s,a,i,o,l,c,d,u=[],h=[u],m=r.textIndent||0,f=0,x=0,v=t.split(" "),g=rw.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),N=[];v.map(function(A){(A=A.split(/\s*\n/)).length>1?N=N.concat(A.map(function(j,S){return(S&&j.length?`
`:"")+j})):N.push(A[0])}),v=N,c=ZU.apply(this,[b,r])}for(i=0,o=v.length;i<o;i++){var w=0;if(s=v[i],c&&s[0]==`
`&&(s=s.substr(1),w=1),m+f+(x=(a=rw.apply(this,[s,r])).reduce(function(A,j){return A+j},0))>e||w){if(x>e){for(l=ez.apply(this,[s,a,e-(m+f),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);x=a.slice(s.length-(u[0]?u[0].length:0)).reduce(function(A,j){return A+j},0)}else u=[s];h.push(u),m=x+c,f=g}else u.push(s),m+=f+x,f=g}return d=c?function(A,j){return(j?b:"")+A.join(" ")}:function(A){return A.join(" ")},h.map(d)},cx.splitTextToSize=function(t,e,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(tz.apply(this,[s[l],o,i]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",s={},a={},i=0;i<16;i++)s[r[i]]=e[i],a[e[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var f,x,v,g,b=["{"];for(var N in m){if(f=m[N],isNaN(parseInt(N,10))?x="'"+N+"'":(N=parseInt(N,10),x=(x=o(N).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof f=="number")f<0?(v=o(f).slice(3),g="-"):(v=o(f).slice(2),g=""),v=g+v.slice(0,-1)+a[v.slice(-1)];else{if(es(f)!=="object")throw new Error("Don't know what to do with value type "+es(f)+".");v=l(f)}b.push(x+v)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,x,v,g,b={},N=1,w=b,A=[],j="",S="",E=m.length-1,R=1;R<E;R+=1)(g=m[R])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(A.push([w,v]),w={},v=void 0):g=="}"?((x=A.pop())[0][x[1]]=w,v=void 0,w=x[0]):g=="-"?N=-1:v===void 0?s.hasOwnProperty(g)?(j+=s[g],v=parseInt(j,16)*N,N=1,j=""):j+=g:s.hasOwnProperty(g)?(S+=s[g],w[v]=parseInt(S,16)*N,N=1,v=void 0,S=""):S+=g;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var f=m.font,x=h.Unicode[f.postScriptName];x&&(f.metadata.Unicode={},f.metadata.Unicode.widths=x.widths,f.metadata.Unicode.kerning=x.kerning);var v=u.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])})(ir.API),(function(t){var e=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Ww(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])})(ir),ir.API.addSvgAsImage=function(t,e,r,s,a,i,o,l){if(isNaN(e)||isNaN(r))throw xs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw xs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Ur.canvg?Promise.resolve(Ur.canvg):Lw(()=>import("./index.es-CO0CHKjQ.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,r,s,a,o,l)})},ir.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,r);return this},ir.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(x,v){var g,b=!1;for(g=0;g<x.length;g+=1)x[g]===v&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(es(t)==="object"){for(a in t)if(i=t[a],m(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?v.push("/"+x+" /"+r[x].value):v.push("/"+x+" "+r[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(ir.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort(function(f,x){return f-x})).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",x=0;x<m.length;x++)f+=String.fromCharCode(m[x]);var v=d();u({data:f,addLength1:!0,objectId:v}),c("endobj");var g=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var b=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+px(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var N=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+px(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+px(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var x=d();u({data:m,addLength1:!0,objectId:x}),c("endobj");var v=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var g=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+px(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+px(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},m=h.pdfEscape,f=h.activeFontKey,x=h.fonts,v=f,g="",b=0,N="",w=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(N=l,v=f,Array.isArray(l)&&(N=l[0]),b=0;b<N.length;b+=1)x[v].metadata.hasOwnProperty("cmap")&&(o=x[v].metadata.cmap.unicode.codeMap[N[b].charCodeAt(0)]),o||N[b].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?g+=N[b]:g+="";var A="";return parseInt(v.slice(1))<14||w==="WinAnsiEncoding"?A=m(g,v).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(A=r(g,x[v])),h.isHex=!0,{text:A,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(ir),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,s){return e.call(this),this.internal.vFS[r]=s,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ir.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,u,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,w=0;this.__bidiEngine__={};var A=function(k){var P=k.charCodeAt(),D=P>>8,H=v[D];return H!==void 0?h[256*H+(255&P)]:D===252||D===253?"AL":b.test(D)?"L":D===8?"R":"N"},j=function(k){for(var P,D=0;D<k.length;D++){if((P=A(k.charAt(D)))==="L")return!1;if(P==="R")return!0}return!1},S=function(k,P,D,H){var F,z,O,W,ee=P[H];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(ee="AN");break;case"AL":N=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":H<1||H+1>=P.length||(F=D[H-1])!=="EN"&&F!=="AN"||(z=P[H+1])!=="EN"&&z!=="AN"?ee="N":N&&(z="AN"),ee=z===F?z:"N";break;case"ES":ee=(F=H>0?D[H-1]:"B")==="EN"&&H+1<P.length&&P[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&D[H-1]==="EN"){ee="EN";break}if(N){ee="N";break}for(O=H+1,W=P.length;O<W&&P[O]==="ET";)O++;ee=O<W&&P[O]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(W=P.length,O=H+1;O<W&&P[O]==="NSM";)O++;if(O<W){var K=k[H],re=K>=1425&&K<=2303||K===64286;if(F=P[O],re&&(F==="R"||F==="AL")){ee="R";break}}}ee=H<1||(F=P[H-1])==="B"?"N":D[H-1];break;case"B":N=!1,a=!0,ee=w;break;case"S":i=!0,ee="N"}return ee},E=function(k,P,D){var H=k.split("");return D&&R(H,D,{hiLevel:w}),H.reverse(),P&&P.reverse(),H.join("")},R=function(k,P,D){var H,F,z,O,W,ee=-1,K=k.length,re=0,U=[],Y=w?f:m,V=[];for(N=!1,a=!1,i=!1,F=0;F<K;F++)V[F]=A(k[F]);for(z=0;z<K;z++){if(W=re,U[z]=S(k,V,U,z),H=240&(re=Y[W][x[U[z]]]),re&=15,P[z]=O=Y[re][5],H>0)if(H===16){for(F=ee;F<z;F++)P[F]=1;ee=-1}else ee=-1;if(Y[re][6])ee===-1&&(ee=z);else if(ee>-1){for(F=ee;F<z;F++)P[F]=O;ee=-1}V[z]==="B"&&(P[z]=0),D.hiLevel|=O}i&&(function(Z,ce,fe){for(var ye=0;ye<fe;ye++)if(Z[ye]==="S"){ce[ye]=w;for(var ge=ye-1;ge>=0&&Z[ge]==="WS";ge--)ce[ge]=w}})(V,P,K)},C=function(k,P,D,H,F){if(!(F.hiLevel<k)){if(k===1&&w===1&&!a)return P.reverse(),void(D&&D.reverse());for(var z,O,W,ee,K=P.length,re=0;re<K;){if(H[re]>=k){for(W=re+1;W<K&&H[W]>=k;)W++;for(ee=re,O=W-1;ee<O;ee++,O--)z=P[ee],P[ee]=P[O],P[O]=z,D&&(z=D[ee],D[ee]=D[O],D[O]=z);re=W}re++}}},T=function(k,P,D){var H=k.split(""),F={hiLevel:w};return D||(D=[]),R(H,D,F),(function(z,O,W){if(W.hiLevel!==0&&u)for(var ee,K=0;K<z.length;K++)O[K]===1&&(ee=g.indexOf(z[K]))>=0&&(z[K]=g[ee+1])})(H,D,F),C(2,H,P,D,F),C(1,H,P,D,F),H.join("")};return this.__bidiEngine__.doBidiReorder=function(k,P,D){if((function(F,z){if(z)for(var O=0;O<F.length;O++)z[O]=O;l===void 0&&(l=j(F)),d===void 0&&(d=j(F))})(k,P),o||!c||d)if(o&&c&&l^d)w=l?1:0,k=E(k,P,D);else if(!o&&c&&d)w=l?1:0,k=T(k,P,D),k=E(k,P);else if(!o||l||c||d){if(o&&!c&&l^d)k=E(k,P),l?(w=0,k=T(k,P,D)):(w=1,k=T(k,P,D),k=E(k,P));else if(o&&l&&!c&&d)w=1,k=T(k,P,D),k=E(k,P);else if(!o&&!c&&l^d){var H=u;l?(w=1,k=T(k,P,D),w=0,u=!1,k=T(k,P,D),u=H):(w=0,k=T(k,P,D),k=E(k,P),w=1,u=!1,k=T(k,P,D),u=H,k=E(k,P))}}else w=0,k=T(k,P,D);else w=l?1:0,k=T(k,P,D);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,l=k.isInputRtl,d=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(ir),ir.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new e0(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new cCe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new YAe(this.contents),this.head=new JAe(this),this.name=new rCe(this),this.cmap=new TY(this),this.toUnicode={},this.hhea=new QAe(this),this.maxp=new nCe(this),this.hmtx=new sCe(this),this.post=new eCe(this),this.os2=new ZAe(this),this.loca=new lCe(this),this.glyf=new aCe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,s){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},t})();var bd,e0=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,s;for(s=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(e){var r,s,a;for(a=[],r=0,s=e.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,s,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,s;return r=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,s;for(r=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)r.push(this.readByte());return r},t.prototype.write=function(e){var r,s,a,i;for(i=[],s=0,a=e.length;s<a;s++)r=e[s],i.push(this.writeByte(r));return i},t})(),YAe=(function(){var t;function e(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(r){var s,a,i,o,l,c,d,u,h,m,f,x,v;for(v in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),u=16*f-h,(a=new e0).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,x=[],r)for(m=r[v],a.writeString(v),a.writeInt(t(m)),a.writeInt(d),a.writeInt(m.length),x=x.concat(m),v==="head"&&(l=d),d+=m.length;d%4;)x.push(0),d++;return a.write(x),s=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(s),a.data},t=function(r){var s,a,i,o;for(r=MY.call(r);r.length%4;)r.push(0);for(i=new e0(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},e})(),KAe={}.hasOwnProperty,pu=function(t,e){for(var r in e)KAe.call(e,r)&&(t[r]=e[r]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};bd=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var JAe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new e0).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),dz=(function(){function t(e,r){var s,a,i,o,l,c,d,u,h,m,f,x,v,g,b,N,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,i=(function(){var A,j;for(j=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)j.push(e.readUInt16());return j})(),e.pos+=2,v=(function(){var A,j;for(j=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)j.push(e.readUInt16());return j})(),d=(function(){var A,j;for(j=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)j.push(e.readUInt16());return j})(),u=(function(){var A,j;for(j=[],c=A=0;0<=m?A<m:A>m;c=0<=m?++A:--A)j.push(e.readUInt16());return j})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var A,j;for(j=[],c=A=0;0<=a?A<a:A>a;c=0<=a?++A:--A)j.push(e.readUInt16());return j})(),c=b=0,w=i.length;b<w;c=++b)for(g=i[c],s=N=x=v[c];x<=g?N<=g:N>=g;s=x<=g?++N:--N)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-x)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}e.pos=h}return t.encode=function(e,r){var s,a,i,o,l,c,d,u,h,m,f,x,v,g,b,N,w,A,j,S,E,R,C,T,k,P,D,H,F,z,O,W,ee,K,re,U,Y,V,Z,ce,fe,ye,ge,we,Re,oe;switch(H=new e0,o=Object.keys(e).sort(function(ut,se){return ut-se}),r){case"macroman":for(v=0,g=(function(){var ut=[];for(x=0;x<256;++x)ut.push(0);return ut})(),N={0:0},i={},F=0,ee=o.length;F<ee;F++)N[ge=e[a=o[F]]]==null&&(N[ge]=++v),i[a]={old:e[a],new:N[e[a]]},g[a]=N[e[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(g),{charMap:i,subtable:H.data,maxGlyphID:v+1};case"unicode":for(P=[],h=[],w=0,N={},s={},b=d=null,z=0,K=o.length;z<K;z++)N[j=e[a=o[z]]]==null&&(N[j]=++w),s[a]={old:j,new:N[j]},l=N[j]-a,b!=null&&l===d||(b&&h.push(b),P.push(a),d=l),b=a;for(b&&h.push(b),h.push(65535),P.push(65535),T=2*(C=P.length),R=2*Math.pow(Math.log(C)/Math.LN2,2),m=Math.log(R/2)/Math.LN2,E=2*C-R,c=[],S=[],f=[],x=O=0,re=P.length;O<re;x=++O){if(k=P[x],u=h[x],k===65535){c.push(0),S.push(0);break}if(k-(D=s[k].new)>=32768)for(c.push(0),S.push(2*(f.length+C-x)),a=W=k;k<=u?W<=u:W>=u;a=k<=u?++W:--W)f.push(s[a].new);else c.push(D-k),S.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*C+2*f.length),H.writeUInt16(0),H.writeUInt16(T),H.writeUInt16(R),H.writeUInt16(m),H.writeUInt16(E),fe=0,U=h.length;fe<U;fe++)a=h[fe],H.writeUInt16(a);for(H.writeUInt16(0),ye=0,Y=P.length;ye<Y;ye++)a=P[ye],H.writeUInt16(a);for(we=0,V=c.length;we<V;we++)l=c[we],H.writeUInt16(l);for(Re=0,Z=S.length;Re<Z;Re++)A=S[Re],H.writeUInt16(A);for(oe=0,ce=f.length;oe<ce;oe++)v=f[oe],H.writeUInt16(v);return{charMap:s,subtable:H.data,maxGlyphID:w+1}}},t})(),TY=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new dz(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var s,a;return r==null&&(r="macroman"),s=dz.encode(e,r),(a=new e0).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t})(),QAe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),ZAe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,s;for(s=[],r=0;r<10;++r)s.push(e.readByte());return s})(),this.charRange=(function(){var r,s;for(s=[],r=0;r<4;++r)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),eCe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="post",t.prototype.parse=function(e){var r,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),tCe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},rCe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="name",t.prototype.parse=function(e){var r,s,a,i,o,l,c,d,u,h,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),s=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=u=0,h=s.length;u<h;i=++u)a=s[i],e.pos=a.offset,d=e.readString(a.length),o=new tCe(d,a),c[m=a.nameID]==null&&(c[m]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),nCe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),sCe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,s,a,i,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(e.readInt16());return u})(),this.widths=(function(){var d,u,h,m;for(m=[],d=0,u=(h=this.metrics).length;d<u;d++)i=h[d],m.push(i.advance);return m}).call(this),s=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(s));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),MY=[].slice,aCe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,s,a,i,o,l,c,d,u,h;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,s=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+s,o=(l=new e0(r.read(a))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[e]=o===-1?new oCe(l,d,h,c,u):new iCe(l,o,d,h,c,u),this.cache[e]))},t.prototype.encode=function(e,r,s){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=e[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},t})(),iCe=(function(){function t(e,r,s,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),oCe=(function(){function t(e,r,s,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,s;for(r=new e0(MY.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),lCe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return pu(t,bd),t.prototype.tag="loca",t.prototype.parse=function(e){var r,s;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<r.length&&r[i]==o){++i,s[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*s.length),u=0;u<s.length;++u)d[4*u+3]=255&s[u],d[4*u+2]=(65280&s[u])>>8,d[4*u+1]=(16711680&s[u])>>16,d[4*u]=(4278190080&s[u])>>24;return d},t})(),cCe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)s=i[r],e[r]=a[s];return e},t.prototype.glyphsFor=function(e){var r,s,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},t.prototype.encode=function(e,r){var s,a,i,o,l,c,d,u,h,m,f,x,v,g,b;for(a in s=TY.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},b=s.charMap)f[(c=b[a]).old]=c.new;for(x in m=s.maxGlyphID,o)x in f||(f[x]=m++);return u=(function(N){var w,A;for(w in A={},N)A[N[w]]=w;return A})(f),h=Object.keys(u).sort(function(N,w){return N-w}),v=(function(){var N,w,A;for(A=[],N=0,w=h.length;N<w;N++)l=h[N],A.push(u[l]);return A})(),i=this.font.glyf.encode(o,v,f),d=this.font.loca.encode(i.offsets,v),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t})();ir.API.PDFObject=(function(){var t;function e(){}return t=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},e.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)s=r[l],d.push(e.convert(s));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();const dCe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:UAe,AcroFormAppearance:pr,AcroFormButton:qa,AcroFormCheckBox:Sy,AcroFormChoiceField:Tm,AcroFormComboBox:Pm,AcroFormEditBox:jy,AcroFormListBox:Mm,AcroFormPasswordField:_y,AcroFormPushButton:Ny,AcroFormRadioButton:Dm,AcroFormTextField:qf,GState:Tb,ShadingPattern:Ef,TilingPattern:Nm,default:ir,jsPDF:ir},Symbol.toStringTag,{value:"Module"})),uCe=({setShowAdminHeader:t})=>{const[e,r]=L.useState("Class 10"),[s,a]=L.useState("A");L.useEffect(()=>{t(!0)},[]);const i=[{title:"Total Students",value:"1,245",change:"+5.2%",trend:"up",icon:sr,color:"blue",description:"Active students"},{title:"Attendance Rate",value:"85%",change:"+2.1%",trend:"up",icon:Dr,color:"green",description:"This month"},{title:"Course Completion",value:"72%",change:"-1.3%",trend:"down",icon:na,color:"purple",description:"Average across all"},{title:"Fees Collected",value:"7.8L",change:"+12.5%",trend:"up",icon:iu,color:"orange",description:"Last 6 months"}],o=[{month:"Jan",class10A:75,class9B:68,class11C:80},{month:"Feb",class10A:78,class9B:72,class11C:82},{month:"Mar",class10A:80,class9B:75,class11C:79},{month:"Apr",class10A:82,class9B:78,class11C:85},{month:"May",class10A:85,class9B:80,class11C:87},{month:"Jun",class10A:88,class9B:82,class11C:90}],l=(g,b)=>(g+"-"+b).split("").reduce((w,A)=>w+A.charCodeAt(0),0)%97+3,c=(()=>{const g=l(e,s);return["Jan","Feb","Mar","Apr","May","Jun"].map((N,w)=>({month:N,paid:Math.round(50+g*(w+1)%40),pending:Math.round(20+g*(w+3)%30)}))})(),d=[{name:"Present",value:85,color:"#10b981"},{name:"Absent",value:8,color:"#ef4444"},{name:"Late",value:4,color:"#f59e0b"},{name:"Excused",value:3,color:"#6b7280"}],u=[{subject:"Math",completion:85},{subject:"Science",completion:70},{subject:"History",completion:65},{subject:"English",completion:90},{subject:"Art",completion:60}],h=[{grade:"A",students:120,color:"#10b981"},{grade:"B",students:185,color:"#3b82f6"},{grade:"C",students:210,color:"#f59e0b"},{grade:"D",students:95,color:"#ef4444"},{grade:"F",students:40,color:"#6b7280"}],m=[{label:"Submitted",value:72,color:"#10b981"},{label:"Pending",value:15,color:"#f59e0b"},{label:"Late",value:8,color:"#ef4444"},{label:"Not Submitted",value:5,color:"#6b7280"}],f=[{id:1,teacher:"Ms. Johnson",action:"Created Lesson",subject:"Algebra Basics",time:"2 hours ago",color:"blue"},{id:2,teacher:"Mr. Patel",action:"Graded Exam",subject:"Midterm Science",time:"5 hours ago",color:"green"},{id:3,teacher:"Ms. Smith",action:"Updated Timetable",subject:"History Session",time:"1 day ago",color:"purple"},{id:4,teacher:"Mr. Davis",action:"Uploaded Resources",subject:"Chemistry Lab",time:"2 days ago",color:"orange"}],x=g=>{const b={blue:{bg:"bg-blue-50",text:"text-blue-600",icon:"text-blue-500",gradient:"from-blue-500 to-blue-600",light:"bg-blue-100"},green:{bg:"bg-green-50",text:"text-green-600",icon:"text-green-500",gradient:"from-green-500 to-green-600",light:"bg-green-100"},purple:{bg:"bg-purple-50",text:"text-purple-600",icon:"text-purple-500",gradient:"from-purple-500 to-purple-600",light:"bg-purple-100"},orange:{bg:"bg-orange-50",text:"text-orange-600",icon:"text-orange-500",gradient:"from-orange-500 to-orange-600",light:"bg-orange-100"}};return b[g]||b.blue},v=()=>{const g=new ir("p","mm","a4"),b=new Date().toLocaleDateString();g.setFontSize(24),g.setFont(void 0,"bold"),g.text("Analytics Report",105,20,{align:"center"}),g.setFontSize(12),g.setFont(void 0,"normal"),g.text(`Generated on: ${b}`,105,30,{align:"center"});let N=50;g.setFontSize(16),g.setFont(void 0,"bold"),g.text("Key Metrics",20,N),N+=10,g.setFontSize(10),g.setFont(void 0,"normal"),i.forEach(w=>{g.text(`${w.title}: ${w.value} (${w.change})`,25,N),N+=7}),g.save(`analytics-report-${b.replace(/\//g,"-")}.pdf`)};return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics"}),n.jsx("p",{className:"text-gray-600",children:"Comprehensive insights and performance metrics"})]}),n.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm hover:shadow-md",children:[n.jsx(tn,{className:"w-4 h-4"}),"Export Report"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((g,b)=>{const N=g.icon,w=x(g.color),A=g.trend==="up"?Yr:MT;return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${w.bg}`,children:n.jsx(N,{className:`w-6 h-6 ${w.icon}`})}),n.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${g.trend==="up"?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[n.jsx(A,{className:"w-3 h-3"}),g.change]})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:g.title}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:g.value}),n.jsx("p",{className:"text-xs text-gray-500",children:g.description})]},b)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Qa,{className:"w-5 h-5 text-gray-700"}),"Performance Trend"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Average scores by class over time"})]}),n.jsx(ad,{width:"100%",height:300,children:n.jsxs(f4e,{data:o,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorClass10A",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorClass9B",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorClass11C",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})]}),n.jsx(Nh,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(Ml,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),n.jsx(Pl,{stroke:"#9ca3af",style:{fontSize:"12px"},domain:[60,100]}),n.jsx(Ra,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),n.jsx(tu,{wrapperStyle:{fontSize:"12px"}}),n.jsx(au,{type:"monotone",dataKey:"class10A",stroke:"#8b5cf6",fillOpacity:1,fill:"url(#colorClass10A)",name:"Class 10-A"}),n.jsx(au,{type:"monotone",dataKey:"class9B",stroke:"#10b981",fillOpacity:1,fill:"url(#colorClass9B)",name:"Class 9-B"}),n.jsx(au,{type:"monotone",dataKey:"class11C",stroke:"#f59e0b",fillOpacity:1,fill:"url(#colorClass11C)",name:"Class 11-C"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(iu,{className:"w-5 h-5 text-gray-700"}),"Fees Collection"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Paid vs Pending by month"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{value:e,onChange:g=>r(g.target.value),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["Class 6","Class 7","Class 8","Class 9","Class 10","Class 11","Class 12"].map(g=>n.jsx("option",{value:g,children:g},g))}),n.jsx("select",{value:s,onChange:g=>a(g.target.value),className:"px-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:["A","B","C","D"].map(g=>n.jsxs("option",{value:g,children:["Sec ",g]},g))})]})]}),n.jsx(ad,{width:"100%",height:300,children:n.jsxs(Cb,{data:c,children:[n.jsx(Nh,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(Ml,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),n.jsx(Pl,{stroke:"#9ca3af",style:{fontSize:"12px"}}),n.jsx(Ra,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"},formatter:g=>[`${g}k`,""]}),n.jsx(tu,{wrapperStyle:{fontSize:"12px"}}),n.jsx(nl,{dataKey:"paid",fill:"#10b981",radius:[8,8,0,0],name:"Paid"}),n.jsx(nl,{dataKey:"pending",fill:"#ef4444",radius:[8,8,0,0],name:"Pending"})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Attendance"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Distribution breakdown"}),n.jsx(ad,{width:"100%",height:200,children:n.jsxs(XM,{children:[n.jsx(vd,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",children:d.map((g,b)=>n.jsx(Zf,{fill:g.color},`cell-${b}`))}),n.jsx(Ra,{})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:d.map((g,b)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color}}),n.jsxs("span",{className:"text-xs text-gray-600",children:[g.name,": ",g.value,"%"]})]},b))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Course Progress"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Completion rates"}),n.jsx("div",{className:"space-y-4",children:u.map((g,b)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:g.subject}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[g.completion,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${g.completion}%`}})})]},b))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Grade Distribution"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Student grades"}),n.jsx(ad,{width:"100%",height:200,children:n.jsxs(Cb,{data:h,layout:"vertical",children:[n.jsx(Nh,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(Ml,{type:"number",stroke:"#9ca3af",style:{fontSize:"12px"}}),n.jsx(Pl,{type:"category",dataKey:"grade",stroke:"#9ca3af",style:{fontSize:"12px"}}),n.jsx(Ra,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),n.jsx(nl,{dataKey:"students",radius:[0,4,4,0],children:h.map((g,b)=>n.jsx(Zf,{fill:g.color},`cell-${b}`))})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[n.jsx(jr,{className:"w-5 h-5 text-gray-700"}),"Assignment Status"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Current submission rates"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map((g,b)=>n.jsxs("div",{className:"p-4 rounded-lg border-2",style:{borderColor:g.color,backgroundColor:g.color+"10"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs font-medium text-gray-600",children:g.label}),n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:g.color}})]}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:g.color},children:[g.value,"%"]})]},b))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-1 flex items-center gap-2",children:[n.jsx(nr,{className:"w-5 h-5 text-gray-700"}),"Recent Activity"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Latest teacher actions"}),n.jsx("div",{className:"space-y-3",children:f.map(g=>{const b=x(g.color);return n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:`w-10 h-10 rounded-full ${b.bg} flex items-center justify-center flex-shrink-0`,children:n.jsx(Qa,{className:`w-5 h-5 ${b.icon}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.teacher}),n.jsxs("p",{className:"text-xs text-gray-600",children:[g.action,": ",g.subject]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.time})]})]},g.id)})})]})]})]})})},hCe={Student:"STU",Parent:"PAR",Teacher:"TCH"},fCe={Student:"Batch / Grade Code",Parent:"Family / Ward Code",Teacher:"Department / Subject Code"},mCe=10,PY="ABCDEFGHJKLMNPQRSTUVWXYZ",DY="abcdefghjkmnpqrstuvwxyz",RY="0123456789",LY="!@#$%&*?",pCe=`${PY}${DY}${RY}${LY}`,xCe=(t="")=>typeof t=="string"&&t.length>=8&&/[A-Z]/.test(t)&&/[a-z]/.test(t)&&/\d/.test(t),qv=t=>t.charAt(Math.floor(Math.random()*t.length)),gCe=t=>{const e=t.split("");for(let r=e.length-1;r>0;r-=1){const s=Math.floor(Math.random()*(r+1));[e[r],e[s]]=[e[s],e[r]]}return e.join("")},vCe=()=>{let t="";do{let e="";for(e+=qv(PY),e+=qv(DY),e+=qv(RY),e+=qv(LY);e.length<mCe;)e+=qv(pCe);t=gCe(e)}while(!xCe(t));return t},yCe=({role:t,batchCode:e,joiningYear:r})=>{const s=hCe[t]||"EEC",a=(e||"GEN").toString().replace(/[^a-zA-Z0-9]/g,"").toUpperCase()||"GEN",i=(r||new Date().getFullYear()).toString().slice(-2),o=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${s}-${i}${a}-${o}`},eP=({buttonText:t="Generate ID",buttonClassName:e="",icon:r=une,defaultRole:s="Student",allowRoleSelection:a=!0,size:i="md",onGenerate:o,prefillValues:l=null,disabled:c=!1})=>{const d=(S={})=>({role:s,batchCode:"",joiningYear:new Date().getFullYear(),referenceName:"",...S}),[u,h]=L.useState(!1),[m,f]=L.useState(d(l||void 0)),[x,v]=L.useState(null),g=L.useMemo(()=>fCe[m.role]||"Batch / Grade Code",[m.role]),b=S=>{const{name:E,value:R}=S.target;f(C=>({...C,[E]:R}))},N=()=>{const S=yCe(m),E=vCe();v({id:S,password:E}),o==null||o({id:S,password:E,...m})},w=S=>{navigator!=null&&navigator.clipboard&&navigator.clipboard.writeText(S).catch(()=>{})},A=()=>{f(d(l||void 0)),v(null)};L.useEffect(()=>{u&&(f(d(l||void 0)),v(null))},[u,l]);const j=i==="sm"?"px-3 py-2 text-sm":i==="lg"?"px-6 py-3 text-base":"px-4 py-2.5 text-sm";return n.jsxs(n.Fragment,{children:[n.jsxs("button",{type:"button",disabled:c,onClick:()=>{c||h(!0)},className:`inline-flex items-center gap-2 rounded-lg font-medium bg-yellow-600 text-white hover:bg-yellow-700 transition-colors disabled:opacity-60 disabled:cursor-not-allowed ${j} ${e}`,children:[r&&n.jsx(r,{size:16})," ",t]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate Portal Credentials"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Create unique login IDs and passwords for the selected role."})]}),n.jsx("button",{onClick:()=>{h(!1),A()},className:"text-gray-500 hover:text-gray-700 text-xl leading-none","aria-label":"Close",children:""})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a?n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),n.jsxs("select",{className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",name:"role",value:m.role,onChange:b,children:[n.jsx("option",{value:"Student",children:"Student"}),n.jsx("option",{value:"Parent",children:"Parent"}),n.jsx("option",{value:"Teacher",children:"Teacher"})]})]}):n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),n.jsx("div",{className:"px-4 py-2 rounded-xl bg-gray-100 border border-gray-200 text-gray-700",children:m.role})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:g}),n.jsx("input",{type:"text",name:"batchCode",value:m.batchCode,onChange:b,placeholder:"e.g. 10A, SCI, PTA",className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Joining Year"}),n.jsx("input",{type:"number",name:"joiningYear",min:"2000",max:"2100",value:m.joiningYear,onChange:b,className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name / Reference"}),n.jsx("input",{type:"text",name:"referenceName",value:m.referenceName,onChange:b,placeholder:"Helps track who gets this ID",className:"w-full border border-gray-200 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:[n.jsx(Pg,{size:16})," Reset Form"]}),n.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[n.jsx(Rw,{size:16})," Generate Credentials"]})]}),x&&n.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 rounded-2xl p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-yellow-700 font-semibold",children:"Generated ID"}),n.jsxs("div",{className:"flex items-center justify-between mt-1 bg-white rounded-xl px-4 py-2 border border-yellow-100",children:[n.jsx("span",{className:"font-mono text-gray-800",children:x.id}),n.jsx("button",{onClick:()=>w(x.id),className:"text-gray-500 hover:text-yellow-600",title:"Copy ID",children:n.jsx(zy,{size:16})})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase text-yellow-700 font-semibold",children:"Temporary Password"}),n.jsxs("div",{className:"flex items-center justify-between mt-1 bg-white rounded-xl px-4 py-2 border border-yellow-100",children:[n.jsx("span",{className:"font-mono text-gray-800",children:x.password}),n.jsx("button",{onClick:()=>w(x.password),className:"text-gray-500 hover:text-yellow-600",title:"Copy password",children:n.jsx(zy,{size:16})})]})]}),m.referenceName&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Assign to:"," ",n.jsx("span",{className:"font-semibold",children:m.referenceName})]})]})]})]})})]})},bCe=({setShowAdminHeader:t})=>{const[e,r]=L.useState(""),[s,a]=L.useState("All"),[i,o]=L.useState([]),[l,c]=L.useState(!1),[d,u]=L.useState({name:"",email:"",mobile:"",subject:"",department:"",experience:"",qualification:"",students:"",rating:"",status:"Active",joinDate:"",location:"",avatar:""}),h=i.filter(g=>{const b=(g.name||"").toLowerCase(),N=(g.subject||"").toLowerCase(),w=(g.email||"").toLowerCase(),A=b.includes(e.toLowerCase())||N.includes(e.toLowerCase())||w.includes(e.toLowerCase()),j=s==="All"||g.status===s;return A&&j}),m=()=>({studentSatisfaction:Math.floor(Math.random()*20)+80,classAttendance:Math.floor(Math.random()*15)+85,lessonCompletionRate:Math.floor(Math.random()*10)+90,avgGradeImprovement:Math.floor(Math.random()*20)+10,totalStudents:Math.floor(Math.random()*50)+20,activeClasses:Math.floor(Math.random()*5)+3}),f=()=>[{time:"09:00-10:00",subject:"Mathematics",class:"X-A",room:"101"},{time:"10:00-11:00",subject:"Physics",class:"XI-B",room:"205"},{time:"11:30-12:30",subject:"Chemistry",class:"XII-A",room:"301"},{time:"14:00-15:00",subject:"Biology",class:"IX-C",room:"102"}].slice(0,Math.floor(Math.random()*3)+1),x=()=>[{name:"M.Ed in Mathematics",year:"2018",status:"verified"},{name:"B.Ed",year:"2015",status:"verified"},{name:"Teaching Excellence Certificate",year:"2022",status:"pending"},{name:"Digital Teaching Methods",year:"2023",status:"verified"}].slice(0,Math.floor(Math.random()*3)+1),v=()=>({lastEvaluation:"2024-01-15",overallRating:Math.floor(Math.random()*2)+4,evaluatedBy:"Principal",nextEvaluation:"2024-07-15",improvements:Math.floor(Math.random()*3)+1});return L.useEffect(()=>{t(!1),fetch("http://localhost:5000/api/admin/users/get-teachers",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(g=>{if(!g.ok)throw new Error("Failed to fetch teachers");return g.json()}).then(g=>{const b=(Array.isArray(g)?g:[]).map((N,w)=>({...N,id:N._id||N.id||w,name:N.name||"Unnamed Teacher",email:N.email||"",mobile:N.mobile||"",subject:N.subject||"",department:N.department||"",qualification:N.qualification||"",joiningDate:N.joiningDate||"",empId:N.empId??"",status:N.status||"Active"}));o(b)}).catch(g=>{console.error("Error fetching teachers:",g)})},[t]),n.jsx("div",{className:"h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 flex flex-col",children:n.jsxs("div",{className:"flex-1 flex flex-col  mx-auto w-full bg-white/90 border border-yellow-200 overflow-hidden",children:[n.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-yellow-100",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Teacher Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage teaching staff performance, schedules, and evaluations"})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(sr,{className:"w-8 h-8 text-blue-500"}),n.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:i.length}),n.jsx("span",{className:"text-xs text-gray-500",children:"Total Teachers"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Yr,{className:"w-8 h-8 text-green-500"}),n.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:"88%"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Avg Performance"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(nr,{className:"w-8 h-8 text-purple-500"}),n.jsx("span",{className:"text-sm font-semibold text-purple-600 mt-1",children:i.filter(g=>g.status==="Active").length}),n.jsx("span",{className:"text-xs text-gray-500",children:"Teaching Today"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(jr,{className:"w-8 h-8 text-orange-500"}),n.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:Math.floor(i.length*.3)}),n.jsx("span",{className:"text-xs text-gray-500",children:"Due Evaluations"})]})]})]})}),n.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 items-center",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(In,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search teachers...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",value:e,onChange:g=>r(g.target.value)})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",value:s,onChange:g=>a(g.target.value),children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"On Leave",children:"On Leave"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"All Departments"}),n.jsx("option",{value:"Mathematics",children:"Mathematics"}),n.jsx("option",{value:"Physics",children:"Physics"}),n.jsx("option",{value:"Chemistry",children:"Chemistry"}),n.jsx("option",{value:"Biology",children:"Biology"}),n.jsx("option",{value:"Computer Science",children:"Computer Science"}),n.jsx("option",{value:"English",children:"English"}),n.jsx("option",{value:"History",children:"History"}),n.jsx("option",{value:"Fine Arts",children:"Fine Arts"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"Performance Rating"}),n.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),n.jsx("option",{value:"good",children:"Good (80-89%)"}),n.jsx("option",{value:"average",children:"Average (70-79%)"}),n.jsx("option",{value:"needs-improvement",children:"Needs Improvement"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"Schedule Status"}),n.jsx("option",{value:"teaching-now",children:"Teaching Now"}),n.jsx("option",{value:"free-now",children:"Free Now"}),n.jsx("option",{value:"on-break",children:"On Break"})]}),n.jsx(eP,{buttonText:"Generate Teacher ID",defaultRole:"Teacher",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-indigo-600 hover:bg-indigo-700"})]})]}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("div",{className:"h-full overflow-y-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{className:"sticky top-0 bg-yellow-50 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Teacher"}),n.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Performance"}),n.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Schedule Today"}),n.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Subject & Dept"}),n.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Qualifications"}),n.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Evaluation"}),n.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Experience"}),n.jsx("th",{className:"border-b border-yellow-100 px-6 py-3 text-left text-sm font-semibold text-yellow-800",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white",children:h.map(g=>n.jsxs("tr",{className:"hover:bg-yellow-50 transition-colors border-b border-gray-100",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-200 flex items-center justify-center font-semibold text-yellow-700 flex-shrink-0",children:(g.name||"NA").split(" ").map(b=>b[0]).join("")}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",children:g.name}),n.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["ID: ",g.empId]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsxs("a",{href:`mailto:${g.email}`,className:"text-sm text-gray-500 hover:text-yellow-600 flex items-center gap-1 truncate",children:[n.jsx(mc,{size:12,className:"flex-shrink-0"}),n.jsx("span",{className:"truncate max-w-[120px]",children:g.email})]}),n.jsxs("a",{href:`tel:${g.mobile}`,className:"text-sm text-gray-500 hover:text-yellow-600 flex items-center gap-1 flex-shrink-0",children:[n.jsx(Sc,{size:12}),g.mobile]})]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const b=m();return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(rs,{size:14,className:"text-green-600"}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[b.studentSatisfaction,"%"]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Satisfaction"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qa,{size:14,className:"text-blue-600"}),n.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[b.classAttendance,"%"]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Attendance"})]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[b.totalStudents," students"]})]})})()}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const b=f();return b.length===0?n.jsx("span",{className:"text-sm text-gray-400 italic",children:"No classes today"}):n.jsxs("div",{className:"space-y-1 max-w-[200px]",children:[b.slice(0,2).map((N,w)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nr,{size:12,className:"text-purple-600"}),n.jsx("span",{className:"text-xs text-gray-700",children:N.time}),n.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-1 rounded",children:N.class})]},w)),b.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",b.length-2," more"]})]})})()}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kr,{size:14,className:"text-blue-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:g.subject})]}),n.jsx("div",{className:"text-sm text-gray-600",children:g.department}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",g.joiningDate?new Date(g.joiningDate).toLocaleDateString():""]})]})}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const b=x();return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(na,{size:14,className:"text-indigo-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:g.qualification})]}),b.slice(0,2).map((N,w)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${N.status==="verified"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N.status==="verified"?"Verified":"Pending"}),n.jsx("span",{className:"text-xs text-gray-600 truncate",children:N.name})]},w))]})})()}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const b=v();return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((N,w)=>n.jsx(Kr,{size:14,className:w<b.overallRating?"text-yellow-400 fill-current":"text-gray-300"},w)),n.jsxs("span",{className:"text-sm font-semibold ml-1",children:[b.overallRating,"/5"]})]}),n.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(b.lastEvaluation).toLocaleDateString()]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["By: ",b.evaluatedBy]})]})})()}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kn,{size:14,className:"text-orange-600"}),n.jsx("span",{className:"font-semibold text-gray-900",children:"5 years"})]}),n.jsxs("div",{className:"text-xs text-gray-600",children:["Since ",new Date().getFullYear()-5]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"View Performance Analytics",children:n.jsx(ds,{size:14})}),n.jsx("button",{className:"text-purple-600 hover:text-purple-800 p-1 hover:bg-purple-50 rounded",title:"View Schedule",children:n.jsx(nr,{size:14})}),n.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Conduct Evaluation",children:n.jsx(jr,{size:14})}),n.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 p-1 hover:bg-indigo-50 rounded",title:"Manage Qualifications",children:n.jsx(na,{size:14})}),n.jsx("button",{className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded",title:"Edit Teacher",children:n.jsx(Qb,{size:14})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-50 rounded",title:"More Options",children:n.jsx(fc,{size:14})})]})})]},g._id||g.id))})]})})}),n.jsx("div",{className:"flex-shrink-0 p-8 pt-4 bg-white/90 border-t border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-gray-600",children:["Showing ",h.length," of ",i.length," teachers"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-yellow-50 transition-colors",children:"Previous"}),n.jsx("button",{className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-yellow-50 transition-colors",children:"Next"})]})]})})]})})},wCe=({setShowAdminHeader:t})=>{const[e,r]=L.useState(""),[s,a]=L.useState("All"),[i,o]=L.useState([]),[l,c]=L.useState(!1),[d,u]=L.useState({name:"",email:"",phone:"",position:"",department:"",experience:"",qualification:"",salary:"",rating:"",status:"Active",joinDate:"",location:"",avatar:""}),h=i.filter(b=>{const N=b.name.toLowerCase().includes(e.toLowerCase())||b.position.toLowerCase().includes(e.toLowerCase())||b.email.toLowerCase().includes(e.toLowerCase()),w=s==="All"||b.status===s;return N&&w}),m=()=>({taskCompletionRate:Math.floor(Math.random()*20)+80,attendanceRate:Math.floor(Math.random()*15)+85,projectsCompleted:Math.floor(Math.random()*10)+5,avgResponseTime:Math.floor(Math.random()*20)+10,totalTasks:Math.floor(Math.random()*50)+20,activeProjects:Math.floor(Math.random()*5)+1}),f=()=>[{time:"09:00-10:00",task:"Admin Meeting",location:"Conference Room A"},{time:"10:00-11:00",task:"Budget Review",location:"Office 205"},{time:"11:30-12:30",task:"Staff Training",location:"Training Room"},{time:"14:00-15:00",task:"Facilities Inspection",location:"Ground Floor"}].slice(0,Math.floor(Math.random()*3)+1),x=()=>[{name:"Administrative Management",year:"2018",status:"verified"},{name:"Safety Training Certificate",year:"2020",status:"verified"},{name:"Leadership Development",year:"2022",status:"pending"},{name:"Digital Workflow Management",year:"2023",status:"verified"}].slice(0,Math.floor(Math.random()*3)+1),v=()=>({lastEvaluation:"2024-01-15",overallRating:Math.floor(Math.random()*2)+4,evaluatedBy:"HR Manager",nextEvaluation:"2024-07-15",improvements:Math.floor(Math.random()*3)+1}),g=[{id:1,name:"Priya Sharma",empId:"EMP001",email:"priya.sharma@eec.edu",mobile:"+91-98765-43210",position:"Administrative Manager",department:"Administration",qualification:"MBA in Management",experience:8,joiningDate:"2016-03-15",status:"Active",salary:65e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"15/2, MG Road, Bengaluru, Karnataka 560001"},{id:2,name:"Rajesh Kumar",empId:"EMP002",email:"rajesh.kumar@eec.edu",mobile:"+91-98765-43211",position:"IT Support Specialist",department:"IT Support",qualification:"BE Computer Science",experience:5,joiningDate:"2019-06-20",status:"Active",salary:52e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"42, Sector 14, Gurgaon, Haryana 122001"},{id:3,name:"Anita Patel",empId:"EMP003",email:"anita.patel@eec.edu",mobile:"+91-98765-43212",position:"HR Coordinator",department:"Human Resources",qualification:"MA Human Resources",experience:6,joiningDate:"2018-01-10",status:"Active",salary:58e4,attendanceToday:"Absent",lastSalaryDate:"2024-01-01",paymentStatus:"Due",nextPaymentDue:"2024-01-30",address:"78, Koregaon Park, Pune, Maharashtra 411001"},{id:4,name:"Suresh Gupta",empId:"EMP004",email:"suresh.gupta@eec.edu",mobile:"+91-98765-43213",position:"Finance Officer",department:"Finance",qualification:"CA, B.Com Accounting",experience:10,joiningDate:"2014-09-01",status:"Active",salary:72e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"23, CP Tank, Mumbai, Maharashtra 400004"},{id:5,name:"Kavita Singh",empId:"EMP005",email:"kavita.singh@eec.edu",mobile:"+91-98765-43214",position:"Library Assistant",department:"Library",qualification:"MLIS",experience:4,joiningDate:"2020-08-15",status:"Active",salary:42e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"56, Lajpat Nagar, New Delhi 110024"},{id:6,name:"Ravi Krishnan",empId:"EMP006",email:"ravi.krishnan@eec.edu",mobile:"+91-98765-43215",position:"Security Supervisor",department:"Security",qualification:"Security Management Certificate",experience:12,joiningDate:"2012-04-20",status:"Active",salary:48e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Due",nextPaymentDue:"2024-01-28",address:"89, T Nagar, Chennai, Tamil Nadu 600017"},{id:7,name:"Meera Nair",empId:"EMP007",email:"meera.nair@eec.edu",mobile:"+91-98765-43216",position:"Maintenance Coordinator",department:"Maintenance",qualification:"Facilities Management Certificate",experience:7,joiningDate:"2017-11-30",status:"Active",salary:45e4,attendanceToday:"Absent",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"12, Marine Drive, Kochi, Kerala 682031"},{id:8,name:"Arjun Reddy",empId:"EMP008",email:"arjun.reddy@eec.edu",mobile:"+91-98765-43217",position:"Cafeteria Manager",department:"Cafeteria",qualification:"Food Service Management",experience:9,joiningDate:"2015-02-14",status:"Active",salary:5e5,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"34, Jubilee Hills, Hyderabad, Telangana 500033"},{id:9,name:"Deepika Joshi",empId:"EMP009",email:"deepika.joshi@eec.edu",mobile:"+91-98765-43218",position:"Executive Assistant",department:"Administration",qualification:"BA Business Administration",experience:6,joiningDate:"2018-07-25",status:"On Leave",salary:47e4,attendanceToday:"Absent",lastSalaryDate:"2023-12-01",paymentStatus:"Due",nextPaymentDue:"2024-01-25",address:"67, Aundh, Pune, Maharashtra 411007"},{id:10,name:"Kevin Brown",empId:"EMP010",email:"kevin.brown@eec.edu",mobile:"+1-555-0110",position:"Network Administrator",department:"IT Support",qualification:"MS Information Systems",experience:8,joiningDate:"2016-12-05",status:"Active",salary:68e3,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01"},{id:11,name:"Sneha Agarwal",empId:"EMP011",email:"sneha.agarwal@eec.edu",mobile:"+91-98765-43220",position:"Accounts Payable Clerk",department:"Finance",qualification:"B.Com Accounting",experience:3,joiningDate:"2021-05-10",status:"Active",salary:38e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Due",nextPaymentDue:"2024-01-31",address:"45, Civil Lines, Jaipur, Rajasthan 302006"},{id:12,name:"Ramesh Yadav",empId:"EMP012",email:"ramesh.yadav@eec.edu",mobile:"+91-98765-43221",position:"Groundskeeper",department:"Maintenance",qualification:"Landscaping Certificate",experience:5,joiningDate:"2019-03-20",status:"Active",salary:35e4,attendanceToday:"Present",lastSalaryDate:"2024-01-01",paymentStatus:"Paid",nextPaymentDue:"2024-02-01",address:"128, Gomti Nagar, Lucknow, Uttar Pradesh 226010"}];return L.useEffect(()=>{t(!1),o(g)},[t]),n.jsx("div",{className:"h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-indigo-100 flex flex-col",children:n.jsxs("div",{className:"flex-1 flex flex-col  mx-auto w-full bg-white/90 shadow-2xlborder border-blue-200 overflow-hidden p-5",children:[n.jsxs("div",{className:"flex-shrink-0 p- bg-white/90 border-b border-blue-100",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{className:"flex items-center gap-75",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-blue-700",children:"Staff Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage administrative staff performance, schedules, and evaluations"})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(sr,{className:"w-8 h-8 text-blue-500"}),n.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:i.length}),n.jsx("span",{className:"text-xs text-gray-500",children:"Total Staff"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Pw,{className:"w-8 h-8 text-green-500"}),n.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:i.filter(b=>b.attendanceToday==="Present").length}),n.jsx("span",{className:"text-xs text-gray-500",children:"Present Today"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Ti,{className:"w-8 h-8 text-red-500"}),n.jsx("span",{className:"text-sm font-semibold text-red-600 mt-1",children:i.filter(b=>b.attendanceToday==="Absent").length}),n.jsx("span",{className:"text-xs text-gray-500",children:"Absent Today"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(iu,{className:"w-8 h-8 text-green-500"}),n.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:i.filter(b=>b.paymentStatus==="Paid").length}),n.jsx("span",{className:"text-xs text-gray-500",children:"Payments Paid"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Jo,{className:"w-8 h-8 text-orange-500"}),n.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:i.filter(b=>b.paymentStatus==="Due").length}),n.jsx("span",{className:"text-xs text-gray-500",children:"Payments Due"})]})]})]})}),n.jsxs("div",{className:"mb-6 flex gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(In,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search staff...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:e,onChange:b=>r(b.target.value)})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:b=>a(b.target.value),children:[n.jsx("option",{value:"All",children:"All Status"}),n.jsx("option",{value:"Active",children:"Active"}),n.jsx("option",{value:"On Leave",children:"On Leave"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Departments"}),n.jsx("option",{value:"Administration",children:"Administration"}),n.jsx("option",{value:"Human Resources",children:"Human Resources"}),n.jsx("option",{value:"Finance",children:"Finance"}),n.jsx("option",{value:"Maintenance",children:"Maintenance"}),n.jsx("option",{value:"IT Support",children:"IT Support"}),n.jsx("option",{value:"Security",children:"Security"}),n.jsx("option",{value:"Library",children:"Library"}),n.jsx("option",{value:"Cafeteria",children:"Cafeteria"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Performance Rating"}),n.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),n.jsx("option",{value:"good",children:"Good (80-89%)"}),n.jsx("option",{value:"average",children:"Average (70-79%)"}),n.jsx("option",{value:"needs-improvement",children:"Needs Improvement"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Attendance"}),n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Payment Status"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"due",children:"Due"})]})]})]}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("div",{className:"h-full overflow-y-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{className:"sticky top-0 bg-blue-50 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Staff Member"}),n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Attendance"}),n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Payment Status"}),n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Performance"}),n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Schedule Today"}),n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Position & Dept"}),n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Qualifications"}),n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Experience"}),n.jsx("th",{className:"border-b border-blue-100 px-6 py-3 text-left text-sm font-semibold text-blue-800",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white",children:h.map(b=>n.jsxs("tr",{className:"hover:bg-blue-50 transition-colors border-b border-gray-100",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-200 flex items-center justify-center font-semibold text-blue-700 flex-shrink-0",children:b.name.split(" ").map(N=>N[0]).join("")}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",children:b.name}),n.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["ID: ",b.empId]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsxs("a",{href:`mailto:${b.email}`,className:"text-sm text-gray-500 hover:text-blue-600 flex items-center gap-1 truncate",children:[n.jsx(mc,{size:12,className:"flex-shrink-0"}),n.jsx("span",{className:"truncate max-w-[120px]",children:b.email})]}),n.jsxs("a",{href:`tel:${b.mobile}`,className:"text-sm text-gray-500 hover:text-blue-600 flex items-center gap-1 flex-shrink-0",children:[n.jsx(Sc,{size:12}),b.mobile]})]})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:b.attendanceToday==="Present"?n.jsxs(n.Fragment,{children:[n.jsx(Pw,{size:16,className:"text-green-600"}),n.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Present"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ti,{size:16,className:"text-red-600"}),n.jsx("span",{className:"text-sm font-semibold text-red-600",children:"Absent"})]})}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Today's Status"})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex items-center gap-2",children:b.paymentStatus==="Paid"?n.jsxs(n.Fragment,{children:[n.jsx(Pw,{size:14,className:"text-green-600"}),n.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Paid"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Jo,{size:14,className:"text-orange-600"}),n.jsx("span",{className:"text-sm font-semibold text-orange-600",children:"Due"})]})}),n.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(b.lastSalaryDate).toLocaleDateString()]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Next: ",new Date(b.nextPaymentDue).toLocaleDateString()]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-xs font-semibold text-gray-600",children:""}),n.jsx("span",{className:"text-xs text-gray-600",children:b.salary.toLocaleString()})]})]})}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const N=m();return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(rs,{size:14,className:"text-green-600"}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[N.taskCompletionRate,"%"]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Task Completion"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qa,{size:14,className:"text-blue-600"}),n.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[N.attendanceRate,"%"]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Attendance"})]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[N.totalTasks," tasks handled"]})]})})()}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const N=f();return N.length===0?n.jsx("span",{className:"text-sm text-gray-400 italic",children:"No tasks today"}):n.jsxs("div",{className:"space-y-1 max-w-[200px]",children:[N.slice(0,2).map((w,A)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nr,{size:12,className:"text-purple-600"}),n.jsx("span",{className:"text-xs text-gray-700",children:w.time}),n.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-1 rounded",children:w.task})]},A)),N.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",N.length-2," more"]})]})})()}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_T,{size:14,className:"text-blue-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:b.position})]}),n.jsx("div",{className:"text-sm text-gray-600",children:b.department}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",new Date(b.joiningDate).toLocaleDateString()]})]})}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const N=x();return n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(na,{size:14,className:"text-indigo-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:b.qualification})]}),N.slice(0,2).map((w,A)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium ${w.status==="verified"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w.status==="verified"?"Verified":"Pending"}),n.jsx("span",{className:"text-xs text-gray-600 truncate",children:w.name})]},A))]})})()}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const N=v();return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((w,A)=>n.jsx(Kr,{size:14,className:A<N.overallRating?"text-yellow-400 fill-current":"text-gray-300"},A)),n.jsxs("span",{className:"text-sm font-semibold ml-1",children:[N.overallRating,"/5"]})]}),n.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",new Date(N.lastEvaluation).toLocaleDateString()]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["By: ",N.evaluatedBy]})]})})()}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kn,{size:14,className:"text-orange-600"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[b.experience," years"]})]}),n.jsxs("div",{className:"text-xs text-gray-600",children:["Since ",new Date().getFullYear()-b.experience]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"View Performance Analytics",children:n.jsx(ds,{size:14})}),n.jsx("button",{className:"text-purple-600 hover:text-purple-800 p-1 hover:bg-purple-50 rounded",title:"View Schedule",children:n.jsx(nr,{size:14})}),n.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Conduct Evaluation",children:n.jsx(jr,{size:14})}),n.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 p-1 hover:bg-indigo-50 rounded",title:"Manage Certifications",children:n.jsx(na,{size:14})}),n.jsx("button",{className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded",title:"Edit Staff Member",children:n.jsx(Qb,{size:14})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-50 rounded",title:"More Options",children:n.jsx(fc,{size:14})})]})})]},b.id))})]})})}),n.jsx("div",{className:"flex-shrink-0 pt-7 bg-white/90 border-t border-blue-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-black",children:["Showing ",h.length," of ",i.length," staff members"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"px-4 py-2 border text-black rounded-2xl transition-colors",children:"Previous"}),n.jsx("button",{className:"px-4 py-2 border text-black rounded-2xl transition-colors",children:"Next"})]})]})})]})})};/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function OY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function jCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uz(t,e){return t.get(OY(t,e))}function NCe(t,e,r){jCe(t,e),e.set(t,r)}function SCe(t,e,r){return t.set(OY(t,e),r),r}const _Ce=100,Pr={},ACe=()=>{Pr.previousActiveElement instanceof HTMLElement?(Pr.previousActiveElement.focus(),Pr.previousActiveElement=null):document.body&&document.body.focus()},CCe=t=>new Promise(e=>{if(!t)return e();const r=window.scrollX,s=window.scrollY;Pr.restoreFocusTimeout=setTimeout(()=>{ACe(),e()},_Ce),window.scrollTo(r,s)}),IY="swal2-",kCe=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],_t=kCe.reduce((t,e)=>(t[e]=IY+e,t),{}),ECe=["success","warning","info","question","error"],iN=ECe.reduce((t,e)=>(t[e]=IY+e,t),{}),FY="SweetAlert2:",tP=t=>t.charAt(0).toUpperCase()+t.slice(1),ko=t=>{console.warn(`${FY} ${typeof t=="object"?t.join(" "):t}`)},hp=t=>{console.error(`${FY} ${t}`)},hz=[],TCe=t=>{hz.includes(t)||(hz.push(t),ko(t))},BY=(t,e=null)=>{TCe(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},T5=t=>typeof t=="function"?t():t,rP=t=>t&&typeof t.toPromise=="function",x1=t=>rP(t)?t.toPromise():Promise.resolve(t),nP=t=>t&&Promise.resolve(t)===t,To=()=>document.body.querySelector(`.${_t.container}`),g1=t=>{const e=To();return e?e.querySelector(t):null},Ol=t=>g1(`.${t}`),Ln=()=>Ol(_t.popup),qg=()=>Ol(_t.icon),MCe=()=>Ol(_t["icon-content"]),UY=()=>Ol(_t.title),sP=()=>Ol(_t["html-container"]),zY=()=>Ol(_t.image),aP=()=>Ol(_t["progress-steps"]),M5=()=>Ol(_t["validation-message"]),uu=()=>g1(`.${_t.actions} .${_t.confirm}`),Gg=()=>g1(`.${_t.actions} .${_t.cancel}`),fp=()=>g1(`.${_t.actions} .${_t.deny}`),PCe=()=>Ol(_t["input-label"]),Vg=()=>g1(`.${_t.loader}`),v1=()=>Ol(_t.actions),$Y=()=>Ol(_t.footer),P5=()=>Ol(_t["timer-progress-bar"]),iP=()=>Ol(_t.close),DCe=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,oP=()=>{const t=Ln();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(e).sort((i,o)=>{const l=parseInt(i.getAttribute("tabindex")||"0"),c=parseInt(o.getAttribute("tabindex")||"0");return l>c?1:l<c?-1:0}),s=t.querySelectorAll(DCe),a=Array.from(s).filter(i=>i.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(a))].filter(i=>sl(i))},lP=()=>Sh(document.body,_t.shown)&&!Sh(document.body,_t["toast-shown"])&&!Sh(document.body,_t["no-backdrop"]),D5=()=>{const t=Ln();return t?Sh(t,_t.toast):!1},RCe=()=>{const t=Ln();return t?t.hasAttribute("data-loading"):!1},Il=(t,e)=>{if(t.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),a=s.querySelector("head");a&&Array.from(a.childNodes).forEach(o=>{t.appendChild(o)});const i=s.querySelector("body");i&&Array.from(i.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Sh=(t,e)=>{if(!e)return!1;const r=e.split(/\s+/);for(let s=0;s<r.length;s++)if(!t.classList.contains(r[s]))return!1;return!0},LCe=(t,e)=>{Array.from(t.classList).forEach(r=>{!Object.values(_t).includes(r)&&!Object.values(iN).includes(r)&&!Object.values(e.showClass||{}).includes(r)&&t.classList.remove(r)})},Rl=(t,e,r)=>{if(LCe(t,e),!e.customClass)return;const s=e.customClass[r];if(s){if(typeof s!="string"&&!s.forEach){ko(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof s}"`);return}Hn(t,s)}},R5=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${_t.popup} > .${_t[e]}`);case"checkbox":return t.querySelector(`.${_t.popup} > .${_t.checkbox} input`);case"radio":return t.querySelector(`.${_t.popup} > .${_t.radio} input:checked`)||t.querySelector(`.${_t.popup} > .${_t.radio} input:first-child`);case"range":return t.querySelector(`.${_t.popup} > .${_t.range} input`);default:return t.querySelector(`.${_t.popup} > .${_t.input}`)}},HY=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},WY=(t,e,r)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(t)?t.forEach(a=>{r?a.classList.add(s):a.classList.remove(s)}):r?t.classList.add(s):t.classList.remove(s)}))},Hn=(t,e)=>{WY(t,e,!0)},yc=(t,e)=>{WY(t,e,!1)},Rf=(t,e)=>{const r=Array.from(t.children);for(let s=0;s<r.length;s++){const a=r[s];if(a instanceof HTMLElement&&Sh(a,e))return a}},Rm=(t,e,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?t.style.setProperty(e,typeof r=="number"?`${r}px`:r):t.style.removeProperty(e)},pi=(t,e="flex")=>{t&&(t.style.display=e)},oo=t=>{t&&(t.style.display="none")},cP=(t,e="block")=>{t&&new MutationObserver(()=>{y1(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},fz=(t,e,r,s)=>{const a=t.querySelector(e);a&&a.style.setProperty(r,s)},y1=(t,e,r="flex")=>{e?pi(t,r):oo(t)},sl=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),OCe=()=>!sl(uu())&&!sl(fp())&&!sl(Gg()),KE=t=>t.scrollHeight>t.clientHeight,ICe=(t,e)=>{let r=t;for(;r&&r!==e;){if(KE(r))return!0;r=r.parentElement}return!1},qY=t=>{const e=window.getComputedStyle(t),r=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return r>0||s>0},dP=(t,e=!1)=>{const r=P5();r&&sl(r)&&(e&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},FCe=()=>{const t=P5();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),s=e/r*100;t.style.width=`${s}%`},BCe=()=>typeof window>"u"||typeof document>"u",UCe=`
 <div aria-labelledby="${_t.title}" aria-describedby="${_t["html-container"]}" class="${_t.popup}" tabindex="-1">
   <button type="button" class="${_t.close}"></button>
   <ul class="${_t["progress-steps"]}"></ul>
   <div class="${_t.icon}"></div>
   <img class="${_t.image}" />
   <h2 class="${_t.title}" id="${_t.title}"></h2>
   <div class="${_t["html-container"]}" id="${_t["html-container"]}"></div>
   <input class="${_t.input}" id="${_t.input}" />
   <input type="file" class="${_t.file}" />
   <div class="${_t.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${_t.select}" id="${_t.select}"></select>
   <div class="${_t.radio}"></div>
   <label class="${_t.checkbox}">
     <input type="checkbox" id="${_t.checkbox}" />
     <span class="${_t.label}"></span>
   </label>
   <textarea class="${_t.textarea}" id="${_t.textarea}"></textarea>
   <div class="${_t["validation-message"]}" id="${_t["validation-message"]}"></div>
   <div class="${_t.actions}">
     <div class="${_t.loader}"></div>
     <button type="button" class="${_t.confirm}"></button>
     <button type="button" class="${_t.deny}"></button>
     <button type="button" class="${_t.cancel}"></button>
   </div>
   <div class="${_t.footer}"></div>
   <div class="${_t["timer-progress-bar-container"]}">
     <div class="${_t["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),zCe=()=>{const t=To();return t?(t.remove(),yc([document.documentElement,document.body],[_t["no-backdrop"],_t["toast-shown"],_t["has-column"]]),!0):!1},Q0=()=>{Pr.currentInstance.resetValidationMessage()},$Ce=()=>{const t=Ln(),e=Rf(t,_t.input),r=Rf(t,_t.file),s=t.querySelector(`.${_t.range} input`),a=t.querySelector(`.${_t.range} output`),i=Rf(t,_t.select),o=t.querySelector(`.${_t.checkbox} input`),l=Rf(t,_t.textarea);e.oninput=Q0,r.onchange=Q0,i.onchange=Q0,o.onchange=Q0,l.oninput=Q0,s.oninput=()=>{Q0(),a.value=s.value},s.onchange=()=>{Q0(),a.value=s.value}},HCe=t=>typeof t=="string"?document.querySelector(t):t,WCe=t=>{const e=Ln();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},qCe=t=>{window.getComputedStyle(t).direction==="rtl"&&Hn(To(),_t.rtl)},GCe=t=>{const e=zCe();if(BCe()){hp("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=_t.container,e&&Hn(r,_t["no-transition"]),Il(r,UCe),r.dataset.swal2Theme=t.theme;const s=HCe(t.target);s.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),WCe(t),qCe(s),$Ce()},uP=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?VCe(t,e):t&&Il(e,t)},VCe=(t,e)=>{t.jquery?XCe(e,t):Il(e,t.toString())},XCe=(t,e)=>{if(t.textContent="",0 in e)for(let r=0;r in e;r++)t.appendChild(e[r].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},YCe=(t,e)=>{const r=v1(),s=Vg();!r||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?oo(r):pi(r),Rl(r,e,"actions"),KCe(r,s,e),Il(s,e.loaderHtml||""),Rl(s,e,"loader"))};function KCe(t,e,r){const s=uu(),a=fp(),i=Gg();!s||!a||!i||($C(s,"confirm",r),$C(a,"deny",r),$C(i,"cancel",r),JCe(s,a,i,r),r.reverseButtons&&(r.toast?(t.insertBefore(i,s),t.insertBefore(a,s)):(t.insertBefore(i,e),t.insertBefore(a,e),t.insertBefore(s,e))))}function JCe(t,e,r,s){if(!s.buttonsStyling){yc([t,e,r],_t.styled);return}Hn([t,e,r],_t.styled),s.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),zC(t),zC(e),zC(r)}function zC(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function $C(t,e,r){const s=tP(e);y1(t,r[`show${s}Button`],"inline-block"),Il(t,r[`${e}ButtonText`]||""),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]||""),t.className=_t[e],Rl(t,r,`${e}Button`)}const QCe=(t,e)=>{const r=iP();r&&(Il(r,e.closeButtonHtml||""),Rl(r,e,"closeButton"),y1(r,e.showCloseButton),r.setAttribute("aria-label",e.closeButtonAriaLabel||""))},ZCe=(t,e)=>{const r=To();r&&(e6e(r,e.backdrop),t6e(r,e.position),r6e(r,e.grow),Rl(r,e,"container"))};function e6e(t,e){typeof e=="string"?t.style.background=e:e||Hn([document.documentElement,document.body],_t["no-backdrop"])}function t6e(t,e){e&&(e in _t?Hn(t,_t[e]):(ko('The "position" parameter is not valid, defaulting to "center"'),Hn(t,_t.center)))}function r6e(t,e){e&&Hn(t,_t[`grow-${e}`])}var Ps={innerParams:new WeakMap,domCache:new WeakMap};const n6e=["input","file","range","select","radio","checkbox","textarea"],s6e=(t,e)=>{const r=Ln();if(!r)return;const s=Ps.innerParams.get(t),a=!s||e.input!==s.input;n6e.forEach(i=>{const o=Rf(r,_t[i]);o&&(o6e(i,e.inputAttributes),o.className=_t[i],a&&oo(o))}),e.input&&(a&&a6e(e),l6e(e))},a6e=t=>{if(!t.input)return;if(!ga[t.input]){hp(`Unexpected type of input! Expected ${Object.keys(ga).join(" | ")}, got "${t.input}"`);return}const e=GY(t.input);if(!e)return;const r=ga[t.input](e,t);pi(e),t.inputAutoFocus&&setTimeout(()=>{HY(r)})},i6e=t=>{for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},o6e=(t,e)=>{const r=Ln();if(!r)return;const s=R5(r,t);if(s){i6e(s);for(const a in e)s.setAttribute(a,e[a])}},l6e=t=>{if(!t.input)return;const e=GY(t.input);e&&Rl(e,t,"input")},hP=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},b1=(t,e,r)=>{if(r.inputLabel){const s=document.createElement("label"),a=_t["input-label"];s.setAttribute("for",t.id),s.className=a,typeof r.customClass=="object"&&Hn(s,r.customClass.inputLabel),s.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",s)}},GY=t=>{const e=Ln();if(e)return Rf(e,_t[t]||_t.input)},oN=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:nP(e)||ko(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ga={};ga.text=ga.email=ga.password=ga.number=ga.tel=ga.url=ga.search=ga.date=ga["datetime-local"]=ga.time=ga.week=ga.month=(t,e)=>(oN(t,e.inputValue),b1(t,t,e),hP(t,e),t.type=e.input,t);ga.file=(t,e)=>(b1(t,t,e),hP(t,e),t);ga.range=(t,e)=>{const r=t.querySelector("input"),s=t.querySelector("output");return oN(r,e.inputValue),r.type=e.input,oN(s,e.inputValue),b1(r,t,e),t};ga.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const r=document.createElement("option");Il(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return b1(t,t,e),t};ga.radio=t=>(t.textContent="",t);ga.checkbox=(t,e)=>{const r=R5(Ln(),"checkbox");r.value="1",r.checked=!!e.inputValue;const s=t.querySelector("span");return Il(s,e.inputPlaceholder||e.inputLabel),r};ga.textarea=(t,e)=>{oN(t,e.inputValue),hP(t,e),b1(t,t,e);const r=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Ln()).width),a=()=>{if(!document.body.contains(t))return;const i=t.offsetWidth+r(t);i>s?Ln().style.width=`${i}px`:Rm(Ln(),"width",e.width)};new MutationObserver(a).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const c6e=(t,e)=>{const r=sP();r&&(cP(r),Rl(r,e,"htmlContainer"),e.html?(uP(e.html,r),pi(r,"block")):e.text?(r.textContent=e.text,pi(r,"block")):oo(r),s6e(t,e))},d6e=(t,e)=>{const r=$Y();r&&(cP(r),y1(r,!!e.footer,"block"),e.footer&&uP(e.footer,r),Rl(r,e,"footer"))},u6e=(t,e)=>{const r=Ps.innerParams.get(t),s=qg();if(!s)return;if(r&&e.icon===r.icon){pz(s,e),mz(s,e);return}if(!e.icon&&!e.iconHtml){oo(s);return}if(e.icon&&Object.keys(iN).indexOf(e.icon)===-1){hp(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),oo(s);return}pi(s),pz(s,e),mz(s,e),Hn(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",VY)},mz=(t,e)=>{for(const[r,s]of Object.entries(iN))e.icon!==r&&yc(t,s);Hn(t,e.icon&&iN[e.icon]),m6e(t,e),VY(),Rl(t,e,"icon")},VY=()=>{const t=Ln();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<r.length;s++)r[s].style.backgroundColor=e},h6e=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,f6e=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,pz=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let r=t.innerHTML,s="";e.iconHtml?s=xz(e.iconHtml):e.icon==="success"?(s=h6e(e),r=r.replace(/ style=".*?"/g,"")):e.icon==="error"?s=f6e:e.icon&&(s=xz({question:"?",warning:"!",info:"i"}[e.icon])),r.trim()!==s.trim()&&Il(t,s)},m6e=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])fz(t,r,"background-color",e.iconColor);fz(t,".swal2-success-ring","border-color",e.iconColor)}},xz=t=>`<div class="${_t["icon-content"]}">${t}</div>`,p6e=(t,e)=>{const r=zY();if(r){if(!e.imageUrl){oo(r);return}pi(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt||""),Rm(r,"width",e.imageWidth),Rm(r,"height",e.imageHeight),r.className=_t.image,Rl(r,e,"image")}};let fP=!1,XY=0,YY=0,KY=0,JY=0;const x6e=t=>{t.addEventListener("mousedown",lN),document.body.addEventListener("mousemove",cN),t.addEventListener("mouseup",dN),t.addEventListener("touchstart",lN),document.body.addEventListener("touchmove",cN),t.addEventListener("touchend",dN)},g6e=t=>{t.removeEventListener("mousedown",lN),document.body.removeEventListener("mousemove",cN),t.removeEventListener("mouseup",dN),t.removeEventListener("touchstart",lN),document.body.removeEventListener("touchmove",cN),t.removeEventListener("touchend",dN)},lN=t=>{const e=Ln();if(t.target===e||qg().contains(t.target)){fP=!0;const r=QY(t);XY=r.clientX,YY=r.clientY,KY=parseInt(e.style.insetInlineStart)||0,JY=parseInt(e.style.insetBlockStart)||0,Hn(e,"swal2-dragging")}},cN=t=>{const e=Ln();if(fP){let{clientX:r,clientY:s}=QY(t);e.style.insetInlineStart=`${KY+(r-XY)}px`,e.style.insetBlockStart=`${JY+(s-YY)}px`}},dN=()=>{const t=Ln();fP=!1,yc(t,"swal2-dragging")},QY=t=>{let e=0,r=0;return t.type.startsWith("mouse")?(e=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:e,clientY:r}},v6e=(t,e)=>{const r=To(),s=Ln();if(!(!r||!s)){if(e.toast){Rm(r,"width",e.width),s.style.width="100%";const a=Vg();a&&s.insertBefore(a,qg())}else Rm(s,"width",e.width);Rm(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),oo(M5()),y6e(s,e),e.draggable&&!e.toast?(Hn(s,_t.draggable),x6e(s)):(yc(s,_t.draggable),g6e(s))}},y6e=(t,e)=>{const r=e.showClass||{};t.className=`${_t.popup} ${sl(t)?r.popup:""}`,e.toast?(Hn([document.documentElement,document.body],_t["toast-shown"]),Hn(t,_t.toast)):Hn(t,_t.modal),Rl(t,e,"popup"),typeof e.customClass=="string"&&Hn(t,e.customClass),e.icon&&Hn(t,_t[`icon-${e.icon}`])},b6e=(t,e)=>{const r=aP();if(!r)return;const{progressSteps:s,currentProgressStep:a}=e;if(!s||s.length===0||a===void 0){oo(r);return}pi(r),r.textContent="",a>=s.length&&ko("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((i,o)=>{const l=w6e(i);if(r.appendChild(l),o===a&&Hn(l,_t["active-progress-step"]),o!==s.length-1){const c=j6e(e);r.appendChild(c)}})},w6e=t=>{const e=document.createElement("li");return Hn(e,_t["progress-step"]),Il(e,t),e},j6e=t=>{const e=document.createElement("li");return Hn(e,_t["progress-step-line"]),t.progressStepsDistance&&Rm(e,"width",t.progressStepsDistance),e},N6e=(t,e)=>{const r=UY();r&&(cP(r),y1(r,!!(e.title||e.titleText),"block"),e.title&&uP(e.title,r),e.titleText&&(r.innerText=e.titleText),Rl(r,e,"title"))},ZY=(t,e)=>{v6e(t,e),ZCe(t,e),b6e(t,e),u6e(t,e),p6e(t,e),N6e(t,e),QCe(t,e),c6e(t,e),YCe(t,e),d6e(t,e);const r=Ln();typeof e.didRender=="function"&&r&&e.didRender(r),Pr.eventEmitter.emit("didRender",r)},S6e=()=>sl(Ln()),eK=()=>{var t;return(t=uu())===null||t===void 0?void 0:t.click()},_6e=()=>{var t;return(t=fp())===null||t===void 0?void 0:t.click()},A6e=()=>{var t;return(t=Gg())===null||t===void 0?void 0:t.click()},Xg=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),tK=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},C6e=(t,e,r)=>{tK(t),e.toast||(t.keydownHandler=s=>E6e(e,s,r),t.keydownTarget=e.keydownListenerCapture?window:Ln(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},JE=(t,e)=>{var r;const s=oP();if(s.length){t=t+e,t===-2&&(t=s.length-1),t===s.length?t=0:t===-1&&(t=s.length-1),s[t].focus();return}(r=Ln())===null||r===void 0||r.focus()},rK=["ArrowRight","ArrowDown"],k6e=["ArrowLeft","ArrowUp"],E6e=(t,e,r)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?T6e(e,t):e.key==="Tab"?M6e(e):[...rK,...k6e].includes(e.key)?P6e(e.key):e.key==="Escape"&&D6e(e,t,r)))},T6e=(t,e)=>{if(!T5(e.allowEnterKey))return;const r=R5(Ln(),e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;eK(),t.preventDefault()}},M6e=t=>{const e=t.target,r=oP();let s=-1;for(let a=0;a<r.length;a++)if(e===r[a]){s=a;break}t.shiftKey?JE(s,-1):JE(s,1),t.stopPropagation(),t.preventDefault()},P6e=t=>{const e=v1(),r=uu(),s=fp(),a=Gg();if(!e||!r||!s||!a)return;const i=[r,s,a];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const o=rK.includes(t)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let c=0;c<e.children.length;c++){if(l=l[o],!l)return;if(l instanceof HTMLButtonElement&&sl(l))break}l instanceof HTMLButtonElement&&l.focus()}},D6e=(t,e,r)=>{t.preventDefault(),T5(e.allowEscapeKey)&&r(Xg.esc)};var Ng={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const R6e=()=>{const t=To();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},nK=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},sK=typeof window<"u"&&!!window.GestureEvent,L6e=()=>{if(sK&&!Sh(document.body,_t.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Hn(document.body,_t.iosfix),O6e()}},O6e=()=>{const t=To();if(!t)return;let e;t.ontouchstart=r=>{e=I6e(r)},t.ontouchmove=r=>{e&&(r.preventDefault(),r.stopPropagation())}},I6e=t=>{const e=t.target,r=To(),s=sP();return!r||!s||F6e(t)||B6e(t)?!1:e===r||!KE(r)&&e instanceof HTMLElement&&!ICe(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(KE(s)&&s.contains(e))},F6e=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",B6e=t=>t.touches&&t.touches.length>1,U6e=()=>{if(Sh(document.body,_t.iosfix)){const t=parseInt(document.body.style.top,10);yc(document.body,_t.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},z6e=()=>{const t=document.createElement("div");t.className=_t["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Mx=null;const $6e=t=>{Mx===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Mx=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Mx+z6e()}px`)},H6e=()=>{Mx!==null&&(document.body.style.paddingRight=`${Mx}px`,Mx=null)};function aK(t,e,r,s){D5()?gz(t,s):(CCe(r).then(()=>gz(t,s)),tK(Pr)),sK?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),lP()&&(H6e(),U6e(),nK()),W6e()}function W6e(){yc([document.documentElement,document.body],[_t.shown,_t["height-auto"],_t["no-backdrop"],_t["toast-shown"]])}function Lf(t){t=G6e(t);const e=Ng.swalPromiseResolve.get(this),r=q6e(this);this.isAwaitingPromise?t.isDismissed||(w1(this),e(t)):r&&e(t)}const q6e=t=>{const e=Ln();if(!e)return!1;const r=Ps.innerParams.get(t);if(!r||Sh(e,r.hideClass.popup))return!1;yc(e,r.showClass.popup),Hn(e,r.hideClass.popup);const s=To();return yc(s,r.showClass.backdrop),Hn(s,r.hideClass.backdrop),V6e(t,e,r),!0};function iK(t){const e=Ng.swalPromiseReject.get(this);w1(this),e&&e(t)}const w1=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ps.innerParams.get(t)||t._destroy())},G6e=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),V6e=(t,e,r)=>{var s;const a=To(),i=qY(e);typeof r.willClose=="function"&&r.willClose(e),(s=Pr.eventEmitter)===null||s===void 0||s.emit("willClose",e),i?X6e(t,e,a,r.returnFocus,r.didClose):aK(t,a,r.returnFocus,r.didClose)},X6e=(t,e,r,s,a)=>{Pr.swalCloseEventFinishedCallback=aK.bind(null,t,r,s,a);const i=function(o){if(o.target===e){var l;(l=Pr.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Pr),delete Pr.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i)}};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},gz=(t,e)=>{setTimeout(()=>{var r;typeof e=="function"&&e.bind(t.params)(),(r=Pr.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},Sg=t=>{let e=Ln();if(e||new gn,e=Ln(),!e)return;const r=Vg();D5()?oo(qg()):Y6e(e,t),pi(r),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Y6e=(t,e)=>{const r=v1(),s=Vg();!r||!s||(!e&&sl(uu())&&(e=uu()),pi(r),e&&(oo(e),s.setAttribute("data-button-to-replace",e.className),r.insertBefore(s,e)),Hn([t,r],_t.loading))},K6e=(t,e)=>{e.input==="select"||e.input==="radio"?tke(t,e):["text","email","number","tel","textarea"].some(r=>r===e.input)&&(rP(e.inputValue)||nP(e.inputValue))&&(Sg(uu()),rke(t,e))},J6e=(t,e)=>{const r=t.getInput();if(!r)return null;switch(e.input){case"checkbox":return Q6e(r);case"radio":return Z6e(r);case"file":return eke(r);default:return e.inputAutoTrim?r.value.trim():r.value}},Q6e=t=>t.checked?1:0,Z6e=t=>t.checked?t.value:null,eke=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,tke=(t,e)=>{const r=Ln();if(!r)return;const s=a=>{e.input==="select"?nke(r,uN(a),e):e.input==="radio"&&ske(r,uN(a),e)};rP(e.inputOptions)||nP(e.inputOptions)?(Sg(uu()),x1(e.inputOptions).then(a=>{t.hideLoading(),s(a)})):typeof e.inputOptions=="object"?s(e.inputOptions):hp(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},rke=(t,e)=>{const r=t.getInput();r&&(oo(r),x1(e.inputValue).then(s=>{r.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,pi(r),r.focus(),t.hideLoading()}).catch(s=>{hp(`Error in inputValue promise: ${s}`),r.value="",pi(r),r.focus(),t.hideLoading()}))};function nke(t,e,r){const s=Rf(t,_t.select);if(!s)return;const a=(i,o,l)=>{const c=document.createElement("option");c.value=l,Il(c,o),c.selected=oK(l,r.inputValue),i.appendChild(c)};e.forEach(i=>{const o=i[0],l=i[1];if(Array.isArray(l)){const c=document.createElement("optgroup");c.label=o,c.disabled=!1,s.appendChild(c),l.forEach(d=>a(c,d[1],d[0]))}else a(s,l,o)}),s.focus()}function ske(t,e,r){const s=Rf(t,_t.radio);if(!s)return;e.forEach(i=>{const o=i[0],l=i[1],c=document.createElement("input"),d=document.createElement("label");c.type="radio",c.name=_t.radio,c.value=o,oK(o,r.inputValue)&&(c.checked=!0);const u=document.createElement("span");Il(u,l),u.className=_t.label,d.appendChild(c),d.appendChild(u),s.appendChild(d)});const a=s.querySelectorAll("input");a.length&&a[0].focus()}const uN=t=>{const e=[];return t instanceof Map?t.forEach((r,s)=>{let a=r;typeof a=="object"&&(a=uN(a)),e.push([s,a])}):Object.keys(t).forEach(r=>{let s=t[r];typeof s=="object"&&(s=uN(s)),e.push([r,s])}),e},oK=(t,e)=>!!e&&e.toString()===t.toString(),ake=t=>{const e=Ps.innerParams.get(t);t.disableButtons(),e.input?lK(t,"confirm"):pP(t,!0)},ike=t=>{const e=Ps.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?lK(t,"deny"):mP(t,!1)},oke=(t,e)=>{t.disableButtons(),e(Xg.cancel)},lK=(t,e)=>{const r=Ps.innerParams.get(t);if(!r.input){hp(`The "input" parameter is needed to be set when using returnInputValueOn${tP(e)}`);return}const s=t.getInput(),a=J6e(t,r);r.inputValidator?lke(t,a,e):s&&!s.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||s.validationMessage)):e==="deny"?mP(t,a):pP(t,a)},lke=(t,e,r)=>{const s=Ps.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>x1(s.inputValidator(e,s.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):r==="deny"?mP(t,e):pP(t,e)})},mP=(t,e)=>{const r=Ps.innerParams.get(t||void 0);r.showLoaderOnDeny&&Sg(fp()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>x1(r.preDeny(e,r.validationMessage))).then(a=>{a===!1?(t.hideLoading(),w1(t)):t.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>cK(t||void 0,a))):t.close({isDenied:!0,value:e})},vz=(t,e)=>{t.close({isConfirmed:!0,value:e})},cK=(t,e)=>{t.rejectPromise(e)},pP=(t,e)=>{const r=Ps.innerParams.get(t||void 0);r.showLoaderOnConfirm&&Sg(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>x1(r.preConfirm(e,r.validationMessage))).then(a=>{sl(M5())||a===!1?(t.hideLoading(),w1(t)):vz(t,typeof a>"u"?e:a)}).catch(a=>cK(t||void 0,a))):vz(t,e)};function hN(){const t=Ps.innerParams.get(this);if(!t)return;const e=Ps.domCache.get(this);oo(e.loader),D5()?t.icon&&pi(qg()):cke(e),yc([e.popup,e.actions],_t.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const cke=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?pi(e[0],"inline-block"):OCe()&&oo(t.actions)};function dK(){const t=Ps.innerParams.get(this),e=Ps.domCache.get(this);return e?R5(e.popup,t.input):null}function uK(t,e,r){const s=Ps.domCache.get(t);e.forEach(a=>{s[a].disabled=r})}function hK(t,e){const r=Ln();if(!(!r||!t))if(t.type==="radio"){const s=r.querySelectorAll(`[name="${_t.radio}"]`);for(let a=0;a<s.length;a++)s[a].disabled=e}else t.disabled=e}function fK(){uK(this,["confirmButton","denyButton","cancelButton"],!1)}function mK(){uK(this,["confirmButton","denyButton","cancelButton"],!0)}function pK(){hK(this.getInput(),!1)}function xK(){hK(this.getInput(),!0)}function gK(t){const e=Ps.domCache.get(this),r=Ps.innerParams.get(this);Il(e.validationMessage,t),e.validationMessage.className=_t["validation-message"],r.customClass&&r.customClass.validationMessage&&Hn(e.validationMessage,r.customClass.validationMessage),pi(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",_t["validation-message"]),HY(s),Hn(s,_t.inputerror))}function vK(){const t=Ps.domCache.get(this);t.validationMessage&&oo(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),yc(e,_t.inputerror))}const Px={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},dke=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],uke={allowEnterKey:void 0},hke=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],yK=t=>Object.prototype.hasOwnProperty.call(Px,t),bK=t=>dke.indexOf(t)!==-1,wK=t=>uke[t],fke=t=>{yK(t)||ko(`Unknown parameter "${t}"`)},mke=t=>{hke.includes(t)&&ko(`The parameter "${t}" is incompatible with toasts`)},pke=t=>{const e=wK(t);e&&BY(t,e)},jK=t=>{t.backdrop===!1&&t.allowOutsideClick&&ko('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&ko(`Invalid theme "${t.theme}"`);for(const e in t)fke(e),t.toast&&mke(e),pke(e)};function NK(t){const e=To(),r=Ln(),s=Ps.innerParams.get(this);if(!r||Sh(r,s.hideClass.popup)){ko("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=xke(t),i=Object.assign({},s,a);jK(i),e.dataset.swal2Theme=i.theme,ZY(this,i),Ps.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const xke=t=>{const e={};return Object.keys(t).forEach(r=>{bK(r)?e[r]=t[r]:ko(`Invalid parameter to update: ${r}`)}),e};function SK(){const t=Ps.domCache.get(this),e=Ps.innerParams.get(this);if(!e){_K(this);return}t.popup&&Pr.swalCloseEventFinishedCallback&&(Pr.swalCloseEventFinishedCallback(),delete Pr.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Pr.eventEmitter.emit("didDestroy"),gke(this)}const gke=t=>{_K(t),delete t.params,delete Pr.keydownHandler,delete Pr.keydownTarget,delete Pr.currentInstance},_K=t=>{t.isAwaitingPromise?(HC(Ps,t),t.isAwaitingPromise=!0):(HC(Ng,t),HC(Ps,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},HC=(t,e)=>{for(const r in t)t[r].delete(e)};var vke=Object.freeze({__proto__:null,_destroy:SK,close:Lf,closeModal:Lf,closePopup:Lf,closeToast:Lf,disableButtons:mK,disableInput:xK,disableLoading:hN,enableButtons:fK,enableInput:pK,getInput:dK,handleAwaitingPromise:w1,hideLoading:hN,rejectPromise:iK,resetValidationMessage:vK,showValidationMessage:gK,update:NK});const yke=(t,e,r)=>{t.toast?bke(t,e,r):(jke(e),Nke(e),Ske(t,e,r))},bke=(t,e,r)=>{e.popup.onclick=()=>{t&&(wke(t)||t.timer||t.input)||r(Xg.close)}},wke=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let fN=!1;const jke=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(fN=!0)}}},Nke=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(fN=!0)}}},Ske=(t,e,r)=>{e.container.onclick=s=>{if(fN){fN=!1;return}s.target===e.container&&T5(t.allowOutsideClick)&&r(Xg.backdrop)}},_ke=t=>typeof t=="object"&&t.jquery,yz=t=>t instanceof Element||_ke(t),Ake=t=>{const e={};return typeof t[0]=="object"&&!yz(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((r,s)=>{const a=t[s];typeof a=="string"||yz(a)?e[r]=a:a!==void 0&&hp(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof a}`)}),e};function Cke(...t){return new this(...t)}function kke(t){class e extends this{_main(s,a){return super._main(s,Object.assign({},t,a))}}return e}const Eke=()=>Pr.timeout&&Pr.timeout.getTimerLeft(),AK=()=>{if(Pr.timeout)return FCe(),Pr.timeout.stop()},CK=()=>{if(Pr.timeout){const t=Pr.timeout.start();return dP(t),t}},Tke=()=>{const t=Pr.timeout;return t&&(t.running?AK():CK())},Mke=t=>{if(Pr.timeout){const e=Pr.timeout.increase(t);return dP(e,!0),e}},Pke=()=>!!(Pr.timeout&&Pr.timeout.isRunning());let bz=!1;const QE={};function Dke(t="data-swal-template"){QE[t]=this,bz||(document.body.addEventListener("click",Rke),bz=!0)}const Rke=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in QE){const s=e.getAttribute(r);if(s){QE[r].fire({template:s});return}}};class Lke{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,r){const s=this._getHandlersByEventName(e);s.includes(r)||s.push(r)}once(e,r){const s=(...a)=>{this.removeListener(e,s),r.apply(this,a)};this.on(e,s)}emit(e,...r){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,r)}catch(a){console.error(a)}})}removeListener(e,r){const s=this._getHandlersByEventName(e),a=s.indexOf(r);a>-1&&s.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Pr.eventEmitter=new Lke;const Oke=(t,e)=>{Pr.eventEmitter.on(t,e)},Ike=(t,e)=>{Pr.eventEmitter.once(t,e)},Fke=(t,e)=>{if(!t){Pr.eventEmitter.reset();return}e?Pr.eventEmitter.removeListener(t,e):Pr.eventEmitter.removeAllListeners(t)};var Bke=Object.freeze({__proto__:null,argsToParams:Ake,bindClickHandler:Dke,clickCancel:A6e,clickConfirm:eK,clickDeny:_6e,enableLoading:Sg,fire:Cke,getActions:v1,getCancelButton:Gg,getCloseButton:iP,getConfirmButton:uu,getContainer:To,getDenyButton:fp,getFocusableElements:oP,getFooter:$Y,getHtmlContainer:sP,getIcon:qg,getIconContent:MCe,getImage:zY,getInputLabel:PCe,getLoader:Vg,getPopup:Ln,getProgressSteps:aP,getTimerLeft:Eke,getTimerProgressBar:P5,getTitle:UY,getValidationMessage:M5,increaseTimer:Mke,isDeprecatedParameter:wK,isLoading:RCe,isTimerRunning:Pke,isUpdatableParameter:bK,isValidParameter:yK,isVisible:S6e,mixin:kke,off:Fke,on:Oke,once:Ike,resumeTimer:CK,showLoading:Sg,stopTimer:AK,toggleTimer:Tke});class Uke{constructor(e,r){this.callback=e,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const r=this.running;return r&&this.stop(),this.remaining+=e,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const kK=["swal-title","swal-html","swal-footer"],zke=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const r=e.content;return Yke(r),Object.assign($ke(r),Hke(r),Wke(r),qke(r),Gke(r),Vke(r),Xke(r,kK))},$ke=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(s=>{Jm(s,["name","value"]);const a=s.getAttribute("name"),i=s.getAttribute("value");!a||!i||(typeof Px[a]=="boolean"?e[a]=i!=="false":typeof Px[a]=="object"?e[a]=JSON.parse(i):e[a]=i)}),e},Hke=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(s=>{const a=s.getAttribute("name"),i=s.getAttribute("value");!a||!i||(e[a]=new Function(`return ${i}`)())}),e},Wke=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(s=>{Jm(s,["type","color","aria-label"]);const a=s.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=s.innerHTML,e[`show${tP(a)}Button`]=!0,s.hasAttribute("color")&&(e[`${a}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},qke=t=>{const e={},r=t.querySelector("swal-image");return r&&(Jm(r,["src","width","height","alt"]),r.hasAttribute("src")&&(e.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(e.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(e.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(e.imageAlt=r.getAttribute("alt")||void 0)),e},Gke=t=>{const e={},r=t.querySelector("swal-icon");return r&&(Jm(r,["type","color"]),r.hasAttribute("type")&&(e.icon=r.getAttribute("type")),r.hasAttribute("color")&&(e.iconColor=r.getAttribute("color")),e.iconHtml=r.innerHTML),e},Vke=t=>{const e={},r=t.querySelector("swal-input");r&&(Jm(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const s=Array.from(t.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(a=>{Jm(a,["value"]);const i=a.getAttribute("value");if(!i)return;const o=a.innerHTML;e.inputOptions[i]=o})),e},Xke=(t,e)=>{const r={};for(const s in e){const a=e[s],i=t.querySelector(a);i&&(Jm(i,[]),r[a.replace(/^swal-/,"")]=i.innerHTML.trim())}return r},Yke=t=>{const e=kK.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const s=r.tagName.toLowerCase();e.includes(s)||ko(`Unrecognized element <${s}>`)})},Jm=(t,e)=>{Array.from(t.attributes).forEach(r=>{e.indexOf(r.name)===-1&&ko([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},EK=10,Kke=t=>{const e=To(),r=Ln();typeof t.willOpen=="function"&&t.willOpen(r),Pr.eventEmitter.emit("willOpen",r);const a=window.getComputedStyle(document.body).overflowY;Zke(e,r,t),setTimeout(()=>{Jke(e,r)},EK),lP()&&(Qke(e,t.scrollbarPadding,a),R6e()),!D5()&&!Pr.previousActiveElement&&(Pr.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Pr.eventEmitter.emit("didOpen",r)},mN=t=>{const e=Ln();if(t.target!==e)return;const r=To();e.removeEventListener("animationend",mN),e.removeEventListener("transitionend",mN),r.style.overflowY="auto",yc(r,_t["no-transition"])},Jke=(t,e)=>{qY(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",mN),e.addEventListener("transitionend",mN)):t.style.overflowY="auto"},Qke=(t,e,r)=>{L6e(),e&&r!=="hidden"&&$6e(r),setTimeout(()=>{t.scrollTop=0})},Zke=(t,e,r)=>{Hn(t,r.showClass.backdrop),r.animation?(e.style.setProperty("opacity","0","important"),pi(e,"grid"),setTimeout(()=>{Hn(e,r.showClass.popup),e.style.removeProperty("opacity")},EK)):pi(e,"grid"),Hn([document.documentElement,document.body],_t.shown),r.heightAuto&&r.backdrop&&!r.toast&&Hn([document.documentElement,document.body],_t["height-auto"])};var wz={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function eEe(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=wz.email),t.input==="url"&&(t.inputValidator=wz.url))}function tEe(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(ko('Target parameter is not valid, defaulting to "body"'),t.target="body")}function rEe(t){eEe(t),t.showLoaderOnConfirm&&!t.preConfirm&&ko(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),tEe(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),GCe(t)}let Wd;var nw=new WeakMap;class Na{constructor(...e){if(NCe(this,nw,void 0),typeof window>"u")return;Wd=this;const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,SCe(nw,this,this._main(Wd.params))}_main(e,r={}){if(jK(Object.assign({},r,e)),Pr.currentInstance){const i=Ng.swalPromiseResolve.get(Pr.currentInstance),{isAwaitingPromise:o}=Pr.currentInstance;Pr.currentInstance._destroy(),o||i({isDismissed:!0}),lP()&&nK()}Pr.currentInstance=Wd;const s=sEe(e,r);rEe(s),Object.freeze(s),Pr.timeout&&(Pr.timeout.stop(),delete Pr.timeout),clearTimeout(Pr.restoreFocusTimeout);const a=aEe(Wd);return ZY(Wd,s),Ps.innerParams.set(Wd,s),nEe(Wd,a,s)}then(e){return uz(nw,this).then(e)}finally(e){return uz(nw,this).finally(e)}}const nEe=(t,e,r)=>new Promise((s,a)=>{const i=o=>{t.close({isDismissed:!0,dismiss:o,isConfirmed:!1,isDenied:!1})};Ng.swalPromiseResolve.set(t,s),Ng.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{ake(t)},e.denyButton.onclick=()=>{ike(t)},e.cancelButton.onclick=()=>{oke(t,i)},e.closeButton.onclick=()=>{i(Xg.close)},yke(r,e,i),C6e(Pr,r,i),K6e(t,r),Kke(r),iEe(Pr,r,i),oEe(e,r),setTimeout(()=>{e.container.scrollTop=0})}),sEe=(t,e)=>{const r=zke(t),s=Object.assign({},Px,e,r,t);return s.showClass=Object.assign({},Px.showClass,s.showClass),s.hideClass=Object.assign({},Px.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},aEe=t=>{const e={popup:Ln(),container:To(),actions:v1(),confirmButton:uu(),denyButton:fp(),cancelButton:Gg(),loader:Vg(),closeButton:iP(),validationMessage:M5(),progressSteps:aP()};return Ps.domCache.set(t,e),e},iEe=(t,e,r)=>{const s=P5();oo(s),e.timer&&(t.timeout=new Uke(()=>{r("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(pi(s),Rl(s,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&dP(e.timer)})))},oEe=(t,e)=>{if(!e.toast){if(!T5(e.allowEnterKey)){BY("allowEnterKey"),dEe();return}lEe(t)||cEe(t,e)||JE(-1,1)}},lEe=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of e)if(r instanceof HTMLElement&&sl(r))return r.focus(),!0;return!1},cEe=(t,e)=>e.focusDeny&&sl(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&sl(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&sl(t.confirmButton)?(t.confirmButton.focus(),!0):!1,dEe=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Na.prototype.disableButtons=mK;Na.prototype.enableButtons=fK;Na.prototype.getInput=dK;Na.prototype.disableInput=xK;Na.prototype.enableInput=pK;Na.prototype.hideLoading=hN;Na.prototype.disableLoading=hN;Na.prototype.showValidationMessage=gK;Na.prototype.resetValidationMessage=vK;Na.prototype.close=Lf;Na.prototype.closePopup=Lf;Na.prototype.closeModal=Lf;Na.prototype.closeToast=Lf;Na.prototype.rejectPromise=iK;Na.prototype.update=NK;Na.prototype._destroy=SK;Object.assign(Na,Bke);Object.keys(vke).forEach(t=>{Na[t]=function(...e){return Wd&&Wd[t]?Wd[t](...e):null}});Na.DismissReason=Xg;Na.version="11.26.3";const gn=Na;gn.default=gn;typeof document<"u"&&(function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var TK=1252,uEe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},gP=function(t){uEe.indexOf(t)!=-1&&(TK=xP[0]=t)};function hEe(){gP(1252)}var id=function(t){gP(t)};function MK(){id(1200),hEe()}function jz(t){for(var e=[],r=0,s=t.length;r<s;++r)e[r]=t.charCodeAt(r);return e}function fEe(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function PK(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var ny=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?fEe(t.slice(2)):e==254&&r==255?PK(t.slice(2)):e==65279?t.slice(1):t},sw=function(e){return String.fromCharCode(e)},Nz=function(e){return String.fromCharCode(e)},Mb,Of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Sz(t){for(var e="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<t.length;)r=t.charCodeAt(d++),i=r>>2,s=t.charCodeAt(d++),o=(r&3)<<4|s>>4,a=t.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),e+=Of.charAt(i)+Of.charAt(o)+Of.charAt(l)+Of.charAt(c);return e}function Ll(t){var e="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)i=Of.indexOf(t.charAt(d++)),o=Of.indexOf(t.charAt(d++)),r=i<<2|o>>4,e+=String.fromCharCode(r),l=Of.indexOf(t.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(s)),c=Of.indexOf(t.charAt(d++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var yn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),mp=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function t0(t){return yn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function _z(t){return yn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var rd=function(e){return yn?mp(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function pp(t){if(Array.isArray(t))return t.map(function(s){return String.fromCharCode(s)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function vP(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return vP(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Tf=yn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:mp(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var s=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)s.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";s.set(new Uint8Array(t[e]),r)}return s}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function mEe(t){for(var e=[],r=0,s=t.length+250,a=t0(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(e.push(a.slice(0,r)),r=0,a=t0(65535),s=65530)}return e.push(a.slice(0,r)),Tf(e)}var Co=/\u0000/g,sy=/[\u0001-\u0006]/g;function Dx(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function od(t,e){var r=""+t;return r.length>=e?r:da("0",e-r.length)+r}function yP(t,e){var r=""+t;return r.length>=e?r:da(" ",e-r.length)+r}function pN(t,e){var r=""+t;return r.length>=e?r:r+da(" ",e-r.length)}function pEe(t,e){var r=""+Math.round(t);return r.length>=e?r:da("0",e-r.length)+r}function xEe(t,e){var r=""+t;return r.length>=e?r:da("0",e-r.length)+r}var Az=Math.pow(2,32);function dx(t,e){if(t>Az||t<-Az)return pEe(t,e);var r=Math.round(t);return xEe(r,e)}function xN(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Cz=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],WC=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function gEe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},kz={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},vEe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function gN(t,e,r){for(var s=t<0?-1:1,a=t*s,i=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(a);d<e&&(h=Math.floor(a),l=h*o+i,u=h*d+c,!(a-h<5e-8));)a=1/(a-h),i=o,o=l,c=d,d=u;if(u>e&&(d>e?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var m=Math.floor(s*l/u);return[m,s*l-m*u,u]}function Sm(t,e,r){if(t>2958465||t<0)return null;var s=t|0,a=Math.floor(86400*(t-s)),i=0,o=[],l={D:s,T:a,u:86400*(t-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=SEe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var DK=new Date(1899,11,31,0,0,0),yEe=DK.getTime(),bEe=new Date(1900,2,1,0,0,0);function RK(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=bEe&&(r+=1440*60*1e3),(r-(yEe+(t.getTimezoneOffset()-DK.getTimezoneOffset())*6e4))/(1440*60*1e3)}function bP(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wEe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function jEe(t){var e=t<0?12:11,r=bP(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function NEe(t){var e=bP(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Pb(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=jEe(t):e===10?r=t.toFixed(10).substr(0,12):r=NEe(t),bP(wEe(r.toUpperCase()))}function Qm(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Pb(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return bc(14,RK(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function SEe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function _Ee(t,e,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,d=e.length;break;case 3:return WC[r.m-1][1];case 5:return WC[r.m-1][0];default:return WC[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,d=e.length;break;case 3:return Cz[r.q][0];default:return Cz[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?od(r.S,e.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(a=od(i,2+s),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?od(c,d):"";return u}function If(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,s=t.substr(0,r);r!=t.length;r+=e)s+=(s.length>0?",":"")+t.substr(r,e);return s}var LK=/%/g;function AEe(t,e,r){var s=e.replace(LK,""),a=e.length-s.length;return _h(t,s,r*Math.pow(10,2*a))+da("%",a)}function CEe(t,e,r){for(var s=e.length-1;e.charCodeAt(s-1)===44;)--s;return _h(t,e.substr(0,s),r/Math.pow(10,3*(e.length-s)))}function OK(t,e){var r,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+OK(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(s);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var IK=/# (\?+)( ?)\/( ?)(\d+)/;function kEe(t,e,r){var s=parseInt(t[4],10),a=Math.round(e*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?da(" ",t[1].length+1+t[4].length):yP(o,t[1].length)+t[2]+"/"+t[3]+od(l,t[4].length))}function EEe(t,e,r){return r+(e===0?"":""+e)+da(" ",t[1].length+2+t[4].length)}var FK=/^#*0*\.([0#]+)/,BK=/\).*[0#]/,UK=/\(###\) ###\\?-####/;function bo(t){for(var e="",r,s=0;s!=t.length;++s)switch(r=t.charCodeAt(s)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Ez(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Tz(t,e){var r=t-Math.floor(t),s=Math.pow(10,e);return e<(""+Math.round(r*s)).length?0:Math.round(r*s)}function TEe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function MEe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ic(t,e,r){if(t.charCodeAt(0)===40&&!e.match(BK)){var s=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ic("n",s,r):"("+ic("n",s,-r)+")"}if(e.charCodeAt(e.length-1)===44)return CEe(t,e,r);if(e.indexOf("%")!==-1)return AEe(t,e,r);if(e.indexOf("E")!==-1)return OK(e,r);if(e.charCodeAt(0)===36)return"$"+ic(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+dx(c,e.length);if(e.match(/^[#?]+$/))return a=dx(r,0),a==="0"&&(a=""),a.length>e.length?a:bo(e.substr(0,e.length-a.length))+a;if(i=e.match(IK))return kEe(i,c,d);if(e.match(/^#+0+$/))return d+dx(c,e.length-e.indexOf("0"));if(i=e.match(FK))return a=Ez(r,i[1].length).replace(/^([^\.]+)$/,"$1."+bo(i[1])).replace(/\.$/,"."+bo(i[1])).replace(/\.(\d*)$/,function(x,v){return"."+v+da("0",bo(i[1]).length-v.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+Ez(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+If(dx(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ic(t,e,-r):If(""+(Math.floor(r)+TEe(r,i[1].length)))+"."+od(Tz(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return ic(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Dx(ic(t,e.replace(/[\\-]/g,""),r)),o=0,Dx(Dx(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(e.match(UK))return a=ic(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=gN(c,Math.pow(10,o)-1,!1),a=""+d,u=_h("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=pN(l[2],o),u.length<i[4].length&&(u=bo(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=gN(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?yP(l[1],o)+i[2]+"/"+i[3]+pN(l[2],o):da(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=dx(r,0),e.length<=a.length?a:bo(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,m=e.length-a.length-h;return bo(e.substr(0,h)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=Tz(r,i[1].length),r<0?"-"+ic(t,e,-r):If(MEe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?od(0,3-x.length):"")+x})+"."+od(o,i[1].length);switch(e){case"###,##0.00":return ic(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=If(dx(c,0));return f!=="0"?d+f:"";case"###,###.00":return ic(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ic(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function PEe(t,e,r){for(var s=e.length-1;e.charCodeAt(s-1)===44;)--s;return _h(t,e.substr(0,s),r/Math.pow(10,3*(e.length-s)))}function DEe(t,e,r){var s=e.replace(LK,""),a=e.length-s.length;return _h(t,s,r*Math.pow(10,2*a))+da("%",a)}function zK(t,e){var r,s=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+zK(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(s);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ud(t,e,r){if(t.charCodeAt(0)===40&&!e.match(BK)){var s=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ud("n",s,r):"("+Ud("n",s,-r)+")"}if(e.charCodeAt(e.length-1)===44)return PEe(t,e,r);if(e.indexOf("%")!==-1)return DEe(t,e,r);if(e.indexOf("E")!==-1)return zK(e,r);if(e.charCodeAt(0)===36)return"$"+Ud(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+od(c,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:bo(e.substr(0,e.length-a.length))+a;if(i=e.match(IK))return EEe(i,c,d);if(e.match(/^#+0+$/))return d+od(c,e.length-e.indexOf("0"));if(i=e.match(FK))return a=(""+r).replace(/^([^\.]+)$/,"$1."+bo(i[1])).replace(/\.$/,"."+bo(i[1])),a=a.replace(/\.(\d*)$/,function(x,v){return"."+v+da("0",bo(i[1]).length-v.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+If(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ud(t,e,-r):If(""+r)+"."+da("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Ud(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Dx(Ud(t,e.replace(/[\\-]/g,""),r)),o=0,Dx(Dx(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(e.match(UK))return a=Ud(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=gN(c,Math.pow(10,o)-1,!1),a=""+d,u=_h("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=pN(l[2],o),u.length<i[4].length&&(u=bo(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=gN(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?yP(l[1],o)+i[2]+"/"+i[3]+pN(l[2],o):da(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:bo(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=e.indexOf(".")-o,m=e.length-a.length-h;return bo(e.substr(0,h)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ud(t,e,-r):If(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?od(0,3-x.length):"")+x})+"."+od(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=If(""+c);return f!=="0"?d+f:"";default:if(e.match(/\.[0#?]*$/))return Ud(t,e.slice(0,e.lastIndexOf(".")),r)+bo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function _h(t,e,r){return(r|0)===r?Ud(t,e,r):ic(t,e,r)}function REe(t){for(var e=[],r=!1,s=0,a=0;s<t.length;++s)switch(t.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:e[e.length]=t.substr(a,s-a),a=s+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var $K=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Yg(t){for(var e=0,r="",s="";e<t.length;)switch(r=t.charAt(e)){case"G":xN(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(s=r;t.charAt(e++)!=="]"&&e<t.length;)s+=t.charAt(e);if(s.match($K))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function LEe(t,e,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,h,m="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!xN(t,o))throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++o;break;case"\\":var f=t.charAt(++o),x=f==="("||f===")"?f:"t";a[a.length]={t:x,v:f},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=Sm(e,r,t.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:t.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=Sm(e,r),d==null))return"";for(i=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var v={t:l,v:l};if(d==null&&(d=Sm(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(v.v=d.H>=12?"P":"A"),v.t="T",m="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(v.v=d.H>=12?"PM":"AM"),v.t="T",o+=5,m="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(v.v=d.H>=12?"":""),v.t="T",o+=5,m="h"):(v.t="t",++o),d==null&&v.t==="T")return"";a[a.length]=v,c=l;break;case"[":for(i=l;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match($K)){if(d==null&&(d=Sm(e,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Yg(t)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<t.length&&(l=t.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"t",v:l},++o;break}var g=0,b=0,N;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",g<1&&(g=1);break;case"s":(N=a[o].v.match(/\.0+$/))&&(b=Math.max(b,N[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",A;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=_Ee(a[o].t.charCodeAt(0),a[o].v,d,b),a[o].t="t";break;case"n":case"?":for(A=o+1;a[A]!=null&&((l=a[A].t)==="?"||l==="D"||(l===" "||l==="t")&&a[A+1]!=null&&(a[A+1].t==="?"||a[A+1].t==="t"&&a[A+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[A].v==="/"||a[A].v===" "&&a[A+1]!=null&&a[A+1].t=="?"));)a[o].v+=a[A].v,a[A]={v:"",t:";"},++A;w+=a[o].v,o=A-1;break;case"G":a[o].t="t",a[o].v=Qm(e,r);break}var j="",S,E;if(w.length>0){w.charCodeAt(0)==40?(S=e<0&&w.charCodeAt(0)===45?-e:e,E=_h("n",w,S)):(S=e<0&&s>1?-e:e,E=_h("n",w,S),S<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),A=E.length-1;var R=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){R=o;break}var C=a.length;if(R===a.length&&E.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(A>=a[o].v.length-1?(A-=a[o].v.length,a[o].v=E.substr(A+1,a[o].v.length)):A<0?a[o].v="":(a[o].v=E.substr(0,A+1),A=-1),a[o].t="t",C=o);A>=0&&C<a.length&&(a[C].v=E.substr(0,A+1)+a[C].v)}else if(R!==a.length&&E.indexOf("E")===-1){for(A=E.indexOf(".")-1,o=R;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(u+1);u>=0;--u)A>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(j=E.charAt(A--)+j);a[o].v=j,a[o].t="t",C=o}for(A>=0&&C<a.length&&(a[C].v=E.substr(0,A+1)+a[C].v),A=E.indexOf(".")+1,o=R;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==R)){for(u=a[o].v.indexOf(".")>-1&&o===R?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,u);u<a[o].v.length;++u)A<E.length&&(j+=E.charAt(A++));a[o].v=j,a[o].t="t",C=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=s>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=_h(a[o].t,a[o].v,S),a[o].t="t");var T="";for(o=0;o!==a.length;++o)a[o]!=null&&(T+=a[o].v);return T}var Mz=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Pz(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function OEe(t,e){var r=REe(t),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Mz),l=r[1].match(Mz);return Pz(e,o)?[s,r[0]]:Pz(e,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function bc(t,e,r){r==null&&(r={});var s="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?s=r.dateNF:s=t;break;case"number":t==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Qr)[t],s==null&&(s=r.table&&r.table[kz[t]]||Qr[kz[t]]),s==null&&(s=vEe[t]||"General");break}if(xN(s,0))return Qm(e,r);e instanceof Date&&(e=RK(e,r.date1904));var a=OEe(s,e);if(xN(a[1]))return Qm(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return LEe(a[1],e,r,a[0])}function Lm(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Qr[r]==null){e<0&&(e=r);continue}if(Qr[r]==t){e=r;break}}e<0&&(e=391)}return Qr[e]=t,e}function HK(){Qr=gEe()}var IEe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},WK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function FEe(t){var e=typeof t=="number"?Qr[t]:t;return e=e.replace(WK,"(\\d+)"),new RegExp("^"+e+"$")}function BEe(t,e,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(e.match(WK)||[]).forEach(function(h,m){var f=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":s=f;break;case"d":i=f;break;case"h":o=f;break;case"s":c=f;break;case"m":o>=0?l=f:a=f;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var UEe=(function(){var t={};t.version="1.2.0";function e(){for(var E=0,R=new Array(256),C=0;C!=256;++C)E=C,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,R[C]=E;return typeof Int32Array<"u"?new Int32Array(R):R}var r=e();function s(E){var R=0,C=0,T=0,k=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)k[T]=E[T];for(T=0;T!=256;++T)for(C=E[T],R=256+T;R<4096;R+=256)C=k[R]=C>>>8^E[C&255];var P=[];for(T=1;T!=16;++T)P[T-1]=typeof Int32Array<"u"?k.subarray(T*256,T*256+256):k.slice(T*256,T*256+256);return P}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],h=a[6],m=a[7],f=a[8],x=a[9],v=a[10],g=a[11],b=a[12],N=a[13],w=a[14];function A(E,R){for(var C=R^-1,T=0,k=E.length;T<k;)C=C>>>8^r[(C^E.charCodeAt(T++))&255];return~C}function j(E,R){for(var C=R^-1,T=E.length-15,k=0;k<T;)C=w[E[k++]^C&255]^N[E[k++]^C>>8&255]^b[E[k++]^C>>16&255]^g[E[k++]^C>>>24]^v[E[k++]]^x[E[k++]]^f[E[k++]]^m[E[k++]]^h[E[k++]]^u[E[k++]]^d[E[k++]]^c[E[k++]]^l[E[k++]]^o[E[k++]]^i[E[k++]]^r[E[k++]];for(T+=15;k<T;)C=C>>>8^r[(C^E[k++])&255];return~C}function S(E,R){for(var C=R^-1,T=0,k=E.length,P=0,D=0;T<k;)P=E.charCodeAt(T++),P<128?C=C>>>8^r[(C^P)&255]:P<2048?(C=C>>>8^r[(C^(192|P>>6&31))&255],C=C>>>8^r[(C^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,D=E.charCodeAt(T++)&1023,C=C>>>8^r[(C^(240|P>>8&7))&255],C=C>>>8^r[(C^(128|P>>2&63))&255],C=C>>>8^r[(C^(128|D>>6&15|(P&3)<<4))&255],C=C>>>8^r[(C^(128|D&63))&255]):(C=C>>>8^r[(C^(224|P>>12&15))&255],C=C>>>8^r[(C^(128|P>>6&63))&255],C=C>>>8^r[(C^(128|P&63))&255]);return~C}return t.table=r,t.bstr=A,t.buf=j,t.str=S,t})(),wn=(function(){var e={};e.version="1.2.1";function r(me,Ee){for(var Se=me.split("/"),Ce=Ee.split("/"),Pe=0,Te=0,it=Math.min(Se.length,Ce.length);Pe<it;++Pe){if(Te=Se[Pe].length-Ce[Pe].length)return Te;if(Se[Pe]!=Ce[Pe])return Se[Pe]<Ce[Pe]?-1:1}return Se.length-Ce.length}function s(me){if(me.charAt(me.length-1)=="/")return me.slice(0,-1).indexOf("/")===-1?me:s(me.slice(0,-1));var Ee=me.lastIndexOf("/");return Ee===-1?me:me.slice(0,Ee+1)}function a(me){if(me.charAt(me.length-1)=="/")return a(me.slice(0,-1));var Ee=me.lastIndexOf("/");return Ee===-1?me:me.slice(Ee+1)}function i(me,Ee){typeof Ee=="string"&&(Ee=new Date(Ee));var Se=Ee.getHours();Se=Se<<6|Ee.getMinutes(),Se=Se<<5|Ee.getSeconds()>>>1,me.write_shift(2,Se);var Ce=Ee.getFullYear()-1980;Ce=Ce<<4|Ee.getMonth()+1,Ce=Ce<<5|Ee.getDate(),me.write_shift(2,Ce)}function o(me){var Ee=me.read_shift(2)&65535,Se=me.read_shift(2)&65535,Ce=new Date,Pe=Se&31;Se>>>=5;var Te=Se&15;Se>>>=4,Ce.setMilliseconds(0),Ce.setFullYear(Se+1980),Ce.setMonth(Te-1),Ce.setDate(Pe);var it=Ee&31;Ee>>>=5;var bt=Ee&63;return Ee>>>=6,Ce.setHours(Ee),Ce.setMinutes(bt),Ce.setSeconds(it<<1),Ce}function l(me){Ci(me,0);for(var Ee={},Se=0;me.l<=me.length-4;){var Ce=me.read_shift(2),Pe=me.read_shift(2),Te=me.l+Pe,it={};switch(Ce){case 21589:Se=me.read_shift(1),Se&1&&(it.mtime=me.read_shift(4)),Pe>5&&(Se&2&&(it.atime=me.read_shift(4)),Se&4&&(it.ctime=me.read_shift(4))),it.mtime&&(it.mt=new Date(it.mtime*1e3));break}me.l=Te,Ee[Ce]=it}return Ee}var c;function d(){return c||(c={})}function u(me,Ee){if(me[0]==80&&me[1]==75)return Qe(me,Ee);if((me[0]|32)==109&&(me[1]|32)==105)return er(me,Ee);if(me.length<512)throw new Error("CFB file size "+me.length+" < 512");var Se=3,Ce=512,Pe=0,Te=0,it=0,bt=0,lt=0,ct=[],mt=me.slice(0,512);Ci(mt,0);var de=h(mt);switch(Se=de[0],Se){case 3:Ce=512;break;case 4:Ce=4096;break;case 0:if(de[1]==0)return Qe(me,Ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+Se)}Ce!==512&&(mt=me.slice(0,Ce),Ci(mt,28));var Oe=me.slice(0,Ce);m(mt,Se);var We=mt.read_shift(4,"i");if(Se===3&&We!==0)throw new Error("# Directory Sectors: Expected 0 saw "+We);mt.l+=4,it=mt.read_shift(4,"i"),mt.l+=4,mt.chk("00100000","Mini Stream Cutoff Size: "),bt=mt.read_shift(4,"i"),Pe=mt.read_shift(4,"i"),lt=mt.read_shift(4,"i"),Te=mt.read_shift(4,"i");for(var ze=-1,Le=0;Le<109&&(ze=mt.read_shift(4,"i"),!(ze<0));++Le)ct[Le]=ze;var yt=f(me,Ce);g(lt,Te,yt,Ce,ct);var It=N(yt,it,ct,Ce);It[it].name="!Directory",Pe>0&&bt!==D&&(It[bt].name="!MiniFAT"),It[ct[0]].name="!FAT",It.fat_addrs=ct,It.ssz=Ce;var Ft={},Vt=[],Nr=[],wr=[];w(it,It,yt,Vt,Pe,Ft,Nr,bt),x(Nr,wr,Vt),Vt.shift();var lr={FileIndex:Nr,FullPaths:wr};return Ee&&Ee.raw&&(lr.raw={header:Oe,sectors:yt}),lr}function h(me){if(me[me.l]==80&&me[me.l+1]==75)return[0,0];me.chk(H,"Header Signature: "),me.l+=16;var Ee=me.read_shift(2,"u");return[me.read_shift(2,"u"),Ee]}function m(me,Ee){var Se=9;switch(me.l+=2,Se=me.read_shift(2)){case 9:if(Ee!=3)throw new Error("Sector Shift: Expected 9 saw "+Se);break;case 12:if(Ee!=4)throw new Error("Sector Shift: Expected 12 saw "+Se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Se)}me.chk("0600","Mini Sector Shift: "),me.chk("000000000000","Reserved: ")}function f(me,Ee){for(var Se=Math.ceil(me.length/Ee)-1,Ce=[],Pe=1;Pe<Se;++Pe)Ce[Pe-1]=me.slice(Pe*Ee,(Pe+1)*Ee);return Ce[Se-1]=me.slice(Se*Ee),Ce}function x(me,Ee,Se){for(var Ce=0,Pe=0,Te=0,it=0,bt=0,lt=Se.length,ct=[],mt=[];Ce<lt;++Ce)ct[Ce]=mt[Ce]=Ce,Ee[Ce]=Se[Ce];for(;bt<mt.length;++bt)Ce=mt[bt],Pe=me[Ce].L,Te=me[Ce].R,it=me[Ce].C,ct[Ce]===Ce&&(Pe!==-1&&ct[Pe]!==Pe&&(ct[Ce]=ct[Pe]),Te!==-1&&ct[Te]!==Te&&(ct[Ce]=ct[Te])),it!==-1&&(ct[it]=Ce),Pe!==-1&&Ce!=ct[Ce]&&(ct[Pe]=ct[Ce],mt.lastIndexOf(Pe)<bt&&mt.push(Pe)),Te!==-1&&Ce!=ct[Ce]&&(ct[Te]=ct[Ce],mt.lastIndexOf(Te)<bt&&mt.push(Te));for(Ce=1;Ce<lt;++Ce)ct[Ce]===Ce&&(Te!==-1&&ct[Te]!==Te?ct[Ce]=ct[Te]:Pe!==-1&&ct[Pe]!==Pe&&(ct[Ce]=ct[Pe]));for(Ce=1;Ce<lt;++Ce)if(me[Ce].type!==0){if(bt=Ce,bt!=ct[bt])do bt=ct[bt],Ee[Ce]=Ee[bt]+"/"+Ee[Ce];while(bt!==0&&ct[bt]!==-1&&bt!=ct[bt]);ct[Ce]=-1}for(Ee[0]+="/",Ce=1;Ce<lt;++Ce)me[Ce].type!==2&&(Ee[Ce]+="/")}function v(me,Ee,Se){for(var Ce=me.start,Pe=me.size,Te=[],it=Ce;Se&&Pe>0&&it>=0;)Te.push(Ee.slice(it*P,it*P+P)),Pe-=P,it=pm(Se,it*4);return Te.length===0?Wa(0):Tf(Te).slice(0,me.size)}function g(me,Ee,Se,Ce,Pe){var Te=D;if(me===D){if(Ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(me!==-1){var it=Se[me],bt=(Ce>>>2)-1;if(!it)return;for(var lt=0;lt<bt&&(Te=pm(it,lt*4))!==D;++lt)Pe.push(Te);g(pm(it,Ce-4),Ee-1,Se,Ce,Pe)}}function b(me,Ee,Se,Ce,Pe){var Te=[],it=[];Pe||(Pe=[]);var bt=Ce-1,lt=0,ct=0;for(lt=Ee;lt>=0;){Pe[lt]=!0,Te[Te.length]=lt,it.push(me[lt]);var mt=Se[Math.floor(lt*4/Ce)];if(ct=lt*4&bt,Ce<4+ct)throw new Error("FAT boundary crossed: "+lt+" 4 "+Ce);if(!me[mt])break;lt=pm(me[mt],ct)}return{nodes:Te,data:$z([it])}}function N(me,Ee,Se,Ce){var Pe=me.length,Te=[],it=[],bt=[],lt=[],ct=Ce-1,mt=0,de=0,Oe=0,We=0;for(mt=0;mt<Pe;++mt)if(bt=[],Oe=mt+Ee,Oe>=Pe&&(Oe-=Pe),!it[Oe]){lt=[];var ze=[];for(de=Oe;de>=0;){ze[de]=!0,it[de]=!0,bt[bt.length]=de,lt.push(me[de]);var Le=Se[Math.floor(de*4/Ce)];if(We=de*4&ct,Ce<4+We)throw new Error("FAT boundary crossed: "+de+" 4 "+Ce);if(!me[Le]||(de=pm(me[Le],We),ze[de]))break}Te[Oe]={nodes:bt,data:$z([lt])}}return Te}function w(me,Ee,Se,Ce,Pe,Te,it,bt){for(var lt=0,ct=Ce.length?2:0,mt=Ee[me].data,de=0,Oe=0,We;de<mt.length;de+=128){var ze=mt.slice(de,de+128);Ci(ze,64),Oe=ze.read_shift(2),We=_P(ze,0,Oe-ct),Ce.push(We);var Le={name:We,type:ze.read_shift(1),color:ze.read_shift(1),L:ze.read_shift(4,"i"),R:ze.read_shift(4,"i"),C:ze.read_shift(4,"i"),clsid:ze.read_shift(16),state:ze.read_shift(4,"i"),start:0,size:0},yt=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);yt!==0&&(Le.ct=A(ze,ze.l-8));var It=ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2)+ze.read_shift(2);It!==0&&(Le.mt=A(ze,ze.l-8)),Le.start=ze.read_shift(4,"i"),Le.size=ze.read_shift(4,"i"),Le.size<0&&Le.start<0&&(Le.size=Le.type=0,Le.start=D,Le.name=""),Le.type===5?(lt=Le.start,Pe>0&&lt!==D&&(Ee[lt].name="!StreamData")):Le.size>=4096?(Le.storage="fat",Ee[Le.start]===void 0&&(Ee[Le.start]=b(Se,Le.start,Ee.fat_addrs,Ee.ssz)),Ee[Le.start].name=Le.name,Le.content=Ee[Le.start].data.slice(0,Le.size)):(Le.storage="minifat",Le.size<0?Le.size=0:lt!==D&&Le.start!==D&&Ee[lt]&&(Le.content=v(Le,Ee[lt].data,(Ee[bt]||{}).data))),Le.content&&Ci(Le.content,0),Te[We]=Le,it.push(Le)}}function A(me,Ee){return new Date((Sl(me,Ee+4)/1e7*Math.pow(2,32)+Sl(me,Ee)/1e7-11644473600)*1e3)}function j(me,Ee){return d(),u(c.readFileSync(me),Ee)}function S(me,Ee){var Se=Ee&&Ee.type;switch(Se||yn&&Buffer.isBuffer(me)&&(Se="buffer"),Se||"base64"){case"file":return j(me,Ee);case"base64":return u(rd(Ll(me)),Ee);case"binary":return u(rd(me),Ee)}return u(me,Ee)}function E(me,Ee){var Se=Ee||{},Ce=Se.root||"Root Entry";if(me.FullPaths||(me.FullPaths=[]),me.FileIndex||(me.FileIndex=[]),me.FullPaths.length!==me.FileIndex.length)throw new Error("inconsistent CFB structure");me.FullPaths.length===0&&(me.FullPaths[0]=Ce+"/",me.FileIndex[0]={name:Ce,type:5}),Se.CLSID&&(me.FileIndex[0].clsid=Se.CLSID),R(me)}function R(me){var Ee="Sh33tJ5";if(!wn.find(me,"/"+Ee)){var Se=Wa(4);Se[0]=55,Se[1]=Se[3]=50,Se[2]=54,me.FileIndex.push({name:Ee,type:2,content:Se,size:4,L:69,R:69,C:69}),me.FullPaths.push(me.FullPaths[0]+Ee),C(me)}}function C(me,Ee){E(me);for(var Se=!1,Ce=!1,Pe=me.FullPaths.length-1;Pe>=0;--Pe){var Te=me.FileIndex[Pe];switch(Te.type){case 0:Ce?Se=!0:(me.FileIndex.pop(),me.FullPaths.pop());break;case 1:case 2:case 5:Ce=!0,isNaN(Te.R*Te.L*Te.C)&&(Se=!0),Te.R>-1&&Te.L>-1&&Te.R==Te.L&&(Se=!0);break;default:Se=!0;break}}if(!(!Se&&!Ee)){var it=new Date(1987,1,19),bt=0,lt=Object.create?Object.create(null):{},ct=[];for(Pe=0;Pe<me.FullPaths.length;++Pe)lt[me.FullPaths[Pe]]=!0,me.FileIndex[Pe].type!==0&&ct.push([me.FullPaths[Pe],me.FileIndex[Pe]]);for(Pe=0;Pe<ct.length;++Pe){var mt=s(ct[Pe][0]);Ce=lt[mt],Ce||(ct.push([mt,{name:a(mt).replace("/",""),type:1,clsid:z,ct:it,mt:it,content:null}]),lt[mt]=!0)}for(ct.sort(function(We,ze){return r(We[0],ze[0])}),me.FullPaths=[],me.FileIndex=[],Pe=0;Pe<ct.length;++Pe)me.FullPaths[Pe]=ct[Pe][0],me.FileIndex[Pe]=ct[Pe][1];for(Pe=0;Pe<ct.length;++Pe){var de=me.FileIndex[Pe],Oe=me.FullPaths[Pe];if(de.name=a(Oe).replace("/",""),de.L=de.R=de.C=-(de.color=1),de.size=de.content?de.content.length:0,de.start=0,de.clsid=de.clsid||z,Pe===0)de.C=ct.length>1?1:-1,de.size=0,de.type=5;else if(Oe.slice(-1)=="/"){for(bt=Pe+1;bt<ct.length&&s(me.FullPaths[bt])!=Oe;++bt);for(de.C=bt>=ct.length?-1:bt,bt=Pe+1;bt<ct.length&&s(me.FullPaths[bt])!=s(Oe);++bt);de.R=bt>=ct.length?-1:bt,de.type=1}else s(me.FullPaths[Pe+1]||"")==s(Oe)&&(de.R=Pe+1),de.type=2}}}function T(me,Ee){var Se=Ee||{};if(Se.fileType=="mad")return bn(me,Se);switch(C(me),Se.fileType){case"zip":return tt(me,Se)}var Ce=(function(We){for(var ze=0,Le=0,yt=0;yt<We.FileIndex.length;++yt){var It=We.FileIndex[yt];if(It.content){var Ft=It.content.length;Ft>0&&(Ft<4096?ze+=Ft+63>>6:Le+=Ft+511>>9)}}for(var Vt=We.FullPaths.length+3>>2,Nr=ze+7>>3,wr=ze+127>>7,lr=Nr+Le+Vt+wr,_r=lr+127>>7,rn=_r<=109?0:Math.ceil((_r-109)/127);lr+_r+rn+127>>7>_r;)rn=++_r<=109?0:Math.ceil((_r-109)/127);var Er=[1,rn,_r,wr,Vt,Le,ze,0];return We.FileIndex[0].size=ze<<6,Er[7]=(We.FileIndex[0].start=Er[0]+Er[1]+Er[2]+Er[3]+Er[4]+Er[5])+(Er[6]+7>>3),Er})(me),Pe=Wa(Ce[7]<<9),Te=0,it=0;{for(Te=0;Te<8;++Te)Pe.write_shift(1,F[Te]);for(Te=0;Te<8;++Te)Pe.write_shift(2,0);for(Pe.write_shift(2,62),Pe.write_shift(2,3),Pe.write_shift(2,65534),Pe.write_shift(2,9),Pe.write_shift(2,6),Te=0;Te<3;++Te)Pe.write_shift(2,0);for(Pe.write_shift(4,0),Pe.write_shift(4,Ce[2]),Pe.write_shift(4,Ce[0]+Ce[1]+Ce[2]+Ce[3]-1),Pe.write_shift(4,0),Pe.write_shift(4,4096),Pe.write_shift(4,Ce[3]?Ce[0]+Ce[1]+Ce[2]-1:D),Pe.write_shift(4,Ce[3]),Pe.write_shift(-4,Ce[1]?Ce[0]-1:D),Pe.write_shift(4,Ce[1]),Te=0;Te<109;++Te)Pe.write_shift(-4,Te<Ce[2]?Ce[1]+Te:-1)}if(Ce[1])for(it=0;it<Ce[1];++it){for(;Te<236+it*127;++Te)Pe.write_shift(-4,Te<Ce[2]?Ce[1]+Te:-1);Pe.write_shift(-4,it===Ce[1]-1?D:it+1)}var bt=function(We){for(it+=We;Te<it-1;++Te)Pe.write_shift(-4,Te+1);We&&(++Te,Pe.write_shift(-4,D))};for(it=Te=0,it+=Ce[1];Te<it;++Te)Pe.write_shift(-4,O.DIFSECT);for(it+=Ce[2];Te<it;++Te)Pe.write_shift(-4,O.FATSECT);bt(Ce[3]),bt(Ce[4]);for(var lt=0,ct=0,mt=me.FileIndex[0];lt<me.FileIndex.length;++lt)mt=me.FileIndex[lt],mt.content&&(ct=mt.content.length,!(ct<4096)&&(mt.start=it,bt(ct+511>>9)));for(bt(Ce[6]+7>>3);Pe.l&511;)Pe.write_shift(-4,O.ENDOFCHAIN);for(it=Te=0,lt=0;lt<me.FileIndex.length;++lt)mt=me.FileIndex[lt],mt.content&&(ct=mt.content.length,!(!ct||ct>=4096)&&(mt.start=it,bt(ct+63>>6)));for(;Pe.l&511;)Pe.write_shift(-4,O.ENDOFCHAIN);for(Te=0;Te<Ce[4]<<2;++Te){var de=me.FullPaths[Te];if(!de||de.length===0){for(lt=0;lt<17;++lt)Pe.write_shift(4,0);for(lt=0;lt<3;++lt)Pe.write_shift(4,-1);for(lt=0;lt<12;++lt)Pe.write_shift(4,0);continue}mt=me.FileIndex[Te],Te===0&&(mt.start=mt.size?mt.start-1:D);var Oe=Te===0&&Se.root||mt.name;if(ct=2*(Oe.length+1),Pe.write_shift(64,Oe,"utf16le"),Pe.write_shift(2,ct),Pe.write_shift(1,mt.type),Pe.write_shift(1,mt.color),Pe.write_shift(-4,mt.L),Pe.write_shift(-4,mt.R),Pe.write_shift(-4,mt.C),mt.clsid)Pe.write_shift(16,mt.clsid,"hex");else for(lt=0;lt<4;++lt)Pe.write_shift(4,0);Pe.write_shift(4,mt.state||0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,mt.start),Pe.write_shift(4,mt.size),Pe.write_shift(4,0)}for(Te=1;Te<me.FileIndex.length;++Te)if(mt=me.FileIndex[Te],mt.size>=4096)if(Pe.l=mt.start+1<<9,yn&&Buffer.isBuffer(mt.content))mt.content.copy(Pe,Pe.l,0,mt.size),Pe.l+=mt.size+511&-512;else{for(lt=0;lt<mt.size;++lt)Pe.write_shift(1,mt.content[lt]);for(;lt&511;++lt)Pe.write_shift(1,0)}for(Te=1;Te<me.FileIndex.length;++Te)if(mt=me.FileIndex[Te],mt.size>0&&mt.size<4096)if(yn&&Buffer.isBuffer(mt.content))mt.content.copy(Pe,Pe.l,0,mt.size),Pe.l+=mt.size+63&-64;else{for(lt=0;lt<mt.size;++lt)Pe.write_shift(1,mt.content[lt]);for(;lt&63;++lt)Pe.write_shift(1,0)}if(yn)Pe.l=Pe.length;else for(;Pe.l<Pe.length;)Pe.write_shift(1,0);return Pe}function k(me,Ee){var Se=me.FullPaths.map(function(lt){return lt.toUpperCase()}),Ce=Se.map(function(lt){var ct=lt.split("/");return ct[ct.length-(lt.slice(-1)=="/"?2:1)]}),Pe=!1;Ee.charCodeAt(0)===47?(Pe=!0,Ee=Se[0].slice(0,-1)+Ee):Pe=Ee.indexOf("/")!==-1;var Te=Ee.toUpperCase(),it=Pe===!0?Se.indexOf(Te):Ce.indexOf(Te);if(it!==-1)return me.FileIndex[it];var bt=!Te.match(sy);for(Te=Te.replace(Co,""),bt&&(Te=Te.replace(sy,"!")),it=0;it<Se.length;++it)if((bt?Se[it].replace(sy,"!"):Se[it]).replace(Co,"")==Te||(bt?Ce[it].replace(sy,"!"):Ce[it]).replace(Co,"")==Te)return me.FileIndex[it];return null}var P=64,D=-2,H="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",O={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function W(me,Ee,Se){d();var Ce=T(me,Se);c.writeFileSync(Ee,Ce)}function ee(me){for(var Ee=new Array(me.length),Se=0;Se<me.length;++Se)Ee[Se]=String.fromCharCode(me[Se]);return Ee.join("")}function K(me,Ee){var Se=T(me,Ee);switch(Ee&&Ee.type||"buffer"){case"file":return d(),c.writeFileSync(Ee.filename,Se),Se;case"binary":return typeof Se=="string"?Se:ee(Se);case"base64":return Sz(typeof Se=="string"?Se:ee(Se));case"buffer":if(yn)return Buffer.isBuffer(Se)?Se:mp(Se);case"array":return typeof Se=="string"?rd(Se):Se}return Se}var re;function U(me){try{var Ee=me.InflateRaw,Se=new Ee;if(Se._processChunk(new Uint8Array([3,0]),Se._finishFlushFlag),Se.bytesRead)re=me;else throw new Error("zlib does not expose bytesRead")}catch(Ce){console.error("cannot use native zlib: "+(Ce.message||Ce))}}function Y(me,Ee){if(!re)return Ge(me,Ee);var Se=re.InflateRaw,Ce=new Se,Pe=Ce._processChunk(me.slice(me.l),Ce._finishFlushFlag);return me.l+=Ce.bytesRead,Pe}function V(me){return re?re.deflateRawSync(me):At(me)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(me){var Ee=(me<<1|me<<11)&139536|(me<<5|me<<15)&558144;return(Ee>>16|Ee>>8|Ee)&255}for(var ge=typeof Uint8Array<"u",we=ge?new Uint8Array(256):[],Re=0;Re<256;++Re)we[Re]=ye(Re);function oe(me,Ee){var Se=we[me&255];return Ee<=8?Se>>>8-Ee:(Se=Se<<8|we[me>>8&255],Ee<=16?Se>>>16-Ee:(Se=Se<<8|we[me>>16&255],Se>>>24-Ee))}function ut(me,Ee){var Se=Ee&7,Ce=Ee>>>3;return(me[Ce]|(Se<=6?0:me[Ce+1]<<8))>>>Se&3}function se(me,Ee){var Se=Ee&7,Ce=Ee>>>3;return(me[Ce]|(Se<=5?0:me[Ce+1]<<8))>>>Se&7}function J(me,Ee){var Se=Ee&7,Ce=Ee>>>3;return(me[Ce]|(Se<=4?0:me[Ce+1]<<8))>>>Se&15}function ie(me,Ee){var Se=Ee&7,Ce=Ee>>>3;return(me[Ce]|(Se<=3?0:me[Ce+1]<<8))>>>Se&31}function Ae(me,Ee){var Se=Ee&7,Ce=Ee>>>3;return(me[Ce]|(Se<=1?0:me[Ce+1]<<8))>>>Se&127}function Fe(me,Ee,Se){var Ce=Ee&7,Pe=Ee>>>3,Te=(1<<Se)-1,it=me[Pe]>>>Ce;return Se<8-Ce||(it|=me[Pe+1]<<8-Ce,Se<16-Ce)||(it|=me[Pe+2]<<16-Ce,Se<24-Ce)||(it|=me[Pe+3]<<24-Ce),it&Te}function Ie(me,Ee,Se){var Ce=Ee&7,Pe=Ee>>>3;return Ce<=5?me[Pe]|=(Se&7)<<Ce:(me[Pe]|=Se<<Ce&255,me[Pe+1]=(Se&7)>>8-Ce),Ee+3}function $e(me,Ee,Se){var Ce=Ee&7,Pe=Ee>>>3;return Se=(Se&1)<<Ce,me[Pe]|=Se,Ee+1}function le(me,Ee,Se){var Ce=Ee&7,Pe=Ee>>>3;return Se<<=Ce,me[Pe]|=Se&255,Se>>>=8,me[Pe+1]=Se,Ee+8}function ae(me,Ee,Se){var Ce=Ee&7,Pe=Ee>>>3;return Se<<=Ce,me[Pe]|=Se&255,Se>>>=8,me[Pe+1]=Se&255,me[Pe+2]=Se>>>8,Ee+16}function _e(me,Ee){var Se=me.length,Ce=2*Se>Ee?2*Se:Ee+5,Pe=0;if(Se>=Ee)return me;if(yn){var Te=_z(Ce);if(me.copy)me.copy(Te);else for(;Pe<me.length;++Pe)Te[Pe]=me[Pe];return Te}else if(ge){var it=new Uint8Array(Ce);if(it.set)it.set(me);else for(;Pe<Se;++Pe)it[Pe]=me[Pe];return it}return me.length=Ce,me}function qe(me){for(var Ee=new Array(me),Se=0;Se<me;++Se)Ee[Se]=0;return Ee}function Ke(me,Ee,Se){var Ce=1,Pe=0,Te=0,it=0,bt=0,lt=me.length,ct=ge?new Uint16Array(32):qe(32);for(Te=0;Te<32;++Te)ct[Te]=0;for(Te=lt;Te<Se;++Te)me[Te]=0;lt=me.length;var mt=ge?new Uint16Array(lt):qe(lt);for(Te=0;Te<lt;++Te)ct[Pe=me[Te]]++,Ce<Pe&&(Ce=Pe),mt[Te]=0;for(ct[0]=0,Te=1;Te<=Ce;++Te)ct[Te+16]=bt=bt+ct[Te-1]<<1;for(Te=0;Te<lt;++Te)bt=me[Te],bt!=0&&(mt[Te]=ct[bt+16]++);var de=0;for(Te=0;Te<lt;++Te)if(de=me[Te],de!=0)for(bt=oe(mt[Te],Ce)>>Ce-de,it=(1<<Ce+4-de)-1;it>=0;--it)Ee[bt|it<<de]=de&15|Te<<4;return Ce}var et=ge?new Uint16Array(512):qe(512),Tt=ge?new Uint16Array(32):qe(32);if(!ge){for(var ft=0;ft<512;++ft)et[ft]=0;for(ft=0;ft<32;++ft)Tt[ft]=0}(function(){for(var me=[],Ee=0;Ee<32;Ee++)me.push(5);Ke(me,Tt,32);var Se=[];for(Ee=0;Ee<=143;Ee++)Se.push(8);for(;Ee<=255;Ee++)Se.push(9);for(;Ee<=279;Ee++)Se.push(7);for(;Ee<=287;Ee++)Se.push(8);Ke(Se,et,288)})();var gt=(function(){for(var Ee=ge?new Uint8Array(32768):[],Se=0,Ce=0;Se<fe.length-1;++Se)for(;Ce<fe[Se+1];++Ce)Ee[Ce]=Se;for(;Ce<32768;++Ce)Ee[Ce]=29;var Pe=ge?new Uint8Array(259):[];for(Se=0,Ce=0;Se<ce.length-1;++Se)for(;Ce<ce[Se+1];++Ce)Pe[Ce]=Se;function Te(bt,lt){for(var ct=0;ct<bt.length;){var mt=Math.min(65535,bt.length-ct),de=ct+mt==bt.length;for(lt.write_shift(1,+de),lt.write_shift(2,mt),lt.write_shift(2,~mt&65535);mt-- >0;)lt[lt.l++]=bt[ct++]}return lt.l}function it(bt,lt){for(var ct=0,mt=0,de=ge?new Uint16Array(32768):[];mt<bt.length;){var Oe=Math.min(65535,bt.length-mt);if(Oe<10){for(ct=Ie(lt,ct,+(mt+Oe==bt.length)),ct&7&&(ct+=8-(ct&7)),lt.l=ct/8|0,lt.write_shift(2,Oe),lt.write_shift(2,~Oe&65535);Oe-- >0;)lt[lt.l++]=bt[mt++];ct=lt.l*8;continue}ct=Ie(lt,ct,+(mt+Oe==bt.length)+2);for(var We=0;Oe-- >0;){var ze=bt[mt];We=(We<<5^ze)&32767;var Le=-1,yt=0;if((Le=de[We])&&(Le|=mt&-32768,Le>mt&&(Le-=32768),Le<mt))for(;bt[Le+yt]==bt[mt+yt]&&yt<250;)++yt;if(yt>2){ze=Pe[yt],ze<=22?ct=le(lt,ct,we[ze+1]>>1)-1:(le(lt,ct,3),ct+=5,le(lt,ct,we[ze-23]>>5),ct+=3);var It=ze<8?0:ze-4>>2;It>0&&(ae(lt,ct,yt-ce[ze]),ct+=It),ze=Ee[mt-Le],ct=le(lt,ct,we[ze]>>3),ct-=3;var Ft=ze<4?0:ze-2>>1;Ft>0&&(ae(lt,ct,mt-Le-fe[ze]),ct+=Ft);for(var Vt=0;Vt<yt;++Vt)de[We]=mt&32767,We=(We<<5^bt[mt])&32767,++mt;Oe-=yt-1}else ze<=143?ze=ze+48:ct=$e(lt,ct,1),ct=le(lt,ct,we[ze]),de[We]=mt&32767,++mt}ct=le(lt,ct,0)-1}return lt.l=(ct+7)/8|0,lt.l}return function(lt,ct){return lt.length<8?Te(lt,ct):it(lt,ct)}})();function At(me){var Ee=Wa(50+Math.floor(me.length*1.1)),Se=gt(me,Ee);return Ee.slice(0,Se)}var rt=ge?new Uint16Array(32768):qe(32768),Dt=ge?new Uint16Array(32768):qe(32768),Rt=ge?new Uint16Array(128):qe(128),$t=1,Lt=1;function or(me,Ee){var Se=ie(me,Ee)+257;Ee+=5;var Ce=ie(me,Ee)+1;Ee+=5;var Pe=J(me,Ee)+4;Ee+=4;for(var Te=0,it=ge?new Uint8Array(19):qe(19),bt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],lt=1,ct=ge?new Uint8Array(8):qe(8),mt=ge?new Uint8Array(8):qe(8),de=it.length,Oe=0;Oe<Pe;++Oe)it[Z[Oe]]=Te=se(me,Ee),lt<Te&&(lt=Te),ct[Te]++,Ee+=3;var We=0;for(ct[0]=0,Oe=1;Oe<=lt;++Oe)mt[Oe]=We=We+ct[Oe-1]<<1;for(Oe=0;Oe<de;++Oe)(We=it[Oe])!=0&&(bt[Oe]=mt[We]++);var ze=0;for(Oe=0;Oe<de;++Oe)if(ze=it[Oe],ze!=0){We=we[bt[Oe]]>>8-ze;for(var Le=(1<<7-ze)-1;Le>=0;--Le)Rt[We|Le<<ze]=ze&7|Oe<<3}var yt=[];for(lt=1;yt.length<Se+Ce;)switch(We=Rt[Ae(me,Ee)],Ee+=We&7,We>>>=3){case 16:for(Te=3+ut(me,Ee),Ee+=2,We=yt[yt.length-1];Te-- >0;)yt.push(We);break;case 17:for(Te=3+se(me,Ee),Ee+=3;Te-- >0;)yt.push(0);break;case 18:for(Te=11+Ae(me,Ee),Ee+=7;Te-- >0;)yt.push(0);break;default:yt.push(We),lt<We&&(lt=We);break}var It=yt.slice(0,Se),Ft=yt.slice(Se);for(Oe=Se;Oe<286;++Oe)It[Oe]=0;for(Oe=Ce;Oe<30;++Oe)Ft[Oe]=0;return $t=Ke(It,rt,286),Lt=Ke(Ft,Dt,30),Ee}function Bt(me,Ee){if(me[0]==3&&!(me[1]&3))return[t0(Ee),2];for(var Se=0,Ce=0,Pe=_z(Ee||1<<18),Te=0,it=Pe.length>>>0,bt=0,lt=0;(Ce&1)==0;){if(Ce=se(me,Se),Se+=3,Ce>>>1)Ce>>1==1?(bt=9,lt=5):(Se=or(me,Se),bt=$t,lt=Lt);else{Se&7&&(Se+=8-(Se&7));var ct=me[Se>>>3]|me[(Se>>>3)+1]<<8;if(Se+=32,ct>0)for(!Ee&&it<Te+ct&&(Pe=_e(Pe,Te+ct),it=Pe.length);ct-- >0;)Pe[Te++]=me[Se>>>3],Se+=8;continue}for(;;){!Ee&&it<Te+32767&&(Pe=_e(Pe,Te+32767),it=Pe.length);var mt=Fe(me,Se,bt),de=Ce>>>1==1?et[mt]:rt[mt];if(Se+=de&15,de>>>=4,(de>>>8&255)===0)Pe[Te++]=de;else{if(de==256)break;de-=257;var Oe=de<8?0:de-4>>2;Oe>5&&(Oe=0);var We=Te+ce[de];Oe>0&&(We+=Fe(me,Se,Oe),Se+=Oe),mt=Fe(me,Se,lt),de=Ce>>>1==1?Tt[mt]:Dt[mt],Se+=de&15,de>>>=4;var ze=de<4?0:de-2>>1,Le=fe[de];for(ze>0&&(Le+=Fe(me,Se,ze),Se+=ze),!Ee&&it<We&&(Pe=_e(Pe,We+100),it=Pe.length);Te<We;)Pe[Te]=Pe[Te-Le],++Te}}}return Ee?[Pe,Se+7>>>3]:[Pe.slice(0,Te),Se+7>>>3]}function Ge(me,Ee){var Se=me.slice(me.l||0),Ce=Bt(Se,Ee);return me.l+=Ce[1],Ce[0]}function Ne(me,Ee){if(me)typeof console<"u"&&console.error(Ee);else throw new Error(Ee)}function Qe(me,Ee){var Se=me;Ci(Se,0);var Ce=[],Pe=[],Te={FileIndex:Ce,FullPaths:Pe};E(Te,{root:Ee.root});for(var it=Se.length-4;(Se[it]!=80||Se[it+1]!=75||Se[it+2]!=5||Se[it+3]!=6)&&it>=0;)--it;Se.l=it+4,Se.l+=4;var bt=Se.read_shift(2);Se.l+=6;var lt=Se.read_shift(4);for(Se.l=lt,it=0;it<bt;++it){Se.l+=20;var ct=Se.read_shift(4),mt=Se.read_shift(4),de=Se.read_shift(2),Oe=Se.read_shift(2),We=Se.read_shift(2);Se.l+=8;var ze=Se.read_shift(4),Le=l(Se.slice(Se.l+de,Se.l+de+Oe));Se.l+=de+Oe+We;var yt=Se.l;Se.l=ze+4,Ve(Se,ct,mt,Te,Le),Se.l=yt}return Te}function Ve(me,Ee,Se,Ce,Pe){me.l+=2;var Te=me.read_shift(2),it=me.read_shift(2),bt=o(me);if(Te&8257)throw new Error("Unsupported ZIP encryption");for(var lt=me.read_shift(4),ct=me.read_shift(4),mt=me.read_shift(4),de=me.read_shift(2),Oe=me.read_shift(2),We="",ze=0;ze<de;++ze)We+=String.fromCharCode(me[me.l++]);if(Oe){var Le=l(me.slice(me.l,me.l+Oe));(Le[21589]||{}).mt&&(bt=Le[21589].mt),((Pe||{})[21589]||{}).mt&&(bt=Pe[21589].mt)}me.l+=Oe;var yt=me.slice(me.l,me.l+ct);switch(it){case 8:yt=Y(me,mt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+it)}var It=!1;Te&8&&(lt=me.read_shift(4),lt==134695760&&(lt=me.read_shift(4),It=!0),ct=me.read_shift(4),mt=me.read_shift(4)),ct!=Ee&&Ne(It,"Bad compressed size: "+Ee+" != "+ct),mt!=Se&&Ne(It,"Bad uncompressed size: "+Se+" != "+mt),Fn(Ce,We,yt,{unsafe:!0,mt:bt})}function tt(me,Ee){var Se=Ee||{},Ce=[],Pe=[],Te=Wa(1),it=Se.compression?8:0,bt=0,lt=0,ct=0,mt=0,de=0,Oe=me.FullPaths[0],We=Oe,ze=me.FileIndex[0],Le=[],yt=0;for(lt=1;lt<me.FullPaths.length;++lt)if(We=me.FullPaths[lt].slice(Oe.length),ze=me.FileIndex[lt],!(!ze.size||!ze.content||We=="Sh33tJ5")){var It=mt,Ft=Wa(We.length);for(ct=0;ct<We.length;++ct)Ft.write_shift(1,We.charCodeAt(ct)&127);Ft=Ft.slice(0,Ft.l),Le[de]=UEe.buf(ze.content,0);var Vt=ze.content;it==8&&(Vt=V(Vt)),Te=Wa(30),Te.write_shift(4,67324752),Te.write_shift(2,20),Te.write_shift(2,bt),Te.write_shift(2,it),ze.mt?i(Te,ze.mt):Te.write_shift(4,0),Te.write_shift(-4,Le[de]),Te.write_shift(4,Vt.length),Te.write_shift(4,ze.content.length),Te.write_shift(2,Ft.length),Te.write_shift(2,0),mt+=Te.length,Ce.push(Te),mt+=Ft.length,Ce.push(Ft),mt+=Vt.length,Ce.push(Vt),Te=Wa(46),Te.write_shift(4,33639248),Te.write_shift(2,0),Te.write_shift(2,20),Te.write_shift(2,bt),Te.write_shift(2,it),Te.write_shift(4,0),Te.write_shift(-4,Le[de]),Te.write_shift(4,Vt.length),Te.write_shift(4,ze.content.length),Te.write_shift(2,Ft.length),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(4,0),Te.write_shift(4,It),yt+=Te.l,Pe.push(Te),yt+=Ft.length,Pe.push(Ft),++de}return Te=Wa(22),Te.write_shift(4,101010256),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,de),Te.write_shift(2,de),Te.write_shift(4,yt),Te.write_shift(4,mt),Te.write_shift(2,0),Tf([Tf(Ce),Tf(Pe),Te])}var at={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Nt(me,Ee){if(me.ctype)return me.ctype;var Se=me.name||"",Ce=Se.match(/\.([^\.]+)$/);return Ce&&at[Ce[1]]||Ee&&(Ce=(Se=Ee).match(/[\.\\]([^\.\\])+$/),Ce&&at[Ce[1]])?at[Ce[1]]:"application/octet-stream"}function qt(me){for(var Ee=Sz(me),Se=[],Ce=0;Ce<Ee.length;Ce+=76)Se.push(Ee.slice(Ce,Ce+76));return Se.join(`\r
`)+`\r
`}function Ht(me){var Ee=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ct){var mt=ct.charCodeAt(0).toString(16).toUpperCase();return"="+(mt.length==1?"0"+mt:mt)});Ee=Ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ee.charAt(0)==`
`&&(Ee="=0D"+Ee.slice(1)),Ee=Ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Se=[],Ce=Ee.split(`\r
`),Pe=0;Pe<Ce.length;++Pe){var Te=Ce[Pe];if(Te.length==0){Se.push("");continue}for(var it=0;it<Te.length;){var bt=76,lt=Te.slice(it,it+bt);lt.charAt(bt-1)=="="?bt--:lt.charAt(bt-2)=="="?bt-=2:lt.charAt(bt-3)=="="&&(bt-=3),lt=Te.slice(it,it+bt),it+=bt,it<Te.length&&(lt+="="),Se.push(lt)}}return Se.join(`\r
`)}function Ar(me){for(var Ee=[],Se=0;Se<me.length;++Se){for(var Ce=me[Se];Se<=me.length&&Ce.charAt(Ce.length-1)=="=";)Ce=Ce.slice(0,Ce.length-1)+me[++Se];Ee.push(Ce)}for(var Pe=0;Pe<Ee.length;++Pe)Ee[Pe]=Ee[Pe].replace(/[=][0-9A-Fa-f]{2}/g,function(Te){return String.fromCharCode(parseInt(Te.slice(1),16))});return rd(Ee.join(`\r
`))}function Jt(me,Ee,Se){for(var Ce="",Pe="",Te="",it,bt=0;bt<10;++bt){var lt=Ee[bt];if(!lt||lt.match(/^\s*$/))break;var ct=lt.match(/^(.*?):\s*([^\s].*)$/);if(ct)switch(ct[1].toLowerCase()){case"content-location":Ce=ct[2].trim();break;case"content-type":Te=ct[2].trim();break;case"content-transfer-encoding":Pe=ct[2].trim();break}}switch(++bt,Pe.toLowerCase()){case"base64":it=rd(Ll(Ee.slice(bt).join("")));break;case"quoted-printable":it=Ar(Ee.slice(bt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Pe)}var mt=Fn(me,Ce.slice(Se.length),it,{unsafe:!0});Te&&(mt.ctype=Te)}function er(me,Ee){if(ee(me.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Se=Ee&&Ee.root||"",Ce=(yn&&Buffer.isBuffer(me)?me.toString("binary"):ee(me)).split(`\r
`),Pe=0,Te="";for(Pe=0;Pe<Ce.length;++Pe)if(Te=Ce[Pe],!!/^Content-Location:/i.test(Te)&&(Te=Te.slice(Te.indexOf("file")),Se||(Se=Te.slice(0,Te.lastIndexOf("/")+1)),Te.slice(0,Se.length)!=Se))for(;Se.length>0&&(Se=Se.slice(0,Se.length-1),Se=Se.slice(0,Se.lastIndexOf("/")+1),Te.slice(0,Se.length)!=Se););var it=(Ce[1]||"").match(/boundary="(.*?)"/);if(!it)throw new Error("MAD cannot find boundary");var bt="--"+(it[1]||""),lt=[],ct=[],mt={FileIndex:lt,FullPaths:ct};E(mt);var de,Oe=0;for(Pe=0;Pe<Ce.length;++Pe){var We=Ce[Pe];We!==bt&&We!==bt+"--"||(Oe++&&Jt(mt,Ce.slice(de,Pe),Se),de=Pe)}return mt}function bn(me,Ee){var Se=Ee||{},Ce=Se.boundary||"SheetJS";Ce="------="+Ce;for(var Pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ce.slice(2)+'"',"","",""],Te=me.FullPaths[0],it=Te,bt=me.FileIndex[0],lt=1;lt<me.FullPaths.length;++lt)if(it=me.FullPaths[lt].slice(Te.length),bt=me.FileIndex[lt],!(!bt.size||!bt.content||it=="Sh33tJ5")){it=it.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yt){return"_x"+yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yt){return"_u"+yt.charCodeAt(0).toString(16)+"_"});for(var ct=bt.content,mt=yn&&Buffer.isBuffer(ct)?ct.toString("binary"):ee(ct),de=0,Oe=Math.min(1024,mt.length),We=0,ze=0;ze<=Oe;++ze)(We=mt.charCodeAt(ze))>=32&&We<128&&++de;var Le=de>=Oe*4/5;Pe.push(Ce),Pe.push("Content-Location: "+(Se.root||"file:///C:/SheetJS/")+it),Pe.push("Content-Transfer-Encoding: "+(Le?"quoted-printable":"base64")),Pe.push("Content-Type: "+Nt(bt,it)),Pe.push(""),Pe.push(Le?Ht(mt):qt(mt))}return Pe.push(Ce+`--\r
`),Pe.join(`\r
`)}function js(me){var Ee={};return E(Ee,me),Ee}function Fn(me,Ee,Se,Ce){var Pe=Ce&&Ce.unsafe;Pe||E(me);var Te=!Pe&&wn.find(me,Ee);if(!Te){var it=me.FullPaths[0];Ee.slice(0,it.length)==it?it=Ee:(it.slice(-1)!="/"&&(it+="/"),it=(it+Ee).replace("//","/")),Te={name:a(Ee),type:2},me.FileIndex.push(Te),me.FullPaths.push(it),Pe||wn.utils.cfb_gc(me)}return Te.content=Se,Te.size=Se?Se.length:0,Ce&&(Ce.CLSID&&(Te.clsid=Ce.CLSID),Ce.mt&&(Te.mt=Ce.mt),Ce.ct&&(Te.ct=Ce.ct)),Te}function ss(me,Ee){E(me);var Se=wn.find(me,Ee);if(Se){for(var Ce=0;Ce<me.FileIndex.length;++Ce)if(me.FileIndex[Ce]==Se)return me.FileIndex.splice(Ce,1),me.FullPaths.splice(Ce,1),!0}return!1}function sn(me,Ee,Se){E(me);var Ce=wn.find(me,Ee);if(Ce){for(var Pe=0;Pe<me.FileIndex.length;++Pe)if(me.FileIndex[Pe]==Ce)return me.FileIndex[Pe].name=a(Se),me.FullPaths[Pe]=Se,!0}return!1}function Bn(me){C(me,!0)}return e.find=k,e.read=S,e.parse=u,e.write=K,e.writeFile=W,e.utils={cfb_new:js,cfb_add:Fn,cfb_del:ss,cfb_mov:sn,cfb_gc:Bn,ReadShift:Ay,CheckField:hJ,prep_blob:Ci,bconcat:Tf,use_zlib:U,_deflateRaw:At,_inflateRaw:Ge,consts:O},e})();function zEe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(s){if(!s.message||!s.message.match(/onstruct/))throw s}throw new Error("Cannot access file "+t)}function hu(t){for(var e=Object.keys(t),r=[],s=0;s<e.length;++s)Object.prototype.hasOwnProperty.call(t,e[s])&&r.push(e[s]);return r}function wP(t){for(var e=[],r=hu(t),s=0;s!==r.length;++s)e[t[r[s]]]=r[s];return e}var vN=new Date(1899,11,30,0,0,0);function Eo(t,e){var r=t.getTime(),s=vN.getTime()+(t.getTimezoneOffset()-vN.getTimezoneOffset())*6e4;return(r-s)/(1440*60*1e3)}var qK=new Date,$Ee=vN.getTime()+(qK.getTimezoneOffset()-vN.getTimezoneOffset())*6e4,Dz=qK.getTimezoneOffset();function L5(t){var e=new Date;return e.setTime(t*24*60*60*1e3+$Ee),e.getTimezoneOffset()!==Dz&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Dz)*6e4),e}function HEe(t){var e=0,r=0,s=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(s=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(s)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[i],10)}return e}var Rz=new Date("2017-02-19T19:06:09.000Z"),GK=isNaN(Rz.getFullYear())?new Date("2/19/17"):Rz,WEe=GK.getFullYear()==2017;function fi(t,e){var r=new Date(t);if(WEe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(GK.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return t.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Zm(t,e){if(yn&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return iy(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return iy(PK(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return iy(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return iy(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=t.length;++a)s.push(String.fromCharCode(t[a]));return s.join("")}function ki(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ki(t[r]));return e}function da(t,e){for(var r="";r.length<e;)r+=t;return r}function ud(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,s=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(s)))?e/r:e}var qEe=["january","february","march","april","may","june","july","august","september","october","november","december"];function _g(t){var e=new Date(t),r=new Date(NaN),s=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&qEe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var GEe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,s,a){if(t||typeof s=="string")return r.split(s);for(var i=r.split(s),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}})();function VK(t){return t?t.content&&t.type?Zm(t.content,!0):t.data?ny(t.data):t.asNodeBuffer&&yn?ny(t.asNodeBuffer().toString("binary")):t.asBinary?ny(t.asBinary()):t._data&&t._data.getContent?ny(Zm(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function XK(t){if(!t)return null;if(t.data)return jz(t.data);if(t.asNodeBuffer&&yn)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?jz(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function VEe(t){return t&&t.name.slice(-4)===".bin"?XK(t):VK(t)}function oc(t,e){for(var r=t.FullPaths||hu(t.files),s=e.toLowerCase().replace(/[\/]/g,"\\"),a=s.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(s==o||a==o)return t.files?t.files[r[i]]:t.FileIndex[i]}return null}function jP(t,e){var r=oc(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Pa(t,e,r){if(!r)return VEe(jP(t,e));if(!e)return null;try{return Pa(t,e)}catch{return null}}function Al(t,e,r){if(!r)return VK(jP(t,e));if(!e)return null;try{return Al(t,e)}catch{return null}}function XEe(t,e,r){return XK(jP(t,e))}function Lz(t){for(var e=t.FullPaths||hu(t.files),r=[],s=0;s<e.length;++s)e[s].slice(-1)!="/"&&r.push(e[s].replace(/^Root Entry[\/]/,""));return r.sort()}function YEe(t,e,r){if(t.FullPaths){if(typeof r=="string"){var s;return yn?s=mp(r):s=mEe(r),wn.utils.cfb_add(t,e,s)}wn.utils.cfb_add(t,e,r)}else t.file(e,r)}function YK(t,e){switch(e.type){case"base64":return wn.read(t,{type:"base64"});case"binary":return wn.read(t,{type:"binary"});case"buffer":case"array":return wn.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function ay(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var s=t.split("/");s.length!==0;){var a=s.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var KK=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,KEe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Oz=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,JEe=/<[^>]*>/g,uo=KK.match(Oz)?Oz:JEe,QEe=/<\w*:/,ZEe=/<(\/?)\w+:/;function Fr(t,e,r){for(var s={},a=0,i=0;a!==t.length&&!((i=t.charCodeAt(a))===32||i===10||i===13);++a);if(e||(s[0]=t.slice(0,a)),a===t.length)return s;var o=t.match(KEe),l=0,c="",d=0,u="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(u=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(a=h.charCodeAt(i+1))==34||a==39?1:0,c=h.slice(i+1+m,h.length-m),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),s[u]=c,s[u.toLowerCase()]=c;else{var f=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(s[f]&&u.slice(l-3,l)=="ext")continue;s[f]=c,s[f.toLowerCase()]=c}}return s}function xu(t){return t.replace(ZEe,"<$1")}var JK={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},eTe=wP(JK),An=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(s){var a=s+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(t,function(l,c){return JK[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}})(),tTe=/[&<>'"]/g,rTe=/[\u0000-\u001f]/g;function NP(t){var e=t+"";return e.replace(tTe,function(r){return eTe[r]}).replace(/\n/g,"<br/>").replace(rTe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var Iz=(function(){var t=/&#(\d+);/g;function e(r,s){return String.fromCharCode(parseInt(s,10))}return function(s){return s.replace(t,e)}})();function Gs(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function qC(t){for(var e="",r=0,s=0,a=0,i=0,o=0,l=0;r<t.length;){if(s=t.charCodeAt(r++),s<128){e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),s<240){e+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=t.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function Fz(t){var e=t0(2*t.length),r,s,a=1,i=0,o=0,l;for(s=0;s<t.length;s+=a)a=1,(l=t.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(t.charCodeAt(s+1)&63)*64+(t.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(t.charCodeAt(s+1)&63)*4096+(t.charCodeAt(s+2)&63)*64+(t.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function Bz(t){return mp(t,"binary").toString("utf8")}var aw="foo bar baz",Ms=yn&&(Bz(aw)==qC(aw)&&Bz||Fz(aw)==qC(aw)&&Fz)||qC,iy=yn?function(t){return mp(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,s=0,a=0;r<t.length;)switch(s=t.charCodeAt(r++),!0){case s<128:e.push(String.fromCharCode(s));break;case s<2048:e.push(String.fromCharCode(192+(s>>6))),e.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=t.charCodeAt(r++)-56320+(s<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(s>>12))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)))}return e.join("")},Db=(function(){var t={};return function(r,s){var a=r+"|"+(s||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",s||"")}})(),QK=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)s=s.replace(t[a][0],t[a][1]);return s}})(),nTe=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),sTe=/<\/?(?:vt:)?variant>/g,aTe=/<(?:vt:)([^>]*)>([\s\S]*)</;function Uz(t,e){var r=Fr(t),s=t.match(nTe(r.baseType))||[],a=[];if(s.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+s.length+" != "+r.size);return a}return s.forEach(function(i){var o=i.replace(sTe,"").match(aTe);o&&a.push({v:Ms(o[2]),t:o[1]})}),a}var iTe=/(^\s|\s$|\n)/;function oTe(t){return hu(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function lTe(t,e,r){return"<"+t+(r!=null?oTe(r):"")+(e!=null?(e.match(iTe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function SP(t){if(yn&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Ms(pp(vP(t)));throw new Error("Bad input format: expected Buffer or string")}var Rb=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,cTe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},dTe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function uTe(t,e){for(var r=1-2*(t[e+7]>>>7),s=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function hTe(t,e,r){var s=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,o=s?-e:e;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)t[r+l]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|s}var zz=function(t){for(var e=[],r=10240,s=0;s<t[0].length;++s)if(t[0][s])for(var a=0,i=t[0][s].length;a<i;a+=r)e.push.apply(e,t[0][s].slice(a,a+r));return e},$z=yn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:mp(e)})):zz(t)}:zz,Hz=function(t,e,r){for(var s=[],a=e;a<r;a+=2)s.push(String.fromCharCode(gh(t,a)));return s.join("").replace(Co,"")},_P=yn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Co,""):Hz(t,e,r)}:Hz,Wz=function(t,e,r){for(var s=[],a=e;a<e+r;++a)s.push(("0"+t[a].toString(16)).slice(-2));return s.join("")},ZK=yn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Wz(t,e,r)}:Wz,qz=function(t,e,r){for(var s=[],a=e;a<r;a++)s.push(String.fromCharCode(xx(t,a)));return s.join("")},j1=yn?function(e,r,s){return Buffer.isBuffer(e)?e.toString("utf8",r,s):qz(e,r,s)}:qz,eJ=function(t,e){var r=Sl(t,e);return r>0?j1(t,e+4,e+4+r-1):""},tJ=eJ,rJ=function(t,e){var r=Sl(t,e);return r>0?j1(t,e+4,e+4+r-1):""},nJ=rJ,sJ=function(t,e){var r=2*Sl(t,e);return r>0?j1(t,e+4,e+4+r-1):""},aJ=sJ,iJ=function(e,r){var s=Sl(e,r);return s>0?_P(e,r+4,r+4+s):""},oJ=iJ,lJ=function(t,e){var r=Sl(t,e);return r>0?j1(t,e+4,e+4+r):""},cJ=lJ,dJ=function(t,e){return uTe(t,e)},yN=dJ,uJ=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};yn&&(tJ=function(e,r){if(!Buffer.isBuffer(e))return eJ(e,r);var s=e.readUInt32LE(r);return s>0?e.toString("utf8",r+4,r+4+s-1):""},nJ=function(e,r){if(!Buffer.isBuffer(e))return rJ(e,r);var s=e.readUInt32LE(r);return s>0?e.toString("utf8",r+4,r+4+s-1):""},aJ=function(e,r){if(!Buffer.isBuffer(e))return sJ(e,r);var s=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+s-1)},oJ=function(e,r){if(!Buffer.isBuffer(e))return iJ(e,r);var s=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+s)},cJ=function(e,r){if(!Buffer.isBuffer(e))return lJ(e,r);var s=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+s)},yN=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):dJ(e,r)},uJ=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var xx=function(t,e){return t[e]},gh=function(t,e){return t[e+1]*256+t[e]},fTe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Sl=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},pm=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},mTe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Ay(t,e){var r="",s,a,i=[],o,l,c,d;switch(e){case"dbcs":if(d=this.l,yn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(gh(this,d)),d+=2;t*=2;break;case"utf8":r=j1(this,this.l,this.l+t);break;case"utf16le":t*=2,r=_P(this,this.l,this.l+t);break;case"wstr":return Ay.call(this,t,"dbcs");case"lpstr-ansi":r=tJ(this,this.l),t=4+Sl(this,this.l);break;case"lpstr-cp":r=nJ(this,this.l),t=4+Sl(this,this.l);break;case"lpwstr":r=aJ(this,this.l),t=4+2*Sl(this,this.l);break;case"lpp4":t=4+Sl(this,this.l),r=oJ(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Sl(this,this.l),r=cJ(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=xx(this,this.l+t++))!==0;)i.push(sw(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=gh(this,this.l+t))!==0;)i.push(sw(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=xx(this,d),this.l=d+1,l=Ay.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(sw(gh(this,d))),d+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=xx(this,d),this.l=d+1,l=Ay.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(sw(xx(this,d))),d+=1}r=i.join("");break;default:switch(t){case 1:return s=xx(this,this.l),this.l++,s;case 2:return s=(e==="i"?fTe:gh)(this,this.l),this.l+=2,s;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(s=(t>0?pm:mTe)(this,this.l),this.l+=4,s):(a=Sl(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=yN(this,this.l):a=yN([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=ZK(this,this.l,t);break}}return this.l+=t,r}var pTe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},xTe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},gTe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function vTe(t,e,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)gTe(this,e.charCodeAt(a),this.l+2*a);s=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;s=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var o=e.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:s=1,this[this.l]=e&255;break;case 2:s=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:s=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:s=4,pTe(this,e,this.l);break;case 8:if(s=8,r==="f"){hTe(this,e,this.l);break}case 16:break;case-4:s=4,xTe(this,e,this.l);break}return this.l+=s,this}function hJ(t,e){var r=ZK(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ci(t,e){t.l=e,t.read_shift=Ay,t.chk=hJ,t.write_shift=vTe}function lo(t,e){t.l+=e}function Wa(t){var e=t0(t);return Ci(e,0),e}function Oh(t,e,r){if(t){var s,a,i;Ci(t,t.l||0);for(var o=t.length,l=0,c=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var d=_N[l]||_N[65535];for(s=t.read_shift(1),i=s&127,a=1;a<4&&s&128;++a)i+=((s=t.read_shift(1))&127)<<7*a;c=t.l+i;var u=d.f&&d.f(t,i,r);if(t.l=c,e(u,d,l))return}}}function ZE(){var t=[],e=yn?256:2048,r=function(d){var u=Wa(d);return Ci(u,0),u},s=r(e),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&t.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,e)))},o=function(){return a(),Tf(t)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(e)};return{next:i,push:l,end:o,_bufs:t}}function Cy(t,e,r){var s=ki(t);if(e.s?(s.cRel&&(s.c+=e.s.c),s.rRel&&(s.r+=e.s.r)):(s.cRel&&(s.c+=e.c),s.rRel&&(s.r+=e.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function Gz(t,e,r){var s=ki(t);return s.s=Cy(s.s,e.s,r),s.e=Cy(s.e,e.s,r),s}function ky(t,e){if(t.cRel&&t.c<0)for(t=ki(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ki(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Xr(t);return!t.cRel&&t.cRel!=null&&(r=wTe(r)),!t.rRel&&t.rRel!=null&&(r=yTe(r)),r}function GC(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ya(t.s.c)+":"+(t.e.cRel?"":"$")+Ya(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ei(t.s.r)+":"+(t.e.rRel?"":"$")+Ei(t.e.r):ky(t.s,e.biff)+":"+ky(t.e,e.biff)}function AP(t){return parseInt(bTe(t),10)-1}function Ei(t){return""+(t+1)}function yTe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bTe(t){return t.replace(/\$(\d+)$/,"$1")}function CP(t){for(var e=jTe(t),r=0,s=0;s!==e.length;++s)r=26*r+e.charCodeAt(s)-64;return r-1}function Ya(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function wTe(t){return t.replace(/^([A-Z])/,"$$$1")}function jTe(t){return t.replace(/^\$([A-Z])/,"$1")}function NTe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _o(t){for(var e=0,r=0,s=0;s<t.length;++s){var a=t.charCodeAt(s);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function Xr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Kg(t){var e=t.indexOf(":");return e==-1?{s:_o(t),e:_o(t)}:{s:_o(t.slice(0,e)),e:_o(t.slice(e+1))}}function jn(t,e){return typeof e>"u"||typeof e=="number"?jn(t.s,t.e):(typeof t!="string"&&(t=Xr(t)),typeof e!="string"&&(e=Xr(e)),t==e?t:t+":"+e)}function fa(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=t.length;for(r=0;s<i&&!((a=t.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(e.s.c=--r,r=0;s<i&&!((a=t.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(e.s.r=--r,s===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++s,r=0;s!=i&&!((a=t.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(e.e.c=--r,r=0;s!=i&&!((a=t.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return e.e.r=--r,e}function Vz(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=bc(t.z,r?Eo(e):e)}catch{}try{return t.w=bc((t.XF||{}).numFmtId||(r?14:0),r?Eo(e):e)}catch{return""+e}}function Ph(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?vp[t.v]||t.v:e==null?Vz(t,t.v):Vz(t,e))}function c0(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",s={};return s[r]=t,{SheetNames:[r],Sheets:s}}function fJ(t,e,r){var s=r||{},a=t?Array.isArray(t):s.dense,i=t||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?_o(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=fa(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[h].length;++m)if(!(typeof e[h][m]>"u")){var f={v:e[h][m]},x=o+h,v=l+m;if(d.s.r>x&&(d.s.r=x),d.s.c>v&&(d.s.c=v),d.e.r<x&&(d.e.r=x),d.e.c<v&&(d.e.c=v),e[h][m]&&typeof e[h][m]=="object"&&!Array.isArray(e[h][m])&&!(e[h][m]instanceof Date))f=e[h][m];else if(Array.isArray(f.v)&&(f.f=e[h][m][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(s.nullError)f.t="e",f.v=0;else if(s.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=s.dateNF||Qr[14],s.cellDates?(f.t="d",f.w=bc(f.z,Eo(f.v))):(f.t="n",f.v=Eo(f.v),f.w=bc(f.z,f.v))):f.t="s";if(a)i[x]||(i[x]=[]),i[x][v]&&i[x][v].z&&(f.z=i[x][v].z),i[x][v]=f;else{var g=Xr({c:v,r:x});i[g]&&i[g].z&&(f.z=i[g].z),i[g]=f}}}return d.s.c<1e7&&(i["!ref"]=jn(d)),i}function Jg(t,e){return fJ(null,t,e)}function STe(t){return t.read_shift(4,"i")}function ao(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function _Te(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function kP(t,e){var r=t.l,s=t.read_shift(1),a=ao(t),i=[],o={t:a,h:a};if((s&1)!==0){for(var l=t.read_shift(4),c=0;c!=l;++c)i.push(_Te(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}var ATe=kP;function Ac(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function xp(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var CTe=ao;function EP(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var kTe=ao,eT=EP;function TP(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,s=e[0]&2;t.l+=4;var a=s===0?yN([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):pm(e,0)>>2;return r?a/100:a}function mJ(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var gp=mJ;function to(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ETe(t){var e={},r=t.read_shift(1),s=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,s){case 0:e.auto=1;break;case 1:e.index=a;var d=Om[a];d&&(e.rgb=Ob(d));break;case 2:e.rgb=Ob([o,l,c]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function TTe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function pJ(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},s=t.read_shift(4);switch(s){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(s>400)throw new Error("Unsupported Clipboard: "+s.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function MTe(t){return pJ(t,1)}function PTe(t){return pJ(t,2)}var MP=2,Yo=3,iw=11,Xz=12,bN=19,ow=64,DTe=65,RTe=71,LTe=4108,OTe=4126,ui=80,xJ=81,ITe=[ui,xJ],FTe={1:{n:"CodePage",t:MP},2:{n:"Category",t:ui},3:{n:"PresentationFormat",t:ui},4:{n:"ByteCount",t:Yo},5:{n:"LineCount",t:Yo},6:{n:"ParagraphCount",t:Yo},7:{n:"SlideCount",t:Yo},8:{n:"NoteCount",t:Yo},9:{n:"HiddenCount",t:Yo},10:{n:"MultimediaClipCount",t:Yo},11:{n:"ScaleCrop",t:iw},12:{n:"HeadingPairs",t:LTe},13:{n:"TitlesOfParts",t:OTe},14:{n:"Manager",t:ui},15:{n:"Company",t:ui},16:{n:"LinksUpToDate",t:iw},17:{n:"CharacterCount",t:Yo},19:{n:"SharedDoc",t:iw},22:{n:"HyperlinksChanged",t:iw},23:{n:"AppVersion",t:Yo,p:"version"},24:{n:"DigSig",t:DTe},26:{n:"ContentType",t:ui},27:{n:"ContentStatus",t:ui},28:{n:"Language",t:ui},29:{n:"Version",t:ui},255:{},2147483648:{n:"Locale",t:bN},2147483651:{n:"Behavior",t:bN},1919054434:{}},BTe={1:{n:"CodePage",t:MP},2:{n:"Title",t:ui},3:{n:"Subject",t:ui},4:{n:"Author",t:ui},5:{n:"Keywords",t:ui},6:{n:"Comments",t:ui},7:{n:"Template",t:ui},8:{n:"LastAuthor",t:ui},9:{n:"RevNumber",t:ui},10:{n:"EditTime",t:ow},11:{n:"LastPrinted",t:ow},12:{n:"CreatedDate",t:ow},13:{n:"ModifiedDate",t:ow},14:{n:"PageCount",t:Yo},15:{n:"WordCount",t:Yo},16:{n:"CharCount",t:Yo},17:{n:"Thumbnail",t:RTe},18:{n:"Application",t:ui},19:{n:"DocSecurity",t:Yo},255:{},2147483648:{n:"Locale",t:bN},2147483651:{n:"Behavior",t:bN},1919054434:{}},Yz={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},UTe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function zTe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var $Te=zTe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Om=ki($Te),vp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},gJ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Kz={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function HTe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WTe(t){var e=HTe();if(!t||!t.match)return e;var r={};if((t.match(uo)||[]).forEach(function(s){var a=Fr(s);switch(a[0].replace(QEe,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[Kz[a.ContentType]]!==void 0&&e[Kz[a.ContentType]].push(a.PartName);break}}),e.xmlns!==cTe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var Nx={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tT(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Ey(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var s={};return(t.match(uo)||[]).forEach(function(a){var i=Fr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:ay(i.Target,e);r[l]=o,s[i.Id]=o}}),r["!id"]=s,r}var qTe="application/vnd.oasis.opendocument.spreadsheet";function GTe(t,e){for(var r=SP(t),s,a;s=Rb.exec(r);)switch(s[3]){case"manifest":break;case"file-entry":if(a=Fr(s[0],!1),a.path=="/"&&a.type!==qTe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw s}}var Ty=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],VTe=(function(){for(var t=new Array(Ty.length),e=0;e<Ty.length;++e){var r=Ty[e],s="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+s+"[^>]*>([\\s\\S]*?)</"+s+">")}return t})();function vJ(t){var e={};t=Ms(t);for(var r=0;r<Ty.length;++r){var s=Ty[r],a=t.match(VTe[r]);a!=null&&a.length>0&&(e[s[1]]=An(a[1])),s[2]==="date"&&e[s[1]]&&(e[s[1]]=fi(e[s[1]]))}return e}var XTe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function yJ(t,e,r,s){var a=[];if(typeof t=="string")a=Uz(t,s);else for(var i=0;i<t.length;++i)a=a.concat(t[i].map(function(u){return{v:u}}));var o=typeof e=="string"?Uz(e,s).map(function(u){return u.v}):e,l=0,c=0;if(o.length>0)for(var d=0;d!==a.length;d+=2){switch(c=+a[d+1].v,a[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function YTe(t,e,r){var s={};return e||(e={}),t=Ms(t),XTe.forEach(function(a){var i=(t.match(Db(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=An(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var o=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(s[a[1]]=o[1]);break}}),s.HeadingPairs&&s.TitlesOfParts&&yJ(s.HeadingPairs,s.TitlesOfParts,e,r),e}var KTe=/<[^>]+>[^<]*/g;function JTe(t,e){var r={},s="",a=t.match(KTe);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Fr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":s=An(l.name);break;case"</property>":s=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),d=c[0].slice(4),u=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[s]=An(u);break;case"bool":r[s]=Gs(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[s]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[s]=parseFloat(u);break;case"filetime":case"date":r[s]=fi(u);break;case"cy":case"error":r[s]=An(u);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,c)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return r}var QTe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},VC;function ZTe(t,e,r){VC||(VC=wP(QTe)),e=VC[e]||e,t[e]=r}function PP(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function bJ(t,e,r){var s=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-s&3;)++t.l;return a}function wJ(t,e,r){var s=t.read_shift(0,"lpwstr");return s}function jJ(t,e,r){return e===31?wJ(t):bJ(t,e,r)}function rT(t,e,r){return jJ(t,e,r===!1?0:4)}function eMe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return jJ(t,e,0)}function tMe(t){for(var e=t.read_shift(4),r=[],s=0;s!=e;++s){var a=t.l;r[s]=t.read_shift(0,"lpwstr").replace(Co,""),t.l-a&2&&(t.l+=2)}return r}function rMe(t){for(var e=t.read_shift(4),r=[],s=0;s!=e;++s)r[s]=t.read_shift(0,"lpstr-cp").replace(Co,"");return r}function nMe(t){var e=t.l,r=wN(t,xJ);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var s=wN(t,Yo);return[r,s]}function sMe(t){for(var e=t.read_shift(4),r=[],s=0;s<e/2;++s)r.push(nMe(t));return r}function Jz(t,e){for(var r=t.read_shift(4),s={},a=0;a!=r;++a){var i=t.read_shift(4),o=t.read_shift(4);s[i]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(Co,"").replace(sy,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),s}function NJ(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function aMe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function wN(t,e,r){var s=t.read_shift(2),a,i=r||{};if(t.l+=2,e!==Xz&&s!==e&&ITe.indexOf(e)===-1&&!((e&65534)==4126&&(s&65534)==4126))throw new Error("Expected type "+e+" saw "+s);switch(e===Xz?s:e){case 2:return a=t.read_shift(2,"i"),i.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return bJ(t,s,4).replace(Co,"");case 31:return wJ(t);case 64:return PP(t);case 65:return NJ(t);case 71:return aMe(t);case 80:return rT(t,s,!i.raw).replace(Co,"");case 81:return eMe(t,s).replace(Co,"");case 4108:return sMe(t);case 4126:case 4127:return s==4127?tMe(t):rMe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+s)}}function Qz(t,e){var r=t.l,s=t.read_shift(4),a=t.read_shift(4),i=[],o=0,l=0,c=-1,d={};for(o=0;o!=a;++o){var u=t.read_shift(4),h=t.read_shift(4);i[o]=[u,h+r]}i.sort(function(N,w){return N[1]-w[1]});var m={};for(o=0;o!=a;++o){if(t.l!==i[o][1]){var f=!0;if(o>0&&e)switch(e[i[o-1][0]].t){case 2:t.l+2===i[o][1]&&(t.l+=2,f=!1);break;case 80:t.l<=i[o][1]&&(t.l=i[o][1],f=!1);break;case 4108:t.l<=i[o][1]&&(t.l=i[o][1],f=!1);break}if((!e||o==0)&&t.l<=i[o][1]&&(f=!1,t.l=i[o][1]),f)throw new Error("Read Error: Expected address "+i[o][1]+" at "+t.l+" :"+o)}if(e){var x=e[i[o][0]];if(m[x.n]=wN(t,x.t,{raw:!0}),x.p==="version"&&(m[x.n]=String(m[x.n]>>16)+"."+("0000"+String(m[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(m[x.n]){case 0:m[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:id(l=m[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[x.n])}}else if(i[o][0]===1){if(l=m.CodePage=wN(t,MP),id(l),c!==-1){var v=t.l;t.l=i[c][1],d=Jz(t,l),t.l=v}}else if(i[o][0]===0){if(l===0){c=o,t.l=i[o+1][1];continue}d=Jz(t,l)}else{var g=d[i[o][0]],b;switch(t[t.l]){case 65:t.l+=4,b=NJ(t);break;case 30:t.l+=4,b=rT(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,b=rT(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,b=t.read_shift(4,"i");break;case 19:t.l+=4,b=t.read_shift(4);break;case 5:t.l+=4,b=t.read_shift(8,"f");break;case 11:t.l+=4,b=xa(t,4);break;case 64:t.l+=4,b=fi(PP(t));break;default:throw new Error("unparsed value: "+t[t.l])}m[g]=b}}return t.l=r+s,m}function Zz(t,e,r){var s=t.content;if(!s)return{};Ci(s,0);var a,i,o,l,c=0;s.chk("feff","Byte Order: "),s.read_shift(2);var d=s.read_shift(4),u=s.read_shift(16);if(u!==wn.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=s.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=s.read_shift(16),l=s.read_shift(4),a===1&&l!==s.l)throw new Error("Length mismatch: "+l+" !== "+s.l);a===2&&(o=s.read_shift(16),c=s.read_shift(4));var h=Qz(s,e),m={SystemIdentifier:d};for(var f in h)m[f]=h[f];if(m.FMTID=i,a===1)return m;if(c-s.l==2&&(s.l+=2),s.l!==c)throw new Error("Length mismatch 2: "+s.l+" !== "+c);var x;try{x=Qz(s,null)}catch{}for(f in x)m[f]=x[f];return m.FMTID=[i,o],m}function bf(t,e){return t.read_shift(e),null}function iMe(t,e,r){for(var s=[],a=t.l+e;t.l<a;)s.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return s}function xa(t,e){return t.read_shift(e)===1}function Da(t){return t.read_shift(2,"u")}function SJ(t,e){return iMe(t,e,Da)}function oMe(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function N1(t,e,r){var s=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?t.read_shift(s,a):"";return o}function lMe(t){var e=t.read_shift(2),r=t.read_shift(1),s=r&4,a=r&8,i=1+(r&1),o=0,l,c={};a&&(o=t.read_shift(2)),s&&(l=t.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,d);return a&&(t.l+=4*o),s&&(t.l+=l),c.t=u,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function ep(t,e,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?s=t.read_shift(e,"sbcs-cont"):s=t.read_shift(e,"dbcs-cont"),s}function S1(t,e,r){var s=t.read_shift(r&&r.biff==2?1:2);return s===0?(t.l++,""):ep(t,s,r)}function yp(t,e,r){if(r.biff>5)return S1(t,e,r);var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function cMe(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function dMe(t){var e=t.read_shift(4),r=t.l,s=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(s=!0),t.l=r);var a=t.read_shift((s?e-24:e)>>1,"utf16le").replace(Co,"");return s&&(t.l+=24),a}function uMe(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var s=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+s.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(i>>1,"utf16le").replace(Co,"");return r+o}function hMe(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return dMe(t);case"0303000000000000c000000000000046":return uMe(t);default:throw new Error("Unsupported Moniker "+r)}}function lw(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Co,""):"";return r}function fMe(t,e){var r=t.l+e,s=t.read_shift(4);if(s!==2)throw new Error("Unrecognized streamVersion: "+s);var a=t.read_shift(2);t.l+=2;var i,o,l,c,d="",u,h;a&16&&(i=lw(t,r-t.l)),a&128&&(o=lw(t,r-t.l)),(a&257)===257&&(l=lw(t,r-t.l)),(a&257)===1&&(c=hMe(t,r-t.l)),a&8&&(d=lw(t,r-t.l)),a&32&&(u=t.read_shift(16)),a&64&&(h=PP(t)),t.l=r;var m=o||l||c||"";m&&d&&(m+="#"+d),m||(m="#"+d),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var f={Target:m};return u&&(f.guid=u),h&&(f.time=h),i&&(f.Tooltip=i),f}function _J(t){var e=t.read_shift(1),r=t.read_shift(1),s=t.read_shift(1),a=t.read_shift(1);return[e,r,s,a]}function AJ(t,e){var r=_J(t);return r[3]=0,r}function gu(t){var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{r:e,c:r,ixfe:s}}function mMe(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function pMe(t,e,r){return e===0?"":yp(t,e,r)}function xMe(t,e,r){var s=r.biff>8?4:2,a=t.read_shift(s),i=t.read_shift(s,"i"),o=t.read_shift(s,"i");return[a,i,o]}function CJ(t){var e=t.read_shift(2),r=TP(t);return[e,r]}function gMe(t,e,r){t.l+=4,e-=4;var s=t.l+e,a=N1(t,e,r),i=t.read_shift(2);if(s-=t.l,i!==s)throw new Error("Malformed AddinUdf: padding = "+s+" != "+i);return t.l+=i,a}function O5(t){var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2);return{s:{c:s,r:e},e:{c:a,r}}}function kJ(t){var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1);return{s:{c:s,r:e},e:{c:a,r}}}var vMe=kJ;function EJ(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return t.l+=12,[r,e,s]}function yMe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function bMe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Ki(t){t.l+=2,t.l+=t.read_shift(2)}var wMe={0:Ki,4:Ki,5:Ki,6:Ki,7:bMe,8:Ki,9:Ki,10:Ki,11:Ki,12:Ki,13:yMe,14:Ki,15:Ki,16:Ki,17:Ki,18:Ki,19:Ki,20:Ki,21:EJ};function jMe(t,e){for(var r=t.l+e,s=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{s.push(wMe[a](t,r-t.l))}catch{return t.l=r,s}}return t.l!=r&&(t.l=r),s}function cw(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function NMe(t,e){return e===0||t.read_shift(2),1200}function SMe(t,e,r){if(r.enc)return t.l+=e,"";var s=t.l,a=yp(t,0,r);return t.read_shift(e+s-t.l),a}function _Me(t,e,r){var s=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:s&16,fBelow:s&64,fRight:s&128}}function AMe(t,e,r){var s=t.read_shift(4),a=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=N1(t,0,r);return o.length===0&&(o="Sheet1"),{pos:s,hs:a,dt:i,name:o}}function CMe(t,e){for(var r=t.l+e,s=t.read_shift(4),a=t.read_shift(4),i=[],o=0;o!=a&&t.l<r;++o)i.push(lMe(t));return i.Count=s,i.Unique=a,i}function kMe(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function EMe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var s=t.read_shift(1);return t.l+=3,s&7&&(e.level=s&7),s&32&&(e.hidden=!0),s&64&&(e.hpt=r/20),e}function TMe(t){var e=mMe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function MMe(t){return t.read_shift(2),t.read_shift(4)}function e$(t,e,r){var s=0;r&&r.biff==2||(s=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(s=1-(a>>15),a&=32767);var i={Unsynced:s&1,DyZero:(s&2)>>1,ExAsc:(s&4)>>2,ExDsc:(s&8)>>3};return[i,a]}function PMe(t){var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,r],Dim:[s,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:d}}function DMe(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var s=t.read_shift(2);return{RTL:s&64}}function RMe(){}function LMe(t,e,r){var s={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return s.name=N1(t,0,r),s}function OMe(t){var e=gu(t);return e.isst=t.read_shift(4),e}function IMe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var s=t.l+e,a=gu(t);r.biff==2&&t.l++;var i=S1(t,s-t.l,r);return a.val=i,a}function FMe(t,e,r){var s=t.read_shift(2),a=yp(t,0,r);return[s,a]}var BMe=yp;function t$(t,e,r){var s=t.l+e,a=r.biff==8||!r.biff?4:2,i=t.read_shift(a),o=t.read_shift(a),l=t.read_shift(2),c=t.read_shift(2);return t.l=s,{s:{r:i,c:l},e:{r:o,c}}}function UMe(t){var e=t.read_shift(2),r=t.read_shift(2),s=CJ(t);return{r:e,c:r,ixfe:s[0],rknum:s[1]}}function zMe(t,e){for(var r=t.l+e-2,s=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(CJ(t));if(t.l!==r)throw new Error("MulRK read error");var o=t.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:s,c:a,C:o,rkrec:i}}function $Me(t,e){for(var r=t.l+e-2,s=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var o=t.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:s,c:a,C:o,ixfe:i}}function HMe(t,e,r,s){var a={},i=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),c=t.read_shift(2);return a.patternType=UTe[l>>26],s.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function WMe(t,e,r){var s={};return s.ifnt=t.read_shift(2),s.numFmtId=t.read_shift(2),s.flags=t.read_shift(2),s.fStyle=s.flags>>2&1,e-=6,s.data=HMe(t,e,s.fStyle,r),s}function qMe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function r$(t,e,r){var s=gu(t);(r.biff==2||e==9)&&++t.l;var a=oMe(t);return s.val=a,s.t=a===!0||a===!1?"b":"e",s}function GMe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var s=gu(t),a=to(t);return s.val=a,s}var n$=pMe;function VMe(t,e,r){var s=t.l+e,a=t.read_shift(2),i=t.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=ep(t,i),l=[];s>t.l;)l.push(S1(t));return[i,a,o,l]}function s$(t,e,r){var s=t.read_shift(2),a,i={fBuiltIn:s&1,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return r.sbcch===14849&&(a=gMe(t,e-2,r)),i.body=a||t.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var XMe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function a$(t,e,r){var s=t.l+e,a=t.read_shift(2),i=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),c=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var d=ep(t,o,r);a&32&&(d=XMe[d.charCodeAt(0)]);var u=s-t.l;r&&r.biff==2&&--u;var h=s==t.l||l===0||!(u>0)?[]:ERe(t,u,r,l);return{chKey:i,Name:d,itab:c,rgce:h}}function TJ(t,e,r){if(r.biff<8)return YMe(t,e,r);for(var s=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)s.push(xMe(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return s}function YMe(t,e,r){t[t.l+1]==3&&t[t.l]++;var s=N1(t,e,r);return s.charCodeAt(0)==3?s.slice(1):s}function KMe(t,e,r){if(r.biff<8){t.l+=e;return}var s=t.read_shift(2),a=t.read_shift(2),i=ep(t,s,r),o=ep(t,a,r);return[i,o]}function JMe(t,e,r){var s=kJ(t);t.l++;var a=t.read_shift(1);return e-=8,[TRe(t,e,r),a,s]}function i$(t,e,r){var s=vMe(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[s,CRe(t,e,r)]}function QMe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,s=t.read_shift(4);return[e,r,s]}function ZMe(t,e,r){if(!(r.biff<8)){var s=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),l=yp(t,0,r);return r.biff<8&&t.read_shift(1),[{r:s,c:a},l,o,i]}}function ePe(t,e,r){return ZMe(t,e,r)}function tPe(t,e){for(var r=[],s=t.read_shift(2);s--;)r.push(O5(t));return r}function rPe(t,e,r){if(r&&r.biff<8)return sPe(t,e,r);var s=EJ(t),a=jMe(t,e-22,s[1]);return{cmo:s,ft:a}}var nPe={8:function(t,e){var r=t.l+e;t.l+=10;var s=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:s}}};function sPe(t,e,r){t.l+=4;var s=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((nPe[s]||lo)(t,e,r)),{cmo:[a,s,i],ft:o}}function aPe(t,e,r){var s=t.l,a="";try{t.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:o=cMe(t,6,r);var l=t.read_shift(2);t.read_shift(2),Da(t,2);var c=t.read_shift(2);t.l+=c;for(var d=1;d<t.lens.length-1;++d){if(t.l-s!=t.lens[d])throw new Error("TxO: bad continue record");var u=t[t.l],h=ep(t,t.lens[d+1]-t.lens[d]-1);if(a+=h,a.length>=(u?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return t.l=s+e,{t:a}}catch{return t.l=s+e,{t:a}}}function iPe(t,e){var r=O5(t);t.l+=16;var s=fMe(t,e-24);return[r,s]}function oPe(t,e){t.read_shift(2);var r=O5(t),s=t.read_shift((e-10)/2,"dbcs-cont");return s=s.replace(Co,""),[r,s]}function lPe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=Yz[r]||r,r=t.read_shift(2),e[1]=Yz[r]||r,e}function cPe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(AJ(t));return r}function dPe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(AJ(t));return r}function uPe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function MJ(t,e,r){if(!r.cellStyles)return lo(t,e);var s=r&&r.biff>=12?4:2,a=t.read_shift(s),i=t.read_shift(s),o=t.read_shift(s),l=t.read_shift(s),c=t.read_shift(2);s==2&&(t.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function hPe(t,e){var r={};return e<32||(t.l+=16,r.header=to(t),r.footer=to(t),t.l+=2),r}function fPe(t,e,r){var s={area:!1};if(r.biff!=5)return t.l+=e,s;var a=t.read_shift(1);return t.l+=3,a&16&&(s.area=!0),s}var mPe=gu,pPe=SJ,xPe=S1;function gPe(t){var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(4),a={fmt:e,env:r,len:s,data:t.slice(t.l,t.l+s)};return t.l+=s,a}function vPe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var s=gu(t);++t.l;var a=yp(t,e-7,r);return s.t="str",s.val=a,s}function yPe(t){var e=gu(t);++t.l;var r=to(t);return e.t="n",e.val=r,e}function bPe(t){var e=gu(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function wPe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function jPe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function NPe(t,e,r){var s=t.l+e,a=gu(t),i=t.read_shift(2),o=ep(t,i,r);return t.l=s,a.t="str",a.val=o,a}var SPe=[2,3,48,49,131,139,140,245],o$=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=wP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=t0(1);switch(c.type){case"base64":u=rd(Ll(l));break;case"binary":u=rd(l);break;case"buffer":case"array":u=l;break}Ci(u,0);var h=u.read_shift(1),m=!!(h&136),f=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,m=!0;break;case 49:f=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,g=521;h==2&&(v=u.read_shift(2)),u.l+=3,h!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(g=u.read_shift(2));var b=u.read_shift(2),N=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(N=t[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var w=[],A={},j=Math.min(u.length,h==2?521:g-10-(f?264:0)),S=x?32:11;u.l<j&&u[u.l]!=13;)switch(A={},A.name=Mb.utils.decode(N,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,A.type=String.fromCharCode(u.read_shift(1)),h!=2&&!x&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),h==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&w.push(A),h!=2&&(u.l+=x?13:14),A.type){case"B":(!f||A.len!=8)&&c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var E=0,R=0;for(d[0]=[],R=0;R!=w.length;++R)d[0][R]=w[R].name;for(;v-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,d[++E]=[],R=0,R=0;R!=w.length;++R){var C=u.slice(u.l,u.l+w[R].len);u.l+=w[R].len,Ci(C,0);var T=Mb.utils.decode(N,C);switch(w[R].type){case"C":T.trim().length&&(d[E][R]=T.replace(/\s+$/,""));break;case"D":T.length===8?d[E][R]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):d[E][R]=T;break;case"F":d[E][R]=parseFloat(T.trim());break;case"+":case"I":d[E][R]=x?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":d[E][R]=!0;break;case"N":case"F":d[E][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[E][R]="##MEMO##"+(x?parseInt(T.trim(),10):C.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(d[E][R]=+T||0);break;case"@":d[E][R]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":d[E][R]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":d[E][R]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[E][R]=-C.read_shift(-8,"f");break;case"B":if(f&&w[R].len==8){d[E][R]=C.read_shift(8,"f");break}case"G":case"P":C.l+=w[R].len;break;case"0":if(w[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[R].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Jg(r(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function a(l,c){try{return c0(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&id(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=ZE(),h=cT(l,{header:1,raw:!0,cellDates:!0}),m=h[0],f=h.slice(1),x=l["!cols"]||[],v=0,g=0,b=0,N=1;for(v=0;v<m.length;++v){if(((x[v]||{}).DBF||{}).name){m[v]=x[v].DBF.name,++b;continue}if(m[v]!=null){if(++b,typeof m[v]=="number"&&(m[v]=m[v].toString(10)),typeof m[v]!="string")throw new Error("DBF Invalid column name "+m[v]+" |"+typeof m[v]+"|");if(m.indexOf(m[v])!==v){for(g=0;g<1024;++g)if(m.indexOf(m[v]+"_"+g)==-1){m[v]+="_"+g;break}}}}var w=fa(l["!ref"]),A=[],j=[],S=[];for(v=0;v<=w.e.c-w.s.c;++v){var E="",R="",C=0,T=[];for(g=0;g<f.length;++g)f[g][v]!=null&&T.push(f[g][v]);if(T.length==0||m[v]==null){A[v]="?";continue}for(g=0;g<T.length;++g){switch(typeof T[g]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=T[g]instanceof Date?"D":"C";break;default:R="C"}C=Math.max(C,String(T[g]).length),E=E&&E!=R?"C":R}C>250&&(C=250),R=((x[v]||{}).DBF||{}).type,R=="C"&&x[v].DBF.len>C&&(C=x[v].DBF.len),E=="B"&&R=="N"&&(E="N",S[v]=x[v].DBF.dec,C=x[v].DBF.len),j[v]=E=="C"||R=="N"?C:i[E]||0,N+=j[v],A[v]=E}var k=u.next(32);for(k.write_shift(4,318902576),k.write_shift(4,f.length),k.write_shift(2,296+32*b),k.write_shift(2,N),v=0;v<4;++v)k.write_shift(4,0);for(k.write_shift(4,0|(+e[TK]||3)<<8),v=0,g=0;v<m.length;++v)if(m[v]!=null){var P=u.next(32),D=(m[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,D,"sbcs"),P.write_shift(1,A[v]=="?"?"C":A[v],"sbcs"),P.write_shift(4,g),P.write_shift(1,j[v]||i[A[v]]||0),P.write_shift(1,S[v]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),g+=j[v]||i[A[v]]||0}var H=u.next(264);for(H.write_shift(4,13),v=0;v<65;++v)H.write_shift(4,0);for(v=0;v<f.length;++v){var F=u.next(N);for(F.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(A[g]){case"L":F.write_shift(1,f[v][g]==null?63:f[v][g]?84:70);break;case"B":F.write_shift(8,f[v][g]||0,"f");break;case"N":var z="0";for(typeof f[v][g]=="number"&&(z=f[v][g].toFixed(S[g]||0)),b=0;b<j[g]-z.length;++b)F.write_shift(1,32);F.write_shift(1,z,"sbcs");break;case"D":f[v][g]?(F.write_shift(4,("0000"+f[v][g].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(f[v][g].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+f[v][g].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var O=String(f[v][g]!=null?f[v][g]:"").slice(0,j[g]);for(F.write_shift(1,O,"sbcs"),b=0;b<j[g]-O.length;++b)F.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}})(),_Pe=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+hu(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,f){var x=t[f];return typeof x=="number"?Nz(x):x},s=function(m,f,x){var v=f.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return v==59?m:Nz(v)};t["|"]=254;function a(m,f){switch(f.type){case"base64":return i(Ll(m),f);case"binary":return i(m,f);case"buffer":return i(yn&&Buffer.isBuffer(m)?m.toString("binary"):pp(m),f);case"array":return i(Zm(m),f)}throw new Error("Unrecognized type "+f.type)}function i(m,f){var x=m.split(/[\n\r]+/),v=-1,g=-1,b=0,N=0,w=[],A=[],j=null,S={},E=[],R=[],C=[],T=0,k;for(+f.codepage>=0&&id(+f.codepage);b!==x.length;++b){T=0;var P=x[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(e,r),D=P.replace(/;;/g,"\0").split(";").map(function(Z){return Z.replace(/\u0000/g,";")}),H=D[0],F;if(P.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&A.push(P.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,O=!1,W=!1,ee=!1,K=-1,re=-1;for(N=1;N<D.length;++N)switch(D[N].charAt(0)){case"A":break;case"X":g=parseInt(D[N].slice(1))-1,O=!0;break;case"Y":for(v=parseInt(D[N].slice(1))-1,O||(g=0),k=w.length;k<=v;++k)w[k]=[];break;case"K":F=D[N].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(ud(F))?isNaN(_g(F).getDate())||(F=fi(F)):(F=ud(F),j!==null&&Yg(j)&&(F=L5(F))),z=!0;break;case"E":ee=!0;var U=Rx(D[N].slice(1),{r:v,c:g});w[v][g]=[w[v][g],U];break;case"S":W=!0,w[v][g]=[w[v][g],"S5S"];break;case"G":break;case"R":K=parseInt(D[N].slice(1))-1;break;case"C":re=parseInt(D[N].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}if(z&&(w[v][g]&&w[v][g].length==2?w[v][g][0]=F:w[v][g]=F,j=null),W){if(ee)throw new Error("SYLK shared formula cannot have own formula");var Y=K>-1&&w[K][re];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");w[v][g][1]=zJ(Y[1],{r:v-K,c:g-re})}break;case"F":var V=0;for(N=1;N<D.length;++N)switch(D[N].charAt(0)){case"X":g=parseInt(D[N].slice(1))-1,++V;break;case"Y":for(v=parseInt(D[N].slice(1))-1,k=w.length;k<=v;++k)w[k]=[];break;case"M":T=parseInt(D[N].slice(1))/20;break;case"F":break;case"G":break;case"P":j=A[parseInt(D[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=D[N].slice(1).split(" "),k=parseInt(C[0],10);k<=parseInt(C[1],10);++k)T=parseInt(C[2],10),R[k-1]=T===0?{hidden:!0}:{wch:T},Ag(R[k-1]);break;case"C":g=parseInt(D[N].slice(1))-1,R[g]||(R[g]={});break;case"R":v=parseInt(D[N].slice(1))-1,E[v]||(E[v]={}),T>0?(E[v].hpt=T,E[v].hpx=Ib(T)):T===0&&(E[v].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}V<1&&(j=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}}return E.length>0&&(S["!rows"]=E),R.length>0&&(S["!cols"]=R),f&&f.sheetRows&&(w=w.slice(0,f.sheetRows)),[w,S]}function o(m,f){var x=a(m,f),v=x[0],g=x[1],b=Jg(v,f);return hu(g).forEach(function(N){b[N]=g[N]}),b}function l(m,f){return c0(o(m,f),f)}function c(m,f,x,v){var g="C;Y"+(x+1)+";X"+(v+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+uDe(m.f,{r:x,c:v}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(m,f){f.forEach(function(x,v){var g="F;W"+(v+1)+" "+(v+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=NN(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=SN(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function u(m,f){f.forEach(function(x,v){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*FJ(x.hpx)+";"),g.length>2&&m.push(g+"R"+(v+1))})}function h(m,f){var x=["ID;PWXL;N;E"],v=[],g=fa(m["!ref"]),b,N=Array.isArray(m),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&d(x,m["!cols"]),m["!rows"]&&u(x,m["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var A=g.s.r;A<=g.e.r;++A)for(var j=g.s.c;j<=g.e.c;++j){var S=Xr({r:A,c:j});b=N?(m[A]||[])[j]:m[S],!(!b||b.v==null&&(!b.f||b.F))&&v.push(c(b,m,A,j))}return x.join(w)+w+v.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:h}})(),APe=(function(){function t(i,o){switch(o.type){case"base64":return e(Ll(i),o);case"binary":return e(i,o);case"buffer":return e(yn&&Buffer.isBuffer(i)?i.toString("binary"):pp(i),o);case"array":return e(Zm(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),f=m[0],x=m[1];++u;for(var v=l[u]||"";(v.match(/["]/g)||[]).length&1&&u<l.length-1;)v+=`
`+l[++u];switch(v=v.trim(),+f){case-1:if(v==="BOT"){h[++c]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[c][d]=!0:v==="FALSE"?h[c][d]=!1:isNaN(ud(x))?isNaN(_g(x).getDate())?h[c][d]=x:h[c][d]=fi(x):h[c][d]=ud(x),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[c][d++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return Jg(t(i,o),o)}function s(i,o){return c0(r(i,o),o)}var a=(function(){var i=function(c,d,u,h,m){c.push(d),c.push(u+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=fa(c["!ref"]),h,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){o(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var v=Xr({r:f,c:x});if(h=m?(c[f]||[])[x]:c[v],!h){o(d,1,0,"");continue}switch(h.t){case"n":var g=h.w;!g&&h.v!=null&&(g=h.v),g==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=bc(h.z||Qr[14],Eo(fi(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var b=`\r
`,N=d.join(b);return N}})();return{to_workbook:s,to_sheet:r,from_sheet:a}})(),CPe=(function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var f=h.split(`
`),x=-1,v=-1,g=0,b=[];g!==f.length;++g){var N=f[g].trim().split(":");if(N[0]==="cell"){var w=_o(N[1]);if(b.length<=w.r)for(x=b.length;x<=w.r;++x)b[x]||(b[x]=[]);switch(x=w.r,v=w.c,N[2]){case"t":b[x][v]=t(N[3]);break;case"v":b[x][v]=+N[3];break;case"vtf":var A=N[N.length-1];case"vtc":switch(N[3]){case"nl":b[x][v]=!!+N[4];break;default:b[x][v]=+N[4];break}N[2]=="vtf"&&(b[x][v]=[b[x][v],A])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function s(h,m){return Jg(r(h,m),m)}function a(h,m){return c0(s(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],f=[],x,v="",g=Kg(h["!ref"]),b=Array.isArray(h),N=g.s.r;N<=g.e.r;++N)for(var w=g.s.c;w<=g.e.c;++w)if(v=Xr({r:N,c:w}),x=b?(h[N]||[])[w]:h[v],!(!x||x.v==null||x.t==="z")){switch(f=["cell",v,"t"],x.t){case"s":case"str":f.push(e(x.v));break;case"n":x.f?(f[2]="vtf",f[3]="n",f[4]=x.v,f[5]=e(x.f)):(f[2]="v",f[3]=x.v);break;case"b":f[2]="vt"+(x.f?"f":"c"),f[3]="nl",f[4]=x.v?"1":"0",f[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var A=Eo(fi(x.v));f[2]="vtc",f[3]="nd",f[4]=""+A,f[5]=x.w||bc(x.z||Qr[14],A);break;case"e":continue}m.push(f.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(h){return[i,o,l,o,d(h),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}})(),Lb=(function(){function t(u,h,m,f,x){x.raw?h[m][f]=u:u===""||(u==="TRUE"?h[m][f]=!0:u==="FALSE"?h[m][f]=!1:isNaN(ud(u))?isNaN(_g(u).getDate())?h[m][f]=u:h[m][f]=fi(u):h[m][f]=ud(u))}function e(u,h){var m=h||{},f=[];if(!u||u.length===0)return f;for(var x=u.split(/[\r\n]/),v=x.length-1;v>=0&&x[v].length===0;)--v;for(var g=10,b=0,N=0;N<=v;++N)b=x[N].indexOf(" "),b==-1?b=x[N].length:b++,g=Math.max(g,b);for(N=0;N<=v;++N){f[N]=[];var w=0;for(t(x[N].slice(0,g).trim(),f,N,w,m),w=1;w<=(x[N].length-g)/10+1;++w)t(x[N].slice(g+(w-1)*10,g+w*10).trim(),f,N,w,m)}return m.sheetRows&&(f=f.slice(0,m.sheetRows)),f}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var h={},m=!1,f=0,x=0;f<u.length;++f)(x=u.charCodeAt(f))==34?m=!m:!m&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&x.push([h[f],f]);if(!x.length){h=s;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&x.push([h[f],f])}return x.sort(function(v,g){return v[0]-g[0]||s[v[1]]-s[g[1]]}),r[x.pop()[1]]||44}function i(u,h){var m=h||{},f="",x=m.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=a(u.slice(0,1024)):m&&m.FS?f=m.FS:f=a(u.slice(0,1024));var g=0,b=0,N=0,w=0,A=0,j=f.charCodeAt(0),S=!1,E=0,R=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var C=m.dateNF!=null?FEe(m.dateNF):null;function T(){var k=u.slice(w,A),P={};if(k.charAt(0)=='"'&&k.charAt(k.length-1)=='"'&&(k=k.slice(1,-1).replace(/""/g,'"')),k.length===0)P.t="z";else if(m.raw)P.t="s",P.v=k;else if(k.trim().length===0)P.t="s",P.v=k;else if(k.charCodeAt(0)==61)k.charCodeAt(1)==34&&k.charCodeAt(k.length-1)==34?(P.t="s",P.v=k.slice(2,-1).replace(/""/g,'"')):fDe(k)?(P.t="n",P.f=k.slice(1)):(P.t="s",P.v=k);else if(k=="TRUE")P.t="b",P.v=!0;else if(k=="FALSE")P.t="b",P.v=!1;else if(!isNaN(N=ud(k)))P.t="n",m.cellText!==!1&&(P.w=k),P.v=N;else if(!isNaN(_g(k).getDate())||C&&k.match(C)){P.z=m.dateNF||Qr[14];var D=0;C&&k.match(C)&&(k=BEe(k,m.dateNF,k.match(C)||[]),D=1),m.cellDates?(P.t="d",P.v=fi(k,D)):(P.t="n",P.v=Eo(fi(k,D))),m.cellText!==!1&&(P.w=bc(P.z,P.v instanceof Date?Eo(P.v):P.v)),m.cellNF||delete P.z}else P.t="s",P.v=k;if(P.t=="z"||(m.dense?(x[g]||(x[g]=[]),x[g][b]=P):x[Xr({c:b,r:g})]=P),w=A+1,R=u.charCodeAt(w),v.e.c<b&&(v.e.c=b),v.e.r<g&&(v.e.r=g),E==j)++b;else if(b=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;A<u.length;++A)switch(E=u.charCodeAt(A)){case 34:R===34&&(S=!S);break;case j:case 10:case 13:if(!S&&T())break e;break}return A-w>0&&T(),x["!ref"]=jn(v),x}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):Jg(e(u,h),h)}function l(u,h){var m="",f=h.type=="string"?[0,0,0,0]:UP(u,h);switch(h.type){case"base64":m=Ll(u);break;case"binary":m=u;break;case"buffer":h.codepage==65001?m=u.toString("utf8"):h.codepage&&typeof Mb<"u"||(m=yn&&Buffer.isBuffer(u)?u.toString("binary"):pp(u));break;case"array":m=Zm(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?m=Ms(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Ms(m):h.type=="binary"&&typeof Mb<"u",m.slice(0,19)=="socialcalc:version:"?CPe.to_sheet(h.type=="string"?m:Ms(m),h):o(m,h)}function c(u,h){return c0(l(u,h),h)}function d(u){for(var h=[],m=fa(u["!ref"]),f,x=Array.isArray(u),v=m.s.r;v<=m.e.r;++v){for(var g=[],b=m.s.c;b<=m.e.c;++b){var N=Xr({r:v,c:b});if(f=x?(u[v]||[])[b]:u[N],!f||f.v==null){g.push("          ");continue}for(var w=(f.w||(Ph(f),f.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(b===0?" ":""))}h.push(g.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}})();function kPe(t,e){var r=e||{},s=!!r.WTF;r.WTF=!0;try{var a=_Pe.to_workbook(t,r);return r.WTF=s,a}catch(i){if(r.WTF=s,!i.message.match(/SYLK bad record ID/)&&s)throw i;return Lb.to_workbook(t,e)}}var My=(function(){function t(U,Y,V){if(U){Ci(U,U.l||0);for(var Z=V.Enum||K;U.l<U.length;){var ce=U.read_shift(2),fe=Z[ce]||Z[65535],ye=U.read_shift(2),ge=U.l+ye,we=fe.f&&fe.f(U,ye,V);if(U.l=ge,Y(we,fe,ce))return}}}function e(U,Y){switch(Y.type){case"base64":return r(rd(Ll(U)),Y);case"binary":return r(rd(U),Y);case"buffer":case"array":return r(U,Y)}throw"Unsupported type "+Y.type}function r(U,Y){if(!U)return U;var V=Y||{},Z=V.dense?[]:{},ce="Sheet1",fe="",ye=0,ge={},we=[],Re=[],oe={s:{r:0,c:0},e:{r:0,c:0}},ut=V.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)V.Enum=K,t(U,function(Ae,Fe,Ie){switch(Ie){case 0:V.vers=Ae,Ae>=4096&&(V.qpro=!0);break;case 6:oe=Ae;break;case 204:Ae&&(fe=Ae);break;case 222:fe=Ae;break;case 15:case 51:V.qpro||(Ae[1].v=Ae[1].v.slice(1));case 13:case 14:case 16:Ie==14&&(Ae[2]&112)==112&&(Ae[2]&15)>1&&(Ae[2]&15)<15&&(Ae[1].z=V.dateNF||Qr[14],V.cellDates&&(Ae[1].t="d",Ae[1].v=L5(Ae[1].v))),V.qpro&&Ae[3]>ye&&(Z["!ref"]=jn(oe),ge[ce]=Z,we.push(ce),Z=V.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},ye=Ae[3],ce=fe||"Sheet"+(ye+1),fe="");var $e=V.dense?(Z[Ae[0].r]||[])[Ae[0].c]:Z[Xr(Ae[0])];if($e){$e.t=Ae[1].t,$e.v=Ae[1].v,Ae[1].z!=null&&($e.z=Ae[1].z),Ae[1].f!=null&&($e.f=Ae[1].f);break}V.dense?(Z[Ae[0].r]||(Z[Ae[0].r]=[]),Z[Ae[0].r][Ae[0].c]=Ae[1]):Z[Xr(Ae[0])]=Ae[1];break}},V);else if(U[2]==26||U[2]==14)V.Enum=re,U[2]==14&&(V.qpro=!0,U.l=0),t(U,function(Ae,Fe,Ie){switch(Ie){case 204:ce=Ae;break;case 22:Ae[1].v=Ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ae[3]>ye&&(Z["!ref"]=jn(oe),ge[ce]=Z,we.push(ce),Z=V.dense?[]:{},oe={s:{r:0,c:0},e:{r:0,c:0}},ye=Ae[3],ce="Sheet"+(ye+1)),ut>0&&Ae[0].r>=ut)break;V.dense?(Z[Ae[0].r]||(Z[Ae[0].r]=[]),Z[Ae[0].r][Ae[0].c]=Ae[1]):Z[Xr(Ae[0])]=Ae[1],oe.e.c<Ae[0].c&&(oe.e.c=Ae[0].c),oe.e.r<Ae[0].r&&(oe.e.r=Ae[0].r);break;case 27:Ae[14e3]&&(Re[Ae[14e3][0]]=Ae[14e3][1]);break;case 1537:Re[Ae[0]]=Ae[1],Ae[0]==ye&&(ce=Ae[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(Z["!ref"]=jn(oe),ge[fe||ce]=Z,we.push(fe||ce),!Re.length)return{SheetNames:we,Sheets:ge};for(var se={},J=[],ie=0;ie<Re.length;++ie)ge[we[ie]]?(J.push(Re[ie]||we[ie]),se[Re[ie]]=ge[Re[ie]]||ge[we[ie]]):(J.push(Re[ie]),se[Re[ie]]={"!ref":"A1"});return{SheetNames:J,Sheets:se}}function s(U,Y){var V=Y||{};if(+V.codepage>=0&&id(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var Z=ZE(),ce=fa(U["!ref"]),fe=Array.isArray(U),ye=[];Kc(Z,0,i(1030)),Kc(Z,6,c(ce));for(var ge=Math.min(ce.e.r,8191),we=ce.s.r;we<=ge;++we)for(var Re=Ei(we),oe=ce.s.c;oe<=ce.e.c;++oe){we===ce.s.r&&(ye[oe]=Ya(oe));var ut=ye[oe]+Re,se=fe?(U[we]||[])[oe]:U[ut];if(!(!se||se.t=="z"))if(se.t=="n")(se.v|0)==se.v&&se.v>=-32768&&se.v<=32767?Kc(Z,13,f(we,oe,se.v)):Kc(Z,14,v(we,oe,se.v));else{var J=Ph(se);Kc(Z,15,h(we,oe,J.slice(0,239)))}}return Kc(Z,1),Z.end()}function a(U,Y){var V=Y||{};if(+V.codepage>=0&&id(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var Z=ZE();Kc(Z,0,o(U));for(var ce=0,fe=0;ce<U.SheetNames.length;++ce)(U.Sheets[U.SheetNames[ce]]||{})["!ref"]&&Kc(Z,27,ee(U.SheetNames[ce],fe++));var ye=0;for(ce=0;ce<U.SheetNames.length;++ce){var ge=U.Sheets[U.SheetNames[ce]];if(!(!ge||!ge["!ref"])){for(var we=fa(ge["!ref"]),Re=Array.isArray(ge),oe=[],ut=Math.min(we.e.r,8191),se=we.s.r;se<=ut;++se)for(var J=Ei(se),ie=we.s.c;ie<=we.e.c;++ie){se===we.s.r&&(oe[ie]=Ya(ie));var Ae=oe[ie]+J,Fe=Re?(ge[se]||[])[ie]:ge[Ae];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")Kc(Z,23,T(se,ie,ye,Fe.v));else{var Ie=Ph(Fe);Kc(Z,22,E(se,ie,ye,Ie.slice(0,239)))}}++ye}}return Kc(Z,1),Z.end()}function i(U){var Y=Wa(2);return Y.write_shift(2,U),Y}function o(U){var Y=Wa(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var V=0,Z=0,ce=0,fe=0;fe<U.SheetNames.length;++fe){var ye=U.SheetNames[fe],ge=U.Sheets[ye];if(!(!ge||!ge["!ref"])){++ce;var we=Kg(ge["!ref"]);V<we.e.r&&(V=we.e.r),Z<we.e.c&&(Z=we.e.c)}}return V>8191&&(V=8191),Y.write_shift(2,V),Y.write_shift(1,ce),Y.write_shift(1,Z),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function l(U,Y,V){var Z={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&V.qpro?(Z.s.c=U.read_shift(1),U.l++,Z.s.r=U.read_shift(2),Z.e.c=U.read_shift(1),U.l++,Z.e.r=U.read_shift(2),Z):(Z.s.c=U.read_shift(2),Z.s.r=U.read_shift(2),Y==12&&V.qpro&&(U.l+=2),Z.e.c=U.read_shift(2),Z.e.r=U.read_shift(2),Y==12&&V.qpro&&(U.l+=2),Z.s.c==65535&&(Z.s.c=Z.e.c=Z.s.r=Z.e.r=0),Z)}function c(U){var Y=Wa(8);return Y.write_shift(2,U.s.c),Y.write_shift(2,U.s.r),Y.write_shift(2,U.e.c),Y.write_shift(2,U.e.r),Y}function d(U,Y,V){var Z=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(Z[0].c=U.read_shift(1),Z[3]=U.read_shift(1),Z[0].r=U.read_shift(2),U.l+=2):(Z[2]=U.read_shift(1),Z[0].c=U.read_shift(2),Z[0].r=U.read_shift(2)),Z}function u(U,Y,V){var Z=U.l+Y,ce=d(U,Y,V);if(ce[1].t="s",V.vers==20768){U.l++;var fe=U.read_shift(1);return ce[1].v=U.read_shift(fe,"utf8"),ce}return V.qpro&&U.l++,ce[1].v=U.read_shift(Z-U.l,"cstr"),ce}function h(U,Y,V){var Z=Wa(7+V.length);Z.write_shift(1,255),Z.write_shift(2,Y),Z.write_shift(2,U),Z.write_shift(1,39);for(var ce=0;ce<Z.length;++ce){var fe=V.charCodeAt(ce);Z.write_shift(1,fe>=128?95:fe)}return Z.write_shift(1,0),Z}function m(U,Y,V){var Z=d(U,Y,V);return Z[1].v=U.read_shift(2,"i"),Z}function f(U,Y,V){var Z=Wa(7);return Z.write_shift(1,255),Z.write_shift(2,Y),Z.write_shift(2,U),Z.write_shift(2,V,"i"),Z}function x(U,Y,V){var Z=d(U,Y,V);return Z[1].v=U.read_shift(8,"f"),Z}function v(U,Y,V){var Z=Wa(13);return Z.write_shift(1,255),Z.write_shift(2,Y),Z.write_shift(2,U),Z.write_shift(8,V,"f"),Z}function g(U,Y,V){var Z=U.l+Y,ce=d(U,Y,V);if(ce[1].v=U.read_shift(8,"f"),V.qpro)U.l=Z;else{var fe=U.read_shift(2);A(U.slice(U.l,U.l+fe),ce),U.l+=fe}return ce}function b(U,Y,V){var Z=Y&32768;return Y&=-32769,Y=(Z?U:0)+(Y>=8192?Y-16384:Y),(Z?"":"$")+(V?Ya(Y):Ei(Y))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(U,Y){Ci(U,0);for(var V=[],Z=0,ce="",fe="",ye="",ge="";U.l<U.length;){var we=U[U.l++];switch(we){case 0:V.push(U.read_shift(8,"f"));break;case 1:fe=b(Y[0].c,U.read_shift(2),!0),ce=b(Y[0].r,U.read_shift(2),!1),V.push(fe+ce);break;case 2:{var Re=b(Y[0].c,U.read_shift(2),!0),oe=b(Y[0].r,U.read_shift(2),!1);fe=b(Y[0].c,U.read_shift(2),!0),ce=b(Y[0].r,U.read_shift(2),!1),V.push(Re+oe+":"+fe+ce)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(U.read_shift(2));break;case 6:{for(var ut="";we=U[U.l++];)ut+=String.fromCharCode(we);V.push('"'+ut.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ge=V.pop(),ye=V.pop(),V.push(["AND","OR"][we-20]+"("+ye+","+ge+")");break;default:if(we<32&&w[we])ge=V.pop(),ye=V.pop(),V.push(ye+w[we]+ge);else if(N[we]){if(Z=N[we][1],Z==69&&(Z=U[U.l++]),Z>V.length){console.error("WK1 bad formula parse 0x"+we.toString(16)+":|"+V.join("|")+"|");return}var se=V.slice(-Z);V.length-=Z,V.push(N[we][0]+"("+se.join(",")+")")}else return we<=7?console.error("WK1 invalid opcode "+we.toString(16)):we<=24?console.error("WK1 unsupported op "+we.toString(16)):we<=30?console.error("WK1 invalid opcode "+we.toString(16)):we<=115?console.error("WK1 unsupported function opcode "+we.toString(16)):console.error("WK1 unrecognized opcode "+we.toString(16))}}V.length==1?Y[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function j(U){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=U.read_shift(2),Y[3]=U[U.l++],Y[0].c=U[U.l++],Y}function S(U,Y){var V=j(U);return V[1].t="s",V[1].v=U.read_shift(Y-4,"cstr"),V}function E(U,Y,V,Z){var ce=Wa(6+Z.length);ce.write_shift(2,U),ce.write_shift(1,V),ce.write_shift(1,Y),ce.write_shift(1,39);for(var fe=0;fe<Z.length;++fe){var ye=Z.charCodeAt(fe);ce.write_shift(1,ye>=128?95:ye)}return ce.write_shift(1,0),ce}function R(U,Y){var V=j(U);V[1].v=U.read_shift(2);var Z=V[1].v>>1;if(V[1].v&1)switch(Z&7){case 0:Z=(Z>>3)*5e3;break;case 1:Z=(Z>>3)*500;break;case 2:Z=(Z>>3)/20;break;case 3:Z=(Z>>3)/200;break;case 4:Z=(Z>>3)/2e3;break;case 5:Z=(Z>>3)/2e4;break;case 6:Z=(Z>>3)/16;break;case 7:Z=(Z>>3)/64;break}return V[1].v=Z,V}function C(U,Y){var V=j(U),Z=U.read_shift(4),ce=U.read_shift(4),fe=U.read_shift(2);if(fe==65535)return Z===0&&ce===3221225472?(V[1].t="e",V[1].v=15):Z===0&&ce===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var ye=fe&32768;return fe=(fe&32767)-16446,V[1].v=(1-ye*2)*(ce*Math.pow(2,fe+32)+Z*Math.pow(2,fe)),V}function T(U,Y,V,Z){var ce=Wa(14);if(ce.write_shift(2,U),ce.write_shift(1,V),ce.write_shift(1,Y),Z==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var fe=0,ye=0,ge=0,we=0;return Z<0&&(fe=1,Z=-Z),ye=Math.log2(Z)|0,Z/=Math.pow(2,ye-31),we=Z>>>0,(we&2147483648)==0&&(Z/=2,++ye,we=Z>>>0),Z-=we,we|=2147483648,we>>>=0,Z*=Math.pow(2,32),ge=Z>>>0,ce.write_shift(4,ge),ce.write_shift(4,we),ye+=16383+(fe?32768:0),ce.write_shift(2,ye),ce}function k(U,Y){var V=C(U);return U.l+=Y-14,V}function P(U,Y){var V=j(U),Z=U.read_shift(4);return V[1].v=Z>>6,V}function D(U,Y){var V=j(U),Z=U.read_shift(8,"f");return V[1].v=Z,V}function H(U,Y){var V=D(U);return U.l+=Y-10,V}function F(U,Y){return U[U.l+Y-1]==0?U.read_shift(Y,"cstr"):""}function z(U,Y){var V=U[U.l++];V>Y-1&&(V=Y-1);for(var Z="";Z.length<V;)Z+=String.fromCharCode(U[U.l++]);return Z}function O(U,Y,V){if(!(!V.qpro||Y<21)){var Z=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var ce=U.read_shift(Y-21,"cstr");return[Z,ce]}}function W(U,Y){for(var V={},Z=U.l+Y;U.l<Z;){var ce=U.read_shift(2);if(ce==14e3){for(V[ce]=[0,""],V[ce][0]=U.read_shift(2);U[U.l];)V[ce][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return V}function ee(U,Y){var V=Wa(5+U.length);V.write_shift(2,14e3),V.write_shift(2,Y);for(var Z=0;Z<U.length;++Z){var ce=U.charCodeAt(Z);V[V.l++]=ce>127?95:ce}return V[V.l++]=0,V}var K={0:{n:"BOF",f:Da},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:k},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:W},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:O},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:e}})();function EPe(t){var e={},r=t.match(uo),s=0,a=!1;if(r)for(;s!=r.length;++s){var i=Fr(r[s]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=xP[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var TPe=(function(){var t=Db("t"),e=Db("rPr");function r(i){var o=i.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:An(o[1])},c=i.match(e);return c&&(l.s=EPe(c[1])),l}var s=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(s,"").split(a).map(r).filter(function(l){return l.v})}})(),MPe=(function(){var e=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function s(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(s).join("")}})(),PPe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,DPe=/<(?:\w+:)?r>/,RPe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function DP(t,e){var r=e?e.cellHTML:!0,s={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(s.t=An(Ms(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),s.r=Ms(t),r&&(s.h=NP(s.t))):t.match(DPe)&&(s.r=Ms(t),s.t=An(Ms((t.replace(RPe,"").match(PPe)||[]).join("").replace(uo,""))),r&&(s.h=MPe(TPe(s.r)))),s):{t:""}}var LPe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,OPe=/<(?:\w+:)?(?:si|sstItem)>/g,IPe=/<\/(?:\w+:)?(?:si|sstItem)>/;function FPe(t,e){var r=[],s="";if(!t)return r;var a=t.match(LPe);if(a){s=a[2].replace(OPe,"").split(IPe);for(var i=0;i!=s.length;++i){var o=DP(s[i].trim(),e);o!=null&&(r[r.length]=o)}a=Fr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function BPe(t){return[t.read_shift(4),t.read_shift(4)]}function UPe(t,e){var r=[],s=!1;return Oh(t,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:s=!0;break;case 36:s=!1;break;default:if(o.T,!s||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function PJ(t){for(var e=[],r=t.split(""),s=0;s<r.length;++s)e[s]=r[s].charCodeAt(0);return e}function Ah(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function zPe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Ah(t,4),e.U=Ah(t,4),e.W=Ah(t,4),e}function $Pe(t){for(var e=t.read_shift(4),r=t.l+e-4,s={},a=t.read_shift(4),i=[];a-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(s.name=t.read_shift(0,"lpp4"),s.comps=i,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return s}function HPe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push($Pe(t));return e}function WPe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function qPe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Ah(t,4),e.U=Ah(t,4),e.W=Ah(t,4),e}function GPe(t){var e=qPe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function DJ(t,e){var r=t.l+e,s={};s.Flags=t.read_shift(4)&63,t.l+=4,s.AlgID=t.read_shift(4);var a=!1;switch(s.AlgID){case 26126:case 26127:case 26128:a=s.Flags==36;break;case 26625:a=s.Flags==4;break;case 0:a=s.Flags==16||s.Flags==4||s.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+s.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return s.AlgIDHash=t.read_shift(4),s.KeySize=t.read_shift(4),s.ProviderType=t.read_shift(4),t.l+=8,s.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,s}function RJ(t,e){var r={},s=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,s),t.l=s,r}function VPe(t){var e=Ah(t);switch(e.Minor){case 2:return[e.Minor,XPe(t)];case 3:return[e.Minor,YPe()];case 4:return[e.Minor,KPe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function XPe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),s=DJ(t,r),a=RJ(t,t.length-t.l);return{t:"Std",h:s,v:a}}function YPe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function KPe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),s={};return r.replace(uo,function(i){var o=Fr(i);switch(xu(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){s[l]=o[l]});break;case"<dataIntegrity":s.encryptedHmacKey=o.encryptedHmacKey,s.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":s.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":s.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":s.encs.push(o);break;default:throw o[0]}}),s}function JPe(t,e){var r={},s=r.EncryptionVersionInfo=Ah(t,4);if(e-=4,s.Minor!=2)throw new Error("unrecognized minor version code: "+s.Minor);if(s.Major>4||s.Major<2)throw new Error("unrecognized major version code: "+s.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=DJ(t,a),e-=a,r.EncryptionVerifier=RJ(t,e),r}function QPe(t){var e={},r=e.EncryptionVersionInfo=Ah(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function ZPe(t){var e=0,r,s=PJ(t),a=s.length+1,i,o,l,c,d;for(r=t0(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=(e&16384)===0?0:1,c=e<<1&32767,d=l|c,e=d^o;return e^52811}var LJ=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],s=function(o){return(o/2|o*128)&255},a=function(o,l){return s(o^l)},i=function(o){for(var l=e[o.length-1],c=104,d=o.length-1;d>=0;--d)for(var u=o[d],h=0;h!=7;++h)u&64&&(l^=r[c]),u*=2,--c;return l};return function(o){for(var l=PJ(o),c=i(l),d=l.length,u=t0(16),h=0;h!=16;++h)u[h]=0;var m,f,x;for((d&1)===1&&(m=c>>8,u[d]=a(t[0],m),--d,m=c&255,f=l[l.length-1],u[d]=a(f,m));d>0;)--d,m=c>>8,u[d]=a(l[d],m),--d,m=c&255,u[d]=a(l[d],m);for(d=15,x=15-l.length;x>0;)m=c>>8,u[d]=a(t[x],m),--d,--x,m=c&255,u[d]=a(l[d],m),--d,--x;return u}})(),e8e=function(t,e,r,s,a){a||(a=e),s||(s=LJ(t));var i,o;for(i=0;i!=e.length;++i)o=e[i],o^=s[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,s]},t8e=function(t){var e=0,r=LJ(t);return function(s){var a=e8e("",s,e,r);return e=a[1],a[0]}};function r8e(t,e,r,s){var a={key:Da(t),verificationBytes:Da(t)};return r.password&&(a.verifier=ZPe(r.password)),s.valid=a.verificationBytes===a.verifier,s.valid&&(s.insitu=t8e(r.password)),a}function n8e(t,e,r){var s=r||{};return s.Info=t.read_shift(2),t.l-=2,s.Info===1?s.Data=QPe(t):s.Data=JPe(t,e),s}function s8e(t,e,r){var s={Type:r.biff>=8?t.read_shift(2):0};return s.Type?n8e(t,e-2,s):r8e(t,r.biff>=8?e:e-2,r,s),s}var a8e=(function(){function t(a,i){switch(i.type){case"base64":return e(Ll(a),i);case"binary":return e(a,i);case"buffer":return e(yn&&Buffer.isBuffer(a)?a.toString("binary"):pp(a),i);case"array":return e(Zm(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,f=0,x,v=-1;x=m.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(f,m.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var b={v:g,t:"s"};Array.isArray(l)?l[h][v]=b:l[Xr({r:h,c:v})]=b}break}f=m.lastIndex}v>d.e.c&&(d.e.c=v)}),l["!ref"]=jn(d),l}function r(a,i){return c0(t(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=fa(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=Xr({r:d,c:u});l=c?(a[d]||[])[u]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Ph(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:s}})();function i8e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Ob(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function o8e(t){var e=t[0]/255,r=t[1]/255,s=t[2]/255,a=Math.max(e,r,s),i=Math.min(e,r,s),o=a-i;if(o===0)return[0,0,e];var l=0,c=0,d=a+i;switch(c=o/(d>1?2-d:d),a){case e:l=((r-s)/o+6)%6;break;case r:l=(s-e)/o+2;break;case s:l=(e-r)/o+4;break}return[l/6,c,d/2]}function l8e(t){var e=t[0],r=t[1],s=t[2],a=r*2*(s<.5?s:1-s),i=s-a/2,o=[i,i,i],l=6*e,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function jN(t,e){if(e===0)return t;var r=o8e(i8e(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Ob(l8e(r))}var OJ=6,c8e=15,d8e=1,wo=OJ;function NN(t){return Math.floor((t+Math.round(128/wo)/256)*wo)}function SN(t){return Math.floor((t-5)/wo*100+.5)/100}function nT(t){return Math.round((t*wo+5)/wo*256)/256}function XC(t){return nT(SN(NN(t)))}function RP(t){var e=Math.abs(t-XC(t)),r=wo;if(e>.005)for(wo=d8e;wo<c8e;++wo)Math.abs(t-XC(t))<=e&&(e=Math.abs(t-XC(t)),r=wo);wo=r}function Ag(t){t.width?(t.wpx=NN(t.width),t.wch=SN(t.wpx),t.MDW=wo):t.wpx?(t.wch=SN(t.wpx),t.width=nT(t.wch),t.MDW=wo):typeof t.wch=="number"&&(t.width=nT(t.wch),t.wpx=NN(t.width),t.MDW=wo),t.customWidth&&delete t.customWidth}var u8e=96,IJ=u8e;function FJ(t){return t*96/IJ}function Ib(t){return t*IJ/96}var h8e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function f8e(t,e,r,s){e.Borders=[];var a={},i=!1;(t[0].match(uo)||[]).forEach(function(o){var l=Fr(o);switch(xu(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Gs(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Gs(l.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function m8e(t,e,r,s){e.Fills=[];var a={},i=!1;(t[0].match(uo)||[]).forEach(function(o){var l=Fr(o);switch(xu(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function p8e(t,e,r,s){e.Fonts=[];var a={},i=!1;(t[0].match(uo)||[]).forEach(function(o){var l=Fr(o);switch(xu(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Ms(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Gs(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Gs(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Gs(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Gs(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Gs(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Gs(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Gs(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=xP[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Gs(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Om[a.color.index];a.color.index==81&&(c=Om[1]),c||(c=Om[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=jN(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s&&s.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function x8e(t,e,r){e.NumberFmt=[];for(var s=hu(Qr),a=0;a<s.length;++a)e.NumberFmt[s[a]]=Qr[s[a]];var i=t[0].match(uo);if(i)for(a=0;a<i.length;++a){var o=Fr(i[a]);switch(xu(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=An(Ms(o.formatCode)),c=parseInt(o.numFmtId,10);if(e.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=l}Lm(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var dw=["numFmtId","fillId","fontId","borderId","xfId"],uw=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function g8e(t,e,r){e.CellXf=[];var s,a=!1;(t[0].match(uo)||[]).forEach(function(i){var o=Fr(i),l=0;switch(xu(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(s=o,delete s[0],l=0;l<dw.length;++l)s[dw[l]]&&(s[dw[l]]=parseInt(s[dw[l]],10));for(l=0;l<uw.length;++l)s[uw[l]]&&(s[uw[l]]=Gs(s[uw[l]]));if(e.NumberFmt&&s.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[s.numFmtId]==e.NumberFmt[l]){s.numFmtId=l;break}}e.CellXf.push(s);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Gs(o.wrapText)),s.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var v8e=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,s=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,d){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=l.match(e))&&x8e(h,u,d),(h=l.match(a))&&p8e(h,u,c,d),(h=l.match(s))&&m8e(h,u,c,d),(h=l.match(i))&&f8e(h,u,c,d),(h=l.match(r))&&g8e(h,u,d),u}})();function y8e(t,e){var r=t.read_shift(2),s=ao(t);return[r,s]}function b8e(t,e,r){var s={};s.sz=t.read_shift(2)/20;var a=TTe(t);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=t.read_shift(2);switch(i===700&&(s.bold=1),t.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(s.underline=o);var l=t.read_shift(1);l>0&&(s.family=l);var c=t.read_shift(1);switch(c>0&&(s.charset=c),t.l++,s.color=ETe(t),t.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=ao(t),s}var w8e=lo;function j8e(t,e){var r=t.l+e,s=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:s,numFmtId:a}}var N8e=lo;function S8e(t,e,r){var s={};s.NumberFmt=[];for(var a in Qr)s.NumberFmt[a]=Qr[a];s.CellXf=[],s.Fonts=[];var i=[],o=!1;return Oh(t,function(c,d,u){switch(u){case 44:s.NumberFmt[c[0]]=c[1],Lm(c[1],c[0]);break;case 43:s.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=jN(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&s.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(u),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(u);else if(d.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),s}var _8e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function A8e(t,e,r){e.themeElements.clrScheme=[];var s={};(t[0].match(uo)||[]).forEach(function(a){var i=Fr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":s.rgb=i.val;break;case"<a:sysClr":s.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[_8e.indexOf(i[0])]=s,s={}):s.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function C8e(){}function k8e(){}var E8e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,T8e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,M8e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function P8e(t,e,r){e.themeElements={};var s;[["clrScheme",E8e,A8e],["fontScheme",T8e,C8e],["fmtScheme",M8e,k8e]].forEach(function(a){if(!(s=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](s,e,r)})}var D8e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function BJ(t,e){(!t||t.length===0)&&(t=R8e());var r,s={};if(!(r=t.match(D8e)))throw new Error("themeElements not found in theme");return P8e(r[0],s,e),s.raw=t,s}function R8e(t,e){var r=[KK];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function L8e(t,e,r){var s=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=s;return}var i=t.slice(t.l);t.l=s;var o;try{o=YK(i,{type:"array"})}catch{return}var l=Al(o,"theme/theme/theme1.xml",!0);if(l)return BJ(l,r)}}function O8e(t){return t.read_shift(4)}function I8e(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=F8e(t,4);break;case 2:e.xclrValue=_J(t);break;case 3:e.xclrValue=O8e(t);break;case 4:t.l+=4;break}return t.l+=8,e}function F8e(t,e){return lo(t,e)}function B8e(t,e){return lo(t,e)}function U8e(t){var e=t.read_shift(2),r=t.read_shift(2)-4,s=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:s[1]=I8e(t);break;case 6:s[1]=B8e(t,r);break;case 14:case 15:s[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return s}function z8e(t,e){var r=t.l+e;t.l+=2;var s=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),i=[];a-- >0;)i.push(U8e(t,r-t.l));return{ixfe:s,ext:i}}function $8e(t,e){e.forEach(function(r){r[0]})}function H8e(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ao(t)}}function W8e(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function q8e(t){return t.l+=4,t.read_shift(4)!=0}function G8e(t,e,r){var s={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return Oh(t,function(c,d,u){switch(u){case 335:s.Types.push({name:c.name});break;case 51:c.forEach(function(h){l==1?s.Cell.push({type:s.Types[h[0]-1].name,index:h[1]}):l==0&&s.Value.push({type:s.Types[h[0]-1].name,index:h[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),s}function V8e(t,e,r){var s={Types:[],Cell:[],Value:[]};if(!t)return s;var a=!1,i=2,o;return t.replace(uo,function(l){var c=Fr(l);switch(xu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":s.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<s.Types.length;++d)s.Types[d].name==c.name&&(o=s.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?s.Cell.push({type:s.Types[c.t-1].name,index:+c.v}):i==0&&s.Value.push({type:s.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),s}function X8e(t){var e=[];if(!t)return e;var r=1;return(t.match(uo)||[]).forEach(function(s){var a=Fr(s);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function Y8e(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Xr(r);var s=t.read_shift(1);return s&2&&(e.l="1"),s&8&&(e.a="1"),e}function K8e(t,e,r){var s=[];return Oh(t,function(i,o,l){switch(l){case 63:s.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),s}function J8e(t,e,r,s){if(!t)return t;var a=s||{},i=!1;Oh(t,function(l,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function Q8e(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function l$(t,e,r,s){var a=Array.isArray(t),i;e.forEach(function(o){var l=_o(o.ref);if(a?(t[l.r]||(t[l.r]=[]),i=t[l.r][l.c]):i=t[o.ref],!i){i={t:"z"},a?t[l.r][l.c]=i:t[o.ref]=i;var c=fa(t["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var d=jn(c);d!==t["!ref"]&&(t["!ref"]=d)}i.c||(i.c=[]);var u={a:o.author,t:o.t,r:o.r,T:r};o.h&&(u.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!r&&i.c[h].T)return;r&&!i.c[h].T&&i.c.splice(h,1)}if(r&&s){for(h=0;h<s.length;++h)if(u.a==s[h].id){u.a=s[h].name||u.a;break}}i.c.push(u)})}function Z8e(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],s=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Fr(l[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=_o(c.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&DP(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=m.h),s.push(d)}}}}),s}function eDe(t,e){var r=[],s=!1,a={},i=0;return t.replace(uo,function(l,c){var d=Fr(l);switch(xu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=t.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":s=!0;break;case"</mentions>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return l}),r}function tDe(t,e){var r=[],s=!1;return t.replace(uo,function(i){var o=Fr(i);switch(xu(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(!s&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function rDe(t){var e={};e.iauthor=t.read_shift(4);var r=gp(t);return e.rfx=r.s,e.ref=Xr(r.s),t.l+=16,e}var nDe=ao;function sDe(t,e){var r=[],s=[],a={},i=!1;return Oh(t,function(l,c,d){switch(d){case 632:s.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=s[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}var aDe="application/vnd.ms-office.vbaProject";function iDe(t){var e=wn.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,s){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");wn.utils.cfb_add(e,a,t.FileIndex[s].content)}}),wn.write(e)}function oDe(){return{"!type":"dialog"}}function lDe(){return{"!type":"dialog"}}function cDe(){return{"!type":"macro"}}function dDe(){return{"!type":"macro"}}var Rx=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=e.c:--u,c?d+=e.r:--d,a+(l?"":"$")+Ya(u)+(c?"":"$")+Ei(d)}return function(a,i){return e=i,a.replace(t,r)}})(),UJ=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,uDe=(function(){return function(e,r){return e.replace(UJ,function(s,a,i,o,l,c){var d=CP(o)-(i?0:r.c),u=AP(c)-(l?0:r.r),h=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return a+"R"+h+"C"+m})}})();function zJ(t,e){return t.replace(UJ,function(r,s,a,i,o,l){return s+(a=="$"?a+i:Ya(CP(i)+e.c))+(o=="$"?o+l:Ei(AP(l)+e.r))})}function hDe(t,e,r){var s=Kg(e),a=s.s,i=_o(r),o={r:i.r-a.r,c:i.c-a.c};return zJ(t,o)}function fDe(t){return t.length!=1}function c$(t){return t.replace(/_xlfn\./g,"")}function Ta(t){t.l+=1}function r0(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function $J(t,e,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return HJ(t);r.biff==12&&(s=4)}var a=t.read_shift(s),i=t.read_shift(s),o=r0(t),l=r0(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function HJ(t){var e=r0(t),r=r0(t),s=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:s,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function mDe(t,e,r){if(r.biff<8)return HJ(t);var s=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=r0(t),o=r0(t);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function WJ(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return pDe(t);var s=t.read_shift(r&&r.biff==12?4:2),a=r0(t);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function pDe(t){var e=r0(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function xDe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function gDe(t,e,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return vDe(t);var a=t.read_shift(s>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function vDe(t){var e=t.read_shift(2),r=t.read_shift(1),s=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,s==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:s}}function yDe(t,e,r){var s=(t[t.l++]&96)>>5,a=$J(t,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function bDe(t,e,r){var s=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=$J(t,i,r);return[s,a,o]}function wDe(t,e,r){var s=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function jDe(t,e,r){var s=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[s,a]}function NDe(t,e,r){var s=(t[t.l++]&96)>>5,a=mDe(t,e-1,r);return[s,a]}function SDe(t,e,r){var s=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[s]}function d$(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function _De(t,e,r){t.l+=2;for(var s=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function ADe(t,e,r){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(r&&r.biff==2?1:2)]}function CDe(t,e,r){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(r&&r.biff==2?1:2)]}function kDe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function EDe(t,e,r){var s=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[s]}function qJ(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function TDe(t){return t.read_shift(2),qJ(t)}function MDe(t){return t.read_shift(2),qJ(t)}function PDe(t,e,r){var s=(t[t.l]&96)>>5;t.l+=1;var a=WJ(t,0,r);return[s,a]}function DDe(t,e,r){var s=(t[t.l]&96)>>5;t.l+=1;var a=gDe(t,0,r);return[s,a]}function RDe(t,e,r){var s=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=WJ(t,0,r);return[s,a,i]}function LDe(t,e,r){var s=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[ORe[a],XJ[a],s]}function ODe(t,e,r){var s=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,t.read_shift(1)]:IDe(t);return[a,(i[0]===0?XJ:LRe)[i[1]]]}function IDe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function FDe(t,e,r){t.l+=r&&r.biff==2?3:4}function BDe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var s=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[s,a]}function UDe(t){return t.l++,vp[t.read_shift(1)]}function zDe(t){return t.l++,t.read_shift(2)}function $De(t){return t.l++,t.read_shift(1)!==0}function HDe(t){return t.l++,to(t)}function WDe(t,e,r){return t.l++,N1(t,e-1,r)}function qDe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=xa(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=vp[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=to(t);break;case 2:r[1]=yp(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function GDe(t,e,r){for(var s=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?gp:O5)(t));return a}function VDe(t,e,r){var s=0,a=0;r.biff==12?(s=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),s=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=qDe(t,r.biff);return o}function XDe(t,e,r){var s=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[s,0,i]}function YDe(t,e,r){if(r.biff==5)return KDe(t);var s=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[s,a,i]}function KDe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var s=t.read_shift(2);return t.l+=12,[e,r,s]}function JDe(t,e,r){var s=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[s,a]}function QDe(t,e,r){var s=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[s,a]}function ZDe(t,e,r){var s=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[s]}function eRe(t,e,r){var s=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[s,a]}var tRe=lo,rRe=lo,nRe=lo;function _1(t,e,r){return t.l+=2,[xDe(t)]}function LP(t){return t.l+=6,[]}var sRe=_1,aRe=LP,iRe=LP,oRe=_1;function GJ(t){return t.l+=2,[Da(t),t.read_shift(2)&1]}var lRe=_1,cRe=GJ,dRe=LP,uRe=_1,hRe=_1,fRe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function mRe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),o=fRe[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:s,c:a,C:i}}function pRe(t){return t.l+=2,[t.read_shift(4)]}function xRe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function gRe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function vRe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function yRe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function bRe(t){return t.l+=4,[0,0]}var u$={1:{n:"PtgExp",f:BDe},2:{n:"PtgTbl",f:nRe},3:{n:"PtgAdd",f:Ta},4:{n:"PtgSub",f:Ta},5:{n:"PtgMul",f:Ta},6:{n:"PtgDiv",f:Ta},7:{n:"PtgPower",f:Ta},8:{n:"PtgConcat",f:Ta},9:{n:"PtgLt",f:Ta},10:{n:"PtgLe",f:Ta},11:{n:"PtgEq",f:Ta},12:{n:"PtgGe",f:Ta},13:{n:"PtgGt",f:Ta},14:{n:"PtgNe",f:Ta},15:{n:"PtgIsect",f:Ta},16:{n:"PtgUnion",f:Ta},17:{n:"PtgRange",f:Ta},18:{n:"PtgUplus",f:Ta},19:{n:"PtgUminus",f:Ta},20:{n:"PtgPercent",f:Ta},21:{n:"PtgParen",f:Ta},22:{n:"PtgMissArg",f:Ta},23:{n:"PtgStr",f:WDe},26:{n:"PtgSheet",f:xRe},27:{n:"PtgEndSheet",f:gRe},28:{n:"PtgErr",f:UDe},29:{n:"PtgBool",f:$De},30:{n:"PtgInt",f:zDe},31:{n:"PtgNum",f:HDe},32:{n:"PtgArray",f:SDe},33:{n:"PtgFunc",f:LDe},34:{n:"PtgFuncVar",f:ODe},35:{n:"PtgName",f:XDe},36:{n:"PtgRef",f:PDe},37:{n:"PtgArea",f:yDe},38:{n:"PtgMemArea",f:JDe},39:{n:"PtgMemErr",f:tRe},40:{n:"PtgMemNoMem",f:rRe},41:{n:"PtgMemFunc",f:QDe},42:{n:"PtgRefErr",f:ZDe},43:{n:"PtgAreaErr",f:wDe},44:{n:"PtgRefN",f:DDe},45:{n:"PtgAreaN",f:NDe},46:{n:"PtgMemAreaN",f:vRe},47:{n:"PtgMemNoMemN",f:yRe},57:{n:"PtgNameX",f:YDe},58:{n:"PtgRef3d",f:RDe},59:{n:"PtgArea3d",f:bDe},60:{n:"PtgRefErr3d",f:eRe},61:{n:"PtgAreaErr3d",f:jDe},255:{}},wRe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},jRe={1:{n:"PtgElfLel",f:GJ},2:{n:"PtgElfRw",f:uRe},3:{n:"PtgElfCol",f:sRe},6:{n:"PtgElfRwV",f:hRe},7:{n:"PtgElfColV",f:oRe},10:{n:"PtgElfRadical",f:lRe},11:{n:"PtgElfRadicalS",f:dRe},13:{n:"PtgElfColS",f:aRe},15:{n:"PtgElfColSV",f:iRe},16:{n:"PtgElfRadicalLel",f:cRe},25:{n:"PtgList",f:mRe},29:{n:"PtgSxName",f:pRe},255:{}},NRe={0:{n:"PtgAttrNoop",f:bRe},1:{n:"PtgAttrSemi",f:EDe},2:{n:"PtgAttrIf",f:CDe},4:{n:"PtgAttrChoose",f:_De},8:{n:"PtgAttrGoto",f:ADe},16:{n:"PtgAttrSum",f:FDe},32:{n:"PtgAttrBaxcel",f:d$},33:{n:"PtgAttrBaxcel",f:d$},64:{n:"PtgAttrSpace",f:TDe},65:{n:"PtgAttrSpaceSemi",f:MDe},128:{n:"PtgAttrIfError",f:kDe},255:{}};function A1(t,e,r,s){if(s.biff<8)return lo(t,e);for(var a=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=VDe(t,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=GDe(t,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=a-t.l,e!==0&&i.push(lo(t,e)),i}function C1(t,e,r){for(var s=t.l+e,a,i,o=[];s!=t.l;)e=s-t.l,i=t[t.l],a=u$[i]||u$[wRe[i]],(i===24||i===25)&&(a=(i===24?jRe:NRe)[t[t.l+1]]),!a||!a.f?lo(t,e):o.push([a.n,a.f(t,e,r)]);return o}function SRe(t){for(var e=[],r=0;r<t.length;++r){for(var s=t[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var _Re={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ARe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function VJ(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var s=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[s[0]][0]){case 357:return a=s[1]==-1?"#REF":t.SheetNames[s[1]],s[1]==s[2]?a:a+":"+t.SheetNames[s[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[s[0]][0];case 355:default:return"SH33TJSSRC"+t[s[0]][0]}switch(t[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":t.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+t.SheetNames[s[2]];case 14849:return t[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[s[0]][0][3]?(a=s[1]==-1?"#REF":t[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+t[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function h$(t,e,r){var s=VJ(t,e,r);return s=="#REF"?s:ARe(s,r)}function Zi(t,e,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,d,u,h=0,m=0,f,x="";if(!t[0]||!t[0][0])return"";for(var v=-1,g="",b=0,N=t[0].length;b<N;++b){var w=t[0][b];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),v>=0){switch(t[0][v][1][0]){case 0:g=da(" ",t[0][v][1][1]);break;case 1:g=da("\r",t[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}d=d+g,v=-1}l.push(d+_Re[w[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Cy(w[1][1],o,a),l.push(ky(u,i));break;case"PtgRefN":u=r?Cy(w[1][1],r,a):w[1][1],l.push(ky(u,i));break;case"PtgRef3d":h=w[1][1],u=Cy(w[1][2],o,a),x=h$(s,h,a),l.push(x+"!"+ky(u,i));break;case"PtgFunc":case"PtgFuncVar":var A=w[1][0],j=w[1][1];A||(A=0),A&=127;var S=A==0?[]:l.slice(-A);l.length-=A,j==="User"&&(j=S.shift()),l.push(j+"("+S.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":f=Gz(w[1][1],r?{s:r}:o,a),l.push(GC(f,a));break;case"PtgArea":f=Gz(w[1][1],o,a),l.push(GC(f,a));break;case"PtgArea3d":h=w[1][1],f=w[1][2],x=h$(s,h,a),l.push(x+"!"+GC(f,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var E=(s.names||[])[m-1]||(s[0]||[])[m],R=E?E.Name:"SH33TJSNAME"+String(m);R&&R.slice(0,6)=="_xlfn."&&!a.xlfn&&(R=R.slice(6)),l.push(R);break;case"PtgNameX":var C=w[1][1];m=w[1][2];var T;if(a.biff<=5)C<0&&(C=-C),s[C]&&(T=s[C][m]);else{var k="";if(((s[C]||[])[0]||[])[0]==14849||(((s[C]||[])[0]||[])[0]==1025?s[C][m]&&s[C][m].itab>0&&(k=s.SheetNames[s[C][m].itab-1]+"!"):k=s.SheetNames[m-1]+"!"),s[C]&&s[C][m])k+=s[C][m].Name;else if(s[0]&&s[0][m])k+=s[0][m].Name;else{var P=(VJ(s,C,a)||"").split(";;");P[m-1]?k=P[m-1]:k+="SH33TJSERRX"}l.push(k);break}T||(T={Name:"SH33TJSERRY"}),l.push(T.Name);break;case"PtgParen":var D="(",H=")";if(v>=0){switch(g="",t[0][v][1][0]){case 2:D=da(" ",t[0][v][1][1])+D;break;case 3:D=da("\r",t[0][v][1][1])+D;break;case 4:H=da(" ",t[0][v][1][1])+H;break;case 5:H=da("\r",t[0][v][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}l.push(D+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var F={c:r.c,r:r.r};if(s.sharedf[Xr(u)]){var z=s.sharedf[Xr(u)];l.push(Zi(z,o,F,s,a))}else{var O=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Zi(d[1],o,F,s,a)),O=!0;break}O||l.push(w[1])}break;case"PtgArray":l.push("{"+SRe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var W=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&W.indexOf(t[0][b][0])==-1){w=t[0][v];var ee=!0;switch(w[1][0]){case 4:ee=!1;case 0:g=da(" ",w[1][1]);break;case 5:ee=!1;case 1:g=da("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((ee?g:"")+l.pop()+(ee?"":g)),v=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function CRe(t,e,r){var s=t.l+e,a=r.biff==2?1:2,i,o=t.read_shift(a);if(o==65535)return[[],lo(t,e-2)];var l=C1(t,o,r);return e!==o+a&&(i=A1(t,e-o-a,l,r)),t.l=s,[l,i]}function kRe(t,e,r){var s=t.l+e,a=r.biff==2?1:2,i,o=t.read_shift(a);if(o==65535)return[[],lo(t,e-2)];var l=C1(t,o,r);return e!==o+a&&(i=A1(t,e-o-a,l,r)),t.l=s,[l,i]}function ERe(t,e,r,s){var a=t.l+e,i=C1(t,s,r),o;return a!==t.l&&(o=A1(t,a-t.l,i,r)),[i,o]}function TRe(t,e,r){var s=t.l+e,a,i=t.read_shift(2),o=C1(t,i,r);return i==65535?[[],lo(t,e-2)]:(e!==i+2&&(a=A1(t,s-i-2,o,r)),[o,a])}function MRe(t){var e;if(gh(t,t.l+6)!==65535)return[to(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function YC(t,e,r){var s=t.l+e,a=gu(t);r.biff==2&&++t.l;var i=MRe(t),o=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var l=kRe(t,s-t.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function I5(t,e,r){var s=t.read_shift(4),a=C1(t,s,r),i=t.read_shift(4),o=i>0?A1(t,i,a,r):null;return[a,o]}var PRe=I5,F5=I5,DRe=I5,RRe=I5,LRe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},XJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ORe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function f$(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function KC(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Py={},Lx={};function Dy(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function YJ(t,e,r,s,a,i){try{s.cellNF&&(t.z=Qr[e])}catch(l){if(s.WTF)throw l}if(!(t.t==="z"&&!s.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=fi(t.v)),(!s||s.cellText!==!1)&&t.t!=="z")try{if(Qr[e]==null&&Lm(IEe[e]||"General",e),t.t==="e")t.w=t.w||vp[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Pb(t.v);else if(t.t==="d"){var o=Eo(t.v);(o|0)===o?t.w=o.toString(10):t.w=Pb(o)}else{if(t.v===void 0)return"";t.w=Qm(t.v,Lx)}else t.t==="d"?t.w=bc(e,Eo(t.v),Lx):t.w=bc(e,t.v,Lx)}catch(l){if(s.WTF)throw l}if(s.cellStyles&&r!=null)try{t.s=i.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=jN(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),s.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=jN(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),s.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(s.WTF&&i.Fills)throw l}}}function IRe(t,e){var r=fa(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=jn(r))}var FRe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,BRe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,URe=/<(?:\w:)?hyperlink [^>]*>/mg,zRe=/"(\w*:\w*)"/,$Re=/<(?:\w:)?col\b[^>]*[\/]?>/g,HRe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,WRe=/<(?:\w:)?pageMargins[^>]*\/>/g,KJ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,qRe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,GRe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function VRe(t,e,r,s,a,i,o){if(!t)return t;s||(s={"!id":{}});var l=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",u="",h=t.match(BRe);h?(d=t.slice(0,h.index),u=t.slice(h.index+h[0].length)):d=u=t;var m=d.match(KJ);m?OP(m[0],l,a,r):(m=d.match(qRe))&&XRe(m[0],m[1]||"",l,a,r);var f=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var x=d.slice(f,f+50).match(zRe);x&&IRe(l,x[1])}var v=d.match(GRe);v&&v[1]&&eLe(v[1],a);var g=[];if(e.cellStyles){var b=d.match($Re);b&&JRe(g,b)}h&&tLe(h[1],l,e,c,i,o);var N=u.match(HRe);N&&(l["!autofilter"]=QRe(N[0]));var w=[],A=u.match(FRe);if(A)for(f=0;f!=A.length;++f)w[f]=fa(A[f].slice(A[f].indexOf('"')+1));var j=u.match(URe);j&&YRe(l,j,s);var S=u.match(WRe);if(S&&(l["!margins"]=KRe(Fr(S[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=jn(c)),e.sheetRows>0&&l["!ref"]){var E=fa(l["!ref"]);e.sheetRows<=+E.e.r&&(E.e.r=e.sheetRows-1,E.e.r>c.e.r&&(E.e.r=c.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>c.e.c&&(E.e.c=c.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),l["!fullref"]=l["!ref"],l["!ref"]=jn(E))}return g.length>0&&(l["!cols"]=g),w.length>0&&(l["!merges"]=w),l}function OP(t,e,r,s){var a=Fr(t);r.Sheets[s]||(r.Sheets[s]={}),a.codeName&&(r.Sheets[s].CodeName=An(Ms(a.codeName)))}function XRe(t,e,r,s,a){OP(t.slice(0,t.indexOf(">")),r,s,a)}function YRe(t,e,r){for(var s=Array.isArray(t),a=0;a!=e.length;++a){var i=Fr(Ms(e[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+An(i.location))):(i.Target="#"+An(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=fa(i.ref),c=l.s.r;c<=l.e.r;++c)for(var d=l.s.c;d<=l.e.c;++d){var u=Xr({c:d,r:c});s?(t[c]||(t[c]=[]),t[c][d]||(t[c][d]={t:"z",v:void 0}),t[c][d].l=i):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=i)}}}function KRe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function JRe(t,e){for(var r=!1,s=0;s!=e.length;++s){var a=Fr(e[s],!0);a.hidden&&(a.hidden=Gs(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,RP(a.width)),Ag(a);i<=o;)t[i++]=ki(a)}}function QRe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var ZRe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function eLe(t,e){e.Views||(e.Views=[{}]),(t.match(ZRe)||[]).forEach(function(r,s){var a=Fr(r);e.Views[s]||(e.Views[s]={}),+a.zoomScale&&(e.Views[s].zoom=+a.zoomScale),Gs(a.rightToLeft)&&(e.Views[s].RTL=!0)})}var tLe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,s=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Db("v"),o=Db("f");return function(c,d,u,h,m,f){for(var x=0,v="",g=[],b=[],N=0,w=0,A=0,j="",S,E,R=0,C=0,T,k,P=0,D=0,H=Array.isArray(f.CellXf),F,z=[],O=[],W=Array.isArray(d),ee=[],K={},re=!1,U=!!u.sheetStubs,Y=c.split(e),V=0,Z=Y.length;V!=Z;++V){v=Y[V].trim();var ce=v.length;if(ce!==0){var fe=0;e:for(x=0;x<ce;++x)switch(v[x]){case">":if(v[x-1]!="/"){++x;break e}if(u&&u.cellStyles){if(E=Fr(v.slice(fe,x),!0),R=E.r!=null?parseInt(E.r,10):R+1,C=-1,u.sheetRows&&u.sheetRows<R)continue;K={},re=!1,E.ht&&(re=!0,K.hpt=parseFloat(E.ht),K.hpx=Ib(K.hpt)),E.hidden=="1"&&(re=!0,K.hidden=!0),E.outlineLevel!=null&&(re=!0,K.level=+E.outlineLevel),re&&(ee[R-1]=K)}break;case"<":fe=x;break}if(fe>=x)break;if(E=Fr(v.slice(fe,x),!0),R=E.r!=null?parseInt(E.r,10):R+1,C=-1,!(u.sheetRows&&u.sheetRows<R)){h.s.r>R-1&&(h.s.r=R-1),h.e.r<R-1&&(h.e.r=R-1),u&&u.cellStyles&&(K={},re=!1,E.ht&&(re=!0,K.hpt=parseFloat(E.ht),K.hpx=Ib(K.hpt)),E.hidden=="1"&&(re=!0,K.hidden=!0),E.outlineLevel!=null&&(re=!0,K.level=+E.outlineLevel),re&&(ee[R-1]=K)),g=v.slice(x).split(t);for(var ye=0;ye!=g.length&&g[ye].trim().charAt(0)=="<";++ye);for(g=g.slice(ye),x=0;x!=g.length;++x)if(v=g[x].trim(),v.length!==0){if(b=v.match(r),N=x,w=0,A=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,b!=null&&b.length===2){for(N=0,j=b[1],w=0;w!=j.length&&!((A=j.charCodeAt(w)-64)<1||A>26);++w)N=26*N+A;--N,C=N}else++C;for(w=0;w!=v.length&&v.charCodeAt(w)!==62;++w);if(++w,E=Fr(v.slice(0,w),!0),E.r||(E.r=Xr({r:R-1,c:C})),j=v.slice(w),S={t:""},(b=j.match(i))!=null&&b[1]!==""&&(S.v=An(b[1])),u.cellFormula){if((b=j.match(o))!=null&&b[1]!==""){if(S.f=An(Ms(b[1])).replace(/\r\n/g,`
`),u.xlfn||(S.f=c$(S.f)),b[0].indexOf('t="array"')>-1)S.F=(j.match(a)||[])[1],S.F.indexOf(":")>-1&&z.push([fa(S.F),S.F]);else if(b[0].indexOf('t="shared"')>-1){k=Fr(b[0]);var ge=An(Ms(b[1]));u.xlfn||(ge=c$(ge)),O[parseInt(k.si,10)]=[k,ge,E.r]}}else(b=j.match(/<f[^>]*\/>/))&&(k=Fr(b[0]),O[k.si]&&(S.f=hDe(O[k.si][1],O[k.si][2],E.r)));var we=_o(E.r);for(w=0;w<z.length;++w)we.r>=z[w][0].s.r&&we.r<=z[w][0].e.r&&we.c>=z[w][0].s.c&&we.c<=z[w][0].e.c&&(S.F=z[w][1])}if(E.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(U)S.t="z";else continue;else S.t=E.t||"n";switch(h.s.c>C&&(h.s.c=C),h.e.c<C&&(h.e.c=C),S.t){case"n":if(S.v==""||S.v==null){if(!U)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!U)continue;S.t="z"}else T=Py[parseInt(S.v,10)],S.v=T.t,S.r=T.r,u.cellHTML&&(S.h=T.h);break;case"str":S.t="s",S.v=S.v!=null?Ms(S.v):"",u.cellHTML&&(S.h=NP(S.v));break;case"inlineStr":b=j.match(s),S.t="s",b!=null&&(T=DP(b[1]))?(S.v=T.t,u.cellHTML&&(S.h=T.h)):S.v="";break;case"b":S.v=Gs(S.v);break;case"d":u.cellDates?S.v=fi(S.v,1):(S.v=Eo(fi(S.v,1)),S.t="n");break;case"e":(!u||u.cellText!==!1)&&(S.w=S.v),S.v=gJ[S.v];break}if(P=D=0,F=null,H&&E.s!==void 0&&(F=f.CellXf[E.s],F!=null&&(F.numFmtId!=null&&(P=F.numFmtId),u.cellStyles&&F.fillId!=null&&(D=F.fillId))),YJ(S,P,D,u,m,f),u.cellDates&&H&&S.t=="n"&&Yg(Qr[P])&&(S.t="d",S.v=L5(S.v)),E.cm&&u.xlmeta){var Re=(u.xlmeta.Cell||[])[+E.cm-1];Re&&Re.type=="XLDAPR"&&(S.D=!0)}if(W){var oe=_o(E.r);d[oe.r]||(d[oe.r]=[]),d[oe.r][oe.c]=S}else d[E.r]=S}}}}ee.length>0&&(d["!rows"]=ee)}})();function rLe(t,e){var r={},s=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var nLe=gp;function sLe(){}function aLe(t,e){var r={},s=t[t.l];return++t.l,r.above=!(s&64),r.left=!(s&128),t.l+=18,r.name=CTe(t),r}function iLe(t){var e=Ac(t);return[e]}function oLe(t){var e=xp(t);return[e]}function lLe(t){var e=Ac(t),r=t.read_shift(1);return[e,r,"b"]}function cLe(t){var e=xp(t),r=t.read_shift(1);return[e,r,"b"]}function dLe(t){var e=Ac(t),r=t.read_shift(1);return[e,r,"e"]}function uLe(t){var e=xp(t),r=t.read_shift(1);return[e,r,"e"]}function hLe(t){var e=Ac(t),r=t.read_shift(4);return[e,r,"s"]}function fLe(t){var e=xp(t),r=t.read_shift(4);return[e,r,"s"]}function mLe(t){var e=Ac(t),r=to(t);return[e,r,"n"]}function JJ(t){var e=xp(t),r=to(t);return[e,r,"n"]}function pLe(t){var e=Ac(t),r=TP(t);return[e,r,"n"]}function xLe(t){var e=xp(t),r=TP(t);return[e,r,"n"]}function gLe(t){var e=Ac(t),r=kP(t);return[e,r,"is"]}function vLe(t){var e=Ac(t),r=ao(t);return[e,r,"str"]}function yLe(t){var e=xp(t),r=ao(t);return[e,r,"str"]}function bLe(t,e,r){var s=t.l+e,a=Ac(t);a.r=r["!row"];var i=t.read_shift(1),o=[a,i,"b"];if(r.cellFormula){t.l+=2;var l=F5(t,s-t.l,r);o[3]=Zi(l,null,a,r.supbooks,r)}else t.l=s;return o}function wLe(t,e,r){var s=t.l+e,a=Ac(t);a.r=r["!row"];var i=t.read_shift(1),o=[a,i,"e"];if(r.cellFormula){t.l+=2;var l=F5(t,s-t.l,r);o[3]=Zi(l,null,a,r.supbooks,r)}else t.l=s;return o}function jLe(t,e,r){var s=t.l+e,a=Ac(t);a.r=r["!row"];var i=to(t),o=[a,i,"n"];if(r.cellFormula){t.l+=2;var l=F5(t,s-t.l,r);o[3]=Zi(l,null,a,r.supbooks,r)}else t.l=s;return o}function NLe(t,e,r){var s=t.l+e,a=Ac(t);a.r=r["!row"];var i=ao(t),o=[a,i,"str"];if(r.cellFormula){t.l+=2;var l=F5(t,s-t.l,r);o[3]=Zi(l,null,a,r.supbooks,r)}else t.l=s;return o}var SLe=gp;function _Le(t,e){var r=t.l+e,s=gp(t),a=EP(t),i=ao(t),o=ao(t),l=ao(t);t.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function ALe(){}function CLe(t,e,r){var s=t.l+e,a=mJ(t),i=t.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=PRe(t,s-t.l,r);o[1]=l}else t.l=s;return o}function kLe(t,e,r){var s=t.l+e,a=gp(t),i=[a];if(r.cellFormula){var o=RRe(t,s-t.l,r);i[1]=o,t.l=s}else t.l=s;return i}var ELe=["left","right","top","bottom","header","footer"];function TLe(t){var e={};return ELe.forEach(function(r){e[r]=to(t)}),e}function MLe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function PLe(){}function DLe(){}function RLe(t,e,r,s,a,i,o){if(!t)return t;var l=e||{};s||(s={"!id":{}});var c=l.dense?[]:{},d,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,f,x,v,g,b,N,w,A,j,S=[];l.biff=12,l["!row"]=0;var E=0,R=!1,C=[],T={},k=l.supbooks||a.supbooks||[[]];if(k.sharedf=T,k.arrayf=C,k.SheetNames=a.SheetNames||a.Sheets.map(function(W){return W.name}),!l.supbooks&&(l.supbooks=k,a.Names))for(var P=0;P<a.Names.length;++P)k[0][P+1]=a.Names[P];var D=[],H=[],F=!1;_N[16]={n:"BrtShortReal",f:JJ};var z;if(Oh(t,function(ee,K,re){if(!m)switch(re){case 148:d=ee;break;case 0:f=ee,l.sheetRows&&l.sheetRows<=f.r&&(m=!0),A=Ei(g=f.r),l["!row"]=f.r,(ee.hidden||ee.hpt||ee.level!=null)&&(ee.hpt&&(ee.hpx=Ib(ee.hpt)),H[ee.r]=ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:ee[2]},ee[2]){case"n":x.v=ee[1];break;case"s":w=Py[ee[1]],x.v=w.t,x.r=w.r;break;case"b":x.v=!!ee[1];break;case"e":x.v=ee[1],l.cellText!==!1&&(x.w=vp[x.v]);break;case"str":x.t="s",x.v=ee[1];break;case"is":x.t="s",x.v=ee[1].t;break}if((v=o.CellXf[ee[0].iStyleRef])&&YJ(x,v.numFmtId,null,l,i,o),b=ee[0].c==-1?b+1:ee[0].c,l.dense?(c[g]||(c[g]=[]),c[g][b]=x):c[Ya(b)+A]=x,l.cellFormula){for(R=!1,E=0;E<C.length;++E){var U=C[E];f.r>=U[0].s.r&&f.r<=U[0].e.r&&b>=U[0].s.c&&b<=U[0].e.c&&(x.F=jn(U[0]),R=!0)}!R&&ee.length>3&&(x.f=ee[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>b&&(u.s.c=b),u.e.r<f.r&&(u.e.r=f.r),u.e.c<b&&(u.e.c=b),l.cellDates&&v&&x.t=="n"&&Yg(Qr[v.numFmtId])){var Y=Sm(x.v);Y&&(x.t="d",x.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}z&&(z.type=="XLDAPR"&&(x.D=!0),z=void 0);break;case 1:case 12:if(!l.sheetStubs||h)break;x={t:"z",v:void 0},b=ee[0].c==-1?b+1:ee[0].c,l.dense?(c[g]||(c[g]=[]),c[g][b]=x):c[Ya(b)+A]=x,u.s.r>f.r&&(u.s.r=f.r),u.s.c>b&&(u.s.c=b),u.e.r<f.r&&(u.e.r=f.r),u.e.c<b&&(u.e.c=b),z&&(z.type=="XLDAPR"&&(x.D=!0),z=void 0);break;case 176:S.push(ee);break;case 49:z=((l.xlmeta||{}).Cell||[])[ee-1];break;case 494:var V=s["!id"][ee.relId];for(V?(ee.Target=V.Target,ee.loc&&(ee.Target+="#"+ee.loc),ee.Rel=V):ee.relId==""&&(ee.Target="#"+ee.loc),g=ee.rfx.s.r;g<=ee.rfx.e.r;++g)for(b=ee.rfx.s.c;b<=ee.rfx.e.c;++b)l.dense?(c[g]||(c[g]=[]),c[g][b]||(c[g][b]={t:"z",v:void 0}),c[g][b].l=ee):(N=Xr({c:b,r:g}),c[N]||(c[N]={t:"z",v:void 0}),c[N].l=ee);break;case 426:if(!l.cellFormula)break;C.push(ee),j=l.dense?c[g][b]:c[Ya(b)+A],j.f=Zi(ee[1],u,{r:f.r,c:b},k,l),j.F=jn(ee[0]);break;case 427:if(!l.cellFormula)break;T[Xr(ee[0].s)]=ee[1],j=l.dense?c[g][b]:c[Ya(b)+A],j.f=Zi(ee[1],u,{r:f.r,c:b},k,l);break;case 60:if(!l.cellStyles)break;for(;ee.e>=ee.s;)D[ee.e--]={width:ee.w/256,hidden:!!(ee.flags&1),level:ee.level},F||(F=!0,RP(ee.w/256)),Ag(D[ee.e+1]);break;case 161:c["!autofilter"]={ref:jn(ee)};break;case 476:c["!margins"]=ee;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),ee.name&&(a.Sheets[r].CodeName=ee.name),(ee.above||ee.left)&&(c["!outline"]={above:ee.above,left:ee.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),ee.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!K.T){if(!h||l.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=jn(d||u)),l.sheetRows&&c["!ref"]){var O=fa(c["!ref"]);l.sheetRows<=+O.e.r&&(O.e.r=l.sheetRows-1,O.e.r>u.e.r&&(O.e.r=u.e.r),O.e.r<O.s.r&&(O.s.r=O.e.r),O.e.c>u.e.c&&(O.e.c=u.e.c),O.e.c<O.s.c&&(O.s.c=O.e.c),c["!fullref"]=c["!ref"],c["!ref"]=jn(O))}return S.length>0&&(c["!merges"]=S),D.length>0&&(c["!cols"]=D),H.length>0&&(c["!rows"]=H),c}function LLe(t){var e=[],r=t.match(/^<c:numCache>/),s;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=r?+o[2]:o[2])});var a=An((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){s=i.replace(/<.*?>/g,"")}),[e,a,s]}function OLe(t,e,r,s,a,i){var o=i||{"!type":"chart"};if(!t)return i;var l=0,c=0,d="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=LLe(h);u.s.r=u.s.c=0,u.e.c=l,d=Ya(l),m[0].forEach(function(f,x){o[d+Ei(x)]={t:"n",v:f,z:m[1]},c=x}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(o["!ref"]=jn(u)),o}function ILe(t,e,r,s,a){if(!t)return t;s||(s={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(KJ);return l&&OP(l[0],i,a,r),(o=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),s["!id"][i["!rel"]]&&(i["!drawel"]=s["!id"][i["!rel"]]),i}function FLe(t,e){t.l+=10;var r=ao(t);return{name:r}}function BLe(t,e,r,s,a){if(!t)return t;s||(s={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Oh(t,function(c,d,u){switch(u){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),s["!id"][i["!rel"]]&&(i["!drawel"]=s["!id"][i["!rel"]]),i}var QJ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],ULe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],zLe=[],$Le=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function m$(t,e){for(var r=0;r!=t.length;++r)for(var s=t[r],a=0;a!=e.length;++a){var i=e[a];if(s[i[0]]==null)s[i[0]]=i[1];else switch(i[2]){case"bool":typeof s[i[0]]=="string"&&(s[i[0]]=Gs(s[i[0]]));break;case"int":typeof s[i[0]]=="string"&&(s[i[0]]=parseInt(s[i[0]],10));break}}}function p$(t,e){for(var r=0;r!=e.length;++r){var s=e[r];if(t[s[0]]==null)t[s[0]]=s[1];else switch(s[2]){case"bool":typeof t[s[0]]=="string"&&(t[s[0]]=Gs(t[s[0]]));break;case"int":typeof t[s[0]]=="string"&&(t[s[0]]=parseInt(t[s[0]],10));break}}}function ZJ(t){p$(t.WBProps,QJ),p$(t.CalcPr,$Le),m$(t.WBView,ULe),m$(t.Sheets,zLe),Lx.date1904=Gs(t.WBProps.date1904)}var HLe="][*?/\\".split("");function WLe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return HLe.forEach(function(s){if(t.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var qLe=/<\w+:workbook/;function GLe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},s=!1,a="xmlns",i={},o=0;if(t.replace(uo,function(c,d){var u=Fr(c);switch(xu(u[0])){case"<?xml":break;case"<workbook":c.match(qLe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":QJ.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Gs(u[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:r.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(r.WBProps.CodeName=Ms(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=An(Ms(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":s=!0;break;case"</definedNames>":s=!1;break;case"<definedName":i={},i.Name=Ms(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Gs(u.hidden||"0")&&(i.Hidden=!0),o=d+c.length;break;case"</definedName>":i.Ref=An(Ms(t.slice(o,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":s=!0;break;case"</AlternateContent>":s=!1;break;case"<revisionPtr":break;default:if(!s&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),dTe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return ZJ(r),r}function VLe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=eT(t),r.name=ao(t),r}function XLe(t,e){var r={},s=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?ao(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function YLe(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function KLe(t,e,r){var s=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=kTe(t),o=DRe(t,0,r),l=EP(t);t.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function JLe(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},s=[],a=!1;e||(e={}),e.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],_N[16]={n:"BrtFRTArchID$",f:YLe},Oh(t,function(c,d,u){switch(u){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Zi(c.Ptg,null,null,o,e),delete e.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||e.WTF&&s[s.length-1]!=37&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),ZJ(r),r.Names=i,r.supbooks=o,r}function QLe(t,e,r){return e.slice(-4)===".bin"?JLe(t,r):GLe(t,r)}function ZLe(t,e,r,s,a,i,o,l){return e.slice(-4)===".bin"?RLe(t,s,r,a,i,o,l):VRe(t,s,r,a,i,o,l)}function eOe(t,e,r,s,a,i,o,l){return e.slice(-4)===".bin"?BLe(t,s,r,a,i):ILe(t,s,r,a,i)}function tOe(t,e,r,s,a,i,o,l){return e.slice(-4)===".bin"?cDe():dDe()}function rOe(t,e,r,s,a,i,o,l){return e.slice(-4)===".bin"?oDe():lDe()}function nOe(t,e,r,s){return e.slice(-4)===".bin"?S8e(t,r,s):v8e(t,r,s)}function sOe(t,e,r){return BJ(t,r)}function aOe(t,e,r){return e.slice(-4)===".bin"?UPe(t,r):FPe(t,r)}function iOe(t,e,r){return e.slice(-4)===".bin"?sDe(t,r):Z8e(t,r)}function oOe(t,e,r){return e.slice(-4)===".bin"?K8e(t):X8e(t)}function lOe(t,e,r,s){return r.slice(-4)===".bin"?J8e(t,e,r,s):void 0}function cOe(t,e,r){return e.slice(-4)===".bin"?G8e(t,e,r):V8e(t,e,r)}var eQ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,tQ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Yc(t,e){var r=t.split(/\s+/),s=[];if(s[0]=r[0],r.length===1)return s;var a=t.match(eQ),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(tQ),(o=i[1].indexOf(":"))===-1?s[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),s[l]=i[2].slice(1,i[2].length-1));return s}function dOe(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var s=t.match(eQ),a,i,o,l;if(s)for(l=0;l!=s.length;++l)a=s[l].match(tQ),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var Ry;function uOe(t,e){var r=Ry[t]||An(t);return r==="General"?Qm(e):bc(r,e)}function hOe(t,e,r,s){var a=s;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Gs(s);break;case"i2":case"int":a=parseInt(s,10);break;case"r4":case"float":a=parseFloat(s);break;case"date":case"dateTime.tz":a=fi(s);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[An(e)]=a}function fOe(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||vp[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Pb(t.v):t.w=Qm(t.v):t.w=uOe(e||"General",t.v)}catch(i){if(r.WTF)throw i}try{var s=Ry[e]||e||"General";if(r.cellNF&&(t.z=s),r.cellDates&&t.t=="n"&&Yg(s)){var a=Sm(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function mOe(t,e,r){if(r.cellStyles&&e.Interior){var s=e.Interior;s.Pattern&&(s.patternType=h8e[s.Pattern]||s.Pattern)}t[e.ID]=e}function pOe(t,e,r,s,a,i,o,l,c,d){var u="General",h=s.StyleID,m={};d=d||{};var f=[],x=0;for(h===void 0&&l&&(h=l.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&f.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(r.Type){case"Boolean":s.t="b",s.v=Gs(t);break;case"String":s.t="s",s.r=Iz(An(t)),s.v=t.indexOf("<")>-1?An(e||t).replace(/<.*?>/g,""):s.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),s.v=(fi(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),s.v!==s.v?s.v=An(t):s.v<60&&(s.v=s.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":s.v===void 0&&(s.v=+t),s.t||(s.t="n");break;case"Error":s.t="e",s.v=gJ[t],d.cellText!==!1&&(s.w=t);break;default:t==""&&e==""?s.t="z":(s.t="s",s.v=Iz(e||t));break}if(fOe(s,u,d),d.cellFormula!==!1)if(s.Formula){var v=An(s.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),s.f=Rx(v,a),delete s.Formula,s.ArrayRange=="RC"?s.F=Rx("RC:RC",a):s.ArrayRange&&(s.F=Rx(s.ArrayRange,a),c.push([fa(s.F),s.F]))}else for(x=0;x<c.length;++x)a.r>=c[x][0].s.r&&a.r<=c[x][0].e.r&&a.c>=c[x][0].s.c&&a.c<=c[x][0].e.c&&(s.F=c[x][1]);d.cellStyles&&(f.forEach(function(g){!m.patternType&&g.patternType&&(m.patternType=g.patternType)}),s.s=m),s.StyleID!==void 0&&(s.ixfe=s.StyleID)}function xOe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function JC(t,e){var r=e||{};HK();var s=ny(SP(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(s=Ms(s));var a=s.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=ki(r);return o.type="string",Lb.to_workbook(s,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Fe){a.indexOf("<"+Fe)>=0&&(i=!0)}),i)return _Oe(s,r);Ry={"General Number":"General","General Date":Qr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Qr[15],"Short Date":Qr[14],"Long Time":Qr[19],"Medium Time":Qr[18],"Short Time":Qr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Qr[2],Standard:Qr[4],Percent:Qr[10],Scientific:Qr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],d,u={},h=[],m=r.dense?[]:{},f="",x={},v={},g=Yc('<Data ss:Type="String">'),b=0,N=0,w=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},S={},E="",R=0,C=[],T={},k={},P=0,D=[],H=[],F={},z=[],O,W=!1,ee=[],K=[],re={},U=0,Y=0,V={Sheets:[],WBProps:{date1904:!1}},Z={};Rb.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";l=Rb.exec(s);)switch(l[3]=(ce=l[3]).toLowerCase()){case"data":if(ce=="data"){if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?pOe(s.slice(b,l.index),E,g,c[c.length-1][0]=="comment"?F:x,{c:N,r:w},j,z[N],v,ee,r):(E="",g=Yc(l[0]),b=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(H.length>0&&(x.c=H),(!r.sheetRows||r.sheetRows>w)&&x.v!==void 0&&(r.dense?(m[w]||(m[w]=[]),m[w][N]=x):m[Ya(N)+Ei(w)]=x),x.HRef&&(x.l={Target:An(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(U=N+(parseInt(x.MergeAcross,10)|0),Y=w+(parseInt(x.MergeDown,10)|0),C.push({s:{c:N,r:w},e:{c:U,r:Y}})),!r.sheetStubs)x.MergeAcross?N=U+1:++N;else if(x.MergeAcross||x.MergeDown){for(var fe=N;fe<=U;++fe)for(var ye=w;ye<=Y;++ye)(fe>N||ye>w)&&(r.dense?(m[ye]||(m[ye]=[]),m[ye][fe]={t:"z"}):m[Ya(fe)+Ei(ye)]={t:"z"});N=U+1}else++N;else x=dOe(l[0]),x.Index&&(N=+x.Index-1),N<A.s.c&&(A.s.c=N),N>A.e.c&&(A.e.c=N),l[0].slice(-2)==="/>"&&++N,H=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<A.s.r&&(A.s.r=w),w>A.e.r&&(A.e.r=w),l[0].slice(-2)==="/>"&&(v=Yc(l[0]),v.Index&&(w=+v.Index-1)),N=0,++w):(v=Yc(l[0]),v.Index&&(w=+v.Index-1),re={},(v.AutoFitHeight=="0"||v.Height)&&(re.hpx=parseInt(v.Height,10),re.hpt=FJ(re.hpx),K[w]=re),v.Hidden=="1"&&(re.hidden=!0,K[w]=re));break;case"worksheet":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));h.push(f),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(m["!ref"]=jn(A),r.sheetRows&&r.sheetRows<=A.e.r&&(m["!fullref"]=m["!ref"],A.e.r=r.sheetRows-1,m["!ref"]=jn(A))),C.length&&(m["!merges"]=C),z.length>0&&(m["!cols"]=z),K.length>0&&(m["!rows"]=K),u[f]=m}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=N=0,c.push([l[3],!1]),d=Yc(l[0]),f=An(d.Name),m=r.dense?[]:{},C=[],ee=[],K=[],Z={name:f,Hidden:0},V.Sheets.push(Z);break;case"table":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),z=[],W=!1}break;case"style":l[1]==="/"?mOe(j,S,r):S=Yc(l[0]);break;case"numberformat":S.nf=An(Yc(l[0]).Format||"General"),Ry[S.nf]&&(S.nf=Ry[S.nf]);for(var ge=0;ge!=392&&Qr[ge]!=S.nf;++ge);if(ge==392){for(ge=57;ge!=392;++ge)if(Qr[ge]==null){Lm(S.nf,ge);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(O=Yc(l[0]),O.Hidden&&(O.hidden=!0,delete O.Hidden),O.Width&&(O.wpx=parseInt(O.Width,10)),!W&&O.wpx>10){W=!0,wo=OJ;for(var we=0;we<z.length;++we)z[we]&&Ag(z[we])}W&&Ag(O),z[O.Index-1||z.length]=O;for(var Re=0;Re<+O.Span;++Re)z[z.length]=ki(O);break;case"namedrange":if(l[1]==="/")break;V.Names||(V.Names=[]);var oe=Fr(l[0]),ut={Name:oe.Name,Ref:Rx(oe.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(ut.Sheet=V.Sheets.length-1),V.Names.push(ut);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?E+=s.slice(R,l.index):R=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=Yc(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?ZTe(T,ce,s.slice(P,l.index)):P=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"));xOe(F),H.push(F)}else c.push([l[3],!1]),d=Yc(l[0]),F={a:d.Author};break;case"autofilter":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var se=Yc(l[0]);m["!autofilter"]={ref:Rx(se.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((d=c.pop())[0]!==l[3])throw new Error("Bad state: "+d.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return w$(s,r);var J=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:J=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:J=!1}break;case"excelworkbook":switch(l[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:J=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:J=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(s.slice(P,l.index)){case"SheetHidden":Z.Hidden=1;break;case"SheetVeryHidden":Z.Hidden=2;break}else P=l.index+l[0].length;break;case"header":m["!margins"]||Dy(m["!margins"]={},"xlml"),isNaN(+Fr(l[0]).Margin)||(m["!margins"].header=+Fr(l[0]).Margin);break;case"footer":m["!margins"]||Dy(m["!margins"]={},"xlml"),isNaN(+Fr(l[0]).Margin)||(m["!margins"].footer=+Fr(l[0]).Margin);break;case"pagemargins":var ie=Fr(l[0]);m["!margins"]||Dy(m["!margins"]={},"xlml"),isNaN(+ie.Top)||(m["!margins"].top=+ie.Top),isNaN(+ie.Left)||(m["!margins"].left=+ie.Left),isNaN(+ie.Right)||(m["!margins"].right=+ie.Right),isNaN(+ie.Bottom)||(m["!margins"].bottom=+ie.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:J=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:J=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:J=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:J=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:J=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:J=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:J=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:J=!1}break;case"smarttags":break;default:J=!1;break}if(J||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?hOe(k,ce,D,s.slice(P,l.index)):(D=l,P=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Ae={};return!r.bookSheets&&!r.bookProps&&(Ae.Sheets=u),Ae.SheetNames=h,Ae.Workbook=V,Ae.SSF=ki(Qr),Ae.Props=T,Ae.Custprops=k,Ae}function sT(t,e){switch(BP(e=e||{}),e.type||"base64"){case"base64":return JC(Ll(t),e);case"binary":case"buffer":case"file":return JC(t,e);case"array":return JC(pp(t),e)}}function gOe(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=MTe(r),r.length-r.l<=4)return e;var s=r.read_shift(4);if(s==0||s>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(s=r.read_shift(4),s!==1907505652)||(e.UnicodeClipboardFormat=PTe(r),s=r.read_shift(4),s==0||s>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var vOe=[60,1084,2066,2165,2175];function yOe(t,e,r,s,a){var i=s,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=gh(r,r.l),d=aT[c],u=0;d!=null&&vOe.indexOf(c)>-1;)i=gh(r,r.l+2),u=r.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=r.slice(u,r.l+4+i),o.push(l),r.l+=4+i,d=aT[c=gh(r,r.l)];var h=Tf(o);Ci(h,0);var m=0;h.lens=[];for(var f=0;f<o.length;++f)h.lens.push(m),m+=o[f].length;if(h.length<s)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+s;return e.f(h,h.length,a)}function Id(t,e,r){if(t.t!=="z"&&t.XF){var s=0;try{s=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Qr[s])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||vp[t.v]:s===0||s=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Pb(t.v):t.w=Qm(t.v):t.w=bc(s,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&s&&t.t=="n"&&Yg(Qr[s]||String(s))){var a=Sm(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function hw(t,e,r){return{v:t,ixfe:e,t:r}}function bOe(t,e){var r={opts:{}},s={},a=e.dense?[]:{},i={},o={},l=null,c=[],d="",u={},h,m="",f,x,v,g,b={},N=[],w,A,j=[],S=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},C=function(At){return At<8?Om[At]:At<64&&S[At-8]||Om[At]},T=function(At,rt,Dt){var Rt=rt.XF.data;if(!(!Rt||!Rt.patternType||!Dt||!Dt.cellStyles)){rt.s={},rt.s.patternType=Rt.patternType;var $t;($t=Ob(C(Rt.icvFore)))&&(rt.s.fgColor={rgb:$t}),($t=Ob(C(Rt.icvBack)))&&(rt.s.bgColor={rgb:$t})}},k=function(At,rt,Dt){if(!(re>1)&&!(Dt.sheetRows&&At.r>=Dt.sheetRows)){if(Dt.cellStyles&&rt.XF&&rt.XF.data&&T(At,rt,Dt),delete rt.ixfe,delete rt.XF,h=At,m=Xr(At),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),At.r<o.s.r&&(o.s.r=At.r),At.c<o.s.c&&(o.s.c=At.c),At.r+1>o.e.r&&(o.e.r=At.r+1),At.c+1>o.e.c&&(o.e.c=At.c+1),Dt.cellFormula&&rt.f){for(var Rt=0;Rt<N.length;++Rt)if(!(N[Rt][0].s.c>At.c||N[Rt][0].s.r>At.r)&&!(N[Rt][0].e.c<At.c||N[Rt][0].e.r<At.r)){rt.F=jn(N[Rt][0]),(N[Rt][0].s.c!=At.c||N[Rt][0].s.r!=At.r)&&delete rt.f,rt.f&&(rt.f=""+Zi(N[Rt][1],o,At,ee,P));break}}Dt.dense?(a[At.r]||(a[At.r]=[]),a[At.r][At.c]=rt):a[m]=rt}},P={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(P.password=e.password);var D,H=[],F=[],z=[],O=[],W=!1,ee=[];ee.SheetNames=P.snames,ee.sharedf=P.sharedf,ee.arrayf=P.arrayf,ee.names=[],ee.XTI=[];var K=0,re=0,U=0,Y=[],V=[],Z;P.codepage=1200,id(1200);for(var ce=!1;t.l<t.length-1;){var fe=t.l,ye=t.read_shift(2);if(ye===0&&K===10)break;var ge=t.l===t.length?0:t.read_shift(2),we=aT[ye];if(we&&we.f){if(e.bookSheets&&K===133&&ye!==133)break;if(K=ye,we.r===2||we.r==12){var Re=t.read_shift(2);if(ge-=2,!P.enc&&Re!==ye&&((Re&255)<<8|Re>>8)!==ye)throw new Error("rt mismatch: "+Re+"!="+ye);we.r==12&&(t.l+=10,ge-=10)}var oe={};if(ye===10?oe=we.f(t,ge,P):oe=yOe(ye,we,t,ge,P),re==0&&[9,521,1033,2057].indexOf(K)===-1)continue;switch(ye){case 34:r.opts.Date1904=E.WBProps.date1904=oe;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(t.l=0),P.enc=oe,!e.password)throw new Error("File is password-protected");if(oe.valid==null)throw new Error("Encryption scheme unsupported");if(!oe.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=oe;break;case 66:var ut=Number(oe);switch(ut){case 21010:ut=1200;break;case 32768:ut=1e4;break;case 32769:ut=1252;break}id(P.codepage=ut),ce=!0;break;case 317:P.rrtabid=oe;break;case 25:P.winlocked=oe;break;case 439:r.opts.RefreshAll=oe;break;case 12:r.opts.CalcCount=oe;break;case 16:r.opts.CalcDelta=oe;break;case 17:r.opts.CalcIter=oe;break;case 13:r.opts.CalcMode=oe;break;case 14:r.opts.CalcPrecision=oe;break;case 95:r.opts.CalcSaveRecalc=oe;break;case 15:P.CalcRefMode=oe;break;case 2211:r.opts.FullCalc=oe;break;case 129:oe.fDialog&&(a["!type"]="dialog"),oe.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),oe.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:j.push(oe);break;case 430:ee.push([oe]),ee[ee.length-1].XTI=[];break;case 35:case 547:ee[ee.length-1].push(oe);break;case 24:case 536:Z={Name:oe.Name,Ref:Zi(oe.rgce,o,null,ee,P)},oe.itab>0&&(Z.Sheet=oe.itab-1),ee.names.push(Z),ee[0]||(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].push(oe),oe.Name=="_xlnm._FilterDatabase"&&oe.itab>0&&oe.rgce&&oe.rgce[0]&&oe.rgce[0][0]&&oe.rgce[0][0][0]=="PtgArea3d"&&(V[oe.itab-1]={ref:jn(oe.rgce[0][0][1][2])});break;case 22:P.ExternCount=oe;break;case 23:ee.length==0&&(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].XTI=ee[ee.length-1].XTI.concat(oe),ee.XTI=ee.XTI.concat(oe);break;case 2196:if(P.biff<8)break;Z!=null&&(Z.Comment=oe[1]);break;case 18:a["!protect"]=oe;break;case 19:oe!==0&&P.WTF&&console.error("Password verifier: "+oe);break;case 133:i[oe.pos]=oe,P.snames.push(oe.name);break;case 10:{if(--re)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=jn(o),e.sheetRows&&e.sheetRows<=o.e.r){var se=o.e.r;o.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=jn(o),o.e.r=se}o.e.r++,o.e.c++}H.length>0&&(a["!merges"]=H),F.length>0&&(a["!objects"]=F),z.length>0&&(a["!cols"]=z),O.length>0&&(a["!rows"]=O),E.Sheets.push(R)}d===""?u=a:s[d]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[ye]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[oe.BIFFVer]||8),P.biffguess=oe.BIFFVer==0,oe.BIFFVer==0&&oe.dt==4096&&(P.biff=5,ce=!0,id(P.codepage=28591)),P.biff==8&&oe.BIFFVer==0&&oe.dt==16&&(P.biff=2),re++)break;if(a=e.dense?[]:{},P.biff<8&&!ce&&(ce=!0,id(P.codepage=e.codepage||1252)),P.biff<5||oe.BIFFVer==0&&oe.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var J={pos:t.l-ge,name:d};i[J.pos]=J,P.snames.push(d)}else d=(i[fe]||{name:""}).name;oe.dt==32&&(a["!type"]="chart"),oe.dt==64&&(a["!type"]="macro"),H=[],F=[],P.arrayf=N=[],z=[],O=[],W=!1,R={Hidden:(i[fe]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[oe.r]||[])[oe.c]:a[Xr({c:oe.c,r:oe.r})])&&++oe.c,w={ixfe:oe.ixfe,XF:j[oe.ixfe]||{},v:oe.val,t:"n"},U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k({c:oe.c,r:oe.r},w,e);break;case 5:case 517:w={ixfe:oe.ixfe,XF:j[oe.ixfe],v:oe.val,t:oe.t},U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k({c:oe.c,r:oe.r},w,e);break;case 638:w={ixfe:oe.ixfe,XF:j[oe.ixfe],v:oe.rknum,t:"n"},U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k({c:oe.c,r:oe.r},w,e);break;case 189:for(var ie=oe.c;ie<=oe.C;++ie){var Ae=oe.rkrec[ie-oe.c][0];w={ixfe:Ae,XF:j[Ae],v:oe.rkrec[ie-oe.c][1],t:"n"},U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k({c:ie,r:oe.r},w,e)}break;case 6:case 518:case 1030:{if(oe.val=="String"){l=oe;break}if(w=hw(oe.val,oe.cell.ixfe,oe.tt),w.XF=j[w.ixfe],e.cellFormula){var Fe=oe.formula;if(Fe&&Fe[0]&&Fe[0][0]&&Fe[0][0][0]=="PtgExp"){var Ie=Fe[0][0][1][0],$e=Fe[0][0][1][1],le=Xr({r:Ie,c:$e});b[le]?w.f=""+Zi(oe.formula,o,oe.cell,ee,P):w.F=((e.dense?(a[Ie]||[])[$e]:a[le])||{}).F}else w.f=""+Zi(oe.formula,o,oe.cell,ee,P)}U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k(oe.cell,w,e),l=oe}break;case 7:case 519:if(l)l.val=oe,w=hw(oe,l.cell.ixfe,"s"),w.XF=j[w.ixfe],e.cellFormula&&(w.f=""+Zi(l.formula,o,l.cell,ee,P)),U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k(l.cell,w,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(oe);var ae=Xr(oe[0].s);if(f=e.dense?(a[oe[0].s.r]||[])[oe[0].s.c]:a[ae],e.cellFormula&&f){if(!l||!ae||!f)break;f.f=""+Zi(oe[1],o,oe[0],ee,P),f.F=jn(oe[0])}}break;case 1212:{if(!e.cellFormula)break;if(m){if(!l)break;b[Xr(l.cell)]=oe[0],f=e.dense?(a[l.cell.r]||[])[l.cell.c]:a[Xr(l.cell)],(f||{}).f=""+Zi(oe[0],o,h,ee,P)}}break;case 253:w=hw(c[oe.isst].t,oe.ixfe,"s"),c[oe.isst].h&&(w.h=c[oe.isst].h),w.XF=j[w.ixfe],U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k({c:oe.c,r:oe.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:oe.ixfe,XF:j[oe.ixfe],t:"z"},U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k({c:oe.c,r:oe.r},w,e));break;case 190:if(e.sheetStubs)for(var _e=oe.c;_e<=oe.C;++_e){var qe=oe.ixfe[_e-oe.c];w={ixfe:qe,XF:j[qe],t:"z"},U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k({c:_e,r:oe.r},w,e)}break;case 214:case 516:case 4:w=hw(oe.val,oe.ixfe,"s"),w.XF=j[w.ixfe],U>0&&(w.z=Y[w.ixfe>>8&63]),Id(w,e,r.opts.Date1904),k({c:oe.c,r:oe.r},w,e);break;case 0:case 512:re===1&&(o=oe);break;case 252:c=oe;break;case 1054:if(P.biff==4){Y[U++]=oe[1];for(var Ke=0;Ke<U+163&&Qr[Ke]!=oe[1];++Ke);Ke>=163&&Lm(oe[1],U+163)}else Lm(oe[1],oe[0]);break;case 30:{Y[U++]=oe;for(var et=0;et<U+163&&Qr[et]!=oe;++et);et>=163&&Lm(oe,U+163)}break;case 229:H=H.concat(oe);break;case 93:F[oe.cmo[0]]=P.lastobj=oe;break;case 438:P.lastobj.TxO=oe;break;case 127:P.lastobj.ImData=oe;break;case 440:for(g=oe[0].s.r;g<=oe[0].e.r;++g)for(v=oe[0].s.c;v<=oe[0].e.c;++v)f=e.dense?(a[g]||[])[v]:a[Xr({c:v,r:g})],f&&(f.l=oe[1]);break;case 2048:for(g=oe[0].s.r;g<=oe[0].e.r;++g)for(v=oe[0].s.c;v<=oe[0].e.c;++v)f=e.dense?(a[g]||[])[v]:a[Xr({c:v,r:g})],f&&f.l&&(f.l.Tooltip=oe[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;f=e.dense?(a[oe[0].r]||[])[oe[0].c]:a[Xr(oe[0])];var Tt=F[oe[2]];f||(e.dense?(a[oe[0].r]||(a[oe[0].r]=[]),f=a[oe[0].r][oe[0].c]={t:"z"}):f=a[Xr(oe[0])]={t:"z"},o.e.r=Math.max(o.e.r,oe[0].r),o.s.r=Math.min(o.s.r,oe[0].r),o.e.c=Math.max(o.e.c,oe[0].c),o.s.c=Math.min(o.s.c,oe[0].c)),f.c||(f.c=[]),x={a:oe[1],t:Tt.TxO.t},f.c.push(x)}break;case 2173:$8e(j[oe.ixfe],oe.ext);break;case 125:{if(!P.cellStyles)break;for(;oe.e>=oe.s;)z[oe.e--]={width:oe.w/256,level:oe.level||0,hidden:!!(oe.flags&1)},W||(W=!0,RP(oe.w/256)),Ag(z[oe.e+1])}break;case 520:{var ft={};oe.level!=null&&(O[oe.r]=ft,ft.level=oe.level),oe.hidden&&(O[oe.r]=ft,ft.hidden=!0),oe.hpt&&(O[oe.r]=ft,ft.hpt=oe.hpt,ft.hpx=Ib(oe.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Dy(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ye]]=oe;break;case 161:a["!margins"]||Dy(a["!margins"]={}),a["!margins"].header=oe.header,a["!margins"].footer=oe.footer;break;case 574:oe.RTL&&(E.Views[0].RTL=!0);break;case 146:S=oe;break;case 2198:D=oe;break;case 140:A=oe;break;case 442:d?R.CodeName=oe||R.name:E.WBProps.CodeName=oe||"ThisWorkbook";break}}else we||console.error("Missing Info for XLS Record 0x"+ye.toString(16)),t.l+=ge}return r.SheetNames=hu(i).sort(function(gt,At){return Number(gt)-Number(At)}).map(function(gt){return i[gt].name}),e.bookSheets||(r.Sheets=s),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&V.forEach(function(gt,At){r.Sheets[r.SheetNames[At]]["!autofilter"]=gt}),r.Strings=c,r.SSF=ki(Qr),P.enc&&(r.Encryption=P.enc),D&&(r.Themes=D),r.Metadata={},A!==void 0&&(r.Metadata.Country=A),ee.names.length>0&&(E.Names=ee.names),r.Workbook=E,r}var x$={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function wOe(t,e,r){var s=wn.find(t,"/!DocumentSummaryInformation");if(s&&s.size>0)try{var a=Zz(s,FTe,x$.DSI);for(var i in a)e[i]=a[i]}catch(d){if(r.WTF)throw d}var o=wn.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=Zz(o,BTe,x$.SI);for(var c in l)e[c]==null&&(e[c]=l[c])}catch(d){if(r.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(yJ(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function rQ(t,e){e||(e={}),BP(e),MK(),e.codepage&&gP(e.codepage);var r,s;if(t.FullPaths){if(wn.find(t,"/encryption"))throw new Error("File is password-protected");r=wn.find(t,"!CompObj"),s=wn.find(t,"/Workbook")||wn.find(t,"/Book")}else{switch(e.type){case"base64":t=rd(Ll(t));break;case"binary":t=rd(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Ci(t,0),s={content:t}}var a,i;if(r&&gOe(r),e.bookProps&&!e.bookSheets)a={};else{var o=yn?"buffer":"array";if(s&&s.content)a=bOe(s.content,e);else if((i=wn.find(t,"PerfectOffice_MAIN"))&&i.content)a=My.to_workbook(i.content,(e.type=o,e));else if((i=wn.find(t,"NativeContent_MAIN"))&&i.content)a=My.to_workbook(i.content,(e.type=o,e));else throw(i=wn.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&wn.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=iDe(t))}var l={};return t.FullPaths&&wOe(t,l,e),a.Props=a.Custprops=l,e.bookFiles&&(a.cfb=t),a}var _N={0:{f:rLe},1:{f:iLe},2:{f:pLe},3:{f:dLe},4:{f:lLe},5:{f:mLe},6:{f:vLe},7:{f:hLe},8:{f:NLe},9:{f:jLe},10:{f:bLe},11:{f:wLe},12:{f:oLe},13:{f:xLe},14:{f:uLe},15:{f:cLe},16:{f:JJ},17:{f:yLe},18:{f:fLe},19:{f:kP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:KLe},40:{},42:{},43:{f:b8e},44:{f:y8e},45:{f:w8e},46:{f:N8e},47:{f:j8e},48:{},49:{f:STe},50:{},51:{f:W8e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:MJ},62:{f:gLe},63:{f:Y8e},64:{f:PLe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:lo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:MLe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:aLe},148:{f:nLe,p:16},151:{f:ALe},152:{},153:{f:XLe},154:{},155:{},156:{f:VLe},157:{},158:{},159:{T:1,f:BPe},160:{T:-1},161:{T:1,f:gp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:SLe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:H8e},336:{T:-1},337:{f:q8e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:eT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:TJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:CLe},427:{f:kLe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:TLe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:sLe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:_Le},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:eT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nDe},633:{T:1},634:{T:-1},635:{T:1,f:rDe},636:{T:-1},637:{f:ATe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:FLe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:DLe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},aT={6:{f:YC},10:{f:bf},12:{f:Da},13:{f:Da},14:{f:xa},15:{f:xa},16:{f:to},17:{f:xa},18:{f:xa},19:{f:Da},20:{f:n$},21:{f:n$},23:{f:TJ},24:{f:a$},25:{f:xa},26:{},27:{},28:{f:ePe},29:{},34:{f:xa},35:{f:s$},38:{f:to},39:{f:to},40:{f:to},41:{f:to},42:{f:xa},43:{f:xa},47:{f:s8e},49:{f:LMe},51:{f:Da},60:{},61:{f:PMe},64:{f:xa},65:{f:RMe},66:{f:Da},77:{},80:{},81:{},82:{},85:{f:Da},89:{},90:{},91:{},92:{f:SMe},93:{f:rPe},94:{},95:{f:xa},96:{},97:{},99:{f:xa},125:{f:MJ},128:{f:qMe},129:{f:_Me},130:{f:Da},131:{f:xa},132:{f:xa},133:{f:AMe},134:{},140:{f:lPe},141:{f:Da},144:{},146:{f:dPe},151:{},152:{},153:{},154:{},155:{},156:{f:Da},157:{},158:{},160:{f:pPe},161:{f:hPe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:zMe},190:{f:$Me},193:{f:bf},197:{},198:{},199:{},200:{},201:{},202:{f:xa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Da},220:{},221:{f:xa},222:{},224:{f:WMe},225:{f:NMe},226:{f:bf},227:{},229:{f:tPe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:CMe},253:{f:OMe},255:{f:kMe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:SJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:xa},353:{f:bf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:VMe},431:{f:xa},432:{},433:{},434:{},437:{},438:{f:aPe},439:{f:xa},440:{f:iPe},441:{},442:{f:S1},443:{},444:{f:Da},445:{},446:{},448:{f:bf},449:{f:MMe,r:2},450:{f:bf},512:{f:t$},513:{f:mPe},515:{f:GMe},516:{f:IMe},517:{f:r$},519:{f:xPe},520:{f:EMe},523:{},545:{f:i$},549:{f:e$},566:{},574:{f:DMe},638:{f:UMe},659:{},1048:{},1054:{f:FMe},1084:{},1212:{f:JMe},2048:{f:oPe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:cw},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:bf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:uPe,r:12},2173:{f:z8e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:xa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:KMe,r:12},2197:{},2198:{f:L8e,r:12},2199:{},2200:{},2201:{},2202:{f:QMe,r:12},2203:{f:bf},2204:{},2205:{},2206:{},2207:{},2211:{f:TMe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Da},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:fPe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:cPe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:t$},1:{},2:{f:bPe},3:{f:yPe},4:{f:vPe},5:{f:r$},7:{f:wPe},8:{},9:{f:cw},11:{},22:{f:Da},30:{f:BMe},31:{},32:{},33:{f:i$},36:{},37:{f:e$},50:{f:jPe},62:{},52:{},67:{},68:{f:Da},69:{},86:{},126:{},127:{f:gPe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:NPe},223:{},234:{},354:{},421:{},518:{f:YC},521:{f:cw},536:{f:a$},547:{f:s$},561:{},579:{},1030:{f:YC},1033:{f:cw},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Kc(t,e,r,s){var a=e;if(!isNaN(a)){var i=(r||[]).length||0,o=t.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&uJ(r)&&t.push(r)}}function g$(t,e){var r=e||{},s=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=a.index,l=i&&i.index||t.length,c=GEe(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,u=0,h=0,m=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(o=0;o<c.length;++o){var v=c[o].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var b=v.split(/<\/t[dh]>/i);for(l=0;l<b.length;++l){var N=b[l].trim();if(N.match(/<t[dh]/i)){for(var w=N,A=0;w.charAt(0)=="<"&&(A=w.indexOf(">"))>-1;)w=w.slice(A+1);for(var j=0;j<x.length;++j){var S=x[j];S.s.c==u&&S.s.r<d&&d<=S.e.r&&(u=S.e.c+1,j=-1)}var E=Fr(N.slice(0,N.indexOf(">")));m=E.colspan?+E.colspan:1,((h=+E.rowspan)>1||m>1)&&x.push({s:{r:d,c:u},e:{r:d+(h||1)-1,c:u+m-1}});var R=E.t||E["data-t"]||"";if(!w.length){u+=m;continue}if(w=QK(w),f.s.r>d&&(f.s.r=d),f.e.r<d&&(f.e.r=d),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!w.length){u+=m;continue}var C={t:"s",v:w};r.raw||!w.trim().length||R=="s"||(w==="TRUE"?C={t:"b",v:!0}:w==="FALSE"?C={t:"b",v:!1}:isNaN(ud(w))?isNaN(_g(w).getDate())||(C={t:"d",v:fi(w)},r.cellDates||(C={t:"n",v:Eo(C.v)}),C.z=r.dateNF||Qr[14]):C={t:"n",v:ud(w)}),r.dense?(s[d]||(s[d]=[]),s[d][u]=C):s[Xr({r:d,c:u})]=C,u+=m}}}}return s["!ref"]=jn(f),x.length&&(s["!merges"]=x),s}function jOe(t,e,r,s){for(var a=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Xr({r,c:o}),h=s.dense?(t[r]||[])[o]:t[u],m=h&&h.v!=null&&(h.h||NP(h.w||(Ph(h),h.w)||""))||"",f={};l>1&&(f.rowspan=l),c>1&&(f.colspan=c),s.editable?m='<span contenteditable="true">'+m+"</span>":h&&(f["data-t"]=h&&h.t||"z",h.v!=null&&(f["data-v"]=h.v),h.z!=null&&(f["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),f.id=(s.id||"sjs")+"-"+u,i.push(lTe("td",m,f))}}var x="<tr>";return x+i.join("")+"</tr>"}var NOe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',SOe="</body></html>";function _Oe(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return c0(g$(r[0],e),e);var s=zP();return r.forEach(function(a,i){$P(s,g$(a,e),"Sheet"+(i+1))}),s}function AOe(t,e,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function COe(t,e){var r=e||{},s=r.header!=null?r.header:NOe,a=r.footer!=null?r.footer:SOe,i=[s],o=Kg(t["!ref"]);r.dense=Array.isArray(t),i.push(AOe(t,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(jOe(t,o,l,r));return i.push("</table>"+a),i.join("")}function nQ(t,e,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?_o(s.origin):s.origin;a=o.r,i=o.c}var l=e.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var u=Kg(t["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var h=[],m=0,f=t["!rows"]||(t["!rows"]=[]),x=0,v=0,g=0,b=0,N=0,w=0;for(t["!cols"]||(t["!cols"]=[]);x<l.length&&v<c;++x){var A=l[x];if(v$(A)){if(s.display)continue;f[v]={hidden:!0}}var j=A.children;for(g=b=0;g<j.length;++g){var S=j[g];if(!(s.display&&v$(S))){var E=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):QK(S.innerHTML),R=S.getAttribute("data-z")||S.getAttribute("z");for(m=0;m<h.length;++m){var C=h[m];C.s.c==b+i&&C.s.r<v+a&&v+a<=C.e.r&&(b=C.e.c+1-i,m=-1)}w=+S.getAttribute("colspan")||1,((N=+S.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:v+a,c:b+i},e:{r:v+a+(N||1)-1,c:b+i+(w||1)-1}});var T={t:"s",v:E},k=S.getAttribute("data-t")||S.getAttribute("t")||"";E!=null&&(E.length==0?T.t=k||"z":s.raw||E.trim().length==0||k=="s"||(E==="TRUE"?T={t:"b",v:!0}:E==="FALSE"?T={t:"b",v:!1}:isNaN(ud(E))?isNaN(_g(E).getDate())||(T={t:"d",v:fi(E)},s.cellDates||(T={t:"n",v:Eo(T.v)}),T.z=s.dateNF||Qr[14]):T={t:"n",v:ud(E)})),T.z===void 0&&R!=null&&(T.z=R);var P="",D=S.getElementsByTagName("A");if(D&&D.length)for(var H=0;H<D.length&&!(D[H].hasAttribute("href")&&(P=D[H].getAttribute("href"),P.charAt(0)!="#"));++H);P&&P.charAt(0)!="#"&&(T.l={Target:P}),s.dense?(t[v+a]||(t[v+a]=[]),t[v+a][b+i]=T):t[Xr({c:b+i,r:v+a})]=T,d.e.c<b+i&&(d.e.c=b+i),b+=w}}++v}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,v-1+a),t["!ref"]=jn(d),v>=c&&(t["!fullref"]=jn((d.e.r=l.length-x+v-1+a,d))),t}function sQ(t,e){var r=e||{},s=r.dense?[]:{};return nQ(s,t,e)}function kOe(t,e){return c0(sQ(t,e),e)}function v$(t){var e="",r=EOe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function EOe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function TOe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(s,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=An(e.replace(/<[^>]*>/g,""));return[r]}var y$={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function aQ(t,e){var r=e||{},s=SP(t),a=[],i,o,l={name:""},c="",d=0,u,h,m={},f=[],x=r.dense?[]:{},v,g,b={value:""},N="",w=0,A=[],j=-1,S=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,C={},T=[],k={},P=0,D=0,H=[],F=1,z=1,O=[],W={Names:[]},ee={},K=["",""],re=[],U={},Y="",V=0,Z=!1,ce=!1,fe=0;for(Rb.lastIndex=0,s=s.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=Rb.exec(s);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?x["!ref"]=jn(E):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(x["!fullref"]=x["!ref"],E.e.r=r.sheetRows-1,x["!ref"]=jn(E)),T.length&&(x["!merges"]=T),H.length&&(x["!rows"]=H),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),m[u.name]=x,ce=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Fr(v[0],!1),j=S=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,x=r.dense?[]:{},T=[],H=[],ce=!0);break;case"table-row-group":v[1]==="/"?--R:++R;break;case"table-row":case"":if(v[1]==="/"){j+=F,F=1;break}if(h=Fr(v[0],!1),h.?j=h.-1:j==-1&&(j=0),F=+h["number-rows-repeated"]||1,F<10)for(fe=0;fe<F;++fe)R>0&&(H[j+fe]={level:R});S=-1;break;case"covered-table-cell":v[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(x[j]||(x[j]=[]),x[j][S]={t:"z"}):x[Xr({r:j,c:S})]={t:"z"}),N="",A=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++S,b=Fr(v[0],!1),z=parseInt(b["number-columns-repeated"]||"1",10),g={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(g.f=f$(An(b.formula))),(b.||b["value-type"])=="string"&&(g.t="s",g.v=An(b["string-value"]||""),r.dense?(x[j]||(x[j]=[]),x[j][S]=g):x[Xr({r:j,c:S})]=g),S+=z-1;else if(v[1]!=="/"){++S,N="",w=0,A=[],z=1;var ye=F?j+F-1:j;if(S>E.e.c&&(E.e.c=S),S<E.s.c&&(E.s.c=S),j<E.s.r&&(E.s.r=j),ye>E.e.r&&(E.e.r=ye),b=Fr(v[0],!1),re=[],U={},g={t:b.||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=An(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(P=parseInt(b["number-matrix-rows-spanned"],10)||0,D=parseInt(b["number-matrix-columns-spanned"],10)||0,k={s:{r:j,c:S},e:{r:j+P-1,c:S+D-1}},g.F=jn(k),O.push([k,g.F])),b.formula)g.f=f$(b.formula);else for(fe=0;fe<O.length;++fe)j>=O[fe][0].s.r&&j<=O[fe][0].e.r&&S>=O[fe][0].s.c&&S<=O[fe][0].e.c&&(g.F=O[fe][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(P=parseInt(b["number-rows-spanned"],10)||0,D=parseInt(b["number-columns-spanned"],10)||0,k={s:{r:j,c:S},e:{r:j+P-1,c:S+D-1}},T.push(k)),b["number-columns-repeated"]&&(z=parseInt(b["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Gs(b["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(b.value);break;case"percentage":g.t="n",g.v=parseFloat(b.value);break;case"currency":g.t="n",g.v=parseFloat(b.value);break;case"date":g.t="d",g.v=fi(b["date-value"]),r.cellDates||(g.t="n",g.v=Eo(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=HEe(b["time-value"])/86400,r.cellDates&&(g.t="d",g.v=L5(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(b.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",b["string-value"]!=null&&(N=An(b["string-value"]),A=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(Z=!1,g.t==="s"&&(g.v=N||"",A.length&&(g.R=A),Z=w==0),ee.Target&&(g.l=ee),re.length>0&&(g.c=re,re=[]),N&&r.cellText!==!1&&(g.w=N),Z&&(g.t="z",delete g.v),(!Z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var ge=0;ge<F;++ge){if(z=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(x[j+ge]||(x[j+ge]=[]),x[j+ge][S]=ge==0?g:ki(g);--z>0;)x[j+ge][S+z]=ki(g);else for(x[Xr({r:j+ge,c:S})]=g;--z>0;)x[Xr({r:j+ge,c:S+z})]=ki(g);E.e.c<=S&&(E.e.c=S)}z=parseInt(b["number-columns-repeated"]||"1",10),S+=z-1,z=0,g={},N="",A=[]}ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i;U.t=N,A.length&&(U.R=A),U.a=Y,re.push(U)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);Y="",V=0,N="",w=0,A=[];break;case"creator":v[1]==="/"?Y=s.slice(V,v.index):V=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);N="",w=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(C[l.name]=c,(i=a.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(c="",l=Fr(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Fr(v[0],!1),c+=y$[v[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Fr(v[0],!1),c+=y$[v[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=s.slice(d,v.index);break}else d=v.index+v[0].length;break;case"named-range":o=Fr(v[0],!1),K=KC(o["cell-range-address"]);var we={Name:o.name,Ref:K[0]+"!"+K[1]};ce&&(we.Sheet=f.length),W.Names.push(we);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!b||!b["string-value"])){var Re=TOe(s.slice(w,v.index));N=(N.length>0?N+`
`:"")+Re[0]}else Fr(v[0],!1),w=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{K=KC(Fr(v[0])["target-range-address"]),m[K[0]]["!autofilter"]={ref:K[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(ee=Fr(v[0],!1),!ee.href)break;ee.Target=An(ee.href),delete ee.href,ee.Target.charAt(0)=="#"&&ee.Target.indexOf(".")>-1?(K=KC(ee.Target.slice(1)),ee.Target="#"+K[0]+"!"+K[1]):ee.Target.match(/^\.\.[\\\/]/)&&(ee.Target=ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var oe={Sheets:m,SheetNames:f,Workbook:W};return r.bookSheets&&delete oe.Sheets,oe}function b$(t,e){e=e||{},oc(t,"META-INF/manifest.xml")&&GTe(Pa(t,"META-INF/manifest.xml"),e);var r=Al(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var s=aQ(Ms(r),e);return oc(t,"meta.xml")&&(s.Props=vJ(Pa(t,"meta.xml"))),s}function w$(t,e){return aQ(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function IP(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function iT(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Ms(pp(t))}function oT(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),s=0;return t.forEach(function(a){r.set(a,s),s+=a.length}),r}function j$(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function MOe(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,s=t[e+14]&1,a=e+13;a>=e;--a)s=s*256+t[a];return(t[e+15]&128?-s:s)*Math.pow(10,r-6176)}function Fb(t,e){var r=e?e[0]:0,s=t[r]&127;e:if(t[r++]>=128&&(s|=(t[r]&127)<<7,t[r++]<128||(s|=(t[r]&127)<<14,t[r++]<128)||(s|=(t[r]&127)<<21,t[r++]<128)||(s+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(s+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(s+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),s}function Ja(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ro(t){for(var e=[],r=[0];r[0]<t.length;){var s=r[0],a=Fb(t,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:o=4,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Fb(t,r),l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function FP(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function POe(t){for(var e,r=[],s=[0];s[0]<t.length;){var a=Fb(t,s),i=ro(t.slice(s[0],s[0]+a));s[0]+=a;var o={id:Ja(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ro(l.data),d=Ja(c[3][0].data);o.messages.push({meta:c,data:t.slice(s[0],s[0]+d)}),s[0]+=d}),(e=i[3])!=null&&e[0]&&(o.merge=Ja(i[3][0].data)>>>0>0),r.push(o)}return r}function DOe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],s=Fb(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[r[0]],l>1&&(o|=e[r[0]+1]<<8),l>2&&(o|=e[r[0]+2]<<16),l>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(d=(e[r[0]++]>>2)+1,i==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[oT(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=oT(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function ROe(t){for(var e=[],r=0;r<t.length;){var s=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(DOe(s,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return oT(e)}function LOe(t,e,r,s){var a=IP(t),i=a.getUint32(4,!0),o=(s>1?12:8)+j$(i&(s>1?3470:398))*4,l=-1,c=-1,d=NaN,u=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=j$(i&(s>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(d=a.getFloat64(o,!0),o+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:e[c]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(l>-1)h={t:"s",v:r[l]};else if(c>-1)h={t:"s",v:e[c]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function OOe(t,e,r){var s=IP(t),a=s.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);a&1&&(c=MOe(t,i),i+=16),a&2&&(d=s.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+s.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=s.getUint32(i,!0),i+=4),a&16&&(o=s.getUint32(i,!0),i+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return h}function IOe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return LOe(t,e,r,t[0]);case 5:return OOe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Gf(t){var e=ro(t);return Fb(e[1][0].data)}function N$(t,e){var r=ro(e.data),s=Ja(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=ro(o.data),c=Ja(l[1][0].data)>>>0;switch(s){case 1:i[c]=iT(l[3][0].data);break;case 8:{var d=t[Gf(l[9][0].data)][0],u=ro(d.data),h=t[Gf(u[1][0].data)][0],m=Ja(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var f=ro(h.data);i[c]=f[3].map(function(x){return iT(x.data)}).join("")}break}}),i}function FOe(t,e){var r,s,a,i,o,l,c,d,u,h,m,f,x,v,g=ro(t),b=Ja(g[1][0].data)>>>0,N=Ja(g[2][0].data)>>>0,w=((s=(r=g[8])==null?void 0:r[0])==null?void 0:s.data)&&Ja(g[8][0].data)>0||!1,A,j;if((i=(a=g[7])==null?void 0:a[0])!=null&&i.data&&e!=0)A=(l=(o=g[7])==null?void 0:o[0])==null?void 0:l.data,j=(d=(c=g[6])==null?void 0:c[0])==null?void 0:d.data;else if((h=(u=g[4])==null?void 0:u[0])!=null&&h.data&&e!=1)A=(f=(m=g[4])==null?void 0:m[0])==null?void 0:f.data,j=(v=(x=g[3])==null?void 0:x[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var S=w?4:1,E=IP(A),R=[],C=0;C<A.length/2;++C){var T=E.getUint16(C*2,!0);T<65535&&R.push([C,T])}if(R.length!=N)throw"Expected ".concat(N," cells, found ").concat(R.length);var k=[];for(C=0;C<R.length-1;++C)k[R[C][0]]=j.subarray(R[C][1]*S,R[C+1][1]*S);return R.length>=1&&(k[R[R.length-1][0]]=j.subarray(R[R.length-1][1]*S)),{R:b,cells:k}}function BOe(t,e){var r,s=ro(e.data),a=(r=s==null?void 0:s[7])!=null&&r[0]?Ja(s[7][0].data)>>>0>0?1:0:-1,i=FP(s[5],function(o){return FOe(o,a)});return{nrows:Ja(s[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,d){if(o[l.R][d])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(d));o[l.R][d]=c}),o},[])}}function UOe(t,e,r){var s,a=ro(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ja(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ja(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=jn(i);var o=ro(a[4][0].data),l=N$(t,t[Gf(o[4][0].data)][0]),c=(s=o[17])!=null&&s[0]?N$(t,t[Gf(o[17][0].data)][0]):[],d=ro(o[3][0].data),u=0;d[1].forEach(function(h){var m=ro(h.data),f=t[Gf(m[2][0].data)][0],x=Ja(f.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var v=BOe(t,f);v.data.forEach(function(g,b){g.forEach(function(N,w){var A=Xr({r:u+b,c:w}),j=IOe(N,l,c);j&&(r[A]=j)})}),u+=v.nrows})}function zOe(t,e){var r=ro(e.data),s={"!ref":"A1"},a=t[Gf(r[2][0].data)],i=Ja(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return UOe(t,a[0],s),s}function $Oe(t,e){var r,s=ro(e.data),a={name:(r=s[1])!=null&&r[0]?iT(s[1][0].data):"",sheets:[]},i=FP(s[2],Gf);return i.forEach(function(o){t[o].forEach(function(l){var c=Ja(l.meta[1][0].data);c==6e3&&a.sheets.push(zOe(t,l))})}),a}function HOe(t,e){var r=zP(),s=ro(e.data),a=FP(s[1],Gf);if(a.forEach(function(i){t[i].forEach(function(o){var l=Ja(o.meta[1][0].data);if(l==2){var c=$Oe(t,o);c.sheets.forEach(function(d,u){$P(r,d,u==0?c.name:c.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function QC(t){var e,r,s,a,i={},o=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=ROe(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var u;try{u=POe(d)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(s=(r=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:s[1])==null?void 0:a[0].data)&&Ja(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(d){var u=Ja(d.meta[1][0].data)>>>0;if(u==1)if(!l)l=d;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return HOe(i,l)}function WOe(t){return function(r){for(var s=0;s!=t.length;++s){var a=t[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function BP(t){WOe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function qOe(t){return Nx.WS.indexOf(t)>-1?"sheet":t==Nx.CS?"chart":t==Nx.DS?"dialog":t==Nx.MS?"macro":t&&t.length?t:"sheet"}function GOe(t,e){if(!t)return 0;try{t=e.map(function(s){return s.id||(s.id=s.strRelID),[s.name,t["!id"][s.id].Target,qOe(t["!id"][s.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function VOe(t,e,r,s,a,i,o,l,c,d,u,h){try{i[s]=Ey(Al(t,r,!0),e);var m=Pa(t,e),f;switch(l){case"sheet":f=ZLe(m,e,a,c,i[s],d,u,h);break;case"chart":if(f=eOe(m,e,a,c,i[s],d,u,h),!f||!f["!drawel"])break;var x=ay(f["!drawel"].Target,e),v=tT(x),g=Q8e(Al(t,x,!0),Ey(Al(t,v,!0),x)),b=ay(g,x),N=tT(b);f=OLe(Al(t,b,!0),b,c,Ey(Al(t,N,!0),b),d,f);break;case"macro":f=tOe(m,e,a,c,i[s],d,u,h);break;case"dialog":f=rOe(m,e,a,c,i[s],d,u,h);break;default:throw new Error("Unrecognized sheet type "+l)}o[s]=f;var w=[];i&&i[s]&&hu(i[s]).forEach(function(A){var j="";if(i[s][A].Type==Nx.CMNT){j=ay(i[s][A].Target,e);var S=iOe(Pa(t,j,!0),j,c);if(!S||!S.length)return;l$(f,S,!1)}i[s][A].Type==Nx.TCMNT&&(j=ay(i[s][A].Target,e),w=w.concat(eDe(Pa(t,j,!0),c)))}),w&&w.length&&l$(f,w,!0,c.people||[])}catch(A){if(c.WTF)throw A}}function nc(t){return t.charAt(0)=="/"?t.slice(1):t}function XOe(t,e){if(HK(),e=e||{},BP(e),oc(t,"META-INF/manifest.xml")||oc(t,"objectdata.xml"))return b$(t,e);if(oc(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof QC<"u"){if(t.FileIndex)return QC(t);var r=wn.utils.cfb_new();return Lz(t).forEach(function(H){YEe(r,H,XEe(t,H))}),QC(r)}throw new Error("Unsupported NUMBERS file")}if(!oc(t,"[Content_Types].xml"))throw oc(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):oc(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var s=Lz(t),a=WTe(Al(t,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",Pa(t,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!Pa(t,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!e.bookSheets&&!e.bookProps){if(Py=[],a.sst)try{Py=aOe(Pa(t,nc(a.sst)),a.sst,e)}catch(H){if(e.WTF)throw H}e.cellStyles&&a.themes.length&&(c=sOe(Al(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(d=nOe(Pa(t,nc(a.style)),a.style,c,e))}a.links.map(function(H){try{var F=Ey(Al(t,tT(nc(H))),H);return lOe(Pa(t,nc(H)),F,H,e)}catch{}});var u=QLe(Pa(t,nc(a.workbooks[0])),a.workbooks[0],e),h={},m="";a.coreprops.length&&(m=Pa(t,nc(a.coreprops[0]),!0),m&&(h=vJ(m)),a.extprops.length!==0&&(m=Pa(t,nc(a.extprops[0]),!0),m&&YTe(m,h,e)));var f={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(m=Al(t,nc(a.custprops[0]),!0),m&&(f=JTe(m,e)));var x={};if((e.bookSheets||e.bookProps)&&(u.Sheets?o=u.Sheets.map(function(F){return F.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),e.bookProps&&(x.Props=h,x.Custprops=f),e.bookSheets&&typeof o<"u"&&(x.SheetNames=o),e.bookSheets?x.SheetNames:e.bookProps))return x;o={};var v={};e.bookDeps&&a.calcchain&&(v=oOe(Pa(t,nc(a.calcchain)),a.calcchain));var g=0,b={},N,w;{var A=u.Sheets;h.Worksheets=A.length,h.SheetNames=[];for(var j=0;j!=A.length;++j)h.SheetNames[j]=A[j].name}var S=i?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),R=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");oc(t,R)||(R="xl/_rels/workbook."+S+".rels");var C=Ey(Al(t,R,!0),R.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=cOe(Pa(t,nc(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=tDe(Pa(t,nc(a.people[0])),e)),C&&(C=GOe(C,u.Sheets));var T=Pa(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=h.Worksheets;++g){var k="sheet";if(C&&C[g]?(N="xl/"+C[g][1].replace(/[\/]?xl\//,""),oc(t,N)||(N=C[g][1]),oc(t,N)||(N=R.replace(/_rels\/.*$/,"")+C[g][1]),k=C[g][2]):(N="xl/worksheets/sheet"+(g+1-T)+"."+S,N=N.replace(/sheet0\./,"sheet.")),w=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(g!=e.sheets)continue e;break;case"string":if(h.SheetNames[g].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var P=!1,D=0;D!=e.sheets.length;++D)typeof e.sheets[D]=="number"&&e.sheets[D]==g&&(P=1),typeof e.sheets[D]=="string"&&e.sheets[D].toLowerCase()==h.SheetNames[g].toLowerCase()&&(P=1);if(!P)continue e}}VOe(t,N,w,h.SheetNames[g],g,b,o,k,e,u,c,d)}return x={Directory:a,Workbook:u,Props:h,Custprops:f,Deps:v,Sheets:o,SheetNames:h.SheetNames,Strings:Py,Styles:d,Themes:c,SSF:ki(Qr)},e&&e.bookFiles&&(t.files?(x.keys=s,x.files=t.files):(x.keys=[],x.files={},t.FullPaths.forEach(function(H,F){H=H.replace(/^Root Entry[\/]/,""),x.keys.push(H),x.files[H]=t.FileIndex[F]}))),e&&e.bookVBA&&(a.vba.length>0?x.vbaraw=Pa(t,nc(a.vba[0]),!0):a.defaults&&a.defaults.bin===aDe&&(x.vbaraw=Pa(t,"xl/vbaProject.bin",!0))),x}function YOe(t,e){var r=e||{},s="Workbook",a=wn.find(t,s);try{if(s="/!DataSpaces/Version",a=wn.find(t,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(zPe(a.content),s="/!DataSpaces/DataSpaceMap",a=wn.find(t,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var i=HPe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=wn.find(t,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var o=WPe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+s);if(s="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=wn.find(t,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);GPe(a.content)}catch{}if(s="/EncryptionInfo",a=wn.find(t,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);var l=VPe(a.content);if(s="/EncryptedPackage",a=wn.find(t,s),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+s);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function UP(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ll(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function KOe(t,e){return wn.find(t,"EncryptedPackage")?YOe(t,e):rQ(t,e)}function JOe(t,e){var r,s=t,a=e||{};return a.type||(a.type=yn&&Buffer.isBuffer(t)?"buffer":"base64"),r=YK(s,a),XOe(r,a)}function iQ(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return sT(t.slice(r),e);default:break e}return Lb.to_workbook(t,e)}function QOe(t,e){var r="",s=UP(t,e);switch(e.type){case"base64":r=Ll(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=Zm(t);break;default:throw new Error("Unrecognized type "+e.type)}return s[0]==239&&s[1]==187&&s[2]==191&&(r=Ms(r)),e.type="binary",iQ(r,e)}function ZOe(t,e){var r=t;return e.type=="base64"&&(r=Ll(r)),r=Mb.utils.decode(1200,r.slice(2),"str"),e.type="binary",iQ(r,e)}function eIe(t){return t.match(/[^\x00-\x7F]/)?iy(t):t}function ZC(t,e,r,s){return s?(r.type="string",Lb.to_workbook(t,r)):Lb.to_workbook(e,r)}function lT(t,e){MK();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return lT(new Uint8Array(t),(r=ki(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var s=t,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Lx={},r.dateNF&&(Lx.dateNF=r.dateNF),r.type||(r.type=yn&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=yn?"buffer":"binary",s=zEe(t),typeof Uint8Array<"u"&&!yn&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,s=eIe(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=ki(r),r.type="array",lT(vP(s),r)}switch((a=UP(s,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return KOe(wn.read(s,r),r);break;case 9:if(a[1]<=8)return rQ(s,r);break;case 60:return sT(s,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return kPe(s,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return APe.to_workbook(s,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?JOe(s,r):ZC(t,s,r,i);case 239:return a[3]===60?sT(s,r):ZC(t,s,r,i);case 255:if(a[1]===254)return ZOe(s,r);if(a[1]===0&&a[2]===2&&a[3]===0)return My.to_workbook(s,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return My.to_workbook(s,r);break;case 3:case 131:case 139:case 140:return o$.to_workbook(s,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return a8e.to_workbook(s,r);break;case 10:case 13:case 32:return QOe(s,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return SPe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?o$.to_workbook(s,r):ZC(t,s,r,i)}function tIe(t,e,r,s,a,i,o,l){var c=Ei(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||t[r])for(var f=e.s.c;f<=e.e.c;++f){var x=o?t[r][f]:t[s[f]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[f]!=null&&(m[i[f]]=d);continue}var v=x.v;switch(x.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[f]!=null){if(v==null)if(x.t=="e"&&v===null)m[i[f]]=null;else if(d!==void 0)m[i[f]]=d;else if(u&&v===null)m[i[f]]=null;else continue;else m[i[f]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?v:Ph(x,v,l);v!=null&&(h=!1)}}return{row:m,isempty:h}}function cT(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},u=d.range!=null?d.range:t["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=fa(u);break;case"number":c=fa(t["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var h=Ei(c.s.r),m=[],f=[],x=0,v=0,g=Array.isArray(t),b=c.s.r,N=0,w={};g&&!t[b]&&(t[b]=[]);var A=d.skipHidden&&t["!cols"]||[],j=d.skipHidden&&t["!rows"]||[];for(N=c.s.c;N<=c.e.c;++N)if(!(A[N]||{}).hidden)switch(m[N]=Ya(N),r=g?t[b][N]:t[m[N]+h],s){case 1:i[N]=N-c.s.c;break;case 2:i[N]=m[N];break;case 3:i[N]=d.header[N-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Ph(r,null,d),v=w[o]||0,!v)w[o]=1;else{do l=o+"_"+v++;while(w[l]);w[o]=v,w[l]=1}i[N]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(j[b]||{}).hidden){var S=tIe(t,c,b,m,s,i,g,d);(S.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(f[x++]=S.row)}return f.length=x,f}var S$=/"/g;function rIe(t,e,r,s,a,i,o,l){for(var c=!0,d=[],u="",h=Ei(r),m=e.s.c;m<=e.e.c;++m)if(s[m]){var f=l.dense?(t[r]||[])[m]:t[s[m]+h];if(f==null)u="";else if(f.v!=null){c=!1,u=""+(l.rawNumbers&&f.t=="n"?f.v:Ph(f,null,l));for(var x=0,v=0;x!==u.length;++x)if((v=u.charCodeAt(x))===a||v===i||v===34||l.forceQuotes){u='"'+u.replace(S$,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(c=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(S$,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function oQ(t,e){var r=[],s=e??{};if(t==null||t["!ref"]==null)return"";var a=fa(t["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];s.dense=Array.isArray(t);for(var m=s.skipHidden&&t["!cols"]||[],f=s.skipHidden&&t["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(h[x]=Ya(x));for(var v=0,g=a.s.r;g<=a.e.r;++g)(f[g]||{}).hidden||(u=rIe(t,a,g,h,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((v++?l:"")+u)));return delete s.dense,r.join("")}function nIe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=oQ(t,e);return r}function sIe(t){var e="",r,s="";if(t==null||t["!ref"]==null)return[];var a=fa(t["!ref"]),i="",o=[],l,c=[],d=Array.isArray(t);for(l=a.s.c;l<=a.e.c;++l)o[l]=Ya(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=Ei(u),l=a.s.c;l<=a.e.c;++l)if(e=o[l]+i,r=d?(t[u]||[])[l]:t[e],s="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;s=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=e+"="+s}return c}function lQ(t,e,r){var s=r||{},a=+!s.skipHeader,i=t||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?_o(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+e.length-1+a}};if(i["!ref"]){var h=fa(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+e.length-1+a)}else o==-1&&(o=0,u.e.r=e.length-1+a);var m=s.header||[],f=0;e.forEach(function(v,g){hu(v).forEach(function(b){(f=m.indexOf(b))==-1&&(m[f=m.length]=b);var N=v[b],w="z",A="",j=Xr({c:l+f,r:o+g+a});d=Bb(i,j),N&&typeof N=="object"&&!(N instanceof Date)?i[j]=N:(typeof N=="number"?w="n":typeof N=="boolean"?w="b":typeof N=="string"?w="s":N instanceof Date?(w="d",s.cellDates||(w="n",N=Eo(N)),A=s.dateNF||Qr[14]):N===null&&s.nullError&&(w="e",N=0),d?(d.t=w,d.v=N,delete d.w,delete d.R,A&&(d.z=A)):i[j]=d={t:w,v:N},A&&(d.z=A))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var x=Ei(o);if(a)for(f=0;f<m.length;++f)i[Ya(f+l)+x]={t:"s",v:m[f]};return i["!ref"]=jn(u),i}function aIe(t,e){return lQ(null,t,e)}function Bb(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var s=_o(e);return t[s.r]||(t[s.r]=[]),t[s.r][s.c]||(t[s.r][s.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Bb(t,Xr(e)):Bb(t,Xr({r:e,c:r||0}))}function iIe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function zP(){return{SheetNames:[],Sheets:{}}}function $P(t,e,r,s){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=o+a)!=-1;++a);}if(WLe(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function oIe(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var s=iIe(t,e);switch(t.Workbook.Sheets[s]||(t.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[s].Hidden=r}function lIe(t,e){return t.z=e,t}function cQ(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function cIe(t,e,r){return cQ(t,"#"+e,r)}function dIe(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function uIe(t,e,r,s){for(var a=typeof e!="string"?e:fa(e),i=typeof e=="string"?e:jn(e),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Bb(t,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return t}var hIe={encode_col:Ya,encode_row:Ei,encode_cell:Xr,encode_range:jn,decode_col:CP,decode_row:AP,split_cell:NTe,decode_cell:_o,decode_range:Kg,format_cell:Ph,sheet_add_aoa:fJ,sheet_add_json:lQ,sheet_add_dom:nQ,aoa_to_sheet:Jg,json_to_sheet:aIe,table_to_sheet:sQ,table_to_book:kOe,sheet_to_csv:oQ,sheet_to_txt:nIe,sheet_to_json:cT,sheet_to_html:COe,sheet_to_formulae:sIe,sheet_to_row_object_array:cT,sheet_get_cell:Bb,book_new:zP,book_append_sheet:$P,book_set_sheet_visibility:oIe,cell_set_number_format:lIe,cell_set_hyperlink:cQ,cell_set_internal_link:cIe,cell_add_comment:dIe,sheet_set_array_formula:uIe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Jc="http://localhost:5000",Gv=10,fIe=({setShowAdminHeader:t,setShowAdminBreadcrumb:e})=>{var Lt,or,Bt;xi();const[r,s]=L.useState([]),[a,i]=L.useState(""),[o,l]=L.useState(!1),[c,d]=L.useState(!1),[u,h]=L.useState(null),[m,f]=L.useState({}),[x,v]=L.useState(!1),[g,b]=L.useState(!1),N=L.useRef(null),[w,A]=L.useState([]),[j,S]=L.useState(!1),[E,R]=L.useState([]),[C,T]=L.useState(!1),[k,P]=L.useState(!1),[D,H]=L.useState(!1),[F,z]=L.useState(null),[O,W]=L.useState(null),[ee,K]=L.useState({}),[re,U]=L.useState(!1),[Y,V]=L.useState({name:"",email:"",mobile:"",gender:"",dob:"",address:"",pincode:"",status:"Active",guardianName:"",guardianEmail:"",guardianPhone:"",serialNo:"",batchCode:"",admissionDate:"",roll:"",grade:"",section:"",course:"",courseId:"",duration:"",formNo:"",enrollmentNo:""}),Z=L.useMemo(()=>w.find(Ge=>Ge._id===Y.courseId)||null,[w,Y.courseId]),ce=(Z==null?void 0:Z.installments)||[],[fe,ye]=L.useState(1),ge=L.useMemo(()=>r.filter(Ge=>[Ge.name,Ge.roll,Ge.email].filter(Boolean).some(Ne=>String(Ne).toLowerCase().includes(a.toLowerCase()))),[r,a]),we=Math.max(1,Math.ceil(ge.length/Gv)),Re=L.useMemo(()=>{const Ge=(fe-1)*Gv;return ge.slice(Ge,Ge+Gv)},[ge,fe]),oe=L.useMemo(()=>Array.from({length:we},(Ge,Ne)=>Ne+1),[we]),ut=ge.length>0?(fe-1)*Gv+1:0,se=Math.min(fe*Gv,ge.length);L.useEffect(()=>{ye(Ge=>{const Ne=Math.min(Ge,we);return Ne<1?1:Ne})},[we]),L.useEffect(()=>{ye(1)},[a]),L.useEffect(()=>{C&&Ie()},[C]);const J=Ge=>{switch(Ge){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"due":default:return"bg-red-100 text-red-800"}},ie=(Ge=0)=>`${Number(Ge||0).toLocaleString()}`,Ae=async()=>{const Ge=await fetch(`${Jc}/api/nif/students`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ge.ok){const Ne=await Ge.json();s(Ne)}},Fe=async()=>{S(!0);try{const Ge=await fetch(`${Jc}/api/nif/course/fetch`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ge.ok){const Ne=await Ge.json();A(Ne||[])}}catch(Ge){console.error(Ge)}finally{S(!1)}},Ie=async()=>{try{const Ge=localStorage.getItem("token");console.log("Fetching archived students from:",`${Jc}/api/nif/students/archived`),console.log("Using token:",Ge?"Present":"Missing");const Ne=await fetch(`${Jc}/api/nif/students/archived`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${Ge}`}});if(console.log("Response status:",Ne.status),Ne.ok){const Qe=await Ne.json();console.log("Archived students data:",Qe),R(Array.isArray(Qe)?Qe:[])}else{const Qe=await Ne.text();console.error("Failed to fetch archived students:",Ne.status,Qe),R([])}}catch(Ge){console.error("Error fetching archived students:",Ge),R([])}};L.useEffect(()=>(t==null||t(!0),e==null||e(!1),Ae().catch(console.error),Fe().catch(console.error),Ie().catch(console.error),()=>{e==null||e(!0)}),[t,e]);const $e=async Ge=>{if(!(!(await gn.fire({title:"Archive Student?",text:`Are you sure you want to archive ${Ge.name}?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, archive it!",cancelButtonText:"Cancel"})).isConfirmed||!(await gn.fire({title:"Confirm Archive",text:"Would you like to add this record to archive?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, move to archive",cancelButtonText:"No, keep active"})).isConfirmed)){H(!0);try{if((await fetch(`${Jc}/api/nif/students/${Ge._id}/archive`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)gn.fire({title:"Archived!",text:`${Ge.name} has been moved to archive.`,icon:"success",timer:2e3,showConfirmButton:!1}),await Ae(),await Ie();else throw new Error("Failed to archive student")}catch(Ve){console.error(Ve),gn.fire({title:"Error!",text:"Failed to archive student. Please try again.",icon:"error"})}finally{H(!1)}}},le=async Ge=>{if(!(!(Ge!=null&&Ge._id)||F||!(await gn.fire({title:"Delete student?",text:`This will remove ${Ge.name} from students list.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"})).isConfirmed||!(await gn.fire({title:"Are you absolutely sure?",text:"Click delete again to permanently remove all associated records.",icon:"error",showCancelButton:!0,confirmButtonColor:"#b91c1c",cancelButtonColor:"#6b7280",confirmButtonText:"Delete permanently"})).isConfirmed)){z(Ge._id);try{const Ve=await fetch(`${Jc}/api/nif/students/${Ge._id}`,{method:"DELETE",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Ve.ok){const tt=await Ve.json().catch(()=>({}));throw new Error(tt.message||"Failed to delete student")}await gn.fire({title:"Deleted",text:`${Ge.name} and associated fee records have been removed.`,icon:"success",timer:2e3,showConfirmButton:!1}),await Ae()}catch(Ve){console.error(Ve),gn.fire({title:"Error",text:Ve.message||"Failed to delete student",icon:"error"})}finally{z(null)}}},ae=Ge=>{const{name:Ne,value:Qe}=Ge.target;V(Ve=>({...Ve,[Ne]:Qe}))},_e=Ge=>{const{value:Ne}=Ge.target,Qe=w.find(Ve=>Ve._id===Ne);V(Ve=>({...Ve,courseId:Ne,course:(Qe==null?void 0:Qe.title)||"",grade:(Qe==null?void 0:Qe.programLabel)||Ve.grade,duration:(Qe==null?void 0:Qe.duration)||Ve.duration}))},qe=async Ge=>{Ge.preventDefault();const Qe=["name","mobile","gender","batchCode","admissionDate","roll","section"].filter(Ve=>!Y[Ve]||String(Y[Ve]).trim()==="");if(Y.courseId||Qe.push("course"),Qe.length){alert(`Please fill required fields: ${Qe.join(", ")}`);return}v(!0);try{const Ve={...Y,courseId:Y.courseId,course:(Z==null?void 0:Z.title)||Y.course,grade:(Z==null?void 0:Z.programLabel)||Y.grade,duration:(Z==null?void 0:Z.duration)||Y.duration,serialNo:Y.serialNo?Number(Y.serialNo):void 0},tt=await fetch(`${Jc}/api/nif/students`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(Ve)}),at=await tt.json().catch(()=>({}));if(!tt.ok){alert(`Registration failed: ${at.message||tt.statusText}`);return}gn.fire({icon:"success",title:"student enrolled successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await Ae(),l(!1),V({name:"",email:"",mobile:"",gender:"",dob:"",address:"",pincode:"",status:"Active",guardianName:"",guardianEmail:"",guardianPhone:"",serialNo:"",batchCode:"",admissionDate:"",roll:"",grade:"",section:"",course:"",courseId:"",duration:"",formNo:"",enrollmentNo:""})}catch(Ve){console.error(Ve),alert(`Error: ${Ve.message}`)}finally{v(!1)}},Ke=async(Ge,Ne)=>{if(!(Ge!=null&&Ge._id)){gn.fire({icon:"warning",title:"Student not saved",text:"Please save the student before generating credentials."});return}W(Ge._id);try{const Qe=await fetch(`${Jc}/api/student/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:Ne.id,password:Ne.password,studentId:Ge._id,nifId:Ge.serialNo,name:Ge.name,email:Ge.email,mobile:Ge.mobile,grade:Ge.grade,section:Ge.section,batchCode:Ge.batchCode})}),Ve=await Qe.json().catch(()=>({}));if(!Qe.ok)throw new Error(Ve.error||Ve.message||Qe.statusText||"Failed to issue credentials");K(tt=>({...tt,[Ge._id]:"active"})),gn.fire({icon:"success",title:"Credentials Issued Successfully",html:`
          <div class="text-left space-y-4">
            <p class="text-gray-700 mb-4"><strong>${Ge.name}</strong> can now log in with these credentials:</p>

            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 space-y-3">
              <div>
                <p class="text-xs font-semibold text-yellow-700 uppercase mb-1">Student ID</p>
                <div class="flex items-center justify-between bg-white rounded px-3 py-2 border border-yellow-100">
                  <code class="text-sm font-mono text-gray-800">${Ne.id}</code>
                  <button
                    onclick="navigator.clipboard.writeText('${Ne.id}')"
                    class="text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded"
                    title="Copy ID"
                  >
                    Copy
                  </button>
                </div>
              </div>

              <div>
                <p class="text-xs font-semibold text-yellow-700 uppercase mb-1">Password</p>
                <div class="flex items-center justify-between bg-white rounded px-3 py-2 border border-yellow-100">
                  <code class="text-sm font-mono text-gray-800">${Ne.password}</code>
                  <button
                    onclick="navigator.clipboard.writeText('${Ne.password}')"
                    class="text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded"
                    title="Copy Password"
                  >
                    Copy
                  </button>
                </div>
              </div>
            </div>

            <p class="text-xs text-gray-500 mt-3"> Please save these credentials securely. Share them with the student.</p>
          </div>
        `,width:"600px",showConfirmButton:!0,confirmButtonText:"Done",confirmButtonColor:"#EAB308"})}catch(Qe){console.error(Qe),K(Ve=>({...Ve,[Ge._id]:"error"})),gn.fire({icon:"error",title:"Credential Error",text:Qe.message||"Unable to generate credentials"})}finally{W(null)}},et=async()=>{const Ge=r.filter(qt=>!qt.studentPortalUser&&qt.status==="Active");if(Ge.length===0){gn.fire({icon:"info",title:"No Students Found",text:"All active students already have portal credentials."});return}if(!(await gn.fire({icon:"question",title:"Generate Credentials for All Students",html:`
        <p>This will generate portal credentials for <strong>${Ge.length}</strong> students.</p>
        <p class="text-sm text-gray-600 mt-2">Credentials will be automatically generated and exported to CSV.</p>
      `,showCancelButton:!0,confirmButtonText:"Generate & Export",confirmButtonColor:"#EAB308",cancelButtonText:"Cancel"})).isConfirmed)return;U(!0);const Qe=[],Ve=[];gn.fire({title:"Generating Credentials",html:`<div>Processing: <strong>0</strong> / ${Ge.length}</div>`,allowOutsideClick:!1,didOpen:()=>{gn.showLoading()}});for(let qt=0;qt<Ge.length;qt++){const Ht=Ge[qt];gn.update({html:`<div>Processing: <strong>${qt+1}</strong> / ${Ge.length}</div>
               <div class="text-sm text-gray-600 mt-2">${Ht.name}</div>`});try{const Ar=Ht.admissionDate?new Date(Ht.admissionDate).getFullYear():new Date().getFullYear(),er=(Ht.batchCode||"GEN").toString().replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),bn=Ar.toString().slice(-2),js=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),Fn=`STU-${bn}${er}-${js}`,sn=(()=>{const me="ABCDEFGHJKLMNPQRSTUVWXYZ",Ee="abcdefghjkmnpqrstuvwxyz",Se="0123456789",Ce="!@#$%&*?",Pe=`${me}${Ee}${Se}${Ce}`;let Te="";for(Te+=me[Math.floor(Math.random()*me.length)],Te+=Ee[Math.floor(Math.random()*Ee.length)],Te+=Se[Math.floor(Math.random()*Se.length)],Te+=Ce[Math.floor(Math.random()*Ce.length)];Te.length<10;)Te+=Pe[Math.floor(Math.random()*Pe.length)];return Te.split("").sort(()=>Math.random()-.5).join("")})(),Bn=await fetch(`${Jc}/api/student/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({username:Fn,password:sn,studentId:Ht._id,nifId:Ht.serialNo,name:Ht.name,email:Ht.email,mobile:Ht.mobile,grade:Ht.grade,section:Ht.section,batchCode:Ht.batchCode})});if(!Bn.ok){const me=await Bn.json().catch(()=>({}));throw new Error(me.error||me.message||"Failed to generate credentials")}Qe.push({serialNo:Ht.serialNo||"",name:Ht.name,batchCode:Ht.batchCode,grade:Ht.grade,section:Ht.section,roll:Ht.roll,mobile:Ht.mobile,email:Ht.email,username:Fn,password:sn}),K(me=>({...me,[Ht._id]:"active"}))}catch(Ar){console.error(`Error generating credentials for ${Ht.name}:`,Ar),Ve.push({student:Ht.name,error:Ar.message})}}U(!1),Qe.length>0&&Tt(Qe),await Ae();const tt=Qe.length,at=Ve.length;let Nt=`<p><strong>${tt}</strong> credentials generated successfully.</p>`;at>0&&(Nt+=`<p class="text-red-600 mt-2"><strong>${at}</strong> failed.</p>`,Nt+='<div class="text-left mt-3 max-h-40 overflow-y-auto text-sm">',Ve.forEach(qt=>{Nt+=`<div class="mb-1"> ${qt.student}: ${qt.error}</div>`}),Nt+="</div>"),tt>0&&(Nt+='<p class="text-sm text-gray-600 mt-3"> Credentials exported to CSV file</p>'),gn.fire({icon:tt>0?"success":"error",title:"Bulk Credential Generation Complete",html:Nt,confirmButtonColor:"#EAB308"})},Tt=Ge=>{const Ne=["Serial No","Student Name","Batch Code","Grade","Section","Roll","Mobile","Email","Portal ID","Portal Password"],Qe=Ge.map(qt=>[qt.serialNo,qt.name,qt.batchCode,qt.grade,qt.section,qt.roll,qt.mobile,qt.email,qt.username,qt.password]),Ve=[Ne,...Qe].map(qt=>qt.map(Ht=>{const Ar=String(Ht||"");return Ar.includes(",")||Ar.includes('"')||Ar.includes(`
`)?`"${Ar.replace(/"/g,'""')}"`:Ar}).join(",")).join(`
`),tt=new Blob([Ve],{type:"text/csv;charset=utf-8;"}),at=document.createElement("a"),Nt=URL.createObjectURL(tt);at.setAttribute("href",Nt),at.setAttribute("download",`student_credentials_${new Date().toISOString().split("T")[0]}.csv`),at.style.visibility="hidden",document.body.appendChild(at),at.click(),document.body.removeChild(at)},ft=async Ge=>{if(Ge&&window.confirm("Restore this student from archive?"))try{P(!0);const Ne=await fetch(`${Jc}/api/nif/students/${Ge}/unarchive`,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),Qe=await Ne.json().catch(()=>({}));if(!Ne.ok)throw new Error(Qe.message||"Failed to restore student");await Ae(),await Ie(),gn.fire({icon:"success",title:"Student restored",toast:!0,position:"top-end",showConfirmButton:!1,timer:1500})}catch(Ne){console.error(Ne),alert(Ne.message)}finally{P(!1)}},gt=Ge=>Ge==null?void 0:Ge.toString().trim().toLowerCase().replace(/[\s_-]+/g,""),At={name:"name",mobile:"mobile",email:"email",gender:"gender",dob:"dob",dateofbirth:"dob",address:"address",pincode:"pincode",pin:"pincode",batchcode:"batchCode",batch:"batchCode",admissiondate:"admissionDate",admission:"admissionDate",dateofadmission:"admissionDate",roll:"roll",rollno:"roll",rollnumber:"roll",section:"section",course:"course",coursename:"course",courseid:"courseId",grade:"grade",duration:"duration",serialno:"serialNo",serialn:"serialNo",srlno:"serialNo",serial:"serialNo",formno:"formNo",formn:"formNo",form:"formNo",enrollmentno:"enrollmentNo",enrollmentn:"enrollmentNo",enrollment:"enrollmentNo",guardianname:"guardianName",guardian:"guardianName",parentname:"guardianName",guardianemail:"guardianEmail",parentemail:"guardianEmail",guardianphone:"guardianPhone",guardianph:"guardianPhone",guardianphn:"guardianPhone",guardiancontact:"guardianPhone",parentphone:"guardianPhone",status:"status"},rt=Ge=>{const Ne=[];let Qe=0,Ve="",tt=[],at=!1;const Nt=()=>{tt.push(Ve),Ve=""},qt=()=>{Ne.push(tt),tt=[]};for(;Qe<Ge.length;){const Ht=Ge[Qe];at?Ht==='"'?Ge[Qe+1]==='"'?(Ve+='"',Qe+=2):(at=!1,Qe++):(Ve+=Ht,Qe++):Ht==='"'?(at=!0,Qe++):Ht===","?(Nt(),Qe++):Ht==="\r"?Qe++:Ht===`
`?(Nt(),qt(),Qe++):(Ve+=Ht,Qe++)}return Nt(),tt.length&&qt(),Ne},Dt=Ge=>{const Ne=String(Ge||"").trim();if(!Ne)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(Ne))return Ne;const Qe=Ne.match(/^(\d{1,2})[/-](\d{1,2})[/-](\d{4})$/);if(Qe){const tt=String(Qe[1]).padStart(2,"0"),at=String(Qe[2]).padStart(2,"0");return`${Qe[3]}-${at}-${tt}`}if(/^\d{5}$/.test(Ne)){const tt=new Date(1900,0,1),at=parseInt(Ne)-2,Nt=new Date(tt.getTime()+at*24*60*60*1e3),qt=Nt.getFullYear(),Ht=String(Nt.getMonth()+1).padStart(2,"0"),Ar=String(Nt.getDate()).padStart(2,"0");return`${qt}-${Ht}-${Ar}`}const Ve=new Date(Ne);if(!isNaN(Ve.getTime())){const tt=Ve.getFullYear(),at=String(Ve.getMonth()+1).padStart(2,"0"),Nt=String(Ve.getDate()).padStart(2,"0");return`${tt}-${at}-${Nt}`}return null},Rt=async Ge=>{const Ne=Ge.name.toLowerCase();if(Ne.endsWith(".xlsx")||Ne.endsWith(".xls")){const Qe=await Ge.arrayBuffer(),Ve=lT(Qe,{type:"array"}),tt=Ve.SheetNames[0],at=Ve.Sheets[tt];return hIe.sheet_to_json(at,{header:1,defval:""})}if(Ne.endsWith(".csv")){const Qe=await Ge.text();return rt(Qe)}throw new Error("Unsupported file format. Please use .csv, .xlsx, or .xls files.")},$t=async Ge=>{try{b(!0);const Ne=await Rt(Ge);if(!Ne.length){alert("File is empty");return}const Qe=Ne[0],Ve={};Qe.forEach((Ht,Ar)=>{const Jt=gt(Ht),er=At[Jt];er&&(Ve[er]=Ar)});const tt=[],at=[];for(let Ht=1;Ht<Ne.length;Ht++){const Ar=Ne[Ht];if(!Ar||Ar.every(js=>!String(js||"").trim()))continue;const Jt={};if(Object.keys(At).forEach(js=>{const Fn=At[js],ss=Ve[Fn];if(ss!==void 0){const sn=String(Ar[ss]??"").trim();sn&&(Jt[Fn]=sn)}}),!Jt.name||!Jt.mobile||!Jt.gender||!Jt.batchCode||!Jt.admissionDate||!Jt.roll||!Jt.section||!Jt.course){at.push({row:Ht+1,reason:"Missing required fields"});continue}const er=Dt(Jt.dob),bn=Dt(Jt.admissionDate);if(!bn){at.push({row:Ht+1,reason:"Invalid admission date format"});continue}tt.push({name:Jt.name,mobile:Jt.mobile,email:(Jt.email||"").toLowerCase(),gender:Jt.gender.toLowerCase(),dob:er,address:Jt.address||"",pincode:Jt.pincode||"",status:Jt.status||"Active",guardianName:Jt.guardianName||"",guardianEmail:Jt.guardianEmail?Jt.guardianEmail.toLowerCase():"",guardianPhone:Jt.guardianPhone||"",serialNo:Jt.serialNo?Number(Jt.serialNo):void 0,batchCode:Jt.batchCode,admissionDate:bn,roll:Jt.roll,grade:Jt.grade||"",section:Jt.section,course:Jt.course||"",courseId:Jt.courseId||"",duration:Jt.duration||"",formNo:Jt.formNo||"",enrollmentNo:Jt.enrollmentNo||""})}if(!tt.length){gn.fire({icon:"warning",title:"No Valid Rows",html:at.length>0?`<div style="text-align: left;">
            <p>All rows were skipped due to validation errors:</p>
            <ul style="max-height: 300px; overflow-y: auto;">
              ${at.slice(0,20).map(Ht=>`<li>Row ${Ht.row}: ${Ht.reason}</li>`).join("")}
              ${at.length>20?`<li>...and ${at.length-20} more</li>`:""}
            </ul>
          </div>`:"No valid data rows found in the file."});return}if(at.length>0&&!(await gn.fire({icon:"warning",title:`${at.length} rows will be skipped`,html:`<div style="text-align: left;">
            <p><strong>${tt.length}</strong> valid rows found</p>
            <p><strong>${at.length}</strong> rows will be skipped:</p>
            <ul style="max-height: 200px; overflow-y: auto;">
              ${at.slice(0,10).map(Ar=>`<li>Row ${Ar.row}: ${Ar.reason}</li>`).join("")}
              ${at.length>10?`<li>...and ${at.length-10} more</li>`:""}
            </ul>
            <p style="margin-top: 10px;">Do you want to continue importing the valid rows?</p>
          </div>`,showCancelButton:!0,confirmButtonText:"Yes, Import Valid Rows",cancelButtonText:"Cancel"})).isConfirmed){b(!1),N.current&&(N.current.value="");return}console.log("Sending to backend:",{count:tt.length,firstStudent:tt[0],sample:tt[0]});const Nt=await fetch(`${Jc}/api/nif/students/bulk`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({students:tt})}),qt=await Nt.json().catch(()=>({}));if(!Nt.ok){alert(`Import failed: ${qt.message||Nt.statusText}`);return}await gn.fire({icon:"success",title:"Import Complete!",html:`<div style="text-align: left;">
          <p><strong>Successfully imported:</strong> ${qt.imported} students</p>
          <p><strong>Failed:</strong> ${qt.failed} rows</p>
          ${qt.errors&&qt.errors.length>0?`<p style="margin-top: 10px;"><strong>Errors:</strong></p>
             <ul style="max-height: 200px; overflow-y: auto; text-align: left;">
               ${qt.errors.slice(0,10).map(Ht=>`<li>Row ${Ht.index+1}: ${Ht.message}</li>`).join("")}
               ${qt.errors.length>10?`<li>...and ${qt.errors.length-10} more errors</li>`:""}
             </ul>`:""}
        </div>`,confirmButtonText:"OK"}),await Ae()}catch(Ne){console.error(Ne),gn.fire({icon:"error",title:"Import Failed",text:Ne.message||"An error occurred during import"})}finally{b(!1),N.current&&(N.current.value="")}};return n.jsx("div",{className:"flex-1 bg-white overflow-hidden flex flex-col",children:n.jsxs("div",{className:"w-full flex-1 flex flex-col p-2 md:p-4 lg:p-6 overflow-hidden text-sm md:text-base",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:justify-between sm:items-center mb-4 md:mb-6 flex-shrink-0",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-yellow-700",children:"Student Management (NIF)"}),n.jsx("p",{className:"text-gray-600 mt-1 md:mt-2 text-sm md:text-base",children:"Manage Students"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-3 w-full sm:w-auto justify-stretch sm:justify-start",children:[n.jsxs("button",{onClick:()=>{var Ge;return(Ge=N.current)==null?void 0:Ge.click()},disabled:g,className:"bg-amber-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-amber-700 disabled:opacity-60 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[n.jsx(WN,{size:16}),g?"Importing...":"Bulk Upload"]}),n.jsx("input",{ref:N,type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:Ge=>{var Qe;const Ne=(Qe=Ge.target.files)==null?void 0:Qe[0];Ne&&$t(Ne)}}),n.jsxs("button",{onClick:et,disabled:re,className:"bg-emerald-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-emerald-700 disabled:opacity-60 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",title:"Generate credentials for all students without portal access and export to CSV",children:[n.jsx(vW,{size:16}),re?"Generating...":"Generate All IDs"]}),n.jsxs("button",{onClick:()=>l(!0),className:"bg-yellow-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-yellow-700 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[n.jsx(Dn,{size:16})," Add Student"]}),n.jsxs("button",{onClick:()=>T(!0),className:"bg-purple-600 text-white px-3 md:px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2 text-sm md:text-base flex-1 sm:flex-none justify-center",children:[n.jsx(S6,{size:16})," View Archived"]})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[n.jsx("div",{className:"mb-3 md:mb-4 flex flex-wrap items-center gap-4 flex-shrink-0",children:n.jsxs("div",{className:"flex-1 min-w-[200px] md:min-w-[240px] relative",children:[n.jsx(In,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm md:text-base",value:a,onChange:Ge=>i(Ge.target.value)})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto rounded-lg border border-gray-200",children:n.jsxs("table",{className:"w-full border-collapse table-fixed",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-yellow-50",children:[n.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[20%]",children:"Student"}),n.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[12%]",children:"Academic"}),n.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[15%]",children:"Course"}),n.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[12%]",children:"Contact"}),n.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-left text-xs font-semibold text-yellow-800 w-[18%]",children:"Fees"}),n.jsx("th",{className:"border-b border-yellow-100 px-2 py-2 text-center text-xs font-semibold text-yellow-800 w-[23%]",children:"Actions"})]})}),n.jsxs("tbody",{children:[Re.map(Ge=>{var Nt,qt,Ht,Ar,Jt,er;const Ne=Ge._id||Ge.id,Qe=Ge.admissionDate?new Date(Ge.admissionDate).getFullYear():void 0,Ve=ee[Ne]==="active",tt=O===Ne,at={batchCode:Ge.batchCode||Ge.section||Ge.grade||"",referenceName:Ge.name||""};return Qe&&(at.joiningYear=Qe),n.jsxs("tr",{className:"hover:bg-yellow-50 transition-all duration-200",children:[n.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-200 flex items-center justify-center text-xs flex-shrink-0",children:((Nt=Ge.name)==null?void 0:Nt.charAt(0))||"?"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900 text-xs truncate",children:Ge.name}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:Ge.email||"No email"})]})]})}),n.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsxs("div",{className:"font-medium",children:["Roll: ",Ge.roll]}),n.jsx("div",{className:"text-gray-500",children:Ge.batchCode})]})}),n.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("div",{className:"font-medium truncate",title:Ge.grade,children:Ge.grade}),n.jsx("div",{className:"text-gray-500 truncate",title:Ge.course,children:Ge.course})]})}),n.jsx("td",{className:"border-b border-yellow-100 px-2 py-2 text-xs text-gray-600",children:Ge.mobile}),n.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:n.jsxs("div",{className:"text-xs",children:[n.jsxs("div",{className:"text-gray-600",children:[ie((qt=Ge.feeSummary)==null?void 0:qt.paidAmount),"/",ie((Ht=Ge.feeSummary)==null?void 0:Ht.totalFee)]}),n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx("span",{className:`inline-flex px-1.5 py-0.5 text-xs rounded ${J((Ar=Ge.feeSummary)==null?void 0:Ar.status)}`,children:((Jt=Ge.feeSummary)==null?void 0:Jt.status)||"N/A"}),n.jsx("span",{className:"text-xs text-red-600 font-semibold",children:ie((er=Ge.feeSummary)==null?void 0:er.dueAmount)})]})]})}),n.jsx("td",{className:"border-b border-yellow-100 px-2 py-2",children:n.jsxs("div",{className:"flex items-center gap-1 justify-center flex-wrap",children:[n.jsx(eP,{buttonText:"Credentials",defaultRole:"Student",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-emerald-600 hover:bg-emerald-700 px-3 py-1 text-xs",prefillValues:at,disabled:tt,onGenerate:({id:bn,password:js})=>Ke(Ge,{id:bn,password:js})}),Ve&&n.jsx("span",{className:"px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 text-[10px] font-semibold",children:"Portal Ready"}),n.jsx("button",{onClick:()=>$e(Ge),disabled:D,className:"inline-flex items-center px-2 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-xs transition-colors disabled:opacity-50",title:"Archive Student",children:n.jsx(S6,{size:12})}),n.jsx("button",{onClick:()=>le(Ge),disabled:!!F,className:"inline-flex items-center px-2 py-1 bg-red-50 text-red-700 hover:bg-red-100 rounded text-xs transition-colors disabled:opacity-50",title:"Delete Student",children:n.jsx(pc,{size:12})})]})})]},Ne)}),ge.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"text-center text-gray-500 py-10 text-sm",children:"No students found."})})]})]})}),n.jsxs("div",{className:"mt-3 md:mt-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between flex-shrink-0 pt-3 md:pt-4 border-t border-yellow-100",children:[n.jsx("div",{className:"text-gray-600 text-xs md:text-sm",children:ge.length===0?"No students to display":`Showing ${ut}-${se} of ${ge.length} students`}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("button",{className:"px-2 md:px-3 py-1 md:py-1.5 border border-gray-200 rounded-lg text-xs md:text-sm hover:bg-yellow-50 disabled:opacity-50 text-black",onClick:()=>ye(Ge=>Math.max(Ge-1,1)),disabled:fe===1,children:"Previous"}),oe.map(Ge=>n.jsx("button",{onClick:()=>ye(Ge),className:`px-2 md:px-3 py-1 md:py-1.5 rounded-lg text-xs md:text-sm border ${Ge===fe?"bg-yellow-500 text-white border-yellow-500":"border-gray-200 text-black hover:bg-yellow-50"}`,children:Ge},Ge)),n.jsx("button",{className:"px-2 md:px-3 py-1 md:py-1.5 border border-gray-200 rounded-lg text-xs md:text-sm hover:bg-yellow-50 disabled:opacity-50 text-black",onClick:()=>ye(Ge=>Math.min(Ge+1,we)),disabled:fe===we,children:"Next"})]})]})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[95vh] overflow-hidden border border-gray-200",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 p-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:n.jsx(Dn,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Enroll New NIF Student"}),n.jsx("p",{className:"text-yellow-100 mt-1",children:"Complete all sections to register student"})]})]}),n.jsx("button",{onClick:()=>l(!1),className:"text-white/80 hover:text-white p-2 hover:bg-white/10 rounded-lg",children:n.jsx(ts,{size:24})})]})}),n.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:["Personal","Academic","Review"].map((Ge,Ne)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${Ne===0?"bg-yellow-500 border-yellow-500 text-white":"border-gray-300 text-gray-500"} font-semibold text-sm`,children:Ne+1}),n.jsx("span",{className:`ml-2 text-sm font-medium ${Ne===0?"text-yellow-600":"text-gray-500"}`,children:Ge}),Ne<2&&n.jsx("div",{className:"w-12 h-0.5 bg-gray-300 mx-4"})]},Ge))})}),n.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:qe,className:"space-y-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-100 flex items-center justify-center",children:n.jsx(sr,{className:"w-3 h-3 text-yellow-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Full Name",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",name:"name",value:Y.name,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter student's full name"}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx(sr,{className:"w-4 h-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Mobile Number",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"tel",name:"mobile",value:Y.mobile,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"+91 98765 43210"}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx(Sc,{className:"w-4 h-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"flex items-center text-sm font-medium text-gray-700",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",name:"email",value:Y.email,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"student@example.com"}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx(mc,{className:"w-4 h-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"flex items-center text-sm font-medium text-gray-700",children:"Date of Birth"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"dob",value:Y.dob,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx(Kt,{className:"w-4 h-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"space-y-2 relative",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Gender",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("select",{name:"gender",value:Y.gender,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[n.jsx("option",{value:"",children:"Select Gender"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"other",children:"Other"})]}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:n.jsx(bs,{className:"w-4 h-4 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pincode"}),n.jsx("input",{type:"text",name:"pincode",value:Y.pincode,onChange:ae,maxLength:6,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter 6-digit pincode"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Name"}),n.jsx("input",{type:"text",name:"guardianName",value:Y.guardianName,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Parent/Guardian Name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Phone"}),n.jsx("input",{type:"tel",name:"guardianPhone",value:Y.guardianPhone,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"+91 90000 00000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Guardian Email"}),n.jsx("input",{type:"email",name:"guardianEmail",value:Y.guardianEmail,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"guardian@example.com"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Address"}),n.jsx("textarea",{name:"address",value:Y.address,onChange:ae,rows:3,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 resize-none",placeholder:"Enter complete residential address..."})]})]}),n.jsxs("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(kr,{className:"w-3 h-3 text-blue-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Academic & NIF Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Serial No (optional)"}),n.jsx("input",{type:"number",name:"serialNo",value:Y.serialNo,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Srl No"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Batch Code",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:"text",name:"batchCode",value:Y.batchCode,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"e.g. 1124B02"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Date of Admission",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"admissionDate",value:Y.admissionDate,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500"}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx(Kt,{className:"w-4 h-4 text-gray-400"})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[n.jsxs("div",{className:"space-y-2 relative",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Program",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("select",{name:"grade",value:Y.grade,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[n.jsx("option",{value:"",children:"Select Program"}),n.jsxs("optgroup",{label:"Fashion Design",children:[n.jsx("option",{value:"Fashion Design - 1 year Certificate Program",children:"1 year Certificate Program"}),n.jsx("option",{value:"Fashion Design - 2 year Advanced Certificate",children:"2 year Advanced Certificate"}),n.jsx("option",{value:"Fashion Design - 3 year B Voc Program",children:"3 year B Voc Program"}),n.jsx("option",{value:"Fashion Design - 4 year B Des Program",children:"4 year B Des Program"}),n.jsx("option",{value:"Fashion Design - 2 Year M Voc program",children:"2 Year M Voc program"})]}),n.jsxs("optgroup",{label:"Interior Design",children:[n.jsx("option",{value:"Interior Design - 1 year Certificate Program",children:"1 year Certificate Program"}),n.jsx("option",{value:"Interior Design - 2 year Advanced Certificate",children:"2 year Advanced Certificate"}),n.jsx("option",{value:"Interior Design - 3 year B Voc Program",children:"3 year B Voc Program"}),n.jsx("option",{value:"Interior Design - 4 year B Des Program",children:"4 year B Des Program"}),n.jsx("option",{value:"Interior Design - 2 Year M Voc program",children:"2 Year M Voc program"})]})]}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:n.jsx(bs,{className:"w-4 h-4 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Course & Fees",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{name:"courseId",value:Y.courseId,onChange:_e,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[n.jsx("option",{value:"",children:j?"Loading courses...":"Select course"}),w.map(Ge=>n.jsxs("option",{value:Ge._id,children:[Ge.title," (",Ge.department,")"]},Ge._id))]}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:n.jsx(bs,{className:"w-4 h-4 text-gray-400"})})]}),Z&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Program: ",Z.programLabel,"  Total Fee: ",(Lt=Z.fees)==null?void 0:Lt.toLocaleString()]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Duration"}),n.jsx("input",{type:"text",name:"duration",value:Y.duration,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"e.g. 2 Years"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mt-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Roll Number",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",name:"roll",value:Y.roll,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter roll number"}),n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:n.jsx(ane,{className:"w-4 h-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"space-y-2 relative",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["Section",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("select",{name:"section",value:Y.section,onChange:ae,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 appearance-none bg-white",children:[n.jsx("option",{value:"",children:"Select Section"}),n.jsx("option",{value:"A",children:"Section A"}),n.jsx("option",{value:"B",children:"Section B"}),n.jsx("option",{value:"C",children:"Section C"}),n.jsx("option",{value:"D",children:"Section D"})]}),n.jsx("div",{className:"pointer-events-none absolute right-3 top-[45px]",children:n.jsx(bs,{className:"w-4 h-4 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Form No"}),n.jsx("input",{type:"text",name:"formNo",value:Y.formNo,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter form number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enrollment No"}),n.jsx("input",{type:"text",name:"enrollmentNo",value:Y.enrollmentNo,onChange:ae,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter enrollment no"})]})]}),Z&&n.jsxs("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-2xl p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-yellow-800",children:"Course Fee Snapshot"}),n.jsxs("p",{className:"text-sm text-yellow-700",children:["Total Fee: ",(or=Z.fees)==null?void 0:or.toLocaleString()," "," ",((Bt=Z.installments)==null?void 0:Bt.length)||0," Installments"]})]}),n.jsx("div",{className:"px-3 py-1 bg-white/70 rounded-full text-xs text-yellow-800 border border-yellow-200",children:Z.programLabel})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ce.slice(0,6).map((Ge,Ne)=>{var Qe;return n.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-yellow-100",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:Ge.label}),n.jsxs("div",{className:"flex justify-between items-center mt-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:Ge.dueMonth||"Scheduled"}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["",(Qe=Ge.amount)==null?void 0:Qe.toLocaleString()]})]})]},`${Ge.label}-${Ne}`)})}),ce.length>6&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Showing first 6 installments. Full schedule included in course record."})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["All fields marked with"," ",n.jsx("span",{className:"text-red-500",children:"*"})," are required"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-8 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:x,className:"px-8 py-3 bg-gradient-to-r from-yellow-500 to-amber-500 text-white rounded-xl hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed flex items-center gap-2",children:[n.jsx(Dn,{size:18}),x?"Enrolling...":"Enroll Student"]})]})]})]})})]})}),C&&n.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden border border-gray-200",children:[n.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Archived Students"}),n.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(ts,{size:20})})]}),n.jsx("div",{className:"overflow-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Roll"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Program"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Course"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Phone"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Outstanding"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Action"})]})}),n.jsxs("tbody",{children:[E.map(Ge=>{var Ne;return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:Ge.studentName}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge.roll}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge.grade}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge.course}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge.mobile}),n.jsx("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:ie((Ne=Ge.feeSummary)==null?void 0:Ne.totalDue)}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("button",{onClick:()=>ft(Ge._id),disabled:k,className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg bg-green-100 text-green-700 hover:bg-green-200 text-sm disabled:opacity-50",children:[n.jsx(io,{size:14}),"Restore"]})})]},Ge._id)}),!E.length&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-10 text-center text-gray-500",children:"No archived students."})})]})]})}),n.jsx("div",{className:"px-6 py-4 border-t flex justify-end",children:n.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50 text-black",children:"Close"})})]})})]})})},mIe=({setShowAdminHeader:t})=>{var A,j,S,E,R,C,T,k,P,D,H;const[e,r]=L.useState([]),[s,a]=L.useState(""),[i,o]=L.useState(!1),[l,c]=L.useState(null),[d,u]=L.useState({}),[h,m]=L.useState(""),f=e.filter(F=>{const z=F.name.toLowerCase().includes(s.toLowerCase())||F.roll.includes(s)||F.email.toLowerCase().includes(s.toLowerCase());if(!h)return z;const O=x(F.id);return z&&O.mood===h}),x=F=>d[F]||{mood:"neutral",socialEngagement:5,academicStress:5,behaviorChanges:!1,lastAssessment:"N/A",notes:"",interventions:[],counselingSessions:0,parentNotifications:0},v=F=>{const z={excellent:{icon:Xd,color:"text-green-600",bg:"bg-green-100"},good:{icon:Xd,color:"text-blue-600",bg:"bg-blue-100"},neutral:{icon:Jw,color:"text-yellow-600",bg:"bg-yellow-100"},concerning:{icon:Hy,color:"text-orange-600",bg:"bg-orange-100"},critical:{icon:Zr,color:"text-red-600",bg:"bg-red-100"}};return z[F]||z.neutral},g=(F,z)=>{u(O=>({...O,[F]:{...O[F],...z,lastAssessment:new Date().toISOString().split("T")[0]}}))},b=F=>{c(F),o(!0),fetch(`http://localhost:5000/api/wellbeing/${F.id}`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(z=>{if(!z.ok)throw new Error("Failed to fetch wellbeing data");return z.json()}).then(z=>{u(O=>({...O,[F.id]:z}))}).catch(z=>{console.error("Error fetching wellbeing data:",z)})};L.useEffect(()=>{t(!0),fetch("http://localhost:5000/api/admin/users/get-students",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(F=>{if(!F.ok)throw new Error("Failed to fetch students");return F.json()}).then(F=>{r(F)}).catch(F=>{console.error("Error fetching students:",F)})},[t]);const N={total:e.length,excellent:e.filter(F=>x(F.id).mood==="excellent").length,good:e.filter(F=>x(F.id).mood==="good").length,neutral:e.filter(F=>x(F.id).mood==="neutral").length,concerning:e.filter(F=>x(F.id).mood==="concerning").length,critical:e.filter(F=>x(F.id).mood==="critical").length},w=()=>{if(!l)return;const F=d[l.id];F&&fetch(`http://localhost:5000/api/wellbeing/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(F)}).then(z=>{if(!z.ok)throw new Error("Failed to save assessment");return z.json()}).then(z=>{console.log("Assessment saved:",z),o(!1)}).catch(z=>{console.error("Error saving assessment:",z)})};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-purple-100 to-indigo-100 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto bg-white/90 rounded-2xl shadow-2xl p-8 border border-purple-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-purple-700",children:"Student Wellbeing Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor and assess student emotional wellbeing and mental health"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>{c({id:"test",name:"Test Student",roll:"001",grade:"10",section:"A"}),o(!0)},className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx(Pn,{size:16})," Test Wellbeing Modal"]}),n.jsx(Pn,{className:"w-12 h-12 text-purple-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.total})]}),n.jsx(sr,{className:"w-8 h-8 text-gray-500"})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-green-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Excellent"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.excellent})]}),n.jsx(Xd,{className:"w-8 h-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Good"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N.good})]}),n.jsx(Xd,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-yellow-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Neutral"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.neutral})]}),n.jsx(Jw,{className:"w-8 h-8 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-orange-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Concerning"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N.concerning})]}),n.jsx(Hy,{className:"w-8 h-8 text-orange-500"})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-red-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Critical"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.critical})]}),n.jsx(Zr,{className:"w-8 h-8 text-red-500"})]})})]}),n.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-[240px] relative",children:[n.jsx(In,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:s,onChange:F=>a(F.target.value)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(co,{size:16,className:"text-gray-400"}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h,onChange:F=>m(F.target.value),children:[n.jsx("option",{value:"",children:"All Wellbeing Status"}),n.jsx("option",{value:"excellent",children:"Excellent"}),n.jsx("option",{value:"good",children:"Good"}),n.jsx("option",{value:"neutral",children:"Neutral"}),n.jsx("option",{value:"concerning",children:"Concerning"}),n.jsx("option",{value:"critical",children:"Critical"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(F=>{const z=x(F.id),O=v(z.mood),W=O.icon;return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all border border-gray-200 cursor-pointer",onClick:()=>b(F),children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-200 flex items-center justify-center",children:F.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:F.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Roll: ",F.roll]})]})]}),n.jsx("div",{className:`p-2 rounded-full ${O.bg}`,children:n.jsx(W,{size:20,className:O.color})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Overall Mood"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.bg} ${O.color}`,children:z.mood.charAt(0).toUpperCase()+z.mood.slice(1)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Academic Stress"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${z.academicStress>7?"bg-red-500":z.academicStress>4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${z.academicStress/10*100}%`}})}),n.jsxs("span",{className:"text-xs text-gray-500",children:[z.academicStress,"/10"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Social Engagement"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${z.socialEngagement/10*100}%`}})}),n.jsxs("span",{className:"text-xs text-gray-500",children:[z.socialEngagement,"/10"]})]})]}),z.behaviorChanges&&n.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-sm",children:[n.jsx(Zr,{size:16}),n.jsx("span",{children:"Behavior changes noted"})]}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 pt-2 border-t",children:[n.jsxs("span",{children:["Last assessment: ",z.lastAssessment]}),n.jsxs("span",{children:["Sessions: ",z.counselingSessions]})]})]})]},F.id)})}),i&&l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Emotional Wellbeing Assessment"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:[l.name,"  Roll: ",l.roll,"  Class: ",l.grade,"-",l.section]})]}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(ts,{size:24})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Status"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(()=>{const F=x(l.id),z=v(F.mood),O=z.icon;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full ${z.bg} mb-2`,children:n.jsx(O,{className:`w-8 h-8 ${z.color}`})}),n.jsx("h4",{className:"font-medium text-gray-900",children:"Overall Mood"}),n.jsx("p",{className:`text-sm font-medium ${z.color}`,children:F.mood.charAt(0).toUpperCase()+F.mood.slice(1)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-2",children:n.jsx(sr,{className:"w-8 h-8 text-blue-600"})}),n.jsx("h4",{className:"font-medium text-gray-900",children:"Social Engagement"}),n.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[F.socialEngagement,"/10"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-100 mb-2",children:n.jsx(Yr,{className:"w-8 h-8 text-orange-600"})}),n.jsx("h4",{className:"font-medium text-gray-900",children:"Academic Stress"}),n.jsxs("p",{className:"text-sm font-medium text-orange-600",children:[F.academicStress,"/10"]})]})]})})()})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Assessment"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mood Rating"}),n.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",value:((A=d[l.id])==null?void 0:A.mood)||"neutral",onChange:F=>g(l.id,{mood:F.target.value}),children:[n.jsx("option",{value:"excellent",children:"Excellent"}),n.jsx("option",{value:"good",children:"Good"}),n.jsx("option",{value:"neutral",children:"Neutral"}),n.jsx("option",{value:"concerning",children:"Concerning"}),n.jsx("option",{value:"critical",children:"Critical"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Social Engagement (1-10)"}),n.jsx("input",{type:"range",min:"1",max:"10",className:"w-full",value:((j=d[l.id])==null?void 0:j.socialEngagement)||5,onChange:F=>g(l.id,{socialEngagement:parseInt(F.target.value)})}),n.jsxs("div",{className:"text-center text-sm text-gray-600 mt-1",children:[((S=d[l.id])==null?void 0:S.socialEngagement)||5,"/10"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Stress (1-10)"}),n.jsx("input",{type:"range",min:"1",max:"10",className:"w-full",value:((E=d[l.id])==null?void 0:E.academicStress)||5,onChange:F=>g(l.id,{academicStress:parseInt(F.target.value)})}),n.jsxs("div",{className:"text-center text-sm text-gray-600 mt-1",children:[((R=d[l.id])==null?void 0:R.academicStress)||5,"/10"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"behaviorChanges",className:"h-4 w-4 text-purple-600 border-gray-300 rounded",checked:((C=d[l.id])==null?void 0:C.behaviorChanges)||!1,onChange:F=>g(l.id,{behaviorChanges:F.target.checked})}),n.jsx("label",{htmlFor:"behaviorChanges",className:"ml-2 text-sm text-gray-700",children:"Behavior changes observed"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",rows:"3",placeholder:"Add any observations, concerns, or notes...",value:((T=d[l.id])==null?void 0:T.notes)||"",onChange:F=>g(l.id,{notes:F.target.value})})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Support & Interventions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx(ou,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-medium text-gray-900",children:"Counseling Sessions"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((k=d[l.id])==null?void 0:k.counselingSessions)||0})]}),n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[n.jsx(sr,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-medium text-gray-900",children:"Parent Meetings"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:((P=d[l.id])==null?void 0:P.parentNotifications)||0})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx(Kr,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-medium text-gray-900",children:"Interventions"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:((H=(D=d[l.id])==null?void 0:D.interventions)==null?void 0:H.length)||0})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[n.jsx(ou,{size:16}),"Schedule Counseling"]}),n.jsxs("button",{className:"flex-1 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 flex items-center justify-center gap-2",children:[n.jsx(sr,{size:16}),"Notify Parents"]}),n.jsxs("button",{className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[n.jsx(Kr,{size:16}),"Add Intervention"]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:w,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Save Assessment"})]})]})]})})]})})},Sf=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],oy=["8:00 AM - 8:45 AM","8:45 AM - 9:30 AM","9:30 AM - 10:15 AM","10:15 AM - 10:45 AM","10:45 AM - 11:30 AM","11:30 AM - 12:15 PM"],$d={X:["Mathematics","Physics","Chemistry","Biology","English","Computer"],IX:["Mathematics","English","Science","Social Science","Hindi","Computer"],XI:["Mathematics","Physics","Chemistry","Biology","English","Computer"]},ly={Mathematics:"Dr. Rakesh Sharma",Physics:"Prof. Priya Verma",Chemistry:"Mr. Arjun Singh",Biology:"Dr. Kavita Rao",English:"Ms. Anjali Mehra","Social Science":"Mr. Suresh Patel",Science:"Dr. Kavita Rao",Hindi:"Mr. Rohan Gupta",Computer:"Ms. Nidhi Kapoor"},pIe=()=>{const t=[],e=[{cls:"X",sections:["A","B"]},{cls:"IX",sections:["A","B"]},{cls:"XI",sections:["A","B"]}];let r=1;return e.forEach(({cls:s,sections:a})=>{a.forEach((i,o)=>{Sf.forEach((l,c)=>{const d=oy.map((u,h)=>{if(u.includes("10:15"))return{time:u,subject:"Break",teacher:"-"};const m=$d[s][(h+c+o)%$d[s].length];return{time:u,subject:m,teacher:ly[m]||"-"}});t.push({id:r++,class:s,section:i,day:l,schedule:d})})})}),t},xIe=pIe(),gIe=({setShowAdminHeader:t})=>{const[e,r]=L.useState(xIe),[s,a]=L.useState(""),[i,o]=L.useState(""),[l,c]=L.useState("Monday"),[d,u]=L.useState("daily"),[h,m]=L.useState(!1),[f,x]=L.useState(null),[v,g]=L.useState({class:"",section:"",day:"Monday",schedule:[]}),b=e.filter(j=>(!s||j.class===s)&&(!i||j.section===i)&&(d==="weekly"||!l||j.day===l));L.useEffect(()=>{t(!1)},[]);const N=L.useMemo(()=>{if(!s||!i)return null;const j=new Map;e.forEach(R=>{R.class===s&&R.section===i&&j.set(R.day,R)});const S=["Time",...Sf],E=oy.map(R=>{const C=Sf.map(T=>{const k=j.get(T),P=k==null?void 0:k.schedule.find(D=>D.time===R);return P?P.subject==="Break"?"Break":`${P.subject}  ${P.teacher}`:""});return[R,...C]});return{headers:S,rows:E}},[s,i]),w=()=>{if(!N)return;const j=[N.headers.join(",")];N.rows.forEach(C=>{const T=C.map(k=>{const P=String(k||"");return P.includes(",")||P.includes(`
`)?'"'+P.replace(/"/g,'""')+'"':P});j.push(T.join(","))});const S=new Blob([j.join(`
`)],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(S),R=document.createElement("a");R.href=E,R.download=`routine_${s}_${i}.csv`,R.click(),URL.revokeObjectURL(E)},A=()=>{if(!N)return;const j=new ir({orientation:"landscape",unit:"pt",format:"a4"}),S=36,E=S+20;j.setFontSize(14),j.text(`Class ${s} - Section ${i} | Weekly Routine`,S,S);const C=j.internal.pageSize.getWidth()-S*2,T=N.headers.length,k=C/T,P=28;let D=E;j.setFillColor(243,244,246),j.rect(S,D,C,P,"F"),j.setFontSize(10),N.headers.forEach((H,F)=>{const z=S+F*k+6;j.text(String(H),z,D+18)}),D+=P,j.setFontSize(9),N.rows.forEach(H=>{j.setDrawColor(229,231,235),H.forEach((F,z)=>{const O=S+z*k;j.rect(O,D,k,P);const W=String(F||""),ee=j.splitTextToSize(W,k-10);j.text(ee,O+6,D+18)}),D+=P,D+P>j.internal.pageSize.getHeight()-S&&(j.addPage(),D=S)}),j.save(`routine_${s}_${i}.pdf`)};return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:n.jsx(Kt,{className:"text-indigo-600 w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Class Routines"}),n.jsx("p",{className:"text-gray-600",children:"Manage weekly schedules across classes and sections"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:w,disabled:!N,className:`px-4 py-2 border rounded-lg transition-colors ${N?"border-purple-400 text-gray-700 hover:bg-gray-50":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:"CSV"}),n.jsx("button",{onClick:A,disabled:!N,className:`px-4 py-2 border rounded-lg transition-colors ${N?"border-purple-400 text-gray-700 hover:bg-gray-50":"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:"PDF"}),n.jsxs("button",{onClick:()=>{const j=s||"X",S=i||"A",E=l||"Monday",R=oy.map(C=>({time:C,isBreak:C.includes("10:15"),subject:C.includes("10:15")?"Break":$d[j][0],teacher:C.includes("10:15")?"-":ly[$d[j][0]]||"-"}));g({class:j,section:S,day:E,schedule:R}),x(null),m(!0)},className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[n.jsx(Dn,{size:16}),n.jsx("span",{children:"Add Routine"})]})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("select",{className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:s,onChange:j=>a(j.target.value),children:[n.jsx("option",{value:"",children:"All Classes"}),n.jsx("option",{value:"X",children:"Class X"}),n.jsx("option",{value:"IX",children:"Class IX"}),n.jsx("option",{value:"XI",children:"Class XI"})]}),n.jsxs("select",{className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:i,onChange:j=>o(j.target.value),children:[n.jsx("option",{value:"",children:"All Sections"}),n.jsx("option",{value:"A",children:"Section A"}),n.jsx("option",{value:"B",children:"Section B"})]})]}),n.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm border border-purple-400 p-1",children:[n.jsxs("button",{onClick:()=>u("weekly"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${d==="weekly"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(zN,{size:16,className:"inline mr-1"}),"Week"]}),n.jsxs("button",{onClick:()=>u("daily"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${d==="daily"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx($N,{size:16,className:"inline mr-1"}),"Daily"]})]})]}),d==="daily"&&n.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kt,{className:"w-4 h-4 text-gray-600"}),n.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:l,onChange:j=>c(j.target.value),children:Sf.map(j=>n.jsx("option",{value:j,children:j},j))})]})})]})}),d==="weekly"&&N&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 overflow-hidden mb-6",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Class ",s," - Section ",i," Weekly Overview"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"min-w-[800px]",children:[n.jsxs("div",{className:"grid grid-cols-7 border-b border-purple-100",children:[n.jsx("div",{className:"p-3 bg-gray-50 font-medium text-gray-700 text-center border-r border-gray-200",children:"Time"}),Sf.map(j=>{var E;const S=new Date().toLocaleDateString("en-US",{weekday:"long"})===j;return n.jsxs("div",{className:`p-3 font-medium text-center border-r border-gray-200 last:border-r-0 ${S?"bg-indigo-50 text-indigo-700":"bg-gray-50 text-gray-700"}`,children:[n.jsx("div",{className:"text-sm",children:j.substring(0,3)}),n.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[((E=e.find(R=>R.class===s&&R.section===i&&R.day===j))==null?void 0:E.schedule.length)||0," periods"]})]},j)})]}),n.jsx("div",{className:"relative",children:oy.map((j,S)=>n.jsxs("div",{className:"grid grid-cols-7 border-b border-purple-100 min-h-20",children:[n.jsx("div",{className:"p-3 bg-gray-50 text-sm text-gray-600 text-center border-r border-gray-200 flex items-center justify-center",children:n.jsxs("div",{children:[n.jsx(nr,{className:"w-4 h-4 mx-auto mb-1 text-gray-500"}),n.jsx("div",{className:"text-xs",children:j})]})}),Sf.map(E=>{const R=e.find(T=>T.class===s&&T.section===i&&T.day===E),C=R==null?void 0:R.schedule.find(T=>T.time===j);return n.jsx("div",{className:"relative p-2 border-r border-gray-100 last:border-r-0",children:C?n.jsxs("div",{className:`h-full p-3 rounded-lg text-white text-xs overflow-hidden ${C.subject==="Break"?"bg-gray-400":C.subject.includes("Mathematics")?"bg-blue-500":C.subject.includes("Physics")?"bg-purple-500":C.subject.includes("Chemistry")?"bg-orange-500":C.subject.includes("Biology")?"bg-green-500":C.subject.includes("English")?"bg-pink-500":C.subject.includes("Science")?"bg-green-500":C.subject.includes("Social")?"bg-yellow-500":C.subject.includes("Hindi")?"bg-red-500":C.subject.includes("Computer")?"bg-indigo-500":"bg-gray-500"}`,children:[n.jsx("div",{className:"font-medium truncate",children:C.subject}),n.jsx("div",{className:"text-xs opacity-90 truncate mt-1",children:C.teacher})]}):n.jsx("div",{className:"h-full border border-dashed border-gray-200 rounded-lg flex items-center justify-center text-gray-400 hover:border-indigo-300 hover:bg-indigo-50 transition-colors cursor-pointer",children:n.jsx(Dn,{className:"w-4 h-4"})})},E)})]},j))})]})})]}),d==="weekly"&&s&&i&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 mb-6",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Weekly Statistics"})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(j=>j.class===s&&j.section===i).reduce((j,S)=>j+S.schedule.filter(E=>E.subject!=="Break").length,0)}),n.jsx("div",{className:"text-sm text-blue-800",children:"Total Periods"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Set(e.filter(j=>j.class===s&&j.section===i).flatMap(j=>j.schedule.filter(S=>S.subject!=="Break").map(S=>S.subject))).size}),n.jsx("div",{className:"text-sm text-green-800",children:"Subjects"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(e.filter(j=>j.class===s&&j.section===i).flatMap(j=>j.schedule.filter(S=>S.subject!=="Break").map(S=>S.teacher))).size}),n.jsx("div",{className:"text-sm text-purple-800",children:"Teachers"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.filter(j=>j.class===s&&j.section===i).length}),n.jsx("div",{className:"text-sm text-orange-800",children:"Days"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(j=>j.class===s&&j.section===i).reduce((j,S)=>j+S.schedule.filter(E=>E.subject==="Break").length,0)}),n.jsx("div",{className:"text-sm text-gray-800",children:"Breaks"})]}),n.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-pink-600",children:[Math.round(e.filter(j=>j.class===s&&j.section===i).reduce((j,S)=>j+S.schedule.filter(E=>E.subject!=="Break").length,0)/(e.filter(j=>j.class===s&&j.section===i).length*oy.length)*100)||0,"%"]}),n.jsx("div",{className:"text-sm text-pink-800",children:"Utilization"})]})]})})]}),d==="daily"&&n.jsxs("div",{children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:n.jsx("div",{className:"grid grid-cols-6 gap-2",children:Sf.map(j=>{const S=new Date().toLocaleDateString("en-US",{weekday:"long"})===j,E=e.filter(R=>R.day===j&&(!s||R.class===s)&&(!i||R.section===i));return n.jsxs("button",{onClick:()=>c(j),className:`p-3 rounded-lg text-center transition-all relative ${l===j?"bg-indigo-500 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[S&&n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"}),n.jsx("div",{className:"text-sm font-medium",children:j.substring(0,3)}),n.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[E.length," routines"]})]},j)})})}),b.map(j=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 mb-6",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Class ",j.class," - Section ",j.section,new Date().toLocaleDateString("en-US",{weekday:"long"})===j.day&&n.jsx("span",{className:"ml-2 text-sm bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"Today"})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 mt-1",children:[n.jsx(Kt,{size:16}),n.jsx("span",{children:j.day})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",onClick:()=>{const S=j.schedule.map(E=>({time:E.time,isBreak:E.subject==="Break",subject:E.subject,teacher:E.teacher}));g({class:j.class,section:j.section,day:j.day,schedule:S}),x(j),m(!0)},children:n.jsx(Qb,{size:16})}),n.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(pc,{size:16})})]})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:j.schedule.map((S,E)=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all hover:border-indigo-300",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-white flex-shrink-0 ${S.subject==="Break"?"bg-gray-400":S.subject.includes("Mathematics")?"bg-blue-500":S.subject.includes("Physics")?"bg-purple-500":S.subject.includes("Chemistry")?"bg-orange-500":S.subject.includes("Biology")?"bg-green-500":S.subject.includes("English")?"bg-pink-500":S.subject.includes("Science")?"bg-green-500":S.subject.includes("Social")?"bg-yellow-500":S.subject.includes("Hindi")?"bg-red-500":S.subject.includes("Computer")?"bg-indigo-500":"bg-gray-500"}`,children:S.subject==="Break"?n.jsx(nr,{size:16}):n.jsx(Kt,{size:16})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:S.subject}),n.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full flex-shrink-0 ml-2 ${S.subject==="Break"?"bg-gray-100 text-gray-800":S.subject.includes("Mathematics")?"bg-blue-100 text-blue-800":S.subject.includes("Physics")?"bg-purple-100 text-purple-800":S.subject.includes("Chemistry")?"bg-orange-100 text-orange-800":S.subject.includes("Biology")?"bg-green-100 text-green-800":S.subject.includes("English")?"bg-pink-100 text-pink-800":"bg-indigo-100 text-indigo-800"}`,children:S.subject==="Break"?"Break":"Lecture"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nr,{size:16,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:S.time})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pn,{size:16,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:S.teacher})]})]})]})]})},E))})})]},j.id))]}),(d==="daily"&&b.length===0||d==="weekly"&&(!s||!i))&&n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Kt,{className:"text-purple-500",size:24})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:d==="weekly"?"Select Class and Section":"No routines found"}),n.jsx("p",{className:"text-gray-500",children:d==="weekly"?"Please select both class and section to view the weekly schedule":"Try adjusting your filters or create a new routine"})]})}),h&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>m(!1)}),n.jsxs("div",{className:"relative bg-white w-full max-w-4xl rounded-xl shadow-lg border border-purple-400 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f?"Edit Routine":"Add Routine"}),n.jsx("button",{className:"text-gray-500 hover:text-gray-700 p-2 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>m(!1),children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class"}),n.jsx("select",{value:v.class,onChange:j=>{const S=j.target.value,E=v.schedule.map(R=>R.isBreak?R:{...R,subject:$d[S][0],teacher:ly[$d[S][0]]||"-"});g(R=>({...R,class:S,schedule:E}))},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:Object.keys($d).map(j=>n.jsxs("option",{value:j,children:["Class ",j]},j))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section"}),n.jsx("select",{value:v.section,onChange:j=>g(S=>({...S,section:j.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:["A","B","C"].map(j=>n.jsxs("option",{value:j,children:["Section ",j]},j))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day"}),n.jsx("select",{value:v.day,onChange:j=>g(S=>({...S,day:j.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:Sf.map(j=>n.jsx("option",{value:j,children:j},j))})]})]}),n.jsx("div",{className:"overflow-x-auto mb-6",children:n.jsxs("table",{className:"min-w-full border border-gray-200 rounded-lg overflow-hidden",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Time"}),n.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:"Break"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Subject"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Teacher"})]})}),n.jsx("tbody",{children:v.schedule.map((j,S)=>n.jsxs("tr",{className:"even:bg-white odd:bg-gray-50 border-b border-gray-100",children:[n.jsx("td",{className:"px-4 py-3 text-sm text-gray-800",children:j.time}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:j.isBreak,onChange:E=>{const R=E.target.checked,C=[...v.schedule];C[S]=R?{...j,isBreak:!0,subject:"Break",teacher:"-"}:{...j,isBreak:!1,subject:$d[v.class][0],teacher:ly[$d[v.class][0]]||"-"},g(T=>({...T,schedule:C}))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),n.jsx("td",{className:"px-4 py-3",children:j.isBreak?n.jsx("span",{className:"text-gray-500 italic",children:"Break"}):n.jsx("select",{value:j.subject,onChange:E=>{const R=E.target.value,C=[...v.schedule];C[S]={...j,subject:R,teacher:ly[R]||"-"},g(T=>({...T,schedule:C}))},className:"w-full border border-gray-300 rounded-lg px-2 py-1 text-sm",children:$d[v.class].map(E=>n.jsx("option",{value:E,children:E},E))})}),n.jsx("td",{className:"px-4 py-3",children:j.isBreak?n.jsx("span",{className:"text-gray-500 italic",children:"-"}):n.jsx("input",{value:j.teacher,onChange:E=>{const R=[...v.schedule];R[S]={...j,teacher:E.target.value},g(C=>({...C,schedule:R}))},className:"w-full border border-gray-300 rounded-lg px-2 py-1 text-sm"})})]},j.time))})]})}),n.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[n.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>m(!1),children:"Cancel"}),n.jsx("button",{className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors",onClick:()=>{const j={id:(f==null?void 0:f.id)??e.reduce((S,E)=>Math.max(S,E.id),0)+1,class:v.class,section:v.section,day:v.day,schedule:v.schedule.map(S=>S.isBreak?{time:S.time,subject:"Break",teacher:"-"}:{time:S.time,subject:S.subject,teacher:S.teacher})};r(S=>{const E=S.findIndex(C=>C.id===(f==null?void 0:f.id));if(E>=0){const C=[...S];return C[E]=j,C}const R=S.findIndex(C=>C.class===j.class&&C.section===j.section&&C.day===j.day);if(R>=0){const C=[...S];return C[R]={...j,id:S[R].id},C}return[...S,j]}),m(!1)},children:"Save Routine"})]})]})]})]})},vIe=({onSubmit:t,onCancel:e,initialData:r=null})=>{const[s,a]=L.useState({title:(r==null?void 0:r.title)||"",subject:(r==null?void 0:r.subject)||"",grade:(r==null?void 0:r.grade)||"",date:(r==null?void 0:r.date)||"",duration:(r==null?void 0:r.duration)||"",objectives:(r==null?void 0:r.objectives)||[""],materials:(r==null?void 0:r.materials)||[""],notes:(r==null?void 0:r.notes)||""}),i=f=>{const{name:x,value:v}=f.target;a(g=>({...g,[x]:v}))},o=(f,x)=>{const v=[...s.objectives];v[f]=x,a(g=>({...g,objectives:v}))},l=(f,x)=>{const v=[...s.materials];v[f]=x,a(g=>({...g,materials:v}))},c=()=>{a(f=>({...f,objectives:[...f.objectives,""]}))},d=()=>{a(f=>({...f,materials:[...f.materials,""]}))},u=f=>{a(x=>({...x,objectives:x.objectives.filter((v,g)=>g!==f)}))},h=f=>{a(x=>({...x,materials:x.materials.filter((v,g)=>g!==f)}))},m=f=>{f.preventDefault(),t(s)};return n.jsxs("form",{onSubmit:m,className:"bg-white rounded-lg p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r?"Edit Lesson Plan":"Create New Lesson Plan"}),n.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(ts,{size:20,className:"text-gray-400"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),n.jsx("input",{type:"text",name:"title",value:s.title,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsx("input",{type:"text",name:"subject",value:s.subject,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade"}),n.jsxs("select",{name:"grade",value:s.grade,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0,children:[n.jsx("option",{value:"",children:"Select Grade"}),Array.from({length:12},(f,x)=>n.jsxs("option",{value:`Grade ${x+1}`,children:["Grade ",x+1]},x+1))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),n.jsxs("select",{name:"duration",value:s.duration,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0,children:[n.jsx("option",{value:"",children:"Select Duration"}),n.jsx("option",{value:"30 minutes",children:"30 minutes"}),n.jsx("option",{value:"45 minutes",children:"45 minutes"}),n.jsx("option",{value:"60 minutes",children:"60 minutes"}),n.jsx("option",{value:"90 minutes",children:"90 minutes"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),n.jsx("input",{type:"date",name:"date",value:s.date,onChange:i,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Learning Objectives"}),n.jsxs("div",{className:"space-y-2",children:[s.objectives.map((f,x)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:f,onChange:v=>o(x,v.target.value),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter learning objective",required:!0}),s.objectives.length>1&&n.jsx("button",{type:"button",onClick:()=>u(x),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg",children:n.jsx(ID,{size:20})})]},x)),n.jsxs("button",{type:"button",onClick:c,className:"text-yellow-600 hover:text-yellow-700 text-sm font-medium flex items-center gap-1",children:[n.jsx(Dn,{size:16}),"Add Objective"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Materials Needed"}),n.jsxs("div",{className:"space-y-2",children:[s.materials.map((f,x)=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:f,onChange:v=>l(x,v.target.value),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter required material",required:!0}),s.materials.length>1&&n.jsx("button",{type:"button",onClick:()=>h(x),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg",children:n.jsx(ID,{size:20})})]},x)),n.jsxs("button",{type:"button",onClick:d,className:"text-yellow-600 hover:text-yellow-700 text-sm font-medium flex items-center gap-1",children:[n.jsx(Dn,{size:16}),"Add Material"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),n.jsx("textarea",{name:"notes",value:s.notes,onChange:i,rows:4,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Add any additional notes or instructions..."})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg",children:r?"Update Plan":"Create Plan"})]})]})},yIe=({setShowAdminHeader:t})=>{const[e,r]=L.useState("grid"),[s,a]=L.useState("all"),[i,o]=L.useState(""),[l,c]=L.useState(!1),[d,u]=L.useState(null),[h,m]=L.useState(!1);L.useEffect(()=>{t==null||t(!1)},[t]);const f=[{id:1,title:"Introduction to Quadratic Equations",subject:"Mathematics",grade:"Grade 10",teacher:"Dr. Sarah Johnson",duration:"45 minutes",date:"2025-06-18",status:"Published",objectives:["Understand the definition of quadratic equations","Learn to identify quadratic equations","Solve simple quadratic equations"],materials:["Whiteboard","Graphing calculator","Worksheets"],description:"This lesson introduces students to quadratic equations, covering basic concepts and solving techniques.",tags:["algebra","equations","mathematics"],rating:4.8,views:245,lastModified:"2025-06-15"},{id:2,title:"Newton's Laws of Motion",subject:"Physics",grade:"Grade 11",teacher:"Prof. Michael Chen",duration:"60 minutes",date:"2025-06-19",status:"Draft",objectives:["Explain Newton's three laws of motion","Apply laws to real-world scenarios","Conduct practical experiments"],materials:["Lab equipment","Demonstration props","Video clips"],description:"Comprehensive lesson on Newton's laws with hands-on experiments and real-world applications.",tags:["physics","motion","laws","experiments"],rating:4.9,views:189,lastModified:"2025-06-16"},{id:3,title:"Shakespeare's Romeo and Juliet - Act 1",subject:"English Literature",grade:"Grade 12",teacher:"Ms. Emily Davis",duration:"50 minutes",date:"2025-06-20",status:"Published",objectives:["Analyze character development in Act 1","Understand themes of love and conflict","Examine Shakespeare's language techniques"],materials:["Play text","Audio recordings","Character worksheets"],description:"Deep dive into Act 1 of Romeo and Juliet, focusing on character analysis and thematic elements.",tags:["literature","shakespeare","drama","analysis"],rating:4.7,views:312,lastModified:"2025-06-14"},{id:4,title:"Organic Chemistry: Hydrocarbons",subject:"Chemistry",grade:"Grade 12",teacher:"Mr. David Wilson",duration:"70 minutes",date:"2025-06-21",status:"Published",objectives:["Classify different types of hydrocarbons","Understand molecular structures","Practice naming conventions"],materials:["Molecular models","Periodic table","Structure diagrams"],description:"Comprehensive study of hydrocarbon compounds including alkanes, alkenes, and alkynes.",tags:["chemistry","organic","hydrocarbons","molecules"],rating:4.6,views:156,lastModified:"2025-06-13"},{id:5,title:"Cell Division: Mitosis and Meiosis",subject:"Biology",grade:"Grade 11",teacher:"Dr. Lisa Brown",duration:"55 minutes",date:"2025-06-22",status:"Published",objectives:["Compare mitosis and meiosis processes","Identify phases of cell division","Understand biological significance"],materials:["Microscopes","Cell slides","Diagrams","Models"],description:"Interactive lesson on cell division processes with microscope observations and detailed comparisons.",tags:["biology","cells","division","mitosis","meiosis"],rating:4.8,views:203,lastModified:"2025-06-12"},{id:6,title:"World War II: Causes and Consequences",subject:"History",grade:"Grade 10",teacher:"Ms. Jennifer Lee",duration:"45 minutes",date:"2025-06-23",status:"Draft",objectives:["Analyze causes of World War II","Examine key events and turning points","Assess global consequences"],materials:["Historical maps","Primary sources","Timeline charts"],description:"Comprehensive analysis of WWII covering political, social, and economic factors.",tags:["history","world war","global","analysis"],rating:4.5,views:178,lastModified:"2025-06-17"}],x=["all","Mathematics","Physics","English Literature","Chemistry","Biology","History"],v=C=>({Mathematics:"bg-blue-100 border-blue-300 text-blue-800",Physics:"bg-purple-100 border-purple-300 text-purple-800","English Literature":"bg-green-100 border-green-300 text-green-800",Chemistry:"bg-orange-100 border-orange-300 text-orange-800",Biology:"bg-pink-100 border-pink-300 text-pink-800",History:"bg-yellow-100 border-yellow-300 text-yellow-800"})[C]||"bg-gray-100 border-gray-300 text-gray-800",g=C=>C==="Published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",b=f.filter(C=>{const T=s==="all"||C.subject===s,k=C.title.toLowerCase().includes(i.toLowerCase())||C.description.toLowerCase().includes(i.toLowerCase());return T&&k}),N=C=>{u(C),c(!0)},w=C=>{console.log("Deleting plan:",C)},A=C=>{console.log(d?"Updating lesson plan:":"Creating new lesson plan:",C),c(!1),u(null)},j=()=>{c(!1),u(null)},S=async()=>{const C=await Lw(()=>Promise.resolve().then(()=>dCe),void 0);return C.jsPDF||C.default||C},E=async()=>{m(!0);try{const C=await S(),T=new C,k=T.internal.pageSize.width,P=new Date().toLocaleDateString();let D=20;T.setFontSize(20),T.setFont(void 0,"bold"),T.text("Lesson Plans Report",k/2,D,{align:"center"}),D+=10,T.setFontSize(12),T.setFont(void 0,"normal"),T.text(`Generated on: ${P}`,k/2,D,{align:"center"}),s!=="all"&&(D+=6,T.text(`Subject: ${s}`,k/2,D,{align:"center"})),D+=15,T.setFontSize(16),T.setFont(void 0,"bold"),T.text("Summary",20,D),D+=10,T.setFontSize(10),T.setFont(void 0,"normal"),T.text(`Total Lesson Plans: ${f.length}`,25,D),D+=6,T.text(`Published: ${f.filter(z=>z.status==="Published").length}`,25,D),D+=6,T.text(`Draft: ${f.filter(z=>z.status==="Draft").length}`,25,D),D+=6,T.text(`Under Review: ${f.filter(z=>z.status==="Under Review").length}`,25,D),D+=15,T.setFontSize(16),T.setFont(void 0,"bold"),T.text("Lesson Plans Details",20,D),D+=12,b.forEach((z,O)=>{D>250&&(T.addPage(),D=20),T.setFontSize(12),T.setFont(void 0,"bold"),T.text(`${O+1}. ${z.title}`,20,D),D+=8,T.setFontSize(9),T.setFont(void 0,"normal"),T.text(`Subject: ${z.subject}`,25,D),T.text(`Grade: ${z.grade}`,100,D),T.text(`Status: ${z.status}`,150,D),D+=6,T.text(`Teacher: ${z.teacher}`,25,D),T.text(`Duration: ${z.duration}`,100,D),T.text(`Date: ${z.date}`,150,D),D+=6,T.text(`Description: ${z.description}`,25,D),D+=6,z.objectives&&z.objectives.length>0&&(T.text("Learning Objectives:",25,D),D+=4,z.objectives.forEach(W=>{T.text(`   ${W}`,30,D),D+=4})),z.activities&&z.activities.length>0&&(D+=2,T.text("Activities:",25,D),D+=4,z.activities.forEach(W=>{T.text(`   ${W.title} (${W.duration})`,30,D),D+=4})),z.assessment&&(D+=2,T.text(`Assessment: ${z.assessment}`,25,D),D+=6),z.resources&&z.resources.length>0&&(T.text("Resources:",25,D),D+=4,z.resources.forEach(W=>{T.text(`   ${W}`,30,D),D+=4})),D+=8}),T.setFontSize(8),T.setFont(void 0,"italic"),T.text("Generated by School Management System - Lesson Plan Module",k/2,T.internal.pageSize.height-10,{align:"center"});const F=s==="all"?"all-subjects":s.replace(/ /g,"-");T.save(`lesson-plans-${F}-${P.replace(/\//g,"-")}.pdf`)}catch(C){console.error("Failed to export lesson plans",C),alert("Failed to export lesson plans. Please try again.")}finally{m(!1)}},R=()=>l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsx("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:n.jsx(vIe,{onSubmit:A,onCancel:j,initialData:d})})});return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-500 rounded-xl p-6 mb-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Lesson Plans"}),n.jsx("p",{className:"text-red-100",children:"Create, manage, and organize your teaching materials"})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(kr,{className:"w-12 h-12 text-red-200"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search lesson plans...",value:i,onChange:C=>o(C.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(co,{className:"w-5 h-5 text-gray-500"}),n.jsx("select",{value:s,onChange:C=>a(C.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:x.map(C=>n.jsx("option",{value:C,children:C==="all"?"All Subjects":C},C))})]}),n.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>r("grid"),className:`px-3 py-1 rounded-md transition-all ${e==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:"Grid"}),n.jsx("button",{onClick:()=>r("list"),className:`px-3 py-1 rounded-md transition-all ${e==="list"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-blue-600"}`,children:"List"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{className:"flex items-center space-x-2 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(WN,{className:"w-4 h-4"}),n.jsx("span",{children:"Import"})]}),n.jsxs("button",{onClick:E,disabled:h,className:"flex items-center space-x-2 border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-60",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:h?"Exporting...":"Export"})]}),n.jsxs("button",{onClick:()=>{u(null),c(!0)},className:"flex items-center space-x-2 bg-blue-600 text-black px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:"Create Lesson Plan"})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Lesson Plans"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(jr,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Published"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.filter(C=>C.status==="Published").length})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Dr,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Draft"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:f.filter(C=>C.status==="Draft").length})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(Ao,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Rating"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"4.7"})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(Kr,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e==="grid"?n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(C=>n.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all cursor-pointer group",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${v(C.subject)} mb-2`,children:C.subject}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:C.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:C.description})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(C.status)}`,children:C.status})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:C.teacher})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(sr,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:C.grade})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:C.duration})]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Kt,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:new Date(C.date).toLocaleDateString()})]})]}),n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Kr,{className:"w-4 h-4 text-yellow-400 mr-1"}),n.jsx("span",{children:C.rating})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Rn,{className:"w-4 h-4 mr-1"}),n.jsx("span",{children:C.views})]})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:n.jsx(Rn,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>N(C),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all",children:n.jsx(zy,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-all",children:n.jsx(Zb,{className:"w-4 h-4"})})]}),n.jsx("button",{onClick:()=>w(C.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:n.jsx(pc,{className:"w-4 h-4"})})]})]},C.id))})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Title"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Teacher"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Grade"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Rating"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:b.map(C=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:C.title}),n.jsx("p",{className:"text-sm text-gray-600",children:C.duration})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${v(C.subject)}`,children:C.subject})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:C.teacher}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:C.grade}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:new Date(C.date).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(C.status)}`,children:C.status})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Kr,{className:"w-4 h-4 text-yellow-400 mr-1"}),n.jsx("span",{className:"text-sm",children:C.rating})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:n.jsx(Rn,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>N(C),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>w(C.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:n.jsx(pc,{className:"w-4 h-4"})})]})})]},C.id))})]})})}),n.jsx(R,{})]})},bIe=({setShowAdminHeader:t})=>{var C;t(!0);const[e,r]=L.useState("week"),[s,a]=L.useState("all"),[i,o]=L.useState("Monday"),[l,c]=L.useState(new Date),[d,u]=L.useState(!1),[h,m]=L.useState(null),f=[{id:1,name:"Dr. Rakesh Sharma",subject:"Mathematics"},{id:2,name:"Prof. Priya Verma",subject:"Physics"},{id:3,name:"Ms. Anjali Mehra",subject:"English Literature"},{id:4,name:"Mr. Arjun Singh",subject:"Chemistry"},{id:5,name:"Dr. Kavita Rao",subject:"Biology"}],x=["08:00 - 09:00","09:00 - 10:00","10:30 - 11:30","11:30 - 12:30","13:30 - 14:30","14:30 - 15:30","15:30 - 16:30"],v=["Monday","Tuesday","Wednesday","Thursday","Friday"],g={Monday:{"08:00 - 09:00":{teacher:"Dr. Rakesh Sharma",subject:"Advanced Mathematics",class:"Class 12A",room:"Room 101"},"09:00 - 10:00":{teacher:"Prof. Priya Verma",subject:"Physics Lab",class:"Class 11B",room:"Lab 201"},"10:30 - 11:30":{teacher:"Ms. Anjali Mehra",subject:"English Literature",class:"Class 10A",room:"Room 205"},"11:30 - 12:30":{teacher:"Dr. Rakesh Sharma",subject:"Calculus",class:"Class 12B",room:"Room 101"},"13:30 - 14:30":{teacher:"Mr. Arjun Singh",subject:"Organic Chemistry",class:"Class 11A",room:"Lab 301"},"14:30 - 15:30":{teacher:"Dr. Kavita Rao",subject:"Biology",class:"Class 10B",room:"Room 105"}},Tuesday:{"08:00 - 09:00":{teacher:"Prof. Priya Verma",subject:"Quantum Physics",class:"Class 12A",room:"Room 202"},"09:00 - 10:00":{teacher:"Ms. Anjali Mehra",subject:"Creative Writing",class:"Class 11A",room:"Room 205"},"10:30 - 11:30":{teacher:"Dr. Kavita Rao",subject:"Molecular Biology",class:"Class 12B",room:"Lab 105"},"11:30 - 12:30":{teacher:"Mr. Arjun Singh",subject:"Chemical Analysis",class:"Class 11B",room:"Lab 301"},"13:30 - 14:30":{teacher:"Dr. Rakesh Sharma",subject:"Statistics",class:"Class 10A",room:"Room 101"},"15:30 - 16:30":{teacher:"Prof. Priya Verma",subject:"Physics Tutorial",class:"Class 10B",room:"Room 202"}},Wednesday:{"08:00 - 09:00":{teacher:"Ms. Anjali Mehra",subject:"Shakespeare Studies",class:"Class 12A",room:"Room 205"},"09:00 - 10:00":{teacher:"Dr. Kavita Rao",subject:"Genetics Lab",class:"Class 11A",room:"Lab 105"},"10:30 - 11:30":{teacher:"Mr. Arjun Singh",subject:"Inorganic Chemistry",class:"Class 12B",room:"Room 301"},"11:30 - 12:30":{teacher:"Dr. Rakesh Sharma",subject:"Trigonometry",class:"Class 11B",room:"Room 101"},"13:30 - 14:30":{teacher:"Prof. Priya Verma",subject:"Mechanics",class:"Class 10A",room:"Room 202"},"14:30 - 15:30":{teacher:"Ms. Anjali Mehra",subject:"Poetry Analysis",class:"Class 10B",room:"Room 205"}},Thursday:{"08:00 - 09:00":{teacher:"Dr. Kavita Rao",subject:"Ecology",class:"Class 12A",room:"Room 105"},"09:00 - 10:00":{teacher:"Mr. Arjun Singh",subject:"Analytical Chemistry",class:"Class 12B",room:"Lab 301"},"10:30 - 11:30":{teacher:"Dr. Rakesh Sharma",subject:"Geometry",class:"Class 10A",room:"Room 101"},"11:30 - 12:30":{teacher:"Prof. Priya Verma",subject:"Thermodynamics",class:"Class 11A",room:"Room 202"},"13:30 - 14:30":{teacher:"Ms. Anjali Mehra",subject:"Grammar & Composition",class:"Class 11B",room:"Room 205"},"15:30 - 16:30":{teacher:"Dr. Kavita Rao",subject:"Biology Lab",class:"Class 10B",room:"Lab 105"}},Friday:{"08:00 - 09:00":{teacher:"Mr. Arjun Singh",subject:"Physical Chemistry",class:"Class 12A",room:"Lab 301"},"09:00 - 10:00":{teacher:"Dr. Rakesh Sharma",subject:"Algebra Review",class:"Class 11A",room:"Room 101"},"10:30 - 11:30":{teacher:"Prof. Priya Verma",subject:"Wave Physics",class:"Class 12B",room:"Room 202"},"11:30 - 12:30":{teacher:"Ms. Anjali Mehra",subject:"Literature Discussion",class:"Class 11B",room:"Room 205"},"13:30 - 14:30":{teacher:"Dr. Kavita Rao",subject:"Human Anatomy",class:"Class 10A",room:"Room 105"},"14:30 - 15:30":{teacher:"Mr. Arjun Singh",subject:"Chemistry Review",class:"Class 10B",room:"Room 301"}}},b=T=>{const k={Mathematics:"bg-blue-100 border-blue-300 text-blue-800",Physics:"bg-purple-100 border-purple-300 text-purple-800",English:"bg-green-100 border-green-300 text-green-800",Chemistry:"bg-orange-100 border-orange-300 text-orange-800",Biology:"bg-pink-100 border-pink-300 text-pink-800"};for(const[P,D]of Object.entries(k))if(T.toLowerCase().includes(P.toLowerCase()))return D;return"bg-gray-100 border-gray-300 text-gray-800"},N=T=>{m(T),u(!0)},w=()=>{u(!1),m(null)},A=()=>{const T=new Date(l),k=T.getDay(),P=T.getDate()-k+(k===0?-6:1);return T.setDate(P),v.map((D,H)=>{const F=new Date(T);return F.setDate(T.getDate()+H),F})},j=T=>{const k=new Date(l);k.setDate(l.getDate()+(T==="next"?7:-7)),c(k)},S=()=>{var P;if(s==="all")return g;const T=(P=f.find(D=>D.id===Number(s)))==null?void 0:P.name;if(!T)return g;const k={};return Object.keys(g).forEach(D=>{k[D]={},Object.entries(g[D]).forEach(([H,F])=>{F.teacher===T&&(k[D][H]=F)})}),k},E=T=>{const k={};return v.forEach(P=>{k[P]=Object.entries(g[P]||{}).filter(([D,H])=>H.teacher===T).map(([D,H])=>({slot:D,...H}))}),k},R=()=>{var z;const T=new ir("l","mm","a4"),k=T.internal.pageSize.width,P=new Date().toLocaleDateString();let D=20;if(T.setFontSize(20),T.setFont(void 0,"bold"),T.text("Teacher Timetable",k/2,D,{align:"center"}),D+=10,T.setFontSize(12),T.setFont(void 0,"normal"),s!=="all"){const O=f.find(W=>W.id==s);T.text(`Teacher: ${O.name} - ${O.subject}`,k/2,D,{align:"center"})}else T.text("All Teachers Schedule",k/2,D,{align:"center"});if(D+=8,T.text(`Generated on: ${P}`,k/2,D,{align:"center"}),D+=15,e==="week"){T.setFontSize(16),T.setFont(void 0,"bold"),T.text("Weekly Timetable",20,D),D+=12,T.setFontSize(8),T.setFont(void 0,"bold");let O=20;T.text("Time",O,D),O+=45,v.forEach(W=>{T.text(W,O,D),O+=45}),T.line(15,D+2,k-15,D+2),D+=8,T.setFont(void 0,"normal"),x.forEach(W=>{D>180&&(T.addPage(),D=20),O=20,T.text(W,O,D),O+=45,v.forEach(ee=>{var re,U;const K=(re=g[ee])==null?void 0:re[W];if(K&&(s==="all"||K.teacher===((U=f.find(Y=>Y.id==s))==null?void 0:U.name))){const Y=`${K.subject}
${K.class}
${K.room}
${K.teacher}`;T.text(Y.split(`
`)[0],O,D-2),T.text(Y.split(`
`)[1],O,D+2),T.text(Y.split(`
`)[2],O,D+6)}O+=45}),D+=12})}D+=10,D>160&&(T.addPage(),D=20),T.setFontSize(16),T.setFont(void 0,"bold"),T.text("Teacher Schedule Summary",20,D),D+=12,(s==="all"?f:[f.find(O=>O.id==s)]).forEach(O=>{D>180&&(T.addPage(),D=20),T.setFontSize(12),T.setFont(void 0,"bold"),T.text(`${O.name} (${O.subject})`,20,D),D+=8,T.setFontSize(8),T.setFont(void 0,"normal");const W=E(O.name);Object.entries(W).forEach(([ee,K])=>{K.length>0&&(T.setFont(void 0,"bold"),T.text(`${ee}:`,25,D),T.setFont(void 0,"normal"),D+=5,K.forEach(re=>{T.text(`  ${re.slot}: ${re.subject} - ${re.class} (${re.room})`,25,D),D+=4}),D+=2)}),D+=5}),T.setFontSize(8),T.setFont(void 0,"italic"),T.text("Generated by School Management System - Teacher Timetable Module",k/2,T.internal.pageSize.height-10,{align:"center"});const F=s==="all"?"all-teachers":(z=f.find(O=>O.id==s))==null?void 0:z.name.replace(/ /g,"-");T.save(`teacher-timetable-${F}-${P.replace(/\//g,"-")}.pdf`)};return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:n.jsx(Kt,{className:"text-indigo-600 w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Teacher Timetable"}),n.jsx("p",{className:"text-gray-600",children:"Manage and view teaching schedules"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{className:"flex items-center space-x-2 bg-indigo-500 text-white px-4 py-2 rounded-lg hover:bg-indigo-600 transition-colors",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Schedule"})]}),n.jsxs("button",{onClick:R,className:"flex items-center space-x-2 border border-purple-400 text-black  px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(co,{className:"w-5 h-5 text-gray-600"}),n.jsxs("select",{value:s,onChange:T=>a(T.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Teachers"}),f.map(T=>n.jsx("option",{value:T.id,children:T.name},T.id))]})]}),n.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm border border-purple-400 p-1",children:[n.jsxs("button",{onClick:()=>r("week"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e==="week"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(zN,{size:16,className:"inline mr-1"}),"Week"]}),n.jsxs("button",{onClick:()=>r("day"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${e==="day"?"bg-indigo-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx($N,{size:16,className:"inline mr-1"}),"Day"]})]})]}),e==="week"&&n.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>j("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xd,{className:"w-4 h-4"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Week of"}),n.jsxs("div",{className:"font-semibold text-gray-900",children:[A()[0].toLocaleDateString("en-US",{month:"short",day:"numeric"})," -",A()[4].toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),n.jsx("button",{onClick:()=>j("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Vs,{className:"w-4 h-4"})})]})}),e==="day"&&n.jsx("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-purple-400",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kt,{className:"w-4 h-4 text-gray-600"}),n.jsx("select",{value:i,onChange:T=>o(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:v.map(T=>n.jsx("option",{value:T,children:T},T))})]})})]})}),e==="week"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[s==="all"?"All Teachers":((C=f.find(T=>T.id===Number(s)))==null?void 0:C.name)+"'s"," Weekly Schedule"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 bg-gray-50 font-medium text-gray-700 text-center",children:"Time"}),v.map((T,k)=>{const P=A()[k],D=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===T.toLowerCase();return n.jsxs("th",{className:`p-3 font-medium text-center ${D?"bg-indigo-50 text-indigo-700":"bg-gray-50 text-gray-700"}`,children:[n.jsx("div",{className:"text-sm",children:T.substring(0,3)}),n.jsx("div",{className:"text-xs opacity-75 mt-1",children:P.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},T)})]})}),n.jsx("tbody",{className:"divide-y divide-purple-100",children:x.map(T=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors min-h-16",children:[n.jsx("td",{className:"p-3 bg-gray-50 text-sm text-gray-600 text-center border-r border-gray-200",children:T}),v.map(k=>{var H;const D=(H=S()[k])==null?void 0:H[T];return D?n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:`p-3 rounded-lg border-l-4 ${b(D.subject)} group hover:shadow-md transition-all cursor-pointer`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-sm mb-2 line-clamp-1",children:D.subject}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[n.jsx(pn,{className:"w-3 h-3 text-gray-500"}),n.jsx("span",{className:"text-gray-600 font-medium",children:D.teacher})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[n.jsx(sr,{className:"w-3 h-3 text-gray-500"}),n.jsx("span",{className:"text-gray-600",children:D.class})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[n.jsx(ld,{className:"w-3 h-3 text-gray-500"}),n.jsx("span",{className:"text-gray-600",children:D.room})]})]})]}),n.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:[n.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-70 rounded-lg transition-all",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-70 rounded-lg transition-all",children:n.jsx(pc,{className:"w-4 h-4"})})]})]})})},`${k}-${T}`):n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"p-3 border border-dashed border-gray-200 rounded-lg text-center text-gray-400 hover:border-indigo-300 hover:text-indigo-500 transition-colors cursor-pointer",children:[n.jsx(Dn,{className:"w-4 h-4 mx-auto mb-1"}),n.jsx("span",{className:"text-xs",children:"Add Class"})]})},`${k}-${T}`)})]},T))})]})})]}),e==="day"&&n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400 p-6 mb-6",children:n.jsx("div",{className:"grid grid-cols-5 gap-2",children:v.map(T=>{const k=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===T.toLowerCase();return n.jsxs("button",{onClick:()=>o(T),className:`p-3 rounded-lg text-center transition-all relative ${i===T?"bg-indigo-500 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[k&&n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"}),n.jsx("div",{className:"text-sm font-medium",children:T.substring(0,3)}),n.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[Object.values(S()[T]||{}).length," items"]})]},T)})})}),e==="day"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[i," Schedule",new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase()===i.toLowerCase()&&n.jsx("span",{className:"ml-2 text-sm bg-red-100 text-red-800 px-2 py-1 rounded-full",children:"Today"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[Object.values(S()[i]||{}).length," items"]})]})}),n.jsx("div",{className:"p-6",children:Object.values(S()[i]||{}).length>0?n.jsx("div",{className:"space-y-4",children:x.map(T=>{var D;const P=(D=S()[i])==null?void 0:D[T];return P?n.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all hover:border-indigo-300",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg ${b(P.subject).includes("blue")?"bg-blue-500":b(P.subject).includes("green")?"bg-green-500":b(P.subject).includes("orange")?"bg-orange-500":b(P.subject).includes("purple")?"bg-purple-500":b(P.subject).includes("pink")?"bg-pink-500":"bg-indigo-500"} flex items-center justify-center text-white flex-shrink-0`,children:n.jsx(kr,{size:16})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:P.subject}),n.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${b(P.subject)} flex-shrink-0 ml-2`,children:"Lecture"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nr,{size:16,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:T})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ld,{size:16,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:P.room})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pn,{size:16,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:P.teacher})]})]}),n.jsx("div",{className:"mt-3",children:n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(sr,{size:16,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:P.class})]})})]})]})},T):null}).filter(Boolean)}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-purple-400 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Kt,{className:"text-white",size:24})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Schedule Today"}),n.jsxs("p",{className:"text-gray-500",children:["No classes scheduled for ",i]})]})})]}),s==="all"&&e==="week"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-purple-400",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Teacher Statistics"})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.length}),n.jsx("div",{className:"text-sm text-blue-800",children:"Total Teachers"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:Object.values(g).flatMap(T=>Object.values(T)).length}),n.jsx("div",{className:"text-sm text-green-800",children:"Total Classes"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(Object.values(g).flatMap(T=>Object.values(T)).map(T=>T.class)).size}),n.jsx("div",{className:"text-sm text-purple-800",children:"Unique Classes"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:new Set(Object.values(g).flatMap(T=>Object.values(T)).map(T=>T.room)).size}),n.jsx("div",{className:"text-sm text-orange-800",children:"Rooms Used"})]}),n.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-pink-600",children:new Set(Object.values(g).flatMap(T=>Object.values(T)).map(T=>T.subject)).size}),n.jsx("div",{className:"text-sm text-pink-800",children:"Subjects"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(T=>{const k=Object.values(g).flatMap(P=>Object.values(P).filter(D=>D.teacher===T.name));return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all hover:border-indigo-300",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:T.name}),n.jsx("p",{className:"text-sm text-gray-600",children:T.subject})]}),n.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:n.jsx(pn,{className:"w-5 h-5 text-indigo-600"})})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Weekly Classes"}),n.jsx("span",{className:"font-medium",children:k.length})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Unique Classes"}),n.jsx("span",{className:"font-medium",children:new Set(k.map(P=>P.class)).size})]})]}),n.jsx("button",{className:"w-full px-4 py-2 bg-indigo-500 text-white rounded-lg text-sm hover:bg-indigo-600 transition-colors",onClick:()=>N(T),children:"View Schedule"})]},T.id)})})]})]}),d&&h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] flex flex-col overflow-hidden shadow-lg border border-purple-400",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h.name}),n.jsxs("p",{className:"text-gray-600",children:[h.subject," - Weekly Schedule"]})]}),n.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(ts,{className:"w-6 h-6"})})]})}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:n.jsx("div",{className:"space-y-6",children:v.map(T=>{const k=E(h.name)[T];return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(Kt,{className:"w-5 h-5 mr-2 text-indigo-500"}),T]}),n.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[k.length," class",k.length!==1?"es":""]})]}),k.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(nr,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No classes scheduled"})]}):n.jsx("div",{className:"space-y-3",children:k.map((P,D)=>n.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${b(P.subject)} flex items-center justify-between hover:shadow-sm transition-shadow`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:P.subject}),n.jsx("span",{className:"text-xs bg-white bg-opacity-50 px-2 py-1 rounded",children:P.slot})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(sr,{className:"w-3 h-3 text-gray-500"}),n.jsx("span",{className:"text-gray-600",children:"Class:"}),n.jsx("span",{className:"font-medium",children:P.class})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ld,{className:"w-3 h-3 text-gray-500"}),n.jsx("span",{className:"text-gray-600",children:"Room:"}),n.jsx("span",{className:"font-medium",children:P.room})]})]})]}),n.jsxs("div",{className:"flex space-x-2 ml-4",children:[n.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-50 rounded transition-colors",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 hover:bg-white hover:bg-opacity-50 rounded transition-colors",children:n.jsx(pc,{className:"w-4 h-4"})})]})]},D))})]},T)})})}),n.jsx("div",{className:"p-6 border-t bg-gray-50",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Total weekly classes: ",Object.values(E(h.name)).flat().length]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-black hover:bg-gray-100 transition-colors",children:"Export Schedule"}),n.jsx("button",{onClick:w,className:"px-4 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",children:"Close"})]})]})})]})})]})},wIe=({setShowAdminHeader:t})=>{var Re,oe,ut,se,J;L.useEffect(()=>{t(!1)},[]);const[e,r]=L.useState([]),[s,a]=L.useState({}),[i,o]=L.useState({}),[l,c]=L.useState(""),[d,u]=L.useState(""),h=["Hall A","Hall B","Hall C","Lab 1","Lab 2"],m=["Prof. Priya Verma","Dr. Arjun Sen","Ms. Kavita Rao","Mr. Amit Shah","Mrs. N. Iyer"],[f,x]=L.useState(!1),[v,g]=L.useState(null),[b,N]=L.useState(""),[w,A]=L.useState("all"),[j,S]=L.useState({title:"",subject:"",date:"",time:"",endDate:"",endTime:"",duration:"",marks:"",venue:"",instructor:"",noOfStudents:"",status:"scheduled"});L.useEffect(()=>{fetch("http://localhost:5000/api/exam/fetch",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}).then(ie=>{if(!ie.ok)throw new Error("Network response was not ok");return ie.json()}).then(ie=>{let Ae=Array.isArray(ie)?ie:[];if(((Ae==null?void 0:Ae.length)||0)<5){const Fe=[{id:"sample-1",title:"Mid Term",subject:"Mathematics",date:"2025-09-12",time:"10:00",duration:120,marks:100,venue:"Hall A",instructor:"Dr. Arjun Sen",noOfStudents:60,status:"scheduled"},{id:"sample-2",title:"Unit Test",subject:"Physics",date:"2025-09-15",time:"13:00",duration:60,marks:50,venue:"Hall B",instructor:"Prof. Priya Verma",noOfStudents:45,status:"scheduled"},{id:"sample-3",title:"Practical",subject:"Chemistry",date:"2025-09-18",time:"09:00",duration:90,marks:40,venue:"Lab 1",instructor:"Ms. Kavita Rao",noOfStudents:30,status:"ongoing"},{id:"sample-4",title:"Final",subject:"English",date:"2025-10-01",time:"11:00",duration:120,marks:100,venue:"Hall C",instructor:"Mr. Amit Shah",noOfStudents:80,status:"scheduled"},{id:"sample-5",title:"Oral",subject:"Biology",date:"2025-09-20",time:"12:30",duration:45,marks:25,venue:"Hall A",instructor:"Mrs. N. Iyer",noOfStudents:35,status:"completed"}];Ae=[...Ae,...Fe]}r(Ae)}).catch(ie=>{console.error("Error fetching examinations:",ie)})},[]);const[E,R]=L.useState(e);L.useEffect(()=>{R(e)},[e]),L.useEffect(()=>{R(e.filter(ie=>{const Ae=ie.title.toLowerCase().includes(b.toLowerCase())||ie.subject.toLowerCase().includes(b.toLowerCase())||ie.instructor.toLowerCase().includes(b.toLowerCase()),Fe=w==="all"||ie.status===w;return Ae&&Fe}))},[b,w]);const C=()=>{S({title:"",subject:"",date:"",time:"",endDate:"",endTime:"",duration:"",marks:"",venue:"",instructor:"",noOfStudents:"",status:"scheduled"})},T=async ie=>{ie.preventDefault();try{const Ae=await fetch("http://localhost:5000/api/exam/add",{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(j)});if(!Ae.ok)throw new Error("Network response was not ok");const Fe=await Ae.json();console.log(Fe),x(!1),g(null),C()}catch(Ae){console.log("Error submitting form:",Ae)}},k=ie=>{g(ie),S({title:ie.title||"",subject:ie.subject||"",date:ie.date||"",time:ie.time||"",endDate:ie.endDate||"",endTime:ie.endTime||"",duration:String(ie.duration??""),marks:String(ie.marks??""),venue:ie.venue||"",instructor:ie.instructor||"",noOfStudents:String(ie.noOfStudents??""),status:ie.status||"scheduled"}),x(!0)},P=ie=>{window.confirm("Are you sure you want to delete this examination?")&&r(Ae=>Ae.filter(Fe=>Fe.id!==ie))},D=ie=>{switch(ie){case"scheduled":return"bg-blue-100 text-blue-800";case"ongoing":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=ie=>new Date(ie).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),[F,z]=L.useState({type:"Written",grade:"",section:"",passMarks:"",instructions:"",rooms:[],seatingPlan:"Row"}),[O,W]=L.useState({invigilators:[],reportingTime:"00:30",reliefInterval:"01:00",qrAttendance:!0,notes:""}),ee=()=>{l&&a(ie=>({...ie,[l]:F}))},K=()=>{d&&o(ie=>({...ie,[d]:O}))},re=L.useRef(null),U=L.useRef(null),Y=(ie,Ae="Print")=>{if(!(ie!=null&&ie.current))return;const Fe=ie.current.innerHTML,Ie=`
      <style>
        @media print {
          body { margin: 16px; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; }
          .print-table { width: 100%; border-collapse: collapse; }
          .print-table td, .print-table th { border: 1px solid #000; padding: 6px; text-align: center; }
          .print-grid { display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
          .print-section { page-break-inside: avoid; }
          .title { font-size: 18px; font-weight: 700; margin: 0 0 8px; }
          .subtitle { font-size: 14px; margin: 0 0 6px; }
        }
      </style>
    `,$e=window.open("","_blank");$e&&($e.document.write(`<!doctype html><html><head><meta charset="utf-8"><title>${Ae}</title>${Ie}</head><body>${Fe}</body></html>`),$e.document.close(),$e.focus(),$e.print(),$e.close())},V=e.find(ie=>ie.id===l),Z=e.find(ie=>ie.id===d),ce=(ie,Ae)=>{var Ke;if(!ie||!((Ke=Ae==null?void 0:Ae.rooms)!=null&&Ke.length))return[];const Fe=Number(ie.noOfStudents||0);if(!Fe)return[];const Ie=Ae.rooms,$e=Math.max(1,Number(Ae.columns||6)),le=[];let ae=1;const _e=Math.floor(Fe/Ie.length);let qe=Fe%Ie.length;for(let et=0;et<Ie.length;et++){const Tt=Ie[et],ft=_e+(qe>0?1:0);qe>0&&(qe-=1);const gt=Math.ceil(ft/$e)||1,At=[];for(let rt=0;rt<gt;rt++){const Dt=[];for(let Rt=0;Rt<$e;Rt++)ae<=Fe&&Dt.length+rt*$e<ft?(Dt.push(ae),ae+=1):Dt.push("");At.push(Dt)}le.push({room:Tt,grid:At})}return le},fe=(ie,Ae,Fe=[])=>{const Ie=ie.internal.pageSize.getWidth();let $e=40;return ie.setFont("helvetica","bold"),ie.setFontSize(16),ie.text(Ae,Ie/2,$e,{align:"center"}),$e+=8,ie.setFont("helvetica","normal"),ie.setFontSize(10),Fe.forEach(le=>{$e+=14,ie.text(String(le),Ie/2,$e,{align:"center"})}),$e+20},ye=ie=>{const Ae=ie.internal.getNumberOfPages();for(let Fe=1;Fe<=Ae;Fe++){ie.setPage(Fe);const Ie=ie.internal.pageSize.getWidth(),$e=ie.internal.pageSize.getHeight();ie.setFontSize(9),ie.setTextColor(100);const le=`Generated by EEC  ${new Date().toLocaleDateString()}`,ae=`Page ${Fe} of ${Ae}`;ie.text(le,40,$e-24),ie.text(ae,Ie-40,$e-24,{align:"right"})}},ge=()=>{var et;if(!V||!((et=F.rooms)!=null&&et.length))return;const ie=new ir("p","pt","a4"),Ae=ie.internal.pageSize.getWidth(),Fe=ie.internal.pageSize.getHeight(),Ie=40;let $e=fe(ie,"Seat Plan",[`${V.title}  ${V.subject}`,`${H(V.date)} at ${V.time}${V.endDate||V.endTime?`  ${H(V.endDate||V.date)} ${V.endTime||""}`:""}  Duration ${V.duration} mins`,`Seating: ${F.seatingPlan}  Columns: ${F.columns||6}  Students: ${V.noOfStudents}`]);const le=ce(V,F),ae=Math.max(1,Number(F.columns||6)),_e=Ae-Ie*2,qe=Math.floor(_e/ae),Ke=22;ie.setFont("helvetica","bold"),ie.setFontSize(11),le.forEach(({room:Tt,grid:ft})=>{const gt=20+ft.length*Ke+16;$e+gt>Fe-Ie&&(ie.addPage(),$e=fe(ie,"Seat Plan",[`${V.title}  ${V.subject}`,`${H(V.date)} at ${V.time}${V.endDate||V.endTime?`  ${H(V.endDate||V.date)} ${V.endTime||""}`:""}  Duration ${V.duration} mins`])),ie.text(`Room: ${Tt} (Seats: ${ft.flat().filter(Boolean).length})`,Ie,$e),$e+=8,ie.setDrawColor(0),ie.setFont("helvetica","normal"),ie.setFontSize(10),ft.forEach(At=>{let rt=Ie;At.forEach(Dt=>{ie.rect(rt,$e,qe,Ke),Dt&&ie.text(String(Dt),rt+qe/2,$e+Ke/2+3,{align:"center"}),rt+=qe}),$e+=Ke}),$e+=16}),ye(ie),ie.save(`Seat_Plan_${V.subject}_${V.date}.pdf`)},we=()=>{if(!Z)return;const ie=new ir("p","pt","a4"),Ae=ie.internal.pageSize.getWidth(),Fe=ie.internal.pageSize.getHeight(),Ie=40;let $e=fe(ie,"Duty Roster",[`${Z.title}  ${Z.subject}`,`${H(Z.date)} at ${Z.time}${Z.endDate||Z.endTime?`  ${H(Z.endDate||Z.date)} ${Z.endTime||""}`:""}  Duration ${Z.duration} mins`,`Reporting: ${O.reportingTime||""}  Relief: ${O.reliefInterval||""}`]);const le=200,ae=Ae-Ie*2-le,_e=22;ie.setFont("helvetica","bold"),ie.setFontSize(11),ie.rect(Ie,$e,le,_e,"S"),ie.rect(Ie+le,$e,ae,_e,"S"),ie.text("Room",Ie+8,$e+15),ie.text("Invigilator",Ie+le+8,$e+15),$e+=_e;const qe=F.rooms||[],Ke=O.invigilators||[];if(qe.forEach((et,Tt)=>{$e+_e>Fe-Ie&&(ie.addPage(),$e=fe(ie,"Duty Roster",[`${Z.title}  ${Z.subject}`]),ie.setFont("helvetica","bold"),ie.setFontSize(11),ie.rect(Ie,$e,le,_e,"S"),ie.rect(Ie+le,$e,ae,_e,"S"),ie.text("Room",Ie+8,$e+15),ie.text("Invigilator",Ie+le+8,$e+15),$e+=_e);const ft=Ke.length?Ke[Tt%Ke.length]:"";ie.setFont("helvetica","normal"),ie.setFontSize(10),ie.rect(Ie,$e,le,_e,"S"),ie.rect(Ie+le,$e,ae,_e,"S"),ie.text(String(et),Ie+8,$e+15),ie.text(ft||"",Ie+le+8,$e+15),$e+=_e}),O.notes){$e+40>Fe-Ie&&(ie.addPage(),$e=fe(ie,"Duty Roster",[`${Z.title}  ${Z.subject}`])),ie.setFont("helvetica","bold"),ie.text("Notes:",Ie,$e+20),ie.setFont("helvetica","normal");const et=ie.splitTextToSize(String(O.notes),Ae-Ie*2);ie.text(et,Ie,$e+36)}ye(ie),ie.save(`Duty_Roster_${Z.subject}_${Z.date}.pdf`)};return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Examination Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage and organize all examinations efficiently"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:n.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:"Search examinations...",value:b,onChange:ie=>N(ie.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsxs("select",{value:w,onChange:ie=>A(ie.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"ongoing",children:"Ongoing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Exams"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),n.jsx(Kt,{className:"w-8 h-8 text-blue-600"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(ie=>ie.status==="scheduled").length})]}),n.jsx(nr,{className:"w-8 h-8 text-yellow-600"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(ie=>ie.status==="completed").length})]}),n.jsx(sr,{className:"w-8 h-8 text-green-600"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.reduce((ie,Ae)=>ie+Ae.noOfStudents,0)})]}),n.jsx(sr,{className:"w-8 h-8 text-purple-600"})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Examination Details"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Setup/Supervision"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(ie=>{var Ae,Fe,Ie,$e;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.title}),n.jsx("div",{className:"text-sm text-gray-500",children:ie.subject}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Instructor: ",ie.instructor]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[H(ie.date),ie.endDate&&ie.endDate!==ie.date&&`  ${H(ie.endDate)}`]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[ie.time,ie.endTime&&`  ${ie.endTime}`]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[ie.duration," minutes"]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:["Venue: ",ie.venue]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Students: ",ie.noOfStudents]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Marks: ",ie.marks]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700",children:[n.jsx(A6,{className:"w-3.5 h-3.5"}),((Fe=(Ae=s[ie.id])==null?void 0:Ae.rooms)==null?void 0:Fe.length)||0," rooms"]}),n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700",children:[n.jsx(Rw,{className:"w-3.5 h-3.5"}),(($e=(Ie=i[ie.id])==null?void 0:Ie.invigilators)==null?void 0:$e.length)||0," invigilators"]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(ie.status)}`,children:ie.status.charAt(0).toUpperCase()+ie.status.slice(1)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>k(ie),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded",children:n.jsx(TT,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>P(ie.id),className:"text-red-600 hover:text-red-900 p-1 rounded",children:n.jsx(pc,{className:"w-4 h-4"})})]})})]},ie.id)})})]})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(C6,{className:"w-5 h-5 text-indigo-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Exam Setup"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Select Exam"}),n.jsxs("select",{value:l,onChange:ie=>{const Ae=ie.target.value;c(Ae);const Fe=s[Ae];Fe&&z(Fe)},className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[n.jsx("option",{value:"",children:"-- Choose --"}),e.map(ie=>n.jsxs("option",{value:ie.id,children:[ie.title,"  ",ie.subject]},ie.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Type"}),n.jsxs("select",{value:F.type,onChange:ie=>z({...F,type:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[n.jsx("option",{children:"Written"}),n.jsx("option",{children:"Practical"}),n.jsx("option",{children:"Oral"}),n.jsx("option",{children:"Objective"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Grade/Class"}),n.jsx("input",{value:F.grade,onChange:ie=>z({...F,grade:ie.target.value}),placeholder:"10",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Section"}),n.jsx("input",{value:F.section,onChange:ie=>z({...F,section:ie.target.value}),placeholder:"A",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Columns per room"}),n.jsx("input",{type:"number",min:1,max:20,value:F.columns||6,onChange:ie=>z({...F,columns:Number(ie.target.value)}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Pass Marks"}),n.jsx("input",{type:"number",value:F.passMarks,onChange:ie=>z({...F,passMarks:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Rooms"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(ie=>{const Ae=F.rooms.includes(ie);return n.jsx("button",{type:"button",onClick:()=>z(Fe=>({...Fe,rooms:Ae?Fe.rooms.filter(Ie=>Ie!==ie):[...Fe.rooms,ie]})),className:`px-3 py-1 rounded-full text-sm border ${Ae?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300"}`,children:ie},ie)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Seating Plan"}),n.jsxs("select",{value:F.seatingPlan,onChange:ie=>z({...F,seatingPlan:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[n.jsx("option",{children:"Row"}),n.jsx("option",{children:"Grid"}),n.jsx("option",{children:"Zig-Zag"})]})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Instructions"}),n.jsx("textarea",{rows:3,value:F.instructions,onChange:ie=>z({...F,instructions:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Report 30 min early. Carry admit card."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:ee,className:"px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white",children:"Save Setup"})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Rw,{className:"w-5 h-5 text-emerald-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Supervision"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Select Exam"}),n.jsxs("select",{value:d,onChange:ie=>{const Ae=ie.target.value;u(Ae);const Fe=i[Ae];Fe&&W(Fe)},className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[n.jsx("option",{value:"",children:"-- Choose --"}),e.map(ie=>n.jsxs("option",{value:ie.id,children:[ie.title,"  ",ie.subject]},ie.id))]})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Invigilators"}),n.jsx("select",{multiple:!0,value:O.invigilators,onChange:ie=>{const Ae=Array.from(ie.target.selectedOptions).map(Fe=>Fe.value);W(Fe=>({...Fe,invigilators:Ae}))},className:"w-full border border-gray-300 rounded-lg px-3 py-2 h-32",children:m.map(ie=>n.jsx("option",{value:ie,children:ie},ie))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Reporting Time (hh:mm)"}),n.jsx("input",{type:"time",value:O.reportingTime,onChange:ie=>W({...O,reportingTime:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Relief Interval (hh:mm)"}),n.jsx("input",{type:"time",value:O.reliefInterval,onChange:ie=>W({...O,reliefInterval:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{id:"qrAtt",type:"checkbox",checked:O.qrAttendance,onChange:ie=>W({...O,qrAttendance:ie.target.checked})}),n.jsx("label",{htmlFor:"qrAtt",className:"text-sm text-gray-700",children:"Enable QR Attendance"})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{rows:3,value:O.notes,onChange:ie=>W({...O,notes:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Brief invigilation instructions or duty roster notes."})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:K,className:"px-4 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white",children:"Save Supervision"})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(A6,{className:"w-5 h-5 text-blue-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Seat Plan Preview"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Y(re,"Seat Plan"),disabled:!V||!((Re=F.rooms)!=null&&Re.length),className:`px-3 py-2 rounded-lg border ${!V||!((oe=F.rooms)!=null&&oe.length)?"bg-gray-100 text-gray-400 border-gray-200":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:"Print"}),n.jsx("button",{onClick:ge,disabled:!V||!((ut=F.rooms)!=null&&ut.length),className:`px-3 py-2 rounded-lg border ${!V||!((se=F.rooms)!=null&&se.length)?"bg-gray-100 text-gray-400 border-gray-200":"bg-indigo-600 text-white hover:bg-indigo-700 border-indigo-600"}`,children:"Export PDF"})]})]}),n.jsx("div",{ref:re,children:V&&((J=F.rooms)!=null&&J.length)?n.jsxs("div",{className:"print-section",children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Exam:"})," ",V.title,"  ",V.subject]}),n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Schedule:"})," ",H(V.date)," at ",V.time,(V.endDate||V.endTime)&&n.jsxs(n.Fragment,{children:["  ",H(V.endDate||V.date)," ",V.endTime||""]})," ","| Duration ",V.duration," mins"]}),n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Seating:"})," ",F.seatingPlan," | Columns: ",F.columns||6," | Students: ",V.noOfStudents]})]}),n.jsx("div",{className:"grid gap-4 md:gap-6 md:grid-cols-2 print-grid",children:ce(V,F).map(({room:ie,grid:Ae})=>n.jsxs("div",{className:"border rounded-lg p-3 print-section",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("h3",{className:"font-semibold text-gray-900",children:["Room: ",ie]}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Seats: ",Ae.flat().filter(Boolean).length]})]}),n.jsx("table",{className:"w-full text-sm print-table",children:n.jsx("tbody",{children:Ae.map((Fe,Ie)=>n.jsx("tr",{children:Fe.map(($e,le)=>n.jsx("td",{className:"border border-gray-300 p-2 text-center align-middle min-w-[36px]",children:$e||""},le))},Ie))})})]},ie))})]}):n.jsx("p",{className:"text-sm text-gray-500",children:"Select an exam and add rooms in Exam Setup to preview seat plan."})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rw,{className:"w-5 h-5 text-emerald-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Duty Roster"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Y(U,"Duty Roster"),disabled:!Z,className:`px-3 py-2 rounded-lg border ${Z?"bg-white text-gray-700 hover:bg-gray-50 border-gray-300":"bg-gray-100 text-gray-400 border-gray-200"}`,children:"Print"}),n.jsx("button",{onClick:we,disabled:!Z,className:`px-3 py-2 rounded-lg border ${Z?"bg-indigo-600 text-white hover:bg-indigo-700 border-indigo-600":"bg-gray-100 text-gray-400 border-gray-200"}`,children:"Export PDF"})]})]}),n.jsx("div",{ref:U,children:Z?n.jsxs("div",{className:"print-section",children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Exam:"})," ",Z.title,"  ",Z.subject]}),n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Schedule:"})," ",H(Z.date)," at ",Z.time,(Z.endDate||Z.endTime)&&n.jsxs(n.Fragment,{children:["  ",H(Z.endDate||Z.date)," ",Z.endTime||""]})," ","| Duration ",Z.duration," mins"]}),n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Reporting:"})," ",O.reportingTime||""," before | Relief: ",O.reliefInterval||""]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm print-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"border px-2 py-1 text-left",children:"Room"}),n.jsx("th",{className:"border px-2 py-1 text-left",children:"Invigilator"})]})}),n.jsx("tbody",{children:(F.rooms||[]).map((ie,Ae)=>{const Fe=O.invigilators||[],Ie=Fe.length?Fe[Ae%Fe.length]:"";return n.jsxs("tr",{children:[n.jsx("td",{className:"border px-2 py-1",children:ie}),n.jsx("td",{className:"border px-2 py-1",children:Ie||""})]},ie)})})]})}),O.notes&&n.jsx("div",{className:"mt-3",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Notes:"})," ",O.notes]})})]}):n.jsx("p",{className:"text-sm text-gray-500",children:"Select an exam in the Supervision card to view and print duty roster."})})]}),f&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>{x(!1),g(null),C()}}),n.jsxs("div",{className:"relative bg-white w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 p-6 sm:p-7",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:v?"Edit Examination":"Add Examination"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Enter exam details and schedule"})]}),n.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{x(!1),g(null),C()},children:n.jsx(ts,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:T,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Exam Title"}),n.jsx("input",{name:"title",value:j.title,onChange:ie=>S({...j,title:ie.target.value}),required:!0,placeholder:"Mid Term Examination",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Subject"}),n.jsx("input",{name:"subject",value:j.subject,onChange:ie=>S({...j,subject:ie.target.value}),required:!0,placeholder:"Physics",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Instructor"}),n.jsx("input",{name:"instructor",value:j.instructor,onChange:ie=>S({...j,instructor:ie.target.value}),required:!0,placeholder:"Prof. Priya Verma",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Venue"}),n.jsx("input",{name:"venue",value:j.venue,onChange:ie=>S({...j,venue:ie.target.value}),required:!0,placeholder:"Hall A",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Start Date"}),n.jsx("input",{name:"date",value:j.date,onChange:ie=>S({...j,date:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"date"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Start Time"}),n.jsx("input",{name:"time",value:j.time,onChange:ie=>S({...j,time:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"time"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"End Date"}),n.jsx("input",{name:"endDate",value:j.endDate,onChange:ie=>S({...j,endDate:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"date"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"End Time"}),n.jsx("input",{name:"endTime",value:j.endTime,onChange:ie=>S({...j,endTime:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"time"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Total Marks"}),n.jsx("input",{name:"marks",value:j.marks,onChange:ie=>S({...j,marks:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"number",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Students"}),n.jsx("input",{name:"noOfStudents",value:j.noOfStudents,onChange:ie=>S({...j,noOfStudents:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"number",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Duration (minutes)"}),n.jsx("input",{name:"duration",value:j.duration,onChange:ie=>S({...j,duration:ie.target.value}),required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",type:"number",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{name:"status",value:j.status,onChange:ie=>S({...j,status:ie.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"ongoing",children:"Ongoing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[n.jsx("button",{type:"button",onClick:()=>{x(!1),g(null),C()},className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white",children:[v?"Update":"Add"," Examination"]})]})]})]})]})]})})},jIe=({setShowAdminHeader:t})=>{const[e,r]=L.useState(""),[s,a]=L.useState("All"),[i,o]=L.useState([]),[l,c]=L.useState(!1),d=i.filter(v=>{const g=Array.isArray(v.children)?v.children:[],b=Array.isArray(v.grades)?v.grades:[],N=v.name.toLowerCase().includes(e.toLowerCase())||v.email.toLowerCase().includes(e.toLowerCase())||g.some(A=>A.toLowerCase().includes(e.toLowerCase())),w=s==="All"||b.includes(s);return N&&w}),u=()=>({communicationRate:Math.floor(Math.random()*20)+80,eventAttendance:Math.floor(Math.random()*15)+85,meetingParticipation:Math.floor(Math.random()*10)+90,responsiveness:Math.floor(Math.random()*25)+75,totalInteractions:Math.floor(Math.random()*30)+10,lastContact:Math.floor(Math.random()*7)+1}),h=()=>[{type:"Parent-Teacher Meet",date:"2024-01-20",status:"attended"},{type:"Progress Report",date:"2024-01-18",status:"viewed"},{type:"School Event",date:"2024-01-15",status:"attended"},{type:"Fee Payment",date:"2024-01-10",status:"completed"}].slice(0,Math.floor(Math.random()*3)+1),m=v=>v.children.map((g,b)=>({name:g,grade:v.grades[b]||v.grades[0],performance:["Excellent","Good","Average"][Math.floor(Math.random()*3)],attendance:Math.floor(Math.random()*10)+90})),f=()=>{const v=["Email","Phone","SMS","In-Person"];return v[Math.floor(Math.random()*v.length)]},x=[{id:1,name:"John Smith",parentId:"PAR001",email:"john.smith@email.com",mobile:"+1-555-1001",children:["Alex Smith","Emma Smith"],grades:["Grade 10","Grade 8"],occupation:"Software Engineer",address:"123 Oak Street, Springfield",joinDate:"2020-08-15",emergencyContact:"+1-555-1002",relationship:"Father"},{id:2,name:"Maria Rodriguez",parentId:"PAR002",email:"maria.rodriguez@email.com",mobile:"+1-555-1003",children:["Carlos Rodriguez"],grades:["Grade 11"],occupation:"Marketing Manager",address:"456 Pine Avenue, Springfield",joinDate:"2019-09-10",emergencyContact:"+1-555-1004",relationship:"Mother"},{id:3,name:"David Wilson",parentId:"PAR003",email:"david.wilson@email.com",mobile:"+1-555-1005",children:["Sophie Wilson","James Wilson"],grades:["Grade 12","Grade 9"],occupation:"Doctor",address:"789 Maple Road, Springfield",joinDate:"2018-07-20",emergencyContact:"+1-555-1006",relationship:"Father"},{id:4,name:"Sarah Johnson",parentId:"PAR004",email:"sarah.johnson@email.com",mobile:"+1-555-1007",children:["Michael Johnson"],grades:["Grade 10"],occupation:"Teacher",address:"321 Elm Street, Springfield",joinDate:"2021-06-05",emergencyContact:"+1-555-1008",relationship:"Mother"},{id:5,name:"Robert Chen",parentId:"PAR005",email:"robert.chen@email.com",mobile:"+1-555-1009",children:["Lisa Chen","Kevin Chen"],grades:["Grade 11","Grade 12"],occupation:"Accountant",address:"654 Birch Lane, Springfield",joinDate:"2019-03-12",emergencyContact:"+1-555-1010",relationship:"Father"},{id:6,name:"Emily Davis",parentId:"PAR006",email:"emily.davis@email.com",mobile:"+1-555-1011",children:["Ryan Davis"],grades:["Grade 9"],occupation:"Nurse",address:"987 Cedar Court, Springfield",joinDate:"2020-01-18",emergencyContact:"+1-555-1012",relationship:"Mother"},{id:7,name:"Michael Brown",parentId:"PAR007",email:"michael.brown@email.com",mobile:"+1-555-1013",children:["Ashley Brown","Tyler Brown"],grades:["Grade 10","Grade 11"],occupation:"Engineer",address:"159 Willow Way, Springfield",joinDate:"2018-11-25",emergencyContact:"+1-555-1014",relationship:"Father"},{id:8,name:"Jennifer Lee",parentId:"PAR008",email:"jennifer.lee@email.com",mobile:"+1-555-1015",children:["Daniel Lee"],grades:["Grade 12"],occupation:"Lawyer",address:"753 Poplar Place, Springfield",joinDate:"2019-05-30",emergencyContact:"+1-555-1016",relationship:"Mother"},{id:9,name:"Thomas Anderson",parentId:"PAR009",email:"thomas.anderson@email.com",mobile:"+1-555-1017",children:["Jessica Anderson","Matthew Anderson"],grades:["Grade 9","Grade 11"],occupation:"Business Owner",address:"852 Ash Avenue, Springfield",joinDate:"2020-04-08",emergencyContact:"+1-555-1018",relationship:"Father"},{id:10,name:"Lisa Taylor",parentId:"PAR010",email:"lisa.taylor@email.com",mobile:"+1-555-1019",children:["Brandon Taylor"],grades:["Grade 10"],occupation:"Pharmacist",address:"147 Spruce Street, Springfield",joinDate:"2021-02-14",emergencyContact:"+1-555-1020",relationship:"Mother"},{id:11,name:"James Miller",parentId:"PAR011",email:"james.miller@email.com",mobile:"+1-555-1021",children:["Amanda Miller","Christopher Miller"],grades:["Grade 12","Grade 9"],occupation:"Architect",address:"369 Hickory Hill, Springfield",joinDate:"2018-12-03",emergencyContact:"+1-555-1022",relationship:"Father"},{id:12,name:"Amanda Garcia",parentId:"PAR012",email:"amanda.garcia@email.com",mobile:"+1-555-1023",children:["Isabella Garcia"],grades:["Grade 11"],occupation:"Graphic Designer",address:"258 Dogwood Drive, Springfield",joinDate:"2019-08-17",emergencyContact:"+1-555-1024",relationship:"Mother"}];return L.useEffect(()=>{t(!1),(async()=>{c(!0);try{const g=await fetch("http://localhost:5000/api/admin/users/get-parents",{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!g.ok)throw new Error("Failed to fetch parents");const b=await g.json(),N=(Array.isArray(b)?b:[]).map((w,A)=>({id:w._id||w.id||A,name:w.name||"Unnamed Parent",parentId:w._id?`PAR-${w._id.slice(-4)}`:`PAR-${A+1}`,email:w.email||"",mobile:w.mobile||"",children:Array.isArray(w.children)?w.children:[],grades:Array.isArray(w.grade)?w.grade:Array.isArray(w.grades)?w.grades:[],occupation:w.occupation||"",address:w.address||"",joinDate:w.createdAt?new Date(w.createdAt).toISOString().slice(0,10):"",emergencyContact:w.emergencyContact||w.mobile||"",relationship:w.relationship||"Parent"}));o(N.length?N:x)}catch(g){console.error("Error fetching parents:",g),o(x)}finally{c(!1)}})()},[t]),L.useEffect(()=>{t(!1),o(x)},[t]),n.jsx("div",{className:"h-screen bg-gradient-to-br from-green-50 via-green-100 to-emerald-100 ",children:n.jsxs("div",{className:"flex-1 flex flex-col mx-auto w-full bg-white/90 border border-green-200 ",children:[n.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-green-100",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-green-700",children:"Parents Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage parent engagement, communication, and student relationships"})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(xc,{className:"w-8 h-8 text-green-500"}),n.jsx("span",{className:"text-sm font-semibold text-green-600 mt-1",children:i.length}),n.jsx("span",{className:"text-xs text-gray-500",children:"Total Parents"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Yr,{className:"w-8 h-8 text-blue-500"}),n.jsx("span",{className:"text-sm font-semibold text-blue-600 mt-1",children:"89%"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Engagement Rate"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Tte,{className:"w-8 h-8 text-purple-500"}),n.jsx("span",{className:"text-sm font-semibold text-purple-600 mt-1",children:i.reduce((v,g)=>v+g.children.length,0)}),n.jsx("span",{className:"text-xs text-gray-500",children:"Total Students"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(Kt,{className:"w-8 h-8 text-orange-500"}),n.jsx("span",{className:"text-sm font-semibold text-orange-600 mt-1",children:Math.floor(i.length*.3)}),n.jsx("span",{className:"text-xs text-gray-500",children:"Meetings Due"})]})]})]})}),n.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(In,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search parents or children...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",value:e,onChange:v=>r(v.target.value)})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",value:s,onChange:v=>a(v.target.value),children:[n.jsx("option",{value:"All",children:"All Grades"}),n.jsx("option",{value:"Grade 9",children:"Grade 9"}),n.jsx("option",{value:"Grade 10",children:"Grade 10"}),n.jsx("option",{value:"Grade 11",children:"Grade 11"}),n.jsx("option",{value:"Grade 12",children:"Grade 12"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"All Relationships"}),n.jsx("option",{value:"Father",children:"Fathers"}),n.jsx("option",{value:"Mother",children:"Mothers"}),n.jsx("option",{value:"Guardian",children:"Guardians"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Engagement Level"}),n.jsx("option",{value:"high",children:"High (90%+)"}),n.jsx("option",{value:"medium",children:"Medium (70-89%)"}),n.jsx("option",{value:"low",children:"Low (Below 70%)"})]}),n.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Communication Status"}),n.jsx("option",{value:"recent",children:"Recent Contact"}),n.jsx("option",{value:"pending",children:"Pending Response"}),n.jsx("option",{value:"overdue",children:"Overdue Contact"})]}),n.jsx(eP,{buttonText:"Generate Parent ID",defaultRole:"Parent",allowRoleSelection:!1,size:"sm",buttonClassName:"bg-green-600 hover:bg-green-700"})]})]}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("div",{className:"h-full overflow-y-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{className:"sticky top-0 bg-green-50 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Parent Info"}),n.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Engagement"}),n.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Recent Activity"}),n.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Children & Grades"}),n.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Contact Info"}),n.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Communication"}),n.jsx("th",{className:"border-b border-green-100 px-6 py-3 text-left text-sm font-semibold text-green-800",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white",children:d.map(v=>n.jsxs("tr",{className:"hover:bg-green-50 transition-colors border-b border-gray-100",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-green-200 flex items-center justify-center font-semibold text-green-700 flex-shrink-0",children:v.name.split(" ").map(g=>g[0]).join("")}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-gray-900 truncate",children:v.name}),n.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["ID: ",v.parentId]}),n.jsx("div",{className:"text-xs text-gray-600",children:v.relationship}),n.jsx("div",{className:"text-xs text-gray-500",children:v.occupation})]})]})}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const g=u();return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qa,{size:14,className:"text-green-600"}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:[g.communicationRate,"%"]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Communication"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(rs,{size:14,className:"text-blue-600"}),n.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[g.eventAttendance,"%"]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Events"})]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[g.totalInteractions," interactions"]})]})})()}),n.jsx("td",{className:"px-6 py-4",children:(()=>{const g=h();return g.length===0?n.jsx("span",{className:"text-sm text-gray-400 italic",children:"No recent activity"}):n.jsxs("div",{className:"space-y-1 max-w-[180px]",children:[g.slice(0,2).map((b,N)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Dr,{size:12,className:"text-green-600"}),n.jsx("span",{className:"text-xs text-gray-700",children:b.type}),n.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1 rounded",children:b.status})]},N)),g.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",g.length-2," more"]})]})})()}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"space-y-2",children:v.children.map((g,b)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(na,{size:14,className:"text-indigo-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:g})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[n.jsx("span",{className:"text-sm text-gray-600",children:v.grades[b]}),(()=>{const N=m(v)[b];return n.jsx(n.Fragment,{children:n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${N.performance==="Excellent"?"bg-green-100 text-green-800":N.performance==="Good"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:N.performance})})})()]})]},b))})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("a",{href:`mailto:${v.email}`,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-green-600",children:[n.jsx(mc,{size:12,className:"flex-shrink-0"}),n.jsx("span",{className:"truncate max-w-[150px]",children:v.email})]}),n.jsxs("a",{href:`tel:${v.mobile}`,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-green-600",children:[n.jsx(Sc,{size:12,className:"flex-shrink-0"}),v.mobile]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(ld,{size:12,className:"flex-shrink-0"}),n.jsx("span",{className:"truncate max-w-[150px]",children:v.address})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:f()}),n.jsxs("div",{className:"text-xs text-gray-600",children:["Last: ",Math.floor(Math.random()*7)+1," days ago"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Emergency: ",v.emergencyContact]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"View Engagement Analytics",children:n.jsx(ds,{size:14})}),n.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"Communication History",children:n.jsx(mc,{size:14})}),n.jsx("button",{className:"text-purple-600 hover:text-purple-800 p-1 hover:bg-purple-50 rounded",title:"Schedule Meeting",children:n.jsx(Kt,{size:14})}),n.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 p-1 hover:bg-indigo-50 rounded",title:"View Children Progress",children:n.jsx(na,{size:14})}),n.jsx("button",{className:"text-orange-600 hover:text-orange-800 p-1 hover:bg-orange-50 rounded",title:"Edit Parent Info",children:n.jsx(Qb,{size:14})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800 p-1 hover:bg-gray-50 rounded",title:"More Options",children:n.jsx(fc,{size:14})})]})})]},v.id))})]})})}),n.jsx("div",{className:"flex-shrink-0 p-8 pt-4 bg-white/90 border-t border-green-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-gray-600",children:["Showing ",d.length," of ",i.length," parents"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"px-4 py-2 border text-black border-black rounded-lg  transition-colors",children:"Previous"}),n.jsx("button",{className:"px-4 py-2 border text-black border-black rounded-lg  transition-colors",children:"Next"})]})]})})]})})},_$=[{value:"ADV_CERT",label:"Advance Certificate (1-2 Years)"},{value:"B_VOC",label:"B.Voc (3 Years)"},{value:"M_VOC",label:"M.Voc (2 Years)"},{value:"B_DES",label:"B.Des (4 Years)"}],Z0=()=>({label:"",amount:"",dueMonth:""}),A$={ADV_CERT:{key:"ADV_CERT",label:"Advance Certification (1 & 2 Years)",streamNote:"Fashion Design / Interior Design  1 Year & 2 Years",years:["1st Year","2nd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3]},{description:"Time of Batch Commencement",values:[19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3]},{description:"1st Installment",values:[7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[17e3,17e3]},{description:"2nd Installment",values:[7500,7500]},{description:"3rd Installment",values:[7500,7500]},{description:"4th Installment",values:[7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[17e3,17e3]},{description:"5th Installment",values:[7500,7500]},{description:"6th Installment",values:[7500,7500]},{description:"7th Installment",values:[7500,7500]},{description:"8th Installment",values:[7500,7500]},{description:"9th Installment",values:[7500,7500]},{description:"10th Installment",values:[7500,7500]}],totals:[155e3,155e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","Payment mode: NEFT / IMPS / UPI (non-refundable).","Registration fee to be paid online towards Medhavi Skills University.","Annual subscription fee Rs 3,540 per annum for 'The Voice of Fashion'."]},BVOC:{key:"BVOC",label:"B.Voc  3 Years",streamNote:"Fashion Design / Interior Design  B.Voc 3 Years",years:["1st Year","2nd Year","3rd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3,22e3]},{description:"MSU fees for 1st / 3rd / 5th Semester",values:[18e3,18e3,18e3]},{description:"Time of Batch Commencement",values:[19e3,19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3,5e3]},{description:"1st Installment",values:[7500,7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[17e3,17e3,17e3]},{description:"2nd Installment",values:[7500,7500,7500]},{description:"MSU fees for 2nd / 4th / 6th Semester",values:[18e3,18e3,18e3]},{description:"3rd Installment",values:[7500,7500,7500]},{description:"4th Installment",values:[7500,7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[17e3,17e3,17e3]},{description:"5th Installment",values:[7500,7500,7500]},{description:"6th Installment",values:[7500,7500,7500]},{description:"7th Installment",values:[7500,7500,7500]},{description:"8th Installment",values:[7500,7500,7500]},{description:"9th Installment",values:[7500,7500,7500]},{description:"10th Installment",values:[7500,7500,7500]}],totals:[191e3,191e3,191e3],extraNotes:["One-time registration fee Rs 2,000 to be paid online towards Medhavi Skills University.","Annual subscription fee Rs 3,540 per annum for 'The Voice of Fashion'.","Examination and convocation fees Rs 5,000 per annum to be paid separately."]},MVOC:{key:"MVOC",label:"M.Voc  2 Years",streamNote:"Fashion Design / Interior Design  M.Voc 2 Years",years:["1st Year","2nd Year"],rows:[{description:"Time of Admission",values:[22e3,22e3]},{description:"MSU fees for 1st / 3rd Semester",values:[24e3,24e3]},{description:"Time of Batch Commencement",values:[19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3]},{description:"1st Installment",values:[7500,7500]},{description:"Registration fee (2nd part  within 30 days)",values:[24e3,24e3]},{description:"2nd Installment",values:[7500,7500]},{description:"MSU fees for 2nd / 4th Semester",values:[24e3,24e3]},{description:"3rd Installment",values:[7500,7500]},{description:"4th Installment",values:[7500,7500]},{description:"Registration fee (3rd part  within 90 days)",values:[24e3,24e3]},{description:"5th Installment",values:[7500,7500]},{description:"6th Installment",values:[7500,7500]},{description:"7th Installment",values:[7500,7500]},{description:"8th Installment",values:[7500,7500]},{description:"9th Installment",values:[7500,7500]},{description:"10th Installment",values:[7500,7500]}],totals:[205e3,205e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","Classroom fees Rs 3,540 per annum for 'Reliance Brands Limited', payable only online.","Examination and convocation fees Rs 5,000 per annum to be paid separately."]},BDES:{key:"BDES",label:"B.Des  4 Years",streamNote:"Fashion Design / Interior Design  B.Des 4 Years",years:["1st Year","2nd Year","3rd Year","4th Year"],rows:[{description:"Time of Admission",values:[22e3,22e3,22e3,22e3]},{description:"Time of Admission (MSU fees for 1st / 3rd / 5th / 7th Semester)",values:[24e3,24e3,24e3,24e3]},{description:"Time of Batch Commencement",values:[19e3,19e3,19e3,19e3]},{description:"Registration fee (1st part)",values:[5e3,5e3,5e3,5e3]},{description:"1st Installment",values:[7500,7500,7500,7500]},{description:"Registration fee (2nd part within 30 days since commencement)",values:[17e3,17e3,17e3,17e3]},{description:"2nd Installment",values:[7500,7500,7500,7500]},{description:"MSU fees for 2nd / 4th / 6th / 8th Semester",values:[24e3,24e3,24e3,24e3]},{description:"3rd Installment",values:[7500,7500,7500,7500]},{description:"4th Installment",values:[7500,7500,7500,7500]},{description:"Registration fee (3rd part within 90 days since commencement)",values:[17e3,17e3,17e3,17e3]},{description:"5th Installment",values:[7500,7500,7500,7500]},{description:"6th Installment",values:[7500,7500,7500,7500]},{description:"7th Installment",values:[7500,7500,7500,7500]},{description:"8th Installment",values:[7500,7500,7500,7500]},{description:"9th Installment",values:[7500,7500,7500,7500]},{description:"10th Installment",values:[7500,7500,7500,7500]}],totals:[203e3,203e3,203e3,203e3],extraNotes:["Admission fee Rs 22,000 in favour of 'College of Fashion' payable at Kolkata.","MSU fees for odd and even semesters are included as per the sheet.","Examination / convocation fees (if any) are payable separately as per university norms."]}},fw="http://localhost:5000/api/nif/course",NIe=({setShowAdminHeader:t})=>{const[e,r]=L.useState([]),[s,a]=L.useState(!1),[i,o]=L.useState(!1),[l,c]=L.useState(!1),[d,u]=L.useState("ADV_CERT"),[h,m]=L.useState(null),[f,x]=L.useState({stream:"",name:"",duration:"",fees:"",description:"",programType:"ADV_CERT",installments:[Z0()]}),v=A$[d],g=(k=[])=>k.map(P=>{var D,H;return{label:(D=P.label)==null?void 0:D.trim(),amount:P.amount===""?"":Number(P.amount),dueMonth:((H=P.dueMonth)==null?void 0:H.trim())||""}}).filter(P=>P.label&&P.amount!==""&&Number.isFinite(Number(P.amount))&&Number(P.amount)>=0).map(P=>({label:P.label,amount:Number(P.amount),dueMonth:P.dueMonth})),b=(k,P,D,H)=>{k==="new"?x(F=>{const z=[...F.installments||[]];return z[P]={...z[P],[D]:H},{...F,installments:z}}):k==="edit"&&h&&m(F=>{const z=[...F.installments||[]];return z[P]={...z[P],[D]:H},{...F,installments:z}})},N=k=>{k==="new"?x(P=>({...P,installments:[...P.installments||[],Z0()]})):k==="edit"&&h&&m(P=>({...P,installments:[...P.installments||[],Z0()]}))},w=(k,P)=>{k==="new"?x(D=>{const H=[...D.installments||[]];return H.splice(P,1),{...D,installments:H.length?H:[Z0()]}}):k==="edit"&&h&&m(D=>{const H=[...D.installments||[]];return H.splice(P,1),{...D,installments:H.length?H:[Z0()]}})},A=async()=>{try{const k=await fetch(`${fw}/fetch`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!k.ok)throw new Error("Failed to fetch courses");const P=await k.json();r(P||[])}catch(k){console.error("Fetch courses error:",k),alert("Failed to load courses. Check backend/API URL.")}};L.useEffect(()=>{A(),t(!1)},[t]);const j=k=>{const{name:P,value:D}=k.target;x(H=>({...H,[P]:D}))},S=async k=>{k.preventDefault();const D=["stream","name","duration","fees","programType"].filter(H=>!f[H]||f[H].trim()==="");if(D.length>0){gn.fire({icon:"warning",title:"Missing Fields",text:`Please fill: ${D.join(", ")}`});return}o(!0);try{const H={stream:f.stream,name:f.name,duration:f.duration,fees:f.fees,description:f.description,programType:f.programType,installments:g(f.installments)},F=await fetch(`${fw}/add`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(!F.ok){const z=await F.json().catch(()=>({}));throw new Error(z.message||"Failed to add course")}await F.json(),gn.fire({icon:"success",title:"Course added successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await A(),a(!1),x({stream:"",name:"",duration:"",fees:"",description:"",programType:"ADV_CERT",installments:[Z0()]})}catch(H){console.error("Error adding course:",H),gn.fire({icon:"error",title:"Error adding course",text:H.message})}finally{o(!1)}},E=k=>{m({_id:k._id,stream:k.department||"",name:k.title||"",duration:k.duration||"",fees:k.fees!=null?String(k.fees):"",description:k.desc||"",programType:k.programType||"ADV_CERT",installments:(k.installments&&k.installments.length?k.installments:[Z0()]).map(P=>({label:P.label||"",amount:P.amount===0||P.amount?String(P.amount):"",dueMonth:P.dueMonth||""}))})},R=k=>{const{name:P,value:D}=k.target;m(H=>({...H,[P]:D}))},C=async k=>{if(k.preventDefault(),!(h!=null&&h._id))return;const D=["stream","name","duration","fees","programType"].filter(H=>!h[H]||h[H].trim()==="");if(D.length>0){gn.fire({icon:"warning",title:"Missing Fields",text:`Please fill: ${D.join(", ")}`});return}o(!0);try{const H={stream:h.stream,name:h.name,duration:h.duration,fees:h.fees,description:h.description,programType:h.programType,installments:g(h.installments)},F=await fetch(`${fw}/${h._id}`,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(H)});if(!F.ok){const z=await F.json().catch(()=>({}));throw new Error(z.message||"Failed to update course")}await F.json(),gn.fire({icon:"success",title:"Course updated successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await A(),m(null)}catch(H){console.error("Error updating course:",H),gn.fire({icon:"error",title:"Error updating course",text:H.message})}finally{o(!1)}},T=async k=>{if((await gn.fire({title:"Are you sure?",text:`Do you want to delete "${k.title}"?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed)try{const D=await fetch(`${fw}/${k._id}`,{method:"DELETE",headers:{authorization:`Bearer ${localStorage.getItem("token")}`}});if(!D.ok){const H=await D.json().catch(()=>({}));throw new Error(H.message||"Failed to delete course")}await D.json(),gn.fire({icon:"success",title:"Course deleted successfully!",toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),await A()}catch(D){console.error("Delete course error:",D),gn.fire({icon:"error",title:"Deletion Failed",text:D.message})}};return n.jsx("div",{className:"h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 flex flex-col",children:n.jsxs("div",{className:" flex flex-col  mx w-full bg-white/90  border-yellow-200 ",children:[n.jsxs("div",{className:"flex-shrink-0 p-8 bg-white/90 border-b border-yellow-100",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8 gap-2",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Course Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and organize NIF courses, with official fee breakdowns."})]}),n.jsx(kr,{className:"w-12 h-12 text-yellow-500"})]}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[n.jsxs("button",{className:"flex items-center space-x-2 border border-yellow-400 text-yellow-700 px-4 py-2 rounded-lg hover:bg-yellow-50 transition-colors text-sm font-medium",onClick:()=>c(!0),children:[n.jsx(_f,{className:"w-4 h-4"}),n.jsx("span",{children:"View Fee Breakdown"})]}),n.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm font-medium",onClick:()=>a(!0),children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Course"})]})]})]}),n.jsx("div",{className:"flex-1 overflow-hidden p-8",children:n.jsx("div",{className:"h-full overflow-y-auto",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(k=>{var P;return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all border border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:k.title}),k.department&&n.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:k.department})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-1 text-gray-400 hover:text-yellow-600 transition-colors",onClick:()=>E(k),children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 transition-colors",onClick:()=>T(k),children:n.jsx(pc,{className:"w-4 h-4"})})]})]}),k.desc&&n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:k.desc}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[k.programLabel&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(kr,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Program: ",k.programLabel]})]}),k.duration&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Duration: ",k.duration]})]}),k.fees!=null&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(_f,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Fees: ",k.fees]})]}),(P=k.installments)!=null&&P.length?n.jsxs("div",{className:"flex items-center",children:[n.jsx(pne,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:[k.installments.length," Installments"]})]}):null,k.instructor&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(sr,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Instructor: ",k.instructor]})]}),k.totalStudents!=null&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(sr,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:[k.totalStudents," Students"]})]}),k.startingDate&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Kt,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["Starts:"," ",new Date(k.startingDate).toLocaleDateString()]})]})]})]},k._id)}),e.length===0&&n.jsx("div",{className:"col-span-full text-center text-gray-500",children:"No courses added yet."})]})})}),s&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 transition-colors duration-200",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative border border-yellow-300",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-yellow-700",children:"Add New Course"}),n.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(ts,{size:24})})]}),n.jsxs("form",{onSubmit:S,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["STREAM",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{name:"stream",value:f.stream,onChange:j,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all appearance-none bg-white",children:[n.jsx("option",{value:"",children:"Select a stream"}),n.jsx("option",{value:"Fashion Design",children:"Fashion Design"}),n.jsx("option",{value:"Interior Design",children:"Interior Design"})]}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(bs,{className:"h-4 w-4 text-gray-400"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"name",value:f.name,onChange:j,required:!0,placeholder:"Enter course name",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"duration",value:f.duration,onChange:j,required:!0,placeholder:"e.g., 1 Year, 2 Years, 3 Years, 4 Years",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("select",{name:"programType",value:h.programType,onChange:R,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-white appearance-none",children:_$.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(bs,{className:"h-4 w-4 text-gray-400"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Program Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("select",{name:"programType",value:f.programType,onChange:j,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-white appearance-none",children:_$.map(k=>n.jsx("option",{value:k.value,children:k.label},k.value))}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(bs,{className:"h-4 w-4 text-gray-400"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(_f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{name:"fees",value:f.fees,onChange:j,required:!0,placeholder:"Enter course fees",type:"number",min:"0",className:"w-full pl-10 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),n.jsx("textarea",{name:"description",value:f.description,onChange:j,rows:3,placeholder:"Short description about the course",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800 resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installment Breakdown"}),n.jsxs("div",{className:"space-y-3",children:[h.installments.map((k,P)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[n.jsxs("div",{className:"md:col-span-4",children:[n.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Label"}),n.jsx("input",{value:k.label,onChange:D=>b("edit",P,"label",D.target.value),placeholder:"e.g., Time of Admission",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),n.jsxs("div",{className:"md:col-span-4",children:[n.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(_f,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),n.jsx("input",{type:"number",min:"0",value:k.amount,onChange:D=>b("edit",P,"amount",D.target.value),placeholder:"7500",className:"w-full pl-8 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Due Timeline"}),n.jsx("input",{value:k.dueMonth,onChange:D=>b("edit",P,"dueMonth",D.target.value),placeholder:"e.g., Month 2",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),n.jsx("div",{className:"md:col-span-1 flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>w("edit",P),className:"text-sm text-red-500 hover:text-red-600",disabled:h.installments.length===1,children:"Remove"})})]},`edit-installment-${P}`)),n.jsx("button",{type:"button",onClick:()=>N("edit"),className:"text-sm text-yellow-700 font-medium",children:"+ Add Installment"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installment Breakdown"}),n.jsxs("div",{className:"space-y-3",children:[f.installments.map((k,P)=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[n.jsxs("div",{className:"md:col-span-4",children:[n.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Label"}),n.jsx("input",{value:k.label,onChange:D=>b("new",P,"label",D.target.value),placeholder:"e.g., Time of Admission",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),n.jsxs("div",{className:"md:col-span-4",children:[n.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Amount"}),n.jsxs("div",{className:"relative",children:[n.jsx(_f,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),n.jsx("input",{type:"number",min:"0",value:k.amount,onChange:D=>b("new",P,"amount",D.target.value),placeholder:"7500",className:"w-full pl-8 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Due Timeline"}),n.jsx("input",{value:k.dueMonth,onChange:D=>b("new",P,"dueMonth",D.target.value),placeholder:"e.g., Month 2",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none"})]}),n.jsx("div",{className:"md:col-span-1 flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>w("new",P),className:"text-sm text-red-500 hover:text-red-600",disabled:f.installments.length===1,children:"Remove"})})]},`new-installment-${P}`)),n.jsx("button",{type:"button",onClick:()=>N("new"),className:"text-sm text-yellow-700 font-medium",children:"+ Add Installment"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:i,className:"flex-1 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium shadow-lg transition-all flex items-center justify-center gap-2",children:[n.jsx(Dn,{size:18}),i?"Adding...":"Add Course"]})]})]})]})}),h&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 transition-colors duration-200",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg relative border border-yellow-300",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-yellow-700",children:"Edit Course"}),n.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600 p-2",children:n.jsx(ts,{size:24})})]}),n.jsxs("form",{onSubmit:C,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:["STREAM",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{name:"stream",value:h.stream,onChange:R,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all appearance-none bg-white",children:[n.jsx("option",{value:"",children:"Select a stream"}),n.jsx("option",{value:"Fashion Design",children:"Fashion Design"}),n.jsx("option",{value:"Interior Design",children:"Interior Design"})]}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(bs,{className:"h-4 w-4 text-gray-400"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Course Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"name",value:h.name,onChange:R,required:!0,placeholder:"Enter course name",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Duration ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"duration",value:h.duration,onChange:R,required:!0,placeholder:"e.g., 1 Year, 2 Years, 3 Years, 4 Years",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fees ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(_f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsx("input",{name:"fees",value:h.fees,onChange:R,required:!0,placeholder:"Enter course fees",type:"number",min:"0",className:"w-full pl-10 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optional)"}),n.jsx("textarea",{name:"description",value:h.description,onChange:R,rows:3,placeholder:"Short description about the course",className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none placeholder-gray-400 text-gray-800 resize-none"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>m(null),className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:i,className:"flex-1 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white py-3 rounded-lg font-medium shadow-lg transition-all flex items-center justify-center gap-2",children:[n.jsx(Ao,{size:18}),i?"Saving...":"Save Changes"]})]})]})]})}),l&&v&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden border border-yellow-300 flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-yellow-100 bg-yellow-50",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-yellow-700",children:"Fees Breakup  Session 202526"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Official breakup based on your NIF Global fee structure."})]}),n.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-full hover:bg-yellow-100",children:n.jsx(ts,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"px-6 pt-4 flex flex-wrap gap-2 border-b border-yellow-100 bg-white",children:Object.values(A$).map(k=>n.jsx("button",{onClick:()=>u(k.key),className:`px-3 py-2 rounded-full text-xs font-medium border ${d===k.key?"bg-yellow-500 text-black border-yellow-500 shadow-sm":"bg-white text-gray-700 border-gray-200 hover:bg-yellow-50"}`,children:k.label},k.key))}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:v.label}),n.jsx("p",{className:"text-sm text-gray-600",children:v.streamNote})]})}),n.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200 bg-white",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-yellow-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 border-b",children:"Description"}),v.years.map(k=>n.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-700 border-b",children:k},k))]})}),n.jsx("tbody",{children:v.rows.map((k,P)=>n.jsxs("tr",{className:P%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"px-4 py-2 border-b text-gray-700",children:k.description}),k.values.map((D,H)=>n.jsxs("td",{className:"px-4 py-2 border-b text-right text-gray-800",children:["",D.toLocaleString("en-IN")]},H))]},P))}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"bg-yellow-100/80",children:[n.jsx("td",{className:"px-4 py-2 font-semibold text-gray-800 border-t",children:"Total (per year)"}),v.totals.map((k,P)=>n.jsxs("td",{className:"px-4 py-2 text-right font-semibold text-gray-900 border-t",children:["",k.toLocaleString("en-IN")]},P))]})})]})}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"Important Notes"}),n.jsxs("ul",{className:"text-xs text-gray-700 list-disc list-inside space-y-1",children:[v.extraNotes.map((k,P)=>n.jsx("li",{children:k},P)),n.jsx("li",{children:"Late fees, GST or university policy changes will apply as per official circulars."})]})]})]})]})})]})})},SIe=({setShowAdminHeader:t})=>{const[e,r]=L.useState(""),[s,a]=L.useState("All"),[i,o]=L.useState("grid"),[l,c]=L.useState(null),[d,u]=L.useState("name"),[h,m]=L.useState([]),f=[{id:1,subjectCode:"MATH101",subjectName:"Advanced Mathematics",grades:["Grade 11","Grade 12"],category:"STEM",teachers:["Dr. Sarah Wilson","Prof. Michael Chen"],totalStudents:145,hoursPerWeek:6,credits:4,department:"Mathematics",difficulty:"Advanced",prerequisites:["Basic Algebra","Geometry"],description:"Advanced mathematical concepts including calculus and statistics",performance:{averageScore:92,passRate:98,attendance:94,satisfaction:4.8},status:"active",lastUpdated:"2024-01-15",resources:{textbooks:4,digital:12,lab:!0,online:8}}];L.useEffect(()=>{t(!1),m(f)},[t]);const x=b=>{switch(b){case"Beginner":return"bg-emerald-100 text-emerald-800";case"Intermediate":return"bg-blue-100 text-blue-800";case"Advanced":return"bg-purple-100 text-purple-800";case"Expert":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=b=>{switch(b){case"STEM":return"bg-indigo-100 text-indigo-800";case"Humanities":return"bg-amber-100 text-amber-800";case"Arts":return"bg-pink-100 text-pink-800";case"Languages":return"bg-teal-100 text-teal-800";case"Social Sciences":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},g=({subject:b})=>{const N=l===b.id;return n.jsxs("div",{className:`bg-white rounded-2xl border transition-all duration-300 ${N?"border-indigo-300 shadow-2xl":"border-gray-200 shadow-lg hover:shadow-xl"}`,children:[n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:n.jsx(kr,{size:20,className:"text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900",children:b.subjectName}),n.jsxs("p",{className:"text-sm text-gray-500",children:[b.subjectCode,"  ",b.department]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${x(b.difficulty)}`,children:b.difficulty}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${v(b.category)}`,children:b.category}),n.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:[b.credits," Credits"]})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:b.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Qb,{size:18,className:"text-gray-600"})}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(fc,{size:18,className:"text-gray-600"})})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[n.jsx(sr,{size:14,className:"text-blue-600"}),n.jsx("span",{className:"font-bold text-gray-900",children:b.totalStudents})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Students"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[n.jsx(nr,{size:14,className:"text-orange-600"}),n.jsxs("span",{className:"font-bold text-gray-900",children:[b.hoursPerWeek,"h"]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Weekly"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[n.jsx(rs,{size:14,className:"text-green-600"}),n.jsxs("span",{className:"font-bold text-gray-900",children:[b.performance.averageScore,"%"]})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Avg Score"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[n.jsx(Kr,{size:14,className:"text-yellow-600"}),n.jsx("span",{className:"font-bold text-gray-900",children:b.performance.satisfaction})]}),n.jsx("span",{className:"text-xs text-gray-500",children:"Rating"})]})]}),n.jsx("button",{onClick:()=>c(N?null:b.id),className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:N?n.jsxs(n.Fragment,{children:[n.jsx(pre,{size:16}),"Show Less"]}):n.jsxs(n.Fragment,{children:[n.jsx(bs,{size:16}),"Show Details"]})})]}),N&&n.jsxs("div",{className:"border-t border-gray-100 p-6 bg-gradient-to-b from-white to-gray-50/50",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(na,{size:16,className:"text-indigo-600"}),"Teaching Team"]}),n.jsx("div",{className:"space-y-2",children:b.teachers.map((w,A)=>n.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-semibold text-indigo-700",children:w.split(" ").map(j=>j[0]).join("")})}),n.jsx("span",{className:"text-sm text-gray-700",children:w})]},A))})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Kt,{size:16,className:"text-green-600"}),"Schedule & Grades"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Weekly Hours"}),n.jsxs("span",{className:"font-semibold",children:[b.hoursPerWeek,"h"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Credits"}),n.jsx("span",{className:"font-semibold",children:b.credits})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Grades"}),n.jsx("div",{className:"flex gap-1",children:b.grades.map(w=>n.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:w},w))})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(ds,{size:16,className:"text-purple-600"}),"Performance Metrics"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Average Score"}),n.jsxs("span",{className:"font-semibold",children:[b.performance.averageScore,"%"]})]}),n.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full",style:{width:`${b.performance.averageScore}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Pass Rate"}),n.jsxs("span",{className:"font-semibold",children:[b.performance.passRate,"%"]})]}),n.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full",style:{width:`${b.performance.passRate}%`}})})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(jr,{size:16,className:"text-amber-600"}),"Resources"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"font-bold text-blue-700",children:b.resources.textbooks}),n.jsx("div",{className:"text-xs text-blue-600",children:"Textbooks"})]}),n.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[n.jsx("div",{className:"font-bold text-purple-700",children:b.resources.digital}),n.jsx("div",{className:"text-xs text-purple-600",children:"Digital"})]}),n.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"font-bold text-green-700",children:b.resources.online}),n.jsx("div",{className:"text-xs text-green-600",children:"Modules"})]}),n.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[n.jsx("div",{className:"font-bold text-orange-700",children:b.resources.lab?"Yes":"No"}),n.jsx("div",{className:"text-xs text-orange-600",children:"Lab Access"})]})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-100",children:[n.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[n.jsx(ds,{size:16}),"Analytics"]}),n.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition-colors",children:[n.jsx(Kt,{size:16}),"Schedule"]}),n.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(sr,{size:16}),"Students"]})]})]})]})};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-indigo-50/30 p-4 md:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Subject Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview and management of all academic subjects"})]}),n.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all duration-300",children:[n.jsx(Dn,{size:20}),"Add New Subject"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Subjects"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.length})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(kr,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.reduce((b,N)=>b+N.totalStudents,0)})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(sr,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Avg Performance"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"92%"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(Yr,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Active Teachers"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"24"})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:n.jsx(na,{className:"w-6 h-6 text-orange-600"})})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 mb-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(In,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search subjects, teachers, departments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:e,onChange:b=>r(b.target.value)})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsxs("select",{className:"pl-10 pr-8 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white appearance-none",value:s,onChange:b=>a(b.target.value),children:[n.jsx("option",{value:"All",children:"All Grades"}),n.jsx("option",{value:"Grade 9",children:"Grade 9"}),n.jsx("option",{value:"Grade 10",children:"Grade 10"}),n.jsx("option",{value:"Grade 11",children:"Grade 11"}),n.jsx("option",{value:"Grade 12",children:"Grade 12"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Kb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),n.jsxs("select",{className:"pl-10 pr-8 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white appearance-none",value:d,onChange:b=>u(b.target.value),children:[n.jsx("option",{value:"name",children:"Sort by Name"}),n.jsx("option",{value:"students",children:"Most Students"}),n.jsx("option",{value:"performance",children:"Best Performance"}),n.jsx("option",{value:"difficulty",children:"Difficulty Level"})]})]}),n.jsxs("div",{className:"flex border border-gray-200 rounded-xl overflow-hidden",children:[n.jsx("button",{onClick:()=>o("grid"),className:`p-3 ${i==="grid"?"bg-indigo-50 text-indigo-600":"text-gray-600"}`,children:n.jsx(zN,{size:20})}),n.jsx("button",{onClick:()=>o("list"),className:`p-3 ${i==="list"?"bg-indigo-50 text-indigo-600":"text-gray-600"}`,children:n.jsx($N,{size:20})})]}),n.jsxs("button",{className:"px-4 py-3 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors flex items-center gap-2",children:[n.jsx(Kf,{size:18}),n.jsx("span",{className:"hidden md:inline",children:"More Filters"})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[n.jsx("button",{className:"px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium",children:"STEM"}),n.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Humanities"}),n.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Arts"}),n.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"Languages"}),n.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium",children:"All Categories"})]})]})]}),n.jsx("div",{className:`${i==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"flex flex-col"} gap-6`,children:h.map(b=>n.jsx(g,{subject:b},b.id))}),n.jsxs("div",{className:"mt-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"text-gray-600",children:["Showing ",n.jsx("span",{className:"font-semibold text-gray-900",children:h.length})," subjects",n.jsx("span",{className:"mx-2",children:""}),n.jsx("span",{className:"text-green-600 font-semibold",children:"All systems operational"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Qne,{size:16}),"Print Report"]}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(tn,{size:16}),"Export Data"]})]})]})]})})},Vv="http://localhost:5000",_Ie=({setShowAdminHeader:t})=>{const[e,r]=L.useState("years"),[s,a]=L.useState([]),[i,o]=L.useState([]),[l,c]=L.useState([]),[d,u]=L.useState([]),[h,m]=L.useState(""),[f,x]=L.useState({name:"",startDate:"",endDate:"",isActive:!1}),[v,g]=L.useState({name:"",academicYearId:"",order:""}),[b,N]=L.useState({name:"",classId:""}),[w,A]=L.useState({name:"",code:"",classId:""}),j=L.useMemo(()=>{const O=localStorage.getItem("token");return{"Content-Type":"application/json",authorization:O?`Bearer ${O}`:""}},[]),S=O=>{console.error(O),m("Unable to load academic data. Please retry.")},E=async()=>{const O=await fetch(`${Vv}/api/academic/years`,{method:"GET",headers:j});if(!O.ok)throw new Error("Failed to load academic years");const W=await O.json();a(Array.isArray(W)?W:[])},R=async()=>{const O=await fetch(`${Vv}/api/academic/classes`,{method:"GET",headers:j});if(!O.ok)throw new Error("Failed to load classes");const W=await O.json();o(Array.isArray(W)?W:[])},C=async()=>{const O=await fetch(`${Vv}/api/academic/sections`,{method:"GET",headers:j});if(!O.ok)throw new Error("Failed to load sections");const W=await O.json();c(Array.isArray(W)?W:[])},T=async()=>{const O=await fetch(`${Vv}/api/academic/subjects`,{method:"GET",headers:j});if(!O.ok)throw new Error("Failed to load subjects");const W=await O.json();u(Array.isArray(W)?W:[])};L.useEffect(()=>{t==null||t(!1),m(""),Promise.all([E(),R(),C(),T()]).catch(S)},[t]);const k=async(O,W,ee)=>{m("");const K=await fetch(`${Vv}${O}`,{method:"POST",headers:j,body:JSON.stringify(W)});if(!K.ok){const re=await K.json().catch(()=>({}));throw new Error(re.error||"Request failed")}await K.json().catch(()=>({})),await ee()},P=async O=>{O.preventDefault();try{await k("/api/academic/years",f,E),x({name:"",startDate:"",endDate:"",isActive:!1})}catch(W){S(W)}},D=async O=>{O.preventDefault();try{await k("/api/academic/classes",v,R),g({name:"",academicYearId:"",order:""})}catch(W){S(W)}},H=async O=>{if(O.preventDefault(),!b.classId){m("Select a class before creating a section.");return}try{await k("/api/academic/sections",b,C),N({name:"",classId:""})}catch(W){S(W)}},F=async O=>{O.preventDefault();try{await k("/api/academic/subjects",w,T),A({name:"",code:"",classId:""})}catch(W){S(W)}},z=(O,W,ee)=>n.jsxs("button",{type:"button",onClick:()=>r(O),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${e===O?"bg-yellow-500 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-yellow-50"}`,children:[n.jsx(ee,{className:"w-4 h-4"}),W]});return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 p-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto bg-white/90 rounded-2xl shadow-2xl p-8 border border-yellow-200",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Academic Setup"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage academic years, classes, sections, and subjects."})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[z("years","Academic Years",Kt),z("classes","Classes",Kb),z("sections","Sections",kr),z("subjects","Subjects",kr)]})]}),h&&n.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:h}),e==="years"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("form",{onSubmit:P,className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Academic Year"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year Name"}),n.jsx("input",{type:"text",value:f.name,onChange:O=>x(W=>({...W,name:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"2025-2026",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Date"}),n.jsx("input",{type:"date",value:f.startDate,onChange:O=>x(W=>({...W,startDate:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Date"}),n.jsx("input",{type:"date",value:f.endDate,onChange:O=>x(W=>({...W,endDate:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500"})]})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",checked:f.isActive,onChange:O=>x(W=>({...W,isActive:O.target.checked})),className:"h-4 w-4 text-yellow-600 border-gray-300 rounded"}),"Set as active"]}),n.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[n.jsx(Dn,{className:"w-4 h-4"}),"Add Year"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Academic Years"}),n.jsxs("div",{className:"space-y-3",children:[s.map(O=>n.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 px-4 py-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:O.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[O.startDate?new Date(O.startDate).toLocaleDateString():""," ","to ",O.endDate?new Date(O.endDate).toLocaleDateString():""]})]}),O.isActive&&n.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Active"})]},O._id)),s.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No academic years yet."})]})]})]}),e==="classes"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("form",{onSubmit:D,className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Class"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class Name"}),n.jsx("input",{type:"text",value:v.name,onChange:O=>g(W=>({...W,name:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"Grade 10",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Academic Year"}),n.jsxs("select",{value:v.academicYearId,onChange:O=>g(W=>({...W,academicYearId:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"Optional"}),s.map(O=>n.jsx("option",{value:O._id,children:O.name},O._id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Display Order"}),n.jsx("input",{type:"number",value:v.order,onChange:O=>g(W=>({...W,order:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"0"})]}),n.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[n.jsx(Dn,{className:"w-4 h-4"}),"Add Class"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Classes"}),n.jsxs("div",{className:"space-y-3",children:[i.map(O=>n.jsx("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 px-4 py-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:O.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Order: ",O.order??0]})]})},O._id)),i.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No classes yet."})]})]})]}),e==="sections"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("form",{onSubmit:H,className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Section"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Section Name"}),n.jsx("input",{type:"text",value:b.name,onChange:O=>N(W=>({...W,name:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"A",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class"}),n.jsxs("select",{value:b.classId,onChange:O=>N(W=>({...W,classId:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",required:!0,children:[n.jsx("option",{value:"",children:"Select class"}),i.map(O=>n.jsx("option",{value:O._id,children:O.name},O._id))]})]}),n.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[n.jsx(Dn,{className:"w-4 h-4"}),"Add Section"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Sections"}),n.jsxs("div",{className:"space-y-3",children:[l.map(O=>{var W;return n.jsx("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 px-4 py-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:O.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Class: ",((W=i.find(ee=>ee._id===O.classId))==null?void 0:W.name)||""]})]})},O._id)}),l.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No sections yet."})]})]})]}),e==="subjects"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("form",{onSubmit:F,className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Subject"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject Name"}),n.jsx("input",{type:"text",value:w.name,onChange:O=>A(W=>({...W,name:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"Mathematics",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject Code"}),n.jsx("input",{type:"text",value:w.code,onChange:O=>A(W=>({...W,code:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",placeholder:"MATH101"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Class (optional)"}),n.jsxs("select",{value:w.classId,onChange:O=>A(W=>({...W,classId:O.target.value})),className:"mt-2 w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"All classes"}),i.map(O=>n.jsx("option",{value:O._id,children:O.name},O._id))]})]}),n.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-white py-2 rounded-lg hover:bg-yellow-600 flex items-center justify-center gap-2",children:[n.jsx(Dn,{className:"w-4 h-4"}),"Add Subject"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Subjects"}),n.jsxs("div",{className:"space-y-3",children:[d.map(O=>{var W;return n.jsx("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 px-4 py-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:O.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[O.code||"No code"," "," ",((W=i.find(ee=>ee._id===O.classId))==null?void 0:W.name)||"All classes"]})]})},O._id)}),d.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No subjects yet."})]})]})]})]})})},AIe=({setShowAdminHeader:t})=>{L.useEffect(()=>{t(!1)},[]);const e=[{id:1,name:"John Smith",class:"10-A",status:"Present",checkInTime:"08:30 AM",totalPresent:45,totalAbsent:2},{id:2,name:"Emma Wilson",class:"10-A",status:"Absent",checkInTime:"-",totalPresent:42,totalAbsent:5},{id:3,name:"Michael Brown",class:"10-B",status:"Present",checkInTime:"08:45 AM",totalPresent:44,totalAbsent:3}],r=()=>{const s=new ir,a=s.internal.pageSize.width,i=new Date().toLocaleDateString();s.setFontSize(20),s.setFont(void 0,"bold"),s.text("Student Attendance Report",a/2,30,{align:"center"}),s.setFontSize(12),s.setFont(void 0,"normal"),s.text(`Generated on: ${i}`,a/2,45,{align:"center"}),s.setFontSize(10),s.setFont(void 0,"bold");const o=70,l=15;s.text("Student Name",20,o),s.text("Class",80,o),s.text("Status",110,o),s.text("Check-in Time",140,o),s.text("Present Days",170,o),s.text("Absent Days",190,o),s.line(15,o+5,a-15,o+5),s.setFont(void 0,"normal"),e.forEach((m,f)=>{const x=o+l+f*l;s.text(m.name,20,x),s.text(m.class,80,x),s.text(m.status,110,x),s.text(m.checkInTime,140,x),s.text(m.totalPresent.toString(),170,x),s.text(m.totalAbsent.toString(),190,x)});const c=o+l+e.length*l+20;s.setFont(void 0,"bold"),s.text("Summary:",20,c),s.setFont(void 0,"normal");const d=e.length,u=e.filter(m=>m.status==="Present").length,h=d-u;s.text(`Total Students: ${d}`,20,c+15),s.text(`Present Today: ${u}`,20,c+30),s.text(`Absent Today: ${h}`,20,c+45),s.save(`attendance-report-${i.replace(/\//g,"-")}.pdf`)};return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Attendance"}),n.jsx("p",{className:"text-yellow-100",children:"Track and manage student attendance"})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(xc,{className:"w-12 h-12 text-yellow-200"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search students...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(co,{className:"w-5 h-5 text-gray-500"}),n.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Classes"}),n.jsx("option",{value:"10a",children:"Class 10-A"}),n.jsx("option",{value:"10b",children:"Class 10-B"}),n.jsx("option",{value:"11a",children:"Class 11-A"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kt,{className:"w-5 h-5 text-gray-500"}),n.jsx("input",{type:"date",className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]}),n.jsxs("button",{onClick:r,className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Export Report"})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Student"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Class"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Check-in Time"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Total Present"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Total Absent"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(s=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 flex-shrink-0 rounded-full bg-yellow-100 flex items-center justify-center",children:n.jsx(sr,{className:"h-5 w-5 text-yellow-600"})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"font-medium text-gray-900",children:s.name})})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:["Class ",s.class]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${s.status==="Present"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(nr,{className:"w-4 h-4 mr-2"}),n.jsx("span",{children:s.checkInTime})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm text-gray-600",children:[s.totalPresent," days"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm text-gray-600",children:[s.totalAbsent," days"]})})]},s.id))})]})})})]})},CIe=({setShowAdminHeader:t})=>{L.useEffect(()=>{t==null||t(!0)},[t]);const[e,r]=L.useState(""),[s,a]=L.useState(""),i=Array.from({length:12},(u,h)=>`Class ${h+1}`),o=["A","B","C","D"],l={"Class 1":{A:[{id:1,name:"Aarav Sharma",rollNo:"001",subjects:{English:85,Math:92,Science:78,History:88}},{id:2,name:"Priya Verma",rollNo:"002",subjects:{English:90,Math:87,Science:82,History:91}},{id:3,name:"Rohan Patel",rollNo:"003",subjects:{English:75,Math:83,Science:79,History:84}}],B:[{id:4,name:"Sneha Singh",rollNo:"004",subjects:{English:88,Math:85,Science:91,History:86}},{id:5,name:"Vikram Rao",rollNo:"005",subjects:{English:82,Math:89,Science:77,History:83}}]},"Class 2":{A:[{id:6,name:"Kavya Nair",rollNo:"006",subjects:{English:93,Math:88,Science:85,History:90}},{id:7,name:"Aditya Joshi",rollNo:"007",subjects:{English:79,Math:91,Science:83,History:87}}],B:[{id:8,name:"Isha Mehra",rollNo:"008",subjects:{English:87,Math:84,Science:89,History:85}}]}},c=async u=>{const h=new ir,m=h.internal.pageSize.width,f=h.internal.pageSize.height,x=10,v=m-2*x,g=K=>new Promise((re,U)=>{const Y=new Image;Y.onload=()=>re(Y),Y.onerror=U,Y.src=K});let b,N;try{b=await g("/NIF LOGO crop.png"),N=await g("/80.jpg")}catch(K){console.warn("Could not load images:",K)}h.setDrawColor(200,150,150),h.setLineWidth(1),h.rect(5,5,m-10,f-10);let w=12;h.setDrawColor(0),h.setLineWidth(.5),h.rect(x,w,v,35),b?h.addImage(b,"PNG",15,w+5,20,20):(h.setDrawColor(0),h.setLineWidth(.5),h.rect(15,w+5,20,20),h.setFontSize(6),h.setFont("helvetica","bold"),h.text("EEC",25,w+13,{align:"center"}),h.text("LOGO",25,w+18,{align:"center"})),h.setFontSize(14),h.setFont("helvetica","bold"),h.setTextColor(220,20,60),h.text("ELECTRONIC EDUCARE",m/2,w+12,{align:"center"}),h.setFontSize(7),h.setFont("helvetica","normal"),h.setTextColor(0),h.text("Citimart, New Market, Esplanade, Kolkata",m/2,w+18,{align:"center"}),h.text("Phone: +91 9830590929 | Email: info@electroniceducare.com",m/2,w+22,{align:"center"}),h.setFontSize(8),h.setFont("helvetica","bold"),h.text("Annual Term (Session 2024-2025)",m/2,w+30,{align:"center"}),h.setDrawColor(0),h.circle(m-25,w+15,10),h.setFontSize(5),h.setFont("helvetica","bold"),h.text("CBSE",m-25,w+16,{align:"center"}),w+=40,h.setFillColor(240,240,240),h.rect(x,w,20,12,"F"),h.setDrawColor(0),h.rect(x,w,20,12),h.setFontSize(8),h.setFont("helvetica","bold"),h.text("class",15,w+6),h.text(e.split(" ")[1]||"I",18,w+10),w+=15,h.setFontSize(7),h.setFont("helvetica","normal"),h.text("Student's Name:",15,w),h.text(u.name,50,w),h.text("Father's Name:",15,w+5),h.text("Mr. "+(u.name.split(" ")[1]||"Father Name"),50,w+5),h.text("Mother's Name:",15,w+10),h.text("Mrs. "+(u.name.split(" ")[1]||"Mother Name"),50,w+10),h.text("Date of Birth:",15,w+15),h.text("01/01/2010",50,w+15),h.text("Height:",15,w+20),h.text("152 CM",50,w+20),h.text("Class:",110,w),h.text(e,125,w),h.text("Section:",110,w+5),h.text(s,125,w+5),h.text("Roll No.:",110,w+10),h.text(u.rollNo,125,w+10),h.text("House:",110,w+15),h.text("Blue House",125,w+15),h.text("Weight:",110,w+20),h.text("40 KG",125,w+20),N?h.addImage(N,"JPEG",m-30,w,20,25):(h.setDrawColor(0),h.rect(m-30,w,20,25),h.setFontSize(5),h.text("STUDENT",m-20,w+10,{align:"center"}),h.text("PHOTO",m-20,w+15,{align:"center"})),w+=30;const A={English:{periodicTest:8,notebook:4,subEnrichment:4,halfYearly:78,total:94,grade:"A2"},Hindi:{periodicTest:8,notebook:4,subEnrichment:4,halfYearly:75,total:91,grade:"A1"},Maths:{periodicTest:u.subjects.Math?Math.floor(u.subjects.Math/10):9,notebook:5,subEnrichment:5,halfYearly:u.subjects.Math||85,total:(u.subjects.Math||85)+19,grade:"A1"},Science:{periodicTest:u.subjects.Science?Math.floor(u.subjects.Science/10):7,notebook:4,subEnrichment:4,halfYearly:u.subjects.Science||72,total:(u.subjects.Science||72)+15,grade:"B1"},"Social Science":{periodicTest:u.subjects.History?Math.floor(u.subjects.History/10):8,notebook:4,subEnrichment:4,halfYearly:u.subjects.History||80,total:(u.subjects.History||80)+16,grade:"A2"}};h.setFillColor(220,220,220),h.rect(x,w,v,15,"F"),h.setDrawColor(0),h.rect(x,w,v,15);const j=35,S=15,E=15,R=20,C=20,T=20;h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Subjects",x+15,w+5),h.text("Scholastic Areas",x+j+30,w+3),h.text("Total",x+j+S+E+R+C+5,w+5),h.text("Grade",x+j+S+E+R+C+T+5,w+5),h.text("Periodic",x+j+5,w+8),h.text("Note",x+j+S+3,w+8),h.text("Sub",x+j+S+E+5,w+8),h.text("Half",x+j+S+E+R+3,w+8),h.text("(100)",x+j+S+E+R+C+3,w+8),h.text("Test(10)",x+j+3,w+12),h.text("Book(5)",x+j+S+1,w+12),h.text("Enrich(5)",x+j+S+E+1,w+12),h.text("Yearly(80)",x+j+S+E+R-2,w+12);let k=x+j;h.line(k,w,k,w+15),k+=S,h.line(k,w,k,w+15),k+=E,h.line(k,w,k,w+15),k+=R,h.line(k,w,k,w+15),k+=C,h.line(k,w,k,w+15),k+=T,h.line(k,w,k,w+15),w+=15,Object.entries(A).forEach(([K,re],U)=>{U%2===0&&(h.setFillColor(248,248,248),h.rect(x,w,v,10,"F")),h.setDrawColor(0),h.rect(x,w,v,10),h.setFontSize(6),h.setFont("helvetica","normal"),h.text(K,x+2,w+6),h.text(re.periodicTest.toString(),x+j+5,w+6),h.text(re.notebook.toString(),x+j+S+5,w+6),h.text(re.subEnrichment.toString(),x+j+S+E+7,w+6),h.text(re.halfYearly.toString(),x+j+S+E+R+5,w+6),h.text(re.total.toString(),x+j+S+E+R+C+5,w+6),h.text(re.grade,x+j+S+E+R+C+T+8,w+6),k=x+j,h.line(k,w,k,w+10),k+=S,h.line(k,w,k,w+10),k+=E,h.line(k,w,k,w+10),k+=R,h.line(k,w,k,w+10),k+=C,h.line(k,w,k,w+10),k+=T,h.line(k,w,k,w+10),w+=10}),h.setFillColor(220,220,220),h.rect(x,w,v,10,"F"),h.setDrawColor(0),h.rect(x,w,v,10),h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Attendance",x+2,w+6),h.text("95/105",x+j+5,w+6);const P=Object.values(A).reduce((K,re)=>K+re.total,0),D=Object.keys(A).length*100,H=(P/D*100).toFixed(1);h.text("Total Marks:",x+j+S+5,w+6),h.text(`${P}/${D}`,x+j+S+E+R+5,w+6),h.text("Percentage:",x+j+S+E+R+C+2,w+6),h.text(`${H}%`,x+j+S+E+R+C+T+5,w+6),w+=15,h.setFillColor(240,240,240),h.rect(x,w,v,6,"F"),h.setDrawColor(0),h.rect(x,w,v,6),h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Co-scholastic Activities Area (3-point scale)",x+5,w+4),w+=8,[{activity:"Work Education",grade:"A"},{activity:"Art Education",grade:"B"},{activity:"Physical Education",grade:"A"}].forEach((K,re)=>{h.setDrawColor(0),h.rect(x,w,v,6),h.setFontSize(6),h.setFont("helvetica","normal"),h.text(K.activity,x+5,w+4),h.text(K.grade,x+80,w+4),w+=6}),w+=8,h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Grade Scale: A1(91-100) A2(81-90) B1(71-80) B2(61-70) C1(51-60) C2(41-50) D(33-40) E(<33)",x,w),w+=10,h.setFontSize(6),h.setFont("helvetica","bold"),h.text("Remarks:",x,w),h.setFont("helvetica","normal");let z;const O=parseFloat(H);O>=90?z="Excellent performance! Keep up the outstanding work.":O>=75?z="Very good performance. Continue your efforts.":O>=60?z="Good work. Focus on weaker areas for improvement.":O>=33?z="Needs improvement. Please work harder.":z="Requires immediate attention and support.",h.text(z,x,w+6),w+=15,h.setFontSize(6),h.setFont("helvetica","bold"),h.text("On promotion/ You are promoted to class:",x,w),h.setFont("helvetica","normal");const W=parseInt(e.split(" ")[1]||"1")+1;h.text(`Class ${W}`,x+80,w);const ee=Math.min(w+20,f-30);h.setDrawColor(0),h.setLineWidth(.5),h.setFontSize(6),h.setFont("helvetica","normal"),h.line(15,ee,65,ee),h.text("Parent's Signature",30,ee+8),h.line(m/2-25,ee,m/2+25,ee),h.text("Class Teacher Signature",m/2-15,ee+8),h.line(m-65,ee,m-15,ee),h.text("Principal Signature",m-45,ee+8),h.save(`${u.name}_Report_Card_${e}_Section_${s}_2024-25.pdf`)},d=()=>{var u;return!e||!s?[]:((u=l[e])==null?void 0:u[s])||[]};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Student Results"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:e,onChange:u=>r(u.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[n.jsx("option",{value:"",children:"Choose a class"}),i.map(u=>n.jsx("option",{value:u,children:u},u))]}),n.jsx(bs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Section"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:s,onChange:u=>a(u.target.value),disabled:!e,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white disabled:bg-gray-100",children:[n.jsx("option",{value:"",children:"Choose a section"}),o.map(u=>n.jsxs("option",{value:u,children:["Section ",u]},u))]}),n.jsx(bs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20})]})]})]})]}),e&&s&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[e," - Section ",s," Results"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Roll No"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subjects & Marks"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d().map(u=>{const h=Object.values(u.subjects).reduce((f,x)=>f+x,0),m=(h/(Object.keys(u.subjects).length*100)*100).toFixed(1);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:u.rollNo}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.name}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.jsx("div",{className:"space-y-1",children:Object.entries(u.subjects).map(([f,x])=>n.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-2 py-1 rounded",children:[n.jsxs("span",{className:"font-medium",children:[f,":"]}),n.jsxs("span",{className:"text-blue-600 font-semibold",children:[x,"/100"]})]},f))})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:[h,"/",Object.keys(u.subjects).length*100]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m>=90?"bg-green-100 text-green-800":m>=80?"bg-blue-100 text-blue-800":m>=70?"bg-yellow-100 text-yellow-800":m>=60?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:[m,"%"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("button",{onClick:()=>c(u),className:"inline-flex items-center px-3 py-2 border border-transparent text-xs font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 transition-colors",children:[n.jsx(tn,{size:14,className:"mr-1"}),"Report Card"]})})]},u.id)})})]})}),d().length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(jr,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No results found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No student results available for the selected class and section."})]})]}),(!e||!s)&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(jr,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Select Class and Section"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please select both class and section to view student results."})]})})]})},e6="http://localhost:5000",mw=[{value:"ADV_CERT",label:"Advance Certificate (1 / 2 Years)"},{value:"B_VOC",label:"B.Voc (3 Years)"},{value:"M_VOC",label:"M.Voc (2 Years)"},{value:"B_DES",label:"B.Des (4 Years)"}],em=["Fashion Design","Interior Design"],sc={value:"ALL",label:"All Programs"},wf="ALL",tm="ALL",C$=t=>{switch(t){case"ADV_CERT":return[1,2];case"B_VOC":return[1,2,3];case"M_VOC":return[1,2];case"B_DES":return[1,2,3,4];default:return[]}},kIe=({setShowAdminHeader:t})=>{const e=xi(),[r,s]=L.useState(mw),[a,i]=L.useState({}),[o,l]=L.useState(em),[c,d]=L.useState(sc.value),[u,h]=L.useState(wf),[m,f]=L.useState(tm),[x,v]=L.useState("active"),[g,b]=L.useState([]),[N,w]=L.useState(!1),[A,j]=L.useState(""),[S,E]=L.useState("");L.useEffect(()=>{t==null||t(!1)},[t]);const R=L.useMemo(()=>c===sc.value?[]:C$(c),[c]);L.useEffect(()=>{(async()=>{var W;try{const ee=await fetch(`${e6}/api/nif/course/fetch`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!ee.ok)return;const K=await ee.json();if(!Array.isArray(K)||!K.length)return;const re={};K.forEach(V=>{var ce;const Z=V.programType||"ADV_CERT";re[Z]||(re[Z]={label:V.programLabel||((ce=mw.find(fe=>fe.value===Z))==null?void 0:ce.label)||Z,streams:new Set}),V.department&&re[Z].streams.add(V.department)});const U=Object.entries(re).map(([V,Z])=>({value:V,label:Z.label}));if(U.length){const V=mw.map(ce=>U.find(ye=>ye.value===ce.value)||ce),Z=U.filter(ce=>!mw.some(fe=>fe.value===ce.value));s([...V,...Z])}const Y=Object.fromEntries(Object.entries(re).map(([V,Z])=>[V,Array.from(Z.streams)]));i(Y),c!==sc.value&&!((W=Y[c])!=null&&W.length)&&(d(sc.value),f(tm))}catch(ee){console.error("Failed to load course filters",ee)}})()},[c]),L.useEffect(()=>{if(c===sc.value){l(em),u!==wf&&!em.includes(u)&&h(em[0]||wf);return}const O=a[c];O!=null&&O.length?(l(O),u!==wf&&!O.includes(u)&&h(O[0])):(l(em),u!==wf&&!em.includes(u)&&h(em[0]))},[c,a,u]);const C=async()=>{w(!0),j("");try{const O=new URLSearchParams;c!==sc.value&&O.append("programType",c),u!==wf&&O.append("course",u),c!==sc.value&&m!==tm&&O.append("year",String(m)),x==="archived"?O.append("archived","true"):x==="all"?O.append("archived","all"):O.append("archived","false");const W=O.toString().length>0?`${e6}/api/nif/fees?${O.toString()}`:`${e6}/api/nif/fees`,ee=await fetch(W,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),K=await ee.json();if(!ee.ok)throw new Error(K.message||"Failed to fetch fee records");b(Array.isArray(K)?K:[])}catch(O){j(O.message)}finally{w(!1)}};L.useEffect(()=>{C()},[c,u,m,x]);const T=L.useMemo(()=>{if(!S)return g;const O=S.toLowerCase();return g.filter(W=>{var ee,K;return((ee=W.name)==null?void 0:ee.toLowerCase().includes(O))||((K=W.roll)==null?void 0:K.toLowerCase().includes(O))})},[g,S]),k=L.useMemo(()=>{if(!g.length)return{totalStudents:0,totalDue:0,totalCollected:0,totalPending:0};const O=g.length,W=g.reduce((re,U)=>re+Number(U.totalFee||0),0),ee=g.reduce((re,U)=>re+Number(U.paidAmount||0),0),K=g.reduce((re,U)=>re+Number(U.dueAmount||0),0);return{totalStudents:O,totalDue:W,totalCollected:ee,totalPending:K}},[g]),P=O=>{O!=null&&O.feeRecordId&&e(`/admin/fees/student-details?record=${O.feeRecordId}`,{state:{feeRecordId:O.feeRecordId}})},D=()=>{var re;if(!g.length)return;const O=new ir,W=O.internal.pageSize.width,ee=new Date().toLocaleDateString();let K=20;O.setFontSize(18),O.text("NIF Fees Collection Report",W/2,K,{align:"center"}),K+=10,O.setFontSize(11),O.text(`Program: ${c===sc.value?"All":((re=r.find(U=>U.value===c))==null?void 0:re.label)||c} | Stream: ${u===wf?"All":u} | Year: ${m===tm?"All":m}`,W/2,K,{align:"center"}),K+=6,O.text(`Generated on: ${ee}`,W/2,K,{align:"center"}),K+=10,O.setFontSize(10),O.text(`Total Students: ${k.totalStudents}`,20,K),K+=5,O.text(`Total Fees: ${k.totalDue.toLocaleString()}`,20,K),K+=5,O.text(`Collected: ${k.totalCollected.toLocaleString()}`,20,K),K+=5,O.text(`Pending: ${k.totalPending.toLocaleString()}`,20,K),K+=10,O.setFontSize(9),O.text("Name",10,K),O.text("Roll",50,K),O.text("Total",90,K),O.text("Paid",120,K),O.text("Due",150,K),O.text("Status",175,K),K+=4,O.line(10,K,W-10,K),K+=6,T.forEach(U=>{K>270&&(O.addPage(),K=20),O.text(U.name||"-",10,K),O.text(U.roll||"-",50,K),O.text(`${Number(U.totalFee||0).toLocaleString()}`,90,K),O.text(`${Number(U.paidAmount||0).toLocaleString()}`,120,K),O.text(`${Number(U.dueAmount||0).toLocaleString()}`,150,K),O.text(U.status||"-",175,K),K+=6}),O.save(`nif-fees-${c}-${u}-year${m}-${ee.replace(/\//g,"-")}.pdf`)},H=[{label:"Total Students",value:k.totalStudents,icon:sr},{label:"Total Fees",value:`${k.totalDue.toLocaleString()}`,icon:_f},{label:"Collected",value:`${k.totalCollected.toLocaleString()}`,icon:Pw},{label:"Pending",value:`${k.totalPending.toLocaleString()}`,icon:Zr}],F=O=>{switch(O){case"paid":return"bg-green-100 text-green-700";case"partial":return"bg-yellow-100 text-yellow-700";case"discounted":return"bg-amber-100 text-amber-700";case"due":default:return"bg-red-100 text-red-700"}},z=(O="")=>{var W;return O==="discounted"?"DISCOUNT":((W=O==null?void 0:O.toUpperCase)==null?void 0:W.call(O))||""};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"NIF Fees Collection"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program Type"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:c,onChange:O=>{const W=O.target.value;if(d(W),W===sc.value)f(tm);else{const ee=C$(W);ee.includes(Number(m))||f(ee[0]||1)}},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[n.jsx("option",{value:sc.value,children:sc.label}),r.map(O=>n.jsx("option",{value:O.value,children:O.label},O.value))]}),n.jsx(bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stream"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:u,onChange:O=>h(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[n.jsx("option",{value:wf,children:"All Streams"}),o.map(O=>n.jsx("option",{value:O,children:O},O))]}),n.jsx(bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),n.jsxs("div",{className:"relative",children:[c===sc.value?n.jsx("select",{value:tm,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500",children:n.jsx("option",{value:tm,children:"All Years"})}):n.jsx("select",{value:m,onChange:O=>f(Number(O.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:R.map(O=>n.jsxs("option",{value:O,children:["Year ",O]},O))}),n.jsx(bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Records"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:x,onChange:O=>v(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none bg-white",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"archived",children:"Archived"}),n.jsx("option",{value:"all",children:"All"})]}),n.jsx(bs,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:H.map(O=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:O.label}),n.jsx("p",{className:"text-xl font-semibold text-gray-900 mt-1",children:O.value})]}),n.jsx(O.icon,{className:"w-8 h-8 text-yellow-500"})]},O.label))}),A&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:A}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[n.jsx("div",{className:"flex-1 w-full",children:n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{value:S,onChange:O=>E(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Search by student name or roll"})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Records"}),n.jsxs("select",{value:x,onChange:O=>v(O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"archived",children:"Archived"}),n.jsx("option",{value:"all",children:"All"})]})]}),n.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white border border-black rounded-lg text-sm hover:bg-gray-800",children:[n.jsx(tn,{size:16}),"Export Report"]}),n.jsxs("button",{onClick:C,disabled:N,className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white border border-black rounded-lg text-sm hover:bg-gray-800 disabled:opacity-50",children:[N&&n.jsx($x,{className:"w-4 h-4 animate-spin"}),"Refresh"]})]})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:"Student"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Roll"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Program"}),n.jsx("th",{className:"px-4 py-3 text-left",children:"Stream"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Total Fee"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Paid"}),n.jsx("th",{className:"px-4 py-3 text-right",children:"Outstanding"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),n.jsxs("tbody",{children:[N&&n.jsx("tr",{children:n.jsxs("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:[n.jsx($x,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading fee records..."]})}),!N&&!T.length&&n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-400",children:"No fee records found for the selected filters."})}),!N&&T.map(O=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:O.name}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.roll}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.program}),n.jsx("td",{className:"px-4 py-3 text-gray-600",children:O.course}),n.jsxs("td",{className:"px-4 py-3 text-right text-gray-900",children:["",Number(O.totalFee||0).toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-right text-gray-600",children:["",Number(O.paidAmount||0).toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-right text-red-600 font-semibold",children:["",Number(O.dueAmount||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${F(O.status)}`,children:z(O.status)})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("button",{onClick:()=>P(O),className:"inline-flex items-center gap-1 px-3 py-1 text-xs font-medium rounded border border-purple-300 hover:bg-green-50 text-black",children:[n.jsx(Rn,{size:12}),"Fee Breakup"]})})]},O.feeRecordId))]})]})})})]})},EIe="http://localhost:5000",TIe=({setShowAdminHeader:t})=>{L.useEffect(()=>{t(!1)},[t]);const[e,r]=L.useState(""),[s,a]=L.useState("Last 30 Days"),[i,o]=L.useState(null),[l,c]=L.useState(!0),[d,u]=L.useState("");L.useEffect(()=>{const j=new AbortController;return(async()=>{u(""),c(!0);try{const E=await fetch(`${EIe}/api/nif/fees/dashboard-summary`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},signal:j.signal}),R=await E.json().catch(()=>({}));if(!E.ok)throw new Error(R.message||"Failed to load fees dashboard data");o(R)}catch(E){if(j.signal.aborted)return;console.error(E),u(E.message||"Failed to load dashboard data")}finally{j.signal.aborted||c(!1)}})(),()=>j.abort()},[]);const h=(i==null?void 0:i.totals)||{totalOutstanding:0,overduePayments:0,totalEnrolled:0},m=(i==null?void 0:i.enrollment)||[],f=(i==null?void 0:i.outstandingSegments)||[],x=(i==null?void 0:i.recentPayments)||[],v=L.useMemo(()=>x.filter(j=>j.studentName.toLowerCase().includes(e.toLowerCase())||j.program.toLowerCase().includes(e.toLowerCase())),[x,e]),g=(j=0)=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(j),b=j=>j==="Paid"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",N=L.useMemo(()=>{const j=new Date,S=[];for(let R=6;R>=0;R-=1){const C=new Date(j);C.setDate(j.getDate()-R);const T=C.toISOString().split("T")[0];S.push({key:T,label:C.toLocaleDateString("en-IN",{day:"numeric",month:"short"}),value:0})}const E=S.reduce((R,C)=>(R.set(C.key,C),R),new Map);return x.forEach(R=>{if(!R.paidOn)return;const C=new Date(R.paidOn).toISOString().split("T")[0];E.has(C)&&(E.get(C).value+=Number(R.amount||0))}),S},[x]),w=Math.max(...N.map(j=>j.value),1),A=()=>{alert("Generating comprehensive fees report...")};return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-600",children:[n.jsx("div",{className:"animate-spin h-10 w-10 border-2 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),"Loading the latest fee analytics..."]})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"p-8",children:[d&&n.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 text-red-700 px-4 py-3 text-sm",children:d}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Outstanding"}),n.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-amber-100 rounded-full",children:n.jsx(nr,{className:"w-5 h-5 text-amber-600"})})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:g(h.totalOutstanding)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Live balance pending across all records"})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Overdue Payments"}),n.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-red-100 rounded-full",children:n.jsx(Zr,{className:"w-5 h-5 text-red-600"})})]}),n.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[h.overduePayments," Students"]}),n.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center",children:[n.jsx(zx,{className:"w-3 h-3 mr-1"}),"Require immediate follow-up"]})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Enrolled"}),n.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-blue-100 rounded-full",children:n.jsx(zf,{className:"w-5 h-5 text-blue-600"})})]}),n.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[h.totalEnrolled.toLocaleString()," Students"]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students linked to fee records"})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Collection Trend"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Daily collections over the last 7 days."})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[n.jsx(Kt,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:s})]})]}),n.jsx("div",{className:"flex gap-3 items-end h-48",children:N.map(j=>n.jsxs("div",{className:"flex flex-col items-center w-full",children:[n.jsx("div",{className:"w-full flex-1 flex items-end",children:n.jsx("div",{className:"w-full rounded-t-lg bg-gradient-to-t from-blue-500 to-emerald-400 shadow",style:{height:`${j.value/w*100}%`}})}),n.jsxs("div",{className:"mt-2 text-center",children:[n.jsx("p",{className:"text-xs font-medium text-gray-700",children:g(j.value)}),n.jsx("p",{className:"text-xs text-gray-500",children:j.label})]})]},j.key))})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Payments"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Payments logged directly from fee records."})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(In,{className:"w-4 h-4 text-gray-500"}),n.jsx("input",{type:"text",value:e,onChange:j=>r(j.target.value),placeholder:"Search students...",className:"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),n.jsxs("select",{value:s,onChange:j=>a(j.target.value),className:"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[n.jsx("option",{children:"Last 30 Days"}),n.jsx("option",{children:"Last 7 Days"}),n.jsx("option",{children:"All Time"})]}),n.jsxs("button",{onClick:A,className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(tn,{size:16}),"Report"]})]})]}),n.jsx("div",{className:"space-y-4",children:v.length?v.map((j,S)=>n.jsxs("div",{className:"bg-gray-50 rounded-2xl border border-gray-200 p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:j.studentName}),n.jsx("p",{className:"text-sm text-gray-500",children:j.program})]}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:g(j.amount)}),n.jsx("p",{className:"text-sm text-gray-500",children:j.paidOn?new Date(j.paidOn).toLocaleDateString():""}),n.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm ${b(j.status)}`,children:j.status||"Paid"})]})]},`${j.studentName}-${S}`)):n.jsx("p",{className:"text-sm text-gray-500 text-center py-6",children:"No recent payments match your search."})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Enrollment by Program"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Distribution of students with fee records."})]}),n.jsx(sr,{className:"w-6 h-6 text-blue-600"})]}),m.length?n.jsx("div",{className:"grid gap-4",children:m.map((j,S)=>n.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:j.program}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:j.students})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Share"}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[j.percentage,"%"]})]})]},j.program))}):n.jsx("p",{className:"text-sm text-gray-500",children:"No enrollment data available."})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Outstanding Overview"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Top programs and batches with outstanding dues."})]}),n.jsx(Dr,{className:"w-6 h-6 text-green-600"})]}),f.length?n.jsx("div",{className:"space-y-4",children:f.map(j=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:j.label}),n.jsxs("span",{className:"text-sm text-gray-500",children:[j.percentage,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-amber-500 h-2 rounded-full",style:{width:`${j.percentage}%`}})})]},j.label))}):n.jsx("p",{className:"text-sm text-gray-500",children:"No outstanding data to display."})]})]})]})]})})},t6="http://localhost:5000",MIe=({setShowAdminHeader:t})=>{var K;L.useEffect(()=>{t(!1)},[t]);const e=Nc(),[r]=ote(),s=xi(),a=((K=e.state)==null?void 0:K.feeRecordId)||r.get("record")||"",[i,o]=L.useState(null),[l,c]=L.useState(!0),[d,u]=L.useState(""),h=L.useCallback(async({silent:re}={})=>{if(!a){u("No fee record selected. Please return to Fees Collection."),re||c(!1);return}re||c(!0);try{u("");const U=await fetch(`${t6}/api/nif/fees/details/${a}`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}}),Y=await U.json();if(!U.ok)throw new Error(Y.message||"Unable to load fee details");o(Y)}catch(U){u(U.message||"Failed to load fee details")}finally{re||c(!1)}},[a]);L.useEffect(()=>{h()},[h]);const m=i==null?void 0:i.student,f=(i==null?void 0:i.payments)||[],[x,v]=L.useState([]),[g,b]=L.useState(""),[N,w]=L.useState(""),[A,j]=L.useState(!1);L.useEffect(()=>{if(!i){b(""),w("");return}b(i.discountAmount!=null?String(i.discountAmount):""),w(i.discountNote||"")},[i]);const S=L.useCallback((re=[],U=0)=>{if(!U)return re;let Y=Number(U);if(!Number.isFinite(Y)||Y<=0)return re;const V=re.map(Z=>({...Z,discountImpact:0}));for(let Z=V.length-1;Z>=0&&Y>0;Z-=1){const ce=V[Z],fe=ce.outstanding!=null?Math.max(0,Number(ce.outstanding)):Math.max(0,Number(ce.amount||0)-Number(ce.paid||0));if(!fe)continue;const ye=Math.min(Y,fe);ce.outstanding=fe-ye,ce.discountImpact=ye,Y-=ye,ce.outstanding===0&&(ce.status="discounted")}return V},[]);L.useEffect(()=>{if(!i)return;const Y=((i.installments&&i.installments.length?i.installments:i.installmentsSnapshot&&i.installmentsSnapshot.length?i.installmentsSnapshot:null)||[{label:"Program Fee",amount:i.totalFee,dueMonth:i.academicYear||""}]).map((ye,ge)=>{const we=Number(ye.amount||0),Re=Number(ye.paid||0),oe=ye.outstanding!=null?Number(ye.outstanding):Math.max(0,we-Re),ut=Number(ye.discountImpact||0),se=ye.status||(Re>=we?"paid":Re>0?"partial":"due");return{label:ye.label||`Installment ${ge+1}`,dueMonth:ye.dueMonth||"Scheduled",amount:we,paid:Re,outstanding:oe,status:se,discountImpact:ut}}),V=Number(i.discountAmount||0),Z=Y.some(ye=>ye.discountImpact>0||ye.status==="discounted"),fe=V>0&&!Z?S(Y,V):Y;v(fe)},[S,i]);const E=L.useMemo(()=>{if(!i)return{totalFee:0,totalPaid:0,discountAmount:0,netTotal:0,outstanding:0,progress:0};const re=Number(i.totalFee||0),U=Number(i.paidAmount||0),Y=Number(i.discountAmount||0),V=Math.max(0,re-Y),Z=Math.max(0,V-U),ce=V?Math.round(U/V*100):0;return{totalFee:re,totalPaid:U,discountAmount:Y,netTotal:V,outstanding:Z,progress:ce}},[i]),R=(re=0)=>`${Number(re||0).toLocaleString()}`,C=re=>({paid:"bg-green-100 text-green-800",partial:"bg-yellow-100 text-yellow-800",due:"bg-red-100 text-red-800",discounted:"bg-yellow-100 text-yellow-800"})[re]||"bg-gray-100 text-gray-800",T=(re="")=>{var U;return re==="discounted"?"DISCOUNT":((U=re==null?void 0:re.toUpperCase)==null?void 0:U.call(re))||""},k=L.useMemo(()=>x.filter(re=>Number(re.outstanding??re.amount??0)>0),[x]),P=L.useMemo(()=>k[0]||null,[k]),D=L.useMemo(()=>k.slice(0,3),[k]),H=L.useMemo(()=>f.length?[...f].sort((re,U)=>new Date(U.paidOn||0)-new Date(re.paidOn||0))[0]:null,[f]),F=(m==null?void 0:m.guardianPhone)||(m==null?void 0:m.mobile)||"Not provided",z=(m==null?void 0:m.guardianEmail)||(m==null?void 0:m.email)||"Not provided",O=async re=>{if(a)try{const U=await fetch(`${t6}/api/nif/fees/installments/pay/${a}`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({installmentIndex:re,method:"cash"})}),Y=await U.json();if(!U.ok)throw new Error(Y.message||"Failed to mark installment as paid");await h({silent:!0})}catch(U){alert(U.message||"Could not mark as paid")}finally{}},W=async()=>{if(!a)return;const re=Number(g||0);if(!Number.isFinite(re)||re<0){alert("Enter a valid discount amount");return}if(i&&re>Number(i.totalFee||0)){alert("Discount cannot exceed the total fee amount");return}j(!0);try{const U=await fetch(`${t6}/api/nif/fees/discount/${a}`,{method:"POST",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({amount:re,note:N})}),Y=await U.json();if(!U.ok)throw new Error(Y.message||"Failed to update discount");await h({silent:!0})}catch(U){alert(U.message||"Could not update discount")}finally{j(!1)}},ee=()=>{alert("Implement statement export.")};return l?n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-600",children:[n.jsx("div",{className:"animate-spin h-10 w-10 border-2 border-yellow-600 border-t-transparent rounded-full mx-auto mb-4"}),"Loading student fee details..."]})}):d?n.jsx("div",{className:"min-h-[70vh] flex items-center justify-center px-4",children:n.jsx("div",{className:"relative max-w-xl w-full rounded-3xl border border-red-100 shadow-2xl overflow-hidden error-state-card",children:n.jsxs("div",{className:"relative z-10 p-8 flex flex-col items-center text-center gap-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-red-50 border border-red-100 flex items-center justify-center text-red-500",children:n.jsx(Zr,{size:28})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Somethings missing"}),n.jsx("p",{className:"text-gray-600",children:d||"No fee record selected. Please return to Fees Collection."})]}),n.jsxs("button",{onClick:()=>s("/admin/fees"),className:"inline-flex items-center gap-2 px-5 py-3 rounded-xl bg-gradient-to-r from-yellow-500 to-amber-500 text-white font-semibold shadow hover:shadow-lg transition-all",children:[n.jsx(al,{size:16}),"Back to Fees Collection"]})]})})}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"rounded-3xl border border-gray-200 bg-white shadow-2xl overflow-hidden",children:[n.jsxs("div",{className:"relative isolate px-6 py-8 sm:px-8 animated-fee-gradient text-white",children:[n.jsx("div",{className:"absolute inset-y-0 right-0 w-64 blur-3xl bg-white/30 opacity-40 pointer-events-none"}),n.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between relative z-10",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:()=>s(-1),className:"inline-flex items-center gap-2 text-sm text-white/80 hover:text-white transition-colors",children:[n.jsx(al,{size:16}),"Back to Fees"]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("h1",{className:"text-3xl font-bold",children:(m==null?void 0:m.name)||"Unnamed Student"}),n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-white/25 text-white",children:T(i==null?void 0:i.status)||"STATUS"})]}),n.jsxs("p",{className:"text-white/80",children:["Roll: ",(m==null?void 0:m.roll)||"","  Program:"," ",(m==null?void 0:m.grade)||(i==null?void 0:i.programLabel)||""]}),n.jsxs("p",{className:"text-white/80",children:["Academic Year: ",(i==null?void 0:i.academicYear)||(m==null?void 0:m.academicYear)||""]}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-white/80",children:[n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(pn,{size:16}),(m==null?void 0:m.guardianName)||"Guardian not added"]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Sc,{size:16}),F]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(mc,{size:16}),z]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[n.jsxs("div",{className:"rounded-2xl bg-white/15 border border-white/30 p-4 shadow-lg backdrop-blur",children:[n.jsx("p",{className:"text-sm text-white/80",children:"Outstanding balance"}),n.jsx("p",{className:"text-3xl font-bold",children:R(E.outstanding)}),n.jsxs("p",{className:"text-xs text-white/70",children:["Net payable: ",R(E.netTotal)]})]}),n.jsxs("div",{className:"rounded-2xl bg-white/10 border border-white/20 p-4",children:[n.jsx("p",{className:"text-sm text-white/80",children:"Next installment"}),n.jsx("p",{className:"text-2xl font-semibold",children:P?R(P.outstanding??P.amount):"All clear"}),n.jsxs("p",{className:"text-xs text-white/80 flex items-center gap-2 mt-1",children:[n.jsx(Kt,{size:14}),(P==null?void 0:P.dueMonth)||"To be scheduled"]})]}),n.jsxs("button",{onClick:ee,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white text-amber-600 rounded-2xl font-semibold shadow hover:bg-amber-50 transition-colors",children:[n.jsx(tn,{size:16}),"Generate Statement"]})]})]}),n.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3 text-sm text-white/80 relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[n.jsx(Kt,{size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Course Duration"}),n.jsx("p",{className:"font-semibold",children:(m==null?void 0:m.duration)||(i==null?void 0:i.programLabel)||"Not specified"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[n.jsx(nr,{size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Last Payment"}),n.jsx("p",{className:"font-semibold",children:H!=null&&H.paidOn?new Date(H.paidOn).toLocaleDateString():"No payments yet"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 rounded-2xl bg-white/10 border border-white/20 p-3",children:[n.jsx(DD,{size:18}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:"Payments Logged"}),n.jsxs("p",{className:"font-semibold",children:[f.length||0," entries"]})]})]})]})]}),n.jsxs("div",{className:"p-6 space-y-6 bg-white",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsx("span",{children:"Total Fee"}),n.jsx(Jse,{size:18,className:"text-yellow-600"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R(E.totalFee)})]}),n.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsx("span",{children:"Discount Applied"}),n.jsx(Vne,{size:18,className:"text-amber-600"})]}),n.jsx("p",{className:"text-2xl font-bold text-amber-600",children:R(E.discountAmount)})]}),n.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsx("span",{children:"Total Paid"}),n.jsx(DD,{size:18,className:"text-emerald-600"})]}),n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:R(E.totalPaid)})]}),n.jsxs("div",{className:"rounded-2xl border border-gray-100 p-4 bg-white shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[n.jsx("span",{children:"Outstanding"}),n.jsx(Zr,{size:18,className:"text-red-500"})]}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:R(E.outstanding)})]})]}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[n.jsxs("div",{className:"rounded-2xl border border-gray-200 p-5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Payment Progress"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[E.progress,"%"]})]}),n.jsxs("div",{className:"text-right text-sm text-gray-500",children:[n.jsx("p",{children:"Last payment"}),n.jsx("p",{className:"text-base font-semibold text-gray-900",children:H?R(H.amount):""}),n.jsx("p",{className:"text-xs",children:H!=null&&H.paidOn?new Date(H.paidOn).toLocaleString():"No payments yet"})]})]}),n.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"h-2.5 rounded-full bg-gradient-to-r from-emerald-400 to-emerald-600 transition-all duration-300",style:{width:`${E.progress}%`}})}),n.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[R(E.totalPaid)," of"," ",R(E.netTotal)," paid"]})]}),n.jsxs("div",{className:"rounded-2xl border border-gray-200 p-5",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Upcoming installments"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Next dues at a glance"})]}),n.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-50 text-yellow-700",children:[k.length," pending"]})]}),D.length?n.jsxs("div",{className:"space-y-3",children:[D.map((re,U)=>n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-gray-100 bg-gray-50 px-3 py-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:re.label}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Kt,{size:12}),re.dueMonth||"Scheduled"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:R(re.outstanding??re.amount)}),n.jsx("p",{className:"text-[11px] text-gray-500 uppercase",children:T(re.status)})]})]},`${re.label}-${U}`)),k.length>D.length&&n.jsxs("p",{className:"text-xs text-gray-500",children:["+",k.length-D.length," more installments"]})]}):n.jsx("p",{className:"text-sm text-gray-500",children:"All installments are settled. No pending dues."})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsx("div",{className:"xl:col-span-2 flex flex-col gap-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Fee Breakup"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Registration parts and installments with paid vs remaining. Click an item to mark it as paid."})]}),x.length?n.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:x.map((re,U)=>{const Y=Number(re.discountImpact||0),V=Y>0||re.status==="discounted",Z=V?"discounted":re.status,fe=!(Z==="paid"||Z==="discounted");return n.jsxs("div",{className:`flex flex-col gap-3 rounded-lg border px-4 py-3 shadow-xs ${V?"border-amber-200 bg-amber-50/60":"border-gray-200 bg-white"}`,children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:re.label}),n.jsx("p",{className:"text-xs text-gray-500",children:re.dueMonth||"Scheduled"}),V&&n.jsxs("p",{className:"text-[11px] text-amber-600 font-semibold",children:["Discount applied",Y>0&&n.jsxs("span",{className:"ml-1 font-normal text-amber-700",children:["(",R(Y),")"]})]})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-[11px] font-semibold ${C(Z)}`,children:T(Z)})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[11px] uppercase tracking-wide",children:"Amount"}),n.jsx("span",{className:"font-semibold text-gray-900",children:R(re.amount)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[11px] uppercase tracking-wide text-green-700",children:"Paid"}),n.jsx("span",{className:"font-semibold text-green-700",children:R(re.paid)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[11px] uppercase tracking-wide text-red-700",children:"Remaining"}),n.jsx("span",{className:"font-semibold text-red-700",children:R(re.outstanding)})]})]}),n.jsx("button",{onClick:()=>O(U),disabled:!fe,className:`text-xs font-semibold self-start ${fe?"text-blue-600 hover:underline":"text-gray-400 cursor-not-allowed"}`,children:fe?"Mark as Paid":Z==="discounted"?"Discounted":"Completed"})]},`${re.label}-${U}`)})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No fee breakup available."})]}),n.jsx("div",{className:"overflow-x-auto mt-6",children:n.jsxs("table",{className:"w-full text-sm text-left",children:[n.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-4",children:n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),n.jsx("th",{className:"px-6 py-3",children:"Fee Item"}),n.jsx("th",{className:"px-6 py-3",children:"Due Date"}),n.jsx("th",{className:"px-6 py-3",children:"Amount"}),n.jsx("th",{className:"px-6 py-3",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:x.length?x.map((re,U)=>{const Y=Number(re.discountImpact||0),V=Y>0||re.status==="discounted",Z=V?"discounted":re.status,fe=!(Z==="paid"||Z==="discounted");return n.jsxs("tr",{className:`${V?"bg-amber-50/70":"hover:bg-gray-50"}`,children:[n.jsx("td",{className:"p-4 w-4",children:n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"})}),n.jsxs("td",{className:"px-6 py-3 text-gray-900 font-medium",children:[re.label,V&&n.jsxs("span",{className:"ml-2 text-[11px] font-semibold text-amber-600 bg-amber-100 px-2 py-0.5 rounded-full",children:["Discounted",Y>0&&n.jsxs("span",{className:"ml-1 text-amber-700",children:["(",R(Y),")"]})]})]}),n.jsxs("td",{className:"px-6 py-3 text-gray-500 flex items-center gap-2",children:[n.jsx(Kt,{size:14}),re.dueMonth||"Scheduled"]}),n.jsx("td",{className:"px-6 py-3 text-gray-900",children:R(re.amount)}),n.jsx("td",{className:"px-6 py-3",children:n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-medium ${C(Z)}`,children:T(Z)})}),n.jsx("td",{className:"px-6 py-3 text-right",children:fe?n.jsx("button",{onClick:()=>O(U),className:"font-medium text-blue-600 hover:underline",children:"Mark as Paid"}):n.jsx("span",{className:"text-gray-400 italic",children:Z==="discounted"?"Discounted":"Completed"})})]},`${re.label}-${U}`)}):n.jsx("tr",{children:n.jsx("td",{className:"px-6 py-8 text-center text-gray-500",colSpan:6,children:"No fee breakup available for this course."})})})]})})]})}),n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Fee Discount"}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Current discount: ",R((i==null?void 0:i.discountAmount)||0),"  Net payable:"," ",R(E.netTotal)]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i!=null&&i.discountNote?`Note: ${i.discountNote}`:"No discount note added yet."}),n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Discount Amount"}),n.jsx("input",{type:"number",min:"0",max:(i==null?void 0:i.totalFee)||void 0,value:g,onChange:re=>b(re.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount"}),n.jsxs("span",{className:"text-xs text-gray-400",children:["Max allowed: ",R((i==null?void 0:i.totalFee)||0)]})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Note (optional)"}),n.jsx("input",{type:"text",value:N,onChange:re=>w(re.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Reason for discount"})]}),n.jsx("button",{onClick:W,disabled:A,className:"w-full inline-flex items-center justify-center gap-2 rounded-lg bg-emerald-600 text-white px-4 py-2 text-sm font-semibold hover:bg-emerald-700 disabled:bg-gray-300",children:A?"Saving...":"Apply Discount"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Payment History"}),f.length?n.jsx("div",{className:"space-y-3",children:f.map((re,U)=>{var Y;return n.jsxs("div",{className:"flex items-center justify-between border border-gray-200 rounded-xl p-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800",children:R(re.amount)}),n.jsx("p",{className:"text-sm text-gray-500",children:((Y=re.method)==null?void 0:Y.toUpperCase())||"CASH"})]}),n.jsx("p",{className:"text-sm text-gray-500",children:re.paidOn?new Date(re.paidOn).toLocaleDateString():""})]},`${re.paidOn}-${U}`)})}):n.jsx("p",{className:"text-sm text-gray-500",children:"No payment records yet. Collect a payment to populate this list."})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Current Status"}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Status"}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${C(i==null?void 0:i.status)}`,children:T(i==null?void 0:i.status)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Last Payment"}),n.jsx("span",{children:i!=null&&i.lastPayment?new Date(i.lastPayment).toLocaleString():"No payments yet"})]})]})]})]})]})]})},dQ=L.forwardRef(({person:t,type:e},r)=>{const[s,a]=L.useState(""),i=new Date().getFullYear(),o=i+1;L.useEffect(()=>{const m=JSON.stringify({id:c(),name:l(),type:e,school:"Electronic Educare",issued:new Date().toISOString().split("T")[0],validity:`${i}-${o}`,verification:Math.random().toString(36).substring(2,15)}),f=`https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=${encodeURIComponent(m)}`;a(f)},[t,e]);const l=()=>`${t.firstName||""} ${t.lastName||""}`.trim()||"N/A",c=()=>t.empId||t.admissionNo||`${e.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`,u=(()=>{switch(e){case"student":return{title:"STUDENT ID",id:c(),primaryInfo:`Class ${t.class||"N/A"}`,secondaryInfo:`Section ${t.section||"A"}  Roll ${t.rollNo||"N/A"}`,bgGradient:"from-blue-600 via-blue-700 to-blue-800",accentColor:"bg-blue-500",icon:""};case"teacher":return{title:"FACULTY ID",id:c(),primaryInfo:t.designation||"Teacher",secondaryInfo:t.department||"Academic Department",bgGradient:"from-emerald-600 via-emerald-700 to-emerald-800",accentColor:"bg-emerald-500",icon:""};case"staff":return{title:"STAFF ID",id:c(),primaryInfo:t.role||"Staff Member",secondaryInfo:t.department||"Administration",bgGradient:"from-purple-600 via-purple-700 to-purple-800",accentColor:"bg-purple-500",icon:""};default:return{title:"ID CARD",id:c(),primaryInfo:"N/A",secondaryInfo:"N/A",bgGradient:"from-gray-600 via-gray-700 to-gray-800",accentColor:"bg-gray-500",icon:""}}})(),h=t.photo||null;return n.jsxs("div",{ref:r,className:"w-96 h-60 mx-auto relative overflow-hidden rounded-2xl shadow-2xl bg-white border border-gray-200 print:shadow-none",children:[n.jsx("div",{className:"absolute inset-0 opacity-5",children:n.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:n.jsx("div",{className:"grid grid-cols-8 grid-rows-8 h-full w-full",children:Array.from({length:64}).map((m,f)=>n.jsx("div",{className:`${u.accentColor} opacity-20 rounded-full m-1`},f))})})}),n.jsxs("div",{className:`relative bg-gradient-to-r ${u.bgGradient} text-white p-4 pb-6`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-bold",children:"EEC"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium opacity-90",children:"Electronic Educare"}),n.jsx("div",{className:"text-sm font-bold",children:u.title})]})]}),n.jsx("div",{className:"text-2xl",children:u.icon})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3",children:n.jsx("svg",{viewBox:"0 0 100 20",className:"w-full h-full",children:n.jsx("path",{d:"M0,10 Q25,0 50,10 T100,10 L100,20 L0,20 Z",fill:"white"})})})]}),n.jsxs("div",{className:"relative p-4 pt-2 flex h-44",children:[n.jsx("div",{className:"flex-shrink-0 mr-4",children:n.jsxs("div",{className:"w-20 h-24 rounded-xl overflow-hidden border-2 border-gray-200 shadow-lg bg-gradient-to-br from-gray-100 to-gray-200",children:[h?n.jsx("img",{src:h,alt:"Profile",className:"w-full h-full object-cover",onError:m=>{m.target.style.display="none",m.target.nextSibling.style.display="flex"}}):null,n.jsxs("div",{className:`w-full h-full flex flex-col items-center justify-center text-gray-500 ${h?"hidden":"flex"}`,children:[n.jsx("div",{className:"text-2xl mb-1",children:""}),n.jsx("div",{className:"text-xs font-medium",children:"PHOTO"})]})]})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-gray-900 leading-tight",children:l()}),n.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["ID: ",u.id]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-800",children:u.primaryInfo}),n.jsx("div",{className:"text-xs text-gray-600",children:u.secondaryInfo})]}),n.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[t.dob&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:["DOB: ",new Date(t.dob).toLocaleDateString()]})]}),t.phone&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{children:""}),n.jsx("span",{children:t.phone})]}),t.email&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{children:""}),n.jsx("span",{className:"truncate",children:t.email})]})]})]}),n.jsx("div",{className:"flex-shrink-0 ml-2",children:n.jsx("div",{className:"w-16 h-16 bg-white border border-gray-300 rounded-lg shadow-sm overflow-hidden",children:s?n.jsx("img",{src:s,alt:"QR Code",className:"w-full h-full object-cover",onError:()=>a("")}):n.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400",children:[n.jsx("div",{className:"text-lg",children:""}),n.jsx("div",{className:"text-xs",children:"QR"})]})})})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-r from-gray-50 to-gray-100 px-4 py-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center text-xs",children:[n.jsxs("div",{className:"text-gray-600",children:["Valid: ",i,"-",o]}),n.jsx("div",{className:"text-gray-500",children:" Authorized Personnel Only"}),n.jsx("div",{className:"text-gray-600",children:"Electronic Educare"})]})}),n.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 via-yellow-500 to-yellow-600 opacity-80 flex items-center justify-center",children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-white/30 flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 rounded-full bg-white/60"})})})]})});dQ.displayName="IDCard";const PIe=({setShowAdminHeader:t})=>{L.useEffect(()=>{t(!0)},[]);const[e,r]=L.useState("payroll"),[s,a]=L.useState(()=>{const J=new Date;return`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`}),i=26,o=[{id:"t1",name:"Prof. Priya Verma",designation:"Physics",baseSalary:55e3},{id:"t2",name:"Dr. Arjun Sen",designation:"Mathematics",baseSalary:6e4},{id:"t3",name:"Ms. Kavita Rao",designation:"Chemistry",baseSalary:52e3}],l=[{id:"s1",name:"Amit Kumar",role:"Clerk",baseSalary:28e3},{id:"s2",name:"Neha Sharma",role:"Librarian",baseSalary:32e3}],c=[{id:"v1",name:"ABC Transport Co.",service:"Bus Service",due:75e3},{id:"v2",name:"Tech Supplies Ltd",service:"IT Maintenance",due:42e3}],d={t1:{[s]:24},t2:{[s]:26},t3:{[s]:25}},u={s1:{[s]:25},s2:{[s]:24}},h=(J,ie,Ae)=>{var Fe,Ie;return(ie==="teachers"?(Fe=d[J])==null?void 0:Fe[Ae]:(Ie=u[J])==null?void 0:Ie[Ae])??i},m=(J,ie)=>{const Ae=J/i,Fe=Ae*ie,Ie=Math.round(J*.1),$e=Math.max(0,Math.round(Fe+Ie));return{perDay:Math.round(Ae),earnings:Math.round(Fe),allowances:Ie,net:$e}},f=(J,ie,Ae)=>{const Fe=h(J.id,ie,Ae),{perDay:Ie,earnings:$e,allowances:le,net:ae}=m(J.baseSalary,Fe),_e=new ir("p","pt","a4"),qe=48;let Ke=qe;_e.setFont("helvetica","bold"),_e.setFontSize(18),_e.text("EEC Payslip",qe,Ke),Ke+=14,_e.setFont("helvetica","normal"),_e.setFontSize(10),_e.text(`Month: ${Ae}`,qe,Ke),Ke+=18,_e.setFont("helvetica","bold"),_e.text("Employee",qe,Ke),Ke+=14,_e.setFont("helvetica","normal"),_e.text(`Name: ${J.name}`,qe,Ke),Ke+=14,_e.text(`Role: ${J.designation||J.role||(ie==="teachers"?"Teacher":"Staff")}`,qe,Ke),Ke+=14,_e.text(`Employee ID: ${J.id}`,qe,Ke),Ke+=20,_e.setFont("helvetica","bold"),_e.text("Salary Summary",qe,Ke),Ke+=14,_e.setFont("helvetica","normal"),[["Base Salary",`${J.baseSalary.toLocaleString()}`],["Working Days",`${i}`],["Present Days",`${Fe}`],["Per Day",`${Ie.toLocaleString()}`],["Earnings",`${$e.toLocaleString()}`],["Allowances (10%)",`${le.toLocaleString()}`],["Net Pay",`${ae.toLocaleString()}`]].forEach(([Tt,ft])=>{_e.text(Tt,qe,Ke),_e.text(ft,400,Ke,{align:"right"}),Ke+=14}),Ke+=10,_e.setFont("helvetica","italic"),_e.text("System generated payslip",qe,Ke),_e.save(`Payslip_${J.name.replace(/\s+/g,"_")}_${Ae}.pdf`)},[x,v]=L.useState([...o.map(J=>({id:J.id,name:J.name,role:J.designation||"Teacher",type:"Teacher"})),...l.map(J=>({id:J.id,name:J.name,role:J.role||"Staff",type:"Staff"}))]),[g,b]=L.useState(!1),[N,w]=L.useState({name:"",role:"",type:"Teacher",baseSalary:""}),[A,j]=L.useState(!1),[S,E]=L.useState(null),[R,C]=L.useState("student"),T=L.useRef(),k=J=>{if(J.preventDefault(),!N.name)return;const ie=`${N.type==="Teacher"?"t":"s"}${x.length+1}`;v(Ae=>[...Ae,{id:ie,name:N.name,role:N.role,type:N.type}]),b(!1),w({name:"",role:"",type:"Teacher",baseSalary:""})},[P,D]=L.useState([{id:"L1",emp:"Prof. Priya Verma",type:"CL",from:"2025-09-10",to:"2025-09-11",status:"Pending"},{id:"L2",emp:"Amit Kumar",type:"SL",from:"2025-09-09",to:"2025-09-09",status:"Pending"}]),H=(J,ie)=>D(Ae=>Ae.map(Fe=>Fe.id===J?{...Fe,status:ie}:Fe)),[F,z]=L.useState([{id:"J1",title:"Science Teacher",openings:2,status:"Open"},{id:"J2",title:"Office Assistant",openings:1,status:"Open"}]),[O,W]=L.useState([{id:"C1",name:"Rohit Das",for:"Science Teacher",status:"Screening"},{id:"C2",name:"Meera N",for:"Office Assistant",status:"Interview"}]),[ee,K]=L.useState([{id:"P1",name:"Leave Policy.pdf",date:"2025-06-01"},{id:"P2",name:"Code of Conduct.pdf",date:"2025-05-12"}]),[re,U]=L.useState(""),Y=J=>{J.preventDefault(),re&&(K(ie=>[{id:`P${ie.length+1}`,name:re,date:new Date().toISOString().slice(0,10)},...ie]),U(""))},V=(J,ie)=>{E(J),C(ie),j(!0)},Z=async()=>{if(S)try{const J=new ir("landscape","mm",[101.6,63.5]),ie=ft=>new Promise((gt,At)=>{const rt=new Image;rt.crossOrigin="anonymous",rt.onload=()=>{const Dt=document.createElement("canvas"),Rt=Dt.getContext("2d");Dt.width=rt.width,Dt.height=rt.height,Rt.drawImage(rt,0,0),gt(Dt.toDataURL("image/jpeg",.8))},rt.onerror=()=>gt(null),rt.src=ft}),Ae=JSON.stringify({id:S.empId||S.admissionNo||`${R.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`,name:`${S.firstName||""} ${S.lastName||""}`.trim(),type:R,school:"Electronic Educare",issued:new Date().toISOString().split("T")[0],verification:Math.random().toString(36).substring(2,15)}),Fe=`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(Ae)}`,Ie={student:[59,130,246],teacher:[34,197,94],staff:[147,51,234]},[$e,le,ae]=Ie[R]||[100,100,100];J.setFillColor($e,le,ae),J.roundedRect(3,3,95.6,20,3,3,"F");for(let ft=0;ft<20;ft++){const gt=1-ft/20*.4;J.setFillColor($e*gt,le*gt,ae*gt),J.roundedRect(3,3+ft,95.6,1,3,3,"F")}J.setTextColor(255,255,255),J.setFontSize(10),J.setFont("helvetica","bold"),J.text("ELECTRONIC EDUCARE",50.8,10,{align:"center"}),J.setFontSize(8),J.text(`${R.toUpperCase()} ID CARD`,50.8,16,{align:"center"}),J.setFillColor(255,255,255,.3),J.circle(10,13,3,"F"),J.setTextColor(255,255,255),J.setFontSize(6),J.text("EEC",10,14,{align:"center"}),J.setFillColor(255,215,0),J.circle(90,13,2.5,"F"),J.setFillColor(255,255,255,.6),J.circle(90,13,1.5,"F"),J.setFillColor(255,255,255),J.roundedRect(3,26,95.6,32,2,2,"F"),J.setTextColor(0,0,0);let _e=30,qe=_e;if(S.photo)try{const ft=await ie(S.photo);ft?(J.addImage(ft,"JPEG",10,qe,20,24),J.setDrawColor($e,le,ae),J.setLineWidth(.5),J.roundedRect(10,qe,20,24,2,2,"D")):(J.setDrawColor($e,le,ae),J.setFillColor(248,250,252),J.roundedRect(10,qe,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,qe+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,qe+16,{align:"center"}))}catch{J.setDrawColor($e,le,ae),J.setFillColor(248,250,252),J.roundedRect(10,qe,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,qe+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,qe+16,{align:"center"})}else J.setDrawColor($e,le,ae),J.setFillColor(248,250,252),J.roundedRect(10,qe,20,24,2,2,"FD"),J.setFontSize(10),J.text("",20,qe+10,{align:"center"}),J.setFontSize(7),J.text("PHOTO",20,qe+16,{align:"center"});const Ke=`${S.firstName||""} ${S.lastName||""}`.trim(),et=S.empId||S.admissionNo||`${R.toUpperCase()}${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;if(J.setFontSize(14),J.setFont("helvetica","bold"),J.setTextColor($e,le,ae),J.text(Ke,35,_e+5),J.setFontSize(10),J.setFont("helvetica","normal"),J.setTextColor(80,80,80),J.text(`ID: ${et}`,35,_e+11),J.setFontSize(9),J.setTextColor(60,60,60),R==="student")J.text(`Class ${S.class||"N/A"}  Section ${S.section||"A"}`,35,_e+16),S.rollNo&&J.text(`Roll No: ${S.rollNo}`,35,_e+21);else{const ft=S.designation||S.role||(R==="teacher"?"Teacher":"Staff");J.text(ft,35,_e+16),S.department&&J.text(S.department,35,_e+21)}S.phone&&(J.setFontSize(8),J.setTextColor(100,100,100),J.text(` ${S.phone}`,35,_e+26));try{const ft=await ie(Fe);ft?(J.addImage(ft,"PNG",78,_e,18,18),J.setDrawColor(200,200,200),J.setLineWidth(.3),J.roundedRect(78,_e,18,18,1,1,"D")):(J.setDrawColor(200,200,200),J.setFillColor(250,250,250),J.roundedRect(78,_e,18,18,1,1,"FD"),J.setFontSize(7),J.setTextColor(120,120,120),J.text("QR CODE",87,_e+10,{align:"center"}))}catch{J.setDrawColor(200,200,200),J.setFillColor(250,250,250),J.roundedRect(78,_e,18,18,1,1,"FD"),J.setFontSize(7),J.setTextColor(120,120,120),J.text("QR CODE",87,_e+10,{align:"center"})}const Tt=new Date().getFullYear();J.setFillColor(248,250,252),J.roundedRect(3,61,95.6,8,2,2,"F"),J.setFontSize(7),J.setTextColor(100,100,100),J.text(`Valid: ${Tt}-${Tt+1}`,8,65.5),J.text(" Authorized Personnel Only",50.8,65.5,{align:"center"}),J.text("Electronic Educare",93,65.5,{align:"right"}),J.setDrawColor($e,le,ae),J.setLineWidth(1),J.roundedRect(3,3,95.6,57.5,3,3,"D"),J.save(`ID_Card_${S.firstName}_${S.lastName}_${R}.pdf`)}catch(J){console.error("Error generating PDF:",J),alert("Error generating PDF. Please try again.")}},ce=()=>{if(!T.current)return;const J=window.open("","_blank");J.document.write(`
      <html>
        <head>
          <title>ID Card</title>
          <style>
            body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
            @media print { body { padding: 0; } }
          </style>
        </head>
        <body>
          ${T.current.outerHTML}
        </body>
      </html>
    `),J.document.close(),J.print()},[fe,ye]=L.useState("teacher"),ge=(J,ie)=>{J.preventDefault();const Ae=new FormData(J.currentTarget),Fe={};for(const[Ie,$e]of Ae.entries())Fe[Ie]=$e;console.log(`Submitting ${ie}`,Fe),confirm(`${ie} added successfully! Would you like to generate an ID card?`)&&V(Fe,ie.toLowerCase()),alert(`${ie} form captured. Implement API to persist.`)},we=({title:J,children:ie})=>n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4",children:[n.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:J}),ie]}),Re=({label:J,type:ie="text",className:Ae="",inputClassName:Fe="",...Ie})=>n.jsxs("div",{className:`flex flex-col gap-1 ${Ae}`,children:[n.jsx("label",{className:"text-sm text-gray-700",children:J}),n.jsx("input",{type:ie,className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${Fe}`,...Ie})]}),oe=({label:J,children:ie,className:Ae="",selectClassName:Fe="",...Ie})=>n.jsxs("div",{className:`flex flex-col gap-1 ${Ae}`,children:[n.jsx("label",{className:"text-sm text-gray-700",children:J}),n.jsx("select",{className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${Fe}`,...Ie,children:ie})]}),ut=({label:J,rows:ie=3,className:Ae="",textareaClassName:Fe="",...Ie})=>n.jsxs("div",{className:`flex flex-col gap-1 ${Ae}`,children:[n.jsx("label",{className:"text-sm text-gray-700",children:J}),n.jsx("textarea",{rows:ie,className:`border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent ${Fe}`,...Ie})]}),se=({label:J,multiple:ie=!1,className:Ae="",inputClassName:Fe="",name:Ie,...$e})=>{const[le,ae]=L.useState(null),_e=qe=>{const Ke=qe.target.files[0];if(Ke&&Ke.type.startsWith("image/")){const et=new FileReader;et.onload=Tt=>{ae(Tt.target.result)},et.readAsDataURL(Ke)}$e.onChange&&$e.onChange(qe)};return n.jsxs("div",{className:`flex flex-col gap-1 ${Ae}`,children:[n.jsx("label",{className:"text-sm text-gray-700",children:J}),n.jsx("input",{type:"file",multiple:ie,name:Ie,className:`border border-gray-300 rounded-lg px-3 py-2 bg-white ${Fe}`,onChange:_e,...$e}),le&&Ie==="photo"&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:le,alt:"Preview",className:"w-16 h-20 object-cover rounded-lg border border-gray-300"})})]})};return n.jsx("div",{className:"w-full min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HR Management"}),n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-1 flex",children:["payroll","vendors","attendance","employees","leaves","recruitment","policies","add-new"].map(J=>n.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${e===J?J==="add-new"?"bg-green-500 text-white":"bg-yellow-100 text-yellow-700":J==="add-new"?"bg-green-100 text-green-700 hover:bg-green-200":"text-gray-600 hover:text-gray-800"}`,onClick:()=>r(J),children:J==="add-new"?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Dn,{size:14}),"Add New"]}):J.charAt(0).toUpperCase()+J.slice(1)},J))})]}),e==="payroll"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Month:"}),n.jsx("input",{type:"month",value:s,onChange:J=>a(J.target.value),className:"border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Base Salary"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Present/Working"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Allowances"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Pay"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...o.map(J=>({...J,_type:"teachers"})),...l.map(J=>({...J,_type:"staff"}))].map(J=>{const ie=h(J.id,J._type,s),{allowances:Ae,net:Fe}=m(J.baseSalary,ie);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.name}),n.jsx("div",{className:"text-sm text-gray-500",children:J.designation||J.role||(J._type==="teachers"?"Teacher":"Staff")})]}),n.jsxs("td",{className:"px-6 py-4 text-sm",children:["",J.baseSalary.toLocaleString()]}),n.jsxs("td",{className:"px-6 py-4 text-sm",children:[ie,"/",i]}),n.jsxs("td",{className:"px-6 py-4 text-sm",children:["",Ae.toLocaleString()]}),n.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:["",Fe.toLocaleString()]}),n.jsx("td",{className:"px-6 py-4 text-sm",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>f(J,J._type,s),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[n.jsx(jr,{size:14,className:"mr-1"})," Payslip"]}),n.jsx("button",{onClick:()=>alert("Payment recorded (demo)."),className:"inline-flex items-center px-3 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Pay"})]})})]},J.id)})})]})})]}),e==="vendors"&&n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(J=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:J.service}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",J.due.toLocaleString()]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("button",{onClick:()=>alert("Vendor payment recorded (demo)."),className:"inline-flex items-center px-3 py-1 rounded text-white bg-green-600 hover:bg-green-700",children:"Pay"})})]},J.id))})]})})}),e==="attendance"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Month:"}),n.jsx("input",{type:"month",value:s,onChange:J=>a(J.target.value),className:"border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[...o.map(J=>({...J,_type:"teachers"})),...l.map(J=>({...J,_type:"staff"}))].map(J=>{const ie=h(J.id,J._type,s),Ae=i-ie;return n.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-gray-50",children:[n.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:J.designation||J.role||(J._type==="teachers"?"Teacher":"Staff")}),n.jsxs("div",{className:"text-sm text-gray-700",children:["Present: ",ie," days"]}),n.jsxs("div",{className:"text-sm text-gray-700",children:["Absent: ",Ae," days"]})]},J.id)})}),n.jsx("p",{className:"text-xs text-gray-500",children:"Connect your attendance API to drive payroll automatically."})]}),e==="employees"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(sr,{size:18})," Employees"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(J=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:J.name}),n.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.role}),n.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.type})]},J.id))})]})}),g&&n.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Employee"}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>b(!1),children:n.jsx(ts,{size:20})})]}),n.jsxs("form",{onSubmit:k,className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Name"}),n.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:N.name,onChange:J=>w({...N,name:J.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Role"}),n.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:N.role,onChange:J=>w({...N,role:J.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Type"}),n.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",value:N.type,onChange:J=>w({...N,type:J.target.value}),children:[n.jsx("option",{children:"Teacher"}),n.jsx("option",{children:"Staff"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[n.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add"})]})]})]})})]}),e==="leaves"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(Jte,{size:18})," Leave Approvals"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(J=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-3 text-sm font-medium text-gray-900",children:J.emp}),n.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.type}),n.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.from}),n.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.to}),n.jsx("td",{className:"px-6 py-3 text-sm text-gray-700",children:J.status}),n.jsx("td",{className:"px-6 py-3 text-sm",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>H(J.id,"Approved"),className:"px-3 py-1 rounded bg-green-600 text-white hover:bg-green-700",children:"Approve"}),n.jsx("button",{onClick:()=>H(J.id,"Rejected"),className:"px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700",children:"Reject"})]})})]},J.id))})]})})]}),e==="recruitment"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Job Openings"}),n.jsx("ul",{className:"divide-y divide-gray-200",children:F.map(J=>n.jsxs("li",{className:"py-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:J.title}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Openings: ",J.openings]})]}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:J.status})]},J.id))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Candidates"}),n.jsx("ul",{className:"divide-y divide-gray-200",children:O.map(J=>n.jsxs("li",{className:"py-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:["For: ",J.for]})]}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-800",children:J.status})]},J.id))})]})]}),e==="policies"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(A6,{size:18})," HR Policies"]}),n.jsxs("form",{onSubmit:Y,className:"flex items-center gap-2 mb-4",children:[n.jsx("input",{value:re,onChange:J=>U(J.target.value),placeholder:"Policy file name (e.g., Travel Policy.pdf)",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2"}),n.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-yellow-600 text-white hover:bg-yellow-700",children:"Upload"})]}),n.jsx("ul",{className:"divide-y divide-gray-200",children:ee.map(J=>n.jsxs("li",{className:"py-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:J.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Uploaded: ",J.date]})]}),n.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 text-gray-700 hover:bg-gray-50",children:"View"})]},J.id))})]}),e==="add-new"&&n.jsx("div",{children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Add New Records"}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-1 flex",children:[n.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${fe==="teacher"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>ye("teacher"),children:"Teacher"}),n.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${fe==="student"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>ye("student"),children:"Student"}),n.jsx("button",{className:`px-3 py-1 rounded-md text-sm font-medium ${fe==="staff"?"bg-purple-100 text-purple-700":"text-gray-600 hover:text-gray-800"}`,onClick:()=>ye("staff"),children:"Staff"})]})]}),fe==="teacher"&&n.jsxs("form",{onSubmit:J=>ge(J,"Teacher"),className:"space-y-6",children:[n.jsx(we,{title:"Personal Information",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Re,{name:"firstName",label:"First Name",required:!0}),n.jsx(Re,{name:"lastName",label:"Last Name",required:!0}),n.jsxs(oe,{name:"gender",label:"Gender",defaultValue:"",children:[n.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),n.jsx("option",{children:"Male"}),n.jsx("option",{children:"Female"}),n.jsx("option",{children:"Other"})]}),n.jsx(Re,{name:"dob",label:"Date of Birth",type:"date"}),n.jsx(Re,{name:"email",label:"Email",type:"email"}),n.jsx(Re,{name:"phone",label:"Phone",type:"tel"}),n.jsx(Re,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),n.jsx(Re,{name:"city",label:"City"}),n.jsx(Re,{name:"state",label:"State"}),n.jsx(Re,{name:"zip",label:"ZIP/Postal Code"}),n.jsx(se,{name:"photo",label:"Photo"})]})}),n.jsx(we,{title:"Employment Details",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Re,{name:"empId",label:"Employee ID"}),n.jsx(Re,{name:"designation",label:"Designation"}),n.jsx(Re,{name:"department",label:"Department"}),n.jsx(Re,{name:"joiningDate",label:"Date of Joining",type:"date"}),n.jsx(Re,{name:"qualification",label:"Highest Qualification"}),n.jsx(Re,{name:"experienceYears",label:"Experience (years)",type:"number",min:"0"}),n.jsx(Re,{name:"salary",label:"Salary ()",type:"number",min:"0"}),n.jsx(Re,{name:"bankAccount",label:"Bank Account No."}),n.jsx(Re,{name:"ifsc",label:"IFSC Code"})]})}),n.jsxs(we,{title:"Documents",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(se,{name:"idProof",label:"ID Proof (Aadhaar/Passport)"}),n.jsx(se,{name:"addressProof",label:"Address Proof"}),n.jsx(se,{name:"pan",label:"PAN Card"}),n.jsx(se,{name:"cv",label:"Resume/CV"}),n.jsx(se,{name:"qualificationCerts",label:"Qualification Certificates",multiple:!0}),n.jsx(se,{name:"experienceLetters",label:"Experience Letters",multiple:!0})]}),n.jsx(ut,{name:"notes",label:"Notes"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),n.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),ie=new FormData(J),Ae={};for(const[Ie,$e]of ie.entries())Ie!=="photo"&&(Ae[Ie]=$e);const Fe=ie.get("photo");if(Fe&&Fe.size>0){const Ie=new FileReader;Ie.onload=$e=>{Ae.photo=$e.target.result,Ae.firstName&&V(Ae,"teacher")},Ie.readAsDataURL(Fe)}else Ae.firstName&&V(Ae,"teacher")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[n.jsx(Cl,{size:16}),"Generate ID Card"]}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Teacher"})]})]}),fe==="student"&&n.jsxs("form",{onSubmit:J=>ge(J,"Student"),className:"space-y-6",children:[n.jsx(we,{title:"Personal Information",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Re,{name:"firstName",label:"First Name",required:!0}),n.jsx(Re,{name:"lastName",label:"Last Name",required:!0}),n.jsxs(oe,{name:"gender",label:"Gender",defaultValue:"",children:[n.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),n.jsx("option",{children:"Male"}),n.jsx("option",{children:"Female"}),n.jsx("option",{children:"Other"})]}),n.jsx(Re,{name:"dob",label:"Date of Birth",type:"date"}),n.jsx(Re,{name:"email",label:"Email",type:"email"}),n.jsx(Re,{name:"phone",label:"Phone",type:"tel"}),n.jsx(Re,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),n.jsx(Re,{name:"city",label:"City"}),n.jsx(Re,{name:"state",label:"State"}),n.jsx(Re,{name:"zip",label:"ZIP/Postal Code"}),n.jsx(se,{name:"photo",label:"Photo"})]})}),n.jsx(we,{title:"Academic Details",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Re,{name:"admissionNo",label:"Admission No."}),n.jsxs(oe,{name:"class",label:"Class",defaultValue:"",children:[n.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),Array.from({length:12},(J,ie)=>ie+1).map(J=>n.jsxs("option",{value:`Class ${J}`,children:["Class ",J]},J))]}),n.jsx(oe,{name:"section",label:"Section",defaultValue:"A",children:["A","B","C","D"].map(J=>n.jsx("option",{children:J},J))}),n.jsx(Re,{name:"rollNo",label:"Roll No."}),n.jsx(Re,{name:"admissionDate",label:"Date of Admission",type:"date"}),n.jsx(Re,{name:"guardianName",label:"Guardian Name"}),n.jsx(Re,{name:"guardianRelation",label:"Relation"}),n.jsx(Re,{name:"guardianPhone",label:"Guardian Phone",type:"tel"}),n.jsx(Re,{name:"guardianEmail",label:"Guardian Email",type:"email"})]})}),n.jsx(we,{title:"Documents",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(se,{name:"birthCert",label:"Birth Certificate"}),n.jsx(se,{name:"transferCert",label:"Transfer Certificate"}),n.jsx(se,{name:"aadhaar",label:"Aadhaar"}),n.jsx(se,{name:"addressProof",label:"Address Proof"}),n.jsx(se,{name:"photos",label:"Recent Photos",multiple:!0})]})}),n.jsxs(we,{title:"Health Record",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(oe,{name:"bloodGroup",label:"Blood Group",defaultValue:"",children:[n.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(J=>n.jsx("option",{children:J},J))]}),n.jsx(Re,{name:"allergies",label:"Allergies"}),n.jsx(Re,{name:"conditions",label:"Medical Conditions"}),n.jsx(Re,{name:"emergencyName",label:"Emergency Contact Name"}),n.jsx(Re,{name:"emergencyPhone",label:"Emergency Contact Phone",type:"tel"}),n.jsx(se,{name:"vaccinationCard",label:"Vaccination Card"})]}),n.jsx(ut,{name:"healthNotes",label:"Health Notes"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),n.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),ie=new FormData(J),Ae={};for(const[Ie,$e]of ie.entries())Ie!=="photo"&&(Ae[Ie]=$e);const Fe=ie.get("photo");if(Fe&&Fe.size>0){const Ie=new FileReader;Ie.onload=$e=>{Ae.photo=$e.target.result,Ae.firstName&&V(Ae,"student")},Ie.readAsDataURL(Fe)}else Ae.firstName&&V(Ae,"student")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[n.jsx(Cl,{size:16}),"Generate ID Card"]}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Student"})]})]}),fe==="staff"&&n.jsxs("form",{onSubmit:J=>ge(J,"Staff"),className:"space-y-6",children:[n.jsx(we,{title:"Personal Information",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Re,{name:"firstName",label:"First Name",required:!0}),n.jsx(Re,{name:"lastName",label:"Last Name",required:!0}),n.jsxs(oe,{name:"gender",label:"Gender",defaultValue:"",children:[n.jsx("option",{value:"",disabled:!0,children:"-- Select --"}),n.jsx("option",{children:"Male"}),n.jsx("option",{children:"Female"}),n.jsx("option",{children:"Other"})]}),n.jsx(Re,{name:"dob",label:"Date of Birth",type:"date"}),n.jsx(Re,{name:"email",label:"Email",type:"email"}),n.jsx(Re,{name:"phone",label:"Phone",type:"tel"}),n.jsx(Re,{name:"address1",label:"Address Line 1",className:"md:col-span-2"}),n.jsx(Re,{name:"city",label:"City"}),n.jsx(Re,{name:"state",label:"State"}),n.jsx(Re,{name:"zip",label:"ZIP/Postal Code"}),n.jsx(se,{name:"photo",label:"Photo"})]})}),n.jsx(we,{title:"Employment Details",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Re,{name:"empId",label:"Employee ID"}),n.jsx(Re,{name:"role",label:"Role"}),n.jsx(Re,{name:"department",label:"Department"}),n.jsx(Re,{name:"joiningDate",label:"Date of Joining",type:"date"}),n.jsx(Re,{name:"contractType",label:"Contract Type"}),n.jsx(Re,{name:"salary",label:"Salary ()",type:"number",min:"0"}),n.jsx(Re,{name:"bankAccount",label:"Bank Account No."}),n.jsx(Re,{name:"ifsc",label:"IFSC Code"})]})}),n.jsxs(we,{title:"Documents",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(se,{name:"idProof",label:"ID Proof"}),n.jsx(se,{name:"addressProof",label:"Address Proof"}),n.jsx(se,{name:"policeVerification",label:"Police Verification"}),n.jsx(se,{name:"resume",label:"Resume/CV"}),n.jsx(se,{name:"otherDocs",label:"Other Documents",multiple:!0})]}),n.jsx(ut,{name:"notes",label:"Notes"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{type:"reset",className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Reset"}),n.jsxs("button",{type:"button",onClick:()=>{const J=document.querySelector("form"),ie=new FormData(J),Ae={};for(const[Ie,$e]of ie.entries())Ie!=="photo"&&(Ae[Ie]=$e);const Fe=ie.get("photo");if(Fe&&Fe.size>0){const Ie=new FileReader;Ie.onload=$e=>{Ae.photo=$e.target.result,Ae.firstName&&V(Ae,"staff")},Ie.readAsDataURL(Fe)}else Ae.firstName&&V(Ae,"staff")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center gap-2",children:[n.jsx(Cl,{size:16}),"Generate ID Card"]}),n.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white",children:"Add Staff"})]})]})]})}),A&&S&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-6 max-w-lg w-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:" ID Card Generated Successfully!"}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",onClick:()=>j(!1),children:n.jsx(ts,{size:20})})]}),n.jsx("div",{className:"mb-6 flex justify-center",children:n.jsx(dQ,{ref:T,person:S,type:R})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"text-blue-600 mt-0.5",children:""}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Your ID card is ready!"}),n.jsx("p",{children:"This design shows the actual appearance. You can download a PDF version or print directly."})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Close"}),n.jsxs("button",{onClick:ce,className:"flex-1 px-4 py-2 rounded-lg bg-green-600 hover:bg-green-700 text-white flex items-center justify-center gap-2 transition-colors",children:[n.jsx(jr,{size:16}),"Print Card"]}),n.jsxs("button",{onClick:Z,className:"flex-1 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2 transition-colors",children:[n.jsx(Cl,{size:16}),"Download PDF"]})]})]})})]})})},DIe=()=>{const[t,e]=L.useState(!1),[r,s]=L.useState("Dashboard"),a=d=>{s(d)},[i,o]=L.useState(!0),[l,c]=L.useState(!0);return n.jsx(She,{activeMenuItem:r,onMenuItemClick:a,sidebarCollapsed:t,onToggleSidebar:()=>{e(!t)},adminUser:{name:"Admin User",role:"Administrator",avatar:"src/koushik-bala-pp.jpg"},showAdminHeader:i,showBreadcrumb:l,children:n.jsxs(IN,{children:[n.jsx(Yt,{path:"dashboard",element:n.jsx(K9,{setShowAdminHeader:o})}),n.jsx(Yt,{index:!0,element:n.jsx(K9,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"analytics",element:n.jsx(uCe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"teachers",element:n.jsx(bCe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"staff",element:n.jsx(wCe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"students",element:n.jsx(fIe,{setShowAdminHeader:o,setShowAdminBreadcrumb:c})}),n.jsx(Yt,{path:"wellbeing",element:n.jsx(mIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"routines",element:n.jsx(gIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"parents",element:n.jsx(jIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"academics",element:n.jsx(_Ie,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"courses",element:n.jsx(NIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"subjects",element:n.jsx(SIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"attendance",element:n.jsx(AIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"examination",element:n.jsx(wIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"timetable",element:n.jsx(bIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"lesson-plans",element:n.jsx(yIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"result",element:n.jsx(CIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"fees",element:n.jsx(kIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"fees/dashboard",element:n.jsx(TIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"fees/student-details",element:n.jsx(MIe,{setShowAdminHeader:o})}),n.jsx(Yt,{path:"hr",element:n.jsx(PIe,{setShowAdminHeader:o})})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function k1(t){return t+.5|0}const Ff=(t,e,r)=>Math.max(Math.min(t,r),e);function cy(t){return Ff(k1(t*2.55),0,255)}function Vf(t){return Ff(k1(t*255),0,255)}function dh(t){return Ff(k1(t/2.55)/100,0,1)}function k$(t){return Ff(k1(t*100),0,100)}const ac={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dT=[..."0123456789ABCDEF"],RIe=t=>dT[t&15],LIe=t=>dT[(t&240)>>4]+dT[t&15],pw=t=>(t&240)>>4===(t&15),OIe=t=>pw(t.r)&&pw(t.g)&&pw(t.b)&&pw(t.a);function IIe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ac[t[1]]*17,g:255&ac[t[2]]*17,b:255&ac[t[3]]*17,a:e===5?ac[t[4]]*17:255}:(e===7||e===9)&&(r={r:ac[t[1]]<<4|ac[t[2]],g:ac[t[3]]<<4|ac[t[4]],b:ac[t[5]]<<4|ac[t[6]],a:e===9?ac[t[7]]<<4|ac[t[8]]:255})),r}const FIe=(t,e)=>t<255?e(t):"";function BIe(t){var e=OIe(t)?RIe:LIe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+FIe(t.a,e):void 0}const UIe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uQ(t,e,r){const s=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-s*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function zIe(t,e,r){const s=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function $Ie(t,e,r){const s=uQ(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)s[a]*=1-e-r,s[a]+=e;return s}function HIe(t,e,r,s,a){return t===a?(e-r)/s+(e<r?6:0):e===a?(r-t)/s+2:(t-e)/s+4}function HP(t){const r=t.r/255,s=t.g/255,a=t.b/255,i=Math.max(r,s,a),o=Math.min(r,s,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=HIe(r,s,a,u,i),c=c*60+.5),[c|0,d||0,l]}function WP(t,e,r,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,s)).map(Vf)}function qP(t,e,r){return WP(uQ,t,e,r)}function WIe(t,e,r){return WP($Ie,t,e,r)}function qIe(t,e,r){return WP(zIe,t,e,r)}function hQ(t){return(t%360+360)%360}function GIe(t){const e=UIe.exec(t);let r=255,s;if(!e)return;e[5]!==s&&(r=e[6]?cy(+e[5]):Vf(+e[5]));const a=hQ(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=WIe(a,i,o):e[1]==="hsv"?s=qIe(a,i,o):s=qP(a,i,o),{r:s[0],g:s[1],b:s[2],a:r}}function VIe(t,e){var r=HP(t);r[0]=hQ(r[0]+e),r=qP(r),t.r=r[0],t.g=r[1],t.b=r[2]}function XIe(t){if(!t)return;const e=HP(t),r=e[0],s=k$(e[1]),a=k$(e[2]);return t.a<255?`hsla(${r}, ${s}%, ${a}%, ${dh(t.a)})`:`hsl(${r}, ${s}%, ${a}%)`}const E$={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},T$={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function YIe(){const t={},e=Object.keys(T$),r=Object.keys(E$);let s,a,i,o,l;for(s=0;s<e.length;s++){for(o=l=e[s],a=0;a<r.length;a++)i=r[a],l=l.replace(i,E$[i]);i=parseInt(T$[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let xw;function KIe(t){xw||(xw=YIe(),xw.transparent=[0,0,0,0]);const e=xw[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const JIe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function QIe(t){const e=JIe.exec(t);let r=255,s,a,i;if(e){if(e[7]!==s){const o=+e[7];r=e[8]?cy(o):Ff(o*255,0,255)}return s=+e[1],a=+e[3],i=+e[5],s=255&(e[2]?cy(s):Ff(s,0,255)),a=255&(e[4]?cy(a):Ff(a,0,255)),i=255&(e[6]?cy(i):Ff(i,0,255)),{r:s,g:a,b:i,a:r}}}function ZIe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${dh(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const r6=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ux=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function eFe(t,e,r){const s=ux(dh(t.r)),a=ux(dh(t.g)),i=ux(dh(t.b));return{r:Vf(r6(s+r*(ux(dh(e.r))-s))),g:Vf(r6(a+r*(ux(dh(e.g))-a))),b:Vf(r6(i+r*(ux(dh(e.b))-i))),a:t.a+r*(e.a-t.a)}}function gw(t,e,r){if(t){let s=HP(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*r,e===0?360:1)),s=qP(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function fQ(t,e){return t&&Object.assign(e||{},t)}function M$(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Vf(t[3]))):(e=fQ(t,{r:0,g:0,b:0,a:1}),e.a=Vf(e.a)),e}function tFe(t){return t.charAt(0)==="r"?QIe(t):GIe(t)}class Ub{constructor(e){if(e instanceof Ub)return e;const r=typeof e;let s;r==="object"?s=M$(e):r==="string"&&(s=IIe(e)||KIe(e)||tFe(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=fQ(this._rgb);return e&&(e.a=dh(e.a)),e}set rgb(e){this._rgb=M$(e)}rgbString(){return this._valid?ZIe(this._rgb):void 0}hexString(){return this._valid?BIe(this._rgb):void 0}hslString(){return this._valid?XIe(this._rgb):void 0}mix(e,r){if(e){const s=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=s.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,s.r=255&d*s.r+i*a.r+.5,s.g=255&d*s.g+i*a.g+.5,s.b=255&d*s.b+i*a.b+.5,s.a=o*s.a+(1-o)*a.a,this.rgb=s}return this}interpolate(e,r){return e&&(this._rgb=eFe(this._rgb,e._rgb,r)),this}clone(){return new Ub(this.rgb)}alpha(e){return this._rgb.a=Vf(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=k1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return gw(this._rgb,2,e),this}darken(e){return gw(this._rgb,2,-e),this}saturate(e){return gw(this._rgb,1,e),this}desaturate(e){return gw(this._rgb,1,-e),this}rotate(e){return VIe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function sh(){}const rFe=(()=>{let t=0;return()=>t++})();function ys(t){return t==null}function Va(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Cn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function wc(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Fd(t,e){return wc(t)?t:e}function _n(t,e){return typeof t>"u"?e:t}const nFe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,mQ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Os(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Zn(t,e,r,s){let a,i,o;if(Va(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(Cn(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function AN(t,e){let r,s,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,s=t.length;r<s;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function CN(t){if(Va(t))return t.map(CN);if(Cn(t)){const e=Object.create(null),r=Object.keys(t),s=r.length;let a=0;for(;a<s;++a)e[r[a]]=CN(t[r[a]]);return e}return t}function pQ(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function sFe(t,e,r,s){if(!pQ(t))return;const a=e[t],i=r[t];Cn(a)&&Cn(i)?zb(a,i,s):e[t]=CN(i)}function zb(t,e,r){const s=Va(e)?e:[e],a=s.length;if(!Cn(t))return t;r=r||{};const i=r.merger||sFe;let o;for(let l=0;l<a;++l){if(o=s[l],!Cn(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,r)}return t}function Ly(t,e){return zb(t,e,{merger:aFe})}function aFe(t,e,r){if(!pQ(t))return;const s=e[t],a=r[t];Cn(s)&&Cn(a)?Ly(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=CN(a))}const P$={"":t=>t,x:t=>t.x,y:t=>t.y};function iFe(t){const e=t.split("."),r=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(r.push(s),s="");return r}function oFe(t){const e=iFe(t);return r=>{for(const s of e){if(s==="")break;r=r&&r[s]}return r}}function tp(t,e){return(P$[e]||(P$[e]=oFe(e)))(t)}function GP(t){return t.charAt(0).toUpperCase()+t.slice(1)}const $b=t=>typeof t<"u",n0=t=>typeof t=="function",D$=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function lFe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const gs=Math.PI,La=2*gs,kN=Number.POSITIVE_INFINITY,cFe=gs/180,Ka=gs/2,rm=gs/4,R$=gs*2/3,xQ=Math.log10,Xf=Math.sign;function qw(t,e,r){return Math.abs(t-e)<r}function L$(t){const e=Math.round(t);t=qw(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(xQ(t))),s=t/r;return(s<=1?1:s<=2?2:s<=5?5:10)*r}function dFe(t){const e=[],r=Math.sqrt(t);let s;for(s=1;s<r;s++)t%s===0&&(e.push(s),e.push(t/s));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function uFe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function EN(t){return!uFe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function hFe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function fFe(t,e,r){let s,a,i;for(s=0,a=t.length;s<a;s++)i=t[s][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function vh(t){return t*(gs/180)}function mFe(t){return t*(180/gs)}function O$(t){if(!wc(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function gQ(t,e){const r=e.x-t.x,s=e.y-t.y,a=Math.sqrt(r*r+s*s);let i=Math.atan2(s,r);return i<-.5*gs&&(i+=La),{angle:i,distance:a}}function pFe(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qd(t){return(t%La+La)%La}function TN(t,e,r,s){const a=qd(t),i=qd(e),o=qd(r),l=qd(i-a),c=qd(o-a),d=qd(a-i),u=qd(a-o);return a===i||a===o||s&&i===o||l>c&&d<u}function Zo(t,e,r){return Math.max(e,Math.min(r,t))}function xFe(t){return Zo(t,-32768,32767)}function _m(t,e,r,s=1e-6){return t>=Math.min(e,r)-s&&t<=Math.max(e,r)+s}function VP(t,e,r){r=r||(o=>t[o]<e);let s=t.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,r(i)?a=i:s=i;return{lo:a,hi:s}}const uT=(t,e,r,s)=>VP(t,r,s?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),gFe=(t,e,r)=>VP(t,r,s=>t[s][e]>=r);function vFe(t,e,r){let s=0,a=t.length;for(;s<a&&t[s]<e;)s++;for(;a>s&&t[a-1]>r;)a--;return s>0||a<t.length?t.slice(s,a):t}const vQ=["push","pop","shift","splice","unshift"];function yFe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),vQ.forEach(r=>{const s="_onData"+GP(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function I$(t,e){const r=t._chartjs;if(!r)return;const s=r.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(vQ.forEach(i=>{delete t[i]}),delete t._chartjs)}function yQ(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const bQ=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function wQ(t,e){let r=[],s=!1;return function(...a){r=a,s||(s=!0,bQ.call(window,()=>{s=!1,t.apply(e,r)}))}}function bFe(t,e){let r;return function(...s){return e?(clearTimeout(r),r=setTimeout(t,e,s)):t.apply(this,s),e}}const XP=t=>t==="start"?"left":t==="end"?"right":"center",Ji=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,wFe=(t,e,r,s)=>t===(s?"left":"right")?r:t==="center"?(e+r)/2:e,vw=t=>t===0||t===1,F$=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*La/r)),B$=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*La/r)+1,Oy={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ka)+1,easeOutSine:t=>Math.sin(t*Ka),easeInOutSine:t=>-.5*(Math.cos(gs*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>vw(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vw(t)?t:F$(t,.075,.3),easeOutElastic:t=>vw(t)?t:B$(t,.075,.3),easeInOutElastic(t){return vw(t)?t:t<.5?.5*F$(t*2,.1125,.45):.5+.5*B$(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Oy.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Oy.easeInBounce(t*2)*.5:Oy.easeOutBounce(t*2-1)*.5+.5};function jQ(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function U$(t){return jQ(t)?t:new Ub(t)}function n6(t){return jQ(t)?t:new Ub(t).saturate(.5).darken(.1).hexString()}const jFe=["x","y","borderWidth","radius","tension"],NFe=["color","borderColor","backgroundColor"];function SFe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:NFe},numbers:{type:"number",properties:jFe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function _Fe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const z$=new Map;function AFe(t,e){e=e||{};const r=t+JSON.stringify(e);let s=z$.get(r);return s||(s=new Intl.NumberFormat(t,e),z$.set(r,s)),s}function YP(t,e,r){return AFe(e,r).format(t)}const CFe={values(t){return Va(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const s=this.chart.options.locale;let a,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=kFe(t,r)}const o=xQ(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),YP(t,s,c)}};function kFe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var NQ={formatters:CFe};function EFe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:NQ.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rp=Object.create(null),hT=Object.create(null);function Iy(t,e){if(!e)return t;const r=e.split(".");for(let s=0,a=r.length;s<a;++s){const i=r[s];t=t[i]||(t[i]=Object.create(null))}return t}function s6(t,e,r){return typeof e=="string"?zb(Iy(t,e),r):zb(Iy(t,""),e)}class TFe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>n6(a.backgroundColor),this.hoverBorderColor=(s,a)=>n6(a.borderColor),this.hoverColor=(s,a)=>n6(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return s6(this,e,r)}get(e){return Iy(this,e)}describe(e,r){return s6(hT,e,r)}override(e,r){return s6(rp,e,r)}route(e,r,s,a){const i=Iy(this,e),o=Iy(this,s),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return Cn(c)?Object.assign({},d,c):_n(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var ja=new TFe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[SFe,_Fe,EFe]);function MFe(t){return!t||ys(t.size)||ys(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function $$(t,e,r,s,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>s&&(s=i),s}function nm(t,e,r){const s=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*s)/s+a}function H$(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function W$(t,e,r,s){SQ(t,e,r,s,null)}function SQ(t,e,r,s,a){let i,o,l,c,d,u,h,m;const f=e.pointStyle,x=e.rotation,v=e.radius;let g=(x||0)*cFe;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,s),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),f){default:a?t.ellipse(r,s,a/2,v,0,0,La):t.arc(r,s,v,0,La),t.closePath();break;case"triangle":u=a?a/2:v,t.moveTo(r+Math.sin(g)*u,s-Math.cos(g)*v),g+=R$,t.lineTo(r+Math.sin(g)*u,s-Math.cos(g)*v),g+=R$,t.lineTo(r+Math.sin(g)*u,s-Math.cos(g)*v),t.closePath();break;case"rectRounded":d=v*.516,c=v-d,o=Math.cos(g+rm)*c,h=Math.cos(g+rm)*(a?a/2-d:c),l=Math.sin(g+rm)*c,m=Math.sin(g+rm)*(a?a/2-d:c),t.arc(r-h,s-l,d,g-gs,g-Ka),t.arc(r+m,s-o,d,g-Ka,g),t.arc(r+h,s+l,d,g,g+Ka),t.arc(r-m,s+o,d,g+Ka,g+gs),t.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*v,u=a?a/2:c,t.rect(r-u,s-c,2*u,2*c);break}g+=rm;case"rectRot":h=Math.cos(g)*(a?a/2:v),o=Math.cos(g)*v,l=Math.sin(g)*v,m=Math.sin(g)*(a?a/2:v),t.moveTo(r-h,s-l),t.lineTo(r+m,s-o),t.lineTo(r+h,s+l),t.lineTo(r-m,s+o),t.closePath();break;case"crossRot":g+=rm;case"cross":h=Math.cos(g)*(a?a/2:v),o=Math.cos(g)*v,l=Math.sin(g)*v,m=Math.sin(g)*(a?a/2:v),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+m,s-o),t.lineTo(r-m,s+o);break;case"star":h=Math.cos(g)*(a?a/2:v),o=Math.cos(g)*v,l=Math.sin(g)*v,m=Math.sin(g)*(a?a/2:v),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+m,s-o),t.lineTo(r-m,s+o),g+=rm,h=Math.cos(g)*(a?a/2:v),o=Math.cos(g)*v,l=Math.sin(g)*v,m=Math.sin(g)*(a?a/2:v),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+m,s-o),t.lineTo(r-m,s+o);break;case"line":o=a?a/2:Math.cos(g)*v,l=Math.sin(g)*v,t.moveTo(r-o,s-l),t.lineTo(r+o,s+l);break;case"dash":t.moveTo(r,s),t.lineTo(r+Math.cos(g)*(a?a/2:v),s+Math.sin(g)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _Q(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function KP(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function JP(t){t.restore()}function PFe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ys(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function DFe(t,e,r,s,a){if(a.strikethrough||a.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function RFe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Hb(t,e,r,s,a,i={}){const o=Va(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,PFe(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&RFe(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ys(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,s,i.maxWidth)),t.fillText(d,r,s,i.maxWidth),DFe(t,r,s,d,i),s+=Number(a.lineHeight);t.restore()}function MN(t,e){const{x:r,y:s,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,s+o.topLeft,o.topLeft,1.5*gs,gs,!0),t.lineTo(r,s+i-o.bottomLeft),t.arc(r+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,gs,Ka,!0),t.lineTo(r+a-o.bottomRight,s+i),t.arc(r+a-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Ka,0,!0),t.lineTo(r+a,s+o.topRight),t.arc(r+a-o.topRight,s+o.topRight,o.topRight,0,-Ka,!0),t.lineTo(r+o.topLeft,s)}const LFe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OFe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IFe(t,e){const r=(""+t).match(LFe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const FFe=t=>+t||0;function QP(t,e){const r={},s=Cn(e),a=s?Object.keys(e):e,i=Cn(t)?s?o=>_n(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=FFe(i(o));return r}function AQ(t){return QP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ox(t){return QP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function jc(t){const e=AQ(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function no(t,e){t=t||{},e=e||ja.font;let r=_n(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let s=_n(t.style,e.style);s&&!(""+s).match(OFe)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:_n(t.family,e.family),lineHeight:IFe(_n(t.lineHeight,e.lineHeight),r),size:r,style:s,weight:_n(t.weight,e.weight),string:""};return a.string=MFe(a),a}function yw(t,e,r,s){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function BFe(t,e,r){const{min:s,max:a}=t,i=mQ(e,(a-s)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(a,i)}}function Qg(t,e){return Object.assign(Object.create(t),e)}function ZP(t,e=[""],r,s,a=()=>t[0]){const i=r||t;typeof s>"u"&&(s=TQ("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:a,override:l=>ZP([l,...t],e,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return kQ(l,c,()=>VFe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return G$(l).includes(c)},ownKeys(l){return G$(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function Cg(t,e,r,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:CQ(t,s),setContext:i=>Cg(t,i,r,s),override:i=>Cg(t.override(i),e,r,s)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return kQ(i,o,()=>zFe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function CQ(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:s,isScriptable:n0(r)?r:()=>r,isIndexable:n0(s)?s:()=>s}}const UFe=(t,e)=>t?t+GP(e):e,e8=(t,e)=>Cn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function kQ(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=r();return t[e]=s,s}function zFe(t,e,r){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=t;let l=s[e];return n0(l)&&o.isScriptable(e)&&(l=$Fe(e,l,t,r)),Va(l)&&l.length&&(l=HFe(e,l,t,o.isIndexable)),e8(e,l)&&(l=Cg(l,a,i&&i[e],o)),l}function $Fe(t,e,r,s){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||s);return l.delete(t),e8(t,c)&&(c=t8(a._scopes,a,t,c)),c}function HFe(t,e,r,s){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(Cn(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=t8(d,a,t,u);e.push(Cg(h,i,o&&o[t],l))}}return e}function EQ(t,e,r){return n0(t)?t(e,r):t}const WFe=(t,e)=>t===!0?e:typeof t=="string"?tp(e,t):void 0;function qFe(t,e,r,s,a){for(const i of e){const o=WFe(r,i);if(o){t.add(o);const l=EQ(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==s)return l}else if(o===!1&&typeof s<"u"&&r!==s)return null}return!1}function t8(t,e,r,s){const a=e._rootScopes,i=EQ(e._fallback,r,s),o=[...t,...a],l=new Set;l.add(s);let c=q$(l,o,r,i||r,s);return c===null||typeof i<"u"&&i!==r&&(c=q$(l,o,i,c,s),c===null)?!1:ZP(Array.from(l),[""],a,i,()=>GFe(e,r,s))}function q$(t,e,r,s,a){for(;r;)r=qFe(t,e,r,s,a);return r}function GFe(t,e,r){const s=t._getTarget();e in s||(s[e]={});const a=s[e];return Va(a)&&Cn(r)?r:a||{}}function VFe(t,e,r,s){let a;for(const i of e)if(a=TQ(UFe(i,t),r),typeof a<"u")return e8(t,a)?t8(r,s,t,a):a}function TQ(t,e){for(const r of e){if(!r)continue;const s=r[t];if(typeof s<"u")return s}}function G$(t){let e=t._keys;return e||(e=t._keys=XFe(t._scopes)),e}function XFe(t){const e=new Set;for(const r of t)for(const s of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}function r8(){return typeof window<"u"&&typeof document<"u"}function n8(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function PN(t,e,r){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[r])):s=t,s}const B5=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function YFe(t,e){return B5(t).getPropertyValue(e)}const KFe=["top","right","bottom","left"];function Im(t,e,r){const s={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=KFe[a];s[i]=parseFloat(t[e+"-"+i+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const JFe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function QFe(t,e){const r=t.touches,s=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=s;let o=!1,l,c;if(JFe(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function um(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:s}=e,a=B5(r),i=a.boxSizing==="border-box",o=Im(a,"padding"),l=Im(a,"border","width"),{x:c,y:d,box:u}=QFe(t,r),h=o.left+(u&&l.left),m=o.top+(u&&l.top);let{width:f,height:x}=e;return i&&(f-=o.width+l.width,x-=o.height+l.height),{x:Math.round((c-h)/f*r.width/s),y:Math.round((d-m)/x*r.height/s)}}function ZFe(t,e,r){let s,a;if(e===void 0||r===void 0){const i=t&&n8(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=B5(i),c=Im(l,"border","width"),d=Im(l,"padding");e=o.width-d.width-c.width,r=o.height-d.height-c.height,s=PN(l.maxWidth,i,"clientWidth"),a=PN(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:s||kN,maxHeight:a||kN}}const Bf=t=>Math.round(t*10)/10;function e7e(t,e,r,s){const a=B5(t),i=Im(a,"margin"),o=PN(a.maxWidth,t,"clientWidth")||kN,l=PN(a.maxHeight,t,"clientHeight")||kN,c=ZFe(t,e,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const m=Im(a,"border","width"),f=Im(a,"padding");d-=f.width+m.width,u-=f.height+m.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=Bf(Math.min(d,o,c.maxWidth)),u=Bf(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Bf(d/2)),(e!==void 0||r!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=Bf(Math.floor(u*s))),{width:d,height:u}}function V$(t,e,r){const s=e||1,a=Bf(t.height*s),i=Bf(t.width*s);t.height=Bf(t.height),t.width=Bf(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=s,o.height=a,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const t7e=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};r8()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function X$(t,e){const r=YFe(t,e),s=r&&r.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const r7e=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,s){return r-s},leftForLtr(r,s){return r-s}}},n7e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ix(t,e,r){return t?r7e(e,r):n7e()}function MQ(t,e){let r,s;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,s=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=s)}function PQ(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function bw(t,e,r){return t.options.clip?t[r]:e[r]}function s7e(t,e){const{xScale:r,yScale:s}=t;return r&&s?{left:bw(r,e,"left"),right:bw(r,e,"right"),top:bw(s,e,"top"),bottom:bw(s,e,"bottom")}:e}function a7e(t,e){const r=e._clip;if(r.disabled)return!1;const s=s7e(e,t.chartArea);return{left:r.left===!1?0:s.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:s.right+(r.right===!0?0:r.right),top:r.top===!1?0:s.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:s.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class i7e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,s,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(s-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=bQ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,s,e,"progress")),i.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let s=r.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,s)),s}listen(e,r,s){this._getAnims(e).listeners[r].push(s)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const s=r.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ih=new i7e;const Y$="transparent",o7e={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const s=U$(t||Y$),a=s.valid&&U$(e||Y$);return a&&a.valid?a.mix(s,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class l7e{constructor(e,r,s,a){const i=r[s];a=yw([e.to,a,i,e.from]);const o=yw([e.from,i,a]);this._active=!0,this._fn=e.fn||o7e[e.type||typeof o],this._easing=Oy[e.easing]||Oy.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=s,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=yw([e.to,r,a,e.from]),this._from=yw([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,s=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<s),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,s)=>{e.push({res:r,rej:s})})}_notify(e){const r=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][r]()}}class DQ{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Cn(e))return;const r=Object.keys(ja.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!Cn(i))return;const o={};for(const l of r)o[l]=i[l];(Va(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!s.has(l))&&s.set(l,o)})})}_animateOptions(e,r){const s=r.options,a=d7e(e,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&c7e(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,r){const s=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,r));continue}const u=r[d];let h=i[d];const m=s.get(d);if(h)if(m&&h.active()){h.update(m,u,l);continue}else h.cancel();if(!m||!m.duration){e[d]=u;continue}i[d]=h=new l7e(m,e,d,u),a.push(h)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const s=this._createAnimations(e,r);if(s.length)return ih.add(this._chart,s),!0}}function c7e(t,e){const r=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const i=t[s[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function d7e(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function K$(t,e){const r=t&&t.options||{},s=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:s?i:a,end:s?a:i}}function u7e(t,e,r){if(r===!1)return!1;const s=K$(t,r),a=K$(e,r);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function h7e(t){let e,r,s,a;return Cn(t)?(e=t.top,r=t.right,s=t.bottom,a=t.left):e=r=s=a=t,{top:e,right:r,bottom:s,left:a,disabled:t===!1}}function RQ(t,e){const r=[],s=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=s.length;a<i;++a)r.push(s[a].index);return r}function J$(t,e,r,s={}){const a=t.keys,i=s.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,s.all)continue;break}d=t.values[c],wc(d)&&(i||e===0||Xf(e)===Xf(d))&&(e+=d)}return!u&&!s.all?0:e}function f7e(t,e){const{iScale:r,vScale:s}=e,a=r.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function a6(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function m7e(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function p7e(t){const{min:e,max:r,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function x7e(t,e,r){const s=t[e]||(t[e]={});return s[r]||(s[r]={})}function Q$(t,e,r,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function Z$(t,e){const{chart:r,_cachedMeta:s}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,d=o.axis,u=m7e(i,o,s),h=e.length;let m;for(let f=0;f<h;++f){const x=e[f],{[c]:v,[d]:g}=x,b=x._stacks||(x._stacks={});m=b[d]=x7e(a,u,v),m[l]=g,m._top=Q$(m,o,!0,s.type),m._bottom=Q$(m,o,!1,s.type);const N=m._visualValues||(m._visualValues={});N[l]=g}}function i6(t,e){const r=t.scales;return Object.keys(r).filter(s=>r[s].axis===e).shift()}function g7e(t,e){return Qg(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function v7e(t,e,r){return Qg(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Xv(t,e){const r=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[s]===void 0||i[s][r]===void 0)return;delete i[s][r],i[s]._visualValues!==void 0&&i[s]._visualValues[r]!==void 0&&delete i[s]._visualValues[r]}}}const o6=t=>t==="reset"||t==="none",eH=(t,e)=>e?t:Object.assign({},t),y7e=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:RQ(r,!0),values:null};class Fx{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=a6(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Xv(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,s=this.getDataset(),a=(h,m,f,x)=>h==="x"?m:h==="r"?x:f,i=r.xAxisID=_n(s.xAxisID,i6(e,"x")),o=r.yAxisID=_n(s.yAxisID,i6(e,"y")),l=r.rAxisID=_n(s.rAxisID,i6(e,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&I$(this._data,this),e._stacked&&Xv(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),s=this._data;if(Cn(r)){const a=this._cachedMeta;this._data=f7e(r,a)}else if(s!==r){if(s){I$(s,this);const a=this._cachedMeta;Xv(a),a._parsed=[]}r&&Object.isExtensible(r)&&yFe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=a6(r.vScale,r),r.stack!==s.stack&&(a=!0,Xv(r),r.stack=s.stack),this._resyncElements(e),(a||i!==r._stacked)&&(Z$(this,r._parsed),r._stacked=a6(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=e===0&&r===a.length?!0:s._sorted,d=e>0&&s._parsed[e-1],u,h,m;if(this._parsing===!1)s._parsed=a,s._sorted=!0,m=a;else{Va(a[e])?m=this.parseArrayData(s,a,e,r):Cn(a[e])?m=this.parseObjectData(s,a,e,r):m=this.parsePrimitiveData(s,a,e,r);const f=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<r;++u)s._parsed[u+e]=h=m[u],c&&(f()&&(c=!1),d=h);s._sorted=c}o&&Z$(this,m)}parsePrimitiveData(e,r,s,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(a);let m,f,x;for(m=0,f=a;m<f;++m)x=m+s,h[m]={[l]:u||i.parse(d[x],x),[c]:o.parse(r[x],x)};return h}parseArrayData(e,r,s,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+s,h=r[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,r,s,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,m,f;for(u=0,h=a;u<h;++u)m=u+s,f=r[m],d[u]={x:i.parse(tp(f,l),m),y:o.parse(tp(f,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,s){const a=this.chart,i=this._cachedMeta,o=r[e.axis],l={keys:RQ(a,!0),values:r._stacks[e.axis]._visualValues};return J$(l,o,i.index,{mode:s})}updateRangeFromParsed(e,r,s,a){const i=s[r.axis];let o=i===null?NaN:i;const l=a&&s._stacks[r.axis];a&&l&&(a.values=l,o=J$(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&e===s.iScale,o=a.length,l=this._getOtherScale(e),c=y7e(r,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=p7e(l);let m,f;function x(){f=a[m];const v=f[l.axis];return!wc(f[e.axis])||u>v||h<v}for(m=0;m<o&&!(!x()&&(this.updateRangeFromParsed(d,e,f,c),i));++m);if(i){for(m=o-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,s=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],wc(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,s=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=h7e(_n(this.options.clip,u7e(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,s=this._cachedMeta,a=s.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,r){const s=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,r,s){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=v7e(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=g7e(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",s){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,l=i[o],c=this.enableOptionSharing&&$b(s);if(l)return eH(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=a?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),f=Object.keys(ja.elements[e]),x=()=>this.getContext(s,a,r),v=d.resolveNamedOptions(m,f,x,h);return v.$shared&&(v.$shared=c,i[o]=Object.freeze(eH(v,c))),v}_resolveAnimations(e,r,s){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(e,s,r))}const d=new DQ(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||o6(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const s=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,s),{sharedOptions:i,includeOptions:o}}updateElement(e,r,s,a){o6(a)?Object.assign(e,s):this._resolveAnimations(r,a).update(e,s)}updateSharedOptions(e,r,s){e&&!o6(r)&&this._resolveAnimations(void 0,r).update(e,s)}_setStyle(e,r,s,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,s,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,r,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=s.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,s=!0){const a=this._cachedMeta,i=a.data,o=e+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),s&&this.updateElements(i,e,r,"reset")}updateElements(e,r,s,a){}_removeElements(e,r){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,r);s._stacked&&Xv(s,a)}s.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,s,a]=e;this[r](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Zt(Fx,"defaults",{}),Zt(Fx,"datasetElementType",null),Zt(Fx,"dataElementType",null);function b7e(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let s=[];for(let a=0,i=r.length;a<i;a++)s=s.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=yQ(s.sort((a,i)=>a-i))}return t._cache.$bar}function w7e(t){const e=t.iScale,r=b7e(e,t.type);let s=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||($b(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return s}function j7e(t,e,r,s){const a=r.barThickness;let i,o;return ys(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function N7e(t,e,r,s){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:r.barPercentage,start:d}}function S7e(t,e,r,s){const a=r.parse(t[0],s),i=r.parse(t[1],s),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function LQ(t,e,r,s){return Va(t)?S7e(t,e,r,s):e[r.axis]=r.parse(t,s),e}function tH(t,e,r,s){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,h,m;for(d=r,u=r+s;d<u;++d)m=e[d],h={},h[a.axis]=l||a.parse(o[d],d),c.push(LQ(m,h,i,d));return c}function l6(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function _7e(t,e,r){return t!==0?Xf(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function A7e(t){let e,r,s,a,i;return t.horizontal?(e=t.base>t.x,r="left",s="right"):(e=t.base<t.y,r="bottom",s="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:s,reverse:e,top:a,bottom:i}}function C7e(t,e,r,s){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=A7e(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===s?a=d:(r._bottom||0)===s?a=u:(i[rH(u,o,l,c)]=!0,a=d)),i[rH(a,o,l,c)]=!0,t.borderSkipped=i}function rH(t,e,r,s){return s?(t=k7e(t,e,r),t=nH(t,r,e)):t=nH(t,e,r),t}function k7e(t,e,r){return t===e?r:t===r?e:t}function nH(t,e,r){return t==="start"?e:t==="end"?r:t}function E7e(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Gw extends Fx{parsePrimitiveData(e,r,s,a){return tH(e,r,s,a)}parseArrayData(e,r,s,a){return tH(e,r,s,a)}parseObjectData(e,r,s,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let m,f,x,v;for(m=s,f=s+a;m<f;++m)v=r[m],x={},x[i.axis]=i.parse(tp(v,d),m),h.push(LQ(tp(v,u),x,o,m));return h}updateRangeFromParsed(e,r,s,a){super.updateRangeFromParsed(e,r,s,a);const i=s._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:s,vScale:a}=r,i=this.getParsed(e),o=i._custom,l=l6(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,s,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(r,a);for(let f=r;f<r+s;f++){const x=this.getParsed(f),v=i||ys(x[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,u),b=(x._stacks||{})[l.axis],N={horizontal:d,base:v.base,enableBorderRadius:!b||l6(x._custom)||o===b._top||o===b._bottom,x:d?v.head:g.center,y:d?g.center:v.head,height:d?g.size:Math.abs(v.size),width:d?Math.abs(v.size):g.size};m&&(N.options=h||this.resolveDataElementOptions(f,e[f].active?"active":a));const w=N.options||e[f].options;C7e(N,w,b,o),E7e(N,w,u.ratio),this.updateElement(e[f],f,N,a)}}_getStacks(e,r){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[s.axis],d=u=>{const h=u._parsed.find(f=>f[s.axis]===c),m=h&&h[u.vScale.axis];if(ys(m)||isNaN(m))return!0};for(const u of a)if(!(r!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[_n(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,s){const a=this._getStacks(e,s),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,s=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||w7e(r),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:s,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=l6(d);let h=c[r.axis],m=0,f=s?this.applyStack(r,c,s):h,x,v;f!==h&&(m=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&Xf(h)!==Xf(d.barEnd)&&(m=0),m+=h);const g=!ys(i)&&!u?i:m;let b=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?x=r.getPixelForValue(m+f):x=b,v=x-b,Math.abs(v)<o){v=_7e(v,r,l)*o,h===l&&(b-=v/2);const N=r.getPixelForDecimal(0),w=r.getPixelForDecimal(1),A=Math.min(N,w),j=Math.max(N,w);b=Math.max(Math.min(b,j),A),x=b+v,s&&!u&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(x)-r.getValueForPixel(b))}if(b===r.getPixelForValue(l)){const N=Xf(v)*r.getLineWidthForValue(l)/2;b+=N,v-=N}return{size:v,base:b,head:x,center:x+v/2}}_calculateBarIndexPixels(e,r){const s=r.scale,a=this.options,i=a.skipNull,o=_n(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,h=a.barThickness==="flex"?N7e(e,r,a,u*d):j7e(e,r,a,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(_n(m,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;l=h.start+h.chunk*x+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,s=e.data,a=s.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}Zt(Gw,"id","bar"),Zt(Gw,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Zt(Gw,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function T7e(t,e,r){let s=1,a=1,i=0,o=0;if(e<La){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),m=Math.sin(c),f=(w,A,j)=>TN(w,l,c,!0)?1:Math.max(A,A*r,j,j*r),x=(w,A,j)=>TN(w,l,c,!0)?-1:Math.min(A,A*r,j,j*r),v=f(0,d,h),g=f(Ka,u,m),b=x(gs,d,h),N=x(gs+Ka,u,m);s=(v-b)/2,a=(g-N)/2,i=-(v+b)/2,o=-(g+N)/2}return{ratioX:s,ratioY:a,offsetX:i,offsetY:o}}class dy extends Fx{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let i=c=>+s[c];if(Cn(s[e])){const{key:c="value"}=this._parsing;i=d=>+tp(s[d],c)}let o,l;for(o=e,l=e+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return vh(this.options.rotation-90)}_getCircumference(){return vh(this.options.circumference)}_getRotationExtents(){let e=La,r=-La;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:s}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(nFe(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:x,offsetY:v}=T7e(h,u,c),g=(s.width-o)/m,b=(s.height-o)/f,N=Math.max(Math.min(g,b)/2,0),w=mQ(this.options.radius,N),A=Math.max(w*c,0),j=(w-A)/this._getVisibleDatasetWeightTotal();this.offsetX=x*w,this.offsetY=v*w,a.total=this.calculateTotal(),this.outerRadius=w-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const s=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/La)}updateElements(e,r,s,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=i&&d.animateScale,f=m?0:this.innerRadius,x=m?0:this.outerRadius,{sharedOptions:v,includeOptions:g}=this._getSharedOptions(r,a);let b=this._getRotation(),N;for(N=0;N<r;++N)b+=this._circumference(N,i);for(N=r;N<r+s;++N){const w=this._circumference(N,i),A=e[N],j={x:u+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:x,innerRadius:f};g&&(j.options=v||this.resolveDataElementOptions(N,A.active?"active":a)),b+=w,this.updateElement(A,N,j,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let s=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?La*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=YP(r._parsed[e],s.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const s=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=s.data.datasets.length;a<i;++a)if(s.isDatasetVisible(a)){o=s.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let s=0,a=e.length;s<a;++s){const i=this.resolveDataElementOptions(s);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(r+=this._getRingWeight(s));return r}_getRingWeight(e){return Math.max(_n(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Zt(dy,"id","doughnut"),Zt(dy,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Zt(dy,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Zt(dy,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:a,pointStyle:s,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(e,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}}}});class fT extends dy{}Zt(fT,"id","pie"),Zt(fT,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function sm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class s8{constructor(e){Zt(this,"options");this.options=e||{}}static override(e){Object.assign(s8.prototype,e)}init(){}formats(){return sm()}parse(){return sm()}format(){return sm()}add(){return sm()}diff(){return sm()}startOf(){return sm()}endOf(){return sm()}}var M7e={_date:s8};function P7e(t,e,r,s){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?gFe:uT;if(s){if(a._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const m=d(i,e,r-h),f=d(i,e,r+h);return{lo:m.lo,hi:f.hi}}}}else{const u=d(i,e,r);if(c){const{vScale:h}=a._cachedMeta,{_parsed:m}=t,f=m.slice(0,u.lo+1).reverse().findIndex(v=>!ys(v[h.axis]));u.lo-=Math.max(0,f);const x=m.slice(u.hi).findIndex(v=>!ys(v[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:i.length-1}}function U5(t,e,r,s,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:m}=P7e(i[l],e,o,a);for(let f=h;f<=m;++f){const x=u[f];x.skip||s(x,d,f)}}}function D7e(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(s,a){const i=e?Math.abs(s.x-a.x):0,o=r?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function c6(t,e,r,s,a){const i=[];return!a&&!t.isPointInArea(e)||U5(t,r,e,function(l,c,d){!a&&!_Q(l,t.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function R7e(t,e,r,s){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=gQ(o,{x:e.x,y:e.y});TN(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return U5(t,r,e,i),a}function L7e(t,e,r,s,a,i){let o=[];const l=D7e(r);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const f=u.inRange(e.x,e.y,a);if(s&&!f)return;const x=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(x))&&!f)return;const g=l(e,x);g<c?(o=[{element:u,datasetIndex:h,index:m}],c=g):g===c&&o.push({element:u,datasetIndex:h,index:m})}return U5(t,r,e,d),o}function d6(t,e,r,s,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!s?R7e(t,e,r,a):L7e(t,e,r,s,a,i)}function sH(t,e,r,s,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return U5(t,r,e,(c,d,u)=>{c[o]&&c[o](e[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),s&&!l?[]:i}var O7e={modes:{index(t,e,r,s){const a=um(e,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?c6(t,a,i,s,o):d6(t,a,i,!1,s,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,s){const a=um(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?c6(t,a,i,s,o):d6(t,a,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,r,s){const a=um(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return c6(t,a,i,s,o)},nearest(t,e,r,s){const a=um(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return d6(t,a,i,r.intersect,s,o)},x(t,e,r,s){const a=um(e,t);return sH(t,a,"x",r.intersect,s)},y(t,e,r,s){const a=um(e,t);return sH(t,a,"y",r.intersect,s)}}};const OQ=["left","top","right","bottom"];function Yv(t,e){return t.filter(r=>r.pos===e)}function aH(t,e){return t.filter(r=>OQ.indexOf(r.pos)===-1&&r.box.axis===e)}function Kv(t,e){return t.sort((r,s)=>{const a=e?s:r,i=e?r:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function I7e(t){const e=[];let r,s,a,i,o,l;for(r=0,s=(t||[]).length;r<s;++r)a=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function F7e(t){const e={};for(const r of t){const{stack:s,pos:a,stackWeight:i}=r;if(!s||!OQ.includes(a))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function B7e(t,e){const r=F7e(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&e.availableWidth,l.height=a):(l.width=s,l.height=u?u*a:c&&e.availableHeight)}return r}function U7e(t){const e=I7e(t),r=Kv(e.filter(d=>d.box.fullSize),!0),s=Kv(Yv(e,"left"),!0),a=Kv(Yv(e,"right")),i=Kv(Yv(e,"top"),!0),o=Kv(Yv(e,"bottom")),l=aH(e,"x"),c=aH(e,"y");return{fullSize:r,leftAndTop:s.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:Yv(e,"chartArea"),vertical:s.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function iH(t,e,r,s){return Math.max(t[r],e[r])+Math.max(t[s],e[s])}function IQ(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function z7e(t,e,r,s){const{pos:a,box:i}=r,o=t.maxPadding;if(!Cn(a)){r.size&&(t[a]-=r.size);const h=s[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,t[a]+=r.size}i.getPadding&&IQ(o,i.getPadding());const l=Math.max(0,e.outerWidth-iH(o,t,"left","right")),c=Math.max(0,e.outerHeight-iH(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function $7e(t){const e=t.maxPadding;function r(s){const a=Math.max(e[s]-t[s],0);return t[s]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function H7e(t,e){const r=e.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return s(t?["left","right"]:["top","bottom"])}function uy(t,e,r,s){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,H7e(l.horizontal,e));const{same:h,other:m}=z7e(e,r,l,s);d|=h&&a.length,u=u||m,c.fullSize||a.push(l)}return d&&uy(a,e,r,s)||u}function ww(t,e,r,s,a){t.top=r,t.left=e,t.right=e+s,t.bottom=r+a,t.width=s,t.height=a}function oH(t,e,r,s){const a=r.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=s[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,m=d.size||c.height;$b(d.start)&&(o=d.start),c.fullSize?ww(c,a.left,o,r.outerWidth-a.right-a.left,m):ww(c,e.left+d.placed,o,h,m),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,m=d.size||c.width;$b(d.start)&&(i=d.start),c.fullSize?ww(c,i,a.top,m,r.outerHeight-a.bottom-a.top):ww(c,i,e.top+d.placed,m,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var hc={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,s){if(!t)return;const a=jc(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),l=U7e(t.boxes),c=l.vertical,d=l.horizontal;Zn(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=c.reduce((v,g)=>g.box.options&&g.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},a);IQ(m,jc(s));const f=Object.assign({maxPadding:m,w:i,h:o,x:a.left,y:a.top},a),x=B7e(c.concat(d),h);uy(l.fullSize,f,h,x),uy(c,f,h,x),uy(d,f,h,x)&&uy(c,f,h,x),$7e(f),oH(l.leftAndTop,f,h,x),f.x+=f.w,f.y+=f.h,oH(l.rightAndBottom,f,h,x),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Zn(l.chartArea,v=>{const g=v.box;Object.assign(g,t.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class FQ{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,s){}removeEventListener(e,r,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,s,a){return r=Math.max(0,r||e.width),s=s||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):s)}}isAttached(e){return!0}updateConfig(e){}}class W7e extends FQ{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Vw="$chartjs",q7e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lH=t=>t===null||t==="";function G7e(t,e){const r=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[Vw]={initial:{height:s,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",lH(a)){const i=X$(t,"width");i!==void 0&&(t.width=i)}if(lH(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=X$(t,"height");i!==void 0&&(t.height=i)}return t}const BQ=t7e?{passive:!0}:!1;function V7e(t,e,r){t&&t.addEventListener(e,r,BQ)}function X7e(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,BQ)}function Y7e(t,e){const r=q7e[t.type]||t.type,{x:s,y:a}=um(t,e);return{type:r,chart:e,native:t,x:s!==void 0?s:null,y:a!==void 0?a:null}}function DN(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function K7e(t,e,r){const s=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||DN(l.addedNodes,s),o=o&&!DN(l.removedNodes,s);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function J7e(t,e,r){const s=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||DN(l.removedNodes,s),o=o&&!DN(l.addedNodes,s);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Wb=new Map;let cH=0;function UQ(){const t=window.devicePixelRatio;t!==cH&&(cH=t,Wb.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Q7e(t,e){Wb.size||window.addEventListener("resize",UQ),Wb.set(t,e)}function Z7e(t){Wb.delete(t),Wb.size||window.removeEventListener("resize",UQ)}function eBe(t,e,r){const s=t.canvas,a=s&&n8(s);if(!a)return;const i=wQ((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),Q7e(t,i),o}function u6(t,e,r){r&&r.disconnect(),e==="resize"&&Z7e(t)}function tBe(t,e,r){const s=t.canvas,a=wQ(i=>{t.ctx!==null&&r(Y7e(i,t))},t);return V7e(s,e,a),a}class rBe extends FQ{acquireContext(e,r){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(G7e(e,r),s):null}releaseContext(e){const r=e.canvas;if(!r[Vw])return!1;const s=r[Vw].initial;["height","width"].forEach(i=>{const o=s[i];ys(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=s.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[Vw],!0}addEventListener(e,r,s){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:K7e,detach:J7e,resize:eBe}[r]||tBe;a[r]=o(e,r,s)}removeEventListener(e,r){const s=e.$proxies||(e.$proxies={}),a=s[r];if(!a)return;({attach:u6,detach:u6,resize:u6}[r]||X7e)(e,r,a),s[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,s,a){return e7e(e,r,s,a)}isAttached(e){const r=e&&n8(e);return!!(r&&r.isConnected)}}function nBe(t){return!r8()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?W7e:rBe}var Ew;let bp=(Ew=class{constructor(){Zt(this,"x");Zt(this,"y");Zt(this,"active",!1);Zt(this,"options");Zt(this,"$animations")}tooltipPosition(e){const{x:r,y:s}=this.getProps(["x","y"],e);return{x:r,y:s}}hasValue(){return EN(this.x)&&EN(this.y)}getProps(e,r){const s=this.$animations;if(!r||!s)return this;const a={};return e.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}},Zt(Ew,"defaults",{}),Zt(Ew,"defaultRoutes"),Ew);function sBe(t,e){const r=t.options.ticks,s=aBe(t),a=Math.min(r.maxTicksLimit||s,s),i=r.major.enabled?oBe(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return lBe(e,d,i,o/a),d;const u=iBe(i,e,a);if(o>0){let h,m;const f=o>1?Math.round((c-l)/(o-1)):null;for(jw(e,d,u,ys(f)?0:l-f,l),h=0,m=o-1;h<m;h++)jw(e,d,u,i[h],i[h+1]);return jw(e,d,u,c,ys(f)?e.length:c+f),d}return jw(e,d,u),d}function aBe(t){const e=t.options.offset,r=t._tickSize(),s=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(s,a))}function iBe(t,e,r){const s=cBe(t),a=e.length/r;if(!s)return Math.max(a,1);const i=dFe(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function oBe(t){const e=[];let r,s;for(r=0,s=t.length;r<s;r++)t[r].major&&e.push(r);return e}function lBe(t,e,r,s){let a=0,i=r[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*s])}function jw(t,e,r,s,a){const i=_n(s,0),o=Math.min(_n(a,t.length),t.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-s,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*r))}function cBe(t){const e=t.length;let r,s;if(e<2)return!1;for(s=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==s)return!1;return s}const dBe=t=>t==="left"?"right":t==="right"?"left":t,dH=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,uH=(t,e)=>Math.min(e||t,t);function hH(t,e){const r=[],s=t.length/e,a=t.length;let i=0;for(;i<a;i+=s)r.push(t[Math.floor(i)]);return r}function uBe(t,e,r){const s=t.ticks.length,a=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(r&&(s===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function hBe(t,e){Zn(t,r=>{const s=r.gc,a=s.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[s[i]];s.splice(0,a)}})}function Jv(t){return t.drawTicks?t.tickLength:0}function fH(t,e){if(!t.display)return 0;const r=no(t.font,e),s=jc(t.padding);return(Va(t.text)?t.text.length:1)*r.lineHeight+s.height}function fBe(t,e){return Qg(t,{scale:e,type:"scale"})}function mBe(t,e,r){return Qg(t,{tick:r,index:e,type:"tick"})}function pBe(t,e,r){let s=XP(t);return(r&&e!=="right"||!r&&e==="right")&&(s=dBe(s)),s}function xBe(t,e,r,s){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,m,f,x;const v=o-a,g=l-i;if(t.isHorizontal()){if(f=Ji(s,i,l),Cn(r)){const b=Object.keys(r)[0],N=r[b];x=u[b].getPixelForValue(N)+v-e}else r==="center"?x=(d.bottom+d.top)/2+v-e:x=dH(t,r,e);m=l-i}else{if(Cn(r)){const b=Object.keys(r)[0],N=r[b];f=u[b].getPixelForValue(N)-g+e}else r==="center"?f=(d.left+d.right)/2-g+e:f=dH(t,r,e);x=Ji(s,o,a),h=r==="left"?-Ka:Ka}return{titleX:f,titleY:x,maxWidth:m,rotation:h}}class Zg extends bp{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:s,_suggestedMax:a}=this;return e=Fd(e,Number.POSITIVE_INFINITY),r=Fd(r,Number.NEGATIVE_INFINITY),s=Fd(s,Number.POSITIVE_INFINITY),a=Fd(a,Number.NEGATIVE_INFINITY),{min:Fd(e,s),max:Fd(r,a),minDefined:wc(e),maxDefined:wc(r)}}getMinMax(e){let{min:r,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(s=Math.max(s,o.max));return r=i&&r>s?s:r,s=a&&r>s?r:s,{min:Fd(r,Fd(s,r)),max:Fd(s,Fd(r,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Os(this.options.beforeUpdate,[this])}update(e,r,s){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=BFe(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?hH(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=sBe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,s;this.isHorizontal()?(r=this.left,s=this.right):(r=this.top,s=this.bottom,e=!e),this._startPixel=r,this._endPixel=s,this._reversePixels=e,this._length=s-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Os(this.options.afterUpdate,[this])}beforeSetDimensions(){Os(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Os(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Os(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Os(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s],i.label=Os(r.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Os(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Os(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,s=uH(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,f=Zo(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/s:f/(s-1),h+6>l&&(l=f/(s-(e.offset?.5:1)),c=this.maxHeight-Jv(e.grid)-r.padding-fH(e.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),o=mFe(Math.min(Math.asin(Zo((u.highest.height+6)/l,-1,1)),Math.asin(Zo(c/d,-1,1))-Math.asin(Zo(m/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Os(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Os(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:s,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=fH(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Jv(i)+c):(e.height=this.maxHeight,e.width=Jv(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),f=s.padding*2,x=vh(this.labelRotation),v=Math.cos(x),g=Math.sin(x);if(l){const b=s.mirror?0:g*h.width+v*m.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=s.mirror?0:v*h.width+g*m.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(d,u,g,v)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,s,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,f=0;c?d?(m=a*e.width,f=s*r.height):(m=s*e.height,f=a*r.width):i==="start"?f=r.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,f=r.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=r.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Os(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,s;for(r=0,s=e.length;r<s;r++)ys(e[r].label)&&(e.splice(r,1),s--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let s=this.ticks;r<s.length&&(s=hH(s,r)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,s){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/uH(r,s));let d=0,u=0,h,m,f,x,v,g,b,N,w,A,j;for(h=0;h<r;h+=c){if(x=e[h].label,v=this._resolveTickFontOptions(h),a.font=g=v.string,b=i[g]=i[g]||{data:{},gc:[]},N=v.lineHeight,w=A=0,!ys(x)&&!Va(x))w=$$(a,b.data,b.gc,w,x),A=N;else if(Va(x))for(m=0,f=x.length;m<f;++m)j=x[m],!ys(j)&&!Va(j)&&(w=$$(a,b.data,b.gc,w,j),A+=N);o.push(w),l.push(A),d=Math.max(w,d),u=Math.max(A,u)}hBe(i,r);const S=o.indexOf(d),E=l.indexOf(u),R=C=>({width:o[C]||0,height:l[C]||0});return{first:R(0),last:R(r-1),widest:R(S),highest:R(E),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return xFe(this._alignToPixels?nm(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const s=r[e];return s.$context||(s.$context=mBe(this.getContext(),e,s))}return this.$context||(this.$context=fBe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=vh(this.labelRotation),s=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*a?l/s:c/a:c*a<l*s?c/s:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,s=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=Jv(i),f=[],x=l.setContext(this.getContext()),v=x.display?x.width:0,g=v/2,b=function(z){return nm(s,z,v)};let N,w,A,j,S,E,R,C,T,k,P,D;if(o==="top")N=b(this.bottom),E=this.bottom-m,C=N-g,k=b(e.top)+g,D=e.bottom;else if(o==="bottom")N=b(this.top),k=e.top,D=b(e.bottom)-g,E=N+g,C=this.top+m;else if(o==="left")N=b(this.right),S=this.right-m,R=N-g,T=b(e.left)+g,P=e.right;else if(o==="right")N=b(this.left),T=e.left,P=b(e.right)-g,S=N+g,R=this.left+m;else if(r==="x"){if(o==="center")N=b((e.top+e.bottom)/2+.5);else if(Cn(o)){const z=Object.keys(o)[0],O=o[z];N=b(this.chart.scales[z].getPixelForValue(O))}k=e.top,D=e.bottom,E=N+g,C=E+m}else if(r==="y"){if(o==="center")N=b((e.left+e.right)/2);else if(Cn(o)){const z=Object.keys(o)[0],O=o[z];N=b(this.chart.scales[z].getPixelForValue(O))}S=N-g,R=S-m,T=e.left,P=e.right}const H=_n(a.ticks.maxTicksLimit,h),F=Math.max(1,Math.ceil(h/H));for(w=0;w<h;w+=F){const z=this.getContext(w),O=i.setContext(z),W=l.setContext(z),ee=O.lineWidth,K=O.color,re=W.dash||[],U=W.dashOffset,Y=O.tickWidth,V=O.tickColor,Z=O.tickBorderDash||[],ce=O.tickBorderDashOffset;A=uBe(this,w,c),A!==void 0&&(j=nm(s,A,ee),d?S=R=T=P=j:E=C=k=D=j,f.push({tx1:S,ty1:E,tx2:R,ty2:C,x1:T,y1:k,x2:P,y2:D,width:ee,color:K,borderDash:re,borderDashOffset:U,tickWidth:Y,tickColor:V,tickBorderDash:Z,tickBorderDashOffset:ce}))}return this._ticksLength=h,this._borderValue=N,f}_computeLabelItems(e){const r=this.axis,s=this.options,{position:a,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,m=Jv(s.grid),f=m+u,x=h?-u:f,v=-vh(this.labelRotation),g=[];let b,N,w,A,j,S,E,R,C,T,k,P,D="middle";if(a==="top")S=this.bottom-x,E=this._getXAxisLabelAlignment();else if(a==="bottom")S=this.top+x,E=this._getXAxisLabelAlignment();else if(a==="left"){const F=this._getYAxisLabelAlignment(m);E=F.textAlign,j=F.x}else if(a==="right"){const F=this._getYAxisLabelAlignment(m);E=F.textAlign,j=F.x}else if(r==="x"){if(a==="center")S=(e.top+e.bottom)/2+f;else if(Cn(a)){const F=Object.keys(a)[0],z=a[F];S=this.chart.scales[F].getPixelForValue(z)+f}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")j=(e.left+e.right)/2-f;else if(Cn(a)){const F=Object.keys(a)[0],z=a[F];j=this.chart.scales[F].getPixelForValue(z)}E=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));const H=this._getLabelSizes();for(b=0,N=l.length;b<N;++b){w=l[b],A=w.label;const F=i.setContext(this.getContext(b));R=this.getPixelForTick(b)+i.labelOffset,C=this._resolveTickFontOptions(b),T=C.lineHeight,k=Va(A)?A.length:1;const z=k/2,O=F.color,W=F.textStrokeColor,ee=F.textStrokeWidth;let K=E;o?(j=R,E==="inner"&&(b===N-1?K=this.options.reverse?"left":"right":b===0?K=this.options.reverse?"right":"left":K="center"),a==="top"?d==="near"||v!==0?P=-k*T+T/2:d==="center"?P=-H.highest.height/2-z*T+T:P=-H.highest.height+T/2:d==="near"||v!==0?P=T/2:d==="center"?P=H.highest.height/2-z*T:P=H.highest.height-k*T,h&&(P*=-1),v!==0&&!F.showLabelBackdrop&&(j+=T/2*Math.sin(v))):(S=R,P=(1-k)*T/2);let re;if(F.showLabelBackdrop){const U=jc(F.backdropPadding),Y=H.heights[b],V=H.widths[b];let Z=P-U.top,ce=0-U.left;switch(D){case"middle":Z-=Y/2;break;case"bottom":Z-=Y;break}switch(E){case"center":ce-=V/2;break;case"right":ce-=V;break;case"inner":b===N-1?ce-=V:b>0&&(ce-=V/2);break}re={left:ce,top:Z,width:V+U.width,height:Y+U.height,color:F.backdropColor}}g.push({label:A,font:C,textOffset:P,options:{rotation:v,color:O,strokeColor:W,strokeWidth:ee,textAlign:K,textBaseline:D,translation:[j,S],backdrop:re}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-vh(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:s,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(s,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=nm(e,this.left,o)-o/2,u=nm(e,this.right,l)+l/2,h=m=c):(h=nm(e,this.top,o)-o/2,m=nm(e,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,h),r.lineTo(u,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&KP(s,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Hb(s,d,0,u,c,l)}a&&JP(s)}drawTitle(){const{ctx:e,options:{position:r,title:s,reverse:a}}=this;if(!s.display)return;const i=no(s.font),o=jc(s.padding),l=s.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||Cn(r)?(c+=o.bottom,Va(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=xBe(this,c,r,l);Hb(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:m,textAlign:pBe(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,s=_n(e.grid&&e.grid.z,-1),a=_n(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Zg.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[s]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return no(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Nw{constructor(e,r,s){this.type=e,this.scope=r,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let s;yBe(r)&&(s=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,gBe(e,o,s),this.override&&ja.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,s=e.id,a=this.scope;s in r&&delete r[s],a&&s in ja[a]&&(delete ja[a][s],this.override&&delete rp[s])}}function gBe(t,e,r){const s=zb(Object.create(null),[r?ja.get(r):{},ja.get(e),t.defaults]);ja.set(e,s),t.defaultRoutes&&vBe(e,t.defaultRoutes),t.descriptors&&ja.describe(e,t.descriptors)}function vBe(t,e){Object.keys(e).forEach(r=>{const s=r.split("."),a=s.pop(),i=[t].concat(s).join("."),o=e[r].split("."),l=o.pop(),c=o.join(".");ja.route(i,a,c,l)})}function yBe(t){return"id"in t&&"defaults"in t}class bBe{constructor(){this.controllers=new Nw(Fx,"datasets",!0),this.elements=new Nw(bp,"elements"),this.plugins=new Nw(Object,"plugins"),this.scales=new Nw(Zg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,s){[...r].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Zn(a,o=>{const l=s||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,r,s){const a=GP(e);Os(s["before"+a],[],s),r[e](s),Os(s["after"+a],[],s)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const s=this._typedRegistries[r];if(s.isForType(e))return s}return this.plugins}_get(e,r,s){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var Hd=new bBe;class wBe{constructor(){this._init=void 0}notify(e,r,s,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,s);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,s,a){a=a||{};for(const i of e){const o=i.plugin,l=o[s],c=[r,a,i.options];if(Os(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){ys(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const s=e&&e.config,a=_n(s.options&&s.options.plugins,{}),i=jBe(s);return a===!1&&!r?[]:SBe(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],s=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,s),e,"stop"),this._notify(a(s,r),e,"start")}}function jBe(t){const e={},r=[],s=Object.keys(Hd.plugins.items);for(let i=0;i<s.length;i++)r.push(Hd.getPlugin(s[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function NBe(t,e){return!e&&t===!1?null:t===!0?{}:t}function SBe(t,{plugins:e,localIds:r},s,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=NBe(s[c],a);d!==null&&i.push({plugin:l,options:_Be(t.config,{plugin:l,local:r[c]},d,o)})}return i}function _Be(t,{plugin:e,local:r},s,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mT(t,e){const r=ja.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function ABe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function CBe(t,e){return t===e?"_index_":"_value_"}function mH(t){if(t==="x"||t==="y"||t==="r")return t}function kBe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function pT(t,...e){if(mH(t))return t;for(const r of e){const s=r.axis||kBe(r.position)||t.length>1&&mH(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function pH(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function EBe(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(r.length)return pH(t,"x",r[0])||pH(t,"y",r[0])}return{}}function TBe(t,e){const r=rp[t.type]||{scales:{}},s=e.scales||{},a=mT(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!Cn(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=pT(o,l,EBe(o,t),ja.scales[l.type]),d=CBe(c,a),u=r.scales||{};i[o]=Ly(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||mT(l,e),u=(rp[l]||{}).scales||{};Object.keys(u).forEach(h=>{const m=ABe(h,c),f=o[m+"AxisID"]||m;i[f]=i[f]||Object.create(null),Ly(i[f],[{axis:m},s[f],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];Ly(l,[ja.scales[l.type],ja.scale])}),i}function zQ(t){const e=t.options||(t.options={});e.plugins=_n(e.plugins,{}),e.scales=TBe(t,e)}function $Q(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function MBe(t){return t=t||{},t.data=$Q(t.data),zQ(t),t}const xH=new Map,HQ=new Set;function Sw(t,e){let r=xH.get(t);return r||(r=e(),xH.set(t,r),HQ.add(r)),r}const Qv=(t,e,r)=>{const s=tp(e,r);s!==void 0&&t.add(s)};class PBe{constructor(e){this._config=MBe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=$Q(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zQ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Sw(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Sw(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Sw(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,s=this.type;return Sw(`${s}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const s=this._scopeCache;let a=s.get(e);return(!a||r)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,r,s){const{options:a,type:i}=this,o=this._cachedScopes(e,s),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(h=>Qv(c,e,h))),u.forEach(h=>Qv(c,a,h)),u.forEach(h=>Qv(c,rp[i]||{},h)),u.forEach(h=>Qv(c,ja,h)),u.forEach(h=>Qv(c,hT,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),HQ.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,rp[r]||{},ja.datasets[r]||{},{type:r},ja,hT]}resolveNamedOptions(e,r,s,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=gH(this._resolverCache,e,a);let c=o;if(RBe(o,r)){i.$shared=!1,s=n0(s)?s():s;const d=this.createResolver(e,s,l);c=Cg(o,s,d)}for(const d of r)i[d]=c[d];return i}createResolver(e,r,s=[""],a){const{resolver:i}=gH(this._resolverCache,e,s);return Cn(r)?Cg(i,r,void 0,a):i}}function gH(t,e,r){let s=t.get(e);s||(s=new Map,t.set(e,s));const a=r.join();let i=s.get(a);return i||(i={resolver:ZP(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},s.set(a,i)),i}const DBe=t=>Cn(t)&&Object.getOwnPropertyNames(t).some(e=>n0(t[e]));function RBe(t,e){const{isScriptable:r,isIndexable:s}=CQ(t);for(const a of e){const i=r(a),o=s(a),l=(o||i)&&t[a];if(i&&(n0(l)||DBe(l))||o&&Va(l))return!0}return!1}var LBe="4.5.1";const OBe=["top","bottom","left","right","chartArea"];function vH(t,e){return t==="top"||t==="bottom"||OBe.indexOf(t)===-1&&e==="x"}function yH(t,e){return function(r,s){return r[t]===s[t]?r[e]-s[e]:r[t]-s[t]}}function bH(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Os(r&&r.onComplete,[t],e)}function IBe(t){const e=t.chart,r=e.options.animation;Os(r&&r.onProgress,[t],e)}function WQ(t){return r8()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Xw={},wH=t=>{const e=WQ(t);return Object.values(Xw).filter(r=>r.canvas===e).pop()};function FBe(t,e,r){const s=Object.keys(t);for(const a of s){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function BBe(t,e,r,s){return!r||t.type==="mouseout"?null:s?e:t}var jf;let ev=(jf=class{static register(...e){Hd.add(...e),jH()}static unregister(...e){Hd.remove(...e),jH()}constructor(e,r){const s=this.config=new PBe(r),a=WQ(e),i=wH(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||nBe(a)),this.platform.updateConfig(s);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=rFe(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wBe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bFe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Xw[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ih.listen(this,"complete",bH),ih.listen(this,"progress",IBe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:s,height:a,_aspectRatio:i}=this;return ys(e)?r&&i?i:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Hd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():V$(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return H$(this.canvas,this.ctx),this}stop(){return ih.stop(this),this}resize(e,r){ih.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,V$(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Os(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Zn(r,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,s=this.scales,a=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=pT(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Zn(i,o=>{const l=o.options,c=l.id,d=pT(c,l),u=_n(l.type,o.dtype);(l.position===void 0||vH(l.position,d)!==vH(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const m=Hd.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,e)}),Zn(a,(o,l)=>{o||delete s[l]}),Zn(s,o=>{hc.configure(this,o,o.options),hc.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,s=e.length;if(e.sort((a,i)=>a.index-i.index),s>r){for(let a=r;a<s;++a)this._destroyDatasetMeta(a);e.splice(r,s-r)}this._sortedMetasets=e.slice(0).sort(yH("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((s,a)=>{r.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=r.length;s<a;s++){const i=r[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||mT(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Hd.getController(l),{datasetElementType:d,dataElementType:u}=ja.datasets[l];Object.assign(c,{dataElementType:Hd.getElement(u),datasetElementType:d&&Hd.getElement(d)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Zn(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const s=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(m),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),a||Zn(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yH("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Zn(this.scales,e=>{hc.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!D$(r,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of r){const o=s==="_removeElements"?-i:i;FBe(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=s(0);for(let i=1;i<r;i++)if(!D$(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;hc.update(this,this.width,this.height,e);const r=this.chartArea,s=r.width<=0||r.height<=0;this._layers=[],Zn(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,s=this.data.datasets.length;r<s;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,s=this.data.datasets.length;r<s;++r)this._updateDataset(r,n0(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ih.has(this)?this.attached&&!ih.running(this)&&ih.start(this):(this.draw(),bH({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,s=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=a7e(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&KP(r,a),e.controller.draw(),a&&JP(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return _Q(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,s,a){const i=O7e.modes[r];return typeof i=="function"?i(this,e,s,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],s=this._metasets;let a=s.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Qg(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!r.hidden}setDatasetVisibility(e,r){const s=this.getDatasetMeta(e);s.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,s){const a=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);$b(r)?(i.data[r].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),ih.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),H$(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Xw[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,s=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Zn(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,s=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){Zn(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Zn(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,s){const a=s?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!AN(s,r)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,r))}notifyPlugins(e,r,s){return this._plugins.notify(this,e,r,s)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,s){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(r,e),l=s?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const s={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(e,r,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(e,r,s){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(e,a,s,o),c=lFe(e),d=BBe(e,this._lastEvent,s,c);s&&(this._lastEvent=null,Os(i.onHover,[e,l,this],this),c&&Os(i.onClick,[e,l,this],this));const u=!AN(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(e,r,s,a){if(e.type==="mouseout")return[];if(!s)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}},Zt(jf,"defaults",ja),Zt(jf,"instances",Xw),Zt(jf,"overrides",rp),Zt(jf,"registry",Hd),Zt(jf,"version",LBe),Zt(jf,"getChart",wH),jf);function jH(){return Zn(ev.instances,t=>t._plugins.invalidate())}function UBe(t,e,r){const{startAngle:s,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,qd(s-r));if(t.beginPath(),t.arc(a,i,o-d/2,s+h/2,r-h/2),l>0){const m=Math.min(d/l,qd(s-r));t.arc(a,i,l+d/2,r-m/2,s+m/2,!0)}else{const m=Math.min(d/2,o*qd(s-r));if(u==="round")t.arc(a,i,m,r-gs/2,s+gs/2,!0);else if(u==="bevel"){const f=2*m*m,x=-f*Math.cos(r+gs/2)+a,v=-f*Math.sin(r+gs/2)+i,g=f*Math.cos(s+gs/2)+a,b=f*Math.sin(s+gs/2)+i;t.lineTo(x,v),t.lineTo(g,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function zBe(t,e,r){const{startAngle:s,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,s-d,r+d),c>a?(d=a/c,t.arc(i,o,c,r+d,s-d,!0)):t.arc(i,o,a,r+Ka,s-Ka),t.closePath(),t.clip()}function $Be(t){return QP(t,["outerStart","outerEnd","innerStart","innerEnd"])}function HBe(t,e,r,s){const a=$Be(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,s*e/2),l=c=>{const d=(r-Math.min(i,c))*s/2;return Zo(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Zo(a.innerStart,0,o),innerEnd:Zo(a.innerEnd,0,o)}}function hx(t,e,r,s){return{x:r+t*Math.cos(e),y:s+t*Math.sin(e)}}function RN(t,e,r,s,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+s+r-d,0),m=u>0?u+s+r+d:0;let f=0;const x=a-c;if(s){const F=u>0?u-s:0,z=h>0?h-s:0,O=(F+z)/2,W=O!==0?x*O/(O+s):x;f=(x-W)/2}const v=Math.max(.001,x*h-r/gs)/h,g=(x-v)/2,b=c+g+f,N=a-g-f,{outerStart:w,outerEnd:A,innerStart:j,innerEnd:S}=HBe(e,m,h,N-b),E=h-w,R=h-A,C=b+w/E,T=N-A/R,k=m+j,P=m+S,D=b+j/k,H=N-S/P;if(t.beginPath(),i){const F=(C+T)/2;if(t.arc(o,l,h,C,F),t.arc(o,l,h,F,T),A>0){const ee=hx(R,T,o,l);t.arc(ee.x,ee.y,A,T,N+Ka)}const z=hx(P,N,o,l);if(t.lineTo(z.x,z.y),S>0){const ee=hx(P,H,o,l);t.arc(ee.x,ee.y,S,N+Ka,H+Math.PI)}const O=(N-S/m+(b+j/m))/2;if(t.arc(o,l,m,N-S/m,O,!0),t.arc(o,l,m,O,b+j/m,!0),j>0){const ee=hx(k,D,o,l);t.arc(ee.x,ee.y,j,D+Math.PI,b-Ka)}const W=hx(E,b,o,l);if(t.lineTo(W.x,W.y),w>0){const ee=hx(E,C,o,l);t.arc(ee.x,ee.y,w,b-Ka,C)}}else{t.moveTo(o,l);const F=Math.cos(C)*h+o,z=Math.sin(C)*h+l;t.lineTo(F,z);const O=Math.cos(T)*h+o,W=Math.sin(T)*h+l;t.lineTo(O,W)}t.closePath()}function WBe(t,e,r,s,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){RN(t,e,r,s,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%La||La))}return RN(t,e,r,s,c,a),t.fill(),c}function qBe(t,e,r,s,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:f}=c,x=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=m,x?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let v=e.endAngle;if(i){RN(t,e,r,s,v,a);for(let g=0;g<i;++g)t.stroke();isNaN(l)||(v=o+(l%La||La))}x&&zBe(t,e,v),c.selfJoin&&v-o>=gs&&f===0&&u!=="miter"&&UBe(t,e,v),i||(RN(t,e,r,s,v,a),t.stroke())}class Sx extends bp{constructor(r){super();Zt(this,"circumference");Zt(this,"endAngle");Zt(this,"fullCircles");Zt(this,"innerRadius");Zt(this,"outerRadius");Zt(this,"pixelMargin");Zt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,s,a){const i=this.getProps(["x","y"],a),{angle:o,distance:l}=gQ(i,{x:r,y:s}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),f=(this.options.spacing+this.options.borderWidth)/2,x=_n(m,d-c),v=TN(o,c,d)&&c!==d,g=x>=La||v,b=_m(l,u+f,h+f);return g&&b}getCenterPoint(r){const{x:s,y:a,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:d,spacing:u}=this.options,h=(i+o)/2,m=(l+c+u+d)/2;return{x:s+Math.cos(h)*m,y:a+Math.sin(h)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:s,circumference:a}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,l=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>La?Math.floor(a/La):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const d=1-Math.sin(Math.min(gs,a||0)),u=i*d;r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,WBe(r,this,u,o,l),qBe(r,this,u,o,l),r.restore()}}Zt(Sx,"id","arc"),Zt(Sx,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Zt(Sx,"defaultRoutes",{backgroundColor:"backgroundColor"}),Zt(Sx,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function qQ(t,e){const{x:r,y:s,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(r,a),c=Math.max(r,a),d=s-h,u=s+h):(h=i/2,l=r-h,c=r+h,d=Math.min(s,a),u=Math.max(s,a)),{left:l,top:d,right:c,bottom:u}}function Uf(t,e,r,s){return t?0:Zo(e,r,s)}function GBe(t,e,r){const s=t.options.borderWidth,a=t.borderSkipped,i=AQ(s);return{t:Uf(a.top,i.top,0,r),r:Uf(a.right,i.right,0,e),b:Uf(a.bottom,i.bottom,0,r),l:Uf(a.left,i.left,0,e)}}function VBe(t,e,r){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=Ox(a),o=Math.min(e,r),l=t.borderSkipped,c=s||Cn(a);return{topLeft:Uf(!c||l.top||l.left,i.topLeft,0,o),topRight:Uf(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Uf(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Uf(!c||l.bottom||l.right,i.bottomRight,0,o)}}function XBe(t){const e=qQ(t),r=e.right-e.left,s=e.bottom-e.top,a=GBe(t,r/2,s/2),i=VBe(t,r/2,s/2);return{outer:{x:e.left,y:e.top,w:r,h:s,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function h6(t,e,r,s){const a=e===null,i=r===null,l=t&&!(a&&i)&&qQ(t,s);return l&&(a||_m(e,l.left,l.right))&&(i||_m(r,l.top,l.bottom))}function YBe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function KBe(t,e){t.rect(e.x,e.y,e.w,e.h)}function f6(t,e,r={}){const s=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-s,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+s,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class Bx extends bp{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:o}=XBe(this),l=YBe(o.radius)?MN:KBe;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,f6(o,r,i)),e.clip(),l(e,f6(i,-r,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,f6(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,s){return h6(this,e,r,s)}inXRange(e,r){return h6(this,e,null,r)}inYRange(e,r){return h6(this,null,e,r)}getCenterPoint(e){const{x:r,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Zt(Bx,"id","bar"),Zt(Bx,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Zt(Bx,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const NH=(t,e)=>{let{boxHeight:r=e,boxWidth:s=e}=t;return t.usePointStyle&&(r=Math.min(r,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:r,itemHeight:Math.max(e,r)}},JBe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class SH extends bp{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,s){this.maxWidth=e,this.maxHeight=r,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Os(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(s=>e.filter(s,this.chart.data))),e.sort&&(r=r.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=no(s.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=NH(s,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,s,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=e;i.textAlign="left",i.textBaseline="middle";let m=-1,f=-u;return this.legendItems.forEach((x,v)=>{const g=s+r/2+i.measureText(x.text).width;(v===0||d[d.length-1]+g+2*l>o)&&(h+=u,d[d.length-(v>0?0:1)]=0,f+=u,m++),c[v]={left:0,top:f,row:m,width:g,height:a},d[d.length-1]+=g+l}),h}_fitCols(e,r,s,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,m=0,f=0,x=0,v=0;return this.legendItems.forEach((g,b)=>{const{itemWidth:N,itemHeight:w}=QBe(s,r,i,g,a);b>0&&f+w+2*l>u&&(h+=m+l,d.push({width:m,height:f}),x+=m+l,v++,m=f=0),c[b]={left:x,top:f,col:v,width:N,height:w},m=Math.max(m,N),f+=w+l}),h+=m,d.push({width:m,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:s,labels:{padding:a},rtl:i}}=this,o=Ix(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ji(s,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=Ji(s,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=Ji(s,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=Ji(s,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;KP(e,this),this._draw(),JP(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:s,ctx:a}=this,{align:i,labels:o}=e,l=ja.color,c=Ix(e.rtl,this.left,this.width),d=no(o.font),{padding:u}=o,h=d.size,m=h/2;let f;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:x,boxHeight:v,itemHeight:g}=NH(o,h),b=function(S,E,R){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;a.save();const C=_n(R.lineWidth,1);if(a.fillStyle=_n(R.fillStyle,l),a.lineCap=_n(R.lineCap,"butt"),a.lineDashOffset=_n(R.lineDashOffset,0),a.lineJoin=_n(R.lineJoin,"miter"),a.lineWidth=C,a.strokeStyle=_n(R.strokeStyle,l),a.setLineDash(_n(R.lineDash,[])),o.usePointStyle){const T={radius:v*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:C},k=c.xPlus(S,x/2),P=E+m;SQ(a,T,k,P,o.pointStyleWidth&&x)}else{const T=E+Math.max((h-v)/2,0),k=c.leftForLtr(S,x),P=Ox(R.borderRadius);a.beginPath(),Object.values(P).some(D=>D!==0)?MN(a,{x:k,y:T,w:x,h:v,radius:P}):a.rect(k,T,x,v),a.fill(),C!==0&&a.stroke()}a.restore()},N=function(S,E,R){Hb(a,R.text,S,E+g/2,d,{strikethrough:R.hidden,textAlign:c.textAlign(R.textAlign)})},w=this.isHorizontal(),A=this._computeTitleHeight();w?f={x:Ji(i,this.left+u,this.right-s[0]),y:this.top+u+A,line:0}:f={x:this.left+u,y:Ji(i,this.top+A+u,this.bottom-r[0].height),line:0},MQ(this.ctx,e.textDirection);const j=g+u;this.legendItems.forEach((S,E)=>{a.strokeStyle=S.fontColor,a.fillStyle=S.fontColor;const R=a.measureText(S.text).width,C=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),T=x+m+R;let k=f.x,P=f.y;c.setWidth(this.width),w?E>0&&k+T+u>this.right&&(P=f.y+=j,f.line++,k=f.x=Ji(i,this.left+u,this.right-s[f.line])):E>0&&P+j>this.bottom&&(k=f.x=k+r[f.line].width+u,f.line++,P=f.y=Ji(i,this.top+A+u,this.bottom-r[f.line].height));const D=c.x(k);if(b(D,P,S),k=wFe(C,k+x+m,w?k+T:this.right,e.rtl),N(c.x(k),P,S),w)f.x+=T+u;else if(typeof S.text!="string"){const H=d.lineHeight;f.y+=GQ(S,H)+u}else f.y+=j}),PQ(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,s=no(r.font),a=jc(r.padding);if(!r.display)return;const i=Ix(e.rtl,this.left,this.width),o=this.ctx,l=r.position,c=s.size/2,d=a.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=Ji(e.align,h,this.right-m);else{const x=this.columnSizes.reduce((v,g)=>Math.max(v,g.height),0);u=d+Ji(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const f=Ji(l,h,h+m);o.textAlign=i.textAlign(XP(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=s.string,Hb(o,r.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,r=no(e.font),s=jc(e.padding);return e.display?r.lineHeight+s.height:0}_getLegendItemAt(e,r){let s,a,i;if(_m(e,this.left,this.right)&&_m(r,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],_m(e,a.left,a.left+a.width)&&_m(r,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const r=this.options;if(!t9e(e.type,r))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=JBe(a,s);a&&!i&&Os(r.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!i&&Os(r.onHover,[e,s,this],this)}else s&&Os(r.onClick,[e,s,this],this)}}function QBe(t,e,r,s,a){const i=ZBe(s,t,e,r),o=e9e(a,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function ZBe(t,e,r,s){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+s.measureText(a).width}function e9e(t,e,r){let s=t;return typeof e.text!="string"&&(s=GQ(e,r)),s}function GQ(t,e){const r=t.text?t.text.length:0;return e*r}function t9e(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var a8={id:"legend",_element:SH,start(t,e,r){const s=t.legend=new SH({ctx:t.ctx,options:r,chart:t});hc.configure(t,s,r),hc.addBox(t,s)},stop(t){hc.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const s=t.legend;hc.configure(t,s,r),s.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const s=e.datasetIndex,a=r.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=jc(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class VQ extends bp{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Va(s.text)?s.text.length:1;this._padding=jc(s.padding);const i=a*no(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:s,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=Ji(l,s,i),h=r+e,d=i-s):(o.position==="left"?(u=s+e,h=Ji(l,a,r),c=gs*-.5):(u=i-e,h=Ji(l,r,a),c=gs*.5),d=a-r),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const s=no(r.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);Hb(e,r.text,0,0,s,{color:r.color,maxWidth:c,rotation:d,textAlign:XP(r.align),textBaseline:"middle",translation:[o,l]})}}function r9e(t,e){const r=new VQ({ctx:t.ctx,options:e,chart:t});hc.configure(t,r,e),hc.addBox(t,r),t.titleBlock=r}var i8={id:"title",_element:VQ,start(t,e,r){r9e(t,r)},stop(t){const e=t.titleBlock;hc.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const s=t.titleBlock;hc.configure(t,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hy={average(t){if(!t.length)return!1;let e,r,s=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),a+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,s=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=pFe(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,s=c.y}return{x:r,y:s}}};function zd(t,e){return e&&(Va(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function oh(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function n9e(t,e){const{element:r,datasetIndex:s,index:a}=e,i=t.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:r}}function _H(t,e){const r=t.chart.ctx,{body:s,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=no(e.bodyFont),d=no(e.titleFont),u=no(e.footerFont),h=i.length,m=a.length,f=s.length,x=jc(e.padding);let v=x.height,g=0,b=s.reduce((A,j)=>A+j.before.length+j.lines.length+j.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const A=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;v+=f*A+(b-f)*c.lineHeight+(b-1)*e.bodySpacing}m&&(v+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let N=0;const w=function(A){g=Math.max(g,r.measureText(A).width+N)};return r.save(),r.font=d.string,Zn(t.title,w),r.font=c.string,Zn(t.beforeBody.concat(t.afterBody),w),N=e.displayColors?o+2+e.boxPadding:0,Zn(s,A=>{Zn(A.before,w),Zn(A.lines,w),Zn(A.after,w)}),N=0,r.font=u.string,Zn(t.footer,w),r.restore(),g+=x.width,{width:g,height:v}}function s9e(t,e){const{y:r,height:s}=e;return r<s/2?"top":r>t.height-s/2?"bottom":"center"}function a9e(t,e,r,s){const{x:a,width:i}=s,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function i9e(t,e,r,s){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return s==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),a9e(d,t,e,r)&&(d="center"),d}function AH(t,e,r){const s=r.yAlign||e.yAlign||s9e(t,r);return{xAlign:r.xAlign||e.xAlign||i9e(t,e,r,s),yAlign:s}}function o9e(t,e){let{x:r,width:s}=t;return e==="right"?r-=s:e==="center"&&(r-=s/2),r}function l9e(t,e,r){let{y:s,height:a}=t;return e==="top"?s+=r:e==="bottom"?s-=a+r:s-=a/2,s}function CH(t,e,r,s){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:f}=Ox(o);let x=o9e(e,l);const v=l9e(e,c,d);return c==="center"?l==="left"?x+=d:l==="right"&&(x-=d):l==="left"?x-=Math.max(u,m)+a:l==="right"&&(x+=Math.max(h,f)+a),{x:Zo(x,0,s.width-e.width),y:Zo(v,0,s.height-e.height)}}function _w(t,e,r){const s=jc(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function kH(t){return zd([],oh(t))}function c9e(t,e,r){return Qg(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function EH(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const XQ={beforeTitle:sh,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,s=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return r[e.dataIndex]}return""},afterTitle:sh,beforeBody:sh,beforeLabel:sh,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return ys(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:sh,afterBody:sh,beforeFooter:sh,footer:sh,afterFooter:sh};function Xo(t,e,r,s){const a=t[e].call(r,s);return typeof a>"u"?XQ[e].call(r,s):a}class xT extends bp{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&r.options.animation&&s.animations,i=new DQ(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=c9e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:s}=r,a=Xo(s,"beforeTitle",this,e),i=Xo(s,"title",this,e),o=Xo(s,"afterTitle",this,e);let l=[];return l=zd(l,oh(a)),l=zd(l,oh(i)),l=zd(l,oh(o)),l}getBeforeBody(e,r){return kH(Xo(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:s}=r,a=[];return Zn(e,i=>{const o={before:[],lines:[],after:[]},l=EH(s,i);zd(o.before,oh(Xo(l,"beforeLabel",this,i))),zd(o.lines,Xo(l,"label",this,i)),zd(o.after,oh(Xo(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return kH(Xo(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:s}=r,a=Xo(s,"beforeFooter",this,e),i=Xo(s,"footer",this,e),o=Xo(s,"afterFooter",this,e);let l=[];return l=zd(l,oh(a)),l=zd(l,oh(i)),l=zd(l,oh(o)),l}_createItems(e){const r=this._active,s=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(n9e(this.chart,r[c]));return e.filter&&(l=l.filter((u,h,m)=>e.filter(u,h,m,s))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,s))),Zn(l,u=>{const h=EH(e.callbacks,u);a.push(Xo(h,"labelColor",this,u)),i.push(Xo(h,"labelPointStyle",this,u)),o.push(Xo(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,r){const s=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=hy[s.position].call(this,a,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=_H(this,s),d=Object.assign({},l,c),u=AH(this.chart,s,d),h=CH(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,s,a){const i=this.getCaretPosition(e,s,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,s){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Ox(l),{x:m,y:f}=e,{width:x,height:v}=r;let g,b,N,w,A,j;return i==="center"?(A=f+v/2,a==="left"?(g=m,b=g-o,w=A+o,j=A-o):(g=m+x,b=g+o,w=A-o,j=A+o),N=g):(a==="left"?b=m+Math.max(c,u)+o:a==="right"?b=m+x-Math.max(d,h)-o:b=this.caretX,i==="top"?(w=f,A=w-o,g=b-o,N=b+o):(w=f+v,A=w+o,g=b+o,N=b-o),j=w),{x1:g,x2:b,x3:N,y1:w,y2:A,y3:j}}drawTitle(e,r,s){const a=this.title,i=a.length;let o,l,c;if(i){const d=Ix(s.rtl,this.x,this.width);for(e.x=_w(this,s.titleAlign,s),r.textAlign=d.textAlign(s.titleAlign),r.textBaseline="middle",o=no(s.titleFont),l=s.titleSpacing,r.fillStyle=s.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,r,s,a,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=no(i.bodyFont),h=_w(this,"left",i),m=a.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,x=r.y+f;if(i.usePointStyle){const v={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(m,d)+d/2,b=x+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,W$(e,v,g,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,W$(e,v,g,b)}else{e.lineWidth=Cn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=a.leftForLtr(m,d),g=a.leftForLtr(a.xPlus(m,1),d-2),b=Ox(o.borderRadius);Object.values(b).some(N=>N!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,MN(e,{x:v,y:x,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),MN(e,{x:g,y:x+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,x,d,c),e.strokeRect(v,x,d,c),e.fillStyle=o.backgroundColor,e.fillRect(g,x+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,r,s){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=no(s.bodyFont);let m=h.lineHeight,f=0;const x=Ix(s.rtl,this.x,this.width),v=function(R){r.fillText(R,x.x(e.x+f),e.y+m/2),e.y+=m+i},g=x.textAlign(o);let b,N,w,A,j,S,E;for(r.textAlign=o,r.textBaseline="middle",r.font=h.string,e.x=_w(this,g,s),r.fillStyle=s.bodyColor,Zn(this.beforeBody,v),f=l&&g!=="right"?o==="center"?d/2+u:d+2+u:0,A=0,S=a.length;A<S;++A){for(b=a[A],N=this.labelTextColors[A],r.fillStyle=N,Zn(b.before,v),w=b.lines,l&&w.length&&(this._drawColorBox(r,e,A,x,s),m=Math.max(h.lineHeight,c)),j=0,E=w.length;j<E;++j)v(w[j]),m=h.lineHeight;Zn(b.after,v)}f=0,m=h.lineHeight,Zn(this.afterBody,v),e.y-=i}drawFooter(e,r,s){const a=this.footer,i=a.length;let o,l;if(i){const c=Ix(s.rtl,this.x,this.width);for(e.x=_w(this,s.footerAlign,s),e.y+=s.footerMarginTop,r.textAlign=c.textAlign(s.footerAlign),r.textBaseline="middle",o=no(s.footerFont),r.fillStyle=s.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,r,s,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:x}=Ox(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+h,c),o==="top"&&this.drawCaret(e,r,s,a),r.lineTo(l+d-m,c),r.quadraticCurveTo(l+d,c,l+d,c+m),o==="center"&&i==="right"&&this.drawCaret(e,r,s,a),r.lineTo(l+d,c+u-x),r.quadraticCurveTo(l+d,c+u,l+d-x,c+u),o==="bottom"&&this.drawCaret(e,r,s,a),r.lineTo(l+f,c+u),r.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&i==="left"&&this.drawCaret(e,r,s,a),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const o=hy[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=_H(this,e),c=Object.assign({},o,this._size),d=AH(r,e,c),u=CH(e,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=jc(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,a,r),MQ(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),PQ(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const s=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!AN(s,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,s=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,s),l=this._positionChanged(o,e),c=r||!AN(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,s,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:s,caretY:a,options:i}=this,o=hy[i.position].call(this,e,r);return o!==!1&&(s!==o.x||a!==o.y)}}Zt(xT,"positioners",hy);var o8={id:"tooltip",_element:xT,positioners:hy,afterInit(t,e,r){r&&(t.tooltip=new xT({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:XQ},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const d9e=(t,e,r,s)=>(typeof e=="string"?(r=t.push(e)-1,s.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function u9e(t,e,r,s){const a=t.indexOf(e);if(a===-1)return d9e(t,e,r,s);const i=t.lastIndexOf(e);return a!==i?r:a}const h9e=(t,e)=>t===null?null:Zo(Math.round(t),0,e);function TH(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class qb extends Zg{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const s=this.getLabels();for(const{index:a,label:i}of r)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ys(e))return null;const s=this.getLabels();return r=isFinite(r)&&s[r]===e?r:u9e(s,e,_n(r,e),this._addedLabels),h9e(r,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),r||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,r=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return TH.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Zt(qb,"id","category"),Zt(qb,"defaults",{ticks:{callback:TH}});function f9e(t,e){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=t,f=i||1,x=u-1,{min:v,max:g}=e,b=!ys(o),N=!ys(l),w=!ys(d),A=(g-v)/(h+1);let j=L$((g-v)/x/f)*f,S,E,R,C;if(j<1e-14&&!b&&!N)return[{value:v},{value:g}];C=Math.ceil(g/j)-Math.floor(v/j),C>x&&(j=L$(C*j/x/f)*f),ys(c)||(S=Math.pow(10,c),j=Math.ceil(j*S)/S),a==="ticks"?(E=Math.floor(v/j)*j,R=Math.ceil(g/j)*j):(E=v,R=g),b&&N&&i&&hFe((l-o)/i,j/1e3)?(C=Math.round(Math.min((l-o)/j,u)),j=(l-o)/C,E=o,R=l):w?(E=b?o:E,R=N?l:R,C=d-1,j=(R-E)/C):(C=(R-E)/j,qw(C,Math.round(C),j/1e3)?C=Math.round(C):C=Math.ceil(C));const T=Math.max(O$(j),O$(E));S=Math.pow(10,ys(c)?T:c),E=Math.round(E*S)/S,R=Math.round(R*S)/S;let k=0;for(b&&(m&&E!==o?(r.push({value:o}),E<o&&k++,qw(Math.round((E+k*j)*S)/S,o,MH(o,A,t))&&k++):E<o&&k++);k<C;++k){const P=Math.round((E+k*j)*S)/S;if(N&&P>l)break;r.push({value:P})}return N&&m&&R!==l?r.length&&qw(r[r.length-1].value,l,MH(l,A,t))?r[r.length-1].value=l:r.push({value:l}):(!N||R===l)&&r.push({value:R}),r}function MH(t,e,{horizontal:r,minRotation:s}){const a=vh(s),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class m9e extends Zg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return ys(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=s?i:c;if(e){const c=Xf(a),d=Xf(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=f9e(a,i);return e.bounds==="ticks"&&fFe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-r)/Math.max(e.length-1,1)/2;r-=a,s+=a}this._startValue=r,this._endValue=s,this._valueRange=s-r}getLabelForValue(e){return YP(e,this.chart.options.locale,this.options.ticks.format)}}class Gb extends m9e{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=wc(e)?e:0,this.max=wc(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,s=vh(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Zt(Gb,"id","linear"),Zt(Gb,"defaults",{ticks:{callback:NQ.formatters.numeric}});const z5={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ko=Object.keys(z5);function PH(t,e){return t-e}function DH(t,e){if(ys(e))return null;const r=t._adapter,{parser:s,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),wc(o)||(o=typeof s=="string"?r.parse(o,s):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(EN(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function RH(t,e,r,s){const a=Ko.length;for(let i=Ko.indexOf(t);i<a-1;++i){const o=z5[Ko[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(l*o.size))<=s)return Ko[i]}return Ko[a-1]}function p9e(t,e,r,s,a){for(let i=Ko.length-1;i>=Ko.indexOf(r);i--){const o=Ko[i];if(z5[o].common&&t._adapter.diff(a,s,o)>=e-1)return o}return Ko[r?Ko.indexOf(r):0]}function x9e(t){for(let e=Ko.indexOf(t)+1,r=Ko.length;e<r;++e)if(z5[Ko[e]].common)return Ko[e]}function LH(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:s,hi:a}=VP(r,e),i=r[s]>=e?r[s]:r[a];t[i]=!0}}function g9e(t,e,r,s){const a=t._adapter,i=+a.startOf(e[0].value,s),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,s))c=r[l],c>=0&&(e[c].major=!0);return e}function OH(t,e,r){const s=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,s.push({value:l,major:!1});return i===0||!r?s:g9e(t,s,a,r)}class LN extends Zg{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const s=e.time||(e.time={}),a=this._adapter=new M7e._date(e.adapters.date);a.init(r),Ly(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:DH(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,s=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=wc(a)&&!isNaN(a)?a:+r.startOf(Date.now(),s),i=wc(i)&&!isNaN(i)?i:+r.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],s=e[e.length-1]),{min:r,max:s}}buildTicks(){const e=this.options,r=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=vFe(a,i,o);return this._unit=r.unit||(s.autoSkip?RH(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):p9e(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:x9e(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),OH(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,s=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Zo(r,0,o),s=Zo(s,0,o),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,r=this.min,s=this.max,a=this.options,i=a.time,o=i.unit||RH(i.minUnit,r,s,this._getLabelCapacity(r)),l=_n(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=EN(c)||c===!0,u={};let h=r,m,f;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(s,r,o)>1e5*l)throw new Error(r+" and "+s+" are too far apart with stepSize of "+l+" "+o);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(m=h,f=0;m<s;m=+e.add(m,l,o),f++)LH(u,m,x);return(m===s||a.bounds==="ticks"||f===1)&&LH(u,m,x),Object.keys(u).sort(PH).map(v=>+v)}getLabelForValue(e){const r=this._adapter,s=this.options.time;return s.tooltipFormat?r.format(e,s.tooltipFormat):r.format(e,s.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,s,a){const i=this.options,o=i.ticks.callback;if(o)return Os(o,[e,r,s],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],m=s[r],f=d&&h&&m&&m.major;return this._adapter.format(e,a||(f?h:u))}generateTickLabels(e){let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+s)*r.factor)}getValueForPixel(e){const r=this._offsets,s=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,s=this.ctx.measureText(e).width,a=vh(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(e){const r=this.options.time,s=r.displayFormats,a=s[r.unit]||s.millisecond,i=this._tickFormatFunction(e,0,OH(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,s=a.length;r<s;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,s;if(e.length)return e;const a=this.getLabels();for(r=0,s=a.length;r<s;++r)e.push(DH(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yQ(e.sort(PH))}}Zt(LN,"id","time"),Zt(LN,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Aw(t,e,r){let s=0,a=t.length-1,i,o,l,c;r?(e>=t[s].pos&&e<=t[a].pos&&({lo:s,hi:a}=uT(t,"pos",e)),{pos:i,time:l}=t[s],{pos:o,time:c}=t[a]):(e>=t[s].time&&e<=t[a].time&&({lo:s,hi:a}=uT(t,"time",e)),{time:i,pos:l}=t[s],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class IH extends LN{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Aw(r,this.min),this._tableRange=Aw(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:s}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=r&&d<=s&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:s,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,r=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(r)||s.length===1)&&s.push(r),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),s=this.getLabelTimestamps();return r.length&&s.length?e=this.normalize(r.concat(s)):e=r.length?r:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Aw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,s=this.getDecimalForPixel(e)/r.factor-r.end;return Aw(this._table,s*this._tableRange+this._minPos,!0)}}Zt(IH,"id","timeseries"),Zt(IH,"defaults",LN.defaults);const YQ="label";function FH(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function v9e(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function KQ(t,e){t.labels=e}function JQ(t,e,r=YQ){const s=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[r]===a[r]);return!i||!a.data||s.includes(i)?{...a}:(s.push(i),Object.assign(i,a),i)})}function y9e(t,e=YQ){const r={labels:[],datasets:[]};return KQ(r,t.labels),JQ(r,t.datasets,e),r}function b9e(t,e){const{height:r=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=t,f=L.useRef(null),x=L.useRef(null),v=()=>{f.current&&(x.current=new ev(f.current,{type:o,data:y9e(l,i),options:c&&{...c},plugins:d}),FH(e,x.current))},g=()=>{FH(e,null),x.current&&(x.current.destroy(),x.current=null)};return L.useEffect(()=>{!a&&x.current&&c&&v9e(x.current,c)},[a,c]),L.useEffect(()=>{!a&&x.current&&KQ(x.current.config.data,l.labels)},[a,l.labels]),L.useEffect(()=>{!a&&x.current&&l.datasets&&JQ(x.current.config.data,l.datasets,i)},[a,l.datasets]),L.useEffect(()=>{x.current&&(a?(g(),setTimeout(v)):x.current.update(h))},[a,c,l.labels,l.datasets,h]),L.useEffect(()=>{x.current&&(g(),setTimeout(v))},[o]),L.useEffect(()=>(v(),()=>g()),[]),n.jsx("canvas",{ref:f,role:"img",height:r,width:s,...m,children:u})}const w9e=L.forwardRef(b9e);function QQ(t,e){return ev.register(e),L.forwardRef((r,s)=>n.jsx(w9e,{...r,ref:s,type:t}))}const l8=QQ("bar",Gw),c8=QQ("pie",fT),j9e=({activeView:t,setActiveView:e,isOpen:r,setIsOpen:s})=>{const a=[{id:"overview",name:"Dashboard Overview",icon:Mg,description:"School-wide statistics and KPIs"},{id:"academics",name:"Academic Analytics",icon:kr,description:"Performance, grades, and curriculum"},{id:"students",name:"Student Analytics",icon:na,description:"Enrollment, attendance, and progress"},{id:"staff",name:"Staff Management",icon:sr,description:"Teachers, performance, and HR"},{id:"finance",name:"Financial Dashboard",icon:iu,description:"Budget, revenue, and expenses"},{id:"facilities",name:"Facilities & Resources",icon:Vte,description:"Infrastructure and maintenance"},{id:"reports",name:"Reports & Analytics",icon:ds,description:"Detailed reports and insights"},{id:"communications",name:"Communications",icon:vs,description:"Send SMS/Email to groups"},{id:"notifications",name:"Notification Center",icon:Bs,description:"Alerts and urgent matters"},{id:"calendar",name:"School Calendar",icon:Kt,description:"Events and important dates"}],i=[{id:"emergency",name:"Emergency Alert",icon:Qw,color:"red"},{id:"announcement",name:"Send Announcement",icon:vs,color:"blue"},{id:"meeting",name:"Schedule Meeting",icon:Kt,color:"green"},{id:"report",name:"Generate Report",icon:jr,color:"purple"}];return n.jsxs("div",{className:`h-screen bg-gradient-to-b from-yellow-50 to-amber-50 border-r border-yellow-200 shadow-2xl transition-all duration-300 flex flex-col fixed left-0 top-0 z-50 ${r?"w-80":"w-20"}`,children:[n.jsx("div",{className:"p-6 border-b border-yellow-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center space-x-3 ${r?"block":"hidden"}`,children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg",children:n.jsx(Qw,{className:"w-6 h-6 text-white"})}),r&&n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold text-lg text-amber-800",children:"Principal Portal"}),n.jsx("p",{className:"text-xs text-yellow-600",children:"Electronic Educare Center"})]})]}),n.jsx("button",{onClick:()=>s(!r),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors text-amber-600 hover:text-amber-800",children:r?n.jsx(xd,{size:20}):n.jsx(Vs,{size:20})})]})}),n.jsxs("nav",{className:"flex-1 px-4 py-6 overflow-y-auto",children:[n.jsx("div",{className:"space-y-2",children:a.map(o=>{const l=o.icon,c=t===o.id;return n.jsxs("button",{onClick:()=>e(o.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${c?"bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-lg transform scale-105":"text-amber-700 hover:bg-yellow-100 hover:text-amber-800 hover:transform hover:scale-102"}`,children:[n.jsx(l,{size:20,className:"flex-shrink-0"}),r&&n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("span",{className:"font-medium text-sm block",children:o.name}),n.jsx("span",{className:"text-xs opacity-70 block",children:o.description})]}),!r&&n.jsxs("div",{className:"absolute left-full ml-2 px-3 py-2 bg-amber-800 text-white text-sm rounded-lg shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:[n.jsx("div",{className:"font-medium",children:o.name}),n.jsx("div",{className:"text-xs text-yellow-200",children:o.description})]})]},o.id)})}),r&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-sm font-semibold text-amber-600 mb-4 px-4",children:"Quick Actions"}),n.jsx("div",{className:"space-y-2",children:i.map(o=>{const l=o.icon;return n.jsxs("button",{className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-all duration-200 hover:transform hover:scale-102 text-amber-700 ${o.color==="red"?"hover:bg-red-100 hover:text-red-700":o.color==="blue"?"hover:bg-purple-100 hover:text-purple-700":o.color==="green"?"hover:bg-yellow-100 hover:text-yellow-700":"hover:bg-amber-100 hover:text-amber-800"}`,children:[n.jsx(l,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:o.name})]},o.id)})})]})]}),n.jsx("div",{className:"p-4 border-t border-yellow-200",children:r&&n.jsx("div",{className:"mt-4 pt-4 border-t border-yellow-200",children:n.jsxs("div",{className:"flex items-center gap-3 px-2",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-bold text-white",children:"P"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Dr. Principal"}),n.jsx("p",{className:"text-xs text-yellow-600",children:"School Principal"})]})]})})})]})},N9e=({sidebarOpen:t,setSidebarOpen:e,notifications:r})=>{const[s,a]=L.useState(!1),[i,o]=L.useState(!1),[l,c]=L.useState(""),[d,u]=L.useState(!1),h=xi(),m=L.useRef(null),f=L.useRef(null),x=L.useRef(null);L.useEffect(()=>{const j=S=>{m.current&&!m.current.contains(S.target)&&a(!1),f.current&&!f.current.contains(S.target)&&o(!1),x.current&&!x.current.contains(S.target)&&u(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const v=r.filter(j=>j.priority==="high"),g=r.length,b={name:"Dr. Sarah Johnson",title:"School Principal",email:"principal@eec.edu",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"},N=()=>{localStorage.removeItem("token"),localStorage.removeItem("userType"),h("/")},A=[{type:"student",title:"John Smith - Grade 10A",icon:pn},{type:"teacher",title:"Ms. Johnson - Mathematics",icon:pn},{type:"report",title:"Monthly Performance Report",icon:tn},{type:"event",title:"Parent-Teacher Meeting",icon:Kt}].filter(j=>j.title.toLowerCase().includes(l.toLowerCase()));return n.jsx("header",{className:"bg-white border-b border-gray-100 shadow-sm sticky top-0 z-40",children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 md:hidden","aria-label":"Toggle sidebar",children:n.jsx(HN,{className:"w-5 h-5"})}),n.jsxs("div",{className:"relative",ref:x,children:[n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),onFocus:()=>u(!0),placeholder:"Search students, teachers, reports...",className:"pl-10 pr-8 py-2 w-48 sm:w-64 md:w-80 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white"}),l&&n.jsx("button",{onClick:()=>c(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600",children:n.jsx(ts,{className:"w-4 h-4"})})]})}),d&&A.length>0&&n.jsx("div",{className:"absolute top-full mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50 overflow-hidden",children:n.jsxs("div",{className:"py-2",children:[n.jsx("div",{className:"px-3 py-1 text-xs font-medium text-gray-500 bg-gray-50",children:"Quick Results"}),A.map((j,S)=>{const E=j.icon;return n.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 transition-colors text-left",children:[n.jsx(E,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-700 truncate",children:j.title}),n.jsx("span",{className:`ml-auto text-xs px-2 py-1 rounded-full flex-shrink-0 ${j.type==="student"?"bg-blue-50 text-blue-600":j.type==="teacher"?"bg-green-50 text-green-600":j.type==="report"?"bg-purple-50 text-purple-600":"bg-orange-50 text-orange-600"}`,children:j.type})]},S)})]})})]})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg",children:[n.jsx(nr,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-lg",children:[n.jsx(Kt,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:new Date().toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Refresh Data","aria-label":"Refresh Data",children:n.jsx(Pg,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Send Message","aria-label":"Send Message",children:n.jsx(vs,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700",title:"Emergency Contact","aria-label":"Emergency Contact",children:n.jsx(Sc,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"relative",ref:m,children:[n.jsxs("button",{onClick:()=>a(!s),className:"relative p-2 rounded-lg hover:bg-gray-50 transition-colors text-gray-500 hover:text-gray-700","aria-label":"Notifications",children:[n.jsx(Bs,{className:"w-5 h-5"}),g>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:g>9?"9+":g})]}),s&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),n.jsxs("div",{className:"flex items-center gap-2",children:[v.length>0&&n.jsxs("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:[v.length," urgent"]}),n.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",onClick:()=>a(!1),children:"Clear all"})]})]})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length>0?r.slice(0,5).map(j=>n.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{a(!1)},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2 rounded-full flex-shrink-0 mt-0.5 ${j.priority==="high"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:n.jsx(Jo,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsx("p",{className:"font-medium text-gray-900 text-sm",children:j.title}),n.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap ml-2",children:j.timestamp})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:j.message}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${j.department==="Safety"?"bg-red-50 text-red-700":j.department==="Academic"?"bg-blue-50 text-blue-700":j.department==="Finance"?"bg-green-50 text-green-700":"bg-gray-50 text-gray-700"}`,children:j.department}),n.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"View"})]})]})]})},j.id)):n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx(Bs,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{className:"text-sm",children:"No new notifications"}),n.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"You're all caught up!"})]})}),r.length>5&&n.jsx("div",{className:"p-3 bg-gray-50 text-center border-t border-gray-100",children:n.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center justify-center gap-1 w-full",onClick:()=>{a(!1)},children:["View All Notifications",n.jsx(Vs,{className:"w-4 h-4"})]})})]})]}),n.jsxs("div",{className:"relative",ref:f,children:[n.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Profile menu",children:[n.jsx("img",{src:b.avatar,alt:"Principal",className:"w-8 h-8 rounded-full border-2 border-gray-100 object-cover",onError:j=>{j.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),n.jsxs("div",{className:"hidden md:block text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[120px]",children:b.name}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[120px]",children:b.title})]}),n.jsx(bs,{className:`w-4 h-4 text-gray-400 transition-transform ${i?"transform rotate-180":""}`})]}),i&&n.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:b.avatar,alt:"Principal",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm",onError:j=>{j.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 24 24' fill='none' stroke='%236B7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E"}}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:b.name}),n.jsx("p",{className:"text-sm text-gray-500",children:b.title}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:b.email})]})]})}),n.jsxs("div",{className:"py-1",children:[n.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[n.jsx(pn,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-700",children:"View Profile"})]}),n.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[n.jsx(Kf,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),n.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-gray-50 transition-colors text-left",onClick:()=>{o(!1)},children:[n.jsx(mc,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Messages"})]}),n.jsx("div",{className:"border-t border-gray-100 my-1"}),n.jsxs("button",{onClick:N,className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-red-50 transition-colors text-left text-red-600",children:[n.jsx(Wy,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{className:"text-sm",children:"Logout"})]})]})]})]})]})]})})},S9e=()=>{const[t,e]=L.useState("current_term"),[r,s]=L.useState("all"),a={averageGPA:"95%",passRate:94.8,honorsStudents:234},i=[{grade:"A+",count:187,percentage:23.4,color:"emerald"},{grade:"A",count:234,percentage:29.3,color:"green"},{grade:"B+",count:156,percentage:19.5,color:"blue"},{grade:"B",count:123,percentage:15.4,color:"yellow"},{grade:"C+",count:67,percentage:8.4,color:"orange"},{grade:"C",count:23,percentage:2.9,color:"red"},{grade:"Below C",count:9,percentage:1.1,color:"gray"}],o=[{subject:"Mathematics",avgScore:87.5,improvement:3.2,studentsAbove80:234,totalStudents:289,teacherRating:4.6,trend:"up"},{subject:"Science",avgScore:84.7,improvement:2.8,studentsAbove80:198,totalStudents:289,teacherRating:4.4,trend:"up"},{subject:"English Language",avgScore:82.3,improvement:1.9,studentsAbove80:187,totalStudents:289,teacherRating:4.5,trend:"up"},{subject:"Social Studies",avgScore:79.8,improvement:-.5,studentsAbove80:156,totalStudents:289,teacherRating:4.2,trend:"down"},{subject:"Arts & Crafts",avgScore:91.2,improvement:4.1,studentsAbove80:267,totalStudents:289,teacherRating:4.8,trend:"up"},{subject:"Physical Education",avgScore:88.9,improvement:2.3,studentsAbove80:245,totalStudents:289,teacherRating:4.7,trend:"up"}],l=[{grade:"Grade 6",totalStudents:120,avgGPA:3.8,topPerformers:28,needsSupport:8},{grade:"Grade 7",totalStudents:125,avgGPA:3.7,topPerformers:31,needsSupport:12},{grade:"Grade 8",totalStudents:118,avgGPA:3.6,topPerformers:25,needsSupport:15},{grade:"Grade 9",totalStudents:132,avgGPA:3.8,topPerformers:35,needsSupport:10},{grade:"Grade 10",totalStudents:128,avgGPA:3.9,topPerformers:42,needsSupport:7},{grade:"Grade 11",totalStudents:115,avgGPA:3.7,topPerformers:29,needsSupport:11},{grade:"Grade 12",totalStudents:109,avgGPA:3.8,topPerformers:38,needsSupport:6}],c=[{exam:"Mid-Term Exams",date:"2024-03-15",status:"upcoming",subjects:5},{exam:"Unit Test 3",date:"2024-02-28",status:"completed",subjects:3},{exam:"Practical Exams",date:"2024-04-10",status:"scheduled",subjects:4},{exam:"Final Exams",date:"2024-05-20",status:"scheduled",subjects:6}];return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Academic Analytics"}),n.jsx("p",{className:"text-yellow-100",children:"Comprehensive academic performance insights"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("select",{value:t,onChange:d=>e(d.target.value),className:"bg-white/20 border border-white/30 rounded-lg px-4 py-2 text-white placeholder-white/70",children:[n.jsx("option",{value:"current_term",children:"Current Term"}),n.jsx("option",{value:"last_term",children:"Last Term"}),n.jsx("option",{value:"academic_year",children:"Academic Year"})]}),n.jsxs("select",{value:r,onChange:d=>s(d.target.value),className:"bg-white/20 border border-white/30 rounded-lg px-4 py-2 text-white",children:[n.jsx("option",{value:"all",children:"All Grades"}),n.jsx("option",{value:"6",children:"Grade 6"}),n.jsx("option",{value:"7",children:"Grade 7"}),n.jsx("option",{value:"8",children:"Grade 8"}),n.jsx("option",{value:"9",children:"Grade 9"}),n.jsx("option",{value:"10",children:"Grade 10"}),n.jsx("option",{value:"11",children:"Grade 11"}),n.jsx("option",{value:"12",children:"Grade 12"})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:n.jsx(Kn,{className:"w-6 h-6 text-yellow-600"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:a.averageGPA}),n.jsx("div",{className:"text-sm text-amber-600",children:"Average Percentage"})]})]}),n.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2",children:n.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${a.averageGPA/4*100}%`}})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:n.jsx(rs,{className:"w-6 h-6 text-amber-600"})}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold text-amber-900",children:[a.passRate,"%"]}),n.jsx("div",{className:"text-sm text-amber-600",children:"Pass Rate"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm",children:[n.jsx(zx,{className:"w-4 h-4"}),n.jsx("span",{children:"+2.3% from last term"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(sr,{className:"w-6 h-6 text-purple-600"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:a.honorsStudents}),n.jsx("div",{className:"text-sm text-amber-600",children:"Honor Students"})]})]}),n.jsx("div",{className:"text-xs text-amber-600",children:"18.8% of total students"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[n.jsx("div",{className:"p-6 border-b border-yellow-100",children:n.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[n.jsx(gW,{className:"w-5 h-5 text-yellow-500"}),"Grade Distribution"]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-3",children:i.map((d,u)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-4 h-4 rounded-full ${d.color==="emerald"?"bg-emerald-500":d.color==="green"?"bg-green-500":d.color==="blue"?"bg-blue-500":d.color==="yellow"?"bg-yellow-500":d.color==="orange"?"bg-orange-500":d.color==="red"?"bg-red-500":"bg-gray-500"}`}),n.jsx("span",{className:"font-medium text-gray-900",children:d.grade})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[d.count," students"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[d.percentage,"%"]})]}),n.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${d.color==="emerald"?"bg-emerald-500":d.color==="green"?"bg-green-500":d.color==="blue"?"bg-blue-500":d.color==="yellow"?"bg-yellow-500":d.color==="orange"?"bg-orange-500":d.color==="red"?"bg-red-500":"bg-gray-500"}`,style:{width:`${d.percentage*3}%`}})})]})]},u))})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(kr,{className:"w-5 h-5 text-green-500"}),"Subject Performance"]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:o.slice(0,4).map((d,u)=>n.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:d.subject}),n.jsxs("div",{className:`flex items-center gap-1 text-sm ${d.trend==="up"?"text-green-600":"text-red-600"}`,children:[d.trend==="up"?n.jsx(zx,{className:"w-4 h-4"}):n.jsx(_6,{className:"w-4 h-4"}),d.improvement>0?"+":"",d.improvement,"%"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Average Score"}),n.jsxs("div",{className:"font-bold text-gray-900",children:[d.avgScore,"%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-500",children:"Above 80%"}),n.jsxs("div",{className:"font-bold text-gray-900",children:[d.studentsAbove80,"/",d.totalStudents]})]})]}),n.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${d.avgScore}%`}})})]},u))})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[n.jsx("div",{className:"p-6 border-b border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[n.jsx(ds,{className:"w-5 h-5 text-purple-500"}),"Grade-wise Analytics"]}),n.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),"Export Report"]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-yellow-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Grade"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Total Students"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Average GPA"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Top Performers"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Needs Support"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-800",children:"Performance"})]})}),n.jsx("tbody",{className:"divide-y divide-yellow-200",children:l.map((d,u)=>n.jsxs("tr",{className:"hover:bg-yellow-50",children:[n.jsx("td",{className:"px-6 py-4 font-medium text-amber-900",children:d.grade}),n.jsx("td",{className:"px-6 py-4 text-amber-700",children:d.totalStudents}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("span",{className:"font-semibold text-amber-900",children:d.avgGPA}),n.jsx("div",{className:"w-16 bg-yellow-200 rounded-full h-1 mt-1",children:n.jsx("div",{className:"bg-yellow-500 h-1 rounded-full",style:{width:`${d.avgGPA/4*100}%`}})})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:[d.topPerformers," students"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:[d.needsSupport," students"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"w-full bg-yellow-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${d.avgGPA>=3.5?"bg-purple-500":d.avgGPA>=3?"bg-amber-500":"bg-red-500"}`,style:{width:`${d.avgGPA/4*100}%`}})})})]},u))})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[n.jsx("div",{className:"p-6 border-b border-yellow-100",children:n.jsxs("h3",{className:"text-lg font-semibold text-amber-900 flex items-center gap-2",children:[n.jsx(Kt,{className:"w-5 h-5 text-amber-500"}),"Examination Schedule"]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((d,u)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:d.exam}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.status==="upcoming"?"bg-orange-100 text-orange-700":d.status==="completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:d.status})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Kt,{className:"w-4 h-4"}),new Date(d.date).toLocaleDateString()]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(kr,{className:"w-4 h-4"}),d.subjects," subjects"]})]})]},u))})})]})]})};ev.register(qb,Gb,Bx,Sx,i8,o8,a8);const _9e=()=>{const t=[{grade:"A",students:420},{grade:"B",students:380},{grade:"C",students:280},{grade:"D",students:120},{grade:"F",students:47}],e=[{name:"Amit Sharma",grade:"A",attendance:"98%"},{name:"Priya Singh",grade:"A",attendance:"97%"},{name:"Rahul Das",grade:"A",attendance:"96%"},{name:"Sneha Roy",grade:"B",attendance:"95%"},{name:"Vikram Patel",grade:"B",attendance:"94%"}],r={labels:t.map(o=>o.grade),datasets:[{label:"Students",data:t.map(o=>o.students),backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(251, 191, 36, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},s={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Student Performance Distribution"}}},a={labels:e.map(o=>o.name),datasets:[{label:"Attendance (%)",data:e.map(o=>parseInt(o.attendance)),backgroundColor:"rgba(59, 130, 246, 0.7)",borderRadius:8}]},i={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Top Students Attendance"}},scales:{y:{min:90,max:100,title:{display:!0,text:"Attendance (%)"}}}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 rounded-2xl p-8 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Analytics"}),n.jsx("p",{className:"text-blue-100",children:"Comprehensive student enrollment, attendance, and progress analytics"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"1,247"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Students"})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(na,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"94.2%"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Attendance Rate"})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(sr,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"96.5%"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Graduation Rate"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Kn,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"+4.2%"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Growth Rate"})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(Yr,{className:"w-6 h-6 text-orange-600"})})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Performance Distribution"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(c8,{data:r,options:s})}),n.jsx("div",{children:n.jsxs("table",{className:"min-w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Grade"}),n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Number of Students"})]})}),n.jsx("tbody",{children:t.map((o,l)=>n.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[n.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.grade}),n.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.students})]},o.grade))})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Students"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(l8,{data:a,options:i})}),n.jsx("div",{children:n.jsxs("table",{className:"min-w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Name"}),n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Grade"}),n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Attendance"})]})}),n.jsx("tbody",{children:e.map((o,l)=>n.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[n.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.name}),n.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.grade}),n.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.attendance})]},o.name))})]})})]})]})]})};ev.register(qb,Gb,Bx,Sx,i8,o8,a8);const A9e=()=>{const t=[{role:"Teachers",count:89},{role:"Support Staff",count:34},{role:"Admin",count:12},{role:"HR",count:6},{role:"New Hires",count:5}],e=[{name:"Teachers",score:4.7},{name:"Support Staff",score:4.5},{name:"Admin",score:4.2},{name:"HR",score:4.6}],r={labels:t.map(o=>o.role),datasets:[{label:"Staff Count",data:t.map(o=>o.count),backgroundColor:["rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(251, 191, 36, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(251, 191, 36, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},s={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Staff Roles Distribution"}}},a={labels:e.map(o=>o.name),datasets:[{label:"Satisfaction Score",data:e.map(o=>o.score),backgroundColor:"rgba(139, 92, 246, 0.7)",borderRadius:8}]},i={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Staff Satisfaction Scores"}},scales:{y:{min:3.5,max:5,title:{display:!0,text:"Score (out of 5)"}}}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl p-8 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Staff Management"}),n.jsx("p",{className:"text-purple-100",children:"Manage teachers, staff performance, and HR operations"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"89"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Teachers"})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(sr,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"34"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Support Staff"})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(xc,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"4.6/5"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Satisfaction"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Kn,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"5"}),n.jsx("div",{className:"text-sm text-gray-500",children:"New Hires"})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(PT,{className:"w-6 h-6 text-orange-600"})})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff Roles Distribution"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(c8,{data:r,options:s})}),n.jsx("div",{children:n.jsxs("table",{className:"min-w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Role"}),n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Count"})]})}),n.jsx("tbody",{children:t.map((o,l)=>n.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[n.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.role}),n.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.count})]},o.role))})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff Satisfaction Scores"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(l8,{data:a,options:i})}),n.jsx("div",{children:n.jsxs("table",{className:"min-w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Role"}),n.jsx("th",{className:"py-2 px-4 text-gray-600",children:"Satisfaction Score"})]})}),n.jsx("tbody",{children:e.map((o,l)=>n.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[n.jsx("td",{className:"py-2 px-4 font-medium text-gray-800",children:o.name}),n.jsx("td",{className:"py-2 px-4 text-gray-700",children:o.score})]},o.name))})]})})]})]})]})},C9e=()=>{const t=[{month:"Jan",revenue:12e6,expenses:85e5},{month:"Feb",revenue:145e5,expenses:92e5},{month:"Mar",revenue:138e5,expenses:89e5},{month:"Apr",revenue:162e5,expenses:101e5},{month:"May",revenue:158e5,expenses:98e5},{month:"Jun",revenue:182e5,expenses:112e5},{month:"Jul",revenue:175e5,expenses:108e5},{month:"Aug",revenue:198e5,expenses:121e5}],e=[{name:"Salaries",value:45,color:"#3B82F6"},{name:"Infrastructure",value:25,color:"#10B981"},{name:"Equipment",value:15,color:"#F59E0B"},{name:"Utilities",value:10,color:"#EF4444"},{name:"Others",value:5,color:"#8B5CF6"}],r=[{department:"Engineering",allocated:5e6,utilized:42e5},{department:"Medical",allocated:45e5,utilized:38e5},{department:"Business",allocated:35e5,utilized:29e5},{department:"Arts",allocated:28e5,utilized:24e5},{department:"Science",allocated:42e5,utilized:36e5}],s=[{id:1,description:"Faculty Salary - Engineering",amount:85e4,type:"expense",date:"2024-08-15"},{id:2,description:"Student Fee Collection",amount:12e5,type:"income",date:"2024-08-14"},{id:3,description:"Laboratory Equipment",amount:32e4,type:"expense",date:"2024-08-13"},{id:4,description:"Government Grant",amount:5e5,type:"income",date:"2024-08-12"},{id:5,description:"Utility Bills",amount:85e3,type:"expense",date:"2024-08-11"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl p-8 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Financial Dashboard"}),n.jsx("p",{className:"text-green-100",children:"Comprehensive financial overview and budget management"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"19.8 Cr"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),n.jsxs("div",{className:"flex items-center mt-2 text-green-600",children:[n.jsx(PD,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"+12.5%"})]})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(iu,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12.1 Cr"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Expenses"}),n.jsxs("div",{className:"flex items-center mt-2 text-blue-600",children:[n.jsx(PD,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"+8.2%"})]})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(Cl,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"78.5%"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Budget Utilization"}),n.jsxs("div",{className:"flex items-center mt-2 text-orange-600",children:[n.jsx(Zr,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"High usage"})]})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(gW,{className:"w-6 h-6 text-orange-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"7.7 Cr"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Net Profit"}),n.jsxs("div",{className:"flex items-center mt-2 text-green-600",children:[n.jsx(Yr,{className:"w-4 h-4"}),n.jsx("span",{className:"text-xs font-medium",children:"+15.3%"})]})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Yr,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue vs Expenses Trend"}),n.jsx(ad,{width:"100%",height:300,children:n.jsxs(OX,{data:t,children:[n.jsx(Nh,{strokeDasharray:"3 3"}),n.jsx(Ml,{dataKey:"month"}),n.jsx(Pl,{tickFormatter:a=>`${(a/1e7).toFixed(1)}Cr`}),n.jsx(Ra,{formatter:a=>[`${(a/1e7).toFixed(2)}Cr`,""]}),n.jsx(Xm,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:3,name:"Revenue"}),n.jsx(Xm,{type:"monotone",dataKey:"expenses",stroke:"#EF4444",strokeWidth:3,name:"Expenses"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expense Breakdown"}),n.jsx(ad,{width:"100%",height:300,children:n.jsxs(XM,{children:[n.jsx(Ra,{formatter:a=>[`${a}%`,""]}),n.jsx(vd,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,children:e.map((a,i)=>n.jsx(Zf,{fill:a.color},`cell-${i}`))})]})}),n.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:e.map((a,i)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:a.color}}),n.jsxs("span",{className:"text-sm text-gray-600",children:[a.name,": ",a.value,"%"]})]},i))})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Department Budget Utilization"}),n.jsx(ad,{width:"100%",height:300,children:n.jsxs(Cb,{data:r,children:[n.jsx(Nh,{strokeDasharray:"3 3"}),n.jsx(Ml,{dataKey:"department"}),n.jsx(Pl,{tickFormatter:a=>`${(a/1e7).toFixed(1)}Cr`}),n.jsx(Ra,{formatter:a=>[`${(a/1e7).toFixed(2)}Cr`,""]}),n.jsx(nl,{dataKey:"allocated",fill:"#3B82F6",name:"Allocated"}),n.jsx(nl,{dataKey:"utilized",fill:"#10B981",name:"Utilized"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Description"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Type"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Date"})]})}),n.jsx("tbody",{children:s.map(a=>n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("td",{className:"py-3 px-4 text-gray-900",children:a.description}),n.jsxs("td",{className:"py-3 px-4 text-gray-900",children:["",(a.amount/1e5).toFixed(1),"L"]}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.type})}),n.jsx("td",{className:"py-3 px-4 text-gray-500",children:a.date})]},a.id))})]})})]})]})},k9e=({notifications:t=[]})=>{const[e,r]=L.useState("all"),[s,a]=L.useState(""),i=[...t,{id:5,type:"info",title:"New Student Enrollment",message:"15 new students enrolled for the upcoming semester",timestamp:"4 hours ago",priority:"low",department:"Admission",read:!1},{id:6,type:"success",title:"Infrastructure Upgrade Complete",message:"Science lab renovation completed successfully",timestamp:"6 hours ago",priority:"medium",department:"Facility",read:!0},{id:7,type:"warning",title:"Maintenance Schedule",message:"Library maintenance scheduled for this weekend",timestamp:"8 hours ago",priority:"medium",department:"Maintenance",read:!1},{id:8,type:"urgent",title:"Parent Complaint",message:"Urgent complaint regarding cafeteria food quality",timestamp:"12 hours ago",priority:"high",department:"Administration",read:!1},{id:9,type:"academic",title:"Teacher Conference Request",message:"Ms. Johnson requests conference about curriculum changes",timestamp:"1 day ago",priority:"medium",department:"Academic",read:!0},{id:10,type:"financial",title:"Monthly Budget Report",message:"February budget report is now available for review",timestamp:"1 day ago",priority:"low",department:"Finance",read:!0}],o={high:i.filter(h=>h.priority==="high").length,medium:i.filter(h=>h.priority==="medium").length,low:i.filter(h=>h.priority==="low").length,unread:i.filter(h=>!h.read).length},l=h=>{switch(h){case"urgent":case"warning":return Jo;case"success":return Dr;case"info":return Yb;default:return Bs}},c=(h,m)=>{if(m==="high")return"red";switch(h){case"urgent":return"red";case"warning":return"yellow";case"success":return"green";case"financial":return"emerald";case"academic":return"blue";case"staff":return"purple";default:return"gray"}},d=h=>{switch(h.toLowerCase()){case"academic":return jr;case"finance":return iu;case"hr":return pn;case"safety":return Jo;case"administration":return pn;default:return Bs}},u=i.filter(h=>!(e!=="all"&&h.priority!==e&&e!=="unread"||e==="unread"&&h.read||s&&!h.title.toLowerCase().includes(s.toLowerCase())&&!h.message.toLowerCase().includes(s.toLowerCase())));return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Notification Center"}),n.jsx("p",{className:"text-yellow-100",children:"Manage all school notifications and alerts"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:o.unread}),n.jsx("div",{className:"text-xs text-yellow-100",children:"Unread"})]}),n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:o.high}),n.jsx("div",{className:"text-xs text-yellow-100",children:"Urgent"})]})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:i.length}),n.jsx("div",{className:"text-sm text-amber-600",children:"Total Notifications"})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:n.jsx(Bs,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.high}),n.jsx("div",{className:"text-sm text-amber-600",children:"High Priority"})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:n.jsx(Jo,{className:"w-6 h-6 text-red-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-600",children:o.medium}),n.jsx("div",{className:"text-sm text-amber-600",children:"Medium Priority"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:n.jsx(LD,{className:"w-6 h-6 text-amber-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-600",children:o.unread}),n.jsx("div",{className:"text-sm text-gray-500",children:"Unread"})]}),n.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:n.jsx(nr,{className:"w-6 h-6 text-gray-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(In,{className:"w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:s,onChange:h=>a(h.target.value),placeholder:"Search notifications...",className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(co,{className:"w-5 h-5 text-gray-400"}),n.jsxs("select",{value:e,onChange:h=>r(h.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Notifications"}),n.jsx("option",{value:"high",children:"High Priority"}),n.jsx("option",{value:"medium",children:"Medium Priority"}),n.jsx("option",{value:"low",children:"Low Priority"}),n.jsx("option",{value:"unread",children:"Unread Only"})]})]}),n.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Mark All Read"}),n.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Archive All"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:u.length>0?u.map(h=>{const m=l(h.type),f=d(h.department),x=c(h.type,h.priority);return n.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors ${h.read?"":"bg-blue-50/30"}`,children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`p-3 rounded-lg flex-shrink-0 ${x==="red"?"bg-red-100":x==="yellow"?"bg-yellow-100":x==="green"?"bg-green-100":x==="emerald"?"bg-emerald-100":x==="blue"?"bg-blue-100":x==="purple"?"bg-purple-100":"bg-gray-100"}`,children:n.jsx(m,{className:`w-5 h-5 ${x==="red"?"text-red-600":x==="yellow"?"text-yellow-600":x==="green"?"text-green-600":x==="emerald"?"text-emerald-600":x==="blue"?"text-blue-600":x==="purple"?"text-purple-600":"text-gray-600"}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:`font-semibold ${h.read?"text-gray-700":"text-gray-900"}`,children:[h.title,!h.read&&n.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-500 rounded-full inline-block"})]}),n.jsx("p",{className:"text-gray-600 mt-1 line-clamp-2",children:h.message})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.priority==="high"?"bg-red-100 text-red-700":h.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:h.priority}),n.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:n.jsx(fc,{className:"w-4 h-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(nr,{className:"w-4 h-4"}),h.timestamp]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(f,{className:"w-4 h-4"}),h.department]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Archive",children:n.jsx(S6,{className:"w-4 h-4 text-gray-400"})}),n.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"Flag",children:n.jsx(LD,{className:"w-4 h-4 text-gray-400"})})]})]})]})]})},h.id)}):n.jsxs("div",{className:"p-12 text-center",children:[n.jsx(Bs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications found"}),n.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria."})]})}),u.length>10&&n.jsx("div",{className:"p-6 bg-gray-50 text-center",children:n.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Load More Notifications"})})]})]})},E9e=[{value:"1",label:"Class 1"},{value:"2",label:"Class 2"},{value:"3",label:"Class 3"},{value:"4",label:"Class 4"},{value:"5",label:"Class 5"},{value:"6",label:"Class 6"},{value:"7",label:"Class 7"},{value:"8",label:"Class 8"},{value:"9",label:"Class 9"},{value:"10",label:"Class 10"},{value:"11",label:"Class 11"},{value:"12",label:"Class 12"}],T9e=["A","B","C","D"],Cw=[{id:"p1",role:"Parent",name:"Anita Sharma",class:"1",section:"A",email:"anita@example.com",phone:"+91-900000001"},{id:"p2",role:"Parent",name:"Rahul Verma",class:"1",section:"B",email:"rahul@example.com",phone:"+91-900000002"},{id:"p3",role:"Parent",name:"Sonal Kapoor",class:"2",section:"A",email:"sonal@example.com",phone:"+91-900000003"},{id:"p4",role:"Parent",name:"Deepak Singh",class:"3",section:"C",email:"deepak@example.com",phone:"+91-900000004"},{id:"t1",role:"Teacher",name:"Mr. Iyer",class:"5",section:"A",email:"iyer@school.edu",phone:"+91-900000101"},{id:"t2",role:"Teacher",name:"Ms. Bose",class:"7",section:"B",email:"bose@school.edu",phone:"+91-900000102"},{id:"s1",role:"Staff",name:"Office Admin",class:"-",section:"-",email:"office@school.edu",phone:"+91-900000201"},{id:"s2",role:"Staff",name:"Transport Incharge",class:"-",section:"-",email:"bus@school.edu",phone:"+91-900000202"}];function M9e(){const[t,e]=L.useState(!0),[r,s]=L.useState(!1),[a,i]=L.useState("Parents"),[o,l]=L.useState(""),[c,d]=L.useState(""),[u,h]=L.useState(""),[m,f]=L.useState(new Set),[x,v]=L.useState(""),[g,b]=L.useState(""),N=L.useMemo(()=>{let T=Cw;if(a!=="All"&&(T=T.filter(k=>k.role.toLowerCase()===a.toLowerCase())),o&&(T=T.filter(k=>k.class===o)),c&&(T=T.filter(k=>k.section===c)),u.trim()){const k=u.trim().toLowerCase();T=T.filter(P=>P.name.toLowerCase().includes(k)||P.email&&P.email.toLowerCase().includes(k)||P.phone&&P.phone.toLowerCase().includes(k))}return T},[a,o,c,u]),w=T=>{f(k=>{const P=new Set(k);return P.has(T)?P.delete(T):P.add(T),P})},A=()=>{f(new Set(N.map(T=>T.id)))},j=()=>f(new Set),S=g.length,E=Math.max(1,Math.ceil(S/160)),R=(t||r)&&m.size>0&&g.trim().length>0,C=async()=>{const T=Cw.filter(k=>m.has(k.id));console.log("Sending via:",{email:t,sms:r}),console.log("Audience/Filters:",{audience:a,selectedClass:o,selectedSection:c,query:u}),console.log("Subject:",x),console.log("Message:",g),console.log("Recipients:",T),alert(`Prepared to send ${t?"Email ":""}${t&&r?"& ":""}${r?"SMS ":""}to ${T.length} recipient(s).`)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Communications"}),n.jsx("p",{className:"text-yellow-100",children:"Send Email and SMS to parents, teachers, and staff"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right",children:[n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:Cw.filter(T=>T.role==="Parent").length}),n.jsxs("div",{className:"text-xs text-yellow-100 flex items-center gap-1 justify-end",children:[n.jsx(na,{className:"w-3 h-3"})," Parents"]})]}),n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:Cw.filter(T=>T.role!=="Parent").length}),n.jsxs("div",{className:"text-xs text-yellow-100 flex items-center gap-1 justify-end",children:[n.jsx(sr,{className:"w-3 h-3"})," Staff & Teachers"]})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100 p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap md:col-span-2",children:[n.jsxs("button",{onClick:()=>e(T=>!T),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${t?"bg-amber-100 border-amber-300 text-amber-800":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(mc,{className:"w-4 h-4"})," Email"]}),n.jsxs("button",{onClick:()=>s(T=>!T),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${r?"bg-yellow-100 border-yellow-300 text-yellow-800":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Sc,{className:"w-4 h-4"})," SMS"]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"text-xs text-amber-700",children:"Audience"}),n.jsxs("select",{value:a,onChange:T=>i(T.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[n.jsx("option",{children:"Parents"}),n.jsx("option",{children:"Teachers"}),n.jsx("option",{children:"Staff"}),n.jsx("option",{children:"All"})]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"text-xs text-amber-700",children:"Class"}),n.jsxs("select",{value:o,onChange:T=>l(T.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[n.jsx("option",{value:"",children:"All Classes"}),E9e.map(T=>n.jsx("option",{value:T.value,children:T.label},T.value))]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"text-xs text-amber-700",children:"Section"}),n.jsxs("select",{value:c,onChange:T=>d(T.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",children:[n.jsx("option",{value:"",children:"All Sections"}),T9e.map(T=>n.jsx("option",{value:T,children:T},T))]})]}),n.jsxs("div",{className:"md:col-span-2 min-w-0",children:[n.jsx("label",{className:"text-xs text-amber-700",children:"Search"}),n.jsxs("div",{className:"mt-1 relative",children:[n.jsx(In,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),n.jsx("input",{value:u,onChange:T=>h(T.target.value),placeholder:"Search name, email, phone",className:"w-full border border-gray-200 rounded-lg pl-9 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400"})]})]})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-amber-800",children:[m.size," selected  ",N.length," match",N.length!==1?"es":""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:A,className:"text-sm px-3 py-1.5 rounded-lg bg-yellow-50 hover:bg-yellow-100 border border-yellow-200 text-amber-800",children:"Select All"}),n.jsx("button",{onClick:j,className:"text-sm px-3 py-1.5 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-700",children:"Clear"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[n.jsxs("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm border border-yellow-100 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-yellow-100 flex items-center justify-between",children:n.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Recipients"})}),n.jsxs("div",{className:"divide-y divide-yellow-50 max-h-[440px] overflow-auto",children:[N.map(T=>n.jsxs("label",{className:"flex items-center gap-4 p-4 hover:bg-yellow-50 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:m.has(T.id),onChange:()=>w(T.id),className:"w-4 h-4"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-amber-900",children:T.name}),n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T.role==="Parent"?"bg-purple-100 text-purple-700":T.role==="Teacher"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-800"}`,children:T.role})]}),n.jsxs("div",{className:"text-sm text-amber-700",children:[T.email,"  ",T.phone]})]}),n.jsx("div",{className:"text-sm text-amber-700 w-24 text-right",children:T.class!=="-"?`Class ${T.class}-${T.section}`:"-"})]},T.id)),N.length===0&&n.jsx("div",{className:"p-6 text-center text-amber-700",children:"No matches found."})]})]}),n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Compose Message"}),t&&n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"text-xs text-amber-700",children:"Subject (Email)"}),n.jsx("input",{value:x,onChange:T=>v(T.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",placeholder:"Subject line"})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"text-xs text-amber-700",children:"Message"}),n.jsx("textarea",{rows:8,value:g,onChange:T=>b(T.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",placeholder:"Type your announcement or message here..."}),r&&n.jsxs("div",{className:"text-xs text-amber-700 mt-1",children:[S," characters  ~",E," SMS segment",E>1?"s":""]})]}),n.jsxs("button",{disabled:!R,onClick:C,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-white transition-colors ${R?"bg-amber-600 hover:bg-amber-700":"bg-gray-300 cursor-not-allowed"}`,children:[n.jsx(vs,{className:"w-4 h-4"}),t&&r?"Send Email & SMS":t?"Send Email":"Send SMS"]}),n.jsx("div",{className:"text-xs text-amber-700 mt-2",children:"This is a demo UI. Integrate with backend APIs to actually deliver messages."})]})]})]})}ev.register(qb,Gb,Bx,i8,o8,a8);const P9e="http://localhost:5000",D9e=()=>{var E,R,C,T,k,P,D,H,F,z;const[t,e]=L.useState("overview"),[r,s]=L.useState(!0),[a,i]=L.useState(null),[o,l]=L.useState(!0),[c,d]=L.useState("");L.useEffect(()=>{(async()=>{l(!0),d("");try{const W=await fetch(`${P9e}/api/principal/overview`,{method:"GET",headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}});if(!W.ok)throw new Error("Failed to load principal overview");const ee=await W.json();i(ee)}catch(W){console.error("Principal overview error:",W),d("Unable to load live dashboard data.")}finally{l(!1)}})()},[]);const u={totalStudents:((E=a==null?void 0:a.stats)==null?void 0:E.totalStudents)??1247,totalTeachers:((R=a==null?void 0:a.stats)==null?void 0:R.totalTeachers)??89,totalStaff:34,totalClasses:((C=a==null?void 0:a.stats)==null?void 0:C.totalClasses)??45,activeParents:((T=a==null?void 0:a.stats)==null?void 0:T.totalParents)??1180,attendanceRate:((k=a==null?void 0:a.attendance)==null?void 0:k.rate)??94.2,satisfactionScore:4.7,currentRevenue:(P=a==null?void 0:a.fees)!=null&&P.paidAmount?Number((a.fees.paidAmount/1e6).toFixed(2)):2.4,monthlyGrowth:8.3},h=[{id:1,type:"urgent",title:"Fire Safety Inspection Due",message:"Annual fire safety inspection scheduled for next week",timestamp:"10 minutes ago",priority:"high",department:"Safety"},{id:2,type:"academic",title:"Exam Results Available",message:"Mid-term examination results ready for review",timestamp:"1 hour ago",priority:"medium",department:"Academic"},{id:3,type:"financial",title:"Budget Approval Required",message:"Q2 budget proposal awaiting principal approval",timestamp:"2 hours ago",priority:"high",department:"Finance"}],m=[{id:1,action:"New teacher application approved",time:"5 min ago",type:"staff"},{id:2,action:"Student disciplinary meeting scheduled",time:"15 min ago",type:"student"},{id:3,action:"Budget report generated",time:"30 min ago",type:"finance"},{id:4,action:"Parent-teacher meeting confirmed",time:"1 hour ago",type:"academic"}],f=[{title:"Academic Excellence",value:"94.2%",change:"+2.1%",trend:"up",color:"bg-emerald-100 text-emerald-800",icon:Kn,description:"Students achieving above 85%"},{title:"Teacher Satisfaction",value:"4.6/5",change:"+0.2",trend:"up",color:"bg-blue-100 text-blue-800",icon:xc,description:"Based on quarterly survey"},{title:"Parent Engagement",value:"89.3%",change:"+5.7%",trend:"up",color:"bg-purple-100 text-purple-800",icon:sr,description:"Active participation rate"},{title:"Infrastructure Score",value:"92/100",change:"+3",trend:"up",color:"bg-amber-100 text-amber-800",icon:zf,description:"Facility condition rating"}],x=[{title:"Total Students",value:u.totalStudents.toLocaleString(),change:"+47",changeType:"increase",icon:na,color:"bg-blue-600",drillDown:"students"},{title:"Faculty & Staff",value:(u.totalTeachers+u.totalStaff).toLocaleString(),change:"+3",changeType:"increase",icon:sr,color:"bg-green-600",drillDown:"staff"},{title:"Active Classes",value:u.totalClasses.toString(),change:"+2",changeType:"increase",icon:kr,color:"bg-purple-600",drillDown:"academics"},{title:"Attendance Rate",value:`${u.attendanceRate}%`,change:"+1.2%",changeType:"increase",icon:xc,color:"bg-orange-600",drillDown:"attendance"},{title:"Revenue (M)",value:`$${u.currentRevenue}M`,change:`+${u.monthlyGrowth}%`,changeType:"increase",icon:iu,color:"bg-indigo-600",drillDown:"finance"},{title:"Satisfaction Score",value:`${u.satisfactionScore}/5`,change:"+0.3",changeType:"increase",icon:Kn,color:"bg-yellow-500",drillDown:"satisfaction"}],v=(H=(D=a==null?void 0:a.attendance)==null?void 0:D.trend)!=null&&H.length?a.attendance.trend.map(O=>({month:O.month,value:O.rate})):[{month:"Jan",value:92.4},{month:"Feb",value:93.1},{month:"Mar",value:94.2},{month:"Apr",value:94.8},{month:"May",value:95.3},{month:"Jun",value:94.7}],g={labels:v.map(O=>O.month),datasets:[{label:"Attendance Rate (%)",data:v.map(O=>O.value),backgroundColor:"rgba(59, 130, 246, 0.7)",borderRadius:8},{label:"Target (%)",data:Array(v.length).fill(95),backgroundColor:"rgba(34, 197, 94, 0.5)",borderRadius:8}]},b={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Attendance Trend (Last 6 Months)"}},scales:{y:{min:85,max:100,ticks:{stepSize:1},title:{display:!0,text:"Attendance (%)"}}}},N=(z=(F=a==null?void 0:a.performance)==null?void 0:F.gradeDistribution)!=null&&z.length?a.performance.gradeDistribution.map(O=>({grade:O.grade,students:O.count})):[{grade:"A",students:420},{grade:"B",students:380},{grade:"C",students:280},{grade:"D",students:120},{grade:"F",students:47}],w={labels:N.map(O=>O.grade),datasets:[{label:"Students",data:N.map(O=>O.students),backgroundColor:["rgba(251, 191, 36, 0.7)","rgba(59, 130, 246, 0.7)","rgba(34, 197, 94, 0.7)","rgba(239, 68, 68, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:["rgba(251, 191, 36, 1)","rgba(59, 130, 246, 1)","rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},A={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Student Performance Distribution"}}},j=(O,W)=>{const ee=O.icon;return n.jsxs("div",{className:"relative rounded-xl p-6 shadow-lg overflow-hidden group cursor-pointer transition-all duration-300 hover:shadow-xl",onClick:()=>e(O.drillDown),children:[n.jsx("div",{className:`absolute top-0 left-0 w-full h-1 ${O.color}`}),n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:O.title}),n.jsx("div",{className:`p-2 rounded-lg ${O.color.replace("600","100")} text-white`,children:n.jsx(ee,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"flex items-end justify-between mt-auto",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.value}),n.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs font-medium ${O.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[O.changeType==="increase"?n.jsx(zx,{className:"w-3 h-3"}):n.jsx(_6,{className:"w-3 h-3"}),O.change]})]})})]}),n.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-5 transition-opacity"})]},W)},S=(O,W)=>{const ee=O.icon;return n.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:n.jsxs("div",{className:"p-5",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`p-3 rounded-lg ${O.color.split(" ")[0]} ${O.color.split(" ")[1].replace("800","600")}`,children:n.jsx(ee,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:O.title}),n.jsx("p",{className:"text-sm text-gray-500",children:O.description})]})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:O.value}),n.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${O.trend==="up"?"text-green-600":"text-red-600"}`,children:[O.trend==="up"?n.jsx(Yr,{className:"w-4 h-4"}):n.jsx(_6,{className:"w-4 h-4"}),O.change]})]})]})},W)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>s(!1)}),n.jsx(j9e,{activeView:t,setActiveView:e,isOpen:r,setIsOpen:s}),n.jsxs("div",{className:`transition-all duration-300 ${r?"ml-80":"ml-20"}`,children:[n.jsx("div",{className:"sticky top-0 z-30",children:n.jsx(N9e,{sidebarOpen:r,setSidebarOpen:s,notifications:h})}),n.jsxs("main",{className:"p-6 bg-gray-50 min-h-screen",children:[(o||c)&&n.jsx("div",{className:`mb-4 rounded-lg border px-4 py-3 text-sm ${c?"border-red-200 bg-red-50 text-red-700":"border-yellow-200 bg-yellow-50 text-yellow-800"}`,children:o?"Loading live dashboard data...":c}),t==="overview"?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-300 to-yellow-500 rounded-xl p-6 text-black relative overflow-hidden shadow-xl",children:[n.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-geometric.png')] opacity-10"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Principal Dashboard"}),n.jsx("p",{className:"text-black opacity-90",children:"Comprehensive analytics for Electronic Educare Center"})]}),n.jsxs("div",{className:"mt-4 md:mt-0 flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm",children:[n.jsx(Kt,{className:"w-5 h-5"}),n.jsx("span",{children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("button",{className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg backdrop-blur-sm flex items-center gap-2 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),"Export Report"]})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"School Overview"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-black hover:bg-gray-200 rounded-lg text-sm transition-colors",children:[n.jsx(co,{className:"w-4 h-4"}),"Filters"]}),n.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-black hover:bg-gray-200 rounded-lg text-sm transition-colors",children:[n.jsx(Pg,{className:"w-4 h-4"}),"Refresh"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:x.map((O,W)=>j(O,W))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1 space-y-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Key Metrics"}),n.jsx("div",{className:"space-y-4",children:f.map((O,W)=>S(O,W))})]})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Trend"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:n.jsx(k6,{className:"w-4 h-4"})}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"appearance-none bg-gray-100 border-none rounded-lg pl-3 pr-8 py-1 text-sm focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{children:"Last 6 Months"}),n.jsx("option",{children:"Last Year"}),n.jsx("option",{children:"Last 3 Years"})]}),n.jsx(bs,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"})]})]})]}),n.jsx("div",{className:"h-64",children:n.jsx(l8,{data:g,options:b})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Student Performance Distribution"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:n.jsx(k6,{className:"w-4 h-4"})}),n.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:n.jsx(Ire,{className:"w-4 h-4"})})]})]}),n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsx(c8,{data:w,options:A})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Jo,{className:"w-5 h-5 text-red-500"}),"Critical Alerts"]}),n.jsxs("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-1",children:["View All",n.jsx(Vs,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"divide-y divide-gray-100",children:h.map(O=>n.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`mt-1 flex-shrink-0 p-2 rounded-full ${O.priority==="high"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:n.jsx(Bs,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-gray-900",children:O.title}),n.jsx("span",{className:"text-xs text-gray-500",children:O.timestamp})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.message}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.department==="Safety"?"bg-red-100 text-red-700":O.department==="Academic"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:O.department}),n.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"Take Action"})]})]})]})},O.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Qa,{className:"w-5 h-5 text-blue-500"}),"Recent Activities"]})}),n.jsx("div",{className:"divide-y divide-gray-100",children:m.map(O=>n.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${O.type==="staff"?"bg-green-500":O.type==="student"?"bg-blue-500":O.type==="finance"?"bg-purple-500":"bg-orange-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.action}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:O.time}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.type==="staff"?"bg-green-100 text-green-700":O.type==="student"?"bg-blue-100 text-blue-700":O.type==="finance"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:O.type.charAt(0).toUpperCase()+O.type.slice(1)})]})]})]})},O.id))})]})]})]}):t==="academics"?n.jsx(S9e,{}):t==="students"?n.jsx(_9e,{}):t==="staff"?n.jsx(A9e,{}):t==="finance"?n.jsx(C9e,{}):t==="notifications"?n.jsx(k9e,{notifications:h}):t==="facilities"?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Facilities & Resources"}),n.jsx("p",{className:"text-yellow-100",children:"Infrastructure management and maintenance oversight"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:"98%"}),n.jsx("div",{className:"text-xs text-yellow-100",children:"Operational"})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"45"}),n.jsx("div",{className:"text-sm text-amber-600",children:"Classrooms"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:n.jsx(zf,{className:"w-6 h-6 text-amber-600"})})]}),n.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"42 Active, 3 Under Maintenance"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"8"}),n.jsx("div",{className:"text-sm text-amber-600",children:"Laboratories"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Qa,{className:"w-6 h-6 text-purple-600"})})]}),n.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"All Operational"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"12"}),n.jsx("div",{className:"text-sm text-amber-600",children:"Buses"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:n.jsx(Yr,{className:"w-6 h-6 text-amber-600"})})]}),n.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"11 Active, 1 In Service"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"95%"}),n.jsx("div",{className:"text-sm text-amber-600",children:"HVAC Systems"})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:n.jsx(Kf,{className:"w-6 h-6 text-yellow-600"})})]}),n.jsx("div",{className:"mt-2 text-xs text-amber-600",children:"Optimal Performance"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[n.jsx("div",{className:"p-6 border-b border-yellow-100",children:n.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Upcoming Maintenance"})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:[{task:"HVAC System Inspection",date:"2024-08-10",location:"Main Building",priority:"high"},{task:"Fire Safety Equipment Check",date:"2024-08-12",location:"All Buildings",priority:"high"},{task:"Playground Equipment Maintenance",date:"2024-08-15",location:"Sports Complex",priority:"medium"},{task:"Library Carpet Cleaning",date:"2024-08-18",location:"Library Wing",priority:"low"}].map((O,W)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-amber-900",children:O.task}),n.jsx("p",{className:"text-sm text-amber-600",children:O.location})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-amber-700",children:O.date}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.priority==="high"?"bg-red-100 text-red-700":O.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:O.priority})]})]},W))})})]})]}):t==="communications"?n.jsx(M9e,{}):t==="reports"?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Reports & Analytics"}),n.jsx("p",{className:"text-yellow-100",children:"Detailed insights and performance reports"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:"24"}),n.jsx("div",{className:"text-xs text-yellow-100",children:"Reports Generated"})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(ds,{className:"w-6 h-6 text-purple-600"})}),n.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Updated"})]}),n.jsx("h3",{className:"font-semibold text-amber-900",children:"Academic Reports"}),n.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Student performance & grades"}),n.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Last updated: 2 hours ago"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:n.jsx(iu,{className:"w-6 h-6 text-amber-600"})}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:"Pending"})]}),n.jsx("h3",{className:"font-semibold text-amber-900",children:"Financial Reports"}),n.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Budget & revenue analysis"}),n.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Due: Tomorrow"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:n.jsx(sr,{className:"w-6 h-6 text-yellow-600"})}),n.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Ready"})]}),n.jsx("h3",{className:"font-semibold text-amber-900",children:"Staff Reports"}),n.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Teacher performance & HR"}),n.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Available for download"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100 cursor-pointer hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Yr,{className:"w-6 h-6 text-purple-600"})}),n.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:"In Progress"})]}),n.jsx("h3",{className:"font-semibold text-amber-900",children:"Trend Analysis"}),n.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Multi-year comparisons"}),n.jsx("div",{className:"mt-3 text-xs text-amber-700",children:"Generating report..."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100",children:[n.jsx("div",{className:"p-6 border-b border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Recent Reports"}),n.jsxs("button",{className:"text-sm text-purple-600 hover:text-purple-700 flex items-center gap-1",children:["View All",n.jsx(Vs,{className:"w-4 h-4"})]})]})}),n.jsx("div",{className:"divide-y divide-yellow-100",children:[{name:"Monthly Academic Performance Report",date:"2024-08-05",type:"Academic",size:"2.4 MB",status:"completed"},{name:"Q2 Financial Summary",date:"2024-08-03",type:"Financial",size:"1.8 MB",status:"completed"},{name:"Teacher Evaluation Report",date:"2024-08-01",type:"HR",size:"3.1 MB",status:"completed"},{name:"Student Attendance Analysis",date:"2024-07-28",type:"Academic",size:"1.2 MB",status:"completed"},{name:"Facility Maintenance Report",date:"2024-07-25",type:"Operations",size:"980 KB",status:"completed"}].map((O,W)=>n.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jr,{className:"w-5 h-5 text-amber-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-amber-900",children:O.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"text-xs text-amber-600",children:O.date}),n.jsx("span",{className:"text-xs text-gray-400",children:""}),n.jsx("span",{className:"text-xs text-amber-600",children:O.size})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.type==="Academic"?"bg-blue-100 text-blue-700":O.type==="Financial"?"bg-green-100 text-green-700":O.type==="HR"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:O.type}),n.jsx("button",{className:"p-1 hover:bg-yellow-100 rounded text-amber-600",children:n.jsx(tn,{className:"w-4 h-4"})})]})]})},W))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[n.jsx("div",{className:"p-6 border-b border-yellow-100",children:n.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Report Statistics"})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"847"}),n.jsx("div",{className:"text-sm text-amber-600",children:"Total Reports Generated"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-amber-700",children:"This Month"}),n.jsx("span",{className:"font-semibold text-amber-900",children:"24"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-amber-700",children:"Automated"}),n.jsx("span",{className:"font-semibold text-amber-900",children:"18"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-amber-700",children:"Custom"}),n.jsx("span",{className:"font-semibold text-amber-900",children:"6"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-amber-700",children:"Avg. Generation Time"}),n.jsx("span",{className:"font-semibold text-amber-900",children:"2.3 min"})]})]}),n.jsx("button",{className:"w-full mt-4 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Generate New Report"})]})]})]})]}):t==="calendar"?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl p-8 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"School Calendar"}),n.jsx("p",{className:"text-yellow-100",children:"Events, schedules, and important dates"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[n.jsx("div",{className:"text-2xl font-bold",children:"8"}),n.jsx("div",{className:"text-xs text-yellow-100",children:"Upcoming Events"})]})})]})}),n.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-yellow-100",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{className:"p-2 hover:bg-yellow-50 rounded-lg",children:n.jsx(Vs,{className:"w-5 h-5 rotate-180 text-amber-600"})}),n.jsx("h2",{className:"text-xl font-bold text-amber-900",children:"August 2024"}),n.jsx("button",{className:"p-2 hover:bg-yellow-50 rounded-lg",children:n.jsx(Vs,{className:"w-5 h-5 text-amber-600"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Event"}),n.jsx("button",{className:"px-4 py-2 border border-yellow-300 text-amber-700 rounded-lg hover:bg-yellow-50 transition-colors",children:"View All"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-yellow-100",children:n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(O=>n.jsx("div",{className:"p-2 text-center text-sm font-medium text-amber-700",children:O},O))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35},(O,W)=>{const ee=W-3,K=ee>0&&ee<=31,re=[8,12,15,18,22,25].includes(ee),U=ee===6;return n.jsxs("div",{className:`p-2 h-16 border border-yellow-100 rounded ${K?"bg-white hover:bg-yellow-50":"bg-gray-50 text-gray-400"} ${U?"bg-purple-100 border-purple-300":""} cursor-pointer transition-colors`,children:[n.jsx("div",{className:`text-sm ${U?"font-bold text-purple-700":""}`,children:K?ee:""}),re&&n.jsx("div",{className:"mt-1",children:n.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"})})]},W)})})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-yellow-100",children:[n.jsx("div",{className:"p-6 border-b border-yellow-100",children:n.jsx("h3",{className:"text-lg font-semibold text-amber-900",children:"Upcoming Events"})}),n.jsx("div",{className:"divide-y divide-yellow-100",children:[{title:"Parent-Teacher Conference",date:"Aug 8",time:"9:00 AM",type:"meeting"},{title:"Science Fair Preparation",date:"Aug 12",time:"2:00 PM",type:"academic"},{title:"Staff Training Session",date:"Aug 15",time:"8:00 AM",type:"training"},{title:"Sports Day Practice",date:"Aug 18",time:"3:30 PM",type:"sports"},{title:"Board Meeting",date:"Aug 22",time:"10:00 AM",type:"meeting"},{title:"Library Week Opening",date:"Aug 25",time:"11:00 AM",type:"event"}].map((O,W)=>n.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${O.type==="meeting"?"bg-purple-500":O.type==="academic"?"bg-blue-500":O.type==="training"?"bg-green-500":O.type==="sports"?"bg-orange-500":"bg-amber-500"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-amber-900 text-sm",children:O.title}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"text-xs text-amber-600",children:O.date}),n.jsx("span",{className:"text-xs text-gray-400",children:""}),n.jsx("span",{className:"text-xs text-amber-600",children:O.time})]}),n.jsx("span",{className:`inline-block mt-2 text-xs px-2 py-1 rounded-full ${O.type==="meeting"?"bg-purple-100 text-purple-700":O.type==="academic"?"bg-blue-100 text-blue-700":O.type==="training"?"bg-green-100 text-green-700":O.type==="sports"?"bg-orange-100 text-orange-700":"bg-amber-100 text-amber-700"}`,children:O.type})]})]})},W))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"23"}),n.jsx("div",{className:"text-sm text-amber-600",children:"Events This Month"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Kt,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"156"}),n.jsx("div",{className:"text-sm text-amber-600",children:"Total Attendees"})]}),n.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:n.jsx(sr,{className:"w-6 h-6 text-amber-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"8"}),n.jsx("div",{className:"text-sm text-amber-600",children:"Pending Approvals"})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:n.jsx(nr,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-yellow-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:"94%"}),n.jsx("div",{className:"text-sm text-amber-600",children:"Event Success Rate"})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(Kn,{className:"w-6 h-6 text-green-600"})})]})})]})]}):n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-amber-900 mb-6",children:[t.charAt(0).toUpperCase()+t.slice(1)," View"]}),n.jsx("div",{className:"h-96 bg-yellow-50 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(zf,{className:"w-12 h-12 mx-auto text-amber-400 mb-4"}),n.jsxs("p",{className:"text-amber-600",children:[t," dashboard content will appear here"]})]})})]})]})]})]})},R9e=()=>{const[t,e]=L.useState("march"),[r,s]=L.useState("all"),[a]=L.useState(new Date),i={studentName:"Koushik Bala",class:"10-A",totalPresent:85,totalAbsent:5,totalLeaves:2,attendancePercentage:94.4,totalDays:92,punctualityScore:98,attendance:[{date:"2024-03-01",status:"Present",checkIn:"08:30 AM",checkOut:"03:30 PM"},{date:"2024-03-02",status:"Present",checkIn:"08:25 AM",checkOut:"03:30 PM"},{date:"2024-03-03",status:"Absent",checkIn:"-",checkOut:"-"}]},o=()=>{const l=a.getHours();return l<12?"Good Morning":l<17?"Good Afternoon":"Good Evening"};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-yellow-50 to-purple-100",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 rounded-2xl shadow-2xl mb-8",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full transform -translate-x-32 -translate-y-32"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full transform translate-x-48 translate-y-48"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 w-40 h-40 bg-purple-300 rounded-full transform -translate-x-20 -translate-y-20"})]}),n.jsx("div",{className:"relative z-10 p-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:n.jsx(Kt,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Attendance Report"}),n.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full",children:n.jsx("span",{className:"text-white text-xs font-bold",children:"LIVE TRACKING"})})]}),n.jsxs("p",{className:"text-white/90 text-lg mt-2",children:[o(),"! Track ",i.studentName,"'s attendance journey"]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx(Kn,{className:"w-4 h-4 text-yellow-300"}),n.jsxs("span",{className:"text-white text-sm font-medium",children:[i.attendancePercentage,"% Attendance"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx(rs,{className:"w-4 h-4 text-purple-300"}),n.jsxs("span",{className:"text-white text-sm font-medium",children:[i.punctualityScore,"% Punctual"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx(Zw,{className:"w-4 h-4 text-amber-300"}),n.jsxs("span",{className:"text-white text-sm font-medium",children:[i.totalDays," School Days"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-6 lg:mt-0",children:[n.jsxs("button",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all duration-200 border border-white/30",children:[n.jsx(Zb,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Share"})]}),n.jsxs("button",{className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-6 py-3 rounded-xl hover:from-purple-600 hover:to-indigo-700 transition-all duration-200 shadow-lg",children:[n.jsx(tn,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Export Report"})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(pn,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(sr,{className:"h-4 w-4 text-yellow-500"}),n.jsx("span",{className:"text-xs font-medium text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full",children:"STUDENT"})]})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"Student Profile"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Name:"}),n.jsx("span",{className:"text-sm font-bold text-gray-800",children:i.studentName})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Class:"}),n.jsx("span",{className:"text-sm font-bold text-gray-800",children:i.class})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Status"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]})})]})]}),n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(Dr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[n.jsx(Yr,{className:"h-3 w-3 text-green-600"}),n.jsx("span",{className:"text-xs font-bold text-green-600",children:"EXCELLENT"})]})]}),n.jsxs("h3",{className:"text-3xl font-bold text-green-600 mb-1",children:[i.attendancePercentage,"%"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Overall Attendance"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500",style:{width:`${i.attendancePercentage}%`}})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[n.jsxs("span",{children:["Present: ",i.totalPresent," days"]}),n.jsxs("span",{children:["Total: ",i.totalDays," days"]})]})]}),n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(Ti,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Qa,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{className:"text-xs font-medium text-red-600 bg-red-100 px-2 py-1 rounded-full",children:"TRACKED"})]})]}),n.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-1",children:i.totalAbsent}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Absent Days"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-red-400 to-pink-500 transition-all duration-500",style:{width:`${i.totalAbsent/i.totalDays*100}%`}})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[n.jsxs("span",{children:["Absent: ",i.totalAbsent," days"]}),n.jsxs("span",{children:[(i.totalAbsent/i.totalDays*100).toFixed(1),"% of total"]})]})]}),n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(RD,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(nr,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"APPROVED"})]})]}),n.jsx("h3",{className:"text-3xl font-bold text-purple-600 mb-1",children:i.totalLeaves}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Approved Leaves"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-purple-400 to-violet-500 transition-all duration-500",style:{width:`${i.totalLeaves/i.totalDays*100*5}%`}})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[n.jsxs("span",{children:["Leaves: ",i.totalLeaves," days"]}),n.jsx("span",{children:"Well planned"})]})]})]}),n.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 mb-8 shadow-xl border border-white/20",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-xl",children:n.jsx(Kt,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"appearance-none bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-200 rounded-xl px-4 py-3 pr-10 text-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent font-medium",value:t,onChange:l=>e(l.target.value),children:[n.jsx("option",{value:"march",children:"March 2024"}),n.jsx("option",{value:"february",children:"February 2024"}),n.jsx("option",{value:"january",children:"January 2024"})]}),n.jsx(bs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-yellow-600 pointer-events-none"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl",children:n.jsx(co,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"appearance-none bg-gradient-to-r from-purple-50 to-violet-50 border-2 border-purple-200 rounded-xl px-4 py-3 pr-10 text-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent font-medium",value:r,onChange:l=>s(l.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"}),n.jsx("option",{value:"leave",children:"Leave"})]}),n.jsx(bs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-600 pointer-events-none"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-amber-100 to-yellow-100 px-4 py-2 rounded-full border border-yellow-200",children:[n.jsx(Kr,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Filtered View"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{className:"flex items-center space-x-2 bg-gradient-to-r from-yellow-400 to-amber-500 text-white px-6 py-3 rounded-xl hover:from-yellow-500 hover:to-amber-600 transition-all duration-200 shadow-lg font-medium",children:[n.jsx(Rn,{className:"w-4 h-4"}),n.jsx("span",{children:"View Details"})]}),n.jsxs("button",{className:"flex items-center space-x-2 bg-gradient-to-r from-purple-500 to-violet-600 text-white px-6 py-3 rounded-xl hover:from-purple-600 hover:to-violet-700 transition-all duration-200 shadow-lg font-medium",children:[n.jsx(ds,{className:"w-4 h-4"}),n.jsx("span",{children:"Analytics"})]})]})]})}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-amber-500 to-purple-600 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl",children:n.jsx(Kt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Attendance Records"}),n.jsx("p",{className:"text-white/90 text-sm",children:"Daily attendance tracking with detailed timestamps"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-white/10 backdrop-blur-sm rounded-full px-3 py-1",children:[n.jsx(Qa,{className:"w-4 h-4 text-white"}),n.jsxs("span",{className:"text-white text-sm font-medium",children:[i.attendance.length," Records"]})]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-purple-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Check In"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Check Out"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-purple-100",children:i.attendance.map((l,c)=>n.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-yellow-50 hover:to-purple-50 transition-all duration-200",children:[n.jsx("td",{className:"px-6 py-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-100 to-amber-200 rounded-lg mr-3",children:n.jsx(Kt,{className:"w-4 h-4 text-yellow-700"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-gray-900",children:new Date(l.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),n.jsx("div",{className:"text-xs text-gray-500",children:new Date(l.date).getFullYear()})]})]})}),n.jsx("td",{className:"px-6 py-5",children:n.jsxs("div",{className:"flex items-center",children:[l.status==="Present"?n.jsx(Dr,{className:"w-4 h-4 text-green-500 mr-2"}):l.status==="Absent"?n.jsx(Ti,{className:"w-4 h-4 text-red-500 mr-2"}):n.jsx(RD,{className:"w-4 h-4 text-purple-500 mr-2"}),n.jsx("span",{className:`inline-block px-3 py-1.5 text-xs font-bold rounded-full shadow-sm ${l.status==="Present"?"bg-gradient-to-r from-green-400 to-emerald-500 text-white":l.status==="Absent"?"bg-gradient-to-r from-red-400 to-pink-500 text-white":"bg-gradient-to-r from-purple-400 to-violet-500 text-white"}`,children:l.status})]})}),n.jsx("td",{className:"px-6 py-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-green-100 to-emerald-200 rounded-lg mr-3",children:n.jsx(nr,{className:"w-4 h-4 text-green-700"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-gray-900",children:l.checkIn}),n.jsx("div",{className:"text-xs text-gray-500",children:l.checkIn!=="-"?"On Time":"No Check-in"})]})]})}),n.jsx("td",{className:"px-6 py-5",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-violet-200 rounded-lg mr-3",children:n.jsx(nr,{className:"w-4 h-4 text-purple-700"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-gray-900",children:l.checkOut}),n.jsx("div",{className:"text-xs text-gray-500",children:l.checkOut!=="-"?"Full Day":"No Check-out"})]})]})}),n.jsx("td",{className:"px-6 py-5",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-2 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-lg hover:from-yellow-500 hover:to-amber-600 transition-all duration-200 shadow-sm",children:n.jsx(Rn,{className:"w-4 h-4 text-white"})}),n.jsx("button",{className:"p-2 bg-gradient-to-r from-purple-400 to-violet-500 rounded-lg hover:from-purple-500 hover:to-violet-600 transition-all duration-200 shadow-sm",children:n.jsx(tn,{className:"w-4 h-4 text-white"})})]})})]},c))})]})}),n.jsx("div",{className:"bg-gradient-to-r from-yellow-50 via-amber-50 to-purple-50 p-6 border-t border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Present: ",i.totalPresent," days"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-red-400 to-pink-500 rounded-full"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Absent: ",i.totalAbsent," days"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-purple-400 to-violet-500 rounded-full"}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Leaves: ",i.totalLeaves," days"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-yellow-100 to-purple-100 px-4 py-2 rounded-full",children:[n.jsx(SW,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-sm font-bold text-purple-700",children:"Excellent Attendance Record!"})]})]})})]})]})})},L9e=()=>{const[t,e]=L.useState("overview"),[r,s]=L.useState("all"),a={studentName:"Koushik Bala",class:"10-A",studentId:"STU-2024-1085",currentPercentage:97,rank:5,totalStudents:120,attendance:94,improvement:"+5.2%",subjects:[{name:"Mathematics",grade:"A",percentage:92,teacher:"Dr. Sarah Johnson",assignments:{completed:15,total:15},tests:{completed:4,total:5},trend:[85,88,90,92],color:"#8b5cf6"},{name:"Physics",grade:"A-",percentage:88,teacher:"Prof. Michael Chen",assignments:{completed:12,total:12},tests:{completed:3,total:4},trend:[80,82,85,88],color:"#10b981"},{name:"English",grade:"B+",percentage:85,teacher:"Ms. Emily Davis",assignments:{completed:18,total:18},tests:{completed:4,total:4},trend:[78,80,82,85],color:"#3b82f6"},{name:"Chemistry",grade:"A",percentage:90,teacher:"Dr. Robert Kim",assignments:{completed:14,total:14},tests:{completed:3,total:3},trend:[82,85,88,90],color:"#f59e0b"},{name:"History",grade:"B+",percentage:87,teacher:"Mr. James Wilson",assignments:{completed:10,total:10},tests:{completed:2,total:2},trend:[80,83,85,87],color:"#ec4899"},{name:"Computer Science",grade:"A+",percentage:95,teacher:"Ms. Lisa Anderson",assignments:{completed:16,total:16},tests:{completed:3,total:3},trend:[88,90,92,95],color:"#06b6d4"}],upcomingAssignments:[{subject:"Physics",title:"Project Submission",dueDate:"Jun 25, 2023"},{subject:"English",title:"Essay Writing",dueDate:"Jun 28, 2023"},{subject:"Mathematics",title:"Problem Set 6",dueDate:"Jun 30, 2023"}],performanceTrend:[{month:"Jan",percentage:88},{month:"Feb",percentage:90},{month:"Mar",percentage:92},{month:"Apr",percentage:93},{month:"May",percentage:95},{month:"Jun",percentage:97}]},i=a.subjects.map(c=>({subject:c.name,percentage:c.percentage,fill:c.color})),o=[{name:"A",value:45,color:"#10b981"},{name:"B",value:30,color:"#3b82f6"},{name:"C",value:15,color:"#f59e0b"},{name:"D",value:7,color:"#ef4444"},{name:"F",value:3,color:"#6b7280"}],l=({active:c,payload:d,label:u})=>c&&d&&d.length?n.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-md border border-gray-200",children:[n.jsx("p",{className:"font-semibold text-gray-800",children:u}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",n.jsxs("span",{className:"font-medium",children:[d[0].value,"%"]})]})]}):null;return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-2xl shadow-2xl mb-8",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full transform translate-x-32 -translate-y-32"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white rounded-full transform -translate-x-48 translate-y-48"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 w-40 h-40 bg-yellow-300 rounded-full transform -translate-x-20 -translate-y-20"})]}),n.jsx("div",{className:"relative z-10 p-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:n.jsx(na,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Academic Report"}),n.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full",children:n.jsx("span",{className:"text-white text-xs font-bold",children:"DETAILED"})})]}),n.jsxs("p",{className:"text-white/90 text-lg mt-2",children:["Comprehensive academic performance analysis for ",a.studentName]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx(Kr,{className:"w-4 h-4 text-yellow-300"}),n.jsxs("span",{className:"text-white text-sm font-medium",children:["Rank #",a.rank]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx(Yr,{className:"w-4 h-4 text-green-300"}),n.jsxs("span",{className:"text-white text-sm font-medium",children:[a.improvement," Growth"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx(Kn,{className:"w-4 h-4 text-blue-300"}),n.jsxs("span",{className:"text-white text-sm font-medium",children:[a.currentPercentage,"% Overall"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-6 lg:mt-0",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("select",{className:"appearance-none bg-white/20 backdrop-blur-sm border-0 rounded-xl pl-4 pr-10 py-3 text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 min-w-[150px]",value:r,onChange:c=>s(c.target.value),children:[n.jsx("option",{value:"all",className:"text-gray-800",children:"All Subjects"}),a.subjects.map((c,d)=>n.jsx("option",{value:c.name.toLowerCase(),className:"text-gray-800",children:c.name},d))]}),n.jsx(bs,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/70 pointer-events-none"})]}),n.jsxs("button",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-xl hover:bg-white/30 transition-all duration-200 border border-white/30",children:[n.jsx(Zb,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Share"})]}),n.jsxs("button",{className:"flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-lg",children:[n.jsx(tn,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:"Export PDF"})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(pn,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Pn,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{className:"text-xs font-medium text-purple-600 bg-purple-100 px-2 py-1 rounded-full",children:"ACTIVE"})]})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:a.studentName}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Class ",a.class,"  ID: ",a.studentId]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Profile Status"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Online"})]})]})})]}),n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(ds,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[n.jsx(zx,{className:"h-3 w-3 text-green-600"}),n.jsx("span",{className:"text-xs font-bold text-green-600",children:a.improvement})]})]}),n.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-1",children:[a.currentPercentage,"%"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Overall Performance"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-400 to-cyan-500 transition-all duration-500",style:{width:`${a.currentPercentage}%`}})})]}),n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(Kn,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Kr,{className:"h-4 w-4 text-amber-500 fill-current"}),n.jsx("span",{className:"text-xs font-medium text-amber-600 bg-amber-100 px-2 py-1 rounded-full",children:"TOP 5"})]})]}),n.jsxs("div",{className:"flex items-baseline space-x-1 mb-1",children:[n.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:["#",a.rank]}),n.jsxs("span",{className:"text-lg text-gray-500",children:["/",a.totalStudents]})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Class Ranking"}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsx("span",{className:"text-gray-500",children:"Percentile"}),n.jsxs("span",{className:"font-bold text-amber-600",children:[Math.round((1-a.rank/a.totalStudents)*100),"th"]})]})]}),n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(Dr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(nr,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"EXCELLENT"})]})]}),n.jsxs("h3",{className:"text-3xl font-bold text-gray-800 mb-1",children:[a.attendance,"%"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Attendance Rate"}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500",style:{width:`${a.attendance}%`}})})]})]}),n.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-2 mb-8 shadow-xl border border-white/20",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="overview"?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("overview"),children:[n.jsx(ds,{className:"w-4 h-4"}),n.jsx("span",{children:"Overview"})]}),n.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="subjects"?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("subjects"),children:[n.jsx(kr,{className:"w-4 h-4"}),n.jsx("span",{children:"Subjects"})]}),n.jsxs("button",{className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${t==="assignments"?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,onClick:()=>e("assignments"),children:[n.jsx(jr,{className:"w-4 h-4"}),n.jsx("span",{children:"Assignments"})]})]})}),t==="overview"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl",children:n.jsx(Yr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Performance Trend"}),n.jsx("p",{className:"text-sm text-gray-600",children:"6-month academic progression"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-3 py-1 rounded-full",children:[n.jsx(zx,{className:"h-3 w-3 text-green-600"}),n.jsx("span",{className:"text-xs font-bold text-green-600",children:"+9% Growth"})]})]}),n.jsx("div",{className:"h-80",children:n.jsx(ad,{width:"100%",height:"100%",children:n.jsxs(OX,{data:a.performanceTrend,children:[n.jsx(Nh,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Ml,{dataKey:"month",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),n.jsx(Pl,{domain:[85,100],tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),n.jsx(Ra,{content:n.jsx(l,{}),cursor:{stroke:"#8b5cf6",strokeWidth:1}}),n.jsx(Xm,{type:"monotone",dataKey:"percentage",stroke:"url(#colorGradient)",strokeWidth:3,dot:{r:5,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:7,fill:"#8b5cf6",strokeWidth:3,stroke:"#fff"}}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#8b5cf6"}),n.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})})]})})})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl",children:n.jsx(rs,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Grade Distribution"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Class performance breakdown"})]})]}),n.jsx("div",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-3 py-1 rounded-full",children:"CLASS ANALYTICS"})]}),n.jsx("div",{className:"h-80",children:n.jsx(ad,{width:"100%",height:"100%",children:n.jsxs(XM,{children:[n.jsx(vd,{data:o,cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:3,dataKey:"value",label:({name:c,percent:d})=>`${c}: ${(d*100).toFixed(0)}%`,labelLine:!1,children:o.map((c,d)=>n.jsx(Zf,{fill:c.color},`cell-${d}`))}),n.jsx(Ra,{formatter:c=>[`${c}%`,"Students"],labelStyle:{color:"#1f2937"},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),n.jsx(tu,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"})]})})})]})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:n.jsx(ds,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Subject Performance Analysis"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Detailed performance across all subjects"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Rn,{className:"h-4 w-4 text-gray-500"})}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(tn,{className:"h-4 w-4 text-gray-500"})})]})]}),n.jsx("div",{className:"h-96",children:n.jsx(ad,{width:"100%",height:"100%",children:n.jsxs(Cb,{data:i,margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(Nh,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Ml,{dataKey:"subject",tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),n.jsx(Pl,{domain:[0,100],tick:{fontSize:12,fill:"#6b7280"},axisLine:{stroke:"#d1d5db"}}),n.jsx(Ra,{content:n.jsx(l,{}),cursor:{fill:"rgba(139, 92, 246, 0.1)"}}),n.jsx(nl,{dataKey:"percentage",radius:[8,8,0,0],name:"Performance %",children:i.map((c,d)=>n.jsx(Zf,{fill:`url(#gradient-${d})`},`cell-${d}`))}),n.jsx("defs",{children:i.map((c,d)=>n.jsxs("linearGradient",{id:`gradient-${d}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:c.fill,stopOpacity:.8}),n.jsx("stop",{offset:"100%",stopColor:c.fill,stopOpacity:.3})]},d))})]})})})]})]}),t==="subjects"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.subjects.map((c,d)=>n.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-white/20 hover:scale-105 transition-all duration-300",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-14 w-14 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",style:{backgroundColor:`${c.color}20`},children:n.jsx(kr,{className:"h-7 w-7",style:{color:c.color}})}),n.jsx("div",{className:"absolute -top-1 -right-1",children:n.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:""})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800",children:c.name}),n.jsx("p",{className:"text-sm text-gray-600",children:c.teacher}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]})]}),n.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[n.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-bold shadow-sm ${c.grade.startsWith("A")?"bg-gradient-to-r from-green-400 to-emerald-500 text-white":c.grade.startsWith("B")?"bg-gradient-to-r from-blue-400 to-cyan-500 text-white":"bg-gradient-to-r from-amber-400 to-orange-500 text-white"}`,children:c.grade}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Kr,{className:"h-3 w-3 text-yellow-500 fill-current"}),n.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Grade"})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Performance Score"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-2xl font-bold",style:{color:c.color},children:[c.percentage,"%"]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-2 py-1 rounded-full",children:[n.jsx(Yr,{className:"h-3 w-3 text-green-600"}),n.jsxs("span",{className:"text-xs text-green-600 font-bold",children:["+",c.trend[c.trend.length-1]-c.trend[0],"%"]})]})]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:n.jsx("div",{className:"h-3 rounded-full shadow-sm transition-all duration-1000 ease-out",style:{width:`${c.percentage}%`,background:`linear-gradient(90deg, ${c.color}aa, ${c.color})`}})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Assignments"}),n.jsx(jr,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[c.assignments.completed,n.jsxs("span",{className:"text-lg text-gray-500",children:["/",c.assignments.total]})]}),n.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5 mt-2",children:n.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-blue-400 to-blue-600",style:{width:`${c.assignments.completed/c.assignments.total*100}%`}})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Tests"}),n.jsx(rs,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[c.tests.completed,n.jsxs("span",{className:"text-lg text-gray-500",children:["/",c.tests.total]})]}),n.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5 mt-2",children:n.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-purple-400 to-purple-600",style:{width:`${c.tests.completed/c.tests.total*100}%`}})})]})]}),n.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Progress Trend"}),n.jsx(Qa,{className:"h-4 w-4 text-gray-500"})]}),n.jsx("div",{className:"flex items-end h-12 gap-1",children:c.trend.map((u,h)=>n.jsx("div",{className:"flex-1 rounded-t-lg transition-all duration-500 ease-out group-hover:scale-110",style:{height:`${(u-70)/30*100}%`,background:`linear-gradient(180deg, ${c.color}, ${c.color}80)`,opacity:.6+h*.1}},h))}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[n.jsx("span",{children:"Q1"}),n.jsx("span",{children:"Q2"}),n.jsx("span",{children:"Q3"}),n.jsx("span",{children:"Q4"})]})]})]})]},d))}),t==="assignments"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:n.jsx(jr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Upcoming Assignments"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Tasks due in the coming weeks"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-orange-100 px-3 py-1 rounded-full",children:[n.jsx(nr,{className:"h-3 w-3 text-orange-600"}),n.jsxs("span",{className:"text-xs font-bold text-orange-600",children:[a.upcomingAssignments.length," Pending"]})]})]}),n.jsx("div",{className:"space-y-4",children:a.upcomingAssignments.map((c,d)=>n.jsxs("div",{className:"group flex items-center justify-between p-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200 hover:shadow-lg hover:scale-102 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:n.jsx(jr,{className:"h-7 w-7 text-white"})}),n.jsx("div",{className:"absolute -top-1 -right-1",children:n.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:"!"})})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-1",children:c.title}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:c.subject}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-xs text-amber-600 font-medium",children:"High Priority"})]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[n.jsx(Kt,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:c.dueDate})]}),n.jsx("span",{className:"text-xs text-red-600 font-semibold bg-red-100 px-2 py-1 rounded-full",children:"Due Soon"})]}),n.jsx("button",{className:"group/btn h-10 w-10 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:n.jsx(fc,{className:"h-5 w-5 text-gray-500 group-hover/btn:text-gray-700"})})]})]},d))})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:n.jsx(rs,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Assignment Completion Analysis"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Subject-wise completion tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 px-3 py-1 rounded-full",children:[n.jsx(Dr,{className:"h-3 w-3 text-green-600"}),n.jsx("span",{className:"text-xs font-bold text-green-600",children:"98% Overall"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.subjects.map((c,d)=>n.jsxs("div",{className:"group bg-gradient-to-br from-gray-50 to-white p-6 rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",style:{backgroundColor:`${c.color}20`},children:n.jsx(kr,{className:"h-5 w-5",style:{color:c.color}})}),n.jsx("h4",{className:"font-bold text-gray-800",children:c.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-2xl font-bold",style:{color:c.color},children:[Math.round(c.assignments.completed/c.assignments.total*100),"%"]}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Completion"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:n.jsx("div",{className:"h-3 rounded-full shadow-sm transition-all duration-1000 ease-out",style:{width:`${c.assignments.completed/c.assignments.total*100}%`,background:`linear-gradient(90deg, ${c.color}aa, ${c.color})`}})}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 font-medium",children:[c.assignments.completed," of ",c.assignments.total," completed"]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[c.assignments.completed===c.assignments.total?n.jsx(Dr,{className:"h-4 w-4 text-green-500"}):n.jsx(nr,{className:"h-4 w-4 text-amber-500"}),n.jsx("span",{className:`text-xs font-semibold ${c.assignments.completed===c.assignments.total?"text-green-600":"text-amber-600"}`,children:c.assignments.completed===c.assignments.total?"Complete":"In Progress"})]})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("span",{children:["Remaining: ",c.assignments.total-c.assignments.completed]}),n.jsxs("span",{children:["Grade Impact: ",c.grade]})]})})]})]},d))})]})]})]})})},O9e=()=>{const t=()=>{const m=new ir;m.setFontSize(18),m.text("Fee Payment Receipt",20,20),m.setFontSize(12),m.text(`Student Name: ${h.studentName}`,20,35),m.text(`Class: ${h.class}`,20,45),m.text(`Total Fees: ${h.totalFees}`,20,55),m.text(`Paid Fees: ${h.paidFees}`,20,65),m.text(`Pending Fees: ${h.pendingFees}`,20,75),m.text(`Next Due Date: ${new Date(h.nextDueDate).toLocaleDateString()}`,20,85),m.text("Payments:",20,95);let f=105;h.payments.forEach((x,v)=>{m.text(`${v+1}. ${x.type} - ${x.amount} - ${x.status}${x.paidOn?" (Paid on "+new Date(x.paidOn).toLocaleDateString()+")":""}`,25,f),f+=10}),m.save("Fee_Receipt.pdf")},[e,r]=L.useState(null),[s,a]=L.useState(!1),[i,o]=L.useState(!1),[l,c]=L.useState(!1),[d,u]=L.useState(!1),h={studentName:"Koushik Bala",class:"10-A",totalFees:5e4,paidFees:35e3,pendingFees:15e3,nextDueDate:"2024-03-15",payments:[{id:1,type:"Tuition Fee",amount:25e3,dueDate:"2024-03-15",status:"Paid",paidOn:"2024-03-01"},{id:2,type:"Laboratory Fee",amount:5e3,dueDate:"2024-03-15",status:"Pending"},{id:3,type:"Library Fee",amount:2e3,dueDate:"2024-03-15",status:"Paid",paidOn:"2024-03-01"}]};return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Fees Payment"}),n.jsx("p",{className:"text-yellow-100",children:"Manage and pay school fees"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Student Info"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-gray-600",children:["Name: ",h.studentName]}),n.jsxs("p",{className:"text-gray-600",children:["Class: ",h.class]})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["",h.totalFees]}),n.jsx("p",{className:"text-gray-600",children:"Total Fees"})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h3",{className:"text-2xl font-bold text-green-600",children:["",h.paidFees]}),n.jsx("p",{className:"text-gray-600",children:"Paid Fees"})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h3",{className:"text-2xl font-bold text-red-600",children:["",h.pendingFees]}),n.jsx("p",{className:"text-gray-600",children:"Pending Fees"})]})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kt,{className:"w-5 h-5 text-gray-500"}),n.jsxs("span",{className:"text-gray-600",children:["Next Due Date: ",new Date(h.nextDueDate).toLocaleDateString()]})]})}),n.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",onClick:t,children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Download Receipt"})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full min-w-[600px] text-xs sm:text-sm",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Fee Type"}),n.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Amount"}),n.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Due Date"}),n.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Status"}),n.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-4 text-left font-medium text-gray-500",children:"Action"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:h.payments.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:n.jsx("div",{className:"text-gray-900",children:m.type})}),n.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:n.jsx("div",{className:"flex items-center text-gray-900",children:m.amount})}),n.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Kt,{className:"w-4 h-4 mr-2"}),new Date(m.dueDate).toLocaleDateString()]})}),n.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${m.status==="Paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status})}),n.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4",children:m.status==="Pending"?n.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-2 sm:px-3 py-1 border border-yellow-500 text-yellow-500 rounded hover:bg-yellow-50 text-xs sm:text-sm",children:[n.jsx(Cl,{className:"w-4 h-4 mr-1"}),"Pay Now"]}):n.jsxs("span",{className:"flex items-center text-green-600 text-xs sm:text-sm",children:[n.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Paid on ",new Date(m.paidOn).toLocaleDateString()]})})]},m.id))})]})})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-white rounded-xl p-4 sm:p-6 shadow-sm mb-4 sm:mb-6 mt-4 sm:mt-6 gap-4 sm:gap-0",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"Total Fees Due"}),n.jsxs("p",{className:"text-xl sm:text-2xl text-red-600 font-semibold",children:["",h.pendingFees]})]}),n.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-xl font-bold shadow-lg transition-all text-base sm:text-lg tracking-wide w-full sm:w-auto",onClick:()=>a(!0),children:"Pay Now"})]}),s&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-2 sm:p-0",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-md relative border border-yellow-300 animate-fadeIn",children:[n.jsx("button",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-400 hover:text-yellow-600 text-2xl sm:text-3xl font-bold focus:outline-none",onClick:()=>a(!1),children:n.jsx(ts,{})}),n.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-yellow-700 text-center",children:"Select Payment Method"}),n.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[n.jsx("button",{className:"w-full flex items-center gap-2 sm:gap-3 border border-yellow-300 py-2 sm:py-3 rounded-xl hover:bg-yellow-50 transition-all duration-200 group justify-center",onClick:()=>o(!0),children:n.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700 group-hover:text-gray-900",children:"UPI"})}),n.jsxs("button",{className:"w-full flex items-center gap-2 sm:gap-3 border border-yellow-300 py-2 sm:py-3 rounded-xl hover:bg-yellow-50 transition-all duration-200 group justify-center",onClick:()=>c(!0),children:[n.jsx(Cl,{className:"w-5 sm:w-6 h-5 sm:h-6 text-yellow-500"}),n.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700 group-hover:text-gray-900",children:"Credit/Debit Card"})]}),n.jsx("button",{className:"w-full flex items-center gap-2 sm:gap-3 border border-yellow-300 py-2 sm:py-3 rounded-xl hover:bg-yellow-50 transition-all duration-200 group justify-center",onClick:()=>u(!0),children:n.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700 group-hover:text-gray-900",children:"Net Banking"})})]})]})}),i&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-2 sm:p-0",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-sm relative border border-yellow-300 animate-fadeIn flex flex-col items-center",children:[n.jsx("button",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-400 hover:text-yellow-600 text-2xl sm:text-3xl font-bold focus:outline-none",onClick:()=>o(!1),children:n.jsx(ts,{})}),n.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-4 text-yellow-700 text-center",children:"Scan UPI QR to Pay"}),n.jsx("img",{src:"/koushik-upi-qr.jpeg",alt:"UPI QR Code",className:"w-40 sm:w-64 h-40 sm:h-64 object-contain rounded-lg border-2 border-yellow-300 mb-2 sm:mb-4"}),n.jsx("p",{className:"text-gray-600 text-center text-xs sm:text-base",children:"Open your UPI app and scan the QR code to complete the payment."})]})}),l&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-2 sm:p-0",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-lg relative border border-yellow-300 animate-fadeIn flex flex-col items-center",children:[n.jsx("button",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-400 hover:text-yellow-600 text-2xl sm:text-3xl font-bold focus:outline-none",onClick:()=>c(!1),children:n.jsx(ts,{})}),n.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-4 text-yellow-700 text-center",children:"Pay with Card"}),n.jsxs("form",{className:"w-full space-y-2 sm:space-y-4",children:[n.jsx("input",{type:"text",placeholder:"Card Number",maxLength:19,className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-3 sm:py-4 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-base sm:text-lg shadow-sm"}),n.jsxs("div",{className:"flex gap-2 sm:gap-6",children:[n.jsx("input",{type:"text",placeholder:"MM/YY",maxLength:5,className:"flex-1 border border-yellow-300 rounded-lg px-3 sm:px-4 py-3 sm:py-4 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-base sm:text-lg shadow-sm"}),n.jsx("input",{type:"text",placeholder:"CVV",maxLength:4,className:"w-16 sm:w-24 border border-yellow-300 rounded-lg px-3 sm:px-4 py-3 sm:py-4 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-base sm:text-lg shadow-sm"})]}),n.jsx("input",{type:"text",placeholder:"Cardholder Name",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-3 sm:py-4 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-base sm:text-lg shadow-sm"}),n.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-white py-3 sm:py-4 rounded-xl font-bold shadow-lg transition-all text-base sm:text-lg tracking-wide",children:"Pay"})]})]})}),d&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-2 sm:p-0",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-8 w-full max-w-sm relative border border-yellow-300 animate-fadeIn flex flex-col items-center",children:[n.jsx("button",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-gray-400 hover:text-yellow-600 text-2xl sm:text-3xl font-bold focus:outline-none",onClick:()=>u(!1),children:n.jsx(ts,{})}),n.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2 sm:mb-4 text-yellow-700 text-center",children:"Net Banking"}),n.jsxs("form",{className:"w-full space-y-2 sm:space-y-4",children:[n.jsxs("select",{className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 text-gray-800 text-sm sm:text-base shadow-sm",children:[n.jsx("option",{value:"",children:"Select Bank"}),n.jsx("option",{value:"SBI",children:"State Bank of India"}),n.jsx("option",{value:"HDFC",children:"HDFC Bank"}),n.jsx("option",{value:"ICICI",children:"ICICI Bank"}),n.jsx("option",{value:"AXIS",children:"Axis Bank"}),n.jsx("option",{value:"PNB",children:"Punjab National Bank"}),n.jsx("option",{value:"BOB",children:"Bank of Baroda"})]}),n.jsx("input",{type:"text",placeholder:"Account Holder Name",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-sm sm:text-base shadow-sm"}),n.jsx("input",{type:"text",placeholder:"Account Number",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-sm sm:text-base shadow-sm"}),n.jsx("input",{type:"text",placeholder:"IFSC Code",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-sm sm:text-base shadow-sm"}),n.jsx("input",{type:"text",placeholder:"Branch Name",className:"w-full border border-yellow-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 focus:ring-2 focus:ring-yellow-400 focus:outline-none bg-yellow-50 placeholder-gray-400 text-gray-800 text-sm sm:text-base shadow-sm"}),n.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-white py-2 sm:py-3 rounded-xl font-bold shadow-lg transition-all text-base sm:text-lg tracking-wide",children:"Pay"})]})]})}),n.jsxs("div",{className:"mt-4 sm:mt-6",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2 sm:mb-4",children:"Payment Methods"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 sm:gap-4",children:[n.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-xl shadow-sm border-2 border-yellow-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[n.jsx(Cl,{className:"w-5 sm:w-6 h-5 sm:h-6 text-yellow-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 text-xs sm:text-base",children:"Credit/Debit Card"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Pay securely with your card"})]})]}),n.jsx("input",{type:"radio",name:"payment",className:"text-yellow-500"})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-xl shadow-sm hover:border-2 hover:border-yellow-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 text-xs sm:text-base",children:"Net Banking"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Pay through your bank"})]})}),n.jsx("input",{type:"radio",name:"payment",className:"text-yellow-500"})]})}),n.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-xl shadow-sm hover:border-2 hover:border-yellow-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 text-xs sm:text-base",children:"UPI"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Pay using UPI"})]})}),n.jsx("input",{type:"radio",name:"payment",className:"text-yellow-500"})]})})]})]})]})},I9e=()=>{const t={studentName:"Koushik Bala",class:"10-A",age:15,bloodGroup:"B+",height:"165 cm",weight:"52 kg",bmi:"19.1",lastCheckup:"2024-02-15",medicalHistory:[{date:"2024-02-15",type:"Regular Checkup",findings:"Normal",doctor:"Dr. Johnson",recommendations:"Continue regular exercise"},{date:"2024-01-10",type:"Vaccination",findings:"Flu Shot",doctor:"Dr. Smith",recommendations:"Next dose due in 6 months"}],allergies:["Peanuts","Dust"],emergencyContact:{name:"John Smith",relation:"Father",phone:"+1 234-567-8900"}};return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Health Report"}),n.jsx("p",{className:"text-yellow-100",children:"View student health records and history"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Student Info"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-gray-600",children:["Name: ",t.studentName]}),n.jsxs("p",{className:"text-gray-600",children:["Class: ",t.class]}),n.jsxs("p",{className:"text-gray-600",children:["Age: ",t.age," years"]}),n.jsxs("p",{className:"text-gray-600",children:["Blood Group: ",t.bloodGroup]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Height & Weight"}),n.jsx(Qa,{className:"w-6 h-6 text-yellow-500"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(jW,{className:"w-5 h-5 text-gray-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Height"})]}),n.jsx("span",{className:"font-medium text-gray-800",children:t.height})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zse,{className:"w-5 h-5 text-gray-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Weight"})]}),n.jsx("span",{className:"font-medium text-gray-800",children:t.weight})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qa,{className:"w-5 h-5 text-gray-500 mr-2"}),n.jsx("span",{className:"text-gray-600",children:"BMI"})]}),n.jsx("span",{className:"font-medium text-gray-800",children:t.bmi})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Allergies"}),n.jsx(Zr,{className:"w-6 h-6 text-red-500"})]}),n.jsx("div",{className:"space-y-2",children:t.allergies.map((e,r)=>n.jsx("div",{className:"inline-block px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm mr-2",children:e},r))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Emergency Contact"}),n.jsx(il,{className:"w-6 h-6 text-red-500"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-gray-600",children:["Name: ",t.emergencyContact.name]}),n.jsxs("p",{className:"text-gray-600",children:["Relation: ",t.emergencyContact.relation]}),n.jsxs("p",{className:"text-gray-600",children:["Phone: ",t.emergencyContact.phone]})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kt,{className:"w-5 h-5 text-gray-500"}),n.jsxs("span",{className:"text-gray-600",children:["Last Checkup: ",new Date(t.lastCheckup).toLocaleDateString()]})]})}),n.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Download Report"})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Medical History"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Findings"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Doctor"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Recommendations"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.medicalHistory.map((e,r)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(Kt,{className:"w-4 h-4 mr-2 text-gray-500"}),new Date(e.date).toLocaleDateString()]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:e.type})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900",children:e.findings})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900",children:e.doctor})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:e.recommendations})})]},r))})]})})]})]})},F9e=()=>{const t={studentName:"Koushik Bala",class:"10-A",currentGPA:"89%",rank:5,totalStudents:120,examResults:[{examName:"Mid-Term Examination",date:"2024-02-15",subjects:[{name:"Mathematics",marks:92,grade:"A",maxMarks:100},{name:"Physics",marks:88,grade:"A-",maxMarks:100},{name:"Chemistry",marks:85,grade:"B+",maxMarks:100},{name:"English",marks:90,grade:"A",maxMarks:100}]},{examName:"Unit Test 2",date:"2024-01-20",subjects:[{name:"Mathematics",marks:95,grade:"A",maxMarks:100},{name:"Physics",marks:87,grade:"B+",maxMarks:100},{name:"Chemistry",marks:88,grade:"B+",maxMarks:100},{name:"English",marks:92,grade:"A",maxMarks:100}]}]};return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Results"}),n.jsx("p",{className:"text-yellow-100",children:"View your child's academic results"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Student Info"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-gray-600",children:["Name: ",t.studentName]}),n.jsxs("p",{className:"text-gray-600",children:["Class: ",t.class]})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-yellow-600",children:t.currentGPA}),n.jsx("p",{className:"text-gray-600",children:"Current Marks"})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:t.rank}),n.jsx("p",{className:"text-gray-600",children:"Class Rank"})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-green-600",children:t.totalStudents}),n.jsx("p",{className:"text-gray-600",children:"Total Students"})]})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(jr,{className:"w-5 h-5 text-gray-500"}),n.jsxs("select",{className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Exams"}),n.jsx("option",{value:"midterm",children:"Mid-Term"}),n.jsx("option",{value:"unit",children:"Unit Tests"})]})]})}),n.jsxs("button",{className:"flex items-center space-x-2 bg-yellow-500 text-black px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Download Report"})]})]})}),t.examResults.map((e,r)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-sm mb-6",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.examName}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Date: ",new Date(e.date).toLocaleDateString()]})]}),n.jsx(Yr,{className:"w-6 h-6 text-yellow-500"})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Subject"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Marks"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Grade"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500",children:"Performance"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.subjects.map((s,a)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900",children:s.name})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[s.marks,"/",s.maxMarks]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${s.grade.startsWith("A")?"bg-green-100 text-green-800":s.grade.startsWith("B")?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:s.grade})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${s.marks/s.maxMarks*100}%`}})})})]},a))})]})})]},r))]})},B9e=()=>{const t={studentName:"Koushik Bala",class:"10-A",totalAwards:12,recentAchievements:3,achievements:[{id:1,title:"First Place - Science Fair",category:"Academic",date:"2024-02-15",description:"Won first place for innovative project on renewable energy",awardType:"Gold Medal",issuer:"State Science Association"},{id:2,title:"Best Speaker Award",category:"Extra-Curricular",date:"2024-01-20",description:"Recognized for outstanding performance in inter-school debate competition",awardType:"Trophy",issuer:"Regional Education Board"},{id:3,title:"Academic Excellence",category:"Academic",date:"2023-12-15",description:"Achieved highest grades in Mathematics and Science",awardType:"Certificate",issuer:"School Administration"}]},e=r=>{switch(r){case"Academic":return n.jsx(yW,{className:"w-5 h-5"});case"Extra-Curricular":return n.jsx(el,{className:"w-5 h-5"});default:return n.jsx(Kr,{className:"w-5 h-5"})}};return n.jsxs("div",{className:"p-2 sm:p-4 md:p-6 max-w-5xl mx-auto w-full",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 text-white",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:"Achievements"}),n.jsx("p",{className:"text-yellow-100 text-sm sm:text-base",children:"View your child's achievements and awards"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2 sm:mb-4",children:"Student Info"}),n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Name: ",t.studentName]}),n.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Class: ",t.class]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.totalAwards}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Total Awards"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:t.recentAchievements}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Recent Achievements"})]}),n.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex items-center justify-center",children:n.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 bg-yellow-500 text-black px-3 sm:px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-xs sm:text-sm",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Download Certificates"})]})})]}),n.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.achievements.map(r=>n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[e(r.category),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:r.title})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500",children:[n.jsx(Kt,{className:"w-4 h-4"}),n.jsx("span",{children:new Date(r.date).toLocaleDateString()})]})]}),n.jsx("span",{className:`inline-block px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${r.category==="Academic"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:r.category})]}),n.jsx("p",{className:"mt-2 sm:mt-4 text-gray-600 text-sm sm:text-base",children:r.description}),n.jsxs("div",{className:"mt-2 sm:mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between text-xs sm:text-sm gap-2 sm:gap-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kn,{className:"w-4 h-4 text-yellow-500"}),n.jsx("span",{className:"text-gray-600",children:r.awardType})]}),n.jsxs("span",{className:"text-gray-500",children:["Issued by: ",r.issuer]})]})]})},r.id))})]})},U9e=()=>{const t={studentName:"Koushik Bala",class:"10-A",totalCourses:6,completedModules:24,upcomingAssignments:3,courses:[{id:1,name:"Advanced Mathematics",teacher:"Dr. Sarah Johnson",schedule:"Mon, Wed, Fri - 9:00 AM",progress:85,modules:8,completedModules:6,nextAssignment:"2024-03-15",materials:["Textbook","Practice Sheets","Video Lectures"]},{id:2,name:"Physics",teacher:"Prof. Michael Chen",schedule:"Tue, Thu - 10:30 AM",progress:75,modules:6,completedModules:4,nextAssignment:"2024-03-18",materials:["Lab Manual","Study Guide","Online Simulations"]},{id:3,name:"English Literature",teacher:"Ms. Emily Davis",schedule:"Mon, Wed - 2:00 PM",progress:90,modules:5,completedModules:4,nextAssignment:"2024-03-20",materials:["Novel Collection","Writing Guide","Audio Books"]}]};return n.jsxs("div",{className:"p-2 sm:p-4 md:p-6 max-w-5xl mx-auto w-full",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 text-white",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:"Courses"}),n.jsx("p",{className:"text-yellow-100 text-sm sm:text-base",children:"View your child's enrolled courses"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-2 sm:mb-4",children:"Student Info"}),n.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[n.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Name: ",t.studentName]}),n.jsxs("p",{className:"text-gray-600 text-sm sm:text-base",children:["Class: ",t.class]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:t.totalCourses}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Total Courses"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:t.completedModules}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Completed Modules"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm flex flex-col items-center justify-center",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-red-600",children:t.upcomingAssignments}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Upcoming Assignments"})]})]}),n.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.courses.map(e=>n.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-3 sm:mb-4 gap-2 sm:gap-0",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(kr,{className:"w-5 h-5 text-yellow-500"}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:e.name})]}),n.jsxs("div",{className:"flex flex-wrap items-center space-x-4 text-xs sm:text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(sr,{className:"w-4 h-4"}),n.jsx("span",{children:e.teacher})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(nr,{className:"w-4 h-4"}),n.jsx("span",{children:e.schedule})]})]})]}),n.jsxs("button",{className:"flex items-center space-x-1 text-xs sm:text-sm text-yellow-600 hover:text-yellow-700",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Materials"})]})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:"Course Progress"}),n.jsxs("span",{className:"font-medium text-gray-800",children:[e.progress,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${e.progress}%`}})})]}),n.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4 pt-3 sm:pt-4 border-t border-gray-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Modules"}),n.jsxs("p",{className:"font-medium text-gray-800",children:[e.completedModules,"/",e.modules]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Next Assignment"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Kt,{className:"w-4 h-4 text-gray-400"}),n.jsx("p",{className:"font-medium text-gray-800",children:new Date(e.nextAssignment).toLocaleDateString()})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Materials"}),n.jsxs("p",{className:"font-medium text-gray-800",children:[e.materials.length," items"]})]})]}),n.jsxs("div",{className:"pt-3 sm:pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1 sm:mb-2",children:[n.jsx(jr,{className:"w-4 h-4 text-gray-500"}),n.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Available Materials"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.materials.map((r,s)=>n.jsx("span",{className:"inline-block px-2 sm:px-3 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:r},s))})]})]})]})},e.id))})]})},z9e=()=>{const[t,e]=L.useState("meetings"),[r,s]=L.useState(null),[a,i]=L.useState([{id:1,teacherName:"Ms. Johnson",subject:"Mathematics",date:"2025-09-12",time:"10:00 AM",type:"Video Call",status:"pending",topic:"Academic Progress Discussion",agenda:["Homework completion","Exam preparation"],notification:{read:!1,timestamp:"2025-09-01T10:30:00"}},{id:2,teacherName:"Mr. Smith",subject:"Science",date:"2025-09-15",time:"2:30 PM",type:"In Person",status:"confirmed",topic:"Project Discussion",agenda:["Project timeline","Lab safety"],notification:{read:!0,timestamp:"2025-09-02T15:45:00"}}]),[o,l]=L.useState({date:"",time:"",reason:""}),[c,d]=L.useState({rating:0,comment:""}),[u,h]=L.useState(""),[m,f]=L.useState(!1),x=L.useMemo(()=>u?`https://meet.jit.si/${encodeURIComponent(u)}`:"",[u]),v=S=>{switch(S){case"Video Call":return n.jsx(Bm,{className:"w-4 h-4"});case"Phone Call":return n.jsx(Sc,{className:"w-4 h-4"});default:return n.jsx(sr,{className:"w-4 h-4"})}},g=(S,E)=>{i(R=>R.map(C=>C.id===S?{...C,status:E==="accept"?"confirmed":"declined"}:C))},b=S=>{s(S),l({date:"",time:"",reason:""})},N=()=>{r&&(i(S=>S.map(E=>E.id===r.id?{...E,status:"reschedule_requested",requested:{...o}}:E)),s(null))},w=S=>{s(S),d({rating:0,comment:""})},A=()=>{r&&(i(S=>S.map(E=>E.id===r.id?{...E,feedback:c}:E)),s(null))},j=async S=>{try{await navigator.clipboard.writeText(S)}catch{}};return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Parent-Teacher Meetings"}),n.jsx("p",{className:"text-yellow-100",children:"View and respond to meeting requests"})]}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"meetings",label:"Meetings"},{key:"requests",label:"Requests"},{key:"video",label:"Video Meeting"},{key:"history",label:"History"}].map(S=>n.jsx("button",{onClick:()=>e(S.key),className:`px-3 py-1.5 rounded-lg text-sm border ${t===S.key?"bg-yellow-500 text-black border-yellow-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:S.label},S.key))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t==="meetings"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Meetings"})}),n.jsx("div",{className:"p-4 space-y-4",children:a.filter(S=>S.status==="pending"||S.status==="confirmed").map(S=>{var E;return n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-yellow-500 transition-colors",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("h3",{className:"font-medium text-gray-800",children:["Meeting with ",S.teacherName]}),!S.notification.read&&n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"New"})]}),n.jsx("p",{className:"text-sm text-gray-500",children:S.subject}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Kt,{className:"w-4 h-4"}),n.jsx("span",{children:S.date})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(nr,{className:"w-4 h-4"}),n.jsx("span",{children:S.time})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[v(S.type),n.jsx("span",{children:S.type})]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Topic: ",S.topic]}),(E=S.agenda)!=null&&E.length?n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Agenda:"})," ",S.agenda.join(", ")]}):null]}),S.status==="pending"&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>g(S.id,"accept"),className:"p-2 rounded-full bg-green-100 text-green-600 hover:bg-green-200 transition-colors",children:n.jsx(Uy,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>g(S.id,"decline"),className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors",children:n.jsx(ts,{className:"w-4 h-4"})})]}),S.status==="confirmed"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Confirmed"}),n.jsxs("button",{onClick:()=>b(S),className:"inline-flex items-center gap-1 text-xs px-2.5 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:[n.jsx(MD,{className:"w-3.5 h-3.5"})," Reschedule"]}),n.jsxs("button",{onClick:()=>w(S),className:"inline-flex items-center gap-1 text-xs px-2.5 py-1 rounded-full bg-yellow-50 text-yellow-700 border border-yellow-200",children:[n.jsx(Kr,{className:"w-3.5 h-3.5"})," Feedback"]})]})]})},S.id)})})]}),t==="requests"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Pending Requests"})}),n.jsx("div",{className:"p-4 space-y-4",children:a.filter(S=>S.status==="pending"||S.status==="reschedule_requested").map(S=>n.jsx("div",{className:"border rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-800",children:[S.teacherName,"  ",S.subject]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[S.date," at ",S.time,"  ",S.type]}),S.requested&&n.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Reschedule requested: ",S.requested.date," at ",S.requested.time,"  ",S.requested.reason]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>g(S.id,"accept"),className:"px-3 py-1 rounded-lg bg-green-600 text-white text-sm",children:"Accept"}),n.jsx("button",{onClick:()=>g(S.id,"decline"),className:"px-3 py-1 rounded-lg bg-red-600 text-white text-sm",children:"Decline"})]})]})},S.id))})]}),t==="video"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Video Meeting"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[n.jsx("input",{placeholder:"Enter or generate room name",value:u,onChange:S=>h(S.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 md:col-span-2"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{h(`PTM-${Math.random().toString(36).slice(2,8).toUpperCase()}`),f(!1)},className:"px-3 py-2 rounded-lg border border-gray-300",children:"Generate"}),n.jsx("button",{onClick:()=>f(!0),disabled:!u,className:`px-3 py-2 rounded-lg ${u?"bg-yellow-500 text-black hover:bg-yellow-600":"bg-gray-100 text-gray-400"}`,children:"Start"})]})]}),u&&n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsxs("button",{onClick:()=>window.open(x,"_blank"),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-lg border border-gray-300",children:[n.jsx(Bre,{className:"w-4 h-4"})," Open in new tab"]}),n.jsxs("button",{onClick:()=>j(x),className:"text-sm inline-flex items-center gap-1 px-3 py-1.5 rounded-lg border border-gray-300",children:[n.jsx(zy,{className:"w-4 h-4"})," Copy link"]})]}),n.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:m&&u?n.jsx("iframe",{title:"PTM Video Meeting",src:`${x}#config.prejoinConfig.enabled=true`,className:"w-full h-[480px]",allow:"camera; microphone; fullscreen; display-capture"}):n.jsx("div",{className:"h-[240px] flex items-center justify-center text-gray-500 text-sm",children:"Enter a room name and click Start to join."})}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Video meetings are powered by Jitsi Meet. By starting, you agree to Jitsis terms of service."})]}),t==="history"&&n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Past Meetings"})}),n.jsx("div",{className:"p-4 space-y-3",children:a.filter(S=>S.status==="declined"||S.status==="completed").map(S=>n.jsx("div",{className:"border rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-800",children:[S.teacherName,"  ",S.subject]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[S.date," at ",S.time]}),S.feedback&&n.jsxs("p",{className:"text-xs text-yellow-700",children:["Your rating: ",S.feedback.rating,"/5  ",S.feedback.comment]})]}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700 capitalize",children:S.status})]})},S.id))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"space-y-4",children:a.map(S=>n.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg ${S.notification.read?"bg-gray-50":"bg-yellow-50"}`,children:[n.jsx(Bs,{className:`w-5 h-5 ${S.notification.read?"text-gray-400":"text-yellow-500"}`}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-800",children:["New meeting request from ",S.teacherName]}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.notification.timestamp).toLocaleString()})]})]},S.id))})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Overview"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Upcoming"}),n.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:a.filter(S=>S.status==="confirmed").length})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),n.jsx("p",{className:"text-2xl font-semibold text-yellow-600",children:a.filter(S=>S.status==="pending").length})]})]})]})]})]}),r&&o&&t!=="video"&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>s(null)}),n.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-xl shadow-xl border p-5",children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(MD,{className:"w-5 h-5"})," Request Reschedule"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[r.teacherName,"  ",r.subject]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"New Date"}),n.jsx("input",{type:"date",value:o.date,onChange:S=>l({...o,date:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"New Time"}),n.jsx("input",{type:"time",value:o.time,onChange:S=>l({...o,time:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Reason"}),n.jsx("textarea",{rows:3,value:o.reason,onChange:S=>l({...o,reason:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Brief reason for rescheduling"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>s(null),className:"px-3 py-2 rounded-lg border border-gray-300",children:"Cancel"}),n.jsx("button",{onClick:N,className:"px-3 py-2 rounded-lg bg-blue-600 text-white",children:"Submit Request"})]})]})]}),r&&c&&t!=="video"&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>s(null)}),n.jsxs("div",{className:"relative bg-white w-full max-w-lg rounded-xl shadow-xl border p-5",children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Kr,{className:"w-5 h-5"})," Meeting Feedback"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[r.teacherName,"  ",r.subject]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"Rating:"}),[1,2,3,4,5].map(S=>n.jsx("button",{onClick:()=>d({...c,rating:S}),className:`p-1 rounded ${c.rating>=S?"text-yellow-500":"text-gray-300"}`,children:n.jsx(Kr,{className:"w-5 h-5 fill-current"})},S))]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Comments"}),n.jsx("textarea",{rows:3,value:c.comment,onChange:S=>d({...c,comment:S.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Share your feedback"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:()=>s(null),className:"px-3 py-2 rounded-lg border border-gray-300",children:"Cancel"}),n.jsx("button",{onClick:A,className:"px-3 py-2 rounded-lg bg-yellow-500 text-black",children:"Submit Feedback"})]})]})]})]})},$9e=()=>{const[t,e]=L.useState({isOnline:!0,lastActivity:"Just now",currentLocation:"Mathematics Classroom",healthStatus:"Good",moodRating:4,connectionStrength:"Strong",batteryLevel:85,safetyStatus:"Secure",activityLevel:"Active"}),[r,s]=L.useState(new Date),[a]=L.useState("Emma"),[i,o]=L.useState(new Date),l=[{label:"Attendance Rate",value:"95%",icon:Kt,color:"green"},{label:"Assignments Due",value:"3",icon:kr,color:"red"},{label:"Upcoming PTMs",value:"2",icon:Bm,color:"blue"},{label:"Pending Fees",value:"$0",icon:Cl,color:"yellow"}],c=[{id:1,type:"ptm",message:"Parent-Teacher Meeting scheduled for Mathematics",time:"1 hour ago",priority:"high"},{id:2,type:"assignment",message:"New Science assignment due next week",time:"3 hours ago",priority:"medium"},{id:3,type:"health",message:"Health check-up scheduled for next Monday",time:"1 day ago",priority:"low"}],d=[{id:1,time:"10:30 AM",activity:"Math Class Participation",mood:"",notes:"Actively engaged in problem solving"},{id:2,time:"12:15 PM",activity:"Lunch Break",mood:"",notes:"Playing with friends in the playground"},{id:3,time:"2:45 PM",activity:"Science Lab",mood:"",notes:"Seemed tired, less participation"}],u=[{label:"Current Activity",value:"In Class",status:"active"},{label:"Attention Level",value:"85%",status:"good"},{label:"Social Interaction",value:"High",status:"excellent"},{label:"Mood Today",value:"Happy",status:"good"}],h=g=>{switch(g){case"excellent":return"text-green-600 bg-green-100";case"good":return"text-blue-600 bg-blue-100";case"active":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},m=g=>{switch(g.toLowerCase()){case"excellent":return{color:"bg-green-500",text:"text-green-600",label:"Excellent"};case"good":return{color:"bg-blue-500",text:"text-blue-600",label:"Good"};case"fair":return{color:"bg-yellow-500",text:"text-yellow-600",label:"Fair"};case"poor":return{color:"bg-red-500",text:"text-red-600",label:"Poor"};default:return{color:"bg-gray-500",text:"text-gray-600",label:g}}},f=g=>{switch(g.toLowerCase()){case"strong":return{color:"bg-green-500",bars:4};case"good":return{color:"bg-blue-500",bars:3};case"weak":return{color:"bg-yellow-500",bars:2};case"poor":return{color:"bg-red-500",bars:1};default:return{color:"bg-gray-500",bars:0}}},x=g=>g>50?"text-green-600":g>20?"text-yellow-600":"text-red-600";L.useEffect(()=>{const g=setInterval(()=>{s(new Date),o(new Date),e(b=>({...b,batteryLevel:Math.max(20,b.batteryLevel+(Math.random()>.5?-1:1)),lastActivity:"Just now",activityLevel:["Active","Moderate","Low"][Math.floor(Math.random()*3)]}))},3e4);return()=>clearInterval(g)},[]);const v=()=>{const g=i.getHours();return g<12?"Good Morning":g<17?"Good Afternoon":"Good Evening"};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 rounded-2xl shadow-2xl mb-8",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full transform -translate-x-32 -translate-y-32"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full transform translate-x-48 translate-y-48"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 w-32 h-32 bg-yellow-300 rounded-full transform -translate-x-16 -translate-y-16"})]}),n.jsxs("div",{className:"relative z-10 p-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:n.jsx(Mg,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-white/80 text-sm font-medium",children:[v(),", Parent! "]}),n.jsxs("h1",{className:"text-4xl font-bold text-white leading-tight",children:["Welcome to ",n.jsxs("span",{className:"text-yellow-300",children:[a,"'s"]})," Portal"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-6 text-white/90",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Zw,{className:"w-5 h-5 text-yellow-300"}),n.jsx("span",{className:"text-sm font-medium",children:i.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sr,{className:"w-5 h-5 text-green-300"}),n.jsx("span",{className:"text-sm font-medium",children:"School Active"})]})]}),n.jsx("p",{className:"text-white/80 mt-4 text-lg leading-relaxed",children:"Stay connected with your child's journey, track their progress, and celebrate their achievements together."})]}),n.jsx("div",{className:"hidden lg:block",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-32 h-32 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center",children:n.jsx(SW,{className:"w-12 h-12 text-white animate-pulse"})})}),n.jsx("div",{className:"absolute -top-2 -right-2",children:n.jsx("div",{className:"w-8 h-8 bg-green-400 rounded-full flex items-center justify-center",children:n.jsx(Kr,{className:"w-5 h-5 text-white"})})})]})})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),n.jsxs("span",{className:"text-white text-sm font-medium",children:[a," is Online"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx(Kn,{className:"w-4 h-4 text-yellow-300"}),n.jsx("span",{className:"text-white text-sm font-medium",children:"3 New Achievements"})]}),n.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2",children:[n.jsx(Bs,{className:"w-4 h-4 text-blue-300"}),n.jsx("span",{className:"text-white text-sm font-medium",children:"2 Updates Today"})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:l.map((g,b)=>n.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-white/20 hover:scale-105",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:g.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-800 mb-2",children:g.value}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full bg-gradient-to-r ${g.color==="green"?"from-green-400 to-green-600":g.color==="red"?"from-red-400 to-red-600":g.color==="blue"?"from-blue-400 to-blue-600":"from-yellow-400 to-yellow-600"} transition-all duration-300`,style:{width:g.color==="green"?"95%":g.color==="red"?"30%":g.color==="blue"?"50%":"100%"}})})]}),n.jsx("div",{className:`p-4 rounded-2xl bg-gradient-to-br ${g.color==="green"?"from-green-100 to-green-200":g.color==="red"?"from-red-100 to-red-200":g.color==="blue"?"from-blue-100 to-blue-200":"from-yellow-100 to-yellow-200"} group-hover:scale-110 transition-transform duration-300`,children:n.jsx(g.icon,{className:`w-7 h-7 ${g.color==="green"?"text-green-600":g.color==="red"?"text-red-600":g.color==="blue"?"text-blue-600":"text-yellow-600"}`})})]})},b))}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 mb-8",children:[n.jsx("div",{className:"p-6 border-b border-gray-200/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg",children:n.jsx(Rne,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Live Child Monitor"}),n.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-green-400 to-green-500 rounded-full",children:n.jsx("span",{className:"text-white text-xs font-semibold",children:"LIVE"})})]}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Real-time insights into ",a,"'s school activities"]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 rounded-full px-4 py-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.jsx("div",{className:"absolute inset-0 w-3 h-3 bg-green-500 rounded-full animate-ping"})]}),n.jsx("span",{className:"text-sm text-green-700 font-semibold",children:"Online"})]}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:n.jsx(Vs,{className:"w-5 h-5 text-gray-400"})})]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:u.map((g,b)=>n.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100/50 rounded-xl p-4 border border-gray-200/50 hover:shadow-md transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:g.label}),n.jsx("p",{className:"text-xl font-bold text-gray-800",children:g.value})]}),n.jsx("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold shadow-sm ${h(g.status)}`,children:g.status.toUpperCase()})]})},b))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-5 border border-blue-200/30",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-xl",children:n.jsx(AT,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Today's Activity Stream"})]}),n.jsx("div",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-2 py-1 rounded-full",children:"LIVE"})]}),n.jsx("div",{className:"space-y-3 max-h-56 overflow-y-auto custom-scrollbar",children:d.map(g=>n.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white/70 backdrop-blur-sm rounded-xl border border-white/30 hover:bg-white/90 transition-all duration-200",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center shadow-sm",children:n.jsx(nr,{className:"w-5 h-5 text-white"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:g.activity}),n.jsx("span",{className:"text-xl",children:g.mood})]}),n.jsx("span",{className:"text-xs text-blue-600 font-medium bg-blue-100 px-2 py-1 rounded-full",children:g.time})]}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:g.notes})]})]},g.id))})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pn,{className:"w-5 h-5 text-purple-600"}),n.jsx("h3",{className:"text-lg font-medium text-gray-800",children:"Current Status"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsxs("span",{className:"text-xs text-gray-500",children:["Updated ",r.toLocaleTimeString()]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-blue-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ld,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Location"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-800 font-medium",children:t.currentLocation}),n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-green-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(il,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Health Status"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`text-sm font-medium ${m(t.healthStatus).text}`,children:m(t.healthStatus).label}),n.jsx("div",{className:`w-3 h-3 rounded-full ${m(t.healthStatus).color}`})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-purple-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qa,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Activity Level"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-800 font-medium",children:t.activityLevel}),n.jsx("div",{className:`w-3 h-3 rounded-full ${t.activityLevel==="Active"?"bg-green-500 animate-pulse":t.activityLevel==="Moderate"?"bg-yellow-500":"bg-gray-500"}`})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-cyan-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(tae,{className:"w-3 h-3 text-cyan-600"}),n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Connection"})]}),n.jsx("div",{className:"flex items-center space-x-1",children:[...Array(4)].map((g,b)=>n.jsx("div",{className:`w-1 h-3 rounded-sm ${b<f(t.connectionStrength).bars?f(t.connectionStrength).color:"bg-gray-300"}`},b))})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-emerald-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Qw,{className:"w-3 h-3 text-emerald-600"}),n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Safety"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:t.safetyStatus}),n.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-yellow-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Dte,{className:"w-3 h-3 text-yellow-600"}),n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Device"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsxs("span",{className:`text-xs font-medium ${x(t.batteryLevel)}`,children:[t.batteryLevel,"%"]}),n.jsx("div",{className:"w-4 h-2 border border-gray-300 rounded-sm relative",children:n.jsx("div",{className:`h-full rounded-sm transition-all duration-500 ${t.batteryLevel>50?"bg-green-500":t.batteryLevel>20?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.max(t.batteryLevel,5)}%`}})})]})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border-l-4 border-orange-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Xd,{className:"w-3 h-3 text-orange-600"}),n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Mood"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-lg",children:""}),n.jsxs("span",{className:"text-xs text-gray-800 font-medium",children:[t.moodRating,"/5"]})]})]})})]}),n.jsxs("div",{className:"flex space-x-2 pt-2",children:[n.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 p-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:scale-105",children:[n.jsx(Rn,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"View Observations"})]}),n.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 p-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all duration-200 transform hover:scale-105",children:[n.jsx(ds,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Analytics"})]})]})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20",children:[n.jsx("div",{className:"p-6 border-b border-gray-200/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-400 to-red-500 rounded-xl",children:n.jsx(Bs,{className:"w-6 h-6 text-white"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Important Updates"})]}),n.jsxs("div",{className:"text-xs text-orange-600 font-medium bg-orange-100 px-3 py-1 rounded-full",children:[c.length," Updates"]})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:c.map(g=>n.jsxs("div",{className:`flex items-start space-x-4 p-4 rounded-xl border-l-4 transition-all duration-200 hover:shadow-md ${g.priority==="high"?"bg-red-50 border-red-400":g.priority==="medium"?"bg-yellow-50 border-yellow-400":"bg-gray-50 border-gray-400"}`,children:[n.jsx("div",{className:`p-2 rounded-xl ${g.priority==="high"?"bg-red-100":g.priority==="medium"?"bg-yellow-100":"bg-gray-100"}`,children:n.jsx(Zr,{className:`w-5 h-5 ${g.priority==="high"?"text-red-600":g.priority==="medium"?"text-yellow-600":"text-gray-600"}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 leading-relaxed",children:g.message}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("p",{className:"text-xs text-gray-500",children:g.time}),n.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${g.priority==="high"?"bg-red-100 text-red-700":g.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:g.priority.toUpperCase()})]})]})]},g.id))})})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20",children:[n.jsx("div",{className:"p-6 border-b border-gray-200/50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-400 to-indigo-500 rounded-xl",children:n.jsx(Qa,{className:"w-6 h-6 text-white"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Quick Actions"})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 border border-blue-200/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(Bm,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"font-medium text-gray-700",children:"Schedule PTM"})]}),n.jsx(Vs,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500 transition-colors"})]}),n.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 border border-green-200/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(Cl,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"font-medium text-gray-700",children:"Pay Fees"})]}),n.jsx(Vs,{className:"w-5 h-5 text-gray-400 group-hover:text-green-500 transition-colors"})]}),n.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 border border-red-200/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-red-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(il,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"font-medium text-gray-700",children:"Health Report"})]}),n.jsx(Vs,{className:"w-5 h-5 text-gray-400 group-hover:text-red-500 transition-colors"})]}),n.jsxs("button",{className:"w-full group flex items-center justify-between p-4 text-left rounded-xl bg-gradient-to-r from-purple-50 to-violet-50 hover:from-purple-100 hover:to-violet-100 border border-purple-200/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-500 rounded-lg group-hover:scale-110 transition-transform",children:n.jsx(Rn,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"font-medium text-gray-700",children:"Observations"})]}),n.jsx(Vs,{className:"w-5 h-5 text-gray-400 group-hover:text-purple-500 transition-colors"})]})]})})]})]})]})})},H9e=()=>{const[t,e]=L.useState({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,q8:null,q9:null,q10:null}),[r,s]=L.useState(!1),a=[{id:"q1",text:"How often have you observed your child seeming more irritable, sad, or emotionally flat than is usual for them?"},{id:"q2",text:"How often has your child withdrawn from family activities or preferred to be alone, more so than their typical behavior?"},{id:"q3",text:"How much have you noticed a change in your child's sleep, such as sleeping much more, much less, or having trouble falling/staying asleep?"},{id:"q4",text:"How often has your child shown interest or enthusiasm for hobbies, friendships, or activities they normally enjoy?"},{id:"q5",text:"How would you describe your child's overall energy level at home?"},{id:"q6",text:"How often has your child expressed significant worry about school, their future, or their friendships?"},{id:"q7",text:"How often has your child become easily frustrated or upset by small problems or setbacks?"},{id:"q8",text:"How often has your child complained of physical issues like headaches, stomach aches, or general fatigue?"},{id:"q9",text:"How much has your child been communicating with you about their schoolwork or their experiences at school?"},{id:"q10",text:"How often have you heard your child make negative or highly critical comments about themselves?"}],i=[{emoji:"",label:"Very Good",value:0},{emoji:"",label:"Okay",value:1},{emoji:"",label:"Neutral",value:2},{emoji:"",label:"Worried",value:3},{emoji:"",label:"Very Worried",value:4}],o=(d,u)=>{e(h=>({...h,[d]:u}))},l=d=>{d.preventDefault(),console.log("Observation Form Submitted:",t),s(!0),setTimeout(()=>{s(!1),e({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,q8:null,q9:null,q10:null})},3e3)},c=()=>Object.values(t).every(d=>d!==null);return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Child Behavior Observation Form"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Please answer the following questions about your child's recent behavior and emotional state."})]}),r&&n.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-medium",children:"Thank you! Your observation has been submitted successfully."})]})}),n.jsxs("form",{onSubmit:l,className:"space-y-8",children:[a.map((d,u)=>n.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("label",{className:"block text-lg font-medium text-gray-900 mb-4",children:[u+1,". ",d.text]})}),n.jsx("div",{className:"flex justify-center space-x-4",children:i.map(h=>n.jsxs("button",{type:"button",onClick:()=>o(d.id,h.value),className:`flex flex-col items-center p-4 rounded-lg transition-all duration-200 border-2 ${t[d.id]===h.value?"bg-blue-100 border-blue-400 shadow-md":"bg-gray-50 hover:bg-gray-100 border-transparent hover:border-gray-300"}`,children:[n.jsx("span",{className:"text-3xl mb-2",children:h.emoji}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.label})]},h.value))}),t[d.id]!==null&&n.jsx("div",{className:"mt-4 text-center",children:n.jsx("span",{className:"text-sm text-green-600 font-medium",children:" Answered"})})]},d.id)),n.jsx("div",{className:"flex justify-center pt-6",children:n.jsx("button",{type:"submit",disabled:!c(),className:`px-8 py-3 rounded-lg font-medium text-white transition-colors ${c()?"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2":"bg-gray-400 cursor-not-allowed"}`,children:"Submit Observation"})})]})]})})})},W9e=()=>{const[t,e]=L.useState([]),[r,s]=L.useState({childName:"",date:new Date().toISOString().split("T")[0],category:"",observation:"",moodRating:null,behaviorNotes:"",concernLevel:"low"}),[a,i]=L.useState(!1),o=[{id:1,name:"Emma Johnson",class:"Grade 5A",image:"/api/placeholder/32/32"},{id:2,name:"Liam Johnson",class:"Grade 3B",image:"/api/placeholder/32/32"}],l=["Academic Performance","Social Interaction","Emotional Wellbeing","Behavioral Changes","Physical Health","Sleep Patterns","Eating Habits","Communication"],c=[{emoji:"",label:"Very Happy",value:5},{emoji:"",label:"Happy",value:4},{emoji:"",label:"Neutral",value:3},{emoji:"",label:"Sad",value:2},{emoji:"",label:"Very Sad",value:1}],d=[{value:"low",label:"Low",color:"green"},{value:"medium",label:"Medium",color:"yellow"},{value:"high",label:"High",color:"red"}];L.useEffect(()=>{e([{id:1,childName:"Emma Johnson",date:"2024-01-15",category:"Academic Performance",observation:"Emma showed great enthusiasm during math class today. She completed her homework early and helped classmates.",moodRating:5,behaviorNotes:"Very positive attitude towards learning",concernLevel:"low",timestamp:"2024-01-15T10:30:00Z"},{id:2,childName:"Emma Johnson",date:"2024-01-14",category:"Social Interaction",observation:"Emma seemed withdrawn during lunch break. She didn't interact much with her usual friend group.",moodRating:2,behaviorNotes:"Less social than usual, preferred to read alone",concernLevel:"medium",timestamp:"2024-01-14T12:15:00Z"}])},[]);const u=(x,v)=>{s(g=>({...g,[x]:v}))},h=x=>{x.preventDefault();const v={...r,id:t.length+1,timestamp:new Date().toISOString()};e(g=>[v,...g]),i(!0),s({childName:"",date:new Date().toISOString().split("T")[0],category:"",observation:"",moodRating:null,behaviorNotes:"",concernLevel:"low"}),setTimeout(()=>{i(!1)},3e3)},m=()=>r.childName&&r.category&&r.observation&&r.moodRating!==null,f=x=>{switch(x){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:n.jsx(Rn,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parent Observation Portal"}),n.jsx("p",{className:"text-gray-600",children:"Track and record your child's daily observations"})]})]})}),a&&n.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Dr,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-medium",children:"Observation recorded successfully!"})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[n.jsx(Kt,{className:"w-5 h-5 mr-2"}),"Record New Observation"]})}),n.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Child"}),n.jsxs("select",{value:r.childName,onChange:x=>u("childName",x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Choose a child"}),o.map(x=>n.jsxs("option",{value:x.name,children:[x.name," - ",x.class]},x.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),n.jsx("input",{type:"date",value:r.date,onChange:x=>u("date",x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsxs("select",{value:r.category,onChange:x=>u("category",x.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select category"}),l.map(x=>n.jsx("option",{value:x,children:x},x))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Child's Mood"}),n.jsx("div",{className:"flex justify-center space-x-4",children:c.map(x=>n.jsxs("button",{type:"button",onClick:()=>u("moodRating",x.value),className:`flex flex-col items-center p-3 rounded-lg transition-all ${r.moodRating===x.value?"bg-blue-100 border-2 border-blue-400":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[n.jsx("span",{className:"text-2xl mb-1",children:x.emoji}),n.jsx("span",{className:"text-xs text-gray-600",children:x.label})]},x.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observation Details"}),n.jsx("textarea",{value:r.observation,onChange:x=>u("observation",x.target.value),placeholder:"Describe what you observed about your child today...",rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),n.jsx("textarea",{value:r.behaviorNotes,onChange:x=>u("behaviorNotes",x.target.value),placeholder:"Any additional behavioral notes or context...",rows:"2",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Concern Level"}),n.jsx("div",{className:"flex space-x-4",children:d.map(x=>n.jsx("button",{type:"button",onClick:()=>u("concernLevel",x.value),className:`px-4 py-2 rounded-lg border-2 transition-all ${r.concernLevel===x.value?`bg-${x.color}-100 border-${x.color}-400 text-${x.color}-700`:"bg-white border-gray-300 text-gray-700 hover:border-gray-400"}`,children:x.label},x.value))})]}),n.jsx("button",{type:"submit",disabled:!m(),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${m()?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Record Observation"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[n.jsx(Yr,{className:"w-5 h-5 mr-2"}),"Recent Observations"]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.map(x=>{var v;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pn,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"font-medium text-gray-900",children:x.childName}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(x.concernLevel)}`,children:x.concernLevel.toUpperCase()})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsx(nr,{className:"w-4 h-4"}),n.jsx("span",{children:x.date})]})]}),n.jsx("div",{className:"mb-2",children:n.jsx("span",{className:"text-sm font-medium text-blue-600",children:x.category})}),n.jsx("p",{className:"text-gray-700 text-sm mb-2",children:x.observation}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Mood:"}),n.jsx("span",{className:"text-lg",children:(v=c.find(g=>g.value===x.moodRating))==null?void 0:v.emoji})]}),x.behaviorNotes&&n.jsxs("div",{className:"text-xs text-gray-500 max-w-xs truncate",children:["Notes: ",x.behaviorNotes]})]})]},x.id)})})})]})]})]})})},ZQ="eec_parent_chat_v2",m6=[{id:"class-teacher",name:"Ms. Johnson",type:"teacher",unread:1,lastMessage:"PTM is scheduled for Monday 10 AM",lastTime:"10:30 AM"},{id:"office",name:"School Office",type:"admin",unread:0,lastMessage:"Fee due date extended to 15th",lastTime:"Yesterday"},{id:"transport",name:"Transport Desk",type:"support",unread:0,lastMessage:"Route 3 will be 10 mins late today",lastTime:"09:15 AM"},{id:"art-teacher",name:"Mr. Williams",type:"teacher",unread:0,lastMessage:"Art supplies needed by Friday",lastTime:"Monday"},{id:"pta",name:"PTA Coordinator",type:"admin",unread:3,lastMessage:"Volunteers needed for spring fair",lastTime:"Sunday"}],p6={"class-teacher":[{id:"m1",sender:"teacher",text:"Hello! PTM is scheduled for Monday 10 AM.",ts:Date.now()-72e5,read:!0},{id:"m2",sender:"parent",text:"Thanks for the update. Will be there.",ts:Date.now()-7e6,read:!0},{id:"m3",sender:"teacher",text:"Great! Please bring your child's portfolio.",ts:Date.now()-68e5,read:!1}],office:[{id:"m4",sender:"admin",text:"Fee due date extended to 15th.",ts:Date.now()-54e5,read:!0}],transport:[{id:"m5",sender:"support",text:"Route 3 will be 10 mins late today.",ts:Date.now()-36e5,read:!0}],"art-teacher":[{id:"m6",sender:"teacher",text:"Please ensure your child brings art supplies by Friday.",ts:Date.now()-864e5,read:!0}],pta:[{id:"m7",sender:"admin",text:"We need volunteers for the spring fair next month.",ts:Date.now()-1728e5,read:!1},{id:"m8",sender:"admin",text:"Please sign up using the form sent yesterday.",ts:Date.now()-1727e5,read:!1},{id:"m9",sender:"admin",text:"Reminder: PTA meeting this Friday at 4 PM.",ts:Date.now()-1726e5,read:!1}]};function q9e(){var t;try{const e=localStorage.getItem(ZQ);if(!e)return{conversations:m6,messages:p6};const r=JSON.parse(e);return{conversations:(t=r.conversations)!=null&&t.length?r.conversations:m6,messages:r.messages||p6}}catch{return{conversations:m6,messages:p6}}}function G9e(t){try{localStorage.setItem(ZQ,JSON.stringify(t))}catch{}}const V9e=({mine:t,text:e,ts:r,read:s})=>{const a=new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return n.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:n.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${t?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[n.jsx("div",{className:"whitespace-pre-wrap text-[15px]",children:e}),n.jsxs("div",{className:`flex items-center justify-end mt-1 ${t?"text-blue-100":"text-gray-500"}`,children:[n.jsx("span",{className:"text-xs mr-1",children:a}),t&&n.jsx(cre,{className:`h-3 w-3 ${s?"text-blue-200":"text-blue-200/70"}`})]})]})})},X9e=()=>{var N;const[{conversations:t,messages:e},r]=L.useState(q9e),[s,a]=L.useState(((N=t[0])==null?void 0:N.id)||null),[i,o]=L.useState(""),[l,c]=L.useState(""),[d,u]=L.useState("list"),h=L.useRef(null),m=L.useMemo(()=>e[s]||[],[e,s]),f=L.useMemo(()=>t.find(w=>w.id===s),[t,s]);L.useEffect(()=>{G9e({conversations:t,messages:e})},[t,e]),L.useEffect(()=>{s&&r(w=>({...w,conversations:w.conversations.map(A=>A.id===s?{...A,unread:0}:A)}))},[s]),L.useEffect(()=>{h.current&&m.length&&(h.current.scrollTop=h.current.scrollHeight)},[m]);const x=L.useMemo(()=>{const w=i.trim().toLowerCase();return w?t.filter(A=>A.name.toLowerCase().includes(w)||A.lastMessage.toLowerCase().includes(w)):t},[t,i]),v=()=>{const w=l.trim();if(!w||!s)return;const A={id:crypto.randomUUID(),sender:"parent",text:w,ts:Date.now(),read:!1};r(j=>({conversations:j.conversations.map(S=>S.id===s?{...S,lastMessage:w,lastTime:"Just now"}:S),messages:{...j.messages,[s]:[...j.messages[s]||[],A]}})),c("")},g=w=>{const A=["bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-amber-100 text-amber-600","bg-pink-100 text-pink-600"],j=w.length%A.length;return A[j]},b=w=>w.split(" ").map(A=>A[0]).join("").toUpperCase();return n.jsxs("div",{className:"h-full min-h-[70vh] bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[n.jsx("div",{className:"p-4 border-b border-gray-100 bg-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:n.jsx(vs,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Parent Chat"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Connect with school staff"})]})]}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(fc,{className:"h-5 w-5 text-gray-500"})})]})}),n.jsxs("div",{className:"flex h-[60vh]",children:[n.jsxs("div",{className:`bg-white border-r border-gray-100 w-full md:w-96 flex flex-col ${d==="chat"?"hidden md:flex":"flex"}`,children:[n.jsx("div",{className:"p-3 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-xl px-3 py-2.5",children:[n.jsx(In,{className:"h-4 w-4 text-gray-500"}),n.jsx("input",{value:i,onChange:w=>o(w.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-400"})]})}),n.jsxs("div",{className:"overflow-y-auto flex-1",children:[x.map(w=>n.jsxs("button",{onClick:()=>{a(w.id),u("chat")},className:`w-full text-left p-3 flex items-center gap-3 hover:bg-gray-50 border-b border-gray-100 transition-colors ${s===w.id?"bg-blue-50":""}`,children:[n.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center font-medium ${g(w.name)}`,children:b(w.name)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-gray-800 truncate",children:w.name}),n.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:w.lastTime})]}),n.jsxs("div",{className:"text-sm text-gray-500 truncate flex items-center gap-1",children:[w.unread>0&&n.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-600 text-xs text-white",children:w.unread}),n.jsx("span",{children:w.lastMessage})]})]})]},w.id)),x.length===0&&n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-gray-400 mb-2",children:"No conversations found"}),n.jsx("div",{className:"text-xs text-gray-400",children:"Try a different search term"})]})]})]}),n.jsx("div",{className:`flex-1 flex flex-col ${d==="list"?"hidden md:flex":"flex"}`,children:f?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-white flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>u("list"),className:"md:hidden p-1 rounded-lg hover:bg-gray-100",children:n.jsx(al,{className:"h-5 w-5 text-gray-500"})}),n.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center font-medium ${g(f.name)}`,children:b(f.name)}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-800",children:f.name}),n.jsx("div",{className:"text-xs text-gray-500 capitalize",children:f.type})]})]}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(fc,{className:"h-5 w-5 text-gray-500"})})]}),n.jsx("div",{ref:h,className:"flex-1 overflow-y-auto p-4 bg-gray-50/50",children:m.length?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-center text-xs text-gray-500 mb-4",children:"Today"}),m.map(w=>n.jsx(V9e,{mine:w.sender==="parent",text:w.text,ts:w.ts,read:w.read},w.id))]}):n.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[n.jsx(vs,{className:"h-12 w-12 mb-2 opacity-30"}),n.jsx("p",{className:"text-sm",children:"No messages yet"}),n.jsx("p",{className:"text-xs mt-1",children:"Say hello to start the conversation"})]})}),n.jsx("div",{className:"border-t border-gray-100 bg-white p-3",children:n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(kT,{className:"h-5 w-5 text-gray-500"})}),n.jsx("div",{className:"flex-1 bg-gray-100 rounded-2xl px-4 py-2",children:n.jsx("textarea",{rows:1,value:l,onChange:w=>c(w.target.value),onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),v())},placeholder:"Type a message...",className:"w-full resize-none bg-transparent outline-none text-sm placeholder-gray-500 max-h-32"})}),l.trim()?n.jsx("button",{onClick:v,className:"p-2.5 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:n.jsx(np,{className:"h-5 w-5"})}):n.jsx("button",{className:"p-2.5 rounded-full hover:bg-gray-100 transition-colors",children:n.jsx(bW,{className:"h-5 w-5 text-gray-500"})})]})})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50/50 p-4 text-center",children:[n.jsx(vs,{className:"h-16 w-16 text-gray-300 mb-4"}),n.jsx("h3",{className:"font-medium text-gray-500 mb-1",children:"No conversation selected"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Choose a conversation from the list to start chatting"})]})})]})]})},Y9e=()=>{const[t,e]=L.useState(!0),r=L.useRef(null),s=()=>{r.current&&r.current.scrollBy({top:200,behavior:"smooth"})},a=[{icon:Mg,label:"Dashboard",path:"/parents"},{icon:Kt,label:"Attendance Report",path:"/parents/attendance"},{icon:kr,label:"Academic Report",path:"/parents/academic"},{icon:Cl,label:"Fees Payment",path:"/parents/fees"},{icon:Qa,label:"Health Report",path:"/parents/health"},{icon:vs,label:"Chat",path:"/parents/chat"},{icon:vs,label:"Complaints",path:"/parents/complaints"},{icon:Bm,label:"Parent-Teacher Meetings",path:"/parents/ptm"},{icon:Rn,label:"Observation",path:"/parents/observation"},{icon:Rn,label:"Parent Observation",path:"/parents/parent-observation"},{icon:na,label:"Results",path:"/parents/results"},{icon:Kn,label:"Achievements",path:"/parents/achievements"},{icon:jr,label:"Courses",path:"/parents/courses"}];return n.jsxs("div",{className:"min-h-screen bg-gray-100 flex gap-0",children:[!t&&n.jsx("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-yellow-500 text-white rounded-lg",onClick:()=>e(!0),children:n.jsx(HN,{size:24})}),n.jsx("div",{className:`
          fixed top-0 left-0 h-screen bg-white shadow-lg transform transition-max-width duration-300 ease-in-out z-40 md:block
          lg:translate-x-0 ${t?"max-w-80":"hidden max-w-32"}
        `,style:{willChange:"transform"},"aria-label":"Sidebar",children:n.jsxs("div",{className:"p-6 w-full h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:n.jsx(sr,{className:"w-6 aspect-square text-yellow-600"})}),t&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Parent Portal"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Welcome back!"})]}),n.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg hover:bg-yellow-100 transition-colors text-amber-700","aria-label":t?"Close sidebar":"Open sidebar",children:t?n.jsx(xd,{size:20}):n.jsx(Vs,{size:20})})]}),n.jsx("nav",{ref:r,className:"space-y-2 overflow-y-auto flex-grow scrollbar-hide",children:a.map(i=>n.jsxs(Ux,{to:i.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-yellow-50 text-gray-700 hover:text-yellow-600 transition-colors",children:[n.jsx(i.icon,{className:"h-5 w-5"}),t&&n.jsx("span",{children:i.label})]},i.path))}),n.jsx("button",{onClick:s,className:"mt-2 w-full py-2 flex items-center justify-center text-gray-500 hover:text-yellow-600 transition-colors",children:n.jsx(bs,{className:"h-5 h-5"})})]})}),n.jsx("div",{className:`overflow-y-scroll h-screen ${t?"md:ml-80":"md:ml-32"} flex-grow p-6 bg-gray-50 transition-all duration-300`,children:n.jsxs(IN,{children:[n.jsx(Yt,{path:"/",element:n.jsx($9e,{})}),n.jsx(Yt,{path:"attendance",element:n.jsx(R9e,{})}),n.jsx(Yt,{path:"academic",element:n.jsx(L9e,{})}),n.jsx(Yt,{path:"fees",element:n.jsx(O9e,{})}),n.jsx(Yt,{path:"health",element:n.jsx(I9e,{})}),n.jsx(Yt,{path:"complaints",element:n.jsx(dq,{})}),n.jsx(Yt,{path:"chat",element:n.jsx(X9e,{})}),n.jsx(Yt,{path:"ptm",element:n.jsx(z9e,{})}),n.jsx(Yt,{path:"observation",element:n.jsx(H9e,{})}),n.jsx(Yt,{path:"parent-observation",element:n.jsx(W9e,{})}),n.jsx(Yt,{path:"results",element:n.jsx(F9e,{})}),n.jsx(Yt,{path:"achievements",element:n.jsx(B9e,{})}),n.jsx(Yt,{path:"courses",element:n.jsx(U9e,{})})]})})]})},K9e=()=>{const[t,e]=L.useState(null),[r,s]=L.useState("overview"),[a,i]=L.useState(""),[o,l]=L.useState("all"),c=[{id:1,name:"Koushik Bala",class:"10-A",healthStatus:"Good",lastUpdate:"2024-03-01",recentIssues:[],height:"165 cm",weight:"52 kg",bloodGroup:"B+",bmi:"19.1",allergies:["None"],medications:["None"],emergencyContact:"+1 (555) 123-4567",emotionalWellbeing:{mood:"excellent",socialEngagement:9,academicStress:3,behaviorChanges:!1,lastAssessment:"2024-03-01",notes:"Student shows excellent emotional stability and positive attitude towards learning.",counselingSessions:0,parentNotifications:0,interventions:[],supportActions:[{type:"Praise",date:"2024-02-28",description:"Recognized for helping classmates"},{type:"Peer Support",date:"2024-02-25",description:"Assigned as study buddy mentor"}]}},{id:2,name:"John Doe",class:"10-A",healthStatus:"Under Observation",lastUpdate:"2024-03-05",recentIssues:["Mild Fever"],height:"170 cm",weight:"60 kg",bloodGroup:"O+",bmi:"20.8",allergies:["Peanuts"],medications:["Antihistamine"],emergencyContact:"+1 (555) 987-6543",emotionalWellbeing:{mood:"concerning",socialEngagement:4,academicStress:8,behaviorChanges:!0,lastAssessment:"2024-03-05",notes:"Student showing signs of academic pressure. Recommended for counseling support.",counselingSessions:2,parentNotifications:1,interventions:["Academic Support","Stress Management"],supportActions:[{type:"Counseling",date:"2024-03-03",description:"Individual session on exam anxiety"},{type:"Parent Meeting",date:"2024-03-01",description:"Discussed academic pressure concerns"}]}},{id:3,name:"Emma Johnson",class:"10-B",healthStatus:"Needs Attention",lastUpdate:"2024-03-03",recentIssues:["Asthma","Seasonal Allergies"],height:"158 cm",weight:"48 kg",bloodGroup:"A+",bmi:"19.2",allergies:["Dust","Pollen"],medications:["Inhaler","Antihistamine"],emergencyContact:"+1 (555) 456-7890",emotionalWellbeing:{mood:"good",socialEngagement:7,academicStress:5,behaviorChanges:!1,lastAssessment:"2024-03-03",notes:"Despite health challenges, student maintains positive outlook. Good peer relationships.",counselingSessions:1,parentNotifications:1,interventions:["Health Support"],supportActions:[{type:"Health Counseling",date:"2024-03-02",description:"Discussed coping strategies for health conditions"},{type:"Accommodation",date:"2024-02-28",description:"Provided extra time during physical activities"}]}},{id:4,name:"Michael Brown",class:"10-B",healthStatus:"Good",lastUpdate:"2024-03-10",recentIssues:[],height:"175 cm",weight:"65 kg",bloodGroup:"AB+",bmi:"21.2",allergies:["None"],medications:["None"],emergencyContact:"+1 (555) 234-5678",emotionalWellbeing:{mood:"neutral",socialEngagement:6,academicStress:6,behaviorChanges:!1,lastAssessment:"2024-03-10",notes:"Student shows average engagement. Could benefit from more social activities.",counselingSessions:0,parentNotifications:0,interventions:[],supportActions:[{type:"Group Activity",date:"2024-03-08",description:"Participated in team building exercise"},{type:"Academic Support",date:"2024-03-05",description:"Extra help session for mathematics"}]}}],[d,u]=L.useState({date:new Date().toISOString().split("T")[0],type:"Regular Checkup",findings:"",recommendations:"",status:"Good"}),h=c.filter(x=>{const v=x.name.toLowerCase().includes(a.toLowerCase())||x.class.toLowerCase().includes(a.toLowerCase()),g=o==="all"||x.class===o;return v&&g}),m={totalStudents:c.length,goodHealth:c.filter(x=>x.healthStatus==="Good").length,underObservation:c.filter(x=>x.healthStatus==="Under Observation").length,needsAttention:c.filter(x=>x.healthStatus==="Needs Attention").length},f={excellentMood:c.filter(x=>x.emotionalWellbeing.mood==="excellent").length,concerningMood:c.filter(x=>x.emotionalWellbeing.mood==="concerning"||x.emotionalWellbeing.mood==="critical").length,behaviorChanges:c.filter(x=>x.emotionalWellbeing.behaviorChanges).length,needsCounseling:c.filter(x=>x.emotionalWellbeing.counselingSessions>0).length};return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Student Health & Wellbeing Management"}),n.jsx("p",{className:"text-gray-500",children:"Monitor and manage student physical health and emotional wellbeing"})]}),n.jsxs("button",{className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:"New Health Record"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Students"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.totalStudents})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(pn,{className:"w-5 h-5 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Good Health"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.goodHealth})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:n.jsx(il,{className:"w-5 h-5 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Under Observation"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.underObservation})]}),n.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:n.jsx(Qa,{className:"w-5 h-5 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Need Attention"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.needsAttention})]}),n.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:n.jsx(Zr,{className:"w-5 h-5 text-red-600"})})]})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Pn,{className:"w-5 h-5 mr-2 text-purple-600"}),"Emotional Wellbeing Overview"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Excellent Mood"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.excellentMood})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:n.jsx(Xd,{className:"w-5 h-5 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Concerning Mood"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.concerningMood})]}),n.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:n.jsx(Hy,{className:"w-5 h-5 text-orange-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Behavior Changes"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.behaviorChanges})]}),n.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:n.jsx(Zr,{className:"w-5 h-5 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Need Counseling"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:f.needsCounseling})]}),n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:n.jsx(ou,{className:"w-5 h-5 text-purple-600"})})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"p-5 border-b border-gray-100",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Student Directory"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(In,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:x=>i(x.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(co,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"pl-9 pr-8 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",children:[n.jsx("option",{value:"all",children:"All Classes"}),n.jsx("option",{value:"10-A",children:"Class 10-A"}),n.jsx("option",{value:"10-B",children:"Class 10-B"})]})]})]})]}),n.jsx("div",{className:"divide-y divide-gray-100 max-h-[500px] overflow-y-auto",children:h.length>0?h.map(x=>n.jsxs("div",{onClick:()=>e(x),className:`p-4 cursor-pointer transition-colors ${(t==null?void 0:t.id)===x.id?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${x.healthStatus==="Good"?"bg-green-500":x.healthStatus==="Under Observation"?"bg-yellow-500":"bg-red-500"}`}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:x.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Class: ",x.class]})]})]}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.healthStatus==="Good"?"bg-green-100 text-green-800":x.healthStatus==="Under Observation"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:x.healthStatus})]}),x.recentIssues.length>0&&n.jsxs("div",{className:"mt-2 flex items-center",children:[n.jsx(Zr,{className:"w-3 h-3 text-yellow-500 mr-1"}),n.jsx("span",{className:"text-xs text-yellow-700",children:x.recentIssues.join(", ")})]})]},x.id)):n.jsx("div",{className:"p-4 text-center text-gray-500",children:"No students found matching your search."})})]}),n.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:t?n.jsxs("div",{children:[n.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>e(null),className:"p-1 rounded-lg hover:bg-gray-200 transition-colors",children:n.jsx(al,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Class: ",t.class," | Last update: ",t.lastUpdate]})]})]}),n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t.healthStatus==="Good"?"bg-green-100 text-green-800":t.healthStatus==="Under Observation"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.healthStatus})]})}),n.jsx("div",{className:"p-5 border-b border-gray-100",children:n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:()=>s("overview"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="overview"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Overview"}),n.jsx("button",{onClick:()=>s("medical"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="medical"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Medical Info"}),n.jsx("button",{onClick:()=>s("history"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r==="history"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"History"}),n.jsxs("button",{onClick:()=>s("wellbeing"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-1 ${r==="wellbeing"?"bg-purple-100 text-purple-700":"text-gray-500 hover:text-gray-700"}`,children:[n.jsx(Pn,{className:"w-4 h-4"}),n.jsx("span",{children:"Wellbeing"})]})]})}),n.jsxs("div",{className:"p-5",children:[r==="overview"&&n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Vital Statistics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Height"}),n.jsx("p",{className:"font-medium",children:t.height})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Weight"}),n.jsx("p",{className:"font-medium",children:t.weight})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"BMI"}),n.jsx("p",{className:"font-medium",children:t.bmi})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Blood Group"}),n.jsx("p",{className:"font-medium",children:t.bloodGroup})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Recent Issues"}),t.recentIssues.length>0?n.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:t.recentIssues.map((x,v)=>n.jsx("li",{className:"text-yellow-700",children:x},v))}):n.jsx("p",{className:"text-sm text-yellow-700",children:"No recent health issues"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Emergency Contact"}),n.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:n.jsx("p",{className:"text-gray-800 font-medium",children:t.emergencyContact})})]})]}),r==="medical"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Allergies"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.allergies.map((x,v)=>n.jsx("span",{className:"px-2.5 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:x},v))})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Medications"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t.medications.map((x,v)=>n.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:x},v))})]})]}),r==="history"&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Health Update History"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:n.jsx(jr,{className:"w-4 h-4 text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h4",{className:"font-medium text-gray-800",children:"Regular Checkup"}),n.jsx("span",{className:"text-xs text-gray-500",children:"2024-03-01"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All vitals normal. No issues reported."}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Good"})})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:n.jsx(Zr,{className:"w-4 h-4 text-yellow-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h4",{className:"font-medium text-gray-800",children:"Sick Visit"}),n.jsx("span",{className:"text-xs text-gray-500",children:"2024-02-15"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Mild fever observed. Recommended rest and hydration."}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Under Observation"})})]})]})]})]})}),r==="wellbeing"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-sm font-medium text-purple-800 mb-3 flex items-center",children:[n.jsx(Pn,{className:"w-4 h-4 mr-2"}),"Emotional Wellbeing Assessment"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-full mb-2 ${t.emotionalWellbeing.mood==="excellent"?"bg-green-100":t.emotionalWellbeing.mood==="good"?"bg-blue-100":t.emotionalWellbeing.mood==="neutral"?"bg-yellow-100":t.emotionalWellbeing.mood==="concerning"?"bg-orange-100":"bg-red-100"}`,children:t.emotionalWellbeing.mood==="excellent"||t.emotionalWellbeing.mood==="good"?n.jsx(Xd,{className:`w-6 h-6 ${t.emotionalWellbeing.mood==="excellent"?"text-green-600":"text-blue-600"}`}):t.emotionalWellbeing.mood==="neutral"?n.jsx(Jw,{className:"w-6 h-6 text-yellow-600"}):n.jsx(Hy,{className:`w-6 h-6 ${t.emotionalWellbeing.mood==="concerning"?"text-orange-600":"text-red-600"}`})}),n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Overall Mood"}),n.jsx("p",{className:`text-xs font-medium capitalize ${t.emotionalWellbeing.mood==="excellent"?"text-green-600":t.emotionalWellbeing.mood==="good"?"text-blue-600":t.emotionalWellbeing.mood==="neutral"?"text-yellow-600":t.emotionalWellbeing.mood==="concerning"?"text-orange-600":"text-red-600"}`,children:t.emotionalWellbeing.mood})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 mb-2",children:n.jsx(sr,{className:"w-6 h-6 text-blue-600"})}),n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Social Engagement"}),n.jsxs("p",{className:"text-xs font-medium text-blue-600",children:[t.emotionalWellbeing.socialEngagement,"/10"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-orange-100 mb-2",children:n.jsx(Yr,{className:"w-6 h-6 text-orange-600"})}),n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Academic Stress"}),n.jsxs("p",{className:"text-xs font-medium text-orange-600",children:[t.emotionalWellbeing.academicStress,"/10"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Assessment Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Last Assessment"}),n.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.lastAssessment})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Counseling Sessions"}),n.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.counselingSessions})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Parent Notifications"}),n.jsx("span",{className:"text-xs font-medium",children:t.emotionalWellbeing.parentNotifications})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Behavior Changes"}),n.jsx("span",{className:`text-xs font-medium ${t.emotionalWellbeing.behaviorChanges?"text-orange-600":"text-green-600"}`,children:t.emotionalWellbeing.behaviorChanges?"Yes":"No"})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Interventions"}),n.jsx("div",{className:"space-y-2",children:t.emotionalWellbeing.interventions.length>0?t.emotionalWellbeing.interventions.map((x,v)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx(Kr,{className:"w-3 h-3 text-yellow-500 mr-2"}),n.jsx("span",{className:"text-xs text-gray-700",children:x})]},v)):n.jsx("p",{className:"text-xs text-gray-500",children:"No interventions needed"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Assessment Notes"}),n.jsx("p",{className:"text-xs text-gray-600",children:t.emotionalWellbeing.notes||"No additional notes available."})]}),t.emotionalWellbeing.supportActions&&t.emotionalWellbeing.supportActions.length>0&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Support Actions Taken"}),n.jsx("div",{className:"space-y-3",children:t.emotionalWellbeing.supportActions.map((x,v)=>n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"bg-purple-100 p-1.5 rounded-full",children:n.jsx(ou,{className:"w-3 h-3 text-purple-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-800",children:x.type}),n.jsx("span",{className:"text-xs text-gray-500",children:x.date})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.description})]})]},v))})]})]})]}),n.jsxs("div",{className:"mt-6 pt-5 border-t border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add New Health Update"}),n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",value:d.date,onChange:x=>u({...d,date:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),n.jsxs("select",{value:d.type,onChange:x=>u({...d,type:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{children:"Regular Checkup"}),n.jsx("option",{children:"Sick Visit"}),n.jsx("option",{children:"Follow-up"}),n.jsx("option",{children:"Emergency"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:d.status,onChange:x=>u({...d,status:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{children:"Good"}),n.jsx("option",{children:"Under Observation"}),n.jsx("option",{children:"Needs Attention"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Findings"}),n.jsx("textarea",{value:d.findings,onChange:x=>u({...d,findings:x.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter medical findings..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recommendations"}),n.jsx("textarea",{value:d.recommendations,onChange:x=>u({...d,recommendations:x.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter recommendations..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[n.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium shadow-sm",children:"Save Health Update"})]})]})]})]})]}):n.jsxs("div",{className:"p-10 text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(pn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Select a student"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Choose a student from the list to view and manage their health records"})]})})]})]})},J9e=()=>{const[t,e]=L.useState(null),r=[{id:1,studentName:"John Doe",parentName:"Mr. & Mrs. Doe",date:"2024-03-20",time:"10:00 AM",type:"Video Call",status:"scheduled",topic:"Academic Progress Discussion"},{id:2,studentName:"Koushik Bala",parentName:"Mrs. Smith",date:"2024-03-22",time:"2:30 PM",type:"In Person",status:"pending",topic:"Behavioral Concerns"}],s=a=>{switch(a){case"Video Call":return n.jsx(Bm,{className:"w-4 h-4"});case"Phone Call":return n.jsx(Sc,{className:"w-4 h-4"});default:return n.jsx(sr,{className:"w-4 h-4"})}};return n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-xl p-6 mb-6 text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Parent-Teacher Meetings"}),n.jsx("p",{className:"text-yellow-100",children:"Schedule and manage parent meetings"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2 space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Upcoming Meetings"})}),n.jsx("div",{className:"p-4 space-y-4",children:r.map(a=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-yellow-500 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("h3",{className:"font-medium text-gray-800",children:["Meeting with ",a.parentName]}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.status==="scheduled"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Student: ",a.studentName]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Kt,{className:"w-4 h-4"}),n.jsx("span",{children:a.date})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(nr,{className:"w-4 h-4"}),n.jsx("span",{children:a.time})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[s(a.type),n.jsx("span",{children:a.type})]})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Topic: ",a.topic]})]})})},a.id))})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Schedule New Meeting"})}),n.jsx("div",{className:"p-4",children:n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Name"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Enter student name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Name"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Enter parent name"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),n.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Type"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:[n.jsx("option",{value:"video",children:"Video Call"}),n.jsx("option",{value:"phone",children:"Phone Call"}),n.jsx("option",{value:"in-person",children:"In Person"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic"}),n.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:"3",placeholder:"Enter meeting topic"})]}),n.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-600 transition-colors",children:"Schedule Meeting"})]})})]})]})]})},BH=[{_id:"1",title:"Quadratic Equations Problem Set",subject:"Mathematics",class:"10-A",description:"Solve problems related to quadratic equations, including graphing and real-world applications.",dueDate:"2025-01-15",createdDate:"2025-01-05",marks:100,status:"active",submissions:28,totalStudents:35,avgScore:87.5,difficulty:"Medium",type:"Problem Set",attachments:["quadratic_equations.pdf","answer_sheet.docx"],instructions:"Complete all 20 problems. Show your work for full credit. Use graphing calculator where needed.",tags:["Algebra","Graphing","Problem Solving"]},{_id:"2",title:"Cell Structure Lab Report",subject:"Biology",class:"9-B",description:"Write a detailed lab report on cell structure observation using microscopy.",dueDate:"2025-01-20",createdDate:"2025-01-08",marks:50,status:"active",submissions:22,totalStudents:30,avgScore:92.3,difficulty:"Easy",type:"Lab Report",attachments:["lab_format.pdf","cell_images.zip"],instructions:"Follow the lab report format. Include labeled diagrams and observations.",tags:["Laboratory","Microscopy","Scientific Writing"]},{_id:"3",title:"Romeo and Juliet Essay",subject:"English Literature",class:"11-A",description:"Analytical essay on the theme of fate vs. free will in Romeo and Juliet.",dueDate:"2025-01-25",createdDate:"2025-01-10",marks:75,status:"draft",submissions:0,totalStudents:32,avgScore:0,difficulty:"Hard",type:"Essay",attachments:["essay_rubric.pdf","citation_guide.pdf"],instructions:"Write a 1000-word analytical essay. Use MLA format with at least 3 scholarly sources.",tags:["Literature","Critical Analysis","Writing"]},{_id:"4",title:"World War II Timeline Project",subject:"History",class:"10-B",description:"Create a comprehensive timeline of major World War II events with analysis.",dueDate:"2025-01-18",createdDate:"2025-01-03",marks:80,status:"active",submissions:25,totalStudents:28,avgScore:85.7,difficulty:"Medium",type:"Project",attachments:["timeline_template.pptx","resource_links.pdf"],instructions:"Include at least 20 major events. Provide context and analysis for each event.",tags:["Timeline","Research","Historical Analysis"]},{_id:"5",title:"Chemical Bonding Quiz",subject:"Chemistry",class:"11-C",description:"Multiple choice and short answer quiz on ionic and covalent bonding.",dueDate:"2025-01-12",createdDate:"2025-01-07",marks:25,status:"completed",submissions:27,totalStudents:27,avgScore:78.9,difficulty:"Medium",type:"Quiz",attachments:[],instructions:"Complete the quiz in 30 minutes. No external resources allowed.",tags:["Assessment","Chemical Bonding","Quick Test"]},{_id:"6",title:"Python Programming Assignment",subject:"Computer Science",class:"12-A",description:"Implement sorting algorithms and analyze their time complexity.",dueDate:"2025-01-30",createdDate:"2025-01-12",marks:120,status:"active",submissions:15,totalStudents:24,avgScore:95.2,difficulty:"Hard",type:"Programming",attachments:["starter_code.py","test_cases.txt"],instructions:"Implement bubble sort, merge sort, and quick sort. Include time complexity analysis.",tags:["Programming","Algorithms","Time Complexity"]}],Q9e=()=>{const[t,e]=L.useState(!1),[r,s]=L.useState(null),[a,i]=L.useState(!1),[o,l]=L.useState("grid"),[c,d]=L.useState("all"),[u,h]=L.useState("all"),[m,f]=L.useState(""),[x,v]=L.useState({title:"",subject:"",class:"",description:"",dueDate:"",marks:"",status:"draft",difficulty:"Medium",type:"Assignment"}),[g,b]=L.useState(BH),[N,w]=L.useState(BH),A=z=>{switch(z){case"active":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=z=>{switch(z){case"Easy":return"text-green-600";case"Medium":return"text-yellow-600";case"Hard":return"text-red-600";default:return"text-gray-600"}},S=(z,O)=>O>0?Math.round(z/O*100):0,E=z=>{const O=new Date,ee=new Date(z)-O;return Math.ceil(ee/(1e3*60*60*24))},R=z=>{v({...x,[z.target.name]:z.target.value})},C=()=>{const z=(g.length+1).toString(),O={...x,_id:z,createdDate:new Date().toISOString().split("T")[0],submissions:0,totalStudents:30,avgScore:0,attachments:[],instructions:"Complete the assignment as per instructions.",tags:["Assignment"]};b([O,...g]),e(!1),v({title:"",subject:"",class:"",description:"",dueDate:"",marks:"",status:"draft",difficulty:"Medium",type:"Assignment"})};L.useEffect(()=>{let z=g;m&&(z=z.filter(O=>O.title.toLowerCase().includes(m.toLowerCase())||O.subject.toLowerCase().includes(m.toLowerCase())||O.class.toLowerCase().includes(m.toLowerCase()))),c!=="all"&&(z=z.filter(O=>O.status===c)),u!=="all"&&(z=z.filter(O=>O.subject===u)),w(z)},[g,m,c,u]);const T=[...new Set(g.map(z=>z.subject))],k=g.length,P=g.filter(z=>z.status==="active").length,D=g.filter(z=>z.status==="completed").length,H=g.filter(z=>z.status==="draft").length;g.reduce((z,O)=>z+O.submissions,0);const F=g.length>0?Math.round(g.reduce((z,O)=>z+S(O.submissions,O.totalStudents),0)/g.length):0;return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(jr,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Assignment Management"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Create, manage and track student assignments"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k}),n.jsx("p",{className:"text-xs text-gray-500",children:"Total Assignments"})]})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:P}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Currently ongoing"})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(Dr,{className:"h-5 w-5 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Finished assignments"})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(Kn,{className:"h-5 w-5 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Drafts"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:H}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Work in progress"})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:n.jsx(Ao,{className:"h-5 w-5 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Avg Completion"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[F,"%"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Student completion rate"})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Yr,{className:"h-5 w-5 text-purple-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search assignments...",value:m,onChange:z=>f(z.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(co,{className:"w-4 h-4 text-gray-400"}),n.jsxs("select",{value:c,onChange:z=>d(z.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"completed",children:"Completed"})]}),n.jsxs("select",{value:u,onChange:z=>h(z.target.value),className:"border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"all",children:"All Subjects"}),T.map(z=>n.jsx("option",{value:z,children:z},z))]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md ${o==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-500"}`,children:n.jsxs("div",{className:"w-4 h-4 grid grid-cols-2 gap-0.5",children:[n.jsx("div",{className:"bg-current rounded-sm"}),n.jsx("div",{className:"bg-current rounded-sm"}),n.jsx("div",{className:"bg-current rounded-sm"}),n.jsx("div",{className:"bg-current rounded-sm"})]})}),n.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-md ${o==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500"}`,children:n.jsxs("div",{className:"w-4 h-4 flex flex-col space-y-0.5",children:[n.jsx("div",{className:"bg-current h-0.5 rounded"}),n.jsx("div",{className:"bg-current h-0.5 rounded"}),n.jsx("div",{className:"bg-current h-0.5 rounded"})]})})]}),n.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:"Create Assignment"})]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Assignments (",N.length,")"]}),N.length>0&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",N.length," of ",k," assignments"]})]}),N.length===0?n.jsxs("div",{className:"bg-white rounded-xl p-12 text-center border border-gray-200",children:[n.jsx(jr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search or filter criteria"}),n.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Create First Assignment"]})]}):n.jsx("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-4",children:N.map(z=>n.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200 ${o==="grid"?"p-6":"p-4"}`,children:n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 text-lg leading-tight",children:z.title}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{onClick:()=>{s(z),i(!0)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:n.jsx(Rn,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:n.jsx(fc,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[n.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${A(z.status)}`,children:z.status.charAt(0).toUpperCase()+z.status.slice(1)}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200",children:z.subject}),n.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 border border-blue-200",children:["Class ",z.class]})]}),n.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:z.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Kt,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{className:"text-gray-600",children:["Due ",new Date(z.dueDate).toLocaleDateString()]}),E(z.dueDate)<=3&&E(z.dueDate)>0&&n.jsx(Jo,{className:"w-4 h-4 text-orange-500"})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Kn,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{className:"text-gray-600",children:[z.marks," marks"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(sr,{className:"w-4 h-4"}),n.jsxs("span",{children:[z.submissions,"/",z.totalStudents," submitted"]})]}),n.jsx("span",{className:`font-medium ${j(z.difficulty)}`,children:z.difficulty})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[z.attachments.length>0&&n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[n.jsx(jr,{className:"w-3 h-3"}),n.jsx("span",{children:z.attachments.length})]}),n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S(z.submissions,z.totalStudents)}%`}})})]})]})]})})},z._id))})]})]}),t&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-xl shadow-xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Dn,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Assignment"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new assignment for your students"})]})]}),n.jsx("button",{onClick:()=>e(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(ts,{className:"w-5 h-5"})})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("form",{onSubmit:z=>{z.preventDefault(),C()},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Title *"}),n.jsx("input",{name:"title",value:x.title,onChange:R,type:"text",placeholder:"e.g., Quadratic Equations Problem Set",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),n.jsxs("select",{name:"subject",value:x.subject,onChange:R,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),n.jsx("option",{value:"Mathematics",children:"Mathematics"}),n.jsx("option",{value:"Physics",children:"Physics"}),n.jsx("option",{value:"Chemistry",children:"Chemistry"}),n.jsx("option",{value:"Biology",children:"Biology"}),n.jsx("option",{value:"English Literature",children:"English Literature"}),n.jsx("option",{value:"History",children:"History"}),n.jsx("option",{value:"Computer Science",children:"Computer Science"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Class *"}),n.jsx("input",{name:"class",value:x.class,onChange:R,type:"text",placeholder:"e.g., 10-A",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),n.jsx("input",{name:"dueDate",value:x.dueDate,onChange:R,type:"date",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Marks *"}),n.jsx("input",{name:"marks",value:x.marks,onChange:R,type:"number",min:"1",placeholder:"e.g., 100",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Type"}),n.jsxs("select",{name:"type",value:x.type,onChange:R,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"Assignment",children:"Assignment"}),n.jsx("option",{value:"Quiz",children:"Quiz"}),n.jsx("option",{value:"Project",children:"Project"}),n.jsx("option",{value:"Lab Report",children:"Lab Report"}),n.jsx("option",{value:"Essay",children:"Essay"}),n.jsx("option",{value:"Problem Set",children:"Problem Set"}),n.jsx("option",{value:"Programming",children:"Programming"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),n.jsxs("select",{name:"difficulty",value:x.difficulty,onChange:R,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"Easy",children:"Easy"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"Hard",children:"Hard"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{name:"status",value:x.status,onChange:R,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"active",children:"Active"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{name:"description",value:x.description,onChange:R,rows:"4",placeholder:"Provide detailed instructions for the assignment...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Create Assignment"})]})]})})]})}),a&&r&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-xl shadow-xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(jr,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.title}),n.jsxs("p",{className:"text-sm text-gray-500",children:[r.subject,"  Class ",r.class]})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:n.jsx(Ao,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:n.jsx(tn,{className:"w-5 h-5"})}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:n.jsx(Zb,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(ts,{className:"w-5 h-5"})})]})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Assignment Details"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Instructions"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.instructions})]}),r.attachments.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Attachments"}),n.jsx("div",{className:"space-y-2",children:r.attachments.map((z,O)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[n.jsx(jr,{className:"w-5 h-5 text-blue-500"}),n.jsx("span",{className:"text-gray-700 flex-1",children:z}),n.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Download"})]},O))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((z,O)=>n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:z},O))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Assignment Info"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Status:"}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${A(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Type:"}),n.jsx("span",{className:"text-gray-900",children:r.type})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Difficulty:"}),n.jsx("span",{className:j(r.difficulty),children:r.difficulty})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Total Marks:"}),n.jsx("span",{className:"text-gray-900",children:r.marks})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Due Date:"}),n.jsx("span",{className:"text-gray-900",children:new Date(r.dueDate).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Created:"}),n.jsx("span",{className:"text-gray-900",children:new Date(r.createdDate).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Submission Stats"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-500",children:"Submissions"}),n.jsxs("span",{className:"text-gray-900",children:[r.submissions,"/",r.totalStudents]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S(r.submissions,r.totalStudents)}%`}})}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[S(r.submissions,r.totalStudents),"% completion rate"]})]}),r.avgScore>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Average Score:"}),n.jsxs("span",{className:"text-gray-900",children:[r.avgScore.toFixed(1),"%"]})]})]})]})]})]})})]})})]})},Z9e=()=>{var C,T;const[t,e]=L.useState(null),[r,s]=L.useState("all"),[a,i]=L.useState(""),[o,l]=L.useState("all"),[c,d]=L.useState("evaluation"),[u,h]=L.useState({marks:"",feedback:"",status:"evaluated"}),[m,f]=L.useState(!1),x=(k,P)=>{h(D=>({...D,[k]:P}))},v=async()=>{if(!t||!u.marks){alert("Please provide marks for the submission");return}f(!0);try{const k={score:parseFloat(u.marks),feedback:u.feedback,status:u.status};if((await fetch(`/api/progress/submission/${t.studentId}/${t.assignmentId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok)e(D=>({...D,marks:k.score,feedback:k.feedback,status:k.status})),h({marks:"",feedback:"",status:"evaluated"}),alert("Evaluation saved successfully and student progress updated!");else throw new Error("Failed to save evaluation")}catch(k){console.error("Error saving evaluation:",k),alert("Failed to save evaluation. Please try again.")}finally{f(!1)}},g=k=>{e(k),h({marks:k.marks||"",feedback:k.feedback||"",status:k.status||"submitted"})},b=[{id:1,title:"Mathematics Assignment 1",subject:"Mathematics",dueDate:"2024-03-10",totalMarks:100},{id:2,title:"Physics Lab Report",subject:"Physics",dueDate:"2024-03-12",totalMarks:50},{id:3,title:"English Essay",subject:"English Literature",dueDate:"2024-03-15",totalMarks:80},{id:4,title:"Chemistry Project",subject:"Chemistry",dueDate:"2024-03-18",totalMarks:100}],N=[{id:1,studentName:"Koushik Bala",studentId:"STU001",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-15",submissionTime:"14:30",status:"submitted",marks:null,feedback:"",attachments:["math_hw1.pdf"],late:!1,wordCount:1200,pages:4},{id:2,studentName:"John Doe",studentId:"STU002",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-14",submissionTime:"09:15",status:"evaluated",marks:85,feedback:"Excellent work! Clear explanations and accurate calculations. Please improve presentation of graphs.",attachments:["math_solution.pdf"],late:!1,wordCount:1500,pages:5},{id:3,studentName:"Emma Johnson",studentId:"STU003",assignmentId:1,assignmentTitle:"Mathematics Assignment 1",subject:"Mathematics",submissionDate:"2024-03-16",submissionTime:"23:45",status:"submitted",marks:null,feedback:"",attachments:["algebra_assignment.pdf"],late:!0,wordCount:900,pages:3},{id:4,studentName:"Michael Brown",studentId:"STU004",assignmentId:2,assignmentTitle:"Physics Lab Report",subject:"Physics",submissionDate:"2024-03-12",submissionTime:"11:20",status:"evaluated",marks:42,feedback:"Good experimental setup description but analysis needs more depth. Include error analysis in future reports.",attachments:["physics_lab.pdf","data_sheet.xlsx"],late:!1,wordCount:2e3,pages:7},{id:5,studentName:"Olivia Davis",studentId:"STU005",assignmentId:2,assignmentTitle:"Physics Lab Report",subject:"Physics",submissionDate:"2024-03-13",submissionTime:"16:40",status:"evaluated",marks:48,feedback:"Outstanding work! Thorough analysis and excellent presentation. Well done!",attachments:["physics_report.pdf"],late:!1,wordCount:2200,pages:8},{id:6,studentName:"William Wilson",studentId:"STU006",assignmentId:3,assignmentTitle:"English Essay",subject:"English Literature",submissionDate:"2024-03-14",submissionTime:"13:10",status:"submitted",marks:null,feedback:"",attachments:["hamlet_essay.docx"],late:!1,wordCount:1800,pages:6}],w=k=>{switch(k){case"evaluated":return n.jsxs("span",{className:"inline-flex items-center space-x-1 px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(Dr,{className:"w-3 h-3"}),n.jsx("span",{children:"Evaluated"})]});case"submitted":return n.jsxs("span",{className:"inline-flex items-center space-x-1 px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx(Zr,{className:"w-3 h-3"}),n.jsx("span",{children:"Pending"})]});default:return null}},A=(k,P)=>{const D=k/P*100;return D>=90?"text-green-600":D>=80?"text-blue-600":D>=70?"text-yellow-600":D>=60?"text-orange-600":"text-red-600"},j=N.filter(k=>!(r!=="all"&&k.status!==r||o!=="all"&&k.assignmentId!==parseInt(o)||a&&!k.studentName.toLowerCase().includes(a.toLowerCase())&&!k.assignmentTitle.toLowerCase().includes(a.toLowerCase()))),S=N.filter(k=>k.status==="submitted").length,E=N.filter(k=>k.status==="evaluated").length,R=N.filter(k=>k.marks).reduce((k,P)=>k+P.marks,0)/E||0;return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 mb-6 text-white shadow-md",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Assignment Evaluation"}),n.jsx("p",{className:"text-blue-100",children:"Review, grade, and provide feedback on student submissions"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-400 px-3 py-1 rounded-full text-sm",children:n.jsxs("span",{className:"font-medium",children:[N.length," Submissions"]})}),n.jsxs("button",{className:"flex items-center space-x-2 bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:[n.jsx(WN,{className:"w-4 h-4"}),n.jsx("span",{children:"Export Grades"})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Pending Evaluation"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:S})]}),n.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:n.jsx(nr,{className:"w-5 h-5 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Evaluated"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:E})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:n.jsx(qre,{className:"w-5 h-5 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Average Score"}),n.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:[R.toFixed(1),"%"]})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(Yr,{className:"w-5 h-5 text-blue-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search students or assignments...",value:a,onChange:k=>i(k.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full md:w-64"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(co,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsxs("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",value:r,onChange:k=>s(k.target.value),children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"submitted",children:"Pending"}),n.jsx("option",{value:"evaluated",children:"Evaluated"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsxs("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm appearance-none",value:o,onChange:k=>l(k.target.value),children:[n.jsx("option",{value:"all",children:"All Assignments"}),b.map(k=>n.jsx("option",{value:k.id,children:k.title},k.id))]})]})]})]}),n.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:n.jsxs("span",{children:[j.length," results"]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Submissions"})}),n.jsx("div",{className:"divide-y divide-gray-200 max-h-[600px] overflow-y-auto",children:j.length>0?j.map(k=>{const P=b.find(D=>D.id===k.assignmentId);return n.jsxs("div",{onClick:()=>g(k),className:`p-4 cursor-pointer transition-colors ${(t==null?void 0:t.id)===k.id?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:k.studentName}),w(k.status)]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.assignmentTitle}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Kt,{className:"w-3 h-3 mr-1"}),k.submissionDate]}),k.marks&&P&&n.jsxs("span",{className:`font-medium ${A(k.marks,P.totalMarks)}`,children:[k.marks,"/",P.totalMarks]})]}),k.late&&n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Late Submission"})})]},k.id)}):n.jsxs("div",{className:"p-6 text-center text-gray-500",children:[n.jsx(jr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"No submissions match your filters"})]})})]}),n.jsx("div",{className:"lg:col-span-3 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"p-6",children:t?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:"Evaluate Submission"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[w(t.status),t.late&&n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Late Submission"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm",children:[n.jsx(Rn,{className:"w-4 h-4"}),n.jsx("span",{children:"Preview"})]}),n.jsxs("button",{className:"flex items-center space-x-1 px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Download"})]})]})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex space-x-8",children:["evaluation","details","statistics"].map(k=>n.jsx("button",{onClick:()=>d(k),className:`py-2 px-1 text-sm font-medium border-b-2 transition-colors ${c===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:k.charAt(0).toUpperCase()+k.slice(1)},k))})}),c==="evaluation"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[n.jsxs("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(pn,{className:"w-4 h-4 mr-2"}),"Submission Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Student"}),n.jsx("p",{className:"font-medium",children:t.studentName}),n.jsx("p",{className:"text-gray-400 text-xs",children:t.studentId})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Submitted On"}),n.jsx("p",{className:"font-medium",children:t.submissionDate}),n.jsx("p",{className:"text-gray-400 text-xs",children:t.submissionTime})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Assignment"}),n.jsx("p",{className:"font-medium",children:t.assignmentTitle}),n.jsx("p",{className:"text-gray-400 text-xs",children:t.subject})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500",children:"Document"}),n.jsxs("p",{className:"font-medium",children:[t.pages," pages"]}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[t.wordCount," words"]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Attachments"]}),n.jsx("div",{className:"space-y-2",children:t.attachments.map((k,P)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(jr,{className:"w-4 h-4 text-blue-600"})}),n.jsx("span",{className:"text-sm text-gray-700",children:k})]}),n.jsx("button",{className:"text-blue-500 hover:text-blue-600 p-1",children:n.jsx(tn,{className:"w-4 h-4"})})]},P))})]}),n.jsxs("form",{className:"space-y-6 pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marks",n.jsxs("span",{className:"text-gray-400 ml-1",children:["(out of ",((C=b.find(k=>k.id===t.assignmentId))==null?void 0:C.totalMarks)||100,")"]})]}),n.jsx("input",{type:"number",value:u.marks,onChange:k=>x("marks",k.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter marks",min:"0",max:((T=b.find(k=>k.id===t.assignmentId))==null?void 0:T.totalMarks)||100})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:u.status,onChange:k=>x("status",k.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"evaluated",children:"Evaluated"}),n.jsx("option",{value:"submitted",children:"Pending Review"})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Feedback",n.jsx("span",{className:"text-gray-400 ml-1",children:"(visible to student)"})]}),n.jsx("textarea",{value:u.feedback,onChange:k=>x("feedback",k.target.value),rows:5,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Provide constructive feedback for the student..."})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>e(null),className:"px-4 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),n.jsxs("button",{type:"button",onClick:v,disabled:m,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors font-medium flex items-center space-x-2",children:[n.jsx(np,{className:"w-4 h-4"}),n.jsx("span",{children:m?"Saving...":"Submit Evaluation"})]})]})]})]}),c==="details"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-5",children:[n.jsx("h3",{className:"font-medium text-blue-800 mb-3",children:"Assignment Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-700",children:"Due Date"}),n.jsx("p",{className:"font-medium",children:"March 10, 2024"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-700",children:"Total Marks"}),n.jsx("p",{className:"font-medium",children:"100"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-700",children:"Submission Type"}),n.jsx("p",{className:"font-medium",children:"Individual"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-700",children:"Word Limit"}),n.jsx("p",{className:"font-medium",children:"1500 words"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Rubric Assessment"}),n.jsx("div",{className:"space-y-4",children:["Content","Structure","Originality","References"].map(k=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:k}),n.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(P=>n.jsx(Kr,{className:"w-4 h-4 text-yellow-400 fill-current"},P))}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"25/25"})]},k))})]})]}),c==="statistics"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[n.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Class Performance"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Average Score"}),n.jsx("span",{className:"font-medium",children:"78.5%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Highest Score"}),n.jsx("span",{className:"font-medium text-green-600",children:"94%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Lowest Score"}),n.jsx("span",{className:"font-medium text-red-600",children:"62%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Submission Rate"}),n.jsx("span",{className:"font-medium",children:"92%"})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5",children:[n.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Grade Distribution"}),n.jsx("div",{className:"space-y-2",children:["A (90-100)","B (80-89)","C (70-79)","D (60-69)","F (<60)"].map((k,P)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 w-16",children:k}),n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 mx-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${75-P*15}%`}})}),n.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[75-P*15,"%"]})]},k))})]})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-gray-400",children:[n.jsx(jr,{className:"w-16 h-16 mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No submission selected"}),n.jsx("p",{className:"text-center",children:"Select a submission from the list to begin evaluation"})]})})})]})]})},eUe=()=>{const[t,e]=L.useState(new Date().toISOString().split("T")[0]),[r,s]=L.useState("10-A"),[a,i]=L.useState(""),o=[{id:1,name:"Koushik Bala",rollNumber:"101",class:"10-A",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"absent","2024-03-12":"present","2024-03-11":"present","2024-03-08":"present","2024-03-07":"present","2024-03-06":"present","2024-03-05":"absent","2024-03-04":"present"}},{id:2,name:"John Doe",rollNumber:"102",class:"10-A",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"absent","2024-03-13":"present","2024-03-12":"present","2024-03-11":"present","2024-03-08":"absent","2024-03-07":"present","2024-03-06":"present","2024-03-05":"present","2024-03-04":"present"}},{id:3,name:"Emma Johnson",rollNumber:"103",class:"10-A",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"present","2024-03-12":"present","2024-03-11":"present","2024-03-08":"present","2024-03-07":"present","2024-03-06":"present","2024-03-05":"present","2024-03-04":"present"}},{id:4,name:"Michael Brown",rollNumber:"104",class:"10-A",avatar:"",attendance:{"2024-03-15":"absent","2024-03-14":"absent","2024-03-13":"present","2024-03-12":"present","2024-03-11":"absent","2024-03-08":"present","2024-03-07":"present","2024-03-06":"absent","2024-03-05":"present","2024-03-04":"present"}},{id:5,name:"Olivia Davis",rollNumber:"105",class:"10-A",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"present","2024-03-12":"absent","2024-03-11":"present","2024-03-08":"present","2024-03-07":"present","2024-03-06":"present","2024-03-05":"present","2024-03-04":"absent"}},{id:6,name:"William Wilson",rollNumber:"106",class:"10-B",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"present","2024-03-12":"present","2024-03-11":"present","2024-03-08":"present","2024-03-07":"absent","2024-03-06":"present","2024-03-05":"present","2024-03-04":"present"}},{id:7,name:"Sophia Miller",rollNumber:"107",class:"10-B",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"absent","2024-03-13":"absent","2024-03-12":"present","2024-03-11":"present","2024-03-08":"present","2024-03-07":"present","2024-03-06":"present","2024-03-05":"present","2024-03-04":"present"}},{id:8,name:"James Taylor",rollNumber:"108",class:"10-B",avatar:"",attendance:{"2024-03-15":"present","2024-03-14":"present","2024-03-13":"present","2024-03-12":"present","2024-03-11":"present","2024-03-08":"absent","2024-03-07":"present","2024-03-06":"present","2024-03-05":"absent","2024-03-04":"present"}}],[l,c]=L.useState(o.reduce((j,S)=>({...j,[S.id]:S.attendance[t]||"present"}),{})),d=()=>{const j=[];for(let S=6;S>=0;S--){const E=new Date;E.setDate(E.getDate()-S),j.push(E.toISOString().split("T")[0])}return j},u=()=>{const j=[];for(let S=29;S>=0;S--){const E=new Date;E.setDate(E.getDate()-S),j.push(E.toISOString().split("T")[0])}return j},h=(j,S)=>{const E=o.find(R=>R.id===j);return(E==null?void 0:E.attendance[S])||"-"},m=j=>{c(S=>({...S,[j]:S[j]==="present"?"absent":"present"}))},f=()=>{alert("Attendance data saved successfully!")},x=()=>{alert("Exporting attendance data...")},v=o.filter(j=>j.class===r&&j.name.toLowerCase().includes(a.toLowerCase())),g=Object.values(l).filter(j=>j==="present").length,b=Object.values(l).filter(j=>j==="absent").length,N=Math.round(g/(g+b)*100),w=o.map(j=>{const S=u(),E=S.filter(R=>j.attendance[R]==="present").length;return{...j,monthlyRate:Math.round(E/S.length*100)}}),A=v.filter(j=>j.class===r);return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-xl p-6 mb-6 text-white shadow-md",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Attendance Management"}),n.jsx("p",{className:"text-yellow-100",children:"Track and manage student attendance records"})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4 flex-wrap gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:j=>i(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(co,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsxs("select",{className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent appearance-none",value:r,onChange:j=>s(j.target.value),children:[n.jsx("option",{value:"10-A",children:"Class 10-A"}),n.jsx("option",{value:"10-B",children:"Class 10-B"}),n.jsx("option",{value:"all",children:"All Classes"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Kt,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"date",value:t,onChange:j=>e(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-600 transition-colors shadow-sm",children:[n.jsx(Uy,{className:"w-4 h-4"}),n.jsx("span",{children:"Save Attendance"})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(Kt,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Today's Attendance - ",new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:A.length>0?A.map(j=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-2xl",children:j.avatar}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:j.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Roll No: ",j.rollNumber]})]})]}),n.jsx("button",{onClick:()=>m(j.id),className:`p-2 rounded-full transition-colors ${l[j.id]==="present"?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:l[j.id]==="present"?n.jsx(Uy,{className:"w-5 h-5"}):n.jsx(ts,{className:"w-5 h-5"})})]},j.id)):n.jsx("div",{className:"text-center py-6 text-gray-500",children:"No students found in this class."})})})]}),n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(ds,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Weekly Overview"]})}),n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Student"}),d().map(j=>n.jsxs("th",{className:"px-3 py-2 text-center text-sm font-medium text-gray-500",children:[new Date(j).toLocaleDateString("en-US",{weekday:"short"}),n.jsx("br",{}),n.jsx("span",{className:"text-xs",children:new Date(j).getDate()})]},j))]})}),n.jsx("tbody",{children:A.slice(0,4).map(j=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"mr-2",children:j.avatar}),j.name]})}),d().map(S=>n.jsx("td",{className:"px-3 py-2 text-center",children:n.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-xs ${h(j.id,S)==="present"?"bg-green-100 text-green-600":h(j.id,S)==="absent"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-400"}`,children:h(j.id,S)==="present"?"P":h(j.id,S)==="absent"?"A":"-"})},S))]},j.id))})]})}),A.length>4&&n.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:["+ ",A.length-4," more students"]})]})]}),n.jsxs("div",{className:"lg:col-span-4 grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Today's Attendance"}),n.jsx(sr,{className:"w-5 h-5 text-yellow-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto mb-2",children:n.jsx(xc,{className:"w-6 h-6 text-green-600"})}),n.jsx("p",{className:"text-sm text-gray-500",children:"Present"}),n.jsx("p",{className:"text-2xl font-semibold text-green-600",children:g})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-2",children:n.jsx(Use,{className:"w-6 h-6 text-red-600"})}),n.jsx("p",{className:"text-sm text-gray-500",children:"Absent"}),n.jsx("p",{className:"text-2xl font-semibold text-red-600",children:b})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Attendance Rate"}),n.jsx(Yr,{className:"w-5 h-5 text-yellow-500"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-50 rounded-full mb-3",children:n.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[N,"%"]})}),n.jsx("p",{className:"text-sm text-gray-500",children:"Today's Rate"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Monthly Average"}),n.jsx(ds,{className:"w-5 h-5 text-yellow-500"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-50 rounded-full mb-3",children:n.jsx("span",{className:"text-2xl font-bold text-green-600",children:"92%"})}),n.jsx("p",{className:"text-sm text-gray-500",children:"Class Average"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Trend"}),n.jsx(Yr,{className:"w-5 h-5 text-yellow-500"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-50 rounded-full mb-3",children:n.jsx("span",{className:"text-2xl font-bold text-purple-600",children:" 3%"})}),n.jsx("p",{className:"text-sm text-gray-500",children:"vs Last Week"})]})]})]}),n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Top Attendees"})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"space-y-4",children:w.filter(j=>j.class===r).sort((j,S)=>S.monthlyRate-j.monthlyRate).slice(0,5).map((j,S)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-xl",children:j.avatar}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:j.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Roll No: ",j.rollNumber]})]})]}),n.jsxs("span",{className:"text-lg font-semibold text-green-600",children:[j.monthlyRate,"%"]})]},j.id))})})]}),n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"p-5 border-b border-gray-100 bg-gray-50",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Needing Attention"})}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"space-y-4",children:[w.filter(j=>j.class===r&&j.monthlyRate<85).sort((j,S)=>j.monthlyRate-S.monthlyRate).slice(0,5).map((j,S)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("span",{className:"text-xl",children:j.avatar}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:j.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Roll No: ",j.rollNumber]})]})]}),n.jsxs("span",{className:"text-lg font-semibold text-red-600",children:[j.monthlyRate,"%"]})]},j.id)),w.filter(j=>j.class===r&&j.monthlyRate<85).length===0&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"All students have good attendance records!"})]})})]})]})]})},tUe=()=>{const[t,e]=L.useState(new Date),[r]=L.useState(5);L.useEffect(()=>{const m=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(m)},[]);const s=m=>{const f={weekday:"long",year:"numeric",month:"long",day:"numeric"},x=m.toLocaleDateString("en-US",f),v=m.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return{dateStr:x,timeStr:v}},{dateStr:a,timeStr:i}=s(t),o=[{label:"Total Students",value:"184",icon:sr,color:"blue",change:"+12 this month",trend:"up"},{label:"Attendance Today",value:"94.2%",icon:Qa,color:"green",change:"+2.5% from yesterday",trend:"up"},{label:"Pending Evaluations",value:"23",icon:jr,color:"orange",change:"5 urgent",trend:"neutral"},{label:"Upcoming Events",value:"7",icon:Kt,color:"purple",change:"2 today",trend:"neutral"}],l=[{id:1,type:"assignment",message:"12 new submissions for Mathematics Assignment",time:"15 minutes ago",icon:jr,color:"blue"},{id:2,type:"meeting",message:"Parent-Teacher meeting scheduled with Sarah's parents",time:"45 minutes ago",icon:Kt,color:"purple"},{id:3,type:"attendance",message:"Attendance marked for Grade 10-B (92% present)",time:"2 hours ago",icon:Dw,color:"green"},{id:4,type:"announcement",message:"School holiday announced for next Friday",time:"3 hours ago",icon:Bs,color:"yellow"},{id:5,type:"performance",message:"Emma Johnson scored 98% in Physics test",time:"5 hours ago",icon:Kn,color:"green"}],c=[{id:1,subject:"Mathematics",class:"Grade 10-A",time:"09:00 - 09:45",room:"Room 302",status:"upcoming"},{id:2,subject:"Physics",class:"Grade 11-B",time:"10:00 - 10:45",room:"Lab 101",status:"upcoming"},{id:3,subject:"Mathematics",class:"Grade 9-C",time:"11:30 - 12:15",room:"Room 302",status:"upcoming"},{id:4,subject:"Consultation",class:"Grade 12-A",time:"14:00 - 14:30",room:"Staff Room",status:"upcoming"}],d=[{subject:"Mathematics",average:87,trend:"up"},{subject:"Physics",average:92,trend:"up"},{subject:"Chemistry",average:78,trend:"down"},{subject:"Biology",average:85,trend:"neutral"}],u=[{id:1,label:"Mark Attendance",description:"Take today's attendance",icon:Dw,color:"green"},{id:2,label:"Create Assignment",description:"New homework or project",icon:jr,color:"blue"},{id:3,label:"Schedule Meeting",description:"With parents or staff",icon:Kt,color:"purple"},{id:4,label:"Post Announcement",description:"Class updates or news",icon:Bs,color:"yellow"},{id:5,label:"View Progress",description:"Student performance tracking",icon:ds,color:"purple"},{id:6,label:"Identify Weak Students",description:"AI-powered intervention",icon:Jo,color:"red"}],h=[{name:"Emma Johnson",grade:"10-A",score:98,improvement:"+5%"},{name:"Michael Brown",grade:"11-B",score:96,improvement:"+3%"},{name:"Sophia Williams",grade:"9-C",score:94,improvement:"+7%"},{name:"James Wilson",grade:"12-A",score:92,improvement:"+2%"}];return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-6 mb-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Good Morning, Dr. Roomit Beed"}),n.jsxs("p",{className:"text-blue-100",children:["Here's your teaching overview for ",a]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"relative",children:n.jsxs("button",{className:"bg-blue-500 hover:bg-blue-400 p-3 rounded-lg transition-colors",children:[n.jsx(Bs,{className:"w-5 h-5"}),r>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:r})]})}),n.jsxs("div",{className:"bg-blue-500 px-4 py-2 rounded-lg flex flex-col items-center space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nr,{className:"w-4 h-4"}),n.jsx("span",{className:"font-semibold",children:i})]}),n.jsx("span",{className:"text-xs text-blue-100",children:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:o.map((m,f)=>{const x=m.icon;return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`p-3 rounded-xl bg-${m.color}-100`,children:n.jsx(x,{className:`w-6 h-6 text-${m.color}-600`})}),m.trend==="up"&&n.jsx(Yr,{className:"w-5 h-5 text-green-500"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:m.label}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:m.value}),n.jsx("p",{className:`text-xs mt-2 ${m.trend==="up"?"text-green-600":"text-gray-500"}`,children:m.change})]})]},f)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-5 border-b border-gray-100",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(nr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Today's Schedule"]})}),n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"space-y-4",children:c.map(m=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:m.subject}),n.jsxs("p",{className:"text-sm text-gray-500",children:[m.class,"  ",m.room]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium text-gray-800",children:m.time}),n.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full mt-1",children:m.status})]})]},m.id))}),n.jsxs("button",{className:"w-full mt-4 flex items-center justify-center space-x-2 py-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[n.jsx("span",{children:"View Full Schedule"}),n.jsx(Vs,{className:"w-4 h-4"})]})]})]}),n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(Bs,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recent Activities"]}),n.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"space-y-4",children:l.map(m=>{const f=m.icon;return n.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsx("div",{className:`p-2 rounded-lg bg-${m.color}-100`,children:n.jsx(f,{className:`w-5 h-5 text-${m.color}-600`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-800 font-medium",children:m.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.time})]}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:n.jsx(Rn,{className:"w-4 h-4"})})]},m.id)})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-5 border-b border-gray-100",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(Dw,{className:"w-5 h-5 mr-2 text-blue-600"}),"Quick Actions"]})}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(m=>{const f=m.icon,x=()=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`p-3 rounded-xl bg-${m.color}-100 mb-3 group-hover:scale-110 transition-transform`,children:n.jsx(f,{className:`w-6 h-6 text-${m.color}-600`})}),n.jsx("span",{className:"text-sm font-medium text-gray-800 text-center",children:m.label}),n.jsx("span",{className:"text-xs text-gray-500 mt-1",children:m.description})]});return m.id===5?n.jsx(Ux,{to:"/teachers/progress",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:n.jsx(x,{})},m.id):m.id===6?n.jsx(Ux,{to:"/teachers/weak-students",className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:n.jsx(x,{})},m.id):n.jsx("button",{className:"flex flex-col items-center justify-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:n.jsx(x,{})},m.id)})})})]}),n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(ds,{className:"w-5 h-5 mr-2 text-blue-600"}),"Performance Overview"]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("select",{className:"text-sm border border-gray-300 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{children:"This Month"}),n.jsx("option",{children:"Last Month"}),n.jsx("option",{children:"This Semester"})]})})]}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Subject Averages"}),n.jsx("div",{className:"space-y-4",children:d.map((m,f)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:m.subject}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${m.average}%`}})}),n.jsxs("span",{className:"text-sm font-medium text-gray-800 w-8",children:[m.average,"%"]}),m.trend==="up"?n.jsx(Yr,{className:"w-4 h-4 text-green-500"}):m.trend==="down"?n.jsx(Yr,{className:"w-4 h-4 text-red-500 transform rotate-180"}):null]})]},f))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Top Students"}),n.jsx("div",{className:"space-y-3",children:h.map((m,f)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:m.name}),n.jsx("p",{className:"text-xs text-gray-500",children:m.grade})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold text-gray-800",children:[m.score,"%"]}),n.jsx("p",{className:"text-xs text-green-600",children:m.improvement})]})]},f))})]})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[n.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(Kt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upcoming Deadlines"]}),n.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-red-800",children:"Urgent"}),n.jsx("span",{className:"text-xs text-red-600 bg-red-100 px-2 py-1 rounded-full",children:"Tomorrow"})]}),n.jsx("h3",{className:"font-medium text-red-900",children:"Physics Project Submission"}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Grade 11-B  24 submissions pending"})]}),n.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Upcoming"}),n.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:"2 days"})]}),n.jsx("h3",{className:"font-medium text-orange-900",children:"Math Quiz Papers"}),n.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Grade 10-A  Evaluation needed"})]}),n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Planning"}),n.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:"5 days"})]}),n.jsx("h3",{className:"font-medium text-blue-900",children:"Term Exam Preparation"}),n.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Syllabus completion required"})]})]})})]})]})},UH=[{id:1,subject:"Mathematics",title:"Introduction to Algebra",class:"Grade 8",section:"A",chapter:"Chapter 1",status:"Published",lastUpdated:"2 days ago",duration:"45 mins",objectives:["Understand basic algebraic concepts","Solve simple equations","Apply algebraic principles"],resources:["Textbook Chapter 1","Algebra worksheets","Online practice problems"],activities:["Group problem-solving","Equation practice","Real-world applications"]},{id:2,subject:"Physics",title:"Newton's Laws of Motion",class:"Grade 10",section:"B",chapter:"Chapter 3",status:"Draft",lastUpdated:"1 week ago",duration:"60 mins",objectives:["Explain Newton's three laws","Apply laws to real-world scenarios","Calculate force and motion"],resources:["Physics textbook","Motion simulation software","Experiment materials"],activities:["Demonstrations","Group experiments","Problem-solving sessions"]},{id:3,subject:"English Literature",title:"Shakespeare's Hamlet",class:"Grade 12",section:"A",chapter:"Act 1",status:"Published",lastUpdated:"3 days ago",duration:"90 mins",objectives:["Analyze character motivations","Understand Elizabethan context","Interpret key soliloquies"],resources:["Hamlet text","Historical context materials","Film adaptations"],activities:["Role reading","Group discussions","Literary analysis writing"]},{id:4,subject:"Chemistry",title:"Organic Compounds",class:"Grade 11",section:"C",chapter:"Chapter 5",status:"Published",lastUpdated:"5 days ago",duration:"75 mins",objectives:["Identify organic functional groups","Name simple organic compounds","Understand isomerism"],resources:["Molecular model kits","Textbook Chapter 5","Nomenclature guide"],activities:["Molecular modeling","Nomenclature practice","Group presentations"]},{id:5,subject:"History",title:"World War II",class:"Grade 9",section:"A",chapter:"Chapter 8",status:"Draft",lastUpdated:"1 day ago",duration:"50 mins",objectives:["Identify key events of WWII","Understand geopolitical causes","Analyze consequences"],resources:["Historical documents","Maps and timelines","Documentary clips"],activities:["Timeline creation","Document analysis","Debate on key decisions"]},{id:6,subject:"Biology",title:"Cell Structure",class:"Grade 10",section:"A",chapter:"Chapter 2",status:"Published",lastUpdated:"4 days ago",duration:"55 mins",objectives:["Identify cell organelles","Understand cellular functions","Compare plant and animal cells"],resources:["Microscopes and slides","Cell diagrams","Interactive cell models"],activities:["Microscope work","Cell drawing","Organelle function matching"]}],zH=t=>t==="Published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",$H=t=>({Mathematics:"bg-blue-100 text-blue-800",Physics:"bg-purple-100 text-purple-800","English Literature":"bg-red-100 text-red-800",Chemistry:"bg-indigo-100 text-indigo-800",History:"bg-amber-100 text-amber-800",Biology:"bg-emerald-100 text-emerald-800"})[t]||"bg-gray-100 text-gray-800",rUe=()=>{const[t,e]=L.useState(UH),[r,s]=L.useState(!1),[a,i]=L.useState("grid"),[o,l]=L.useState(""),[c,d]=L.useState("All Subjects"),[u,h]=L.useState("All Statuses"),[m,f]=L.useState({title:"",class:"",section:"",subject:"",chapter:"",date:"",duration:""}),[x,v]=L.useState(UH[0]),[g,b]=L.useState(!0),[N,w]=L.useState(!1),[A,j]=L.useState({courseName:"",courseCode:"",description:"",duration:"",credits:"",department:"",prerequisites:""}),S=(F,z)=>{f(O=>({...O,[F]:z}))},E=(F,z)=>{j(O=>({...O,[F]:z}))},R=F=>{if(F.preventDefault(),!C)return;const z={id:Math.max(...t.map(O=>O.id),0)+1,title:m.title||`New ${m.subject} Lesson`,subject:m.subject,class:m.class,section:m.section,chapter:m.chapter,duration:m.duration||"45 mins",status:"Draft",lastUpdated:"Just now",date:m.date||new Date().toISOString().split("T")[0],objectives:["Learning objectives will be added here"],resources:["Teaching resources will be listed here"],activities:["Classroom activities will be detailed here"]};e(O=>[z,...O]),v(z),f({title:"",class:"",section:"",subject:"",chapter:"",date:"",duration:""}),s(!1)},C=m.class&&m.section&&m.subject&&m.chapter,T=async F=>{if(F.preventDefault(),!!k)try{const z=await fetch("/api/course/teacher/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)}),O=await z.json();z.ok?(j({courseName:"",courseCode:"",description:"",duration:"",credits:"",department:"",prerequisites:""}),w(!1),alert(`Course "${A.courseName}" created successfully!`)):alert(`Error: ${O.error}`)}catch(z){console.error("Error creating course:",z),alert("Failed to create course. Please try again.")}},k=A.courseName&&A.courseCode&&A.department,P=t.filter(F=>{const z=F.title.toLowerCase().includes(o.toLowerCase())||F.subject.toLowerCase().includes(o.toLowerCase()),O=c==="All Subjects"||F.subject===c,W=u==="All Statuses"||F.status===u;return z&&O&&W}),D=["All Subjects",...new Set(t.map(F=>F.subject))],H=["All Statuses","Published","Draft"];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(kr,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Lesson Plan Manager"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Create, manage and organize your lesson plans"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg px-3 py-1",children:[n.jsx(pn,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Prof. Johnson"})]})})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>s(!r),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg flex items-center space-x-2 transition-colors shadow-sm",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:"New Lesson Plan"}),n.jsx(bs,{className:"w-4 h-4"})]}),r&&n.jsxs("div",{className:"absolute left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-xl p-6 z-10 w-96",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Create New Lesson Plan"}),n.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(ts,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:R,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),n.jsxs("select",{value:m.subject,onChange:F=>S("subject",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Select Subject"}),D.filter(F=>F!=="All Subjects").map(F=>n.jsx("option",{value:F,children:F},F))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),n.jsx("input",{type:"text",placeholder:"Lesson title",value:m.title,onChange:F=>S("title",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class *"}),n.jsx("input",{type:"text",placeholder:"Grade level",value:m.class,onChange:F=>S("class",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section *"}),n.jsx("input",{type:"text",placeholder:"Section",value:m.section,onChange:F=>S("section",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chapter *"}),n.jsx("input",{type:"text",placeholder:"Chapter",value:m.chapter,onChange:F=>S("chapter",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),n.jsx("input",{type:"text",placeholder:"e.g., 45 mins",value:m.duration,onChange:F=>S("duration",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-2",children:[n.jsx("button",{type:"submit",disabled:!C,className:`px-4 py-2 rounded-lg text-sm font-medium ${C?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Create Lesson Plan"}),n.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 hover:bg-gray-200 text-gray-700",children:"Cancel"})]})]})]})]}),n.jsxs("button",{onClick:()=>w(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg flex items-center space-x-2 transition-colors shadow-sm",children:[n.jsx(na,{className:"w-4 h-4"}),n.jsx("span",{children:"Create Course"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(In,{className:"h-4 w-4 text-gray-400"})}),n.jsx("input",{type:"text",placeholder:"Search lesson plans...",className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-64",value:o,onChange:F=>l(F.target.value)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(co,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("select",{className:"pl-10 pr-8 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm appearance-none",value:c,onChange:F=>d(F.target.value),children:D.map(F=>n.jsx("option",{children:F},F))})]}),n.jsx("div",{className:"relative",children:n.jsx("select",{className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:u,onChange:F=>h(F.target.value),children:H.map(F=>n.jsx("option",{children:F},F))})})]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 p-1 rounded-lg",children:[n.jsx("button",{onClick:()=>i("grid"),className:`p-2 rounded-lg ${a==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:n.jsx(zN,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>i("list"),className:`p-2 rounded-lg ${a==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:n.jsx($N,{className:"w-4 h-4"})})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Plans"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.length})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(jr,{className:"w-5 h-5 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.filter(F=>F.status==="Published").length})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:n.jsx(Kw,{className:"w-5 h-5 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Drafts"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:t.filter(F=>F.status==="Draft").length})]}),n.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:n.jsx(Ao,{className:"w-5 h-5 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Subjects"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:D.length-1})]}),n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:n.jsx(kr,{className:"w-5 h-5 text-purple-600"})})]})})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[n.jsxs("div",{className:`${g?"lg:w-2/5":"w-full"} bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden`,children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[n.jsxs("h2",{className:"font-semibold text-gray-800",children:["Lesson Plans (",P.length,")"]}),n.jsx("button",{onClick:()=>b(!g),className:"lg:hidden text-blue-600 text-sm font-medium",children:g?"Hide Details":"Show Details"})]}),n.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 380px)"},children:P.length>0?n.jsx("div",{className:"divide-y divide-gray-200",children:P.map(F=>n.jsx("div",{className:`p-4 cursor-pointer transition-colors ${(x==null?void 0:x.id)===F.id?"bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>v(F),children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${$H(F.subject)}`,children:F.subject}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${zH(F.status)}`,children:F.status})]}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:F.title}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-3",children:[n.jsxs("span",{children:[F.class," - Section ",F.section]}),n.jsx("span",{children:""}),n.jsx("span",{children:F.chapter})]}),n.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-400 space-x-3",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(nr,{className:"w-3 h-3 mr-1"}),F.duration]}),n.jsxs("span",{children:["Updated ",F.lastUpdated]})]})]}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:n.jsx(fc,{className:"w-4 h-4"})})]})},F.id))}):n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(jr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),n.jsx("h3",{className:"text-gray-500 font-medium",children:"No lesson plans found"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Try adjusting your search or filters"})]})})]}),g&&n.jsxs("div",{className:"lg:w-3/5 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"p-5 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:[n.jsx("h2",{className:"font-semibold text-gray-800",children:"Lesson Plan Details"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-600 rounded-lg hover:bg-blue-50",children:n.jsx(Ao,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 text-gray-500 hover:text-green-600 rounded-lg hover:bg-green-50",children:n.jsx(tn,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 text-gray-500 hover:text-purple-600 rounded-lg hover:bg-purple-50",children:n.jsx(mse,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 text-gray-500 hover:text-red-600 rounded-lg hover:bg-red-50",children:n.jsx(pc,{className:"w-4 h-4"})})]})]}),n.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(100vh - 380px)"},children:x?n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-between items-start mb-6",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${zH(x.status)}`,children:x.status}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${$H(x.subject)}`,children:x.subject})]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.title}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(kr,{className:"w-4 h-4 mr-1"}),x.class," - Section ",x.section]}),n.jsx("span",{children:""}),n.jsx("span",{children:x.chapter}),n.jsx("span",{children:""}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(nr,{className:"w-4 h-4 mr-1"}),x.duration]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[n.jsx(Kw,{className:"w-4 h-4 mr-2"}),"Learning Objectives"]}),n.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-700",children:x.objectives.map((F,z)=>n.jsx("li",{children:F},z))})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[n.jsx(jr,{className:"w-4 h-4 mr-2"}),"Teaching Resources"]}),n.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:x.resources.map((F,z)=>n.jsx("li",{children:F},z))})]})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:[n.jsxs("h3",{className:"font-semibold text-yellow-800 mb-3 flex items-center",children:[n.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Classroom Activities"]}),n.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-yellow-700",children:x.activities.map((F,z)=>n.jsx("li",{children:F},z))})]}),n.jsxs("div",{className:"text-xs text-gray-400 flex justify-between items-center",children:[n.jsxs("span",{children:["Last updated: ",x.lastUpdated]}),n.jsx("span",{children:"Created by: Prof. Johnson"})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[n.jsx(jr,{className:"w-12 h-12 mb-3"}),n.jsx("p",{children:"Select a lesson plan to view details"})]})})]})]})]}),N&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(na,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Course"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Set up a new course with all required details"})]})]}),n.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 p-1",children:n.jsx(ts,{className:"w-6 h-6"})})]})}),n.jsxs("form",{onSubmit:T,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Name *"}),n.jsx("input",{type:"text",placeholder:"e.g., Advanced Mathematics",value:A.courseName,onChange:F=>E("courseName",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Code *"}),n.jsx("input",{type:"text",placeholder:"e.g., MATH401",value:A.courseCode,onChange:F=>E("courseCode",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),n.jsxs("select",{value:A.department,onChange:F=>E("department",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Select Department"}),n.jsx("option",{value:"Mathematics",children:"Mathematics"}),n.jsx("option",{value:"Physics",children:"Physics"}),n.jsx("option",{value:"Chemistry",children:"Chemistry"}),n.jsx("option",{value:"Biology",children:"Biology"}),n.jsx("option",{value:"English",children:"English"}),n.jsx("option",{value:"History",children:"History"}),n.jsx("option",{value:"Computer Science",children:"Computer Science"}),n.jsx("option",{value:"Economics",children:"Economics"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Credits"}),n.jsx("input",{type:"number",placeholder:"e.g., 3",min:"1",max:"6",value:A.credits,onChange:F=>E("credits",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration"}),n.jsxs("select",{value:A.duration,onChange:F=>E("duration",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Duration"}),n.jsx("option",{value:"1 Semester",children:"1 Semester"}),n.jsx("option",{value:"2 Semesters",children:"2 Semesters"}),n.jsx("option",{value:"1 Year",children:"1 Year"}),n.jsx("option",{value:"Summer Course",children:"Summer Course"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course Description"}),n.jsx("textarea",{rows:"4",placeholder:"Provide a detailed description of the course objectives, content, and learning outcomes...",value:A.description,onChange:F=>E("description",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prerequisites"}),n.jsx("input",{type:"text",placeholder:"e.g., MATH301, PHYS201 (separate multiple courses with commas)",value:A.prerequisites,onChange:F=>E("prerequisites",F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:!k,className:`px-6 py-3 rounded-lg font-medium transition-colors ${k?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Create Course"})]})]})]})})]})},eZ="eec_teacher_chat_v2",x6=[{id:"class-10a",name:"Class 10-A",type:"class",unread:2,lastMessage:"Yes, submit by 6 PM.",lastTime:Date.now()-34e5},{id:"parent-emma",name:"Emma's Parents",type:"parent",unread:0,lastMessage:"Can we reschedule the PTM?",lastTime:Date.now()-72e5},{id:"staff-math",name:"Math Department",type:"staff",unread:1,lastMessage:"Department meeting at 3 PM.",lastTime:Date.now()-54e5},{id:"class-9b",name:"Class 9-B",type:"class",unread:0,lastMessage:"Homework submitted",lastTime:Date.now()-864e5},{id:"parent-liam",name:"Liam's Father",type:"parent",unread:3,lastMessage:"About the science project...",lastTime:Date.now()-108e5}],g6={"class-10a":[{id:"m1",sender:"student",text:"Sir, is the assignment due today?",ts:Date.now()-36e5},{id:"m2",sender:"teacher",text:"Yes, submit by 6 PM.",ts:Date.now()-34e5}],"parent-emma":[{id:"m3",sender:"parent",text:"Can we reschedule the PTM?",ts:Date.now()-72e5}],"staff-math":[{id:"m4",sender:"staff",text:"Department meeting at 3 PM.",ts:Date.now()-54e5}],"class-9b":[{id:"m5",sender:"teacher",text:"Remember to submit your homework by Friday",ts:Date.now()-864e5},{id:"m6",sender:"student",text:"Homework submitted",ts:Date.now()-832e5}],"parent-liam":[{id:"m7",sender:"parent",text:"Hello, I wanted to discuss Liam's science project",ts:Date.now()-108e5},{id:"m8",sender:"parent",text:"He seems to be struggling with the research part",ts:Date.now()-107e5},{id:"m9",sender:"parent",text:"Could you provide some guidance?",ts:Date.now()-106e5}]};function nUe(){var t;try{const e=localStorage.getItem(eZ);if(!e)return{conversations:x6,messages:g6};const r=JSON.parse(e);return{conversations:(t=r.conversations)!=null&&t.length?r.conversations:x6,messages:r.messages||g6}}catch{return{conversations:x6,messages:g6}}}function sUe(t){try{localStorage.setItem(eZ,JSON.stringify(t))}catch{}}const aUe=({mine:t,text:e,ts:r,senderType:s})=>n.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:n.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 text-sm ${t?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-800 rounded-bl-md shadow-sm"}`,children:[!t&&s!=="teacher"&&n.jsx("div",{className:"text-xs font-medium mb-1 opacity-80",children:s==="student"?"Student":s==="parent"?"Parent":"Staff"}),n.jsx("div",{className:"whitespace-pre-wrap",children:e}),n.jsx("div",{className:`text-xs mt-1 ${t?"text-blue-100":"text-gray-500"} text-right`,children:new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),iUe=({conversation:t,isActive:e,onClick:r,hasUnread:s})=>{const a=()=>{switch(t.type){case"class":return n.jsx(kr,{className:"h-4 w-4 text-blue-600"});case"parent":return n.jsx(xc,{className:"h-4 w-4 text-green-600"});case"staff":return n.jsx(sr,{className:"h-4 w-4 text-purple-600"});default:return n.jsx(vs,{className:"h-4 w-4 text-gray-600"})}},i=()=>{switch(t.type){case"class":return"bg-blue-100 text-blue-800";case"parent":return"bg-green-100 text-green-800";case"staff":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("button",{onClick:r,className:`w-full text-left p-3 flex items-center gap-3 transition-colors ${e?"bg-blue-50":"hover:bg-gray-50"} border-b`,children:[n.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${e?"bg-blue-100":"bg-gray-100"}`,children:a()}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-gray-800 truncate",children:t.name}),s&&n.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-blue-500 text-white text-xs",children:t.unread})]}),n.jsx("div",{className:"text-xs text-gray-500 truncate",children:t.lastMessage}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i()}`,children:t.type}),n.jsx("span",{className:"text-xs text-gray-400",children:new Date(t.lastTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})},oUe=()=>{var x;const[{conversations:t,messages:e},r]=L.useState(nUe),[s,a]=L.useState(((x=t[0])==null?void 0:x.id)||null),[i,o]=L.useState(""),[l,c]=L.useState(""),d=L.useRef(null),u=L.useMemo(()=>e[s]||[],[e,s]),h=L.useMemo(()=>t.find(v=>v.id===s),[t,s]);L.useEffect(()=>{sUe({conversations:t,messages:e})},[t,e]),L.useEffect(()=>{s&&r(v=>({...v,conversations:v.conversations.map(g=>g.id===s?{...g,unread:0}:g)}))},[s]);const m=L.useMemo(()=>{const v=i.trim().toLowerCase();return v?t.filter(g=>g.name.toLowerCase().includes(v)||g.lastMessage.toLowerCase().includes(v)):t},[t,i]),f=()=>{const v=l.trim();if(!v||!s)return;const g={id:crypto.randomUUID(),sender:"teacher",text:v,ts:Date.now()};r(b=>({conversations:b.conversations.map(N=>N.id===s?{...N,lastMessage:v,lastTime:Date.now()}:N),messages:{...b.messages,[s]:[...b.messages[s]||[],g]}})),c("")};return n.jsxs("div",{className:"h-full min-h-screen bg-gray-50 flex",children:[n.jsxs("div",{className:"w-80 bg-white border-r flex flex-col h-screen",children:[n.jsxs("div",{className:"p-4 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(vs,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold text-gray-800",children:"Teacher Chat"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Messages"})]})]}),n.jsx("button",{className:"h-8 w-8 rounded-full hover:bg-gray-100 flex items-center justify-center",children:n.jsx(fc,{className:"h-5 w-5 text-gray-500"})})]}),n.jsxs("div",{className:"mt-4 flex items-center gap-2 bg-gray-100 rounded-lg px-3 py-2",children:[n.jsx(In,{className:"h-4 w-4 text-gray-500"}),n.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"Search conversations...",className:"bg-transparent outline-none text-sm flex-1 placeholder-gray-500"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"px-3 py-2",children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider px-2 mb-1",children:"Conversations"}),m.map(v=>n.jsx(iUe,{conversation:v,isActive:s===v.id,onClick:()=>a(v.id),hasUnread:v.unread>0},v.id)),m.length===0&&n.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No conversations found"})]})}),n.jsx("div",{className:"p-4 border-t bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-200 flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-blue-800",children:"JD"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"John Doe"})]}),n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 text-green-800",children:"Teacher"})]})})]}),n.jsx("div",{className:"flex-1 flex flex-col h-screen",children:s?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"px-6 py-4 border-b bg-white flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:h.type==="class"?n.jsx(kr,{className:"h-5 w-5 text-blue-600"}):h.type==="parent"?n.jsx(xc,{className:"h-5 w-5 text-green-600"}):n.jsx(sr,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-800",children:h.name}),n.jsx("div",{className:"text-xs text-gray-500 capitalize",children:h.type})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:n.jsx(Kt,{className:"h-5 w-5 text-gray-600"})}),n.jsx("button",{className:"h-9 w-9 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:n.jsx(fc,{className:"h-5 w-5 text-gray-600"})})]})]}),n.jsx("div",{ref:d,className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:u.length?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-center text-xs text-gray-500 mb-6",children:"Today"}),u.map(v=>n.jsx(aUe,{mine:v.sender==="teacher",senderType:v.sender,text:v.text,ts:v.ts},v.id))]}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(vs,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.jsx("p",{className:"font-medium",children:"No messages yet"}),n.jsx("p",{className:"text-sm mt-1",children:"Send a message to start the conversation"})]})})}),n.jsx("div",{className:"border-t bg-white p-4",children:n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsxs("div",{className:"flex-1 bg-gray-100 rounded-2xl flex items-end",children:[n.jsxs("div",{className:"flex items-center px-3 py-2",children:[n.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200",children:n.jsx(kT,{className:"h-4 w-4 text-gray-600"})}),n.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200 ml-1",children:n.jsx(Kt,{className:"h-4 w-4 text-gray-600"})})]}),n.jsx("textarea",{rows:1,value:l,onChange:v=>c(v.target.value),onKeyDown:v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),f())},placeholder:"Type your message...",className:"flex-1 resize-none bg-transparent px-0 py-3 text-sm focus:outline-none min-h-[44px] max-h-32"}),n.jsx("div",{className:"flex items-center px-3 py-2",children:n.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-200",children:n.jsx(Xd,{className:"h-4 w-4 text-gray-600"})})})]}),n.jsx("button",{onClick:f,disabled:!l.trim(),className:"h-12 w-12 rounded-full bg-blue-600 text-white flex items-center justify-center hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(np,{className:"h-5 w-5"})})]})})]}):n.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 p-6",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx(vs,{className:"h-16 w-16 mx-auto text-gray-300 mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Welcome to Teacher Chat"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Select a conversation from the sidebar to start messaging with students, parents, or staff members."}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:n.jsx(kr,{className:"h-5 w-5 text-blue-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Classes"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:n.jsx(xc,{className:"h-5 w-5 text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Parents"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:n.jsx(sr,{className:"h-5 w-5 text-purple-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Staff"})]})]})]})})})]})},lUe=()=>{var A,j,S,E,R,C,T,k,P;const[t,e]=L.useState([]),[r,s]=L.useState(null),[a,i]=L.useState(null),[o,l]=L.useState({grade:"",section:"",subject:""}),[c,d]=L.useState(""),[u,h]=L.useState(!0),[m,f]=L.useState("overview");L.useEffect(()=>{x(),v()},[o]);const x=async()=>{try{h(!0);const D=await fetch(`/api/progress/students?${new URLSearchParams(o)}`);if(D.ok){const H=await D.json();e(H)}else e(HH)}catch(D){console.error("Error fetching students:",D),e(HH)}finally{h(!1)}},v=async()=>{try{const D=await fetch(`/api/progress/analytics?${new URLSearchParams(o)}`);if(D.ok){const H=await D.json();s(H)}else s(WH)}catch(D){console.error("Error fetching analytics:",D),s(WH)}},g=t.filter(D=>{var H,F,z,O;return((F=(H=D.studentId)==null?void 0:H.name)==null?void 0:F.toLowerCase().includes(c.toLowerCase()))||((O=(z=D.studentId)==null?void 0:z.roll)==null?void 0:O.toString().includes(c))}),b=D=>({"A+":"text-green-600 bg-green-100",A:"text-green-600 bg-green-100","B+":"text-blue-600 bg-blue-100",B:"text-blue-600 bg-blue-100","C+":"text-yellow-600 bg-yellow-100",C:"text-yellow-600 bg-yellow-100",D:"text-orange-600 bg-orange-100",F:"text-red-600 bg-red-100"})[D]||"text-gray-600 bg-gray-100",N=D=>{switch(D){case"improving":return n.jsx(Yr,{className:"w-4 h-4 text-green-500"});case"declining":return n.jsx(MT,{className:"w-4 h-4 text-red-500"});default:return n.jsx(Pne,{className:"w-4 h-4 text-gray-500"})}},w=D=>D>=90?"text-green-600":D>=80?"text-blue-600":D>=70?"text-yellow-600":D>=60?"text-orange-600":"text-red-600";return u?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading student progress..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-6 mb-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Student Progress Tracking"}),n.jsx("p",{className:"text-purple-100",children:"Monitor and analyze student performance across subjects"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{className:"bg-purple-500 px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-purple-600 transition-colors",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Export Report"})]})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search students...",value:c,onChange:D=>d(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("select",{value:o.grade,onChange:D=>l({...o,grade:D.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Grades"}),n.jsx("option",{value:"9",children:"Grade 9"}),n.jsx("option",{value:"10",children:"Grade 10"}),n.jsx("option",{value:"11",children:"Grade 11"}),n.jsx("option",{value:"12",children:"Grade 12"})]}),n.jsxs("select",{value:o.section,onChange:D=>l({...o,section:D.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Sections"}),n.jsx("option",{value:"A",children:"Section A"}),n.jsx("option",{value:"B",children:"Section B"}),n.jsx("option",{value:"C",children:"Section C"})]}),n.jsxs("select",{value:o.subject,onChange:D=>l({...o,subject:D.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Subjects"}),n.jsx("option",{value:"Mathematics",children:"Mathematics"}),n.jsx("option",{value:"Physics",children:"Physics"}),n.jsx("option",{value:"Chemistry",children:"Chemistry"}),n.jsx("option",{value:"Biology",children:"Biology"})]})]})}),r&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-blue-100",children:n.jsx(sr,{className:"w-6 h-6 text-blue-600"})}),n.jsx(Yr,{className:"w-5 h-5 text-green-500"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:r.totalStudents})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-green-100",children:n.jsx(rs,{className:"w-6 h-6 text-green-600"})}),n.jsx(Yr,{className:"w-5 h-5 text-green-500"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Average Score"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[r.averageScore,"%"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-yellow-100",children:n.jsx(Kt,{className:"w-6 h-6 text-yellow-600"})}),n.jsx(Yr,{className:"w-5 h-5 text-green-500"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Attendance Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:[r.attendanceRate,"%"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"p-3 rounded-xl bg-purple-100",children:n.jsx(Kn,{className:"w-6 h-6 text-purple-600"})}),n.jsx(Yr,{className:"w-5 h-5 text-green-500"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Improving Students"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:((A=r.improvementTrends)==null?void 0:A.improving)||0})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(ds,{className:"w-5 h-5 mr-2 text-blue-600"}),"Student Performance"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>f("overview"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="overview"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:"Overview"}),n.jsx("button",{onClick:()=>f("detailed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="detailed"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:"Detailed View"})]})]})}),n.jsx("div",{className:"p-6",children:m==="overview"?n.jsx("div",{className:"space-y-4",children:g.map(D=>{var F,z,O,W,ee,K,re;const H=((F=D.progressMetrics)==null?void 0:F.length)>0?Math.round(D.progressMetrics.reduce((U,Y)=>U+Y.averageScore,0)/D.progressMetrics.length):0;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:((O=(z=D.studentId)==null?void 0:z.name)==null?void 0:O.charAt(0))||"S"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:((W=D.studentId)==null?void 0:W.name)||"Unknown"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",(ee=D.studentId)==null?void 0:ee.grade,"-",(K=D.studentId)==null?void 0:K.section,"  Roll ",(re=D.studentId)==null?void 0:re.roll]})]})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Overall Score"}),n.jsxs("p",{className:`font-bold ${w(H)}`,children:[H,"%"]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Grade"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(D.overallGrade)}`,children:D.overallGrade})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Trend"}),n.jsx("div",{className:"flex justify-center",children:N(D.improvementTrend)})]}),n.jsxs("button",{onClick:()=>i(D),className:"text-blue-600 hover:text-blue-700 flex items-center space-x-1",children:[n.jsx(Rn,{className:"w-4 h-4"}),n.jsx("span",{children:"View Details"})]})]})]},D._id)})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Student"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Mathematics"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Physics"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Chemistry"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Attendance"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Grade"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:g.map(D=>{var H,F,z,O,W,ee,K,re,U,Y,V,Z,ce,fe,ye,ge,we,Re;return n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-sm font-semibold",children:((F=(H=D.studentId)==null?void 0:H.name)==null?void 0:F.charAt(0))||"S"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800",children:((z=D.studentId)==null?void 0:z.name)||"Unknown"}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Roll ",(O=D.studentId)==null?void 0:O.roll]})]})]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("span",{className:`font-medium ${w(((ee=(W=D.progressMetrics)==null?void 0:W.find(oe=>oe.subject==="Mathematics"))==null?void 0:ee.averageScore)||0)}`,children:[((re=(K=D.progressMetrics)==null?void 0:K.find(oe=>oe.subject==="Mathematics"))==null?void 0:re.averageScore)||0,"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("span",{className:`font-medium ${w(((Y=(U=D.progressMetrics)==null?void 0:U.find(oe=>oe.subject==="Physics"))==null?void 0:Y.averageScore)||0)}`,children:[((Z=(V=D.progressMetrics)==null?void 0:V.find(oe=>oe.subject==="Physics"))==null?void 0:Z.averageScore)||0,"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("span",{className:`font-medium ${w(((fe=(ce=D.progressMetrics)==null?void 0:ce.find(oe=>oe.subject==="Chemistry"))==null?void 0:fe.averageScore)||0)}`,children:[((ge=(ye=D.progressMetrics)==null?void 0:ye.find(oe=>oe.subject==="Chemistry"))==null?void 0:ge.averageScore)||0,"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("span",{className:"font-medium text-gray-700",children:[Math.round((((we=D.progressMetrics)==null?void 0:we.reduce((oe,ut)=>oe+ut.attendanceRate,0))||0)/(((Re=D.progressMetrics)==null?void 0:Re.length)||1)),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(D.overallGrade)}`,children:D.overallGrade})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("button",{onClick:()=>i(D),className:"text-blue-600 hover:text-blue-700",children:n.jsx(Rn,{className:"w-4 h-4"})})})]},D._id)})})]})})})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white text-xl font-semibold",children:((S=(j=a.studentId)==null?void 0:j.name)==null?void 0:S.charAt(0))||"S"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:(E=a.studentId)==null?void 0:E.name}),n.jsxs("p",{className:"text-gray-600",children:["Grade ",(R=a.studentId)==null?void 0:R.grade,"-",(C=a.studentId)==null?void 0:C.section,"  Roll ",(T=a.studentId)==null?void 0:T.roll]})]})]}),n.jsx("button",{onClick:()=>i(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Subject Performance"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(k=a.progressMetrics)==null?void 0:k.map((D,H)=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:D.subject}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Average Score"}),n.jsxs("span",{className:`font-medium ${w(D.averageScore)}`,children:[D.averageScore,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Assignments"}),n.jsxs("span",{className:"text-sm text-gray-800",children:[D.completedAssignments,"/",D.totalAssignments]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Attendance"}),n.jsxs("span",{className:"text-sm text-gray-800",children:[D.attendanceRate,"%"]})]})]})]},H))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Submissions"}),n.jsx("div",{className:"space-y-3",children:(P=a.submissions)==null?void 0:P.slice(0,5).map((D,H)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:n.jsx(jr,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-800",children:["Assignment ",H+1]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Submitted ",new Date(D.submittedAt).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-bold ${w(D.score||0)}`,children:[D.score||0,"%"]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${D.status==="graded"?"bg-green-100 text-green-800":D.status==="submitted"?"bg-blue-100 text-blue-800":D.status==="late"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:D.status})]})]},H))})]})]})]})})]})},HH=[{_id:"1",studentId:{name:"Emma Johnson",grade:"10",section:"A",roll:1},overallGrade:"A+",improvementTrend:"improving",progressMetrics:[{subject:"Mathematics",averageScore:95,attendanceRate:98,totalAssignments:10,completedAssignments:10},{subject:"Physics",averageScore:92,attendanceRate:96,totalAssignments:8,completedAssignments:8},{subject:"Chemistry",averageScore:88,attendanceRate:94,totalAssignments:9,completedAssignments:8}],submissions:[{submittedAt:"2024-01-15",score:95,status:"graded"},{submittedAt:"2024-01-10",score:92,status:"graded"}]},{_id:"2",studentId:{name:"Michael Brown",grade:"11",section:"B",roll:5},overallGrade:"A",improvementTrend:"stable",progressMetrics:[{subject:"Mathematics",averageScore:87,attendanceRate:92,totalAssignments:10,completedAssignments:9},{subject:"Physics",averageScore:89,attendanceRate:94,totalAssignments:8,completedAssignments:7},{subject:"Chemistry",averageScore:85,attendanceRate:90,totalAssignments:9,completedAssignments:9}],submissions:[{submittedAt:"2024-01-14",score:87,status:"graded"},{submittedAt:"2024-01-09",score:89,status:"graded"}]}],WH={totalStudents:45,averageScore:87,attendanceRate:94,improvementTrends:{improving:15,stable:22,declining:8},gradeDistribution:{"A+":8,A:12,"B+":10,B:8,"C+":4,C:2,D:1,F:0}},cUe=()=>{var w,A,j,S,E,R;const t=xi(),[e,r]=L.useState([]),[s,a]=L.useState(null),[i,o]=L.useState({grade:"",section:"",subject:"",interventionLevel:""}),[l,c]=L.useState(!0),[d,u]=L.useState(!1),[h,m]=L.useState("");L.useEffect(()=>{f()},[i]);const f=async()=>{try{c(!0);const C=await fetch(`/api/ai-learning/weak-students?${new URLSearchParams(i)}`);if(C.ok){const T=await C.json();r(T)}else r(qH)}catch(C){console.error("Error fetching weak students:",C),r(qH)}finally{c(!1)}},x=async(C,T)=>{u(!0);try{const k=await fetch(`/api/ai-learning/analyze-weakness/${C}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:T})});if(k.ok){const P=await k.json();alert(`Analysis completed! Intervention level: ${P.interventionLevel}`),f()}else throw new Error("Failed to analyze student")}catch(k){console.error("Error analyzing student:",k),alert("Failed to analyze student. Please try again.")}finally{u(!1)}},v=async(C,T,k,P)=>{try{const D=await fetch(`/api/ai-learning/generate-learning-path/${C}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:T,weakAreas:k,currentLevel:P})});if(D.ok)await D.json(),alert("AI Learning Path generated successfully!"),a(H=>({...H,hasAIPath:!0}));else throw new Error("Failed to generate learning path")}catch(D){console.error("Error generating learning path:",D),alert("Failed to generate learning path. Please try again.")}},g=C=>{switch(C){case"critical":return"text-red-600 bg-red-100 border-red-200";case"high":return"text-orange-600 bg-orange-100 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-blue-600 bg-blue-100 border-blue-200"}},b=C=>{switch(C){case"critical":return n.jsx(Ti,{className:"w-4 h-4"});case"high":return n.jsx(Zr,{className:"w-4 h-4"});case"medium":return n.jsx(Jo,{className:"w-4 h-4"});default:return n.jsx(Dr,{className:"w-4 h-4"})}},N=e.filter(C=>{var T,k,P,D;return((k=(T=C.studentId)==null?void 0:T.name)==null?void 0:k.toLowerCase().includes(h.toLowerCase()))||((D=(P=C.studentId)==null?void 0:P.roll)==null?void 0:D.toString().includes(h))});return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Analyzing weak students..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 rounded-2xl p-6 mb-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[n.jsx(Jo,{className:"w-8 h-8 mr-3"}),"Weak Student Identification"]}),n.jsx("p",{className:"text-red-100",children:"Identify students needing intervention and provide personalized AI learning"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{className:"bg-red-500 px-3 py-1 rounded-full text-sm",children:[N.length," students need attention"]})})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search students...",value:h,onChange:C=>m(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),n.jsxs("select",{value:i.grade,onChange:C=>o({...i,grade:C.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[n.jsx("option",{value:"",children:"All Grades"}),n.jsx("option",{value:"9",children:"Grade 9"}),n.jsx("option",{value:"10",children:"Grade 10"}),n.jsx("option",{value:"11",children:"Grade 11"}),n.jsx("option",{value:"12",children:"Grade 12"})]}),n.jsxs("select",{value:i.section,onChange:C=>o({...i,section:C.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[n.jsx("option",{value:"",children:"All Sections"}),n.jsx("option",{value:"A",children:"Section A"}),n.jsx("option",{value:"B",children:"Section B"}),n.jsx("option",{value:"C",children:"Section C"})]}),n.jsxs("select",{value:i.subject,onChange:C=>o({...i,subject:C.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[n.jsx("option",{value:"",children:"All Subjects"}),n.jsx("option",{value:"Mathematics",children:"Mathematics"}),n.jsx("option",{value:"Physics",children:"Physics"}),n.jsx("option",{value:"Chemistry",children:"Chemistry"}),n.jsx("option",{value:"Biology",children:"Biology"})]}),n.jsxs("select",{value:i.interventionLevel,onChange:C=>o({...i,interventionLevel:C.target.value}),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[n.jsx("option",{value:"",children:"All Levels"}),n.jsx("option",{value:"critical",children:"Critical"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"low",children:"Low"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-red-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Critical Students"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.filter(C=>C.interventionLevel==="critical").length})]}),n.jsx(Ti,{className:"w-8 h-8 text-red-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-orange-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"High Priority"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N.filter(C=>C.interventionLevel==="high").length})]}),n.jsx(Zr,{className:"w-8 h-8 text-orange-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-yellow-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Medium Priority"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:N.filter(C=>C.interventionLevel==="medium").length})]}),n.jsx(Jo,{className:"w-8 h-8 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border-l-4 border-blue-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"With AI Paths"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N.filter(C=>C.hasAIPath).length})]}),n.jsx(Pn,{className:"w-8 h-8 text-blue-500"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(sr,{className:"w-5 h-5 mr-2 text-red-600"}),"Students Needing Intervention"]})}),n.jsx("div",{className:"p-6",children:N.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Dr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Great News!"}),n.jsx("p",{className:"text-gray-600",children:"No students currently need immediate intervention."})]}):n.jsx("div",{className:"space-y-4",children:N.map(C=>{var T,k,P,D,H,F,z;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white font-semibold",children:((k=(T=C.studentId)==null?void 0:T.name)==null?void 0:k.charAt(0))||"S"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:((P=C.studentId)==null?void 0:P.name)||"Unknown"}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",(D=C.studentId)==null?void 0:D.grade,"-",(H=C.studentId)==null?void 0:H.section,"  Roll ",(F=C.studentId)==null?void 0:F.roll]})]})]}),n.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium border flex items-center space-x-2 ${g(C.interventionLevel)}`,children:[b(C.interventionLevel),n.jsx("span",{className:"capitalize",children:C.interventionLevel})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(rs,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Consistency Score"})]}),n.jsxs("p",{className:"text-lg font-bold text-gray-800",children:[C.consistencyScore||0,"%"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(kr,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Focus Subject"})]}),n.jsx("p",{className:"font-medium text-gray-800",children:C.focusSubject||"General"})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(MT,{className:"w-4 h-4 text-gray-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weak Areas"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:((z=C.weakAreas)==null?void 0:z.slice(0,2).join(", "))||"Analysis needed"})]})]}),C.weakAreas&&C.weakAreas.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Identified Weak Areas:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:C.weakAreas.map((O,W)=>n.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs",children:O},W))})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsxs("button",{onClick:()=>x(C.studentId._id,C.focusSubject||"Mathematics"),disabled:d,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:bg-yellow-400 transition-colors flex items-center space-x-2 text-sm",children:[n.jsx(ds,{className:"w-4 h-4"}),n.jsx("span",{children:d?"Analyzing...":"Re-analyze"})]}),n.jsxs("button",{onClick:()=>v(C.studentId._id,C.focusSubject||"Mathematics",C.weakAreas||[],"basic"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[n.jsx(Pn,{className:"w-4 h-4"}),n.jsx("span",{children:"Generate AI Learning Path"})]}),n.jsxs("button",{onClick:()=>a(C),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 text-sm",children:[n.jsx(Vs,{className:"w-4 h-4"}),n.jsx("span",{children:"View Details"})]}),C.hasAIPath&&n.jsxs("button",{onClick:()=>t(`/teachers/ai-learning/${C.studentId._id}/${C.focusSubject||"Mathematics"}`),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 text-sm",children:[n.jsx(Pn,{className:"w-4 h-4"}),n.jsx("span",{children:"View AI Path"})]})]})]},C._id)})})})]}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white text-xl font-semibold",children:((A=(w=s.studentId)==null?void 0:w.name)==null?void 0:A.charAt(0))||"S"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:(j=s.studentId)==null?void 0:j.name}),n.jsxs("p",{className:"text-gray-600",children:["Grade ",(S=s.studentId)==null?void 0:S.grade,"-",(E=s.studentId)==null?void 0:E.section,"  Roll ",(R=s.studentId)==null?void 0:R.roll]}),n.jsxs("div",{className:`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium mt-2 ${g(s.interventionLevel)}`,children:[b(s.interventionLevel),n.jsxs("span",{className:"capitalize",children:[s.interventionLevel," Intervention Needed"]})]})]})]}),n.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Jo,{className:"w-5 h-5 mr-2 text-red-600"}),"Weakness Analysis"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Consistency Score"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-1 bg-red-200 rounded-full h-3",children:n.jsx("div",{className:"bg-red-600 h-3 rounded-full",style:{width:`${s.consistencyScore||0}%`}})}),n.jsxs("span",{className:"font-bold text-red-800",children:[s.consistencyScore||0,"%"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Weak Areas"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(s.weakAreas||[]).map((C,T)=>n.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:C},T))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Recommended Topics"}),n.jsx("div",{className:"space-y-2",children:(s.recommendedTopics||[]).map((C,T)=>n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[n.jsx(Jb,{className:"w-4 h-4 text-yellow-500"}),n.jsx("span",{children:C})]},T))})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Pn,{className:"w-5 h-5 mr-2 text-blue-600"}),"AI Learning Path"]}),s.hasAIPath?n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("span",{className:"text-blue-800 font-medium",children:"Learning Path Active"}),n.jsx(Dr,{className:"w-5 h-5 text-green-500"})]}),n.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Personalized learning path has been generated based on weakness analysis."}),n.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Learning Path"})]}):n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[n.jsx(Pn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600 mb-3",children:"No AI learning path generated yet"}),n.jsx("button",{onClick:()=>v(s.studentId._id,s.focusSubject||"Mathematics",s.weakAreas||[],"basic"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Generate AI Learning Path"})]})]})]})})]})})]})},qH=[{_id:"1",studentId:{_id:"student1",name:"Alex Thompson",grade:"10",section:"A",roll:15},interventionLevel:"critical",consistencyScore:25,focusSubject:"Mathematics",weakAreas:["Basic Concepts","Problem Solving","Consistency in Performance"],recommendedTopics:["Number Systems","Basic Operations","Word Problems"],hasAIPath:!1},{_id:"2",studentId:{_id:"student2",name:"Sarah Wilson",grade:"11",section:"B",roll:8},interventionLevel:"high",consistencyScore:45,focusSubject:"Physics",weakAreas:["Conceptual Understanding","Formula Application"],recommendedTopics:["Physics Fundamentals","Laws of Motion"],hasAIPath:!0},{_id:"3",studentId:{_id:"student3",name:"Mike Johnson",grade:"9",section:"C",roll:22},interventionLevel:"medium",consistencyScore:55,focusSubject:"Chemistry",weakAreas:["Chemical Equations","Basic Concepts"],recommendedTopics:["Balancing Equations","Reaction Types"],hasAIPath:!1}],dUe=()=>{var N,w,A,j;const{studentId:t,subject:e}=iW(),r=xi(),[s,a]=L.useState(null),[i,o]=L.useState(null),[l,c]=L.useState(!0),[d,u]=L.useState(null),[h,m]=L.useState(!1);L.useEffect(()=>{t&&e&&f()},[t,e]);const f=async()=>{try{c(!0);const S=await fetch(`/api/ai-learning/learning-path/${t}/${e}`);if(S.ok){const E=await S.json();a(E.learningPath),o(E.student)}else a(VH),o(GH)}catch(S){console.error("Error fetching learning path:",S),a(VH),o(GH)}finally{c(!1)}},x=async(S,E)=>{m(!0);try{if((await fetch(`/api/ai-learning/update-progress/${t}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({topicCompleted:E,resourceCompleted:!0,progressPercentage:Math.min(100,s.progress+10)})})).ok){a(T=>({...T,progress:Math.min(100,T.progress+10),completedTopics:[...T.completedTopics||[],E].filter((k,P,D)=>D.indexOf(k)===P),lastAccessed:new Date}));const C=[...s.recommendedResources];C[S]={...C[S],completed:!0},a(T=>({...T,recommendedResources:C})),alert("Great job! Resource marked as completed.")}else throw new Error("Failed to update progress")}catch(R){console.error("Error updating progress:",R),alert("Failed to update progress. Please try again.")}finally{m(!1)}},v=S=>{switch(S){case"video":return n.jsx(Bm,{className:"w-5 h-5"});case"article":return n.jsx(jr,{className:"w-5 h-5"});case"practice":return n.jsx(rs,{className:"w-5 h-5"});case"quiz":return n.jsx(bre,{className:"w-5 h-5"});case"interactive":return n.jsx(lu,{className:"w-5 h-5"});default:return n.jsx(kr,{className:"w-5 h-5"})}},g=S=>{switch(S){case"video":return"text-red-600 bg-red-100";case"article":return"text-blue-600 bg-blue-100";case"practice":return"text-green-600 bg-green-100";case"quiz":return"text-purple-600 bg-purple-100";case"interactive":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},b=S=>{switch(S){case"basic":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-blue-600 bg-blue-100"}};return l?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Pn,{className:"w-16 h-16 text-blue-600 animate-pulse mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading AI Learning Path..."})]})}):s?n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("button",{onClick:()=>r("/teachers/weak-students"),className:"flex items-center text-gray-600 hover:text-gray-800 mb-4",children:[n.jsx(xd,{className:"w-5 h-5 mr-1"}),"Back to Weak Students"]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[n.jsx(Pn,{className:"w-8 h-8 mr-3"}),"AI Learning Path"]}),n.jsxs("p",{className:"text-blue-100",children:["Personalized learning journey for ",i==null?void 0:i.name]}),n.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[n.jsxs("span",{className:"bg-blue-500 px-3 py-1 rounded-full text-sm",children:["Grade ",i==null?void 0:i.grade,"-",i==null?void 0:i.section]}),n.jsxs("span",{className:"bg-purple-500 px-3 py-1 rounded-full text-sm",children:["Subject: ",e]})]})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("div",{className:"bg-blue-500 px-4 py-2 rounded-lg flex items-center space-x-2",children:[n.jsx(el,{className:"w-4 h-4"}),n.jsxs("span",{children:[s.progress,"% Complete"]})]})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 rounded-xl bg-blue-100",children:n.jsx(ds,{className:"w-6 h-6 text-blue-600"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Overall Progress"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:[s.progress,"%"]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.progress}%`}})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 rounded-xl bg-green-100",children:n.jsx(Dr,{className:"w-6 h-6 text-green-600"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Completed Topics"}),n.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:((N=s.completedTopics)==null?void 0:N.length)||0})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 rounded-xl bg-purple-100",children:n.jsx(kr,{className:"w-6 h-6 text-purple-600"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Resources"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-1",children:((w=s.recommendedResources)==null?void 0:w.length)||0})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:"p-3 rounded-xl bg-yellow-100",children:n.jsx(nr,{className:"w-6 h-6 text-yellow-600"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Est. Time"}),n.jsxs("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:[((A=s.recommendedResources)==null?void 0:A.reduce((S,E)=>S+(E.estimatedTime||0),0))||0,"m"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 mb-6",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(rs,{className:"w-5 h-5 mr-2 text-green-600"}),"Current Focus: ",s.currentTopic]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 border-l-4 border-green-500",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Jb,{className:"w-6 h-6 text-green-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:"Learning Objective"}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Focus on mastering ",s.currentTopic," through structured learning resources. Complete the activities in order for optimal understanding."]})]})]})})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[n.jsx(Pn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recommended Learning Resources"]}),n.jsxs("button",{className:"text-blue-600 hover:text-blue-700 flex items-center space-x-2 text-sm",children:[n.jsx(Pg,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh Path"})]})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"space-y-4",children:(j=s.recommendedResources)==null?void 0:j.map((S,E)=>n.jsxs("div",{className:`border rounded-lg p-4 transition-all ${S.completed?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:shadow-md"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${g(S.type)}`,children:v(S.type)}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:S.title}),n.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(S.type)}`,children:S.type}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(S.difficulty)}`,children:S.difficulty}),n.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[n.jsx(nr,{className:"w-3 h-3 mr-1"}),S.estimatedTime,"min"]})]})]})]}),S.completed?n.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[n.jsx(Dr,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>u(S),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[n.jsx(mi,{className:"w-4 h-4"}),n.jsx("span",{children:"Start"})]}),n.jsx("button",{onClick:()=>x(E,S.title),disabled:h,className:"px-4 py-2 border border-green-600 text-green-600 rounded-lg hover:bg-green-50 disabled:opacity-50 transition-colors text-sm",children:h?"Marking...":"Mark Complete"})]})]}),!S.completed&&n.jsx("div",{className:"ml-11",children:n.jsx("p",{className:"text-sm text-gray-600",children:"This resource will help you understand the key concepts. Take your time and practice the examples provided."})})]},E))}),n.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{children:n.jsx("p",{className:"text-sm text-gray-600",children:"Complete all resources to move to the next topic"})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{children:"Export Progress"})]}),n.jsxs("button",{className:`px-4 py-2 rounded-lg flex items-center space-x-2 ${s.progress===100?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:s.progress<100,children:[n.jsx(el,{className:"w-4 h-4"}),n.jsx("span",{children:"Complete Path"})]})]})]})})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${g(d.type)}`,children:v(d.type)}),n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:d.title})]}),n.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:""})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:`w-16 h-16 mx-auto rounded-full ${g(d.type)} flex items-center justify-center mb-4`,children:v(d.type)}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Ready to Start Learning?"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:["This ",d.type," will take approximately ",d.estimatedTime," minutes to complete."]}),n.jsx("div",{className:"flex justify-center space-x-2 mb-6",children:n.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${b(d.difficulty)}`,children:[d.difficulty," level"]})})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:n.jsx("p",{className:"text-sm text-gray-600",children:`Click "Open Resource" to access the learning material. Once you've completed it, return here and mark it as complete to update your progress.`})}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("button",{onClick:()=>{window.open(d.url||"#","_blank")},className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[n.jsx(By,{className:"w-5 h-5"}),n.jsx("span",{children:"Open Resource"})]}),n.jsx("button",{onClick:()=>u(null),className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]})]})})]})})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Pn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No Learning Path Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Generate an AI learning path first from the weak student identification page."}),n.jsx("button",{onClick:()=>r("/teachers/weak-students"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Go to Weak Students"})]})})},GH={name:"Alex Thompson",grade:"10",section:"A",roll:15},VH={subject:"Mathematics",currentTopic:"Basic Algebra",completedTopics:["Number Systems"],recommendedResources:[{title:"Introduction to Algebra",type:"video",url:"/learning/math/intro-algebra",difficulty:"basic",estimatedTime:25,completed:!1},{title:"Solving Linear Equations",type:"interactive",url:"/learning/math/linear-equations",difficulty:"basic",estimatedTime:35,completed:!1},{title:"Algebra Practice Problems",type:"practice",url:"/learning/math/algebra-practice",difficulty:"intermediate",estimatedTime:45,completed:!1},{title:"Algebra Quiz",type:"quiz",url:"/learning/math/algebra-quiz",difficulty:"basic",estimatedTime:20,completed:!1}],progress:25,createdAt:new Date,lastAccessed:new Date},uUe=()=>n.jsx("div",{className:"min-h-screen bg-blue-100 p-8",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Teachers Portal Test"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"If you can see this page, the basic routing is working!"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," Portal is loading correctly"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",new Date().toLocaleString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Route:"})," /teachers/test"]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("a",{href:"/teachers",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Go to Full Teachers Portal"})})]})}),hUe=()=>{const[t,e]=L.useState("dashboard"),[r]=L.useState({studentsHelped:156,quizzesCreated:43,flashcardsCreated:67,averageEngagement:94}),s=[{id:"dashboard",name:"Dashboard",icon:ds},{id:"quiz-creator",name:"Quiz Creator",icon:rs},{id:"content-summarizer",name:"Content Summarizer",icon:Zd},{id:"flashcard-generator",name:"Flashcard Generator",icon:Kr},{id:"tryout-generator",name:"Tryout Generator",icon:jr},{id:"student-analyzer",name:"Student Analyzer",icon:sr},{id:"teaching-assistant",name:"AI Assistant",icon:pW}],a=()=>{switch(t){case"quiz-creator":return n.jsx(mUe,{});case"content-summarizer":return n.jsx(pUe,{});case"flashcard-generator":return n.jsx(vUe,{});case"tryout-generator":return n.jsx(yUe,{});case"student-analyzer":return n.jsx(xUe,{});case"teaching-assistant":return n.jsx(gUe,{});default:return n.jsx(fUe,{onNavigate:e})}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-indigo-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center",children:n.jsx(Pn,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"AI Powered Teaching"}),n.jsx("p",{className:"text-gray-600",children:"Intelligent tools to enhance your teaching experience"})]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[r.averageEngagement,"%"]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Student Engagement "})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 bg-blue-500 rounded-lg flex items-center justify-center",children:n.jsx(sr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-700",children:r.studentsHelped}),n.jsx("div",{className:"text-sm text-blue-600",children:"Students Helped"})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 bg-green-500 rounded-lg flex items-center justify-center",children:n.jsx(Kr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-green-700",children:r.flashcardsCreated}),n.jsx("div",{className:"text-sm text-green-600",children:"Flashcards Created"})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 bg-purple-500 rounded-lg flex items-center justify-center",children:n.jsx(rs,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-700",children:r.quizzesCreated}),n.jsx("div",{className:"text-sm text-purple-600",children:"Quizzes Created"})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx(Yr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:"4.9"}),n.jsx("div",{className:"text-sm text-yellow-600",children:"AI Rating"})]})]})})]})]}),n.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-indigo-100 overflow-hidden",children:n.jsx("div",{className:"flex overflow-x-auto",children:s.map(i=>n.jsxs("button",{onClick:()=>e(i.id),className:`flex items-center gap-2 px-6 py-4 font-medium text-sm whitespace-nowrap border-b-2 transition-colors ${t===i.id?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(i.icon,{className:"h-4 w-4"}),n.jsx("span",{children:i.name})]},i.id))})}),n.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-indigo-100",children:a()})]})})},fUe=({onNavigate:t})=>{const e=[{title:"Create Smart Quiz",description:"Generate adaptive quizzes",icon:rs,color:"bg-green-500",action:"quiz-creator"},{title:"Generate Flashcards",description:"Interactive learning flashcards",icon:Kr,color:"bg-yellow-500",action:"flashcard-generator"},{title:"Create Tryouts",description:"Multi-format assessment tests",icon:jr,color:"bg-indigo-500",action:"tryout-generator"},{title:"Summarize Content",description:"AI-powered content summaries",icon:Zd,color:"bg-purple-500",action:"content-summarizer"},{title:"Analyze Students",description:"Get insights on student performance",icon:sr,color:"bg-orange-500",action:"student-analyzer"}],r=[{type:"summary",title:"Quadratic Equations - Key Concepts",subject:"Mathematics",timestamp:"2 hours ago",status:"completed"},{type:"flashcards",title:"Chemistry Periodic Table Cards",subject:"Chemistry",timestamp:"4 hours ago",status:"completed"},{type:"tryout",title:"History World War I Assessment",subject:"History",timestamp:"6 hours ago",status:"completed"},{type:"quiz",title:"Physics Motion Quiz",subject:"Physics",timestamp:"1 day ago",status:"completed"},{type:"summary",title:"Cell Biology Overview",subject:"Biology",timestamp:"2 days ago",status:"completed"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(lu,{className:"h-5 w-5 text-yellow-500"}),"Quick Actions"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((s,a)=>n.jsxs("button",{onClick:()=>t&&t(s.action),className:"p-6 rounded-xl border-2 border-gray-100 hover:border-indigo-200 hover:shadow-lg transition-all duration-200 group text-left",children:[n.jsx("div",{className:`h-12 w-12 ${s.color} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:n.jsx(s.icon,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:s.title}),n.jsx("p",{className:"text-sm text-gray-600",children:s.description})]},a))})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(nr,{className:"h-5 w-5 text-green-500"}),"Recent AI Generations"]}),n.jsx("div",{className:"space-y-3",children:r.map((s,a)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border border-gray-100 hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"h-10 w-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:[s.type==="quiz"&&n.jsx(rs,{className:"h-5 w-5 text-indigo-600"}),s.type==="flashcards"&&n.jsx(Kr,{className:"h-5 w-5 text-indigo-600"}),s.type==="tryout"&&n.jsx(jr,{className:"h-5 w-5 text-indigo-600"}),s.type==="summary"&&n.jsx(Zd,{className:"h-5 w-5 text-indigo-600"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:s.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:[s.subject,"  ",s.timestamp]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:s.status}),n.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:n.jsx(Rn,{className:"h-4 w-4 text-gray-500"})})]})]},a))})]})]})},mUe=()=>{const[t,e]=L.useState({subject:"",topic:"",grade:"",questionCount:"10",difficulty:"medium",questionTypes:["multiple-choice"],timeLimit:"30"}),[r,s]=L.useState(null),[a,i]=L.useState(!1),o=async()=>{!t.subject||!t.topic||(i(!0),setTimeout(()=>{const l={title:`${t.topic} Quiz - Grade ${t.grade}`,subject:t.subject,difficulty:t.difficulty,timeLimit:t.timeLimit,questions:Array.from({length:parseInt(t.questionCount)},(c,d)=>({id:d+1,question:`Sample question ${d+1} about ${t.topic}`,type:t.questionTypes[0],options:t.questionTypes[0]==="multiple-choice"?["Option A","Option B","Option C","Option D"]:null,correct:t.questionTypes[0]==="multiple-choice"?0:"Sample answer",explanation:"This is the explanation for the correct answer."}))};s(l),i(!1)},2e3))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(rs,{className:"h-6 w-6 text-green-500"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"AI Quiz Creator"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsxs("select",{value:t.subject,onChange:l=>e({...t,subject:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Select Subject"}),n.jsx("option",{value:"mathematics",children:"Mathematics"}),n.jsx("option",{value:"physics",children:"Physics"}),n.jsx("option",{value:"chemistry",children:"Chemistry"}),n.jsx("option",{value:"biology",children:"Biology"}),n.jsx("option",{value:"english",children:"English"}),n.jsx("option",{value:"history",children:"History"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),n.jsx("input",{type:"text",value:t.topic,onChange:l=>e({...t,topic:l.target.value}),placeholder:"Enter the quiz topic",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),n.jsxs("select",{value:t.grade,onChange:l=>e({...t,grade:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((l,c)=>n.jsxs("option",{value:c+1,children:["Grade ",c+1]},c))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Questions"}),n.jsxs("select",{value:t.questionCount,onChange:l=>e({...t,questionCount:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"5",children:"5 Questions"}),n.jsx("option",{value:"10",children:"10 Questions"}),n.jsx("option",{value:"15",children:"15 Questions"}),n.jsx("option",{value:"20",children:"20 Questions"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),n.jsxs("select",{value:t.difficulty,onChange:l=>e({...t,difficulty:l.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"easy",children:"Easy"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"hard",children:"Hard"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit (minutes)"}),n.jsx("input",{type:"number",value:t.timeLimit,onChange:l=>e({...t,timeLimit:l.target.value}),min:"5",max:"120",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsx("button",{onClick:o,disabled:a||!t.subject||!t.topic,className:"w-full py-3 px-6 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Quiz..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rs,{className:"h-4 w-4"}),"Generate Quiz"]})})]}),n.jsx("div",{children:r?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r.title}),n.jsxs("p",{className:"text-gray-600",children:[r.questions.length," questions  ",r.timeLimit," minutes"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:n.jsx(tn,{className:"h-4 w-4"})}),n.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:n.jsx(TT,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Quiz Settings"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-green-700",children:"Subject:"})," ",r.subject]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-green-700",children:"Difficulty:"})," ",r.difficulty]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-green-700",children:"Time Limit:"})," ",r.timeLimit," min"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-green-700",children:"Questions:"})," ",r.questions.length]})]})]}),n.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:"Preview Questions"}),r.questions.slice(0,3).map((l,c)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("h5",{className:"font-medium text-gray-800 mb-2",children:["Question ",l.id,": ",l.question]}),l.options&&n.jsx("div",{className:"space-y-1",children:l.options.map((d,u)=>n.jsxs("div",{className:`text-sm p-2 rounded ${u===l.correct?"bg-green-100 text-green-800":"text-gray-600"}`,children:[String.fromCharCode(65+u),". ",d,u===l.correct&&n.jsx(Dr,{className:"h-4 w-4 inline ml-2"})]},u))}),n.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:l.explanation})]},c)),r.questions.length>3&&n.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["+",r.questions.length-3," more questions..."]})]})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(rs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Configure your quiz settings to generate questions"})]})})})]})]})},pUe=()=>{var f;const[t,e]=L.useState({subject:"",topic:"",grade:"",summaryType:"overview",length:"medium",inputText:""}),[r,s]=L.useState(""),[a,i]=L.useState(!1),[o,l]=L.useState(!1),c=[{value:"overview",label:"Topic Overview",description:"General introduction to the topic"},{value:"key-points",label:"Key Points",description:"Main concepts and important details"},{value:"study-guide",label:"Study Guide",description:"Structured learning material"},{value:"revision",label:"Revision Notes",description:"Quick review material"}],d=[{value:"short",label:"Short",description:"1-2 paragraphs"},{value:"medium",label:"Medium",description:"3-4 paragraphs"},{value:"detailed",label:"Detailed",description:"5+ paragraphs"}],u=async()=>{t.topic&&(i(!0),setTimeout(()=>{const x=`# ${t.topic} Summary

## Overview
This is an AI-generated summary of ${t.topic} in ${t.subject} for Grade ${t.grade} students.

## Key Concepts
 Important concept 1: Detailed explanation of the first key concept
 Important concept 2: Detailed explanation of the second key concept  
 Important concept 3: Detailed explanation of the third key concept

## Examples
Real-world applications and examples that help students understand the topic better.

## Important Points to Remember
- Critical point 1
- Critical point 2
- Critical point 3

## Practice Questions
1. Sample question about the topic
2. Another practice question
3. Advanced application question

This summary has been optimized for ${t.length} reading and covers the essential points students need to understand about ${t.topic}.`;s(x),i(!1)},2e3))},h=async()=>{await navigator.clipboard.writeText(r),l(!0),setTimeout(()=>l(!1),2e3)},m=()=>{const x=document.createElement("a"),v=new Blob([r],{type:"text/plain"});x.href=URL.createObjectURL(v),x.download=`${t.topic}_summary.txt`,document.body.appendChild(x),x.click(),document.body.removeChild(x)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Zd,{className:"h-6 w-6 text-purple-500"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Content Summarizer"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsxs("select",{value:t.subject,onChange:x=>e({...t,subject:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"",children:"Select Subject"}),n.jsx("option",{value:"mathematics",children:"Mathematics"}),n.jsx("option",{value:"physics",children:"Physics"}),n.jsx("option",{value:"chemistry",children:"Chemistry"}),n.jsx("option",{value:"biology",children:"Biology"}),n.jsx("option",{value:"english",children:"English"}),n.jsx("option",{value:"history",children:"History"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),n.jsx("input",{type:"text",value:t.topic,onChange:x=>e({...t,topic:x.target.value}),placeholder:"Enter the topic to summarize",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),n.jsxs("select",{value:t.grade,onChange:x=>e({...t,grade:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((x,v)=>n.jsxs("option",{value:v+1,children:["Grade ",v+1]},v))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Summary Type"}),n.jsx("div",{className:"space-y-2",children:c.map(x=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:x.value,checked:t.summaryType===x.value,onChange:v=>e({...t,summaryType:v.target.value}),className:"mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:x.label}),n.jsx("div",{className:"text-sm text-gray-600",children:x.description})]})]},x.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Summary Length"}),n.jsx("select",{value:t.length,onChange:x=>e({...t,length:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:d.map(x=>n.jsxs("option",{value:x.value,children:[x.label," - ",x.description]},x.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Context (Optional)"}),n.jsx("textarea",{value:t.inputText,onChange:x=>e({...t,inputText:x.target.value}),placeholder:"Paste content to summarize or provide additional context...",rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsx("button",{onClick:u,disabled:a||!t.topic,className:"w-full py-3 px-6 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Summary..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Zd,{className:"h-4 w-4"}),"Generate Summary"]})})]}),n.jsx("div",{children:r?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Generated Summary"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:h,className:"p-2 text-gray-500 hover:bg-gray-100 rounded flex items-center gap-1",children:[o?n.jsx(Dr,{className:"h-4 w-4 text-green-500"}):n.jsx(jr,{className:"h-4 w-4"}),o?"Copied!":"Copy"]}),n.jsx("button",{onClick:m,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:n.jsx(tn,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-purple-700 font-medium",children:"Type:"})," ",(f=c.find(x=>x.value===t.summaryType))==null?void 0:f.label]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-purple-700 font-medium",children:"Length:"})," ",t.length]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-purple-700 font-medium",children:"Subject:"})," ",t.subject]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-purple-700 font-medium",children:"Grade:"})," ",t.grade]})]})}),n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 max-h-96 overflow-y-auto",children:n.jsx("pre",{className:"whitespace-pre-wrap text-gray-800 text-sm leading-relaxed",children:r})})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Zd,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Configure your settings to generate a summary"})]})})})]})]})},xUe=()=>{var k,P,D,H;const[t,e]=L.useState(""),[r,s]=L.useState(""),[a,i]=L.useState("performance"),[o,l]=L.useState(null),[c,d]=L.useState(!1),[u,h]=L.useState(null),[m,f]=L.useState(!1),[x,v]=L.useState("flashcards"),[g,b]=L.useState(!1),[N,w]=L.useState(null),A=["Grade 9A","Grade 9B","Grade 10A","Grade 10B","Grade 11A","Grade 11B"],j=["Mathematics","Physics","Chemistry","Biology","English","History"],S=[{value:"performance",label:"Performance Analysis",description:"Overall academic performance insights"},{value:"engagement",label:"Engagement Patterns",description:"Student participation and engagement levels"},{value:"learning-gaps",label:"Learning Gaps",description:"Identify knowledge gaps and weak areas"},{value:"progress",label:"Progress Tracking",description:"Monitor student improvement over time"},{value:"weak-students",label:"Weak Student Identification",description:"Identify students needing intervention"}],E=async()=>{!t||!r||(d(!0),setTimeout(()=>{let F;a==="weak-students"?F={classOverview:{totalStudents:28,averageScore:78.5,improvementRate:"+12%",atRiskStudents:4},weakStudents:[{id:"1",name:"Alex Thompson",grade:t.split(" ")[1],section:t.slice(-1),roll:15,interventionLevel:"critical",consistencyScore:25,focusSubject:r,weakAreas:["Basic Concepts","Problem Solving","Consistency in Performance"],recommendedTopics:["Number Systems","Basic Operations","Word Problems"],hasAIPath:!1,lastAssessment:"2 days ago",averageScore:45},{id:"2",name:"Sarah Wilson",grade:t.split(" ")[1],section:t.slice(-1),roll:8,interventionLevel:"high",consistencyScore:45,focusSubject:r,weakAreas:["Conceptual Understanding","Formula Application"],recommendedTopics:["Fundamentals","Practical Applications"],hasAIPath:!0,lastAssessment:"1 day ago",averageScore:52},{id:"3",name:"Mike Johnson",grade:t.split(" ")[1],section:t.slice(-1),roll:22,interventionLevel:"medium",consistencyScore:55,focusSubject:r,weakAreas:["Advanced Topics","Time Management"],recommendedTopics:["Practice Problems","Speed Techniques"],hasAIPath:!1,lastAssessment:"3 days ago",averageScore:58}],interventionStats:{critical:1,high:1,medium:2,withAIPath:1},insights:["Critical students need immediate intervention","25% of at-risk students have personalized AI learning paths","Focus on foundational concepts for critical-level students","Regular monitoring recommended for high-priority students"]}:F={classOverview:{totalStudents:28,averageScore:78.5,improvementRate:"+12%",atRiskStudents:4},topPerformers:[{name:"Alice Johnson",score:95,improvement:"+8%"},{name:"Bob Smith",score:92,improvement:"+5%"},{name:"Carol Davis",score:89,improvement:"+12%"}],strugglingStudents:[{name:"David Wilson",score:45,issues:["Algebra concepts","Problem solving"],recommendation:"Extra practice sessions"},{name:"Emma Brown",score:52,issues:["Basic operations","Word problems"],recommendation:"Peer tutoring"}],insights:["Class shows strong improvement in algebraic thinking","15% of students need additional support with word problems","Overall engagement has increased by 18% this semester"]},l(F),d(!1)},2e3))},R=async(F,z)=>{b(!0),v(z),setTimeout(()=>{let O;switch(z){case"flashcards":O={type:"flashcards",title:`Personalized Flashcards for ${F.name}`,description:`Targeting weak areas: ${F.weakAreas.join(", ")}`,cards:F.weakAreas.slice(0,10).map((W,ee)=>({id:ee+1,front:`What is the key concept in ${W}?`,back:`A personalized explanation of ${W} tailored for ${F.name}'s learning level.`,difficulty:F.interventionLevel}))};break;case"quiz":O={type:"quiz",title:`Targeted Assessment for ${F.name}`,description:`Focused on improving: ${F.weakAreas.join(", ")}`,questions:F.weakAreas.slice(0,8).map((W,ee)=>({id:ee+1,question:`Question ${ee+1} about ${W}`,options:["Option A","Option B","Option C","Option D"],correct:0,difficulty:F.interventionLevel}))};break;case"summary":O={type:"summary",title:`Concept Summary for ${F.name}`,description:`Simplified explanations for: ${F.weakAreas.join(", ")}`,content:F.weakAreas.map(W=>({topic:W,summary:`A clear, simplified explanation of ${W} designed specifically for ${F.name}'s current understanding level.`,keyPoints:[`Key point 1 about ${W}`,`Key point 2 about ${W}`,`Key point 3 about ${W}`]}))};break}w(O),b(!1)},2e3)},C=F=>{switch(F){case"critical":return"text-red-600 bg-red-100 border-red-200";case"high":return"text-orange-600 bg-orange-100 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-blue-600 bg-blue-100 border-blue-200"}},T=F=>{switch(F){case"critical":return n.jsx(Zr,{className:"w-4 h-4"});case"high":return n.jsx(Zr,{className:"w-4 h-4"});case"medium":return n.jsx(AlertTriangle,{className:"w-4 w-4"});default:return n.jsx(Dr,{className:"w-4 h-4"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(sr,{className:"h-6 w-6 text-orange-500"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Performance Analyzer"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Class"}),n.jsxs("select",{value:t,onChange:F=>e(F.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Choose Class"}),A.map(F=>n.jsx("option",{value:F,children:F},F))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsxs("select",{value:r,onChange:F=>s(F.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Choose Subject"}),j.map(F=>n.jsx("option",{value:F,children:F},F))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Analysis Type"}),n.jsx("div",{className:"space-y-2",children:S.map(F=>n.jsxs("label",{className:"flex items-start",children:[n.jsx("input",{type:"radio",value:F.value,checked:a===F.value,onChange:z=>i(z.target.value),className:"mr-3 mt-1"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:F.label}),n.jsx("div",{className:"text-xs text-gray-600",children:F.description})]})]},F.value))})]}),n.jsx("button",{onClick:E,disabled:c||!t||!r,className:"w-full py-3 px-6 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Analyzing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ds,{className:"h-4 w-4"}),"Analyze Students"]})})]}),n.jsx("div",{className:"lg:col-span-2",children:o?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-700",children:o.classOverview.totalStudents}),n.jsx("div",{className:"text-sm text-blue-600",children:"Total Students"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-700",children:o.classOverview.averageScore}),n.jsx("div",{className:"text-sm text-green-600",children:"Average Score"})]}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-700",children:o.classOverview.improvementRate}),n.jsx("div",{className:"text-sm text-purple-600",children:"Improvement"})]}),n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-700",children:o.classOverview.atRiskStudents}),n.jsx("div",{className:"text-sm text-orange-600",children:"At Risk"})]})]}),a==="weak-students"&&o.weakStudents&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-l-4 border-red-500",children:[n.jsx("div",{className:"text-2xl font-bold text-red-700",children:o.interventionStats.critical}),n.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(Zr,{className:"w-3 h-3"}),"Critical"]})]}),n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-700",children:o.interventionStats.high}),n.jsxs("div",{className:"text-sm text-orange-600 flex items-center gap-1",children:[n.jsx(Zr,{className:"w-3 h-3"}),"High Priority"]})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:o.interventionStats.medium}),n.jsxs("div",{className:"text-sm text-yellow-600 flex items-center gap-1",children:[n.jsx(AlertTriangle,{className:"w-3 h-3"}),"Medium Priority"]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-700",children:o.interventionStats.withAIPath}),n.jsxs("div",{className:"text-sm text-blue-600 flex items-center gap-1",children:[n.jsx(Pn,{className:"w-3 h-3"}),"With AI Path"]})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg",children:[n.jsx("div",{className:"p-4 border-b bg-red-50",children:n.jsxs("h4",{className:"font-bold text-red-800 flex items-center gap-2",children:[n.jsx(AlertTriangle,{className:"h-5 w-5"}),"Students Needing Intervention"]})}),n.jsx("div",{className:"p-4 space-y-4",children:o.weakStudents.map(F=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-red-500 to-orange-500 flex items-center justify-center text-white font-semibold text-sm",children:F.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-gray-800",children:F.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Grade ",F.grade,"-",F.section,"  Roll ",F.roll]})]})]}),n.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium border flex items-center gap-1 ${C(F.interventionLevel)}`,children:[T(F.interventionLevel),n.jsx("span",{className:"capitalize",children:F.interventionLevel})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[n.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[n.jsx("div",{className:"text-xs text-gray-600",children:"Consistency Score"}),n.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[F.consistencyScore,"%"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[n.jsx("div",{className:"text-xs text-gray-600",children:"Average Score"}),n.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[F.averageScore,"%"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[n.jsx("div",{className:"text-xs text-gray-600",children:"Last Assessment"}),n.jsx("div",{className:"text-sm font-medium text-gray-800",children:F.lastAssessment})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Weak Areas:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:F.weakAreas.map((z,O)=>n.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs",children:z},O))})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>{h(F),f(!0)},className:"px-3 py-1.5 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors flex items-center gap-1",children:[n.jsx(Kr,{className:"w-3 h-3"}),"Generate Content"]}),n.jsxs("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors flex items-center gap-1",children:[n.jsx(Pn,{className:"w-3 h-3"}),"AI Learning Path"]}),n.jsxs("button",{className:"px-3 py-1.5 bg-purple-600 text-white rounded text-xs hover:bg-purple-700 transition-colors flex items-center gap-1",children:[n.jsx(ds,{className:"w-3 h-3"}),"Detailed Analysis"]})]})]},F.id))})]})]}),a!=="weak-students"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[n.jsxs("h4",{className:"font-bold text-green-800 mb-4 flex items-center gap-2",children:[n.jsx(Kn,{className:"h-5 w-5"}),"Top Performers"]}),n.jsx("div",{className:"space-y-2",children:(k=o.topPerformers)==null?void 0:k.map((F,z)=>n.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-green-600 font-bold",children:[F.score,"%"]}),n.jsx("span",{className:"text-sm text-green-500",children:F.improvement})]})]},z))})]}),n.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[n.jsxs("h4",{className:"font-bold text-red-800 mb-4 flex items-center gap-2",children:[n.jsx(Zr,{className:"h-5 w-5"}),"Students Needing Support"]}),n.jsx("div",{className:"space-y-3",children:(P=o.strugglingStudents)==null?void 0:P.map((F,z)=>n.jsxs("div",{className:"bg-white p-4 rounded",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsxs("span",{className:"text-red-600 font-bold",children:[F.score,"%"]})]}),n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("strong",{children:"Issues:"})," ",F.issues.join(", ")]}),n.jsxs("div",{className:"text-sm text-blue-600",children:[n.jsx("strong",{children:"Recommendation:"})," ",F.recommendation]})]},z))})]})]}),n.jsxs("div",{className:"bg-indigo-50 p-6 rounded-lg",children:[n.jsxs("h4",{className:"font-bold text-indigo-800 mb-4 flex items-center gap-2",children:[n.jsx(Jb,{className:"h-5 w-5"}),"AI Insights"]}),n.jsx("div",{className:"space-y-2",children:o.insights.map((F,z)=>n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Dr,{className:"h-4 w-4 text-indigo-500 mt-0.5"}),n.jsx("span",{className:"text-indigo-700",children:F})]},z))})]})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(sr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Select class and subject to analyze student performance"})]})})})]}),m&&u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center text-white font-semibold",children:u.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Generate Personalized Content"}),n.jsxs("p",{className:"text-gray-600",children:["For ",u.name," - Grade ",u.grade,"-",u.section]})]})]}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 p-2",children:n.jsx(X,{className:"h-6 w-6"})})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:["flashcards","quiz","summary"].map(F=>n.jsxs("button",{onClick:()=>R(u,F),disabled:g,className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-center disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsxs("div",{className:"text-2xl mb-2",children:[F==="flashcards"&&"",F==="quiz"&&"",F==="summary"&&""]}),n.jsx("div",{className:"text-sm font-medium capitalize",children:F}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[F==="flashcards"&&"Study cards for weak areas",F==="quiz"&&"Targeted assessment questions",F==="summary"&&"Concept explanations"]})]},F))}),n.jsxs("div",{className:"mb-6 p-4 bg-red-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Identified Weak Areas:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(D=u.weakAreas)==null?void 0:D.map((F,z)=>n.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:F},z))})]}),g?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsxs("p",{className:"text-gray-600",children:["Generating personalized ",x," for ",u.name,"..."]})]}):N?n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:N.title}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:()=>{const F=document.createElement("a"),z=new Blob([JSON.stringify(N,null,2)],{type:"text/plain"});F.href=URL.createObjectURL(z),F.download=`${N.title.replace(/\s+/g,"_")}.txt`,document.body.appendChild(F),F.click(),document.body.removeChild(F)},className:"px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors flex items-center gap-1",children:[n.jsx(tn,{className:"w-3 h-3"}),"Download"]})})]}),n.jsxs("div",{className:"space-y-4",children:[N.type==="flashcards"&&N.cards&&n.jsx("div",{className:"grid gap-4",children:N.cards.map((F,z)=>n.jsxs("div",{className:"bg-white p-4 rounded border",children:[n.jsxs("div",{className:"font-medium text-blue-800 mb-2",children:["Card ",z+1]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("strong",{children:"Front:"})," ",F.front]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Back:"})," ",F.back]})]},z))}),N.type==="quiz"&&N.questions&&n.jsx("div",{className:"space-y-4",children:N.questions.map((F,z)=>n.jsxs("div",{className:"bg-white p-4 rounded border",children:[n.jsxs("div",{className:"font-medium text-green-800 mb-2",children:["Question ",z+1]}),n.jsx("div",{className:"mb-2",children:F.question}),F.options&&n.jsx("div",{className:"ml-4 space-y-1",children:F.options.map((O,W)=>n.jsxs("div",{className:`text-sm ${W===F.correct?"font-medium text-green-700":""}`,children:[String.fromCharCode(65+W),". ",O," ",W===F.correct&&""]},W))})]},z))}),N.type==="summary"&&n.jsx("div",{className:"bg-white p-4 rounded border",children:n.jsx("div",{className:"prose max-w-none text-gray-700",children:(H=N.content)==null?void 0:H.split(`
`).map((F,z)=>n.jsx("p",{className:"mb-3",children:F},z))})})]})]}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Kr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsxs("p",{children:["Select a content type above to generate personalized materials for ",u.name]})]})]})]})})]})},gUe=()=>{const[t,e]=L.useState([{id:1,type:"ai",content:"Hello! I'm your AI Teaching Assistant. I can help you with student assessments, educational content creation, quiz generation, and teaching strategies. What would you like assistance with today?",timestamp:new Date}]),[r,s]=L.useState(""),[a,i]=L.useState(!1),o=["Create flashcards for quadratic equations","Suggest engagement activities for biology class","How can I help struggling students in my chemistry class?","Generate discussion questions for Shakespeare's Hamlet","Create a rubric for project-based assessment"],l=async()=>{if(!r.trim())return;const d={id:t.length+1,type:"user",content:r,timestamp:new Date};e(u=>[...u,d]),s(""),i(!0),setTimeout(()=>{const u={id:t.length+2,type:"ai",content:`I understand you're asking about "${r}". Here's my recommendation:

1. **Analysis**: Based on your query, I can provide specific strategies tailored to your teaching context.

2. **Suggestions**: I recommend implementing interactive elements, differentiated instruction approaches, and formative assessment techniques.

3. **Resources**: I can help you create materials, worksheets, and activities that align with your curriculum objectives.

Would you like me to elaborate on any of these points or help you develop specific materials?`,timestamp:new Date};e(h=>[...h,u]),i(!1)},1500)},c=d=>{s(d)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(pW,{className:"h-6 w-6 text-blue-500"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"AI Teaching Assistant"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Quick Prompts"}),n.jsx("div",{className:"space-y-2",children:o.map((d,u)=>n.jsx("button",{onClick:()=>c(d),className:"w-full text-left p-3 text-sm bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:d},u))})]}),n.jsxs("div",{className:"lg:col-span-3",children:[n.jsx("div",{className:"bg-white border rounded-lg h-96 overflow-y-auto p-4 mb-4",children:n.jsxs("div",{className:"space-y-4",children:[t.map(d=>n.jsx("div",{className:`flex ${d.type==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${d.type==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:[n.jsx("div",{className:"whitespace-pre-wrap",children:d.content}),n.jsx("div",{className:`text-xs mt-1 ${d.type==="user"?"text-blue-100":"text-gray-500"}`,children:d.timestamp.toLocaleTimeString()})]})},d.id)),a&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-lg",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),"AI is thinking..."]})})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:r,onChange:d=>s(d.target.value),onKeyPress:d=>d.key==="Enter"&&l(),placeholder:"Ask me anything about teaching, lesson planning, or student engagement...",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("button",{onClick:l,disabled:a||!r.trim(),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(vs,{className:"h-4 w-4"})})]})]})]})]})},vUe=()=>{var b,N;const[t,e]=L.useState({subject:"",topic:"",grade:"",cardCount:"10",difficulty:"medium",cardType:"question-answer"}),[r,s]=L.useState(null),[a,i]=L.useState(0),[o,l]=L.useState(!1),[c,d]=L.useState(!1),u=[{value:"question-answer",label:"Question & Answer",description:"Traditional Q&A format"},{value:"term-definition",label:"Term & Definition",description:"Vocabulary and definitions"},{value:"concept-explanation",label:"Concept & Explanation",description:"Complex concepts explained"},{value:"formula-application",label:"Formula & Application",description:"Mathematical formulas with examples"}],h=async()=>{!t.subject||!t.topic||(d(!0),setTimeout(()=>{const w={title:`${t.topic} Flashcards - Grade ${t.grade}`,subject:t.subject,topic:t.topic,cardType:t.cardType,cards:Array.from({length:parseInt(t.cardCount)},(A,j)=>({id:j+1,front:`${t.cardType==="question-answer"?"Question":"Term"} ${j+1} about ${t.topic}`,back:`This is the ${t.cardType==="question-answer"?"answer":"definition"} for card ${j+1}. It provides detailed information about ${t.topic} in the context of ${t.subject}.`,difficulty:t.difficulty}))};s(w),i(0),l(!1),d(!1)},2e3))},m=()=>{a<r.cards.length-1&&(i(a+1),l(!1))},f=()=>{a>0&&(i(a-1),l(!1))},x=()=>{const w=[...r.cards].sort(()=>Math.random()-.5);s({...r,cards:w}),i(0),l(!1)},v=()=>{i(0),l(!1)},g=()=>{const w=r.cards.map((S,E)=>`Card ${E+1}:
Front: ${S.front}
Back: ${S.back}

`).join(""),A=document.createElement("a"),j=new Blob([w],{type:"text/plain"});A.href=URL.createObjectURL(j),A.download=`${t.topic}_flashcards.txt`,document.body.appendChild(A),A.click(),document.body.removeChild(A)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Kr,{className:"h-6 w-6 text-yellow-500"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Flashcard Generator"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsxs("select",{value:t.subject,onChange:w=>e({...t,subject:w.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"Select Subject"}),n.jsx("option",{value:"mathematics",children:"Mathematics"}),n.jsx("option",{value:"physics",children:"Physics"}),n.jsx("option",{value:"chemistry",children:"Chemistry"}),n.jsx("option",{value:"biology",children:"Biology"}),n.jsx("option",{value:"english",children:"English"}),n.jsx("option",{value:"history",children:"History"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),n.jsx("input",{type:"text",value:t.topic,onChange:w=>e({...t,topic:w.target.value}),placeholder:"Enter the topic for flashcards",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),n.jsxs("select",{value:t.grade,onChange:w=>e({...t,grade:w.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((w,A)=>n.jsxs("option",{value:A+1,children:["Grade ",A+1]},A))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Cards"}),n.jsxs("select",{value:t.cardCount,onChange:w=>e({...t,cardCount:w.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"5",children:"5 Cards"}),n.jsx("option",{value:"10",children:"10 Cards"}),n.jsx("option",{value:"15",children:"15 Cards"}),n.jsx("option",{value:"20",children:"20 Cards"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Type"}),n.jsx("div",{className:"space-y-2",children:u.map(w=>n.jsxs("label",{className:"flex items-start",children:[n.jsx("input",{type:"radio",value:w.value,checked:t.cardType===w.value,onChange:A=>e({...t,cardType:A.target.value}),className:"mr-3 mt-1"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:w.label}),n.jsx("div",{className:"text-xs text-gray-600",children:w.description})]})]},w.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),n.jsxs("select",{value:t.difficulty,onChange:w=>e({...t,difficulty:w.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500",children:[n.jsx("option",{value:"easy",children:"Easy"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"hard",children:"Hard"})]})]}),n.jsx("button",{onClick:h,disabled:c||!t.subject||!t.topic,className:"w-full py-3 px-6 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Flashcards..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Kr,{className:"h-4 w-4"}),"Generate Flashcards"]})})]}),n.jsx("div",{className:"lg:col-span-2",children:r?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r.title}),n.jsxs("p",{className:"text-gray-600",children:[r.cards.length," cards  ",t.difficulty," difficulty"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:x,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Shuffle cards",children:n.jsx(NW,{className:"h-4 w-4"})}),n.jsx("button",{onClick:v,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Reset session",children:n.jsx(io,{className:"h-4 w-4"})}),n.jsx("button",{onClick:g,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Download flashcards",children:n.jsx(tn,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("span",{className:"inline-block px-4 py-2 bg-yellow-100 rounded-full text-sm font-medium text-yellow-800",children:["Card ",a+1," of ",r.cards.length]})}),n.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[n.jsx("div",{className:"relative w-full h-80 cursor-pointer",onClick:()=>l(!o),children:n.jsxs("div",{className:`
                    absolute inset-0 w-full h-full rounded-xl shadow-lg transform transition-all duration-500 preserve-3d
                    ${o?"rotate-y-180":""}
                  `,children:[n.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rounded-xl bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 flex items-center justify-center p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Rn,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:t.cardType==="question-answer"?"Question":"Term"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:(b=r.cards[a])==null?void 0:b.front}),n.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Click to reveal answer"})]})}),n.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 rounded-xl bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-200 flex items-center justify-center p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(EyeOff,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:t.cardType==="question-answer"?"Answer":"Definition"}),n.jsx("p",{className:"text-gray-700 leading-relaxed",children:(N=r.cards[a])==null?void 0:N.back})]})})]})}),n.jsxs("div",{className:"flex justify-between items-center mt-6",children:[n.jsxs("button",{onClick:f,disabled:a===0,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx(ArrowLeft,{className:"w-4 h-4"}),n.jsx("span",{children:"Previous"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{onClick:()=>l(!o),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:o?"Show Question":"Show Answer"})}),n.jsxs("button",{onClick:m,disabled:a===r.cards.length-1,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[n.jsx("span",{children:"Next"}),n.jsx(By,{className:"w-4 h-4"})]})]})]})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Kr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Configure your settings to generate flashcards"})]})})})]}),n.jsx("style",{jsx:!0,children:`
        .preserve-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
      `})]})},yUe=()=>{const[t,e]=L.useState({subject:"",topic:"",grade:"",questionTypes:["mcq"],questionCount:"10",difficulty:"medium",timeLimit:"30"}),[r,s]=L.useState(null),[a,i]=L.useState(!1),[o,l]=L.useState(!1),c=[{value:"mcq",label:"Multiple Choice Questions",description:"Traditional A, B, C, D format"},{value:"true-false",label:"True/False",description:"Simple true or false questions"},{value:"fill-blank",label:"Fill in the Blanks",description:"Cloze-style questions"},{value:"short-answer",label:"Short Answer",description:"Brief written responses"},{value:"match-list",label:"Matching",description:"Match items from two lists"},{value:"drag-drop",label:"Drag & Drop",description:"Interactive sorting questions"}],d=x=>{e(v=>({...v,questionTypes:v.questionTypes.includes(x)?v.questionTypes.filter(g=>g!==x):[...v.questionTypes,x]}))},u=async()=>{!t.subject||!t.topic||t.questionTypes.length===0||(i(!0),setTimeout(()=>{const x={title:`${t.topic} Tryout - Grade ${t.grade}`,subject:t.subject,topic:t.topic,difficulty:t.difficulty,timeLimit:t.timeLimit,questionTypes:t.questionTypes,questions:h(t)};s(x),i(!1)},2e3))},h=x=>{const v=[],g=Math.ceil(parseInt(x.questionCount)/x.questionTypes.length);return x.questionTypes.forEach((b,N)=>{for(let w=0;w<g&&v.length<parseInt(x.questionCount);w++){const A=v.length+1;switch(b){case"mcq":v.push({id:A,type:"mcq",question:`Multiple choice question ${A} about ${x.topic}`,options:["Option A","Option B","Option C","Option D"],correct:0,points:1});break;case"true-false":v.push({id:A,type:"true-false",question:`True or false: Statement ${A} about ${x.topic}`,correct:!0,points:1});break;case"fill-blank":v.push({id:A,type:"fill-blank",question:`Complete the following sentence about ${x.topic}: "This is a _____ concept in ${x.subject}."`,blanks:["fundamental"],points:1});break;case"short-answer":v.push({id:A,type:"short-answer",question:`Explain the concept ${A} related to ${x.topic}`,answer:"Sample short answer explanation",points:2});break;case"match-list":v.push({id:A,type:"match-list",question:`Match the following items related to ${x.topic}`,leftItems:["Item 1","Item 2","Item 3"],rightItems:["Match A","Match B","Match C"],matches:{0:0,1:1,2:2},points:3});break;case"drag-drop":v.push({id:A,type:"drag-drop",question:`Arrange the following items in the correct order for ${x.topic}`,items:["Step 1","Step 2","Step 3","Step 4"],correctOrder:[0,1,2,3],points:2});break}}}),v.slice(0,parseInt(x.questionCount))},m=()=>{const x=`${r.title}

Subject: ${r.subject}
Topic: ${r.topic}
Difficulty: ${r.difficulty}
Time Limit: ${r.timeLimit} minutes
Total Questions: ${r.questions.length}

`+r.questions.map((b,N)=>{let w=`${N+1}. ${b.question}
`;return b.type==="mcq"&&(w+=b.options.map((A,j)=>`   ${String.fromCharCode(65+j)}. ${A}`).join(`
`)+`
`),w+`
`}).join(""),v=document.createElement("a"),g=new Blob([x],{type:"text/plain"});v.href=URL.createObjectURL(g),v.download=`${t.topic}_tryout.txt`,document.body.appendChild(v),v.click(),document.body.removeChild(v)},f=(x,v)=>{switch(x.type){case"mcq":return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",x.id,": ",x.question]}),n.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"MCQ"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:x.options.map((g,b)=>n.jsxs("div",{className:`text-sm p-2 rounded border ${b===x.correct?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200"}`,children:[String.fromCharCode(65+b),". ",g]},b))})]},v);case"true-false":return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",x.id,": ",x.question]}),n.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:"T/F"})]}),n.jsxs("div",{className:"flex gap-4 mt-3",children:[n.jsx("div",{className:`text-sm p-2 rounded border ${x.correct?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-200"}`,children:"True"}),n.jsx("div",{className:`text-sm p-2 rounded border ${x.correct?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200 text-green-800"}`,children:"False"})]})]},v);case"fill-blank":return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",x.id,": ",x.question]}),n.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"Fill Blank"})]}),n.jsx("div",{className:"mt-3",children:n.jsxs("span",{className:"text-sm text-green-700 bg-green-50 px-2 py-1 rounded",children:["Answer: ",x.blanks[0]]})})]},v);default:return n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("h4",{className:"font-medium text-gray-800",children:["Q",x.id,": ",x.question]}),n.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:x.type})]})},v)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(jr,{className:"h-6 w-6 text-indigo-500"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Tryout Generator"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsxs("select",{value:t.subject,onChange:x=>e({...t,subject:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Select Subject"}),n.jsx("option",{value:"mathematics",children:"Mathematics"}),n.jsx("option",{value:"physics",children:"Physics"}),n.jsx("option",{value:"chemistry",children:"Chemistry"}),n.jsx("option",{value:"biology",children:"Biology"}),n.jsx("option",{value:"english",children:"English"}),n.jsx("option",{value:"history",children:"History"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic"}),n.jsx("input",{type:"text",value:t.topic,onChange:x=>e({...t,topic:x.target.value}),placeholder:"Enter the tryout topic",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grade Level"}),n.jsxs("select",{value:t.grade,onChange:x=>e({...t,grade:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"",children:"Select Grade"}),[...Array(12)].map((x,v)=>n.jsxs("option",{value:v+1,children:["Grade ",v+1]},v))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Count"}),n.jsxs("select",{value:t.questionCount,onChange:x=>e({...t,questionCount:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"10",children:"10 Questions"}),n.jsx("option",{value:"15",children:"15 Questions"}),n.jsx("option",{value:"20",children:"20 Questions"}),n.jsx("option",{value:"25",children:"25 Questions"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Types"}),n.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:c.map(x=>n.jsxs("label",{className:"flex items-start",children:[n.jsx("input",{type:"checkbox",value:x.value,checked:t.questionTypes.includes(x.value),onChange:()=>d(x.value),className:"mr-3 mt-1"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:x.label}),n.jsx("div",{className:"text-xs text-gray-600",children:x.description})]})]},x.value))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),n.jsxs("select",{value:t.difficulty,onChange:x=>e({...t,difficulty:x.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"easy",children:"Easy"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"hard",children:"Hard"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Limit"}),n.jsx("input",{type:"number",value:t.timeLimit,onChange:x=>e({...t,timeLimit:x.target.value}),min:"10",max:"120",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),n.jsx("button",{onClick:u,disabled:a||!t.subject||!t.topic||t.questionTypes.length===0,className:"w-full py-3 px-6 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Generating Tryout..."]}):n.jsxs(n.Fragment,{children:[n.jsx(jr,{className:"h-4 w-4"}),"Generate Tryout"]})})]}),n.jsx("div",{className:"lg:col-span-2",children:r?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r.title}),n.jsxs("p",{className:"text-gray-600",children:[r.questions.length," questions  ",r.timeLimit," minutes  ",r.difficulty]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>l(!o),className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:n.jsx(Rn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:m,className:"p-2 text-gray-500 hover:bg-gray-100 rounded",children:n.jsx(tn,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-indigo-800 mb-2",children:"Tryout Overview"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-indigo-700",children:"Subject:"})," ",r.subject]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-indigo-700",children:"Topic:"})," ",r.topic]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-indigo-700",children:"Questions:"})," ",r.questions.length]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-indigo-700",children:"Total Points:"})," ",r.questions.reduce((x,v)=>x+v.points,0)]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-indigo-700",children:"Question Types:"})," ",t.questionTypes.join(", ")]})]}),n.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:"Questions Preview"}),n.jsx("span",{className:"text-sm text-gray-500",children:o?"Detailed View":`Showing ${Math.min(5,r.questions.length)} of ${r.questions.length}`})]}),(o?r.questions:r.questions.slice(0,5)).map((x,v)=>f(x,v)),!o&&r.questions.length>5&&n.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["+",r.questions.length-5," more questions..."]})]})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(jr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Configure your settings to generate a tryout"})]})})})]})]})},bUe=()=>{const[t,e]=L.useState("attendance"),[r,s]=L.useState(!1),[a,i]=L.useState(!1),[o,l]=L.useState(!1),[c,d]=L.useState("2025-01"),h={"2025-01":[{date:"2025-01-31",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2025-01-30",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-29",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2025-01-28",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2025-01-27",checkIn:"09:15",checkOut:"17:15",status:"Late"},{date:"2025-01-26",checkIn:"-",checkOut:"-",status:"Holiday"},{date:"2025-01-25",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-24",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-23",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2025-01-22",checkIn:"08:20",checkOut:"17:40",status:"Present"},{date:"2025-01-21",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-20",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2025-01-19",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-18",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-17",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-16",checkIn:"-",checkOut:"-",status:"Sick Leave"},{date:"2025-01-15",checkIn:"-",checkOut:"-",status:"Sick Leave"},{date:"2025-01-14",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2025-01-13",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-12",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-11",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-10",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2025-01-09",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-08",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-07",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2025-01-06",checkIn:"09:00",checkOut:"17:00",status:"Late"},{date:"2025-01-05",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-04",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2025-01-03",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2025-01-02",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2025-01-01",checkIn:"-",checkOut:"-",status:"Holiday"}],"2024-12":[{date:"2024-12-31",checkIn:"08:30",checkOut:"15:00",status:"Half Day"},{date:"2024-12-30",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-12-29",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-28",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-27",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-26",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2024-12-25",checkIn:"-",checkOut:"-",status:"Holiday"},{date:"2024-12-24",checkIn:"08:30",checkOut:"15:00",status:"Half Day"},{date:"2024-12-23",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-12-22",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-21",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-20",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-19",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2024-12-18",checkIn:"08:20",checkOut:"17:40",status:"Present"},{date:"2024-12-17",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-16",checkIn:"09:10",checkOut:"17:10",status:"Late"},{date:"2024-12-15",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-14",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-13",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-12-12",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-11",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-12-10",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2024-12-09",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-08",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-07",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-12-06",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-05",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2024-12-04",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-12-03",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-12-02",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-12-01",checkIn:"-",checkOut:"-",status:"Weekend"}],"2024-11":[{date:"2024-11-30",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-29",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-28",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2024-11-27",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-11-26",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-25",checkIn:"09:05",checkOut:"17:05",status:"Late"},{date:"2024-11-24",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-23",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-22",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-11-21",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-20",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2024-11-19",checkIn:"08:20",checkOut:"17:40",status:"Present"},{date:"2024-11-18",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-17",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-16",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-15",checkIn:"-",checkOut:"-",status:"Casual Leave"},{date:"2024-11-14",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-13",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-11-12",checkIn:"08:25",checkOut:"17:35",status:"Present"},{date:"2024-11-11",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-10",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-09",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-08",checkIn:"08:40",checkOut:"17:20",status:"Present"},{date:"2024-11-07",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-06",checkIn:"08:45",checkOut:"17:15",status:"Present"},{date:"2024-11-05",checkIn:"08:35",checkOut:"17:25",status:"Present"},{date:"2024-11-04",checkIn:"08:30",checkOut:"17:30",status:"Present"},{date:"2024-11-03",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-02",checkIn:"-",checkOut:"-",status:"Weekend"},{date:"2024-11-01",checkIn:"08:25",checkOut:"17:35",status:"Present"}]}[c]||[],m=[{value:"2025-01",label:"January 2025"},{value:"2024-12",label:"December 2024"},{value:"2024-11",label:"November 2024"}],x=(W=>{const ee=W.length,K=W.filter(ce=>ce.status==="Present").length,re=W.filter(ce=>ce.status==="Late").length,U=W.filter(ce=>["Absent","Sick Leave","Casual Leave"].includes(ce.status)).length,Y=W.filter(ce=>["Weekend","Holiday","Half Day"].includes(ce.status)).length,V=ee-Y,Z=V>0?Math.round((K+re)/V*100):0;return{presentDays:K,lateDays:re,absentDays:U,attendanceRate:Z}})(h),[v,g]=L.useState([{id:1,type:"Sick Leave",startDate:"2025-01-15",endDate:"2025-01-16",status:"Approved",reason:"Medical appointment"},{id:2,type:"Casual Leave",startDate:"2025-01-20",endDate:"2025-01-20",status:"Pending",reason:"Personal work"},{id:3,type:"Annual Leave",startDate:"2025-02-01",endDate:"2025-02-05",status:"Rejected",reason:"Family vacation"}]),[b,N]=L.useState({name:"Dr. Sarah Johnson",email:"sarah.johnson@eec.edu",phone:"+1 (555) 123-4567",department:"Mathematics",employeeId:"EEC2024001",joinDate:"2020-08-15",address:"123 Main St, City, State 12345",emergencyContact:"John Johnson - +1 (555) 987-6543"}),[w,A]=L.useState([{id:1,title:"Leave Request Approved",message:"Your sick leave for Jan 15-16 has been approved",type:"success",read:!1,timestamp:"2 hours ago"},{id:2,title:"Expense Claim Update",message:"Your expense claim #EC001 needs additional documentation",type:"warning",read:!1,timestamp:"5 hours ago"},{id:3,title:"Profile Update Required",message:"Please update your emergency contact information",type:"info",read:!0,timestamp:"1 day ago"},{id:4,title:"Holiday Notice",message:"School will be closed on Jan 26th for Republic Day",type:"info",read:!0,timestamp:"2 days ago"}]),[j,S]=L.useState([{id:1,name:"Employee Handbook 2025",type:"PDF",size:"2.5 MB",category:"Policy",uploadDate:"2025-01-01"},{id:2,name:"Salary Certificate",type:"PDF",size:"150 KB",category:"Personal",uploadDate:"2024-12-15"},{id:3,name:"Tax Declaration Form",type:"PDF",size:"300 KB",category:"Financial",uploadDate:"2024-11-30"},{id:4,name:"Performance Review 2024",type:"PDF",size:"500 KB",category:"Performance",uploadDate:"2024-12-31"}]),[E,R]=L.useState([{id:1,category:"Travel",amount:150,description:"Conference travel expenses",date:"2025-01-05",status:"Approved",receipt:"receipt_001.pdf"},{id:2,category:"Supplies",amount:75,description:"Teaching materials",date:"2025-01-03",status:"Pending",receipt:"receipt_002.pdf"},{id:3,category:"Training",amount:200,description:"Professional development course",date:"2024-12-28",status:"Rejected",receipt:"receipt_003.pdf"}]),C=[{id:"attendance",label:"Attendance",icon:nr},{id:"leave",label:"Leave Management",icon:Kt},{id:"profile",label:"Profile",icon:pn},{id:"notifications",label:"Notifications",icon:Bs},{id:"documents",label:"Documents",icon:jr},{id:"expenses",label:"Expenses",icon:iu}],T=W=>{switch(W.toLowerCase()){case"approved":case"present":return"text-green-600 bg-green-100";case"pending":case"late":return"text-yellow-600 bg-yellow-100";case"rejected":case"absent":case"sick leave":case"casual leave":return"text-red-600 bg-red-100";case"weekend":case"holiday":return"text-gray-600 bg-gray-100";case"half day":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},k=W=>{A(w.map(ee=>ee.id===W?{...ee,read:!0}:ee))},P=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Attendance Overview"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Month:"}),n.jsx("select",{value:c,onChange:W=>d(W.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",children:m.map(W=>n.jsx("option",{value:W.value,children:W.label},W.value))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.presentDays}),n.jsx("div",{className:"text-sm text-green-700",children:"Days Present"})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:x.lateDays}),n.jsx("div",{className:"text-sm text-yellow-700",children:"Days Late"})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.absentDays}),n.jsx("div",{className:"text-sm text-red-700",children:"Days Absent"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[x.attendanceRate,"%"]}),n.jsx("div",{className:"text-sm text-blue-700",children:"Attendance Rate"})]})]})]}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left border-b border-gray-200",children:[n.jsx("th",{className:"pb-3 font-medium text-gray-900",children:"Date"}),n.jsx("th",{className:"pb-3 font-medium text-gray-900",children:"Check In"}),n.jsx("th",{className:"pb-3 font-medium text-gray-900",children:"Check Out"}),n.jsx("th",{className:"pb-3 font-medium text-gray-900",children:"Status"})]})}),n.jsx("tbody",{children:h.map((W,ee)=>n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("td",{className:"py-3",children:W.date}),n.jsx("td",{className:"py-3",children:W.checkIn}),n.jsx("td",{className:"py-3",children:W.checkOut}),n.jsx("td",{className:"py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(W.status)}`,children:W.status})})]},ee))})]})})})]})}),D=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Leave Management"}),n.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:"Apply Leave"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:"15"}),n.jsx("div",{className:"text-sm text-green-700",children:"Available Days"})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"3"}),n.jsx("div",{className:"text-sm text-yellow-700",children:"Used Days"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1"}),n.jsx("div",{className:"text-sm text-blue-700",children:"Pending Requests"})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:v.map(W=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:W.type}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[W.startDate," to ",W.endDate]}),n.jsx("p",{className:"text-sm text-gray-700 mt-2",children:W.reason})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(W.status)}`,children:W.status})]})},W.id))})})}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Apply for Leave"}),n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Leave Type"}),n.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{children:"Sick Leave"}),n.jsx("option",{children:"Casual Leave"}),n.jsx("option",{children:"Annual Leave"}),n.jsx("option",{children:"Maternity Leave"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),n.jsx("input",{type:"date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),n.jsx("input",{type:"date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),n.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3"})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit"})]})]})]})})]}),H=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Management"}),n.jsxs("button",{onClick:()=>l(!o),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[o?n.jsx(ET,{className:"w-4 h-4"}):n.jsx(TT,{className:"w-4 h-4"}),n.jsx("span",{children:o?"Save":"Edit"})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center",children:n.jsx(Sre,{className:"w-16 h-16 text-gray-500"})}),o&&n.jsx("button",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700",children:n.jsx(AT,{className:"w-4 h-4"})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-xl font-medium text-gray-900",children:b.name}),n.jsx("p",{className:"text-gray-600",children:b.department}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Employee ID: ",b.employeeId]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),n.jsx("input",{type:"text",value:b.name,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsx("input",{type:"email",value:b.email,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),n.jsx("input",{type:"tel",value:b.phone,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),n.jsx("input",{type:"text",value:b.department,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Join Date"}),n.jsx("input",{type:"date",value:b.joinDate,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee ID"}),n.jsx("input",{type:"text",value:b.employeeId,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),n.jsx("textarea",{value:b.address,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50",rows:"3"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Emergency Contact"}),n.jsx("input",{type:"text",value:b.emergencyContact,disabled:!o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 disabled:bg-gray-50"})]})]})]})})]}),F=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notifications & Alerts"}),n.jsxs("div",{className:"text-sm text-gray-600",children:[w.filter(W=>!W.read).length," unread"]})]}),n.jsx("div",{className:"space-y-4",children:w.map(W=>n.jsx("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${W.read?"":"border-l-4 border-l-blue-500"}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[W.type==="success"&&n.jsx(Dr,{className:"w-5 h-5 text-green-500"}),W.type==="warning"&&n.jsx(Zr,{className:"w-5 h-5 text-yellow-500"}),W.type==="info"&&n.jsx(Lte,{className:"w-5 h-5 text-blue-500"}),n.jsx("h4",{className:`font-medium ${W.read?"text-gray-600":"text-gray-900"}`,children:W.title})]}),n.jsx("p",{className:`mt-1 text-sm ${W.read?"text-gray-500":"text-gray-700"}`,children:W.message}),n.jsx("p",{className:"mt-2 text-xs text-gray-400",children:W.timestamp})]}),!W.read&&n.jsx("button",{onClick:()=>k(W.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark as read"})]})},W.id))})]}),z=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Document Access"}),n.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[n.jsx(WN,{className:"w-4 h-4"}),n.jsx("span",{children:"Upload Document"})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(W=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(jr,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-gray-900 truncate",children:W.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[W.type,"  ",W.size]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[W.category,"  ",W.uploadDate]})]})]}),n.jsx("div",{className:"mt-3 flex justify-end",children:n.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1",children:[n.jsx(tn,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Download"})]})})]},W.id))})})})]}),O=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Expense Claims"}),n.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[n.jsx(Dn,{className:"w-4 h-4"}),n.jsx("span",{children:"New Claim"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$150"}),n.jsx("div",{className:"text-sm text-green-700",children:"Approved Claims"})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"$75"}),n.jsx("div",{className:"text-sm text-yellow-700",children:"Pending Claims"})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:"$200"}),n.jsx("div",{className:"text-sm text-red-700",children:"Rejected Claims"})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:E.map(W=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(wW,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:W.category}),n.jsx("p",{className:"text-sm text-gray-600",children:W.description}),n.jsx("p",{className:"text-xs text-gray-500",children:W.date})]})]})}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",W.amount]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(W.status)}`,children:W.status})]})]})},W.id))})})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Submit Expense Claim"}),n.jsxs("form",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),n.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[n.jsx("option",{children:"Travel"}),n.jsx("option",{children:"Supplies"}),n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Entertainment"}),n.jsx("option",{children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),n.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Receipt"}),n.jsx("input",{type:"file",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit"})]})]})]})})]});return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Work Portal"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your work-related activities and information"})]}),n.jsx("div",{className:"border-b border-gray-200 mb-8",children:n.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:C.map(W=>n.jsxs("button",{onClick:()=>e(W.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t===W.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(W.icon,{className:"w-5 h-5"}),n.jsx("span",{children:W.label})]},W.id))})}),n.jsxs("div",{className:"tab-content",children:[t==="attendance"&&P(),t==="leave"&&D(),t==="profile"&&H(),t==="notifications"&&F(),t==="documents"&&z(),t==="expenses"&&O()]})]})})},wUe=()=>{const[t,e]=L.useState(new Date),[r,s]=L.useState("week"),[a,i]=L.useState(new Date().getDay()===0?1:new Date().getDay()),o={teacherName:"John Smith",subject:"Mathematics",classes:{1:[{id:1,time:"08:00 - 08:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Quadratic Equations",students:32,type:"regular"},{id:2,time:"09:00 - 09:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Trigonometry Basics",students:28,type:"regular"},{id:3,time:"11:00 - 11:45",subject:"Mathematics",class:"9-A",room:"Room 203",topic:"Linear Equations",students:30,type:"regular"},{id:4,time:"14:00 - 14:45",subject:"Extra Classes",class:"10-A",room:"Room 101",topic:"Problem Solving Session",students:15,type:"extra"}],2:[{id:5,time:"08:00 - 08:45",subject:"Mathematics",class:"9-B",room:"Room 102",topic:"Geometry Fundamentals",students:29,type:"regular"},{id:6,time:"10:00 - 10:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Quadratic Equations - Practice",students:32,type:"regular"},{id:7,time:"11:00 - 11:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Trigonometry - Advanced",students:28,type:"regular"},{id:8,time:"15:00 - 15:45",subject:"Tutorial",class:"Mixed",room:"Library",topic:"Doubt Clearing Session",students:12,type:"tutorial"}],3:[{id:9,time:"08:00 - 08:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Functions and Graphs",students:32,type:"regular"},{id:10,time:"09:00 - 09:45",subject:"Mathematics",class:"9-A",room:"Room 203",topic:"Linear Equations - Advanced",students:30,type:"regular"},{id:11,time:"10:00 - 10:45",subject:"Free Period",class:"-",room:"Staff Room",topic:"Preparation Time",students:0,type:"free"},{id:12,time:"14:00 - 14:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Statistics Introduction",students:28,type:"regular"}],4:[{id:13,time:"08:00 - 08:45",subject:"Mathematics",class:"9-B",room:"Room 102",topic:"Geometry - Circles",students:29,type:"regular"},{id:14,time:"09:00 - 09:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Functions - Practice",students:32,type:"regular"},{id:15,time:"11:00 - 11:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Statistics - Data Analysis",students:28,type:"regular"},{id:16,time:"13:00 - 13:45",subject:"Faculty Meeting",class:"All Teachers",room:"Conference Room",topic:"Monthly Review",students:0,type:"meeting"}],5:[{id:17,time:"08:00 - 08:45",subject:"Mathematics",class:"9-A",room:"Room 203",topic:"Revision Session",students:30,type:"regular"},{id:18,time:"09:00 - 09:45",subject:"Mathematics",class:"9-B",room:"Room 102",topic:"Test Preparation",students:29,type:"regular"},{id:19,time:"10:00 - 10:45",subject:"Mathematics",class:"10-A",room:"Room 101",topic:"Weekly Test",students:32,type:"test"},{id:20,time:"11:00 - 11:45",subject:"Mathematics",class:"10-B",room:"Room 101",topic:"Weekly Test",students:28,type:"test"}],6:[{id:21,time:"08:00 - 08:45",subject:"Extra Classes",class:"10-A & 10-B",room:"Room 101",topic:"Competitive Exam Prep",students:20,type:"extra"},{id:22,time:"10:00 - 10:45",subject:"Mathematics",class:"9-A",room:"Room 203",topic:"Project Discussion",students:30,type:"project"}]}},l=["08:00 - 08:45","09:00 - 09:45","10:00 - 10:45","11:00 - 11:45","12:00 - 12:45","13:00 - 13:45","14:00 - 14:45","15:00 - 15:45"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=b=>{switch(b){case"regular":return"bg-blue-100 text-blue-800 border-blue-200";case"extra":return"bg-green-100 text-green-800 border-green-200";case"tutorial":return"bg-purple-100 text-purple-800 border-purple-200";case"test":return"bg-red-100 text-red-800 border-red-200";case"project":return"bg-orange-100 text-orange-800 border-orange-200";case"meeting":return"bg-gray-100 text-gray-800 border-gray-200";case"free":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},h=b=>{const N=[],w=new Date(b),A=w.getDay(),j=w.getDate()-A+(A===0?-6:1);w.setDate(j);for(let S=0;S<7;S++){const E=new Date(w);E.setDate(w.getDate()+S),N.push(E)}return N},m=b=>{const N=new Date(t);N.setDate(t.getDate()+b*7),e(N)},f=h(t),x=new Date().getDay(),v=o.classes[x===0?7:x]||[],g=v.find(b=>{const N=new Date,w=b.time.split(" - ")[0],[A,j]=w.split(":").map(Number),S=new Date;return S.setHours(A,j,0,0),S>N});return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl p-6 mb-6 text-white shadow-md",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Class Routine"}),n.jsx("p",{className:"text-indigo-100",children:"View your teaching schedule and upcoming classes"}),n.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[n.jsxs("span",{className:"text-indigo-200",children:["Teacher: ",o.teacherName]}),n.jsx("span",{className:"text-indigo-200",children:""}),n.jsxs("span",{className:"text-indigo-200",children:["Subject: ",o.subject]})]})]}),g&&n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Bs,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Next Class"})]}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:[g.class," - ",g.subject]}),n.jsxs("p",{className:"text-indigo-200",children:[g.time,"  ",g.room]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Today's Classes"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:v.length})]}),n.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:n.jsx(kr,{className:"w-5 h-5 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Weekly Classes"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:Object.values(o.classes).flat().length})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:n.jsx(Kt,{className:"w-5 h-5 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Students"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:Object.values(o.classes).flat().reduce((b,N)=>b+N.students,0)})]}),n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:n.jsx(sr,{className:"w-5 h-5 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Classes Today"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-1",children:v.filter(b=>b.type==="regular").length})]}),n.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:n.jsx(nr,{className:"w-5 h-5 text-orange-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>m(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xd,{className:"w-4 h-4"})}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Week of ",f[0].toLocaleDateString()," - ",f[6].toLocaleDateString()]}),n.jsx("button",{onClick:()=>m(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Vs,{className:"w-4 h-4"})})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>s("week"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${r==="week"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Week View"}),n.jsx("button",{onClick:()=>s("day"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${r==="day"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Day View"})]})]})}),r==="week"?n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"min-w-[800px]",children:[n.jsxs("div",{className:"grid grid-cols-8 gap-px bg-gray-200",children:[n.jsx("div",{className:"bg-gray-50 p-4 font-medium text-gray-700",children:"Time"}),f.slice(1).map((b,N)=>{const w=N+1,A=b.toDateString()===new Date().toDateString();return n.jsxs("div",{className:`p-4 text-center font-medium ${A?"bg-indigo-50 text-indigo-700":"bg-gray-50 text-gray-700"}`,children:[n.jsx("div",{children:d[w]}),n.jsx("div",{className:"text-sm text-gray-500",children:b.getDate()})]},w)})]}),n.jsx("div",{className:"divide-y divide-gray-200",children:l.map(b=>n.jsxs("div",{className:"grid grid-cols-8 gap-px bg-gray-200 min-h-[80px]",children:[n.jsx("div",{className:"bg-white p-4 flex items-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-600",children:b})}),[1,2,3,4,5,6].map(N=>{const A=(o.classes[N]||[]).find(j=>j.time===b);return n.jsx("div",{className:"bg-white p-2",children:A?n.jsxs("div",{className:`p-3 rounded-lg border-l-4 h-full ${u(A.type)}`,children:[n.jsx("div",{className:"text-sm font-medium",children:A.class}),n.jsx("div",{className:"text-xs text-gray-600 mt-1",children:A.topic}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsxs("span",{className:"text-xs flex items-center",children:[n.jsx(ld,{className:"w-3 h-3 mr-1"}),A.room]}),n.jsxs("span",{className:"text-xs flex items-center",children:[n.jsx(sr,{className:"w-3 h-3 mr-1"}),A.students]})]})]}):n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx("span",{className:"text-gray-400 text-xs",children:"Free"})})},N)})]},b))})]})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:f.slice(1).map((b,N)=>{const w=N+1,A=a===w,j=b.toDateString()===new Date().toDateString();return n.jsxs("button",{onClick:()=>i(w),className:`flex-shrink-0 px-4 py-3 rounded-lg text-center transition-colors ${A?"bg-indigo-100 text-indigo-700 border border-indigo-200":j?"bg-blue-50 text-blue-700 border border-blue-200":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[n.jsx("div",{className:"font-medium",children:d[w]}),n.jsx("div",{className:"text-sm",children:b.getDate()})]},w)})})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:[c[a]," Schedule"]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:(o.classes[a]||[]).length>0?o.classes[a].map(b=>n.jsx("div",{className:`p-4 rounded-lg border-l-4 ${u(b.type)}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx(nr,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"font-medium text-gray-800",children:b.time}),n.jsx("span",{className:"px-2 py-1 bg-white/50 rounded text-xs font-medium",children:b.type.charAt(0).toUpperCase()+b.type.slice(1)})]}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:[b.class," - ",b.subject]}),n.jsx("p",{className:"text-gray-600 mb-3",children:b.topic}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ld,{className:"w-4 h-4 mr-1"}),b.room]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(sr,{className:"w-4 h-4 mr-1"}),b.students," students"]})]})]}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Yb,{className:"w-5 h-5"})})]})},b.id)):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Kt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No classes scheduled for this day"})]})})})]})]})]})},jUe=()=>{const[t,e]=L.useState(""),[r,s]=L.useState(""),[a,i]=L.useState([]),[o,l]=L.useState(!1),c=["Class 5A","Class 5B","Class 6A","Class 6B","Class 7A","Class 7B"],d=[{id:1,name:"Emma Johnson",class:"Class 5A",rollNo:"001"},{id:2,name:"Liam Smith",class:"Class 5A",rollNo:"002"},{id:3,name:"Sophia Brown",class:"Class 5A",rollNo:"003"},{id:4,name:"Noah Davis",class:"Class 5B",rollNo:"004"},{id:5,name:"Olivia Wilson",class:"Class 5B",rollNo:"005"},{id:6,name:"Mason Taylor",class:"Class 6A",rollNo:"006"}],u=["Physical Symptoms","Energy Level","Appetite","Sleep Quality","Physical Activity","Injury/Illness","Hygiene","General Wellness"],h=["Mood","Social Interaction","Academic Engagement","Behavior","Attention/Focus","Stress Level","Confidence","Communication"],m={"Physical Symptoms":["None","Headache","Stomach ache","Fatigue","Cough/Cold","Fever","Other"],"Energy Level":["Very High","High","Normal","Low","Very Low"],Appetite:["Excellent","Good","Normal","Poor","Very Poor"],"Sleep Quality":["Well Rested","Slightly Tired","Tired","Very Tired","Exhausted"],"Physical Activity":["Very Active","Active","Moderate","Less Active","Inactive"],"Injury/Illness":["None","Minor Injury","Illness","Chronic Condition","Medication Needed"],Hygiene:["Excellent","Good","Acceptable","Needs Attention","Poor"],"General Wellness":["Excellent","Very Good","Good","Fair","Poor"]},f={Mood:["Very Happy","Happy","Content","Neutral","Sad","Very Sad","Irritable"],"Social Interaction":["Very Social","Social","Moderate","Withdrawn","Isolated"],"Academic Engagement":["Highly Engaged","Engaged","Moderate","Disengaged","Completely Disengaged"],Behavior:["Excellent","Good","Acceptable","Challenging","Concerning"],"Attention/Focus":["Excellent","Good","Average","Poor","Very Poor"],"Stress Level":["No Stress","Low","Moderate","High","Very High"],Confidence:["Very Confident","Confident","Moderate","Low Confidence","Very Low"],Communication:["Excellent","Good","Average","Limited","Concerning"]},[x,v]=L.useState({studentId:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),healthObservations:{},emotionObservations:{},additionalNotes:"",urgencyLevel:"normal",followUpRequired:!1,parentNotification:!1}),g=d.filter(j=>{const S=j.name.toLowerCase().includes(r.toLowerCase())||j.rollNo.includes(r),E=t===""||j.class===t;return S&&E}),b=(j,S,E)=>{v(R=>({...R,[j]:{...R[j],[S]:E}}))},N=j=>{var E;j.preventDefault();const S={...x,id:a.length+1,timestamp:new Date().toISOString(),studentName:((E=d.find(R=>R.id===parseInt(x.studentId)))==null?void 0:E.name)||""};i(R=>[S,...R]),l(!0),v({studentId:"",date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),healthObservations:{},emotionObservations:{},additionalNotes:"",urgencyLevel:"normal",followUpRequired:!1,parentNotification:!1}),setTimeout(()=>{l(!1)},3e3)},w=j=>{switch(j){case"low":return"text-green-600 bg-green-100";case"normal":return"text-blue-600 bg-blue-100";case"high":return"text-yellow-600 bg-yellow-100";case"urgent":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},A=j=>{const S=Object.values(j).map(E=>{if(typeof E=="string"){if(E.includes("Excellent")||E.includes("Very High")||E.includes("Very Good"))return 5;if(E.includes("Good")||E.includes("High")||E.includes("Normal"))return 4;if(E.includes("Moderate")||E.includes("Acceptable")||E.includes("Average"))return 3;if(E.includes("Poor")||E.includes("Low")||E.includes("Challenging"))return 2;if(E.includes("Very Poor")||E.includes("Very Low")||E.includes("Concerning"))return 1}return 3});return S.length>0?Math.round(S.reduce((E,R)=>E+R,0)/S.length):0};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:n.jsx(Rn,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Health & Emotion Observation"}),n.jsx("p",{className:"text-gray-600",children:"Record daily observations of student physical health and emotional wellbeing"})]})]})}),o&&n.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Dr,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-medium",children:"Observation recorded successfully!"})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[n.jsx(Dn,{className:"w-5 h-5 mr-2"}),"New Observation Entry"]})}),n.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Student"}),n.jsxs("select",{value:x.studentId,onChange:j=>v(S=>({...S,studentId:j.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Choose a student"}),g.map(j=>n.jsxs("option",{value:j.id,children:[j.name," - ",j.rollNo," (",j.class,")"]},j.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),n.jsx("input",{type:"date",value:x.date,onChange:j=>v(S=>({...S,date:j.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),n.jsx("input",{type:"time",value:x.time,onChange:j=>v(S=>({...S,time:j.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(il,{className:"w-5 h-5 mr-2 text-red-500"}),"Physical Health Observations"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(j=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:j}),n.jsxs("select",{value:x.healthObservations[j]||"",onChange:S=>b("healthObservations",j,S.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select option"}),m[j].map(S=>n.jsx("option",{value:S,children:S},S))]})]},j))})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Pn,{className:"w-5 h-5 mr-2 text-purple-500"}),"Emotional & Behavioral Observations"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(j=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:j}),n.jsxs("select",{value:x.emotionObservations[j]||"",onChange:S=>b("emotionObservations",j,S.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select option"}),f[j].map(S=>n.jsx("option",{value:S,children:S},S))]})]},j))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),n.jsxs("select",{value:x.urgencyLevel,onChange:j=>v(S=>({...S,urgencyLevel:j.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"low",children:"Low - Routine observation"}),n.jsx("option",{value:"normal",children:"Normal - Standard monitoring"}),n.jsx("option",{value:"high",children:"High - Needs attention"}),n.jsx("option",{value:"urgent",children:"Urgent - Immediate action required"})]})]}),n.jsxs("div",{className:"flex flex-col space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"followUp",checked:x.followUpRequired,onChange:j=>v(S=>({...S,followUpRequired:j.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"followUp",className:"ml-2 text-sm text-gray-700",children:"Follow-up required"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"parentNotify",checked:x.parentNotification,onChange:j=>v(S=>({...S,parentNotification:j.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"parentNotify",className:"ml-2 text-sm text-gray-700",children:"Notify parents"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes & Observations"}),n.jsx("textarea",{value:x.additionalNotes,onChange:j=>v(S=>({...S,additionalNotes:j.target.value})),placeholder:"Add any additional observations, context, or specific details...",rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("button",{type:"submit",disabled:!x.studentId,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center ${x.studentId?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[n.jsx(ET,{className:"w-5 h-5 mr-2"}),"Save Observation"]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(co,{className:"w-5 h-5 mr-2"}),"Student Filter"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class"}),n.jsxs("select",{value:t,onChange:j=>e(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"All Classes"}),c.map(j=>n.jsx("option",{value:j,children:j},j))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Student"}),n.jsxs("div",{className:"relative",children:[n.jsx(In,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Name or roll number...",value:r,onChange:j=>s(j.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Yr,{className:"w-5 h-5 mr-2"}),"Recent Observations"]}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.length>0?a.slice(0,5).map(j=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pn,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"font-medium text-gray-900 text-sm",children:j.studentName}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(j.urgencyLevel)}`,children:j.urgencyLevel.toUpperCase()})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[n.jsx(nr,{className:"w-3 h-3"}),n.jsx("span",{children:j.date})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[n.jsxs("div",{className:"text-xs",children:[n.jsx("span",{className:"text-gray-500",children:"Health Score:"}),n.jsxs("span",{className:"ml-1 font-medium",children:[A(j.healthObservations),"/5"]})]}),n.jsxs("div",{className:"text-xs",children:[n.jsx("span",{className:"text-gray-500",children:"Emotion Score:"}),n.jsxs("span",{className:"ml-1 font-medium",children:[A(j.emotionObservations),"/5"]})]})]}),j.additionalNotes&&n.jsx("p",{className:"text-xs text-gray-600 truncate",children:j.additionalNotes}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[j.followUpRequired&&n.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Follow-up"}),j.parentNotification&&n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Parent Notify"})]})]},j.id)):n.jsxs("div",{className:"text-center py-6",children:[n.jsx(Qa,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No observations recorded yet"})]})})]})]})]})]})})},NUe=()=>{const[t,e]=L.useState(!1);L.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const r=[{icon:Mg,label:"Dashboard",path:"/teachers"},{icon:_T,label:"My Work Portal",path:"/teachers/my-work-portal"},{icon:nr,label:"Class Routine",path:"/teachers/class-routine"},{icon:xc,label:"Attendance",path:"/teachers/attendance"},{icon:ds,label:"Student Progress",path:"/teachers/progress"},{icon:Jo,label:"Weak Students",path:"/teachers/weak-students"},{icon:Pn,label:"AI Powered Teaching",path:"/teachers/ai-powered-teaching"},{icon:Qa,label:"Student Health Updates",path:"/teachers/health-updates"},{icon:Rn,label:"Student Observations",path:"/teachers/student-observations"},{icon:Kt,label:"Parent Meetings",path:"/teachers/parent-meetings"},{icon:jr,label:"Assignment Management",path:"/teachers/assignments"},{icon:Dw,label:"Assignment Evaluation",path:"/teachers/evaluation"},{icon:vs,label:"Chat",path:"/teachers/chat"},{icon:kr,label:"Lesson Plans",path:"/teachers/lesson-plans"}],s=()=>{window.innerWidth<1024&&e(!1)};return n.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[n.jsx("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-yellow-500 text-white rounded-lg shadow-md",onClick:()=>e(!t),children:t?n.jsx(ts,{size:24}):n.jsx(HN,{size:24})}),t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>e(!1)}),n.jsx("div",{className:`
        fixed top-0 left-0 h-screen w-64 bg-white shadow-lg z-40 overflow-y-auto
        transform transition-transform duration-300 ease-in-out
        ${t?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:n.jsx(sr,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Teacher Portal"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Welcome back!"})]})]}),n.jsx("nav",{className:"space-y-2",children:r.map(a=>n.jsxs(Ux,{to:a.path,onClick:s,className:"flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-yellow-50 text-gray-700 hover:text-yellow-600 transition-colors",children:[n.jsx(a.icon,{className:"h-5 w-5"}),n.jsx("span",{children:a.label})]},a.path))})]})}),n.jsx("div",{className:"flex-1 lg:ml-64 min-h-screen overflow-y-auto",children:n.jsx("div",{className:"h-full",children:n.jsxs(IN,{children:[n.jsx(Yt,{path:"/",element:n.jsx(tUe,{})}),n.jsx(Yt,{path:"/test",element:n.jsx(uUe,{})}),n.jsx(Yt,{path:"/my-work-portal",element:n.jsx(bUe,{})}),n.jsx(Yt,{path:"/class-routine",element:n.jsx(wUe,{})}),n.jsx(Yt,{path:"/attendance",element:n.jsx(eUe,{})}),n.jsx(Yt,{path:"/progress",element:n.jsx(lUe,{})}),n.jsx(Yt,{path:"/weak-students",element:n.jsx(cUe,{})}),n.jsx(Yt,{path:"/ai-powered-teaching",element:n.jsx(hUe,{})}),n.jsx(Yt,{path:"/ai-learning/:studentId/:subject",element:n.jsx(dUe,{})}),n.jsx(Yt,{path:"/health-updates",element:n.jsx(K9e,{})}),n.jsx(Yt,{path:"/student-observations",element:n.jsx(jUe,{})}),n.jsx(Yt,{path:"/parent-meetings",element:n.jsx(J9e,{})}),n.jsx(Yt,{path:"/assignments",element:n.jsx(Q9e,{})}),n.jsx(Yt,{path:"/evaluation",element:n.jsx(Z9e,{})}),n.jsx(Yt,{path:"/chat",element:n.jsx(oUe,{})}),n.jsx(Yt,{path:"/lesson-plans",element:n.jsx(rUe,{})})]})})})]})},SUe=()=>{const[t,e]=L.useState(0),[r,s]=L.useState(0),[a,i]=L.useState(""),[o,l]=L.useState("Student"),[c,d]=L.useState(""),[u,h]=L.useState(""),[m,f]=L.useState(""),[x,v]=L.useState(""),[g,b]=L.useState(""),[N,w]=L.useState(!1),[A,j]=L.useState(!1),[S,E]=L.useState(""),R=xi(),C=o==="Student",T=o==="Parent",k=async D=>{if(D.preventDefault(),!S){alert("Please indicate if you are willing to allow promotional use.");return}if(C&&!N){alert("You must agree to the Terms & Conditions.");return}try{j(!0);const H=await fetch("http://localhost:5000/api/feedback/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:o,name:c,schoolName:u,phone:m,email:x,class:g,consent:S,rating:t,feedback:a})});if(!H.ok)throw new Error("Failed to submit feedback");const F=await H.json();console.log(F),R("./thank-you")}catch(H){console.error("Error submitting feedback:",H)}finally{j(!1)}},P=D=>{switch(D){case"Student":return n.jsx(pn,{className:"w-4 h-4"});case"Parent":return n.jsx(sr,{className:"w-4 h-4"});case"Teacher":return n.jsx(zf,{className:"w-4 h-4"});case"Admin":return n.jsx(zf,{className:"w-4 h-4"});default:return n.jsx(pn,{className:"w-4 h-4"})}};return n.jsxs("div",{className:"h-screen w-screen lg:w-[60%] bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-6 sm:py-3 px-4 sm:px-6 lg:px-8 flex items-center justify-center absolute top-0 left-1/2 -translate-x-1/2 overflow-y-scroll ",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute -top-20 sm:-top-40 -right-20 sm:-right-40 w-40 sm:w-80 h-40 sm:h-80 bg-gradient-to-br from-yellow-200 to-orange-200 rounded-full opacity-20 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-20 sm:-bottom-40 -left-20 sm:-left-40 w-40 sm:w-80 h-40 sm:h-80 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full opacity-20 blur-3xl"})]}),n.jsxs("div",{className:"relative top-4/5 w-full max-w-md mx-auto bg-white backdrop-blur-sm rounded-2xl shadow-2xl border border-purple-400 p-4 sm:p-8 transform transition-all duration-300 hover:shadow-3xl",children:[n.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 sm:w-16 h-12 sm:h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full mb-3 sm:mb-4 shadow-lg",children:n.jsx(ou,{className:"w-6 sm:w-8 h-6 sm:h-8 text-white"})}),n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-3 sm:mb-4",children:"We'd Love Your Feedback!"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed px-2",children:"Your feedback helps us improve our services and provide a better experience for everyone."})]}),n.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"group",children:[n.jsxs("label",{htmlFor:"role",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[P(o),n.jsx("span",{className:"ml-2",children:"I am a"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{id:"role",value:o,onChange:D=>l(D.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[n.jsx("option",{value:"Student",children:"Student"}),n.jsx("option",{value:"Parent",children:"Parent"}),n.jsx("option",{value:"Teacher",children:"Teacher"}),n.jsx("option",{value:"Admin",children:"Admin"})]}),n.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3 pointer-events-none",children:n.jsx("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),n.jsxs("div",{className:"group",children:[n.jsxs("label",{htmlFor:"name",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(pn,{className:"w-3 sm:w-4 h-3 sm:h-4"}),n.jsx("span",{className:"ml-2",children:"Name"})]}),n.jsx("input",{id:"name",type:"text",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your full name",value:c,onChange:D=>d(D.target.value),required:!0})]}),n.jsxs("div",{className:"group",children:[n.jsxs("label",{htmlFor:"schoolName",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(zf,{className:"w-3 sm:w-4 h-3 sm:h-4"}),n.jsx("span",{className:"ml-2",children:"School Name"})]}),n.jsx("input",{id:"schoolName",type:"text",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your school name",value:u,onChange:D=>h(D.target.value),required:!0})]}),n.jsxs("div",{className:"group",children:[n.jsxs("label",{htmlFor:"phone",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Sc,{className:"w-3 sm:w-4 h-3 sm:h-4"}),n.jsx("span",{className:"ml-2",children:"Phone Number"})]}),n.jsx("input",{id:"phone",type:"tel",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your phone number",value:m,onChange:D=>f(D.target.value),required:!0})]}),n.jsxs("div",{className:"group",children:[n.jsxs("label",{htmlFor:"email",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(mc,{className:"w-3 sm:w-4 h-3 sm:h-4"}),n.jsx("span",{className:"ml-2",children:"Email"})]}),n.jsx("input",{id:"email",type:"email",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400",placeholder:"Enter your email address",value:x,onChange:D=>v(D.target.value),required:!0})]}),(C||T)&&n.jsxs("div",{className:"group",children:[n.jsxs("label",{htmlFor:"class",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(BN,{className:"w-3 sm:w-4 h-3 sm:h-4"}),n.jsx("span",{className:"ml-2",children:"Class"})]}),n.jsxs("select",{id:"class",value:g,onChange:D=>b(D.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[n.jsx("option",{value:"",children:"Select class"}),n.jsx("option",{value:"1",children:"Class 1"}),n.jsx("option",{value:"2",children:"Class 2"}),n.jsx("option",{value:"3",children:"Class 3"}),n.jsx("option",{value:"4",children:"Class 4"}),n.jsx("option",{value:"5",children:"Class 5"}),n.jsx("option",{value:"6",children:"Class 6"}),n.jsx("option",{value:"7",children:"Class 7"}),n.jsx("option",{value:"8",children:"Class 8"}),n.jsx("option",{value:"9",children:"Class 9"}),n.jsx("option",{value:"10",children:"Class 10"}),n.jsx("option",{value:"11",children:"Class 11"}),n.jsx("option",{value:"12",children:"Class 12"})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-4 sm:p-6 border border-yellow-100",children:n.jsxs("div",{className:"flex flex-col items-center space-y-3 sm:space-y-4",children:[n.jsx("label",{className:"text-base sm:text-lg font-semibold text-gray-700 text-center",children:"How would you rate your experience?"}),n.jsx("div",{className:"flex space-x-1 sm:space-x-2",children:[1,2,3,4,5].map(D=>n.jsx("button",{type:"button",className:"focus:outline-none transform transition-all duration-200 hover:scale-110 sm:hover:scale-125 focus:scale-110 sm:focus:scale-125 p-1",onMouseEnter:()=>s(D),onMouseLeave:()=>s(0),onClick:()=>e(D),children:n.jsx(Kr,{className:`w-8 h-8 sm:w-10 sm:h-10 transition-all duration-200 ${D<=(r||t)?"fill-yellow-400 text-yellow-500 drop-shadow-sm":"text-gray-300 hover:text-gray-400"}`})},D))}),t>0&&n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium animate-fade-in",children:t===5?" Excellent!":t===4?" Great!":t===3?" Good!":t===2?" Fair":" Poor"})]})}),n.jsxs("div",{className:"group",children:[n.jsxs("label",{htmlFor:"feedback",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(ou,{className:"w-3 sm:w-4 h-3 sm:h-4"}),n.jsx("span",{className:"ml-2",children:"Additional Comments"})]}),n.jsx("textarea",{id:"feedback",rows:"3",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm placeholder-gray-400 resize-none",placeholder:"Tell us about your experience... What did you like? What could we improve?",value:a,onChange:D=>i(D.target.value)})]}),n.jsxs("div",{className:"group",children:[n.jsx("label",{htmlFor:"promoConsent",className:"flex items-center text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"Are you willing to add this comment and video for our promotional use?"}),n.jsxs("select",{id:"promoConsent",value:S,onChange:D=>E(D.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 focus:ring-4 focus:ring-yellow-100 transition-all duration-200 bg-white/50 backdrop-blur-sm appearance-none cursor-pointer",required:!0,children:[n.jsx("option",{value:"",children:"Select an option"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]}),n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("input",{id:"terms",type:"checkbox",checked:N,onChange:D=>w(D.target.checked),className:"mt-1 h-4 w-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500",required:!0}),n.jsx("label",{htmlFor:"terms",className:"text-xs sm:text-sm text-gray-700",children:"I agree to the Terms & Conditions and Privacy Policy:"})]}),n.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 pt-2 sm:pt-4",children:n.jsxs("button",{type:"button",onClick:k,className:"flex-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-2.5 sm:py-3 px-4 sm:px-6 rounded-xl hover:from-yellow-500 hover:to-orange-600 transform transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95 text-base sm:text-lg font-semibold flex items-center justify-center space-x-2",disabled:A,children:[n.jsx("span",{children:A?"Sending...":"Submit Feedback"}),n.jsx("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 rotate-90",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})]}),n.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:n.jsx("p",{className:"text-xs text-gray-500",children:"Your feedback is valuable to us and helps improve our services"})})]})]})},_Ue=()=>{const t=xi();return n.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx(Dr,{size:64,className:"text-green-500"})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Thank You for Your Feedback!"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"We appreciate you taking the time to help us improve our services."}),n.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full bg-yellow-500 text-black py-3 px-4 rounded-md hover:bg-yellow-600 transition-colors text-lg font-medium",children:"Return to Home"})]})})},AUe=()=>n.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-yellow-50 via-blue-50 to-purple-50 p-6",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 p-8 max-w-lg w-full text-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-amber-700 mb-6",children:"Meet the Developers"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xl font-semibold text-gray-800",children:"Koushik Bala"}),n.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Frontend Developer"}),n.jsx("a",{href:"https://www.linkedin.com/in/koushikbalasxc/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"LinkedIn Profile"})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xl font-semibold text-gray-800",children:"Atanu Ghosh"}),n.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"Backend Developer"})]})]})]})}),CUe=()=>n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-2xl",children:""}),n.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Memory Match"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),kUe=()=>n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-2xl",children:""}),n.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Quick Math"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),EUe=()=>n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"text-2xl",children:""}),n.jsx("h2",{className:"text-lg font-semibold mt-2",children:"Word Scramble"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]}),v6=[{emoji:"",name:"Happy",description:"Feeling joyful and cheerful"},{emoji:"",name:"Angry",description:"Feeling mad or frustrated"},{emoji:"",name:"Sad",description:"Feeling down or disappointed"},{emoji:"",name:"Surprised",description:"Feeling shocked or amazed"},{emoji:"",name:"Sleepy",description:"Feeling tired or drowsy"},{emoji:"",name:"Scared",description:"Feeling frightened or worried"},{emoji:"",name:"Thinking",description:"Feeling contemplative or puzzled"},{emoji:"",name:"Cool",description:"Feeling confident and relaxed"}],TUe=()=>{const[t,e]=L.useState("menu"),[r,s]=L.useState(null),[a,i]=L.useState([]),[o,l]=L.useState(0),[c,d]=L.useState(1),[u,h]=L.useState(10),[m,f]=L.useState(null),x=8,v=()=>{const N=v6[Math.floor(Math.random()*v6.length)],j=[...v6.filter(S=>S.emoji!==N.emoji).sort(()=>Math.random()-.5).slice(0,3),N].sort(()=>Math.random()-.5);s(N),i(j),e("playing"),h(10),f(null)},g=N=>{const w=N.emoji===r.emoji;f(w),w&&l(o+10),e("result"),setTimeout(()=>{c<x?(d(c+1),v()):(e("menu"),d(1))},1500)},b=()=>{e("menu"),l(0),d(1),h(10),f(null)};return L.useEffect(()=>{let N;return t==="playing"&&u>0?N=setTimeout(()=>h(u-1),1e3):t==="playing"&&u===0&&(f(!1),e("result"),setTimeout(()=>{c<x?(d(c+1),v()):(e("menu"),d(1))},1500)),()=>clearTimeout(N)},[t,u,c,x]),n.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Smiley Circles"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Guess the emotions of the emojis!"}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl p-8",children:[t==="menu"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),n.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),n.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""}),n.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-300 flex items-center justify-center text-3xl",children:""})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Emotion Recognition Challenge"}),n.jsx("p",{className:"text-gray-600",children:"Look at the emoji and choose the correct emotion name. You have 10 seconds per round!"}),o>0&&n.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["Final Score: ",o,"/",x*10]}),n.jsx("div",{className:"text-sm text-gray-600",children:o>=x*8?" Emotion Master!":o>=x*6?" Great job!":" Keep practicing!"})]}),n.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),o>0?"Play Again":"Start Game"]})]}),t==="playing"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-lg font-semibold",children:["Round ",c,"/",x]}),n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[u,"s"]})]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",o]})]}),n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"text-xl font-bold text-gray-800 mb-4",children:"What emotion is this?"}),n.jsx("div",{className:"w-32 h-32 rounded-full bg-white border-4 border-purple-300 flex items-center justify-center text-6xl mx-auto mb-6 shadow-lg",children:r==null?void 0:r.emoji}),n.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:a.map(N=>n.jsxs("button",{onClick:()=>g(N),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-purple-400 text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-800",children:N.name}),n.jsx("div",{className:"text-sm text-gray-600",children:N.description})]},N.emoji))})]})]}),t==="result"&&n.jsxs("div",{className:"text-center space-y-4",children:[m?n.jsx(Dr,{className:"w-16 h-16 text-green-500 mx-auto"}):n.jsx(Ti,{className:"w-16 h-16 text-red-500 mx-auto"}),n.jsx("div",{className:"text-2xl font-bold",children:m?"Correct! +10 points":"Time's up or wrong answer!"}),n.jsxs("div",{className:"bg-white rounded-lg p-4",children:[n.jsx("div",{className:"text-lg",children:"The correct answer was:"}),n.jsxs("div",{className:"flex items-center justify-center gap-3 mt-2",children:[n.jsx("span",{className:"text-3xl",children:r==null?void 0:r.emoji}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold",children:r==null?void 0:r.name}),n.jsx("div",{className:"text-sm text-gray-600",children:r==null?void 0:r.description})]})]})]}),n.jsx("div",{className:"text-gray-600",children:c<x?`Round ${c+1} starting...`:"Game completed!"})]}),t!=="result"&&n.jsx("div",{className:"text-center mt-6",children:n.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(io,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},MUe=({onBack:t})=>{const[e,r]=L.useState("menu"),[s,a]=L.useState(null),[i,o]=L.useState(0),[l,c]=L.useState(1),[d,u]=L.useState(5),[h,m]=L.useState(null),f=[{id:"circle",name:"Circle",color:"bg-red-500",style:"rounded-full"},{id:"square",name:"Square",color:"bg-blue-500",style:"rounded-lg"},{id:"triangle",name:"Triangle",color:"bg-green-500",style:"rounded-full"}],x=()=>{const b=f[Math.floor(Math.random()*f.length)];a(b),r("playing"),u(5),m(null)},v=b=>{const N=b.id===s.id;m(N),N&&o(i+10),r("result"),setTimeout(()=>{c(l+1),l<10?x():(r("menu"),c(1))},1500)},g=()=>{r("menu"),o(0),c(1),u(5),m(null)};return L.useEffect(()=>{let b;return e==="playing"&&d>0?b=setTimeout(()=>u(d-1),1e3):e==="playing"&&d===0&&(m(!1),r("result"),setTimeout(()=>{c(l+1),l<10?x():(r("menu"),c(1))},1500)),()=>clearTimeout(b)},[e,d,l]),n.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(al,{className:"w-5 h-5"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"MIND Training Games"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl p-8 text-center",children:[e==="menu"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"inline-flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full border-4 border-red-600"}),n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-lg border-4 border-blue-600"})]}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Shape Recognition Challenge"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Match the target shape as quickly as possible! You have 5 seconds for each round."}),i>0&&n.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Final Score: ",i,"/100"]}),n.jsx("div",{className:"text-sm text-gray-600",children:i>=80?" Excellent!":i>=60?" Good job!":" Keep practicing!"})]}),n.jsxs("button",{onClick:x,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),i>0?"Play Again":"Start Training"]})]}),e==="playing"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{className:"text-lg font-semibold",children:["Round ",l,"/10"]}),n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[d,"s"]})]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",i]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-xl font-bold text-gray-800",children:["Click the ",s==null?void 0:s.name,"!"]}),n.jsx("div",{className:"flex justify-center gap-6",children:f.map(b=>n.jsx("button",{onClick:()=>v(b),className:`w-24 h-24 ${b.color} ${b.style} border-4 border-gray-700 hover:scale-110 transition-all duration-200 shadow-lg hover:shadow-xl`},b.id))})]})]}),e==="result"&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"text-center",children:[h?n.jsx(Dr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):n.jsx(Ti,{className:"w-16 h-16 text-red-500 mx-auto mb-2"}),n.jsx("div",{className:"text-2xl font-bold",children:h?"Correct! +10 points":"Time's up! Try again"}),n.jsx("div",{className:"text-gray-600",children:l<10?`Round ${l+1} starting...`:"Game completed!"})]})}),e!=="result"&&n.jsxs("button",{onClick:g,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(io,{className:"w-4 h-4"}),"Reset"]})]})]})},kw=[{id:"cube",name:"Cube",description:"A 3D shape with 6 square faces",color:"bg-yellow-400",render:(t="w-12 h-12")=>n.jsx("div",{className:`${t} bg-yellow-400 transform rotate-12 shadow-lg`})},{id:"sphere",name:"Sphere",description:"A perfectly round 3D shape",color:"bg-red-500",render:(t="w-12 h-12")=>n.jsx("div",{className:`${t} bg-red-500 rounded-full shadow-lg`})},{id:"cone",name:"Cone",description:"A 3D shape with a circular base and pointed top",color:"border-b-blue-400",render:(t="w-0 h-0")=>n.jsx("div",{className:`${t} border-l-6 border-r-6 border-b-12 border-l-transparent border-r-transparent border-b-blue-400 shadow-lg`})},{id:"torus",name:"Torus",description:"A donut-shaped 3D object",color:"bg-purple-500",render:(t="w-12 h-12")=>n.jsx("div",{className:`${t} bg-purple-500 rounded-full shadow-lg relative`,children:n.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})},{id:"cylinder",name:"Cylinder",description:"A 3D shape with circular ends and straight sides",color:"bg-green-500",render:(t="w-12 h-12")=>n.jsx("div",{className:`${t} bg-green-500 rounded-lg shadow-lg`})},{id:"pyramid",name:"Pyramid",description:"A 3D shape with a square base and triangular sides",color:"border-b-orange-400",render:(t="w-0 h-0")=>n.jsx("div",{className:`${t} border-l-6 border-r-6 border-b-10 border-l-transparent border-r-transparent border-b-orange-400 shadow-lg`})}],PUe=({onBack:t})=>{const[e,r]=L.useState("menu"),[s,a]=L.useState(null),[i,o]=L.useState([]),[l,c]=L.useState(0),[d,u]=L.useState(1),[h,m]=L.useState(8),[f,x]=L.useState(null),v=10,g=()=>{const w=kw[Math.floor(Math.random()*kw.length)],S=[...kw.filter(E=>E.id!==w.id).sort(()=>Math.random()-.5).slice(0,3),w].sort(()=>Math.random()-.5);a(w),o(S),r("playing"),m(8),x(null)},b=w=>{const A=w.id===s.id;x(A),A&&c(l+10),r("result"),setTimeout(()=>{d<v?(u(d+1),g()):(r("menu"),u(1))},2e3)},N=()=>{r("menu"),c(0),u(1),m(8),x(null)};return L.useEffect(()=>{let w;return e==="playing"&&h>0?w=setTimeout(()=>m(h-1),1e3):e==="playing"&&h===0&&(x(!1),r("result"),setTimeout(()=>{d<v?(u(d+1),g()):(r("menu"),u(1))},2e3)),()=>clearTimeout(w)},[e,h,d,v]),n.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(al,{className:"w-5 h-5"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"RESHAPED"})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl p-8",children:[e==="menu"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"3D Shape Recognition"}),n.jsx("p",{className:"text-gray-600",children:"Learn about geometric shapes! Look at the shape and choose the correct name."}),n.jsx("div",{className:"flex justify-center gap-4 my-6",children:kw.slice(0,4).map(w=>n.jsxs("div",{className:"flex flex-col items-center",children:[w.render(),n.jsx("div",{className:"text-xs text-gray-600 mt-2",children:w.name})]},w.id))}),l>0&&n.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",l,"/",v*10]}),n.jsx("div",{className:"text-sm text-gray-600",children:l>=v*8?" Shape Master!":l>=v*6?" Great job!":" Keep learning!"})]}),n.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),l>0?"Play Again":"Start Learning"]})]}),e==="playing"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-lg font-semibold",children:["Round ",d,"/",v]}),n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[h,"s"]})]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",l]})]}),n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"text-xl font-bold text-gray-800",children:"What shape is this?"}),n.jsx("div",{className:"w-32 h-32 bg-white rounded-xl border-4 border-gray-300 flex items-center justify-center mx-auto shadow-lg",children:s==null?void 0:s.render("w-16 h-16")}),n.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:i.map(w=>n.jsxs("button",{onClick:()=>b(w),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-800",children:w.name}),n.jsx("div",{className:"text-sm text-gray-600",children:w.description})]},w.id))})]})]}),e==="result"&&n.jsxs("div",{className:"text-center space-y-4",children:[f?n.jsx(Dr,{className:"w-16 h-16 text-green-500 mx-auto"}):n.jsx(Ti,{className:"w-16 h-16 text-red-500 mx-auto"}),n.jsx("div",{className:"text-2xl font-bold",children:f?"Correct! +10 points":"Time's up or wrong answer!"}),n.jsxs("div",{className:"bg-white rounded-lg p-4",children:[n.jsx("div",{className:"text-lg",children:"The correct answer was:"}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:s==null?void 0:s.render("w-12 h-12")}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-xl font-semibold",children:s==null?void 0:s.name}),n.jsx("div",{className:"text-sm text-gray-600",children:s==null?void 0:s.description})]})]})]}),n.jsx("div",{className:"text-gray-600",children:d<v?`Round ${d+1} starting...`:"Game completed!"})]}),e!=="result"&&n.jsx("div",{className:"text-center mt-6",children:n.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(io,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},Vd=[{id:"india",name:"India",capital:"New Delhi",population:"1.4 billion",area:"3.3 million km",continent:"Asia",currency:"Indian Rupee (INR)",languages:["Hindi","English","22 official languages"],flag:"",difficulty:"Easy",facts:["World's largest democracy","Home to the Taj Mahal","Birthplace of four major religions"],shape:"polygon(20% 10%, 80% 15%, 90% 40%, 85% 70%, 60% 85%, 40% 90%, 15% 80%, 10% 50%, 15% 20%)",color:"from-orange-400 to-orange-600"},{id:"usa",name:"United States",capital:"Washington, D.C.",population:"331 million",area:"9.8 million km",continent:"North America",currency:"US Dollar (USD)",languages:["English","Spanish"],flag:"",difficulty:"Medium",facts:["Third largest country by area","Home to Hollywood and Silicon Valley","Has 50 states and federal capital"],shape:"polygon(15% 20%, 85% 25%, 80% 60%, 75% 80%, 25% 85%, 10% 65%, 5% 40%)",color:"from-blue-400 to-blue-600"},{id:"brazil",name:"Brazil",capital:"Braslia",population:"215 million",area:"8.5 million km",continent:"South America",currency:"Brazilian Real (BRL)",languages:["Portuguese"],flag:"",difficulty:"Medium",facts:["Home to the Amazon rainforest","Largest country in South America","Famous for football and carnival"],shape:"polygon(30% 15%, 70% 20%, 85% 50%, 80% 85%, 40% 90%, 20% 70%, 15% 40%)",color:"from-green-400 to-green-600"},{id:"australia",name:"Australia",capital:"Canberra",population:"26 million",area:"7.7 million km",continent:"Oceania",currency:"Australian Dollar (AUD)",languages:["English"],flag:"",difficulty:"Easy",facts:["Smallest continent and largest island","Home to unique wildlife like kangaroos","Most of the population lives in coastal cities"],shape:"polygon(20% 30%, 80% 25%, 85% 60%, 75% 80%, 25% 85%, 15% 55%)",color:"from-yellow-400 to-yellow-600"},{id:"china",name:"China",capital:"Beijing",population:"1.4 billion",area:"9.6 million km",continent:"Asia",currency:"Chinese Yuan (CNY)",languages:["Mandarin Chinese"],flag:"",difficulty:"Hard",facts:["Most populous country in the world","Home to the Great Wall of China","Fastest-growing major economy"],shape:"polygon(25% 20%, 75% 15%, 85% 45%, 80% 75%, 60% 80%, 40% 85%, 20% 60%, 15% 35%)",color:"from-red-400 to-red-600"},{id:"russia",name:"Russia",capital:"Moscow",population:"146 million",area:"17.1 million km",continent:"Europe/Asia",currency:"Russian Ruble (RUB)",languages:["Russian"],flag:"",difficulty:"Hard",facts:["Largest country in the world by area","Spans 11 time zones","Rich in natural resources"],shape:"polygon(10% 15%, 90% 10%, 95% 35%, 85% 50%, 75% 40%, 50% 45%, 30% 50%, 5% 25%)",color:"from-purple-400 to-purple-600"},{id:"japan",name:"Japan",capital:"Tokyo",population:"125 million",area:"378,000 km",continent:"Asia",currency:"Japanese Yen (JPY)",languages:["Japanese"],flag:"",difficulty:"Medium",facts:["Island nation with over 6,000 islands","Known for technology and anime","Mount Fuji is its highest peak"],shape:"polygon(40% 20%, 45% 15%, 65% 25%, 70% 45%, 60% 75%, 45% 80%, 35% 65%, 30% 40%)",color:"from-pink-400 to-pink-600"},{id:"egypt",name:"Egypt",capital:"Cairo",population:"104 million",area:"1 million km",continent:"Africa",currency:"Egyptian Pound (EGP)",languages:["Arabic"],flag:"",difficulty:"Medium",facts:["Home to ancient pyramids and sphinx","Nile River runs through the country","Birthplace of ancient civilization"],shape:"polygon(35% 25%, 65% 20%, 70% 45%, 60% 70%, 50% 85%, 40% 80%, 30% 55%, 25% 35%)",color:"from-amber-400 to-amber-600"}],oa=[{id:"maharashtra",name:"Maharashtra",capital:"Mumbai",population:"112.4 million",area:"307,713 km",language:"Marathi",famousFor:"Bollywood, IT Hub, Gateway of India",governor:"Ramesh Bais",formed:"1960",districts:36,x:"45%",y:"55%",size:"w-16 h-14",shape:"polygon(20% 20%, 70% 15%, 85% 45%, 80% 75%, 45% 85%, 15% 70%, 10% 40%)",color:"from-orange-400 to-orange-600"},{id:"karnataka",name:"Karnataka",capital:"Bengaluru",population:"61.1 million",area:"191,791 km",language:"Kannada",famousFor:"Silicon Valley of India, Mysore Palace",governor:"Thaawarchand Gehlot",formed:"1956",districts:30,x:"40%",y:"68%",size:"w-14 h-16",shape:"polygon(25% 10%, 75% 20%, 80% 60%, 65% 85%, 30% 80%, 15% 50%, 20% 25%)",color:"from-red-400 to-red-600"},{id:"tamilnadu",name:"Tamil Nadu",capital:"Chennai",population:"72.1 million",area:"130,060 km",language:"Tamil",famousFor:"Temples, Classical Dance, Film Industry",governor:"R. N. Ravi",formed:"1956",districts:38,x:"45%",y:"78%",size:"w-12 h-18",shape:"polygon(30% 5%, 70% 10%, 85% 40%, 75% 70%, 60% 90%, 25% 85%, 15% 60%, 20% 30%)",color:"from-green-400 to-green-600"},{id:"kerala",name:"Kerala",capital:"Thiruvananthapuram",population:"33.4 million",area:"38,852 km",language:"Malayalam",famousFor:"Backwaters, Spices, Ayurveda",governor:"Arif Mohammed Khan",formed:"1956",districts:14,x:"38%",y:"80%",size:"w-6 h-20",shape:"polygon(40% 0%, 60% 5%, 65% 30%, 55% 60%, 45% 85%, 35% 90%, 25% 70%, 30% 40%, 35% 15%)",color:"from-emerald-400 to-emerald-600"},{id:"rajasthan",name:"Rajasthan",capital:"Jaipur",population:"68.5 million",area:"342,239 km",language:"Hindi, Rajasthani",famousFor:"Desert, Palaces, Forts",governor:"Kalraj Mishra",formed:"1956",districts:33,x:"35%",y:"38%",size:"w-20 h-18",shape:"polygon(15% 25%, 80% 15%, 90% 45%, 85% 70%, 60% 85%, 30% 80%, 10% 60%, 5% 40%)",color:"from-yellow-400 to-yellow-600"},{id:"uttar-pradesh",name:"Uttar Pradesh",capital:"Lucknow",population:"199.8 million",area:"240,928 km",language:"Hindi, Urdu",famousFor:"Taj Mahal, Varanasi, Allahabad",governor:"Anandiben Patel",formed:"1950",districts:75,x:"48%",y:"35%",size:"w-24 h-12",shape:"polygon(10% 30%, 85% 20%, 90% 50%, 80% 70%, 20% 75%, 5% 55%)",color:"from-blue-400 to-blue-600"},{id:"west-bengal",name:"West Bengal",capital:"Kolkata",population:"91.3 million",area:"88,752 km",language:"Bengali",famousFor:"Literature, Fish, Sweets",governor:"La. Ganesan",formed:"1947",districts:23,x:"62%",y:"42%",size:"w-14 h-16",shape:"polygon(20% 15%, 75% 10%, 85% 35%, 80% 65%, 60% 85%, 25% 80%, 10% 50%, 15% 25%)",color:"from-cyan-400 to-cyan-600"},{id:"gujarat",name:"Gujarat",capital:"Gandhinagar",population:"60.4 million",area:"196,244 km",language:"Gujarati",famousFor:"Business Hub, Handicrafts, Salt",governor:"Acharya Devvrat",formed:"1960",districts:33,x:"28%",y:"45%",size:"w-16 h-20",shape:"polygon(30% 5%, 70% 10%, 85% 30%, 80% 60%, 65% 85%, 35% 90%, 15% 70%, 20% 40%, 25% 15%)",color:"from-purple-400 to-purple-600"},{id:"madhya-pradesh",name:"Madhya Pradesh",capital:"Bhopal",population:"72.6 million",area:"308,245 km",language:"Hindi",famousFor:"Heart of India, Khajuraho Temples",governor:"Mangubhai C. Patel",formed:"1956",districts:52,x:"42%",y:"48%",size:"w-18 h-14",shape:"polygon(15% 25%, 80% 20%, 85% 55%, 75% 75%, 25% 80%, 10% 50%)",color:"from-indigo-400 to-indigo-600"},{id:"andhra-pradesh",name:"Andhra Pradesh",capital:"Amaravati",population:"49.4 million",area:"162,968 km",language:"Telugu",famousFor:"IT Services, Tirupati Temple",governor:"S. Abdul Nazeer",formed:"1956",districts:26,x:"50%",y:"70%",size:"w-14 h-12",shape:"polygon(25% 20%, 70% 15%, 80% 45%, 75% 70%, 30% 80%, 15% 55%, 20% 30%)",color:"from-teal-400 to-teal-600"},{id:"telangana",name:"Telangana",capital:"Hyderabad",population:"35.0 million",area:"112,077 km",language:"Telugu",famousFor:"IT Hub, Charminar, Biryani",governor:"Tamilisai Soundararajan",formed:"2014",districts:33,x:"48%",y:"62%",size:"w-12 h-10",shape:"polygon(20% 25%, 75% 20%, 80% 55%, 70% 75%, 25% 80%, 15% 50%)",color:"from-violet-400 to-violet-600"},{id:"punjab",name:"Punjab",capital:"Chandigarh",population:"27.7 million",area:"50,362 km",language:"Punjabi",famousFor:"Golden Temple, Agriculture",governor:"Banwarilal Purohit",formed:"1966",districts:23,x:"40%",y:"22%",size:"w-12 h-10",shape:"polygon(15% 30%, 80% 25%, 85% 60%, 75% 80%, 20% 75%, 10% 55%)",color:"from-amber-400 to-amber-600"},{id:"haryana",name:"Haryana",capital:"Chandigarh",population:"25.3 million",area:"44,212 km",language:"Hindi",famousFor:"NCR, Agriculture, Industry",governor:"Bandaru Dattatraya",formed:"1966",districts:22,x:"45%",y:"28%",size:"w-10 h-8",shape:"polygon(20% 20%, 75% 15%, 80% 50%, 70% 75%, 25% 80%, 15% 45%)",color:"from-lime-400 to-lime-600"},{id:"odisha",name:"Odisha",capital:"Bhubaneswar",population:"42.0 million",area:"155,707 km",language:"Odia",famousFor:"Jagannath Temple, Classical Dance",governor:"Ganeshi Lal",formed:"1936",districts:30,x:"58%",y:"52%",size:"w-12 h-14",shape:"polygon(30% 15%, 70% 10%, 80% 40%, 75% 75%, 35% 85%, 20% 60%, 25% 30%)",color:"from-rose-400 to-rose-600"},{id:"bihar",name:"Bihar",capital:"Patna",population:"104.1 million",area:"94,163 km",language:"Hindi",famousFor:"Ancient History, Bodh Gaya",governor:"Rajendra Vishwanath Arlekar",formed:"1912",districts:38,x:"56%",y:"38%",size:"w-16 h-10",shape:"polygon(10% 35%, 85% 30%, 90% 60%, 80% 75%, 15% 70%, 5% 50%)",color:"from-emerald-400 to-emerald-600"},{id:"jharkhand",name:"Jharkhand",capital:"Ranchi",population:"33.0 million",area:"79,716 km",language:"Hindi",famousFor:"Minerals, Tribal Culture",governor:"Ramesh Bais",formed:"2000",districts:24,x:"58%",y:"45%",size:"w-12 h-12",shape:"polygon(25% 20%, 70% 15%, 80% 45%, 75% 75%, 30% 80%, 20% 50%, 20% 25%)",color:"from-stone-400 to-stone-600"},{id:"delhi",name:"Delhi (NCT)",capital:"New Delhi",population:"16.8 million",area:"1,484 km",language:"Hindi, English",famousFor:"National Capital, Red Fort",governor:"Vinai Kumar Saxena",formed:"1911",districts:11,x:"46%",y:"30%",size:"w-4 h-4",shape:"polygon(25% 25%, 75% 25%, 75% 75%, 25% 75%)",color:"from-red-400 to-red-600",type:"UT"},{id:"goa",name:"Goa",capital:"Panaji",population:"1.5 million",area:"3,702 km",language:"Konkani",famousFor:"Beaches, Portuguese Heritage",governor:"P.S. Sreedharan Pillai",formed:"1987",districts:2,x:"38%",y:"62%",size:"w-4 h-6",shape:"polygon(30% 10%, 70% 15%, 75% 60%, 65% 85%, 35% 80%, 25% 40%)",color:"from-sky-400 to-sky-600"},{id:"himachal-pradesh",name:"Himachal Pradesh",capital:"Shimla",population:"6.9 million",area:"55,673 km",language:"Hindi",famousFor:"Hill Stations, Tourism",governor:"Shiv Pratap Shukla",formed:"1971",districts:12,x:"42%",y:"18%",size:"w-14 h-8",shape:"polygon(15% 40%, 80% 30%, 90% 60%, 75% 80%, 20% 75%, 10% 55%)",color:"from-green-400 to-green-600"}],XH=({highlightState:t,onStateClick:e,className:r=""})=>{var k,P,D,H,F,z,O,W,ee;const[s,a]=L.useState({x:-15,y:0}),[i,o]=L.useState(null),[l,c]=L.useState(!1),[d,u]=L.useState("study"),[h,m]=L.useState(!0),[f,x]=L.useState({}),[v,g]=L.useState(0),[b,N]=L.useState(0),[w,A]=L.useState(null),j=K=>{const re=oa.find(U=>U.id===K);return t===K?"from-yellow-400 to-yellow-600 ring-4 ring-yellow-300 animate-pulse":i===K?"from-pink-400 to-pink-600 ring-2 ring-pink-300":re?re.color:"from-gray-400 to-gray-600"},S=K=>{const re=oa.find(U=>U.id===K);if(d==="study")o(K),c(!0),e==null||e(re);else if(d==="test"){const U=prompt(`What is the name of this state/territory?

Hint: This region is known for: ${re.famousFor}`);if(U){const Y=U.toLowerCase().trim()===re.name.toLowerCase();x(V=>({...V,[K]:{guess:U.trim(),correct:re.name,isCorrect:Y}})),Y&&g(V=>V+1)}}},E=()=>{u("test"),m(!1),x({}),g(0),A(Date.now()),o(null),c(!1)},R=()=>{u("results");const K=Date.now()-w;console.log(`Test completed in ${Math.round(K/1e3)} seconds`)},C=()=>{u("study"),m(!0),x({}),g(0),A(null),o(null),c(!1)};L.useEffect(()=>{let K;return d==="study"&&(K=setInterval(()=>{N(re=>re+1)},1e3)),()=>clearInterval(K)},[d]);const T=K=>{const re=Math.floor(K/60),U=K%60;return`${re}:${U.toString().padStart(2,"0")}`};return n.jsxs("div",{className:`relative ${r}`,children:[n.jsxs("div",{className:"mb-6 bg-gradient-to-r from-orange-100 via-white to-green-100 rounded-xl p-4 border-2 border-orange-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" India States & Territories Memory Test"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[d==="study"&&"Study the labeled map as long as you need",d==="test"&&"Click on each state to test your memory",d==="results"&&"See your results below!"]})]}),n.jsxs("div",{className:"text-right",children:[d==="study"&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Study Time: ",n.jsx("span",{className:"font-mono font-bold",children:T(b)})]}),d==="test"&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",n.jsxs("span",{className:"font-bold",children:[Object.keys(f).length,"/",oa.length]})]})]})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[d==="study"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>m(!h),className:`px-3 py-1 text-sm rounded-lg transition-colors ${h?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:h?" Labels ON":" Labels OFF"}),n.jsx("button",{onClick:E,className:"px-4 py-1 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:" Start Memory Test"}),n.jsx("div",{className:"px-3 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-lg",children:" Study tip: Click on states to see detailed information"})]}),d==="test"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:R,disabled:Object.keys(f).length<oa.length,className:`px-4 py-1 text-sm rounded-lg font-medium transition-colors ${Object.keys(f).length===oa.length?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[" Finish Test (",Object.keys(f).length,"/",oa.length,")"]}),n.jsx("button",{onClick:C,className:"px-3 py-1 text-sm bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:" Back to Study"}),n.jsx("div",{className:"px-3 py-1 text-xs bg-blue-100 text-blue-800 rounded-lg",children:" Click any state to guess its name"})]}),d==="results"&&n.jsx("button",{onClick:C,className:"px-4 py-1 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium",children:" Study Again"})]})]}),n.jsx("div",{className:"relative w-full h-96 mx-auto perspective-1000",children:n.jsxs("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-green-100 via-orange-100 to-blue-100 shadow-2xl transform-gpu border-4 border-white",style:{transform:`rotateX(${s.x}deg) rotateY(${s.y}deg)`,transformStyle:"preserve-3d",filter:"drop-shadow(0 25px 50px rgba(0,0,0,0.3))"},children:[n.jsx("div",{className:"absolute inset-4 rounded-xl border-2 border-saffron-300 bg-gradient-to-br from-white to-green-50 opacity-80"}),n.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl",children:oa.map(K=>n.jsxs("div",{className:`absolute ${K.size} cursor-pointer country-3d`,style:{left:K.x,top:K.y,transform:"translateX(-50%) translateY(-50%)",filter:"drop-shadow(2px 2px 6px rgba(0,0,0,0.3))"},onClick:()=>S(K.id),children:[n.jsxs("div",{className:`w-full h-full bg-gradient-to-br ${j(K.id)} rounded-lg relative overflow-hidden border-2 border-white`,style:{clipPath:K.shape,boxShadow:i===K.id?"0 0 20px rgba(236, 72, 153, 0.6), inset 0 2px 4px rgba(255,255,255,0.4)":"inset 0 2px 4px rgba(255,255,255,0.3)"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent opacity-30"}),(t===K.id||i===K.id)&&n.jsx("div",{className:"absolute inset-0 bg-yellow-300 rounded-lg animate-pulse opacity-20"})]}),n.jsx("div",{className:`absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs font-medium text-gray-800 bg-white bg-opacity-90 px-3 py-1 rounded-full shadow-md whitespace-nowrap transition-all duration-300 border border-gray-200 ${d==="study"&&h||d==="results"?"opacity-100":d==="test"&&f[K.id]?f[K.id].isCorrect?"opacity-100 bg-green-100 border-green-300":"opacity-100 bg-red-100 border-red-300":"opacity-0 hover:opacity-60"}`,children:n.jsxs("span",{className:"drop-shadow-sm",children:[d==="test"&&f[K.id]?f[K.id].isCorrect?` ${K.name}`:` ${f[K.id].guess} (${K.name})`:K.name,K.type==="UT"&&n.jsx("span",{className:"text-xs opacity-60 ml-1",children:"UT"})]})})]},K.id))}),n.jsx("div",{className:"absolute top-4 left-4 text-2xl opacity-60",children:""}),n.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-gray-600 font-medium bg-white bg-opacity-80 px-2 py-1 rounded",children:"  India"})]})}),l&&i&&n.jsxs("div",{className:"mt-6 bg-gradient-to-br from-orange-50 via-white to-green-50 rounded-xl p-6 shadow-xl border-2 border-orange-200 animate-fade-in",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-saffron-400 to-saffron-600 rounded-xl shadow-lg",children:n.jsx(ld,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:(k=oa.find(K=>K.id===i))==null?void 0:k.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Capital: ",(P=oa.find(K=>K.id===i))==null?void 0:P.capital]})]})]}),n.jsx("button",{onClick:()=>{c(!1),o(null)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:""})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[n.jsx(sr,{className:"w-4 h-4 text-blue-500"}),"Demographics"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Population:"}),n.jsx("span",{className:"font-medium",children:(D=oa.find(K=>K.id===i))==null?void 0:D.population})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Area:"}),n.jsx("span",{className:"font-medium",children:(H=oa.find(K=>K.id===i))==null?void 0:H.area})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Language:"}),n.jsx("span",{className:"font-medium",children:(F=oa.find(K=>K.id===i))==null?void 0:F.language})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Districts:"}),n.jsx("span",{className:"font-medium",children:(z=oa.find(K=>K.id===i))==null?void 0:z.districts})]})]})]})}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[n.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[n.jsx(Kn,{className:"w-4 h-4 text-green-500"}),"State Information"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Governor:"}),n.jsx("span",{className:"font-medium text-right max-w-32",children:(O=oa.find(K=>K.id===i))==null?void 0:O.governor})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Formed:"}),n.jsx("span",{className:"font-medium",children:(W=oa.find(K=>K.id===i))==null?void 0:W.formed})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("span",{className:"text-gray-600",children:"Famous For:"}),n.jsx("p",{className:"font-medium text-gray-800 mt-1",children:(ee=oa.find(K=>K.id===i))==null?void 0:ee.famousFor})]})]})]})})]}),n.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-orange-100 to-green-100 rounded-lg border border-orange-200",children:n.jsx("p",{className:"text-sm text-gray-700 text-center",children:" Click on other states to explore more about incredible India! "})})]}),d==="results"&&n.jsxs("div",{className:"mt-8 bg-gradient-to-br from-blue-50 via-white to-green-50 rounded-xl p-6 shadow-xl border-2 border-blue-200",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx(Trophy,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Memory Test Complete! "}),n.jsxs("div",{className:"text-lg text-gray-600 mb-4",children:["Your Score: ",n.jsxs("span",{className:"font-bold text-blue-600",children:[v,"/",oa.length]}),n.jsxs("span",{className:"ml-2",children:["(",Math.round(v/oa.length*100),"%)"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[n.jsxs("h4",{className:"font-bold text-green-800 mb-3 flex items-center gap-2",children:[n.jsx(Dr,{className:"w-5 h-5"}),"Correct Answers (",Object.values(f).filter(K=>K.isCorrect).length,")"]}),n.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:Object.entries(f).filter(([K,re])=>re.isCorrect).map(([K,re])=>n.jsxs("div",{className:"text-sm text-green-700 flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),n.jsx("span",{className:"font-medium",children:re.correct})]},K))})]}),n.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[n.jsxs("h4",{className:"font-bold text-red-800 mb-3 flex items-center gap-2",children:[n.jsx(Ti,{className:"w-5 h-5"}),"Incorrect Answers (",Object.values(f).filter(K=>!K.isCorrect).length,")"]}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Object.entries(f).filter(([K,re])=>!re.isCorrect).map(([K,re])=>n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"text-red-700 flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),n.jsxs("span",{children:["Your guess: ",n.jsx("span",{className:"font-medium",children:re.guess})]})]}),n.jsxs("div",{className:"text-green-700 ml-4 text-xs",children:["Correct: ",n.jsx("span",{className:"font-medium",children:re.correct})]})]},K))})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-green-100 rounded-lg p-4 border border-orange-200",children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:" Performance Analysis"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v}),n.jsx("div",{className:"text-gray-600",children:"States Correct"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(v/oa.length*100),"%"]}),n.jsx("div",{className:"text-gray-600",children:"Accuracy"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:T(b)}),n.jsx("div",{className:"text-gray-600",children:"Study Time"})]})]}),n.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg",children:n.jsx("div",{className:"text-sm text-gray-700 text-center",children:v===oa.length?n.jsx("span",{className:"text-green-600 font-medium",children:" Perfect Score! You've mastered all Indian states and territories!"}):v>=oa.length*.8?n.jsx("span",{className:"text-blue-600 font-medium",children:" Excellent! You know most of India's geography very well!"}):v>=oa.length*.6?n.jsx("span",{className:"text-yellow-600 font-medium",children:" Good job! Keep studying to improve further!"}):n.jsx("span",{className:"text-orange-600 font-medium",children:" Keep practicing! Spend more time studying the map to improve your score."})})})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:[" ",n.jsx("strong",{children:"Memory Tip:"})," The more you practice recalling real-world information, the stronger your memory becomes!"]})})]}),n.jsxs("div",{className:"text-center mt-4 text-xs text-gray-500",children:[d==="study"&&" Click on states to learn  Toggle labels to test yourself",d==="test"&&" Click on each state to guess its name  Use hints if needed",d==="results"&&" Review your results above  Study again to improve!"]})]})},YH=({highlightCountry:t,onCountryClick:e,className:r=""})=>{var d,u,h;const[s,a]=L.useState({x:-10,y:0}),[i,o]=L.useState(!0);L.useEffect(()=>{if(i){const m=setInterval(()=>{a(f=>({...f,y:(f.y+1)%360}))},100);return()=>clearInterval(m)}},[i]);const l=[{id:"usa",name:"USA",x:"20%",y:"30%",size:"w-16 h-12"},{id:"canada",name:"Canada",x:"15%",y:"20%",size:"w-20 h-8"},{id:"mexico",name:"Mexico",x:"18%",y:"45%",size:"w-8 h-10"},{id:"brazil",name:"Brazil",x:"30%",y:"60%",size:"w-12 h-16"},{id:"argentina",name:"Argentina",x:"28%",y:"75%",size:"w-6 h-12"},{id:"russia",name:"Russia",x:"60%",y:"25%",size:"w-24 h-10"},{id:"france",name:"France",x:"48%",y:"35%",size:"w-4 h-6"},{id:"germany",name:"Germany",x:"50%",y:"33%",size:"w-4 h-5"},{id:"uk",name:"UK",x:"46%",y:"32%",size:"w-3 h-4"},{id:"china",name:"China",x:"70%",y:"35%",size:"w-14 h-12"},{id:"india",name:"India",x:"65%",y:"45%",size:"w-8 h-10"},{id:"japan",name:"Japan",x:"80%",y:"38%",size:"w-6 h-4"},{id:"egypt",name:"Egypt",x:"52%",y:"45%",size:"w-6 h-8"},{id:"southafrica",name:"South Africa",x:"54%",y:"70%",size:"w-6 h-8"},{id:"nigeria",name:"Nigeria",x:"48%",y:"52%",size:"w-4 h-6"},{id:"australia",name:"Australia",x:"75%",y:"70%",size:"w-12 h-8"}],c=m=>{const f=Vd.find(x=>x.id===m);return t===m?"from-yellow-400 to-yellow-600 ring-4 ring-yellow-300 animate-pulse":f?f.color:"from-gray-400 to-gray-600"};return n.jsxs("div",{className:`relative ${r}`,children:[n.jsxs("div",{className:"relative w-full h-96 mx-auto perspective-1000 cursor-grab active:cursor-grabbing",style:{perspective:"1000px",transformStyle:"preserve-3d"},onMouseEnter:()=>o(!1),onMouseLeave:()=>o(!0),children:[n.jsxs("div",{className:"absolute inset-0 rounded-full globe-glow transform-gpu",style:{transform:`rotateX(${s.x}deg) rotateY(${s.y}deg)`,transformStyle:"preserve-3d",background:`
              radial-gradient(circle at 30% 30%, rgba(135, 206, 250, 0.9) 0%, transparent 60%),
              radial-gradient(circle at 70% 70%, rgba(30, 64, 175, 0.8) 0%, transparent 50%),
              conic-gradient(from 0deg at 50% 50%, #1e40af 0deg, #3b82f6 72deg, #60a5fa 144deg, #93c5fd 216deg, #dbeafe 288deg, #1e40af 360deg)
            `,filter:"drop-shadow(0 25px 50px rgba(0,0,0,0.4))"},children:[n.jsx("div",{className:"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-transparent via-white to-transparent"}),n.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:l.map(m=>{var f;return n.jsxs("div",{className:`absolute ${m.size} rounded country-3d cursor-pointer`,style:{left:m.x,top:m.y,transform:`translateX(-50%) translateY(-50%) rotateY(${s.y*.2}deg)`,filter:"drop-shadow(3px 3px 8px rgba(0,0,0,0.4))"},onClick:()=>e==null?void 0:e(m.id),children:[n.jsxs("div",{className:`w-full h-full bg-gradient-to-br ${c(m.id)} rounded-md relative overflow-hidden`,style:{clipPath:((f=Vd.find(x=>x.id===m.id))==null?void 0:f.shape)||"polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",boxShadow:t===m.id?"0 0 20px rgba(255, 235, 59, 0.8), inset 0 2px 4px rgba(255,255,255,0.3)":"inset 0 2px 4px rgba(255,255,255,0.2)"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent opacity-20"}),t===m.id&&n.jsx("div",{className:"absolute inset-0 bg-yellow-300 rounded-md animate-pulse opacity-30"})]}),n.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs font-medium text-white bg-gradient-to-r from-gray-800 to-gray-900 px-3 py-1 rounded-full shadow-lg whitespace-nowrap opacity-0 hover:opacity-100 transition-all duration-300 backdrop-blur-sm border border-gray-600",children:n.jsx("span",{className:"drop-shadow-sm",children:m.name})})]},m.id)})}),n.jsxs("div",{className:"absolute inset-0 rounded-full",children:[Array.from({length:5}).map((m,f)=>n.jsx("div",{className:"absolute left-0 right-0 border-t border-white opacity-10",style:{top:`${20+f*15}%`}},`lat-${f}`)),Array.from({length:6}).map((m,f)=>n.jsx("div",{className:"absolute top-0 bottom-0 border-l border-white opacity-10 rounded-full",style:{left:`${15+f*14}%`}},`lng-${f}`))]}),n.jsx("div",{className:"absolute -inset-4 rounded-full bg-gradient-to-br from-blue-300 via-cyan-300 to-blue-400 opacity-15 blur-lg"}),n.jsx("div",{className:"absolute -inset-2 rounded-full bg-gradient-to-br from-blue-400 to-transparent opacity-25 blur-md"}),n.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:Array.from({length:12}).map((m,f)=>n.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-60 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`}},f))})]}),t&&n.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-br from-white via-blue-50 to-indigo-50 bg-opacity-95 backdrop-blur-md rounded-xl p-4 shadow-2xl animate-fade-in border border-white border-opacity-30",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:n.jsx(Fm,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-gray-800",children:((d=Vd.find(m=>m.id===t))==null?void 0:d.name)||"Unknown"}),n.jsxs("div",{className:"text-xs text-gray-600",children:[(u=Vd.find(m=>m.id===t))==null?void 0:u.flag," ",(h=Vd.find(m=>m.id===t))==null?void 0:h.continent]})]})]}),n.jsx("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:"Click to learn more!"})]}),n.jsx("div",{className:"absolute inset-0 rounded-full border border-blue-300 opacity-20 animate-pulse"}),n.jsx("div",{className:"absolute inset-2 rounded-full border border-cyan-300 opacity-15",style:{transform:`rotateX(75deg) rotateY(${s.y*.5}deg)`,transformStyle:"preserve-3d"}})]}),n.jsxs("div",{className:"text-center mt-6 space-y-2",children:[n.jsxs("div",{className:"text-xs text-gray-500 flex items-center justify-center gap-4",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Hover to pause rotation"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Click countries to explore"]})]}),t&&n.jsx("div",{className:"text-xs text-yellow-600 font-medium animate-bounce",children:" This country is highlighted for the question!"})]})]})},DUe=({onBack:t})=>{const[e,r]=L.useState("menu"),[s,a]=L.useState(null),[i,o]=L.useState([]),[l,c]=L.useState(0),[d,u]=L.useState(1),[h,m]=L.useState(15),[f,x]=L.useState(null),[v,g]=L.useState(!1),[b,N]=L.useState(!0),[w,A]=L.useState(!1),j=8,S=()=>{const C=Vd[Math.floor(Math.random()*Vd.length)],P=[...Vd.filter(D=>D.id!==C.id).sort(()=>Math.random()-.5).slice(0,3),C].sort(()=>Math.random()-.5);a(C),o(P),r("playing"),m(15),x(null),g(!1)},E=C=>{const T=C.id===s.id;x(T),T&&c(l+10),r("result"),setTimeout(()=>{d<j?(u(d+1),S()):(r("menu"),u(1))},3e3)},R=()=>{r("menu"),c(0),u(1),m(15),x(null),g(!1)};return L.useEffect(()=>{let C;return e==="playing"&&h>0?C=setTimeout(()=>m(h-1),1e3):e==="playing"&&h===0&&(x(!1),r("result"),setTimeout(()=>{d<j?(u(d+1),S()):(r("menu"),u(1))},3e3)),()=>clearTimeout(C)},[e,h,d,j]),n.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[n.jsx("style",{jsx:!0,children:`
        .perspective-1000 {
          perspective: 1000px;
        }
        .transform-gpu {
          transform: translate3d(0, 0, 0);
        }
        @keyframes rotate {
          from { transform: rotateY(0deg); }
          to { transform: rotateY(360deg); }
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
        .globe-glow {
          box-shadow: 
            0 0 50px rgba(59, 130, 246, 0.3),
            inset 0 0 50px rgba(59, 130, 246, 0.1),
            0 20px 40px rgba(0, 0, 0, 0.2);
        }
        .country-3d {
          transform-style: preserve-3d;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .country-3d:hover {
          transform: translateZ(10px) scale(1.05);
        }
        .border-saffron-300 {
          border-color: #f59e0b;
        }
        .from-saffron-400 {
          --tw-gradient-from: #f59e0b;
        }
        .to-saffron-600 {
          --tw-gradient-to: #d97706;
        }
      `}),n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(al,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Map Identifier"}),n.jsx("p",{className:"text-gray-600",children:"Test your geography knowledge with our 3D world map!"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(Fm,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Geography Challenge"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Identify countries on the 3D world map and learn fascinating facts about each nation!"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 flex-wrap",children:[n.jsx("button",{onClick:()=>{N(!0),A(!1)},className:`px-4 py-2 rounded-lg transition-colors ${b&&!w?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" 3D World Map"}),n.jsx("button",{onClick:()=>{A(!0),N(!1)},className:`px-4 py-2 rounded-lg transition-colors ${w&&!b?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" India States Map"}),n.jsx("button",{onClick:()=>{N(!1),A(!1)},className:`px-4 py-2 rounded-lg transition-colors ${!b&&!w?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Country Silhouettes"})]}),b&&!w?n.jsx(YH,{className:"max-w-2xl mx-auto",onCountryClick:C=>{const T=Vd.find(k=>k.id===C);T&&console.log("Clicked country:",T.name)}}):w&&!b?n.jsx(XH,{className:"max-w-3xl mx-auto",onStateClick:C=>{console.log("Clicked state:",C.name)}}):n.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:Vd.slice(0,4).map(C=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-2 relative",children:n.jsx("div",{className:`w-full h-full bg-gradient-to-br ${C.color} rounded-lg transform hover:scale-110 transition-transform duration-300`,style:{clipPath:C.shape,filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.2))"}})}),n.jsx("div",{className:"text-xs text-gray-600",children:C.name})]},C.id))})]}),l>0&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",l,"/",j*10]}),n.jsx("div",{className:"text-sm text-gray-600",children:l>=j*8?" Geography Expert!":l>=j*6?" Great Explorer!":" Keep Exploring!"})]}),n.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),l>0?"Play Again":"Start Geography Quiz"]})]}),e==="playing"&&s&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-lg font-semibold",children:["Round ",d,"/",j]}),n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[h,"s"]})]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",l]})]}),n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Which country is this?"}),n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 flex-wrap",children:[n.jsx("button",{onClick:()=>{N(!0),A(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${b&&!w?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" 3D World Map"}),n.jsx("button",{onClick:()=>{A(!0),N(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${w&&!b?"bg-orange-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" India Map"}),n.jsx("button",{onClick:()=>{N(!1),A(!1)},className:`px-3 py-1 text-sm rounded-lg transition-colors ${!b&&!w?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Silhouette"})]}),b&&!w?n.jsxs("div",{className:"max-w-lg mx-auto",children:[n.jsx(YH,{highlightCountry:s.id,className:"transform scale-90"}),n.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"The highlighted country is your answer!"})]}):w&&!b?n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx(XH,{highlightState:s.id==="india"?"maharashtra":null,className:"transform scale-95"}),n.jsx("div",{className:"mt-2 text-sm text-gray-600",children:s.id==="india"?"This shows India's detailed state map for reference!":"India map shown for geographical context"})]}):n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-8 max-w-md mx-auto",children:[n.jsx("div",{className:`w-48 h-32 mx-auto bg-gradient-to-br ${s.color} shadow-lg transform hover:scale-105 transition-transform duration-300`,style:{clipPath:s.shape,filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.2))"}}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Difficulty: ",n.jsx("span",{className:`font-medium ${s.difficulty==="Easy"?"text-green-600":s.difficulty==="Medium"?"text-yellow-600":"text-red-600"}`,children:s.difficulty})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:i.map(C=>n.jsxs("button",{onClick:()=>E(C),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center group",children:[n.jsxs("div",{className:"flex items-center gap-2 justify-center mb-2",children:[n.jsx("span",{className:"text-lg",children:C.flag}),n.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600",children:C.name})]}),n.jsx("div",{className:"text-xs text-gray-500",children:C.continent})]},C.id))})]})]}),e==="result"&&s&&n.jsxs("div",{className:"text-center space-y-6",children:[f?n.jsx(Dr,{className:"w-16 h-16 text-green-500 mx-auto"}):n.jsx(Ti,{className:"w-16 h-16 text-red-500 mx-auto"}),n.jsx("div",{className:"text-2xl font-bold",children:f?"Correct! +10 points":"Time's up or wrong answer!"}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-lg font-semibold mb-4 flex items-center justify-center gap-2",children:[n.jsx("span",{className:"text-2xl",children:s.flag}),n.jsx("span",{children:s.name}),n.jsx(ld,{className:"w-5 h-5 text-gray-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fm,{className:"w-4 h-4 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Capital:"})," ",s.capital]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sr,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"font-medium",children:"Population:"})," ",s.population]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jW,{className:"w-4 h-4 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Area:"})," ",s.area]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Currency:"})," ",s.currency]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Languages:"})," ",s.languages.join(", ")]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Continent:"})," ",s.continent]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("div",{className:"font-medium mb-2",children:" Did you know?"}),n.jsx("div",{className:"space-y-1 text-sm text-gray-700",children:s.facts.map((C,T)=>n.jsxs("div",{children:[" ",C]},T))})]})]}),n.jsx("div",{className:"text-gray-600",children:d<j?`Round ${d+1} starting...`:"Geography quiz completed!"})]}),e!=="result"&&e!=="menu"&&n.jsx("div",{className:"text-center mt-6",children:n.jsxs("button",{onClick:R,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(io,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},KH=[{id:1,name:"Emma Thompson",age:28,profession:"Teacher",skinColor:"bg-red-200",hairColor:"bg-orange-600",eyeColor:"bg-blue-800",likes:["reading","yoga"]},{id:2,name:"Alex Rivera",age:32,profession:"Engineer",skinColor:"bg-yellow-200",hairColor:"bg-black",eyeColor:"bg-green-700",likes:["coding","hiking"]},{id:3,name:"Sam Chen",age:25,profession:"Designer",skinColor:"bg-orange-200",hairColor:"bg-yellow-800",eyeColor:"bg-brown-800",likes:["art","music"]},{id:4,name:"Maya Patel",age:30,profession:"Doctor",skinColor:"bg-amber-200",hairColor:"bg-black",eyeColor:"bg-brown-900",likes:["medicine","travel"]},{id:5,name:"Jordan Smith",age:27,profession:"Chef",skinColor:"bg-stone-200",hairColor:"bg-red-800",eyeColor:"bg-blue-600",likes:["cooking","food"]},{id:6,name:"Taylor Kim",age:29,profession:"Artist",skinColor:"bg-pink-200",hairColor:"bg-purple-600",eyeColor:"bg-green-600",likes:["painting","photography"]},{id:7,name:"Robin Martinez",age:33,profession:"Nurse",skinColor:"bg-rose-200",hairColor:"bg-gray-800",eyeColor:"bg-amber-800",likes:["caring","gardening"]},{id:8,name:"Casey Johnson",age:26,profession:"Writer",skinColor:"bg-teal-200",hairColor:"bg-indigo-600",eyeColor:"bg-gray-600",likes:["writing","cats"]}],RUe=({onBack:t})=>{const[e,r]=L.useState("menu"),[s,a]=L.useState([]),[i,o]=L.useState(0),[l,c]=L.useState(20),[d,u]=L.useState(0),[h,m]=L.useState(1),[f,x]=L.useState(null),[v,g]=L.useState([]),b=5,N=4,w=(R,C="w-16 h-16")=>n.jsxs("div",{className:`relative ${C} rounded-full overflow-hidden shadow-lg border-3 border-white transform hover:scale-105 transition-transform duration-300`,children:[n.jsx("div",{className:`w-full h-full ${R.skinColor}`}),n.jsx("div",{className:`absolute top-1 left-1/2 transform -translate-x-1/2 w-3/4 h-2/3 ${R.hairColor} rounded-t-full`}),n.jsx("div",{className:`absolute top-1/3 left-1/4 w-2 h-2 ${R.eyeColor} rounded-full`}),n.jsx("div",{className:`absolute top-1/3 right-1/4 w-2 h-2 ${R.eyeColor} rounded-full`}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 w-1 h-2 bg-gray-600 rounded-full"}),n.jsx("div",{className:"absolute bottom-1/4 left-1/2 transform -translate-x-1/2 w-4 h-1 bg-red-600 rounded-full"})]}),A=()=>{const C=[...KH].sort(()=>Math.random()-.5).slice(0,N);a(C),o(0),c(20),r("studying"),x(null)},j=()=>{r("testing"),o(0)},S=R=>{const C=s[i],T=R.id===C.id;x(T),T&&u(d+10),g([...v,{round:h,question:i+1,correctAnswer:C.name,userAnswer:R.name,isCorrect:T}]),setTimeout(()=>{i<s.length-1?(o(i+1),x(null)):h<b?(m(h+1),A()):r("result")},2e3)},E=()=>{r("menu"),u(0),m(1),o(0),c(20),x(null),g([])};return L.useEffect(()=>{let R;return e==="studying"&&l>0?R=setTimeout(()=>c(l-1),1e3):e==="studying"&&l===0&&j(),()=>clearTimeout(R)},[e,l]),n.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(al,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Facial Recall"}),n.jsx("p",{className:"text-gray-600",children:"Test your ability to remember faces and names!"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(sr,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Memory Challenge"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Study people's faces, names, and details. Then try to match them correctly!"})]}),n.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:KH.slice(0,4).map(R=>n.jsxs("div",{className:"text-center",children:[w(R),n.jsx("div",{className:"text-xs text-gray-600 mt-2",children:R.name.split(" ")[0]})]},R.id))}),d>0&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Final Score: ",d,"/",b*N*10]}),n.jsx("div",{className:"text-sm text-gray-600 mb-2",children:d>=b*N*8?" Memory Master!":d>=b*N*6?" Great Memory!":" Keep Practicing!"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Accuracy: ",Math.round(v.filter(R=>R.isCorrect).length/v.length*100),"%"]})]}),n.jsxs("button",{onClick:A,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),d>0?"Play Again":"Start Memory Test"]})]}),e==="studying"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-lg font-semibold",children:["Round ",h,"/",b]}),n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Study these people carefully!"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Remember their faces, names, ages, professions, and interests"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:s.map(R=>n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"mb-4 flex justify-center",children:w(R,"w-20 h-20")}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-lg font-bold text-gray-800",children:R.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Age: ",R.age]}),n.jsx("div",{className:"text-sm text-gray-600",children:R.profession}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Likes: ",R.likes.join(", ")]})]})]},R.id))}),n.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",n.jsx("strong",{children:"Memory Tip:"})," Try to create associations between faces and details. Notice unique features like hair color, eye color, and profession!"]})})]})]}),e==="testing"&&s.length>0&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-lg font-semibold",children:["Question ",i+1,"/",s.length]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Round ",h,"/",b]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),f!==null&&n.jsx("div",{className:"text-center",children:f?n.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[n.jsx(Dr,{className:"w-8 h-8"}),n.jsx("span",{className:"text-xl font-bold",children:"Correct! +10 points"})]}):n.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600",children:[n.jsx(Ti,{className:"w-8 h-8"}),n.jsx("span",{className:"text-xl font-bold",children:"Incorrect!"})]})}),f===null&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Who is this person?"}),n.jsx("div",{className:"flex justify-center mb-6",children:w(s[i],"w-32 h-32")}),n.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-2xl mx-auto",children:s.sort(()=>Math.random()-.5).map(R=>n.jsxs("button",{onClick:()=>S(R),className:"p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all border-2 border-transparent hover:border-blue-400 text-center group",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-800 group-hover:text-blue-600 mb-2",children:R.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[R.profession,", Age ",R.age]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Likes: ",R.likes.join(", ")]})]},R.id))})]})]}),e==="result"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx(Kn,{className:"w-16 h-16 text-yellow-500 mx-auto"}),n.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Memory Test Complete!"}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[d,"/",b*N*10]}),n.jsxs("div",{className:"text-lg text-gray-700 mb-4",children:["Accuracy: ",Math.round(v.filter(R=>R.isCorrect).length/v.length*100),"%"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsx("div",{className:"font-medium text-gray-800",children:"Performance Breakdown:"}),Array.from({length:b},(R,C)=>{const k=v.filter(P=>P.round===C+1).filter(P=>P.isCorrect).length;return n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{children:["Round ",C+1,":"]}),n.jsxs("span",{className:k===N?"text-green-600":k>=N*.5?"text-yellow-600":"text-red-600",children:[k,"/",N," correct"]})]},C)})]})]}),n.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),"Play Again"]})]}),e!=="result"&&e!=="menu"&&n.jsx("div",{className:"text-center mt-6",children:n.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(io,{className:"w-4 h-4"}),"Reset Game"]})})]})]})},LUe=[{id:"speed",name:"Speed Math",desc:"Solve as many problems as possible in 60 seconds",icon:lu,timeLimit:60,color:"from-yellow-400 to-orange-500"},{id:"accuracy",name:"Accuracy Challenge",desc:"Get 10 problems correct with minimal mistakes",icon:rs,timeLimit:null,color:"from-blue-400 to-blue-600"},{id:"mental",name:"Mental Math",desc:"Complex problems to challenge your brain",icon:Pn,timeLimit:null,color:"from-purple-400 to-purple-600"},{id:"practice",name:"Free Practice",desc:"Practice at your own pace",icon:UN,timeLimit:null,color:"from-green-400 to-green-600"}],OUe=({onBack:t})=>{const[e,r]=L.useState("menu"),[s,a]=L.useState(null),[i,o]=L.useState(null),[l,c]=L.useState(""),[d,u]=L.useState(0),[h,m]=L.useState(0),[f,x]=L.useState(0),[v,g]=L.useState(null),[b,N]=L.useState([]),[w,A]=L.useState(1),j=(P="medium")=>{const D=["+","-","",""],H=D[Math.floor(Math.random()*D.length)];let F,z,O;if(P==="easy")switch(H){case"+":F=Math.floor(Math.random()*20)+1,z=Math.floor(Math.random()*20)+1,O=F+z;break;case"-":F=Math.floor(Math.random()*30)+10,z=Math.floor(Math.random()*F)+1,O=F-z;break;case"":F=Math.floor(Math.random()*10)+1,z=Math.floor(Math.random()*10)+1,O=F*z;break;case"":O=Math.floor(Math.random()*10)+1,z=Math.floor(Math.random()*8)+2,F=O*z;break}else if(P==="hard")switch(H){case"+":F=Math.floor(Math.random()*200)+50,z=Math.floor(Math.random()*200)+50,O=F+z;break;case"-":F=Math.floor(Math.random()*300)+100,z=Math.floor(Math.random()*F)+50,O=F-z;break;case"":F=Math.floor(Math.random()*25)+10,z=Math.floor(Math.random()*15)+5,O=F*z;break;case"":O=Math.floor(Math.random()*20)+5,z=Math.floor(Math.random()*15)+3,F=O*z;break}else switch(H){case"+":F=Math.floor(Math.random()*100)+10,z=Math.floor(Math.random()*100)+10,O=F+z;break;case"-":F=Math.floor(Math.random()*150)+50,z=Math.floor(Math.random()*F)+10,O=F-z;break;case"":F=Math.floor(Math.random()*15)+5,z=Math.floor(Math.random()*12)+3,O=F*z;break;case"":O=Math.floor(Math.random()*15)+3,z=Math.floor(Math.random()*12)+2,F=O*z;break}return{num1:F,num2:z,operation:H,answer:O,difficulty:P}},S=P=>{a(P);const D=P.id==="mental"?"hard":P.id==="practice"?"easy":"medium";o(j(D)),c(""),u(0),m(0),A(1),N([]),g(null),r("playing"),P.timeLimit&&x(P.timeLimit)},E=P=>{e==="playing"&&v===null&&c(D=>D+P)},R=()=>{e==="playing"&&c("")},C=()=>{e==="playing"&&c(P=>P.slice(0,-1))},T=()=>{if(!l||v!==null)return;const P=parseInt(l),D=P===i.answer;g(D);const H={...i,userAnswer:P,isCorrect:D,round:w};N(F=>[...F,H]),D?u(d+10):m(h+1),setTimeout(()=>{if(s.id==="accuracy"&&(d+10>=100||h>=3)){r("result");return}if(s.id==="mental"&&w>=15){r("result");return}const F=s.id==="mental"?"hard":s.id==="practice"?"easy":"medium";o(j(F)),c(""),A(w+1),g(null)},1500)},k=()=>{r("menu"),a(null),o(null),c(""),u(0),m(0),x(0),g(null),N([]),A(1)};return L.useEffect(()=>{let P;return e==="playing"&&(s!=null&&s.timeLimit)&&f>0?P=setTimeout(()=>x(f-1),1e3):e==="playing"&&(s!=null&&s.timeLimit)&&f===0&&r("result"),()=>clearTimeout(P)},[e,f,s]),n.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(al,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calculator Games"}),n.jsx("p",{className:"text-gray-600",children:"Practice math through fun, interactive challenges!"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(UN,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Math Challenge Center"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Choose your challenge and improve your calculation skills!"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:LUe.map(P=>{const D=P.icon;return n.jsxs("button",{onClick:()=>S(P),className:`p-6 rounded-xl bg-gradient-to-br ${P.color} text-white text-left transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(D,{className:"w-8 h-8"}),n.jsx("h4",{className:"text-xl font-bold",children:P.name})]}),n.jsx("p",{className:"text-white/90 mb-3",children:P.desc}),P.timeLimit&&n.jsxs("div",{className:"flex items-center gap-1 text-white/80 text-sm",children:[n.jsx(nr,{className:"w-4 h-4"}),P.timeLimit," seconds"]})]},P.id)})}),d>0&&n.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mt-6",children:[n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Last Game: ",d," points"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Mode: ",s==null?void 0:s.name," | Problems: ",b.length]})]})]}),e==="playing"&&i&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-lg font-semibold",children:[s==null?void 0:s.name," - Problem ",w]}),(s==null?void 0:s.timeLimit)&&n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[f,"s"]})]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",d]})]}),v!==null&&n.jsx("div",{className:"text-center",children:v?n.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[n.jsx(Dr,{className:"w-8 h-8"}),n.jsx("span",{className:"text-xl font-bold",children:"Correct! +10 points"})]}):n.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600",children:[n.jsx(Ti,{className:"w-8 h-8"}),n.jsxs("span",{className:"text-xl font-bold",children:["Incorrect! Answer was ",i.answer]})]})}),v===null&&n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 shadow-2xl",children:[n.jsxs("div",{className:"bg-green-900 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"text-green-400 text-right font-mono text-2xl mb-2",children:[i.num1," ",i.operation," ",i.num2," = ?"]}),n.jsx("div",{className:"text-green-300 text-right font-mono text-lg",children:l||"0"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[[7,8,9,4,5,6,1,2,3].map(P=>n.jsx("button",{onClick:()=>E(P.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-xl font-semibold transition-colors",children:P},P)),n.jsx("button",{onClick:R,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"C"}),n.jsx("button",{onClick:()=>E("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-xl font-semibold transition-colors",children:"0"}),n.jsx("button",{onClick:C,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:""}),n.jsx("button",{onClick:T,disabled:!l,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"="})]})]}),(s==null?void 0:s.id)==="accuracy"&&n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("div",{className:"inline-flex items-center gap-4 bg-blue-50 rounded-lg px-4 py-2",children:[n.jsxs("span",{className:"text-green-600",children:["Correct: ",d/10]}),n.jsxs("span",{className:"text-red-600",children:["Mistakes: ",h,"/3"]})]})})]})]}),e==="result"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx(el,{className:"w-16 h-16 text-yellow-500 mx-auto"}),n.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:[s==null?void 0:s.name," Complete!"]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-4",children:[d," Points"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Problems Solved:"}),n.jsx("div",{className:"text-lg font-bold",children:b.length})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Accuracy:"}),n.jsxs("div",{className:"text-lg font-bold",children:[b.length>0?Math.round(b.filter(P=>P.isCorrect).length/b.length*100):0,"%"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Correct Answers:"}),n.jsx("div",{className:"text-lg font-bold text-green-600",children:b.filter(P=>P.isCorrect).length})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Mistakes:"}),n.jsx("div",{className:"text-lg font-bold text-red-600",children:h})]})]}),(s==null?void 0:s.timeLimit)&&n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs("div",{className:"font-medium text-gray-700",children:["Speed: ",b.length>0?Math.round(s.timeLimit/b.length):0," sec/problem"]})})]}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[n.jsxs("button",{onClick:()=>S(s),className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),"Play Again"]}),n.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[n.jsx(io,{className:"w-5 h-5"}),"Choose New Mode"]})]})]}),e==="playing"&&n.jsx("div",{className:"text-center mt-6",children:n.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(io,{className:"w-4 h-4"}),"Quit Game"]})})]})]})},y6=[{id:1,emoji:"",name:"Apple",price:2.5,category:"Fruits"},{id:2,emoji:"",name:"Banana",price:1.25,category:"Fruits"},{id:3,emoji:"",name:"Orange",price:2,category:"Fruits"},{id:4,emoji:"",name:"Grapes",price:4.5,category:"Fruits"},{id:5,emoji:"",name:"Strawberry",price:3.75,category:"Fruits"},{id:6,emoji:"",name:"Bread",price:2.25,category:"Bakery"},{id:7,emoji:"",name:"Croissant",price:1.75,category:"Bakery"},{id:8,emoji:"",name:"Sandwich Bread",price:2.5,category:"Bakery"},{id:9,emoji:"",name:"Milk",price:3.5,category:"Dairy"},{id:10,emoji:"",name:"Cheese",price:5.25,category:"Dairy"},{id:11,emoji:"",name:"Butter",price:4,category:"Dairy"},{id:12,emoji:"",name:"Eggs",price:3,category:"Dairy"},{id:13,emoji:"",name:"Carrot",price:1.5,category:"Vegetables"},{id:14,emoji:"",name:"Lettuce",price:2.25,category:"Vegetables"},{id:15,emoji:"",name:"Tomato",price:3.25,category:"Vegetables"},{id:16,emoji:"",name:"Potato",price:2.75,category:"Vegetables"},{id:17,emoji:"",name:"Chicken",price:8.5,category:"Meat"},{id:18,emoji:"",name:"Beef",price:12.75,category:"Meat"},{id:19,emoji:"",name:"Fish",price:9.25,category:"Meat"},{id:20,emoji:"",name:"Pasta",price:1.75,category:"Pantry"}],IUe=({onBack:t})=>{var F,z,O,W,ee,K,re;const[e,r]=L.useState("menu"),[s,a]=L.useState([]),[i,o]=L.useState([]),[l,c]=L.useState(15),[d,u]=L.useState(!0),[h,m]=L.useState(0),[f,x]=L.useState(1),[v,g]=L.useState(0),[b,N]=L.useState([]),[w,A]=L.useState([]),j=3,S=U=>{const Y=Math.min(5+U,8),Z=[...y6].sort(()=>Math.random()-.5).slice(0,Y),ce=Z.reduce((ye,ge)=>ye+ge.price,0),fe=ce*(.1+Math.random()*.2);return{items:Z,budget:Math.round((ce+fe)*100)/100}},E=()=>{const{items:U,budget:Y}=S(f);a(U),g(Y),o([]),c(15),u(!0),r("studying"),N([])},R=()=>{r("shopping"),u(!1)},C=U=>{o(Y=>[...Y,U])},T=U=>{o(Y=>Y.filter((V,Z)=>Z!==U))},k=()=>Math.round(i.reduce((U,Y)=>U+Y.price,0)*100)/100,P=()=>{const U=i.map(oe=>oe.id),Y=s.map(oe=>oe.id),V=U.filter(oe=>Y.includes(oe)),Z=U.filter(oe=>!Y.includes(oe)),ce=Y.filter(oe=>!U.includes(oe)),fe=k(),ye=fe<=v,ge=Math.round(V.length/Math.max(Y.length,U.length)*100);let we=V.length*10;V.length===Y.length&&Z.length===0&&(we+=50),ye&&(we+=20);const Re={round:f,correctItems:V.length,totalItems:Y.length,extraItems:Z.length,missedItems:ce.length,totalSpent:fe,budget:v,withinBudget:ye,accuracy:ge,score:we};return m(oe=>oe+we),A(oe=>[...oe,Re]),setTimeout(()=>{f<j?(x(f+1),E()):r("result")},4e3),Re},D=()=>{r("menu"),a([]),o([]),c(15),u(!0),m(0),x(1),g(0),N([]),A([])},H=()=>{u(!d)};return L.useEffect(()=>{let U;return e==="studying"&&l>0?U=setTimeout(()=>c(l-1),1e3):e==="studying"&&l===0&&R(),()=>clearTimeout(U)},[e,l]),n.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(al,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Grocery Memory Challenge"}),n.jsx("p",{className:"text-gray-600",children:"Memorize your shopping list and shop efficiently!"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e==="menu"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(vse,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Memory Shopping Challenge"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Study your shopping list, memorize it, then shop without looking! Stay within budget and get the right items."})]}),n.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:y6.slice(0,6).map(U=>n.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"text-3xl mb-2",children:U.emoji}),n.jsx("div",{className:"text-xs text-gray-600",children:U.name}),n.jsxs("div",{className:"text-xs text-green-600",children:["$",U.price]})]},U.id))}),h>0&&n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"text-lg font-bold text-purple-600",children:["Final Score: ",h," points"]}),n.jsx("div",{className:"text-sm text-gray-600 mb-2",children:h>=300?" Shopping Expert!":h>=200?" Great Shopper!":" Keep Practicing!"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Average Accuracy: ",w.length>0?Math.round(w.reduce((U,Y)=>U+Y.accuracy,0)/w.length):0,"%"]})]}),n.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),h>0?"Play Again":"Start Shopping Challenge"]})]}),e==="studying"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-lg font-semibold",children:["Round ",f,"/",j]}),n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Score: ",h]})]}),n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Study Your Shopping List"}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Memorize these items and their details. You have ",l," seconds!"]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-xl p-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(iu,{className:"w-5 h-5 text-green-600"}),n.jsxs("span",{className:"text-lg font-bold text-gray-800",children:["Budget: $",v]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map(U=>n.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-md",children:[n.jsx("div",{className:"text-3xl mb-2",children:U.emoji}),n.jsx("div",{className:"text-sm font-bold text-gray-800 mb-1",children:U.name}),n.jsx("div",{className:"text-xs text-gray-600 mb-1",children:U.category}),n.jsxs("div",{className:"text-sm font-bold text-green-600",children:["$",U.price]})]},U.id))})]}),n.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200 max-w-md mx-auto",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",n.jsx("strong",{children:"Memory Tips:"})," Group items by category, remember prices, and create mental associations with the emojis!"]})}),n.jsx("button",{onClick:R,className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"I'm Ready to Shop!"})]})]}),e==="shopping"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-lg font-semibold",children:["Shopping - Round ",f]}),n.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:[d?n.jsx($y,{className:"w-4 h-4"}):n.jsx(Rn,{className:"w-4 h-4"}),d?"Hide":"Peek at"," List"]}),n.jsxs("div",{className:"text-lg font-semibold",children:["Budget: $",v]})]}),d&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("div",{className:"text-sm font-bold text-yellow-800 mb-2",children:"Your Shopping List:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(U=>n.jsxs("span",{className:"inline-flex items-center gap-1 bg-white px-2 py-1 rounded text-sm",children:[n.jsx("span",{children:U.emoji}),n.jsx("span",{children:U.name}),n.jsxs("span",{className:"text-green-600",children:["$",U.price]})]},U.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Grocery Store"}),n.jsx("div",{className:"grid grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:y6.map(U=>n.jsxs("button",{onClick:()=>C(U),className:"p-3 bg-white rounded-lg border-2 border-gray-200 hover:border-blue-400 hover:bg-blue-50 transition-all text-center group",children:[n.jsx("div",{className:"text-2xl mb-1",children:U.emoji}),n.jsx("div",{className:"text-xs font-medium text-gray-700 group-hover:text-blue-600",children:U.name}),n.jsx("div",{className:"text-xs text-gray-500",children:U.category}),n.jsxs("div",{className:"text-xs font-bold text-green-600",children:["$",U.price]})]},U.id))})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Your Cart"}),n.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto mb-4",children:i.length===0?n.jsx("div",{className:"text-gray-500 text-center py-8",children:"Cart is empty"}):i.map((U,Y)=>n.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:U.emoji}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:U.name}),n.jsx("div",{className:"text-xs text-gray-500",children:U.category})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",U.price]}),n.jsx("button",{onClick:()=>T(Y),className:"text-red-500 hover:text-red-700 text-sm",children:""})]})]},Y))}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("span",{className:"text-lg font-bold",children:"Total:"}),n.jsxs("span",{className:`text-lg font-bold ${k()>v?"text-red-600":"text-green-600"}`,children:["$",k()]})]}),k()>v&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 mb-4",children:n.jsxs("div",{className:"text-sm text-red-800",children:[" Over budget by $",Math.round((k()-v)*100)/100]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>o([]),className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Clear Cart"}),n.jsx("button",{onClick:()=>{P(),r("result")},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Checkout"})]})]})]})]})]}),e==="result"&&w.length>0&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsx(el,{className:"w-16 h-16 text-yellow-500 mx-auto"}),n.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-4",children:f>j?"Shopping Challenge Complete!":`Round ${f} Results`}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-xl p-6 max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:[h," Total Points"]}),f<=j?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Items Correct:"}),n.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(F=w[w.length-1])==null?void 0:F.correctItems,"/",(z=w[w.length-1])==null?void 0:z.totalItems]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Budget Status:"}),n.jsx("div",{className:`text-lg font-bold ${(O=w[w.length-1])!=null&&O.withinBudget?"text-green-600":"text-red-600"}`,children:(W=w[w.length-1])!=null&&W.withinBudget?" Within Budget":" Over Budget"})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"font-medium",children:["Accuracy: ",(ee=w[w.length-1])==null?void 0:ee.accuracy,"%"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Spent: $",(K=w[w.length-1])==null?void 0:K.totalSpent," / $",(re=w[w.length-1])==null?void 0:re.budget]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-lg text-gray-700 mb-4",children:["Overall Performance Across ",j," Rounds"]}),n.jsx("div",{className:"space-y-2 text-sm",children:w.map((U,Y)=>n.jsxs("div",{className:"flex justify-between items-center bg-white rounded-lg p-3",children:[n.jsxs("span",{children:["Round ",U.round,":"]}),n.jsxs("div",{className:"flex gap-4 text-xs",children:[n.jsxs("span",{className:"text-green-600",children:[U.correctItems,"/",U.totalItems," items"]}),n.jsx("span",{className:U.withinBudget?"text-green-600":"text-red-600",children:U.withinBudget?"Budget ":"Over Budget"}),n.jsxs("span",{className:"font-bold",children:[U.score," pts"]})]})]},Y))}),n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("div",{className:"font-medium text-gray-700",children:["Average Accuracy: ",Math.round(w.reduce((U,Y)=>U+Y.accuracy,0)/w.length),"%"]})})]})]}),n.jsx("div",{className:"flex gap-3 justify-center",children:f<=j?n.jsxs("div",{className:"text-gray-600",children:["Round ",f+1," starting automatically..."]}):n.jsx(n.Fragment,{children:n.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),"Play Again"]})})})]}),(e==="shopping"||e==="studying")&&n.jsx("div",{className:"text-center mt-6",children:n.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[n.jsx(io,{className:"w-4 h-4"}),"Quit Game"]})})]})]})},FUe=({onBack:t})=>{const[e,r]=L.useState("ready"),[s,a]=L.useState(""),[i,o]=L.useState(""),[l,c]=L.useState(30),[d,u]=L.useState(null),[h,m]=L.useState(1),[f,x]=L.useState(0),v=()=>{let E="";for(let R=0;R<12;R++)E+=Math.floor(Math.random()*10);return E},g=()=>{const E=v();a(E),o(""),u(null),r("memorizing"),c(30)};L.useEffect(()=>{let E;return e==="memorizing"&&l>0?E=setTimeout(()=>{c(l-1)},1e3):e==="memorizing"&&l===0&&r("recalling"),()=>clearTimeout(E)},[e,l]);const b=()=>{let E=0;const R=i.padEnd(12," ");for(let T=0;T<12;T++)s[T]===R[T]&&E++;const C=Math.round(E/12*100);u({correct:E,total:12,percentage:C}),x(f+E),r("finished")},N=()=>{m(h+1),g()},w=()=>{r("ready"),a(""),o(""),c(30),u(null),m(1),x(0)},A=E=>{e==="recalling"&&i.length<12&&o(i+E)},j=()=>{e==="recalling"&&o(i.slice(0,-1))},S=()=>{e==="recalling"&&o("")};return n.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(al,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calculator Memory Game"}),n.jsx("p",{className:"text-gray-600",children:"Memorize 12 digits in 30 seconds, then recall them!"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Round"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:f})]})]}),e==="memorizing"&&n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[n.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"font-mono text-2xl text-green-400 text-right tracking-wider",children:[e==="ready"&&"000000000000",e==="memorizing"&&s,e==="recalling"&&n.jsx("span",{children:i.padEnd(12,"_")}),e==="finished"&&s]})}),e==="recalling"&&n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[7,8,9,4,5,6,1,2,3].map(E=>n.jsx("button",{onClick:()=>A(E.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:E},E)),n.jsx("button",{onClick:S,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"C"}),n.jsx("button",{onClick:()=>A("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"0"}),n.jsx("button",{onClick:j,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""}),n.jsx("button",{onClick:b,disabled:i.length!==12,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""})]})]}),n.jsxs("div",{className:"space-y-4",children:[e==="ready"&&n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx(UN,{className:"w-16 h-16 text-gray-400 mx-auto mb-2"}),n.jsxs("p",{className:"text-gray-600",children:["You'll have 30 seconds to memorize a 12-digit sequence.",n.jsx("br",{}),"Then you'll need to input the digits in the exact order!"]})]}),n.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),"Start Round ",h]})]}),e==="memorizing"&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Memorize these digits!"}),n.jsxs("div",{className:"text-orange-600 font-medium",children:["Time remaining: ",l," seconds"]}),n.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Focus on the 12-digit sequence above. Use any memory technique you prefer!"})})]}),e==="recalling"&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Now enter the digits from memory!"}),n.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Progress: ",i.length,"/12 digits entered"]}),n.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:n.jsx("p",{className:"text-sm text-blue-800",children:"Use the calculator buttons below to input the sequence you memorized."})})]}),e==="finished"&&d&&n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"mb-4",children:[d.percentage>=80?n.jsx(Dr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):n.jsx(Ti,{className:"w-16 h-16 text-red-500 mx-auto mb-2"}),n.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Score: ",d.correct,"/",d.total," (",d.percentage,"%)"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[n.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Comparison:"}),n.jsxs("div",{className:"font-mono text-lg space-y-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Correct: "}),n.jsx("span",{className:"text-green-600",children:s})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Your answer: "}),n.jsx("span",{className:"text-blue-600",children:i.padEnd(12,"_")})]})]})]}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[n.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),"Next Round"]}),n.jsxs("button",{onClick:w,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[n.jsx(io,{className:"w-5 h-5"}),"Reset Game"]})]})]})]})]})]})},BUe=({onBack:t})=>{const[e,r]=L.useState("menu"),[s,a]=L.useState(""),[i,o]=L.useState(""),[l,c]=L.useState(30),[d,u]=L.useState(null),[h,m]=L.useState(1),[f,x]=L.useState(0),[v,g]=L.useState(!1),b=()=>{let T="";for(let k=0;k<12;k++)T+=Math.floor(Math.random()*10);return T},N=()=>{const T=b();a(T),o(""),u(null),r("memorizing"),c(30),g(!1)},w=()=>{r("recalling"),g(!0),o("")},A=()=>{let T=0;const k=i.padEnd(12," ");for(let D=0;D<12;D++)s[D]===k[D]&&T++;const P=Math.round(T/12*100);u({correct:T,total:12,percentage:P}),x(f+T),r("result")},j=()=>{m(h+1),N()},S=()=>{r("menu"),a(""),o(""),c(30),u(null),m(1),x(0),g(!1)},E=T=>{e==="recalling"&&i.length<12&&o(i+T)},R=()=>{e==="recalling"&&o(i.slice(0,-1))},C=()=>{e==="recalling"&&o("")};return L.useEffect(()=>{let T;return e==="memorizing"&&l>0?T=setTimeout(()=>c(l-1),1e3):e==="memorizing"&&l===0&&w(),()=>clearTimeout(T)},[e,l]),n.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t&&n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(al,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Digital Challenge"}),n.jsx("p",{className:"text-gray-600",children:"Memorize 12 digits in 30 seconds, then recall them!"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Round"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:f})]})]}),e==="memorizing"&&n.jsxs("div",{className:"flex items-center gap-2 text-orange-600",children:[n.jsx(nr,{className:"w-5 h-5"}),n.jsxs("span",{className:"text-xl font-bold",children:[l,"s"]})]})]}),e==="menu"&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx(UN,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Digital Memory Challenge"}),n.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Using any technique you like, spend up to 30 seconds memorizing the row of 12 digits on the calculator display. When time is up, cover them and write them out in order as accurately as you can."})]}),f>0&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"text-lg font-bold text-blue-600",children:["Total Score: ",f," digits across ",h-1," rounds"]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Average: ",Math.round(f/(h-1))," digits per round"]})]}),n.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),f>0?`Start Round ${h}`:"Start Challenge"]})]}),e==="memorizing"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Study these digits carefully!"}),n.jsxs("div",{className:"text-orange-600 font-medium mb-4",children:["Time remaining: ",l," seconds"]})]}),n.jsx("div",{className:"bg-gray-800 rounded-xl p-6 max-w-2xl mx-auto",children:n.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:n.jsx("div",{className:"font-mono text-3xl text-green-400 text-center tracking-widest",children:s})})}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200 max-w-md mx-auto",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",n.jsx("strong",{children:"Memory Tips:"})," Try grouping digits, creating patterns, or using visualization techniques!"]})}),n.jsx("button",{onClick:w,className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"I'm Ready to Recall"})]})]}),e==="recalling"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Now enter the digits from memory!"}),n.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Progress: ",i.length,"/12 digits entered"]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 max-w-2xl mx-auto",children:[n.jsx("div",{className:"bg-green-900 rounded-lg p-4 mb-4",children:n.jsx("div",{className:"font-mono text-3xl text-green-400 text-center tracking-widest",children:v?i.padEnd(12,"_"):s})}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[[7,8,9,4,5,6,1,2,3].map(T=>n.jsx("button",{onClick:()=>E(T.toString()),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:T},T)),n.jsx("button",{onClick:C,className:"bg-red-600 hover:bg-red-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"Clear"}),n.jsx("button",{onClick:()=>E("0"),className:"bg-gray-600 hover:bg-gray-500 text-white rounded-lg h-12 text-lg font-semibold transition-colors",children:"0"}),n.jsx("button",{onClick:R,className:"bg-orange-600 hover:bg-orange-500 text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:""}),n.jsx("button",{onClick:A,disabled:i.length!==12,className:"bg-green-600 hover:bg-green-500 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg h-12 text-sm font-semibold transition-colors",children:"Submit"})]})]}),n.jsx("div",{className:"text-center",children:n.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 max-w-md mx-auto",children:n.jsx("p",{className:"text-sm text-blue-800",children:"Use the calculator buttons to input the sequence you memorized. Take your time and be as accurate as possible!"})})})]}),e==="result"&&d&&n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"mb-4",children:[d.percentage>=80?n.jsx(Dr,{className:"w-16 h-16 text-green-500 mx-auto mb-2"}):n.jsx(Ti,{className:"w-16 h-16 text-orange-500 mx-auto mb-2"}),n.jsxs("div",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Score: ",d.correct,"/",d.total," (",d.percentage,"%)"]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 max-w-2xl mx-auto",children:[n.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Digit-by-digit comparison:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"font-mono text-lg",children:[n.jsx("span",{className:"text-gray-500",children:"Correct: "}),n.jsx("span",{className:"text-green-600 tracking-widest",children:s})]}),n.jsxs("div",{className:"font-mono text-lg",children:[n.jsx("span",{className:"text-gray-500",children:"Your answer: "}),n.jsx("span",{className:"tracking-widest",children:s.split("").map((T,k)=>{const P=i[k]||"_",D=P===T;return n.jsx("span",{className:D?"text-green-600":"text-red-600",children:P},k)})})]})]})]}),n.jsxs("div",{className:"flex gap-3 justify-center",children:[n.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[n.jsx(mi,{className:"w-5 h-5"}),"Next Round"]}),n.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700 transition-colors",children:[n.jsx(io,{className:"w-5 h-5"}),"Reset Game"]})]})]})]})]})},UUe=()=>{const t=Nc(),e=xi();return t.pathname==="/dashboard"?n.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:n.jsx("div",{className:"relative",children:n.jsxs("button",{onClick:()=>e("/dashboard/games"),className:"h-16 w-16 rounded-full shadow-2xl bg-gradient-to-br from-fuchsia-500 via-purple-600 to-indigo-600 hover:from-fuchsia-500 hover:via-purple-700 hover:to-indigo-700 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 relative group","aria-label":"Open games menu",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-fuchsia-500 via-purple-600 to-indigo-600 animate-ping opacity-20"}),n.jsx(ene,{className:"h-8 w-8 relative z-10"}),n.jsx("div",{className:"absolute bottom-full mb-2 px-2 py-1 rounded-md bg-gray-900 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"Games"})]})})}):null},JH=()=>{const t=xi(),{gameKey:e}=iW();return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"px-4 sm:px-6 md:px-8 pt-6",children:n.jsxs("button",{onClick:()=>t(e?"/dashboard/games":"/dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white shadow-md hover:shadow-lg border border-gray-200 text-gray-700 hover:text-gray-900 transition-all duration-200",children:[n.jsx(al,{className:"w-4 h-4"}),e?"Back to Games":"Back to Dashboard"]})}),e&&n.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-6",children:n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[e==="memory"&&n.jsx(CUe,{}),e==="math"&&n.jsx(kUe,{}),e==="words"&&n.jsx(EUe,{}),e==="smiley-circles"&&n.jsx(TUe,{}),e==="mind-training"&&n.jsx(MUe,{}),e==="reshaped"&&n.jsx(PUe,{}),e==="map-identifier"&&n.jsx(DUe,{}),e==="facial-recall"&&n.jsx(RUe,{}),e==="calculator-games"&&n.jsx(OUe,{}),e==="grocery"&&n.jsx(IUe,{}),e==="calculator-memory"&&n.jsx(FUe,{}),e==="digital-challenge"&&n.jsx(BUe,{})]})}),!e&&n.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-6",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-6xl mx-auto",children:[n.jsxs("div",{className:"col-span-1 row-span-2 bg-gradient-to-br from-yellow-300 to-orange-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative overflow-hidden border-2 border-white/20",onClick:()=>t("/dashboard/games/mind-training"),style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx("div",{className:"absolute top-2 right-2 w-32 h-32 border-6 border-orange-400 rounded-full opacity-50 transform rotate-12 hover:rotate-45 transition-transform duration-700",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}}),n.jsx("div",{className:"absolute top-8 right-8 w-28 h-28 border-6 border-blue-500 rounded-lg opacity-50 transform -rotate-12 hover:rotate-12 transition-transform duration-700",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}}),n.jsx("div",{className:"absolute top-2 left-2 text-5xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"text-lg font-medium text-gray-800 mb-2 drop-shadow-sm",children:"Play"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1 drop-shadow-sm",children:"MIND Training"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2 drop-shadow-sm",children:"Games"}),n.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"On the Go..."}),n.jsxs("div",{className:"flex gap-4 mt-8",children:[n.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full border-4 border-red-600 transform hover:scale-110 transition-transform duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-lg border-4 border-blue-600 transform hover:scale-110 transition-transform duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}})]})]})]}),n.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-purple-300 to-purple-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative border-2 border-white/20",onClick:()=>t("/dashboard/games/smiley-circles"),style:{boxShadow:"0 20px 40px -12px rgba(147, 51, 234, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),n.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Smiley"}),n.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Circles"}),n.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Guess The emotions of the emojis"}),n.jsxs("div",{className:"flex gap-3 mb-3",children:[n.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),n.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),n.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),n.jsx("span",{className:"text-4xl transform hover:scale-125 transition-transform duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""})]}),n.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 rounded-full h-3 w-16 shadow-lg",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"}})]}),n.jsxs("div",{className:"col-span-1 row-span-2 bg-gradient-to-br from-gray-300 to-gray-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 relative overflow-hidden border-2 border-white/20",onClick:()=>t("/dashboard/games/map-identifier"),style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx("div",{className:"absolute top-2 left-2 text-5xl opacity-20 transform hover:rotate-45 transition-transform duration-700",children:""}),n.jsx("div",{className:"absolute right-4 top-4 w-32 h-40 transform hover:scale-110 transition-transform duration-500",children:n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-400 to-orange-600 opacity-70 transform hover:rotate-3 transition-transform duration-500",style:{clipPath:"polygon(20% 10%, 80% 15%, 90% 40%, 85% 70%, 60% 85%, 40% 90%, 15% 80%, 10% 50%, 15% 20%)",filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"}})}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Map Identifier"}),n.jsx("div",{className:"text-sm text-gray-700 mb-6 max-w-32 drop-shadow-sm",children:"Guess different maps around the world and increase geographic knowledge"}),n.jsx("div",{className:"absolute bottom-6",children:n.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg transform hover:scale-105 transition-transform duration-300",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"},children:"Level: Medium"})})]})]}),n.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/dashboard/games/facial-recall"),style:{boxShadow:"0 20px 40px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),n.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Facial Recall"}),n.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Memorize the names associated with the faces"}),n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full border-3 border-orange-600 transform hover:scale-110 hover:rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full border-3 border-blue-600 transform hover:scale-110 hover:-rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}}),n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-full border-3 border-green-600 transform hover:scale-110 hover:rotate-3 transition-all duration-300",style:{filter:"drop-shadow(4px 4px 8px rgba(0,0,0,0.4))"}})]})]}),n.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-green-300 to-green-400 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/dashboard/games/digital-challenge"),style:{boxShadow:"0 20px 40px -12px rgba(34, 197, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),n.jsx("div",{className:"text-xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"Digital"}),n.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Challenge"}),n.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Memorize 12 digits in 30 seconds"}),n.jsxs("div",{className:"bg-gradient-to-b from-gray-700 to-gray-900 rounded-lg p-3 mb-3 transform hover:scale-105 transition-transform duration-300",style:{filter:"drop-shadow(6px 6px 12px rgba(0,0,0,0.4))"},children:[n.jsx("div",{className:"bg-gradient-to-b from-green-800 to-green-900 rounded p-2 text-center",style:{filter:"drop-shadow(inset 0 2px 4px rgba(0,0,0,0.3))"},children:n.jsx("span",{className:"font-mono text-green-400 text-sm drop-shadow-sm",children:"123456789012"})}),n.jsx("div",{className:"grid grid-cols-3 gap-1 mt-2",children:[7,8,9,4,5,6,1,2,3].map(r=>n.jsx("div",{className:"bg-gradient-to-b from-gray-500 to-gray-700 rounded text-white text-sm text-center py-1 transform hover:scale-110 transition-transform duration-200",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"},children:r},r))})]})]}),n.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-gray-200 to-gray-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/dashboard/games/reshaped"),style:{boxShadow:"0 20px 40px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:rotate-45 transition-transform duration-700",children:""}),n.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"RESHAPED"}),n.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Games design for kids to understand geometric shapes"}),n.jsxs("div",{className:"flex gap-3 mb-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded transform rotate-12 hover:rotate-45 hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),n.jsx("div",{className:"w-0 h-0 border-l-6 border-r-6 border-b-12 border-l-transparent border-r-transparent border-b-blue-500 hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"}}),n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full relative hover:scale-110 transition-all duration-300",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:n.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})]}),n.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 rounded-full h-3 w-16 shadow-lg",style:{filter:"drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"}})]}),n.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-blue-200 to-blue-300 rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 p-6 cursor-pointer transform hover:scale-105 hover:-translate-y-2 border-2 border-white/20",onClick:()=>t("/dashboard/games/grocery"),style:{boxShadow:"0 20px 40px -12px rgba(59, 130, 246, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx("div",{className:"absolute top-2 right-2 text-4xl opacity-20 transform hover:scale-110 transition-transform duration-300",children:""}),n.jsx("div",{className:"text-xl font-bold text-gray-800 mb-3 drop-shadow-sm",children:"Grocery"}),n.jsx("div",{className:"text-sm text-gray-700 mb-4 drop-shadow-sm",children:"Spend time memorizing given grocery list and shop efficiently"}),n.jsxs("div",{className:"flex gap-3 mb-3",children:[n.jsx("span",{className:"text-4xl transform hover:scale-125 hover:rotate-6 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),n.jsx("span",{className:"text-4xl transform hover:scale-125 hover:-rotate-6 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""}),n.jsx("span",{className:"text-4xl transform hover:scale-125 hover:rotate-3 transition-all duration-300 cursor-pointer",style:{filter:"drop-shadow(3px 3px 6px rgba(0,0,0,0.4))"},children:""})]})]}),n.jsxs("div",{className:"col-span-1 bg-gradient-to-br from-pink-300 to-red-300 rounded-3xl shadow-2xl p-6 opacity-70 cursor-not-allowed border-2 border-white/20 relative overflow-hidden",style:{boxShadow:"0 20px 40px -12px rgba(244, 63, 94, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx("div",{className:"absolute top-2 right-2 text-5xl opacity-30 transform hover:scale-110 transition-transform duration-300",children:""}),n.jsxs("div",{className:"absolute top-6 left-6 flex gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"200ms"}}),n.jsx("div",{className:"w-3 h-3 bg-white rounded-full opacity-40 animate-pulse",style:{animationDelay:"400ms"}})]}),n.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-2 drop-shadow-sm",children:"More Games Coming"}),n.jsx("div",{className:"text-sm text-gray-700 drop-shadow-sm",children:"Stay tuned for exciting new games!"}),n.jsx("div",{className:"mt-4 bg-white/30 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-white/60 to-white/80 h-full rounded-full w-1/3 animate-pulse"})})]})]})})]})},QH="http://localhost:5000",zUe=()=>{const[t,e]=L.useState([]),[r,s]=L.useState(!1),a=async()=>{try{s(!0);const l=await(await fetch(`${QH}/api/nif/students/archived`,{headers:{"Content-Type":"application/json",authorization:`Bearer ${localStorage.getItem("token")}`}})).json();e(Array.isArray(l)?l:[])}catch(o){console.error("Failed to load archived students:",o),alert("Failed to load archived students.")}finally{s(!1)}};L.useEffect(()=>{a()},[]);const i=()=>{window.location.href=`${QH}/api/nif/students/archived/export`};return n.jsx("div",{className:"min-h-screen p-8 bg-yellow-50",children:n.jsxs("div",{className:"max-w-6xl mx-auto bg-white p-6 rounded-xl shadow",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-yellow-700",children:"Archived Students"}),n.jsxs("button",{onClick:i,className:"bg-amber-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[n.jsx(vW,{size:16}),"Download CSV"]})]}),n.jsxs("table",{className:"w-full border border-yellow-200 rounded-lg",children:[n.jsx("thead",{className:"bg-yellow-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 text-left",children:"Name"}),n.jsx("th",{className:"p-3 text-left",children:"Course"}),n.jsx("th",{className:"p-3 text-left",children:"Batch"}),n.jsx("th",{className:"p-3 text-left",children:"Passed Out"}),n.jsx("th",{className:"p-3 text-left",children:"Paid"}),n.jsx("th",{className:"p-3 text-left",children:"Archived At"})]})}),n.jsxs("tbody",{children:[r&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500",children:"Loading archived students..."})}),!r&&t.map(o=>{var l;return n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"p-3",children:o.studentName}),n.jsx("td",{className:"p-3",children:o.course}),n.jsx("td",{className:"p-3",children:o.batchCode}),n.jsx("td",{className:"p-3",children:o.passedOutYear}),n.jsxs("td",{className:"p-3",children:["",(l=o.feeSummary)==null?void 0:l.totalPaid]}),n.jsx("td",{className:"p-3",children:o.archivedAt?new Date(o.archivedAt).toLocaleDateString():"-"})]},o._id)}),!r&&t.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"text-center py-6 text-gray-500",children:"No archived students yet."})})]})]})]})})};function $Ue(){return n.jsxs(nte,{children:[n.jsxs(IN,{children:[n.jsx(Yt,{path:"/",element:n.jsx(sae,{})}),n.jsx(Yt,{path:"/dashboard",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/home",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/ai-learning",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/ai-learning-courses",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/ai-learning-tutor",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/academics",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/assignments",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/assignments-journal",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/assignments-academic-alcove",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/results",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/schedule",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/routine",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/attendance",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/communication",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/chat",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/teacherfeedback",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/excuse-letter",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/noticeboard",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/wellness",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/wellbeing",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/achievements",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/profile",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/dashboard/themecustomizer",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(ra,{})})}),n.jsx(Yt,{path:"/signup",element:n.jsx(aae,{})}),n.jsx(Yt,{path:"/complaint",element:n.jsx(dq,{})}),n.jsx(Yt,{path:"/admin/*",element:n.jsx(Vn,{allowedRoles:["Admin"],children:n.jsx(DIe,{})})}),n.jsx(Yt,{path:"/principal",element:n.jsx(Vn,{allowedRoles:["Principal","Admin"],children:n.jsx(D9e,{})})}),n.jsx(Yt,{path:"/profile",element:n.jsx(lq,{})}),n.jsx(Yt,{path:"/parents/*",element:n.jsx(Vn,{allowedRoles:["Parent","Admin"],children:n.jsx(Y9e,{})})}),n.jsx(Yt,{path:"/teachers/*",element:n.jsx(Vn,{allowedRoles:["Teacher","Admin"],children:n.jsx(NUe,{})})}),n.jsx(Yt,{path:"/feedback",element:n.jsx(SUe,{})}),n.jsx(Yt,{path:"/feedback/thank-you",element:n.jsx(_Ue,{})}),n.jsx(Yt,{path:"/meet-the-developer",element:n.jsx(AUe,{})}),n.jsx(Yt,{path:"/dashboard/games",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(JH,{})})}),n.jsx(Yt,{path:"/dashboard/games/:gameKey",element:n.jsx(Vn,{allowedRoles:["Student","Admin"],children:n.jsx(JH,{})})}),n.jsx(Yt,{path:"/admin/archived-students",element:n.jsx(Vn,{allowedRoles:["Admin"],children:n.jsx(zUe,{})})})]}),n.jsx(UUe,{})]})}HZ.createRoot(document.getElementById("root")).render(n.jsx($Ue,{}));export{es as _,l2 as c,ns as g};
